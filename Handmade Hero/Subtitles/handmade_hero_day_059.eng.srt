1
00:00:00,500 --> 00:00:01,500
Start recording.

2
00:00:02,500 --> 00:00:04,000
Hello everyone and welcome to handmade hero.

3
00:00:04,000 --> 00:00:09,700
The show Rico to complete game live on Twitch with no libraries.

4
00:00:09,700 --> 00:00:10,300
No engine.

5
00:00:10,300 --> 00:00:12,400
No nothing really, just our own code.

6
00:00:12,700 --> 00:00:16,700
And we are right in the middle of doing our sort of engine design

7
00:00:16,700 --> 00:00:17,300
work.

8
00:00:17,500 --> 00:00:19,400
We are designing our own engine here.

9
00:00:19,700 --> 00:00:23,800
We kind of have some of the parts that we need specced out so far kind

10
00:00:23,800 --> 00:00:27,800
of kind of pro tip in place, but we haven't really tackled some of the

11
00:00:28,000 --> 00:00:31,200
entity stuff that we need to get sorted out before we start working on

12
00:00:31,200 --> 00:00:31,500
things.

13
00:00:31,500 --> 00:00:31,900
Like

14
00:00:32,800 --> 00:00:34,600
The renderer the animation system.

15
00:00:34,800 --> 00:00:37,800
And so what I want to do is today, I'm kind of going to go through and

16
00:00:37,800 --> 00:00:39,700
start to play with entities a little bit.

17
00:00:40,100 --> 00:00:42,300
We don't have anything specific in mind, but we just want to kind of

18
00:00:42,300 --> 00:00:45,900
start playing with them and see what sorts of stuff we need in the

19
00:00:45,900 --> 00:00:48,400
entities to make them work properly.

20
00:00:48,800 --> 00:00:51,900
And to allow us to build world's the way that we want to build them

21
00:00:52,200 --> 00:00:54,300
and just try to get a feel for what's going to be required because

22
00:00:54,300 --> 00:00:56,300
that will kind of inform our design decisions.

23
00:00:56,400 --> 00:00:59,000
As we go forward, and let us know what the engine actually needs to do

24
00:00:59,000 --> 00:01:01,900
in terms of supporting the stuff that we're going to want.

25
00:01:02,600 --> 00:01:04,400
And so we're just gonna start playing around that and we'll see where

26
00:01:04,400 --> 00:01:04,800
it goes.

27
00:01:04,800 --> 00:01:08,400
I suspect this will take us several days because we'll want to build

28
00:01:08,400 --> 00:01:11,700
lots of different like, sort of example, test sort of things in here

29
00:01:12,400 --> 00:01:15,700
and we kind of have to see how each of them plays out before we can

30
00:01:15,700 --> 00:01:18,500
really start to make decisions about what we want the engine to do for

31
00:01:18,500 --> 00:01:21,900
us because we just do one or two different types of enemies will

32
00:01:21,900 --> 00:01:24,800
probably miss some things that are important to some other types of

33
00:01:24,800 --> 00:01:26,700
entities that work different ways and that sort of stuff.

34
00:01:29,100 --> 00:01:31,000
In addition kind of all wrapped up in this.

35
00:01:31,700 --> 00:01:34,500
We also kind of have one other small decision to make, which is, if

36
00:01:34,500 --> 00:01:37,600
everything is an entity or if there's going to be other things that

37
00:01:37,600 --> 00:01:42,100
are not quite full status citizens, like that, aren't all the way

38
00:01:42,100 --> 00:01:46,100
entities, and that sort of stuff, like, you know, do we want the

39
00:01:46,100 --> 00:01:50,300
grasses and the rocks on the ground to be entities, or is it too

40
00:01:50,300 --> 00:01:51,400
expensive to store those entities in?

41
00:01:51,400 --> 00:01:55,500
Are we going to need some sort of intermediate representation for

42
00:01:55,500 --> 00:01:56,200
those guys?

43
00:01:56,200 --> 00:01:57,400
That's, that's halfway.

44
00:01:58,400 --> 00:02:01,600
Sort of lesser than an entity if you will, so that's, we're going to

45
00:02:01,600 --> 00:02:02,200
do today.

46
00:02:02,600 --> 00:02:06,400
If you have pre-ordered, the game on handmade hero dot-org, using the

47
00:02:06,400 --> 00:02:07,500
pre order button.

48
00:02:08,100 --> 00:02:10,400
Then you should have gotten the link in your email, which has

49
00:02:10,699 --> 00:02:13,000
basically a download page, that download page allows you to download

50
00:02:13,000 --> 00:02:16,300
the source code and that source code consists of a series of zip

51
00:02:16,300 --> 00:02:16,800
files.

52
00:02:17,000 --> 00:02:21,000
What you want to do is you want to grab a day 58 zip file because here

53
00:02:21,000 --> 00:02:23,400
on day 59, that's the source code that we are starting from.

54
00:02:23,400 --> 00:02:27,100
So, grab 5058 zip file, unzip it to a directory and you'll be exactly

55
00:02:27,100 --> 00:02:27,900
where I am.

56
00:02:28,300 --> 00:02:28,900
Right now.

57
00:02:29,700 --> 00:02:33,500
And where am I right now is always the first question of the day.

58
00:02:34,000 --> 00:02:35,100
And where am I right now?

59
00:02:35,100 --> 00:02:37,800
Is we had just finished our spatial partition for entities.

60
00:02:38,200 --> 00:02:39,900
We had thrown some trees in there.

61
00:02:40,300 --> 00:02:43,200
And of course, we are not actually sorting our entities yet.

62
00:02:43,200 --> 00:02:46,200
So we get some sort of nonsensical results, which is like, obviously

63
00:02:46,200 --> 00:02:49,700
intuitively this tree should occlude, you know, the player, but it

64
00:02:49,700 --> 00:02:50,500
doesn't.

65
00:02:50,500 --> 00:02:54,300
Similarly, like, there's places where the player looks like.

66
00:02:54,300 --> 00:02:55,800
He should be included in show.

67
00:02:55,800 --> 00:02:58,100
He should include a tree, but doesn't like right there.

68
00:02:58,300 --> 00:02:59,800
right, and that's

69
00:03:00,000 --> 00:03:00,900
You're rendering things.

70
00:03:00,900 --> 00:03:04,200
So I'm not sure if I actually care about that too much, but we might

71
00:03:04,200 --> 00:03:07,200
want to you might want to address that again as well.

72
00:03:07,200 --> 00:03:10,300
Sometimes seeing, which is basically just a sort of our entities in

73
00:03:10,300 --> 00:03:13,500
terms of what order they should be drawn in just to fix that.

74
00:03:13,500 --> 00:03:14,000
So, I don't know.

75
00:03:14,000 --> 00:03:16,000
That's kind of on the table is something that may happen.

76
00:03:16,000 --> 00:03:17,400
When I get too annoyed with it.

77
00:03:17,600 --> 00:03:18,700
We know what needs to be done.

78
00:03:18,700 --> 00:03:22,100
It's not a big deal, but just when we do it, if it starts to make me

79
00:03:22,100 --> 00:03:25,300
too grumpy than that's, you know, it's got a, it's got to be fixed

80
00:03:25,300 --> 00:03:26,700
before I can go do things.

81
00:03:26,700 --> 00:03:29,500
That might be more important to do at any given time.

82
00:03:30,300 --> 00:03:35,700
Okay, so I guess some things just to start with just really some basic

83
00:03:35,700 --> 00:03:36,300
stuff.

84
00:03:36,700 --> 00:03:39,100
What I'd like to do is just start playing with dropping some more

85
00:03:39,100 --> 00:03:40,000
entities in here.

86
00:03:40,200 --> 00:03:44,600
Maybe, what I'll do trying to trying to think of what the what the

87
00:03:44,600 --> 00:03:48,500
smartest way to approach it is, maybe what I'll do is like, write some

88
00:03:48,500 --> 00:03:53,500
simple things like just put in another entity, another copy of the

89
00:03:53,500 --> 00:03:57,300
player, for example, who just kind of follows the player around.

90
00:03:57,300 --> 00:03:59,900
So, you know, when the player goes somewhere that other entity will

91
00:04:00,100 --> 00:04:02,600
All the play around because that's going to be a reasonable amount of

92
00:04:02,600 --> 00:04:06,500
code that may take a several days to do actually, to work out exactly

93
00:04:06,500 --> 00:04:07,600
how we want to store stuff like that.

94
00:04:07,600 --> 00:04:12,500
Because for example, we may find that we want to do like pathfinding

95
00:04:12,500 --> 00:04:15,100
or something like we may want to we may want to do something like when

96
00:04:15,200 --> 00:04:19,399
I come up around here, you know in the entity is over here.

97
00:04:19,500 --> 00:04:22,800
We may want him to be smart enough to like find this opening in the

98
00:04:22,800 --> 00:04:25,800
trees and walk through it as opposed to just like bumping into the

99
00:04:25,800 --> 00:04:27,800
trees stupidly or something like this, right?

100
00:04:28,700 --> 00:04:29,900
So that's a good example of that.

101
00:04:30,000 --> 00:04:32,600
And similarly with that with that same code.

102
00:04:32,900 --> 00:04:34,100
At the same time.

103
00:04:34,100 --> 00:04:36,300
I'll probably bring up some kind of monster.

104
00:04:36,300 --> 00:04:40,300
So something that like attacks the player for example, and maybe give

105
00:04:40,300 --> 00:04:44,100
the player like a hit animation, like a, not a hit animation, but like

106
00:04:44,100 --> 00:04:44,600
a hit key.

107
00:04:44,600 --> 00:04:47,500
So you can swipe, you know, at the monster and we'll just try to get

108
00:04:47,500 --> 00:04:48,200
something like that going.

109
00:04:48,200 --> 00:04:51,500
So we'll have a, you know, the player, a familiar, a monster and the

110
00:04:51,500 --> 00:04:54,900
ability for them to interact in some way and that'll kind of allow me

111
00:04:54,900 --> 00:04:58,600
to start a start to see what I want in terms of systems that will

112
00:04:58,600 --> 00:04:59,900
allow me to construct those things.

113
00:05:00,100 --> 00:05:05,400
Not having to worry a super lot about what's going on right without

114
00:05:05,400 --> 00:05:08,200
having to worry about, like, the integration effort or whatever that's

115
00:05:08,200 --> 00:05:09,000
required in it.

116
00:05:10,200 --> 00:05:11,400
So, let's think about this.

117
00:05:12,400 --> 00:05:13,800
Let's think about how we want to do this.

118
00:05:14,200 --> 00:05:14,700
Okay.

119
00:05:15,100 --> 00:05:16,800
So I'm gonna go ahead and load up the editor here.

120
00:05:18,300 --> 00:05:21,700
Like I said this, this this should be relatively complicated because

121
00:05:21,700 --> 00:05:23,400
I'm imagining that we want something.

122
00:05:23,800 --> 00:05:27,100
Once we start to actually want real features, like the things not to

123
00:05:27,100 --> 00:05:28,400
be totally stupid.

124
00:05:28,600 --> 00:05:29,900
It's going to get relatively complicated.

125
00:05:32,500 --> 00:05:32,900
Okay.

126
00:05:34,900 --> 00:05:39,700
So I guess what I'd like to do now is I'd like to say that, you know,

127
00:05:39,700 --> 00:05:42,700
we're going to we're going to put down maybe a monster in that first

128
00:05:42,700 --> 00:05:43,000
room.

129
00:05:43,000 --> 00:05:44,800
Let's say, just as a test.

130
00:05:44,800 --> 00:05:47,700
I'll put down, you know, the monster and the familiar.

131
00:05:48,200 --> 00:05:49,900
We'll both go in that first room.

132
00:05:50,600 --> 00:05:55,200
So what we could use, we could use the new camera position, right?

133
00:05:55,600 --> 00:05:58,900
We could use that new camera position as a way of figuring out where

134
00:05:58,900 --> 00:05:59,800
those guys should go.

135
00:06:00,200 --> 00:06:03,000
And then I also obviously already have in here sort of.

136
00:06:03,000 --> 00:06:06,400
We had a very simple concept of what an entity was.

137
00:06:06,400 --> 00:06:06,600
Right?

138
00:06:06,600 --> 00:06:10,600
We had Heroes and we had walls that's all we had so far, but I could

139
00:06:10,600 --> 00:06:13,300
go ahead and in here and add an entity type.

140
00:06:13,500 --> 00:06:15,000
That's just our test familiar.

141
00:06:15,000 --> 00:06:15,400
Right?

142
00:06:15,400 --> 00:06:17,400
And I could add another entity type.

143
00:06:17,600 --> 00:06:20,100
That was like our test monster, right?

144
00:06:21,200 --> 00:06:24,300
That would be pretty reasonable to do.

145
00:06:24,500 --> 00:06:29,000
And now if I want to, I can go ahead and add as low entity types,

146
00:06:29,000 --> 00:06:29,300
right?

147
00:06:29,300 --> 00:06:33,400
I can go ahead and add those in using our add low density function.

148
00:06:33,500 --> 00:06:36,900
So if I want to, I could make a function here that that adds one of

149
00:06:36,900 --> 00:06:37,400
these guys.

150
00:06:37,400 --> 00:06:42,500
So if I add a monster, right, I can go ahead and do that and the

151
00:06:42,500 --> 00:06:45,800
monster, I guess we'll just continue that sort of the trend that we

152
00:06:45,800 --> 00:06:50,800
have been doing where I take Tile locations, right?

153
00:06:51,600 --> 00:06:55,400
And we add things at those Tile locations because that seems, you

154
00:06:55,400 --> 00:06:59,000
know, as good at anything at this point when we start to get more into

155
00:06:59,000 --> 00:07:00,200
like, how we want to build the world.

156
00:07:00,200 --> 00:07:02,900
We may change that but for now, it seems totally fine.

157
00:07:03,700 --> 00:07:08,100
So all I got to do here is I guess do exactly what I was doing.

158
00:07:08,100 --> 00:07:10,800
Where I where I get out the entity stuff.

159
00:07:10,800 --> 00:07:13,800
What I'm wondering here is if this can't be collapse a little bit like

160
00:07:13,800 --> 00:07:17,100
I might as well just get the low energy directly after I do it.

161
00:07:17,100 --> 00:07:19,900
Do any people typically use the entity index.

162
00:07:19,900 --> 00:07:20,800
I guess they do sometimes.

163
00:07:20,900 --> 00:07:21,100
Times.

164
00:07:21,100 --> 00:07:22,300
They kinda need to know that.

165
00:07:22,300 --> 00:07:24,000
I wonder if add low entity, though.

166
00:07:24,000 --> 00:07:25,400
Should just return both.

167
00:07:25,400 --> 00:07:28,000
I guess what I'm thinking is ADD low entity.

168
00:07:28,500 --> 00:07:33,500
Maybe should just have a low entity, you know, something like this new

169
00:07:33,500 --> 00:07:34,900
low entity, right?

170
00:07:34,900 --> 00:07:35,900
Or something like that.

171
00:07:36,400 --> 00:07:39,900
And it just has, I guess I could call it.

172
00:07:39,900 --> 00:07:44,000
Add low entity result, will be more consistent naming with what we had

173
00:07:44,000 --> 00:07:48,900
before and that'll just have whatever its index was its low index and

174
00:07:48,900 --> 00:07:49,800
also its pointer.

175
00:07:49,800 --> 00:07:50,800
So the

176
00:07:51,000 --> 00:07:53,400
The Entity low, right?

177
00:07:53,400 --> 00:07:57,500
Or maybe I'll just call that low so I could do something like that.

178
00:07:57,600 --> 00:08:00,600
Maybe that makes a little bit more sense to me because then I can put

179
00:08:00,600 --> 00:08:03,500
this in here and that way when you call this just a little more

180
00:08:03,500 --> 00:08:04,800
convenient, right?

181
00:08:05,200 --> 00:08:09,100
So the result right is going to start out, I guess.

182
00:08:09,100 --> 00:08:10,900
Let's see here at the end of the index.

183
00:08:11,200 --> 00:08:13,300
We're always asserting that it's actually valid.

184
00:08:13,500 --> 00:08:16,000
So, to some degree, that's that's relatively straightforward.

185
00:08:16,000 --> 00:08:16,200
I guess.

186
00:08:16,200 --> 00:08:18,200
I could even do it down here.

187
00:08:18,300 --> 00:08:20,800
So I could say the result Dot Low.

188
00:08:20,900 --> 00:08:22,400
Whoa, equals entity low.

189
00:08:23,500 --> 00:08:26,000
Right, and it's here.

190
00:08:27,200 --> 00:08:29,500
Kind of feeling cramped with my typing.

191
00:08:29,600 --> 00:08:30,100
There we go.

192
00:08:30,900 --> 00:08:37,600
And then my result low index is going to be entity index like so.

193
00:08:38,400 --> 00:08:42,299
So if I go ahead and return that instead, now all of these people who

194
00:08:42,299 --> 00:08:45,800
get both things can just do it in one go and they don't have to

195
00:08:45,800 --> 00:08:49,700
constantly be doing all this, this nonsense and so we can just do it

196
00:08:49,700 --> 00:08:50,100
this way.

197
00:08:50,100 --> 00:08:50,800
I suppose.

198
00:08:50,900 --> 00:08:55,500
Oops, just do it this way where we do that and now we don't have to

199
00:08:55,500 --> 00:08:56,400
call that anymore.

200
00:08:56,400 --> 00:08:56,900
And this is

201
00:08:57,000 --> 00:08:58,400
just entity.

202
00:08:58,400 --> 00:08:58,900
Low.

203
00:09:00,000 --> 00:09:05,100
This is entity dot low index, like so and that can go ahead and

204
00:09:05,100 --> 00:09:07,900
return, you know, it could even return just this.

205
00:09:08,000 --> 00:09:08,600
Although for now.

206
00:09:08,600 --> 00:09:09,600
I guess I won't do that.

207
00:09:09,600 --> 00:09:14,300
We'll see if anyone actually uses that in that way.

208
00:09:14,300 --> 00:09:16,900
In fact, I guess I could check right now to see what they're doing.

209
00:09:17,500 --> 00:09:18,800
Yeah, it doesn't look like they actually use it.

210
00:09:18,800 --> 00:09:20,100
So for now we'll just leave it that way.

211
00:09:20,100 --> 00:09:23,700
But it could be something easy to do is just pass this on, right?

212
00:09:23,700 --> 00:09:27,100
Pass it on as we go and that sort of seems a little compelling.

213
00:09:27,200 --> 00:09:27,600
Anyway.

214
00:09:28,200 --> 00:09:29,800
So now if I'm going to do this instead,

215
00:09:30,000 --> 00:09:31,000
Of doing these two things.

216
00:09:31,000 --> 00:09:32,600
I'll just do this right here, right?

217
00:09:32,600 --> 00:09:33,400
Like that.

218
00:09:34,000 --> 00:09:36,900
And this will add an entity type monster and it'll add at that

219
00:09:36,900 --> 00:09:37,600
location.

220
00:09:38,000 --> 00:09:42,600
Now, I don't actually know what the entity monsters, height and width

221
00:09:42,600 --> 00:09:46,500
should be, I guess I'll just use the same as we were using for the

222
00:09:46,500 --> 00:09:47,500
player for now.

223
00:09:47,900 --> 00:09:51,500
And they will collide for now too, because I feel like that just makes

224
00:09:51,500 --> 00:09:51,900
sense.

225
00:09:52,500 --> 00:09:55,100
And I guess, maybe, we'll start the trend, what the hell?

226
00:09:55,300 --> 00:09:59,200
Let's go ahead and start the trend where we go ahead and, and return

227
00:09:59,200 --> 00:09:59,800
The Entity.

228
00:10:00,100 --> 00:10:01,600
As it was like that.

229
00:10:03,400 --> 00:10:07,300
And this will be Adler entity result.

230
00:10:07,700 --> 00:10:10,000
So that'll be Loops.

231
00:10:10,400 --> 00:10:15,200
That will be just returning that and same thing with the wall.

232
00:10:15,200 --> 00:10:20,100
That'll do it this way, and that'll return that entity here.

233
00:10:20,200 --> 00:10:20,700
Oops.

234
00:10:20,900 --> 00:10:26,300
And Trinity, whatever that is, and there we go with this.

235
00:10:26,400 --> 00:10:29,800
Okay, so that'll go away and these will become dots.

236
00:10:30,300 --> 00:10:31,700
So and let's take a look.

237
00:10:32,200 --> 00:10:33,000
There's anything else we

238
00:10:33,200 --> 00:10:34,700
Fix their lips gonna fix that.

239
00:10:34,700 --> 00:10:35,100
Oops.

240
00:10:35,400 --> 00:10:36,100
That's no good.

241
00:10:37,300 --> 00:10:42,900
Yeah, and add player is just could just get low index directly off of

242
00:10:42,900 --> 00:10:43,100
it.

243
00:10:43,100 --> 00:10:44,200
And so that's done.

244
00:10:44,200 --> 00:10:46,700
And this is all good now.

245
00:10:46,800 --> 00:10:48,800
All right, so that's all good.

246
00:10:49,500 --> 00:10:55,100
And we should go ahead and add one of our monsters now, because we

247
00:10:55,100 --> 00:10:55,600
can.

248
00:10:56,000 --> 00:11:01,500
So when we add this in, I guess what we would do is say, oh, I don't

249
00:11:01,500 --> 00:11:01,900
know.

250
00:11:05,700 --> 00:11:09,200
We know that this is where the camera is.

251
00:11:09,700 --> 00:11:14,400
So, I guess what I'll say, I'll do something like camera tile X.

252
00:11:15,200 --> 00:11:15,600
This

253
00:11:18,000 --> 00:11:19,300
Camera shy.

254
00:11:21,300 --> 00:11:23,900
like this, and

255
00:11:25,100 --> 00:11:26,800
Camera tile Z.

256
00:11:27,500 --> 00:11:28,200
There you go.

257
00:11:28,500 --> 00:11:32,300
Camera tile X camera, Tau Y and Camera.

258
00:11:33,700 --> 00:11:39,100
Tile Z like so and so that way if I want to do an ad monster, I can

259
00:11:39,100 --> 00:11:41,900
just kind of put him somewhere near the camera, you know, plus

260
00:11:41,900 --> 00:11:42,600
something, right?

261
00:11:42,600 --> 00:11:43,200
I can just do it.

262
00:11:43,200 --> 00:11:47,700
Like camera tile y plus 2, plus 2, or something like that, right?

263
00:11:48,100 --> 00:11:53,200
Something relatively simple and that will I believe take one of those.

264
00:11:53,200 --> 00:11:57,400
So that will add our monster to the world, I think.

265
00:12:00,700 --> 00:12:02,700
This actually takes that.

266
00:12:02,800 --> 00:12:03,400
There we go.

267
00:12:04,200 --> 00:12:08,400
So if I run this, I feel like yeah, I get that now.

268
00:12:08,400 --> 00:12:08,800
Okay.

269
00:12:08,800 --> 00:12:10,200
I'm not sure though.

270
00:12:10,500 --> 00:12:12,400
That seems a little bit busted.

271
00:12:12,400 --> 00:12:16,600
I don't understand why that is what I expected him to be a tree

272
00:12:16,600 --> 00:12:18,300
because that's the only other thing we draw right now.

273
00:12:18,300 --> 00:12:21,200
So we have to go add the ability to draw monsters as different things.

274
00:12:21,600 --> 00:12:23,800
But why did he only appear?

275
00:12:24,800 --> 00:12:25,800
Oh, duh.

276
00:12:25,900 --> 00:12:28,900
I know why again, set camera is.

277
00:12:28,900 --> 00:12:30,200
Of course, the thing that actually

278
00:12:30,300 --> 00:12:31,200
Does the work.

279
00:12:31,200 --> 00:12:35,400
If you never call set camera, then low entities can't be brought in to

280
00:12:35,400 --> 00:12:36,100
the set.

281
00:12:36,300 --> 00:12:38,800
And I wonder if that's a good thing or a bad thing.

282
00:12:39,000 --> 00:12:40,000
I don't really know.

283
00:12:41,800 --> 00:12:44,400
We might have to to think about that a little bit.

284
00:12:44,400 --> 00:12:48,900
Like when we add something do we need to then check to see if it's

285
00:12:48,900 --> 00:12:50,300
inside the camera bounds to know.

286
00:12:50,300 --> 00:12:52,700
Whether maybe at the time we added it.

287
00:12:53,400 --> 00:12:56,400
It should be added into the system, right?

288
00:12:57,900 --> 00:13:00,100
And I don't know that's that's like a pretty

289
00:13:00,800 --> 00:13:06,300
that's a pretty difficult question to answer actually, so, you know,

290
00:13:06,300 --> 00:13:14,500
maybe I'll go into add low entity and just say to do, do we need to

291
00:13:14,500 --> 00:13:22,800
have a begin and Paradigm for adding entities so that they can be

292
00:13:22,800 --> 00:13:30,100
brought into the hiset when they are added and are in the

293
00:13:30,300 --> 00:13:33,100
Camera region, right?

294
00:13:34,000 --> 00:13:35,900
So you understand what was happening there, right?

295
00:13:37,100 --> 00:13:40,500
Basically, what happened is I was I do that one set camera call at the

296
00:13:40,500 --> 00:13:42,900
end to sort of set things up and that's what brings everything into

297
00:13:42,900 --> 00:13:43,900
the high entity set.

298
00:13:43,900 --> 00:13:47,800
Until there is a player on the screen set camera will never be called

299
00:13:47,800 --> 00:13:52,300
again because the camera hasn't moved and so until I hit the spacebar

300
00:13:52,300 --> 00:13:55,800
and actually make a player that will start causing a camera to called

301
00:13:56,300 --> 00:14:00,100
there is no reason why that guy will ever come on screen, right?

302
00:14:00,200 --> 00:14:00,500
Right.

303
00:14:00,500 --> 00:14:02,800
And so until I actually have the player.

304
00:14:03,000 --> 00:14:04,500
That's the only thing that will bring him on.

305
00:14:05,200 --> 00:14:09,000
So now that should be fixed because I believe I moved him below the

306
00:14:09,000 --> 00:14:10,100
set camera, did I?

307
00:14:10,400 --> 00:14:14,600
Yes, so now it should actually be there the whole time which it is.

308
00:14:14,900 --> 00:14:15,600
So that's what we want.

309
00:14:15,600 --> 00:14:18,500
But again, just something to be aware of not sure if we really care

310
00:14:18,500 --> 00:14:19,100
too much about that.

311
00:14:19,100 --> 00:14:20,000
It's easy to fix.

312
00:14:20,600 --> 00:14:22,400
But I'm not sure what our, what our Paradigm.

313
00:14:22,400 --> 00:14:22,700
Like I said.

314
00:14:22,700 --> 00:14:23,500
It's going to be for that.

315
00:14:23,500 --> 00:14:24,200
Exactly.

316
00:14:24,800 --> 00:14:26,200
So, yeah, so that's about it.

317
00:14:27,600 --> 00:14:28,000
Okay.

318
00:14:29,700 --> 00:14:35,700
Moving on, I guess what I would say is we might as well try drawing

319
00:14:35,700 --> 00:14:38,000
this as something a little more recognizable.

320
00:14:39,100 --> 00:14:42,400
And so we kind of just have we don't have any sort of Rhyme or Reason

321
00:14:42,400 --> 00:14:43,300
to how our drawing things.

322
00:14:43,300 --> 00:14:45,700
And I don't necessarily know that we want to address that now because

323
00:14:45,700 --> 00:14:48,500
I feel like we want to address that kind of more when we start working

324
00:14:48,500 --> 00:14:49,300
with animation.

325
00:14:50,000 --> 00:14:54,500
So what I might do is just the most basic thing here, which is switch

326
00:14:54,500 --> 00:14:59,200
on the low entity type and then go ahead and check to see

327
00:14:59,500 --> 00:14:59,900
What a?

328
00:15:00,000 --> 00:15:04,300
We is is the type draw each one different.

329
00:15:04,400 --> 00:15:05,600
So we've got any type.

330
00:15:05,600 --> 00:15:11,400
Well that will be drawn the way that we were drawing it as this like

331
00:15:11,400 --> 00:15:16,900
so and then the other thing we can do is go ahead and do an entity

332
00:15:16,900 --> 00:15:23,800
type monstar and monstar will you know have something else?

333
00:15:24,100 --> 00:15:27,500
I don't know that we care about the default case where if we don't

334
00:15:27,500 --> 00:15:28,300
know what it is.

335
00:15:28,500 --> 00:15:29,800
Normally I assert on something like

336
00:15:30,000 --> 00:15:33,100
That but in this case, well in this case, maybe I'll assert on it as

337
00:15:33,100 --> 00:15:33,400
well.

338
00:15:33,700 --> 00:15:37,500
So we'll do it assertion here where we're just say invalid code path,

339
00:15:37,600 --> 00:15:38,100
right?

340
00:15:39,400 --> 00:15:43,100
So basically, if we get to here, we know that we forgot one of our

341
00:15:43,100 --> 00:15:47,300
enemy types and I won't put in any type null as well.

342
00:15:47,500 --> 00:15:49,900
So that will remind us of where accidentally looping over and drawing

343
00:15:49,900 --> 00:15:50,600
the nullity.

344
00:15:51,300 --> 00:15:54,100
But so now if we get to monstar, we need to draw something.

345
00:15:54,300 --> 00:15:59,300
I think, what I'll probably do is maybe just draw, you know, like

346
00:16:00,800 --> 00:16:02,900
Something like the Hero bitmap.

347
00:16:03,800 --> 00:16:07,200
Let's do maybe just the Torso, right?

348
00:16:08,200 --> 00:16:13,200
Like so, and we also had a familiar to be not entity type familiar,

349
00:16:13,600 --> 00:16:14,100
right?

350
00:16:15,600 --> 00:16:20,100
And the entity type familiar, I think we'll just draw just just maybe

351
00:16:20,100 --> 00:16:21,700
the head.

352
00:16:23,000 --> 00:16:26,700
Like so, so we'll go ahead and try that out.

353
00:16:26,700 --> 00:16:30,300
And again, this code is just just totally garbage placeholder code.

354
00:16:30,500 --> 00:16:32,900
So as long as it works at all, I'm totally fine with it.

355
00:16:33,300 --> 00:16:35,300
We'll go ahead and do that there.

356
00:16:36,400 --> 00:16:39,400
So that point we should be.

357
00:16:39,400 --> 00:16:41,900
And in fact, I can pull this out for now because people are using it

358
00:16:41,900 --> 00:16:44,900
in general, even though, obviously not everyone will look up into hero

359
00:16:44,900 --> 00:16:46,900
bitmaps, just for our own convenience.

360
00:16:48,100 --> 00:16:50,300
So that should give us a monstar.

361
00:16:50,500 --> 00:16:50,900
That's yeah.

362
00:16:50,900 --> 00:16:52,600
That's just a little looks like a little

363
00:16:55,800 --> 00:17:00,300
It's just a little torso with no arms and legs.

364
00:17:00,400 --> 00:17:01,800
Yeah, you know, what are you gonna do?

365
00:17:01,800 --> 00:17:02,500
It's a monster.

366
00:17:03,200 --> 00:17:07,099
And I suppose we could also put a shadow in there for that guy while

367
00:17:07,099 --> 00:17:07,599
we're at it.

368
00:17:07,599 --> 00:17:11,400
So maybe these these guys, both get shadows and we have our ad

369
00:17:11,400 --> 00:17:12,099
monster.

370
00:17:12,599 --> 00:17:17,900
So we'll also do an ad familiar and the ad familiar is a little bit

371
00:17:17,900 --> 00:17:21,300
weird, because I'm not sure if the ad familiar should Collide, or if

372
00:17:21,300 --> 00:17:22,599
the ABS familiar is kind of a

373
00:17:22,700 --> 00:17:25,300
Floating thing, which doesn't really have to collide.

374
00:17:25,300 --> 00:17:28,900
So maybe the familiar can just do whatever it wants for now, just for

375
00:17:28,900 --> 00:17:31,200
now, eventually, maybe not.

376
00:17:33,500 --> 00:17:36,900
I think we probably want the concept of flying versus on the ground.

377
00:17:36,900 --> 00:17:41,300
And so that it would still collide with things that were full height,

378
00:17:41,300 --> 00:17:44,600
but it could float over things like, you know, that we're whatever.

379
00:17:44,800 --> 00:17:45,400
You know what I'm saying?

380
00:17:45,400 --> 00:17:45,700
You know what?

381
00:17:45,700 --> 00:17:48,200
I'm talking about standard gamey sorts of stuff, right?

382
00:17:48,800 --> 00:17:49,800
You know what I mean?

383
00:17:51,400 --> 00:17:56,700
So that to me looks relatively good with ADD familiar.

384
00:17:58,900 --> 00:17:59,800
I don't think I really need.

385
00:18:00,000 --> 00:18:05,300
Much else with it like so and so we can add the monster and we can add

386
00:18:05,300 --> 00:18:08,600
the familiar and then we will have both of those on the screen at the

387
00:18:08,600 --> 00:18:10,200
same time, which is always good.

388
00:18:11,400 --> 00:18:15,200
And we'll put this one kind of in the in the opposite on the opposite

389
00:18:15,200 --> 00:18:18,800
side and now they should both be there and there they are.

390
00:18:19,300 --> 00:18:26,400
So now what we need to do is we need to we have controller logic in

391
00:18:26,400 --> 00:18:29,200
there so that we can move ourselves around right.

392
00:18:29,200 --> 00:18:29,900
And you can see I'm

393
00:18:30,000 --> 00:18:30,400
Not colliding.

394
00:18:30,400 --> 00:18:32,600
With this guy could be said as Collide to false, but I am colliding

395
00:18:32,600 --> 00:18:33,900
with this guy because we said it's gliding.

396
00:18:33,900 --> 00:18:34,100
True.

397
00:18:34,100 --> 00:18:34,900
So that's good.

398
00:18:37,200 --> 00:18:42,800
What I need to do is set up some kind of a notion of when these people

399
00:18:43,100 --> 00:18:44,800
think about what they want to do, right?

400
00:18:44,800 --> 00:18:47,600
Because we don't need to think about what the player does really?

401
00:18:47,800 --> 00:18:51,400
Because we just use whatever the keyboard input or the joystick input

402
00:18:51,400 --> 00:18:55,300
is and that allows us to just, you know, know exactly what we should

403
00:18:55,300 --> 00:18:59,400
be, how we should be updating the player, but we now need some way of

404
00:18:59,400 --> 00:18:59,900
taking.

405
00:19:00,100 --> 00:19:03,900
Entities that are not the player and updating them, right?

406
00:19:04,000 --> 00:19:08,700
So what we want to do is is put in that structure and then what will

407
00:19:08,700 --> 00:19:14,500
do I guess is for are familiar, will kind of have a notion that maybe

408
00:19:14,500 --> 00:19:16,600
the familiar follows anything nearby.

409
00:19:16,600 --> 00:19:20,300
That's a player and if it maybe if it gets too far away, it stops

410
00:19:20,300 --> 00:19:21,600
following or something like that.

411
00:19:21,700 --> 00:19:24,400
I don't know if we want them to be permanently tagged to a particular

412
00:19:24,400 --> 00:19:25,600
player or not, but we'll see.

413
00:19:25,900 --> 00:19:27,000
And then the monstar will do.

414
00:19:27,000 --> 00:19:29,800
Similarly, if it sees a hero nearby it will try to

415
00:19:29,900 --> 00:19:31,000
Start attacking it.

416
00:19:31,000 --> 00:19:31,900
Maybe it'll have a bro.

417
00:19:31,900 --> 00:19:33,200
Give it a projectile or something.

418
00:19:33,200 --> 00:19:34,400
I don't know exactly what it will do.

419
00:19:35,100 --> 00:19:35,700
All right.

420
00:19:35,800 --> 00:19:37,100
So let's go ahead and do that.

421
00:19:37,500 --> 00:19:39,600
I guess we can leave the code running for now.

422
00:19:40,700 --> 00:19:46,200
And so the way we would do that is we already have the concept in our

423
00:19:46,200 --> 00:19:49,700
in our code here of looping, over the controllers, right?

424
00:19:49,700 --> 00:19:50,800
And moving the player.

425
00:19:51,200 --> 00:19:54,800
So then, what we would need is something where we actually go and loop

426
00:19:54,800 --> 00:19:58,300
over the high level entities and for every high level entity.

427
00:19:58,300 --> 00:19:59,800
We like update its position.

428
00:20:00,000 --> 00:20:04,400
Right now, I don't know exactly what we want to do in terms of the

429
00:20:04,400 --> 00:20:06,300
order of operations here.

430
00:20:08,500 --> 00:20:13,300
It's a little confusing because what I could do is I could do the

431
00:20:13,300 --> 00:20:16,800
update and the render for those high level entities in one pass

432
00:20:16,800 --> 00:20:17,100
really.

433
00:20:17,100 --> 00:20:19,400
And by the way, we can get rid of this entirely now, we don't even

434
00:20:19,400 --> 00:20:21,600
have a Tom have to draw anymore so that can go away.

435
00:20:22,200 --> 00:20:25,400
So when we update our high level entities and we've already got their

436
00:20:25,400 --> 00:20:26,600
high and low State here.

437
00:20:26,600 --> 00:20:29,700
I don't know, it might be fine to just go ahead and write.

438
00:20:29,900 --> 00:20:32,600
Here, do that update.

439
00:20:32,900 --> 00:20:34,700
Now, entity offset for frame.

440
00:20:34,900 --> 00:20:36,000
I thought we stopped using that.

441
00:20:36,000 --> 00:20:37,200
What does that even doing here?

442
00:20:37,700 --> 00:20:42,100
That's just, yeah, that's just leftover code, right?

443
00:20:42,800 --> 00:20:45,100
We're now doing that offset in the same.

444
00:20:45,100 --> 00:20:46,000
The set camera call.

445
00:20:46,800 --> 00:20:50,300
So if we go ahead and just say, like, let's start by just putting it

446
00:20:50,300 --> 00:20:52,600
here because we already have one Loop over everyone, and we've already

447
00:20:52,600 --> 00:20:53,200
pulled them in.

448
00:20:53,400 --> 00:20:55,100
So now would be a good place to do it.

449
00:20:55,200 --> 00:20:58,500
Let's say that we want to.

450
00:20:59,400 --> 00:20:59,800
Yeah.

451
00:21:00,000 --> 00:21:03,900
Say that we just want this to be our code, where we update the entity.

452
00:21:04,500 --> 00:21:06,200
So, let's go ahead and update this entity.

453
00:21:06,200 --> 00:21:09,900
Here will pass the high entity, and the low entity.

454
00:21:09,900 --> 00:21:12,200
And I believe we already have a structure for this though.

455
00:21:12,200 --> 00:21:12,800
Don't we?

456
00:21:13,000 --> 00:21:14,300
We've got this essentially.

457
00:21:14,700 --> 00:21:20,200
So what I'll do is I'll just say entity and that entity will have its

458
00:21:20,200 --> 00:21:25,400
low index equal to whatever the low index was which is that the

459
00:21:25,400 --> 00:21:28,200
entities low pointer will be below entity.

460
00:21:30,200 --> 00:21:33,400
And the end of the high will be the high entity.

461
00:21:33,900 --> 00:21:37,900
Like so, and then, we can just go ahead and update that, right?

462
00:21:38,000 --> 00:21:41,600
So we're update that, we know what our DT is, right?

463
00:21:41,700 --> 00:21:44,900
We pass it, the game world as well.

464
00:21:45,400 --> 00:21:48,300
So we're going to update the entity there and we're going to update it

465
00:21:48,300 --> 00:21:49,100
by this amount.

466
00:21:49,100 --> 00:21:53,300
So that's the amount of time that has elapsed and that seems

467
00:21:53,300 --> 00:21:53,800
reasonable.

468
00:21:56,100 --> 00:21:56,700
Right.

469
00:21:56,800 --> 00:21:57,900
So we'll start with that.

470
00:21:58,900 --> 00:22:00,900
Seems Seems plausible.

471
00:22:02,000 --> 00:22:06,600
So basically this just has to take an entity and it has two to

472
00:22:06,600 --> 00:22:07,600
actually do its update.

473
00:22:07,600 --> 00:22:08,800
Now, you know what though?

474
00:22:09,700 --> 00:22:11,600
Thinking about this a little bit further,

475
00:22:12,900 --> 00:22:16,300
I actually already am checking its type to to render it.

476
00:22:16,400 --> 00:22:21,000
So if I wanted to, I could do this, I could collapse this dispatch in

477
00:22:21,000 --> 00:22:22,200
sort of a more.

478
00:22:22,600 --> 00:22:25,800
I could probably make this a little bit smarter already actually.

479
00:22:26,100 --> 00:22:28,000
So maybe we'll go ahead and do that.

480
00:22:28,100 --> 00:22:29,700
Let's take a look at what's going on here.

481
00:22:30,400 --> 00:22:31,200
First of all, this

482
00:22:37,500 --> 00:22:39,300
First of all, this junk code.

483
00:22:40,600 --> 00:22:41,600
Jump code.

484
00:22:44,600 --> 00:22:47,600
I don't know what to do with this jump code that we threw in there at

485
00:22:47,600 --> 00:22:48,900
the in a Q&A one day.

486
00:22:48,900 --> 00:22:52,200
This is this is not yeah, this is not particularly great.

487
00:22:53,100 --> 00:22:54,700
So let's Loops.

488
00:22:55,000 --> 00:22:56,300
Let's go ahead and see what's going on here.

489
00:22:56,300 --> 00:22:58,300
So we've got player RGB.

490
00:22:58,300 --> 00:23:01,800
Those are those are not even being used anymore at all.

491
00:23:02,000 --> 00:23:03,000
We can get rid of those for.

492
00:23:03,000 --> 00:23:08,200
Now we have with the ground point is of this particular entity.

493
00:23:08,200 --> 00:23:12,800
That is not something that actually matters per entity.

494
00:23:13,100 --> 00:23:15,400
That's the same computation for everybody.

495
00:23:15,800 --> 00:23:20,200
So we could sort of consider that to be to be something that that's

496
00:23:20,200 --> 00:23:21,400
that's trivial to compute.

497
00:23:22,800 --> 00:23:24,600
That's kind of just transformed into that space.

498
00:23:24,600 --> 00:23:28,300
We've got the Z is done.

499
00:23:28,300 --> 00:23:28,400
Yeah.

500
00:23:28,400 --> 00:23:32,100
The standard way, the Z was done and then this is really just

501
00:23:32,100 --> 00:23:35,700
Computing for the rectangle, which is only drawn in like debug

502
00:23:35,700 --> 00:23:36,900
scenarios, right?

503
00:23:38,100 --> 00:23:38,800
Yeah.

504
00:23:39,200 --> 00:23:42,800
So I think what I might do is start to pull this

505
00:23:43,000 --> 00:23:46,100
Out into some more like slightly more logical thing.

506
00:23:46,100 --> 00:23:47,400
So let's take a look here.

507
00:23:47,600 --> 00:23:48,500
Hold on a second.

508
00:23:49,000 --> 00:23:52,100
I want to clean this up a little bit before we go any further, let's

509
00:23:52,100 --> 00:23:53,500
see, we're still doing everything right over here.

510
00:23:53,500 --> 00:23:58,900
Yeah, so the first thing I want to do is say, well, I don't think this

511
00:23:58,900 --> 00:23:59,800
jump code really

512
00:24:00,100 --> 00:24:01,500
Long's here at all.

513
00:24:01,600 --> 00:24:05,900
Obviously, I don't know why it's even here.

514
00:24:05,900 --> 00:24:06,700
It's updating.

515
00:24:06,700 --> 00:24:11,200
The equations of motion for this guy's Z, but really if it was going

516
00:24:11,200 --> 00:24:11,700
to do that.

517
00:24:11,700 --> 00:24:15,900
It should probably be in some kind of like, well, you know, I mean,

518
00:24:15,900 --> 00:24:18,600
now that I think about it, I guess, if everyone's under the influence

519
00:24:18,600 --> 00:24:21,100
of gravity, I suppose, that's fine.

520
00:24:22,500 --> 00:24:23,700
This, this is actually.

521
00:24:23,700 --> 00:24:24,300
All right.

522
00:24:24,300 --> 00:24:27,700
I mean, everyone could have their deezy updated with gravity.

523
00:24:27,700 --> 00:24:29,400
I mean, gravity applies to everybody.

524
00:24:31,900 --> 00:24:33,600
Yeah.

525
00:24:36,000 --> 00:24:36,700
All right.

526
00:24:36,900 --> 00:24:37,200
All right.

527
00:24:37,200 --> 00:24:38,200
Well, you know what?

528
00:24:38,200 --> 00:24:39,700
I guess I changed my mind.

529
00:24:40,000 --> 00:24:42,800
Well, we'll let it stay on there.

530
00:24:43,300 --> 00:24:46,700
So we'll call this Shadow Alpha and we'll just go ahead and leave that

531
00:24:46,700 --> 00:24:47,100
on there.

532
00:24:47,100 --> 00:24:50,400
I mean, if it works, it works, you know, don't don't kill it.

533
00:24:50,800 --> 00:24:56,100
So basically, this is just how we would update the Z for the guy.

534
00:24:56,100 --> 00:24:58,600
After we already did his regular updating.

535
00:25:00,800 --> 00:25:05,500
And I suppose that that could be baked into whatever equations of

536
00:25:05,500 --> 00:25:06,700
motion update, we do.

537
00:25:06,900 --> 00:25:11,100
So, maybe I could just have sort of a universal equations of motion

538
00:25:11,100 --> 00:25:15,400
update happen in here, for anyone who actually wants it.

539
00:25:15,400 --> 00:25:17,900
So I'd pull out the Collision detection stuff and that would kind of

540
00:25:17,900 --> 00:25:22,100
come in here and then we just have that happen and the Z would be

541
00:25:22,100 --> 00:25:24,800
rolled into it, seems reasonable.

542
00:25:25,200 --> 00:25:26,400
Guess, I don't see a real.

543
00:25:27,500 --> 00:25:29,400
Overwhelming reason why not to do it.

544
00:25:30,500 --> 00:25:34,000
And so yeah, I guess we could actually do that and similarly I could

545
00:25:34,000 --> 00:25:36,400
kind of make these things queue up a little bit.

546
00:25:36,400 --> 00:25:39,100
I could say whatever you want to draw.

547
00:25:40,400 --> 00:25:45,600
You just kind of say where those things were relative to you and then

548
00:25:45,600 --> 00:25:47,200
we'll draw them.

549
00:25:49,700 --> 00:25:50,200
Okay.

550
00:25:50,300 --> 00:25:52,100
Alright, let's go with that.

551
00:25:52,300 --> 00:25:53,600
So here's what I'm going to do.

552
00:25:55,100 --> 00:25:56,500
I'm gonna collapse these two things down.

553
00:25:57,800 --> 00:26:01,700
What I'm going to do is I'm going to say that we've got some kind of a

554
00:26:01,700 --> 00:26:02,900
rendering concept here.

555
00:26:03,500 --> 00:26:08,000
So I'm going to say that we've got something like, you know, something

556
00:26:08,000 --> 00:26:08,600
like this.

557
00:26:08,800 --> 00:26:16,200
I'm going to call it a a rendered piece or something, or an entity

558
00:26:16,200 --> 00:26:17,800
piece, right?

559
00:26:18,600 --> 00:26:19,200
I don't know.

560
00:26:20,100 --> 00:26:22,600
Entity visible piece.

561
00:26:22,600 --> 00:26:23,100
I don't know.

562
00:26:23,200 --> 00:26:23,900
Don't have a good.

563
00:26:24,000 --> 00:26:24,500
I have no.

564
00:26:24,900 --> 00:26:28,000
What the name of this should be, but for right now, it doesn't really

565
00:26:28,000 --> 00:26:28,300
matter.

566
00:26:28,600 --> 00:26:34,600
And essentially what that's going to be is it's going to be a piece of

567
00:26:34,600 --> 00:26:38,800
information that tells us exactly what I would draw.

568
00:26:38,900 --> 00:26:43,900
Offset from some magical Point like the players Grounds location.

569
00:26:44,200 --> 00:26:44,900
Right?

570
00:26:45,500 --> 00:26:51,700
And so, what I'll do is I'll say here, is that bitmap here are the

571
00:26:51,700 --> 00:26:52,800
offsets for it.

572
00:26:53,100 --> 00:26:54,200
So this is like

573
00:26:54,800 --> 00:26:59,200
A dxi, I guess I should say offset like this.

574
00:27:00,300 --> 00:27:03,600
We really, really need to put in some three dimensional vectors.

575
00:27:04,000 --> 00:27:08,400
It's getting long in the tooth and then we'll also say what the alpha

576
00:27:08,400 --> 00:27:09,600
was for it.

577
00:27:10,300 --> 00:27:12,800
So, you know, we got this Edge be visible piece and then I'll just

578
00:27:12,800 --> 00:27:17,200
make a really simple little stack here which just says pieces, right?

579
00:27:17,600 --> 00:27:20,900
And we'll say that, I don't know, things have eight pieces for now.

580
00:27:21,300 --> 00:27:22,800
This is again, totally random.

581
00:27:23,100 --> 00:27:26,900
No real concern for it, and we'll just say piece count, like so.

582
00:27:27,900 --> 00:27:29,800
And then for each one of these guys,

583
00:27:30,200 --> 00:27:34,300
As we go, in fact, I guess I could go one step further and say entity

584
00:27:34,400 --> 00:27:39,700
visible case group like this and that will actually just be these.

585
00:27:40,500 --> 00:27:41,100
There we go.

586
00:27:41,700 --> 00:27:43,200
Oops, not quite.

587
00:27:44,500 --> 00:27:48,900
Okay, and so for every one of those that we have empty visible Keys

588
00:27:48,900 --> 00:27:49,300
group.

589
00:27:51,100 --> 00:27:52,400
This is our peace grip.

590
00:27:53,200 --> 00:27:54,200
When we come in here.

591
00:27:54,200 --> 00:27:57,900
I will just change our drawbitmap calls to something that's

592
00:27:57,900 --> 00:28:00,200
essentially add piece.

593
00:28:00,400 --> 00:28:00,900
Right?

594
00:28:01,400 --> 00:28:05,700
So we're going to add a piece and each one of these things will be a

595
00:28:05,700 --> 00:28:06,700
tad piece call.

596
00:28:06,800 --> 00:28:09,800
And then at the end, we'll just Loop over them, right?

597
00:28:09,800 --> 00:28:12,100
Like so and we'll draw them.

598
00:28:12,700 --> 00:28:15,900
Okay, and what this will let me do is this will let me kind of split

599
00:28:15,900 --> 00:28:16,500
those out.

600
00:28:16,500 --> 00:28:20,200
And so that the update call can kind of side where it wants its stuff.

601
00:28:20,700 --> 00:28:22,900
And then at the end it kind of gets collapse down.

602
00:28:23,100 --> 00:28:25,900
And so that way we only have one piece of logic for each entity that

603
00:28:25,900 --> 00:28:28,400
both does the updating and the rendering, which I don't know.

604
00:28:28,500 --> 00:28:31,900
Like I said, feels like a little bit better to me at the time, but

605
00:28:31,900 --> 00:28:35,900
we'll see, it may end up being not what we want, and we'll rip it back

606
00:28:35,900 --> 00:28:36,300
at.

607
00:28:36,400 --> 00:28:37,000
So, let's see.

608
00:28:37,800 --> 00:28:42,000
So we've got our piece group here and it's got a count.

609
00:28:42,100 --> 00:28:42,300
I guess.

610
00:28:42,300 --> 00:28:44,100
I shouldn't bother saying piece count.

611
00:28:44,100 --> 00:28:45,300
Because we know that's what that is.

612
00:28:47,600 --> 00:28:53,100
So, we've got our count and we can Loop over it for each one of the

613
00:28:53,600 --> 00:28:54,600
pieces in it.

614
00:28:55,800 --> 00:29:01,300
Sarah, I will grab that piece out like so Peace Index.

615
00:29:01,500 --> 00:29:08,200
Yeah, and here's my piece group that, and in here I can now, say all

616
00:29:08,200 --> 00:29:09,600
right, what were the things that I needed?

617
00:29:09,600 --> 00:29:10,600
We've got the buffer.

618
00:29:10,700 --> 00:29:13,100
We've got the, the bitmap that we need.

619
00:29:13,400 --> 00:29:14,500
We know this is going to be.

620
00:29:14,500 --> 00:29:17,100
Oops, not bitmap torso, just bitmap.

621
00:29:18,100 --> 00:29:21,000
We know that we've got essentially wherever the thing was.

622
00:29:21,000 --> 00:29:23,200
So we've got these things, right?

623
00:29:23,900 --> 00:29:24,300
Whatever.

624
00:29:24,300 --> 00:29:24,900
These are will.

625
00:29:25,300 --> 00:29:27,800
Those after-the-fact down here.

626
00:29:29,500 --> 00:29:30,100
Right.

627
00:29:30,900 --> 00:29:33,700
And that will be our peace.

628
00:29:35,000 --> 00:29:43,700
This is our offset X groups like so, this is our our peace offset.

629
00:29:44,100 --> 00:29:44,900
Why?

630
00:29:47,700 --> 00:29:53,100
Yeah, and it's also plus the piece offset Z like so.

631
00:29:54,600 --> 00:29:59,200
And then in there, we need to bake in the offset by what the actual

632
00:29:59,600 --> 00:29:59,900
ground.

633
00:30:00,000 --> 00:30:00,600
Point is.

634
00:30:00,800 --> 00:30:04,200
So this is the entity ground Point here, X and Y.

635
00:30:05,100 --> 00:30:07,800
And we will go ahead and put those in there.

636
00:30:08,300 --> 00:30:11,000
And again, these are some pretty good candidates for vectorizing.

637
00:30:11,500 --> 00:30:12,800
Haven't really done it yet.

638
00:30:12,900 --> 00:30:15,700
But really, we should probably switch to 3D that's on my list of

639
00:30:15,700 --> 00:30:16,100
things to do.

640
00:30:16,100 --> 00:30:17,400
When we do the animation system.

641
00:30:17,400 --> 00:30:19,900
I think I'm kind of putting it off because we didn't really have to do

642
00:30:19,900 --> 00:30:23,400
it, but that'll be sort of, sort of web that has to happen.

643
00:30:24,000 --> 00:30:27,200
All right, and so, we also need a lineman on there, as well.

644
00:30:27,700 --> 00:30:29,800
So these offsets, I guess the offsets.

645
00:30:30,000 --> 00:30:33,200
It could just bake in the alignment now that I think about it,

646
00:30:33,200 --> 00:30:33,700
actually.

647
00:30:34,800 --> 00:30:42,500
So, so yeah, so why actually were, why were we placing?

648
00:30:47,000 --> 00:30:52,300
So yeah, if I think about this a little bit more carefully, we kind of

649
00:30:52,300 --> 00:30:55,100
have two things you want to collapse them.

650
00:30:55,100 --> 00:30:55,700
Both down.

651
00:30:55,700 --> 00:31:00,000
We have the alignment but the alignment can be collapsed down into the

652
00:31:00,000 --> 00:31:00,300
offset.

653
00:31:00,300 --> 00:31:03,100
If we replacing something, we don't need to have two different ways to

654
00:31:03,100 --> 00:31:03,800
place it.

655
00:31:04,100 --> 00:31:04,700
Right?

656
00:31:05,700 --> 00:31:07,500
And so we've really got two competing things.

657
00:31:07,500 --> 00:31:10,800
There's how you would want to move it relative to where you are.

658
00:31:11,000 --> 00:31:14,100
And then there's like how the bitmap was aligned.

659
00:31:14,800 --> 00:31:17,700
Separate from where you're sort of hot spotting it, right.

660
00:31:18,400 --> 00:31:23,200
So I'm going to say, I'm just going to go ahead and say, let's take a

661
00:31:23,200 --> 00:31:27,000
look at that drawbitmap call because all it's doing is subtracting

662
00:31:27,000 --> 00:31:27,900
those numbers out.

663
00:31:27,900 --> 00:31:28,500
Right?

664
00:31:28,600 --> 00:31:31,900
So maybe what I want to do is just eliminate that concept now and say

665
00:31:31,900 --> 00:31:33,700
that that's going to attract a little bit higher up.

666
00:31:33,700 --> 00:31:37,800
Just you know, one level back basically just get rid of that and say

667
00:31:37,800 --> 00:31:42,400
we're no longer doing that that happens at a slightly higher level to

668
00:31:42,400 --> 00:31:44,200
drop bitmap and that

669
00:31:44,300 --> 00:31:47,400
Way, when we pass it down, we've just passed it down those things

670
00:31:47,700 --> 00:31:48,800
preordained.

671
00:31:49,400 --> 00:31:51,100
So that seems a little smarter to me.

672
00:31:51,500 --> 00:31:55,600
That seems to be a more logical thing for us to do.

673
00:31:55,800 --> 00:31:59,600
Okay, and then obviously we have to do our peace Alpha as well.

674
00:32:00,800 --> 00:32:01,400
All right.

675
00:32:01,400 --> 00:32:03,900
So we've got our entity ground points there.

676
00:32:03,900 --> 00:32:06,400
We've got the Z which is going to be however high.

677
00:32:06,400 --> 00:32:09,600
He is going to is thing there and that's fine.

678
00:32:09,800 --> 00:32:15,000
So that actually would go in here I guess as well that would be

679
00:32:15,000 --> 00:32:16,300
concatenated on there.

680
00:32:16,300 --> 00:32:22,100
Whatever we said was the entity Z, I guess something like this, right?

681
00:32:22,100 --> 00:32:27,000
And the player left top and the entity with height are really for

682
00:32:27,000 --> 00:32:29,700
debugging only, so, for right now, we don't actually need those, but

683
00:32:29,700 --> 00:32:30,800
we might want to leave those in the

684
00:32:31,500 --> 00:32:34,000
Because we want to start drawing rectangles here to show like as a

685
00:32:34,000 --> 00:32:37,600
debug situation where somebody is maybe those come back into play.

686
00:32:38,600 --> 00:32:41,300
So what we're going to do here is we're going to do a push piece.

687
00:32:41,300 --> 00:32:41,900
Call.

688
00:32:43,300 --> 00:32:47,600
Those of you who know me know, I like a good push, like a good push

689
00:32:47,600 --> 00:32:48,200
call.

690
00:32:48,300 --> 00:32:49,000
I'm a pusher.

691
00:32:49,100 --> 00:32:49,600
It's true.

692
00:32:50,400 --> 00:32:51,700
Don't let anyone tell you otherwise.

693
00:32:52,100 --> 00:32:55,600
And so, these are just going to basically push pieces onto this little

694
00:32:55,700 --> 00:32:58,000
piece piece stack, right?

695
00:32:58,000 --> 00:32:59,800
It's kind of like a peace pipe, but it's a

696
00:33:00,000 --> 00:33:03,600
Stock in this case and nobody is getting high.

697
00:33:03,700 --> 00:33:10,500
So what we will do now is go ahead and make sure that we eliminate any

698
00:33:10,500 --> 00:33:15,700
of the things that we had before that, we're not necessary.

699
00:33:16,200 --> 00:33:17,600
So we really don't need.

700
00:33:17,600 --> 00:33:20,200
So basically, this is just always zeros.

701
00:33:20,200 --> 00:33:25,700
We don't have any offsets that we need to apply to our dude at all.

702
00:33:27,700 --> 00:33:31,700
In this particular case, we only have the alignment and that should be

703
00:33:31,700 --> 00:33:32,500
it, right?

704
00:33:32,500 --> 00:33:36,300
Because we don't have different pieces like hands or floating parts

705
00:33:36,300 --> 00:33:39,700
that attach everything was actually right at the origin.

706
00:33:39,700 --> 00:33:42,800
And then we have the alignment from the bitmap, which we pass along,

707
00:33:43,200 --> 00:33:45,400
and then we have the, the shadow Alpha.

708
00:33:46,100 --> 00:33:50,200
Now, what we could do here to is really this should be an x y and a z.

709
00:33:50,200 --> 00:33:53,500
So this should really be, you know, one of these, right?

710
00:33:53,500 --> 00:33:54,700
So this should be one of those.

711
00:33:55,300 --> 00:33:56,000
There we go.

712
00:33:57,300 --> 00:33:58,100
And so on.

713
00:33:58,700 --> 00:34:01,000
So these are the pieces that he would want.

714
00:34:01,300 --> 00:34:04,700
Similarly, we come down here, we can get rid of this as well.

715
00:34:04,700 --> 00:34:07,600
We'll put this down here with this guy that

716
00:34:09,400 --> 00:34:16,500
So oops gotta get out from behind my head and so yeah, that's about

717
00:34:16,500 --> 00:34:18,300
all I really wanted to do here.

718
00:34:19,300 --> 00:34:25,600
This is again, just a 0 0 and 0 and then it takes the 4080.

719
00:34:25,600 --> 00:34:29,600
Those could probably be wrapped up as V2 as well.

720
00:34:29,800 --> 00:34:30,199
Now.

721
00:34:30,199 --> 00:34:32,800
I think that would probably be reasonably, right.

722
00:34:33,000 --> 00:34:34,600
So maybe we'll do that next.

723
00:34:35,000 --> 00:34:38,699
Let's see to do alignments.

724
00:34:39,100 --> 00:34:41,100
As V2, right?

725
00:34:42,500 --> 00:34:44,699
In fact, I could go ahead and just do that directly.

726
00:34:45,000 --> 00:34:46,100
Let's just go ahead and do that.

727
00:34:46,300 --> 00:34:47,900
I'm going to go ahead and say, let's do that.

728
00:34:48,400 --> 00:34:52,100
So, this will take a V2 4080 like that.

729
00:34:52,500 --> 00:34:56,100
And these guys, I'll just have the hero bitmaps will just collapse

730
00:34:56,100 --> 00:35:01,200
those down into a line, like, so, and that'll, that'll be that.

731
00:35:02,000 --> 00:35:05,100
So, that all looks good.

732
00:35:05,200 --> 00:35:08,800
He's group again like this.

733
00:35:08,900 --> 00:35:13,700
this, and let's go ahead and

734
00:35:14,700 --> 00:35:17,200
Put in the standard unused stuff.

735
00:35:17,200 --> 00:35:19,200
Then we've got our hero bitmaps.

736
00:35:19,300 --> 00:35:19,700
Oops.

737
00:35:19,900 --> 00:35:22,000
That's no good here, a bit Maps a line.

738
00:35:22,700 --> 00:35:24,100
And there's that shadow Alpha.

739
00:35:25,200 --> 00:35:25,600
Okay.

740
00:35:25,600 --> 00:35:29,400
So yeah again, nothing not really doing anything, particularly

741
00:35:30,500 --> 00:35:34,000
interesting here just wrote transformation of the code so that it's

742
00:35:34,000 --> 00:35:37,200
just a little bit easier for me to manage what's going on.

743
00:35:37,900 --> 00:35:42,800
And these are all pushed piece calls push piece this piece which piece

744
00:35:45,200 --> 00:35:48,700
Peace, peace, lovely.

745
00:35:49,800 --> 00:35:51,000
And then these are just

746
00:35:52,900 --> 00:35:53,900
probably should have done this with.

747
00:35:53,900 --> 00:35:56,800
The macro was too lazy, too.

748
00:35:56,800 --> 00:35:57,100
Lazy.

749
00:35:57,100 --> 00:35:57,500
To think it through.

750
00:35:57,900 --> 00:35:58,600
It's true.

751
00:35:58,800 --> 00:35:59,900
I admit that.

752
00:36:00,000 --> 00:36:00,300
That.

753
00:36:01,300 --> 00:36:01,800
Okay.

754
00:36:02,600 --> 00:36:04,100
So that's all the stuff that we need there.

755
00:36:04,100 --> 00:36:08,300
But now, we need to go fix sort of our bitmap or loaded bitmap.

756
00:36:09,700 --> 00:36:12,600
If you remember, I just said, I want to change the alignment to

757
00:36:12,600 --> 00:36:14,500
actually being V2.

758
00:36:14,800 --> 00:36:16,600
So we're going to go ahead and say that that's a V2.

759
00:36:16,600 --> 00:36:23,100
Now, which means we'll have to actually fix the aligned here to be

760
00:36:23,200 --> 00:36:24,100
looking like this.

761
00:36:24,700 --> 00:36:27,400
Yeah, so that's that.

762
00:36:28,400 --> 00:36:29,300
and,

763
00:36:31,100 --> 00:36:34,200
Guess these are all the same, huh, so I could just do this.

764
00:36:39,800 --> 00:36:44,900
Shadow Alpha is this value here?

765
00:36:45,100 --> 00:36:45,700
Right?

766
00:36:45,800 --> 00:36:50,200
Shadow Alpha and of course, that's a little confusing because that one

767
00:36:50,400 --> 00:36:54,000
you really kind of want to know what it would actually be a little

768
00:36:54,000 --> 00:36:54,600
later on.

769
00:36:54,600 --> 00:36:57,200
So it's kind of like a deferred rendering thing that we're doing here.

770
00:36:57,200 --> 00:36:59,800
So I'm not sure that may have been a little bit of mistake love to

771
00:36:59,800 --> 00:37:03,900
think about how we want to want to kind of think that through.

772
00:37:04,200 --> 00:37:06,000
Because after we do the update,

773
00:37:07,300 --> 00:37:08,700
yeah, I mean, we could

774
00:37:12,400 --> 00:37:13,800
It's so hard to say.

775
00:37:14,500 --> 00:37:15,900
So you see what my dilemma is?

776
00:37:15,900 --> 00:37:21,300
I'm thinking now that maybe I didn't really need to do that because

777
00:37:21,300 --> 00:37:25,300
what I should possibly have done is just made a call that's like,

778
00:37:25,400 --> 00:37:28,600
okay, update, my equations of motion and you just call it here,

779
00:37:29,100 --> 00:37:33,300
instead of trying to make it so that you put the logic in here, and

780
00:37:33,300 --> 00:37:35,100
then the stuff executes outside.

781
00:37:38,100 --> 00:37:39,200
Did I make a mistake?

782
00:37:39,600 --> 00:37:41,900
Is it possible that we just don't need this extra?

783
00:37:42,000 --> 00:37:45,500
Because what I was doing was essentially deferring the rendering to

784
00:37:45,500 --> 00:37:48,500
later so that we could do some stuff in between it.

785
00:37:48,800 --> 00:37:52,000
But what I was really realizing as I could just put it in here

786
00:37:52,000 --> 00:37:52,400
directly.

787
00:37:52,400 --> 00:37:54,800
Well, I'll keep going down this path follows want to see, maybe it

788
00:37:54,800 --> 00:37:57,300
does make some things a little easier later, we'll find out.

789
00:37:57,500 --> 00:37:59,700
But for right now, I guess I should just finish what I did.

790
00:37:59,700 --> 00:38:03,300
Because then, at least I'll be able to see if it was smart or if it

791
00:38:03,300 --> 00:38:05,200
was stupid in a little more detail.

792
00:38:06,100 --> 00:38:08,700
So I think I did just about everything except for push peace.

793
00:38:10,300 --> 00:38:14,800
And so I just got to go Implement push piece and that's it, right?

794
00:38:15,000 --> 00:38:18,100
So push piece is up here.

795
00:38:18,200 --> 00:38:21,400
Either way, I'm glad we changed the V2s on the alignment so that's a

796
00:38:21,400 --> 00:38:26,100
good thing either way but we just may not have needed to do this push

797
00:38:26,100 --> 00:38:26,400
piece.

798
00:38:26,400 --> 00:38:29,200
Bit that may have just been unnecessary.

799
00:38:30,000 --> 00:38:34,200
So there's the group right here is the loaded bitmap.

800
00:38:35,000 --> 00:38:40,300
There's a bit where we're going to use here is the offset.

801
00:38:40,900 --> 00:38:44,700
Here's the offset Z and here is the alignment.

802
00:38:45,400 --> 00:38:49,200
So what we're going to do now is we're going to, you know, again just

803
00:38:49,200 --> 00:38:51,500
make sure that we've got room for this guy.

804
00:38:52,700 --> 00:38:55,800
So we'll make sure that the group piece count

805
00:38:56,700 --> 00:38:59,800
is less than the space that we have so that we're not going.

806
00:39:00,000 --> 00:39:05,700
Overflow it and then we'll go ahead and stick it onto the end of that

807
00:39:05,700 --> 00:39:06,100
guy.

808
00:39:06,500 --> 00:39:06,900
Right?

809
00:39:06,900 --> 00:39:12,600
And so here is our entity visible piece like so we can inline the sky

810
00:39:13,100 --> 00:39:14,600
so it can kind of fold away.

811
00:39:15,300 --> 00:39:16,700
So here's our piece.

812
00:39:18,600 --> 00:39:21,200
And then we will.

813
00:39:23,400 --> 00:39:25,600
I guess just fill these out.

814
00:39:25,700 --> 00:39:29,000
It doesn't seem to be anything particularly tricky about that.

815
00:39:29,000 --> 00:39:32,100
So there's our offset - the alignment again because we're folding

816
00:39:32,100 --> 00:39:34,500
those into one variable.

817
00:39:35,000 --> 00:39:39,100
So there's our offset Z and then our Alpha is our Alpha.

818
00:39:39,100 --> 00:39:42,200
Which we still need to put on as a default parameter since only some

819
00:39:42,200 --> 00:39:43,500
people pass it.

820
00:39:44,300 --> 00:39:46,200
Oh, I guess we don't really need to return anything.

821
00:39:46,900 --> 00:39:49,800
Let's just avoid and that's it.

822
00:39:49,900 --> 00:39:51,800
So, let's see.

823
00:39:52,700 --> 00:39:53,000
That's just

824
00:39:53,200 --> 00:39:53,900
Count.

825
00:39:55,200 --> 00:39:55,500
I guess.

826
00:39:55,500 --> 00:39:56,800
I really wanted to call it peace count.

827
00:39:56,800 --> 00:39:58,100
So maybe if I really wanted to call it.

828
00:39:58,100 --> 00:39:59,200
Peace count so badly.

829
00:39:59,300 --> 00:40:00,800
I was right the first time when I called it.

830
00:40:00,800 --> 00:40:01,500
Peace Camp.

831
00:40:01,600 --> 00:40:03,500
So let's go ahead and just change it in the other place.

832
00:40:04,500 --> 00:40:05,600
Let's see.

833
00:40:06,100 --> 00:40:07,500
Cannot convert argument one.

834
00:40:07,500 --> 00:40:09,900
Yes, that's because it's not pointing to the buffer anymore.

835
00:40:09,900 --> 00:40:10,600
There we go.

836
00:40:11,300 --> 00:40:15,500
And there is our piece count said we're going to do and then we also

837
00:40:15,500 --> 00:40:19,700
have, let's see here, 32 Peace Index.

838
00:40:22,000 --> 00:40:23,800
And it's less than P.

839
00:40:23,800 --> 00:40:25,300
Scooped up piece count.

840
00:40:26,100 --> 00:40:27,400
What are you saying?

841
00:40:27,500 --> 00:40:28,100
Peace?

842
00:40:28,100 --> 00:40:28,500
Potential.

843
00:40:28,500 --> 00:40:30,000
See a local variable?

844
00:40:30,000 --> 00:40:34,400
Oh, right, and we need to obviously set this guy's piece count at

845
00:40:34,400 --> 00:40:35,600
startup to be 0.

846
00:40:35,800 --> 00:40:36,500
Thank you compiler.

847
00:40:36,500 --> 00:40:37,200
That was handy.

848
00:40:37,800 --> 00:40:38,300
Oops.

849
00:40:38,900 --> 00:40:40,200
What did I didn't?

850
00:40:41,000 --> 00:40:41,700
I didn't remember.

851
00:40:41,700 --> 00:40:44,000
I saw the game running and we changed the layout of things there.

852
00:40:44,000 --> 00:40:47,300
That was not my intention, but I forgot.

853
00:40:47,400 --> 00:40:48,100
All right.

854
00:40:48,700 --> 00:40:49,700
So let's see here.

855
00:40:49,900 --> 00:40:51,500
Piece count is eight.

856
00:40:51,700 --> 00:40:52,700
How is that possible?

857
00:40:53,000 --> 00:40:53,900
What did I owe?

858
00:40:54,900 --> 00:40:59,500
You know why I put that in the wrong place, meant to put it here each

859
00:40:59,500 --> 00:40:59,900
time.

860
00:41:00,100 --> 00:41:04,000
So basically it's every entity just has its own like the, assert

861
00:41:04,000 --> 00:41:05,800
caught that they're all right.

862
00:41:05,800 --> 00:41:07,000
So now we're doing the exact same thing.

863
00:41:07,000 --> 00:41:10,300
We were doing nothing special, but we've now got it into those that

864
00:41:10,300 --> 00:41:11,500
sort of bucketed form.

865
00:41:12,500 --> 00:41:15,500
And so, now, what I can do is I can start to pull this apart a little

866
00:41:15,500 --> 00:41:17,500
bit more more cleanly here.

867
00:41:18,200 --> 00:41:21,000
So what I could do is start updating these guys actually in here.

868
00:41:21,000 --> 00:41:21,400
Now walls,

869
00:41:21,600 --> 00:41:22,600
Don't need any update.

870
00:41:22,600 --> 00:41:24,000
Familiars do need an update.

871
00:41:24,000 --> 00:41:27,700
So there'd be an update familiar call right like this and monster.

872
00:41:27,700 --> 00:41:30,600
So we'll have an update monster call, where I'll go ahead and call out

873
00:41:30,600 --> 00:41:33,500
to something that does a bunch of logic for those guys.

874
00:41:35,500 --> 00:41:39,600
And again, that'll just take the entity that we prepared and the game

875
00:41:39,600 --> 00:41:42,500
State and I guess it also probably wants that DT, huh.

876
00:41:43,300 --> 00:41:46,600
So we'll call that and we'll have our update monster calls well, and

877
00:41:46,600 --> 00:41:49,400
then we can actually started putting some code that those guys use.

878
00:41:49,700 --> 00:41:51,400
Now, this code right here, really?

879
00:41:51,600 --> 00:41:54,100
He wants to get executed later, right?

880
00:41:54,100 --> 00:41:56,800
And that's why I saying that, the shadow Alpha is a bit of a problem

881
00:41:57,100 --> 00:41:59,800
because the shadow Alpha really wants to be computed.

882
00:42:00,000 --> 00:42:02,100
After we figure out what the actual Z is.

883
00:42:02,500 --> 00:42:04,300
And so that was a little bit of a mistake.

884
00:42:04,400 --> 00:42:06,600
That was the thing that I was starting to think that maybe this was

885
00:42:06,600 --> 00:42:09,100
wrong because really what we should be doing is making utility

886
00:42:09,100 --> 00:42:12,500
function that computes these things and then you still do the draw

887
00:42:12,500 --> 00:42:13,100
call.

888
00:42:13,400 --> 00:42:14,200
I don't really know.

889
00:42:14,400 --> 00:42:15,300
It's a good question.

890
00:42:19,300 --> 00:42:21,200
And one that I'm not super prepared to answer.

891
00:42:22,300 --> 00:42:25,700
What we can do for now is compute our shadow Alpha incorrectly.

892
00:42:26,300 --> 00:42:30,600
So what I could do is say, oh, okay, you know, what will do is will

893
00:42:30,700 --> 00:42:32,400
will will make that.

894
00:42:33,600 --> 00:42:35,600
Be something that happens up here, right?

895
00:42:35,600 --> 00:42:40,300
So I'll just do like to do this is incorrect.

896
00:42:40,300 --> 00:42:44,200
Should be computed after update or something like that and we'll kind

897
00:42:44,200 --> 00:42:45,100
of think about that.

898
00:42:45,100 --> 00:42:47,400
But again, this is exactly why I'm doing this now is because I kind of

899
00:42:47,400 --> 00:42:52,000
want to see where and why various things should be happening.

900
00:42:52,800 --> 00:42:53,400
All right.

901
00:42:53,500 --> 00:42:56,300
So if we want to make these functions, now is just sort of some test

902
00:42:56,300 --> 00:42:57,500
functions that we can do.

903
00:42:58,300 --> 00:43:01,400
What I could do again is just make it so that it moves like towards

904
00:43:01,400 --> 00:43:03,200
the closest player or something like this, just

905
00:43:03,400 --> 00:43:08,700
The real simple just to see what happens and and, and we'll go from

906
00:43:08,700 --> 00:43:09,000
there.

907
00:43:09,100 --> 00:43:09,600
Right?

908
00:43:09,800 --> 00:43:11,800
So here's our update, familiar call.

909
00:43:12,200 --> 00:43:14,600
Here's our update monster call.

910
00:43:14,600 --> 00:43:16,100
So we should still come compile.

911
00:43:16,100 --> 00:43:20,700
Presumably, looks like I got a don't have DT anymore.

912
00:43:20,800 --> 00:43:22,400
Whereas my TT.

913
00:43:22,400 --> 00:43:23,100
There it is.

914
00:43:23,700 --> 00:43:25,400
So I've got put that up at the top.

915
00:43:26,000 --> 00:43:26,500
Here we go.

916
00:43:28,700 --> 00:43:31,800
And now our things are getting updated, but they just don't have any

917
00:43:31,800 --> 00:43:34,300
update logic of Interest, right?

918
00:43:34,400 --> 00:43:37,500
And so, you know, let's give them some update logic of Interest.

919
00:43:38,800 --> 00:43:44,200
Let's let's go ahead and say that we want to try and find that

920
00:43:44,200 --> 00:43:44,600
familiar.

921
00:43:44,600 --> 00:43:45,600
And this is the part.

922
00:43:46,600 --> 00:43:47,600
We want to try and find a hero.

923
00:43:47,600 --> 00:43:48,400
That's nearby.

924
00:43:48,500 --> 00:43:53,700
This is the part that I was saying kind of wants to to have a spatial

925
00:43:53,700 --> 00:43:57,500
partition for our high entities, instead of our low entities at this

926
00:43:57,500 --> 00:44:01,600
point, because if this guy's in the Hyatt do set, then when we got to

927
00:44:01,600 --> 00:44:04,700
go Loop over, we'd have to Loop over all of our high entities with

928
00:44:04,700 --> 00:44:08,300
just seems like it's entering into a bad N squared kind of

929
00:44:08,500 --> 00:44:09,100
And right.

930
00:44:09,900 --> 00:44:11,700
And so this is the other place that I was saying.

931
00:44:11,700 --> 00:44:15,300
We kind of want a spatial partition for our Heidi's as well, but we'll

932
00:44:15,300 --> 00:44:15,600
see.

933
00:44:16,000 --> 00:44:16,800
We'll see for now.

934
00:44:17,500 --> 00:44:20,300
So we're going to do go ahead and do the N squared route.

935
00:44:20,300 --> 00:44:24,000
We're going to say, let's Loop over all the high entities in the game

936
00:44:24,000 --> 00:44:28,400
State looking for somebody who is a hero, right?

937
00:44:28,400 --> 00:44:30,200
So what we're going to do is say, all right.

938
00:44:32,200 --> 00:44:33,700
I've got some test entity here.

939
00:44:33,800 --> 00:44:38,600
However, these star test entity or I guess I should say test.

940
00:44:38,600 --> 00:44:40,600
Hi, Andy, what's the?

941
00:44:41,200 --> 00:44:45,700
We should have a way and I don't know if we actually do, right?

942
00:44:46,900 --> 00:44:48,000
Get high entity.

943
00:44:48,200 --> 00:44:52,400
We kind of need the opposite thing here, which is the thing that

944
00:44:52,400 --> 00:44:53,400
chases.

945
00:44:54,400 --> 00:44:54,700
Yeah.

946
00:44:54,700 --> 00:44:57,800
So like this this function is lousy, right?

947
00:44:58,900 --> 00:44:59,800
Because that what that

948
00:45:00,000 --> 00:45:03,200
He does is that brings a guy into the high entity set?

949
00:45:03,500 --> 00:45:06,700
So it's really a force, low-to-high kind of a thing.

950
00:45:06,700 --> 00:45:07,600
That makes sense.

951
00:45:07,900 --> 00:45:09,400
This is really the wrong name.

952
00:45:09,500 --> 00:45:15,700
This is really get high empty as really Force entity into high or

953
00:45:15,700 --> 00:45:16,700
something like that.

954
00:45:16,700 --> 00:45:17,200
Right?

955
00:45:17,400 --> 00:45:18,200
That makes sense.

956
00:45:18,600 --> 00:45:21,100
I don't know if that makes any sense, but you see what I'm saying?

957
00:45:21,300 --> 00:45:21,900
Right?

958
00:45:22,400 --> 00:45:26,200
It's like forcing a low entity into the hiset, which is not the same

959
00:45:26,200 --> 00:45:26,500
thing.

960
00:45:27,200 --> 00:45:29,900
Whereas here what we might want to do is it would be nice if

961
00:45:30,000 --> 00:45:35,500
If we had an easy way of saying to like get both, right or and I guess

962
00:45:35,500 --> 00:45:37,800
what I could do is I could say, all right.

963
00:45:41,000 --> 00:45:47,300
Entity test entity equals, you know.

964
00:45:50,400 --> 00:45:55,400
Entity entity from high index like this.

965
00:45:55,800 --> 00:45:56,300
There we go.

966
00:45:56,300 --> 00:45:59,200
That seems like a reasonable way to say it any from high index and

967
00:45:59,200 --> 00:46:02,100
then I go ahead and say that, and that gets me back both because since

968
00:46:02,100 --> 00:46:04,600
I know it's a high, I know I'll get back.

969
00:46:04,600 --> 00:46:07,000
Both entities always because there's always the low as well.

970
00:46:08,100 --> 00:46:11,100
Alright, so if I'm doing that then I can go ahead and test here I can

971
00:46:11,100 --> 00:46:13,400
say if the test entity type right?

972
00:46:16,000 --> 00:46:17,400
Is a hero type.

973
00:46:19,900 --> 00:46:20,300
This.

974
00:46:23,000 --> 00:46:28,000
If the tennis enemy low type is a hero type, then I know that I want

975
00:46:28,000 --> 00:46:31,400
to follow it, I guess I want to take a look.

976
00:46:34,300 --> 00:46:39,100
So maybe I'll look for whichever ones closest so I'll say you know,

977
00:46:39,100 --> 00:46:47,600
closest he wrote D or something like this, and I'll have right closest

978
00:46:47,600 --> 00:46:48,200
hero.

979
00:46:48,200 --> 00:46:54,400
And so what I'll do is I'll say the closest hero distance is going to

980
00:46:54,400 --> 00:46:58,300
be equal to some Maximum search radius that I don't want to look

981
00:46:58,300 --> 00:46:59,800
outside of right.

982
00:46:59,800 --> 00:47:04,100
And so maybe, you know, I am looking in a 10 meter radius or

983
00:47:04,400 --> 00:47:04,900
Like this.

984
00:47:05,100 --> 00:47:08,900
So if somebody goes if it's outside of 10 meters I don't look anymore

985
00:47:09,000 --> 00:47:10,100
something like that, right?

986
00:47:10,100 --> 00:47:13,100
So that's the maximum radius, you know.

987
00:47:14,200 --> 00:47:18,000
Ten meter maximum search or something like that.

988
00:47:18,300 --> 00:47:21,900
So we go through here and we say I want to be able to compute the

989
00:47:21,900 --> 00:47:22,900
distance between these two.

990
00:47:22,900 --> 00:47:26,900
Of course that's very easy for us to do and I guess we will say is

991
00:47:26,900 --> 00:47:27,700
close to 0 D.

992
00:47:27,700 --> 00:47:32,600
Let's do it squared as well because that way we don't have to do

993
00:47:32,600 --> 00:47:35,700
square roots in here which you know, are Superfluous to a test.

994
00:47:35,700 --> 00:47:39,600
Because obviously which whatever value would be lowest squared is also

995
00:47:39,600 --> 00:47:42,400
the same as being the lowest value if it was square rooted so we don't

996
00:47:42,400 --> 00:47:43,200
actually care either way.

997
00:47:43,200 --> 00:47:43,800
We just want the

998
00:47:44,000 --> 00:47:46,400
Just one, we don't need to know what the actual length is.

999
00:47:46,600 --> 00:47:48,600
So that will allow us to do a length squared.

1000
00:47:48,900 --> 00:47:50,500
Remember if you remember from our vectors.

1001
00:47:52,500 --> 00:47:53,900
We've got our length squared here.

1002
00:47:54,000 --> 00:47:56,500
I can always compute the length, square root of the distance between

1003
00:47:56,500 --> 00:47:57,200
any two entities.

1004
00:47:57,200 --> 00:47:59,800
I can just take the two entities positions and

1005
00:48:00,000 --> 00:48:01,400
Track them, right?

1006
00:48:01,800 --> 00:48:07,100
So I can basically say the test entity, p- my entity P.

1007
00:48:07,300 --> 00:48:09,600
That's the distance between us, right?

1008
00:48:10,800 --> 00:48:14,800
And so, if I take a look at the distance between us, that will give me

1009
00:48:15,800 --> 00:48:22,100
the, the test, the test, D'squared the test distance squared, and now,

1010
00:48:22,100 --> 00:48:25,500
I can say if the closest distance squared is actually greater than

1011
00:48:25,500 --> 00:48:29,700
that, meaning that whatever I've found so far is further away than

1012
00:48:29,700 --> 00:48:29,900
this.

1013
00:48:30,000 --> 00:48:32,200
This becomes the new best one, right?

1014
00:48:32,600 --> 00:48:36,100
And so closest hero becomes the test entity.

1015
00:48:36,500 --> 00:48:40,100
So that just grabs, whatever that closest one is of that particular

1016
00:48:40,100 --> 00:48:40,500
type.

1017
00:48:41,200 --> 00:48:45,800
And then, if I had one, right, if closest hero, you know, entity

1018
00:48:45,800 --> 00:48:47,400
indexes are actually is something there.

1019
00:48:47,400 --> 00:48:50,600
I could just say, if the high, if it's got a high pointer, then what I

1020
00:48:50,600 --> 00:48:53,700
want to do is I just want to move towards it, right.

1021
00:48:53,800 --> 00:48:55,100
I just want to move towards it.

1022
00:48:57,700 --> 00:49:02,800
So it seems logical to me and I guess I don't actually know but it

1023
00:49:02,800 --> 00:49:07,200
seems logical to me that what we should probably do is at that point.

1024
00:49:07,200 --> 00:49:10,600
We could just recycle I guess I should implement this function as

1025
00:49:10,600 --> 00:49:10,900
well.

1026
00:49:11,400 --> 00:49:15,100
Just recycle our function for moving the player to move the familiar

1027
00:49:15,100 --> 00:49:18,000
because it should probably move with the exact same rules.

1028
00:49:18,000 --> 00:49:21,500
I would think right seems pretty straightforward.

1029
00:49:23,200 --> 00:49:24,300
Relatively uncontroversial.

1030
00:49:24,800 --> 00:49:28,400
So, what I need to do here though is I need to be able to do this

1031
00:49:28,400 --> 00:49:29,500
entity high-index thing.

1032
00:49:29,500 --> 00:49:30,900
So let's get a result here.

1033
00:49:31,400 --> 00:49:37,400
So, and I've got my hi Milo and my index.

1034
00:49:38,100 --> 00:49:42,400
So this is the what do we actually call this to be caught low index.

1035
00:49:42,400 --> 00:49:45,300
I forget it is called low index, low index.

1036
00:49:46,300 --> 00:49:46,700
All right.

1037
00:49:46,800 --> 00:49:52,200
And so what we need to do here is, I need to get the high end of the

1038
00:49:52,200 --> 00:49:54,400
first, because that's actually what we have, the index Force.

1039
00:49:54,400 --> 00:49:58,800
This is high entity's, and that's going to be plus the high entity

1040
00:49:58,800 --> 00:49:59,300
index.

1041
00:50:00,600 --> 00:50:04,700
I should probably also assert that the high into the index is actually

1042
00:50:04,700 --> 00:50:09,100
in the range of the high of these groups.

1043
00:50:09,200 --> 00:50:11,600
Hi, just ease it down.

1044
00:50:12,800 --> 00:50:16,100
So that we know that we're not out of there and I guess I could also

1045
00:50:16,100 --> 00:50:19,800
assert that high empty index or you know, what?

1046
00:50:19,800 --> 00:50:22,700
I could even just check I guess I should say if someone asks for the

1047
00:50:22,700 --> 00:50:25,000
zero, they should just get back to zero.

1048
00:50:25,400 --> 00:50:27,900
So if they you know, they don't have to double-check.

1049
00:50:29,200 --> 00:50:30,300
All right, so the lowest

1050
00:50:30,500 --> 00:50:32,400
Next is that I'm going to be whatever the high says.

1051
00:50:32,400 --> 00:50:38,500
The low index was, right and the low is going to be just the same

1052
00:50:38,500 --> 00:50:41,700
exact look up, the low entities, plus the low empty Index.

1053
00:50:42,000 --> 00:50:42,500
Right?

1054
00:50:43,500 --> 00:50:47,200
And so that gets back the full Suite, just the way we wanted to

1055
00:50:47,200 --> 00:50:47,700
before.

1056
00:50:48,300 --> 00:50:51,000
So, and again, it's a little wonky.

1057
00:50:51,000 --> 00:50:54,400
I don't love how much of this extra addressing that there have to be

1058
00:50:54,400 --> 00:50:54,900
doing.

1059
00:50:54,900 --> 00:50:57,300
I don't know that it's actually too expensive.

1060
00:51:00,000 --> 00:51:01,600
It's unfortunate that we have to do it.

1061
00:51:03,000 --> 00:51:05,800
And so, it might be interesting to start thinking about other things

1062
00:51:05,800 --> 00:51:06,300
we could do there.

1063
00:51:06,300 --> 00:51:08,400
If it turns out to be a problem for us.

1064
00:51:08,400 --> 00:51:10,400
Right, again, we'll have to see.

1065
00:51:10,900 --> 00:51:13,900
Okay, five minute warning, we are being warned.

1066
00:51:15,300 --> 00:51:16,000
That's okay.

1067
00:51:16,300 --> 00:51:18,000
Five-minute warning, seems totally fair.

1068
00:51:18,500 --> 00:51:20,800
Like I said, this is relatively complicated stuff that we're going to

1069
00:51:20,800 --> 00:51:21,500
start doing here.

1070
00:51:22,400 --> 00:51:24,200
So now that we have a move player call.

1071
00:51:24,200 --> 00:51:26,800
I think what we probably want to do is change this into a move entity

1072
00:51:26,800 --> 00:51:28,000
call, right?

1073
00:51:28,100 --> 00:51:30,200
Because there's nothing particularly player e.r.

1074
00:51:30,200 --> 00:51:30,500
Bout.

1075
00:51:30,500 --> 00:51:32,600
It, the only thing that was player.

1076
00:51:32,800 --> 00:51:36,400
I was the thing where it moves it, if it hits the stairs, but I guess

1077
00:51:36,400 --> 00:51:40,400
that would probably be something that actually happens for everyone.

1078
00:51:40,400 --> 00:51:42,200
I would guess not sure.

1079
00:51:42,200 --> 00:51:46,200
But so I feel like this is probably something that we could use for

1080
00:51:46,200 --> 00:51:46,800
everybody.

1081
00:51:47,100 --> 00:51:49,000
I don't see any real reason why we can't.

1082
00:51:50,200 --> 00:51:53,800
So I feel like we could just go ahead and make this a new vanity call

1083
00:51:54,700 --> 00:52:00,000
and so we can go ahead and move the entity in exactly this way.

1084
00:52:00,500 --> 00:52:03,200
So, all right, so we can pass the game State.

1085
00:52:03,200 --> 00:52:07,100
We can pass the entity and we can pass whatever we want.

1086
00:52:07,100 --> 00:52:08,900
Our dd p to B, right?

1087
00:52:08,900 --> 00:52:11,600
And that's something that we'll have to compute, but that's basically

1088
00:52:11,600 --> 00:52:12,100
what we'll do.

1089
00:52:12,100 --> 00:52:15,800
And then we also have to go ahead and change the old call to be move

1090
00:52:15,800 --> 00:52:16,300
entity.

1091
00:52:16,600 --> 00:52:17,000
Okay?

1092
00:52:18,600 --> 00:52:19,400
so,

1093
00:52:21,200 --> 00:52:25,300
Let's see, that's game State and the DDP here.

1094
00:52:25,300 --> 00:52:28,400
What I want to do is I want to move him in the direction of the hero.

1095
00:52:30,000 --> 00:52:33,700
So what that would be is the closest hero, right?

1096
00:52:34,300 --> 00:52:37,500
I'd want to take wherever the closest hero was and subtract my

1097
00:52:37,500 --> 00:52:41,100
position, which gets me a vector that basically points at the hero.

1098
00:52:41,500 --> 00:52:45,700
And then I just want to normalize that and factor in some kind of

1099
00:52:45,700 --> 00:52:46,700
speed, right?

1100
00:52:46,700 --> 00:52:50,400
So what I want to do is I want to change this to be a

1101
00:52:51,300 --> 00:52:54,500
You know, a vector of length 1, which we talked about how to do that

1102
00:52:54,500 --> 00:52:54,900
already.

1103
00:52:55,500 --> 00:52:59,200
We just have to divide by its length, and I guess I already have the

1104
00:52:59,200 --> 00:52:59,700
length.

1105
00:52:59,800 --> 00:53:02,700
We have the closest hero D Squared here.

1106
00:53:02,700 --> 00:53:03,300
Right?

1107
00:53:03,500 --> 00:53:06,700
So what I need to do is I need to square root that right?

1108
00:53:06,800 --> 00:53:09,500
In order to get the, the actual length back.

1109
00:53:09,700 --> 00:53:14,800
And then I would just go ahead and and invert it, right.

1110
00:53:15,400 --> 00:53:16,300
So there's my 1 over X.

1111
00:53:16,300 --> 00:53:18,100
This is 1 over length.

1112
00:53:18,800 --> 00:53:19,300
Like so,

1113
00:53:21,000 --> 00:53:23,700
And I'll just multiply that right here.

1114
00:53:24,500 --> 00:53:28,600
And so that gets me my DDP right at unit length.

1115
00:53:29,400 --> 00:53:32,600
So what I actually need in addition to the unit length is, I need the

1116
00:53:32,600 --> 00:53:34,200
speed here, right?

1117
00:53:34,200 --> 00:53:37,200
So I need some notion of the m/s.

1118
00:53:37,300 --> 00:53:40,300
Traveled by biscaia m/s2.

1119
00:53:40,300 --> 00:53:44,200
I guess, whatever is whatever his acceleration is, right.

1120
00:53:44,200 --> 00:53:46,500
I guess I could say acceleration that.

1121
00:53:47,500 --> 00:53:48,500
I need a notion of that.

1122
00:53:48,500 --> 00:53:50,100
I don't know what his acceleration should be.

1123
00:53:50,300 --> 00:53:57,400
B, I don't know accelerations very easily but yeah, but hey look at

1124
00:53:57,400 --> 00:53:57,700
that.

1125
00:53:57,700 --> 00:53:58,500
He follows me around.

1126
00:53:58,500 --> 00:53:59,600
Let's make him a little slower.

1127
00:53:59,600 --> 00:53:59,800
He's

1128
00:54:00,000 --> 00:54:00,800
Zippy right.

1129
00:54:00,800 --> 00:54:01,100
Now.

1130
00:54:01,200 --> 00:54:02,900
Let's kind of tone that down a little bit.

1131
00:54:03,000 --> 00:54:04,100
Let's make him sluggish.

1132
00:54:05,400 --> 00:54:06,400
Seems a little bit better.

1133
00:54:07,300 --> 00:54:07,500
I don't know.

1134
00:54:07,500 --> 00:54:10,300
He still that seems what's my acceleration.

1135
00:54:10,300 --> 00:54:11,800
I feel like we maybe have a bug here.

1136
00:54:12,000 --> 00:54:12,700
Is that right?

1137
00:54:12,800 --> 00:54:13,500
What did I do?

1138
00:54:13,700 --> 00:54:14,700
Did I do something wrong?

1139
00:54:15,500 --> 00:54:16,100
There's the length.

1140
00:54:16,100 --> 00:54:17,000
I want it to be.

1141
00:54:17,200 --> 00:54:17,900
Here is the length.

1142
00:54:17,900 --> 00:54:21,100
It was so we're basically multiplying by that ratio.

1143
00:54:21,200 --> 00:54:25,100
Here's the DDP doing one over length times.

1144
00:54:25,100 --> 00:54:29,300
The distance between them closest to your oh hi p.

1145
00:54:30,000 --> 00:54:32,400
Ttip, what did I do?

1146
00:54:32,500 --> 00:54:33,400
What did I do?

1147
00:54:33,700 --> 00:54:34,800
Shouldn't he be much?

1148
00:54:35,100 --> 00:54:36,700
Shouldn't he be much more sluggish?

1149
00:54:36,700 --> 00:54:38,600
Much more sluggish than that, maybe not.

1150
00:54:38,600 --> 00:54:41,400
So let's find out what the acceleration of the hero is, first of all,

1151
00:54:43,600 --> 00:54:45,400
just to know what I think.

1152
00:54:45,900 --> 00:54:48,000
So DDP is 10.

1153
00:54:49,200 --> 00:54:51,900
Duh, duh.

1154
00:54:53,000 --> 00:54:56,700
She's he has exactly the speed of the hero because this player speed

1155
00:54:56,700 --> 00:54:58,100
was baked into this function.

1156
00:54:58,500 --> 00:55:02,600
So that's, that's why yeah, that's that's the problem people.

1157
00:55:02,600 --> 00:55:04,000
That's the problem right there.

1158
00:55:05,300 --> 00:55:06,000
So, yeah.

1159
00:55:06,000 --> 00:55:08,300
So basically what I need to do is remove that.

1160
00:55:08,300 --> 00:55:15,600
So let's go ahead and say to do, you know, pull speed out of move

1161
00:55:15,600 --> 00:55:16,300
entity.

1162
00:55:16,800 --> 00:55:19,400
And we'll just say he moves half the speed of the hero because now

1163
00:55:19,400 --> 00:55:22,600
basically everything's in terms of hero speed, which is not useful.

1164
00:55:23,300 --> 00:55:26,000
So now he should get far away from the player and then eventually

1165
00:55:26,000 --> 00:55:32,300
catch up like so and and so that's fine and everyone's fine with that.

1166
00:55:32,300 --> 00:55:35,000
But what should also happen is, if I move their egos, if I move far

1167
00:55:35,000 --> 00:55:36,700
enough away, he should stop right?

1168
00:55:36,700 --> 00:55:37,500
And there he does.

1169
00:55:38,600 --> 00:55:42,500
So the other thing that we need to do is he should always be moved, so

1170
00:55:42,500 --> 00:55:45,000
that his equations of motion still handle, so it doesn't stop right

1171
00:55:45,000 --> 00:55:45,600
away like that.

1172
00:55:45,600 --> 00:55:47,100
I don't know why I was close the app.

1173
00:55:47,900 --> 00:55:50,100
So what we want to do too is we want to have this.

1174
00:55:50,100 --> 00:55:52,800
This DDP just be nothing at first.

1175
00:55:53,000 --> 00:55:57,600
And then it can, if there wasn't someone to follow at least two, then

1176
00:55:57,600 --> 00:55:58,800
he'll still Glide.

1177
00:55:58,900 --> 00:56:03,800
So, you know, he'll Glide to a stop right instead of instead of

1178
00:56:03,800 --> 00:56:04,800
stopping abruptly.

1179
00:56:04,900 --> 00:56:05,500
Right?

1180
00:56:06,000 --> 00:56:09,800
So, when I get out of range, he just kind of take should taper off a

1181
00:56:09,800 --> 00:56:13,000
little bit, and instead of stopping totally abruptly.

1182
00:56:13,100 --> 00:56:13,800
I think that's working.

1183
00:56:13,800 --> 00:56:14,500
Can't quite tell.

1184
00:56:15,300 --> 00:56:19,200
I probably should have some slower equations of motion to see if he

1185
00:56:19,200 --> 00:56:20,300
does or he doesn't.

1186
00:56:20,400 --> 00:56:22,100
And so, this was also the pathfinding problem.

1187
00:56:22,100 --> 00:56:22,800
You can see I can

1188
00:56:22,900 --> 00:56:24,500
Him trapped here, right?

1189
00:56:24,800 --> 00:56:26,000
And now he can't get to me.

1190
00:56:26,300 --> 00:56:27,100
And so that was kind of thing.

1191
00:56:27,100 --> 00:56:29,000
I was saying, is like, we're probably gonna want start adding some

1192
00:56:29,000 --> 00:56:34,800
more advanced features so that, so that the, the monsters and the, the

1193
00:56:34,800 --> 00:56:38,500
familiars are smart enough to navigate obstacles on their own because

1194
00:56:38,500 --> 00:56:39,800
otherwise it's going to be pretty stupid.

1195
00:56:39,800 --> 00:56:40,400
I would think.

1196
00:56:41,300 --> 00:56:42,000
Alright.

1197
00:56:42,200 --> 00:56:47,400
So got some work to do is to do tomorrow, but for now, I think that's

1198
00:56:47,400 --> 00:56:49,000
totally fine for today's progress.

1199
00:56:49,700 --> 00:56:52,700
And so, let's go ahead and go to the Q&A since it's cute.

1200
00:56:52,900 --> 00:56:58,200
And a time, if you could, please prefix your questions with q:, that

1201
00:56:58,200 --> 00:56:59,400
would be extremely helpful.

1202
00:57:02,300 --> 00:57:04,700
Oh, right, the Z.

1203
00:57:04,700 --> 00:57:05,900
All right.

1204
00:57:05,900 --> 00:57:06,800
So that's another to do.

1205
00:57:06,800 --> 00:57:09,200
We have to do, it's going here and push piece.

1206
00:57:09,200 --> 00:57:14,800
Call to do Z on Alpha.

1207
00:57:15,000 --> 00:57:19,600
Yes, please prefix your questions with q: and if you could keep the

1208
00:57:19,600 --> 00:57:21,900
things we've done today stream or on previous streams.

1209
00:57:21,900 --> 00:57:24,400
If you want to talk about off-topic stuff, that's totally fine.

1210
00:57:24,400 --> 00:57:25,900
But do it on the pre stream.

1211
00:57:25,900 --> 00:57:29,000
So come about 15 minutes before we start and that's where we talk

1212
00:57:29,000 --> 00:57:32,200
about random topics like stuff that doesn't have anything.

1213
00:57:32,300 --> 00:57:32,800
Do it the code.

1214
00:57:32,800 --> 00:57:33,700
We actually wrote.

1215
00:57:34,900 --> 00:57:35,300
Yeah.

1216
00:57:40,400 --> 00:57:41,500
Let's take a look.

1217
00:57:54,100 --> 00:57:55,500
I see, no questions.

1218
00:57:56,000 --> 00:57:58,600
Every wonder One understood everything.

1219
00:57:59,200 --> 00:58:00,900
That is how I choose to interpret that.

1220
00:58:09,500 --> 00:58:15,600
Why monstar and not monster well, so I believe I actually did call him

1221
00:58:15,600 --> 00:58:21,500
monster, but I feel like monstar is a little more is like better.

1222
00:58:21,800 --> 00:58:27,600
Like, you know, like I feel like monstar would be a better name for

1223
00:58:27,600 --> 00:58:28,200
this guy.

1224
00:58:28,400 --> 00:58:31,200
So I would be because it sounds more.

1225
00:58:31,300 --> 00:58:35,900
You know, it's like a monstar monstar, right, right.

1226
00:58:35,900 --> 00:58:36,300
Like that.

1227
00:58:36,300 --> 00:58:38,800
Like it's very you can even see the

1228
00:58:39,400 --> 00:58:41,300
Already, I think you can see that.

1229
00:58:41,300 --> 00:58:45,500
It's way more sort of menacing look at it there.

1230
00:58:45,600 --> 00:58:47,300
Look at that, right?

1231
00:58:47,400 --> 00:58:48,300
It's pretty menacing.

1232
00:58:59,100 --> 00:59:02,100
If someone rewrites your code using a loop and it runs faster, what

1233
00:59:02,100 --> 00:59:02,600
would you do?

1234
00:59:02,600 --> 00:59:05,800
Well, what code you're talking about object-oriented versus non

1235
00:59:05,800 --> 00:59:06,400
object-oriented?

1236
00:59:06,400 --> 00:59:09,200
Has very little to do with like the speed.

1237
00:59:09,200 --> 00:59:13,400
It's more about like the facility of development, but

1238
00:59:15,700 --> 00:59:17,800
Like, I'm not sure what you're talking about.

1239
00:59:17,800 --> 00:59:19,300
I guess would be how I would phrase that.

1240
00:59:24,800 --> 00:59:26,100
Why do you want to be able to outrun?

1241
00:59:26,100 --> 00:59:29,000
Your familiar doesn't having to stop for him to catch up, get

1242
00:59:29,000 --> 00:59:29,400
annoying.

1243
00:59:30,000 --> 00:59:32,300
I just wanted to make sure that that was working.

1244
00:59:32,300 --> 00:59:34,400
I just wanted to see if there was a search radius thing that would

1245
00:59:34,400 --> 00:59:37,200
happen there because eventually that might be a problem.

1246
00:59:38,900 --> 00:59:41,700
We will play around with that a little bit, but this is not game

1247
00:59:41,700 --> 00:59:43,700
design, right?

1248
00:59:43,700 --> 00:59:45,800
We are not designing this game right here.

1249
00:59:45,800 --> 00:59:48,800
We are implementing features to see how they would work in the engine.

1250
00:59:49,100 --> 00:59:52,000
And so I wanted to have the concept that as he gets further away.

1251
00:59:52,000 --> 00:59:52,900
He can't find you.

1252
00:59:52,900 --> 00:59:54,300
And then when you get closer, he finds you.

1253
00:59:54,500 --> 00:59:56,900
Then and we might play around with that a little bit.

1254
00:59:56,900 --> 00:59:59,500
I also feel like we should test because I don't know.

1255
01:00:00,400 --> 01:00:04,800
You should be able to like pull I hate the fact that you get started

1256
01:00:04,800 --> 01:00:06,200
right on top of the guy.

1257
01:00:06,400 --> 01:00:08,400
I got to have a way that we separate people.

1258
01:00:08,500 --> 01:00:12,600
When you launch a new character, like it finds us some space for them

1259
01:00:12,800 --> 01:00:15,700
but was going to say is try to figure out how I could.

1260
01:00:15,900 --> 01:00:17,000
How could I do that?

1261
01:00:17,000 --> 01:00:20,800
I guess what I would do is if you do add player, I guess what I would

1262
01:00:20,800 --> 01:00:27,700
do is I would say when you add player, you are actually at the camera

1263
01:00:27,700 --> 01:00:29,600
P, plus some offset.

1264
01:00:30,000 --> 01:00:30,500
I don't know.

1265
01:00:31,500 --> 01:00:33,700
World position, I don't know.

1266
01:00:33,700 --> 01:00:34,700
I'm not going to deal with it now.

1267
01:00:34,800 --> 01:00:36,800
But point being, it would be nice to be able to add multiple Heroes,

1268
01:00:36,800 --> 01:00:38,500
and I have no overlap on top of each other.

1269
01:00:44,500 --> 01:00:47,900
Could you make the head bob up and down while following the player?

1270
01:00:48,100 --> 01:00:49,300
Yes, of course.

1271
01:00:51,000 --> 01:00:52,800
That would be pretty easy to do.

1272
01:00:54,100 --> 01:00:57,600
Basically what you would need is you just need some notion of what it

1273
01:00:57,600 --> 01:01:03,600
means to bob up and down, but basically you know, in your entity,

1274
01:01:03,600 --> 01:01:04,000
right?

1275
01:01:04,000 --> 01:01:11,200
You'd have something that was like a T-Bob or something like this.

1276
01:01:12,600 --> 01:01:15,400
There's a couple different ways you could do this, right?

1277
01:01:15,600 --> 01:01:21,600
But when you add the familiar in there, right with set, the entity,

1278
01:01:22,300 --> 01:01:24,800
well, I guess it is that a lot of math to get taken care of, when it

1279
01:01:24,800 --> 01:01:26,600
Maps into the hi.

1280
01:01:26,900 --> 01:01:32,100
So, what you would do is when you actually go to render it the bobbing

1281
01:01:32,100 --> 01:01:32,300
head.

1282
01:01:32,300 --> 01:01:38,400
I mean, when you update the head, you would then set the Z offset for

1283
01:01:38,400 --> 01:01:41,800
the head to, to be.

1284
01:01:43,100 --> 01:01:43,800
Which one is the head?

1285
01:01:43,800 --> 01:01:48,700
This is the head to be like a sine wave you know on that Bob which I

1286
01:01:48,700 --> 01:01:52,700
don't actually know if we implemented yet but it would have to be, you

1287
01:01:52,700 --> 01:01:58,100
know, something that was basically going to be be done in that space.

1288
01:01:58,300 --> 01:02:01,800
So you basically say all right I've got some function that Bob's up

1289
01:02:01,800 --> 01:02:02,900
and down like a sine wave.

1290
01:02:02,900 --> 01:02:06,600
You know, something that goes like this and I've got some concept of

1291
01:02:06,600 --> 01:02:11,700
the entities bobbing rate and if entity T-Bob is greater than

1292
01:02:11,900 --> 01:02:15,500
You know, the full circle.

1293
01:02:17,900 --> 01:02:23,100
So then we'll just go ahead and and reset it.

1294
01:02:25,400 --> 01:02:28,800
That, of course, I don't know if these get initialized when the when

1295
01:02:28,800 --> 01:02:30,500
the high actually does this.

1296
01:02:30,700 --> 01:02:31,100
Oops.

1297
01:02:31,500 --> 01:02:31,900
Hi.

1298
01:02:39,900 --> 01:02:41,400
I don't know if we actually have a sine function.

1299
01:02:41,400 --> 01:02:42,100
I guess we do.

1300
01:02:42,400 --> 01:02:43,200
So that's good.

1301
01:02:46,400 --> 01:02:50,000
So in theory we should now be able to make him bob up and down.

1302
01:02:50,000 --> 01:02:50,900
I think.

1303
01:02:51,100 --> 01:02:53,200
Now I don't know if this is in pixel space.

1304
01:02:54,000 --> 01:02:56,200
This should have been in leaders, but I think we actually left it in

1305
01:02:56,200 --> 01:02:59,800
pixel space, but they're e Now Bob's up and down.

1306
01:03:00,200 --> 01:03:03,600
And you probably wanted to bob up and down a little faster than that.

1307
01:03:04,100 --> 01:03:06,100
So, maybe you want something more like this.

1308
01:03:07,700 --> 01:03:10,400
Well, that might be a little bit too much, right?

1309
01:03:10,600 --> 01:03:11,400
Let's try that again.

1310
01:03:14,400 --> 01:03:16,500
Is that, is that what you're looking for, I guess.

1311
01:03:19,400 --> 01:03:23,500
But yeah, so really all you do there is you just take the Z coordinate

1312
01:03:23,600 --> 01:03:27,000
and you throw it into some periodic function, like a sine wave and

1313
01:03:27,000 --> 01:03:31,500
you've got a bobbing head, right, which is pretty, which is pretty

1314
01:03:31,500 --> 01:03:32,300
straightforward.

1315
01:03:32,900 --> 01:03:36,300
There's not a whole lot else to do and if I got far enough away so

1316
01:03:36,300 --> 01:03:37,500
that he wouldn't be following me.

1317
01:03:37,500 --> 01:03:41,000
He'd still just kind of sit there and bob up and down until you know,

1318
01:03:41,000 --> 01:03:42,800
you get closer and then he starts to chase you again.

1319
01:03:50,300 --> 01:03:52,500
Can't you write pong real fast?

1320
01:03:52,800 --> 01:03:54,700
So I can see how to start.

1321
01:03:55,600 --> 01:03:59,500
I could I suppose but I don't think I'm going to sorry I'm not super

1322
01:03:59,500 --> 01:04:00,600
interested in writing pong.

1323
01:04:04,300 --> 01:04:09,800
Monstar would be confused with monstar a pointer to a mon that's true.

1324
01:04:09,800 --> 01:04:12,000
But thankfully, we don't have any moms in the game.

1325
01:04:19,900 --> 01:04:22,900
Are we going to eventually use a component based entity system?

1326
01:04:22,900 --> 01:04:26,400
So I feel like there should be an auto ban on the phrase

1327
01:04:26,400 --> 01:04:33,000
component-based entity system, just because what does it even mean,

1328
01:04:33,000 --> 01:04:33,400
right?

1329
01:04:33,400 --> 01:04:39,900
Like, what does component-based entity system mean obviously entities

1330
01:04:39,900 --> 01:04:43,900
are made up of things and so the phrase component-based entity system,

1331
01:04:43,900 --> 01:04:46,100
could mean like such a wide variety of things.

1332
01:04:46,100 --> 01:04:47,000
I don't know.

1333
01:04:47,500 --> 01:04:49,100
I wish that no one had ever.

1334
01:04:49,400 --> 01:04:51,900
Vented that term because it's so nonspecific.

1335
01:04:53,600 --> 01:04:57,500
So, I guess what I would say to the question of, are we going to

1336
01:04:57,500 --> 01:05:00,100
eventually use a component based on a system instead of using an enum

1337
01:05:00,100 --> 01:05:00,900
of entity types?

1338
01:05:00,900 --> 01:05:06,900
If not why, that depends very much on how the game code shakes out,

1339
01:05:06,900 --> 01:05:07,500
right?

1340
01:05:07,800 --> 01:05:15,300
We will probably have some notion of composable entity pieces, but we

1341
01:05:15,300 --> 01:05:19,000
may still have the concept of entity types that are used for other

1342
01:05:19,000 --> 01:05:19,200
purposes.

1343
01:05:19,300 --> 01:05:20,500
Purposes, right?

1344
01:05:21,700 --> 01:05:26,100
And so how that exactly breaks down, it's entirely a issue of

1345
01:05:26,100 --> 01:05:27,500
compression, right?

1346
01:05:28,400 --> 01:05:31,900
So it's entirely about seeing where the, where the right trade-offs

1347
01:05:31,900 --> 01:05:35,700
are to be made and it has nothing to do with like, should you use

1348
01:05:35,700 --> 01:05:36,600
system X or system?

1349
01:05:36,600 --> 01:05:37,000
Why?

1350
01:05:37,500 --> 01:05:40,100
All systems are entity component based systems, basically.

1351
01:05:40,400 --> 01:05:44,100
Like, I don't even really understand why people make that distinction.

1352
01:05:44,100 --> 01:05:46,800
Normally it seems very arbitrary to me, I guess is what I'd say.

1353
01:05:51,100 --> 01:05:52,600
Would you think about doing some proportional?

1354
01:05:52,600 --> 01:05:55,300
Integral derivative control for familiar as to follow?

1355
01:05:56,000 --> 01:05:59,900
Yeah, if we wanted to make them kind of Glide to a stop nearer to

1356
01:06:00,000 --> 01:06:00,300
You.

1357
01:06:02,000 --> 01:06:06,200
And I mean, one thing too is that the familiar doesn't stop when he

1358
01:06:06,200 --> 01:06:06,900
reaches close to.

1359
01:06:06,900 --> 01:06:08,200
You be kind of bumps into you.

1360
01:06:08,200 --> 01:06:10,800
He lets the Collision system stopped him at some point.

1361
01:06:11,000 --> 01:06:11,500
Right?

1362
01:06:11,900 --> 01:06:13,200
Well, not the Collision system, I guess.

1363
01:06:13,200 --> 01:06:15,600
But yeah, no, he lets the Collision system.

1364
01:06:15,600 --> 01:06:16,000
I guess.

1365
01:06:16,000 --> 01:06:19,000
It stopped him because he collides with us, but we don't collide with

1366
01:06:19,000 --> 01:06:19,800
him right now.

1367
01:06:19,800 --> 01:06:20,800
It's kind of a little wonky.

1368
01:06:20,800 --> 01:06:22,400
But that's just how it's written, right?

1369
01:06:23,600 --> 01:06:27,200
And so yeah, a proportional derivative controller or something similar

1370
01:06:27,300 --> 01:06:28,700
where he Glides to a stop near.

1371
01:06:28,700 --> 01:06:33,400
Us would probably be better but that's not super relevant to us right

1372
01:06:33,400 --> 01:06:35,200
now because that's more of a feel thing.

1373
01:06:35,200 --> 01:06:38,000
That's not probably something that affects the way that engine is

1374
01:06:38,000 --> 01:06:38,800
architected.

1375
01:06:38,800 --> 01:06:41,900
I wouldn't suspect but maybe it would be so we'll have to see

1376
01:06:50,300 --> 01:06:52,600
I have a bad feeling about that switch on entity type.

1377
01:06:52,600 --> 01:06:55,100
Do you think it will probably go away as we get closer to the final

1378
01:06:55,100 --> 01:06:55,900
architecture?

1379
01:06:57,000 --> 01:06:58,500
Switches are very good.

1380
01:06:59,200 --> 01:07:02,200
I would highly recommend not having a bad feeling about them.

1381
01:07:03,800 --> 01:07:06,500
What I would say is that probably what will happen is, we'll become

1382
01:07:06,500 --> 01:07:09,000
something that's not switching strictly on any type.

1383
01:07:09,000 --> 01:07:14,400
It's switching on like entities will probably be made up of multiple

1384
01:07:14,400 --> 01:07:18,500
parts that get switched on, which is, hopefully satisfies.

1385
01:07:18,500 --> 01:07:21,400
The people who like the phrase component-based entity system because

1386
01:07:21,400 --> 01:07:24,100
then they will be able to concretely identify the fact that there are

1387
01:07:24,100 --> 01:07:24,900
components.

1388
01:07:26,400 --> 01:07:28,900
But the switch statement will almost certainly remain.

1389
01:07:28,900 --> 01:07:31,900
It just might not be on an entity type per se.

1390
01:07:36,000 --> 01:07:39,000
We Collision be an XY, only thing, or would you take into account Z as

1391
01:07:39,000 --> 01:07:40,500
in jumping over another entity?

1392
01:07:41,000 --> 01:07:45,800
I think we will, probably I think we will probably have to handle Z

1393
01:07:45,800 --> 01:07:49,500
specially because of the nature of 2D games.

1394
01:07:49,600 --> 01:07:54,600
You can't usually treat Z entirely like a separate coordinate because

1395
01:07:54,600 --> 01:07:56,400
oftentimes there are special concessions.

1396
01:07:56,400 --> 01:07:59,400
You have to make to make things work out because of the fact that it's

1397
01:07:59,400 --> 01:08:04,300
a weird, like orthographic perspective and Z is more conceptual than

1398
01:08:04,300 --> 01:08:05,400
actually physical.

1399
01:08:06,400 --> 01:08:10,800
So we will certainly take Z into account, but how exactly we take it

1400
01:08:10,800 --> 01:08:15,200
into account, is it might not just it's probably not just going to be

1401
01:08:15,400 --> 01:08:16,300
well, that's awesome.

1402
01:08:16,500 --> 01:08:20,100
I like with that was just happening there, but it probably will be

1403
01:08:20,500 --> 01:08:22,100
something that's like a little more.

1404
01:08:25,500 --> 01:08:26,500
Little more.

1405
01:08:28,399 --> 01:08:31,000
I don't want to say hacky because there's nothing you can really do

1406
01:08:31,000 --> 01:08:31,300
about it.

1407
01:08:31,300 --> 01:08:33,700
But it's going to be something that's a little more fit twiki.

1408
01:08:33,899 --> 01:08:34,100
Right?

1409
01:08:34,100 --> 01:08:37,100
It's like it's stuff that we just have to make that makes the game

1410
01:08:37,100 --> 01:08:40,700
work eat because we can't do it as if it's real 3D since we don't have

1411
01:08:40,700 --> 01:08:42,500
full geometry for everything, right?

1412
01:08:50,100 --> 01:08:51,600
I have a feeling, I have a feeling you're low.

1413
01:08:51,600 --> 01:08:54,800
In fees will be quite big if they have a, i and stuff, won't this be a

1414
01:08:54,800 --> 01:08:56,000
problem for the huge World.

1415
01:08:56,000 --> 01:08:57,100
Maybe it would have made sense.

1416
01:08:57,100 --> 01:08:59,200
If you had kept the tile data in chunk.

1417
01:08:59,200 --> 01:08:59,800
So you can

1418
01:09:00,000 --> 01:09:01,600
Some entities just when needed.

1419
01:09:03,000 --> 01:09:04,100
Well that is what we're doing.

1420
01:09:04,200 --> 01:09:04,700
Right?

1421
01:09:04,800 --> 01:09:09,399
The low-end of these will have to store all of the data that gets

1422
01:09:09,399 --> 01:09:14,000
remembered right and there's no way we can really get around that.

1423
01:09:14,000 --> 01:09:19,000
We have to store that data, but we only have to store that data.

1424
01:09:19,200 --> 01:09:22,700
So the low enemies can be as small as we want them to be as small as

1425
01:09:22,700 --> 01:09:25,700
we can get away with basically for the day of testing persist and high

1426
01:09:25,700 --> 01:09:27,899
entities store all the rest of it, right?

1427
01:09:28,399 --> 01:09:29,899
But there's really nothing we else we can do.

1428
01:09:30,000 --> 01:09:33,000
Do if this data we have to store, we have to store it, right?

1429
01:09:33,600 --> 01:09:36,399
Although I guess we could try to do compression on the fly.

1430
01:09:36,399 --> 01:09:37,800
But I doubt that the entities will ever.

1431
01:09:37,800 --> 01:09:40,100
Be big enough to require that you probably just still just use the

1432
01:09:40,100 --> 01:09:41,399
memory for it, right?

1433
01:09:48,100 --> 01:09:50,800
The performance boost off the low high Shuffle.

1434
01:09:50,800 --> 01:09:52,600
When will we start seeing this come into play?

1435
01:09:53,300 --> 01:09:54,300
It actually already is.

1436
01:09:54,600 --> 01:09:58,700
So, for example, we would have gone N squared if we only had one, any

1437
01:09:58,700 --> 01:10:03,000
type already on a huge number of entities to give you an example of

1438
01:10:03,000 --> 01:10:05,300
that for like here right here.

1439
01:10:06,200 --> 01:10:10,200
All of our familiars would have to Loop over all of the entities every

1440
01:10:10,200 --> 01:10:11,400
time, right?

1441
01:10:11,600 --> 01:10:14,600
But now they're only looping over the hyades which is much much

1442
01:10:14,600 --> 01:10:15,900
smaller, right?

1443
01:10:16,200 --> 01:10:17,300
So if you look here, right,

1444
01:10:17,900 --> 01:10:19,900
It would have been looping over this many.

1445
01:10:19,900 --> 01:10:24,100
And now, it's looping over, only this many already, and these will be

1446
01:10:24,100 --> 01:10:25,200
partitioned, probably further.

1447
01:10:25,200 --> 01:10:26,300
So it'll be even smaller.

1448
01:10:26,500 --> 01:10:28,700
So we already are getting a performance boost.

1449
01:10:33,200 --> 01:10:36,000
Could we spawn a ton of these floating head things?

1450
01:10:39,800 --> 01:10:40,500
I guess.

1451
01:10:45,000 --> 01:10:51,100
I mean, it seems like we could, I guess why not would be the, why

1452
01:10:51,100 --> 01:10:52,400
wouldn't we be able to?

1453
01:10:53,800 --> 01:10:56,200
I guess would be the question.

1454
01:10:58,200 --> 01:11:01,600
We still don't have a random number generator, unfortunately, so I

1455
01:11:01,600 --> 01:11:07,600
guess we'd have to just do something like this, but I don't know.

1456
01:11:09,800 --> 01:11:10,000
Now.

1457
01:11:18,700 --> 01:11:24,800
Yeah, familiar index, equals zero, familiar index less than 20 plus

1458
01:11:24,800 --> 01:11:25,500
plus familiar.

1459
01:11:25,500 --> 01:11:26,100
Index.

1460
01:11:26,700 --> 01:11:28,100
Is this what we're talking about?

1461
01:11:32,800 --> 01:11:36,300
Familiar offset X.

1462
01:11:39,200 --> 01:11:40,400
Like so.

1463
01:11:43,700 --> 01:11:45,000
Offset X.

1464
01:11:50,500 --> 01:11:55,700
So I guess if I do a mod 5, I actually need a mod 10 minus 5 because I

1465
01:11:55,700 --> 01:11:57,700
want some to be on the other side of you as well.

1466
01:11:58,100 --> 01:11:59,700
So, all right, so there we go.

1467
01:12:02,400 --> 01:12:04,700
And I guess that should spawn a bunch of these.

1468
01:12:08,000 --> 01:12:08,600
Theory.

1469
01:12:11,200 --> 01:12:13,900
Boo, that find a bug.

1470
01:12:16,900 --> 01:12:18,200
What happened here?

1471
01:12:19,800 --> 01:12:20,700
What did we do?

1472
01:12:22,200 --> 01:12:24,300
Somebody got unhappy when we did that?

1473
01:12:25,200 --> 01:12:26,600
Change into the location.

1474
01:12:28,000 --> 01:12:31,900
For entity low key.

1475
01:12:33,000 --> 01:12:34,000
So it started in.

1476
01:12:34,000 --> 01:12:35,900
Yeah that's a good point.

1477
01:12:35,900 --> 01:12:37,800
So there is one other thing we have to do here.

1478
01:12:39,700 --> 01:12:44,200
So this is a case where we could divide by zero, right?

1479
01:12:44,200 --> 01:12:47,400
Because we haven't really played around with this much at all the

1480
01:12:47,400 --> 01:12:50,300
closest distance to the hero could be zero.

1481
01:12:50,400 --> 01:12:53,600
If the code like it shouldn't ever happen because the familiar

1482
01:12:53,600 --> 01:12:55,100
shouldn't be able to get right on top of the hero.

1483
01:12:55,100 --> 01:12:59,000
But in this case, I spawned them right on top of him.

1484
01:12:59,800 --> 01:13:06,000
So we probably should go ahead and check just to make sure that, you

1485
01:13:06,000 --> 01:13:07,100
know, it's not.

1486
01:13:07,400 --> 01:13:07,900
Right.

1487
01:13:08,000 --> 01:13:09,300
Let's make sure that the closest

1488
01:13:09,500 --> 01:13:11,900
Distance is a little, it's something.

1489
01:13:13,500 --> 01:13:17,600
Right, and that should that should presume they fixed that if that

1490
01:13:17,600 --> 01:13:20,100
actually was what it was, although it seems like that was not what it

1491
01:13:20,100 --> 01:13:23,200
was are in same chunk.

1492
01:13:26,400 --> 01:13:27,500
A offset.

1493
01:13:28,800 --> 01:13:29,900
Is not canonical.

1494
01:13:29,900 --> 01:13:32,000
So move entity.

1495
01:13:34,600 --> 01:13:35,800
Yes, this is the same problem.

1496
01:13:36,800 --> 01:13:38,400
But you want to make sure I did actually do this.

1497
01:13:38,400 --> 01:13:39,200
Right, right.

1498
01:13:42,000 --> 01:13:42,800
And close this here.

1499
01:13:42,800 --> 01:13:44,800
Do you squared is greater than zero?

1500
01:13:45,000 --> 01:13:47,100
Yeah, we've got to GDP.

1501
01:13:47,100 --> 01:13:47,500
Okay.

1502
01:13:48,400 --> 01:13:52,200
So let's find out what the problem is here and also move entity.

1503
01:13:54,500 --> 01:13:57,400
when we're fine with the DDP,

1504
01:13:59,600 --> 01:14:01,100
Can the DDP ever be 0?

1505
01:14:01,100 --> 01:14:06,400
Here we ever do DDP length and do anything with that.

1506
01:14:06,400 --> 01:14:08,900
If it's greater than one, we do it now so we don't have any problems

1507
01:14:08,900 --> 01:14:09,000
there.

1508
01:14:09,000 --> 01:14:10,800
So let's take a look at why we're getting this problem.

1509
01:14:11,000 --> 01:14:15,200
First of all, let me make sure that I actually have it easy way to

1510
01:14:15,200 --> 01:14:16,300
reproduce the problem.

1511
01:14:16,600 --> 01:14:19,800
So I'm wondering let's find out.

1512
01:14:20,700 --> 01:14:21,700
Let me just find out.

1513
01:14:24,000 --> 01:14:25,200
And familiar index.

1514
01:14:26,000 --> 01:14:26,700
Why?

1515
01:14:29,800 --> 01:14:33,400
Me just find out if it is because I'm spawning him on top of the hero.

1516
01:14:34,300 --> 01:14:35,400
No, okay good.

1517
01:14:35,500 --> 01:14:36,500
So it's just something random.

1518
01:14:36,500 --> 01:14:40,900
So what actually is the problem that we are having with multiple

1519
01:14:40,900 --> 01:14:41,600
familiars.

1520
01:14:42,100 --> 01:14:43,400
I have no idea.

1521
01:14:43,800 --> 01:14:45,400
If I only had one of them.

1522
01:14:45,800 --> 01:14:47,100
Can I get it to reproduce?

1523
01:14:47,300 --> 01:14:47,800
Yes.

1524
01:14:48,300 --> 01:14:52,100
So all I need to do now, I guess it's checked that one time when it

1525
01:14:52,100 --> 01:14:55,200
does move familiar the first time through and that will cause my

1526
01:14:55,200 --> 01:14:55,800
problem.

1527
01:14:55,900 --> 01:14:57,300
So I suppose that's probably

1528
01:14:57,400 --> 01:14:57,900
Good.

1529
01:15:00,300 --> 01:15:02,300
A Telex + familiar offset.

1530
01:15:04,300 --> 01:15:04,800
Right.

1531
01:15:05,400 --> 01:15:09,800
That's the problem I suppose.

1532
01:15:09,800 --> 01:15:11,100
Oh, no, it wasn't problem.

1533
01:15:11,100 --> 01:15:11,600
Never mind.

1534
01:15:12,000 --> 01:15:16,300
Alright, so now I can go in and find out what's actually wrong.

1535
01:15:16,300 --> 01:15:18,300
I didn't really want to do this in the middle of the Q&A.

1536
01:15:18,300 --> 01:15:21,800
But I guess I will have to since I really don't want to leave a bug in

1537
01:15:21,800 --> 01:15:22,800
there if we've got one.

1538
01:15:23,600 --> 01:15:27,700
So in this means, presumably the first time we call update familiar,

1539
01:15:27,700 --> 01:15:29,900
it will have the bug, I would assume.

1540
01:15:31,500 --> 01:15:32,800
So, let's go ahead and find out why.

1541
01:15:33,700 --> 01:15:33,900
So,

1542
01:15:34,100 --> 01:15:39,200
Not actually moving DDP is set to 0 so we're not actually asking it to

1543
01:15:39,200 --> 01:15:40,800
update our familiar at all.

1544
01:15:41,600 --> 01:15:43,700
Let's take a look at where the familiar actually is.

1545
01:15:44,500 --> 01:15:46,000
The familiar is.

1546
01:15:46,400 --> 01:15:47,500
Well, that's where it is.

1547
01:15:47,800 --> 01:15:51,700
Let's take a look and see what if that's actually considered

1548
01:15:51,700 --> 01:15:52,200
canonical.

1549
01:15:52,200 --> 01:15:56,100
So our world should have what it's chunks.

1550
01:15:56,100 --> 01:15:59,400
Ida m is and so that's the chunk sided M.

1551
01:15:59,700 --> 01:16:01,800
So that actually is not canonical.

1552
01:16:01,800 --> 01:16:03,700
So it looks like it just got created.

1553
01:16:03,700 --> 01:16:03,900
It looks

1554
01:16:04,000 --> 01:16:08,600
like we just have a bug and I guess now that I think about it, we even

1555
01:16:08,600 --> 01:16:10,800
put it to do in there, right?

1556
01:16:10,900 --> 01:16:16,700
I guess we just have a bug in our, in our tile conversion.

1557
01:16:16,900 --> 01:16:23,500
The the function that was like the gets the, the, the chunk position

1558
01:16:23,500 --> 01:16:24,200
from top position.

1559
01:16:24,200 --> 01:16:24,900
This guy.

1560
01:16:26,200 --> 01:16:31,100
I think what we probably want to do is do is canonical here because I

1561
01:16:31,100 --> 01:16:33,900
suspect that's just that's what our bug is, right?

1562
01:16:34,100 --> 01:16:35,800
um, and

1563
01:16:37,500 --> 01:16:37,800
oops.

1564
01:16:39,700 --> 01:16:42,400
And so we're not actually producing valid coordinates when we do the

1565
01:16:42,400 --> 01:16:45,000
style mapping, if that makes sense.

1566
01:16:45,800 --> 01:16:50,600
And does that take an address of what does it take is canonical?

1567
01:16:53,900 --> 01:16:56,300
World, V2 offset.

1568
01:16:58,500 --> 01:16:59,900
Oh, so I guess I owe right.

1569
01:16:59,900 --> 01:17:02,300
I don't actually have to pass the whole thing.

1570
01:17:02,500 --> 01:17:05,200
That's sufficient for saying it's a canonical, right?

1571
01:17:06,800 --> 01:17:08,600
So hopefully, that'll fire right away.

1572
01:17:09,100 --> 01:17:09,400
Yes.

1573
01:17:09,700 --> 01:17:12,700
So it's basically the fact that this thing doesn't actually compute

1574
01:17:12,700 --> 01:17:16,900
canonical coordinates properly, which I had to do there about this and

1575
01:17:16,900 --> 01:17:18,100
we kind of think about it.

1576
01:17:18,600 --> 01:17:20,500
So let's think about it.

1577
01:17:21,600 --> 01:17:25,100
What we need to do is we need to align our tiles on chunk boundaries.

1578
01:17:25,100 --> 01:17:30,300
So if I say that, I've got an AB style X, and I subtract from it.

1579
01:17:30,300 --> 01:17:33,500
However, many tiles per chunk.

1580
01:17:34,700 --> 01:17:36,500
We actually went.

1581
01:17:36,900 --> 01:17:37,100
Yes.

1582
01:17:37,100 --> 01:17:41,300
So I think what we've got is a problem of of just how the alignment is

1583
01:17:41,300 --> 01:17:43,200
being computed here, right?

1584
01:17:44,300 --> 01:17:47,300
Again, sorry about this having to do this right in the middle of the

1585
01:17:47,300 --> 01:17:49,900
Q&A, but I don't really want to leave a bug in the code.

1586
01:17:49,900 --> 01:17:50,800
It makes me grumpy.

1587
01:17:52,400 --> 01:17:56,800
So we basically we've got something where we have tiles, right?

1588
01:17:58,800 --> 01:17:59,900
And then we want to introduce.

1589
01:18:00,000 --> 01:18:01,900
Juice this concept of a tile chunk.

1590
01:18:02,500 --> 01:18:07,700
And and then we want to be able to pass in to this system.

1591
01:18:07,900 --> 01:18:09,200
A tile index.

1592
01:18:09,500 --> 01:18:11,800
Such that we can then compute.

1593
01:18:12,900 --> 01:18:13,300
What?

1594
01:18:13,300 --> 01:18:16,700
It's chunk relative offset is right.

1595
01:18:17,200 --> 01:18:21,200
And so, I guess what I need to do is this is Computing it without this

1596
01:18:21,200 --> 01:18:24,300
would never produce negative values, right?

1597
01:18:24,400 --> 01:18:28,200
This is Computing it as if the chunks were centered here and then it's

1598
01:18:28,200 --> 01:18:29,800
going to compute what the tile.

1599
01:18:30,000 --> 01:18:32,500
Index actually was, but that's not what we need to do.

1600
01:18:32,500 --> 01:18:36,800
We need to do is I guess, do that same math, but then say okay after

1601
01:18:36,800 --> 01:18:39,700
we do that, we need to figure out where the center of that chunk was,

1602
01:18:39,700 --> 01:18:41,500
and then go back towards the tile.

1603
01:18:41,900 --> 01:18:45,600
So so thinking it through

1604
01:18:47,900 --> 01:18:52,100
If our tiles for chunk is 16, that means that we want to go half the

1605
01:18:52,100 --> 01:18:53,200
tiles in.

1606
01:18:54,400 --> 01:18:58,100
We want to basically subtract half of this right away.

1607
01:18:58,300 --> 01:19:00,800
So it wouldn't be ABS tile X, right?

1608
01:19:00,800 --> 01:19:08,100
It would be AB style, x- tiles per chunk over to, right?

1609
01:19:08,200 --> 01:19:11,700
We'd want to we'd want to basically center around the center of the

1610
01:19:11,700 --> 01:19:12,400
Tau chunk.

1611
01:19:12,500 --> 01:19:13,600
I think that's right.

1612
01:19:13,600 --> 01:19:16,600
Again, we should think this through a little bit better, but I'm just

1613
01:19:16,700 --> 01:19:19,100
Trying to fix this so we can continue on with the Q&A.

1614
01:19:19,600 --> 01:19:20,500
If that makes sense.

1615
01:19:20,700 --> 01:19:23,100
So, let me see if that if that solves our problem.

1616
01:19:23,500 --> 01:19:25,600
Yeah, so that was that was that problem?

1617
01:19:27,000 --> 01:19:27,400
Yeah.

1618
01:19:27,800 --> 01:19:28,200
Okay.

1619
01:19:29,800 --> 01:19:33,400
And so then it looks like I broke the familiar though with our

1620
01:19:36,300 --> 01:19:43,500
I check their update familiar, which I'm not really sure why.

1621
01:19:43,500 --> 01:19:50,000
This I feel like distance squared should often be higher than that,

1622
01:19:52,600 --> 01:19:53,800
but I guess it wasn't.

1623
01:19:54,300 --> 01:19:56,500
Is that is that too aggressive of a check?

1624
01:19:56,500 --> 01:19:58,100
Or am I missing something obvious?

1625
01:20:00,000 --> 01:20:03,800
Like, why is that neutering the direction there?

1626
01:20:03,900 --> 01:20:05,000
What did I miss?

1627
01:20:05,300 --> 01:20:07,800
Because, if I remember correctly are familiars, were working just

1628
01:20:07,800 --> 01:20:08,300
fine.

1629
01:20:09,100 --> 01:20:15,200
When we were doing this, oops, when we were doing this, doing it this

1630
01:20:15,200 --> 01:20:17,200
way, but

1631
01:20:21,400 --> 01:20:22,200
Then it wasn't working.

1632
01:20:22,200 --> 01:20:23,700
So I'm very confused.

1633
01:20:23,800 --> 01:20:25,000
I'm very confused right now.

1634
01:20:25,000 --> 01:20:26,500
I feel like I've missed something.

1635
01:20:26,700 --> 01:20:29,600
I've done one of those like typos that I do on the stream and I'm

1636
01:20:29,600 --> 01:20:31,300
like, what is going on?

1637
01:20:31,700 --> 01:20:34,400
And then it's like, oh, duh, you forgot to do, whatever it was.

1638
01:20:35,200 --> 01:20:36,600
So this should have a check in it.

1639
01:20:36,600 --> 01:20:41,100
But when I actually added this check, I found that there was that it

1640
01:20:41,100 --> 01:20:43,000
almost it never would actually execute.

1641
01:20:43,000 --> 01:20:46,300
So I want to find out why that's actually happening, because that

1642
01:20:46,300 --> 01:20:48,400
doesn't really make any sense to me, right?

1643
01:20:48,700 --> 01:20:50,000
Oh, axe.

1644
01:20:50,000 --> 01:20:50,600
Oh, dear.

1645
01:20:51,200 --> 01:20:52,900
Accidentally deleted.

1646
01:20:52,900 --> 01:20:55,600
I must have hit Ctrl K on that line somehow.

1647
01:20:57,300 --> 01:20:59,000
Wow, how did that happen?

1648
01:21:00,000 --> 01:21:01,200
Well, that would explain it.

1649
01:21:02,400 --> 01:21:06,500
Yikes, that's that's awful man.

1650
01:21:06,500 --> 01:21:08,900
The Perils of editing on stream.

1651
01:21:09,100 --> 01:21:09,900
All right, well

1652
01:21:11,400 --> 01:21:12,200
Easy fix.

1653
01:21:12,300 --> 01:21:12,900
There we go.

1654
01:21:16,100 --> 01:21:16,500
All right.

1655
01:21:16,500 --> 01:21:20,400
So now if we want to actually generate more of them, we should be able

1656
01:21:20,400 --> 01:21:23,200
to now that we fixed the problem with spawning them in a lot of

1657
01:21:23,200 --> 01:21:23,900
different places.

1658
01:21:24,400 --> 01:21:29,500
We should be able to add them in larger quantities.

1659
01:21:29,600 --> 01:21:32,500
I don't know how many you were thinking you actually wanted.

1660
01:21:32,600 --> 01:21:33,400
We could see.

1661
01:21:35,200 --> 01:21:37,400
So we still not quite right.

1662
01:21:37,400 --> 01:21:38,600
So our chunk Prison from tile.

1663
01:21:38,600 --> 01:21:40,000
Still isn't quite right.

1664
01:21:40,300 --> 01:21:41,800
So, let's see why it's not right.

1665
01:21:42,000 --> 01:21:42,600
Let's take a look at that.

1666
01:21:42,600 --> 01:21:45,000
Result negative 7 negative.

1667
01:21:46,700 --> 01:21:48,100
What did I do wrong here?

1668
01:21:48,100 --> 01:21:49,500
So tiles per chunk?

1669
01:21:50,600 --> 01:21:51,500
Is 16.

1670
01:21:51,500 --> 01:21:53,900
Yeah, we will be actually look that up at 16.

1671
01:21:54,700 --> 01:21:55,400
So let's see.

1672
01:21:55,500 --> 01:21:56,700
ABS tile X.

1673
01:21:57,600 --> 01:22:01,500
We're taking that and we're dividing with how strong can get 0.

1674
01:22:03,100 --> 01:22:08,200
So, if we subtracting tiles for chunk out of that, we would have, you

1675
01:22:08,200 --> 01:22:10,800
know, three minus eight, right, which would be negative 5.

1676
01:22:11,700 --> 01:22:14,100
Why does that not seem reasonable?

1677
01:22:15,400 --> 01:22:18,600
Right - the chunk X tiles for chunk.

1678
01:22:21,400 --> 01:22:23,000
X World tile side in meters.

1679
01:22:23,600 --> 01:22:27,000
So what does that why tiles per chunk?

1680
01:22:28,400 --> 01:22:30,900
That seems totally fair.

1681
01:22:30,900 --> 01:22:31,300
Does it?

1682
01:22:31,300 --> 01:22:34,900
Not what is the, what is the issue there?

1683
01:22:34,900 --> 01:22:36,600
So let's actually walk through this math.

1684
01:22:37,100 --> 01:22:40,300
So I have my abs tile X is 3.

1685
01:22:41,500 --> 01:22:44,300
So, what does my result chunk x is 0.

1686
01:22:47,200 --> 01:22:50,900
So that should have that feels like.

1687
01:22:50,900 --> 01:22:53,300
That should be canonical to me.

1688
01:22:54,000 --> 01:22:55,400
So, what did it end up being?

1689
01:22:56,100 --> 01:22:57,400
So?

1690
01:23:00,200 --> 01:23:03,000
Tell side in meters, which is what?

1691
01:23:05,400 --> 01:23:10,500
Tile side and M is 1.9 chunk side, and M should be too tight.

1692
01:23:10,500 --> 01:23:12,100
So 16 times that.

1693
01:23:12,300 --> 01:23:13,000
Right.

1694
01:23:13,100 --> 01:23:14,600
So basically, we should have this.

1695
01:23:16,600 --> 01:23:17,500
Time 16.

1696
01:23:18,800 --> 01:23:19,200
Oops.

1697
01:23:20,800 --> 01:23:23,200
Times 16, which is what it is.

1698
01:23:24,500 --> 01:23:31,000
And so, if I come up with negative 5 negative 5 times the tile sided

1699
01:23:31,000 --> 01:23:33,200
M, should in no way have given me.

1700
01:23:33,200 --> 01:23:33,400
Okay.

1701
01:23:33,400 --> 01:23:34,400
So, that's what that gave me.

1702
01:23:34,700 --> 01:23:37,100
And so, then the, why is the only one that I guess.

1703
01:23:37,100 --> 01:23:37,800
That's wrong.

1704
01:23:38,500 --> 01:23:39,200
AB style.

1705
01:23:39,200 --> 01:23:39,800
Why?

1706
01:23:42,500 --> 01:23:44,400
Is the one that yet that appear.

1707
01:23:44,400 --> 01:23:47,900
As long as the ABS tile Y is negative 1.

1708
01:23:50,900 --> 01:23:51,800
and so, that's

1709
01:23:53,900 --> 01:23:54,800
That's causing a problem.

1710
01:23:54,800 --> 01:23:56,200
Because why, exactly?

1711
01:23:56,400 --> 01:23:57,600
So, our chunk, why.

1712
01:24:00,600 --> 01:24:02,300
Is still 0 which is fine.

1713
01:24:03,500 --> 01:24:08,100
Our ABS tile y minus 8 is going to be negative 9.

1714
01:24:09,000 --> 01:24:09,800
Oh, okay.

1715
01:24:11,300 --> 01:24:11,600
Right?

1716
01:24:11,600 --> 01:24:13,700
Because this is a floor since I did it.

1717
01:24:15,000 --> 01:24:16,000
I see what's happening.

1718
01:24:16,200 --> 01:24:20,200
So since this is essentially doing, this is doing the calculation to

1719
01:24:20,200 --> 01:24:22,800
find out where you would have been if it's negative.

1720
01:24:22,800 --> 01:24:24,200
We actually can't.

1721
01:24:24,400 --> 01:24:24,900
It.

1722
01:24:24,900 --> 01:24:27,100
We are trying to find the floor of that.

1723
01:24:27,100 --> 01:24:30,000
We're trying to find we would it should have been in the next chunk

1724
01:24:30,000 --> 01:24:31,800
over in that case.

1725
01:24:31,800 --> 01:24:34,100
So this is not really correct.

1726
01:24:34,600 --> 01:24:36,600
Unfortunately, right.

1727
01:24:38,900 --> 01:24:41,200
Yeah, this is not really correct.

1728
01:24:41,200 --> 01:24:44,600
Because if the number is negative than right.

1729
01:24:44,600 --> 01:24:45,800
I don't know if this this makes sense.

1730
01:24:45,800 --> 01:24:47,100
So what's going on here?

1731
01:24:49,500 --> 01:24:51,400
This is not really something I want to do in the Q and A.

1732
01:24:51,400 --> 01:24:52,200
This is unfortunate.

1733
01:24:52,200 --> 01:24:55,000
But what you gonna do, things come up when they come up.

1734
01:24:55,900 --> 01:24:58,700
So we have our chunks here.

1735
01:25:01,400 --> 01:25:04,800
Right, and there's actually I guess this is.

1736
01:25:04,800 --> 01:25:08,000
There's a lot more of these gridlines I'm drawing, but it would still

1737
01:25:08,000 --> 01:25:09,400
work no matter how many we had.

1738
01:25:10,400 --> 01:25:13,900
So what we're doing is we're representing the chunks by saying, we've

1739
01:25:13,900 --> 01:25:17,200
got the center and then we've got an offset to wherever the entity is,

1740
01:25:17,500 --> 01:25:18,300
right.

1741
01:25:19,100 --> 01:25:24,200
And then we've got this situation where if we wanted to find out where

1742
01:25:24,200 --> 01:25:25,700
something was, right?

1743
01:25:25,700 --> 01:25:27,400
Let's say that the something is here.

1744
01:25:27,900 --> 01:25:31,100
We need to First find out which chunk it's in and then we need

1745
01:25:31,300 --> 01:25:32,400
Find out what it's offset is.

1746
01:25:32,600 --> 01:25:37,700
Well when the offset is this side of the corner, the math.

1747
01:25:37,700 --> 01:25:39,100
I wrote work just fine.

1748
01:25:39,100 --> 01:25:42,100
Right, but when it's on this side of the corner, it's going to

1749
01:25:42,100 --> 01:25:44,100
truncate towards here.

1750
01:25:44,200 --> 01:25:46,100
So it's going to pick this chunk.

1751
01:25:46,100 --> 01:25:48,300
When it does the Divide to see which one it's in.

1752
01:25:48,500 --> 01:25:51,700
It's going to pick this truck chunk instead of what should have done,

1753
01:25:51,700 --> 01:25:53,200
which is picked the other chunk.

1754
01:25:53,600 --> 01:25:54,200
Right?

1755
01:25:54,900 --> 01:25:58,000
And so what I want to do is I want to have something that's going to

1756
01:25:58,000 --> 01:26:00,800
correctly, bucket this into the chunk.

1757
01:26:00,800 --> 01:26:01,100
That's

1758
01:26:01,200 --> 01:26:02,800
Behind it, right?

1759
01:26:03,800 --> 01:26:07,200
And so that it works on either side of the 0.

1760
01:26:09,200 --> 01:26:11,900
So that's kind of annoying, right?

1761
01:26:11,900 --> 01:26:13,900
But that's that's where we're at.

1762
01:26:14,100 --> 01:26:15,600
That is why that is not working.

1763
01:26:16,400 --> 01:26:21,400
And so I'm not sure what the, fastest way to fix that is, I guess the

1764
01:26:21,400 --> 01:26:23,000
fastest way to fix it.

1765
01:26:29,100 --> 01:26:30,000
Mmm-hmm.

1766
01:26:32,800 --> 01:26:34,700
What is the fastest way to fix it?

1767
01:26:35,300 --> 01:26:41,500
I guess, the fastest way to fix it is probably to say.

1768
01:26:43,000 --> 01:26:47,200
Well, let's just do it in full load.

1769
01:26:47,200 --> 01:26:47,700
I guess.

1770
01:26:47,700 --> 01:26:51,200
Well, then, I don't know if that introduces a Precision problem.

1771
01:26:52,900 --> 01:26:53,700
Mmm-hmm.

1772
01:26:56,200 --> 01:26:57,000
Because it's a little.

1773
01:26:57,000 --> 01:26:58,100
Yeah, it's a little tricky.

1774
01:26:58,200 --> 01:26:59,800
I'm not sure how to how I'm not sure how to do.

1775
01:27:00,000 --> 01:27:02,700
Quickly, this is something that I'm not particularly good at these

1776
01:27:02,700 --> 01:27:07,300
kinds of discrete math, you kinds of things either.

1777
01:27:07,500 --> 01:27:11,200
So this is exactly the kind of thing that if you need it done in 50

1778
01:27:11,200 --> 01:27:13,300
seconds, which is what we would like to have happen here.

1779
01:27:13,300 --> 01:27:15,000
I'm exactly the wrong guy for that.

1780
01:27:15,700 --> 01:27:17,700
So unfortunately, I don't know that I'm going to come up with the

1781
01:27:17,700 --> 01:27:21,600
correct solution is probably something, actually relatively simple, if

1782
01:27:21,600 --> 01:27:25,800
you just look at it the right way, but of course, I'm not actually

1783
01:27:25,800 --> 01:27:27,000
sure what that would be.

1784
01:27:27,000 --> 01:27:28,900
So let me think about this for one more second.

1785
01:27:28,900 --> 01:27:29,800
See if I come up with something.

1786
01:27:30,000 --> 01:27:35,500
NG relatively useful, so if I was to do it, if I was to leave it the

1787
01:27:35,500 --> 01:27:38,400
way that it was being done before, right?

1788
01:27:38,700 --> 01:27:40,500
Then I know that that does.

1789
01:27:40,500 --> 01:27:46,200
At least give me what the offset is now, right?

1790
01:27:46,700 --> 01:27:52,000
So what I could do is I could look to see I suppose I could look to

1791
01:27:52,000 --> 01:27:58,600
see if it's negative and then if it is just bump it up by one, right?

1792
01:28:00,300 --> 01:28:04,200
That actually would be really easy to do.

1793
01:28:04,400 --> 01:28:08,100
It seems pretty cheesy, and I don't really know if that works

1794
01:28:08,100 --> 01:28:08,800
correctly.

1795
01:28:08,900 --> 01:28:09,400
But right?

1796
01:28:09,400 --> 01:28:14,600
Like if I did, if I did ABS tile X,

1797
01:28:18,500 --> 01:28:20,800
yeah, I mean if I did ABS Thai Lex,

1798
01:28:22,000 --> 01:28:23,600
Less than zero results.

1799
01:28:23,600 --> 01:28:27,600
Chunk X plus plus like in theory that works.

1800
01:28:27,600 --> 01:28:28,400
I guess.

1801
01:28:28,900 --> 01:28:31,000
I don't know that seems really janky.

1802
01:28:31,200 --> 01:28:34,700
So this is definitely not good.

1803
01:28:35,600 --> 01:28:36,800
But yeah, you do.

1804
01:28:38,400 --> 01:28:45,300
Think this through on the real stream and actually work out the math.

1805
01:28:46,300 --> 01:28:49,400
So I don't know if that'll actually work here, that may be awful as

1806
01:28:49,400 --> 01:28:49,900
well.

1807
01:28:51,700 --> 01:28:52,800
But we'll see what happens.

1808
01:28:53,200 --> 01:28:53,600
All right.

1809
01:28:53,600 --> 01:28:55,800
So which familiar are we adding here?

1810
01:28:55,800 --> 01:28:56,900
We adding the same one.

1811
01:28:57,300 --> 01:28:57,700
AB style.

1812
01:28:57,700 --> 01:28:58,400
X is 3.

1813
01:28:58,400 --> 01:28:59,800
Ab star Y is negative 10.

1814
01:29:03,100 --> 01:29:05,000
So, okay.

1815
01:29:05,800 --> 01:29:08,600
So, oh, I went the wrong way.

1816
01:29:08,900 --> 01:29:09,300
Duh.

1817
01:29:09,600 --> 01:29:12,400
It's - it's the previous chunk.

1818
01:29:12,400 --> 01:29:13,200
Not the next jump.

1819
01:29:13,200 --> 01:29:13,900
In that case.

1820
01:29:15,100 --> 01:29:15,800
So there we go.

1821
01:29:18,000 --> 01:29:18,800
Alright.

1822
01:29:19,000 --> 01:29:21,500
So that's adding the same.

1823
01:29:21,500 --> 01:29:23,200
I must have had a typo in there.

1824
01:29:23,200 --> 01:29:26,500
I feel like familiar offsets.

1825
01:29:26,500 --> 01:29:27,100
Yes, I did.

1826
01:29:27,200 --> 01:29:27,700
There we go.

1827
01:29:28,400 --> 01:29:31,400
So now we've got our more familiar is that was way too much work to

1828
01:29:31,400 --> 01:29:32,700
add a bunch of familiars.

1829
01:29:32,800 --> 01:29:35,200
Bunch of them are stranded outside the map as well.

1830
01:29:35,200 --> 01:29:37,100
I guess I can't put them that far.

1831
01:29:37,400 --> 01:29:41,200
So the Y offset has to be less but the X offset could be more I guess.

1832
01:29:41,600 --> 01:29:46,300
So then we've got kind of a spread so there are some familiars.

1833
01:29:46,300 --> 01:29:48,700
I don't know that this is necessarily such a good idea.

1834
01:29:48,700 --> 01:29:51,000
But there they are.

1835
01:29:51,400 --> 01:29:55,900
There's a lot of them and they kind of all will collapse like Daleks

1836
01:29:55,900 --> 01:29:57,100
into a point, right?

1837
01:29:57,100 --> 01:29:58,900
Because they're all chasing the same guy.

1838
01:29:58,900 --> 01:29:59,900
So I feel like

1839
01:30:00,000 --> 01:30:02,300
That's maybe a little less interesting than it could be.

1840
01:30:02,400 --> 01:30:06,200
I suppose, what I could do is force them to actually Collide, right?

1841
01:30:06,400 --> 01:30:12,000
So I could change the entity to collide when we, when we add the

1842
01:30:12,000 --> 01:30:12,900
familiars right now.

1843
01:30:12,900 --> 01:30:14,700
We're saying that they don't collide with each other.

1844
01:30:15,000 --> 01:30:18,500
What I could do is say that they actually do and that might make that

1845
01:30:18,500 --> 01:30:19,600
a little more interesting.

1846
01:30:19,900 --> 01:30:23,900
So that when you run it, you know, they can't quite Bunch up because

1847
01:30:23,900 --> 01:30:26,700
they all hit each other if that makes sense.

1848
01:30:27,000 --> 01:30:28,300
So, they'll be less Bunchy.

1849
01:30:29,500 --> 01:30:30,400
And there they go.

1850
01:30:31,400 --> 01:30:34,200
And of course, that makes a crowd that I can't get through.

1851
01:30:34,400 --> 01:30:36,400
Like I can't push a familiar yet.

1852
01:30:36,400 --> 01:30:37,500
So that's a problem.

1853
01:30:38,600 --> 01:30:40,900
But yeah, we'll see.

1854
01:30:46,900 --> 01:30:47,800
How old is he work?

1855
01:30:47,800 --> 01:30:48,500
Exactly?

1856
01:30:49,000 --> 01:30:49,800
I don't know.

1857
01:30:49,900 --> 01:30:50,500
That's are saying.

1858
01:30:50,500 --> 01:30:52,300
We'll have to see what the game wants from Z.

1859
01:30:52,600 --> 01:30:58,300
I think, really mostly what I want to do is just, you know, allow you

1860
01:30:58,300 --> 01:31:01,400
to kind of float over things if you're flying or those sorts of stuff.

1861
01:31:01,900 --> 01:31:05,300
But yeah, I mean like you brought up with something like looking

1862
01:31:05,300 --> 01:31:09,000
through a hole in the ground to the low lower Z level work, that might

1863
01:31:09,000 --> 01:31:11,200
be interesting, so it might be something to try.

1864
01:31:11,200 --> 01:31:14,100
I'm not sure we'll have to see what we want to do.

1865
01:31:14,800 --> 01:31:16,500
Z and 2D games is always kind of janky.

1866
01:31:16,800 --> 01:31:18,900
So, we just kind of have to play it by ear and say, what do we want

1867
01:31:18,900 --> 01:31:21,100
out of our Z and then go write the code to handle it.

1868
01:31:22,100 --> 01:31:24,400
That's, that's one of the nice things about doing everything.

1869
01:31:24,600 --> 01:31:27,200
If you were actually doing a full 3D game is, you know, a lot of

1870
01:31:27,200 --> 01:31:29,900
things, get more complicated, but one thing it's less complicated,

1871
01:31:29,900 --> 01:31:33,000
which is you don't have to fake this sort of stuff, right?

1872
01:31:35,800 --> 01:31:38,100
Will there be a flock system for all the floating heads following the

1873
01:31:38,100 --> 01:31:38,500
hero?

1874
01:31:39,900 --> 01:31:40,500
Probably?

1875
01:31:40,500 --> 01:31:42,600
Not at the moment, maybe down the line.

1876
01:31:43,400 --> 01:31:45,400
What kind of path finding will be implanted for hyades?

1877
01:31:45,400 --> 01:31:46,700
And how will they differ from far away?

1878
01:31:46,700 --> 01:31:50,200
Low entities, and we'll low-energy NPC's that are always on the Move

1879
01:31:50,300 --> 01:31:52,200
really far away, always resolve.

1880
01:31:52,200 --> 01:31:54,500
It would be interesting to come across a very live world, full of

1881
01:31:54,500 --> 01:31:55,000
History.

1882
01:31:55,000 --> 01:31:55,800
Dead bodies, Etc.

1883
01:31:55,800 --> 01:31:57,900
Due to constant a updating, but would that be feasible?

1884
01:31:57,900 --> 01:31:59,300
I don't know, but we could try it.

1885
01:32:00,300 --> 01:32:00,700
Basically.

1886
01:32:00,700 --> 01:32:04,100
What we have to do for pathfinding for the low, entities is something

1887
01:32:04,100 --> 01:32:05,200
that's very structural and

1888
01:32:05,400 --> 01:32:08,100
We'll have to see how we can if we can treat our world in a convenient

1889
01:32:08,100 --> 01:32:09,600
way that allows that to be possible.

1890
01:32:11,200 --> 01:32:15,900
For Hire, these we can do fairly good pathfinding, but for low in

1891
01:32:15,900 --> 01:32:17,900
these yet, it's going to be interesting.

1892
01:32:19,800 --> 01:32:21,200
How easy would it be to chain?

1893
01:32:21,200 --> 01:32:23,700
Multiple Bob, Lee heads to follow each other.

1894
01:32:24,900 --> 01:32:26,100
Well, really easy, right?

1895
01:32:26,100 --> 01:32:29,000
Because since they're just looking for something to follow, you could

1896
01:32:29,000 --> 01:32:34,000
just have them use any hero or any familiar, right?

1897
01:32:34,100 --> 01:32:37,500
So if you, if you go look at update familiar, you could have it.

1898
01:32:37,500 --> 01:32:43,500
Be basically, like, if High into the index is not equal to my entity

1899
01:32:43,700 --> 01:32:44,900
High Index, right?

1900
01:32:46,500 --> 01:32:48,200
So it's not me.

1901
01:32:48,500 --> 01:32:56,100
First of all, and it's it's test entity type is either a hero or it's

1902
01:32:56,100 --> 01:32:59,800
a familiar then, you know, it'll follow it.

1903
01:33:01,400 --> 01:33:04,200
You know, it work, I think right?

1904
01:33:05,900 --> 01:33:10,200
So, you know, they all kind of followed each other there and and part

1905
01:33:10,200 --> 01:33:13,500
of the problem is now they're all kind of just locked up and I can

1906
01:33:13,500 --> 01:33:16,200
never be closer than that, you know, they are already as close as they

1907
01:33:16,200 --> 01:33:17,000
were going to be.

1908
01:33:18,000 --> 01:33:21,700
So what I'd have to do is introduce something that says like, oh, you

1909
01:33:21,700 --> 01:33:26,000
know, if it was a hero then you know, it gets preferential treatment

1910
01:33:27,200 --> 01:33:29,800
or something like this, you know, I don't really know.

1911
01:33:30,000 --> 01:33:34,200
No, I could say something like Heroes.

1912
01:33:34,200 --> 01:33:36,000
Get a bias on them.

1913
01:33:36,200 --> 01:33:45,100
So for example, something like, if test entity low, type equals entity

1914
01:33:45,100 --> 01:33:52,100
type hero like that, in that case, we biased the test distance squared

1915
01:33:52,100 --> 01:33:57,600
to be like, you know, half of what it was or some just something.

1916
01:33:57,600 --> 01:33:59,000
I'm just totally making this up.

1917
01:33:59,300 --> 01:33:59,800
I don't know why.

1918
01:34:00,000 --> 01:34:04,600
Close the app, but so that the hero can always pull one away, right?

1919
01:34:05,400 --> 01:34:08,200
The problem is he wouldn't be able to pull two of them away.

1920
01:34:08,600 --> 01:34:11,100
So, yeah, it's just, it's just not that useful.

1921
01:34:11,400 --> 01:34:19,800
Like I we'd probably need to make some logic that tried to well, you

1922
01:34:19,800 --> 01:34:20,400
know what I mean?

1923
01:34:20,400 --> 01:34:24,200
We could we could do something even more ridiculous, which is that,

1924
01:34:24,200 --> 01:34:26,900
like, you inherit a follow number or something, right?

1925
01:34:26,900 --> 01:34:29,800
Like you could say something like, you know, the high

1926
01:34:29,900 --> 01:34:34,600
Entity has something that's like how you know hero distance or

1927
01:34:34,600 --> 01:34:39,700
something that's set on it and heroes always have that hero distance

1928
01:34:40,400 --> 01:34:45,300
set to zero or something like this but a familiar will have it set to

1929
01:34:45,500 --> 01:34:49,200
whatever it's following plus 1 or something like this.

1930
01:34:51,200 --> 01:34:52,600
You know, I'm not going to try to invent.

1931
01:34:53,000 --> 01:34:54,400
I'm not going to try to do that right now though.

1932
01:34:55,300 --> 01:34:58,000
So, yeah, so that's we'd have to do something like that for now.

1933
01:34:58,000 --> 01:34:59,800
I think I'll stick with just having it.

1934
01:35:00,000 --> 01:35:01,100
Follow the hero.

1935
01:35:01,700 --> 01:35:06,200
And I think maybe we probably shouldn't have quite as many as we have.

1936
01:35:06,400 --> 01:35:11,000
So I'm going to go ahead and just keep that to 14 now because this

1937
01:35:11,000 --> 01:35:13,200
seems like a saner that was what I was trying to do.

1938
01:35:13,200 --> 01:35:15,600
And I think we maybe had a little too much going on there.

1939
01:35:15,600 --> 01:35:16,800
We're not ready for that yet.

1940
01:35:26,300 --> 01:35:30,300
Camera, 2 y, plus offset y, not offset X in add familiar call.

1941
01:35:30,300 --> 01:35:31,400
Or is there a typo in there?

1942
01:35:31,400 --> 01:35:34,000
Add familiar familiar?

1943
01:35:37,500 --> 01:35:38,600
Oh, you mean down here?

1944
01:35:38,600 --> 01:35:40,300
Oh, that's the one I already corrected.

1945
01:35:40,400 --> 01:35:41,100
Yeah, okay.

1946
01:36:00,700 --> 01:36:02,700
So, let's see.

1947
01:36:04,900 --> 01:36:07,300
That's very glad to hear that you deem classes to be basically

1948
01:36:07,300 --> 01:36:07,800
garbage.

1949
01:36:07,800 --> 01:36:10,300
I spent too much time in c-sharp trying to learn object enter.

1950
01:36:10,300 --> 01:36:11,400
Jugglery between them.

1951
01:36:11,400 --> 01:36:17,400
Oh, well, yes they are but that's yes, not really question.

1952
01:36:17,400 --> 01:36:21,200
But but yes about the Chancellor's could each of our check if the hero

1953
01:36:21,200 --> 01:36:24,000
has a familiar already and if it does then try to follow the familiar

1954
01:36:24,000 --> 01:36:27,000
instead guess but it needs to propagate out.

1955
01:36:27,000 --> 01:36:29,300
So it just needs to increment like a counter and always take the

1956
01:36:29,300 --> 01:36:30,000
highest.

1957
01:36:30,400 --> 01:36:31,400
Counter level.

1958
01:36:33,700 --> 01:36:35,900
If that makes sense, we could do it.

1959
01:36:35,900 --> 01:36:37,600
I just didn't work.

1960
01:36:37,800 --> 01:36:38,800
We're already out of time.

1961
01:36:38,800 --> 01:36:41,100
So I just want it's we base this, make an integer and we increment it.

1962
01:36:41,100 --> 01:36:41,600
For each guy.

1963
01:36:41,600 --> 01:36:42,900
We could do it on the next dream.

1964
01:36:42,900 --> 01:36:43,800
It wouldn't be too bad.

1965
01:36:44,400 --> 01:36:46,100
All right, I think we've come to the end of the questions.

1966
01:36:46,300 --> 01:36:49,400
Thankfully took up a bunch of time there.

1967
01:36:49,600 --> 01:36:51,700
All right, so we're a little late today, but that's okay.

1968
01:36:51,900 --> 01:36:54,300
Better late than never, we had something come up in the middle of the

1969
01:36:54,300 --> 01:36:54,700
Q&A.

1970
01:36:54,700 --> 01:36:56,100
That was good, that we fix it.

1971
01:36:56,100 --> 01:36:58,000
Anyway, although we didn't really fix it.

1972
01:36:58,000 --> 01:36:59,400
We still have a to do there.

1973
01:36:59,400 --> 01:37:02,200
We got actually think this through because that's pretty lame.

1974
01:37:02,200 --> 01:37:02,900
Presumably.

1975
01:37:03,200 --> 01:37:03,400
Thanks.

1976
01:37:03,600 --> 01:37:06,900
This is not really a function we do at other than at startup time, but

1977
01:37:06,900 --> 01:37:09,900
still I just like to figure out how we should actually think about

1978
01:37:09,900 --> 01:37:11,300
tiles and all that other stuff.

1979
01:37:11,600 --> 01:37:16,300
So anyway, ignoring all of that, go ahead and close that down and wrap

1980
01:37:16,300 --> 01:37:17,300
things up.

1981
01:37:18,700 --> 01:37:20,600
Okay, so

1982
01:37:21,900 --> 01:37:23,300
no clothes clothes.

1983
01:37:23,300 --> 01:37:23,900
There we go.

1984
01:37:24,100 --> 01:37:26,600
Thank you everyone for joining me for another edition of handmade

1985
01:37:26,600 --> 01:37:27,100
hero.

1986
01:37:28,300 --> 01:37:29,600
It has been a pleasure coding with you.

1987
01:37:29,600 --> 01:37:35,000
As always, if you would like to continue our little entity trip here

1988
01:37:35,000 --> 01:37:38,300
of making entities and making them do interesting things, which we're

1989
01:37:38,300 --> 01:37:39,300
going to have to do.

1990
01:37:39,300 --> 01:37:41,700
Like I said, take several days to kind of just make crazy stuff

1991
01:37:41,700 --> 01:37:42,500
happened with them.

1992
01:37:43,800 --> 01:37:46,900
You will want to come back tomorrow at 9 a.m.

1993
01:37:46,900 --> 01:37:50,600
Pacific Standard time when I will be right here, doing some more of

1994
01:37:50,600 --> 01:37:51,500
exactly

1995
01:37:51,700 --> 01:37:54,100
That hope to see you here.

1996
01:37:54,100 --> 01:37:54,800
I realized this morning.

1997
01:37:54,800 --> 01:37:56,000
You'll be some breakfast coating.

1998
01:37:57,700 --> 01:38:00,200
So maybe you can't make it but maybe some folks from Europe, can it's

1999
01:38:00,200 --> 01:38:01,900
a different time sometimes a little bit better for them.

2000
01:38:02,200 --> 01:38:03,400
So anyway, I hope to see you here.

2001
01:38:03,700 --> 01:38:05,300
But if not have a fabulous Friday.

2002
01:38:05,300 --> 01:38:09,000
Anyway, if you would like to follow along with the source code, you

2003
01:38:09,000 --> 01:38:11,900
can always pre-order the game and it comes with the source code, which

2004
01:38:12,300 --> 01:38:14,300
you can download and play around with yourself.

2005
01:38:14,700 --> 01:38:16,700
You can do that here on handmade hero dot-org.

2006
01:38:17,200 --> 01:38:19,400
If you want to support the video series, you could subscribe to our

2007
01:38:19,400 --> 01:38:21,500
patreon, which we have with this little handy link.

2008
01:38:21,700 --> 01:38:22,000
Here.

2009
01:38:22,500 --> 01:38:26,600
If you want to follow the brand new totally amazing.

2010
01:38:26,800 --> 01:38:31,400
No one can believe how unbelievably awesome it is.

2011
01:38:32,200 --> 01:38:36,100
Hand made her a tweet bot, which tells you what the schedule is every

2012
01:38:36,100 --> 01:38:36,600
day.

2013
01:38:36,700 --> 01:38:38,900
And what the whole schedule for the week is at the beginning of the

2014
01:38:38,900 --> 01:38:39,400
week.

2015
01:38:40,000 --> 01:38:41,800
Ladies and gentleman, I wrote this by hand.

2016
01:38:41,900 --> 01:38:42,700
Okay, I wrote it.

2017
01:38:42,700 --> 01:38:45,400
But now I didn't really I use like lip curl or something.

2018
01:38:45,400 --> 01:38:46,900
I think so.

2019
01:38:46,900 --> 01:38:50,000
I didn't really write it by hand, but but I wrote it.

2020
01:38:50,700 --> 01:38:53,900
Using web Technologies, which is one of those things that I don't

2021
01:38:53,900 --> 01:38:55,500
really do very often.

2022
01:38:55,500 --> 01:38:57,200
So it was a little nerve-racking but it worked.

2023
01:38:58,300 --> 01:38:59,800
So, anyway, if you want to follow that, you can do.

2024
01:39:00,000 --> 01:39:02,000
Here, and that's an easy way to get schedule.

2025
01:39:02,100 --> 01:39:02,600
Finally.

2026
01:39:02,600 --> 01:39:07,100
If you would like to check out older episodes or learn how to Port the

2027
01:39:07,100 --> 01:39:11,500
serious to Mac or Linux or ask questions on our forums news and forums

2028
01:39:11,500 --> 01:39:12,400
is the place to do it.

2029
01:39:12,400 --> 01:39:13,200
Please check that out.

2030
01:39:13,200 --> 01:39:16,100
It's got a lot of good resources in it, and you can post on the

2031
01:39:16,100 --> 01:39:16,400
forums.

2032
01:39:16,400 --> 01:39:19,300
There are two to ask questions if you've got questions outside the

2033
01:39:19,300 --> 01:39:22,600
stream, so thank you everyone and I hope to see you tomorrow morning.

2034
01:39:22,700 --> 01:39:24,600
If not have a fabulous weekend.

