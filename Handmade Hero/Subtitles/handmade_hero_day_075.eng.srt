1
00:00:01,800 --> 00:00:03,700
Hello, everyone, and welcome to handmade hero.

2
00:00:03,700 --> 00:00:07,300
The show, where we go to complete game live on Twitch using no

3
00:00:07,300 --> 00:00:08,600
engines, no libraries.

4
00:00:08,800 --> 00:00:12,100
It's really designed to be a complete project from start to finish,

5
00:00:12,100 --> 00:00:15,600
where we show, how absolutely everything that is involved in the

6
00:00:15,600 --> 00:00:19,500
execution of a game, including the engine, and the low-level rendering

7
00:00:19,500 --> 00:00:24,400
and everything work at a very specific and fine grain level.

8
00:00:24,600 --> 00:00:27,700
And right now, we are in the middle of doing something, which is kind

9
00:00:27,700 --> 00:00:28,300
of cool.

10
00:00:28,800 --> 00:00:30,500
We are sort of exploring how we

11
00:00:30,900 --> 00:00:36,000
To handle the notion of three dimensions, inside a game, that is, you

12
00:00:36,000 --> 00:00:38,100
know, using 2D art assets.

13
00:00:39,000 --> 00:00:43,400
And so we're kind of working out exactly how we treat that third

14
00:00:43,400 --> 00:00:43,900
dimension.

15
00:00:43,900 --> 00:00:47,800
And what's interesting about this is basically that

16
00:00:49,900 --> 00:00:52,000
If you make a game that's full 3d.

17
00:00:52,200 --> 00:00:56,300
Then everything has to be represented fully in three dimensions,

18
00:00:56,300 --> 00:00:59,200
obviously, and it kind of it solves some things for you.

19
00:00:59,200 --> 00:01:01,700
It creates a lot of problems for you and new things that you have to

20
00:01:01,700 --> 00:01:04,400
deal with, certainly, but it also solves a couple problems for you.

21
00:01:04,700 --> 00:01:07,500
Such as how you deal with height and things like this.

22
00:01:07,700 --> 00:01:10,800
Because since everything is represented in 3D, you can just do full

23
00:01:10,800 --> 00:01:15,000
simulation on it and you get what you expect to happen out, right?

24
00:01:15,300 --> 00:01:19,500
And that's kind of nice but you know, too?

25
00:01:19,700 --> 00:01:23,600
Game where things are not modeled into, you said bitmaps.

26
00:01:24,800 --> 00:01:30,800
That represent things, you need to have some kind of semantic

27
00:01:30,800 --> 00:01:36,000
understanding of what should happen in terms of height because, you

28
00:01:36,000 --> 00:01:40,100
know, to a certain extent, your game will probably have some limited

29
00:01:40,100 --> 00:01:43,400
interaction with that third dimension, even though it's technically a

30
00:01:43,400 --> 00:01:44,100
2-D game.

31
00:01:44,100 --> 00:01:47,400
And so for example, thing that we're looking at now is what happens if

32
00:01:47,400 --> 00:01:49,600
we want to put like a stairwell in the game.

33
00:01:49,600 --> 00:01:53,500
What happens if we want to levels of something where you can see down

34
00:01:53,500 --> 00:01:54,500
to the level below it, right?

35
00:01:54,700 --> 00:01:59,300
There are things you may want to do that involve a third dimension

36
00:01:59,600 --> 00:02:02,400
even though the game itself is not three-dimensional.

37
00:02:02,400 --> 00:02:05,700
And what we're doing right now is kind of exploring what our options

38
00:02:05,700 --> 00:02:10,100
are there and what it means for the code to do certain things there.

39
00:02:11,000 --> 00:02:16,000
So that we have a solid view at solid perspective, pun intended,

40
00:02:16,000 --> 00:02:21,100
perhaps on that third dimension when we move into, developing the

41
00:02:21,100 --> 00:02:24,500
engine shipping engine code because I

42
00:02:24,600 --> 00:02:27,800
I don't want to get into a situation where Z is always sort of

43
00:02:27,800 --> 00:02:32,800
haphazardly, handled and like sort of lumber towards the finish line

44
00:02:32,800 --> 00:02:34,200
of shipping the game with.

45
00:02:34,200 --> 00:02:38,000
Oh he's kind of fighting how we're representing Z and hacking things

46
00:02:38,000 --> 00:02:38,200
here.

47
00:02:38,200 --> 00:02:42,400
And there, I'd rather have a very solid conception of it if we can

48
00:02:43,000 --> 00:02:43,800
manage it.

49
00:02:43,800 --> 00:02:47,700
So that it's always handled, very cleanly and logically in the game

50
00:02:47,700 --> 00:02:50,300
and allows us to do all the things that we might want to do with it.

51
00:02:50,700 --> 00:02:54,100
So that's what we're doing today, we're continuing that we started

52
00:02:54,100 --> 00:02:54,500
that

53
00:02:54,900 --> 00:02:57,900
Sort of earlier in the week and we've sort of been slowly going

54
00:02:57,900 --> 00:02:59,800
through and going through a piece.

55
00:03:00,000 --> 00:03:01,900
Code and seeing what Z means to them.

56
00:03:02,400 --> 00:03:04,600
And so let's go ahead and do that.

57
00:03:05,000 --> 00:03:06,500
Let's go ahead and continue doing that today.

58
00:03:07,000 --> 00:03:09,500
Now, before I begin, obviously, if you pre-ordered the game on

59
00:03:09,500 --> 00:03:13,300
handmade hero dot-org, you should have gotten a link in your email and

60
00:03:13,300 --> 00:03:15,400
that link allows you to download the source code every day.

61
00:03:15,400 --> 00:03:19,600
So if you'd like to follow along today is day 75.

62
00:03:19,600 --> 00:03:20,800
So you're going to want to unpack day.

63
00:03:20,800 --> 00:03:24,600
74 is source code and you're going to want to start with that because

64
00:03:24,600 --> 00:03:27,900
that's what I'm starting with a 74 yesterday source code here on day

65
00:03:27,900 --> 00:03:28,700
75.

66
00:03:30,300 --> 00:03:36,500
All right, so let's, let's, let's sort of recap a little bit and let's

67
00:03:36,500 --> 00:03:37,700
think about where we were.

68
00:03:38,900 --> 00:03:43,200
We had just finished doing some stuff where we were working on going

69
00:03:43,200 --> 00:03:47,400
up and down, stairwells and how we decided we wanted to implement that

70
00:03:47,500 --> 00:03:52,200
yesterday, was we, you know, I should make a new one for our day.

71
00:03:53,500 --> 00:03:54,500
75.

72
00:03:56,000 --> 00:03:57,500
J 75.

73
00:03:59,200 --> 00:04:05,500
So, what we had decided to do basically is, if you imagine looking, so

74
00:04:05,500 --> 00:04:08,000
we'll do a top and side view since this is three dimensions.

75
00:04:08,000 --> 00:04:11,200
We got to kind of think about it, in terms of a full three dimensions.

76
00:04:11,500 --> 00:04:16,600
If we have something like a stairwell and our stairwell is, I believe

77
00:04:16,800 --> 00:04:18,300
it goes up this way.

78
00:04:18,300 --> 00:04:21,300
So, basically, you'd imagine like, this is the bottom stair.

79
00:04:21,300 --> 00:04:23,200
And this is the top stair of our stairwell.

80
00:04:23,300 --> 00:04:25,700
Can also think of, as a ramp the way we

81
00:04:25,900 --> 00:04:29,800
Chosen to implement it, and if you're into perspective, you could

82
00:04:29,800 --> 00:04:32,900
probably imagine it looking a little more like this.

83
00:04:34,200 --> 00:04:34,600
Right.

84
00:04:34,600 --> 00:04:36,300
It gets bigger as it goes up.

85
00:04:37,700 --> 00:04:38,700
Something like that.

86
00:04:39,400 --> 00:04:41,900
So if we're going to go up the stairwell, that we decided to do is,

87
00:04:41,900 --> 00:04:45,100
well, when the player comes here, and they hit the stairwell, what we

88
00:04:45,100 --> 00:04:49,500
want to do is say that the players Y location relative to the

89
00:04:49,500 --> 00:04:50,100
stairwell.

90
00:04:50,100 --> 00:04:54,600
Remember, this is the y-axis here, there Y location relative, the

91
00:04:54,600 --> 00:04:58,700
stairwell as they move from here, to here as they move.

92
00:04:58,700 --> 00:05:02,800
Sort of in between these two, we're going to adjust their z-height

93
00:05:02,800 --> 00:05:07,400
where we believe them to be in Z, so that they travel smoothly.

94
00:05:07,500 --> 00:05:12,200
The, until when they get to the end there at the like they're at a

95
00:05:12,200 --> 00:05:15,800
particular Z height, which would be the next floor, right?

96
00:05:16,400 --> 00:05:19,000
And same thing happens when you travel down the stairwell, you'd start

97
00:05:19,000 --> 00:05:22,300
at the maximum height and go down to the lowest, right?

98
00:05:23,500 --> 00:05:27,500
So, if we took at this as a side view, you would imagine it looking

99
00:05:27,500 --> 00:05:28,200
like this.

100
00:05:29,400 --> 00:05:29,900
Right.

101
00:05:30,600 --> 00:05:33,900
And when the player comes in here,

102
00:05:38,400 --> 00:05:43,000
when the player enters into this region, we then say, okay, they're

103
00:05:43,000 --> 00:05:44,500
entering into the stairwell region.

104
00:05:44,700 --> 00:05:49,300
So, now, as they move from here to here, what we're going to do is

105
00:05:49,300 --> 00:05:52,800
adjust that ground height to be proportional so that it kind of the

106
00:05:52,800 --> 00:05:55,100
ground kind of goes like that in between here.

107
00:05:55,600 --> 00:05:58,400
Now, what we haven't done yet is actually move them down to the

108
00:05:58,400 --> 00:05:58,800
stairwell.

109
00:05:58,800 --> 00:05:59,800
What we actually did was Lie,

110
00:06:00,000 --> 00:06:02,700
Gravity, which we actually always apply.

111
00:06:03,200 --> 00:06:05,000
Just pull them down eventually.

112
00:06:05,100 --> 00:06:08,400
But what that means is, that if you come very quickly off of the

113
00:06:08,400 --> 00:06:11,900
stairwell, you actually don't go down.

114
00:06:12,300 --> 00:06:15,000
You kind of curve like this, right?

115
00:06:15,000 --> 00:06:20,800
You kind of do that, which means technically, you could actually jump

116
00:06:20,800 --> 00:06:23,200
the stairwell or other things like this, if you're running it speed, I

117
00:06:23,200 --> 00:06:23,600
don't know.

118
00:06:23,600 --> 00:06:27,000
So it's a little bit janky there.

119
00:06:28,400 --> 00:06:29,900
So that's

120
00:06:30,000 --> 00:06:33,000
It's probably not the way we want to do that especially the speed of

121
00:06:33,000 --> 00:06:36,600
the player right now and their size and so on are not calibrated quite

122
00:06:36,900 --> 00:06:37,900
to human scale.

123
00:06:37,900 --> 00:06:40,500
So they actually get a lot more momentum than they should and the

124
00:06:40,500 --> 00:06:44,000
stairwells not very large at the moment although maybe we need to

125
00:06:44,000 --> 00:06:44,800
change that.

126
00:06:45,400 --> 00:06:47,700
So there's a couple things we want to do here.

127
00:06:47,700 --> 00:06:50,900
There's one other problem that we had was basically our movement

128
00:06:50,900 --> 00:06:53,900
scheme was a little bit janky to the way that it worked.

129
00:06:53,900 --> 00:06:57,400
Is it constantly moved you underneath the ground and then projected

130
00:06:57,400 --> 00:06:58,900
you back up to the ground, right?

131
00:06:58,900 --> 00:06:59,900
That was our less than

132
00:07:00,000 --> 00:07:00,500
Nothing.

133
00:07:01,200 --> 00:07:03,800
And what that meant was that when you are approaching the stairwell

134
00:07:03,800 --> 00:07:07,200
from the other side, you constantly were below it and then get pushed

135
00:07:07,200 --> 00:07:08,000
up below it.

136
00:07:08,000 --> 00:07:11,500
And then pushed up below it and pushed up that, which meant the

137
00:07:11,500 --> 00:07:15,500
technically, if the stairwell wasn't larger, if the sterile doesn't

138
00:07:15,500 --> 00:07:20,200
extend down this far, it we wouldn't actually ever be placed inside it

139
00:07:20,400 --> 00:07:22,000
and that was a bug as well.

140
00:07:22,700 --> 00:07:25,100
And so we need to start thinking about how we want to handle those

141
00:07:25,100 --> 00:07:25,400
things.

142
00:07:25,400 --> 00:07:26,400
A little more cleanly.

143
00:07:28,300 --> 00:07:30,700
Just some things we need to think about in terms of actually getting

144
00:07:30,700 --> 00:07:33,500
this handling into some better shape.

145
00:07:33,700 --> 00:07:36,200
The other thing that we need to think about in order to get this

146
00:07:36,200 --> 00:07:43,500
working properly is we need to think about entity Z bounds for two

147
00:07:43,500 --> 00:07:46,900
reasons, we've got Collision detection.

148
00:07:49,900 --> 00:07:54,200
So right now our Collision detection operates, only in 2D which means

149
00:07:54,200 --> 00:08:01,200
that as you move if something is below you you will still hit it or

150
00:08:01,200 --> 00:08:02,700
above you, right?

151
00:08:02,900 --> 00:08:06,000
And so what we need to kind of do is we need to do something where

152
00:08:06,000 --> 00:08:10,400
we're actually excluding things that are above or below you from

153
00:08:10,700 --> 00:08:15,300
hitting you so that you can pass under them or on top over the top of

154
00:08:15,300 --> 00:08:15,600
them.

155
00:08:16,600 --> 00:08:20,600
And we also have to do something where we put in doing.

156
00:08:22,600 --> 00:08:27,300
in addition to Collision detection, we would like to be able to put in

157
00:08:27,300 --> 00:08:32,000
something where we, you know, draw more reasonably

158
00:08:33,700 --> 00:08:35,400
Because right now, what happens?

159
00:08:36,100 --> 00:08:37,299
Well, you can see what happens.

160
00:08:37,400 --> 00:08:38,600
Basically, we have two floors.

161
00:08:38,600 --> 00:08:41,600
Stacked on top of each other at the moment.

162
00:08:41,600 --> 00:08:42,299
And

163
00:08:45,200 --> 00:08:46,000
wait a minute.

164
00:08:46,000 --> 00:08:47,100
We didn't recompile.

165
00:08:47,200 --> 00:08:48,700
We didn't recompile yesterday.

166
00:08:49,900 --> 00:08:53,000
We had turned off the two floors, because someone had asked a

167
00:08:53,000 --> 00:08:53,600
question.

168
00:08:54,200 --> 00:08:55,100
So let's do that.

169
00:08:55,200 --> 00:08:55,700
There we go.

170
00:08:57,300 --> 00:08:59,800
You can see what happens when we have two floors.

171
00:09:00,000 --> 00:09:02,000
Basically you just got them stacked on top of each other.

172
00:09:02,000 --> 00:09:03,100
It doesn't really make any sense.

173
00:09:03,100 --> 00:09:09,200
It's hard to parse visually and so we need to we haven't written the

174
00:09:09,200 --> 00:09:10,400
renderer for this game yet.

175
00:09:10,400 --> 00:09:15,900
So it's true that we you know, in our in our placeholder renderer we

176
00:09:15,900 --> 00:09:21,200
probably won't be doing very much with respect to making this look

177
00:09:21,200 --> 00:09:24,300
pretty but we should at least play around a little bit and just figure

178
00:09:24,300 --> 00:09:26,400
out what the plan is right.

179
00:09:26,400 --> 00:09:29,500
We want to have some idea of what we're going to do when we actually

180
00:09:30,000 --> 00:09:34,600
Have that real renderer, we need some clue here, right as to what's

181
00:09:34,600 --> 00:09:35,300
going on.

182
00:09:36,300 --> 00:09:38,200
And so we need to think about that a little bit as well.

183
00:09:39,900 --> 00:09:43,400
Okay, so that's really what's going on here?

184
00:09:44,100 --> 00:09:47,000
We've got a lot of stuff to deal with, so, you know, let's, let's

185
00:09:47,100 --> 00:09:49,800
start taking these one at a time.

186
00:09:50,400 --> 00:09:53,600
So the first thing I would say is, let's, let's go back up to the

187
00:09:53,600 --> 00:09:58,300
stairwell situation and let's think about that that ground aspect of

188
00:09:58,300 --> 00:09:59,100
it, right?

189
00:09:59,400 --> 00:09:59,700
Let's

190
00:10:00,000 --> 00:10:02,300
To think about getting this stuff.

191
00:10:02,300 --> 00:10:03,500
Worked out a little more solid.

192
00:10:03,600 --> 00:10:06,800
Let's let's think about not having the player go into the ground and

193
00:10:06,800 --> 00:10:08,600
pop back up and stuff like that.

194
00:10:09,000 --> 00:10:12,500
Let's let's try to do something a little bit better here.

195
00:10:13,200 --> 00:10:20,300
So the first thing that I might suggest and you know it's again I

196
00:10:20,300 --> 00:10:23,400
don't know because I'm sort of exploring this on my own here.

197
00:10:23,800 --> 00:10:24,700
I don't generally right?

198
00:10:24,700 --> 00:10:29,400
2D games, I don't know that much about how I prefer to handle things

199
00:10:29,400 --> 00:10:29,800
yet because I

200
00:10:29,900 --> 00:10:31,300
I haven't ever really tried it.

201
00:10:31,300 --> 00:10:36,100
So I'm actually doing that experimentation and showing how we work

202
00:10:36,100 --> 00:10:38,200
through stuff like that in the real world.

203
00:10:39,800 --> 00:10:41,700
When I'm coming in here to my move entity call.

204
00:10:41,700 --> 00:10:46,700
What I'm thinking is that in general, we want to sort of do what you

205
00:10:46,700 --> 00:10:52,900
would, what you would actually have happen in reality, choose me, it's

206
00:10:52,900 --> 00:10:56,000
allergy season now, I'm not sick anymore.

207
00:10:57,100 --> 00:10:58,300
But my nose keeps running.

208
00:11:03,900 --> 00:11:05,300
I know it's gross anyway.

209
00:11:08,000 --> 00:11:10,900
So, what I'd like to do is have it so that perhaps when you are

210
00:11:10,900 --> 00:11:14,400
standing on the ground, you do not accelerate into the ground, right?

211
00:11:14,400 --> 00:11:17,300
So that basically that normal force when you're standing on the

212
00:11:17,300 --> 00:11:20,400
ground, keeps you from accelerating into the ground.

213
00:11:20,400 --> 00:11:21,900
So you don't get that dip down problem.

214
00:11:21,900 --> 00:11:25,600
You just go straight across and it's only when the ground is below you

215
00:11:25,600 --> 00:11:30,000
that you actually get acceleration from things like gravity that would

216
00:11:30,000 --> 00:11:30,600
be nice.

217
00:11:31,200 --> 00:11:36,200
And so in order to do that, I think what I'd like to do is really use

218
00:11:36,200 --> 00:11:37,400
a little bit of energy storage.

219
00:11:37,800 --> 00:11:40,100
Like a flag that says, whether you're standing on the ground at the

220
00:11:40,100 --> 00:11:40,800
moment.

221
00:11:41,300 --> 00:11:43,900
In other words, at the end of the last time, step were you standing on

222
00:11:43,900 --> 00:11:44,300
the ground?

223
00:11:44,300 --> 00:11:47,200
And if you were, then I'm not going to apply, right?

224
00:11:47,800 --> 00:11:49,600
I'm not going to apply that gravity here.

225
00:11:50,000 --> 00:11:50,700
Does that make sense?

226
00:11:51,900 --> 00:11:52,900
Just something really simple?

227
00:11:53,100 --> 00:11:54,400
And we could do the check.

228
00:11:54,400 --> 00:11:58,100
We could do an overlap check again, but I want to not do lots of

229
00:11:58,100 --> 00:11:59,000
overlap checks.

230
00:11:59,000 --> 00:11:59,800
If we don't have to

231
00:12:00,500 --> 00:12:04,000
Because you know it seems wasteful necessarily to do them at the

232
00:12:04,000 --> 00:12:05,400
beginning and end of the frame.

233
00:12:06,000 --> 00:12:08,400
And so, you know, it probably is good enough.

234
00:12:08,400 --> 00:12:13,000
I think since we're not a game that's heavy on using Z, I think it

235
00:12:13,000 --> 00:12:17,400
should be fine to basically, do some kind of a quick check that looks

236
00:12:17,400 --> 00:12:19,200
something like this.

237
00:12:19,500 --> 00:12:20,500
So let's say,

238
00:12:21,800 --> 00:12:26,700
That we were to introduce a flag here which is like only flag on

239
00:12:26,700 --> 00:12:28,300
ground or something like that.

240
00:12:28,700 --> 00:12:38,100
And that on ground flag is just saying, or like supported by will just

241
00:12:38,100 --> 00:12:43,900
say supported maybe, or, you know, vertically supported something like

242
00:12:43,900 --> 00:12:44,400
that.

243
00:12:44,700 --> 00:12:47,400
I don't know Z supported, how about that.

244
00:12:47,900 --> 00:12:51,000
So, if it is supported in Z, then we'll just say the gravity is not

245
00:12:51,000 --> 00:12:51,400
applying

246
00:12:51,800 --> 00:12:52,100
Right.

247
00:12:52,100 --> 00:12:58,300
So we'll say, you know, we'll do that that as a flag check which is

248
00:12:58,300 --> 00:12:59,700
just R is set call.

249
00:13:00,100 --> 00:13:05,500
So on this particular entity, if it's Z supported, we would not add

250
00:13:05,500 --> 00:13:06,100
gravity.

251
00:13:06,300 --> 00:13:10,300
And if it's not see supported then we do bad gravity, right?

252
00:13:10,800 --> 00:13:11,500
And

253
00:13:13,200 --> 00:13:13,500
I don't know.

254
00:13:13,500 --> 00:13:15,600
We could make the flag since be the other way around.

255
00:13:15,600 --> 00:13:18,200
I'm not sure how we want to do that but doesn't really matter for now,

256
00:13:18,200 --> 00:13:20,100
we can always flip it later, it's not a big deal.

257
00:13:20,700 --> 00:13:24,700
So then when we come in here, what we want to do is say, all right,

258
00:13:24,800 --> 00:13:27,400
any time that this triggers, right?

259
00:13:27,600 --> 00:13:31,100
This pretty much tells us whether or not we want that flag set.

260
00:13:31,100 --> 00:13:34,300
If you are, if you've hit the ground, if you're going into the ground,

261
00:13:34,300 --> 00:13:36,500
that means you're a z supported, right?

262
00:13:36,700 --> 00:13:40,500
So what we want to do is we want to clear those flags, right?

263
00:13:40,500 --> 00:13:42,200
So we want to clear.

264
00:13:43,400 --> 00:13:46,400
That Z supported flag any time you've hit the ground because that

265
00:13:46,400 --> 00:13:47,300
means you're standing on the ground.

266
00:13:47,300 --> 00:13:54,000
Now and anytime that poops have that the other way around, sorry what

267
00:13:54,000 --> 00:13:57,200
I meant to say is you want to set the flag when your Z squared, when

268
00:13:57,200 --> 00:14:00,300
you hit the ground and anytime that you're not when you're in free

269
00:14:00,300 --> 00:14:02,200
fall, you want to clear that flag?

270
00:14:02,200 --> 00:14:04,400
That says that yours you supported, right?

271
00:14:04,700 --> 00:14:12,900
And so that basically be a quick way to sort of say, yeah,

272
00:14:13,100 --> 00:14:14,000
You know what?

273
00:14:14,000 --> 00:14:18,900
We are going to we're just going to sort of remember that and we won't

274
00:14:18,900 --> 00:14:22,200
let you like kind of keep dipping into the ground will Coast you along

275
00:14:22,200 --> 00:14:25,100
the ground properly this time, right?

276
00:14:25,800 --> 00:14:29,800
And let's let's take a look and see if that fixes one problem that we

277
00:14:29,800 --> 00:14:34,400
had, which is right here.

278
00:14:34,400 --> 00:14:38,400
You remember I did a to do, when we add the stairwell, we had to make

279
00:14:38,700 --> 00:14:42,400
the stairwell larger than it than it should have been.

280
00:14:43,000 --> 00:14:44,100
In order to make that work.

281
00:14:44,100 --> 00:14:45,800
So let's take a look at that briefly.

282
00:14:46,300 --> 00:14:49,700
So of course, here, we've got thing where we can go up the stairwell,

283
00:14:49,700 --> 00:14:54,800
like so, but let's go ahead and see what happens if we take this out.

284
00:14:55,000 --> 00:14:55,900
Temporarily

285
00:14:58,600 --> 00:14:59,300
Let's see here.

286
00:15:00,800 --> 00:15:01,600
Still no dice.

287
00:15:01,600 --> 00:15:05,000
So, let's take a look at why that isn't working now because I think

288
00:15:05,000 --> 00:15:07,400
that should work for the most part.

289
00:15:07,400 --> 00:15:08,200
Let's take a look.

290
00:15:10,900 --> 00:15:15,700
Of course, we still have a it's still not quite what we would want in

291
00:15:15,700 --> 00:15:18,400
terms of collision technique, but I believe we should be able to get

292
00:15:18,400 --> 00:15:19,800
this to work properly.

293
00:15:19,800 --> 00:15:22,300
And I'd like to make sure that it actually does.

294
00:15:23,600 --> 00:15:26,300
Let's take a look at the hero specifically.

295
00:15:26,700 --> 00:15:27,800
Well, I guess I can.

296
00:15:29,900 --> 00:15:31,800
I guess I can do that this way.

297
00:15:32,800 --> 00:15:35,000
perhaps, can I

298
00:15:39,000 --> 00:15:40,400
No, I guess I would have to step.

299
00:15:40,400 --> 00:15:40,700
Yeah.

300
00:15:41,100 --> 00:15:44,300
So I'm going to have to set a breakpoint on the hero specifically and

301
00:15:44,300 --> 00:15:48,000
I guess, you know what, what I probably should do is give myself an

302
00:15:48,000 --> 00:15:49,300
easy way to do that.

303
00:15:49,400 --> 00:15:53,000
Now, that I think about it, so that I can always set a breakpoint in

304
00:15:53,000 --> 00:15:53,400
in here.

305
00:15:53,400 --> 00:15:58,000
So I can basically say okay, if entity type equals and any type hero,

306
00:16:04,300 --> 00:16:04,600
Yeah.

307
00:16:05,900 --> 00:16:09,700
So basically, that's a trick I like to do debugging wise where I just

308
00:16:09,700 --> 00:16:12,600
set all kinds of weird conditions or whatever I want.

309
00:16:13,100 --> 00:16:15,500
You know, stuff that would get compiled out certainly.

310
00:16:15,500 --> 00:16:18,100
So it doesn't really cost you anything because it's the compiler will

311
00:16:18,100 --> 00:16:18,500
eliminate.

312
00:16:18,500 --> 00:16:21,900
This is dead code in an optimized build, but it gives me in a debug

313
00:16:21,900 --> 00:16:25,600
build a way to stop on a certain thing.

314
00:16:25,800 --> 00:16:29,600
So when the heroes moving I can just say, okay, let me go ahead and

315
00:16:29,600 --> 00:16:31,700
see what happens to the heroes movement.

316
00:16:31,800 --> 00:16:34,700
So when we come through here, now I can take a look at that overlap

317
00:16:34,700 --> 00:16:35,000
test.

318
00:16:35,300 --> 00:16:35,600
Right?

319
00:16:35,600 --> 00:16:39,500
First of all, what I would like to do too, is, I'd like to see if that

320
00:16:39,500 --> 00:16:41,200
flag is actually set.

321
00:16:41,200 --> 00:16:43,700
So let's take a look at.

322
00:16:43,900 --> 00:16:46,500
Well, I guess what I can do is just look at it here.

323
00:16:47,200 --> 00:16:47,600
Yeah.

324
00:16:47,700 --> 00:16:52,300
So it skips gravity as it should, and if we look at the DDP, it's Z is

325
00:16:52,300 --> 00:16:53,900
0, so that's good.

326
00:16:54,100 --> 00:16:56,800
And if I look at its entity position, it's

327
00:16:58,700 --> 00:16:59,400
that's odd.

328
00:16:59,800 --> 00:17:03,400
Why is it X Y and Z all 0?

329
00:17:04,700 --> 00:17:06,200
Does that seem odd to you?

330
00:17:06,300 --> 00:17:09,000
Why are the X and wives equal to 0?

331
00:17:10,200 --> 00:17:12,099
Have I not moved the guy yet?

332
00:17:13,300 --> 00:17:14,900
He's like, way up here.

333
00:17:15,000 --> 00:17:19,200
Oh, because we always move the camera.

334
00:17:19,800 --> 00:17:20,599
I forgot about that.

335
00:17:20,599 --> 00:17:24,400
We're not, we're still we weave, we're not in room locked mode.

336
00:17:24,599 --> 00:17:26,099
We're actually always move the camera.

337
00:17:26,099 --> 00:17:29,100
So the player is by definition, always at 0-0, that's where he

338
00:17:29,100 --> 00:17:31,200
supposed to because that the center camera Point.

339
00:17:31,400 --> 00:17:32,300
Okay, so that's fine.

340
00:17:35,100 --> 00:17:37,300
oh, that's interesting but now it's not

341
00:17:38,900 --> 00:17:39,400
Huh.

342
00:17:41,800 --> 00:17:43,200
I see what our problem is.

343
00:17:44,100 --> 00:17:54,600
So we clear that flag when when we're not under the ground so that's

344
00:17:54,600 --> 00:17:56,400
not quite what we wanted.

345
00:17:56,400 --> 00:17:58,500
If you're still on the ground,

346
00:18:00,000 --> 00:18:05,400
I do want you to actually consider yourself Z supported so really

347
00:18:05,400 --> 00:18:09,000
it's, it's yeah, it's less than or equal to the ground.

348
00:18:09,800 --> 00:18:10,200
Yeah.

349
00:18:10,300 --> 00:18:13,100
That's that's a bit of a mistake admittedly.

350
00:18:13,100 --> 00:18:15,600
So, okay.

351
00:18:16,100 --> 00:18:18,400
So yeah, let's try that again.

352
00:18:20,200 --> 00:18:21,000
So let's see.

353
00:18:22,000 --> 00:18:26,900
Now we should be here and now we can actually go in and find out

354
00:18:26,900 --> 00:18:27,400
what's going on there.

355
00:18:27,400 --> 00:18:32,700
So we don't add in the gravity, which is what we expect we come down

356
00:18:32,700 --> 00:18:33,300
here.

357
00:18:33,300 --> 00:18:35,000
We don't really need to look at the Collision routine.

358
00:18:35,000 --> 00:18:40,400
We need to look at the overlap routine and we need to take a look at

359
00:18:40,400 --> 00:18:46,100
what happens during that can overlap now in can overlap.

360
00:18:48,400 --> 00:18:49,800
I'm wondering.

361
00:18:51,100 --> 00:18:53,400
I thought I set a breakpoint here before.

362
00:18:56,100 --> 00:18:57,900
And yet it didn't ever hit.

363
00:18:57,900 --> 00:18:59,900
So I'm wondering why that was the case.

364
00:19:00,000 --> 00:19:00,800
Okay, there we go.

365
00:19:01,700 --> 00:19:04,700
I guess that must have been just a trick of the eye.

366
00:19:05,000 --> 00:19:09,000
So when we're actually going to look at what happens when we have a

367
00:19:09,000 --> 00:19:11,200
hero and a stairwell, right?

368
00:19:11,400 --> 00:19:13,800
There's the hero there's the stairwell.

369
00:19:15,800 --> 00:19:19,700
When we actually do those tests, I want to know why, we're not

370
00:19:19,700 --> 00:19:22,700
actually getting that overlap to occur here.

371
00:19:23,200 --> 00:19:24,400
So let's take a look.

372
00:19:24,600 --> 00:19:29,700
First of all, let's take a look at our two rectangles, so here's our

373
00:19:29,700 --> 00:19:30,500
entity wrecked.

374
00:19:31,600 --> 00:19:32,200
Right?

375
00:19:33,300 --> 00:19:38,500
And well, you know, our entity it doesn't help that our entity has no

376
00:19:38,500 --> 00:19:39,400
height to him.

377
00:19:40,200 --> 00:19:41,500
We should probably fix that.

378
00:19:41,500 --> 00:19:44,300
That's one of the things that we want to do today probably to where

379
00:19:44,300 --> 00:19:49,600
we're talking where we were talking about, you know, having Collision

380
00:19:49,600 --> 00:19:50,900
detection, be properly.

381
00:19:50,900 --> 00:19:51,700
Three-dimensional.

382
00:19:53,100 --> 00:19:54,400
So the tests entity wrecked.

383
00:19:54,400 --> 00:19:55,200
So okay.

384
00:19:55,200 --> 00:19:58,100
So basically the problem is, just our entity.

385
00:19:58,200 --> 00:20:02,400
Our stairwell actually doesn't extend down to the floor, which I'm not

386
00:20:02,400 --> 00:20:03,400
exactly sure.

387
00:20:04,400 --> 00:20:10,200
Why, that is, it looks like it doesn't have any Z at all.

388
00:20:11,800 --> 00:20:14,400
It has no z-depth whatsoever.

389
00:20:16,600 --> 00:20:17,500
Why is that?

390
00:20:20,300 --> 00:20:21,000
that's,

391
00:20:22,100 --> 00:20:23,200
That's real odd.

392
00:20:25,600 --> 00:20:27,000
What am I what am I missing here?

393
00:20:27,000 --> 00:20:28,300
People do you know what?

394
00:20:28,300 --> 00:20:29,200
What's going on there?

395
00:20:29,600 --> 00:20:30,600
Do we not?

396
00:20:31,700 --> 00:20:34,800
We didn't ever give him a z depth.

397
00:20:34,800 --> 00:20:37,500
The stairwell really

398
00:20:39,600 --> 00:20:40,100
What?

399
00:20:42,200 --> 00:20:43,100
I'm so confused.

400
00:20:43,100 --> 00:20:45,500
Now, I thought for sure we had done that.

401
00:20:45,600 --> 00:20:47,700
Did we accidentally delete a line here?

402
00:20:47,700 --> 00:20:50,200
Did I like errantly delete a line?

403
00:20:51,600 --> 00:20:52,500
That's just crazy.

404
00:20:52,500 --> 00:20:59,200
I thought for sure that we had typed this in there and I guess we

405
00:20:59,200 --> 00:20:59,800
didn't.

406
00:21:00,500 --> 00:21:01,100
All right.

407
00:21:01,200 --> 00:21:02,500
Well, that's the problem.

408
00:21:02,900 --> 00:21:05,000
Obviously, you can't run into the stairwell.

409
00:21:05,300 --> 00:21:08,700
If it doesn't actually contain the region, it's supposed to contain.

410
00:21:10,300 --> 00:21:13,800
Oh, so I must have just done it.

411
00:21:13,800 --> 00:21:17,800
This is how tired I am when I came in here and deleted the to do.

412
00:21:18,400 --> 00:21:20,200
And and we have that.

413
00:21:20,300 --> 00:21:22,100
Did I just delete the whole line?

414
00:21:22,900 --> 00:21:23,600
What?

415
00:21:24,800 --> 00:21:25,600
Unbelievable.

416
00:21:25,600 --> 00:21:28,500
This is why we need to always have almond milk, people, that's just

417
00:21:28,500 --> 00:21:29,700
totally unacceptable.

418
00:21:30,200 --> 00:21:30,800
Anyway,

419
00:21:32,700 --> 00:21:33,300
Let's take a look.

420
00:21:33,300 --> 00:21:39,900
Now, that that whole thing where I can keep going upwards by jumping

421
00:21:40,000 --> 00:21:43,700
is kind of bizarre and since our win32 platform layer is you know kind

422
00:21:43,700 --> 00:21:47,600
of a stand-in it also does this thing where it'll lock down if you.

423
00:21:48,200 --> 00:21:48,400
Yeah.

424
00:21:48,400 --> 00:21:49,600
It's kind of, its kind of amusing.

425
00:21:49,600 --> 00:21:52,400
We should probably fix that at least temporarily.

426
00:21:52,400 --> 00:21:56,500
Anyway, when I go on here, now it should work, it does.

427
00:21:57,000 --> 00:21:58,400
So that's what we were expecting.

428
00:21:59,400 --> 00:22:01,500
And and so now we want to take

429
00:22:01,600 --> 00:22:04,300
Look at that part where we kind of float down it as well.

430
00:22:04,700 --> 00:22:09,500
And instead make it so that we rise up it more correctly, right?

431
00:22:09,600 --> 00:22:12,300
So we want to make it so that going up and down is instantaneous and

432
00:22:12,300 --> 00:22:16,000
you can see how I kind of float down going up works properly because

433
00:22:16,300 --> 00:22:21,200
we're always sort of forcing ourselves to do that properly, by having

434
00:22:21,200 --> 00:22:25,300
the ground be a hard constraint, but we're not putting ourselves back

435
00:22:25,300 --> 00:22:28,000
onto the ground in the case where we were touching it before.

436
00:22:28,000 --> 00:22:29,400
And so what I'd like to do,

437
00:22:31,800 --> 00:22:40,000
I think here is say, okay, you know, if the entity was on the ground,

438
00:22:40,000 --> 00:22:43,400
I'm going to say that we've got another criteria for when we want to

439
00:22:43,400 --> 00:22:45,100
stay Peg to the ground.

440
00:22:45,200 --> 00:22:53,200
What I want to say is if you're underneath the ground or you, you have

441
00:22:53,200 --> 00:22:55,300
that flag set, right?

442
00:22:55,500 --> 00:22:59,900
The The Entity Z supported flag is set, right?

443
00:23:00,800 --> 00:23:05,400
And so you were on the ground again with and you were not trying to go

444
00:23:07,000 --> 00:23:08,600
upward, right?

445
00:23:08,800 --> 00:23:14,100
So you know, and the entity your entity d z is equal to 0.

446
00:23:14,100 --> 00:23:16,900
So you were not trying to accelerate yourself.

447
00:23:19,500 --> 00:23:22,900
Then I'm just going to say that that we're going to place you flat on

448
00:23:22,900 --> 00:23:23,500
the ground.

449
00:23:23,500 --> 00:23:25,400
So if you're on the ground you stay on the ground.

450
00:23:25,600 --> 00:23:26,100
Right?

451
00:23:26,500 --> 00:23:28,800
Because I think that's mostly how we want the.

452
00:23:30,200 --> 00:23:33,100
We don't really want the player jumping the jump, the fact we have a

453
00:23:33,100 --> 00:23:38,100
jump in there is purely sort of arbitrary so yeah if I walk up it

454
00:23:38,100 --> 00:23:38,800
should work now.

455
00:23:38,800 --> 00:23:40,500
And if I walk down, it should work now as well.

456
00:23:40,900 --> 00:23:47,400
It does appear to, unfortunately, we this familiar I might have are

457
00:23:48,400 --> 00:23:52,500
Take a chill, he's making me kind of annoyed by following me around

458
00:23:52,500 --> 00:23:53,500
quite so much.

459
00:23:53,700 --> 00:23:54,700
Let's take a look at

460
00:23:56,600 --> 00:23:59,400
At his update call there, so that I can.

461
00:24:00,800 --> 00:24:02,200
Stop running into him all the time.

462
00:24:02,200 --> 00:24:05,000
I'm trying to test other stuff familiar.

463
00:24:05,300 --> 00:24:10,500
Let's just say that the familiar doesn't actually find hero ever.

464
00:24:11,400 --> 00:24:11,900
There we go.

465
00:24:12,800 --> 00:24:16,200
It's just not something he does and he can just stay there.

466
00:24:16,300 --> 00:24:16,900
Thank you.

467
00:24:17,300 --> 00:24:17,900
There we go.

468
00:24:18,200 --> 00:24:21,300
So I walk up the stairs and walk down the stairs, up the stairs, down

469
00:24:21,300 --> 00:24:23,700
the stairs, up the stairs, down the stairs.

470
00:24:25,100 --> 00:24:27,000
So that seems fine.

471
00:24:29,700 --> 00:24:33,000
I think that's working properly now, right?

472
00:24:34,400 --> 00:24:36,800
And again, we don't really have any rendering for us there, so that's

473
00:24:36,800 --> 00:24:39,000
a bit of a problem, but you know, what do you do?

474
00:24:41,200 --> 00:24:42,400
I think we're in good shape there.

475
00:24:42,700 --> 00:24:44,300
Yeah, yeah.

476
00:24:48,600 --> 00:24:49,500
So, what's going on?

477
00:24:49,500 --> 00:24:50,500
That's a little.

478
00:24:50,500 --> 00:24:51,400
Oh, right.

479
00:24:52,200 --> 00:24:58,200
So now we also have one more problem to deal with, which is we have to

480
00:24:58,200 --> 00:25:00,300
start thinking about the other part of the stairwell that I talked

481
00:25:00,300 --> 00:25:04,200
about yesterday, which is basically, you know, if you enter the

482
00:25:04,200 --> 00:25:08,600
stairwell, if right now wherever you are on the stairwell Z wise,

483
00:25:08,900 --> 00:25:09,600
right?

484
00:25:10,300 --> 00:25:12,100
Is determines your height.

485
00:25:12,100 --> 00:25:15,200
So if you enter the stairwell at the very top you just slam, right?

486
00:25:15,200 --> 00:25:15,400
Right.

487
00:25:15,400 --> 00:25:17,600
Z up right, you know, when you tuck the

488
00:25:18,000 --> 00:25:21,900
All the top, you immediately go up to the top and I assume what we

489
00:25:21,900 --> 00:25:28,700
want to do is make it so that that isn't allowed that you just bump

490
00:25:28,700 --> 00:25:29,300
into the stairwell.

491
00:25:29,300 --> 00:25:30,300
At that point.

492
00:25:30,300 --> 00:25:30,700
I don't know.

493
00:25:30,700 --> 00:25:32,300
I'm not sure what we really want to do.

494
00:25:32,400 --> 00:25:34,200
Maybe you do want to just slam up to the top.

495
00:25:34,200 --> 00:25:38,000
Maybe that's better for gameplay that, you don't have to think about

496
00:25:38,000 --> 00:25:38,500
stuff like that.

497
00:25:38,500 --> 00:25:41,000
I'm not sure one thing I would like to do is I'd like to make the

498
00:25:41,000 --> 00:25:45,500
stairwell a little bit longer so we can kind of you know, think about

499
00:25:45,500 --> 00:25:47,800
it a little more easily by looking at what sort of happens.

500
00:25:47,900 --> 00:25:48,900
Is when you touch it.

501
00:25:48,900 --> 00:25:52,400
So I'm going to, I'm going to go ahead and say that maybe it has a

502
00:25:52,400 --> 00:25:53,300
little more.

503
00:25:55,000 --> 00:25:57,700
A little more height to it since.

504
00:25:57,700 --> 00:26:02,600
So this is going to be like two tiles long or something like this and

505
00:26:02,600 --> 00:26:06,700
I'm going to try and place it a little bit lower as well, so we'll say

506
00:26:07,600 --> 00:26:08,100
tile.

507
00:26:08,100 --> 00:26:10,900
Why is seven or eight something like that?

508
00:26:15,400 --> 00:26:18,300
Or not what happened there.

509
00:26:20,500 --> 00:26:21,000
Tile.

510
00:26:21,000 --> 00:26:24,700
Why is that something weird that I've done by saying?

511
00:26:24,900 --> 00:26:25,300
Oh,

512
00:26:26,600 --> 00:26:29,000
Tile X tile.

513
00:26:29,000 --> 00:26:31,000
Why is there some reason why?

514
00:26:31,000 --> 00:26:33,100
That was unhappy

515
00:26:38,700 --> 00:26:41,700
let me find out now feel like it should have been

516
00:26:44,900 --> 00:26:48,500
But it was, why is it unhappy about that?

517
00:26:49,800 --> 00:26:51,200
I'm not totally sure I get it.

518
00:26:52,300 --> 00:26:59,400
Tile x equals 10 and tile y equals 7 because it should be okay to do

519
00:26:59,400 --> 00:26:59,800
that.

520
00:27:00,100 --> 00:27:02,700
Oh because well, no.

521
00:27:02,900 --> 00:27:05,300
So I'm I'd like to know what's going on there.

522
00:27:06,400 --> 00:27:08,800
So shouldn't I be able to move this?

523
00:27:08,900 --> 00:27:10,000
Oh, I guess that would move it up.

524
00:27:10,000 --> 00:27:16,000
So, I actually wanted it move down, I guess to be clear and maybe even

525
00:27:16,000 --> 00:27:17,300
a little bit more down than that.

526
00:27:18,600 --> 00:27:19,000
Yeah.

527
00:27:20,500 --> 00:27:21,200
All right.

528
00:27:21,400 --> 00:27:24,800
That was because it was because of the should door part it was because

529
00:27:24,800 --> 00:27:27,700
it was actually trying to put it on top of the door which we were not

530
00:27:27,700 --> 00:27:28,600
allowing at the time.

531
00:27:30,300 --> 00:27:34,000
So I guess I also want to when I add the stair I don't need it to be

532
00:27:34,000 --> 00:27:42,200
so fat, either it can be you know, just one tile wide like so

533
00:27:44,000 --> 00:27:47,300
Alright, so now that we have a longer stairwell, right?

534
00:27:47,300 --> 00:27:51,500
We can kind of see, you can kind of see the guy walk up it, and when

535
00:27:51,500 --> 00:27:54,300
you get to the middle of it, it's which is z levels, right?

536
00:27:55,200 --> 00:27:58,800
Basically, this this yellow blob just represents where our stair is

537
00:27:59,200 --> 00:28:00,000
and that works.

538
00:28:00,200 --> 00:28:01,000
Pretty reliably.

539
00:28:01,000 --> 00:28:01,600
Actually.

540
00:28:02,100 --> 00:28:03,200
That's, that's pretty nice.

541
00:28:03,500 --> 00:28:05,700
And so the thing that I was talking about is the fact that, okay?

542
00:28:05,700 --> 00:28:07,200
I'm on the bottom level right now.

543
00:28:07,400 --> 00:28:10,800
I touch the top and I just teleport right to the top right?

544
00:28:11,300 --> 00:28:13,000
Which is exactly how we've defined it to.

545
00:28:14,300 --> 00:28:23,200
And, you know, I feel like conceptually it's weird but yeah, I don't

546
00:28:23,200 --> 00:28:24,100
know gameplay-wise.

547
00:28:24,100 --> 00:28:25,000
What we want to do.

548
00:28:25,100 --> 00:28:26,700
Do you want to just have, you hit it?

549
00:28:26,800 --> 00:28:30,200
I suppose, we just want you to be able to use, want to stop there and

550
00:28:30,200 --> 00:28:31,100
not go.

551
00:28:32,200 --> 00:28:36,100
And so I'm trying to think, probably the easiest way to do that is to

552
00:28:36,100 --> 00:28:40,200
actually have stairwells be built out of multiple things that like do

553
00:28:40,400 --> 00:28:43,400
that block you basically like what I'm thinking

554
00:28:43,600 --> 00:28:47,500
Probably the easiest thing to do is to say, all right, the

555
00:28:47,500 --> 00:28:51,900
construction for a stairwell, right is an entity that's the stairwell,

556
00:28:52,900 --> 00:28:58,200
and then two other entities, that are like, you know, something like

557
00:28:58,200 --> 00:28:58,600
this.

558
00:28:59,200 --> 00:29:03,500
Where it's like, there's an entity here that blocks you from passing

559
00:29:03,500 --> 00:29:04,500
under the stairwell,

560
00:29:06,200 --> 00:29:06,800
Right.

561
00:29:06,900 --> 00:29:10,400
And there's an entity here that blocks you from passing over it.

562
00:29:11,900 --> 00:29:12,800
Something like that.

563
00:29:13,600 --> 00:29:16,000
That would still allow you to enter in the middle of the stairwell.

564
00:29:16,000 --> 00:29:18,600
And I'm worried that if you were all the way, if you did something

565
00:29:18,600 --> 00:29:21,300
like that, that the player would hit its head on it.

566
00:29:22,800 --> 00:29:27,000
So really you'd have to also make them so that they were kind of, you

567
00:29:27,000 --> 00:29:28,500
know, that they were like this.

568
00:29:30,700 --> 00:29:34,100
I don't know, but we could do that, you know, we could basically make

569
00:29:34,100 --> 00:29:36,200
an invisible walls, right?

570
00:29:36,200 --> 00:29:38,300
That are just right on the sides of the stairwell.

571
00:29:39,600 --> 00:29:42,500
And to be honest, I don't really know if there's any real reason not

572
00:29:42,500 --> 00:29:43,400
to do that.

573
00:29:46,000 --> 00:29:46,400
I don't know.

574
00:29:46,500 --> 00:29:47,800
I'm a little conflicted.

575
00:29:47,800 --> 00:29:51,200
It's hard to say, I don't know what the easiest thing is to do because

576
00:29:51,200 --> 00:29:54,500
it seems weird to overload the stairwell handling and make it so that

577
00:29:54,500 --> 00:29:59,400
they have special kind of consideration for that, but we could do that

578
00:29:59,400 --> 00:29:59,800
as well.

579
00:30:00,100 --> 00:30:04,000
So let's let's let's think about how we would do that.

580
00:30:05,100 --> 00:30:09,100
So let's say we wanted to make it so that when you moved on to the

581
00:30:09,100 --> 00:30:12,500
stairwell, you just couldn't change your z-height too much.

582
00:30:12,600 --> 00:30:13,300
Right?

583
00:30:13,400 --> 00:30:15,800
Like like let's say that we did it.

584
00:30:15,800 --> 00:30:20,400
So that inside move entity right inside move entity.

585
00:30:20,800 --> 00:30:24,300
What if this were actually something that we're done?

586
00:30:25,100 --> 00:30:28,800
That can deny the move from actually occurring or something like this,

587
00:30:28,800 --> 00:30:29,300
right?

588
00:30:29,800 --> 00:30:33,100
Like we could decide that this is actually done say every Collision

589
00:30:33,100 --> 00:30:33,800
iteration.

590
00:30:34,000 --> 00:30:34,800
I know that seems a little

591
00:30:35,000 --> 00:30:35,500
Weird.

592
00:30:35,500 --> 00:30:37,200
But we could do it, right?

593
00:30:38,000 --> 00:30:42,100
We could do essentially, you know, this sort of thing.

594
00:30:42,700 --> 00:30:44,300
We're inside the loop.

595
00:30:45,000 --> 00:30:52,800
Every time we actually go ahead and take this as an advisory P like we

596
00:30:52,800 --> 00:30:57,400
say, you know, this is actually a like a like a test P that we're not

597
00:30:57,400 --> 00:31:03,900
sure if we're going to do yet and we use that instead or something or

598
00:31:03,900 --> 00:31:04,700
basically like

599
00:31:07,400 --> 00:31:08,500
Well no, you know what?

600
00:31:08,500 --> 00:31:09,500
No, I take it back.

601
00:31:09,600 --> 00:31:13,900
We can't do that because we would still have to check for collision

602
00:31:14,000 --> 00:31:18,400
with the stairwell and stop you when you, when you hit it, right?

603
00:31:19,000 --> 00:31:21,100
Hmm.

604
00:31:22,300 --> 00:31:26,100
So yeah I'm just really not sure.

605
00:31:27,400 --> 00:31:31,000
I guess one way we could do, it would be to say that when you were

606
00:31:31,000 --> 00:31:34,200
going to collide with the stairwell, we look at what your height would

607
00:31:34,200 --> 00:31:34,400
have.

608
00:31:34,400 --> 00:31:38,200
Been and allow you to pass on to the stairwell if the height

609
00:31:38,300 --> 00:31:39,500
difference was small.

610
00:31:39,600 --> 00:31:42,800
And not, if the height difference was large, and the way that would

611
00:31:42,800 --> 00:31:47,600
have to look is basically the can Collide when after you do the

612
00:31:47,600 --> 00:31:49,100
Collision here, right?

613
00:31:50,500 --> 00:31:53,900
After you do this, these tests wall.

614
00:31:54,100 --> 00:32:00,700
These results here would basically have to actually do the ground

615
00:32:00,700 --> 00:32:07,000
computation for the stairwell, sort of write right in the actual

616
00:32:07,100 --> 00:32:08,800
Collision routine.

617
00:32:11,600 --> 00:32:14,000
And I don't know it's not hard to do.

618
00:32:14,400 --> 00:32:19,300
I'm just wondering whether it's the right thing to do, but that would

619
00:32:19,300 --> 00:32:19,800
solve the problem.

620
00:32:20,000 --> 00:32:20,900
Them right.

621
00:32:27,700 --> 00:32:28,700
Hmm.

622
00:32:32,300 --> 00:32:32,700
Nice.

623
00:32:32,700 --> 00:32:33,100
Eh.

624
00:32:33,200 --> 00:32:35,500
And so just to give an example of what that would look like, let's

625
00:32:35,500 --> 00:32:36,800
just go ahead and type it out.

626
00:32:37,300 --> 00:32:39,300
So to give an example of what that would look like.

627
00:32:39,600 --> 00:32:43,700
Essentially, this stuff here would have to be sort of speculative.

628
00:32:43,800 --> 00:32:48,600
So if you like test will normal write and test it, MV

629
00:32:50,700 --> 00:32:54,600
Like so, and these would actually be done like this.

630
00:32:56,700 --> 00:32:57,200
Right.

631
00:32:58,900 --> 00:32:59,900
And so in

632
00:33:00,000 --> 00:33:02,500
Case where we actually find one.

633
00:33:02,500 --> 00:33:08,000
So if we do hit something then what we would do is we'd create that

634
00:33:08,000 --> 00:33:09,100
speculative P.

635
00:33:10,000 --> 00:33:13,700
So basically be like test P this is where you would end up for this

636
00:33:13,700 --> 00:33:17,200
hit and it's the test.

637
00:33:20,100 --> 00:33:21,600
We need to do it on the team in as well.

638
00:33:22,500 --> 00:33:26,800
So test and test those team in.

639
00:33:27,500 --> 00:33:29,400
This is team in test.

640
00:33:29,700 --> 00:33:29,800
So

641
00:33:30,000 --> 00:33:31,500
so there we go.

642
00:33:31,500 --> 00:33:35,400
So now we're doing the Collision entirely spectively with speculative

643
00:33:35,400 --> 00:33:35,900
variables.

644
00:33:35,900 --> 00:33:40,500
We then say, if we would hit the entity then we create that sort of

645
00:33:40,500 --> 00:33:47,500
speculative point that we would have ended up at troops equals kind of

646
00:33:47,500 --> 00:33:47,700
DP.

647
00:33:49,800 --> 00:33:53,700
That's the point we would end up at during this collision and then we

648
00:33:53,700 --> 00:33:55,400
can do after we do that.

649
00:33:55,400 --> 00:34:01,100
That test is we can actually have logic here, right?

650
00:34:01,700 --> 00:34:07,600
So we can say, basically if that's okay, you know then then go ahead

651
00:34:07,600 --> 00:34:08,900
and actually do it.

652
00:34:08,900 --> 00:34:14,800
So if that's okay, we will then do an assignment that takes these guys

653
00:34:14,800 --> 00:34:17,300
and actually makes them the permanent ones, right?

654
00:34:17,300 --> 00:34:18,199
So hit entity.

655
00:34:19,400 --> 00:34:22,000
Test entity will normal becomes test.

656
00:34:22,000 --> 00:34:26,600
Well normal and team in becomes team in test.

657
00:34:27,100 --> 00:34:28,800
So right?

658
00:34:30,500 --> 00:34:35,100
And so that allows us to do some kind of a thing that's like you know,

659
00:34:36,100 --> 00:34:41,199
speculative Collide or something like this and that passes The Entity

660
00:34:41,400 --> 00:34:47,800
and the test entity like so and that would allow us to actually figure

661
00:34:47,800 --> 00:34:50,699
out whether you were allowed to move on to the stairwell there.

662
00:34:51,400 --> 00:34:55,300
It's a little janky certainly, you know.

663
00:34:55,300 --> 00:34:57,100
But but what do you do?

664
00:34:57,300 --> 00:35:00,200
Some things are janky and we can sort of think about.

665
00:35:00,300 --> 00:35:02,400
It as we go a little bit more carefully.

666
00:35:03,300 --> 00:35:12,700
So if we did this yes we've got essentially this going on due to do.

667
00:35:15,700 --> 00:35:16,200
That.

668
00:35:17,600 --> 00:35:21,300
Yeah, so we would really just do exactly this.

669
00:35:21,300 --> 00:35:25,800
And we would, sort of say, all right, this is the ground level on the

670
00:35:25,800 --> 00:35:26,600
stairwell.

671
00:35:26,900 --> 00:35:33,100
And we would then say, for the ground level, if the, the player, you

672
00:35:33,100 --> 00:35:38,700
know, would not be trying to go up too much when it hit this, when it

673
00:35:38,700 --> 00:35:42,700
hit the stairwell then you know that's

674
00:35:43,700 --> 00:35:45,000
That's fine, right?

675
00:35:45,100 --> 00:35:47,400
So we'd say if the if the entity see

676
00:35:49,200 --> 00:35:49,600
Is.

677
00:35:51,300 --> 00:35:57,200
Yeah, if the entity z-, whatever that ground level is is not, you

678
00:35:57,200 --> 00:35:59,600
know, is not owners.

679
00:36:00,000 --> 00:36:02,100
a, so we basically say,

680
00:36:05,900 --> 00:36:10,600
If the absolute value of the difference between them, let's say is

681
00:36:10,600 --> 00:36:12,100
less than whatever.

682
00:36:12,100 --> 00:36:14,000
Our step height is, right.

683
00:36:14,000 --> 00:36:17,900
So, whatever our we want our maximum step height to be, and, you know,

684
00:36:17,900 --> 00:36:20,600
the step height is some random value.

685
00:36:20,600 --> 00:36:24,600
I don't know what we want it to be, but, you know, a tenth of a meter

686
00:36:24,600 --> 00:36:26,400
or something like this, who knows?

687
00:36:28,100 --> 00:36:33,000
If that's okay, then you can go up it, if it's not, then you know,

688
00:36:33,000 --> 00:36:33,600
it's not.

689
00:36:34,700 --> 00:36:37,300
So then we would say, all right, here's the result.

690
00:36:38,000 --> 00:36:43,100
We assume that it's fine and I guess we would say, if it's over the

691
00:36:43,200 --> 00:36:46,100
step, I bet it's not fine because in general, you're allowed to move.

692
00:36:46,200 --> 00:36:49,400
But in the case of stairwell, it rejects the move, if it would be too

693
00:36:49,400 --> 00:36:49,800
high.

694
00:36:50,800 --> 00:36:54,100
So that puts us, if we want to do that, that would allow us to jump

695
00:36:54,100 --> 00:36:59,300
into their that puts a squarely in the camp again, of sort of

696
00:37:00,700 --> 00:37:05,400
You know, wanting to be able to handle those pairwise Collision rules.

697
00:37:05,600 --> 00:37:08,600
Because if I remember correctly, our stairwells are set to not

698
00:37:08,600 --> 00:37:13,800
Collide, they're only an overlapping operation and we could get rid of

699
00:37:13,800 --> 00:37:17,000
the overlapping operation on stairwells entirely at this point by

700
00:37:17,000 --> 00:37:21,000
adjusting, the player pee in here, which is probably what we would

701
00:37:21,000 --> 00:37:21,400
want to do.

702
00:37:21,400 --> 00:37:24,000
So that inside the Collision, the duration, it would adjust your

703
00:37:24,400 --> 00:37:26,500
position as you moved up the stairwell

704
00:37:29,500 --> 00:37:32,400
yeah, so Jimmy

705
00:37:34,900 --> 00:37:37,200
although we still need the overlap testing, never mind because you

706
00:37:37,200 --> 00:37:38,500
need to overlap as you go.

707
00:37:38,600 --> 00:37:40,600
We just want to handle that in and out case.

708
00:37:42,400 --> 00:37:42,800
Yeah.

709
00:37:44,700 --> 00:37:49,300
Yeah, and so the stops on collision we wouldn't ever actually stop you

710
00:37:49,700 --> 00:37:51,000
on collision either.

711
00:37:52,200 --> 00:37:54,000
We would let you just pass on through.

712
00:37:54,500 --> 00:37:56,100
So the stops on collision.

713
00:37:56,700 --> 00:37:59,400
Let's go ahead and take a look there.

714
00:38:01,600 --> 00:38:03,700
I guess there's another kind of weirdness.

715
00:38:03,700 --> 00:38:06,100
There's one other thing that we don't handle here.

716
00:38:06,500 --> 00:38:11,100
This is man, this stuff is tricky if you actually want to do somewhat

717
00:38:11,100 --> 00:38:13,300
fancy 3D handling.

718
00:38:13,400 --> 00:38:14,400
There's so many things to think about.

719
00:38:14,600 --> 00:38:14,900
Out.

720
00:38:15,900 --> 00:38:16,700
But it's interesting.

721
00:38:17,900 --> 00:38:21,100
I'm kind of enjoying trying to figure out exactly how I want to do

722
00:38:21,100 --> 00:38:22,400
some of these things anyway.

723
00:38:22,600 --> 00:38:27,800
So if we want to do our stops on collision bit here, then when we do

724
00:38:27,800 --> 00:38:31,000
our handle Collision, we would also want to say, oh, we don't stop

725
00:38:31,000 --> 00:38:31,400
you.

726
00:38:32,000 --> 00:38:35,400
If it's a, you know if it's a stairwell, right?

727
00:38:35,900 --> 00:38:37,800
And if you type stairwell.

728
00:38:39,100 --> 00:38:42,200
So basically any time, it's stairwell you're allowed to pass right

729
00:38:42,200 --> 00:38:42,800
through it.

730
00:38:43,100 --> 00:38:44,400
So stops on collision equals.

731
00:38:44,500 --> 00:38:45,000
False.

732
00:38:48,000 --> 00:38:51,700
But we would then need to change our stairwells to be things that you

733
00:38:51,700 --> 00:38:53,700
actually can collide with which right now.

734
00:38:54,200 --> 00:38:58,600
They aren't, they don't have a colliding flag set on them, so we would

735
00:38:58,600 --> 00:38:59,800
need to add that to the

736
00:39:00,000 --> 00:39:02,500
Well, and then there we go.

737
00:39:02,700 --> 00:39:05,500
So let's do it this way.

738
00:39:06,400 --> 00:39:06,900
So on

739
00:39:08,400 --> 00:39:09,400
Test.

740
00:39:10,600 --> 00:39:13,700
Undeclared identifier test.

741
00:39:14,300 --> 00:39:15,600
Well, that's true.

742
00:39:16,400 --> 00:39:21,100
It certainly is it's supposed to be teaming test times player, Delta

743
00:39:21,600 --> 00:39:22,900
change the wrong thing there.

744
00:39:24,400 --> 00:39:29,600
If test hit entity, potentially undersized, local variable, that is

745
00:39:29,600 --> 00:39:30,200
true.

746
00:39:30,400 --> 00:39:31,200
It should be zero.

747
00:39:31,200 --> 00:39:31,800
Thank you mr.

748
00:39:31,800 --> 00:39:33,700
Compiler speculative.

749
00:39:33,700 --> 00:39:36,800
Collide must return a value that is also true.

750
00:39:39,100 --> 00:39:39,800
All right.

751
00:39:41,800 --> 00:39:43,000
Let's see what's going on here.

752
00:39:43,500 --> 00:39:46,000
So we can still walk up and down the stairs, which is good.

753
00:39:46,300 --> 00:39:50,100
But the question is, now can we walk into them at the top and we can?

754
00:39:50,100 --> 00:39:51,600
So that's not what we wanted.

755
00:39:52,000 --> 00:39:52,800
So why is that?

756
00:39:52,800 --> 00:39:56,700
Oh, because I don't restart the game so it didn't have that flag set

757
00:39:56,700 --> 00:39:57,400
on the stairwell.

758
00:39:59,000 --> 00:40:00,100
All right, let's try that again.

759
00:40:00,100 --> 00:40:03,900
So I can walk up and down it, but can I walk into the top I can?

760
00:40:03,900 --> 00:40:05,300
So we're still bogus.

761
00:40:05,300 --> 00:40:05,900
They're right.

762
00:40:05,900 --> 00:40:08,200
Because that shouldn't we don't want that to happen.

763
00:40:08,800 --> 00:40:10,500
We don't want to be able to do that.

764
00:40:10,700 --> 00:40:10,800
So

765
00:40:11,100 --> 00:40:13,300
Go ahead and see what's going on there.

766
00:40:14,700 --> 00:40:17,500
First of all, let's see if we ever actually trigger this, which

767
00:40:17,500 --> 00:40:18,400
hopefully we do.

768
00:40:19,600 --> 00:40:22,000
So let's go ahead and walk to the top part.

769
00:40:22,500 --> 00:40:25,000
All right, so we never actually doing that hit.

770
00:40:26,000 --> 00:40:29,600
We're never actually hitting the stairwell so that is the problem.

771
00:40:29,600 --> 00:40:32,800
Obviously, let's find out what's going on.

772
00:40:33,400 --> 00:40:34,400
So,

773
00:40:35,800 --> 00:40:36,900
Is there something?

774
00:40:36,900 --> 00:40:38,400
Okay, so there's our problem.

775
00:40:38,400 --> 00:40:40,500
We still have check in there.

776
00:40:40,500 --> 00:40:43,900
That said basically, we don't want to actually collide with

777
00:40:43,900 --> 00:40:44,500
stairwells.

778
00:40:46,000 --> 00:40:46,800
Let's remove that.

779
00:40:50,200 --> 00:40:54,700
Alright, so now we are colliding with stairwells but it looks like

780
00:40:54,700 --> 00:40:56,400
we're checking in the wrong.

781
00:40:57,100 --> 00:40:59,500
It looks like I put the check in the wrong way.

782
00:41:00,200 --> 00:41:01,100
What did I do?

783
00:41:01,600 --> 00:41:05,200
Let me we almost implemented that correctly.

784
00:41:05,500 --> 00:41:08,300
Well it is a, this is why you don't program when you're sleepy.

785
00:41:13,000 --> 00:41:14,900
Okay, so yeah, I just had it backwards.

786
00:41:15,200 --> 00:41:19,600
So basically, what we want to do is the result is, did you Collide?

787
00:41:20,500 --> 00:41:23,800
And the answer is you collided when the step B was too high.

788
00:41:24,000 --> 00:41:25,300
So that's what we actually wanted.

789
00:41:25,300 --> 00:41:25,800
Right.

790
00:41:26,000 --> 00:41:27,700
So now we should be able to walk up it.

791
00:41:27,700 --> 00:41:31,500
Walk down it but we can't walk into the to the top of it, right?

792
00:41:32,700 --> 00:41:34,400
That's not that's not allowed.

793
00:41:35,300 --> 00:41:36,500
So that's good.

794
00:41:36,900 --> 00:41:38,100
That's all very nice.

795
00:41:39,700 --> 00:41:41,200
And presumably we can only.

796
00:41:41,200 --> 00:41:42,700
Yeah we can only walk in at the very bottom

797
00:41:42,800 --> 00:41:43,300
Ottoman top.

798
00:41:43,300 --> 00:41:46,600
So that actually works quite nicely actually, the only thing that is

799
00:41:46,600 --> 00:41:48,100
we're not gliding along it.

800
00:41:48,200 --> 00:41:55,200
So we still have some weirdness there that I'm not sure.

801
00:41:57,600 --> 00:41:59,600
I'm not sure exactly what's going on with that.

802
00:41:59,600 --> 00:41:59,800
Why?

803
00:42:00,000 --> 00:42:03,000
We not gliding, so speculative, collide.

804
00:42:05,800 --> 00:42:09,200
Why can't we Glide along this entity?

805
00:42:09,200 --> 00:42:14,800
Like shouldn't shouldn't this be taken care of that, for us?

806
00:42:15,200 --> 00:42:16,500
What am I missing here?

807
00:42:17,700 --> 00:42:18,600
What am I missing?

808
00:42:18,600 --> 00:42:21,800
Did we break, you know, did we break the lighting entirely?

809
00:42:27,400 --> 00:42:30,500
Well, it looks like we don't collide with walls now, so that's a bug.

810
00:42:32,200 --> 00:42:38,600
Oh, right, so I guess speculative, Collide actually is generally true,

811
00:42:39,500 --> 00:42:43,300
and this is more of a only for stairwells, kind of thing.

812
00:42:44,300 --> 00:42:45,200
Sorry about that.

813
00:42:45,800 --> 00:42:48,500
Like I said, sleepy programming, not the best idea.

814
00:42:50,300 --> 00:42:53,200
Are speculative Collision thing was making it so that all collisions

815
00:42:53,200 --> 00:42:53,800
don't work.

816
00:42:54,300 --> 00:42:57,900
So we're gliding properly still along other surfaces.

817
00:42:58,200 --> 00:43:00,400
So, I wonder why we can't Glide.

818
00:43:00,500 --> 00:43:03,300
What's special about the stairwell.

819
00:43:03,800 --> 00:43:07,500
I guess it's the thing where speculative Collide is because now in all

820
00:43:07,500 --> 00:43:09,100
cases, they're still going through here.

821
00:43:10,700 --> 00:43:12,000
So what's the problem?

822
00:43:12,400 --> 00:43:16,100
Is it something with our handle Collision call?

823
00:43:18,100 --> 00:43:20,700
I guess stops on collision equals false.

824
00:43:21,300 --> 00:43:23,400
That's probably

825
00:43:26,400 --> 00:43:30,000
That's probably what our problem is there.

826
00:43:30,000 --> 00:43:33,900
Let me think about this, so once you are on it, it would pass up.

827
00:43:33,900 --> 00:43:38,400
So I guess we don't want to have you hit return stops on collision?

828
00:43:38,900 --> 00:43:40,000
We want it to actually get.

829
00:43:40,000 --> 00:43:40,500
There we go.

830
00:43:40,500 --> 00:43:41,600
So there's that gliding.

831
00:43:42,900 --> 00:43:47,500
Yeah, so I feel like these Collision routines, they just have too many

832
00:43:47,500 --> 00:43:50,900
weird predicates and stuff in them right that it's hard to like you

833
00:43:50,900 --> 00:43:54,800
see how hard it is for me to keep track of all of the predicates and

834
00:43:54,800 --> 00:43:56,000
where stuff happens?

835
00:43:56,400 --> 00:44:01,500
I feel like it'd be nice if we could kind of unify those and make them

836
00:44:01,500 --> 00:44:04,600
into some really nice orthogonal unified set.

837
00:44:04,700 --> 00:44:07,800
What I will say though is I kind of like this way of handing the

838
00:44:07,800 --> 00:44:11,900
stairwells because man it feels perfect like just playing with it

839
00:44:11,900 --> 00:44:12,200
here.

840
00:44:12,200 --> 00:44:12,500
It feels

841
00:44:12,700 --> 00:44:13,100
Exactly.

842
00:44:13,100 --> 00:44:14,700
Like you want it to feel?

843
00:44:14,900 --> 00:44:18,900
In fact, despite the fact that our Graphics are awful because we're

844
00:44:18,900 --> 00:44:22,000
not rendering anything, this is the best feeling stairwell.

845
00:44:22,000 --> 00:44:23,900
I think I've ever felt in a game.

846
00:44:25,300 --> 00:44:29,500
I mean that just feels great instead of like triggering some can

847
00:44:29,500 --> 00:44:33,200
animation or just flashing that you really like go up it it just feels

848
00:44:33,200 --> 00:44:33,700
awesome.

849
00:44:34,900 --> 00:44:35,900
That's all I can say.

850
00:44:37,700 --> 00:44:43,400
Yeah, I feel like when we combine that with some good rendering for,

851
00:44:43,400 --> 00:44:46,900
you know, when there's actually a stairwell there and it's, you know,

852
00:44:46,900 --> 00:44:48,200
a floating properly in whatever.

853
00:44:48,200 --> 00:44:50,300
That's, that's going to be pretty awesome.

854
00:44:52,600 --> 00:44:53,100
Yeah.

855
00:44:54,500 --> 00:44:59,100
I I'm I'm a fan of how we did this as I guess what I would say.

856
00:45:01,500 --> 00:45:01,900
Yeah.

857
00:45:03,600 --> 00:45:04,800
That's, that's pretty cool.

858
00:45:05,500 --> 00:45:07,700
So the next thing I think we need to tackle here.

859
00:45:07,700 --> 00:45:08,700
Is we need

860
00:45:10,500 --> 00:45:11,500
Yeah, I'm sorry.

861
00:45:11,500 --> 00:45:12,500
I'm really enjoying this.

862
00:45:12,800 --> 00:45:13,400
It's really nice.

863
00:45:13,400 --> 00:45:15,500
When you actually spend some time to do something and then it comes

864
00:45:15,500 --> 00:45:17,200
out good that that's really good.

865
00:45:18,000 --> 00:45:19,900
That's that feels fantastic.

866
00:45:20,900 --> 00:45:21,300
Yeah.

867
00:45:22,300 --> 00:45:22,700
Okay.

868
00:45:23,600 --> 00:45:29,400
Anyway, excuse me, we have some other stuff we got to do here.

869
00:45:29,400 --> 00:45:30,900
We got to do the 3D entity Collision stuff.

870
00:45:30,900 --> 00:45:33,400
Obviously, that's that's relatively simple actually.

871
00:45:33,400 --> 00:45:37,700
But what I what I wanted to say was first of all, we're going to put a

872
00:45:37,700 --> 00:45:38,600
thing on here.

873
00:45:39,200 --> 00:45:39,600
Oops.

874
00:45:40,400 --> 00:45:45,700
that H, what we do want to do is for Collision detection, I would like

875
00:45:45,700 --> 00:45:46,500
to say

876
00:45:49,000 --> 00:45:50,900
Can we do something about?

877
00:45:52,200 --> 00:45:54,600
Clean up, predicate proliferation.

878
00:45:56,700 --> 00:46:05,400
Can we make a nice clean set of flags rules so that it's easy to

879
00:46:05,400 --> 00:46:10,300
understand how things work in terms of special handling.

880
00:46:13,300 --> 00:46:24,200
This may involve making the iteration handle everything instead of

881
00:46:24,200 --> 00:46:24,900
handling.

882
00:46:26,700 --> 00:46:29,100
Overlap outside and so on.

883
00:46:30,400 --> 00:46:33,300
So yeah, like I said, I don't really know.

884
00:46:36,300 --> 00:46:39,800
But that's something that we kind of, it's just not, it's just not

885
00:46:39,800 --> 00:46:40,400
perfect.

886
00:46:40,900 --> 00:46:43,100
So we figured out how we would go up and down.

887
00:46:43,100 --> 00:46:43,800
That's true.

888
00:46:44,300 --> 00:46:46,400
But we still have our, how is this rendered?

889
00:46:46,400 --> 00:46:47,500
Let's keep that on there.

890
00:46:48,500 --> 00:46:51,900
And then we'll also to maybe do try to the question section in the

891
00:46:51,900 --> 00:46:52,700
last 10 minutes here.

892
00:46:53,000 --> 00:46:57,000
The one thing I did want to say was Z equals zero for the ground.

893
00:46:57,200 --> 00:46:59,600
This is not right.

894
00:47:00,200 --> 00:47:05,600
You know I'm saying, the reason this is not right is

895
00:47:06,100 --> 00:47:11,700
As that's totally dependent on where the camera was Z equals.

896
00:47:11,700 --> 00:47:14,200
Zero is just a camera location, right?

897
00:47:14,700 --> 00:47:18,900
And so, what we'd rather do, is have a notion that the ground is at a

898
00:47:18,900 --> 00:47:21,800
specific Z plane all the time.

899
00:47:23,100 --> 00:47:27,100
You know, and those Z planes are like stacked, you know, one on top of

900
00:47:27,100 --> 00:47:27,600
each other.

901
00:47:28,500 --> 00:47:32,200
So I'm not sure exactly how we would want to do that.

902
00:47:32,200 --> 00:47:35,900
Like I'm not sure how we want to know.

903
00:47:36,000 --> 00:47:38,200
Know exactly where the ground should be.

904
00:47:39,200 --> 00:47:44,800
But what I do think we want to do is say that for the same region that

905
00:47:44,800 --> 00:47:47,000
ground is actually parameter.

906
00:47:47,100 --> 00:47:52,600
Right, there's a ground-level parameter and what we're going to do

907
00:47:52,600 --> 00:47:55,800
here, like default ground level, right?

908
00:47:56,100 --> 00:47:57,800
And our Sim region.

909
00:47:57,800 --> 00:47:59,900
We grab that out there and so when we

910
00:48:00,000 --> 00:48:05,600
We do the begin Sim when we take that world position origin in.

911
00:48:05,900 --> 00:48:10,100
We should compute the ground level, the default ground level based on.

912
00:48:10,600 --> 00:48:13,700
That, that information, right?

913
00:48:16,000 --> 00:48:21,200
So, yeah, so, we would want to basically do the movement based on

914
00:48:21,200 --> 00:48:21,600
that.

915
00:48:21,600 --> 00:48:24,700
Now, there's a bit of a nastiness here, I guess.

916
00:48:32,700 --> 00:48:38,000
So I guess it's not really default ground level that we want as well

917
00:48:38,900 --> 00:48:42,900
because this is bear with me here because I think this is actually

918
00:48:42,900 --> 00:48:45,400
relatively tricky and I want to make sure we do it right.

919
00:48:46,300 --> 00:48:50,500
so let's say we have a SIM region like we do,

920
00:48:52,700 --> 00:48:59,400
And we have some scenario where we've got, you know, from, from a side

921
00:48:59,400 --> 00:48:59,800
view.

922
00:49:00,500 --> 00:49:05,200
We've got a hero who's up here and this is, you know, what?

923
00:49:05,200 --> 00:49:06,200
He's standing on.

924
00:49:06,300 --> 00:49:13,000
But then there's also another layer down here and there's a monstar,

925
00:49:13,000 --> 00:49:13,700
right?

926
00:49:14,800 --> 00:49:15,900
And the monstar

927
00:49:18,800 --> 00:49:20,100
Monstar.

928
00:49:21,400 --> 00:49:26,800
Hero and the monster is on here for simulating, these two people.

929
00:49:26,800 --> 00:49:28,800
Their ground levels are different, right?

930
00:49:28,800 --> 00:49:31,900
This guy standing on this ground of this guy standing on this ground.

931
00:49:32,000 --> 00:49:35,600
And so we want to be able to handle those both in the same sim region

932
00:49:35,900 --> 00:49:38,300
because the gather may have grabbed them both.

933
00:49:38,700 --> 00:49:44,700
So we really don't want we it's not that we need to know anything

934
00:49:44,700 --> 00:49:50,400
about the it's not that we need to know what a default ground level

935
00:49:50,400 --> 00:49:50,700
is.

936
00:49:51,100 --> 00:49:54,700
We need to know is just how these are aligned so that we can look at

937
00:49:54,700 --> 00:49:57,100
where the hero is and say, okay?

938
00:49:57,200 --> 00:50:02,100
What's his Z level that he's on and look at the monster and say what Z

939
00:50:02,100 --> 00:50:03,200
level is, he on?

940
00:50:03,500 --> 00:50:08,700
So we really need is is some kind of a like a z base that tells us

941
00:50:09,200 --> 00:50:17,800
where, you know, these slices are and you are at some tile height, you

942
00:50:17,800 --> 00:50:18,200
know?

943
00:50:20,000 --> 00:50:24,400
Increment off of the Z base at any given time, right?

944
00:50:26,800 --> 00:50:33,200
That's what I think we actually want and so I think that is is really

945
00:50:33,200 --> 00:50:34,200
what we should be doing.

946
00:50:34,700 --> 00:50:42,200
We kind of need something that's like like a basically like a ground Z

947
00:50:42,200 --> 00:50:43,600
base, something like that.

948
00:50:44,100 --> 00:50:48,800
And what you would do is to find out what your ground level is, right,

949
00:50:49,200 --> 00:50:55,400
you would take wherever you are, and you'd sort of truncate it down to

950
00:50:55,400 --> 00:50:56,300
whatever that.

951
00:50:56,900 --> 00:50:59,700
That new Z is right, so your ground level.

952
00:51:01,400 --> 00:51:04,100
When we're trying to figure out what your the place that would be

953
00:51:04,100 --> 00:51:11,900
supporting you underneath your ground level is going to be about that,

954
00:51:11,900 --> 00:51:12,200
right?

955
00:51:12,200 --> 00:51:19,500
You're a ground level is going to be telling you that information so

956
00:51:27,200 --> 00:51:28,800
there's still one more thing about this.

957
00:51:34,500 --> 00:51:38,500
So let's say we have a stairwell truncation isn't going to work

958
00:51:38,500 --> 00:51:41,600
because when you walk off the stairwell, you want to snap to the

959
00:51:41,600 --> 00:51:43,400
closest one, right?

960
00:51:43,700 --> 00:51:46,900
You want to snap and truncation will work for this guy but it wouldn't

961
00:51:46,900 --> 00:51:47,700
work for this guy.

962
00:51:50,100 --> 00:51:50,800
Hmm.

963
00:52:02,500 --> 00:52:06,900
So it would seem like stairwell handling would have to be a little

964
00:52:06,900 --> 00:52:07,400
smarter.

965
00:52:07,800 --> 00:52:14,800
Essentially what we would want to do for the stairwells is say when

966
00:52:14,800 --> 00:52:19,900
you exit a stairwell, we snap you to the ground level that you would

967
00:52:19,900 --> 00:52:20,300
be on.

968
00:52:20,300 --> 00:52:23,000
You walk off it because otherwise it's never going to work properly.

969
00:52:23,000 --> 00:52:27,200
If we walked off here, let's imagine Heroes can fall off Ledges, which

970
00:52:27,200 --> 00:52:29,900
I don't think we want them to do but just imagine that they could.

971
00:52:30,700 --> 00:52:34,500
So for Hero, Walks off here, what's its its new ground level?

972
00:52:34,500 --> 00:52:38,800
Well, we don't want it to snap to well.

973
00:52:38,800 --> 00:52:42,200
Okay that's that's that's dumb anyway because if we were going to do

974
00:52:42,200 --> 00:52:45,100
that we just probably put an entity here that was like empty space

975
00:52:45,200 --> 00:52:48,700
since we're not representing ground explicitly, we would have to

976
00:52:48,900 --> 00:52:50,900
represent empty space explicitly to.

977
00:52:51,600 --> 00:52:52,500
So that's kind of dumb.

978
00:52:53,200 --> 00:52:53,400
Yeah.

979
00:52:53,400 --> 00:52:54,400
Forget I said that.

980
00:52:56,100 --> 00:52:59,900
So if we wanted to snap, I guess the thing that we would want to do is

981
00:52:59,900 --> 00:53:01,900
let's say, let's say Heroes here.

982
00:53:02,500 --> 00:53:07,000
And it jumps right or the familiar and he's floating up here, we don't

983
00:53:07,000 --> 00:53:09,100
want him to snap his ground level to cure.

984
00:53:09,100 --> 00:53:11,500
We want them to snap his ground level to there, right?

985
00:53:11,500 --> 00:53:13,400
So we definitely need to do truncation.

986
00:53:13,800 --> 00:53:20,000
When we walk off of a stairwell, on the other hand, we wouldn't we

987
00:53:20,000 --> 00:53:25,600
want to sort of snap up to the closer one at the top, which would

988
00:53:25,600 --> 00:53:25,800
fight

989
00:53:26,000 --> 00:53:30,600
The two, like these two can't coexist, we have a problem there, right?

990
00:53:31,000 --> 00:53:32,200
And so,

991
00:53:34,400 --> 00:53:38,300
I'm just not sure exactly how to handle that cleanly, right?

992
00:53:38,300 --> 00:53:42,200
Without saying the stairwell has to be in charge of that Special Rule,

993
00:53:42,600 --> 00:53:43,200
right?

994
00:53:43,500 --> 00:53:45,800
Which is that if you're walking up the top of sterile, you snap to the

995
00:53:45,800 --> 00:53:46,700
next ground level.

996
00:53:48,900 --> 00:53:51,800
So yeah, it's pretty complicated.

997
00:53:52,200 --> 00:53:55,100
I don't know, I don't know what a good solution to that is we don't

998
00:53:55,100 --> 00:53:58,700
have a whole lot of time left so I'm not sure what I want to do there

999
00:53:58,700 --> 00:53:59,800
but I guess I'll back that.

1000
00:54:00,000 --> 00:54:00,600
For now.

1001
00:54:01,400 --> 00:54:04,100
And we'll say that is another to do that.

1002
00:54:04,100 --> 00:54:04,700
We have to do.

1003
00:54:04,700 --> 00:54:05,900
So in here will say

1004
00:54:08,400 --> 00:54:16,000
You know, something like need to make a solid concept of ground

1005
00:54:16,000 --> 00:54:16,600
levels.

1006
00:54:16,900 --> 00:54:24,200
So the camera can be freely placed in Z and have multiple ground

1007
00:54:24,200 --> 00:54:29,000
levels in one sim region, right?

1008
00:54:30,000 --> 00:54:33,600
So that's, that's basically what we have to fix their and I suspect

1009
00:54:33,600 --> 00:54:36,300
the already sort of have a bug related to that, right?

1010
00:54:37,700 --> 00:54:38,000
Yeah.

1011
00:54:38,700 --> 00:54:43,800
So if you note the familiar and the monstar move up with us, which is

1012
00:54:43,800 --> 00:54:47,100
exactly what we would expect because they get snapped up to Z equals

1013
00:54:47,100 --> 00:54:48,500
0, right?

1014
00:54:48,500 --> 00:54:50,000
Because they are standing on the ground.

1015
00:54:50,900 --> 00:54:55,300
And so we already have that bug and and so we will know when we fix it

1016
00:54:55,300 --> 00:54:59,200
because they, those guys should stay in the same Z level.

1017
00:54:59,400 --> 00:55:00,000
Right?

1018
00:55:00,400 --> 00:55:01,100
That makes sense.

1019
00:55:02,200 --> 00:55:06,300
So yeah, so I think that's, I think that's important is I guess what I

1020
00:55:06,300 --> 00:55:06,800
would say,

1021
00:55:09,000 --> 00:55:12,800
All right, so that's all good.

1022
00:55:12,900 --> 00:55:15,600
I think nothing particularly weird there.

1023
00:55:15,800 --> 00:55:18,700
I do Wonder, one thing I'm kind of curious about.

1024
00:55:19,300 --> 00:55:19,900
I just want to try.

1025
00:55:19,900 --> 00:55:23,600
This is what would happen.

1026
00:55:23,800 --> 00:55:26,300
If when we rendered since we have a little bit of time left in the

1027
00:55:26,300 --> 00:55:33,200
Stream here, what would happen if when we render we just reduced by

1028
00:55:33,200 --> 00:55:38,600
yours is we took your Z depth and we use that to reduce your

1029
00:55:38,800 --> 00:55:41,400
And why a little bit, right?

1030
00:55:43,600 --> 00:55:48,400
So what would happen if we said, okay, I'm just playing around here

1031
00:55:49,600 --> 00:55:51,800
when we go to draw stuff, right?

1032
00:55:52,000 --> 00:55:53,000
So we do.

1033
00:55:53,300 --> 00:55:56,800
We do our, I'm going to go a little, I'm going to go just a little

1034
00:55:56,800 --> 00:55:57,900
bit, I just want to try this.

1035
00:55:59,000 --> 00:56:05,400
If we were in here and we just said, all right, we've got our piece

1036
00:56:05,400 --> 00:56:06,700
drawing function, right?

1037
00:56:06,800 --> 00:56:13,200
Our piece group and when we draw our peace, our pieces, right?

1038
00:56:14,200 --> 00:56:15,800
Let's see where we draw those.

1039
00:56:15,900 --> 00:56:18,000
Here's, here's our piece drawing code.

1040
00:56:18,600 --> 00:56:21,800
We do this computation to figure out where we should draw them.

1041
00:56:22,000 --> 00:56:23,000
And then we draw them.

1042
00:56:23,200 --> 00:56:23,800
Right?

1043
00:56:24,000 --> 00:56:27,300
So we do like our ground point plus the offset.

1044
00:56:27,300 --> 00:56:27,900
And so on.

1045
00:56:29,000 --> 00:56:34,300
So if we were going to take that entity ground point this thing, I'm

1046
00:56:34,300 --> 00:56:38,700
wondering what would happen if we took the X and Y and kind of made it

1047
00:56:38,700 --> 00:56:41,600
be proportional to Z a little bit, right?

1048
00:56:42,200 --> 00:56:43,200
So if he basically said,

1049
00:56:43,300 --> 00:56:45,000
Add something, something.

1050
00:56:47,800 --> 00:56:59,800
like you know, Z fudge equals, you know, 1.0 plus entity

1051
00:57:00,900 --> 00:57:04,000
P dot Z times.

1052
00:57:04,000 --> 00:57:08,200
Some constant, which is however much we want it to affect things,

1053
00:57:08,600 --> 00:57:09,200
right?

1054
00:57:09,500 --> 00:57:18,100
And then we multiplied, we multiplied that entity PX by that.

1055
00:57:18,100 --> 00:57:20,000
Fudge Factor, right?

1056
00:57:20,400 --> 00:57:25,400
I'm just, just purely wanted to see what would happen if I did that.

1057
00:57:26,000 --> 00:57:27,000
I'm just curious.

1058
00:57:27,500 --> 00:57:29,800
So you can kind of see now that we have multiple

1059
00:57:30,000 --> 00:57:32,100
planes of Z motion, right?

1060
00:57:34,800 --> 00:57:39,900
You see how, like, what's underneath me looks like it's underneath me

1061
00:57:39,900 --> 00:57:42,500
now or I guess, you know what?

1062
00:57:42,600 --> 00:57:43,600
Now, I think about it.

1063
00:57:48,600 --> 00:57:51,500
I am on the bottom one.

1064
00:57:51,500 --> 00:57:54,100
So yes, I have to walk up to the top one.

1065
00:57:54,100 --> 00:57:55,200
Right?

1066
00:57:55,200 --> 00:57:59,100
And and I can't walk through this yet because we haven't done 3D

1067
00:57:59,100 --> 00:58:00,400
Collision detection, but you can see.

1068
00:58:00,400 --> 00:58:04,700
So since we wanted to look at that 3D rendering thing, I was I was

1069
00:58:04,700 --> 00:58:05,100
curious.

1070
00:58:05,100 --> 00:58:09,000
What would happen if we did that and we really need to add that 3D

1071
00:58:09,000 --> 00:58:10,300
Collision detection so we can see it better.

1072
00:58:10,300 --> 00:58:12,200
But that's a good example, right?

1073
00:58:12,200 --> 00:58:15,300
Of something we could do rendering, why's that would make it so that

1074
00:58:15,300 --> 00:58:18,500
it was easier to tell what was above and below you in cases where you

1075
00:58:18,700 --> 00:58:19,600
See through things.

1076
00:58:22,400 --> 00:58:22,900
Yeah.

1077
00:58:23,000 --> 00:58:24,700
So we'll talk about that a little bit more.

1078
00:58:24,700 --> 00:58:25,300
I was just curious.

1079
00:58:25,300 --> 00:58:26,200
What would happen there?

1080
00:58:28,800 --> 00:58:32,400
So I'm going to say that's a that's a that's a good thing to play

1081
00:58:32,400 --> 00:58:32,700
with.

1082
00:58:33,500 --> 00:58:35,000
Anyway it's time for the Q&A.

1083
00:58:39,000 --> 00:58:39,500
All right.

1084
00:58:39,800 --> 00:58:45,200
Please prefix your questions with Q: so I can see them and we will go

1085
00:58:45,200 --> 00:58:46,400
ahead with the Q&A.

1086
00:58:46,400 --> 00:58:50,700
Let me put Q&A on there but yeah, I'm going to I'm going to add that

1087
00:58:50,700 --> 00:58:55,700
to our list here and say that under how is this rendered?

1088
00:58:55,700 --> 00:58:56,900
Z fudge.

1089
00:58:57,300 --> 00:59:00,900
I was just I was curious about that the other day and I've kept

1090
00:59:00,900 --> 00:59:03,400
forgetting throw it in there, but I think it's good.

1091
00:59:03,400 --> 00:59:05,200
I think we're probably going to do something like that.

1092
00:59:07,000 --> 00:59:10,600
Yeah, makes it feel really pretty nice, actually.

1093
00:59:19,200 --> 00:59:23,200
I'm guessing the engine will manage arbitrarily High Ground levels.

1094
00:59:23,200 --> 00:59:26,100
Would you really want that gameplay, such as projecting a tax to a

1095
00:59:26,100 --> 00:59:27,100
monster below?

1096
00:59:27,400 --> 00:59:28,400
Does sound fun?

1097
00:59:31,300 --> 00:59:33,300
So, I don't know.

1098
00:59:36,000 --> 00:59:43,100
What we'll want to do gameplay wise but I mean basically the idea is

1099
00:59:43,100 --> 00:59:46,300
just that I want to be able to support whatever we want to do in the

1100
00:59:46,300 --> 00:59:50,200
game with the engine just to show how to program it.

1101
00:59:50,400 --> 00:59:55,800
And so mostly that's what I was trying to make sure we did was like

1102
00:59:56,700 --> 00:59:59,300
Always, make sure that whatever we wanted to do.

1103
01:00:01,000 --> 01:00:05,000
With with grounds and stairwells and Holes in the Floor and stuff

1104
01:00:05,300 --> 01:00:08,300
would be cleanly represented in the engine.

1105
01:00:09,100 --> 01:00:13,200
And so since this is our architecture past I'm trying to get that

1106
01:00:13,200 --> 01:00:17,200
stuff worked out and mostly it has to do with Collision detection,

1107
01:00:17,200 --> 01:00:17,500
right?

1108
01:00:17,500 --> 01:00:23,600
Because mostly the Collision detection and response, like how things

1109
01:00:23,600 --> 01:00:28,700
move, and how they hit each other because drawing wise, it's pretty

1110
01:00:28,700 --> 01:00:29,200
simple.

1111
01:00:29,200 --> 01:00:29,900
There's there, I do.

1112
01:00:30,100 --> 01:00:32,200
We're going to have to do that, much work for drawing it.

1113
01:00:32,300 --> 01:00:35,500
Like I like, you know, that c fudge was pretty straightforward, right?

1114
01:00:37,100 --> 01:00:37,600
So yeah.

1115
01:00:48,900 --> 01:00:53,700
Why not use the X and Y positions as they appear on the screen for

1116
01:00:53,700 --> 01:00:55,800
detecting Sim regions?

1117
01:00:57,600 --> 01:01:00,900
I'm sorry, I'm not sure what you mean by detecting Sim regions.

1118
01:01:05,900 --> 01:01:06,100
Yeah.

1119
01:01:06,100 --> 01:01:07,800
Could you be more specific about?

1120
01:01:07,800 --> 01:01:09,500
What what the question is?

1121
01:01:09,900 --> 01:01:11,100
I'm not sure I understand it.

1122
01:01:18,300 --> 01:01:19,900
Should you also check the stair?

1123
01:01:19,900 --> 01:01:22,500
Step at the top of the, top of the stairs?

1124
01:01:22,500 --> 01:01:25,100
It seems like you can exit earlier than at the bottom.

1125
01:01:25,600 --> 01:01:26,000
Yeah.

1126
01:01:26,000 --> 01:01:30,400
So what we, what we actually need to do too is you can exit the stairs

1127
01:01:30,400 --> 01:01:33,400
at any time, which is not good, right?

1128
01:01:34,000 --> 01:01:34,400
You're right.

1129
01:01:34,400 --> 01:01:36,000
I should I should put that in there.

1130
01:01:36,500 --> 01:01:43,100
The reason for that is because in this call, which is not in this

1131
01:01:43,100 --> 01:01:43,600
file.

1132
01:01:46,200 --> 01:01:47,200
Where is that?

1133
01:01:49,400 --> 01:01:50,800
Yeah, in speculative.

1134
01:01:50,800 --> 01:01:51,600
Collide.

1135
01:01:52,100 --> 01:01:53,200
The problem here.

1136
01:01:53,200 --> 01:01:56,100
Is that what we're doing is?

1137
01:01:56,300 --> 01:02:02,400
We are only checking to see what happens when you are stepping onto

1138
01:02:02,400 --> 01:02:03,900
the stairs, right?

1139
01:02:03,900 --> 01:02:05,200
We're only checking the different.

1140
01:02:05,400 --> 01:02:08,500
The difference between your height and the stair height, if you're

1141
01:02:08,500 --> 01:02:12,200
already on the stairs we're not doing a check at all, right?

1142
01:02:12,600 --> 01:02:16,200
And we would want to so what we'd want to do is see what your Z would

1143
01:02:16,200 --> 01:02:19,000
be when you step off and checking that

1144
01:02:19,500 --> 01:02:22,400
And that would have been way better, right?

1145
01:02:23,400 --> 01:02:26,400
So, you know, I can put a to do in here as well.

1146
01:02:28,600 --> 01:02:34,900
So basically say we need a concept of stepping onto versus stepping

1147
01:02:35,400 --> 01:02:46,400
off of here so that we can prevent you from leaving stairs instead of

1148
01:02:46,400 --> 01:02:50,900
just preventing you from getting onto them.

1149
01:02:52,400 --> 01:02:55,100
Yeah, so I agree with that.

1150
01:03:02,100 --> 01:03:05,700
Could you please do an overview on blackboard maybe of the entities

1151
01:03:05,700 --> 01:03:07,600
position system, World screen, the cetera.

1152
01:03:07,600 --> 01:03:10,400
Now that it's done, I'm having trouble understanding it.

1153
01:03:10,400 --> 01:03:12,000
Hopefully, you'll understand my question.

1154
01:03:12,900 --> 01:03:14,400
It's actually pretty simple.

1155
01:03:14,400 --> 01:03:17,800
Now, there's not a whole lot to it.

1156
01:03:18,600 --> 01:03:22,000
So basically we didn't do.

1157
01:03:22,000 --> 01:03:26,000
We actually, you know, what do we have this already?

1158
01:03:26,300 --> 01:03:31,300
I'm trying to remember if this was before or after the

1159
01:03:32,300 --> 01:03:37,800
Craziness got started or because I explain this once, someone asked

1160
01:03:37,800 --> 01:03:39,100
that exact same question.

1161
01:03:41,400 --> 01:03:42,000
Here it is.

1162
01:03:43,900 --> 01:03:44,600
Is this?

1163
01:03:44,600 --> 01:03:45,000
It?

1164
01:03:46,300 --> 01:03:46,700
Yeah.

1165
01:03:50,700 --> 01:03:51,200
Think so.

1166
01:03:54,800 --> 01:03:57,600
So, I believe this is the diagram could be wrong.

1167
01:04:00,200 --> 01:04:03,700
But basically, what happens is we have a sparse World storage thing

1168
01:04:03,700 --> 01:04:05,100
and that sparse World storage things.

1169
01:04:05,100 --> 01:04:08,400
Stored stores, the world's in chunks that are non-overlapping.

1170
01:04:08,400 --> 01:04:13,200
So they're just little little basically, like chunks of the world

1171
01:04:13,200 --> 01:04:17,100
where there we know there's some data and that basically is just a way

1172
01:04:17,100 --> 01:04:22,500
of allowing us to store as large a world as we want in terms of

1173
01:04:22,500 --> 01:04:23,600
dimensions.

1174
01:04:24,400 --> 01:04:29,500
Well, still only paying for paying the storage cost of places that the

1175
01:04:29,500 --> 01:04:30,600
world actually exist.

1176
01:04:30,600 --> 01:04:33,700
Instead of having to, if we were allocated as a giant array, it would

1177
01:04:33,700 --> 01:04:35,400
be too big, right?

1178
01:04:35,800 --> 01:04:41,500
So this allows us to have like, long thin, you know, sort of spirally,

1179
01:04:41,500 --> 01:04:45,500
whatever crazy path through the world and not have to worry about

1180
01:04:45,500 --> 01:04:46,800
anything when we do that.

1181
01:04:47,700 --> 01:04:50,000
So anyway, we store it that way.

1182
01:04:50,300 --> 01:04:54,000
And then what we do is we gather any time we want to do a simulation

1183
01:04:54,500 --> 01:04:58,900
We pick us at some point in that world to gather around and we

1184
01:04:58,900 --> 01:05:04,600
essentially construct a box, a three-dimensional box of the all the

1185
01:05:04,600 --> 01:05:09,300
entities that we, you know, all the geometry, the entire region we

1186
01:05:09,300 --> 01:05:11,700
think wants to be simulated in drawn together.

1187
01:05:12,300 --> 01:05:14,100
So we grab that out.

1188
01:05:14,900 --> 01:05:18,800
And there's some part of it is what the camera is seeing at any given

1189
01:05:18,800 --> 01:05:20,200
time that be like this here.

1190
01:05:20,500 --> 01:05:23,900
But there's a larger region that's actually being simulated.

1191
01:05:24,100 --> 01:05:28,400
And what we do is these entity, the entities in here are stored

1192
01:05:29,100 --> 01:05:33,600
position Ali as wherever they are in terms of their tile chunk.

1193
01:05:33,700 --> 01:05:37,000
So we're whatever chunk there in plus an offset in that chunk.

1194
01:05:37,400 --> 01:05:40,300
So it basically says like I'm in this chunk and I'm this far from the

1195
01:05:40,300 --> 01:05:43,100
center of the chunk when they're brought into the Sim region.

1196
01:05:43,300 --> 01:05:44,600
We translate that into

1197
01:05:44,800 --> 01:05:48,300
You up position that centered around whatever that Center Point is of

1198
01:05:48,300 --> 01:05:51,600
the Sim region, which would be right in the middle of the screen in

1199
01:05:51,600 --> 01:05:52,800
the terms of a scripts image.

1200
01:05:52,800 --> 01:05:55,900
And we're drawing, if it's Imaging that we weren't drawing, we're just

1201
01:05:55,900 --> 01:05:58,700
using simulate, it's in the middle of the box, right?

1202
01:05:58,700 --> 01:05:59,300
That's being

1203
01:06:01,000 --> 01:06:03,900
So all of their positions are then just stored as simple.

1204
01:06:03,900 --> 01:06:07,600
Floating-point, three-dimensional offsets from the center, we do all

1205
01:06:07,600 --> 01:06:11,700
the simulation work there and then at the end we write them back into

1206
01:06:12,000 --> 01:06:15,200
the World by updating their particular chunk position if they're

1207
01:06:15,200 --> 01:06:15,700
chunk.

1208
01:06:15,700 --> 01:06:19,500
If they've moved to a new Chunk, we remove them from the old chunk of

1209
01:06:19,500 --> 01:06:20,400
put them on the new chunk.

1210
01:06:20,500 --> 01:06:23,500
And either way, we restore their offset to represent their new

1211
01:06:23,500 --> 01:06:27,300
location relative to whatever chunk there in and that's about it.

1212
01:06:27,700 --> 01:06:29,200
That's really all that, that happens.

1213
01:06:40,000 --> 01:06:42,200
Why is the order of stuff drawn on the screen, janky?

1214
01:06:44,200 --> 01:06:46,000
It's because we aren't sorting anything yet.

1215
01:06:46,400 --> 01:06:46,800
Isn't it?

1216
01:06:46,800 --> 01:06:48,300
Easy to draw them in order?

1217
01:06:48,300 --> 01:06:48,800
Each player?

1218
01:06:48,800 --> 01:06:50,800
Draws any of these left to right top to bottom.

1219
01:06:51,500 --> 01:06:54,300
So not, it's not.

1220
01:06:54,500 --> 01:06:57,000
You're missing one thing, which is the Z sorting as well.

1221
01:06:57,600 --> 01:07:01,100
So, it's not just left to right and top to bottom, it's actually, it's

1222
01:07:01,100 --> 01:07:01,700
actually

1223
01:07:02,600 --> 01:07:05,800
Z+ y.

1224
01:07:05,800 --> 01:07:08,500
It's a little more complicated than that but yes.

1225
01:07:08,500 --> 01:07:11,200
And the reason is because we haven't sorted them yet.

1226
01:07:11,200 --> 01:07:15,400
So until we write a sort, we can't do that if that makes sense.

1227
01:07:15,400 --> 01:07:18,500
So I don't want to bother doing that till we get to the renderer

1228
01:07:18,500 --> 01:07:21,500
because otherwise we have to start doing the renderer to put the sort

1229
01:07:21,500 --> 01:07:25,300
into something because we need to, we need to actually buffer all the

1230
01:07:25,300 --> 01:07:26,700
end of these first before we can sort them.

1231
01:07:26,700 --> 01:07:32,600
And so obviously I don't really want to do that until

1232
01:07:33,300 --> 01:07:34,400
We actually start the render.

1233
01:07:34,400 --> 01:07:38,300
Otherwise I have to do half the renderer to put the sword in and then

1234
01:07:38,300 --> 01:07:39,100
stop doing the rendering.

1235
01:07:39,100 --> 01:07:42,700
Go back to what we're doing so since there's absolutely no reason why

1236
01:07:42,700 --> 01:07:42,900
okay?

1237
01:07:42,900 --> 01:07:45,200
I don't care whether things are sorted.

1238
01:07:46,100 --> 01:07:48,100
It's not preventing me from doing any other work.

1239
01:07:48,200 --> 01:07:50,700
It's doesn't seem like a good use of time at the moment.

1240
01:08:10,400 --> 01:08:16,100
Is the reason why things in different levels seem shifted up due to

1241
01:08:16,100 --> 01:08:17,800
the Z offset, when rendering?

1242
01:08:17,899 --> 01:08:24,700
Yes, it is, it is and we can get rid of that too.

1243
01:08:25,300 --> 01:08:30,300
Like if you know, we could make it so that the entities Z was only

1244
01:08:30,300 --> 01:08:31,399
used as an offset.

1245
01:08:31,399 --> 01:08:37,200
So this shifted up B is in here.

1246
01:08:37,800 --> 01:08:38,800
It's this

1247
01:08:39,399 --> 01:08:40,000
Right?

1248
01:08:40,399 --> 01:08:44,800
So, if you didn't want that, you could just do this, right?

1249
01:08:45,100 --> 01:08:46,899
That's that's where the shifting up comes from.

1250
01:08:46,899 --> 01:08:48,600
I think that what you're talking about.

1251
01:08:48,899 --> 01:08:52,100
So, if you didn't want that, you would it would look like this, right?

1252
01:08:53,899 --> 01:08:56,399
And, and that may be preferable.

1253
01:08:57,100 --> 01:08:59,800
I don't know, like I said, we haven't quite looked at that yet.

1254
01:09:00,300 --> 01:09:03,399
But that's where that comes from and then when you come up you're, you

1255
01:09:03,399 --> 01:09:06,500
know, you're still in the same shifting.

1256
01:09:08,300 --> 01:09:09,700
So that's where that comes from.

1257
01:09:12,800 --> 01:09:13,800
If that makes any sense.

1258
01:09:15,500 --> 01:09:19,300
Will this cause for the wall, on the top to be drawn above the screen

1259
01:09:19,500 --> 01:09:21,399
when the camera is locked.

1260
01:09:22,000 --> 01:09:25,399
Instead of following the character,

1261
01:09:31,000 --> 01:09:31,700
Possibly.

1262
01:09:31,700 --> 01:09:35,500
But I mean, we can adjust all that stuff and don't forget our wall

1263
01:09:35,500 --> 01:09:36,000
stuff.

1264
01:09:36,000 --> 01:09:38,500
I mean, we haven't really figured out exactly how we want to position

1265
01:09:38,500 --> 01:09:38,700
those.

1266
01:09:38,700 --> 01:09:41,800
When we do more world-building will kind of have a better idea of

1267
01:09:41,800 --> 01:09:42,300
that.

1268
01:09:53,100 --> 01:09:57,600
When you are allocating everything with custom memory alligators, do

1269
01:09:57,600 --> 01:10:01,600
you only use the stack for pointers?

1270
01:10:07,800 --> 01:10:08,300
I'm not sure.

1271
01:10:08,300 --> 01:10:09,400
I know what that means.

1272
01:10:12,100 --> 01:10:14,200
You can still use pointers.

1273
01:10:15,800 --> 01:10:17,300
With custom memory allocator.

1274
01:10:17,300 --> 01:10:20,800
So I'm not not sure, I'm sorry, I'm not sure I understand that

1275
01:10:20,800 --> 01:10:21,100
question.

1276
01:10:21,100 --> 01:10:21,700
Exactly.

1277
01:10:25,600 --> 01:10:29,000
Are you not worried that three dimensions might complicate entity AI

1278
01:10:29,000 --> 01:10:31,100
to the point where impacts performance?

1279
01:10:33,100 --> 01:10:34,000
Not really no.

1280
01:10:35,100 --> 01:10:40,900
AI is pretty easily tunable, usually like, you know, certainly it

1281
01:10:40,900 --> 01:10:42,900
won't will be have plenty of power to simulate.

1282
01:10:42,900 --> 01:10:46,800
I think the a eyes that are interacting with you directly.

1283
01:10:47,300 --> 01:10:50,300
And so, the only question is, what we need to do in terms of

1284
01:10:50,300 --> 01:10:54,500
simulating other things like large, large worlds, where other things

1285
01:10:54,500 --> 01:10:55,200
are going on.

1286
01:10:55,700 --> 01:10:59,500
And so if that's the case, then I would probably say we just simplify

1287
01:10:59,500 --> 01:10:59,900
it.

1288
01:11:01,300 --> 01:11:05,300
We'd make a few concessions and do simpler a eyes when you're not

1289
01:11:05,300 --> 01:11:06,500
there, right?

1290
01:11:06,500 --> 01:11:11,100
When you're not interacting with them, they do more, they do much more

1291
01:11:11,100 --> 01:11:14,600
coarse-grained behaviors that aren't as complicated or something.

1292
01:11:21,900 --> 01:11:24,900
Oh so for people asking about the form registration process, I have no

1293
01:11:24,900 --> 01:11:26,000
idea what to do about that.

1294
01:11:26,100 --> 01:11:30,700
Apparently we've get listed at spamhaus for some reason, I don't know

1295
01:11:30,700 --> 01:11:31,100
why.

1296
01:11:32,000 --> 01:11:35,800
And then the registration emails don't go out, it's kind of an epic

1297
01:11:35,800 --> 01:11:36,500
disaster.

1298
01:11:36,500 --> 01:11:38,000
It's the standard thing.

1299
01:11:38,800 --> 01:11:41,700
I absolutely hate the web and web development.

1300
01:11:41,700 --> 01:11:48,300
This is a very basic simple concept, but since, of course, the, the

1301
01:11:48,300 --> 01:11:50,700
the Brilliance that is the architecture of the web can't

1302
01:11:50,900 --> 01:11:55,600
and handle spam without ruining people's forums apparently and so I

1303
01:11:55,600 --> 01:11:58,000
have nothing but negative things to say about that and it's been a

1304
01:11:58,000 --> 01:11:59,800
huge pain in the butt so I definitely

1305
01:12:00,000 --> 01:12:03,500
Apologize to everyone who can't register and there's absolutely

1306
01:12:03,500 --> 01:12:09,400
nothing I can do about it apparently, because that is how awesome the

1307
01:12:09,400 --> 01:12:11,100
internet is at everything.

1308
01:12:11,500 --> 01:12:13,900
We really need to do is just create our own application, that allows

1309
01:12:13,900 --> 01:12:18,700
us to talk about handmade hero separately and just cut all these lousy

1310
01:12:18,700 --> 01:12:19,800
programmers out of the mix.

1311
01:12:24,200 --> 01:12:26,100
When will you switch back to centered camera?

1312
01:12:27,300 --> 01:12:28,000
We don't know.

1313
01:12:28,300 --> 01:12:29,100
That's like that.

1314
01:12:29,100 --> 01:12:30,900
We've already demonstrated that both work.

1315
01:12:31,300 --> 01:12:33,100
So I'm pretty confident.

1316
01:12:33,100 --> 01:12:34,800
We don't really need to test anything on there.

1317
01:12:35,300 --> 01:12:37,600
That'll just be when we're making a game we'll play around with how we

1318
01:12:37,600 --> 01:12:39,700
want the camera to be aligned.

1319
01:12:44,600 --> 01:12:47,300
Any particular reason behind making the chunk origin the center of the

1320
01:12:47,300 --> 01:12:54,800
chunk rather than one of the corners not particularly, we had both at

1321
01:12:54,800 --> 01:12:56,400
one point we were using the corner.

1322
01:12:57,500 --> 01:12:59,000
and,

1323
01:13:01,300 --> 01:13:05,000
Yeah, I can't can't really think of any particular reason to use one

1324
01:13:05,000 --> 01:13:11,200
of the other, I guess, one reason is because it makes it easier to

1325
01:13:11,200 --> 01:13:13,800
allow chunks to hold things that are bigger.

1326
01:13:14,300 --> 01:13:18,200
Like if you wanted to, you could allow things to be

1327
01:13:20,000 --> 01:13:24,000
A little bit over the chunk boundary or a little bit in set.

1328
01:13:24,000 --> 01:13:27,600
You it's easy to think about where something is relative the chunk

1329
01:13:27,600 --> 01:13:30,400
Center in that way where it's a little harder to do that if it's a

1330
01:13:30,400 --> 01:13:32,200
corner because then it's asymmetric.

1331
01:13:33,300 --> 01:13:35,800
So centers might be a little bit more convenient for certain things

1332
01:13:35,800 --> 01:13:39,400
but on the whole I think it's probably arbitrary.

1333
01:13:39,600 --> 01:13:40,200
I would guess.

1334
01:13:48,000 --> 01:13:49,400
Sorry for being unclear.

1335
01:13:49,400 --> 01:13:54,000
Do you store anything else than pointers on the stack?

1336
01:13:56,700 --> 01:13:59,500
on the stack, meaning the

1337
01:14:01,800 --> 01:14:05,000
Like the thread stack like the stack.

1338
01:14:05,600 --> 01:14:08,700
I mean, the stack stores, all the local variables and stuff.

1339
01:14:09,900 --> 01:14:12,900
I still don't understand tons of stuff is stored on the stack.

1340
01:14:12,900 --> 01:14:14,100
That's not pointers for example.

1341
01:14:14,100 --> 01:14:17,600
Everything you see on the screen Z fudge would be stored on the stack,

1342
01:14:17,600 --> 01:14:18,200
right?

1343
01:14:19,300 --> 01:14:21,200
Piece index would be stored on the stack.

1344
01:14:21,400 --> 01:14:23,500
All of these are on the stack, right?

1345
01:14:25,600 --> 01:14:29,000
So I'm not sure, still don't quite understand the question.

1346
01:14:35,300 --> 01:14:38,700
If the camera were far enough away from the player with a player, go

1347
01:14:38,700 --> 01:14:41,100
into a simpler routine like the rest of the entities.

1348
01:14:41,900 --> 01:14:42,400
Well

1349
01:14:44,600 --> 01:14:47,100
The cameras defined to follow the player so I don't know.

1350
01:14:47,100 --> 01:14:48,900
That's really case that could never happen.

1351
01:14:56,900 --> 01:14:58,700
Should the possible Collision test.

1352
01:14:58,700 --> 01:14:59,800
Use the test 2nd and

1353
01:15:00,000 --> 01:15:01,900
Of test any of the or are they the same?

1354
01:15:02,100 --> 01:15:06,000
Can you briefly, go over the flow of the hit entity changes.

1355
01:15:06,700 --> 01:15:10,600
They are the same so I can show you what's going on there.

1356
01:15:12,500 --> 01:15:14,900
So testing entity and test entity are the same.

1357
01:15:16,800 --> 01:15:20,800
In this case, always the only reason that we have.

1358
01:15:20,800 --> 01:15:23,200
It being set to test.

1359
01:15:23,200 --> 01:15:30,000
Hit entity is because there's another thing called Hit entity which

1360
01:15:30,000 --> 01:15:33,800
basically in fact, here's one way to think of it, this could just be a

1361
01:15:33,800 --> 01:15:34,200
Bool.

1362
01:15:34,700 --> 01:15:37,000
This is just a Bool as to whether or not we hit.

1363
01:15:37,500 --> 01:15:40,600
So for example, we could just make this kit

1364
01:15:41,600 --> 01:15:44,000
Like this entity, right?

1365
01:15:44,600 --> 01:15:45,300
That kind of thing.

1366
01:15:47,500 --> 01:15:51,600
And then in here we would just say get this equals true, right?

1367
01:15:53,000 --> 01:15:57,100
We're just trying to see whether we hit the thing and then what we do

1368
01:15:57,100 --> 01:16:01,700
is we say, okay if we did hit this thing, then before we were doing is

1369
01:16:01,700 --> 01:16:03,700
we were just setting the entity that we hit.

1370
01:16:03,800 --> 01:16:06,100
Which is this is this what tracks, whether we hit something or not

1371
01:16:06,100 --> 01:16:07,100
it's setting hit entity.

1372
01:16:07,700 --> 01:16:10,400
Before we resetting hit entity in here because it meant that we had a

1373
01:16:10,400 --> 01:16:11,500
hit and we would process it.

1374
01:16:11,500 --> 01:16:15,800
But now what we're doing is saying okay, if we hit this guy, the tests

1375
01:16:15,800 --> 01:16:16,300
entity

1376
01:16:18,000 --> 01:16:19,700
Then let's do.

1377
01:16:19,700 --> 01:16:22,600
Speculative, Collide first, and see what happens.

1378
01:16:23,300 --> 01:16:28,000
And then only, if it if speculative collides says, we should actually

1379
01:16:28,000 --> 01:16:31,900
press it then we record the hit as we were recording it before.

1380
01:16:32,700 --> 01:16:36,800
So that's all that's doing is just putting a layer in between the

1381
01:16:36,800 --> 01:16:41,300
detection of a hit and the acceptance of that as an actual hit.

1382
01:16:42,200 --> 01:16:45,000
And so these are just temporary variables to let us do that processing

1383
01:16:45,000 --> 01:16:47,600
without actually recording it into the

1384
01:16:47,700 --> 01:16:48,600
The loop itself.

1385
01:16:52,300 --> 01:16:53,400
Hopefully, that makes some sense.

1386
01:16:57,200 --> 01:16:59,000
I'll compile that it's

1387
01:17:02,100 --> 01:17:04,800
Just verify that that actually works.

1388
01:17:07,200 --> 01:17:07,800
so, there's

1389
01:17:09,000 --> 01:17:11,500
There's that version working, right.

1390
01:17:11,500 --> 01:17:16,400
And so again, all that is, is just before we were directly, setting

1391
01:17:16,400 --> 01:17:17,100
the entity that we hit.

1392
01:17:17,100 --> 01:17:21,400
And so, every time we got an earlier Collision, in RT testing, we

1393
01:17:21,400 --> 01:17:22,900
would just accept whatever the earliest one is.

1394
01:17:22,900 --> 01:17:28,700
Now we provisionally, say okay, we found an earlier hit but we don't

1395
01:17:28,700 --> 01:17:33,600
actually want to take except that as our new closest hit, until we

1396
01:17:33,600 --> 01:17:35,500
check speculative, Collide and find out that.

1397
01:17:35,500 --> 01:17:36,100
It's okay.

1398
01:17:36,100 --> 01:17:38,800
Because maybe it's something we should just pass through like a

1399
01:17:39,100 --> 01:17:42,600
Well, when we're not trying to step onto it from too, great, a

1400
01:17:42,600 --> 01:17:43,200
distance.

1401
01:17:46,400 --> 01:17:49,100
Yeah, so yeah.

1402
01:17:49,100 --> 01:17:52,000
So what we, what we do need to do is we need to handle the stepping

1403
01:17:52,000 --> 01:17:53,300
off case.

1404
01:17:55,600 --> 01:17:56,100
Right.

1405
01:17:56,100 --> 01:17:59,900
And so that would also require us in here to kind.

1406
01:18:00,000 --> 01:18:03,900
Do a little more work trying to think.

1407
01:18:03,900 --> 01:18:07,700
I haven't really thought through exactly how we want to do that.

1408
01:18:09,400 --> 01:18:12,600
because it does seem a little bit, does seem a little bit difficult,

1409
01:18:12,600 --> 01:18:13,900
but, you know,

1410
01:18:16,900 --> 01:18:18,200
That's that's just the way it is.

1411
01:18:18,800 --> 01:18:20,200
I suppose what we would want.

1412
01:18:20,200 --> 01:18:20,500
You know what?

1413
01:18:20,500 --> 01:18:23,100
I suppose there is a way we could do this a little more easily.

1414
01:18:26,500 --> 01:18:30,300
If you're stepping off the stairwell, we could just see where you were

1415
01:18:30,300 --> 01:18:32,300
barycentric lie on the stairwell.

1416
01:18:35,800 --> 01:18:37,100
In fact.

1417
01:18:38,500 --> 01:18:39,000
I guess.

1418
01:18:39,000 --> 01:18:43,600
Technically what you could do is actually do it a different way

1419
01:18:44,000 --> 01:18:47,100
instead of figuring out what the ground or the step height and stuff

1420
01:18:47,100 --> 01:18:51,700
is because we know this is only semantics handling of Z.

1421
01:18:52,200 --> 01:18:53,500
You could do this.

1422
01:18:53,500 --> 01:18:55,800
Instead, you could say

1423
01:18:58,500 --> 01:19:02,300
that the result is whether you're you're only allowed to step on the

1424
01:19:02,300 --> 01:19:04,200
stairwell at the ends, right?

1425
01:19:04,300 --> 01:19:07,600
So we could say our barycentric, why, which is where you are on the

1426
01:19:07,600 --> 01:19:11,700
stairwell, in terms of where you were trying to step on to it or off

1427
01:19:11,700 --> 01:19:17,800
of it, we could just say that that Bary Centric y, has to be between,

1428
01:19:17,900 --> 01:19:21,800
you know, the first part of the stairwell and the last part of the

1429
01:19:21,800 --> 01:19:24,300
stairwell, right?

1430
01:19:24,300 --> 01:19:27,400
If it's, if it's in there, you're not allowed to step on or off of it.

1431
01:19:27,800 --> 01:19:28,100
Right.

1432
01:19:30,100 --> 01:19:31,000
Think that would work.

1433
01:19:38,500 --> 01:19:40,300
Yeah, and that does work.

1434
01:19:41,400 --> 01:19:44,900
You can see I can't get off of the stairwell, right?

1435
01:19:45,800 --> 01:19:49,800
Of course, we have that problem of the stairwells, actual Collision

1436
01:19:49,800 --> 01:19:54,100
region needs to be smaller than the width that you draw the stairwell

1437
01:19:54,100 --> 01:19:58,100
at because technically we're only checking that internal part of you,

1438
01:19:59,000 --> 01:19:59,600
right?

1439
01:20:01,100 --> 01:20:06,400
So I don't know how we want to do that handle that rendering bit but

1440
01:20:07,000 --> 01:20:08,200
that does that does.

1441
01:20:08,400 --> 01:20:12,300
Problem right now, you can't get onto the stairwell in the middle, you

1442
01:20:12,300 --> 01:20:16,100
can only get on to it at the end and whatever.

1443
01:20:16,300 --> 01:20:22,200
So oh I guess that but I guess that doesn't, that also doesn't fix the

1444
01:20:23,100 --> 01:20:25,200
stepping on at the end.

1445
01:20:25,200 --> 01:20:28,100
So I suppose you still do need to know whether.

1446
01:20:28,200 --> 01:20:28,500
Yeah.

1447
01:20:28,500 --> 01:20:34,500
So you still do need this basically, you would need to say if that

1448
01:20:34,700 --> 01:20:38,100
happens or this happens.

1449
01:20:38,200 --> 01:20:41,300
It's either case is disallowed, right?

1450
01:20:41,500 --> 01:20:43,800
And that would that would then allow us to

1451
01:20:46,500 --> 01:20:47,200
To do both.

1452
01:20:47,400 --> 01:20:53,700
So now you can't step on to it anywhere there and if you're at the top

1453
01:20:53,700 --> 01:20:55,700
you can't step on to it anywhere here.

1454
01:20:56,200 --> 01:20:59,800
But now you also can't step off of the stairs.

1455
01:21:01,500 --> 01:21:03,000
Unless you're at one of the ends.

1456
01:21:05,000 --> 01:21:07,400
That's a pretty easy way to do it as well, I guess.

1457
01:21:10,400 --> 01:21:16,500
So yeah, I don't know this, this needs this needs.

1458
01:21:18,200 --> 01:21:19,100
Needs work.

1459
01:21:20,500 --> 01:21:21,000
Right.

1460
01:21:31,000 --> 01:21:37,300
You could now cancel out the first hit this equals true and not do

1461
01:21:37,300 --> 01:21:38,700
other checks.

1462
01:21:39,500 --> 01:21:45,300
Oh you're talking about you're just talking about you, this kind of

1463
01:21:45,300 --> 01:21:45,700
thing.

1464
01:21:46,800 --> 01:21:47,300
Right.

1465
01:21:49,000 --> 01:21:53,900
So I was I think that's we're talking about if that is what you're

1466
01:21:53,900 --> 01:21:55,700
talking about, that's not actually true.

1467
01:21:56,900 --> 01:21:59,700
Because if you look at what happening here, we need to find the

1468
01:21:59,700 --> 01:22:04,200
earliest Collision so it may be that one of these is going to be

1469
01:22:04,200 --> 01:22:04,900
earlier.

1470
01:22:05,400 --> 01:22:09,000
And so this test well, normal and team in will be set to different

1471
01:22:09,000 --> 01:22:09,700
values.

1472
01:22:10,100 --> 01:22:15,100
So you actually cannot do what you were suggesting you can't early out

1473
01:22:15,100 --> 01:22:16,300
on this variable.

1474
01:22:16,600 --> 01:22:19,700
You need to do all the tests you find out, which while you actually

1475
01:22:19,700 --> 01:22:21,200
hit first, right?

1476
01:22:22,700 --> 01:22:24,900
So yeah, just to be clear.

1477
01:22:24,900 --> 01:22:25,600
You can't.

1478
01:22:25,700 --> 01:22:27,700
It's not that's not a valid optimization.

1479
01:22:27,700 --> 01:22:29,500
That would actually change the result.

1480
01:22:32,000 --> 01:22:32,700
All right.

1481
01:22:34,000 --> 01:22:37,700
Looks like we are coming to the end of question time.

1482
01:22:39,000 --> 01:22:40,500
Question time.

1483
01:22:44,300 --> 01:22:45,100
Yeah.

1484
01:22:52,800 --> 01:22:53,900
Yeah.

1485
01:23:05,000 --> 01:23:06,000
Yep, looks good.

1486
01:23:07,000 --> 01:23:14,400
We have come to the end of, not only another week of programming on

1487
01:23:14,400 --> 01:23:19,400
handmade hero, but we have done something that we have never done

1488
01:23:19,400 --> 01:23:20,000
before.

1489
01:23:20,200 --> 01:23:25,900
Ladies and gentlemen, and that is agreed to go on break for a week.

1490
01:23:26,400 --> 01:23:30,000
Now, normally, I don't like going on break for a week.

1491
01:23:31,600 --> 01:23:32,400
From coding.

1492
01:23:35,800 --> 01:23:40,000
I don't think I've ever had a week in which I didn't program

1493
01:23:40,000 --> 01:23:40,600
something.

1494
01:23:42,200 --> 01:23:44,400
That is absolutely crazy.

1495
01:23:45,000 --> 01:23:49,300
I'm okay with it because I program every day for work anyway, so

1496
01:23:49,300 --> 01:23:50,000
that's fine.

1497
01:23:51,400 --> 01:23:52,900
But going on break for a week.

1498
01:23:52,900 --> 01:23:55,900
Just just philosophically from programming.

1499
01:23:56,200 --> 01:23:59,800
I don't love, but people were asking for time to catch up.

1500
01:24:00,400 --> 01:24:04,200
With the series and so I can totally relate to that and I will be

1501
01:24:04,200 --> 01:24:07,100
traveling next week so it would be hard for me to stream the live

1502
01:24:07,100 --> 01:24:07,800
stream anyway.

1503
01:24:08,400 --> 01:24:14,100
So we decided to do is we will do a little break here.

1504
01:24:14,100 --> 01:24:17,500
Where next week we will not be doing handmade hero and then we'll come

1505
01:24:17,500 --> 01:24:18,600
back the week after.

1506
01:24:19,300 --> 01:24:23,800
So, basically this whole week here, the 2nd, through the 6th we won't,

1507
01:24:24,200 --> 01:24:30,000
and then on the 9th on Monday, the 9th will be back with him in here.

1508
01:24:30,900 --> 01:24:33,500
So enjoy the vacation.

1509
01:24:33,500 --> 01:24:38,200
I hope you get some good programming done and whatever else catching

1510
01:24:38,200 --> 01:24:40,800
up on the series or doing whatever it is that you'd like to do.

1511
01:24:41,700 --> 01:24:46,000
And I hope to see you back here when we resume until then, if you'd

1512
01:24:46,000 --> 01:24:49,900
like, to follow along with the coding, of course, you can pre-order

1513
01:24:49,900 --> 01:24:52,300
the game on handmade here at dot org and download the source code.

1514
01:24:52,300 --> 01:24:54,400
It comes to the source code, every night I upload it.

1515
01:24:54,600 --> 01:24:55,700
After we finished programming.

1516
01:24:56,200 --> 01:24:59,500
If you'd like to support the video series, we do have a patreon.

1517
01:24:59,500 --> 01:25:00,500
You subscribe to and

1518
01:25:00,600 --> 01:25:02,200
Flicked off here, media.org as well.

1519
01:25:02,600 --> 01:25:05,700
We have a news and Forum site which the wonderful architecture of the

1520
01:25:05,700 --> 01:25:07,500
World Wide Web is doing its best to make.

1521
01:25:07,500 --> 01:25:09,100
Sure never works properly.

1522
01:25:10,000 --> 01:25:12,800
Thank you very much to spamhaus for listing us as a spammer.

1523
01:25:12,800 --> 01:25:15,700
Even though we have never sent out a single email, that wasn't for the

1524
01:25:15,700 --> 01:25:20,300
forums, literally, we don't even have a mailing list and we all

1525
01:25:20,300 --> 01:25:22,200
listened to the spammer so that's awesome.

1526
01:25:22,700 --> 01:25:24,600
Again, really solid web architecture.

1527
01:25:25,000 --> 01:25:30,200
If you're wondering why I absolutely hate the internet and it's code,

1528
01:25:30,200 --> 01:25:30,400
it's

1529
01:25:30,500 --> 01:25:34,100
Because of stuff like that, every time we try to do something, it's a

1530
01:25:34,100 --> 01:25:37,700
disaster and that is often completely out of our control.

1531
01:25:37,700 --> 01:25:41,300
Anyway that said we do have some other good stuff on there.

1532
01:25:41,300 --> 01:25:45,800
Besides the fact that they are breaking our forums and that is that

1533
01:25:46,000 --> 01:25:51,000
people have done Community modifications to the engine stuff to make

1534
01:25:51,000 --> 01:25:52,700
it, run on Linux, and mac and stuff already.

1535
01:25:52,700 --> 01:25:54,500
Even that's not something that we've done.

1536
01:25:54,700 --> 01:25:58,500
You can find those ports on there and that's a cool place to check

1537
01:25:58,500 --> 01:25:59,000
those out.

1538
01:25:59,000 --> 01:26:00,400
There's also other resources.

1539
01:26:00,600 --> 01:26:03,100
They're like a annotated episode guide, which is pretty cool.

1540
01:26:04,100 --> 01:26:08,300
And when the when spamhaus is not blocking your registration emails,

1541
01:26:08,300 --> 01:26:12,000
you can also go to the forums and chat with other developers about the

1542
01:26:12,000 --> 01:26:12,400
code base.

1543
01:26:12,400 --> 01:26:16,000
And so on, we also have tweetbot the tweets, the schedule.

1544
01:26:16,100 --> 01:26:19,600
So if you want to know when things are happening, it obviously won't

1545
01:26:19,600 --> 01:26:24,400
be tweeting anything next week because the series will be on vacation,

1546
01:26:24,400 --> 01:26:27,200
but the week after it will resume tweeting the schedule.

1547
01:26:28,400 --> 01:26:31,000
And that's I think everything I've said, we also have a video archive

1548
01:26:31,000 --> 01:26:34,300
on YouTube so you can watch all the older episodes there as well.

1549
01:26:35,200 --> 01:26:38,900
So thanks everyone for joining me and I hope you have a good week.

1550
01:26:39,000 --> 01:26:43,200
I will see you guys back here, not next Monday, but the Monday after.

1551
01:26:43,600 --> 01:26:46,900
And yeah, it'll give us some time to think about other stuff.

1552
01:26:46,900 --> 01:26:49,100
We might want to do with RC handling.

1553
01:26:49,100 --> 01:26:52,200
So thanks everyone and have a good week.

