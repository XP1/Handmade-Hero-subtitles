1
00:00:03,000 --> 00:00:03,400
Okay.

2
00:00:03,400 --> 00:00:05,400
Hello everyone, and welcome to handmade hero.

3
00:00:05,400 --> 00:00:10,000
The show where we code and entire game live on Twitch, from scratch,

4
00:00:10,000 --> 00:00:10,700
new libraries.

5
00:00:10,700 --> 00:00:11,400
No engine.

6
00:00:12,200 --> 00:00:14,600
And basically, you know what?

7
00:00:14,600 --> 00:00:17,700
Honestly, it's pretty much going to be awesome.

8
00:00:17,800 --> 00:00:19,400
Like, I mean, that's all we really need to say.

9
00:00:19,500 --> 00:00:21,200
I'm already starting to get that feeling.

10
00:00:21,400 --> 00:00:22,600
This game is going to be awesome.

11
00:00:23,300 --> 00:00:25,100
And so there's really not much more to say.

12
00:00:25,300 --> 00:00:29,500
Let's just start because we were doing a bunch of cool stuff yesterday

13
00:00:29,500 --> 00:00:29,800
and now

14
00:00:30,000 --> 00:00:32,299
Now is the time when we can sort of finish up a bunch of the things.

15
00:00:32,299 --> 00:00:35,000
I think that we had started down the road to doing.

16
00:00:35,800 --> 00:00:37,900
Well, I don't know finish up, but we'll do some kind of interesting

17
00:00:37,900 --> 00:00:40,100
other things that I've been wanting to do for a while.

18
00:00:40,300 --> 00:00:42,400
And so I don't even want to take too much time to Preamble this.

19
00:00:42,400 --> 00:00:43,500
I just want to get going.

20
00:00:43,500 --> 00:00:44,600
It's programming time.

21
00:00:44,600 --> 00:00:48,200
I ate like half a bag of chocolate chip cookies before the stream,

22
00:00:48,200 --> 00:00:49,200
which is not a good idea.

23
00:00:49,200 --> 00:00:51,100
So, I'm a little bit wired right now, and that's fine.

24
00:00:51,500 --> 00:00:56,100
But anyway, if you have pre-ordered the game on handmade hero dot-org,

25
00:00:56,100 --> 00:00:59,400
you should have gotten a link in your email, and that link has a zip

26
00:00:59,400 --> 00:00:59,600
file.

27
00:00:59,600 --> 00:00:59,900
You can download

28
00:01:00,000 --> 00:01:01,700
With all the source code in it.

29
00:01:02,300 --> 00:01:05,500
What you want to do is download the source code for a day 53, because

30
00:01:05,500 --> 00:01:06,700
we're on day 54.

31
00:01:07,200 --> 00:01:10,400
And so you unzip the previous day source code and you can code right

32
00:01:10,400 --> 00:01:11,000
along with me.

33
00:01:11,000 --> 00:01:15,500
So, if you're doing that, do that, now is the time to do that.

34
00:01:15,700 --> 00:01:21,100
Alright, so if I remember correctly, we just gotten to the point where

35
00:01:21,100 --> 00:01:26,100
we'd put little entities in the world to represent all the walls.

36
00:01:26,200 --> 00:01:29,300
So basically now the entities we made these little yellow entities

37
00:01:29,300 --> 00:01:29,800
there.

38
00:01:30,100 --> 00:01:31,400
That are all around the side.

39
00:01:31,700 --> 00:01:35,100
Those are all the walls and we now have a situation.

40
00:01:35,100 --> 00:01:36,500
Where is your name?

41
00:01:38,500 --> 00:01:42,800
Where we haven't actually quite finished doing or figuring out exactly

42
00:01:42,800 --> 00:01:47,100
how we're doing are sort of like to level and two-tier entity system.

43
00:01:47,100 --> 00:01:47,200
Right?

44
00:01:47,200 --> 00:01:51,200
We have entities that are sort of in the field of view and act right

45
00:01:51,200 --> 00:01:55,700
of active entities that we want to consider at a high frequency and to

46
00:01:55,700 --> 00:01:59,000
do like full gameplay on and then we also have entities that are

47
00:01:59,000 --> 00:02:01,600
further away from the camera that you can't see.

48
00:02:01,900 --> 00:02:04,700
And that aren't in the immediate vicinity of the player, and we want

49
00:02:04,700 --> 00:02:07,000
to allow those to run at a low frequency.

50
00:02:07,100 --> 00:02:07,400
So that

51
00:02:07,500 --> 00:02:10,900
We can still simulate them and have it rich interactions going around

52
00:02:10,900 --> 00:02:11,600
elsewhere in the world.

53
00:02:11,600 --> 00:02:14,700
Potentially that the player could experience the effects of later when

54
00:02:14,700 --> 00:02:15,300
they go there.

55
00:02:15,900 --> 00:02:18,000
But that aren't going to suck down a ton of CPU time.

56
00:02:18,000 --> 00:02:21,100
If we want to scale The Entity count up to really high numbers, ten

57
00:02:21,100 --> 00:02:21,900
hundred thousand.

58
00:02:22,800 --> 00:02:27,600
Who knows how many so what we need to do is kind of continue down on

59
00:02:27,600 --> 00:02:28,300
that path.

60
00:02:29,700 --> 00:02:32,000
It's kind of fun to see him bounce up and down for some reason.

61
00:02:32,400 --> 00:02:35,700
So we want to do is continue continue down that path.

62
00:02:35,700 --> 00:02:37,300
And also put in we

63
00:02:37,400 --> 00:02:37,900
Have.

64
00:02:39,400 --> 00:02:42,100
We have currently no spatial partition or anything like that.

65
00:02:42,200 --> 00:02:45,100
So also Collision detection right now is extremely inefficient because

66
00:02:45,100 --> 00:02:47,900
we're colliding against all the high res entities all the time.

67
00:02:47,900 --> 00:02:51,000
So, even the ones that are like off-screen were colliding against.

68
00:02:51,400 --> 00:02:54,300
So we need to start pairing this down and making this letting this

69
00:02:54,300 --> 00:02:57,900
coalesce into like a nice good system that we sort of started on that

70
00:02:58,000 --> 00:02:59,000
on that path.

71
00:03:00,000 --> 00:03:03,000
Is a little bit taxing for me to do unfortunate because it's weird to

72
00:03:03,000 --> 00:03:06,700
do this in like one hour chunks like this, but I've been trying to

73
00:03:06,700 --> 00:03:08,000
keep it mostly in my head.

74
00:03:08,300 --> 00:03:10,900
I page it out during the day when I'm working on other code and then I

75
00:03:10,900 --> 00:03:12,500
tried it page it back in now, so we'll see.

76
00:03:12,500 --> 00:03:13,800
Hopefully won't make too many mistakes.

77
00:03:15,100 --> 00:03:20,700
So anyway, what we sort of started doing here is we sort of started

78
00:03:20,700 --> 00:03:23,900
making it so that as the camera moves, we have this set camera call

79
00:03:24,100 --> 00:03:28,000
and what the set camera called would do is first would go ahead and it

80
00:03:28,000 --> 00:03:29,000
would map out.

81
00:03:29,000 --> 00:03:29,900
So it would change the

82
00:03:30,000 --> 00:03:35,800
Entity residents of any entities, which were sort of, we're currently,

83
00:03:35,800 --> 00:03:38,400
in the high-frequency set, and no longer need to be simulated, high

84
00:03:38,400 --> 00:03:39,000
frequency.

85
00:03:39,800 --> 00:03:42,700
And then we would go ahead and go through all the entities that were

86
00:03:42,700 --> 00:03:45,900
in the like, outside of the high frequencies and might need to come

87
00:03:45,900 --> 00:03:46,300
back in.

88
00:03:46,900 --> 00:03:49,100
And one of the things that I was saying yesterday and I think is

89
00:03:49,100 --> 00:03:49,900
probably true.

90
00:03:49,900 --> 00:03:53,000
Just I'm looking at how this is going and whether I want to deal with

91
00:03:53,000 --> 00:03:56,700
it or not and you'll notice that we still have never come up with a

92
00:03:56,700 --> 00:03:59,900
real good idea of what would even be in a low energy because we

93
00:04:00,000 --> 00:04:03,800
Had dormant low and high and really everything ends up in the dormant

94
00:04:03,800 --> 00:04:06,300
or the high entity for the most part.

95
00:04:08,700 --> 00:04:11,100
So really, the only thing is that would kind of be in the low entity

96
00:04:11,100 --> 00:04:14,100
that I can think of are like, movement timers or something.

97
00:04:14,800 --> 00:04:17,100
I mean, like the difference between a dormant entity and a low entity

98
00:04:17,100 --> 00:04:20,700
is just whether or not, they would get ticked periodically on that

99
00:04:20,700 --> 00:04:23,200
sort of periodic update.

100
00:04:23,500 --> 00:04:26,300
So I'm kind of thinking that maybe we just have low frequency and high

101
00:04:26,300 --> 00:04:27,100
frequency entities.

102
00:04:27,100 --> 00:04:31,100
That's what I've been thinking because I don't want to over complicate

103
00:04:31,100 --> 00:04:33,100
something for no real benefit.

104
00:04:33,100 --> 00:04:36,100
So maybe we still would have the concept of a dormant and it e which

105
00:04:36,100 --> 00:04:38,400
is a low entity That Doesn't Really Ever Need.

106
00:04:38,500 --> 00:04:41,800
You ticked, but maybe we just don't ever have that and that's fine

107
00:04:41,800 --> 00:04:42,200
too.

108
00:04:42,200 --> 00:04:42,800
I don't know.

109
00:04:43,400 --> 00:04:44,800
It's really hard to say.

110
00:04:45,100 --> 00:04:47,800
So I think what I'm going to say is let's just go ahead and make that

111
00:04:47,800 --> 00:04:48,600
change.

112
00:04:48,700 --> 00:04:52,500
Let's just go ahead and say that we just have low entities and high

113
00:04:52,500 --> 00:04:56,100
entities and we don't have that third tier just to simplify things

114
00:04:56,100 --> 00:04:59,800
because I haven't seen the need for it so far and so I'll let that

115
00:04:59,800 --> 00:05:01,000
need re-emerge.

116
00:05:01,000 --> 00:05:04,800
If it turns out to be true, but if it doesn't then we'll just

117
00:05:06,000 --> 00:05:08,400
Count ourselves lucky that we've got one listing do with, and that's

118
00:05:08,400 --> 00:05:09,000
that.

119
00:05:09,500 --> 00:05:13,800
So let's go ahead and remove those dormant entities entirely, right?

120
00:05:14,700 --> 00:05:18,600
And I guess I'm going to replace dormant everywhere that.

121
00:05:18,600 --> 00:05:20,500
I see it with low, right?

122
00:05:20,500 --> 00:05:22,500
So I just got, that's all I've got now.

123
00:05:23,000 --> 00:05:24,900
So I can go through and do all of these.

124
00:05:25,100 --> 00:05:29,200
And then there's some places where we have dormant entity stuff.

125
00:05:29,200 --> 00:05:30,500
That just goes away entirely.

126
00:05:30,500 --> 00:05:34,900
Like here, where we've got two of those in the compiler, should tell

127
00:05:34,900 --> 00:05:35,600
us about that.

128
00:05:36,200 --> 00:05:36,700
Just fine.

129
00:05:36,700 --> 00:05:37,200
I think.

130
00:05:37,200 --> 00:05:42,600
Yeah, so I've got rid of the low entities and so now they're gone and

131
00:05:42,600 --> 00:05:45,400
I think things would probably still work roughly the same as they did

132
00:05:45,400 --> 00:05:47,200
and they do so that's good.

133
00:05:48,200 --> 00:05:49,300
No problems there.

134
00:05:49,700 --> 00:05:50,200
There we go.

135
00:05:51,300 --> 00:05:55,700
And so now, let's think about this a little bit more carefully, so,

136
00:05:57,600 --> 00:05:59,700
I've got ways of adding entities now.

137
00:06:00,700 --> 00:06:01,400
That are in here.

138
00:06:01,400 --> 00:06:04,400
And one thing that's interesting about adding entities is I think

139
00:06:04,400 --> 00:06:08,700
technically entities probably should always be added in the low State

140
00:06:08,800 --> 00:06:12,400
and then get moved to high because most entities are always in the low

141
00:06:12,400 --> 00:06:12,600
State.

142
00:06:12,600 --> 00:06:14,000
Like, when the whole world gets generated.

143
00:06:14,000 --> 00:06:17,100
Everything will be in the low state, right?

144
00:06:18,900 --> 00:06:20,300
Nothing be in the high state.

145
00:06:21,300 --> 00:06:24,700
So really that high state is just for a limited number of things that

146
00:06:24,700 --> 00:06:28,500
are just right around, you know, just that are just right around the

147
00:06:28,500 --> 00:06:30,700
the cursor right around the player.

148
00:06:30,700 --> 00:06:30,900
Right?

149
00:06:30,900 --> 00:06:34,500
And so typically we would expect to have lots and lots of low entities

150
00:06:34,500 --> 00:06:36,100
and not very many high entities.

151
00:06:36,100 --> 00:06:36,200
Right?

152
00:06:36,200 --> 00:06:40,200
So the next thing that I think might be a good thing to do is to start

153
00:06:40,200 --> 00:06:43,900
thinking about it in those terms where instead of having like I did

154
00:06:43,900 --> 00:06:48,700
this thing and I thought that was kind of clever, but the thing that I

155
00:06:48,700 --> 00:06:51,200
was thinking of is I wonder if it maybe makes

156
00:06:51,300 --> 00:06:56,300
More sense to or to already even now start to partition into high and

157
00:06:56,300 --> 00:06:58,700
low entity sets that aren't mirrored.

158
00:06:58,800 --> 00:07:02,300
So, you know something that looks more like this where we start to say

159
00:07:02,300 --> 00:07:05,600
that the low entities in the high Andes, don't map to each other.

160
00:07:05,600 --> 00:07:08,600
Like they're not one-to-one correspondence has there's a ton of low

161
00:07:08,600 --> 00:07:11,700
entities and there's only a subset of those that are actually in the

162
00:07:11,700 --> 00:07:13,800
hiset at any given time.

163
00:07:14,000 --> 00:07:14,500
Right?

164
00:07:15,800 --> 00:07:19,600
And furthermore, one thing we could do and I don't know, you know,

165
00:07:19,600 --> 00:07:21,100
like here's I'm just throwing this out there.

166
00:07:21,300 --> 00:07:21,400
R.

167
00:07:22,800 --> 00:07:25,700
One thing that we could do, that's kind of amusing.

168
00:07:27,400 --> 00:07:32,000
Is we could think of hi entity set as basically consisting of some

169
00:07:32,000 --> 00:07:33,400
fixed number of entities.

170
00:07:33,800 --> 00:07:36,600
Like we could say that there are always two hundred and fifty six

171
00:07:36,600 --> 00:07:39,700
entities, simulated high resolution or something, or always 64 enemies

172
00:07:39,700 --> 00:07:40,300
simulator.

173
00:07:40,300 --> 00:07:41,700
I don't know, right?

174
00:07:42,700 --> 00:07:44,000
We could say that.

175
00:07:44,000 --> 00:07:48,700
And then the nut the entities are in that set are just however, many

176
00:07:48,700 --> 00:07:53,200
entities, whatever the 256 closest edit, these are right.

177
00:07:53,300 --> 00:07:56,400
So as you move around, it's just always keeping the entities.

178
00:07:56,600 --> 00:07:59,100
Guarded by whoever is close to the players in that set.

179
00:07:59,200 --> 00:08:02,000
I don't know if that's actually something I want to do, but I just

180
00:08:02,000 --> 00:08:02,900
thought I'd throw it out there.

181
00:08:02,900 --> 00:08:04,000
So that's kind of thinking of us.

182
00:08:04,000 --> 00:08:04,900
Like, oh, that's kind of interesting.

183
00:08:04,900 --> 00:08:07,800
That way we have like a bounded set and we know that's always what

184
00:08:07,800 --> 00:08:14,600
we're simulating in terms of fixed kind of thing there anyway, so,

185
00:08:14,600 --> 00:08:18,100
yeah, so, you know, if we did it this way, then what I was thinking of

186
00:08:18,100 --> 00:08:20,900
doing it, so the entity residents would go away, right?

187
00:08:21,500 --> 00:08:26,400
And what would happen is something like the low entity structure would

188
00:08:26,500 --> 00:08:29,900
Just have a writer on it that basically said, you know, where is the

189
00:08:29,900 --> 00:08:30,600
high entity?

190
00:08:30,800 --> 00:08:31,300
Right?

191
00:08:31,400 --> 00:08:35,500
What's the high in the index and that high in the index would tell you

192
00:08:35,500 --> 00:08:39,600
if it was Zero, it means that this guy isn't in the hyades set and if

193
00:08:39,600 --> 00:08:43,700
the if the high any index was set to something, then it would tell you

194
00:08:43,700 --> 00:08:49,200
that the high entity was in fact present.

195
00:08:50,200 --> 00:08:52,000
Right and symmetrically.

196
00:08:52,000 --> 00:08:55,200
I could do it where you've got the high entity has a pointer back to

197
00:08:55,200 --> 00:08:56,400
its low entity as well.

198
00:08:56,500 --> 00:08:56,700
Now.

199
00:08:56,700 --> 00:08:59,800
I don't actually know if both of those things are necessary.

200
00:09:00,000 --> 00:09:04,600
It may be that we could make it so that that was not necessary but

201
00:09:04,600 --> 00:09:08,700
it's just kind of an interesting thing to think about like so that way

202
00:09:08,700 --> 00:09:11,200
we would just go we'd look up there are low enemies when we need to

203
00:09:11,200 --> 00:09:12,200
move them too high.

204
00:09:12,300 --> 00:09:14,000
We just do that and put record.

205
00:09:14,000 --> 00:09:16,200
The fact that they're in there and then the hiney set when we're

206
00:09:16,200 --> 00:09:16,800
spending over them.

207
00:09:16,800 --> 00:09:18,800
We grab the low entity that we want.

208
00:09:18,900 --> 00:09:22,700
If we actually need it, we grab that low entity out of the pool by

209
00:09:22,700 --> 00:09:24,500
doing just a dereference, right?

210
00:09:25,400 --> 00:09:27,000
So that's something to think about.

211
00:09:27,000 --> 00:09:29,900
Another thing that we could think about doing is that

212
00:09:30,000 --> 00:09:34,100
The high entity could just include the low entity in it, just straight

213
00:09:34,100 --> 00:09:34,500
up.

214
00:09:35,300 --> 00:09:38,800
So in other words, we would copy the low entity data out into the high

215
00:09:38,800 --> 00:09:39,300
entity.

216
00:09:40,600 --> 00:09:43,200
But there's reasons why I think that could be dangerous.

217
00:09:43,400 --> 00:09:46,300
And that's because we're going to have people who simulate primarily

218
00:09:46,300 --> 00:09:49,100
on low entity and I want them to kind of try and stay in sync.

219
00:09:49,100 --> 00:09:52,700
So I think for now I want to go with the front.

220
00:09:52,700 --> 00:09:57,200
The forward back pointer thing, that just links them up and then as we

221
00:09:57,200 --> 00:09:59,800
see how the patterns emerge and when we

222
00:10:00,000 --> 00:10:03,300
Getting into more like performance or any things and we start to maybe

223
00:10:03,300 --> 00:10:06,600
care a little bit about whether that's a little too much to have

224
00:10:06,600 --> 00:10:09,600
these, like references, going everywhere and you know, pulling

225
00:10:09,600 --> 00:10:14,100
randomly out of things, the random memory accessing patterns, you

226
00:10:14,100 --> 00:10:18,100
know, then we can start start a start to think about it, whether we

227
00:10:18,100 --> 00:10:19,300
need to do something different.

228
00:10:20,100 --> 00:10:22,600
So, yeah, so there you go.

229
00:10:22,900 --> 00:10:25,300
So, what I want to do now, is say, Okay.

230
00:10:26,300 --> 00:10:27,900
So let's go ahead and do that.

231
00:10:27,900 --> 00:10:29,800
Let's create things only in the low entity.

232
00:10:29,900 --> 00:10:35,600
A list and let's let's let's start treating the high-end TV list a

233
00:10:35,600 --> 00:10:38,200
little bit more specifically, right?

234
00:10:38,500 --> 00:10:41,700
And so we've got this high-end to do list here and we'll have a high

235
00:10:41,700 --> 00:10:43,500
into the account and a low entity count.

236
00:10:43,500 --> 00:10:46,600
Basically, so that we basically know we kind of have two different

237
00:10:46,600 --> 00:10:49,200
ones that I'm putting an underscore after this temporarily because I

238
00:10:49,200 --> 00:10:51,800
want to see everywhere that's used and I want to think about it a

239
00:10:51,800 --> 00:10:52,400
little bit.

240
00:10:53,500 --> 00:10:56,100
And so now what we can do is you can say alright when we want to

241
00:10:56,100 --> 00:10:58,400
change and entities residents, right?

242
00:10:59,200 --> 00:10:59,800
Then really

243
00:11:00,000 --> 00:11:01,500
When we're changing its residents.

244
00:11:03,100 --> 00:11:05,600
I'm trying to think if we ever actually need this function again.

245
00:11:07,800 --> 00:11:11,600
Or whether we want this to be more make high and I make low because

246
00:11:11,600 --> 00:11:14,700
we'll always know which one of those two things were doing, if that

247
00:11:14,700 --> 00:11:15,200
makes sense.

248
00:11:16,000 --> 00:11:19,100
Let's take a look change and City residents.

249
00:11:20,200 --> 00:11:23,100
So get entity actually does have it parameterize.

250
00:11:23,100 --> 00:11:25,100
They're here.

251
00:11:25,500 --> 00:11:27,100
They're there.

252
00:11:27,100 --> 00:11:32,800
So those are yeah, so I'm thinking I'm thinking that we probably want

253
00:11:32,800 --> 00:11:35,100
this to kind of change up a little bit, right?

254
00:11:35,100 --> 00:11:37,400
I'm thinking that we kind of want this just be a make high in a make.

255
00:11:37,600 --> 00:11:40,600
Whoa, so basically like there's a way of there's something that moves

256
00:11:40,600 --> 00:11:43,700
a low to a high and there's one that gets rid of the high right and

257
00:11:43,700 --> 00:11:46,600
you never really have to move the high-back, right?

258
00:11:46,600 --> 00:11:50,400
Because I think that that would always sort of just automatically

259
00:11:50,400 --> 00:11:53,400
happen because I think we said that we always keep that that low State

260
00:11:53,400 --> 00:11:53,800
updated.

261
00:11:53,800 --> 00:11:59,800
Anyway, so really all we have here is we have a like move or

262
00:12:00,600 --> 00:12:06,000
Move it, but make entity high frequency or something.

263
00:12:08,800 --> 00:12:10,700
And get rid of this for now.

264
00:12:11,600 --> 00:12:15,500
All right, and we also don't really need this anymore for the most

265
00:12:15,500 --> 00:12:19,600
part because all we really we know that you always have a low.

266
00:12:20,200 --> 00:12:24,700
And so if you got a bundle, you just check to see if hi is not null.

267
00:12:24,800 --> 00:12:26,800
That's the only thing you have to check for, right?

268
00:12:27,200 --> 00:12:30,100
So if I do make entity high-frequency, I'm going to say which entity

269
00:12:30,100 --> 00:12:33,800
it is that I want, that's an index obviously into the low.

270
00:12:33,800 --> 00:12:36,000
So I guess we should start to call these low index.

271
00:12:36,000 --> 00:12:37,900
And that's probably something that I might.

272
00:12:38,100 --> 00:12:41,500
To start actually having a tight for hard to say, but like a it's the

273
00:12:41,500 --> 00:12:43,600
index type just so people don't.

274
00:12:43,700 --> 00:12:47,900
Well people but people being me don't make mistakes passing the wrong

275
00:12:47,900 --> 00:12:49,000
kind of Index, right?

276
00:12:51,000 --> 00:12:54,900
So let's keep an eye on that and if I do make that mistake, that would

277
00:12:54,900 --> 00:12:55,800
be a good indication that.

278
00:12:55,800 --> 00:12:57,000
It's a good time to do that, right?

279
00:12:58,100 --> 00:12:59,500
I like how we still have implement this year.

280
00:12:59,500 --> 00:13:00,900
Even though we already implemented it.

281
00:13:00,900 --> 00:13:03,500
Like I said, comments always stay ill.

282
00:13:04,900 --> 00:13:05,500
So alright.

283
00:13:05,500 --> 00:13:10,000
So if we want to do this, we want to make it any high frequency.

284
00:13:10,500 --> 00:13:13,400
What we need to do first is we need to go ahead and pull it slow

285
00:13:13,400 --> 00:13:13,800
entity.

286
00:13:14,200 --> 00:13:14,600
Right?

287
00:13:14,600 --> 00:13:20,100
So we grabbed its low index out like that and then we need to check to

288
00:13:20,100 --> 00:13:21,700
see whether it's high into.

289
00:13:21,700 --> 00:13:25,200
The index is actually 0 because if it's high, any index isn't zero,

290
00:13:25,200 --> 00:13:28,200
that means it's already got a high entity and we don't care, right?

291
00:13:28,600 --> 00:13:31,600
So if we need to move the guy too high, then what we need to do is

292
00:13:31,600 --> 00:13:34,300
first assert that there's room for him in the high table, right?

293
00:13:34,500 --> 00:13:36,700
If there isn't room for me the high table, he can't move.

294
00:13:37,000 --> 00:13:39,000
And so one of the things that you about that, actually, I guess we

295
00:13:39,000 --> 00:13:43,600
could also say we could also go ahead and just make sure that that's

296
00:13:43,600 --> 00:13:44,200
always true.

297
00:13:44,300 --> 00:13:48,300
So that that's not true will start it as an invalid code path, right?

298
00:13:50,300 --> 00:13:53,400
And I don't know if we actually ever find one of those and made

299
00:13:53,500 --> 00:13:56,100
platform.sh their assertions in here.

300
00:13:56,100 --> 00:13:56,900
Yes, there are.

301
00:13:57,400 --> 00:13:59,500
But we don't over, we don't have them.

302
00:14:00,000 --> 00:14:02,800
So I'm going to go ahead and find that fine invalid.

303
00:14:03,900 --> 00:14:06,400
Code path and invalid code path.

304
00:14:06,400 --> 00:14:11,200
Is just something that I like to do, which is essentially an assertion

305
00:14:11,200 --> 00:14:12,100
that I stick.

306
00:14:12,300 --> 00:14:15,700
That always asserts in some place that I never expect the code to

307
00:14:15,700 --> 00:14:19,700
actually get in practice, but which theoretically could happen.

308
00:14:19,800 --> 00:14:23,000
And then I don't want to create a bug at runtime, right?

309
00:14:23,100 --> 00:14:27,700
And so one example of this is that technically our game might not do

310
00:14:27,700 --> 00:14:29,100
all the things that supposed to do.

311
00:14:29,100 --> 00:14:32,000
If we try to make an entity high frequency, but it's not able to

312
00:14:32,000 --> 00:14:33,600
because we run out of room in our hyphae.

313
00:14:33,700 --> 00:14:34,500
Fancy table.

314
00:14:35,700 --> 00:14:38,600
But technically, we shouldn't just straight-up crash.

315
00:14:38,700 --> 00:14:39,300
Right?

316
00:14:40,400 --> 00:14:43,100
Like why not make it so that we just keep running but everything's at

317
00:14:43,100 --> 00:14:44,700
low frequency instead, right?

318
00:14:46,900 --> 00:14:47,500
Seems fine.

319
00:14:49,700 --> 00:14:52,500
So I would say, all right, we've got our energy High, we've got our

320
00:14:52,500 --> 00:14:55,800
enemy low, whatever that hiney index is.

321
00:14:56,000 --> 00:14:59,800
So at this point, if if whatever that high entity county is if

322
00:15:00,000 --> 00:15:03,800
Same state High and the count is less than whatever.

323
00:15:03,800 --> 00:15:06,700
The array count is of the high entities, right?

324
00:15:07,900 --> 00:15:10,800
Then we're going to go ahead and say that, it's ok to add it.

325
00:15:11,000 --> 00:15:11,500
Right?

326
00:15:12,600 --> 00:15:17,100
And so now the high index is going to be equal to whatever the edit

327
00:15:17,100 --> 00:15:19,700
account was an incremented, so that we know the next one, you know,

328
00:15:19,700 --> 00:15:22,700
we're just taking a slot in our high anything and then we'll go ahead

329
00:15:22,700 --> 00:15:26,000
and grab out that high and then the rest of the function can proceed

330
00:15:26,000 --> 00:15:27,100
as normal, right?

331
00:15:27,100 --> 00:15:29,900
So all we did is just push someone out of the top of that.

332
00:15:30,000 --> 00:15:32,300
That high-end be array, right?

333
00:15:33,800 --> 00:15:34,600
So that's all good.

334
00:15:39,600 --> 00:15:41,600
Now we're going to map the sky into the camera space.

335
00:15:41,900 --> 00:15:44,800
And again, also another thing here is it's important to point out.

336
00:15:45,300 --> 00:15:49,900
So this number pretty much has to be fixed.

337
00:15:49,900 --> 00:15:53,900
So this is not really a case where like a lot of times we talk about

338
00:15:53,900 --> 00:15:56,400
garbage collection and automatic memory management is a bad is good.

339
00:15:56,400 --> 00:15:57,300
All these other sort of things.

340
00:15:57,900 --> 00:16:00,000
This is actually not what I'm worried about here.

341
00:16:00,100 --> 00:16:03,900
So this is not this, the fact that I need this High entities thing to

342
00:16:03,900 --> 00:16:07,200
be a fixed size has nothing to do with memory management.

343
00:16:07,200 --> 00:16:07,800
Actually.

344
00:16:08,000 --> 00:16:09,200
It does happen to me nice because

345
00:16:09,400 --> 00:16:11,900
It means that our memory management will be fixed and that's fine.

346
00:16:12,400 --> 00:16:13,800
But that's not actually why I'm doing it.

347
00:16:13,800 --> 00:16:16,800
The reason I'm doing it this way is because I high entities are the

348
00:16:16,800 --> 00:16:17,900
performance cost.

349
00:16:18,400 --> 00:16:21,800
And so I know that I'm basically going to have a certain budget for

350
00:16:21,800 --> 00:16:22,900
high entities, right?

351
00:16:22,900 --> 00:16:23,400
I know that.

352
00:16:23,400 --> 00:16:26,300
However, many I can afford and we'll find out what that is later.

353
00:16:26,600 --> 00:16:30,100
But however, mind I could forward is is limited by the CPU time per

354
00:16:30,100 --> 00:16:30,400
frame.

355
00:16:30,400 --> 00:16:31,500
I have to process them.

356
00:16:32,100 --> 00:16:35,500
So I can't just make this an unbounded array that grows.

357
00:16:35,900 --> 00:16:38,800
It has to actually be limited in a realistic way.

358
00:16:40,000 --> 00:16:42,600
So when we start talking about memory management, those sorts of

359
00:16:42,600 --> 00:16:44,900
things were really going to be focusing more on this array, which is

360
00:16:44,900 --> 00:16:46,100
going to hold lots of guys.

361
00:16:46,100 --> 00:16:52,700
Potentially not this array, which is going to be limited to a small

362
00:16:52,700 --> 00:16:55,500
number of guys which is you know, 2265 12.

363
00:16:55,500 --> 00:16:57,700
Something I who knows how many guys.

364
00:16:57,700 --> 00:17:01,700
But however many we can successfully process at speed for whatever it

365
00:17:01,700 --> 00:17:02,500
is that we need to do.

366
00:17:04,300 --> 00:17:11,400
Okay, so we grabbed out the next time entity that we need there and we

367
00:17:11,500 --> 00:17:14,200
do the same stuff that we used to do on it, which I think is fine.

368
00:17:14,300 --> 00:17:18,599
And now after we set all this stuff up we can record the fact on the

369
00:17:18,599 --> 00:17:19,400
entity low.

370
00:17:21,099 --> 00:17:26,099
The fact that it has a high high entity Index, right?

371
00:17:29,300 --> 00:17:30,400
Which is that.

372
00:17:30,700 --> 00:17:35,600
So that's the thing for moving us into the high frequency space.

373
00:17:36,500 --> 00:17:41,500
And then if I want to do the opposite would make entity low frequency

374
00:17:42,900 --> 00:17:48,500
that I've got two choices and this is this is largely.

375
00:17:48,900 --> 00:17:50,600
I guess this is really just about performance.

376
00:17:50,800 --> 00:17:54,100
I don't actually know that there's any other thing that that would

377
00:17:54,100 --> 00:17:57,200
matter here about whether I do a free list or not, but you can see

378
00:17:58,500 --> 00:17:59,700
I think I'm going to do it this way.

379
00:18:01,000 --> 00:18:02,200
We'll see how it will see how it goes.

380
00:18:03,400 --> 00:18:04,400
So what UPS?

381
00:18:04,400 --> 00:18:05,900
That's there's not going to be an if there.

382
00:18:07,800 --> 00:18:10,200
And also I guess now that I think about it, this is wrong.

383
00:18:12,000 --> 00:18:15,200
It's okay if it's already got a high so it's only that.

384
00:18:15,200 --> 00:18:19,000
But I wanted to insert a valid invalid, code path on, right?

385
00:18:20,200 --> 00:18:23,300
That that's like I didn't want it the hot, if they already has a high,

386
00:18:23,300 --> 00:18:24,300
that's totally fine.

387
00:18:24,300 --> 00:18:26,300
That just means someone wanted to make something high frequency that

388
00:18:26,300 --> 00:18:29,100
was already high frequency, which is really not an invalid code path.

389
00:18:29,100 --> 00:18:31,400
That's probably something we'll just allow so that people don't have

390
00:18:31,400 --> 00:18:33,700
to check first that can just say, I need this guy to be high entity,

391
00:18:33,800 --> 00:18:35,400
high frequency, and it will be

392
00:18:36,500 --> 00:18:38,900
So we really only want to do assert if we ran out of room so that we

393
00:18:38,900 --> 00:18:42,100
know, because we want to try and make our game so that we always do

394
00:18:42,100 --> 00:18:43,400
use the right number of high energy.

395
00:18:43,400 --> 00:18:45,200
So that's really what that's about.

396
00:18:46,000 --> 00:18:50,600
Alright, so that is that and let's make sure that that compiles.

397
00:18:50,600 --> 00:18:52,900
Okay here, let's see.

398
00:18:52,900 --> 00:18:53,300
Okay.

399
00:18:53,800 --> 00:18:57,200
So then when we make someone low frequency, we're going to do the

400
00:18:57,200 --> 00:18:59,800
opposite of what we just did.

401
00:19:00,700 --> 00:19:02,200
Assuming that the guy

402
00:19:04,000 --> 00:19:04,900
and that's backwards again.

403
00:19:05,200 --> 00:19:07,100
Yeah, it's if he doesn't have high G's.

404
00:19:07,200 --> 00:19:08,200
Yeah, little slow today.

405
00:19:08,400 --> 00:19:09,100
Little bit slow.

406
00:19:09,600 --> 00:19:12,600
All right, so assuming that the guy does have a high index in this

407
00:19:12,600 --> 00:19:15,700
case, then I need to pull him off of that list.

408
00:19:15,800 --> 00:19:18,300
So he shouldn't be on the high anymore.

409
00:19:19,000 --> 00:19:22,900
And so what I need to do first is say and I could pull this out here

410
00:19:22,900 --> 00:19:24,200
to high index.

411
00:19:27,900 --> 00:19:32,700
so if the high index is at the end of the array that I don't have to

412
00:19:32,700 --> 00:19:36,500
worry about it, so if the high index is

413
00:19:38,900 --> 00:19:42,300
Is equal to however many entities there already were in that high

414
00:19:42,300 --> 00:19:43,500
energy list, right?

415
00:19:43,900 --> 00:19:44,900
Hi, entity count.

416
00:19:47,200 --> 00:19:48,600
So it would be equal to that.

417
00:19:48,800 --> 00:19:51,300
I should say minus 1, right.

418
00:19:51,300 --> 00:19:54,800
So if the high-end x equals the count minus one, then all I have to do

419
00:19:54,800 --> 00:19:57,000
is just decrement the count, right?

420
00:19:57,400 --> 00:20:00,000
Because it was the last one, so I just decrement it.

421
00:20:00,100 --> 00:20:05,100
But if it wasn't, the last one, then I have to move it into.

422
00:20:05,600 --> 00:20:08,000
I have to basically fill the Gap.

423
00:20:08,000 --> 00:20:09,200
That's going to be left, bye-bye.

424
00:20:10,900 --> 00:20:12,600
By closing that whole right?

425
00:20:12,800 --> 00:20:15,200
So if you imagine we just have an array here right?

426
00:20:15,200 --> 00:20:17,000
Dude here.

427
00:20:17,000 --> 00:20:18,400
Am I high entities?

428
00:20:18,400 --> 00:20:18,600
Right?

429
00:20:18,600 --> 00:20:24,500
I've got 0 1 2 3 4 5 6 right and then I've got my low and of these

430
00:20:24,500 --> 00:20:25,900
here, right?

431
00:20:26,300 --> 00:20:29,700
And these guys are pointing into this in various ways.

432
00:20:30,100 --> 00:20:32,400
Although hopefully not to this one because that's illegal.

433
00:20:35,300 --> 00:20:37,700
So I've got all of this stuff set up.

434
00:20:37,800 --> 00:20:41,500
What I want to do is say, all right, if I'm going to remove this guy,

435
00:20:42,000 --> 00:20:42,300
right?

436
00:20:42,300 --> 00:20:43,200
So he's going away.

437
00:20:43,200 --> 00:20:45,300
I don't want to leave an empty space there.

438
00:20:45,300 --> 00:20:50,400
We could decide to do that, which now, that I think about it might

439
00:20:50,400 --> 00:20:51,800
actually be the right solution.

440
00:20:51,800 --> 00:20:55,200
Just mark it as not there so that when you're when we're processing

441
00:20:55,200 --> 00:20:55,800
through it,

442
00:20:56,800 --> 00:20:59,300
Yeah, that's that's probably better, huh?

443
00:21:00,400 --> 00:21:03,400
You know that we want this to be a constant time processing.

444
00:21:03,700 --> 00:21:07,100
So we know that we have to support being able to process everything.

445
00:21:07,600 --> 00:21:09,200
Yeah, so why am I even thinking about this?

446
00:21:09,700 --> 00:21:10,400
Never mind?

447
00:21:10,800 --> 00:21:11,700
I take it all back.

448
00:21:12,000 --> 00:21:13,100
I don't have to do that at all.

449
00:21:14,300 --> 00:21:15,800
So we're just not ever going to.

450
00:21:15,800 --> 00:21:18,900
We're just never going to decrement that count.

451
00:21:19,000 --> 00:21:24,300
I think what I'll probably do is I'll probably just keep a free list.

452
00:21:24,600 --> 00:21:27,200
That seems like the most logical thing to do.

453
00:21:27,200 --> 00:21:27,800
I don't know.

454
00:21:33,300 --> 00:21:34,500
I'm so torn right now.

455
00:21:37,100 --> 00:21:38,700
You can see why I'm touring, right?

456
00:21:39,100 --> 00:21:42,300
Because we know that we're going to have some budget for processing a

457
00:21:42,300 --> 00:21:43,900
certain number of entities, right?

458
00:21:43,900 --> 00:21:47,100
And so, you know, let's say we can afford 256 entities.

459
00:21:47,900 --> 00:21:53,900
So when we're doing the processing of these I feel like there's no

460
00:21:53,900 --> 00:22:01,400
reason why we shouldn't just skip ones that are marked as done because

461
00:22:01,400 --> 00:22:03,600
we know we could have crossed them if they're all filled.

462
00:22:03,700 --> 00:22:04,500
So we don't care.

463
00:22:04,500 --> 00:22:06,500
If we paid the performance penalty of skipping.

464
00:22:06,700 --> 00:22:10,100
One that's not there in the iteration because it doesn't matter.

465
00:22:10,100 --> 00:22:13,300
We could have we saying that we have a CPU budget to process them if

466
00:22:13,300 --> 00:22:14,400
they were all filled.

467
00:22:15,800 --> 00:22:17,700
So it seems like that would be fine.

468
00:22:17,700 --> 00:22:19,900
And then all I would do is just keep a free list which basically

469
00:22:19,900 --> 00:22:22,800
points every time you eliminate one of the high nineties.

470
00:22:23,000 --> 00:22:24,800
You just add it to the free list.

471
00:22:24,800 --> 00:22:27,900
And so then when someone wants to take a new slot, it just pulls it

472
00:22:27,900 --> 00:22:29,300
off of the free list, right?

473
00:22:30,000 --> 00:22:32,300
So that seems like a pretty reasonable way to do it.

474
00:22:35,200 --> 00:22:37,300
I don't know why I wouldn't, but then the other thing that I was

475
00:22:37,300 --> 00:22:38,900
thinking of doing was saying, okay?

476
00:22:38,900 --> 00:22:42,400
When I pull someone off, I'll just take the last guy who ever is the

477
00:22:42,400 --> 00:22:46,000
last guy on the array and I'll move him to that slot, right?

478
00:22:46,000 --> 00:22:50,600
And then just reduce the count by one and the reason that's a little

479
00:22:50,600 --> 00:22:51,300
less janky.

480
00:22:51,400 --> 00:22:55,300
Little more janky is because it does involve doing the copy here and

481
00:22:55,300 --> 00:22:59,400
then setting, this guy's whoever was pointing to this, right?

482
00:22:59,400 --> 00:23:03,700
Setting them to point to their, you know, it's like

483
00:23:05,000 --> 00:23:05,900
I don't know.

484
00:23:05,900 --> 00:23:06,900
Which do you do.

485
00:23:06,900 --> 00:23:07,800
They're both fine.

486
00:23:07,900 --> 00:23:11,500
And so normally I would do that if I wanted to keep the array compact

487
00:23:11,500 --> 00:23:15,900
for processing purposes, but I'm already saying that I need to that

488
00:23:15,900 --> 00:23:20,700
their array is only as big as my processing could handle any way at

489
00:23:20,700 --> 00:23:21,400
maximum.

490
00:23:22,000 --> 00:23:23,300
So that's not a concern.

491
00:23:23,300 --> 00:23:26,400
So it seems like, yeah, I don't know.

492
00:23:26,500 --> 00:23:28,100
I'll keep the array compact for now.

493
00:23:28,700 --> 00:23:30,900
Let's just say that will keep the array compact for now.

494
00:23:31,200 --> 00:23:32,000
I really don't know.

495
00:23:32,500 --> 00:23:33,400
That's just what I'm gonna do.

496
00:23:33,700 --> 00:23:34,000
So,

497
00:23:34,500 --> 00:23:37,500
That that we happen to removing the last guy, then we're just done

498
00:23:37,500 --> 00:23:38,200
right away.

499
00:23:38,600 --> 00:23:40,500
Otherwise, we have to do the remapping.

500
00:23:40,800 --> 00:23:43,500
So otherwise what we have to do is say well, okay.

501
00:23:44,800 --> 00:23:46,500
Who is the last guy then?

502
00:23:46,800 --> 00:23:47,300
Right.

503
00:23:47,400 --> 00:23:52,700
We need to basically say whoever is the high entities, right?

504
00:23:52,700 --> 00:23:53,200
So.

505
00:23:55,800 --> 00:23:59,800
whoever is the last one and this is

506
00:24:00,000 --> 00:24:00,500
I guess.

507
00:24:01,200 --> 00:24:05,100
Last index last High Index, right?

508
00:24:06,600 --> 00:24:09,700
So if we were going to remove the last time index, then we're done.

509
00:24:10,000 --> 00:24:12,500
Otherwise, we're just going to grab whoever that was.

510
00:24:13,000 --> 00:24:15,200
So that's a high entity.

511
00:24:17,400 --> 00:24:18,900
Last entity, right?

512
00:24:18,900 --> 00:24:19,600
Is this guy?

513
00:24:21,500 --> 00:24:22,100
so,

514
00:24:24,700 --> 00:24:26,000
We'll grab that last entity.

515
00:24:26,100 --> 00:24:29,900
We now need to rock him over where the other high entity was.

516
00:24:30,700 --> 00:24:31,200
Right?

517
00:24:31,300 --> 00:24:35,500
And I guess, what's one thing that's kind of interesting about this is

518
00:24:35,900 --> 00:24:38,900
we might have the high energy index as well when we, when we want to

519
00:24:38,900 --> 00:24:40,000
make someone low-frequency.

520
00:24:40,000 --> 00:24:43,200
So it's kind of a little tough to say which way we should be doing

521
00:24:43,200 --> 00:24:43,500
this.

522
00:24:43,800 --> 00:24:46,200
Whether we should pass the high end index here or not.

523
00:24:46,200 --> 00:24:48,900
But either way we'll we'll think about that a second.

524
00:24:50,100 --> 00:24:54,300
So this is this is kind of our whole or are

525
00:24:54,500 --> 00:24:56,200
Entity, this is our delete identity.

526
00:24:56,200 --> 00:24:56,700
Right?

527
00:24:57,300 --> 00:24:59,200
And so our delete identity.

528
00:25:00,700 --> 00:25:04,600
He is at high entities, High Index, right?

529
00:25:05,700 --> 00:25:08,600
So what I'm going to do is I'm going to go ahead and say that the

530
00:25:08,600 --> 00:25:12,900
delete identity now equals whatever that last entity is, right?

531
00:25:13,900 --> 00:25:18,600
And then I'm going to say that whatever wherever he who ever was

532
00:25:20,000 --> 00:25:24,200
whichever low entity was pointing to him as his high-end.

533
00:25:24,400 --> 00:25:25,900
OT, right?

534
00:25:26,300 --> 00:25:28,300
I just need to go ahead and

535
00:25:30,100 --> 00:25:33,900
I just need to go ahead and tell him that it's been moved.

536
00:25:34,000 --> 00:25:34,500
Right?

537
00:25:34,800 --> 00:25:41,700
So he has his high entity index, like so equal to whatever our high

538
00:25:41,700 --> 00:25:46,000
index was right to do.

539
00:25:48,600 --> 00:25:50,000
That is not what I wanted to do.

540
00:25:51,100 --> 00:25:53,400
That is not what I want to do low.

541
00:25:53,400 --> 00:25:58,400
And so, this is basically saying the low entity.

542
00:25:59,700 --> 00:26:02,100
That the last entity corresponds to.

543
00:26:04,000 --> 00:26:05,600
His high-end to the index.

544
00:26:05,600 --> 00:26:09,600
Now, points at where we just wrote, we just where we just filled in

545
00:26:09,600 --> 00:26:10,000
the array.

546
00:26:10,500 --> 00:26:12,600
And in either case, I guess this always happens.

547
00:26:13,000 --> 00:26:17,200
So really, this is just if they're not equal to meaning, if we do have

548
00:26:17,200 --> 00:26:23,600
to to fill now, in either case.

549
00:26:25,700 --> 00:26:33,300
Use me in either case that entity low, The Entity lows high density

550
00:26:33,300 --> 00:26:33,700
index.

551
00:26:34,300 --> 00:26:36,900
That's getting romp, is always going to revert now, to not having a

552
00:26:36,900 --> 00:26:37,800
high entity, right?

553
00:26:37,800 --> 00:26:39,400
Because it's become low frequency.

554
00:26:40,300 --> 00:26:40,700
So I think.

555
00:26:40,700 --> 00:26:41,200
That's right.

556
00:26:41,200 --> 00:26:44,000
Well, I'm step through that once to make sure I didn't typo anything

557
00:26:44,000 --> 00:26:44,500
up there.

558
00:26:45,200 --> 00:26:47,800
All right, so the get any call.

559
00:26:49,400 --> 00:26:51,700
I think the get any call, I don't even really know if we're going to

560
00:26:51,700 --> 00:26:54,100
have a get any call anymore to be completely honest with you.

561
00:26:55,400 --> 00:26:57,700
So we'll see who's actually using it.

562
00:26:58,700 --> 00:26:59,800
I'm not entirely sure.

563
00:27:00,800 --> 00:27:09,600
So yeah, I think I think get entity is basically just going to be get

564
00:27:09,600 --> 00:27:15,100
entities just going to be a thing about getting low entities.

565
00:27:17,700 --> 00:27:25,800
I think that's really all there is to it for the most part hard to say

566
00:27:26,200 --> 00:27:29,400
hard to say indeed.

567
00:27:29,600 --> 00:27:29,800
So

568
00:27:30,000 --> 00:27:31,600
Let's think about this for a second.

569
00:27:32,800 --> 00:27:35,300
But yeah, I think that's, I think, we really just don't care about

570
00:27:35,300 --> 00:27:35,800
that.

571
00:27:37,000 --> 00:27:42,300
So I think this is going to be, I think this is just going to be Get

572
00:27:42,300 --> 00:27:43,500
Low entity potentially.

573
00:27:43,500 --> 00:27:44,900
I think that's really all we're going to have.

574
00:27:45,100 --> 00:27:48,200
And I think you're not going to really do a get high entity call.

575
00:27:49,200 --> 00:27:53,600
I mean, I guess I could just apply both of them and they are assumed

576
00:27:53,600 --> 00:27:57,300
to return like zero if they don't exist.

577
00:27:57,400 --> 00:27:59,700
So be something like, you know, low end of these

578
00:28:00,000 --> 00:28:10,300
Our result equals 0 assuming that the result is between the zero, you

579
00:28:10,300 --> 00:28:15,200
know, the first valid empty and the last valid entity, then we'll go

580
00:28:15,200 --> 00:28:15,900
ahead and return it.

581
00:28:15,900 --> 00:28:16,900
Otherwise, you return?

582
00:28:17,300 --> 00:28:21,000
No, so I'm going to, I'm going to say that, that's how this works.

583
00:28:22,100 --> 00:28:26,600
So, yeah, so basically yeah.

584
00:28:27,000 --> 00:28:28,500
Yeah, I like that.

585
00:28:28,600 --> 00:28:29,800
All right, so,

586
00:28:30,000 --> 00:28:31,300
Let's go ahead and do that.

587
00:28:31,400 --> 00:28:33,200
So that's just low news plus low index.

588
00:28:33,400 --> 00:28:34,700
That's how we get that result.

589
00:28:34,700 --> 00:28:36,700
We don't care about any of this stuff, that's not going to happen

590
00:28:36,700 --> 00:28:37,200
anymore.

591
00:28:37,400 --> 00:28:41,600
So that result goes there and then we will go ahead and put those

592
00:28:42,300 --> 00:28:45,500
right here for now and low becomes high.

593
00:28:45,900 --> 00:28:52,200
So that does that and low index.

594
00:28:52,200 --> 00:28:53,400
I guess we could just do

595
00:28:55,700 --> 00:28:56,200
Make that two.

596
00:28:57,800 --> 00:28:59,000
So those are symmetric.

597
00:28:59,500 --> 00:29:01,300
Sometimes it's nice to have to be symmetric.

598
00:29:03,500 --> 00:29:05,200
All right, so I think

599
00:29:09,600 --> 00:29:10,800
That should just about do it.

600
00:29:10,800 --> 00:29:14,100
So, if we're going to add an entity, that now means that we're always

601
00:29:14,100 --> 00:29:15,700
adding a low entity, right?

602
00:29:15,700 --> 00:29:18,000
Entities are just, you know, they're just going to be low.

603
00:29:18,300 --> 00:29:23,800
And let's go ahead and assert here, that the entity that the low empty

604
00:29:23,800 --> 00:29:27,800
count is less than the the low entity array size.

605
00:29:28,600 --> 00:29:35,500
We will go ahead and initialize that entity so we'll do it like so we

606
00:29:35,500 --> 00:29:38,800
go and that will be it.

607
00:29:40,400 --> 00:29:41,800
We don't have change anything else.

608
00:29:42,400 --> 00:29:46,200
These guys basically add low entities, and I feel like, with the

609
00:29:46,200 --> 00:29:49,200
entity index to these guys don't really need it anymore.

610
00:29:49,200 --> 00:29:52,600
I think most of the time because now entity index and this is kind of

611
00:29:52,600 --> 00:29:53,100
nice.

612
00:29:53,300 --> 00:29:56,200
Doesn't really mean anything to people, they don't need to know any of

613
00:29:56,200 --> 00:29:57,000
these index anymore.

614
00:29:57,000 --> 00:29:58,500
It's not really important.

615
00:30:00,000 --> 00:30:02,800
In fact to some degree.

616
00:30:02,800 --> 00:30:04,900
Well, now I guess you kind of still do need to know the end of the

617
00:30:04,900 --> 00:30:07,200
index when you're doing that front and back pointer thing.

618
00:30:07,800 --> 00:30:08,500
So, all right.

619
00:30:08,900 --> 00:30:14,300
So anyway, so these are always low entities forgetting here and this

620
00:30:14,300 --> 00:30:17,000
is Get Low entity and there we go.

621
00:30:18,000 --> 00:30:20,000
So that's a that's that.

622
00:30:20,000 --> 00:30:21,000
I'm a little.

623
00:30:21,000 --> 00:30:23,700
I think that's a there's a little inefficiency baked into that.

624
00:30:23,700 --> 00:30:24,400
Unfortunately.

625
00:30:24,400 --> 00:30:27,200
I just I feel like maybe we want to be returning pointers in some of

626
00:30:27,200 --> 00:30:28,800
these cases, but that's okay.

627
00:30:29,700 --> 00:30:29,800
No.

628
00:30:30,000 --> 00:30:30,500
Big deal.

629
00:30:30,800 --> 00:30:32,800
So let's see.

630
00:30:33,000 --> 00:30:36,300
Identity identity.

631
00:30:36,300 --> 00:30:37,600
It's add low entity now.

632
00:30:37,600 --> 00:30:38,400
So, there we go.

633
00:30:39,000 --> 00:30:44,100
That's going to tea and low.

634
00:30:44,400 --> 00:30:51,200
So this is just like that, and I guess I could also do this.

635
00:30:53,900 --> 00:30:54,300
Okay.

636
00:30:57,000 --> 00:31:00,300
And you can see that I'm, you know, this is the kind of thing that I

637
00:31:00,300 --> 00:31:01,100
do a lot.

638
00:31:01,700 --> 00:31:03,900
I often times write code multiple times.

639
00:31:03,900 --> 00:31:04,500
I'll just go through it.

640
00:31:04,500 --> 00:31:05,200
Several passes.

641
00:31:05,200 --> 00:31:05,500
You can see.

642
00:31:05,500 --> 00:31:08,100
It doesn't take me that long, you know, I'll spend a few times doing

643
00:31:08,100 --> 00:31:08,500
it.

644
00:31:09,600 --> 00:31:11,500
Put things in remove things, pull them out.

645
00:31:11,500 --> 00:31:14,500
It's like, this is, this is definitely the part where you're like

646
00:31:14,500 --> 00:31:17,100
shaping the clay and seeing what the back it looks like.

647
00:31:17,100 --> 00:31:19,100
Right before you decide to sculpt the finished piece.

648
00:31:19,400 --> 00:31:22,600
You just got to be willing to kind of go over things multiple times

649
00:31:22,600 --> 00:31:25,900
and like get them until you're pretty confident and you need to do

650
00:31:25,900 --> 00:31:26,600
that actual work.

651
00:31:26,800 --> 00:31:30,000
Mayor of trying different stuff until you get it, till it feels good.

652
00:31:30,000 --> 00:31:31,500
And that's, that's really important.

653
00:31:32,200 --> 00:31:33,100
So, I don't mind.

654
00:31:33,100 --> 00:31:35,100
Like, the fact that we write and rewrite, a lot of these things

655
00:31:35,100 --> 00:31:37,200
multiple times because like I said, as long as you keep those rewrites

656
00:31:37,200 --> 00:31:40,300
fast, they don't cost you anything and they end up producing a much

657
00:31:40,300 --> 00:31:42,000
more high quality result at the end.

658
00:31:43,200 --> 00:31:43,600
All right.

659
00:31:43,600 --> 00:31:47,600
So now if we're adding a player, again, we don't care about any of

660
00:31:47,600 --> 00:31:48,700
this stuff at all.

661
00:31:50,500 --> 00:31:56,000
So we need to do here is just take a look at this camera, following

662
00:31:56,000 --> 00:31:56,300
entity.

663
00:31:56,700 --> 00:32:01,200
X assuming that that equals 0, then we'll set it to equal to our

664
00:32:01,200 --> 00:32:03,800
entity index, which is fine.

665
00:32:05,400 --> 00:32:06,300
See what else we got here.

666
00:32:07,000 --> 00:32:11,300
So now we're going to do these are Loops slowly over the high entity

667
00:32:11,300 --> 00:32:12,000
Index.

668
00:32:12,400 --> 00:32:13,000
Right?

669
00:32:13,700 --> 00:32:17,800
And so, this is just going to full-on get those directly High

670
00:32:17,800 --> 00:32:18,700
entities.

671
00:32:19,200 --> 00:32:22,900
This is just a nice straight Loop because this is we're going to have

672
00:32:22,900 --> 00:32:23,700
to start making this.

673
00:32:23,700 --> 00:32:27,500
This sort of code is going to have to start being performant.

674
00:32:27,900 --> 00:32:31,000
So how did we get to hear?

675
00:32:31,000 --> 00:32:31,800
Exactly?

676
00:32:32,100 --> 00:32:33,900
We have a move player.

677
00:32:36,500 --> 00:32:38,600
So, we need to pass.

678
00:32:38,600 --> 00:32:41,300
I suppose, a high entity here, right?

679
00:32:41,300 --> 00:32:44,200
Because it was only High entities can move, right?

680
00:32:49,900 --> 00:32:52,600
We only have this, this function, only works with high entities.

681
00:32:54,300 --> 00:32:56,200
So we go ahead and do that here.

682
00:32:57,200 --> 00:32:58,600
I think, well, you know,

683
00:33:01,500 --> 00:33:02,300
Let's think about this.

684
00:33:04,700 --> 00:33:07,800
So, I'm trying to decide whether I want that low high pointer thing

685
00:33:08,500 --> 00:33:12,400
where they're bundled because I had that right.

686
00:33:13,000 --> 00:33:14,000
I'm trying to think of wet weather.

687
00:33:14,000 --> 00:33:16,500
I want that, like, do I want to keep using that or not?

688
00:33:17,800 --> 00:33:18,800
And, you know, maybe I do.

689
00:33:18,800 --> 00:33:22,800
So maybe I do want that to still work for the most part.

690
00:33:23,200 --> 00:33:26,500
And, and this would just have it below Index, right?

691
00:33:27,800 --> 00:33:31,700
Because, you know, you can always get the, the low index if you have a

692
00:33:31,700 --> 00:33:34,200
high and, you know, you just get the high-end except you have a low,

693
00:33:34,600 --> 00:33:37,600
But you might not have a high so you might not have the low index.

694
00:33:38,000 --> 00:33:40,300
So that's really the only thing that we need there.

695
00:33:40,900 --> 00:33:41,500
So, we'll see.

696
00:33:42,000 --> 00:33:42,400
We'll see.

697
00:33:43,000 --> 00:33:47,600
Anyway, so I'm not sure if I actually want to keep this or not.

698
00:33:47,600 --> 00:33:50,000
We'll see or whether I still want accessors on it or not.

699
00:33:50,000 --> 00:33:52,100
But what I do need to do is be able to compare these two.

700
00:33:52,300 --> 00:33:55,600
So I want to do is say this right here is the high end of the index.

701
00:33:55,600 --> 00:33:57,700
This is basically the test High under the index.

702
00:33:58,100 --> 00:34:01,200
So we're just looping over those High entities to test to see if

703
00:34:01,200 --> 00:34:01,700
they're there.

704
00:34:02,300 --> 00:34:03,900
So we're going to go ahead and grab.

705
00:34:04,700 --> 00:34:06,300
Basically, High entity.

706
00:34:08,600 --> 00:34:09,800
Test Ima Be Like.

707
00:34:09,800 --> 00:34:13,900
So we're going to go ahead and grab that out and we know we can get

708
00:34:13,900 --> 00:34:14,300
the loaf.

709
00:34:14,300 --> 00:34:16,199
We need it, but we're just not going to get it right now.

710
00:34:16,900 --> 00:34:18,699
So then we go ahead and say all right.

711
00:34:19,100 --> 00:34:21,300
And in fact, I guess we don't even need to do that quite yet, but we

712
00:34:21,300 --> 00:34:25,000
could do first is say if the entity index that we're talking about

713
00:34:25,000 --> 00:34:30,500
here if that test, hi, this is not equal to us, right?

714
00:34:30,800 --> 00:34:32,699
So this is whatever we are.

715
00:34:33,000 --> 00:34:34,100
So this is entity.

716
00:34:34,100 --> 00:34:37,500
.Hi, whatever are our

717
00:34:37,800 --> 00:34:41,300
Indexes, so I guess is actually energy, low high-end, the index.

718
00:34:41,800 --> 00:34:45,100
So if the two indices differ, then that's how we know that we need to

719
00:34:45,100 --> 00:34:46,600
check, because that means it's not us.

720
00:34:46,600 --> 00:34:48,300
So, because we don't Collide against ourselves.

721
00:34:49,400 --> 00:34:51,300
So then we go ahead and grab that test High entity.

722
00:34:52,600 --> 00:34:56,100
And, and I guess, we also need to grab the one to see if it collides

723
00:34:56,100 --> 00:34:56,900
or not.

724
00:34:58,500 --> 00:35:00,600
We could, we could lock that up.

725
00:35:00,700 --> 00:35:04,000
So that we wouldn't have to pull the low entity for every single

726
00:35:04,000 --> 00:35:07,600
person, but we might end up just doing that in a different way.

727
00:35:07,700 --> 00:35:11,200
A like will only enter people into the grid, they Collide or something

728
00:35:11,200 --> 00:35:12,000
like this, right?

729
00:35:14,100 --> 00:35:16,800
Yeah, so test high energy, we've got it.

730
00:35:16,800 --> 00:35:18,100
Slow entity index.

731
00:35:18,100 --> 00:35:18,700
Like so

732
00:35:21,700 --> 00:35:24,900
And I don't remember when we did make empty, high frequency to be,

733
00:35:24,900 --> 00:35:26,200
remember to put that in there.

734
00:35:27,000 --> 00:35:27,600
No, we didn't.

735
00:35:27,600 --> 00:35:32,500
So entity high-low, empty index should always be equal to whoever

736
00:35:32,500 --> 00:35:33,200
created him.

737
00:35:33,600 --> 00:35:34,100
Right?

738
00:35:34,900 --> 00:35:35,300
Yeah.

739
00:35:36,800 --> 00:35:38,800
So, that's that.

740
00:35:39,300 --> 00:35:44,800
See, here low entities doesn't have underscore yet.

741
00:35:47,400 --> 00:35:49,900
So we have tests low entity.

742
00:35:51,000 --> 00:35:51,900
Don't know why I renamed it.

743
00:35:51,900 --> 00:35:52,400
That way.

744
00:35:53,800 --> 00:35:57,900
I should just call it test and too low to keep it symmetric test.

745
00:36:00,100 --> 00:36:00,500
There we go.

746
00:36:03,400 --> 00:36:07,800
And I guess I could wrap these guys get into an actual low and high if

747
00:36:07,800 --> 00:36:08,400
I wanted to.

748
00:36:09,100 --> 00:36:11,400
All right, let's go ahead and do that.

749
00:36:12,700 --> 00:36:15,100
So, if I do the entity structure, because I'm trying to figure out

750
00:36:15,100 --> 00:36:17,600
whether or not, I want this to happen, right?

751
00:36:17,600 --> 00:36:23,600
Chest entity, low index equals entity, good to me, equals.

752
00:36:25,700 --> 00:36:26,400
Test MD.

753
00:36:26,800 --> 00:36:27,400
Hi.

754
00:36:28,300 --> 00:36:31,900
Hello, so there's my hi.

755
00:36:33,600 --> 00:36:34,600
There's Milo.

756
00:36:37,700 --> 00:36:41,500
And the low index I have to get off of the high, right?

757
00:36:41,500 --> 00:36:46,100
So it's actually this guy and I could do it that way if I want to

758
00:36:46,600 --> 00:36:53,500
like, so, all right, so that produces the test entity and

759
00:36:56,100 --> 00:37:00,600
Now, I can finish the rest of this routine, which probably would just

760
00:37:00,600 --> 00:37:04,700
work, because it's already set up to work that way when we do the hit

761
00:37:04,700 --> 00:37:05,700
entity index.

762
00:37:05,700 --> 00:37:07,500
They hit entity index.

763
00:37:07,500 --> 00:37:08,600
Should presumably.

764
00:37:08,600 --> 00:37:09,200
Well.

765
00:37:09,200 --> 00:37:10,100
What do we actually need that?

766
00:37:10,100 --> 00:37:11,000
For at the end?

767
00:37:11,000 --> 00:37:13,500
We just need to see whether we need to do anything to it.

768
00:37:13,500 --> 00:37:13,900
Right?

769
00:37:13,900 --> 00:37:18,100
Yeah, so we just need to see whether it wants to go like up or down,

770
00:37:18,100 --> 00:37:19,200
or those sorts of things.

771
00:37:19,200 --> 00:37:19,800
Right?

772
00:37:19,800 --> 00:37:25,300
And so, we probably just want to, we could save the pointers there, if

773
00:37:25,300 --> 00:37:26,000
we want, or we could just

774
00:37:26,200 --> 00:37:28,300
Save the high index.

775
00:37:28,500 --> 00:37:28,900
Not sure.

776
00:37:28,900 --> 00:37:29,500
Which one.

777
00:37:32,200 --> 00:37:33,800
Or we could say the low index for that matter.

778
00:37:35,400 --> 00:37:38,200
So let's go ahead and say it high into the index for now.

779
00:37:39,400 --> 00:37:43,800
So, what we'll do is we'll say hi to the index equals test tied to the

780
00:37:43,800 --> 00:37:47,500
index and we'll do that in all the places where we needed to actually

781
00:37:47,600 --> 00:37:49,300
remember who we hit.

782
00:37:50,100 --> 00:37:50,600
There we go.

783
00:37:51,500 --> 00:37:53,900
So in the space, we remembered where we hit.

784
00:37:54,000 --> 00:37:55,900
We now can say, all right.

785
00:37:58,200 --> 00:37:59,800
Hit high and BMX, this guy.

786
00:38:00,400 --> 00:38:07,800
So if I want to grab his stuff out, we can go ahead and say there's

787
00:38:07,800 --> 00:38:10,600
the high entity, right?

788
00:38:10,600 --> 00:38:17,100
And this is the hit high and that is hit High entity.

789
00:38:19,000 --> 00:38:20,000
I don't actually do that.

790
00:38:20,000 --> 00:38:23,800
I guess I know this is always full game State hides.

791
00:38:23,800 --> 00:38:24,500
The index.

792
00:38:28,400 --> 00:38:31,900
Yeah, so I almost want like a direct one that doesn't assertion to

793
00:38:31,900 --> 00:38:34,200
make sure I'm not referencing outside of anything.

794
00:38:34,800 --> 00:38:39,300
But that doesn't do the bounds checking, so it would compile out.

795
00:38:39,300 --> 00:38:40,800
So I have to think about that one later.

796
00:38:41,100 --> 00:38:42,600
I'll have to think about that one later as well.

797
00:38:43,900 --> 00:38:49,400
All right, so that would be that and hit low would be.

798
00:38:51,100 --> 00:38:51,800
Like this.

799
00:38:56,600 --> 00:38:59,800
And it looks like we only need the hit low for this guy.

800
00:39:00,000 --> 00:39:01,700
I probably could have just saved that.

801
00:39:03,000 --> 00:39:05,700
Maybe it was a mistake to save the high instead.

802
00:39:06,500 --> 00:39:08,200
Let's see ya.

803
00:39:10,400 --> 00:39:10,900
And that's literally.

804
00:39:11,400 --> 00:39:11,800
All right.

805
00:39:11,800 --> 00:39:14,200
So those are done.

806
00:39:14,200 --> 00:39:19,500
And now, we need to Loop over our high entities and that's totally

807
00:39:19,500 --> 00:39:20,000
fine.

808
00:39:20,300 --> 00:39:23,200
We don't need to check our high entities because we know that

809
00:39:23,200 --> 00:39:24,300
everything that's in the hire.

810
00:39:24,300 --> 00:39:26,700
A now, is high properly.

811
00:39:27,800 --> 00:39:30,900
We are doing all the same stuff that we were doing before.

812
00:39:31,400 --> 00:39:37,400
But now what we want to do is we want to be able to yeah do.

813
00:39:37,400 --> 00:39:37,600
So.

814
00:39:37,600 --> 00:39:38,800
This is a little bit tricky.

815
00:39:41,500 --> 00:39:46,100
This will actually change people's residences in this Loop directly.

816
00:39:46,700 --> 00:39:51,900
And what I'm thinking is I wonder, do we, is this all the place where

817
00:39:51,900 --> 00:39:53,600
we would always do it, right?

818
00:39:53,600 --> 00:39:56,900
Is when they come out here because if it was we could actually bake

819
00:39:56,900 --> 00:39:57,600
this right in here.

820
00:39:57,600 --> 00:40:00,700
And I'm kind of thinking maybe that is what I do want to do.

821
00:40:01,600 --> 00:40:02,400
Essentially.

822
00:40:02,800 --> 00:40:06,200
The only place that you can have, it happen is here.

823
00:40:06,500 --> 00:40:09,000
And the reason for that is it makes the iteration.

824
00:40:09,500 --> 00:40:10,500
Not tricky, right?

825
00:40:10,500 --> 00:40:14,300
It means that the iteration is pretty easy for us to handle and we

826
00:40:14,300 --> 00:40:16,500
don't have to deal with it in any other way.

827
00:40:16,700 --> 00:40:19,500
So basically, what we do here is we'd say We're looping over these

828
00:40:19,500 --> 00:40:20,800
guys, right?

829
00:40:21,700 --> 00:40:25,400
We're checking them, and if they're not inside the rectangle, then we

830
00:40:25,400 --> 00:40:29,800
go ahead and we we pull them out.

831
00:40:33,000 --> 00:40:34,100
We pull them out.

832
00:40:41,200 --> 00:40:45,200
Bye-bye doing that swap that I was talking about and then we just

833
00:40:45,200 --> 00:40:46,200
don't increment the pointer.

834
00:40:46,200 --> 00:40:47,900
So the person that we swap into place.

835
00:40:48,600 --> 00:40:49,700
We just don't increment the pointer.

836
00:40:50,000 --> 00:40:53,600
So I'm thinking that it looks something like this, right?

837
00:40:54,100 --> 00:40:55,700
So we've got the high end of the account.

838
00:40:56,000 --> 00:40:57,300
We Loop over everyone there.

839
00:40:57,500 --> 00:41:00,600
We check to see if they're in the rectangle if they're not in the

840
00:41:00,600 --> 00:41:01,400
rectangle.

841
00:41:01,400 --> 00:41:04,500
Then we grab their entity Low by just looking at the high entities,

842
00:41:04,700 --> 00:41:05,900
low into the index.

843
00:41:06,100 --> 00:41:06,700
So we've got it.

844
00:41:06,700 --> 00:41:07,100
Now.

845
00:41:08,400 --> 00:41:09,200
We already know the highwomen.

846
00:41:09,300 --> 00:41:09,800
Index.

847
00:41:09,800 --> 00:41:10,300
Right.

848
00:41:10,300 --> 00:41:11,000
It's this.

849
00:41:11,200 --> 00:41:13,000
So we just say this is our high index.

850
00:41:13,400 --> 00:41:16,100
So get rid of that.

851
00:41:16,200 --> 00:41:17,700
So that's just a nice Loop.

852
00:41:17,700 --> 00:41:19,000
Very very straightforward.

853
00:41:19,700 --> 00:41:23,000
We checked the rectangle is this is the the not very frequently.

854
00:41:23,000 --> 00:41:23,600
This won't happen.

855
00:41:23,600 --> 00:41:25,700
Presumably very frequently all.

856
00:41:25,700 --> 00:41:27,900
Well Mike because I guess we don't set camera that off.

857
00:41:27,900 --> 00:41:31,700
And so we take a look to see if the hi Auntie index.

858
00:41:38,600 --> 00:41:40,800
You know, I take it back.

859
00:41:41,500 --> 00:41:46,400
There is one other case we have to handle when somebody walks out of

860
00:41:46,400 --> 00:41:47,100
bounds.

861
00:41:47,900 --> 00:41:49,600
We will have to handle this.

862
00:41:50,700 --> 00:41:55,900
So maybe I just want these two routines to be like aware of each other

863
00:41:56,300 --> 00:41:59,900
so that the iteration is still easy because what?

864
00:42:00,000 --> 00:42:03,900
Worried about is that iteration this, this mutates, the array, right?

865
00:42:03,900 --> 00:42:08,000
So the iteration, if it was just a naive, iteration would fail to work

866
00:42:08,000 --> 00:42:09,700
properly, right?

867
00:42:11,700 --> 00:42:14,400
So it's just something, it's just something to think about.

868
00:42:14,600 --> 00:42:15,100
That's all.

869
00:42:17,300 --> 00:42:19,900
So yeah, so basically, like let's say I call this here is all I'm

870
00:42:19,900 --> 00:42:20,800
saying, right?

871
00:42:20,900 --> 00:42:22,600
So this mutates, the array.

872
00:42:23,100 --> 00:42:26,400
And so, we wouldn't want to increment The Entity index, but that

873
00:42:26,400 --> 00:42:29,500
assumes, that we know, right?

874
00:42:29,500 --> 00:42:32,000
So it's basically if it's in the it's in the rectangle.

875
00:42:32,000 --> 00:42:35,300
Skip it, if it's not in the rectangle get rid of it, right?

876
00:42:35,600 --> 00:42:39,100
But that assumes that we kind of know exactly how that that removal

877
00:42:39,100 --> 00:42:40,000
function is working.

878
00:42:40,400 --> 00:42:44,700
And it's kind of, I don't like, you know, having that be so implicit

879
00:42:44,700 --> 00:42:46,700
in the code, Sara Lee, it would be nice.

880
00:42:47,900 --> 00:42:51,100
If there was a way to kind of avoid that a little bit, right?

881
00:42:53,600 --> 00:42:58,000
And so I don't know like maybe the best thing to do there would be to

882
00:42:58,000 --> 00:43:02,500
kind of like sort of couple pair these guys together, right?

883
00:43:03,600 --> 00:43:15,400
Say, you know, make entities, low frequency by by area, right and that

884
00:43:15,700 --> 00:43:17,700
that does this Loop, right?

885
00:43:17,800 --> 00:43:20,300
But it does the loop right here.

886
00:43:22,700 --> 00:43:33,900
And, and yeah, just so I guess offset and check frequency by area.

887
00:43:33,900 --> 00:43:34,400
There we go.

888
00:43:34,800 --> 00:43:38,400
And so, we'll call that function and they'll this will kind of be

889
00:43:38,400 --> 00:43:40,900
coupled with the previous function so that they're in the same place

890
00:43:40,900 --> 00:43:43,000
in the code and they make a little more sense.

891
00:43:43,000 --> 00:43:43,600
Right?

892
00:43:43,600 --> 00:43:47,700
And so this will just pass what that and the offset is, right.

893
00:43:47,700 --> 00:43:51,600
So that's the offset there and let's see.

894
00:43:51,700 --> 00:43:52,100
I'll check.

895
00:43:52,300 --> 00:43:55,000
for area and of the offset frame, 60,

896
00:43:59,200 --> 00:44:04,000
So this right here is what my offsets going to be, and this is the

897
00:44:04,000 --> 00:44:06,300
thing that I need to pass for the bounds for checking.

898
00:44:06,600 --> 00:44:10,600
So that's going to be camera bounds and so we'll just do that and that

899
00:44:10,600 --> 00:44:12,300
can still be, you know, that could be an inline.

900
00:44:12,300 --> 00:44:13,900
So it just still sticks it in there.

901
00:44:14,000 --> 00:44:18,800
But just so it's, you know, clear what's going on in these guys.

902
00:44:19,100 --> 00:44:19,500
Right?

903
00:44:20,700 --> 00:44:23,500
Most of these could really be inlined for the most part.

904
00:44:23,500 --> 00:44:25,100
Well, this one might stay out.

905
00:44:25,400 --> 00:44:28,000
All right, so I think

906
00:44:30,100 --> 00:44:33,200
I think if that is how I would like to do that.

907
00:44:33,900 --> 00:44:38,400
So everyone is inside the rectangle gets skipped, everyone who's not

908
00:44:38,400 --> 00:44:43,300
just gets deleted from the high in 2D array and then this has to be

909
00:44:43,700 --> 00:44:45,600
over the high and 50 count.

910
00:44:46,600 --> 00:44:47,100
So,

911
00:44:49,200 --> 00:44:52,000
And that's much better going over the low entities.

912
00:44:52,000 --> 00:44:55,100
It's the same thing only now, instead of doing changes, you residents

913
00:44:55,100 --> 00:44:58,100
were pulling make entity high frequency, right?

914
00:44:59,200 --> 00:44:59,800
And that

915
00:45:00,000 --> 00:45:01,100
Is that?

916
00:45:01,100 --> 00:45:03,400
And I think that's really all we need to do.

917
00:45:03,500 --> 00:45:04,900
Oops about that.

918
00:45:05,800 --> 00:45:11,600
So we do need to do this and say, we're not going to try to move

919
00:45:11,600 --> 00:45:16,100
anyone if they're high into the index is already set because we know

920
00:45:16,100 --> 00:45:19,700
that they already have a high entity, right?

921
00:45:19,700 --> 00:45:21,400
So this is only if they're there.

922
00:45:21,400 --> 00:45:25,000
Heidi is set to 0 and then

923
00:45:29,100 --> 00:45:30,400
Past the game State.

924
00:45:31,500 --> 00:45:38,700
Yeah, and then we need to reserve our zero entity in both places.

925
00:45:39,500 --> 00:45:48,200
So we do need to do a identity and we need to do a basically a reserve

926
00:45:48,200 --> 00:45:50,600
a slot in the high entities.

927
00:45:50,900 --> 00:45:53,200
So Heidi count equals one as well.

928
00:45:53,300 --> 00:45:56,800
So that basically, we never get below that one because the high end to

929
00:45:56,800 --> 00:45:57,800
the index of 0 has

930
00:45:57,900 --> 00:46:00,100
To be reserved for the no entity.

931
00:46:01,400 --> 00:46:08,000
So what else we got to do here for controlling entities?

932
00:46:08,000 --> 00:46:09,700
So an entity that you're controlling?

933
00:46:18,100 --> 00:46:20,100
We do want that to always be high.

934
00:46:21,500 --> 00:46:26,600
So I'm trying to think though, exactly whether we want how exactly

935
00:46:26,600 --> 00:46:29,900
want to do that because it's basically this move player function that

936
00:46:29,900 --> 00:46:31,200
ends up wanting to do that.

937
00:46:31,500 --> 00:46:33,600
So I'm not sure exactly how we want to handle this.

938
00:46:37,100 --> 00:46:42,000
So what we want to do I guess is we want to First say

939
00:46:42,500 --> 00:46:44,700
Whatever the player index was for controller.

940
00:46:44,700 --> 00:46:47,300
Let's check to see what that is.

941
00:46:47,400 --> 00:46:47,700
Right.

942
00:46:47,700 --> 00:46:53,200
So, we've got low index for the player, Right is coming out of this

943
00:46:53,200 --> 00:46:53,600
thing.

944
00:46:54,000 --> 00:46:59,400
And so we want to do is say if the low end X is not equal to 0, or,

945
00:46:59,900 --> 00:47:04,300
yeah, I guess we could change the sense of this and say, if it is

946
00:47:04,300 --> 00:47:08,500
equal to 0, right, so assuming that it's equal to zero, that means

947
00:47:08,500 --> 00:47:11,400
that we are checking to see whether or not this controller is going to

948
00:47:11,400 --> 00:47:12,200
start controlling.

949
00:47:12,300 --> 00:47:13,600
A player, right?

950
00:47:14,200 --> 00:47:15,900
And that would do this.

951
00:47:15,900 --> 00:47:19,000
So we'll say ended down in the index equals add player.

952
00:47:19,600 --> 00:47:22,600
So we're going to add the player game State players for controller and

953
00:47:22,600 --> 00:47:23,300
at the index.

954
00:47:24,900 --> 00:47:25,900
That all looks good.

955
00:47:26,900 --> 00:47:27,900
No weirdest there.

956
00:47:28,400 --> 00:47:32,700
And then in the case, where we aren't then we're going to do the move

957
00:47:33,400 --> 00:47:37,600
and the move does require that the player be in high.

958
00:47:38,100 --> 00:47:41,700
So this is one case where we would have to say, you know, make sure

959
00:47:41,700 --> 00:47:44,800
that the entity is actually a high entity.

960
00:47:45,500 --> 00:47:48,100
So, I don't know if I want to still do the thing.

961
00:47:48,100 --> 00:47:51,900
I guess, if I just have a get high entity that that forces entities to

962
00:47:51,900 --> 00:47:52,900
hide, that would do it.

963
00:47:54,600 --> 00:47:57,900
It looks like I'm trying to think of whether this guy even cares that

964
00:47:57,900 --> 00:47:58,200
much.

965
00:47:58,200 --> 00:47:59,900
It looks like they this this guy.

966
00:48:00,000 --> 00:48:01,500
Is also use the high.

967
00:48:03,200 --> 00:48:06,700
So yeah, so I feel like what it's looking like to me is what I want to

968
00:48:06,700 --> 00:48:10,100
do is have a is is maybe have entity?

969
00:48:12,000 --> 00:48:12,500
Maybe.

970
00:48:12,500 --> 00:48:19,800
That's maybe when you call get high entity, that gives that is the

971
00:48:19,800 --> 00:48:25,000
thing that returns an entity struck, that has both pairs and the index

972
00:48:25,000 --> 00:48:25,500
in it.

973
00:48:26,200 --> 00:48:29,300
That seems to make some sense to me because that's looking like the

974
00:48:29,300 --> 00:48:29,800
use its path.

975
00:48:30,000 --> 00:48:31,200
Turn, right?

976
00:48:32,600 --> 00:48:36,500
That's, that's the time when you actually do that operation.

977
00:48:37,800 --> 00:48:41,500
So I think maybe that's the right way, right?

978
00:48:43,100 --> 00:48:43,600
Yeah.

979
00:48:44,300 --> 00:48:47,000
So in this case when we add it slowly file, we don't need to turn them

980
00:48:47,000 --> 00:48:50,300
too high, but when we actually move them, we would need to turn them

981
00:48:50,300 --> 00:48:50,800
too high.

982
00:48:51,100 --> 00:48:56,100
And so that's the controlling entity equals get high entity.

983
00:48:56,800 --> 00:48:57,200
Right?

984
00:48:57,200 --> 00:48:59,500
And so when you call the get

985
00:49:01,100 --> 00:49:03,500
It's a little bit weird to call it, get high, and because you're

986
00:49:03,500 --> 00:49:05,600
actually passing a low index to it.

987
00:49:05,800 --> 00:49:06,300
Right?

988
00:49:06,800 --> 00:49:10,500
But it seems like you never really get an entity by its high index.

989
00:49:11,100 --> 00:49:13,500
That's really just something that you use when you're looping over

990
00:49:13,500 --> 00:49:14,800
them in processing.

991
00:49:15,900 --> 00:49:19,100
So it's hard to say it's hard to say how I want to do that.

992
00:49:19,100 --> 00:49:19,700
Exactly.

993
00:49:20,000 --> 00:49:22,800
So we'll think about it some more, but that's basically what that

994
00:49:22,800 --> 00:49:23,300
would do.

995
00:49:23,800 --> 00:49:25,100
So get high in today.

996
00:49:26,500 --> 00:49:30,900
Would actually look like this, you would pass a low index, right?

997
00:49:31,800 --> 00:49:34,000
And the way this would work is you'd have a result.

998
00:49:35,700 --> 00:49:39,300
you would first do a make entity high frequency like so

999
00:49:41,000 --> 00:49:48,800
Right, you would always do that on the guy when you call high and you

1000
00:49:48,800 --> 00:49:49,000
would.

1001
00:49:49,000 --> 00:49:53,700
Then in fact, the other thing you could do is say that make high

1002
00:49:53,700 --> 00:49:56,400
frequency, could return the high frequency pointer.

1003
00:49:56,800 --> 00:49:58,800
Although in the case where one already exists.

1004
00:49:59,800 --> 00:50:03,800
Maybe you don't necessarily want to hard to say, but we could say that

1005
00:50:03,800 --> 00:50:05,700
this works like this, right?

1006
00:50:06,900 --> 00:50:09,000
we could say that if it,

1007
00:50:10,900 --> 00:50:12,900
if it already has one, we just return it.

1008
00:50:13,500 --> 00:50:14,000
Right.

1009
00:50:14,000 --> 00:50:18,700
So we've got high entity, entity, High 0.

1010
00:50:19,300 --> 00:50:21,600
So in this case, we do entity.

1011
00:50:21,600 --> 00:50:22,100
Hi.

1012
00:50:24,800 --> 00:50:27,600
Equals this.

1013
00:50:29,900 --> 00:50:31,400
So, there we go.

1014
00:50:34,500 --> 00:50:36,600
And we would do that here as well.

1015
00:50:38,700 --> 00:50:40,700
But in this case, it be empty, low.

1016
00:50:42,500 --> 00:50:43,400
Hi index.

1017
00:50:43,900 --> 00:50:44,400
All right.

1018
00:50:45,200 --> 00:50:48,000
So if we have a hiding this already, we just get it.

1019
00:50:48,700 --> 00:50:52,400
If we didn't have one, then we make sure we create it like that, like

1020
00:50:52,400 --> 00:50:52,900
so.

1021
00:50:53,500 --> 00:50:57,200
And then we return the entity high and that way in here.

1022
00:50:57,200 --> 00:50:59,000
All I have to do is say okay.

1023
00:51:00,000 --> 00:51:03,600
Salt is going to have the low index.

1024
00:51:04,000 --> 00:51:09,200
It's going to have the low entity, which is just whatever, the game,

1025
00:51:09,200 --> 00:51:14,100
State, low entities, plus below, indexes.

1026
00:51:15,700 --> 00:51:16,800
Five minute warning.

1027
00:51:19,600 --> 00:51:21,600
Man, so close and yet so far too.

1028
00:51:22,300 --> 00:51:23,700
And then it's also going to have behind.

1029
00:51:24,200 --> 00:51:24,700
So, there we go.

1030
00:51:24,700 --> 00:51:26,600
So we've grabbed those that's all good.

1031
00:51:27,200 --> 00:51:31,600
And I guess I'll allow it so that when you call get high entity, we

1032
00:51:31,600 --> 00:51:35,700
will allow it where you can call it with with something that would be

1033
00:51:35,700 --> 00:51:36,500
out of bounds.

1034
00:51:36,500 --> 00:51:39,900
And it will just, it will, it will silently fail on that.

1035
00:51:40,000 --> 00:51:44,200
So I, maybe maybe I just want this to be an assertion.

1036
00:51:45,300 --> 00:51:48,700
Maybe that's the right thing to do because it seems like you should

1037
00:51:48,700 --> 00:51:51,800
never be getting a high-end see that way, but we could change it later

1038
00:51:51,900 --> 00:51:56,000
to say that you can pass a zero here and get zero back right, get a

1039
00:51:56,000 --> 00:51:57,100
zero pointer back.

1040
00:51:58,700 --> 00:52:00,600
I don't know which one we want to do about that.

1041
00:52:00,800 --> 00:52:01,600
I really don't know.

1042
00:52:02,400 --> 00:52:09,100
So we'll find out to do should we allow passing a zero index and

1043
00:52:09,100 --> 00:52:10,800
return a null pointer?

1044
00:52:12,200 --> 00:52:14,300
Maybe who knows?

1045
00:52:15,300 --> 00:52:15,700
Okay.

1046
00:52:17,400 --> 00:52:20,900
So, let's see here.

1047
00:52:22,000 --> 00:52:23,200
Let's see.

1048
00:52:23,900 --> 00:52:26,900
So when we are looping over the tests entities and you got to get the

1049
00:52:26,900 --> 00:52:27,500
load.

1050
00:52:27,500 --> 00:52:29,800
Yeah, that's that's was a little bit janky.

1051
00:52:29,800 --> 00:52:31,100
I didn't love that.

1052
00:52:31,400 --> 00:52:32,900
All right, so get high entity.

1053
00:52:35,500 --> 00:52:38,600
So when you controlling entity, we pass that gets the higher energy.

1054
00:52:38,600 --> 00:52:41,200
That's fine, discuss the hiring to do as well.

1055
00:52:42,300 --> 00:52:45,600
And this could just basically look to see whether it has a high

1056
00:52:45,600 --> 00:52:46,100
pointer.

1057
00:52:46,100 --> 00:52:48,300
Assuming it does, it goes ahead and use this it.

1058
00:52:49,500 --> 00:52:50,200
Let's see.

1059
00:52:50,200 --> 00:52:53,000
The low end X has to be between those bounds.

1060
00:52:54,900 --> 00:52:59,600
This is going to Loop over the high entities only right?

1061
00:53:00,100 --> 00:53:03,800
Because it doesn't actually need the low for anything and I mean, it's

1062
00:53:03,800 --> 00:53:05,000
a sorry, it always needs the highwomen.

1063
00:53:07,000 --> 00:53:12,000
And so that, that is pretty much it for that.

1064
00:53:12,000 --> 00:53:13,900
This is the high entity index here.

1065
00:53:14,900 --> 00:53:20,500
Like so you go hide T's plus High into the index.

1066
00:53:21,700 --> 00:53:27,100
And then our Lou entity is just going to be gotten from.

1067
00:53:30,200 --> 00:53:31,300
The high to itself.

1068
00:53:31,400 --> 00:53:35,900
So high into the dot fluency index.

1069
00:53:37,000 --> 00:53:37,400
Okay.

1070
00:53:39,400 --> 00:53:40,100
And that's it.

1071
00:53:40,100 --> 00:53:40,700
Right?

1072
00:53:41,300 --> 00:53:42,200
So there we go.

1073
00:53:42,500 --> 00:53:46,900
Now I don't sure that's going to crash horribly because I did so many

1074
00:53:46,900 --> 00:53:47,700
random things there.

1075
00:53:47,700 --> 00:53:52,200
That's way too many to have not made some mistakes, but that's

1076
00:53:52,200 --> 00:53:53,200
basically what I want to do.

1077
00:53:53,200 --> 00:53:55,800
And there's I think I want to do one more pass over it because I feel

1078
00:53:55,800 --> 00:53:58,400
like I want to clean up that entity handling there.

1079
00:54:00,000 --> 00:54:02,200
Hmm, let's see.

1080
00:54:02,400 --> 00:54:06,200
All right, so this guy needs to check so that would be a case where

1081
00:54:07,100 --> 00:54:10,700
that would be a case where it would argue for the thing that I said,

1082
00:54:10,700 --> 00:54:12,800
where it should just check the bounds to see.

1083
00:54:14,300 --> 00:54:17,500
And so, I don't know, like, let's do it because it looked like that

1084
00:54:17,500 --> 00:54:20,600
was sort of something I had wanted to type in so we'll let it let it

1085
00:54:20,600 --> 00:54:21,200
happen.

1086
00:54:21,600 --> 00:54:23,400
We'll see if it's good or not.

1087
00:54:24,800 --> 00:54:27,900
Alright, so we're not working properly there.

1088
00:54:27,900 --> 00:54:29,600
We did not properly create.

1089
00:54:30,000 --> 00:54:31,200
Other high entities there.

1090
00:54:31,200 --> 00:54:32,600
Why did we not create that?

1091
00:54:33,000 --> 00:54:33,900
Why do we not handle them?

1092
00:54:33,900 --> 00:54:36,700
Oh, we still haven't done our wrapping yet.

1093
00:54:36,900 --> 00:54:40,200
So we still have not fixed the rapping problem.

1094
00:54:40,600 --> 00:54:41,500
If you remember correctly.

1095
00:54:41,500 --> 00:54:46,100
This, this this thing here is not correct yet.

1096
00:54:48,100 --> 00:54:52,700
Which is yeah, we don't have time probably to do that stuff today, but

1097
00:54:52,700 --> 00:54:53,800
let's just take a look.

1098
00:54:55,500 --> 00:54:56,400
Let's see if that no.

1099
00:54:57,700 --> 00:54:58,200
Did I do that?

1100
00:54:58,200 --> 00:54:58,700
Right?

1101
00:54:59,200 --> 00:55:00,000
So I'll test it.

1102
00:55:01,100 --> 00:55:01,800
I thought that would have.

1103
00:55:01,800 --> 00:55:03,600
I thought that would have been good enough to fix it, but it might

1104
00:55:03,600 --> 00:55:05,600
have been a different problem because we still, if you remember

1105
00:55:05,600 --> 00:55:06,000
correctly.

1106
00:55:06,000 --> 00:55:07,400
We still have the problem here.

1107
00:55:10,600 --> 00:55:12,200
Of making entities high frequency.

1108
00:55:12,800 --> 00:55:13,700
When we're doing the checks.

1109
00:55:13,700 --> 00:55:16,700
We have, we don't support the wrapping properly because we said we

1110
00:55:16,700 --> 00:55:19,900
weren't going to start wrapping and this would actually fail in

1111
00:55:19,900 --> 00:55:25,700
rapping, but you're not actually know why we didn't get the entities,

1112
00:55:25,700 --> 00:55:26,700
when I fixed that problem.

1113
00:55:26,700 --> 00:55:30,800
I also looks like he's not in the right position when he moves there.

1114
00:55:31,100 --> 00:55:32,000
So we've got some stuff.

1115
00:55:32,000 --> 00:55:33,100
We got a deal with here.

1116
00:55:34,000 --> 00:55:36,100
So let's go ahead and start our debugging.

1117
00:55:36,100 --> 00:55:40,200
Pass probably won't finish it, but we're compiling now, so that's

1118
00:55:41,000 --> 00:55:42,100
And we can finish it tomorrow.

1119
00:55:42,700 --> 00:55:43,900
In fact, it won't be long, right?

1120
00:55:43,900 --> 00:55:48,000
Because this tonight Thursday, so it's actually a morning tomorrow.

1121
00:55:48,000 --> 00:55:49,900
So it'll still be fresh in in our heads.

1122
00:55:50,100 --> 00:55:50,600
Okay.

1123
00:55:51,200 --> 00:55:54,500
So let's go ahead and take a look briefly at what's going on here.

1124
00:55:55,000 --> 00:55:59,200
Maybe I will go ahead and step through the that set camera call.

1125
00:56:01,500 --> 00:56:03,700
As a good example of seeing how things are working.

1126
00:56:04,800 --> 00:56:07,200
So let's go ahead and check this guy out.

1127
00:56:09,200 --> 00:56:09,500
Check.

1128
00:56:09,800 --> 00:56:12,200
We don't care about that function because we don't have any high

1129
00:56:12,200 --> 00:56:13,100
frequency entities yet.

1130
00:56:13,100 --> 00:56:15,500
So we want to do is take a look at our low frequency entities.

1131
00:56:15,800 --> 00:56:18,800
Presumably the problem here is the mint, I'll Mac style thing.

1132
00:56:19,600 --> 00:56:22,000
Yeah, so that's the wrapping problem.

1133
00:56:22,100 --> 00:56:26,700
So let me go ahead and set those 20 temporarily so I can see what was

1134
00:56:26,700 --> 00:56:27,600
actually going wrong.

1135
00:56:27,600 --> 00:56:28,000
Why?

1136
00:56:28,000 --> 00:56:31,300
The end of these weren't getting added to the high frequency list.

1137
00:56:31,500 --> 00:56:35,300
So, let's assume I guess the one with the easiest way to do that would

1138
00:56:35,300 --> 00:56:38,000
be to say, let's assume that we're going to add everything right.

1139
00:56:38,000 --> 00:56:38,800
Everything gets added.

1140
00:56:46,000 --> 00:56:46,700
So, here we go.

1141
00:56:49,500 --> 00:56:50,300
We go through here.

1142
00:56:50,300 --> 00:56:51,700
Same a Kennedy, high frequency.

1143
00:56:52,700 --> 00:56:53,600
We take a look at it.

1144
00:56:53,600 --> 00:56:54,400
Slow entity.

1145
00:56:55,100 --> 00:56:57,400
We see that it does not have a high-end V which is true.

1146
00:56:58,600 --> 00:56:59,800
We see that we have

1147
00:57:00,000 --> 00:57:01,500
Store it, which is also true.

1148
00:57:01,800 --> 00:57:04,200
We assign it a new index which is the first index.

1149
00:57:04,200 --> 00:57:05,900
Which seems also correct.

1150
00:57:06,400 --> 00:57:08,000
We grab its entity High pointer.

1151
00:57:08,200 --> 00:57:10,100
We initialize its entity High pointer.

1152
00:57:11,400 --> 00:57:12,200
What happens here?

1153
00:57:12,700 --> 00:57:14,100
So that's what reasonable.

1154
00:57:17,500 --> 00:57:19,000
That seems reasonable to me.

1155
00:57:20,900 --> 00:57:22,000
And off we go.

1156
00:57:22,700 --> 00:57:27,400
Okay, so that all seems pretty reasonable that looks like it's going

1157
00:57:27,400 --> 00:57:29,300
to make a bunch of high entities to me.

1158
00:57:30,800 --> 00:57:33,100
So what happened here?

1159
00:57:33,300 --> 00:57:35,500
Was it our rendering call that failed?

1160
00:57:36,700 --> 00:57:37,600
Let's find out.

1161
00:57:43,700 --> 00:57:46,000
We are hitting our invalid code path.

1162
00:57:46,100 --> 00:57:47,600
At May Kennedy high frequency.

1163
00:57:48,400 --> 00:57:50,600
So we added more than 256, of them.

1164
00:57:50,800 --> 00:57:51,200
Oh, right.

1165
00:57:51,200 --> 00:57:53,500
Because we were adding all of the entities that were in the world

1166
00:57:53,500 --> 00:57:54,200
entirely.

1167
00:57:56,300 --> 00:57:58,100
Well, that does seem a little bit odd.

1168
00:57:59,400 --> 00:58:01,300
Because there shouldn't have been more than two hundred, six entities

1169
00:58:01,300 --> 00:58:02,100
in the world total.

1170
00:58:02,300 --> 00:58:03,100
Correct.

1171
00:58:03,500 --> 00:58:04,600
Am I right about that?

1172
00:58:04,800 --> 00:58:09,300
So, I kind of feel like this is getting called more times than it

1173
00:58:09,300 --> 00:58:10,000
should have.

1174
00:58:10,100 --> 00:58:14,000
For example, if the high energy index was not being set, when an

1175
00:58:14,000 --> 00:58:16,600
entity actually goes into high frequency.

1176
00:58:17,700 --> 00:58:18,800
It looks like it is.

1177
00:58:19,200 --> 00:58:22,300
So I'm not sure why that would be, but let's take a look.

1178
00:58:22,800 --> 00:58:25,200
So if we go into the game State, and

1179
00:58:26,800 --> 00:58:28,500
Take a look here at the high end of these list.

1180
00:58:29,500 --> 00:58:29,900
All right.

1181
00:58:30,900 --> 00:58:32,100
So, let's see.

1182
00:58:33,500 --> 00:58:34,900
Looking through here.

1183
00:58:35,600 --> 00:58:36,100
Let's see.

1184
00:58:36,100 --> 00:58:37,000
What kind of numbers.

1185
00:58:37,000 --> 00:58:38,900
These are loaded index.

1186
00:58:38,900 --> 00:58:39,700
150.

1187
00:58:40,500 --> 00:58:42,000
Well, we have a lot of low entities.

1188
00:58:42,000 --> 00:58:42,300
I guess.

1189
00:58:42,300 --> 00:58:43,100
I take it back.

1190
00:58:43,400 --> 00:58:44,300
How do we have that?

1191
00:58:44,300 --> 00:58:47,700
Many, that doesn't sound like the right number of entities.

1192
00:58:47,900 --> 00:58:49,700
How many screens did we create?

1193
00:58:50,600 --> 00:58:53,800
We only created like two screens, right?

1194
00:58:55,200 --> 00:58:58,000
So, how many walls there that doesn't make any sense.

1195
00:58:58,400 --> 00:59:04,000
That feels like there's way too many low entities in the first place.

1196
00:59:04,700 --> 00:59:10,200
You know, I'm saying to you like it feels like add wall, got called

1197
00:59:10,200 --> 00:59:14,600
way too many times, but let's let's find out.

1198
00:59:14,800 --> 00:59:16,100
So let's see what happened there.

1199
00:59:19,100 --> 00:59:22,800
Let's see if I come in here.

1200
00:59:24,700 --> 00:59:25,700
All right.

1201
00:59:26,800 --> 00:59:27,800
I'm going to run to here.

1202
00:59:29,300 --> 00:59:30,400
Start the program fresh.

1203
00:59:32,600 --> 00:59:35,600
If I look at my game State, I've got one low entity, which is the

1204
00:59:35,600 --> 00:59:36,000
reserve.

1205
00:59:36,000 --> 00:59:36,700
No entity.

1206
00:59:37,300 --> 00:59:42,100
I'm going to gun run through here, and I guess I'll run through here.

1207
00:59:43,300 --> 00:59:46,100
One-time first, so let's run through here once.

1208
00:59:47,300 --> 00:59:48,800
Loaded account is 48.

1209
00:59:49,100 --> 00:59:50,200
Run through here again.

1210
00:59:53,000 --> 00:59:57,200
And what's our cap now, 94.

1211
00:59:58,200 --> 00:59:59,800
So there's only 94 low.

1212
01:00:00,000 --> 01:00:03,500
He's so this just looks like a typo bug where I'm incrementing?

1213
01:00:03,500 --> 01:00:04,500
Milo entities.

1214
01:00:06,000 --> 01:00:07,600
Ah, that's the problem.

1215
01:00:09,500 --> 01:00:12,700
I'm still doing a ray count on these guys, but we actually have a

1216
01:00:12,700 --> 01:00:13,300
regular.

1217
01:00:15,500 --> 01:00:16,500
Regular count now.

1218
01:00:16,800 --> 01:00:20,500
So this should actually be low entity count since we only have a

1219
01:00:20,500 --> 01:00:25,500
certain number of those and the same is going to be true for any of

1220
01:00:25,500 --> 01:00:26,200
these guys.

1221
01:00:33,000 --> 01:00:36,200
Okay, so, let's see if that's better.

1222
01:00:37,300 --> 01:00:38,700
I feel like that should be better.

1223
01:00:39,700 --> 01:00:42,500
Won't fix the problem, or it will fix the problem.

1224
01:00:44,300 --> 01:00:45,100
So,

1225
01:00:46,500 --> 01:00:49,800
Now, we are back to parody at least and that is a good place to leave.

1226
01:00:49,800 --> 01:00:50,200
It.

1227
01:00:50,300 --> 01:00:51,400
Still got a few more things.

1228
01:00:51,400 --> 01:00:53,600
We really need to do here though, because we got to start doing our

1229
01:00:53,600 --> 01:00:56,000
spatial partition, but it's getting better.

1230
01:00:56,000 --> 01:00:57,100
It's definitely getting better.

1231
01:00:57,800 --> 01:00:58,900
I think it's in better shape.

1232
01:00:58,900 --> 01:01:01,200
Now things are starting to shape up.

1233
01:01:01,500 --> 01:01:05,900
The reason that I like this is because we can start to see things

1234
01:01:05,900 --> 01:01:08,900
breaking off into nice little chunks, right?

1235
01:01:09,000 --> 01:01:13,900
I can start to see this looking like an actual engine that I could be

1236
01:01:13,900 --> 01:01:14,900
happy with, right?

1237
01:01:15,000 --> 01:01:16,100
Because we're starting to have nice.

1238
01:01:16,300 --> 01:01:19,400
Little Loops like I can imagine writing a nice fast loop.

1239
01:01:19,400 --> 01:01:23,800
That's a thing that goes through and checks things for whether or not

1240
01:01:23,800 --> 01:01:26,200
they need to be moved out of the high frequency set like that.

1241
01:01:27,500 --> 01:01:31,000
And I can see making a spatial partition, that accelerates that,

1242
01:01:31,100 --> 01:01:31,600
right?

1243
01:01:31,800 --> 01:01:34,400
The same is true for this other loop down here.

1244
01:01:35,200 --> 01:01:35,800
This one.

1245
01:01:36,100 --> 01:01:38,600
I think we could do the same thing for, right?

1246
01:01:41,000 --> 01:01:43,200
So yeah, I'm feeling pretty good about this.

1247
01:01:43,200 --> 01:01:46,700
I think we're getting to the point where this is probably what it

1248
01:01:46,700 --> 01:01:47,100
should be.

1249
01:01:49,400 --> 01:01:52,700
We just got to push a little further and just kind of massage

1250
01:01:52,700 --> 01:01:55,900
everything out into exactly where it's supposed to be, but I'm pretty

1251
01:01:55,900 --> 01:01:56,700
happy about this.

1252
01:01:56,900 --> 01:01:59,000
I don't expect this probably gonna be too many questions since this

1253
01:01:59,000 --> 01:02:01,300
was mostly just code rearranging stuff.

1254
01:02:01,300 --> 01:02:02,200
That's sometimes.

1255
01:02:02,200 --> 01:02:03,200
That's what you have to do.

1256
01:02:06,000 --> 01:02:10,700
Excuse me, but either way is time for the Q&A.

1257
01:02:10,900 --> 01:02:14,100
So let's go ahead and start the Q&A in case there are questions

1258
01:02:14,100 --> 01:02:19,000
because well, sometimes there are questions that even when you don't

1259
01:02:19,000 --> 01:02:20,000
expect it to be questions.

1260
01:02:20,000 --> 01:02:21,900
So let's go ahead and do the Q&A.

1261
01:02:21,900 --> 01:02:24,900
Please prefix your question with Q: so I can see it.

1262
01:02:24,900 --> 01:02:29,400
And also probably try to keep it for stuff we did today and stuff that

1263
01:02:29,400 --> 01:02:30,200
we did on or something.

1264
01:02:30,200 --> 01:02:34,400
We did the previous day's so that we're basically like, you know,

1265
01:02:34,400 --> 01:02:35,600
staying on topic.

1266
01:02:36,100 --> 01:02:37,500
You want to do off-topic chat, that's cool.

1267
01:02:37,500 --> 01:02:38,800
Just do it pre stream.

1268
01:02:38,800 --> 01:02:42,500
So come like 15 minutes before one of the scheduled start times and

1269
01:02:42,500 --> 01:02:43,800
that's when we do off-topic chat.

1270
01:03:13,100 --> 01:03:16,900
Is there an advantage of making the size of the low energy and high in

1271
01:03:16,900 --> 01:03:17,400
theories?

1272
01:03:17,400 --> 01:03:22,200
A power of 2, probably not, that was just me being a programmer and

1273
01:03:22,200 --> 01:03:23,700
oh, he's picking powers of 2.

1274
01:03:25,500 --> 01:03:27,600
We don't know what we'll do with these.

1275
01:03:28,300 --> 01:03:30,900
Like I don't know how big these will eventually be.

1276
01:03:32,100 --> 01:03:34,100
These will be based entirely on performance.

1277
01:03:34,300 --> 01:03:37,600
Will be seeing how many high-level entities we can support.

1278
01:03:37,700 --> 01:03:40,300
I'm guessing it probably actually be fairly High.

1279
01:03:41,400 --> 01:03:43,100
At the end of the day, but I don't know.

1280
01:03:43,100 --> 01:03:45,800
We might have a lot of complexity and how we do our simulations of

1281
01:03:45,800 --> 01:03:46,200
them.

1282
01:03:46,800 --> 01:03:48,900
So maybe maybe it really won't be that many.

1283
01:03:49,700 --> 01:03:52,100
Whereas the low entities will actually be quite huge.

1284
01:03:52,100 --> 01:03:52,700
Probably.

1285
01:03:53,900 --> 01:03:57,700
I'm imagining that low entities + like the properties.

1286
01:03:57,700 --> 01:04:00,100
Like how are we decide to store low enemies plus, their properties

1287
01:04:00,100 --> 01:04:03,700
will account for most of our game, memory is what I'm assuming.

1288
01:04:04,700 --> 01:04:05,400
So, yeah.

1289
01:04:22,600 --> 01:04:24,700
This is a third person game, right?

1290
01:04:24,700 --> 01:04:25,000
Yes.

1291
01:04:25,000 --> 01:04:26,300
It is a third-person game.

1292
01:04:33,400 --> 01:04:37,500
What process would you have gone through for creating a controls and

1293
01:04:37,500 --> 01:04:37,900
movement?

1294
01:04:37,900 --> 01:04:40,400
If This Were a 2d side-scrolling platformer?

1295
01:04:40,400 --> 01:04:41,500
No different.

1296
01:04:41,500 --> 01:04:41,600
Really?

1297
01:04:41,600 --> 01:04:44,400
We haven't done the controls yet though.

1298
01:04:44,400 --> 01:04:48,400
So you probably got to wait till we actually cover those.

1299
01:04:48,400 --> 01:04:53,700
Like right now we just have a stand and thing, right?

1300
01:04:53,700 --> 01:04:58,300
We've got like a stand-in thing that moves the guy around but that's

1301
01:04:58,300 --> 01:05:01,200
not really like what it's going to feel like because we got to do

1302
01:05:01,200 --> 01:05:03,300
animation first and integrate those two things together.

1303
01:05:03,400 --> 01:05:06,100
Other to see exactly how we want it to feel.

1304
01:05:07,300 --> 01:05:11,100
But yeah, we wouldn't really do all that much differently our

1305
01:05:11,100 --> 01:05:15,200
Collision detector, like basically right now gravity only happens when

1306
01:05:15,200 --> 01:05:17,600
this guy jumps whereas with a platform of gravity is more of a

1307
01:05:17,600 --> 01:05:19,300
concern, more of a going concern.

1308
01:05:19,300 --> 01:05:21,800
But otherwise, it's really mostly the same code.

1309
01:05:21,800 --> 01:05:22,900
Not that much of a difference.

1310
01:05:28,600 --> 01:05:31,100
Do you feel today will be re-written during optimization?

1311
01:05:31,400 --> 01:05:31,800
Yeah.

1312
01:05:31,800 --> 01:05:34,700
So again, all we're doing right now, is getting all of our stuff

1313
01:05:34,800 --> 01:05:37,900
arranged so that we know what our spec is, right?

1314
01:05:37,900 --> 01:05:41,200
It's basically so that we can see here is the layout of the code here,

1315
01:05:41,200 --> 01:05:45,200
are the apis to everything and then we can go to ok.

1316
01:05:45,200 --> 01:05:45,800
Now, let's go.

1317
01:05:45,800 --> 01:05:47,400
Write the final question.

1318
01:05:47,400 --> 01:05:49,400
Detector score at the final renderer.

1319
01:05:49,400 --> 01:05:53,300
Let's go write the final, you know, any system and they'll all be

1320
01:05:53,300 --> 01:05:57,600
based on exactly this work that we've done here in the first, you

1321
01:05:57,600 --> 01:05:58,100
know, two or three

1322
01:05:58,400 --> 01:05:58,700
Weeks.

1323
01:06:00,300 --> 01:06:04,200
Which is what we're doing here, is all about getting that out.

1324
01:06:04,200 --> 01:06:10,100
And so it's giving basically, you just need some substrate to start

1325
01:06:10,100 --> 01:06:13,400
working on those systems because without a substrate, you're working

1326
01:06:13,400 --> 01:06:18,300
on the systems in isolation and they will be bad and you'll have this

1327
01:06:18,400 --> 01:06:20,600
huge problem when you go to try and bring them together and you'll

1328
01:06:20,600 --> 01:06:22,100
realize they don't mesh well.

1329
01:06:22,400 --> 01:06:25,400
And so what you want to do is make a simple version that meshes well

1330
01:06:25,600 --> 01:06:29,800
and then start iterating on the system's themselves to get them up.

1331
01:06:30,000 --> 01:06:30,700
To where they need to be.

1332
01:06:40,500 --> 01:06:43,800
I don't know if it's been answered before, but did you consider large

1333
01:06:43,800 --> 01:06:45,800
fixed Point integers for both entity types?

1334
01:06:45,800 --> 01:06:49,700
Like, Tom Forsythe seems to prefer instead of having to swap between

1335
01:06:49,900 --> 01:06:51,900
floating point in the high-frequency entities.

1336
01:06:53,100 --> 01:06:53,800
So

1337
01:06:55,300 --> 01:06:59,600
I don't necessarily think there's, so here's the thing.

1338
01:07:01,600 --> 01:07:05,100
Being able to do everything in floating Point, has a lot of advantages

1339
01:07:05,400 --> 01:07:09,600
because really things are always set up for doing almost every

1340
01:07:09,600 --> 01:07:13,300
platform now has four wide floating-point, that's fast, right?

1341
01:07:14,500 --> 01:07:17,700
And it's usually faster than fixed point because fixed Point usually

1342
01:07:17,700 --> 01:07:20,400
takes two operations to do things that floating-point can do in one.

1343
01:07:21,600 --> 01:07:24,300
So I like to have everything work on floating point.

1344
01:07:26,500 --> 01:07:27,700
Locally around the camera.

1345
01:07:27,900 --> 01:07:29,100
That's the way I like to do things.

1346
01:07:30,700 --> 01:07:33,300
That's not to say that Tom is wrong about what he's doing.

1347
01:07:33,700 --> 01:07:34,800
He may be right?

1348
01:07:34,900 --> 01:07:36,800
That that's a good system for certain circumstances.

1349
01:07:36,800 --> 01:07:37,300
There's just this.

1350
01:07:37,300 --> 01:07:39,200
Not the way I like to structure the code.

1351
01:07:40,000 --> 01:07:42,000
So, the way I structure, the code that would be strictly slower.

1352
01:07:42,000 --> 01:07:45,300
If I did large fixed Point integers, but the way he structures his

1353
01:07:45,300 --> 01:07:45,900
code.

1354
01:07:46,000 --> 01:07:47,600
It might be the other way around.

1355
01:07:47,800 --> 01:07:48,400
Right?

1356
01:07:49,100 --> 01:07:51,700
So, what I like to do is, I like to have everything operating at float

1357
01:07:51,700 --> 01:07:53,600
in floating point at full speed.

1358
01:07:55,000 --> 01:07:58,800
For everything that you can see because you always can write.

1359
01:07:58,800 --> 01:08:04,800
And then the only time that I convert things out to integer to store

1360
01:08:04,800 --> 01:08:07,700
them, that's like the slow path.

1361
01:08:07,700 --> 01:08:09,700
And that's, you know, done separately.

1362
01:08:09,700 --> 01:08:10,600
And so you can already see.

1363
01:08:10,600 --> 01:08:13,900
We've gotten to the point where we've basically done that like, I've

1364
01:08:13,900 --> 01:08:15,100
already done that step.

1365
01:08:15,100 --> 01:08:18,700
So like the move player code that used to work in the other space is

1366
01:08:18,700 --> 01:08:22,300
now entirely done just all in float so we can optimize this really

1367
01:08:22,300 --> 01:08:22,500
well.

1368
01:08:22,500 --> 01:08:24,500
Now we'll be able to make our connection.

1369
01:08:24,700 --> 01:08:27,700
Entirely float based and then all we do is at the very end.

1370
01:08:27,700 --> 01:08:29,300
After all the computations are done.

1371
01:08:29,500 --> 01:08:33,399
We just map it back once and that's basically free, right?

1372
01:08:33,500 --> 01:08:36,100
So this way, I feel like it's kind of superior than trying to use

1373
01:08:36,100 --> 01:08:39,500
large fixed Point integers for actually doing computation because if

1374
01:08:39,500 --> 01:08:42,899
you do that, you can't go full speed in your main Loops, which I feel

1375
01:08:42,899 --> 01:08:46,300
like is not a good idea, but Tom may have different opinion about

1376
01:08:46,300 --> 01:08:46,500
that.

1377
01:08:46,500 --> 01:08:49,100
And so, you know, you should ask him about how he would structure

1378
01:08:49,100 --> 01:08:51,600
these sorts of things with with large fixed point.

1379
01:08:59,399 --> 01:08:59,800
Would it be?

1380
01:09:00,000 --> 01:09:02,800
Easier to keep a list of empty, empty slots to add them there.

1381
01:09:02,800 --> 01:09:05,300
Instead of always moving and changing and changing one of the

1382
01:09:05,300 --> 01:09:05,600
pointers.

1383
01:09:05,800 --> 01:09:06,200
I don't know.

1384
01:09:06,200 --> 01:09:11,700
Remember I said, I wasn't sure which one I would prefer and so, I just

1385
01:09:11,700 --> 01:09:12,200
did one of them.

1386
01:09:12,200 --> 01:09:13,200
I think it doesn't matter.

1387
01:09:13,500 --> 01:09:16,399
I think neither of them is better.

1388
01:09:16,500 --> 01:09:18,500
I think they're just the same.

1389
01:09:21,000 --> 01:09:23,600
The reason I chose this one in my head was just because it's less

1390
01:09:23,600 --> 01:09:26,500
complex because you don't have to.

1391
01:09:26,500 --> 01:09:30,800
Then have the concept that entities are marked as empty.

1392
01:09:31,100 --> 01:09:33,500
So when things are looping over them, they don't have to constantly

1393
01:09:33,500 --> 01:09:33,800
check.

1394
01:09:33,800 --> 01:09:36,800
Is there actually someone here or is there not some one here, right.

1395
01:09:37,500 --> 01:09:38,500
So that's why I did that.

1396
01:09:38,700 --> 01:09:41,399
It basically it keeps the complexity in the deletion code, which is

1397
01:09:41,399 --> 01:09:43,899
what's creating a complexity instead of spreading it out to all the

1398
01:09:43,899 --> 01:09:44,399
code.

1399
01:09:44,500 --> 01:09:46,700
So I felt like that was a better choice, but we'll see.

1400
01:09:52,300 --> 01:09:55,700
Are you familiar with slot maps for game object storage?

1401
01:09:55,700 --> 01:09:58,000
And do you think you'd use them for this project?

1402
01:09:58,000 --> 01:10:01,200
We use them for our engine, I might be, but I don't know.

1403
01:10:01,200 --> 01:10:02,800
The term slot Maps.

1404
01:10:02,900 --> 01:10:04,000
Can you describe it?

1405
01:10:05,500 --> 01:10:07,100
And then I can answer definitively.

1406
01:10:14,900 --> 01:10:16,100
So I'll have to give you a course.

1407
01:10:16,100 --> 01:10:18,600
I'll have to give you 20 seconds to answer because it's going to be a

1408
01:10:18,600 --> 01:10:22,500
delay of me.

1409
01:10:22,500 --> 01:10:26,300
Asking you to describe the slob maps and then you have to answer and

1410
01:10:26,300 --> 01:10:28,100
then I can see it on the twitch chat.

1411
01:10:52,000 --> 01:10:54,200
Somebody described the slot Maps.

1412
01:10:57,500 --> 01:10:59,300
Describe the slob Maps.

1413
01:11:03,200 --> 01:11:04,900
Nobody wants to scrap the slot Maps.

1414
01:11:05,700 --> 01:11:12,000
Well, unfortunately, I can't really say whether I think I would use

1415
01:11:12,000 --> 01:11:15,200
slot Maps if I'm not sure what you mean by slot Maps.

1416
01:11:16,900 --> 01:11:17,700
So, there's that.

1417
01:11:19,000 --> 01:11:19,900
Hello, Garland.

1418
01:11:19,900 --> 01:11:20,600
Oh, bloom.

1419
01:11:23,000 --> 01:11:24,900
Any thoughts on controls for h.h.

1420
01:11:25,000 --> 01:11:26,000
On controller list?

1421
01:11:26,000 --> 01:11:27,900
Touchscreen devices like tablets?

1422
01:11:29,300 --> 01:11:30,300
No, not really.

1423
01:11:30,300 --> 01:11:35,100
Because I don't like I've never had fun playing games made for

1424
01:11:35,100 --> 01:11:36,600
controllers on tablets.

1425
01:11:36,900 --> 01:11:38,900
So I'm a little bit like

1426
01:11:41,000 --> 01:11:46,900
I am weary of doing anything like that because I've never seen it

1427
01:11:46,900 --> 01:11:47,100
work.

1428
01:11:47,100 --> 01:11:49,500
Well, now, that doesn't mean after we're done with the game.

1429
01:11:49,500 --> 01:11:50,200
We couldn't go.

1430
01:11:50,200 --> 01:11:53,800
Hey, I guess the new product on handmade hero is to see if we can get

1431
01:11:53,800 --> 01:11:57,400
it on an iPad in a way that doesn't feel awful and maybe, you know,

1432
01:11:57,400 --> 01:11:58,400
maybe we could do that.

1433
01:12:00,400 --> 01:12:02,100
It certainly like a thing about my head.

1434
01:12:02,100 --> 01:12:04,500
I think it could be possible to do what I want to do at the game on a

1435
01:12:04,500 --> 01:12:05,400
tablet I guess.

1436
01:12:05,400 --> 01:12:07,800
But I don't really wanna think about that right now because I don't

1437
01:12:07,800 --> 01:12:08,700
play games on tablets.

1438
01:12:08,700 --> 01:12:12,600
So it's kind of an afterthought for me, but it's not to say that it

1439
01:12:12,600 --> 01:12:13,800
would be something fun to do later.

1440
01:12:13,800 --> 01:12:14,600
So maybe we'll do it.

1441
01:12:14,600 --> 01:12:16,400
I could get an Android tablet in here or something.

1442
01:12:18,200 --> 01:12:18,600
so,

1443
01:12:27,700 --> 01:12:30,200
Pseudonyms Timothy says, I think a slot map is just an implementation

1444
01:12:30,200 --> 01:12:32,800
of handles W indirect reference through a table.

1445
01:12:34,100 --> 01:12:36,300
So I don't know if we'll ever have to do that.

1446
01:12:36,700 --> 01:12:38,700
I suspect we probably won't need to do that.

1447
01:12:38,800 --> 01:12:42,800
Obviously, you want to avoid that if you can, because doubly indirect

1448
01:12:42,800 --> 01:12:45,400
references are slower than direct references.

1449
01:12:45,400 --> 01:12:48,600
So unless we had a really good reason why we need to W directory,

1450
01:12:48,600 --> 01:12:49,300
wouldn't

1451
01:12:52,100 --> 01:12:55,000
but, you know, if we need to, we need to

1452
01:12:57,400 --> 01:12:59,400
Will hear me here always be 20 scale feet.

1453
01:12:59,400 --> 01:13:01,000
Tall know eventually.

1454
01:13:01,000 --> 01:13:04,000
He will be scaled properly, but we don't really have any need to at

1455
01:13:04,000 --> 01:13:04,700
the moment.

1456
01:13:07,100 --> 01:13:08,800
What am I drinking water right now?

1457
01:13:17,000 --> 01:13:20,000
What I call a slap map is an array that can have arbitrary empty slots

1458
01:13:20,000 --> 01:13:22,600
and each slot has a virgin number for self-validation.

1459
01:13:23,100 --> 01:13:26,600
Yeah, I'm it doesn't seem like something we would necessarily need but

1460
01:13:26,600 --> 01:13:30,000
we might for transient entity stuff.

1461
01:13:30,000 --> 01:13:33,900
So we'll see if we could we might have something like that, but I

1462
01:13:33,900 --> 01:13:34,400
don't know.

1463
01:13:47,600 --> 01:13:50,200
Yes, it's a weird to call that thing a slot map.

1464
01:13:50,200 --> 01:13:51,800
It just sounds like a handle.

1465
01:13:53,200 --> 01:13:54,400
I mean, it's just it's just a.

1466
01:13:54,500 --> 01:13:57,200
Yeah, it's like, it's like the old Macintosh operating system, right?

1467
01:13:57,200 --> 01:13:58,900
It's like everything is a pointer to a pointer.

1468
01:13:59,200 --> 01:14:01,100
I'm not sure why you called a slot map.

1469
01:14:01,500 --> 01:14:04,000
But yeah, like I said, that's just that's just, like technique.

1470
01:14:04,000 --> 01:14:07,200
That's like, you know, will we be using linked lists possibly.

1471
01:14:07,300 --> 01:14:09,100
It depends if we need a linked list, right?

1472
01:14:09,100 --> 01:14:11,100
And so, yeah, we'll use a slot map.

1473
01:14:11,100 --> 01:14:14,200
If we end up in a situation where that's called for.

1474
01:14:14,700 --> 01:14:17,500
I wouldn't really consider that a major design decision though.

1475
01:14:17,500 --> 01:14:18,400
That's just a tool.

1476
01:14:18,400 --> 01:14:20,500
Like that's like, a hash table.

1477
01:14:20,500 --> 01:14:21,400
Sometimes you use it.

1478
01:14:21,400 --> 01:14:22,800
If the thing,

1479
01:14:23,000 --> 01:14:24,300
Also, our hash table, right?

1480
01:14:25,700 --> 01:14:26,200
So I don't know.

1481
01:14:26,300 --> 01:14:28,200
So we might have something like that in there somewhere, but I

1482
01:14:28,200 --> 01:14:30,900
wouldn't say it would be like a major feature anything or it's just a

1483
01:14:30,900 --> 01:14:32,400
little thing, you do.

1484
01:14:41,500 --> 01:14:42,500
All right.

1485
01:14:44,700 --> 01:14:46,000
Have we concluded?

1486
01:14:46,600 --> 01:14:48,400
I see no more questions.

1487
01:14:50,700 --> 01:14:52,600
I see no more questions.

1488
01:14:55,600 --> 01:14:59,800
I'll check for another few seconds to see if there is another.

1489
01:15:00,000 --> 01:15:00,500
Estrogen.

1490
01:15:05,000 --> 01:15:06,900
Know anyone?

1491
01:15:20,600 --> 01:15:21,200
All right.

1492
01:15:21,600 --> 01:15:22,900
So I think we are done.

1493
01:15:23,400 --> 01:15:25,100
The stream has concluded.

1494
01:15:25,700 --> 01:15:26,900
So we will call it.

1495
01:15:27,100 --> 01:15:30,700
We are almost at the point where I'm happy with the Highlight any

1496
01:15:30,700 --> 01:15:31,200
stuff.

1497
01:15:31,600 --> 01:15:33,700
But like I said, I want to do one more pass.

1498
01:15:34,400 --> 01:15:35,400
So tomorrow morning.

1499
01:15:35,400 --> 01:15:38,000
We will kind of go through and bolt a little bit more of this down.

1500
01:15:38,200 --> 01:15:44,800
And I'll probably like move like, I'll probably start moving things

1501
01:15:44,800 --> 01:15:46,000
off into a separate file.

1502
01:15:46,000 --> 01:15:49,900
Now that I kind of have like, what I expect from The Entity stuff.

1503
01:15:51,100 --> 01:15:51,900
You know, happening.

1504
01:15:51,900 --> 01:15:54,900
I'll kind of calves that off because it's starting to actually become

1505
01:15:55,000 --> 01:15:56,200
something in its own, right?

1506
01:15:56,600 --> 01:15:59,700
So that's what we'll do tomorrow morning since today is Thursday.

1507
01:15:59,700 --> 01:16:01,100
If I'm not very much an error.

1508
01:16:01,400 --> 01:16:03,200
It is in fact, the time flies.

1509
01:16:03,500 --> 01:16:05,300
So tomorrow 9 a.m.

1510
01:16:05,300 --> 01:16:08,800
Bright and early, it will be breakfast programming with Casey.

1511
01:16:09,200 --> 01:16:10,800
I may even have my breakfast with me.

1512
01:16:10,800 --> 01:16:11,100
I don't know.

1513
01:16:11,100 --> 01:16:14,200
I'm not maybe not, it's not I'm not going to promise something like

1514
01:16:14,200 --> 01:16:14,600
that.

1515
01:16:14,600 --> 01:16:16,300
I don't know if I'm gonna have my breakfast with, maybe I will, maybe

1516
01:16:16,300 --> 01:16:18,000
I won't write who's to say?

1517
01:16:19,000 --> 01:16:19,800
The point being.

1518
01:16:20,300 --> 01:16:23,300
Yes, of course, I want to stop debugging but point being, I would love

1519
01:16:23,300 --> 01:16:25,000
to see her tomorrow if you're so inclined.

1520
01:16:25,000 --> 01:16:27,700
For another day of programming here on Twitch, Don a.m.

1521
01:16:27,700 --> 01:16:31,800
Tomorrow morning, when we all sort of tidy up our entity situation and

1522
01:16:31,800 --> 01:16:33,400
then I don't know, we're moving on to next.

1523
01:16:33,400 --> 01:16:33,600
I guess.

1524
01:16:33,600 --> 01:16:35,900
The thing that we're moving on to next is I think I'm going to add

1525
01:16:35,900 --> 01:16:38,000
some entities and add some hit points and stuff like that.

1526
01:16:38,000 --> 01:16:40,200
So I can start to maybe balloon that out a little bit.

1527
01:16:43,200 --> 01:16:47,100
I don't know really hard to say or we could move on to animation and

1528
01:16:47,100 --> 01:16:48,900
save the rest of the stuff for a little bit later.

1529
01:16:49,100 --> 01:16:50,700
We also got to do 3D.

1530
01:16:52,300 --> 01:16:53,800
It's all some.

1531
01:16:53,800 --> 01:16:58,400
Yeah, so many things, so many good stuff, so many good things on the

1532
01:16:58,400 --> 01:16:58,800
horizon.

1533
01:16:58,800 --> 01:17:00,800
So, anyway, I hope you don't admire for the end of the Energy System

1534
01:17:00,800 --> 01:17:01,000
stuff.

1535
01:17:01,000 --> 01:17:04,500
If not, then I will see you back here on Monday 8:00 p.m.

1536
01:17:04,500 --> 01:17:07,200
60 times standard standard schedule on Monday.

1537
01:17:08,400 --> 01:17:09,100
Either way.

1538
01:17:09,300 --> 01:17:13,100
It has been a pleasure coding with you as always, if you would like to

1539
01:17:13,100 --> 01:17:14,500
follow along home to source code.

1540
01:17:14,600 --> 01:17:18,400
If you preorder the handmade Hero game on hand, me here at org.

1541
01:17:18,400 --> 01:17:21,700
You will get a copy of the source code and you'll get a link that you

1542
01:17:21,700 --> 01:17:22,000
can use.

1543
01:17:22,200 --> 01:17:25,100
Download the source code every night as well as the test assets that

1544
01:17:25,100 --> 01:17:26,100
we've been using here on the stream.

1545
01:17:26,100 --> 01:17:27,000
Those all come with it.

1546
01:17:27,900 --> 01:17:28,500
So check that out.

1547
01:17:28,500 --> 01:17:30,100
If you're interested in following along.

1548
01:17:30,300 --> 01:17:31,200
We also have a patreon.

1549
01:17:31,200 --> 01:17:34,200
You subscribe to if you want to support the video series and we have a

1550
01:17:34,200 --> 01:17:37,400
news inform site to check out if you're trying to follow along and

1551
01:17:37,400 --> 01:17:38,100
learn from the series.

1552
01:17:38,100 --> 01:17:38,800
It's a good thing.

1553
01:17:38,800 --> 01:17:40,000
It's got the schedule on there.

1554
01:17:40,000 --> 01:17:41,900
It's got an episode guide with past episodes.

1555
01:17:41,900 --> 01:17:46,100
You can go to to kind of catch up or review old material.

1556
01:17:46,600 --> 01:17:49,300
It's got coding resources, where people have ported the game to other

1557
01:17:49,300 --> 01:17:50,500
platforms and stuff like that.

1558
01:17:50,500 --> 01:17:51,000
It's kind of cool.

1559
01:17:51,000 --> 01:17:52,000
Check that out.

1560
01:17:52,100 --> 01:17:55,200
If you try and follow along or Mac on Mac or Linux, it's really really

1561
01:17:55,200 --> 01:17:57,800
handy because people have already done ports that you can look at and

1562
01:17:57,800 --> 01:17:59,900
we have a coating discussion board where you can post questions.

1563
01:18:00,000 --> 01:18:01,200
As an I asked questions on there.

1564
01:18:01,200 --> 01:18:03,700
So to other people, it's pretty cool place or just want to talk about

1565
01:18:03,700 --> 01:18:04,000
the series.

1566
01:18:04,000 --> 01:18:04,800
That's the place to go.

1567
01:18:05,600 --> 01:18:09,300
So, that'd be irate the and check out if you're trying to learn from

1568
01:18:09,300 --> 01:18:09,800
the series.

1569
01:18:10,600 --> 01:18:10,800
Hope.

1570
01:18:10,800 --> 01:18:12,600
See you all here again tomorrow, 9 a.m.

1571
01:18:13,700 --> 01:18:15,900
Again, and if not, I'll see you Monday at 8:00.

1572
01:18:15,900 --> 01:18:16,600
Either way.

1573
01:18:17,800 --> 01:18:22,000
Thanks for showing up and hope to see you back here is real real soon.

1574
01:18:23,500 --> 01:18:25,200
Yeah, I guess that's it at nine twenty.

1575
01:18:25,200 --> 01:18:26,000
Ten minutes early.

1576
01:18:26,000 --> 01:18:26,900
Good night, everyone.

