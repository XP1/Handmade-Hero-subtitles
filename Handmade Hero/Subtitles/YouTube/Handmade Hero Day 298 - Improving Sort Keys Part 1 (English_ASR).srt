1
00:00:00,000 --> 00:00:05,309
start recording hello everyone and

2
00:00:03,089 --> 00:00:09,689
welcome to handmade hero the show recode

3
00:00:05,309 --> 00:00:12,899
a complete game live on stream we did

4
00:00:09,689 --> 00:00:15,689
well I guess we did much of the work

5
00:00:12,900 --> 00:00:18,960
yesterday but not quite all of the work

6
00:00:15,689 --> 00:00:22,890
necessary to start having the concept of

7
00:00:18,960 --> 00:00:25,199
separate layers for our rendering in

8
00:00:22,890 --> 00:00:27,210
terms of Z so that we actually have

9
00:00:25,199 --> 00:00:31,520
specific layers of graphics that operate

10
00:00:27,210 --> 00:00:34,350
in Z and then we've got sort of a a

11
00:00:31,519 --> 00:00:37,829
separate Z that's used inside those

12
00:00:34,350 --> 00:00:42,359
layers to do y displacement and this is

13
00:00:37,829 --> 00:00:45,989
relatively important for a number of

14
00:00:42,359 --> 00:00:49,289
reasons because do the 2.5 d nature of

15
00:00:45,988 --> 00:00:50,609
this game or maybe i don't know if you

16
00:00:49,289 --> 00:00:53,640
would i don't know what you would call

17
00:00:50,609 --> 00:00:55,619
it the 2.2 d we're basically a 2-d game

18
00:00:53,640 --> 00:00:57,270
but we do have this concept that rooms

19
00:00:55,619 --> 00:01:01,320
can be stacked on top of other rooms and

20
00:00:57,270 --> 00:01:04,170
you can see those other rooms by looking

21
00:01:01,320 --> 00:01:08,010
through holes in the floor or otherwise

22
00:01:04,170 --> 00:01:09,599
so given that fact the question is you

23
00:01:08,010 --> 00:01:11,310
know how do we present this in a

24
00:01:09,599 --> 00:01:13,739
reasonable way to the to the viewer and

25
00:01:11,310 --> 00:01:16,079
what we found on handmade hero is we

26
00:01:13,739 --> 00:01:18,239
kind of wanted there to be a Z which is

27
00:01:16,079 --> 00:01:19,978
just y base so it just kind of moves

28
00:01:18,239 --> 00:01:23,879
things higher or lower on the screen

29
00:01:19,978 --> 00:01:27,900
based on Z for kind of a standard

30
00:01:23,879 --> 00:01:31,078
orthographic z feel but then having a

31
00:01:27,900 --> 00:01:33,210
sort of scaling effect was very nice for

32
00:01:31,078 --> 00:01:36,089
rooms above other rooms or rooms below

33
00:01:33,209 --> 00:01:39,780
other rooms to kind of give that nice

34
00:01:36,090 --> 00:01:41,820
feeling of depth and so we wanted both

35
00:01:39,780 --> 00:01:44,070
of those and that means that we have to

36
00:01:41,819 --> 00:01:47,578
have this notion that there are sort of

37
00:01:44,069 --> 00:01:50,699
two kinds of Z values one that creates

38
00:01:47,578 --> 00:01:53,849
that scaling effect and one that just is

39
00:01:50,700 --> 00:01:56,759
a y displacement and so we never really

40
00:01:53,849 --> 00:01:59,819
got that nailed down and so here in our

41
00:01:56,759 --> 00:02:02,700
sort of waning time when we're winding

42
00:01:59,819 --> 00:02:04,798
down sort of engineers and transitioning

43
00:02:02,700 --> 00:02:06,750
into gaming things it's important for

44
00:02:04,799 --> 00:02:08,368
this I think to be nailed down so we did

45
00:02:06,750 --> 00:02:09,840
some of that and today we need to kind

46
00:02:08,368 --> 00:02:11,340
of finalize some of those decisions or

47
00:02:09,840 --> 00:02:13,890
at least try to get as far as we can

48
00:02:11,340 --> 00:02:19,520
towards finalizing how we

49
00:02:13,889 --> 00:02:23,219
Phi Z down to the rendering system

50
00:02:19,520 --> 00:02:26,580
alright so today in case you missed it

51
00:02:23,219 --> 00:02:29,129
is day 2 98 so if you want to follow

52
00:02:26,580 --> 00:02:31,140
along at home unpack day 297 source code

53
00:02:29,129 --> 00:02:34,590
into a directory somewhere and that's

54
00:02:31,139 --> 00:02:37,500
when i'm starting with at the moment as

55
00:02:34,590 --> 00:02:40,860
they say they don't probably actually

56
00:02:37,500 --> 00:02:42,870
say that all right so let's see where we

57
00:02:40,860 --> 00:02:46,380
were at at the end of yesterday's stream

58
00:02:42,870 --> 00:02:49,830
in case you don't remember where we left

59
00:02:46,379 --> 00:02:52,500
off what we did is we actually put in

60
00:02:49,830 --> 00:02:55,230
all the code for doing those slices and

61
00:02:52,500 --> 00:02:57,150
we just haven't actually worked with the

62
00:02:55,229 --> 00:02:58,768
Z yet and so what's happening right now

63
00:02:57,150 --> 00:03:00,689
and what's kind of very confusing

64
00:02:58,769 --> 00:03:03,560
actually and you can sort of see this

65
00:03:00,689 --> 00:03:07,919
happening directly here if you'll notice

66
00:03:03,560 --> 00:03:09,539
we only put one Mon star and one snake

67
00:03:07,919 --> 00:03:12,569
in each room that's what the startup

68
00:03:09,539 --> 00:03:15,179
code was programmed to do and yet you

69
00:03:12,569 --> 00:03:16,919
see two snakes and two Monstars as well

70
00:03:15,180 --> 00:03:18,840
as a weird split stairwell so what's

71
00:03:16,919 --> 00:03:20,189
going on here well what's going on here

72
00:03:18,840 --> 00:03:22,590
is at the end of yesterday stream we had

73
00:03:20,189 --> 00:03:27,500
just finished the code which splits

74
00:03:22,590 --> 00:03:30,599
tiles into layers and then assigns those

75
00:03:27,500 --> 00:03:32,639
those are strings with style splits

76
00:03:30,599 --> 00:03:35,159
entities into layers and then assigns

77
00:03:32,639 --> 00:03:36,719
them their Z within that layer as the Z

78
00:03:35,159 --> 00:03:39,569
they send to the render and what you can

79
00:03:36,719 --> 00:03:43,919
see happening right now is exactly that

80
00:03:39,569 --> 00:03:45,419
sort of flattening down to a single

81
00:03:43,919 --> 00:03:47,879
layer that's happening because of that

82
00:03:45,419 --> 00:03:51,599
since we have nowhere to put the layer

83
00:03:47,879 --> 00:03:52,739
part of the Z that we extracted right so

84
00:03:51,599 --> 00:03:56,069
what you're actually looking at right

85
00:03:52,739 --> 00:03:57,750
here is the first floor of the game that

86
00:03:56,069 --> 00:03:59,310
our little test generator generated and

87
00:03:57,750 --> 00:04:01,709
the second floor that's stacked on top

88
00:03:59,310 --> 00:04:05,150
of it both drawn on top of each other in

89
00:04:01,709 --> 00:04:08,489
the same place hence two snakes and two

90
00:04:05,150 --> 00:04:12,359
monsters right you can also see that the

91
00:04:08,489 --> 00:04:14,730
snake and the Monstar one of the sets of

92
00:04:12,359 --> 00:04:16,280
those is highlighting the tiles and the

93
00:04:14,729 --> 00:04:19,589
other isn't and that's because those

94
00:04:16,279 --> 00:04:23,699
tiles that the other snake in monster on

95
00:04:19,589 --> 00:04:25,228
are being drawn underneath right this

96
00:04:23,699 --> 00:04:27,089
set of tiles they're right on top of

97
00:04:25,228 --> 00:04:28,199
each other but underneath you know as a

98
00:04:27,089 --> 00:04:31,469
different layers because someone's going

99
00:04:28,199 --> 00:04:32,850
to win that fight right and so the ones

100
00:04:31,470 --> 00:04:34,500
that they're stepping on are getting

101
00:04:32,850 --> 00:04:35,639
highlighted underneath but you can't see

102
00:04:34,500 --> 00:04:37,740
them because they're going to cover it

103
00:04:35,639 --> 00:04:39,120
up immediately right so that's what

104
00:04:37,740 --> 00:04:43,168
you're seeing you're seeing that's that

105
00:04:39,120 --> 00:04:45,569
kind of smoosh so our job today is to

106
00:04:43,168 --> 00:04:47,430
sort of continue forward with this and

107
00:04:45,569 --> 00:04:49,589
start actually doing those assignments

108
00:04:47,430 --> 00:04:51,660
and clean up the renderer path so that

109
00:04:49,589 --> 00:04:54,179
it understands the difference between

110
00:04:51,660 --> 00:04:57,720
layers e which will be something

111
00:04:54,180 --> 00:04:59,400
specified separately and a the regular Z

112
00:04:57,720 --> 00:05:01,110
value which will always be used for y

113
00:04:59,399 --> 00:05:04,609
displacement and which isn't getting

114
00:05:01,110 --> 00:05:04,610
used for y displacement at the moment

115
00:05:05,509 --> 00:05:12,629
and again this is of course trickier

116
00:05:11,009 --> 00:05:18,149
than you might think because it is

117
00:05:12,629 --> 00:05:20,069
inherently a non-systemic concept you

118
00:05:18,149 --> 00:05:21,929
know I'm a 3d graphics programmer if I'm

119
00:05:20,069 --> 00:05:23,819
a graphics programmer at all and so I'm

120
00:05:21,930 --> 00:05:25,590
very used to deliver things in 3d it's

121
00:05:23,819 --> 00:05:27,899
always a little bit challenging to then

122
00:05:25,589 --> 00:05:30,839
go down to 2d because we're faced with

123
00:05:27,899 --> 00:05:32,909
all these weird decisions and weird kind

124
00:05:30,839 --> 00:05:34,259
of pipeline cases of instead of

125
00:05:32,910 --> 00:05:36,060
everything just being handled in the

126
00:05:34,259 --> 00:05:37,259
uniform 3d environment we've kind of got

127
00:05:36,060 --> 00:05:39,180
this weird thing it's like oh well we

128
00:05:37,259 --> 00:05:41,418
want Z to mean this sometimes in this

129
00:05:39,180 --> 00:05:44,400
some other times so it's kind of this

130
00:05:41,418 --> 00:05:46,409
gradual winnowing process of trying to

131
00:05:44,399 --> 00:05:48,269
get things to flow down the pipeline in

132
00:05:46,410 --> 00:05:51,180
a way that preserves the information

133
00:05:48,269 --> 00:05:52,889
that is necessary while not saving more

134
00:05:51,180 --> 00:05:55,829
information that is necessary and blah

135
00:05:52,889 --> 00:05:57,569
blah blah blah blah so let's go ahead

136
00:05:55,829 --> 00:05:59,189
and start taking a look at that like I

137
00:05:57,569 --> 00:06:01,019
said it is a little more challenging

138
00:05:59,189 --> 00:06:03,660
than you might think simply because we

139
00:06:01,019 --> 00:06:05,189
can't just go to an established math

140
00:06:03,660 --> 00:06:07,530
book or an established standard and go

141
00:06:05,189 --> 00:06:10,848
here is how we represent these things we

142
00:06:07,529 --> 00:06:13,199
have to make it up as we go along for

143
00:06:10,848 --> 00:06:15,120
and get something that will be

144
00:06:13,199 --> 00:06:17,519
appropriate for our game in our

145
00:06:15,120 --> 00:06:19,829
circumstance so I'm going to go ahead

146
00:06:17,519 --> 00:06:24,089
and go to the handmade render group here

147
00:06:19,829 --> 00:06:25,529
and you can see as I look at this we can

148
00:06:24,089 --> 00:06:28,439
kind of take a look at what's happening

149
00:06:25,529 --> 00:06:29,969
in the current Z state we know that we

150
00:06:28,439 --> 00:06:32,430
set up perspective or orthographic

151
00:06:29,970 --> 00:06:34,680
transforms we know that we call get

152
00:06:32,430 --> 00:06:37,259
render entity basis p and that is what

153
00:06:34,680 --> 00:06:38,668
does RZ work here and you can see

154
00:06:37,259 --> 00:06:39,620
already there's some shenanigans

155
00:06:38,668 --> 00:06:41,870
happening in

156
00:06:39,620 --> 00:06:44,360
here right where we've got our x and y

157
00:06:41,870 --> 00:06:47,990
and those are kind of coming through in

158
00:06:44,360 --> 00:06:50,270
a specific way that that the Z does not

159
00:06:47,990 --> 00:06:53,360
right and you can see that the offset p

160
00:06:50,269 --> 00:06:54,799
which is a separate thing does get added

161
00:06:53,360 --> 00:06:57,229
in there from the auto transform in a

162
00:06:54,800 --> 00:06:58,819
way that does preserve the Z and then

163
00:06:57,228 --> 00:07:02,089
the pee comes through in a particular

164
00:06:58,819 --> 00:07:04,099
way blah blah blah blah blah right so

165
00:07:02,089 --> 00:07:07,969
you can definitely see that there's a

166
00:07:04,100 --> 00:07:09,650
lot of janky pneus to this transform

167
00:07:07,970 --> 00:07:11,720
right there's a lot of like kind of

168
00:07:09,649 --> 00:07:13,339
special purposes to transform and so our

169
00:07:11,720 --> 00:07:14,930
job here is just to try and streamline

170
00:07:13,339 --> 00:07:18,079
this as much as possible and try to make

171
00:07:14,930 --> 00:07:21,439
it coherent what is going to go on with

172
00:07:18,079 --> 00:07:23,839
Z here and as you can see from you know

173
00:07:21,439 --> 00:07:27,469
this this a straight line through the

174
00:07:23,839 --> 00:07:31,638
code know where do we actually put Z

175
00:07:27,470 --> 00:07:34,580
into X or Y what we do instead is use a

176
00:07:31,639 --> 00:07:37,668
regular perspective modification to

177
00:07:34,579 --> 00:07:40,939
actually just do the correct XY

178
00:07:37,668 --> 00:07:44,060
displacement so we never have a manual

179
00:07:40,939 --> 00:07:46,219
assignment of Z to X or Y even though

180
00:07:44,060 --> 00:07:50,259
what we want to do now is have a manual

181
00:07:46,220 --> 00:08:00,919
transfer of the Z of something to be

182
00:07:50,259 --> 00:08:03,409
inserted in that gym name we want sort

183
00:08:00,918 --> 00:08:06,579
of that that XYZ we want to make sure

184
00:08:03,410 --> 00:08:12,550
that that works the way we would expect

185
00:08:06,579 --> 00:08:16,848
now we do have won overwhelmingly I

186
00:08:12,550 --> 00:08:18,319
guess one overriding concern and

187
00:08:16,848 --> 00:08:19,668
something that I'm not exactly sure how

188
00:08:18,319 --> 00:08:21,469
we're going to handle it's the one part

189
00:08:19,668 --> 00:08:25,728
that's kind of a little bit like now I'm

190
00:08:21,470 --> 00:08:27,979
not sure to do with this right and that

191
00:08:25,728 --> 00:08:30,978
is the one time we actually care about

192
00:08:27,978 --> 00:08:35,059
the difference between these two ways of

193
00:08:30,978 --> 00:08:37,009
handling z &amp; 2 I guess put a sort of

194
00:08:35,059 --> 00:08:40,538
phrase on it it's it's the you know the

195
00:08:37,009 --> 00:08:40,538
changeover point

196
00:08:42,909 --> 00:08:50,559
so what you can sort of if you can

197
00:08:46,399 --> 00:08:55,699
envision it right we have a situation

198
00:08:50,559 --> 00:08:58,489
where we've got you know a we've we've

199
00:08:55,700 --> 00:09:02,530
got slices in the game that want to be

200
00:08:58,490 --> 00:09:05,000
doing they're sort of 3d transform and

201
00:09:02,529 --> 00:09:07,129
we've got these situations where I can

202
00:09:05,000 --> 00:09:08,779
like have a floor and I can see down to

203
00:09:07,129 --> 00:09:12,679
potentially something on the lower floor

204
00:09:08,779 --> 00:09:16,159
right now I'm assuming that what we want

205
00:09:12,679 --> 00:09:18,409
to do is to try and enable stuff like

206
00:09:16,159 --> 00:09:20,990
somebody who might hop from one thing

207
00:09:18,409 --> 00:09:24,319
down to another one we want to make that

208
00:09:20,990 --> 00:09:27,139
be something that is you know possible

209
00:09:24,320 --> 00:09:29,330
or plausible right and we need some way

210
00:09:27,139 --> 00:09:33,919
of drawing it and the problem that we

211
00:09:29,330 --> 00:09:37,910
have is that if down in here you've got

212
00:09:33,919 --> 00:09:41,809
this situation where things on the lower

213
00:09:37,909 --> 00:09:43,879
level are scaled differently right then

214
00:09:41,809 --> 00:09:46,250
things on the upper level at some point

215
00:09:43,879 --> 00:09:50,929
we need to linearly interpolate between

216
00:09:46,250 --> 00:09:53,299
those two scalings right and because if

217
00:09:50,929 --> 00:09:54,620
we don't it'll just pop right as the

218
00:09:53,299 --> 00:09:56,779
thing jumps it'll go from being that

219
00:09:54,620 --> 00:09:58,730
size to being that size instantaneously

220
00:09:56,779 --> 00:10:02,629
whereas what we would much rather it do

221
00:09:58,730 --> 00:10:04,310
is to scale down more gradually or at

222
00:10:02,629 --> 00:10:06,700
least it has some kind of smoothing

223
00:10:04,309 --> 00:10:10,549
period that would make it less jarring

224
00:10:06,700 --> 00:10:12,350
now if you remember what we're sort of

225
00:10:10,549 --> 00:10:15,740
saying if we look at this from the side

226
00:10:12,350 --> 00:10:18,050
right so I'm going to tilt these like

227
00:10:15,740 --> 00:10:23,919
this so we can kind of see both of them

228
00:10:18,049 --> 00:10:27,949
in in a prospective II kind of way right

229
00:10:23,919 --> 00:10:31,339
so if I've got an object like this and

230
00:10:27,950 --> 00:10:34,460
it's going to pass through here then

231
00:10:31,340 --> 00:10:37,370
what I'm saying is that somewhere in

232
00:10:34,460 --> 00:10:40,790
between these regions scaling must occur

233
00:10:37,370 --> 00:10:43,399
right for this thing to get smaller if

234
00:10:40,789 --> 00:10:46,699
it happens to be drawn this size down

235
00:10:43,399 --> 00:10:47,689
here and this size up here right so

236
00:10:46,700 --> 00:10:49,339
there's got to be some kind of a

237
00:10:47,690 --> 00:10:51,860
transition region below the floor I

238
00:10:49,339 --> 00:10:53,660
guess or something like that that is

239
00:10:51,860 --> 00:10:54,649
where that scaling occurs now

240
00:10:53,659 --> 00:10:56,600
furthermore

241
00:10:54,649 --> 00:10:58,789
has to be some area where the scaling

242
00:10:56,600 --> 00:11:01,509
wouldn't occur and the reason that that

243
00:10:58,789 --> 00:11:06,318
has to be true is because if we want

244
00:11:01,509 --> 00:11:08,089
displacement by z2 just yield a y

245
00:11:06,318 --> 00:11:10,399
displacement then what we're going to

246
00:11:08,089 --> 00:11:12,679
see on the screen if something is

247
00:11:10,399 --> 00:11:14,958
supposed to be floating upwards and then

248
00:11:12,678 --> 00:11:16,249
downwards again is just a little bit of

249
00:11:14,958 --> 00:11:18,049
an upward motion and then a little bit

250
00:11:16,249 --> 00:11:20,899
of a downward motion and it's not going

251
00:11:18,049 --> 00:11:28,039
to change scale right it's not going to

252
00:11:20,899 --> 00:11:31,220
get bigger or smaller so that is the

253
00:11:28,039 --> 00:11:34,009
problem that we're facing and I suspect

254
00:11:31,220 --> 00:11:35,329
although i do not know that the most

255
00:11:34,009 --> 00:11:37,519
straightforward way to handle it would

256
00:11:35,328 --> 00:11:40,729
be to do almost exactly what I have

257
00:11:37,519 --> 00:11:42,409
drawn here and really don't try to be

258
00:11:40,730 --> 00:11:45,649
any fancier and see if that's enough

259
00:11:42,409 --> 00:11:47,629
right and that is to say that there is

260
00:11:45,649 --> 00:11:49,188
going to be a certain definition of what

261
00:11:47,629 --> 00:11:50,990
the floor height is right now we've got

262
00:11:49,188 --> 00:11:53,058
a parameter called typical floor height

263
00:11:50,990 --> 00:11:54,829
and will probably change that to just be

264
00:11:53,058 --> 00:11:58,969
called floor height because that's how

265
00:11:54,828 --> 00:12:01,519
big one sort of slice is and what we

266
00:11:58,970 --> 00:12:04,399
will do is we'll take the top part of

267
00:12:01,519 --> 00:12:07,100
this and we'll assign this this top part

268
00:12:04,399 --> 00:12:09,139
to be the scaling region and then we'll

269
00:12:07,100 --> 00:12:12,019
assign this this part here instead of

270
00:12:09,139 --> 00:12:16,850
this instead of this being scaling will

271
00:12:12,019 --> 00:12:20,778
assign this here to be the the

272
00:12:16,850 --> 00:12:23,808
displacement region and so when we look

273
00:12:20,778 --> 00:12:25,698
at a Z we know that if it's in here it's

274
00:12:23,808 --> 00:12:30,649
going to have its scaling interpolated

275
00:12:25,698 --> 00:12:33,349
right and its position so in this region

276
00:12:30,649 --> 00:12:35,778
it's actually changing its Z right and

277
00:12:33,350 --> 00:12:39,558
in this region it's not another way to

278
00:12:35,778 --> 00:12:43,159
look at this right would be to say that

279
00:12:39,558 --> 00:12:46,519
there is a you know there is the actual

280
00:12:43,159 --> 00:12:50,178
world space Z transition between these

281
00:12:46,519 --> 00:12:53,869
two things this is the full floor height

282
00:12:50,178 --> 00:12:56,600
and if we were to just pump Z through

283
00:12:53,869 --> 00:12:57,829
normally we would get that full sizing

284
00:12:56,600 --> 00:12:59,178
and displacement that we were getting

285
00:12:57,828 --> 00:13:01,909
before that we said we need to get rid

286
00:12:59,178 --> 00:13:04,909
of inside a single floor what we

287
00:13:01,909 --> 00:13:07,879
effectively want to do is map this

288
00:13:04,909 --> 00:13:08,509
entire height of Z displacement into a

289
00:13:07,879 --> 00:13:13,639
much

290
00:13:08,509 --> 00:13:16,789
mahler region right so that what we will

291
00:13:13,639 --> 00:13:21,500
do is will hand the renderer Z values

292
00:13:16,789 --> 00:13:25,669
for scaling and and XY sort of standards

293
00:13:21,500 --> 00:13:28,549
each changes will hand it a much wider

294
00:13:25,669 --> 00:13:30,289
varying Z then it would be normally

295
00:13:28,549 --> 00:13:33,109
warranted in this area and then we'll

296
00:13:30,289 --> 00:13:35,659
lock the Z and not very it in here and

297
00:13:33,110 --> 00:13:40,360
instead use some kind of Y displacement

298
00:13:35,659 --> 00:13:43,429
there right so that's what we want to do

299
00:13:40,360 --> 00:13:45,110
and like I said it's it's a little

300
00:13:43,429 --> 00:13:47,029
tricky to get right and we have to make

301
00:13:45,110 --> 00:13:49,610
decisions about who is making these

302
00:13:47,029 --> 00:13:51,799
determinations and when so it's it's a

303
00:13:49,610 --> 00:13:56,960
it's a little bit of a it's a little bit

304
00:13:51,799 --> 00:14:02,179
of a tough one but that's the that's

305
00:13:56,960 --> 00:14:04,280
what we have to do okay so at the same

306
00:14:02,179 --> 00:14:07,219
time I think we want to be cognizant of

307
00:14:04,279 --> 00:14:12,019
one other issue that we have and that we

308
00:14:07,220 --> 00:14:16,040
need to keep keep under control guess is

309
00:14:12,019 --> 00:14:23,329
what I would say and that is that we

310
00:14:16,039 --> 00:14:25,639
have a a sort of a notion of blocks that

311
00:14:23,330 --> 00:14:27,110
you are going to be on and we haven't

312
00:14:25,639 --> 00:14:29,769
talked too much about this because we'll

313
00:14:27,110 --> 00:14:32,570
probably wait to sort of do this fully

314
00:14:29,769 --> 00:14:34,460
until we've got an art pack in place

315
00:14:32,570 --> 00:14:39,050
which will probably send out at some

316
00:14:34,460 --> 00:14:41,300
point over the next month or two we have

317
00:14:39,049 --> 00:14:43,699
a sort of situation where we're going to

318
00:14:41,299 --> 00:14:44,750
have like blocky pieces because like I

319
00:14:43,700 --> 00:14:46,820
said you're going to have these things

320
00:14:44,750 --> 00:14:50,450
that you jump on and they could be

321
00:14:46,820 --> 00:14:53,240
displaced in Z right and you know we've

322
00:14:50,450 --> 00:14:55,790
got sort of it an emulation or not an

323
00:14:53,240 --> 00:14:57,320
emulation a sort of simple version of

324
00:14:55,789 --> 00:15:00,049
this here you can even see it happening

325
00:14:57,320 --> 00:15:02,900
like here we have a problem with this

326
00:15:00,049 --> 00:15:05,059
which is that even after we get Z slice

327
00:15:02,899 --> 00:15:09,319
stuff correct you're still going to have

328
00:15:05,059 --> 00:15:12,139
this concept of of the floor kind of

329
00:15:09,320 --> 00:15:14,990
fighting with with characters to know

330
00:15:12,139 --> 00:15:17,600
who to sort and as humans we always know

331
00:15:14,990 --> 00:15:19,970
who to sort because it makes a sort of

332
00:15:17,600 --> 00:15:22,220
concrete sense to us how we might do

333
00:15:19,970 --> 00:15:24,830
that right we

334
00:15:22,220 --> 00:15:26,990
kind of know that well let's suppose

335
00:15:24,830 --> 00:15:29,750
that in this situation I have a

336
00:15:26,990 --> 00:15:31,310
character standing up on this this sort

337
00:15:29,750 --> 00:15:33,470
of pillar here right and I'm going to

338
00:15:31,309 --> 00:15:34,579
kind of draw a little shading here so

339
00:15:33,470 --> 00:15:40,460
you can kind of see what I'm talking

340
00:15:34,580 --> 00:15:42,680
about right if there was a sort of a

341
00:15:40,460 --> 00:15:44,300
tower if you will right in front of the

342
00:15:42,679 --> 00:15:47,389
sky that extended all the way up here

343
00:15:44,299 --> 00:15:50,479
right and this tower was like obviously

344
00:15:47,389 --> 00:15:53,179
in front of this person you know we know

345
00:15:50,480 --> 00:15:54,740
because that thing is closer to us we

346
00:15:53,179 --> 00:15:58,609
know that it would draw in front of

347
00:15:54,740 --> 00:16:06,169
these people right so all of this stuff

348
00:15:58,610 --> 00:16:08,180
is all in front of this individual and

349
00:16:06,169 --> 00:16:11,179
if there was a tower like that that was

350
00:16:08,179 --> 00:16:16,309
behind him right even if it was the same

351
00:16:11,179 --> 00:16:20,329
height right exactly the same height it

352
00:16:16,309 --> 00:16:22,399
would be behind him yeah and that's

353
00:16:20,330 --> 00:16:27,170
again because we sort of have this

354
00:16:22,399 --> 00:16:29,899
notion of a of where things are in the

355
00:16:27,169 --> 00:16:31,579
wat out in the Y of the world as well as

356
00:16:29,899 --> 00:16:34,459
where things are in the Z of the world

357
00:16:31,580 --> 00:16:36,770
and we're only sorting by the y right

358
00:16:34,460 --> 00:16:38,870
and not only are we only sorting by the

359
00:16:36,769 --> 00:16:41,210
Y but we're sorting by the Y in a really

360
00:16:38,870 --> 00:16:44,299
really weird way which says that like

361
00:16:41,210 --> 00:16:49,129
the thing that I'm standing on here you

362
00:16:44,299 --> 00:16:51,259
know is underneath me at certain times

363
00:16:49,129 --> 00:16:53,509
and and it would be in front of me at

364
00:16:51,259 --> 00:16:55,519
other times because even though it's why

365
00:16:53,509 --> 00:16:57,319
is technically in front of me or behind

366
00:16:55,519 --> 00:17:00,379
me or whatever I know that it's a talent

367
00:16:57,320 --> 00:17:02,240
i'm standing on in blah blah blah so we

368
00:17:00,379 --> 00:17:04,250
need to have some coherent system on how

369
00:17:02,240 --> 00:17:05,900
these are sorted and my suspicion is

370
00:17:04,250 --> 00:17:08,650
we're going to basically need to do this

371
00:17:05,900 --> 00:17:15,230
with some kind of a like you know

372
00:17:08,650 --> 00:17:16,850
hotpoint rule which is to say that i

373
00:17:15,230 --> 00:17:20,029
think we want something where we can

374
00:17:16,849 --> 00:17:22,819
strictly sort by a real value look we

375
00:17:20,029 --> 00:17:26,210
probably want to do like sort by you

376
00:17:22,819 --> 00:17:29,359
know why then Z or something like this

377
00:17:26,210 --> 00:17:31,490
right we want something very

378
00:17:29,359 --> 00:17:32,689
straightforward like that and so what I

379
00:17:31,490 --> 00:17:34,460
think we're going to have to do because

380
00:17:32,690 --> 00:17:35,990
you know right now we got a hack in

381
00:17:34,460 --> 00:17:39,170
there that does like is this tile

382
00:17:35,990 --> 00:17:41,240
right or is it flat I don't think that's

383
00:17:39,170 --> 00:17:43,820
going to last I don't think that will

384
00:17:41,240 --> 00:17:45,650
actually work right so I think what we

385
00:17:43,819 --> 00:17:47,779
need to do is we need to start doing

386
00:17:45,650 --> 00:17:49,910
something where whatever the points are

387
00:17:47,779 --> 00:17:51,379
that we're sorting their place to make

388
00:17:49,910 --> 00:17:56,330
sure that they will produce the correct

389
00:17:51,380 --> 00:17:58,220
results in all cases so for example what

390
00:17:56,329 --> 00:18:00,889
I think we need to do is we were

391
00:17:58,220 --> 00:18:03,620
previously taking tiles and we were

392
00:18:00,890 --> 00:18:05,000
saying that their center point right was

393
00:18:03,619 --> 00:18:06,949
the Y value that they were getting

394
00:18:05,000 --> 00:18:08,720
sorted on now that's a problem because

395
00:18:06,950 --> 00:18:11,539
what that means is as soon as the hero

396
00:18:08,720 --> 00:18:13,610
is here right if this is the basis point

397
00:18:11,539 --> 00:18:16,089
for the hero he's now behind the tile

398
00:18:13,609 --> 00:18:19,099
and the tile will draw in front of him

399
00:18:16,089 --> 00:18:20,869
whereas if he's here he is in front of

400
00:18:19,099 --> 00:18:23,839
the tile and he'll draw in front of it

401
00:18:20,869 --> 00:18:25,609
as he should so I think the answer to

402
00:18:23,839 --> 00:18:27,139
this rather than setting the thing to be

403
00:18:25,609 --> 00:18:29,539
upright I think what we want to do

404
00:18:27,140 --> 00:18:32,540
instead is say let's always make the

405
00:18:29,539 --> 00:18:34,159
rule that we set the Y placement for

406
00:18:32,539 --> 00:18:35,779
sorting like we could even have a

407
00:18:34,160 --> 00:18:39,679
special point for sorting that that

408
00:18:35,779 --> 00:18:42,799
bitmaps have the Y placement for sorting

409
00:18:39,679 --> 00:18:45,380
for a bitmap for a title we could just

410
00:18:42,799 --> 00:18:48,319
place the Y back here because then

411
00:18:45,380 --> 00:18:50,030
that's always correct right if this is

412
00:18:48,319 --> 00:18:53,299
the placement for the Y then anything

413
00:18:50,029 --> 00:18:56,089
behind this placement will be drawn

414
00:18:53,299 --> 00:18:58,669
properly behind it which is what we want

415
00:18:56,089 --> 00:19:00,740
if this thing can get below it right now

416
00:18:58,670 --> 00:19:02,690
there's a slight caveat there which is

417
00:19:00,740 --> 00:19:05,450
when something moves behind something

418
00:19:02,690 --> 00:19:09,380
else it doesn't do so on a strictly

419
00:19:05,450 --> 00:19:12,170
point basis right so we probably need to

420
00:19:09,380 --> 00:19:14,750
say that the point for sorting for this

421
00:19:12,170 --> 00:19:18,080
guy maybe is even further back than that

422
00:19:14,750 --> 00:19:19,970
I don't know because they're sort of the

423
00:19:18,079 --> 00:19:22,250
concept still that shadows have to be

424
00:19:19,970 --> 00:19:25,429
placed on here and that sort of stuff so

425
00:19:22,250 --> 00:19:28,400
you know that if if we use the strict

426
00:19:25,429 --> 00:19:32,600
strict why a sorting system we would

427
00:19:28,400 --> 00:19:36,080
definitely be able to make points sort

428
00:19:32,599 --> 00:19:39,139
properly but things with size are not as

429
00:19:36,079 --> 00:19:43,279
easy right they're still a little

430
00:19:39,140 --> 00:19:45,380
trickier and so that question

431
00:19:43,279 --> 00:19:47,960
unfortunately is not one that I really

432
00:19:45,380 --> 00:19:51,260
no I I don't know what the

433
00:19:47,960 --> 00:19:53,090
I don't know what the easy answer is to

434
00:19:51,259 --> 00:19:56,059
it right I don't know what we would do

435
00:19:53,089 --> 00:19:57,919
specifically for that because sometimes

436
00:19:56,059 --> 00:20:00,889
like I said the hero would be behind

437
00:19:57,920 --> 00:20:05,769
this floor right and the example there

438
00:20:00,890 --> 00:20:05,770
is suppose we were looking from the side

439
00:20:08,079 --> 00:20:20,769
and the hero is standing here if we are

440
00:20:16,670 --> 00:20:24,080
viewing that from this direction right

441
00:20:20,769 --> 00:20:28,549
then clearly this tile should sort in

442
00:20:24,079 --> 00:20:30,409
front of the hero right we would not

443
00:20:28,549 --> 00:20:32,869
want to see the hero because all this

444
00:20:30,410 --> 00:20:36,560
stuff should be blocking him so this

445
00:20:32,869 --> 00:20:39,019
part should all be blocked however take

446
00:20:36,559 --> 00:20:44,089
the exact same circumstance the exact

447
00:20:39,019 --> 00:20:47,750
same one and it looks like this so all I

448
00:20:44,089 --> 00:20:49,490
just move this tile and put it down so

449
00:20:47,750 --> 00:20:52,309
exact same circumstance and all I did

450
00:20:49,490 --> 00:20:54,980
was lower this tile well now when I look

451
00:20:52,309 --> 00:20:56,450
at this this tile probably should not

452
00:20:54,980 --> 00:20:58,549
appear in front of the hero and the

453
00:20:56,450 --> 00:21:00,980
reason for that is if there was a shadow

454
00:20:58,549 --> 00:21:02,809
blob here that shadow blob would get

455
00:21:00,980 --> 00:21:04,819
clipped by this tile which is not what

456
00:21:02,809 --> 00:21:09,319
we want we want the shadow blog to

457
00:21:04,819 --> 00:21:11,689
appear on the tile right and that's true

458
00:21:09,319 --> 00:21:16,819
for any part of the hero that extends

459
00:21:11,690 --> 00:21:20,330
past the sort point form as well now if

460
00:21:16,819 --> 00:21:22,929
we cheat this and say well ok a que si

461
00:21:20,329 --> 00:21:24,980
you probably can get away with with

462
00:21:22,930 --> 00:21:27,019
adjusting the sort point on the hero as

463
00:21:24,980 --> 00:21:29,539
well so let's say that it's got sort of

464
00:21:27,019 --> 00:21:31,369
this shadow blob or or you know the feet

465
00:21:29,539 --> 00:21:32,930
or like this whatever instead of placing

466
00:21:31,369 --> 00:21:34,309
the point for sorting there you know

467
00:21:32,930 --> 00:21:36,980
maybe you place the point for sorting

468
00:21:34,309 --> 00:21:38,569
here well if you place the point for

469
00:21:36,980 --> 00:21:41,690
sorting here then you have the problem

470
00:21:38,569 --> 00:21:43,939
where this now we'll show the hero in

471
00:21:41,690 --> 00:21:45,620
front of this tile right because the

472
00:21:43,940 --> 00:21:48,410
fact that this point for sorting is

473
00:21:45,619 --> 00:21:50,329
moved up to the front means that I can't

474
00:21:48,410 --> 00:21:52,690
actually count it to do the right sort

475
00:21:50,329 --> 00:21:52,689
here

476
00:21:54,640 --> 00:22:03,710
so you can see why this is a really big

477
00:21:57,170 --> 00:22:06,500
problem and I I I don't really know what

478
00:22:03,710 --> 00:22:13,700
the most effective way is to solve it I

479
00:22:06,500 --> 00:22:16,250
think what we you know it's plausible

480
00:22:13,700 --> 00:22:17,360
that the most stable solution and I

481
00:22:16,250 --> 00:22:18,559
don't know if this is true or not

482
00:22:17,359 --> 00:22:22,549
because I haven't thought about it for

483
00:22:18,559 --> 00:22:24,470
very long but it's plausible that we

484
00:22:22,549 --> 00:22:27,680
might get some mileage out of actually

485
00:22:24,470 --> 00:22:30,829
using the 3d nests of the scene to help

486
00:22:27,680 --> 00:22:34,460
us and I'm not sure one way or the other

487
00:22:30,829 --> 00:22:37,429
if that's an improvement or not but

488
00:22:34,460 --> 00:22:39,140
obviously you know the sort of the the

489
00:22:37,430 --> 00:22:40,400
fact that we can take a look at what

490
00:22:39,140 --> 00:22:43,580
we're actually looking down at this

491
00:22:40,400 --> 00:22:47,269
thing the fact that we know where these

492
00:22:43,579 --> 00:22:51,019
things occur relative to the view

493
00:22:47,269 --> 00:22:53,569
direction in actual 3d might help us I

494
00:22:51,019 --> 00:22:54,680
don't know if it will effort won't but

495
00:22:53,569 --> 00:22:57,379
it's possible that's something we need

496
00:22:54,680 --> 00:23:02,210
to take into account the other shoe me

497
00:22:57,380 --> 00:23:05,680
the other thing we can do here is we

498
00:23:02,210 --> 00:23:09,620
might be able to do something where we

499
00:23:05,680 --> 00:23:10,970
use against some sort of Z biasing you

500
00:23:09,619 --> 00:23:12,739
know maybe the upright thing that we

501
00:23:10,970 --> 00:23:16,370
were using before maybe we can still use

502
00:23:12,740 --> 00:23:20,450
that for handling the shadow case I

503
00:23:16,369 --> 00:23:22,639
don't really know but yeah so this is a

504
00:23:20,450 --> 00:23:25,190
really nasty problem like I said I don't

505
00:23:22,640 --> 00:23:27,170
feel like I have a really great solution

506
00:23:25,190 --> 00:23:29,000
to it it's a kind of thing we don't

507
00:23:27,170 --> 00:23:31,070
super have to deal with a whole lot in

508
00:23:29,000 --> 00:23:34,009
real 3d because you know this is

509
00:23:31,069 --> 00:23:36,579
something that you can use the actual

510
00:23:34,009 --> 00:23:40,369
geometry to sort of figure out although

511
00:23:36,579 --> 00:23:41,750
sometimes to do get nasty stuff like

512
00:23:40,369 --> 00:23:43,549
this when you're trying to do relatively

513
00:23:41,750 --> 00:23:44,990
precise things or shadow buffers or

514
00:23:43,549 --> 00:23:47,089
those sorts of things where you end up

515
00:23:44,990 --> 00:23:48,109
actually having some nasty cases where

516
00:23:47,089 --> 00:23:49,189
you're trying to figure out what's in

517
00:23:48,109 --> 00:23:51,799
front of what and it's not as

518
00:23:49,190 --> 00:23:53,029
straightforward as it might seem but on

519
00:23:51,799 --> 00:23:53,990
the whole we don't have to deal with

520
00:23:53,029 --> 00:23:57,200
this sort of thing where there is a

521
00:23:53,990 --> 00:23:59,000
conceptual sort that we know that we

522
00:23:57,200 --> 00:24:01,940
want and we have to figure out how to

523
00:23:59,000 --> 00:24:05,919
get that conceptual sort

524
00:24:01,940 --> 00:24:08,538
and yeah it's a little bit tricky so I

525
00:24:05,919 --> 00:24:10,940
don't have a solid solution for this all

526
00:24:08,538 --> 00:24:12,648
I know is that we are definitely going

527
00:24:10,940 --> 00:24:16,970
to have to address it and it's something

528
00:24:12,648 --> 00:24:19,939
that the renderer has to be aware of or

529
00:24:16,970 --> 00:24:21,710
perhaps not really that aware of and

530
00:24:19,940 --> 00:24:24,230
it's just something that we use sort

531
00:24:21,710 --> 00:24:25,759
keys for on the client side but I mean

532
00:24:24,230 --> 00:24:29,120
on the you know not client side but on

533
00:24:25,759 --> 00:24:32,899
the user side of the renderer and we can

534
00:24:29,119 --> 00:24:34,518
just say well you know it's going to

535
00:24:32,898 --> 00:24:37,099
produce sort keys that magically make

536
00:24:34,519 --> 00:24:39,349
this thing work but no matter where we

537
00:24:37,099 --> 00:24:41,388
push that problem to ultimately since

538
00:24:39,349 --> 00:24:42,319
I'm the only programmer you know we're

539
00:24:41,388 --> 00:24:44,028
going to have to deal with it

540
00:24:42,319 --> 00:24:47,538
unfortunately we can't just pass the

541
00:24:44,028 --> 00:24:48,589
buck so and now I think about it since

542
00:24:47,538 --> 00:24:50,480
I'm drawing these cases out here I

543
00:24:48,589 --> 00:24:51,798
wonder if we should spend a second

544
00:24:50,480 --> 00:24:53,740
thinking is there is there anything

545
00:24:51,798 --> 00:24:56,450
smarter to do before I go typing maybe

546
00:24:53,740 --> 00:24:58,069
there is some kind of an insight we can

547
00:24:56,450 --> 00:25:00,830
gain here I mean what's the difference

548
00:24:58,069 --> 00:25:05,240
really between these cases that makes it

549
00:25:00,829 --> 00:25:07,189
true right so what we're doing

550
00:25:05,240 --> 00:25:09,038
effectively is we're you know we're

551
00:25:07,190 --> 00:25:12,110
saying that there's sort of this

552
00:25:09,038 --> 00:25:16,369
variability that comes in whereas as I

553
00:25:12,109 --> 00:25:21,079
lower this thing down as soon as I reach

554
00:25:16,369 --> 00:25:26,959
a z-value that's lower right then then

555
00:25:21,079 --> 00:25:30,528
then here i want to draw the stuff on

556
00:25:26,960 --> 00:25:35,798
top of it still and since so if there's

557
00:25:30,528 --> 00:25:38,089
sort of this notion that the z value is

558
00:25:35,798 --> 00:25:41,980
the thing that determines whether

559
00:25:38,089 --> 00:25:41,980
something goes on top and

560
00:25:52,140 --> 00:26:01,179
stated sort of a little bit alternately

561
00:25:56,069 --> 00:26:03,308
right if this if this thing is above the

562
00:26:01,179 --> 00:26:04,870
sea level of the of the hero we would

563
00:26:03,308 --> 00:26:07,450
not draw the shadow on it and if it's

564
00:26:04,869 --> 00:26:10,569
below the the sea level of the hero we

565
00:26:07,450 --> 00:26:13,750
would write so what's interesting about

566
00:26:10,569 --> 00:26:15,839
that is in the case of the shadow it's

567
00:26:13,750 --> 00:26:19,589
really just the Z value that determines

568
00:26:15,839 --> 00:26:24,659
the sort order of the shadow against

569
00:26:19,589 --> 00:26:27,730
pretty much anything in the scene I

570
00:26:24,660 --> 00:26:29,290
guess everywhere because since we know

571
00:26:27,730 --> 00:26:33,789
that these things are all on the same

572
00:26:29,289 --> 00:26:36,819
plane any right there they're all

573
00:26:33,789 --> 00:26:42,960
they're all in the same they're not

574
00:26:36,819 --> 00:26:46,839
tilted right and so it's sort of like

575
00:26:42,960 --> 00:26:51,308
you have this notion of Z planar sorting

576
00:26:46,839 --> 00:26:54,339
and anything that's you know in that

577
00:26:51,308 --> 00:26:55,928
sort of screen plane whatever the Z

578
00:26:54,339 --> 00:26:59,558
value of it determines who draws first

579
00:26:55,929 --> 00:27:06,759
and then I guess the other people there

580
00:26:59,558 --> 00:27:08,440
Y value determines who draws first so I

581
00:27:06,759 --> 00:27:10,179
think that does sort of suggests that

582
00:27:08,440 --> 00:27:15,700
the upright the concept of whether

583
00:27:10,179 --> 00:27:19,900
something is upright or not does sort of

584
00:27:15,700 --> 00:27:21,519
seem to be a lot about what's you know

585
00:27:19,900 --> 00:27:23,380
which one of those two kinds of bitmaps

586
00:27:21,519 --> 00:27:27,129
you are does seem to have a big

587
00:27:23,380 --> 00:27:30,390
implication for how you're supposed to

588
00:27:27,130 --> 00:27:30,390
be rendered right

589
00:27:42,769 --> 00:27:49,950
so let's think of a few more cases here

590
00:27:46,940 --> 00:27:52,610
so let's suppose that I've got this

591
00:27:49,950 --> 00:27:52,610
situation

592
00:27:57,838 --> 00:28:04,538
so I have hero and hero is standing on

593
00:28:02,378 --> 00:28:08,528
something back here and then something

594
00:28:04,538 --> 00:28:10,569
up here is obviously shadowing like not

595
00:28:08,528 --> 00:28:11,798
shouting but occluding the hero so you

596
00:28:10,569 --> 00:28:15,878
can't see the hero because there's a

597
00:28:11,798 --> 00:28:18,729
giant column in the way right so how do

598
00:28:15,878 --> 00:28:22,988
I know to sort the hero behind this

599
00:28:18,729 --> 00:28:26,499
column right well the Z value would tell

600
00:28:22,989 --> 00:28:29,709
me that but if I had an equivalent

601
00:28:26,499 --> 00:28:31,479
column here it's z value would also sort

602
00:28:29,709 --> 00:28:35,048
from the hero and obviously that's not

603
00:28:31,479 --> 00:28:37,569
true right obviously the hero should not

604
00:28:35,048 --> 00:28:40,088
be drawn in front of this but it should

605
00:28:37,569 --> 00:28:42,548
be drawn in front of this and so here we

606
00:28:40,088 --> 00:28:48,578
have the y value telling us what gets

607
00:28:42,548 --> 00:28:50,558
drawn in front of of what right so the Y

608
00:28:48,578 --> 00:28:55,828
value does does give us that piece of

609
00:28:50,558 --> 00:29:01,538
information right and it seems as though

610
00:28:55,828 --> 00:29:10,388
in this case when we're trying to decide

611
00:29:01,538 --> 00:29:12,398
how to draw the hero when we're trying

612
00:29:10,388 --> 00:29:15,189
to determine the sort order of these

613
00:29:12,398 --> 00:29:17,768
things we want them to draw in Y order

614
00:29:15,190 --> 00:29:28,570
but when we are trying to draw the hero

615
00:29:17,769 --> 00:29:31,959
relative to one of these right this is

616
00:29:28,569 --> 00:29:36,038
where we actually start to care about

617
00:29:31,959 --> 00:29:40,440
the Z so once the Z value comes down

618
00:29:36,038 --> 00:29:45,069
below the Z value of the hero we now

619
00:29:40,440 --> 00:29:48,190
want to pesum eyes this so it looks to

620
00:29:45,069 --> 00:29:59,858
me kind of like what you would say is

621
00:29:48,190 --> 00:30:03,639
you sort in Y and then the Z if you were

622
00:29:59,858 --> 00:30:09,568
already less than this then whatever the

623
00:30:03,638 --> 00:30:09,568
thing was and why then y or z value

624
00:30:09,778 --> 00:30:13,450
determines

625
00:30:11,109 --> 00:30:19,719
whether you will sort in front of or

626
00:30:13,450 --> 00:30:22,660
behind if you aren't right so if I

627
00:30:19,720 --> 00:30:27,250
compared to people if I compared to

628
00:30:22,660 --> 00:30:32,230
Emmett to render instructions I would

629
00:30:27,250 --> 00:30:37,420
say well when I compare these two if one

630
00:30:32,230 --> 00:30:41,440
has a y value that is greater than well

631
00:30:37,420 --> 00:30:46,150
you know what this is not why this is

632
00:30:41,440 --> 00:30:48,370
actually why I cuz i think i was saying

633
00:30:46,150 --> 00:30:51,009
the camera was looking here right so y

634
00:30:48,369 --> 00:30:55,199
goes up the screen and perhaps more

635
00:30:51,009 --> 00:30:58,210
accurately this is the camera but yeah

636
00:30:55,200 --> 00:31:01,870
so if I'm looking at this I would say

637
00:30:58,210 --> 00:31:06,120
well if something has a lesser y value

638
00:31:01,869 --> 00:31:09,159
then you know if we have a and B right

639
00:31:06,119 --> 00:31:12,039
if and you know a this is a and this is

640
00:31:09,160 --> 00:31:16,929
B if a has a lesser y value than B then

641
00:31:12,039 --> 00:31:22,048
it's going to be drawn first unless it

642
00:31:16,929 --> 00:31:22,048
has a lower Z value right

643
00:31:41,990 --> 00:31:52,259
so that unfortunately seems to still

644
00:31:45,000 --> 00:31:53,880
give because that I mean if if if i

645
00:31:52,259 --> 00:31:55,500
phrase it that way exactly then that

646
00:31:53,880 --> 00:32:00,090
just means you sort by z first and then

647
00:31:55,500 --> 00:32:03,720
why right i mean that's what that would

648
00:32:00,089 --> 00:32:08,369
do and if we did that then we have that

649
00:32:03,720 --> 00:32:10,200
same problem of of this thing isn't that

650
00:32:08,369 --> 00:32:14,119
going to sort this thing wrong because i

651
00:32:10,200 --> 00:32:14,120
look at these two things and I say well

652
00:32:16,279 --> 00:32:23,299
no but I guess his Z value is still less

653
00:32:19,308 --> 00:32:23,299
so that seems fine too

654
00:32:45,200 --> 00:32:54,330
so I'm trying to think of cases where

655
00:32:49,859 --> 00:33:00,719
that doesn't work sorting by Xion than

656
00:32:54,329 --> 00:33:02,849
my why because it seems like that still

657
00:33:00,720 --> 00:33:09,240
would work even in this case because as

658
00:33:02,849 --> 00:33:12,378
this thing gets lower right right if I

659
00:33:09,240 --> 00:33:12,378
sort by Z first

660
00:33:24,599 --> 00:33:29,819
if I sort by Z first then this guy would

661
00:33:27,450 --> 00:33:31,380
draw second in these cases so that's why

662
00:33:29,819 --> 00:33:34,619
this doesn't work I already enumerated

663
00:33:31,380 --> 00:33:38,190
this case right so my brain is really

664
00:33:34,619 --> 00:33:40,529
slow today so if we're looking at this

665
00:33:38,190 --> 00:33:42,019
guy we'd say well you know kizzy is

666
00:33:40,529 --> 00:33:44,220
higher so he'd sort in front of this guy

667
00:33:42,019 --> 00:33:47,579
which is not correct he needs to sort

668
00:33:44,220 --> 00:33:50,100
behind him because of the y right so we

669
00:33:47,579 --> 00:33:52,769
have this problem of the Y sort still

670
00:33:50,099 --> 00:33:55,469
needs to be effectual and we just have

671
00:33:52,769 --> 00:33:58,170
these a couple cases in where we where

672
00:33:55,470 --> 00:34:00,360
we would need to look at Z to say we

673
00:33:58,170 --> 00:34:03,120
want to override that behavior so that

674
00:34:00,359 --> 00:34:11,069
we don't accidentally sort incorrectly

675
00:34:03,119 --> 00:34:12,869
in this case right and I'm really just

676
00:34:11,070 --> 00:34:17,610
not sure how to make that happen without

677
00:34:12,869 --> 00:34:19,679
causing other cases to be wrong because

678
00:34:17,610 --> 00:34:21,030
it seems like you know either when we

679
00:34:19,679 --> 00:34:25,739
pick that's obviously not going to be

680
00:34:21,030 --> 00:34:27,930
right but if we do why then Z which does

681
00:34:25,739 --> 00:34:31,409
everything correct most of the time we

682
00:34:27,929 --> 00:34:34,500
then end up with this problem of you

683
00:34:31,409 --> 00:34:36,420
know we end up with this problem for

684
00:34:34,500 --> 00:34:39,929
having trying to have shadows fall on

685
00:34:36,420 --> 00:34:44,220
other things and stuff like that so if

686
00:34:39,929 --> 00:34:47,909
we were going to try and fix that uh how

687
00:34:44,219 --> 00:34:50,639
would we do it you know what would I do

688
00:34:47,909 --> 00:34:56,460
that would make that work and I don't

689
00:34:50,639 --> 00:34:58,589
know I guess one way to do it would be

690
00:34:56,460 --> 00:35:01,829
to make shadows be something that we're

691
00:34:58,590 --> 00:35:03,930
handled a little bit separately so

692
00:35:01,829 --> 00:35:06,210
trance things that are transparent like

693
00:35:03,929 --> 00:35:08,219
that like brown shadows would maybe just

694
00:35:06,210 --> 00:35:11,070
have to be handled separately so you

695
00:35:08,219 --> 00:35:13,199
just wouldn't ever have that case you

696
00:35:11,070 --> 00:35:16,559
would always handle shadows as things

697
00:35:13,199 --> 00:35:18,659
that fell on to specific bitmaps and you

698
00:35:16,559 --> 00:35:21,329
know maybe that's a smarter way to have

699
00:35:18,659 --> 00:35:23,519
that work so there isn't one shadow for

700
00:35:21,329 --> 00:35:26,519
the hero there's one shadow for the hero

701
00:35:23,519 --> 00:35:28,050
for every tile and it's adjusted per

702
00:35:26,519 --> 00:35:31,759
tile so that we know that it's going to

703
00:35:28,050 --> 00:35:34,730
be sorted correctly on to that tile I

704
00:35:31,760 --> 00:35:36,690
could see that being reasonable

705
00:35:34,730 --> 00:35:38,539
similarly we could ask the question how

706
00:35:36,690 --> 00:35:42,650
do we know that the hero sorts

707
00:35:38,539 --> 00:35:44,719
above the tile right and right because

708
00:35:42,650 --> 00:35:46,519
the Thailand and the hero would both be

709
00:35:44,719 --> 00:35:50,539
at the same kind of point to a certain

710
00:35:46,519 --> 00:35:52,340
degree but I think that could probably

711
00:35:50,539 --> 00:35:55,610
be handled by the fact that these would

712
00:35:52,340 --> 00:36:00,079
have higher Z values now so these would

713
00:35:55,610 --> 00:36:01,670
all sort in the same y effectively but

714
00:36:00,079 --> 00:36:03,409
the Z would be the thing that would

715
00:36:01,670 --> 00:36:05,180
would tell you that and well or the

716
00:36:03,409 --> 00:36:08,049
other thing would be placing the sort

717
00:36:05,179 --> 00:36:08,049
point back further

718
00:36:22,510 --> 00:36:31,910
so let's suppose that what we did was we

719
00:36:28,099 --> 00:36:33,970
placed for things that are flat we

720
00:36:31,909 --> 00:36:38,149
placed the sort point at the back and

721
00:36:33,969 --> 00:36:47,838
for things that are standing upright we

722
00:36:38,150 --> 00:36:50,389
place them at the base right that would

723
00:36:47,838 --> 00:36:53,630
appear to always work properly if you

724
00:36:50,389 --> 00:36:55,940
take out shadowing right if you take

725
00:36:53,630 --> 00:37:00,108
shadowing out of the equation I feel

726
00:36:55,940 --> 00:37:02,900
like that works correctly because now

727
00:37:00,108 --> 00:37:04,848
you are always going to sort these in

728
00:37:02,900 --> 00:37:07,369
front of these if they're on top of each

729
00:37:04,849 --> 00:37:16,269
other but once it moves behind it will

730
00:37:07,369 --> 00:37:22,099
sort behind it as it should right and

731
00:37:16,269 --> 00:37:24,460
that might be workable that might be

732
00:37:22,099 --> 00:37:24,460
workable

733
00:37:26,960 --> 00:37:31,070
and then you really like I said you only

734
00:37:29,389 --> 00:37:33,949
have one thing to do at that point you

735
00:37:31,070 --> 00:37:35,690
just have to sort by the Y and then

736
00:37:33,949 --> 00:37:38,269
inside why I don't know if you have to

737
00:37:35,690 --> 00:37:40,250
sort any more than that but you probably

738
00:37:38,269 --> 00:37:43,489
want to sort by Z after that just in

739
00:37:40,250 --> 00:37:44,599
case right so like with the hero you

740
00:37:43,489 --> 00:37:46,099
know where it's stacked on top of each

741
00:37:44,599 --> 00:37:48,679
other you want the higher things to be

742
00:37:46,099 --> 00:37:50,389
drawn first typically but that could

743
00:37:48,679 --> 00:37:53,559
also just be a fudge value that we use

744
00:37:50,389 --> 00:37:56,059
because typically that's going to be

745
00:37:53,559 --> 00:37:59,299
more subject to just whatever we want

746
00:37:56,059 --> 00:38:02,469
since that you don't really move in Z to

747
00:37:59,300 --> 00:38:02,470
occlude very often

748
00:38:11,619 --> 00:38:19,029
I think I'm pretty happy with that I

749
00:38:14,050 --> 00:38:21,280
think that's all right but again what

750
00:38:19,030 --> 00:38:23,860
this requires is is that the sort key is

751
00:38:21,280 --> 00:38:25,480
computed in a very specific way it

752
00:38:23,860 --> 00:38:27,670
requires the sort key to be computed

753
00:38:25,480 --> 00:38:30,400
separate from what might be like the

754
00:38:27,670 --> 00:38:31,930
pivot point of an object or something

755
00:38:30,400 --> 00:38:34,210
that relates to its placement in the

756
00:38:31,929 --> 00:38:36,339
world we need a sort of separate notion

757
00:38:34,210 --> 00:38:37,599
of here is the sort handle and that sort

758
00:38:36,340 --> 00:38:41,740
handle this placed you know very

759
00:38:37,599 --> 00:38:43,389
specifically but that doesn't seem to

760
00:38:41,739 --> 00:38:45,039
owner asst I'm trying to think if there

761
00:38:43,389 --> 00:38:46,269
are any problems with that and that

762
00:38:45,039 --> 00:38:47,590
would also get us out of the business of

763
00:38:46,269 --> 00:38:48,730
specifying whether something's up right

764
00:38:47,590 --> 00:38:52,240
or not because it's basically just

765
00:38:48,730 --> 00:38:54,490
whatever you set up initially as that as

766
00:38:52,239 --> 00:38:56,049
that sort point is what would determine

767
00:38:54,489 --> 00:38:57,669
whether things sorts in a way that's

768
00:38:56,050 --> 00:39:07,680
similar to the upright versions or

769
00:38:57,670 --> 00:39:18,940
similar to the lying flat versions yeah

770
00:39:07,679 --> 00:39:20,379
so let's take a look in our code here so

771
00:39:18,940 --> 00:39:22,990
I kind of got off on this tangent of

772
00:39:20,380 --> 00:39:25,059
fixing that problem I kind of want to

773
00:39:22,989 --> 00:39:30,239
take a look here at what's going on with

774
00:39:25,059 --> 00:39:30,239
that as well so in here when I do a

775
00:39:30,780 --> 00:39:38,710
where am i where I do a push bitmap call

776
00:39:35,400 --> 00:39:40,450
in here you can pass the sort key

777
00:39:38,710 --> 00:39:44,349
through can't you or at least you could

778
00:39:40,449 --> 00:39:49,409
before well it's computed by the render

779
00:39:44,349 --> 00:39:51,819
basis so when you do a push for under

780
00:39:49,409 --> 00:39:53,349
element you do pass in whatever the sort

781
00:39:51,820 --> 00:39:55,840
key is that you actually wanted to use

782
00:39:53,349 --> 00:39:57,400
and so what I could do is I could make

783
00:39:55,840 --> 00:40:01,120
that so that when we do a push bitmap

784
00:39:57,400 --> 00:40:03,849
call we sort of compute that that sort

785
00:40:01,119 --> 00:40:05,980
key here based on what I just said so

786
00:40:03,849 --> 00:40:11,230
the inputs to the to this system could

787
00:40:05,980 --> 00:40:14,740
be that and I don't see so the c-line

788
00:40:11,230 --> 00:40:18,090
value I'm curious to know where we use

789
00:40:14,739 --> 00:40:18,089
the c-line value

790
00:40:20,250 --> 00:40:25,170
I think we use the C Line value mostly

791
00:40:22,800 --> 00:40:27,000
for debugging purposes right we use that

792
00:40:25,170 --> 00:40:28,800
so that if we want to show a bitmap it

793
00:40:27,000 --> 00:40:31,110
doesn't get displaced by anything I

794
00:40:28,800 --> 00:40:34,019
think that's really the only thing we do

795
00:40:31,110 --> 00:40:35,670
there and I'm not sure that that was the

796
00:40:34,019 --> 00:40:39,750
most efficient way to do that but that's

797
00:40:35,670 --> 00:40:42,659
yeah that's how that happened so the

798
00:40:39,750 --> 00:40:43,860
question is here all right if we wanted

799
00:40:42,659 --> 00:40:46,019
to make this be more explicit on the

800
00:40:43,860 --> 00:40:48,690
sort key stuff we would have to sort of

801
00:40:46,019 --> 00:40:53,489
pass a sort key through here in some way

802
00:40:48,690 --> 00:40:55,500
and this this basis sort key stuff of

803
00:40:53,489 --> 00:40:57,629
course is also problematic because

804
00:40:55,500 --> 00:40:59,789
presumably there's information in there

805
00:40:57,630 --> 00:41:09,539
that we wouldn't know else otherwise

806
00:40:59,789 --> 00:41:13,880
right like for example meters two pixels

807
00:41:09,539 --> 00:41:13,880
effects this from the camera transform

808
00:41:18,010 --> 00:41:23,120
although in theory if everything's being

809
00:41:21,039 --> 00:41:30,259
multiplied by meters to pixels then it

810
00:41:23,119 --> 00:41:34,730
doesn't really matter this is going to

811
00:41:30,260 --> 00:41:37,390
be real tricky it's going to be real

812
00:41:34,730 --> 00:41:37,389
tricky to get right

813
00:41:41,230 --> 00:41:48,170
all right well anyway so if we want to

814
00:41:45,010 --> 00:41:50,330
to take a look at this what we need to

815
00:41:48,170 --> 00:41:53,240
do is say well there would be a

816
00:41:50,329 --> 00:41:55,639
secondary point passed in here really

817
00:41:53,239 --> 00:41:57,439
and the secondary point is the one

818
00:41:55,639 --> 00:41:59,989
that's actually used for sorting that

819
00:41:57,440 --> 00:42:05,119
makes sense and so we kind of need to

820
00:41:59,989 --> 00:42:07,429
transform you know to do like to

821
00:42:05,119 --> 00:42:09,679
transform one to transform the point

822
00:42:07,429 --> 00:42:12,739
that we're actually using and one to do

823
00:42:09,679 --> 00:42:15,589
the transform for whatever that sort

824
00:42:12,739 --> 00:42:18,589
point is now since we have the concept

825
00:42:15,590 --> 00:42:21,079
of a scaling value we should though

826
00:42:18,590 --> 00:42:23,590
probably we could probably fake this by

827
00:42:21,079 --> 00:42:27,440
saying after you perform this transform

828
00:42:23,590 --> 00:42:30,350
if the second if the sort the part where

829
00:42:27,440 --> 00:42:34,280
we're passing down the sort if that's

830
00:42:30,349 --> 00:42:36,170
just expressed as a delta right because

831
00:42:34,280 --> 00:42:38,330
that's all it's ever going to be it's

832
00:42:36,170 --> 00:42:41,659
just it's just a delta off of the actual

833
00:42:38,329 --> 00:42:44,420
point that we're projecting we need some

834
00:42:41,659 --> 00:42:46,399
way of applying that Delta after the

835
00:42:44,420 --> 00:42:50,570
fact and the scale value kind of gives

836
00:42:46,400 --> 00:42:52,880
us that ability right so what we could

837
00:42:50,570 --> 00:42:56,090
do is say well you know whatever the

838
00:42:52,880 --> 00:42:58,400
sort key is would be something like a

839
00:42:56,090 --> 00:43:00,769
displacement and we know that the

840
00:42:58,400 --> 00:43:02,990
displacement in X doesn't matter so we

841
00:43:00,769 --> 00:43:05,119
really just have a sort bias at the end

842
00:43:02,989 --> 00:43:08,000
of the day right there's really just a

843
00:43:05,119 --> 00:43:09,769
sort bias and the problem is that before

844
00:43:08,000 --> 00:43:12,469
we were doing when we're applying this

845
00:43:09,769 --> 00:43:15,259
sort bias we aren't scaling the sort

846
00:43:12,469 --> 00:43:17,269
bias by the scale that comes in here but

847
00:43:15,260 --> 00:43:22,040
if we were to start scaling the sort

848
00:43:17,269 --> 00:43:23,869
bias then that would fix the problem so

849
00:43:22,039 --> 00:43:26,900
if we scaled by the sort bias and placed

850
00:43:23,869 --> 00:43:28,579
those those biases so that they were at

851
00:43:26,900 --> 00:43:30,970
the tops and bottoms of bitmaps in why

852
00:43:28,579 --> 00:43:33,199
this would then presumably work

853
00:43:30,969 --> 00:43:35,480
similarly we could then say well this

854
00:43:33,199 --> 00:43:37,460
whole nonsense here with the original pz

855
00:43:35,480 --> 00:43:42,280
in the two x pz and the blah blah blah

856
00:43:37,460 --> 00:43:44,780
blah blah blah blah write that stuff

857
00:43:42,280 --> 00:43:46,220
should also be able to be handled

858
00:43:44,780 --> 00:43:49,790
directly now where we could say well

859
00:43:46,219 --> 00:43:52,789
object transform upright is is not

860
00:43:49,789 --> 00:43:55,059
necessary anymore right we know that Y

861
00:43:52,789 --> 00:44:00,050
is being sorted on

862
00:43:55,059 --> 00:44:02,750
as sort of a separate entity but here i

863
00:44:00,050 --> 00:44:10,310
guess and this is a little bit weird it

864
00:44:02,750 --> 00:44:12,769
looks like we're sorting by Z it looks

865
00:44:10,309 --> 00:44:16,429
like we're sorting by Z much more

866
00:44:12,769 --> 00:44:18,949
strenuously than x y which is the

867
00:44:16,429 --> 00:44:24,849
opposite i think of what i said should

868
00:44:18,949 --> 00:44:27,019
happen so that's a little bit tricky i

869
00:44:24,849 --> 00:44:32,269
think that may have been a slight

870
00:44:27,019 --> 00:44:35,960
mistake I think I don't think that's

871
00:44:32,269 --> 00:44:37,369
what we wanted but i'm going to name

872
00:44:35,960 --> 00:44:40,099
these things a little bit cleaner here

873
00:44:37,369 --> 00:44:45,859
so we have two things we have the layers

874
00:44:40,099 --> 00:44:50,110
e or the prospective z you might say and

875
00:44:45,860 --> 00:44:52,220
we have the displacement z right and

876
00:44:50,110 --> 00:44:54,440
when and we're going to have to know

877
00:44:52,219 --> 00:44:59,469
what those are and so when we do our

878
00:44:54,440 --> 00:45:03,110
transform here those two Z values are

879
00:44:59,469 --> 00:45:06,289
going to be used in a different way so

880
00:45:03,110 --> 00:45:08,300
our perspective Z is definitely you know

881
00:45:06,289 --> 00:45:10,429
is the one that is the most important

882
00:45:08,300 --> 00:45:13,610
sort value because if you have another

883
00:45:10,429 --> 00:45:16,009
layer that layer is definitely going to

884
00:45:13,610 --> 00:45:19,700
cause the sorting to be predominant

885
00:45:16,010 --> 00:45:21,440
right so that's always the case that if

886
00:45:19,699 --> 00:45:25,849
you're going if you're on a particular

887
00:45:21,440 --> 00:45:31,210
layer you have to have that as your most

888
00:45:25,849 --> 00:45:35,989
important sort criteria so that's true

889
00:45:31,210 --> 00:45:41,440
but then in addition to that we have the

890
00:45:35,989 --> 00:45:41,439
matter of the the actual Z values here

891
00:45:46,179 --> 00:45:54,440
where we've got the displacement Z and

892
00:45:48,889 --> 00:45:58,279
then we've got the py value so the P the

893
00:45:54,440 --> 00:46:00,260
P Y value is going is what we're saying

894
00:45:58,280 --> 00:46:03,109
has to be dominant over the displacement

895
00:46:00,260 --> 00:46:09,130
Z so that is going to have to be you

896
00:46:03,108 --> 00:46:09,130
know again another sort of power up and

897
00:46:10,929 --> 00:46:15,919
then the the displacement Z is the final

898
00:46:14,088 --> 00:46:21,349
bit of information there that we have

899
00:46:15,920 --> 00:46:22,820
where we're trying to we're trying to

900
00:46:21,349 --> 00:46:26,510
figure out how this would be factored in

901
00:46:22,820 --> 00:46:29,510
and I think the higher that Z the higher

902
00:46:26,510 --> 00:46:32,810
up you want to sort right so I think

903
00:46:29,510 --> 00:46:36,520
this is close to what we said we wanted

904
00:46:32,809 --> 00:46:39,858
to do on the blackboard but like I said

905
00:46:36,519 --> 00:46:44,599
we have a slight problem here which is

906
00:46:39,858 --> 00:46:50,259
to say that the the Y value that we're

907
00:46:44,599 --> 00:46:50,260
using in the sorting that wants to be

908
00:46:50,380 --> 00:46:57,530
adjusted by the fact that we may just

909
00:46:55,760 --> 00:47:01,369
place it from the center of the bitmap

910
00:46:57,530 --> 00:47:04,519
or wherever else right so the the sort

911
00:47:01,369 --> 00:47:12,829
bias i would say in here is a modifier

912
00:47:04,519 --> 00:47:18,079
on the y value so i think that is

913
00:47:12,829 --> 00:47:21,940
perhaps the more the more correct full

914
00:47:18,079 --> 00:47:27,519
transform so i would say there's the

915
00:47:21,940 --> 00:47:36,950
there's basically the perspective sort

916
00:47:27,519 --> 00:47:39,250
term and that's this there's the y sort

917
00:47:36,949 --> 00:47:39,250
term

918
00:47:42,309 --> 00:47:54,769
and that's this and then there's the Z

919
00:47:50,478 --> 00:47:57,768
sort term and that's this and so our

920
00:47:54,768 --> 00:48:00,288
final equation is just the perspective

921
00:47:57,768 --> 00:48:11,148
of times the sort of the why I'm sorry

922
00:48:00,289 --> 00:48:13,759
plus the y plus the Z so I think that's

923
00:48:11,148 --> 00:48:16,038
what we want and this particular piece

924
00:48:13,759 --> 00:48:18,759
of information here where we have that

925
00:48:16,039 --> 00:48:21,589
sort bias so it's not really a

926
00:48:18,759 --> 00:48:24,769
quote-unquote a sort by us anymore but

927
00:48:21,588 --> 00:48:27,619
you know whatever we can rename that

928
00:48:24,768 --> 00:48:29,868
easily so the point is we have this

929
00:48:27,619 --> 00:48:32,179
other piece of information here and

930
00:48:29,869 --> 00:48:36,439
that's that's what we would use to

931
00:48:32,179 --> 00:48:37,999
displace the sort properly but now the

932
00:48:36,438 --> 00:48:39,438
question is well we've actually got to

933
00:48:37,998 --> 00:48:40,629
get these other values from somewhere

934
00:48:39,438 --> 00:48:45,978
and that's easier said than done

935
00:48:40,630 --> 00:48:49,009
certainly right and so when we find

936
00:48:45,978 --> 00:48:52,848
ourselves in this routine with a sort of

937
00:48:49,009 --> 00:48:54,798
an object transform coming through and

938
00:48:52,849 --> 00:48:56,749
then this placement transform and that

939
00:48:54,798 --> 00:48:58,579
kind of stuff what we have is we were

940
00:48:56,748 --> 00:49:01,148
sort of cheating here by saying well we

941
00:48:58,579 --> 00:49:06,649
had an original p and we got we sort of

942
00:49:01,148 --> 00:49:08,659
stole the we sort of since we had two

943
00:49:06,648 --> 00:49:11,179
separate things we were specifying an

944
00:49:08,659 --> 00:49:13,130
object transform and then an offset off

945
00:49:11,179 --> 00:49:14,689
of that object transform we kind of

946
00:49:13,130 --> 00:49:16,039
cheated and said well one of the Z's

947
00:49:14,688 --> 00:49:18,048
will be a displacement see and one of

948
00:49:16,039 --> 00:49:20,239
the disease won't but that caused a lot

949
00:49:18,048 --> 00:49:21,978
of problems and it's just not very clear

950
00:49:20,239 --> 00:49:24,889
so I think what we want to do instead is

951
00:49:21,978 --> 00:49:26,328
pass the layers e separately right and

952
00:49:24,889 --> 00:49:32,059
we're just going to have to extend our

953
00:49:26,329 --> 00:49:33,589
notion of what that means and just make

954
00:49:32,059 --> 00:49:39,769
that work we're going to have to have

955
00:49:33,588 --> 00:49:42,349
that in addition which means we probably

956
00:49:39,768 --> 00:49:47,298
will have to say well the original p is

957
00:49:42,349 --> 00:49:49,870
maybe now a v4 its XY displacement Z

958
00:49:47,298 --> 00:49:51,429
layer Z or something like that right

959
00:49:49,869 --> 00:49:54,789
that may be the most straightforward

960
00:49:51,429 --> 00:49:57,369
thing to do so then when we say that

961
00:49:54,789 --> 00:50:00,550
we've got a v3 P here we would no longer

962
00:49:57,369 --> 00:50:02,409
be doing we would no longer be doing

963
00:50:00,550 --> 00:50:07,570
this sort of thing instead we would

964
00:50:02,409 --> 00:50:12,009
treat these as the same and produce our

965
00:50:07,570 --> 00:50:13,900
perspective p from the actual XYZ and

966
00:50:12,010 --> 00:50:16,570
then there's sort of that displacement

967
00:50:13,900 --> 00:50:22,900
see that's additional on the end right

968
00:50:16,570 --> 00:50:26,019
now again that's still a little bit

969
00:50:22,900 --> 00:50:27,280
confusing because it's unclear which you

970
00:50:26,019 --> 00:50:29,800
know which you would want to do do you

971
00:50:27,280 --> 00:50:31,360
want the third you know we've got four

972
00:50:29,800 --> 00:50:33,789
elements in a vector if we were doing it

973
00:50:31,360 --> 00:50:36,130
before do we want the third element or

974
00:50:33,789 --> 00:50:43,769
the fourth element or I should say that

975
00:50:36,130 --> 00:50:43,769
third the the the tooth or the third

976
00:50:46,440 --> 00:50:52,090
which of these do we want to be the one

977
00:50:49,929 --> 00:50:54,069
that does perspective and which of these

978
00:50:52,090 --> 00:50:57,400
we want want to be the one that does

979
00:50:54,070 --> 00:50:59,019
displacement now I'm going to go against

980
00:50:57,400 --> 00:51:01,300
what might be the most intuitive thing

981
00:50:59,019 --> 00:51:03,460
to do here simply because i feel like

982
00:51:01,300 --> 00:51:05,890
the way i would remember it better even

983
00:51:03,460 --> 00:51:08,860
though it's less intuitive is to put

984
00:51:05,889 --> 00:51:10,719
displacement on the affine part because

985
00:51:08,860 --> 00:51:12,789
i think of a fine is displacement and

986
00:51:10,719 --> 00:51:13,929
put the perspective on the z part

987
00:51:12,789 --> 00:51:19,509
because that's what I tend to think of

988
00:51:13,929 --> 00:51:22,869
as Z so we would create the P that we're

989
00:51:19,510 --> 00:51:24,220
going to use in this fashion and then

990
00:51:22,869 --> 00:51:27,460
all the other things that are going to

991
00:51:24,219 --> 00:51:29,589
happen here will happen here and then at

992
00:51:27,460 --> 00:51:31,539
the end we would say well okay so now we

993
00:51:29,590 --> 00:51:34,150
know what our perspective Z is our

994
00:51:31,539 --> 00:51:40,050
perspective Z is just whatever we

995
00:51:34,150 --> 00:51:40,050
actually output it as the Z value right

996
00:51:40,500 --> 00:51:45,849
so whatever we actually transformed

997
00:51:43,090 --> 00:51:50,950
through as our Z is what r z would be

998
00:51:45,849 --> 00:51:53,920
and our displacement Z really is just a

999
00:51:50,949 --> 00:51:56,379
value that gets scaled by whatever the

1000
00:51:53,920 --> 00:52:00,490
projected Z is but then is just treated

1001
00:51:56,380 --> 00:52:03,490
as a normal value right so whatever this

1002
00:52:00,489 --> 00:52:05,829
result scale is here

1003
00:52:03,489 --> 00:52:09,879
that result scale is going to be the

1004
00:52:05,829 --> 00:52:11,650
thing excuse me and I guess that

1005
00:52:09,880 --> 00:52:14,019
produces honestly that's going to

1006
00:52:11,650 --> 00:52:20,260
produce this this term here so the Z

1007
00:52:14,019 --> 00:52:21,699
short term is really going to be well

1008
00:52:20,260 --> 00:52:23,740
we've already got it set up to do this

1009
00:52:21,699 --> 00:52:24,849
but anyway point being we've got the

1010
00:52:23,739 --> 00:52:28,149
result scale we're going to multiply

1011
00:52:24,849 --> 00:52:34,739
that by whatever the displacement Z is

1012
00:52:28,150 --> 00:52:34,740
so we would just say displacement Z or

1013
00:52:36,329 --> 00:52:48,969
it's the unscaled no I guess I'll do

1014
00:52:45,789 --> 00:52:54,940
this way GW since it's the W coordinate

1015
00:52:48,969 --> 00:52:56,559
is going to be that part so we're kind

1016
00:52:54,940 --> 00:53:00,369
of breaking it into two parts for

1017
00:52:56,559 --> 00:53:02,619
purposes of this so if we scale the the

1018
00:53:00,369 --> 00:53:03,910
resulting value by whatever we would

1019
00:53:02,619 --> 00:53:05,890
have scaled for the transform will get

1020
00:53:03,909 --> 00:53:08,679
the displacement see out of it then we

1021
00:53:05,889 --> 00:53:12,099
have our prospective sort terms like so

1022
00:53:08,679 --> 00:53:13,509
I'm sorry are our sort key we have to

1023
00:53:12,099 --> 00:53:18,219
protect us from the y term the z short

1024
00:53:13,510 --> 00:53:23,500
term and i think that's really all there

1025
00:53:18,219 --> 00:53:26,219
is to that right and so now we don't

1026
00:53:23,500 --> 00:53:26,219
need a

1027
00:53:31,190 --> 00:53:44,450
we don't need this i'm sorry i just

1028
00:53:37,940 --> 00:53:47,630
realized i did this slightly wrong no i

1029
00:53:44,449 --> 00:53:49,250
didn't know right so now we still need

1030
00:53:47,630 --> 00:53:51,079
to pass in the object transform what

1031
00:53:49,250 --> 00:53:53,269
that sort biases which I don't know if

1032
00:53:51,079 --> 00:54:00,859
that's the most intelligent place to put

1033
00:53:53,269 --> 00:54:07,309
that right because it's the something

1034
00:54:00,858 --> 00:54:09,108
that varies / / / actual bitmap right so

1035
00:54:07,309 --> 00:54:11,449
when you pass through this original p

1036
00:54:09,108 --> 00:54:13,699
you kind of want to pass through what

1037
00:54:11,449 --> 00:54:15,439
you want that displacement for sorting

1038
00:54:13,699 --> 00:54:20,838
to be that why displacement for sorting

1039
00:54:15,440 --> 00:54:22,880
to be and I mean like I said I could

1040
00:54:20,838 --> 00:54:26,170
make it so that that's actually the p

1041
00:54:22,880 --> 00:54:28,490
value that actually gets used always and

1042
00:54:26,170 --> 00:54:30,680
then you wouldn't have this right

1043
00:54:28,489 --> 00:54:34,159
because we could just say well you're

1044
00:54:30,679 --> 00:54:36,679
always supposed to pass the actual value

1045
00:54:34,159 --> 00:54:39,769
down right you're just supposed to place

1046
00:54:36,679 --> 00:54:42,379
that Y value at the correct location and

1047
00:54:39,769 --> 00:54:47,780
the bitmap should always be centered

1048
00:54:42,380 --> 00:54:56,030
around it properly and I can't say that

1049
00:54:47,780 --> 00:54:57,619
I disagree with that right and that

1050
00:54:56,030 --> 00:55:00,920
seems a little bit better potentially

1051
00:54:57,619 --> 00:55:05,119
because that way the sore pious stays in

1052
00:55:00,920 --> 00:55:07,130
actual regular bias that you know and we

1053
00:55:05,119 --> 00:55:09,680
just assume that the the hot spot of the

1054
00:55:07,130 --> 00:55:12,190
bitmap is just placed at the sort

1055
00:55:09,679 --> 00:55:12,190
location

1056
00:55:26,590 --> 00:55:32,410
that I don't really have a strong

1057
00:55:29,090 --> 00:55:32,410
opinion about either way

1058
00:55:40,389 --> 00:55:48,960
I really can't say that there's anything

1059
00:55:43,798 --> 00:55:51,699
yeah I really can't say that makes me

1060
00:55:48,960 --> 00:56:00,608
care specifically much about that in a

1061
00:55:51,699 --> 00:56:04,528
real way I feel like the the risk there

1062
00:56:00,608 --> 00:56:08,108
is that we have two concepts of

1063
00:56:04,528 --> 00:56:10,389
important points on a bitmap one is the

1064
00:56:08,108 --> 00:56:12,338
one that's used for alignment and that

1065
00:56:10,389 --> 00:56:15,989
would be important in terms of rotation

1066
00:56:12,338 --> 00:56:19,869
and scaling and the other one is

1067
00:56:15,989 --> 00:56:24,578
important in terms of sorting now I'm

1068
00:56:19,869 --> 00:56:27,990
trying to think to what degree those

1069
00:56:24,579 --> 00:56:27,990
tend to line up

1070
00:56:43,150 --> 00:56:52,720
I mean here's some other things to think

1071
00:56:46,630 --> 00:57:01,780
about suppose I have a multi-segment

1072
00:56:52,719 --> 00:57:04,299
body and these are like a jointed this

1073
00:57:01,780 --> 00:57:06,580
is like a jointed figure which we

1074
00:57:04,300 --> 00:57:09,670
already kind of have right and are only

1075
00:57:06,579 --> 00:57:12,460
going to have more of if I want to

1076
00:57:09,670 --> 00:57:13,809
rotate this about this point that it

1077
00:57:12,460 --> 00:57:16,179
makes sense for that to kind of be the

1078
00:57:13,809 --> 00:57:19,779
alignment point for the bitmap and I'm

1079
00:57:16,179 --> 00:57:21,639
going to do that sort of rotation that's

1080
00:57:19,780 --> 00:57:24,430
all pretty clear and that's all good

1081
00:57:21,639 --> 00:57:27,429
however this whole thing pretty much

1082
00:57:24,429 --> 00:57:29,440
wants to be sorted as one entity right

1083
00:57:27,429 --> 00:57:34,119
we want all of these bitmaps to be

1084
00:57:29,440 --> 00:57:37,900
sorted based on this point and then

1085
00:57:34,119 --> 00:57:40,569
inside of this all of these things would

1086
00:57:37,900 --> 00:57:43,900
then be sorted kind of just relative to

1087
00:57:40,570 --> 00:57:46,990
each other in a predefined way right we

1088
00:57:43,900 --> 00:57:49,450
know whether you know the what the sort

1089
00:57:46,989 --> 00:57:51,669
of composite order is it's whatever the

1090
00:57:49,449 --> 00:57:53,710
artist wanted it to be and it really

1091
00:57:51,670 --> 00:58:00,430
doesn't have anything to do with these

1092
00:57:53,710 --> 00:58:06,400
points right there not important so it

1093
00:58:00,429 --> 00:58:11,379
seems to me that that suggests that the

1094
00:58:06,400 --> 00:58:15,820
sort point actually comes out of a

1095
00:58:11,380 --> 00:58:18,160
completely different place right so in

1096
00:58:15,820 --> 00:58:20,230
other words when we come through here

1097
00:58:18,159 --> 00:58:25,029
and we do perspectives the displacement

1098
00:58:20,230 --> 00:58:27,400
Z and all this sort of stuff the sort

1099
00:58:25,030 --> 00:58:32,860
value is actually going to be something

1100
00:58:27,400 --> 00:58:35,380
that got computed along with in us in a

1101
00:58:32,860 --> 00:58:40,349
separate way right it's something that

1102
00:58:35,380 --> 00:58:40,349
you did you know you did like sort key

1103
00:58:44,318 --> 00:58:56,929
and you know you passed that right you

1104
00:58:54,019 --> 00:59:10,659
got one of these back whatever it was

1105
00:58:56,929 --> 00:59:13,669
and when you got it back you set it as

1106
00:59:10,659 --> 00:59:16,159
part of like the object transform and

1107
00:59:13,670 --> 00:59:22,730
just used it for all the pieces of this

1108
00:59:16,159 --> 00:59:25,368
thing whatever this thing is right uh

1109
00:59:22,730 --> 00:59:28,670
that to me seems like what would

1110
00:59:25,369 --> 00:59:31,099
probably happen because most articulated

1111
00:59:28,670 --> 00:59:33,079
figures are going to need to set the

1112
00:59:31,099 --> 00:59:38,088
sort key once and have all of their

1113
00:59:33,079 --> 00:59:40,310
components sorted with that key and then

1114
00:59:38,088 --> 00:59:43,369
each of the things on that key would be

1115
00:59:40,309 --> 00:59:48,259
assigned a specific location relative to

1116
00:59:43,369 --> 00:59:50,780
each other yeah I think I feel like that

1117
00:59:48,260 --> 00:59:52,280
is definitely what has to happen all

1118
00:59:50,780 --> 00:59:57,589
right so I'm going to I'm going to play

1119
00:59:52,280 --> 00:59:58,970
with with this a little bit here I guess

1120
00:59:57,588 --> 01:00:03,949
I should since we're at the end of the

1121
00:59:58,969 --> 01:00:06,519
day I should I should back this out for

1122
01:00:03,949 --> 01:00:06,519
the time being

1123
01:00:23,210 --> 01:00:40,920
projected XYZ so the perspective Z term

1124
01:00:36,300 --> 01:00:44,960
there I do I want that scaled I guess

1125
01:00:40,920 --> 01:00:44,960
since everyone else is scaled

1126
01:00:56,030 --> 01:01:19,140
I'm not sure I mean it sort of seems

1127
01:01:05,639 --> 01:01:25,099
like that's just this this is going to

1128
01:01:19,139 --> 01:01:32,670
wreak havoc but what are you gonna do uh

1129
01:01:25,099 --> 01:01:35,250
so anyway we um so yeah I think that's

1130
01:01:32,670 --> 01:01:38,280
what we probably want to get to and I

1131
01:01:35,250 --> 01:01:41,250
feel like starting next week maybe the

1132
01:01:38,280 --> 01:01:43,140
right thing to do here is come into

1133
01:01:41,250 --> 01:01:48,150
world mode where now we've got sort of

1134
01:01:43,139 --> 01:01:54,179
the peace stuff working and make this

1135
01:01:48,150 --> 01:01:58,769
figure out what exactly oh wait sorry i

1136
01:01:54,179 --> 01:02:00,509
forgot removed this out what we want to

1137
01:01:58,769 --> 01:02:04,409
do here is like when we do these these

1138
01:02:00,510 --> 01:02:07,050
pieces make this actual routine here

1139
01:02:04,409 --> 01:02:09,779
work the way we think it should where we

1140
01:02:07,050 --> 01:02:14,450
say let's start a sort key and this

1141
01:02:09,780 --> 01:02:14,450
group sorts together and off we go I

1142
01:02:14,989 --> 01:02:20,639
think that's a good idea so I'm going to

1143
01:02:19,230 --> 01:02:22,590
basically put it to do in here for what

1144
01:02:20,639 --> 01:02:24,059
I want to do next week and I think it

1145
01:02:22,590 --> 01:02:25,260
might take couple days but then I think

1146
01:02:24,059 --> 01:02:29,130
we can finally have all this stuff

1147
01:02:25,260 --> 01:02:36,890
straightened out let's say that this is

1148
01:02:29,130 --> 01:02:41,369
what needs to happen so this is where

1149
01:02:36,889 --> 01:02:46,559
articulated figures will be happening so

1150
01:02:41,369 --> 01:02:50,369
we need to have this code look correct

1151
01:02:46,559 --> 01:02:56,279
in terms of how we want rendering

1152
01:02:50,369 --> 01:03:01,680
submitted it should take a it should

1153
01:02:56,280 --> 01:03:03,750
begin by creating a sort key for the

1154
01:03:01,679 --> 01:03:13,469
entire armature

1155
01:03:03,750 --> 01:03:18,130
and then it should be able to guarantee

1156
01:03:13,469 --> 01:03:22,329
that each piece will be rendered in the

1157
01:03:18,130 --> 01:03:28,000
order it was submitted after being

1158
01:03:22,329 --> 01:03:39,279
sorted into the scene at large by the

1159
01:03:28,000 --> 01:03:42,610
key right and at the same time I feel

1160
01:03:39,280 --> 01:03:45,490
like we should also try to make the well

1161
01:03:42,610 --> 01:03:47,019
I guess so i think we do the pivot

1162
01:03:45,489 --> 01:03:50,529
points correctly with with bitmap

1163
01:03:47,019 --> 01:03:54,550
alignment here so that should all be

1164
01:03:50,530 --> 01:03:55,870
fine i think and that means that our

1165
01:03:54,550 --> 01:03:58,360
displacement we don't need a

1166
01:03:55,869 --> 01:04:04,059
displacement or a sort bias because that

1167
01:03:58,360 --> 01:04:08,670
can just happen outside now right so

1168
01:04:04,059 --> 01:04:16,139
yeah this should eliminate the need for

1169
01:04:08,670 --> 01:04:22,619
render group side source bias as well

1170
01:04:16,139 --> 01:04:32,920
since now the user is in control of

1171
01:04:22,619 --> 01:04:38,019
setting the sort value specifically this

1172
01:04:32,920 --> 01:04:43,269
also means we should be able to call a

1173
01:04:38,019 --> 01:04:46,509
sort key transform routine that does the

1174
01:04:43,269 --> 01:04:50,659
entity basis transform and then reports

1175
01:04:46,510 --> 01:05:00,320
the sort key to us

1176
01:04:50,659 --> 01:05:06,909
yeah and probably we will want the sort

1177
01:05:00,320 --> 01:05:11,660
keys to be you 30 tues now so we'll

1178
01:05:06,909 --> 01:05:16,789
convert from float at this time and that

1179
01:05:11,659 --> 01:05:24,139
way we can use the low bits for

1180
01:05:16,789 --> 01:05:34,369
maintaining order or maybe we just use a

1181
01:05:24,139 --> 01:05:37,869
staple sort yeah ah so let's see here

1182
01:05:34,369 --> 01:05:37,869
I'm going to go to the QA

1183
01:06:11,969 --> 01:06:18,449
canoe kohls kind of didn't get it from

1184
01:06:15,210 --> 01:06:20,159
the email are you still up to putting a

1185
01:06:18,449 --> 01:06:23,539
break sometime soon and make a little

1186
01:06:20,159 --> 01:06:25,889
interest rates programming still up to I

1187
01:06:23,539 --> 01:06:34,108
don't did I ever say I was going to do

1188
01:06:25,889 --> 01:06:35,848
that I definitely am NOT going to do

1189
01:06:34,108 --> 01:06:38,539
that but I don't recall ever saying I

1190
01:06:35,849 --> 01:06:38,539
was going to do that either

1191
01:07:17,510 --> 01:07:22,230
another use case to consider for the YZ

1192
01:07:20,608 --> 01:07:23,909
sorting flat things laying on top of

1193
01:07:22,230 --> 01:07:26,369
other flat things like a rug on a floor

1194
01:07:23,909 --> 01:07:28,618
how would the zy sort position be set in

1195
01:07:26,369 --> 01:07:31,650
this case especially at the thing on top

1196
01:07:28,619 --> 01:07:38,250
was larger than the thing it was laying

1197
01:07:31,650 --> 01:07:41,280
on well I don't think we quite have that

1198
01:07:38,250 --> 01:07:43,108
situation but i would say that should be

1199
01:07:41,280 --> 01:07:50,510
treated the same as the articulated

1200
01:07:43,108 --> 01:07:50,509
figure case kind of but i don't know i

1201
01:07:50,630 --> 01:08:02,190
guess i would say i guess i would say if

1202
01:08:00,088 --> 01:08:10,500
something is lying on the floor then as

1203
01:08:02,190 --> 01:08:14,150
long as it is as long as it is broken up

1204
01:08:10,500 --> 01:08:14,150
in terms of floor pieces

1205
01:08:17,310 --> 01:08:23,039
yeah I don't know I mean I think what I

1206
01:08:21,659 --> 01:08:25,050
would probably do is I would say that

1207
01:08:23,039 --> 01:08:29,100
it's z value should always be a little

1208
01:08:25,050 --> 01:08:31,829
higher than the other Z values right but

1209
01:08:29,100 --> 01:08:35,100
the fact that it's it's one piece that

1210
01:08:31,829 --> 01:08:40,609
goes over a lot of them I'm not sure how

1211
01:08:35,100 --> 01:08:40,609
you really make that work properly

1212
01:09:02,970 --> 01:09:08,250
canoe cools you wanted to go a bit more

1213
01:09:07,050 --> 01:09:10,230
serious than introduced here early on

1214
01:09:08,250 --> 01:09:11,970
maybe change reminds us no I I want to

1215
01:09:10,229 --> 01:09:15,059
do that someday but that's like after

1216
01:09:11,970 --> 01:09:17,820
handmade heroes done right that's not

1217
01:09:15,060 --> 01:09:19,770
any time during during hand material

1218
01:09:17,819 --> 01:09:21,269
Gary Johansson what do you think of

1219
01:09:19,770 --> 01:09:22,560
representing ends is 3d objects to keep

1220
01:09:21,270 --> 01:09:24,800
things simple like cylinders for

1221
01:09:22,560 --> 01:09:27,210
characters and cubes for tiles and rooms

1222
01:09:24,800 --> 01:09:28,920
it's not a bad idea just based on the

1223
01:09:27,210 --> 01:09:31,710
number of things that's hard to get

1224
01:09:28,920 --> 01:09:37,409
right with straight to D bitmaps I could

1225
01:09:31,710 --> 01:09:45,000
see using just plates in 3d as being

1226
01:09:37,409 --> 01:09:51,869
good idea because sorting by why seems

1227
01:09:45,000 --> 01:09:55,619
to be really temperamental and so you

1228
01:09:51,869 --> 01:09:58,019
know I'm really just not sure if maybe

1229
01:09:55,619 --> 01:10:02,010
there's something to be said for

1230
01:09:58,020 --> 01:10:09,210
actually just having plates which have a

1231
01:10:02,010 --> 01:10:12,780
z-value this is kind of standard in

1232
01:10:09,210 --> 01:10:15,480
modern games where you you know you have

1233
01:10:12,779 --> 01:10:18,539
each sprite mapped onto a plate you

1234
01:10:15,479 --> 01:10:20,489
actually can still put them in 3d and

1235
01:10:18,539 --> 01:10:26,159
you know use a z-buffer to sort them or

1236
01:10:20,489 --> 01:10:29,340
whatever and you know I think that has a

1237
01:10:26,159 --> 01:10:32,130
lot of niceness to it and I don't know

1238
01:10:29,340 --> 01:10:34,500
maybe we should do that the idea for

1239
01:10:32,130 --> 01:10:36,600
handmade hero was to try and stay away

1240
01:10:34,500 --> 01:10:38,399
from having to do a lot of 3d stuff

1241
01:10:36,600 --> 01:10:43,050
because I feel like that's kind of a

1242
01:10:38,399 --> 01:10:46,409
jump that's harder for people to make so

1243
01:10:43,050 --> 01:10:48,270
i don't know like it may be that this is

1244
01:10:46,409 --> 01:10:51,149
good enough and then it's okay it may be

1245
01:10:48,270 --> 01:10:56,480
that it's not and then I don't know like

1246
01:10:51,149 --> 01:10:56,479
maybe you have to have to do 3d

1247
01:11:00,139 --> 01:11:09,479
yeah I'm not sure the case that we were

1248
01:11:07,979 --> 01:11:11,099
talking about with the rug is an

1249
01:11:09,479 --> 01:11:13,320
interesting one because I do think

1250
01:11:11,099 --> 01:11:16,019
that's problematic and maybe it's not

1251
01:11:13,319 --> 01:11:17,158
clear why I think it's problematic but

1252
01:11:16,019 --> 01:11:18,780
I'm assuming that the person has the

1253
01:11:17,158 --> 01:11:20,788
question knows why is problematic

1254
01:11:18,779 --> 01:11:24,118
because otherwise they wouldn't ask the

1255
01:11:20,788 --> 01:11:28,319
question but the problem that we would

1256
01:11:24,118 --> 01:11:32,429
have with that is that you know if

1257
01:11:28,319 --> 01:11:35,038
you're sorting by why then you've got

1258
01:11:32,429 --> 01:11:38,809
this problem of I've got a rug and then

1259
01:11:35,038 --> 01:11:38,809
I've got some tiles under the rug

1260
01:11:41,479 --> 01:11:52,619
clearly none of these tiles should sort

1261
01:11:47,179 --> 01:11:55,649
in front of the rug right because the

1262
01:11:52,618 --> 01:11:59,399
rugs on top of them so I can't very well

1263
01:11:55,649 --> 01:12:01,828
put the sort for this thing here and the

1264
01:11:59,399 --> 01:12:03,598
reason I can't is because if I did all

1265
01:12:01,828 --> 01:12:11,609
of these would actually have sort keys

1266
01:12:03,599 --> 01:12:14,219
that were in front of it right on the

1267
01:12:11,609 --> 01:12:15,839
other hand I can't put it here which is

1268
01:12:14,219 --> 01:12:17,809
what would allow it to sort in front of

1269
01:12:15,840 --> 01:12:22,110
all of these because if I put it here

1270
01:12:17,809 --> 01:12:29,310
then a hero who is standing here would

1271
01:12:22,109 --> 01:12:31,369
sort behind the rug right

1272
01:12:29,310 --> 01:12:31,370
uh

1273
01:12:39,289 --> 01:12:43,510
so I'm just not really sure

1274
01:12:48,850 --> 01:12:53,890
I feel like this is the kind of thing

1275
01:12:50,829 --> 01:12:58,029
where I need to work out more explicitly

1276
01:12:53,890 --> 01:13:02,410
what would happen in 3d that makes it

1277
01:12:58,029 --> 01:13:06,069
work okay and then make sure that that

1278
01:13:02,409 --> 01:13:09,329
gets reproduced and I think that the

1279
01:13:06,069 --> 01:13:13,679
answer is that you need to be

1280
01:13:09,329 --> 01:13:17,529
interpolating if that makes some sense

1281
01:13:13,680 --> 01:13:21,070
like the reason that this works is

1282
01:13:17,529 --> 01:13:23,619
because I know that it was flat and so I

1283
01:13:21,069 --> 01:13:28,000
know that the value from here to here is

1284
01:13:23,619 --> 01:13:29,949
not increasing right whereas this guy I

1285
01:13:28,000 --> 01:13:32,439
know that the value from here to here is

1286
01:13:29,949 --> 01:13:35,130
increasing in terms of its closeness to

1287
01:13:32,439 --> 01:13:35,129
the camera

1288
01:13:57,930 --> 01:14:02,640
but even that doesn't really answer the

1289
01:14:00,149 --> 01:14:04,409
question for me because at no time are

1290
01:14:02,640 --> 01:14:06,869
we contemplating a case where these

1291
01:14:04,409 --> 01:14:08,519
things intersect so we shouldn't really

1292
01:14:06,869 --> 01:14:10,260
ever have to consider the fact that they

1293
01:14:08,520 --> 01:14:13,800
change they should be able to be

1294
01:14:10,260 --> 01:14:35,520
represented by something but I just

1295
01:14:13,800 --> 01:14:36,930
don't know what that something is yeah I

1296
01:14:35,520 --> 01:14:41,690
feel like this just needs to be worked

1297
01:14:36,930 --> 01:14:41,690
out in 3d a little more carefully right

1298
01:14:43,699 --> 01:14:51,300
you know in 3d we've got the situation

1299
01:14:46,439 --> 01:14:59,639
where we're looking at this and if we

1300
01:14:51,300 --> 01:15:01,590
had something like this we would know

1301
01:14:59,640 --> 01:15:05,240
that this is in front of this because

1302
01:15:01,590 --> 01:15:09,720
the actual time when we encounter it

1303
01:15:05,239 --> 01:15:14,309
right the time when it gets encountered

1304
01:15:09,720 --> 01:15:18,210
is earlier on this ray then then on here

1305
01:15:14,310 --> 01:15:23,039
right if we were to take a look at where

1306
01:15:18,210 --> 01:15:25,380
these things come on the camera and I

1307
01:15:23,039 --> 01:15:28,409
guess that's a good you can kind of see

1308
01:15:25,380 --> 01:15:31,319
its incidence here being important like

1309
01:15:28,409 --> 01:15:34,319
as I come down where this this

1310
01:15:31,319 --> 01:15:36,719
intersects on the camera plane continues

1311
01:15:34,319 --> 01:15:39,599
to kind of be you know it's a line going

1312
01:15:36,720 --> 01:15:43,020
this way right as opposed to a line

1313
01:15:39,600 --> 01:15:46,220
going that way and so this does

1314
01:15:43,020 --> 01:15:54,500
eventually right if taken out far enough

1315
01:15:46,220 --> 01:15:54,500
get to be in front of this same here

1316
01:15:55,270 --> 01:16:01,430
so this part of this wall would have

1317
01:15:59,000 --> 01:16:04,100
been in front of this but this part of

1318
01:16:01,430 --> 01:16:06,380
this wall isn't and so I think that's

1319
01:16:04,100 --> 01:16:19,880
the important part is that these planes

1320
01:16:06,380 --> 01:16:22,250
actually are relevant right and it's

1321
01:16:19,880 --> 01:16:25,989
tricky because you care about which part

1322
01:16:22,250 --> 01:16:25,989
of the plane you're talking about

1323
01:16:41,500 --> 01:16:47,029
well technically the stream is over so

1324
01:16:44,569 --> 01:16:49,460
I'm going to have to end but this I

1325
01:16:47,029 --> 01:16:52,000
think we're not done here I think this

1326
01:16:49,460 --> 01:16:54,140
is definitely there's more to this it's

1327
01:16:52,000 --> 01:16:56,390
there's got to be more to it than this

1328
01:16:54,140 --> 01:16:58,789
and I think we need to figure out what

1329
01:16:56,390 --> 01:17:01,460
it is so I'm not satisfied with my

1330
01:16:58,789 --> 01:17:04,810
understanding of it and there's more we

1331
01:17:01,460 --> 01:17:04,810
need to go further

1332
01:17:13,149 --> 01:17:18,139
cocho 87 maybe you need to sort the

1333
01:17:16,130 --> 01:17:21,680
object separately in both y and z and

1334
01:17:18,140 --> 01:17:23,840
then solve the conflicts if an object a

1335
01:17:21,680 --> 01:17:26,180
is before another object be in the Y

1336
01:17:23,840 --> 01:17:29,090
sort but in the reverse or in the Z sort

1337
01:17:26,180 --> 01:17:30,739
that's a very interesting idea I don't

1338
01:17:29,090 --> 01:17:31,819
know again like I said I don't feel like

1339
01:17:30,738 --> 01:17:33,500
I have a complete understanding of it

1340
01:17:31,819 --> 01:17:35,449
I'm not sure if it's an idea that

1341
01:17:33,500 --> 01:17:39,020
attacks the problem in the place that it

1342
01:17:35,449 --> 01:17:41,750
needs to it to or not but it's a very

1343
01:17:39,020 --> 01:17:48,350
chewing idea what what he's suggesting

1344
01:17:41,750 --> 01:17:55,789
or she whoever akoto 87 is what they're

1345
01:17:48,350 --> 01:17:57,469
suggesting is that if we have an object

1346
01:17:55,789 --> 01:18:00,529
that is in front of somebody both in

1347
01:17:57,469 --> 01:18:03,880
terms of X in terms of Y and in terms of

1348
01:18:00,529 --> 01:18:06,859
Z then presumably it can never be wrong

1349
01:18:03,880 --> 01:18:09,550
but if it's in front of it in X I mean

1350
01:18:06,859 --> 01:18:12,949
in front of it in why but behind it in Z

1351
01:18:09,550 --> 01:18:15,079
then maybe that is the cases that we

1352
01:18:12,949 --> 01:18:18,619
have to resolve and maybe we have to

1353
01:18:15,079 --> 01:18:21,979
resolve them in some special way still

1354
01:18:18,619 --> 01:18:23,960
though I don't know I still think that

1355
01:18:21,979 --> 01:18:25,669
doesn't really help us and the reason

1356
01:18:23,960 --> 01:18:28,640
that I think that doesn't really help us

1357
01:18:25,670 --> 01:18:30,850
is because part of the problem is that

1358
01:18:28,640 --> 01:18:34,070
objects don't have just one y value

1359
01:18:30,850 --> 01:18:37,910
right so we still have that weird thing

1360
01:18:34,069 --> 01:18:39,679
of like you know do we cheat and place

1361
01:18:37,909 --> 01:18:43,000
the thing in different ways I feel like

1362
01:18:39,680 --> 01:18:43,000
we shouldn't have to be doing that

1363
01:19:16,229 --> 01:19:25,059
I'm kind of also wondering if maybe I'm

1364
01:19:20,380 --> 01:19:27,310
not missing a bigger picture here which

1365
01:19:25,060 --> 01:19:30,070
is that I wonder if I out was out

1366
01:19:27,310 --> 01:19:34,410
thinking myself and actually the Z value

1367
01:19:30,069 --> 01:19:34,409
is the only thing you really care about

1368
01:19:42,090 --> 01:19:48,569
I'm gonna finish you and I we need to

1369
01:19:44,739 --> 01:19:48,569
spend a whole episode working this out

1370
01:20:26,069 --> 01:20:34,630
mm-hmm well I don't see any more

1371
01:20:32,170 --> 01:20:36,010
questions really so I'm going to go

1372
01:20:34,630 --> 01:20:37,539
ahead and close down and just say that

1373
01:20:36,010 --> 01:20:38,980
this is to be continued because I'm not

1374
01:20:37,539 --> 01:20:40,689
satisfied with it and I think we need to

1375
01:20:38,979 --> 01:20:42,488
look at it more closely and figure out

1376
01:20:40,689 --> 01:20:44,349
what actually should be going on here

1377
01:20:42,488 --> 01:20:46,029
because I feel like there's an answer

1378
01:20:44,350 --> 01:20:49,180
that's just a little bit out of reach

1379
01:20:46,029 --> 01:20:51,069
because I'm not understanding them right

1380
01:20:49,180 --> 01:20:52,480
and I think what I want need to do is

1381
01:20:51,069 --> 01:20:53,769
rather than kind of like get to it

1382
01:20:52,479 --> 01:20:55,329
roundabout way and be like oh let's

1383
01:20:53,770 --> 01:20:56,739
think about this to today we need to

1384
01:20:55,329 --> 01:20:58,539
spend the day and say we're just going

1385
01:20:56,738 --> 01:20:59,979
to spend all day to day drawing out

1386
01:20:58,539 --> 01:21:03,819
cases figure out what would actually

1387
01:20:59,979 --> 01:21:06,519
happen in 3d and then figure out how we

1388
01:21:03,819 --> 01:21:09,159
correctly capture that in the 2d setting

1389
01:21:06,520 --> 01:21:13,210
to our satisfaction so I think that's

1390
01:21:09,159 --> 01:21:15,099
going to be what needs to happen so I'm

1391
01:21:13,210 --> 01:21:16,420
going ahead and closed down thank you

1392
01:21:15,100 --> 01:21:17,739
everyone for joining me for lep's on a

1393
01:21:16,420 --> 01:21:19,480
handmade hero it sorta pleasure coding

1394
01:21:17,738 --> 01:21:22,269
with you as always if you would like to

1395
01:21:19,479 --> 01:21:23,559
follow along with the stream at home you

1396
01:21:22,270 --> 01:21:26,050
can always peer to the game on handmade

1397
01:21:23,560 --> 01:21:27,910
hero org it comes with a source code so

1398
01:21:26,050 --> 01:21:29,140
you can play around with it we also have

1399
01:21:27,909 --> 01:21:30,789
a forum site you can go to someone asked

1400
01:21:29,140 --> 01:21:32,380
questions a patreon page while support

1401
01:21:30,789 --> 01:21:34,630
the video series a schedule bot that

1402
01:21:32,380 --> 01:21:36,869
tweets the schedule you and an episode

1403
01:21:34,630 --> 01:21:39,940
guide if you want to catch up on old

1404
01:21:36,869 --> 01:21:42,670
episodes that's about it for today I

1405
01:21:39,939 --> 01:21:45,729
will catch you guys next week there's no

1406
01:21:42,670 --> 01:21:47,350
stream tomorrow so until next week have

1407
01:21:45,729 --> 01:21:50,879
fun programming and I will see you guys

1408
01:21:47,350 --> 01:21:50,880
on the internet take it easy everyone

