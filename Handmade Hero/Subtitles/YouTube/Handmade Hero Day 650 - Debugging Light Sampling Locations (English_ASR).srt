1
00:00:02,638 --> 00:00:07,519
hello everybody and welcome to handmade

2
00:00:04,960 --> 00:00:09,839
hero we are uh trying to fix a problem

3
00:00:07,519 --> 00:00:12,558
today that is the problem uh that you

4
00:00:09,839 --> 00:00:15,359
can see we have we introduced some kind

5
00:00:12,558 --> 00:00:17,198
of a bug at least i think we did uh when

6
00:00:15,359 --> 00:00:20,239
we we really did some nice work with the

7
00:00:17,199 --> 00:00:23,199
lighting um and it's it's very like

8
00:00:20,239 --> 00:00:25,278
efficient now and does really uh pretty

9
00:00:23,199 --> 00:00:28,240
pretty dramatic largely large number of

10
00:00:25,278 --> 00:00:29,839
samples uh but we have this like light

11
00:00:28,239 --> 00:00:32,000
brightness contamination problem i

12
00:00:29,839 --> 00:00:34,159
suspect it's actually due to a bug and

13
00:00:32,000 --> 00:00:35,920
not an algorithmic issue i think we

14
00:00:34,159 --> 00:00:37,679
introduced some kind of a bug like where

15
00:00:35,920 --> 00:00:40,160
we're sampling or filling something

16
00:00:37,679 --> 00:00:42,558
wrong you can see when we don't have the

17
00:00:40,159 --> 00:00:44,479
light contamination it looks great i

18
00:00:42,558 --> 00:00:47,039
love the look of the lighting it's it's

19
00:00:44,479 --> 00:00:48,398
fantastic um

20
00:00:47,039 --> 00:00:51,520
but we get this weird light

21
00:00:48,399 --> 00:00:53,600
contamination bug where uh you know

22
00:00:51,520 --> 00:00:55,280
you can see the sort of weird effects

23
00:00:53,600 --> 00:00:56,320
with the lights where they like over

24
00:00:55,280 --> 00:00:58,879
bright

25
00:00:56,320 --> 00:01:00,640
um and there's just something very

26
00:00:58,878 --> 00:01:03,198
strange going on that

27
00:01:00,640 --> 00:01:05,680
really to me doesn't look

28
00:01:03,198 --> 00:01:07,599
logical like i'm guessing that it's that

29
00:01:05,680 --> 00:01:08,880
it's an actual like

30
00:01:07,599 --> 00:01:10,158
uh

31
00:01:08,879 --> 00:01:12,158
you know whenever you have a lighting

32
00:01:10,159 --> 00:01:13,840
system it could just be a bug i mean

33
00:01:12,159 --> 00:01:16,640
sorry it could just be a um an

34
00:01:13,840 --> 00:01:19,040
algorithmic bug meaning oh you're doing

35
00:01:16,640 --> 00:01:21,200
this sampling slightly wrong or you're

36
00:01:19,040 --> 00:01:23,600
you know you you've got some kind of a

37
00:01:21,200 --> 00:01:25,759
math issue that's going to lead to

38
00:01:23,599 --> 00:01:27,118
feedback or something like that it's

39
00:01:25,759 --> 00:01:30,079
certainly possible that that's what's

40
00:01:27,118 --> 00:01:31,438
going on um and you know maybe the

41
00:01:30,078 --> 00:01:33,359
reason we're seeing it now is because

42
00:01:31,438 --> 00:01:36,798
the lighting is running at such

43
00:01:33,359 --> 00:01:38,319
a high rate that you know it quickly

44
00:01:36,799 --> 00:01:40,400
contaminates whereas before it would

45
00:01:38,319 --> 00:01:42,319
like very be very slow

46
00:01:40,400 --> 00:01:45,040
or something like that

47
00:01:42,319 --> 00:01:47,438
um totally plausible but i also think

48
00:01:45,040 --> 00:01:48,560
it's very uh plausible that maybe we had

49
00:01:47,438 --> 00:01:50,719
a bug

50
00:01:48,560 --> 00:01:52,320
uh that just wasn't really uncovered by

51
00:01:50,719 --> 00:01:55,039
the old system the old way the old

52
00:01:52,319 --> 00:01:56,718
system work kind of masked the bug um or

53
00:01:55,040 --> 00:01:59,600
something or

54
00:01:56,718 --> 00:02:01,919
we introduced a new bug that actually is

55
00:01:59,599 --> 00:02:05,039
is doing something fundamentally wrong

56
00:02:01,920 --> 00:02:07,759
here um that leads to this result

57
00:02:05,040 --> 00:02:10,879
so uh either way that's what we have to

58
00:02:07,759 --> 00:02:13,520
track down and thankfully uh it's it is

59
00:02:10,878 --> 00:02:16,560
somewhat detectable so in other words if

60
00:02:13,520 --> 00:02:18,560
i go into the code here

61
00:02:16,560 --> 00:02:21,280
we actually have some checks that we can

62
00:02:18,560 --> 00:02:23,039
run um that we did before

63
00:02:21,280 --> 00:02:24,318
i think they were in the lighting atlas

64
00:02:23,039 --> 00:02:26,318
code here

65
00:02:24,318 --> 00:02:28,719
where we can turn on this light atlas

66
00:02:26,318 --> 00:02:30,958
assert and what that does is it slows

67
00:02:28,719 --> 00:02:33,199
things down quite a bit by just running

68
00:02:30,959 --> 00:02:35,680
over the atlas all the time

69
00:02:33,199 --> 00:02:38,479
looking at these texels and running this

70
00:02:35,680 --> 00:02:41,120
validate texel component uh call right

71
00:02:38,479 --> 00:02:42,399
um and you can see that validate text

72
00:02:41,120 --> 00:02:44,959
component call

73
00:02:42,400 --> 00:02:46,719
uh in here it basically just

74
00:02:44,959 --> 00:02:49,598
does whatever check we want whatever

75
00:02:46,719 --> 00:02:51,840
we're looking for at the time

76
00:02:49,598 --> 00:02:53,199
um and what you can see here is that

77
00:02:51,840 --> 00:02:54,878
there's a

78
00:02:53,199 --> 00:02:57,039
the way of producing a valid test

79
00:02:54,878 --> 00:02:58,799
component here is we've got this range

80
00:02:57,039 --> 00:03:01,598
negative hundred to a hundred

81
00:02:58,800 --> 00:03:03,840
my guess is that you know now we should

82
00:03:01,598 --> 00:03:06,000
really never have things that are below

83
00:03:03,840 --> 00:03:07,840
zero uh i don't

84
00:03:06,000 --> 00:03:09,199
see how you would actually get that uh

85
00:03:07,840 --> 00:03:11,039
we could check

86
00:03:09,199 --> 00:03:12,238
uh but you shouldn't really ever ever be

87
00:03:11,039 --> 00:03:14,400
able to do that

88
00:03:12,239 --> 00:03:17,840
um so if we set let's just see what

89
00:03:14,400 --> 00:03:19,840
happens if we if we set it to a uh

90
00:03:17,840 --> 00:03:21,519
guarantee that it's above zero i'm not

91
00:03:19,840 --> 00:03:24,400
sure it might be that it occasionally is

92
00:03:21,519 --> 00:03:25,840
slightly below uh but i'd like to see so

93
00:03:24,400 --> 00:03:28,400
i'm going to turn on the light atlas

94
00:03:25,840 --> 00:03:30,479
asserts here

95
00:03:28,400 --> 00:03:33,519
and then we're going to see what happens

96
00:03:30,479 --> 00:03:35,598
if we um if we run it do we ever get any

97
00:03:33,519 --> 00:03:37,519
light values below zero uh because i

98
00:03:35,598 --> 00:03:39,199
don't think we would right and the

99
00:03:37,519 --> 00:03:40,719
reason for that is that lighting is

100
00:03:39,199 --> 00:03:42,878
always summed

101
00:03:40,719 --> 00:03:43,680
uh it's a sum you know it's a weighted

102
00:03:42,878 --> 00:03:45,598
sum

103
00:03:43,680 --> 00:03:46,959
and since none of the lights are we

104
00:03:45,598 --> 00:03:48,719
don't have the concept of negative

105
00:03:46,959 --> 00:03:50,479
lights there's we don't have in the game

106
00:03:48,719 --> 00:03:52,400
right now anything that's like sucking

107
00:03:50,479 --> 00:03:53,759
light out of a region

108
00:03:52,400 --> 00:03:56,000
um so

109
00:03:53,759 --> 00:03:58,318
because of that uh you would never

110
00:03:56,000 --> 00:04:00,080
expect the number to be zero because we

111
00:03:58,318 --> 00:04:02,399
never we would never even if we didn't

112
00:04:00,080 --> 00:04:06,080
clamp it uh or anything else you would

113
00:04:02,400 --> 00:04:08,640
never expect you'd be able to sum right

114
00:04:06,080 --> 00:04:10,400
so uh if we check that we now know that

115
00:04:08,639 --> 00:04:12,318
we can have like kind of a lower bound

116
00:04:10,400 --> 00:04:14,080
there but we also know we could now

117
00:04:12,318 --> 00:04:16,399
impose an upper bound which is to say

118
00:04:14,080 --> 00:04:20,000
that our lighting system because it is a

119
00:04:16,399 --> 00:04:20,000
summation of um

120
00:04:20,160 --> 00:04:24,800
of samples we should never be able to

121
00:04:22,560 --> 00:04:27,680
produce things that get higher than the

122
00:04:24,800 --> 00:04:29,680
power of the light sources in a region

123
00:04:27,680 --> 00:04:31,120
and my assumption is that we do because

124
00:04:29,680 --> 00:04:33,840
that's how you would get this over

125
00:04:31,120 --> 00:04:34,959
writing here i don't know what the level

126
00:04:33,839 --> 00:04:37,039
whoa

127
00:04:34,959 --> 00:04:39,439
that's really cool i don't know what the

128
00:04:37,040 --> 00:04:41,600
level of over brightness is but i'm

129
00:04:39,439 --> 00:04:42,800
hoping that this would

130
00:04:41,600 --> 00:04:44,800
trigger of course it didn't i'm

131
00:04:42,800 --> 00:04:45,759
wondering did i do this wrong

132
00:04:44,800 --> 00:04:46,960
um

133
00:04:45,759 --> 00:04:49,040
because you would think that would

134
00:04:46,959 --> 00:04:50,478
trigger here the fact that it's not

135
00:04:49,040 --> 00:04:52,639
triggering here

136
00:04:50,478 --> 00:04:54,639
uh is a little suspicious maybe this was

137
00:04:52,639 --> 00:04:56,800
not actually on

138
00:04:54,639 --> 00:04:59,519
let's let's take a let's double check i

139
00:04:56,800 --> 00:04:59,520
don't actually know

140
00:05:04,720 --> 00:05:09,199
so here the validate test component call

141
00:05:06,800 --> 00:05:11,600
will always return false so this way if

142
00:05:09,199 --> 00:05:13,520
we want to we can say like okay look it

143
00:05:11,600 --> 00:05:17,280
should stop right away

144
00:05:13,519 --> 00:05:19,918
and it looks like it does so that's good

145
00:05:17,279 --> 00:05:22,159
um i don't know why this

146
00:05:19,918 --> 00:05:25,038
zero to 100

147
00:05:22,160 --> 00:05:26,960
it seems odd that that wouldn't trigger

148
00:05:25,038 --> 00:05:28,800
based on what we're seeing but i guess

149
00:05:26,959 --> 00:05:31,519
i'm wrong i thought we tested this and

150
00:05:28,800 --> 00:05:33,759
it did trigger so i'm a little bit

151
00:05:31,519 --> 00:05:36,079
weirded out about what's happening here

152
00:05:33,759 --> 00:05:38,319
um but i don't know i mean i guess we're

153
00:05:36,079 --> 00:05:39,359
gonna find out

154
00:05:38,319 --> 00:05:41,839
when we

155
00:05:39,360 --> 00:05:43,840
when we go here uh also i suppose

156
00:05:41,839 --> 00:05:46,159
there's a separate issue which is that

157
00:05:43,839 --> 00:05:48,959
we are viewing the specular lighting

158
00:05:46,160 --> 00:05:51,199
here i'm sorry the diffuse lighting here

159
00:05:48,959 --> 00:05:54,159
um i guess we haven't really looked at

160
00:05:51,199 --> 00:05:55,759
the specular lighting and so it could be

161
00:05:54,160 --> 00:05:59,199
that there's something weird going on

162
00:05:55,759 --> 00:06:00,800
there i'm not sure uh that's a that's a

163
00:05:59,199 --> 00:06:02,160
tough question and i guess we'll have to

164
00:06:00,800 --> 00:06:03,840
look at that a little bit more closely

165
00:06:02,160 --> 00:06:05,280
as we go

166
00:06:03,839 --> 00:06:08,159
all right so i guess the next question

167
00:06:05,279 --> 00:06:10,879
is can we do some kind of a bounds check

168
00:06:08,160 --> 00:06:12,479
here where we reduce this to something

169
00:06:10,879 --> 00:06:14,240
that does trigger

170
00:06:12,478 --> 00:06:16,159
is there a lighting bound that will

171
00:06:14,240 --> 00:06:17,600
trigger

172
00:06:16,160 --> 00:06:20,560
and i don't know

173
00:06:17,600 --> 00:06:22,800
um if there isn't that's further

174
00:06:20,560 --> 00:06:24,720
that's a further clue as to what's going

175
00:06:22,800 --> 00:06:26,240
on because i don't i have no idea how

176
00:06:24,720 --> 00:06:28,319
what we could be seeing could be

177
00:06:26,240 --> 00:06:29,360
happening if the lighting values are

178
00:06:28,319 --> 00:06:30,879
always

179
00:06:29,360 --> 00:06:32,800
within range

180
00:06:30,879 --> 00:06:34,240
this should surely trigger because i

181
00:06:32,800 --> 00:06:37,038
think we actually have light values

182
00:06:34,240 --> 00:06:40,720
right now that are greater than one so

183
00:06:37,038 --> 00:06:43,360
again unless this code is just broken um

184
00:06:40,720 --> 00:06:43,360
i would think

185
00:06:43,680 --> 00:06:48,120
yeah

186
00:06:45,120 --> 00:06:48,120
um

187
00:06:52,959 --> 00:06:55,918
let me go ahead and switch this to debug

188
00:06:54,478 --> 00:06:58,000
mode i'd like to see exactly where

189
00:06:55,918 --> 00:06:59,359
that's uh i assumed the validate text

190
00:06:58,000 --> 00:07:00,560
component

191
00:06:59,360 --> 00:07:02,319
so don't think that would be called

192
00:07:00,560 --> 00:07:04,079
there i i wanna see what that's doing

193
00:07:02,319 --> 00:07:07,598
i'm not entirely sure

194
00:07:04,079 --> 00:07:07,598
why it would stop there um

195
00:07:07,680 --> 00:07:13,879
on a push like call it might have been

196
00:07:09,759 --> 00:07:13,879
actually above that but we'll see

197
00:07:16,079 --> 00:07:19,598
okay so we do have a validate text on

198
00:07:18,000 --> 00:07:21,759
the push drift call that's just to

199
00:07:19,598 --> 00:07:24,000
guarantee that no light that we push in

200
00:07:21,759 --> 00:07:25,439
is brighter than the texel validation

201
00:07:24,000 --> 00:07:28,000
right

202
00:07:25,439 --> 00:07:29,839
so i'm i'm really weirded out now i mean

203
00:07:28,000 --> 00:07:31,680
this is possibly good it might mean that

204
00:07:29,839 --> 00:07:33,119
this bug will be more obvious than i was

205
00:07:31,680 --> 00:07:34,800
thinking i was assuming this would take

206
00:07:33,120 --> 00:07:36,639
a while to hunt down because i was

207
00:07:34,800 --> 00:07:39,520
assuming it was going to be pretty weird

208
00:07:36,639 --> 00:07:41,680
right but if we can't even find a light

209
00:07:39,519 --> 00:07:43,839
texel value that's outside of this

210
00:07:41,680 --> 00:07:45,199
fairly narrow range that might mean that

211
00:07:43,839 --> 00:07:47,279
actually this is

212
00:07:45,199 --> 00:07:49,038
a much more straightforward bug to find

213
00:07:47,279 --> 00:07:50,478
and that we're not getting weird

214
00:07:49,038 --> 00:07:51,519
exponential light leaking or anything

215
00:07:50,478 --> 00:07:53,199
like that

216
00:07:51,519 --> 00:07:54,799
so what's the brightest kind of light

217
00:07:53,199 --> 00:07:56,478
that we're sending down here i don't

218
00:07:54,800 --> 00:07:58,639
actually know it looks like we've got a

219
00:07:56,478 --> 00:08:01,519
5-5-5 emission

220
00:07:58,639 --> 00:08:04,879
um and that's in

221
00:08:01,519 --> 00:08:07,120
some entity i assume we're just doing

222
00:08:04,879 --> 00:08:08,960
like lights in the world

223
00:08:07,120 --> 00:08:10,399
uh in our like

224
00:08:08,959 --> 00:08:12,560
you know in our room generation or

225
00:08:10,399 --> 00:08:14,560
whatever

226
00:08:12,560 --> 00:08:16,000
i assume that we have uh

227
00:08:14,560 --> 00:08:18,079
some kind of standard lighting here that

228
00:08:16,000 --> 00:08:20,399
we do you can see here

229
00:08:18,079 --> 00:08:23,120
uh we have

230
00:08:20,399 --> 00:08:25,679
lighting that we're adding

231
00:08:23,120 --> 00:08:27,918
i guess we iterate over these

232
00:08:25,680 --> 00:08:29,280
with the light spacing you can see that

233
00:08:27,918 --> 00:08:31,680
here

234
00:08:29,279 --> 00:08:32,879
this was just some lights that we added

235
00:08:31,680 --> 00:08:37,519
and you can see

236
00:08:32,879 --> 00:08:37,519
there's some kind of a of a light

237
00:08:38,158 --> 00:08:41,439
this is the code where we add it i

238
00:08:39,839 --> 00:08:43,519
believe this is the size

239
00:08:41,440 --> 00:08:46,000
of the light so quite large

240
00:08:43,519 --> 00:08:48,320
um this is the light

241
00:08:46,000 --> 00:08:49,440
uh amount itself

242
00:08:48,320 --> 00:08:52,160
and

243
00:08:49,440 --> 00:08:54,720
i guess i don't know how the emissions

244
00:08:52,159 --> 00:08:56,159
works out exactly uh let me just double

245
00:08:54,720 --> 00:08:57,278
check that i'm interpreting those values

246
00:08:56,159 --> 00:08:58,958
correctly because i don't remember what

247
00:08:57,278 --> 00:09:01,360
they all are

248
00:08:58,958 --> 00:09:03,039
so add piece light is here you can see

249
00:09:01,360 --> 00:09:05,120
it's like entity radius offset emission

250
00:09:03,039 --> 00:09:07,679
color okay so no i take that back so

251
00:09:05,120 --> 00:09:09,360
this isn't the size of the light i guess

252
00:09:07,679 --> 00:09:11,919
the size of the light is the first one

253
00:09:09,360 --> 00:09:13,759
so it's it's this

254
00:09:11,919 --> 00:09:16,399
that actually is the emission so it

255
00:09:13,759 --> 00:09:18,080
multiplies this lamp light color

256
00:09:16,399 --> 00:09:20,639
uh and so that would make sense this is

257
00:09:18,080 --> 00:09:23,920
a 10 emission light but each one of

258
00:09:20,639 --> 00:09:27,199
these is like around 0.5 so we would

259
00:09:23,919 --> 00:09:28,159
expect everything to be around a 5 power

260
00:09:27,200 --> 00:09:30,320
light

261
00:09:28,159 --> 00:09:33,559
right

262
00:09:30,320 --> 00:09:33,560
makes sense

263
00:09:39,440 --> 00:09:43,360
so i guess i'm not sure

264
00:09:41,360 --> 00:09:46,800
uh exactly

265
00:09:43,360 --> 00:09:46,800
what to make of this uh

266
00:09:48,839 --> 00:09:54,880
because so the weird thing about this is

267
00:09:51,919 --> 00:09:54,879
that i don't know

268
00:09:54,958 --> 00:09:59,599
that kind of means that maybe this is

269
00:09:57,120 --> 00:10:02,000
just an exposure problem

270
00:09:59,600 --> 00:10:03,680
like that could mean that we because we

271
00:10:02,000 --> 00:10:05,759
just don't have an exposure curve in

272
00:10:03,679 --> 00:10:07,838
here like i wonder if we're just that

273
00:10:05,759 --> 00:10:08,958
literally this isn't weird what we're

274
00:10:07,839 --> 00:10:09,920
seeing

275
00:10:08,958 --> 00:10:11,838
um

276
00:10:09,919 --> 00:10:13,919
if that makes sense because if we went

277
00:10:11,839 --> 00:10:15,680
into the validation layer and just said

278
00:10:13,919 --> 00:10:17,599
look

279
00:10:15,679 --> 00:10:18,799
you should roughly be i mean let's give

280
00:10:17,600 --> 00:10:20,959
it a little bit of headroom for

281
00:10:18,799 --> 00:10:23,199
numerical accuracy sake but you should

282
00:10:20,958 --> 00:10:24,958
just always be

283
00:10:23,200 --> 00:10:26,320
uh in line here

284
00:10:24,958 --> 00:10:28,479
and then we

285
00:10:26,320 --> 00:10:31,040
uh go in and we

286
00:10:28,480 --> 00:10:32,879
nerf out anywhere that was adding so the

287
00:10:31,039 --> 00:10:35,120
fir that ad piece light should should

288
00:10:32,879 --> 00:10:37,439
assert right away uh so we go in here

289
00:10:35,120 --> 00:10:39,919
and say okay let's let's knock those

290
00:10:37,440 --> 00:10:42,800
down to a value that's legal that's

291
00:10:39,919 --> 00:10:44,879
light legal right um in

292
00:10:42,799 --> 00:10:47,759
in what we're looking at here

293
00:10:44,879 --> 00:10:50,399
and uh and we then run again et cetera

294
00:10:47,759 --> 00:10:53,200
et cetera like let's try to get to a

295
00:10:50,399 --> 00:10:55,600
place and see do we actually have this

296
00:10:53,200 --> 00:10:59,120
problem occur if all of the lights are

297
00:10:55,600 --> 00:11:01,519
within bounds right um and i'm gonna go

298
00:10:59,120 --> 00:11:03,679
ahead and assume that that's all fine

299
00:11:01,519 --> 00:11:06,639
and switch to the

300
00:11:03,679 --> 00:11:06,639
release build here

301
00:11:13,519 --> 00:11:17,839
so here's our lighting running where

302
00:11:15,278 --> 00:11:20,399
everything is basically kept within the

303
00:11:17,839 --> 00:11:23,440
zero one range and hey guess what uh we

304
00:11:20,399 --> 00:11:24,559
don't seem to have this bug right

305
00:11:23,440 --> 00:11:27,040
um

306
00:11:24,559 --> 00:11:29,518
so to me that sort of suggests that

307
00:11:27,039 --> 00:11:31,919
actually maybe the bug is just that we

308
00:11:29,519 --> 00:11:34,480
don't have any exposure there are some

309
00:11:31,919 --> 00:11:37,439
light flickering artifacts that i'm not

310
00:11:34,480 --> 00:11:37,440
sure what they're from

311
00:11:40,399 --> 00:11:44,240
that looks kind of

312
00:11:43,039 --> 00:11:46,159
uh

313
00:11:44,240 --> 00:11:48,159
a little bit broken but it might just be

314
00:11:46,159 --> 00:11:52,799
because the lighting region is a little

315
00:11:48,159 --> 00:11:55,278
too small right um if you look at uh

316
00:11:52,799 --> 00:11:57,039
where we're checking you can see like

317
00:11:55,278 --> 00:12:00,399
okay the light

318
00:11:57,039 --> 00:12:02,319
as i move here when the trees page in

319
00:12:00,399 --> 00:12:03,440
that appears to be when that lighting

320
00:12:02,320 --> 00:12:05,440
changes

321
00:12:03,440 --> 00:12:08,240
uh so it may be that we just need a

322
00:12:05,440 --> 00:12:11,839
slightly larger region than what we're

323
00:12:08,240 --> 00:12:11,839
currently using

324
00:12:12,399 --> 00:12:16,399
if that makes sense so we may need just

325
00:12:14,240 --> 00:12:18,159
slightly bigger it looks like there's a

326
00:12:16,399 --> 00:12:19,519
light that's too bright here i don't

327
00:12:18,159 --> 00:12:21,679
know who is

328
00:12:19,519 --> 00:12:24,399
adding that light

329
00:12:21,679 --> 00:12:26,479
but so there is somebody still adding

330
00:12:24,399 --> 00:12:28,000
lights that are too bright for them

331
00:12:26,480 --> 00:12:29,920
again that's okay because i don't think

332
00:12:28,000 --> 00:12:32,399
we actually want to fix this problem

333
00:12:29,919 --> 00:12:33,919
that way i just wanted to verify that

334
00:12:32,399 --> 00:12:36,720
that was the case

335
00:12:33,919 --> 00:12:38,639
uh and and then we'll think about this a

336
00:12:36,720 --> 00:12:40,959
little bit more okay

337
00:12:38,639 --> 00:12:45,278
so if that's the case then i think i've

338
00:12:40,958 --> 00:12:45,278
learned probably what i

339
00:12:45,360 --> 00:12:50,639
probably what i need to learn here which

340
00:12:47,519 --> 00:12:53,639
is that this is actually not necessarily

341
00:12:50,639 --> 00:12:53,639
um

342
00:12:54,559 --> 00:12:58,879
this is not necessarily actually light

343
00:12:56,879 --> 00:13:00,879
contamination this is maybe just an

344
00:12:58,879 --> 00:13:02,480
artifact of the way our algorithm

345
00:13:00,879 --> 00:13:05,480
convects light

346
00:13:02,480 --> 00:13:05,480
um

347
00:13:14,078 --> 00:13:19,319
and i guess i'm not

348
00:13:15,839 --> 00:13:19,320
really sure

349
00:13:32,639 --> 00:13:35,639
so

350
00:13:39,278 --> 00:13:42,000
here are some

351
00:13:40,399 --> 00:13:43,600
kind of confusing aspects of this i'll

352
00:13:42,000 --> 00:13:45,600
just go through them

353
00:13:43,600 --> 00:13:48,320
so first of all why do the lights on our

354
00:13:45,600 --> 00:13:49,839
system have fall off right because if if

355
00:13:48,320 --> 00:13:51,760
you notice like we don't actually have

356
00:13:49,839 --> 00:13:53,680
any light fall off coefficients or

357
00:13:51,759 --> 00:13:55,838
anything like that the lights are just

358
00:13:53,679 --> 00:13:59,120
the lights we never programmed in you

359
00:13:55,839 --> 00:14:00,959
know you can see here

360
00:13:59,120 --> 00:14:03,198
um

361
00:14:00,958 --> 00:14:05,278
you can see here what appears to be

362
00:14:03,198 --> 00:14:07,439
light fall off

363
00:14:05,278 --> 00:14:09,278
uh but we didn't program any light fall

364
00:14:07,440 --> 00:14:11,120
off so why did that happen

365
00:14:09,278 --> 00:14:13,120
well the reason that happens is because

366
00:14:11,120 --> 00:14:15,679
as you get further away it is simply

367
00:14:13,120 --> 00:14:17,839
proportionally less likely that you will

368
00:14:15,679 --> 00:14:20,879
hit the light source with the rays that

369
00:14:17,839 --> 00:14:24,240
you cast so the inverse square law is

370
00:14:20,879 --> 00:14:26,799
not actually in our computations it's in

371
00:14:24,240 --> 00:14:28,879
our casting because we cast a fixed

372
00:14:26,799 --> 00:14:31,519
number of rays out from every light

373
00:14:28,879 --> 00:14:34,078
sample point so each of the light probes

374
00:14:31,519 --> 00:14:36,399
cast a fixed number of rays the

375
00:14:34,078 --> 00:14:38,159
percentage chance that any of those rays

376
00:14:36,399 --> 00:14:40,000
will hit a particular light source goes

377
00:14:38,159 --> 00:14:42,159
down with the inverse square of the

378
00:14:40,000 --> 00:14:44,159
distance away from the light ergo the

379
00:14:42,159 --> 00:14:46,159
lighting ends up with an inverse squared

380
00:14:44,159 --> 00:14:48,240
falloff but we never wrote that in there

381
00:14:46,159 --> 00:14:50,159
it's just an artifact sampling exactly

382
00:14:48,240 --> 00:14:52,079
the same reason in real life that you

383
00:14:50,159 --> 00:14:54,240
have inverse square it's because if you

384
00:14:52,078 --> 00:14:56,799
emit photons the chance that any one of

385
00:14:54,240 --> 00:15:00,480
those photons hits a particular

386
00:14:56,799 --> 00:15:03,039
region of of uh space is

387
00:15:00,480 --> 00:15:04,800
going to go down as you get uh further

388
00:15:03,039 --> 00:15:06,240
away from the emitter of the photons

389
00:15:04,799 --> 00:15:08,399
proportional the inverse square law

390
00:15:06,240 --> 00:15:12,159
right so the inverse square law is

391
00:15:08,399 --> 00:15:15,679
literally just there as a thing that you

392
00:15:12,159 --> 00:15:16,958
uh that you get when you sample lighting

393
00:15:15,679 --> 00:15:19,759
the way that lighting actually gets

394
00:15:16,958 --> 00:15:20,559
sampled right

395
00:15:19,759 --> 00:15:22,799
so

396
00:15:20,559 --> 00:15:26,559
that's why we're getting this fall off

397
00:15:22,799 --> 00:15:27,599
now the thing about the over brighting

398
00:15:26,559 --> 00:15:31,198
is

399
00:15:27,600 --> 00:15:34,240
we also when we throw out a light like

400
00:15:31,198 --> 00:15:36,879
when we cast a ray

401
00:15:34,240 --> 00:15:39,519
if the ray goes a certain distance and

402
00:15:36,879 --> 00:15:41,519
doesn't hit anything it just samples the

403
00:15:39,519 --> 00:15:43,198
lights in the from the probe in that

404
00:15:41,519 --> 00:15:46,078
area

405
00:15:43,198 --> 00:15:48,319
and it's possible that that algorithm

406
00:15:46,078 --> 00:15:50,879
because that gather

407
00:15:48,320 --> 00:15:52,959
that gather does not have the inverse

408
00:15:50,879 --> 00:15:55,838
square law in it right

409
00:15:52,958 --> 00:15:55,838
um

410
00:15:57,198 --> 00:16:01,519
it may be that that

411
00:15:59,198 --> 00:16:03,679
when you are in that state

412
00:16:01,519 --> 00:16:04,480
first of all i guess let me let me do

413
00:16:03,679 --> 00:16:07,198
this

414
00:16:04,480 --> 00:16:11,839
suppose i just turned that off like

415
00:16:07,198 --> 00:16:15,359
suppose we hack into our grid raycast

416
00:16:11,839 --> 00:16:17,519
and the code for the grid raycast uh is

417
00:16:15,360 --> 00:16:19,519
going to just be

418
00:16:17,519 --> 00:16:22,240
if you don't hit something like if

419
00:16:19,519 --> 00:16:26,399
you're going to bail on the grid raycast

420
00:16:22,240 --> 00:16:30,000
because you ran out of walks cycles like

421
00:16:26,399 --> 00:16:32,720
you you went too far or whatever uh like

422
00:16:30,000 --> 00:16:36,240
this right

423
00:16:32,720 --> 00:16:38,480
uh instead of doing a probe uh sample uh

424
00:16:36,240 --> 00:16:39,839
p single or whatever we somehow turn

425
00:16:38,480 --> 00:16:40,720
this off

426
00:16:39,839 --> 00:16:42,959
right

427
00:16:40,720 --> 00:16:44,959
so in the code like

428
00:16:42,958 --> 00:16:46,638
uh in in here

429
00:16:44,958 --> 00:16:47,838
we just don't

430
00:16:46,639 --> 00:16:49,360
um

431
00:16:47,839 --> 00:16:51,440
i mean another thing we could do is just

432
00:16:49,360 --> 00:16:53,919
force it to go all the way so we just

433
00:16:51,440 --> 00:16:55,279
say there's no such thing as grid walk

434
00:16:53,919 --> 00:16:57,679
iteration

435
00:16:55,278 --> 00:16:59,759
this this termination condition is just

436
00:16:57,679 --> 00:17:01,039
not going to happen anymore i don't know

437
00:16:59,759 --> 00:17:04,240
if that'll be sufficient because it

438
00:17:01,039 --> 00:17:07,519
still will happen at the no at the edges

439
00:17:04,240 --> 00:17:10,240
um but presumably that's okay

440
00:17:07,519 --> 00:17:12,078
it might not be um but we'll see so

441
00:17:10,240 --> 00:17:14,640
suppose we run it um

442
00:17:12,078 --> 00:17:16,558
that way do we still get it we do so

443
00:17:14,640 --> 00:17:19,759
that's a little weird because i'm not

444
00:17:16,558 --> 00:17:21,038
sure why that would happen um

445
00:17:19,759 --> 00:17:22,959
like i said the inverse square law

446
00:17:21,038 --> 00:17:24,240
should still be in effect there

447
00:17:22,959 --> 00:17:25,679
so i would think that you would still

448
00:17:24,240 --> 00:17:30,838
get the fall off

449
00:17:25,679 --> 00:17:30,839
unless i'm misunderstanding something um

450
00:17:38,640 --> 00:17:43,720
i suppose there's a

451
00:17:40,400 --> 00:17:43,720
a collusion

452
00:17:46,880 --> 00:17:51,840
and a hit emission so i suppose we could

453
00:17:49,440 --> 00:17:53,200
do something like a hit ref color gets

454
00:17:51,839 --> 00:17:55,759
zeroed

455
00:17:53,200 --> 00:17:57,919
like so suppose that inside here when we

456
00:17:55,759 --> 00:18:00,919
terminate we set the hit ref color to

457
00:17:57,919 --> 00:18:00,919
zero

458
00:18:01,359 --> 00:18:05,399
i think that would do it

459
00:18:17,759 --> 00:18:20,720
um but i'm not sure

460
00:18:26,960 --> 00:18:32,079
okay so that at least

461
00:18:29,119 --> 00:18:32,959
seems to confirm my suspicion

462
00:18:32,079 --> 00:18:33,918
right

463
00:18:32,960 --> 00:18:35,600
um

464
00:18:33,919 --> 00:18:36,880
if we end up

465
00:18:35,599 --> 00:18:38,399
going

466
00:18:36,880 --> 00:18:40,640
if we were if we would have hit a

467
00:18:38,400 --> 00:18:41,600
termination criteria here

468
00:18:40,640 --> 00:18:43,120
um

469
00:18:41,599 --> 00:18:44,879
i still see some weird like i don't know

470
00:18:43,119 --> 00:18:47,279
what is going on there

471
00:18:44,880 --> 00:18:48,960
right that seems a little weird right so

472
00:18:47,279 --> 00:18:51,119
i think we got a little bit more

473
00:18:48,960 --> 00:18:53,519
bugginess going on here but just in

474
00:18:51,119 --> 00:18:55,599
terms of looking at what happens you can

475
00:18:53,519 --> 00:18:58,798
now see that the contamination is no

476
00:18:55,599 --> 00:18:58,798
longer actually occurring

477
00:18:59,119 --> 00:19:02,879
i don't know what exactly is happening

478
00:19:00,640 --> 00:19:02,880
there

479
00:19:03,200 --> 00:19:08,080
like in that one particular case we can

480
00:19:05,759 --> 00:19:10,960
get the contamination so something it

481
00:19:08,079 --> 00:19:11,918
still feels wrong it still feels like

482
00:19:10,960 --> 00:19:14,480
something

483
00:19:11,919 --> 00:19:17,120
pretty busted is going on there

484
00:19:14,480 --> 00:19:17,120
you know what i mean

485
00:19:21,599 --> 00:19:26,719
but you can see if we just have if we

486
00:19:24,160 --> 00:19:29,120
just don't allow you know if we don't

487
00:19:26,720 --> 00:19:30,480
allow that sort of spread to occur so

488
00:19:29,119 --> 00:19:33,119
somehow like

489
00:19:30,480 --> 00:19:34,079
these rooms where we have the

490
00:19:33,119 --> 00:19:35,839
you know i suppose it makes sense

491
00:19:34,079 --> 00:19:38,079
because it's green

492
00:19:35,839 --> 00:19:40,240
um these rooms where we sort of have

493
00:19:38,079 --> 00:19:42,079
these the the green lights seem to be

494
00:19:40,240 --> 00:19:43,519
the only place that this actual problem

495
00:19:42,079 --> 00:19:45,599
comes from i guess which is a little

496
00:19:43,519 --> 00:19:47,679
weird i'm not sure why

497
00:19:45,599 --> 00:19:50,678
hey there's the puss

498
00:19:47,679 --> 00:19:50,679
um

499
00:20:02,798 --> 00:20:08,158
so this is interesting i wonder uh this

500
00:20:05,119 --> 00:20:08,158
is kind of a separate issue

501
00:20:08,558 --> 00:20:10,720
but

502
00:20:19,759 --> 00:20:23,440
let me look at this a little bit more

503
00:20:20,880 --> 00:20:23,440
closely

504
00:20:23,919 --> 00:20:28,159
oh and also let's let's draw occluders

505
00:20:26,400 --> 00:20:31,038
and like like base let's draw the

506
00:20:28,159 --> 00:20:31,039
spatial partition

507
00:20:32,558 --> 00:20:37,839
um there's like a draw spatial grid

508
00:20:35,359 --> 00:20:40,558
debug draw spatial grid function here

509
00:20:37,839 --> 00:20:43,759
um and like we'll get rid of cell bounds

510
00:20:40,558 --> 00:20:45,359
we'll draw the uh actual pieces that are

511
00:20:43,759 --> 00:20:46,720
in the spatial grid

512
00:20:45,359 --> 00:20:47,678
uh

513
00:20:46,720 --> 00:20:49,279
and

514
00:20:47,679 --> 00:20:52,880
i'll turn on rendering of that just so

515
00:20:49,279 --> 00:20:52,879
we can see like what's going on

516
00:20:53,679 --> 00:20:56,480
uh with that

517
00:20:59,519 --> 00:21:04,079
so you know as you can see there's one

518
00:21:02,480 --> 00:21:06,640
of the interesting things about this is

519
00:21:04,079 --> 00:21:08,639
there's no actual

520
00:21:06,640 --> 00:21:10,799
um

521
00:21:08,640 --> 00:21:13,280
there's no actual

522
00:21:10,798 --> 00:21:14,720
pieces of geometry with me because we

523
00:21:13,279 --> 00:21:16,480
turned them off like we don't push a

524
00:21:14,720 --> 00:21:18,480
light on there or anything as far as i

525
00:21:16,480 --> 00:21:21,519
can tell there's nothing going into the

526
00:21:18,480 --> 00:21:24,079
lighting grid so my positioning in the

527
00:21:21,519 --> 00:21:25,679
world should not really have an effect

528
00:21:24,079 --> 00:21:28,399
on what's going on

529
00:21:25,679 --> 00:21:31,038
the scrolling might like i said because

530
00:21:28,400 --> 00:21:33,120
you know it new things come in which can

531
00:21:31,038 --> 00:21:35,599
affect the lighting is a global solution

532
00:21:33,119 --> 00:21:37,359
that's happening on basically everything

533
00:21:35,599 --> 00:21:38,480
in this blue

534
00:21:37,359 --> 00:21:40,319
square

535
00:21:38,480 --> 00:21:41,839
so as the blue square slides around you

536
00:21:40,319 --> 00:21:43,038
would expect the lighting solution to

537
00:21:41,839 --> 00:21:44,558
change

538
00:21:43,038 --> 00:21:46,480
to a certain extent

539
00:21:44,558 --> 00:21:48,000
but it doesn't make a whole lot of sense

540
00:21:46,480 --> 00:21:50,319
why it changed like that amount of

541
00:21:48,000 --> 00:21:50,319
change

542
00:21:53,038 --> 00:21:58,319
also another thing that's very strange

543
00:21:55,038 --> 00:21:59,839
is it seems to only happen on quarters

544
00:21:58,319 --> 00:22:02,000
like you notice like

545
00:21:59,839 --> 00:22:06,798
wrong right

546
00:22:02,000 --> 00:22:08,000
wrong right so when it scrolls one half

547
00:22:06,798 --> 00:22:10,079
of the way

548
00:22:08,000 --> 00:22:11,519
you know when it's done one click it's

549
00:22:10,079 --> 00:22:14,798
wrong when it does another click it's

550
00:22:11,519 --> 00:22:18,400
right you know what i'm saying

551
00:22:14,798 --> 00:22:20,480
uh and so that feels really odd uh it

552
00:22:18,400 --> 00:22:22,559
suggests that maybe there's like a bug

553
00:22:20,480 --> 00:22:24,000
with the fact that you know uh the way

554
00:22:22,558 --> 00:22:25,440
the system works if you look at the

555
00:22:24,000 --> 00:22:29,519
spatial grid

556
00:22:25,440 --> 00:22:32,240
um the spatial grid is actually aligned

557
00:22:29,519 --> 00:22:36,000
uh to

558
00:22:32,240 --> 00:22:36,000
the spatial grid actually has like four

559
00:22:36,480 --> 00:22:41,038
four atlas cells

560
00:22:38,798 --> 00:22:44,639
per grid square

561
00:22:41,038 --> 00:22:47,359
uh there like there's more in each

562
00:22:44,640 --> 00:22:50,559
grid square uh there's there's four grid

563
00:22:47,359 --> 00:22:52,558
squares in one spatial atlas

564
00:22:50,558 --> 00:22:54,720
the reason that we did that was because

565
00:22:52,558 --> 00:22:56,798
uh we were

566
00:22:54,720 --> 00:22:59,839
you know based on our metrics we found

567
00:22:56,798 --> 00:23:01,679
that there just wasn't enough geometry

568
00:22:59,839 --> 00:23:03,599
in one of those uh square like there

569
00:23:01,679 --> 00:23:06,720
wasn't enough geometry in a single grid

570
00:23:03,599 --> 00:23:10,000
square uh to justify actually walking

571
00:23:06,720 --> 00:23:11,519
that many you know what i mean

572
00:23:10,000 --> 00:23:13,200
so it turned out to just be more

573
00:23:11,519 --> 00:23:15,599
efficient to have more of them in there

574
00:23:13,200 --> 00:23:17,679
and you know maybe that was a mistake

575
00:23:15,599 --> 00:23:21,480
i'm not entirely sure

576
00:23:17,679 --> 00:23:21,480
it could be that it was

577
00:23:24,319 --> 00:23:27,319
um

578
00:23:36,880 --> 00:23:40,159
it could be that it was but either way

579
00:23:39,279 --> 00:23:42,319
uh

580
00:23:40,159 --> 00:23:43,520
the whether or not that decision was a

581
00:23:42,319 --> 00:23:45,599
poor one

582
00:23:43,519 --> 00:23:48,079
has fairly little to do with the fact

583
00:23:45,599 --> 00:23:49,119
that it definitely seems to have an

584
00:23:48,079 --> 00:23:51,519
effect

585
00:23:49,119 --> 00:23:52,319
standing right there allows the light to

586
00:23:51,519 --> 00:23:55,918
leak

587
00:23:52,319 --> 00:23:57,038
standing right here doesn't and there's

588
00:23:55,919 --> 00:23:59,679
no

589
00:23:57,038 --> 00:24:01,359
real explanation for that that i can

590
00:23:59,679 --> 00:24:02,320
think of

591
00:24:01,359 --> 00:24:05,319
right

592
00:24:02,319 --> 00:24:05,319
um

593
00:24:07,038 --> 00:24:14,480
i guess

594
00:24:09,119 --> 00:24:16,719
one thing i could imagine being true

595
00:24:14,480 --> 00:24:16,720
is

596
00:24:16,880 --> 00:24:20,960
if that has something to do with the

597
00:24:19,359 --> 00:24:21,918
fact that

598
00:24:20,960 --> 00:24:23,679
the

599
00:24:21,919 --> 00:24:26,080
boundary is

600
00:24:23,679 --> 00:24:28,640
possible to hit

601
00:24:26,079 --> 00:24:32,519
in this case and not really possible to

602
00:24:28,640 --> 00:24:32,520
hit in the other case

603
00:24:48,720 --> 00:24:51,120
hmm

604
00:24:51,200 --> 00:24:53,759
i say

605
00:24:54,480 --> 00:25:02,319
the fact that those leaves are kind of

606
00:24:57,599 --> 00:25:02,319
stuck as well is kind of weird to me

607
00:25:06,079 --> 00:25:09,038
you know what i mean

608
00:25:07,599 --> 00:25:11,918
like why

609
00:25:09,038 --> 00:25:15,759
is that some kind of a nan sort of thing

610
00:25:11,919 --> 00:25:18,080
or like why are those unable to clear

611
00:25:15,759 --> 00:25:19,679
um i don't quite get that so presumably

612
00:25:18,079 --> 00:25:21,918
if i clear them out this way and i go

613
00:25:19,679 --> 00:25:22,880
back in now they would be right

614
00:25:21,919 --> 00:25:27,559
um

615
00:25:22,880 --> 00:25:27,559
but like that's very strange

616
00:26:01,759 --> 00:26:04,158
hmm

617
00:26:04,240 --> 00:26:08,919
hmm

618
00:26:05,679 --> 00:26:08,919
i say

619
00:26:24,720 --> 00:26:28,079
i mean

620
00:26:25,679 --> 00:26:31,038
i literally have no idea how to explain

621
00:26:28,079 --> 00:26:31,038
that pattern do you

622
00:26:32,079 --> 00:26:37,359
so i think we need to figure out some

623
00:26:34,640 --> 00:26:40,000
way to test this scenario more

624
00:26:37,359 --> 00:26:42,879
astringently i i just like this is

625
00:26:40,000 --> 00:26:44,480
bizarre

626
00:26:42,880 --> 00:26:47,360
um

627
00:26:44,480 --> 00:26:50,480
and i would say like it's gotta be a

628
00:26:47,359 --> 00:26:53,119
legit bug meaning

629
00:26:50,480 --> 00:26:55,038
i mean how could that be like a math

630
00:26:53,119 --> 00:26:57,278
error right like how could that be like

631
00:26:55,038 --> 00:26:59,839
oh we're just sampling poorly and we

632
00:26:57,278 --> 00:27:02,159
should wait the samples different like

633
00:26:59,839 --> 00:27:03,918
that's got to be a bug bug like oh hey

634
00:27:02,159 --> 00:27:06,640
you're sampling outside the bounds or

635
00:27:03,919 --> 00:27:08,880
the thing or like there's some like way

636
00:27:06,640 --> 00:27:10,080
that like uninitialized value can get in

637
00:27:08,880 --> 00:27:12,400
there

638
00:27:10,079 --> 00:27:12,399
right

639
00:27:12,960 --> 00:27:15,960
um

640
00:27:21,679 --> 00:27:24,720
but i don't have a good strategy for it

641
00:27:23,599 --> 00:27:27,839
at the moment

642
00:27:24,720 --> 00:27:30,079
um let's start by drawing the octahedral

643
00:27:27,839 --> 00:27:32,000
values since there's like looking at the

644
00:27:30,079 --> 00:27:34,558
spatial grid didn't really tell us very

645
00:27:32,000 --> 00:27:37,839
much we do know that something about

646
00:27:34,558 --> 00:27:39,519
that stagger looks wrong meaning like as

647
00:27:37,839 --> 00:27:41,839
we kind of

648
00:27:39,519 --> 00:27:41,839
um

649
00:27:46,398 --> 00:27:51,119
so you know there is the fact that when

650
00:27:48,480 --> 00:27:55,200
light probes are inside a light region

651
00:27:51,119 --> 00:27:55,199
we don't update their value

652
00:27:56,398 --> 00:28:02,359
i wonder if that has something to do

653
00:27:57,839 --> 00:28:02,359
with it we should probably look um

654
00:28:07,200 --> 00:28:12,960
uh but here's our here's our actual

655
00:28:09,359 --> 00:28:15,678
light probes and uh you can see

656
00:28:12,960 --> 00:28:17,360
so this light this is a bug we have

657
00:28:15,679 --> 00:28:18,960
right now that that we needed to fix at

658
00:28:17,359 --> 00:28:21,199
some point we just haven't quite decided

659
00:28:18,960 --> 00:28:23,038
how uh but it's actually removing light

660
00:28:21,200 --> 00:28:24,000
from the system so i doubt it's involved

661
00:28:23,038 --> 00:28:26,720
in this

662
00:28:24,000 --> 00:28:29,599
uh which is that if a light probe is

663
00:28:26,720 --> 00:28:31,679
inside a light source it erroneously

664
00:28:29,599 --> 00:28:33,519
gets set to no light

665
00:28:31,679 --> 00:28:34,399
you know what i'm saying

666
00:28:33,519 --> 00:28:35,679
um

667
00:28:34,398 --> 00:28:38,158
so there's that

668
00:28:35,679 --> 00:28:40,159
uh but again that's

669
00:28:38,159 --> 00:28:41,919
if anything helping us right now because

670
00:28:40,159 --> 00:28:44,159
it's not providing

671
00:28:41,919 --> 00:28:46,720
light contamination it's actually like

672
00:28:44,159 --> 00:28:49,120
forcing those light samples to zero

673
00:28:46,720 --> 00:28:52,079
i so you know

674
00:28:49,119 --> 00:28:53,439
that's not really implicated in this

675
00:28:52,079 --> 00:28:55,759
case

676
00:28:53,440 --> 00:28:57,440
you can see there's some weird like you

677
00:28:55,759 --> 00:28:59,278
can see the sort of

678
00:28:57,440 --> 00:29:00,080
weird light changing here

679
00:28:59,278 --> 00:29:02,240
and

680
00:29:00,079 --> 00:29:03,678
you know the

681
00:29:02,240 --> 00:29:04,798
i feel like that's a little bit of a

682
00:29:03,679 --> 00:29:07,038
clue

683
00:29:04,798 --> 00:29:11,119
so if you notice

684
00:29:07,038 --> 00:29:13,759
when the light when there are not

685
00:29:11,119 --> 00:29:18,079
when we would be going outside right

686
00:29:13,759 --> 00:29:18,079
that's that's going outside the um

687
00:29:21,839 --> 00:29:26,319
there is no wall

688
00:29:24,558 --> 00:29:29,038
to stop

689
00:29:26,319 --> 00:29:33,119
things getting hit here

690
00:29:29,038 --> 00:29:35,278
when i hop forward now there is

691
00:29:33,119 --> 00:29:38,158
when i hop back you can see that the

692
00:29:35,278 --> 00:29:39,599
light changes to a green tone

693
00:29:38,159 --> 00:29:42,320
but why

694
00:29:39,599 --> 00:29:45,038
right there's no reason why the lighting

695
00:29:42,319 --> 00:29:46,960
should become green at that point i

696
00:29:45,038 --> 00:29:50,398
don't think

697
00:29:46,960 --> 00:29:52,798
so the fact that not having a wall

698
00:29:50,398 --> 00:29:55,839
makes the lighting green is kind of

699
00:29:52,798 --> 00:29:57,599
confusing now maybe it's not because

700
00:29:55,839 --> 00:29:59,199
these lights are sort of a little bit

701
00:29:57,599 --> 00:30:02,158
green tinted

702
00:29:59,200 --> 00:30:03,759
and i suppose maybe for the sake of our

703
00:30:02,159 --> 00:30:05,120
current predicament where we're trying

704
00:30:03,759 --> 00:30:07,038
to debug things

705
00:30:05,119 --> 00:30:10,079
maybe i should see what happens if we

706
00:30:07,038 --> 00:30:13,200
don't do randomized lamp lighting

707
00:30:10,079 --> 00:30:15,678
so for example if instead of uh

708
00:30:13,200 --> 00:30:18,798
randoms here we actually

709
00:30:15,679 --> 00:30:20,159
force all lights to be pure gray right

710
00:30:18,798 --> 00:30:23,200
like pure white

711
00:30:20,159 --> 00:30:26,159
they don't shift the color at all

712
00:30:23,200 --> 00:30:29,798
um does that still happen i don't know

713
00:30:26,159 --> 00:30:29,799
let's find out

714
00:30:38,079 --> 00:30:42,798
so it looks like the answer is no

715
00:30:40,960 --> 00:30:44,079
uh so the green

716
00:30:42,798 --> 00:30:46,480
is is

717
00:30:44,079 --> 00:30:48,720
maybe because these lights were green

718
00:30:46,480 --> 00:30:51,038
i'm not sure right but you can see that

719
00:30:48,720 --> 00:30:53,120
that had to be the case because now it's

720
00:30:51,038 --> 00:30:55,359
not now that everything so it really

721
00:30:53,119 --> 00:30:57,199
just gets a little brighter as you go

722
00:30:55,359 --> 00:30:58,959
and these lights get paged in which

723
00:30:57,200 --> 00:31:00,319
again suggests that this wants to be

724
00:30:58,960 --> 00:31:02,079
expanded a little bit it looks like

725
00:31:00,319 --> 00:31:04,398
maybe these lighting bounds are a little

726
00:31:02,079 --> 00:31:06,000
too conservative it should be larger the

727
00:31:04,398 --> 00:31:08,158
region that we're lighting

728
00:31:06,000 --> 00:31:09,359
and that's fine but that's sort of a

729
00:31:08,159 --> 00:31:11,440
separate issue

730
00:31:09,359 --> 00:31:12,959
from the actual bug bug with the light

731
00:31:11,440 --> 00:31:16,080
contamination

732
00:31:12,960 --> 00:31:18,798
so if we go uh now that there is no bias

733
00:31:16,079 --> 00:31:20,558
there like the lights are all pure white

734
00:31:18,798 --> 00:31:21,599
um or i should say pure gray i don't

735
00:31:20,558 --> 00:31:24,000
know what you want to call it they're

736
00:31:21,599 --> 00:31:25,918
they're color neutral

737
00:31:24,000 --> 00:31:26,960
can we still get the bug where we get

738
00:31:25,919 --> 00:31:30,759
the weird

739
00:31:26,960 --> 00:31:30,759
green here i mean

740
00:31:39,038 --> 00:31:45,519
uh weirdly the answer to that also

741
00:31:41,919 --> 00:31:48,799
appears to kind of be no

742
00:31:45,519 --> 00:31:49,839
um which is very confusing

743
00:31:48,798 --> 00:31:52,960
because that

744
00:31:49,839 --> 00:31:54,480
i don't know why that would be the case

745
00:31:52,960 --> 00:31:56,399
does that mean that you just have to

746
00:31:54,480 --> 00:31:58,558
exceed a certain power value before you

747
00:31:56,398 --> 00:32:01,839
can get that bug or something like where

748
00:31:58,558 --> 00:32:01,839
did the bug go right

749
00:32:10,798 --> 00:32:14,599
where did the bug go

750
00:32:14,960 --> 00:32:18,399
so assuming i set these lights to the

751
00:32:16,798 --> 00:32:20,639
maximum value that they could have

752
00:32:18,398 --> 00:32:22,719
picked when we did randomized so i'm

753
00:32:20,640 --> 00:32:25,120
going to set them both to seven

754
00:32:22,720 --> 00:32:26,720
so it's basically going to yeah it's

755
00:32:25,119 --> 00:32:29,599
just a just a

756
00:32:26,720 --> 00:32:30,880
more powerful light

757
00:32:29,599 --> 00:32:32,000
shouldn't it

758
00:32:30,880 --> 00:32:34,159
now

759
00:32:32,000 --> 00:32:35,278
it should have the bug right i mean if

760
00:32:34,159 --> 00:32:37,919
it doesn't have the bug i don't know

761
00:32:35,278 --> 00:32:39,359
what's going on

762
00:32:37,919 --> 00:32:40,840
yeah

763
00:32:39,359 --> 00:32:44,479
although it still doesn't quite

764
00:32:40,839 --> 00:32:44,480
contaminate there it goes

765
00:32:44,880 --> 00:32:48,399
so

766
00:32:45,679 --> 00:32:50,960
this is really confusing because that

767
00:32:48,398 --> 00:32:51,918
almost suggests that somehow this is not

768
00:32:50,960 --> 00:32:54,798
a bug

769
00:32:51,919 --> 00:32:56,480
or not exactly a bug i don't know it

770
00:32:54,798 --> 00:32:58,720
must be though because how is it

771
00:32:56,480 --> 00:33:00,720
happening how does it leak only on the

772
00:32:58,720 --> 00:33:04,360
quarters

773
00:33:00,720 --> 00:33:04,360
let's think about that

774
00:33:12,000 --> 00:33:16,960
something's up

775
00:33:14,319 --> 00:33:16,960
something's up

776
00:33:18,079 --> 00:33:23,558
so how are we leaking only on quarters

777
00:33:25,359 --> 00:33:28,839
how's that possible

778
00:33:40,398 --> 00:33:43,359
uh first of all can we delete some of

779
00:33:42,000 --> 00:33:45,200
this code

780
00:33:43,359 --> 00:33:48,639
uh like what do we use some of this

781
00:33:45,200 --> 00:33:48,640
stuff for nothing right

782
00:33:49,599 --> 00:33:53,719
we don't care about quadrant index

783
00:34:04,640 --> 00:34:08,480
we ask for the cell center

784
00:34:09,519 --> 00:34:12,960
for wherever it is that we are

785
00:34:16,398 --> 00:34:23,118
do we care about the remainder

786
00:34:20,398 --> 00:34:25,358
we do not so that can stop coming in

787
00:34:23,119 --> 00:34:27,599
here

788
00:34:25,358 --> 00:34:27,598
right

789
00:34:33,679 --> 00:34:38,800
so remainder is now

790
00:34:35,519 --> 00:34:38,800
not something we need

791
00:34:40,800 --> 00:34:46,000
uh which is great again that's because

792
00:34:43,119 --> 00:34:47,440
we now do the stepping auto uh

793
00:34:46,000 --> 00:34:49,838
automatically gets solved we don't have

794
00:34:47,440 --> 00:34:52,159
to use tables anymore

795
00:34:49,838 --> 00:34:52,159
um

796
00:34:52,878 --> 00:34:58,880
so yeah

797
00:34:54,960 --> 00:35:02,639
is it that this computation is wrong and

798
00:34:58,880 --> 00:35:04,960
we're sampling the wrong places somehow

799
00:35:02,639 --> 00:35:04,960
um

800
00:35:07,358 --> 00:35:11,279
hasn't i don't understand like i can't

801
00:35:09,679 --> 00:35:12,159
think of a real reason why that would

802
00:35:11,280 --> 00:35:14,160
change

803
00:35:12,159 --> 00:35:16,159
the reason that that doesn't make a

804
00:35:14,159 --> 00:35:17,199
whole lot of sense to me is because i

805
00:35:16,159 --> 00:35:19,598
don't see

806
00:35:17,199 --> 00:35:21,118
why it would make a difference

807
00:35:19,599 --> 00:35:23,039
even if you stepped through the spatial

808
00:35:21,119 --> 00:35:24,640
partition incorrectly i don't understand

809
00:35:23,039 --> 00:35:27,599
why you would get that light leaking it

810
00:35:24,639 --> 00:35:27,598
doesn't really make

811
00:35:28,800 --> 00:35:33,359
it doesn't really make great sense

812
00:35:30,719 --> 00:35:36,000
i guess if you suppose that the light

813
00:35:33,358 --> 00:35:38,719
somehow you always exited with a value

814
00:35:36,000 --> 00:35:40,800
that was producing some kind of an odd

815
00:35:38,719 --> 00:35:45,838
clamp

816
00:35:40,800 --> 00:35:45,839
then if you put a light always

817
00:35:51,039 --> 00:35:54,559
if you imagine that there was a bug in

818
00:35:53,119 --> 00:35:56,640
the light

819
00:35:54,559 --> 00:35:57,679
tracing so that

820
00:35:56,639 --> 00:36:00,719
you

821
00:35:57,679 --> 00:36:01,759
when you hit this bug or that you often

822
00:36:00,719 --> 00:36:05,039
times

823
00:36:01,760 --> 00:36:07,599
because of this bug or whatever end up

824
00:36:05,039 --> 00:36:12,239
clamping to let's say the maximum or

825
00:36:07,599 --> 00:36:14,640
minimum bound of the lighting volume

826
00:36:12,239 --> 00:36:18,319
then you could imagine getting the light

827
00:36:14,639 --> 00:36:21,199
contamination because you have placed

828
00:36:18,320 --> 00:36:23,039
when when a particular when a light

829
00:36:21,199 --> 00:36:24,480
source

830
00:36:23,039 --> 00:36:27,199
ends up

831
00:36:24,480 --> 00:36:28,960
locked into that placement

832
00:36:27,199 --> 00:36:30,559
at where because that's where you would

833
00:36:28,960 --> 00:36:32,000
keep sampling

834
00:36:30,559 --> 00:36:34,320
right

835
00:36:32,000 --> 00:36:34,320
um

836
00:36:37,599 --> 00:36:40,559
it's not a good

837
00:36:38,838 --> 00:36:42,719
idea

838
00:36:40,559 --> 00:36:44,320
what i'm saying but it's an idea it's

839
00:36:42,719 --> 00:36:47,279
better than what we've had so far which

840
00:36:44,320 --> 00:36:47,280
is not an idea

841
00:36:47,760 --> 00:36:51,359
so just to be more concrete about what

842
00:36:49,358 --> 00:36:52,719
i'm trying to say here is suppose that

843
00:36:51,358 --> 00:36:54,960
we go

844
00:36:52,719 --> 00:36:56,719
and we look at an area that's having uh

845
00:36:54,960 --> 00:36:57,760
the light leaking versus the time when

846
00:36:56,719 --> 00:37:01,759
it's not

847
00:36:57,760 --> 00:37:04,320
so uh let's suppose i hop back here

848
00:37:01,760 --> 00:37:06,240
like i'm not getting light leaking right

849
00:37:04,320 --> 00:37:10,000
now right

850
00:37:06,239 --> 00:37:12,319
uh and if i zoom out slightly to show

851
00:37:10,000 --> 00:37:15,440
what the lighting volumes look like

852
00:37:12,320 --> 00:37:17,680
you can see that the corners currently

853
00:37:15,440 --> 00:37:19,838
don't have a light source in them

854
00:37:17,679 --> 00:37:22,159
exactly right the

855
00:37:19,838 --> 00:37:25,920
by the way anytime i say exactly did you

856
00:37:22,159 --> 00:37:29,838
y'all ever watch the qualcomm keynote

857
00:37:25,920 --> 00:37:30,800
the most amazing keynote like ever given

858
00:37:29,838 --> 00:37:32,320
uh

859
00:37:30,800 --> 00:37:35,039
where like

860
00:37:32,320 --> 00:37:39,760
it has bishop desmond tutu and steve

861
00:37:35,039 --> 00:37:39,759
ballmer and big bird and maroon 5

862
00:37:41,358 --> 00:37:47,279
in the same keynote

863
00:37:43,599 --> 00:37:50,079
and like steve balmer is like is like

864
00:37:47,280 --> 00:37:54,599
disney's where's my water application

865
00:37:50,079 --> 00:37:54,599
like that one has anyone seen this

866
00:38:05,039 --> 00:38:09,440
anyone

867
00:38:07,519 --> 00:38:12,320
has anyone seen the qualcomm keynote

868
00:38:09,440 --> 00:38:15,119
that i'm talking about

869
00:38:12,320 --> 00:38:15,119
are you serious

870
00:38:17,599 --> 00:38:20,720
okay good i was hoping someone had seen

871
00:38:19,679 --> 00:38:22,159
it because i'm like if no one's seen

872
00:38:20,719 --> 00:38:25,199
that keynote it's the most important

873
00:38:22,159 --> 00:38:28,319
keynote ever in the history of time

874
00:38:25,199 --> 00:38:30,559
because it is so amazing and ridiculous

875
00:38:28,320 --> 00:38:32,320
like it's it's hard to make it all the

876
00:38:30,559 --> 00:38:33,759
way through because it's so cringy but

877
00:38:32,320 --> 00:38:36,000
at the same time it's easy to make it

878
00:38:33,760 --> 00:38:38,320
all the way through because it's so nuts

879
00:38:36,000 --> 00:38:42,079
you're laughing the whole time

880
00:38:38,320 --> 00:38:42,079
embarrassed but laughing the whole time

881
00:38:42,320 --> 00:38:47,920
anyway the reason that came

882
00:38:44,960 --> 00:38:49,920
to mind was because at the very end well

883
00:38:47,920 --> 00:38:51,519
it's not the very end but almost at the

884
00:38:49,920 --> 00:38:52,400
end of the keynote

885
00:38:51,519 --> 00:38:55,599
um

886
00:38:52,400 --> 00:38:58,800
the ceo guy i think it is

887
00:38:55,599 --> 00:39:00,559
asks like one of his underlings right

888
00:38:58,800 --> 00:39:03,440
it's like

889
00:39:00,559 --> 00:39:05,838
hey were you born mobile and the guy

890
00:39:03,440 --> 00:39:07,039
goes not exactly

891
00:39:05,838 --> 00:39:09,759
and

892
00:39:07,039 --> 00:39:11,358
it always just sticks in my head the way

893
00:39:09,760 --> 00:39:13,040
he says that

894
00:39:11,358 --> 00:39:14,960
it's like

895
00:39:13,039 --> 00:39:18,320
not exactly

896
00:39:14,960 --> 00:39:21,599
and so uh whenever i say exactly i i

897
00:39:18,320 --> 00:39:21,599
sometimes get uh

898
00:39:24,719 --> 00:39:29,199
uh yeah it's the one the the most insane

899
00:39:26,880 --> 00:39:31,119
keynote ever qualcomm ces 2013 is

900
00:39:29,199 --> 00:39:32,719
exactly the correct one yes no it

901
00:39:31,119 --> 00:39:34,240
doesn't it does not the one where steve

902
00:39:32,719 --> 00:39:36,399
ballmer says developers developers

903
00:39:34,239 --> 00:39:38,879
developers that i don't think that was a

904
00:39:36,400 --> 00:39:41,440
keynote was it that was a microsoft

905
00:39:38,880 --> 00:39:43,358
company meeting i think maybe uh that he

906
00:39:41,440 --> 00:39:45,599
said developers developers rubbers

907
00:39:43,358 --> 00:39:45,598
um

908
00:39:45,679 --> 00:39:49,199
but yet

909
00:39:46,960 --> 00:39:51,440
uh

910
00:39:49,199 --> 00:39:51,439
yeah

911
00:39:51,519 --> 00:39:55,679
um of the things you have to watch like

912
00:39:53,920 --> 00:39:57,119
obviously like everyone should should at

913
00:39:55,679 --> 00:39:59,279
some point watch

914
00:39:57,119 --> 00:40:01,358
the one where the all the microsoft guys

915
00:39:59,280 --> 00:40:04,480
are dancing on stage like the bill gates

916
00:40:01,358 --> 00:40:05,440
steve bomber dancing one is amazing

917
00:40:04,480 --> 00:40:07,599
um

918
00:40:05,440 --> 00:40:08,800
you should watch that for sure but the

919
00:40:07,599 --> 00:40:10,800
qualcomm

920
00:40:08,800 --> 00:40:14,000
keynote is

921
00:40:10,800 --> 00:40:15,920
is an absolute masterpiece i have no

922
00:40:14,000 --> 00:40:18,318
idea why they thought any of it would go

923
00:40:15,920 --> 00:40:19,519
over well and it just keeps getting more

924
00:40:18,318 --> 00:40:21,440
ridiculous

925
00:40:19,519 --> 00:40:23,280
like why is big bird showing up in the

926
00:40:21,440 --> 00:40:25,119
middle of this thing how is bishop

927
00:40:23,280 --> 00:40:28,400
desmond tutu in the middle of this thing

928
00:40:25,119 --> 00:40:30,318
like it's just it's so nuts and none of

929
00:40:28,400 --> 00:40:32,559
it comes off well

930
00:40:30,318 --> 00:40:35,119
and not only is big bird in it but a

931
00:40:32,559 --> 00:40:37,119
qualcomm guy or somebody or maybe it was

932
00:40:35,119 --> 00:40:41,119
somebody from sesame street's like you

933
00:40:37,119 --> 00:40:43,599
know app division or something is also

934
00:40:41,119 --> 00:40:44,720
like has a big bird

935
00:40:43,599 --> 00:40:47,760
like

936
00:40:44,719 --> 00:40:50,959
hat and wings on but not anything else

937
00:40:47,760 --> 00:40:54,400
like it's so incredible like you have to

938
00:40:50,960 --> 00:40:56,159
see you have to see that qualcomm one

939
00:40:54,400 --> 00:40:59,119
it's so nuts

940
00:40:56,159 --> 00:41:00,639
it's so nuts i cannot even tell you

941
00:40:59,119 --> 00:41:03,440
um

942
00:41:00,639 --> 00:41:06,159
so i highly recommend you watch the

943
00:41:03,440 --> 00:41:07,760
qualcomm one if you can't handle really

944
00:41:06,159 --> 00:41:09,759
embarrassing videos

945
00:41:07,760 --> 00:41:12,880
then you probably won't be able to watch

946
00:41:09,760 --> 00:41:14,560
it because it's incredibly cringy it's

947
00:41:12,880 --> 00:41:16,960
incredibly cringy

948
00:41:14,559 --> 00:41:19,519
none of the people on stage well i feel

949
00:41:16,960 --> 00:41:21,920
bad there's like three people who were

950
00:41:19,519 --> 00:41:23,440
clearly actors hired uh

951
00:41:21,920 --> 00:41:25,920
they're like supposed to be this like

952
00:41:23,440 --> 00:41:29,519
these born mobile they're like young

953
00:41:25,920 --> 00:41:32,400
people you know 20 something or whatever

954
00:41:29,519 --> 00:41:35,358
those people were probably actors that

955
00:41:32,400 --> 00:41:37,358
were hired to do that role and they

956
00:41:35,358 --> 00:41:39,119
probably were hating their life

957
00:41:37,358 --> 00:41:41,440
for the entire time but happy to get a

958
00:41:39,119 --> 00:41:43,920
paycheck i'm sure as any struggling

959
00:41:41,440 --> 00:41:46,318
actor would be but oh my god i feel bad

960
00:41:43,920 --> 00:41:48,880
for them because they're

961
00:41:46,318 --> 00:41:50,480
like all they can do is is read the

962
00:41:48,880 --> 00:41:52,640
freaking

963
00:41:50,480 --> 00:41:55,039
script that they were handed that's

964
00:41:52,639 --> 00:41:57,519
terrible right um

965
00:41:55,039 --> 00:41:59,519
and so uh you know i do feel bad for

966
00:41:57,519 --> 00:42:03,519
them but everyone else it's like why did

967
00:41:59,519 --> 00:42:04,719
you do this like why did you why are you

968
00:42:03,519 --> 00:42:06,400
doing this

969
00:42:04,719 --> 00:42:07,199
it's so terrible

970
00:42:06,400 --> 00:42:09,280
um

971
00:42:07,199 --> 00:42:10,480
anyway

972
00:42:09,280 --> 00:42:14,000
anyway

973
00:42:10,480 --> 00:42:15,760
um i i uh yeah

974
00:42:14,000 --> 00:42:18,079
i'm gonna go back to debugging this

975
00:42:15,760 --> 00:42:19,760
lighting but but that is it's a true

976
00:42:18,079 --> 00:42:22,400
cultural moment

977
00:42:19,760 --> 00:42:24,160
anyway not exactly

978
00:42:22,400 --> 00:42:26,240
uh this

979
00:42:24,159 --> 00:42:27,358
these corners don't have

980
00:42:26,239 --> 00:42:28,959
uh bright

981
00:42:27,358 --> 00:42:31,838
things in them at the moment although

982
00:42:28,960 --> 00:42:33,280
they kind of do like that's a light

983
00:42:31,838 --> 00:42:34,559
oh but that's not a corner this is the

984
00:42:33,280 --> 00:42:36,160
actual corner that's corner of a room

985
00:42:34,559 --> 00:42:38,639
not the corner of the vlog

986
00:42:36,159 --> 00:42:40,159
that's not a light that's not a light

987
00:42:38,639 --> 00:42:42,159
that's not a light that's not a light

988
00:42:40,159 --> 00:42:44,799
there's there's no

989
00:42:42,159 --> 00:42:47,199
in fact there's no lights anywhere on

990
00:42:44,800 --> 00:42:51,440
these two edges there is a light on this

991
00:42:47,199 --> 00:42:53,358
edge here here and here um

992
00:42:51,440 --> 00:42:57,358
so i don't know if we then move forward

993
00:42:53,358 --> 00:42:59,759
to the light leaking part which is now

994
00:42:57,358 --> 00:43:01,039
um although it's not fully light leaking

995
00:42:59,760 --> 00:43:04,560
yet

996
00:43:01,039 --> 00:43:06,079
the corners do not have light sources

997
00:43:04,559 --> 00:43:08,000
in them

998
00:43:06,079 --> 00:43:09,359
so that's maybe not concerning i don't

999
00:43:08,000 --> 00:43:12,639
know

1000
00:43:09,358 --> 00:43:14,719
here is an actual light leak scenario

1001
00:43:12,639 --> 00:43:17,719
um

1002
00:43:14,719 --> 00:43:17,719
and

1003
00:43:27,920 --> 00:43:32,880
i don't know what to make of that i

1004
00:43:30,000 --> 00:43:32,880
don't seem

1005
00:43:33,119 --> 00:43:37,599
i don't know my theory doesn't seem

1006
00:43:35,280 --> 00:43:39,599
super likely right i mean it doesn't

1007
00:43:37,599 --> 00:43:42,880
look like any it doesn't look like any

1008
00:43:39,599 --> 00:43:42,880
particular area

1009
00:43:49,760 --> 00:43:53,599
is having this problem i would say i

1010
00:43:52,000 --> 00:43:56,159
don't know where these people are

1011
00:43:53,599 --> 00:43:56,880
getting their lights from

1012
00:43:56,159 --> 00:43:58,719
i

1013
00:43:56,880 --> 00:44:00,480
i guess it must be that they're hitting

1014
00:43:58,719 --> 00:44:02,399
here and somehow picking up samples from

1015
00:44:00,480 --> 00:44:04,719
inside but it doesn't

1016
00:44:02,400 --> 00:44:06,480
seem like that should really be possible

1017
00:44:04,719 --> 00:44:09,118
because

1018
00:44:06,480 --> 00:44:10,880
these are full occluders

1019
00:44:09,119 --> 00:44:12,800
so you would expect it to look more like

1020
00:44:10,880 --> 00:44:15,519
this does

1021
00:44:12,800 --> 00:44:18,400
um and the fact that they are able to

1022
00:44:15,519 --> 00:44:19,920
get lighting is a little weird

1023
00:44:18,400 --> 00:44:23,838
although i guess it looks like it's

1024
00:44:19,920 --> 00:44:23,838
actually coming from over here maybe

1025
00:44:26,000 --> 00:44:30,639
you know what we probably need is like a

1026
00:44:28,480 --> 00:44:32,400
clearing button so that we can clear out

1027
00:44:30,639 --> 00:44:33,679
the light atlas and force it to

1028
00:44:32,400 --> 00:44:37,119
recompute

1029
00:44:33,679 --> 00:44:39,838
uh from scratch because uh although

1030
00:44:37,119 --> 00:44:42,079
every frame we recompute the lighting we

1031
00:44:39,838 --> 00:44:43,599
do it with the you know when it samples

1032
00:44:42,079 --> 00:44:45,519
the lighting it's got to sample it from

1033
00:44:43,599 --> 00:44:48,318
something and that something is whatever

1034
00:44:45,519 --> 00:44:50,318
the last frame's lighting state was

1035
00:44:48,318 --> 00:44:53,039
so we re-compute the movement of the

1036
00:44:50,318 --> 00:44:55,920
light every frame but we need some idea

1037
00:44:53,039 --> 00:44:58,800
of which lights hit what surfaces and so

1038
00:44:55,920 --> 00:45:00,480
the last frame's light probe data is

1039
00:44:58,800 --> 00:45:03,200
what we use for that which means that

1040
00:45:00,480 --> 00:45:05,280
there is one frame of feedback and we'd

1041
00:45:03,199 --> 00:45:06,960
like to clear that out right because in

1042
00:45:05,280 --> 00:45:09,040
a case where you have a feedback thing

1043
00:45:06,960 --> 00:45:12,039
like that

1044
00:45:09,039 --> 00:45:12,039
right

1045
00:45:23,440 --> 00:45:28,639
okay more clues

1046
00:45:25,679 --> 00:45:28,639
i just saw a clue

1047
00:45:31,440 --> 00:45:35,679
like how is that how is that happening

1048
00:45:36,000 --> 00:45:41,559
do you see these

1049
00:45:37,920 --> 00:45:41,559
watch this row

1050
00:45:50,000 --> 00:45:53,599
it's like there's some kind of a way

1051
00:45:52,000 --> 00:45:56,079
that you get into a state where people

1052
00:45:53,599 --> 00:45:59,480
who are not getting any light suddenly

1053
00:45:56,079 --> 00:45:59,480
get the light

1054
00:46:00,880 --> 00:46:03,200
right

1055
00:46:06,000 --> 00:46:09,679
how

1056
00:46:07,519 --> 00:46:12,480
and it's sudden like that that it's not

1057
00:46:09,679 --> 00:46:14,239
even it's not even like a slow

1058
00:46:12,480 --> 00:46:16,639
like there was it slow but there it's

1059
00:46:14,239 --> 00:46:16,639
instant

1060
00:46:20,480 --> 00:46:24,960
this is a real head scratcher

1061
00:46:26,079 --> 00:46:30,720
we need a plan for investigating this

1062
00:46:37,440 --> 00:46:41,358
we need a plan for investigating this

1063
00:46:39,920 --> 00:46:44,639
and i

1064
00:46:41,358 --> 00:46:44,639
don't have one

1065
00:46:52,559 --> 00:46:55,358
part of the reason i don't have one is

1066
00:46:53,760 --> 00:46:56,480
probably because i don't do rendering

1067
00:46:55,358 --> 00:46:59,119
for a living

1068
00:46:56,480 --> 00:47:00,719
um you know i'm guessing here that if

1069
00:46:59,119 --> 00:47:02,559
like you were the kind of person who

1070
00:47:00,719 --> 00:47:04,159
does lighting research for nvidia you

1071
00:47:02,559 --> 00:47:05,440
would probably have a pretty good idea

1072
00:47:04,159 --> 00:47:07,039
of how you would go about debugging this

1073
00:47:05,440 --> 00:47:08,000
right

1074
00:47:07,039 --> 00:47:09,199
um

1075
00:47:08,000 --> 00:47:11,599
and

1076
00:47:09,199 --> 00:47:12,960
i'm guessing like

1077
00:47:11,599 --> 00:47:14,800
you know they would they'd be like oh

1078
00:47:12,960 --> 00:47:17,280
yeah you should probably put in some of

1079
00:47:14,800 --> 00:47:18,400
these checks and you know or draw this

1080
00:47:17,280 --> 00:47:20,640
you know i don't know something like

1081
00:47:18,400 --> 00:47:20,639
that

1082
00:47:21,039 --> 00:47:25,199
uh and we

1083
00:47:22,800 --> 00:47:27,519
don't know that but

1084
00:47:25,199 --> 00:47:27,519
um

1085
00:47:33,119 --> 00:47:37,358
but we need to figure it out because

1086
00:47:34,800 --> 00:47:40,720
otherwise we will never have our good

1087
00:47:37,358 --> 00:47:43,519
lighting that we basically have now

1088
00:47:40,719 --> 00:47:45,679
if we just didn't have this bug

1089
00:47:43,519 --> 00:47:47,119
so we have to figure it out

1090
00:47:45,679 --> 00:47:48,719
which means we have to figure out a way

1091
00:47:47,119 --> 00:47:51,039
to debug it

1092
00:47:48,719 --> 00:47:52,639
which means i have to think of a way

1093
00:47:51,039 --> 00:47:54,719
to structure the debugging to look for

1094
00:47:52,639 --> 00:47:54,719
it

1095
00:47:58,000 --> 00:48:03,039
so we have some clue

1096
00:48:00,960 --> 00:48:05,119
which is to say that when we see

1097
00:48:03,039 --> 00:48:06,960
something like the bug in an isolated

1098
00:48:05,119 --> 00:48:08,960
area so here

1099
00:48:06,960 --> 00:48:11,760
we do know where it's coming from

1100
00:48:08,960 --> 00:48:13,358
because the sightedness of the

1101
00:48:11,760 --> 00:48:15,359
the drawing

1102
00:48:13,358 --> 00:48:16,239
shows a siding

1103
00:48:15,358 --> 00:48:18,838
um

1104
00:48:16,239 --> 00:48:21,358
where we can see like that the

1105
00:48:18,838 --> 00:48:23,119
thing is coming from a particular

1106
00:48:21,358 --> 00:48:25,358
direction

1107
00:48:23,119 --> 00:48:25,358
right

1108
00:48:28,239 --> 00:48:31,919
right there

1109
00:48:29,920 --> 00:48:32,838
you can see that it sort of comes from

1110
00:48:31,920 --> 00:48:35,280
one

1111
00:48:32,838 --> 00:48:37,679
direction more than another right there

1112
00:48:35,280 --> 00:48:37,680
it's like

1113
00:48:38,159 --> 00:48:42,159
it was coming from

1114
00:48:39,838 --> 00:48:42,159
back

1115
00:48:42,480 --> 00:48:45,119
behind it

1116
00:48:45,280 --> 00:48:49,839
and instantly which makes no sense

1117
00:48:56,480 --> 00:49:01,159
i

1118
00:48:57,440 --> 00:49:01,159
don't get it

1119
00:49:19,838 --> 00:49:22,838
so

1120
00:49:44,239 --> 00:49:51,199
so let's suppose that we did not ever

1121
00:49:48,000 --> 00:49:53,519
allow any feedback i'm assuming that we

1122
00:49:51,199 --> 00:49:53,519
wouldn't

1123
00:49:53,599 --> 00:49:56,559
see like you can see here look it's all

1124
00:49:55,358 --> 00:49:57,838
telling you right like those little

1125
00:49:56,559 --> 00:49:59,760
things tell you which way the light

1126
00:49:57,838 --> 00:50:01,838
comes from the light like snuck out

1127
00:49:59,760 --> 00:50:04,319
around here came down this way and now

1128
00:50:01,838 --> 00:50:05,519
these are all getting light from that

1129
00:50:04,318 --> 00:50:07,759
direction

1130
00:50:05,519 --> 00:50:07,759
right

1131
00:50:07,838 --> 00:50:10,639
that's what's happening

1132
00:50:10,960 --> 00:50:16,880
um presumably because the ray that cast

1133
00:50:14,639 --> 00:50:18,480
goes all the way out to like here or

1134
00:50:16,880 --> 00:50:20,160
something or i guess it can hit the

1135
00:50:18,480 --> 00:50:24,760
ground right

1136
00:50:20,159 --> 00:50:24,759
and pick up samples from the ground

1137
00:50:34,880 --> 00:50:38,720
that just makes no sense what is

1138
00:50:36,960 --> 00:50:41,679
happening there

1139
00:50:38,719 --> 00:50:45,679
how does it go back to

1140
00:50:41,679 --> 00:50:45,679
what looks correct all of a sudden

1141
00:50:47,760 --> 00:50:52,240
is that because those values have like

1142
00:50:50,480 --> 00:50:54,000
wrapped or something

1143
00:50:52,239 --> 00:50:57,199
wait but they can't even do that because

1144
00:50:54,000 --> 00:50:57,199
we're checking for that

1145
00:50:58,800 --> 00:51:03,280
this is currently running the validator

1146
00:51:01,039 --> 00:51:07,800
which means no light is allowed to go

1147
00:51:03,280 --> 00:51:07,800
above 10 in the first place

1148
00:51:12,159 --> 00:51:14,558
hmm

1149
00:51:15,690 --> 00:51:19,860
[Music]

1150
00:51:21,199 --> 00:51:24,159
oh i should uh

1151
00:51:22,719 --> 00:51:25,199
because i'm now back at the code let me

1152
00:51:24,159 --> 00:51:27,598
explain this

1153
00:51:25,199 --> 00:51:28,799
uh i think someone was asking

1154
00:51:27,599 --> 00:51:31,359
correct me if i'm wrong i saw something

1155
00:51:28,800 --> 00:51:33,680
go by in the the chat someone was asking

1156
00:51:31,358 --> 00:51:36,639
like is it a bug that there's a y value

1157
00:51:33,679 --> 00:51:38,078
used in an x computation uh

1158
00:51:36,639 --> 00:51:40,318
and vice versa

1159
00:51:38,079 --> 00:51:42,640
so the answer is no

1160
00:51:40,318 --> 00:51:44,318
uh it's supposed to do that and the

1161
00:51:42,639 --> 00:51:46,799
reason it's supposed to do that is

1162
00:51:44,318 --> 00:51:47,759
because what's happening there is it's

1163
00:51:46,800 --> 00:51:50,760
using

1164
00:51:47,760 --> 00:51:50,760
um

1165
00:51:50,800 --> 00:51:55,839
it's it's the code for walking along the

1166
00:51:53,199 --> 00:51:57,838
grid is basically a bresenham like it's

1167
00:51:55,838 --> 00:51:59,599
a very simple uh

1168
00:51:57,838 --> 00:52:01,920
we wanted to have a very simple way of

1169
00:51:59,599 --> 00:52:04,000
of stepping through the grid

1170
00:52:01,920 --> 00:52:06,639
and so what we did is when we step

1171
00:52:04,000 --> 00:52:09,039
through the grid we just look at how far

1172
00:52:06,639 --> 00:52:10,078
off of the ray that we're casting each

1173
00:52:09,039 --> 00:52:11,599
possible

1174
00:52:10,079 --> 00:52:13,359
grid square would be that we could step

1175
00:52:11,599 --> 00:52:15,359
to and we step to the one that's like

1176
00:52:13,358 --> 00:52:17,440
the closest to the ray

1177
00:52:15,358 --> 00:52:20,400
and when you want to measure the

1178
00:52:17,440 --> 00:52:22,079
distance from something to a line

1179
00:52:20,400 --> 00:52:23,760
you measure along the perpendicular

1180
00:52:22,079 --> 00:52:26,480
which of course is

1181
00:52:23,760 --> 00:52:28,319
x you know one is x and one is y if you

1182
00:52:26,480 --> 00:52:30,559
want the perpendicular you flip them

1183
00:52:28,318 --> 00:52:30,558
right

1184
00:52:31,280 --> 00:52:33,839
um

1185
00:52:35,838 --> 00:52:40,519
so you know

1186
00:52:37,519 --> 00:52:40,519
yeah

1187
00:53:06,318 --> 00:53:08,558
um

1188
00:53:08,800 --> 00:53:12,640
you can also see here that this is where

1189
00:53:10,480 --> 00:53:14,639
the negative comes in you know probably

1190
00:53:12,639 --> 00:53:16,558
these should have both been a plus

1191
00:53:14,639 --> 00:53:17,759
uh because it is a little confusing like

1192
00:53:16,559 --> 00:53:19,680
when i just looked at it i was like why

1193
00:53:17,760 --> 00:53:20,480
isn't that negative

1194
00:53:19,679 --> 00:53:23,369
um

1195
00:53:20,480 --> 00:53:24,639
so like arguably like

1196
00:53:23,369 --> 00:53:26,480
[Music]

1197
00:53:24,639 --> 00:53:28,799
it's probably the case that in here we

1198
00:53:26,480 --> 00:53:30,800
probably should have done that is a plus

1199
00:53:28,800 --> 00:53:32,480
so if you know let me just change that i

1200
00:53:30,800 --> 00:53:33,440
think that just probably makes more

1201
00:53:32,480 --> 00:53:36,318
sense

1202
00:53:33,440 --> 00:53:38,000
so if we do stepping delta x here uh you

1203
00:53:36,318 --> 00:53:40,159
can see like it just it only gets used

1204
00:53:38,000 --> 00:53:41,679
in these two places this should probably

1205
00:53:40,159 --> 00:53:43,199
be a plus

1206
00:53:41,679 --> 00:53:44,799
and then when we compute it up here just

1207
00:53:43,199 --> 00:53:46,399
so that you can see

1208
00:53:44,800 --> 00:53:47,680
uh it probably should have been like

1209
00:53:46,400 --> 00:53:49,920
that

1210
00:53:47,679 --> 00:53:49,919
right

1211
00:53:52,880 --> 00:53:56,960
so you know

1212
00:53:54,239 --> 00:53:59,279
basically like instead of that being

1213
00:53:56,960 --> 00:54:01,838
negative here

1214
00:53:59,280 --> 00:54:01,839
what the heck

1215
00:54:02,880 --> 00:54:05,119
all right

1216
00:54:05,679 --> 00:54:09,118
what is happening there i don't know

1217
00:54:07,679 --> 00:54:10,879
uh anyway

1218
00:54:09,119 --> 00:54:12,640
the we change it to a plus down here so

1219
00:54:10,880 --> 00:54:15,440
they both get added and then up here

1220
00:54:12,639 --> 00:54:18,639
it's got a negative in front of it right

1221
00:54:15,440 --> 00:54:20,480
um and that's just because you know it

1222
00:54:18,639 --> 00:54:21,838
it's like

1223
00:54:20,480 --> 00:54:23,199
when i looked at it just now i was like

1224
00:54:21,838 --> 00:54:24,318
why isn't there a negative it's like oh

1225
00:54:23,199 --> 00:54:26,639
because we left a negative down the

1226
00:54:24,318 --> 00:54:27,838
bottom that which is you know

1227
00:54:26,639 --> 00:54:29,679
if you're looking at the code here when

1228
00:54:27,838 --> 00:54:31,358
you set it up it just probably makes

1229
00:54:29,679 --> 00:54:33,440
more sense that you would do that right

1230
00:54:31,358 --> 00:54:35,679
like it doesn't

1231
00:54:33,440 --> 00:54:38,159
you know

1232
00:54:35,679 --> 00:54:41,199
just seems a little more sane

1233
00:54:38,159 --> 00:54:41,199
uh yeah

1234
00:54:41,358 --> 00:54:43,759
that's all

1235
00:54:50,000 --> 00:54:54,480
yeah uh just slavic yes uh you had the

1236
00:54:52,798 --> 00:54:56,239
same thought i did and so that's why i

1237
00:54:54,480 --> 00:54:58,798
wanted to change this notation because

1238
00:54:56,239 --> 00:55:00,399
now it's much easier to see uh whereas

1239
00:54:58,798 --> 00:55:01,519
before when it was distributed down here

1240
00:55:00,400 --> 00:55:03,519
that just

1241
00:55:01,519 --> 00:55:05,119
i mean it's not like one's right and

1242
00:55:03,519 --> 00:55:06,960
one's wrong they both compute exactly

1243
00:55:05,119 --> 00:55:09,200
the same thing but it's just it's easier

1244
00:55:06,960 --> 00:55:10,880
to see that you did it right when it's

1245
00:55:09,199 --> 00:55:13,439
all in one place like that instead of

1246
00:55:10,880 --> 00:55:14,880
spread out right so

1247
00:55:13,440 --> 00:55:17,200
you know

1248
00:55:14,880 --> 00:55:17,200
um

1249
00:55:17,519 --> 00:55:20,400
unfortunately that has nothing to do

1250
00:55:18,798 --> 00:55:22,639
with our bug or maybe that's something

1251
00:55:20,400 --> 00:55:24,639
to other bug but we don't know um

1252
00:55:22,639 --> 00:55:27,920
what it would have to do

1253
00:55:24,639 --> 00:55:29,920
with our bug uh so we don't really know

1254
00:55:27,920 --> 00:55:31,440
we have no idea where this bug is coming

1255
00:55:29,920 --> 00:55:33,680
from and we don't really have a

1256
00:55:31,440 --> 00:55:35,119
particularly strong idea about how to

1257
00:55:33,679 --> 00:55:36,879
look for it

1258
00:55:35,119 --> 00:55:39,519
we do know that there's some kind of a

1259
00:55:36,880 --> 00:55:41,440
strange alignment issue so we have a

1260
00:55:39,519 --> 00:55:45,358
little bit of a clue which is that

1261
00:55:41,440 --> 00:55:48,079
somehow when we have the alignment off

1262
00:55:45,358 --> 00:55:49,598
me you know maybe there's a you know

1263
00:55:48,079 --> 00:55:52,559
here's one thought

1264
00:55:49,599 --> 00:55:54,960
maybe when we get the alignment

1265
00:55:52,559 --> 00:55:57,680
wrong there's some kind of like a when

1266
00:55:54,960 --> 00:56:00,000
we walk the grid we're walking it

1267
00:55:57,679 --> 00:56:02,798
incorrectly and we miss we'll we we can

1268
00:56:00,000 --> 00:56:04,719
like tunnel through some occluders that

1269
00:56:02,798 --> 00:56:06,798
we shouldn't be able to tunnel through

1270
00:56:04,719 --> 00:56:09,118
um

1271
00:56:06,798 --> 00:56:11,358
i don't know that i think that's a high

1272
00:56:09,119 --> 00:56:12,559
percentage chance but

1273
00:56:11,358 --> 00:56:14,318
it's something

1274
00:56:12,559 --> 00:56:17,319
we could think about

1275
00:56:14,318 --> 00:56:17,318
um

1276
00:56:17,519 --> 00:56:22,318
it'd be nice to get these

1277
00:56:19,679 --> 00:56:24,798
uh folks here to

1278
00:56:22,318 --> 00:56:27,199
uh to to maybe trigger again and maybe

1279
00:56:24,798 --> 00:56:30,239
we could use those as a case study

1280
00:56:27,199 --> 00:56:32,639
and go inspect uh how the casting is

1281
00:56:30,239 --> 00:56:32,639
working

1282
00:56:34,159 --> 00:56:37,920
so

1283
00:56:34,880 --> 00:56:37,920
you know um

1284
00:56:42,159 --> 00:56:45,920
you know part of the problem is that

1285
00:56:43,519 --> 00:56:48,079
that you can also see that like those

1286
00:56:45,920 --> 00:56:49,200
are not the first people contaminated

1287
00:56:48,079 --> 00:56:51,440
right

1288
00:56:49,199 --> 00:56:51,439
um

1289
00:56:52,400 --> 00:56:56,720
so it's like it has to spread around the

1290
00:56:54,798 --> 00:56:59,719
outside first

1291
00:56:56,719 --> 00:56:59,719
maybe

1292
00:57:00,719 --> 00:57:06,719
let's look more closely at the order in

1293
00:57:02,719 --> 00:57:06,719
which that contamination contaminates

1294
00:57:06,798 --> 00:57:11,559
like where does it actually come from

1295
00:57:17,519 --> 00:57:22,559
so it actually did start

1296
00:57:20,000 --> 00:57:22,559
right there

1297
00:57:23,519 --> 00:57:27,599
right

1298
00:57:24,559 --> 00:57:28,960
like it did legit legitimately start

1299
00:57:27,599 --> 00:57:31,760
right there

1300
00:57:28,960 --> 00:57:33,358
uh that's the first place that i saw

1301
00:57:31,760 --> 00:57:35,680
it get bright

1302
00:57:33,358 --> 00:57:37,759
um so i i guess i'd be interested to

1303
00:57:35,679 --> 00:57:41,838
know if we

1304
00:57:37,760 --> 00:57:41,839
i don't know which index that is

1305
00:57:57,760 --> 00:58:00,760
um

1306
00:58:08,079 --> 00:58:12,000
ah

1307
00:58:09,358 --> 00:58:12,000
yes

1308
00:58:13,358 --> 00:58:20,639
yes we now know the answer to the bug

1309
00:58:17,920 --> 00:58:23,119
and you know what

1310
00:58:20,639 --> 00:58:26,000
we probably should get out the owl of

1311
00:58:23,119 --> 00:58:29,838
shame for this one because i literally

1312
00:58:26,000 --> 00:58:29,838
freaking said this before

1313
00:58:34,960 --> 00:58:40,199
i don't know where that owl went let's

1314
00:58:36,719 --> 00:58:40,199
go find it

1315
00:59:12,719 --> 00:59:15,719
um

1316
01:00:09,519 --> 01:00:12,519
um

1317
01:01:04,480 --> 01:01:09,280
all right well uh

1318
01:01:07,039 --> 01:01:09,279
so

1319
01:01:09,519 --> 01:01:14,719
that was embarrassing because

1320
01:01:12,000 --> 01:01:17,199
uh as i was saying before the owl shane

1321
01:01:14,719 --> 01:01:19,519
paraded around

1322
01:01:17,199 --> 01:01:19,519
um

1323
01:01:22,798 --> 01:01:27,440
so i lit i literally said we would have

1324
01:01:25,519 --> 01:01:28,798
this problem i don't know we could go

1325
01:01:27,440 --> 01:01:30,798
back and check the tape to see how

1326
01:01:28,798 --> 01:01:33,039
strenuous i was about it but i literally

1327
01:01:30,798 --> 01:01:35,119
called this problem before

1328
01:01:33,039 --> 01:01:36,960
and then i forgot to actually go deal

1329
01:01:35,119 --> 01:01:39,280
with it right so we

1330
01:01:36,960 --> 01:01:40,960
you know maybe i can chalk this up to

1331
01:01:39,280 --> 01:01:43,280
streaming because a lot of times if you

1332
01:01:40,960 --> 01:01:45,199
only stream only so often a lot of times

1333
01:01:43,280 --> 01:01:46,480
i feel like a lot more on the ball when

1334
01:01:45,199 --> 01:01:49,519
i'm programming

1335
01:01:46,480 --> 01:01:51,280
you know in my normal job day-to-day

1336
01:01:49,519 --> 01:01:53,440
uh and a lot of times you forget stuff

1337
01:01:51,280 --> 01:01:54,798
where stuff gets messy for no reason and

1338
01:01:53,440 --> 01:01:57,200
code uh

1339
01:01:54,798 --> 01:01:58,400
when you

1340
01:01:57,199 --> 01:02:00,399
um

1341
01:01:58,400 --> 01:02:01,838
are streaming it should be cleaner and

1342
01:02:00,400 --> 01:02:04,880
it's not because you never have that

1343
01:02:01,838 --> 01:02:05,838
kind of clarity but

1344
01:02:04,880 --> 01:02:07,920
um

1345
01:02:05,838 --> 01:02:11,759
essentially what happens

1346
01:02:07,920 --> 01:02:14,240
is when we are casting we removed z

1347
01:02:11,760 --> 01:02:15,839
because now there is no actual the

1348
01:02:14,239 --> 01:02:18,639
spatial partition is

1349
01:02:15,838 --> 01:02:20,639
always the same in z right

1350
01:02:18,639 --> 01:02:23,440
but what we neglected to do and i

1351
01:02:20,639 --> 01:02:26,960
specifically said this

1352
01:02:23,440 --> 01:02:28,400
uh what we neglected to do is actually

1353
01:02:26,960 --> 01:02:30,000
stop the

1354
01:02:28,400 --> 01:02:32,960
looking through the spatial partition

1355
01:02:30,000 --> 01:02:36,000
when you exit the cell in z

1356
01:02:32,960 --> 01:02:38,480
so as a result if someone can leave

1357
01:02:36,000 --> 01:02:43,440
through the floor so anywhere there

1358
01:02:38,480 --> 01:02:46,240
isn't an an underneath tile right

1359
01:02:43,440 --> 01:02:48,880
um and and similarly you would get the

1360
01:02:46,239 --> 01:02:51,358
same on the edges right if somebody

1361
01:02:48,880 --> 01:02:55,280
casts just out that direction

1362
01:02:51,358 --> 01:02:57,199
and instead of leaving the green volume

1363
01:02:55,280 --> 01:02:59,280
they get out the bottom and go like

1364
01:02:57,199 --> 01:03:01,038
straight like far down or something

1365
01:02:59,280 --> 01:03:02,880
right although that seems like less of

1366
01:03:01,039 --> 01:03:04,559
an issue it probably is more just these

1367
01:03:02,880 --> 01:03:08,640
ones in here

1368
01:03:04,559 --> 01:03:10,079
um then you can easily have this problem

1369
01:03:08,639 --> 01:03:11,838
now there's a couple different ways we

1370
01:03:10,079 --> 01:03:14,079
can deal with this and i'm not exactly

1371
01:03:11,838 --> 01:03:16,239
sure which one we want to but i would

1372
01:03:14,079 --> 01:03:17,920
start by saying maybe the best solution

1373
01:03:16,239 --> 01:03:19,759
is actually not to fix this problem and

1374
01:03:17,920 --> 01:03:22,480
to always have

1375
01:03:19,760 --> 01:03:24,240
floors everywhere uh because

1376
01:03:22,480 --> 01:03:25,760
in theory that should be fine now we

1377
01:03:24,239 --> 01:03:28,159
probably want to put something in that

1378
01:03:25,760 --> 01:03:29,680
validates that never happens but you see

1379
01:03:28,159 --> 01:03:31,199
these like where we're missing those

1380
01:03:29,679 --> 01:03:33,519
floor tiles there i don't actually

1381
01:03:31,199 --> 01:03:35,038
remember why we have that problem i

1382
01:03:33,519 --> 01:03:37,199
think it has something to do with how we

1383
01:03:35,039 --> 01:03:37,560
fill in the world

1384
01:03:37,199 --> 01:03:38,879
um

1385
01:03:37,559 --> 01:03:40,318
[Music]

1386
01:03:38,880 --> 01:03:41,680
because remember we don't really have

1387
01:03:40,318 --> 01:03:42,798
much in the way i think we call it the

1388
01:03:41,679 --> 01:03:44,558
apron

1389
01:03:42,798 --> 01:03:46,559
we don't have much in the way of room

1390
01:03:44,559 --> 01:03:48,079
generation code our room generation code

1391
01:03:46,559 --> 01:03:49,280
is pretty crappy

1392
01:03:48,079 --> 01:03:50,880
uh it doesn't really do anything

1393
01:03:49,280 --> 01:03:53,359
interesting at the moment

1394
01:03:50,880 --> 01:03:56,880
um but you can kind of see how it

1395
01:03:53,358 --> 01:03:59,440
it uh works here right it iterates over

1396
01:03:56,880 --> 01:04:00,880
this stuff it looks for overlapping

1397
01:03:59,440 --> 01:04:02,400
entities

1398
01:04:00,880 --> 01:04:04,720
um

1399
01:04:02,400 --> 01:04:06,639
and i guess if it doesn't find any it

1400
01:04:04,719 --> 01:04:09,199
puts them in there why it doesn't have

1401
01:04:06,639 --> 01:04:09,920
any only on that side i couldn't tell

1402
01:04:09,199 --> 01:04:12,480
you

1403
01:04:09,920 --> 01:04:15,280
i suspect it's probably because when we

1404
01:04:12,480 --> 01:04:18,079
changed how things were aligned this

1405
01:04:15,280 --> 01:04:19,280
code is probably now wrong

1406
01:04:18,079 --> 01:04:21,920
um

1407
01:04:19,280 --> 01:04:24,559
like when it iterates over

1408
01:04:21,920 --> 01:04:27,559
things it's probably wrong

1409
01:04:24,559 --> 01:04:27,559
um

1410
01:04:29,039 --> 01:04:36,440
so like this uh get total volume thing

1411
01:04:33,440 --> 01:04:36,440
um

1412
01:04:45,280 --> 01:04:48,079
like this code i don't know we'd have to

1413
01:04:47,119 --> 01:04:49,920
look at

1414
01:04:48,079 --> 01:04:52,240
i'm not sure i care about it at the

1415
01:04:49,920 --> 01:04:53,519
immediate moment

1416
01:04:52,239 --> 01:04:55,919
but i would suspect that this is

1417
01:04:53,519 --> 01:04:58,920
probably the issue is that it's not

1418
01:04:55,920 --> 01:04:58,920
actually

1419
01:05:09,838 --> 01:05:14,798
add reduce to get total volume of tile

1420
01:05:11,838 --> 01:05:16,558
eps eps ets yeah i mean one of the

1421
01:05:14,798 --> 01:05:18,559
things that we should also do here is

1422
01:05:16,559 --> 01:05:21,280
collapse this to actually just using a

1423
01:05:18,559 --> 01:05:25,559
grid which you know currently we we

1424
01:05:21,280 --> 01:05:25,559
didn't really do that um

1425
01:05:37,599 --> 01:05:41,119
your people are going to send these an

1426
01:05:39,280 --> 01:05:42,960
owl of shame to microsoft like an actual

1427
01:05:41,119 --> 01:05:44,960
owl

1428
01:05:42,960 --> 01:05:46,318
it would have to be like the biggest owl

1429
01:05:44,960 --> 01:05:48,480
in their new campus that they're

1430
01:05:46,318 --> 01:05:50,480
building like there's microsoft is

1431
01:05:48,480 --> 01:05:52,079
building some new campus thing i don't

1432
01:05:50,480 --> 01:05:56,240
think it's done yet

1433
01:05:52,079 --> 01:05:56,240
um but they had like um

1434
01:06:01,039 --> 01:06:04,039
uh

1435
01:06:06,400 --> 01:06:09,680
this thing

1436
01:06:08,400 --> 01:06:10,798
this

1437
01:06:09,679 --> 01:06:14,159
right

1438
01:06:10,798 --> 01:06:16,239
this should just be a giant owl like

1439
01:06:14,159 --> 01:06:18,558
like instead of like whatever they're

1440
01:06:16,239 --> 01:06:21,759
thinking this is gonna be it should just

1441
01:06:18,559 --> 01:06:24,798
be a giant owl of shame in this thing

1442
01:06:21,760 --> 01:06:26,559
like just absolutely huge

1443
01:06:24,798 --> 01:06:28,079
you know something that's several times

1444
01:06:26,559 --> 01:06:29,920
taller than the actual tallest building

1445
01:06:28,079 --> 01:06:31,280
on the campus

1446
01:06:29,920 --> 01:06:32,720
right

1447
01:06:31,280 --> 01:06:34,319
um

1448
01:06:32,719 --> 01:06:36,558
they have the same block they do you're

1449
01:06:34,318 --> 01:06:37,920
right they obviously have the same

1450
01:06:36,559 --> 01:06:41,680
lighting bug

1451
01:06:37,920 --> 01:06:43,920
they haven't fixed it either

1452
01:06:41,679 --> 01:06:43,919
um

1453
01:06:44,159 --> 01:06:48,399
so you know like they've got

1454
01:06:47,039 --> 01:06:50,720
uh

1455
01:06:48,400 --> 01:06:52,480
plans here they've got big plans

1456
01:06:50,719 --> 01:06:55,118
but i think this should just be a giant

1457
01:06:52,480 --> 01:06:56,960
owl of shame that just like looks and

1458
01:06:55,119 --> 01:06:59,280
you know what would be even better

1459
01:06:56,960 --> 01:07:02,079
microsoft if you're watching this

1460
01:06:59,280 --> 01:07:05,200
put a giant alice shame in here but put

1461
01:07:02,079 --> 01:07:08,079
it on a rotating base

1462
01:07:05,199 --> 01:07:11,199
so that during the day like the the owl

1463
01:07:08,079 --> 01:07:15,039
of shame just rotates like a clockwork

1464
01:07:11,199 --> 01:07:17,919
owl around and casts its gaze of shame

1465
01:07:15,039 --> 01:07:20,559
upon each building like in turn

1466
01:07:17,920 --> 01:07:22,240
because like we know that

1467
01:07:20,559 --> 01:07:25,200
all the only thing that anyone's doing

1468
01:07:22,239 --> 01:07:27,439
in any of these buildings is shameful so

1469
01:07:25,199 --> 01:07:29,519
you might as well acknowledge that with

1470
01:07:27,440 --> 01:07:32,798
a giant owl of shame in the centaur

1471
01:07:29,519 --> 01:07:32,798
that's my feeling anyway

1472
01:07:35,358 --> 01:07:40,318
that's my recommendation for the

1473
01:07:36,798 --> 01:07:42,318
microsoft campus is a giant owl of shame

1474
01:07:40,318 --> 01:07:45,920
that looks at all the employees with a

1475
01:07:42,318 --> 01:07:48,798
very shame with a shaming gaze

1476
01:07:45,920 --> 01:07:50,960
okay uh so we have been shamed as well

1477
01:07:48,798 --> 01:07:51,920
today by the owl of shame

1478
01:07:50,960 --> 01:07:54,318
i

1479
01:07:51,920 --> 01:07:57,200
let he who hath no owl cast the first

1480
01:07:54,318 --> 01:07:58,558
shame um and we certainly

1481
01:07:57,199 --> 01:08:01,038
we certainly

1482
01:07:58,559 --> 01:08:03,359
uh have been shamed today

1483
01:08:01,039 --> 01:08:05,839
so i think the solution to this problem

1484
01:08:03,358 --> 01:08:07,440
should probably be like we could solve

1485
01:08:05,838 --> 01:08:10,960
it by

1486
01:08:07,440 --> 01:08:14,639
in here when we cast array figuring out

1487
01:08:10,960 --> 01:08:17,920
what the t value is that would exit the

1488
01:08:14,639 --> 01:08:20,479
s exit the grid in z

1489
01:08:17,920 --> 01:08:21,759
but my suspicion is that actually what

1490
01:08:20,479 --> 01:08:25,278
we should do is just make sure that

1491
01:08:21,759 --> 01:08:27,359
there always r bounds because

1492
01:08:25,279 --> 01:08:29,359
you want the lighting to work properly

1493
01:08:27,359 --> 01:08:31,120
and if and you shouldn't really be able

1494
01:08:29,359 --> 01:08:33,039
to exit the cage

1495
01:08:31,119 --> 01:08:35,039
out the bottom

1496
01:08:33,039 --> 01:08:37,119
i don't think

1497
01:08:35,039 --> 01:08:38,319
maybe you should

1498
01:08:37,119 --> 01:08:41,198
because i feel like you should just

1499
01:08:38,319 --> 01:08:44,159
always hit something and that something

1500
01:08:41,198 --> 01:08:45,759
is either like black a black tile if

1501
01:08:44,158 --> 01:08:48,000
it's a pit

1502
01:08:45,759 --> 01:08:49,279
um

1503
01:08:48,000 --> 01:08:51,279
i don't know it feels like you should

1504
01:08:49,279 --> 01:08:52,560
always hit something but maybe that's

1505
01:08:51,279 --> 01:08:54,880
not true

1506
01:08:52,560 --> 01:08:57,039
uh

1507
01:08:54,880 --> 01:08:57,380
i don't know

1508
01:08:57,039 --> 01:08:58,880
um

1509
01:08:57,380 --> 01:09:02,000
[Music]

1510
01:08:58,880 --> 01:09:03,520
so it's hard to say uh but but

1511
01:09:02,000 --> 01:09:05,279
you know there's two ways we can solve

1512
01:09:03,520 --> 01:09:09,120
it one is we could go in here and say

1513
01:09:05,279 --> 01:09:11,040
look uh there's going to be um

1514
01:09:09,119 --> 01:09:12,559
a a clamp

1515
01:09:11,039 --> 01:09:15,039
on z

1516
01:09:12,560 --> 01:09:19,080
that we probably i would say it would

1517
01:09:15,039 --> 01:09:19,079
get enforced maybe

1518
01:09:23,198 --> 01:09:26,879
maybe it would get enforced

1519
01:09:25,759 --> 01:09:33,000
in

1520
01:09:26,880 --> 01:09:33,000
the step where the if the t terminate

1521
01:09:34,000 --> 01:09:38,960
if the t terminate

1522
01:09:35,920 --> 01:09:40,399
times the ray would put us outside z

1523
01:09:38,960 --> 01:09:42,719
then we just

1524
01:09:40,399 --> 01:09:45,519
you know that doesn't count uh you know

1525
01:09:42,719 --> 01:09:45,520
it could be here

1526
01:09:46,238 --> 01:09:50,318
you know what i mean um

1527
01:10:01,039 --> 01:10:03,840
uh

1528
01:10:14,319 --> 01:10:17,359
i guess let's see what happens if we do

1529
01:10:16,158 --> 01:10:20,879
that

1530
01:10:17,359 --> 01:10:23,759
so in here if we make some

1531
01:10:20,880 --> 01:10:25,600
requirement that we're going to clamp

1532
01:10:23,760 --> 01:10:28,960
the t terminate to

1533
01:10:25,600 --> 01:10:29,840
a bounds that has to do with z

1534
01:10:28,960 --> 01:10:33,920
uh

1535
01:10:29,840 --> 01:10:35,679
that seems pretty straight forward

1536
01:10:33,920 --> 01:10:39,719
so

1537
01:10:35,679 --> 01:10:39,719
that would be like

1538
01:10:52,479 --> 01:10:59,479
that would that would be like having in

1539
01:10:54,719 --> 01:10:59,480
here an f32 z

1540
01:11:00,640 --> 01:11:06,719
or something

1541
01:11:03,039 --> 01:11:07,680
where we just keep a z that steps along

1542
01:11:06,719 --> 01:11:10,239
the ray

1543
01:11:07,680 --> 01:11:12,960
[Music]

1544
01:11:10,238 --> 01:11:15,839
and we break whenever we would have left

1545
01:11:12,960 --> 01:11:15,840
the cell

1546
01:11:16,880 --> 01:11:19,920
um

1547
01:11:18,719 --> 01:11:21,600
you know i really don't want to do this

1548
01:11:19,920 --> 01:11:23,520
let me explain why i don't want to do it

1549
01:11:21,600 --> 01:11:25,280
since i'm not probably making much sense

1550
01:11:23,520 --> 01:11:27,440
so i think we do want to just go fix the

1551
01:11:25,279 --> 01:11:28,880
room creator and call it a day

1552
01:11:27,439 --> 01:11:29,919
so let me explain why i don't want to do

1553
01:11:28,880 --> 01:11:32,079
this

1554
01:11:29,920 --> 01:11:34,560
so suppose that that is how i was to

1555
01:11:32,079 --> 01:11:36,800
solve this problem and the game does

1556
01:11:34,560 --> 01:11:39,199
take place in a 2d sort of environment

1557
01:11:36,800 --> 01:11:41,039
but it is somewhat 3d right like it

1558
01:11:39,198 --> 01:11:44,079
still has like we're kind of allowing

1559
01:11:41,039 --> 01:11:46,880
things to move in 3d and think in 3d

1560
01:11:44,079 --> 01:11:49,519
so my fear is that let's suppose that i

1561
01:11:46,880 --> 01:11:51,039
do fix this problem by just enforcing

1562
01:11:49,520 --> 01:11:52,640
you know when you look here you can see

1563
01:11:51,039 --> 01:11:54,800
the the bounds

1564
01:11:52,640 --> 01:11:56,880
uh are this green thing

1565
01:11:54,800 --> 01:11:59,119
if i did force it to stop when it hit

1566
01:11:56,880 --> 01:12:01,199
the bottom of the green thing well you

1567
01:11:59,119 --> 01:12:04,158
could still get pretty far outside your

1568
01:12:01,198 --> 01:12:06,559
square actually if you cast let's say

1569
01:12:04,158 --> 01:12:08,399
from here and maybe this wall didn't go

1570
01:12:06,560 --> 01:12:10,719
all the way down like who knows

1571
01:12:08,399 --> 01:12:14,399
even if it does before i hit that i

1572
01:12:10,719 --> 01:12:16,640
could easily get too far away right

1573
01:12:14,399 --> 01:12:18,639
um so i would still end up potentially

1574
01:12:16,640 --> 01:12:20,960
pulling light from sampling that i

1575
01:12:18,640 --> 01:12:22,880
really shouldn't you know what i mean so

1576
01:12:20,960 --> 01:12:25,039
i think we want to constrain it and

1577
01:12:22,880 --> 01:12:27,440
maybe the answer is the reason

1578
01:12:25,039 --> 01:12:29,760
for that is that this has to be way more

1579
01:12:27,439 --> 01:12:30,719
constrained like maybe this is far too

1580
01:12:29,760 --> 01:12:31,920
tall

1581
01:12:30,719 --> 01:12:33,359
and you're like look you should

1582
01:12:31,920 --> 01:12:35,279
constrain it the other way but i think

1583
01:12:33,359 --> 01:12:36,799
the smarter answer is just always build

1584
01:12:35,279 --> 01:12:39,279
closed geometry

1585
01:12:36,800 --> 01:12:41,039
so that you always hit something valid

1586
01:12:39,279 --> 01:12:42,960
like a valid thing because that's the

1587
01:12:41,039 --> 01:12:44,960
actual thing we want to have happen and

1588
01:12:42,960 --> 01:12:46,960
so it seems like having this like bogus

1589
01:12:44,960 --> 01:12:48,000
space around is probably not the right

1590
01:12:46,960 --> 01:12:49,600
solution

1591
01:12:48,000 --> 01:12:51,039
so my guess is that we really just want

1592
01:12:49,600 --> 01:12:52,800
to fix this code unfortunately this is

1593
01:12:51,039 --> 01:12:54,158
not the code we're often working on so i

1594
01:12:52,800 --> 01:12:55,760
would rather have not have done that

1595
01:12:54,158 --> 01:12:59,119
right now but i think there really isn't

1596
01:12:55,760 --> 01:13:00,239
any better solution

1597
01:12:59,119 --> 01:13:03,599
um

1598
01:13:00,238 --> 01:13:04,479
so you know yeah that's where we're at

1599
01:13:03,600 --> 01:13:06,480
so

1600
01:13:04,479 --> 01:13:08,238
when we do this overlapping entities

1601
01:13:06,479 --> 01:13:10,559
exist i'm assuming that's was failing

1602
01:13:08,238 --> 01:13:11,439
but i guess we don't really know

1603
01:13:10,560 --> 01:13:14,480
um

1604
01:13:11,439 --> 01:13:16,960
if we were to add something obvious we

1605
01:13:14,479 --> 01:13:19,198
probably could see if that were the case

1606
01:13:16,960 --> 01:13:21,439
uh by adding some other thing like

1607
01:13:19,198 --> 01:13:23,519
instead of

1608
01:13:21,439 --> 01:13:26,000
um

1609
01:13:23,520 --> 01:13:27,840
like here's just my suggestion like

1610
01:13:26,000 --> 01:13:30,319
suppose we went in here and said all

1611
01:13:27,840 --> 01:13:32,079
right if overlapping entities exist or

1612
01:13:30,319 --> 01:13:33,039
they don't will actually be something

1613
01:13:32,079 --> 01:13:34,719
else

1614
01:13:33,039 --> 01:13:36,960
so we say

1615
01:13:34,719 --> 01:13:36,960
um

1616
01:13:37,279 --> 01:13:41,920
here's the the predicate overlapping

1617
01:13:39,920 --> 01:13:43,760
entities exist will be in here

1618
01:13:41,920 --> 01:13:46,319
and rather than doing an if statement

1619
01:13:43,760 --> 01:13:48,320
we're always going to create uh this

1620
01:13:46,319 --> 01:13:50,559
ground cover thing where we place this

1621
01:13:48,319 --> 01:13:51,759
this random entity here

1622
01:13:50,560 --> 01:13:53,840
uh and

1623
01:13:51,760 --> 01:13:56,880
i don't know why we're adding collision

1624
01:13:53,840 --> 01:13:59,199
volumes uh to it i think probably for

1625
01:13:56,880 --> 01:14:00,719
lighting i would guess

1626
01:13:59,198 --> 01:14:02,079
so we're placing these collision volumes

1627
01:14:00,719 --> 01:14:04,880
in here

1628
01:14:02,079 --> 01:14:07,039
and then what we want to do is we want

1629
01:14:04,880 --> 01:14:08,159
to say we're always going to add one of

1630
01:14:07,039 --> 01:14:09,039
these

1631
01:14:08,158 --> 01:14:12,479
and

1632
01:14:09,039 --> 01:14:12,479
we're going to add one of these

1633
01:14:13,439 --> 01:14:16,960
like just floating in the air or

1634
01:14:15,119 --> 01:14:18,399
something when

1635
01:14:16,960 --> 01:14:19,359
this comes back

1636
01:14:18,399 --> 01:14:21,279
true

1637
01:14:19,359 --> 01:14:24,000
uh if that makes sense

1638
01:14:21,279 --> 01:14:25,039
so when we say like height equals random

1639
01:14:24,000 --> 01:14:27,840
between

1640
01:14:25,039 --> 01:14:32,238
five one whatever this whole thing make

1641
01:14:27,840 --> 01:14:32,239
relative get volume from from minzy

1642
01:14:32,399 --> 01:14:34,960
to be honest

1643
01:14:35,359 --> 01:14:40,880
why is that not

1644
01:14:37,439 --> 01:14:42,719
varying the height of this thing

1645
01:14:40,880 --> 01:14:44,319
that seems a bit weird

1646
01:14:42,719 --> 01:14:46,239
i guess because the it's only the

1647
01:14:44,319 --> 01:14:47,759
collision volume

1648
01:14:46,238 --> 01:14:51,198
that's kind of weird so you're telling

1649
01:14:47,760 --> 01:14:53,199
me the collision volume is randomized

1650
01:14:51,198 --> 01:14:56,879
but the placement this this is some

1651
01:14:53,198 --> 01:15:00,960
weird code i don't know what

1652
01:14:56,880 --> 01:15:02,800
oh we do do a ground p thing here

1653
01:15:00,960 --> 01:15:05,439
yeah i don't know anyway this quote is a

1654
01:15:02,800 --> 01:15:08,320
bit weird i don't feel like the the

1655
01:15:05,439 --> 01:15:09,678
ground is uneven but this would suggest

1656
01:15:08,319 --> 01:15:11,920
that it was

1657
01:15:09,679 --> 01:15:14,399
so i guess i'm not sure i completely

1658
01:15:11,920 --> 01:15:14,399
understand

1659
01:15:14,880 --> 01:15:18,159
before i do this

1660
01:15:16,560 --> 01:15:20,320
let me see what's up with that is that

1661
01:15:18,158 --> 01:15:25,158
really what's happening there

1662
01:15:20,319 --> 01:15:25,158
is ground uneven outside the

1663
01:15:25,279 --> 01:15:28,960
outside the generated rooms

1664
01:15:34,479 --> 01:15:39,359
i guess it is

1665
01:15:36,158 --> 01:15:40,719
that's that's definitely uneven okay

1666
01:15:39,359 --> 01:15:42,158
i guess i just didn't look at it very

1667
01:15:40,719 --> 01:15:44,640
closely all right so that is what

1668
01:15:42,158 --> 01:15:46,639
happens here that's fine

1669
01:15:44,640 --> 01:15:48,320
um what i wanted to do is say okay let's

1670
01:15:46,640 --> 01:15:50,840
suppose that the height is always

1671
01:15:48,319 --> 01:15:54,479
clamped to something like very

1672
01:15:50,840 --> 01:15:56,239
low or maybe the p value is dropped

1673
01:15:54,479 --> 01:15:58,238
quite a bit lower

1674
01:15:56,238 --> 01:16:01,039
so rather than this if statement we're

1675
01:15:58,238 --> 01:16:01,919
just going to say okay look

1676
01:16:01,039 --> 01:16:03,679
if

1677
01:16:01,920 --> 01:16:06,640
it's overlapped

1678
01:16:03,679 --> 01:16:08,560
then the ground p is just gonna have

1679
01:16:06,640 --> 01:16:09,440
like some

1680
01:16:08,560 --> 01:16:12,159
you know

1681
01:16:09,439 --> 01:16:14,479
large amount subtracted away from it

1682
01:16:12,158 --> 01:16:15,439
so that we can see

1683
01:16:14,479 --> 01:16:16,959
where

1684
01:16:15,439 --> 01:16:18,960
like we're getting overlap and where

1685
01:16:16,960 --> 01:16:21,279
we're not just so i can verify to myself

1686
01:16:18,960 --> 01:16:24,480
that's actually the problem um because i

1687
01:16:21,279 --> 01:16:26,238
don't know if it is or if it isn't right

1688
01:16:24,479 --> 01:16:27,198
uh so let's see

1689
01:16:26,238 --> 01:16:29,119
so

1690
01:16:27,198 --> 01:16:30,399
of course one issue is i probably should

1691
01:16:29,119 --> 01:16:33,119
turn lighting off for this because i

1692
01:16:30,399 --> 01:16:35,839
can't actually see outside with without

1693
01:16:33,119 --> 01:16:36,880
that um but you know what are you gonna

1694
01:16:35,840 --> 01:16:37,679
do

1695
01:16:36,880 --> 01:16:40,719
um

1696
01:16:37,679 --> 01:16:40,719
if i look

1697
01:16:44,000 --> 01:16:47,600
i can't even really see i mean i guess i

1698
01:16:45,920 --> 01:16:48,880
can see that i can't see through it so i

1699
01:16:47,600 --> 01:16:49,760
guess that does mean that there is

1700
01:16:48,880 --> 01:16:52,079
something

1701
01:16:49,760 --> 01:16:52,079
there

1702
01:16:53,198 --> 01:16:58,678
let's look in one of those gaps like

1703
01:16:54,800 --> 01:16:58,679
that was a gap right

1704
01:17:08,800 --> 01:17:12,000
all right

1705
01:17:09,760 --> 01:17:14,480
now i'm a little weirded out because it

1706
01:17:12,000 --> 01:17:15,600
doesn't feel like this ground p

1707
01:17:14,479 --> 01:17:16,479
actually

1708
01:17:15,600 --> 01:17:18,159
got

1709
01:17:16,479 --> 01:17:20,959
dropped though it looks like they're all

1710
01:17:18,158 --> 01:17:23,839
at the correct level

1711
01:17:20,960 --> 01:17:23,840
doesn't it sort of

1712
01:17:26,719 --> 01:17:31,480
oh that's just for the trees

1713
01:17:31,920 --> 01:17:36,640
that's just for the trees

1714
01:17:34,158 --> 01:17:36,639
my bad

1715
01:17:41,119 --> 01:17:46,079
uh let's do it for everything

1716
01:17:44,719 --> 01:17:47,279
but i think that answered my question

1717
01:17:46,079 --> 01:17:48,880
because you could see that it filled in

1718
01:17:47,279 --> 01:17:50,639
all the holes so

1719
01:17:48,880 --> 01:17:52,319
i think we're okay

1720
01:17:50,640 --> 01:17:54,640
um

1721
01:17:52,319 --> 01:17:56,399
all right so let's see here

1722
01:17:54,640 --> 01:17:59,280
these are all overlapped so they should

1723
01:17:56,399 --> 01:18:01,679
be low and i guess they are let's make

1724
01:17:59,279 --> 01:18:02,559
it let's make it more pronounced than

1725
01:18:01,679 --> 01:18:07,158
that

1726
01:18:02,560 --> 01:18:07,159
let's drop them way down low

1727
01:18:12,399 --> 01:18:15,920
that doesn't seem to have done anything

1728
01:18:19,198 --> 01:18:24,000
why why didn't that do anything

1729
01:18:22,000 --> 01:18:27,000
um

1730
01:18:24,000 --> 01:18:27,000
anybody

1731
01:18:30,000 --> 01:18:33,600
anyone

1732
01:18:31,439 --> 01:18:33,599
no

1733
01:18:33,920 --> 01:18:38,840
any any any suggestions

1734
01:18:36,560 --> 01:18:42,560
anything anyone

1735
01:18:38,840 --> 01:18:44,480
anyone um because that

1736
01:18:42,560 --> 01:18:45,760
that should say anytime you would have

1737
01:18:44,479 --> 01:18:47,839
overlapped something you should be

1738
01:18:45,760 --> 01:18:49,039
placed very low down

1739
01:18:47,840 --> 01:18:50,480
right

1740
01:18:49,039 --> 01:18:54,800
i mean

1741
01:18:50,479 --> 01:18:56,399
that should be extremely low

1742
01:18:54,800 --> 01:18:57,679
it should be like way sticking out the

1743
01:18:56,399 --> 01:19:00,079
bottom

1744
01:18:57,679 --> 01:19:00,079
and yet

1745
01:19:00,158 --> 01:19:03,679
nothing

1746
01:19:01,279 --> 01:19:05,439
is sticking out the bottom everything is

1747
01:19:03,679 --> 01:19:09,760
flat

1748
01:19:05,439 --> 01:19:11,198
how how is it possible i ask you

1749
01:19:09,760 --> 01:19:14,159
um

1750
01:19:11,198 --> 01:19:14,158
what am i missing

1751
01:19:14,960 --> 01:19:19,920
this is the p-value we're using

1752
01:19:17,600 --> 01:19:19,920
right

1753
01:19:20,840 --> 01:19:25,600
maybe let's take a look

1754
01:19:23,760 --> 01:19:27,119
because i i'm obviously doing something

1755
01:19:25,600 --> 01:19:28,800
stupid again this isn't the code we were

1756
01:19:27,119 --> 01:19:30,640
supposed to be working on so

1757
01:19:28,800 --> 01:19:34,920
i

1758
01:19:30,640 --> 01:19:34,920
kind of got to page it back in

1759
01:19:40,560 --> 01:19:46,000
um

1760
01:19:42,000 --> 01:19:48,238
let's go ahead and

1761
01:19:46,000 --> 01:19:50,640
check out this

1762
01:19:48,238 --> 01:19:53,359
function

1763
01:19:50,640 --> 01:19:53,360
here

1764
01:19:56,079 --> 01:20:01,880
so like we're calling it

1765
01:20:04,079 --> 01:20:07,279
i mean that

1766
01:20:07,359 --> 01:20:10,960
seems like a thing

1767
01:20:12,560 --> 01:20:15,560
right

1768
01:20:32,800 --> 01:20:36,360
i don't get it

1769
01:20:54,639 --> 01:20:59,800
so i guess one thing is that it's

1770
01:20:56,800 --> 01:20:59,800
centering

1771
01:21:00,479 --> 01:21:05,439
that's kind of weird

1772
01:21:02,399 --> 01:21:05,439
so the volume

1773
01:21:10,399 --> 01:21:16,000
get maxi center volume okay

1774
01:21:15,119 --> 01:21:19,920
so

1775
01:21:16,000 --> 01:21:19,920
that's a little weird well is it though

1776
01:21:21,679 --> 01:21:26,719
so the volume got created

1777
01:21:24,880 --> 01:21:32,159
if we look at what the two values are

1778
01:21:26,719 --> 01:21:34,480
it's like z10 to z11 more or less right

1779
01:21:32,158 --> 01:21:38,238
i mean

1780
01:21:34,479 --> 01:21:38,238
that's that's what we ended up getting

1781
01:21:38,479 --> 01:21:40,799
and

1782
01:21:41,679 --> 01:21:45,680
the volume

1783
01:21:42,550 --> 01:21:45,680
[Music]

1784
01:21:46,079 --> 01:21:50,158
i mean that

1785
01:21:47,520 --> 01:21:50,159
means that

1786
01:21:55,279 --> 01:22:01,519
the entity placement is at negative 12

1787
01:21:57,920 --> 01:22:01,520
and the volume is

1788
01:22:05,119 --> 01:22:09,800
i guess offset from that

1789
01:22:18,880 --> 01:22:24,199
i don't really understand how this code

1790
01:22:20,639 --> 01:22:24,199
works at all

1791
01:22:25,520 --> 01:22:29,040
i guess what this is saying this is

1792
01:22:27,920 --> 01:22:31,199
interesting

1793
01:22:29,039 --> 01:22:33,840
so what this is saying is that actually

1794
01:22:31,198 --> 01:22:36,079
this make relative call is assuming that

1795
01:22:33,840 --> 01:22:38,639
this is actually

1796
01:22:36,079 --> 01:22:39,519
this get volume from minzy

1797
01:22:38,639 --> 01:22:43,920
it's

1798
01:22:39,520 --> 01:22:43,920
this is not based off of the p-value

1799
01:22:47,039 --> 01:22:52,119
so really that doesn't adjust anything

1800
01:22:55,279 --> 01:22:57,920
it's just saying look this is going to

1801
01:22:56,880 --> 01:22:59,760
be

1802
01:22:57,920 --> 01:23:01,520
uh we want something that's going to be

1803
01:22:59,760 --> 01:23:03,679
relative to this p where we're placing

1804
01:23:01,520 --> 01:23:06,480
the thing

1805
01:23:03,679 --> 01:23:08,639
so that's wouldn't actually do what

1806
01:23:06,479 --> 01:23:09,678
we're trying to get it to do

1807
01:23:08,639 --> 01:23:11,679
uh

1808
01:23:09,679 --> 01:23:14,000
it'll just offset it so really i guess

1809
01:23:11,679 --> 01:23:16,480
what you would do is you'd do it here

1810
01:23:14,000 --> 01:23:17,760
yeah this code kind of sucks i mean

1811
01:23:16,479 --> 01:23:19,678
it's fine but

1812
01:23:17,760 --> 01:23:20,880
it's just that's just kind of just

1813
01:23:19,679 --> 01:23:22,639
unintuitive

1814
01:23:20,880 --> 01:23:24,639
one more pass over the room gen stuff

1815
01:23:22,639 --> 01:23:27,199
and i think we'll be more in business

1816
01:23:24,639 --> 01:23:28,639
which we'll want to do um

1817
01:23:27,198 --> 01:23:30,238
before we get much further but that

1818
01:23:28,639 --> 01:23:31,520
should work now

1819
01:23:30,238 --> 01:23:33,119
um

1820
01:23:31,520 --> 01:23:35,199
things should now be sticking out the

1821
01:23:33,119 --> 01:23:37,920
bottom when

1822
01:23:35,198 --> 01:23:39,759
they are overlapped right

1823
01:23:37,920 --> 01:23:41,840
i should think

1824
01:23:39,760 --> 01:23:44,840
uh i guess i don't know but let's find

1825
01:23:41,840 --> 01:23:44,840
out

1826
01:23:49,840 --> 01:23:55,400
i i'm hoping not i mean everything

1827
01:23:51,520 --> 01:23:55,400
shouldn't be overlapped anyway

1828
01:24:04,479 --> 01:24:08,559
um all right so the things that are

1829
01:24:06,238 --> 01:24:09,839
overlapped are now gone which i think is

1830
01:24:08,560 --> 01:24:11,600
what should have happened they're so far

1831
01:24:09,840 --> 01:24:13,119
down they won't even be in the spatial

1832
01:24:11,600 --> 01:24:15,360
query i don't think

1833
01:24:13,119 --> 01:24:17,359
so now we should be able to do them more

1834
01:24:15,359 --> 01:24:18,799
reasonably so we'll push them two units

1835
01:24:17,359 --> 01:24:20,880
down which i think will still be inside

1836
01:24:18,800 --> 01:24:21,679
the spatial partition to be pulled in

1837
01:24:20,880 --> 01:24:22,639
but

1838
01:24:21,679 --> 01:24:25,679
uh

1839
01:24:22,639 --> 01:24:25,679
so we can actually see

1840
01:24:27,119 --> 01:24:30,000
yeah you can kind of see them now of

1841
01:24:28,800 --> 01:24:32,480
course the lighting makes it difficult

1842
01:24:30,000 --> 01:24:34,719
but you see there

1843
01:24:32,479 --> 01:24:34,718
right

1844
01:24:35,359 --> 01:24:37,759
um

1845
01:24:36,319 --> 01:24:40,238
we should probably try to turn off

1846
01:24:37,760 --> 01:24:42,800
lighting or something just so we can see

1847
01:24:40,238 --> 01:24:46,799
but you know hopefully maybe we can

1848
01:24:42,800 --> 01:24:48,480
just look at it this way and see it here

1849
01:24:46,800 --> 01:24:50,480
so let's let's give it a shot i'm going

1850
01:24:48,479 --> 01:24:51,599
to hop out

1851
01:24:50,479 --> 01:24:52,638
to

1852
01:24:51,600 --> 01:24:54,560
the

1853
01:24:52,639 --> 01:24:57,560
outside here

1854
01:24:54,560 --> 01:24:57,560
um

1855
01:24:58,079 --> 01:25:01,359
like we overflowed our entity count

1856
01:25:00,319 --> 01:25:03,439
there

1857
01:25:01,359 --> 01:25:04,799
right this is this assertion is we don't

1858
01:25:03,439 --> 01:25:07,599
have

1859
01:25:04,800 --> 01:25:11,320
enough space to unpack an entity

1860
01:25:07,600 --> 01:25:11,320
which is kind of nuts

1861
01:25:13,439 --> 01:25:18,879
is that really possible

1862
01:25:16,000 --> 01:25:18,880
what if that's a bug

1863
01:25:22,560 --> 01:25:28,560
you wouldn't think so right

1864
01:25:24,960 --> 01:25:30,960
um because the max unpacked entity count

1865
01:25:28,560 --> 01:25:33,199
jimmy

1866
01:25:30,960 --> 01:25:33,198
um

1867
01:25:37,359 --> 01:25:42,079
i guess i don't know what we normally

1868
01:25:39,439 --> 01:25:42,079
set that to

1869
01:25:53,439 --> 01:25:58,799
max unpacked entity count is maxim

1870
01:25:55,760 --> 01:25:58,800
region entity count

1871
01:26:00,238 --> 01:26:07,559
that's a lot of entities is that really

1872
01:26:02,880 --> 01:26:07,560
the case i mean it could be i suppose

1873
01:26:07,750 --> 01:26:10,960
[Music]

1874
01:26:22,000 --> 01:26:25,760
i will temporarily up that limit but we

1875
01:26:24,399 --> 01:26:29,638
don't really want that to be that high

1876
01:26:25,760 --> 01:26:29,639
because it shouldn't have to be

1877
01:26:42,000 --> 01:26:46,639
all right

1878
01:26:43,439 --> 01:26:48,879
so if we now look we should see yeah so

1879
01:26:46,639 --> 01:26:51,279
you can see that those are exactly what

1880
01:26:48,880 --> 01:26:52,319
i assumed they were which is their down

1881
01:26:51,279 --> 01:26:54,559
right

1882
01:26:52,319 --> 01:26:54,559
um

1883
01:26:55,198 --> 01:26:59,198
so

1884
01:26:56,479 --> 01:27:00,959
yes i mean the problem is that we are

1885
01:26:59,198 --> 01:27:02,559
reporting those as overlapped when

1886
01:27:00,960 --> 01:27:04,719
they're not overlapped which is what i

1887
01:27:02,560 --> 01:27:05,920
thought right

1888
01:27:04,719 --> 01:27:10,399
so

1889
01:27:05,920 --> 01:27:10,399
with that in mind um

1890
01:27:10,960 --> 01:27:16,480
i guess the question here is

1891
01:27:13,840 --> 01:27:21,119
what do we do about that

1892
01:27:16,479 --> 01:27:21,119
because uh this code is obviously broken

1893
01:27:23,840 --> 01:27:29,279
so something about the way the

1894
01:27:26,479 --> 01:27:31,039
overlapping entities exist function

1895
01:27:29,279 --> 01:27:34,639
works uh

1896
01:27:31,039 --> 01:27:35,519
is broken

1897
01:27:34,639 --> 01:27:38,800
and

1898
01:27:35,520 --> 01:27:41,360
it's reporting that there is an entity

1899
01:27:38,800 --> 01:27:46,360
that overlaps the entity we're trying to

1900
01:27:41,359 --> 01:27:46,359
add even though there really isn't

1901
01:27:47,600 --> 01:27:50,719
which again wouldn't be a problem if we

1902
01:27:49,119 --> 01:27:52,158
had an actual grid but because this is

1903
01:27:50,719 --> 01:27:54,239
not really a grid the whole thing's in

1904
01:27:52,158 --> 01:27:57,238
3d and we're just pretending we have a

1905
01:27:54,238 --> 01:27:57,238
grid

1906
01:28:03,439 --> 01:28:06,799
uh

1907
01:28:04,479 --> 01:28:06,799
you know

1908
01:28:08,319 --> 01:28:10,960
hard to say

1909
01:28:11,439 --> 01:28:14,158
so

1910
01:28:12,238 --> 01:28:16,718
if we've got the total volume of the

1911
01:28:14,158 --> 01:28:16,719
tile

1912
01:28:16,800 --> 01:28:23,119
and we are subtracting epsilon from it

1913
01:28:20,079 --> 01:28:24,639
so it shrinks inward slightly

1914
01:28:23,119 --> 01:28:27,119
for some reason

1915
01:28:24,639 --> 01:28:29,760
we're still registering a hit there like

1916
01:28:27,119 --> 01:28:32,399
as if there is some

1917
01:28:29,760 --> 01:28:35,119
uh volume

1918
01:28:32,399 --> 01:28:36,439
that's colliding

1919
01:28:35,119 --> 01:28:41,079
and i'm not

1920
01:28:36,439 --> 01:28:41,079
really sure why

1921
01:29:07,520 --> 01:29:10,800
so let's take a look at these collision

1922
01:29:09,679 --> 01:29:11,679
volumes

1923
01:29:10,800 --> 01:29:14,239
um

1924
01:29:11,679 --> 01:29:15,520
it's pretty easy for us to add them and

1925
01:29:14,238 --> 01:29:17,198
i'm not sure

1926
01:29:15,520 --> 01:29:18,800
like where they all are right now

1927
01:29:17,198 --> 01:29:20,479
because we made some changes to that

1928
01:29:18,800 --> 01:29:22,719
stuff in this past where we're cleaning

1929
01:29:20,479 --> 01:29:24,399
stuff up

1930
01:29:22,719 --> 01:29:26,079
and so we may actually

1931
01:29:24,399 --> 01:29:27,519
want to just see where this stuff

1932
01:29:26,079 --> 01:29:30,000
actually is let me you know that's

1933
01:29:27,520 --> 01:29:32,239
actually an entity.cbp let me just turn

1934
01:29:30,000 --> 01:29:34,479
on drawing those

1935
01:29:32,238 --> 01:29:34,479
um

1936
01:29:35,279 --> 01:29:38,079
just so we can tell like what are the

1937
01:29:36,800 --> 01:29:40,800
collision volumes because we don't

1938
01:29:38,079 --> 01:29:40,800
actually know

1939
01:29:43,840 --> 01:29:46,719
uh so there they are

1940
01:29:45,439 --> 01:29:48,319
and if we hop out to where we were

1941
01:29:46,719 --> 01:29:50,960
having this bug

1942
01:29:48,319 --> 01:29:54,399
just we can look let's see what happens

1943
01:29:50,960 --> 01:29:56,719
right so in here

1944
01:29:54,399 --> 01:29:56,719
um

1945
01:29:59,679 --> 01:30:03,760
oh

1946
01:30:01,359 --> 01:30:03,759
well

1947
01:30:04,840 --> 01:30:08,719
aha

1948
01:30:06,800 --> 01:30:10,079
so i

1949
01:30:08,719 --> 01:30:13,198
see

1950
01:30:10,079 --> 01:30:13,198
what's happening there

1951
01:30:13,600 --> 01:30:22,159
it is that our room boundaries are wrong

1952
01:30:18,639 --> 01:30:22,159
uh well that was educational

1953
01:30:24,399 --> 01:30:29,920
i guess we can

1954
01:30:26,719 --> 01:30:31,198
deal with that really easily uh so where

1955
01:30:29,920 --> 01:30:34,880
we add the

1956
01:30:31,198 --> 01:30:34,879
when we do the room generator

1957
01:30:38,639 --> 01:30:42,719
we add bounds for the room

1958
01:30:41,679 --> 01:30:44,800
and

1959
01:30:42,719 --> 01:30:48,319
i guess i would say that that probably

1960
01:30:44,800 --> 01:30:51,840
shouldn't actually

1961
01:30:48,319 --> 01:30:54,238
that that probably should be avoided

1962
01:30:51,840 --> 01:30:55,840
when we check for like like

1963
01:30:54,238 --> 01:30:58,479
we should fix it

1964
01:30:55,840 --> 01:31:01,480
but we also should probably turn it off

1965
01:30:58,479 --> 01:31:01,479
um

1966
01:31:03,840 --> 01:31:07,279
so if we do get room volume

1967
01:31:10,238 --> 01:31:17,399
this is not offset by a third by a half

1968
01:31:13,840 --> 01:31:17,400
which it should be

1969
01:31:17,679 --> 01:31:21,679
um that's really it i think

1970
01:31:23,520 --> 01:31:27,719
in other words this should have

1971
01:31:31,520 --> 01:31:35,840
um that offset baked into it and it oops

1972
01:31:34,399 --> 01:31:38,158
and it doesn't

1973
01:31:35,840 --> 01:31:38,159
um

1974
01:31:38,639 --> 01:31:42,520
is about it

1975
01:31:44,479 --> 01:31:48,319
i'm not sure how we do this

1976
01:31:47,359 --> 01:31:50,960
in this

1977
01:31:48,319 --> 01:31:50,960
program

1978
01:31:55,279 --> 01:32:00,238
i assume offset

1979
01:31:57,039 --> 01:32:01,840
yeah so that will adjust the room to be

1980
01:32:00,238 --> 01:32:03,759
on the new grid alignment where things

1981
01:32:01,840 --> 01:32:05,199
are centered

1982
01:32:03,760 --> 01:32:06,320
um

1983
01:32:05,198 --> 01:32:08,719
and

1984
01:32:06,319 --> 01:32:11,519
you know you can now see them

1985
01:32:08,719 --> 01:32:13,600
uh in the right place

1986
01:32:11,520 --> 01:32:15,280
and presumably now if we looked we

1987
01:32:13,600 --> 01:32:17,280
wouldn't have that overlapping problem

1988
01:32:15,279 --> 01:32:19,198
but again we also probably just don't

1989
01:32:17,279 --> 01:32:21,599
want rooms to be participating in that

1990
01:32:19,198 --> 01:32:23,279
anyway because rooms are not solid they

1991
01:32:21,600 --> 01:32:24,719
don't prevent you from placing things

1992
01:32:23,279 --> 01:32:27,519
they're just a boundary that lets you

1993
01:32:24,719 --> 01:32:31,359
know where the room is right

1994
01:32:27,520 --> 01:32:36,880
um okay so let's see so now that's

1995
01:32:31,359 --> 01:32:37,759
and not still not right it's close

1996
01:32:36,880 --> 01:32:38,880
oh

1997
01:32:37,760 --> 01:32:42,000
duh

1998
01:32:38,880 --> 01:32:45,199
so i guess i forgot about the fact that

1999
01:32:42,000 --> 01:32:45,198
it's actually not

2000
01:32:45,520 --> 01:32:53,679
literally 0.5 it's the half of a tile

2001
01:32:50,238 --> 01:32:55,599
so let's take a look at the um

2002
01:32:53,679 --> 01:32:56,560
the part where we get the volume for a

2003
01:32:55,600 --> 01:32:58,239
tile

2004
01:32:56,560 --> 01:33:00,800
i think it's skip total volume or

2005
01:32:58,238 --> 01:33:00,799
whatever right

2006
01:33:01,359 --> 01:33:07,519
so it's really this

2007
01:33:04,000 --> 01:33:10,079
0.5 you know

2008
01:33:07,520 --> 01:33:11,679
mask grid tile dim that's the actual

2009
01:33:10,079 --> 01:33:14,800
code we want

2010
01:33:11,679 --> 01:33:17,440
um so this should be

2011
01:33:14,800 --> 01:33:17,440
like this

2012
01:33:18,000 --> 01:33:20,880
and the only question is what to do

2013
01:33:19,279 --> 01:33:24,639
about the z there

2014
01:33:20,880 --> 01:33:24,639
and i guess i'm not sure

2015
01:33:35,279 --> 01:33:39,920
uh but maybe now this is aligned more

2016
01:33:37,679 --> 01:33:41,760
properly let's hop out to a place where

2017
01:33:39,920 --> 01:33:44,079
we were looking at before and see if it

2018
01:33:41,760 --> 01:33:45,360
makes a difference it might not

2019
01:33:44,079 --> 01:33:48,079
might still be wrong but let's take a

2020
01:33:45,359 --> 01:33:50,000
look uh so now hopefully those are lined

2021
01:33:48,079 --> 01:33:51,198
up yet so those are now lined up exactly

2022
01:33:50,000 --> 01:33:54,880
on the corners

2023
01:33:51,198 --> 01:33:56,479
uh which is what we want so that's good

2024
01:33:54,880 --> 01:33:59,920
yeah

2025
01:33:56,479 --> 01:34:02,959
uh and hey we also have uh the

2026
01:33:59,920 --> 01:34:04,399
light appears to be arranged properly

2027
01:34:02,960 --> 01:34:07,279
now so that

2028
01:34:04,399 --> 01:34:09,920
we would presumably not get

2029
01:34:07,279 --> 01:34:12,158
that leaking let's see

2030
01:34:09,920 --> 01:34:13,279
if we do or don't the lights are all set

2031
01:34:12,158 --> 01:34:14,889
to max

2032
01:34:13,279 --> 01:34:16,319
brightness here

2033
01:34:14,890 --> 01:34:20,400
[Music]

2034
01:34:16,319 --> 01:34:20,399
so they they should create the situation

2035
01:34:21,198 --> 01:34:26,238
so we still have one there right

2036
01:34:24,479 --> 01:34:28,079
that's still definitely the weird like

2037
01:34:26,238 --> 01:34:30,399
leaking scenario

2038
01:34:28,079 --> 01:34:32,559
um oh and you know what uh we've only

2039
01:34:30,399 --> 01:34:35,198
solved half the problem so

2040
01:34:32,560 --> 01:34:38,080
you can still leak out the top

2041
01:34:35,198 --> 01:34:39,519
right so the collision volumes

2042
01:34:38,079 --> 01:34:42,639
um

2043
01:34:39,520 --> 01:34:43,679
are not like the ceilings

2044
01:34:42,639 --> 01:34:44,840
are not

2045
01:34:43,679 --> 01:34:48,960
in

2046
01:34:44,840 --> 01:34:50,239
place which is a little bit odd because

2047
01:34:48,960 --> 01:34:51,520
i

2048
01:34:50,238 --> 01:34:53,678
i mean that's that makes sense because

2049
01:34:51,520 --> 01:34:56,480
the apron doesn't create ceilings but we

2050
01:34:53,679 --> 01:34:58,239
created ceilings

2051
01:34:56,479 --> 01:35:01,599
in

2052
01:34:58,238 --> 01:35:03,759
uh rooms

2053
01:35:01,600 --> 01:35:06,639
actually

2054
01:35:03,760 --> 01:35:09,280
so it seems somewhat odd

2055
01:35:06,639 --> 01:35:09,279
does it not

2056
01:35:12,158 --> 01:35:16,559
why are we not seeing those in the

2057
01:35:13,600 --> 01:35:16,560
collision volumes

2058
01:35:18,719 --> 01:35:23,198
i thought we placed ceiling tiles and in

2059
01:35:21,359 --> 01:35:26,319
fact we saw them

2060
01:35:23,198 --> 01:35:26,319
when we looked

2061
01:35:27,600 --> 01:35:29,840
before

2062
01:35:30,319 --> 01:35:33,118
so

2063
01:35:31,198 --> 01:35:36,238
what's going on here are those not

2064
01:35:33,118 --> 01:35:37,839
collision volumes or

2065
01:35:36,238 --> 01:35:39,919
are they something else like i don't

2066
01:35:37,840 --> 01:35:41,679
recall how we added them but we

2067
01:35:39,920 --> 01:35:42,960
definitely had

2068
01:35:41,679 --> 01:35:45,279
yeah like

2069
01:35:42,960 --> 01:35:45,279
this

2070
01:35:46,880 --> 01:35:53,440
you know ad piece occluder so i guess

2071
01:35:49,760 --> 01:35:53,440
occluders are not the same

2072
01:35:55,039 --> 01:36:00,960
so do collision volumes get added as

2073
01:35:57,520 --> 01:36:02,480
occluders and so do occluder pieces

2074
01:36:00,960 --> 01:36:04,719
we're going to have to unify this stuff

2075
01:36:02,479 --> 01:36:06,000
you can you can tell that code is in

2076
01:36:04,719 --> 01:36:07,679
need of cleanup

2077
01:36:06,000 --> 01:36:11,319
now that we know how everything works

2078
01:36:07,679 --> 01:36:11,319
all that's kind of ridiculous

2079
01:36:19,920 --> 01:36:25,118
so there is a code called push occluder

2080
01:36:22,960 --> 01:36:27,760
but it seems like it only happens if you

2081
01:36:25,118 --> 01:36:30,479
have a piece type of occluder

2082
01:36:27,760 --> 01:36:33,480
although maybe push cube would also do

2083
01:36:30,479 --> 01:36:33,479
this

2084
01:36:50,319 --> 01:36:57,479
i'm not really sure

2085
01:36:52,960 --> 01:36:57,480
it doesn't look like it does

2086
01:37:16,560 --> 01:37:20,080
i mean it looks like the only place

2087
01:37:18,079 --> 01:37:23,039
that's called is from here but we don't

2088
01:37:20,079 --> 01:37:25,519
know if the like lighting box push

2089
01:37:23,039 --> 01:37:26,639
happens somewhere else as well i'm not

2090
01:37:25,520 --> 01:37:27,760
sure

2091
01:37:26,639 --> 01:37:29,279
but

2092
01:37:27,760 --> 01:37:31,199
we know that

2093
01:37:29,279 --> 01:37:34,679
i mean don't we

2094
01:37:31,198 --> 01:37:34,678
we know that we're

2095
01:37:40,000 --> 01:37:44,399
we know that we have occluders for the

2096
01:37:41,760 --> 01:37:46,800
walls so i guess the answer is the

2097
01:37:44,399 --> 01:37:49,799
aprons don't have light occluders or do

2098
01:37:46,800 --> 01:37:49,800
they

2099
01:37:56,960 --> 01:38:02,920
let's take a look at the actual apron

2100
01:37:58,560 --> 01:38:02,920
generator does that push any occluders

2101
01:38:07,359 --> 01:38:13,000
it pushes a cube but it doesn't push an

2102
01:38:10,000 --> 01:38:13,000
occluder

2103
01:38:16,079 --> 01:38:20,760
i guess the tree has an occluder

2104
01:38:30,319 --> 01:38:34,799
like it doesn't look like it right

2105
01:38:32,719 --> 01:38:36,480
so i'm kind of confused as to how we're

2106
01:38:34,800 --> 01:38:38,400
actually getting

2107
01:38:36,479 --> 01:38:41,839
light blocking from these things when

2108
01:38:38,399 --> 01:38:42,839
we're not actually pushing occluders

2109
01:38:41,840 --> 01:38:46,319
it's very

2110
01:38:42,840 --> 01:38:48,079
confusing because

2111
01:38:46,319 --> 01:38:50,719
these are else ifs

2112
01:38:48,079 --> 01:38:54,319
so you can't have a flag that sets

2113
01:38:50,719 --> 01:38:54,319
occluder otherwise

2114
01:38:54,880 --> 01:38:59,840
um

2115
01:38:56,079 --> 01:38:59,840
as far as i can see

2116
01:39:05,279 --> 01:39:10,559
the only thing that you can do is add

2117
01:39:07,600 --> 01:39:10,560
piece occluder right

2118
01:39:11,760 --> 01:39:15,760
and that happens where

2119
01:39:13,760 --> 01:39:18,000
so it happens when we're creating the

2120
01:39:15,760 --> 01:39:20,880
room tiles

2121
01:39:18,000 --> 01:39:24,039
which we expect there's the ceiling and

2122
01:39:20,880 --> 01:39:24,039
the floor

2123
01:39:28,639 --> 01:39:31,760
there's one for the tree

2124
01:39:34,399 --> 01:39:39,920
so we haven't by adding those back in we

2125
01:39:37,840 --> 01:39:41,760
haven't actually put any occluders in

2126
01:39:39,920 --> 01:39:44,560
that region so technically actually

2127
01:39:41,760 --> 01:39:46,079
there are still no occluders there

2128
01:39:44,560 --> 01:39:49,119
which means we wouldn't expect that to

2129
01:39:46,079 --> 01:39:49,920
stop the bug at all

2130
01:39:49,118 --> 01:39:52,319
uh

2131
01:39:49,920 --> 01:39:54,480
so there's that

2132
01:39:52,319 --> 01:39:56,799
which i guess it doesn't i mean we did

2133
01:39:54,479 --> 01:39:59,198
observe the bug so

2134
01:39:56,800 --> 01:40:01,199
i guess the answer is we should be able

2135
01:39:59,198 --> 01:40:02,399
to because we haven't actually changed

2136
01:40:01,198 --> 01:40:04,479
it because we haven't had any includers

2137
01:40:02,399 --> 01:40:06,559
yet we should be able to get this weird

2138
01:40:04,479 --> 01:40:07,439
bug to happen again too

2139
01:40:06,560 --> 01:40:10,239
yeah

2140
01:40:07,439 --> 01:40:10,238
like somehow

2141
01:40:12,719 --> 01:40:18,079
i don't quite remember exa there we go

2142
01:40:15,198 --> 01:40:18,079
uh there it was

2143
01:40:19,279 --> 01:40:22,399
okay

2144
01:40:20,319 --> 01:40:24,719
um so let's actually add the occluders

2145
01:40:22,399 --> 01:40:25,839
in now and we'll just rely on the fact

2146
01:40:24,719 --> 01:40:27,520
that eventually we're going to come

2147
01:40:25,840 --> 01:40:29,840
through and do a massive cleanup of the

2148
01:40:27,520 --> 01:40:32,639
regeneration code as well

2149
01:40:29,840 --> 01:40:34,159
so it's okay that it's janky for now

2150
01:40:32,639 --> 01:40:36,639
much like we're cleaning up the lighting

2151
01:40:34,158 --> 01:40:37,759
code now we will do a cleanup pass on

2152
01:40:36,639 --> 01:40:39,920
everything

2153
01:40:37,760 --> 01:40:41,440
um in good time

2154
01:40:39,920 --> 01:40:42,719
so i'll go ahead and

2155
01:40:41,439 --> 01:40:46,479
add in a

2156
01:40:42,719 --> 01:40:48,399
occluder to the apron generation because

2157
01:40:46,479 --> 01:40:51,279
like i was kind of under the mistaken

2158
01:40:48,399 --> 01:40:53,198
impression that that like cubes

2159
01:40:51,279 --> 01:40:54,399
automatically recluders they're not

2160
01:40:53,198 --> 01:40:56,960
apparently

2161
01:40:54,399 --> 01:40:57,920
um so we want to do add piece occluders

2162
01:40:56,960 --> 01:41:01,679
here

2163
01:40:57,920 --> 01:41:04,319
um that will be added for the this

2164
01:41:01,679 --> 01:41:06,239
entity

2165
01:41:04,319 --> 01:41:08,719
we don't really care much about trees

2166
01:41:06,238 --> 01:41:10,479
probably uh at this point because

2167
01:41:08,719 --> 01:41:11,840
they're kind of just there for set

2168
01:41:10,479 --> 01:41:14,158
dressing

2169
01:41:11,840 --> 01:41:15,840
um so we probably want to do actually

2170
01:41:14,158 --> 01:41:19,279
the way we were doing it in the generate

2171
01:41:15,840 --> 01:41:21,679
room code right uh so

2172
01:41:19,279 --> 01:41:25,439
i guess

2173
01:41:21,679 --> 01:41:27,760
just you know the the whole volume

2174
01:41:25,439 --> 01:41:27,759
um

2175
01:41:28,560 --> 01:41:35,199
whatever the ground tile volume

2176
01:41:30,840 --> 01:41:35,199
is i think is what we want

2177
01:41:39,840 --> 01:41:42,960
yeah i mean i i think it's literally

2178
01:41:41,679 --> 01:41:45,199
this

2179
01:41:42,960 --> 01:41:47,840
right

2180
01:41:45,198 --> 01:41:47,839
um

2181
01:41:50,238 --> 01:41:53,678
i could be wrong about that but

2182
01:41:53,920 --> 01:42:01,158
so we know we've got a ceiling occluder

2183
01:41:56,399 --> 01:42:01,158
uh and then we know we have like

2184
01:42:02,560 --> 01:42:04,800
this

2185
01:42:03,359 --> 01:42:08,399
other occluder here that's that's going

2186
01:42:04,800 --> 01:42:08,400
to presumably be just this vol

2187
01:42:12,560 --> 01:42:17,039
and we know we want the ceiling one as

2188
01:42:15,039 --> 01:42:19,679
well uh which

2189
01:42:17,039 --> 01:42:19,679
should just be

2190
01:42:22,319 --> 01:42:27,198
exactly the same code i think

2191
01:42:24,479 --> 01:42:30,079
the color part uh is like gonna be like

2192
01:42:27,198 --> 01:42:33,439
a moon color

2193
01:42:30,079 --> 01:42:33,439
so i don't know like

2194
01:42:35,760 --> 01:42:38,639
in a sense this almost should just be

2195
01:42:37,359 --> 01:42:41,118
like a light

2196
01:42:38,639 --> 01:42:44,319
it should be like moonlight

2197
01:42:41,118 --> 01:42:46,799
right um

2198
01:42:44,319 --> 01:42:50,079
i would think

2199
01:42:46,800 --> 01:42:53,600
and so actually this is probably just an

2200
01:42:50,079 --> 01:42:57,118
ambient light a low amount of ambient

2201
01:42:53,600 --> 01:42:58,880
light for the outside

2202
01:42:57,118 --> 01:43:00,880
would be my

2203
01:42:58,880 --> 01:43:01,760
guess

2204
01:43:00,880 --> 01:43:02,639
uh

2205
01:43:01,760 --> 01:43:05,280
so

2206
01:43:02,639 --> 01:43:05,279
like

2207
01:43:05,359 --> 01:43:08,359
um

2208
01:43:14,079 --> 01:43:20,399
this code

2209
01:43:16,319 --> 01:43:20,399
um so in the roomgen

2210
01:43:21,439 --> 01:43:28,399
we would actually do like a lighting add

2211
01:43:24,560 --> 01:43:29,440
here with an entity the radius

2212
01:43:28,399 --> 01:43:31,759
would be

2213
01:43:29,439 --> 01:43:35,919
this

2214
01:43:31,760 --> 01:43:36,840
um the offset would be this

2215
01:43:35,920 --> 01:43:39,118
i

2216
01:43:36,840 --> 01:43:40,000
think um

2217
01:43:39,118 --> 01:43:42,639
the

2218
01:43:40,000 --> 01:43:44,960
lighting amount would be very low

2219
01:43:42,639 --> 01:43:48,560
uh and the color would be like some kind

2220
01:43:44,960 --> 01:43:52,079
of moonlight color right so it'd be like

2221
01:43:48,560 --> 01:43:55,280
probably no red probably a little green

2222
01:43:52,079 --> 01:43:55,279
probably a little blue

2223
01:43:56,960 --> 01:44:01,760
you know something like that

2224
01:43:59,439 --> 01:44:01,759
uh

2225
01:44:02,880 --> 01:44:07,000
did i mess something up there

2226
01:44:08,479 --> 01:44:13,439
oh you're only allowed to have one

2227
01:44:10,479 --> 01:44:16,399
radius okay well maybe this has to be

2228
01:44:13,439 --> 01:44:16,399
more like this then

2229
01:44:18,840 --> 01:44:25,199
so put the radius in directly

2230
01:44:21,679 --> 01:44:27,039
and the offset indirectly

2231
01:44:25,198 --> 01:44:30,719
like that

2232
01:44:27,039 --> 01:44:32,840
um and then we have the emission and

2233
01:44:30,719 --> 01:44:36,239
color they come

2234
01:44:32,840 --> 01:44:36,239
in here

2235
01:44:36,800 --> 01:44:40,480
like

2236
01:44:37,840 --> 01:44:40,480
so

2237
01:44:41,039 --> 01:44:44,198
i guess

2238
01:44:48,238 --> 01:44:50,559
um

2239
01:44:50,960 --> 01:44:54,079
and so i don't know

2240
01:44:52,960 --> 01:44:56,719
like

2241
01:44:54,079 --> 01:44:58,079
you know again not not sure about this

2242
01:44:56,719 --> 01:44:59,439
but

2243
01:44:58,079 --> 01:45:01,679
uh

2244
01:44:59,439 --> 01:45:04,079
let's let's give it a a spin let's give

2245
01:45:01,679 --> 01:45:05,440
it a little let's give it a little go

2246
01:45:04,079 --> 01:45:07,039
we can turn off collision volumes

2247
01:45:05,439 --> 01:45:08,879
because they don't matter

2248
01:45:07,039 --> 01:45:10,880
as it turns out it's only occluders that

2249
01:45:08,880 --> 01:45:11,760
matter

2250
01:45:10,880 --> 01:45:14,480
so

2251
01:45:11,760 --> 01:45:16,639
we can turn that off

2252
01:45:14,479 --> 01:45:20,718
and not draw those

2253
01:45:16,639 --> 01:45:20,719
flip back to the game here there we go

2254
01:45:21,920 --> 01:45:25,359
and hop along

2255
01:45:29,679 --> 01:45:31,279
so

2256
01:45:30,479 --> 01:45:33,439
not

2257
01:45:31,279 --> 01:45:34,800
solved at all still having the same

2258
01:45:33,439 --> 01:45:37,198
problem

2259
01:45:34,800 --> 01:45:38,719
uh and the question is why let's take a

2260
01:45:37,198 --> 01:45:41,039
look at

2261
01:45:38,719 --> 01:45:41,039
um

2262
01:45:42,000 --> 01:45:47,118
those

2263
01:45:43,520 --> 01:45:47,119
actual spatial grid elements

2264
01:45:53,679 --> 01:45:58,679
debug draw

2265
01:45:55,118 --> 01:45:58,679
spatial grid

2266
01:46:08,639 --> 01:46:13,359
i'm gonna turn that back on turn off the

2267
01:46:11,039 --> 01:46:14,719
drawing of the

2268
01:46:13,359 --> 01:46:15,759
lighting series we don't really need

2269
01:46:14,719 --> 01:46:18,560
them

2270
01:46:15,760 --> 01:46:20,560
um and let's just take a look at what we

2271
01:46:18,560 --> 01:46:21,920
are drawing here so

2272
01:46:20,560 --> 01:46:25,199
you can see

2273
01:46:21,920 --> 01:46:27,679
out in in here it does look like we've

2274
01:46:25,198 --> 01:46:30,960
got

2275
01:46:27,679 --> 01:46:33,440
floors and ceilings on here pretty well

2276
01:46:30,960 --> 01:46:37,118
so let's take a look at if we can go

2277
01:46:33,439 --> 01:46:37,118
back to the yeah like right here

2278
01:46:39,039 --> 01:46:42,238
let's see if we can

2279
01:46:41,118 --> 01:46:43,519
look at the

2280
01:46:42,238 --> 01:46:46,559
uh

2281
01:46:43,520 --> 01:46:46,560
actual raycast

2282
01:46:52,639 --> 01:46:57,840
so that's the ray direction

2283
01:46:55,679 --> 01:46:59,440
it's only iterating through this one

2284
01:46:57,840 --> 01:47:02,719
piece

2285
01:46:59,439 --> 01:47:02,719
which is what you would expect

2286
01:47:02,880 --> 01:47:07,039
um

2287
01:47:04,319 --> 01:47:09,519
and it's hitting the ground so we solve

2288
01:47:07,039 --> 01:47:10,719
the problem i think

2289
01:47:09,520 --> 01:47:12,000
right

2290
01:47:10,719 --> 01:47:14,719
um

2291
01:47:12,000 --> 01:47:14,719
i mean that is

2292
01:47:15,600 --> 01:47:19,280
that is exactly preventing that cast and

2293
01:47:18,158 --> 01:47:21,599
i guess

2294
01:47:19,279 --> 01:47:21,599
you know

2295
01:47:21,679 --> 01:47:24,800
well no i mean

2296
01:47:25,359 --> 01:47:28,880
we saw this have the bug again right i

2297
01:47:27,679 --> 01:47:30,639
mean i i

2298
01:47:28,880 --> 01:47:32,239
quite sure i did

2299
01:47:30,639 --> 01:47:34,239
it's just not doing it right at this

2300
01:47:32,238 --> 01:47:37,118
immediate frame

2301
01:47:34,238 --> 01:47:38,479
um so like if i was to switch the ray

2302
01:47:37,118 --> 01:47:39,759
around

2303
01:47:38,479 --> 01:47:42,319
is there any

2304
01:47:39,760 --> 01:47:45,800
rhyme or reason

2305
01:47:42,319 --> 01:47:45,799
uh to that

2306
01:47:51,760 --> 01:47:56,320
i mean it seems pretty well cabined

2307
01:47:57,600 --> 01:48:00,600
right

2308
01:48:18,158 --> 01:48:21,679
so that seems pretty reasonable now of

2309
01:48:20,079 --> 01:48:23,760
course it can

2310
01:48:21,679 --> 01:48:26,719
convect the light around i mean it is

2311
01:48:23,760 --> 01:48:28,960
able to get sort of

2312
01:48:26,719 --> 01:48:31,439
right like to that

2313
01:48:28,960 --> 01:48:33,679
area okay

2314
01:48:31,439 --> 01:48:35,759
um it's a little bit hard to see

2315
01:48:33,679 --> 01:48:40,480
everything here because it's hard to see

2316
01:48:35,760 --> 01:48:41,600
where each grid piece is actually

2317
01:48:40,479 --> 01:48:44,319
um

2318
01:48:41,600 --> 01:48:46,000
let me see if i can

2319
01:48:44,319 --> 01:48:48,319
provoke the bug where these guys

2320
01:48:46,000 --> 01:48:50,479
actually light up again

2321
01:48:48,319 --> 01:48:52,639
for some reason i can't which maybe but

2322
01:48:50,479 --> 01:48:55,279
i thought i saw i thought i saw them do

2323
01:48:52,639 --> 01:48:57,359
that did i not

2324
01:48:55,279 --> 01:48:58,479
really see that

2325
01:48:57,359 --> 01:49:02,920
um

2326
01:48:58,479 --> 01:49:02,919
am i just am i totally wrong

2327
01:49:27,840 --> 01:49:29,920
you

2328
01:49:56,079 --> 01:49:59,439
so

2329
01:49:57,599 --> 01:50:02,079
that's

2330
01:49:59,439 --> 01:50:03,839
suggests we have a totally other problem

2331
01:50:02,079 --> 01:50:07,198
as well right

2332
01:50:03,840 --> 01:50:11,920
so here you can see array

2333
01:50:07,198 --> 01:50:13,439
that actually is able to get in between

2334
01:50:11,920 --> 01:50:17,359
like

2335
01:50:13,439 --> 01:50:21,118
oh because there's no ceiling

2336
01:50:17,359 --> 01:50:21,118
on the outdoors area

2337
01:50:22,719 --> 01:50:25,719
apparently

2338
01:50:27,760 --> 01:50:33,920
only on this part of the outdoors area

2339
01:50:31,520 --> 01:50:35,599
so is that true on the inside as well

2340
01:50:33,920 --> 01:50:37,599
you're not able to get are you are you

2341
01:50:35,599 --> 01:50:39,920
able to get outside

2342
01:50:37,599 --> 01:50:42,400
of here

2343
01:50:39,920 --> 01:50:42,399
as well

2344
01:50:45,840 --> 01:50:49,599
because hopefully you can't you know you

2345
01:50:47,679 --> 01:50:52,880
can't right like it's it seems pretty

2346
01:50:49,599 --> 01:50:54,400
well capped and it does stop there

2347
01:50:52,880 --> 01:50:56,319
um

2348
01:50:54,399 --> 01:50:59,039
right like it's hitting the wall which

2349
01:50:56,319 --> 01:50:59,039
is what we want

2350
01:50:59,840 --> 01:51:02,560
let's double check a few other

2351
01:51:01,198 --> 01:51:04,079
directions

2352
01:51:02,560 --> 01:51:06,239
of cast

2353
01:51:04,079 --> 01:51:08,238
from the same location just to see what

2354
01:51:06,238 --> 01:51:09,198
happens i guess

2355
01:51:08,238 --> 01:51:11,439
um

2356
01:51:09,198 --> 01:51:11,439
but

2357
01:51:13,920 --> 01:51:19,639
that scans out

2358
01:51:16,399 --> 01:51:19,638
pretty well

2359
01:51:23,039 --> 01:51:26,198
you know

2360
01:51:38,000 --> 01:51:42,000
so it it seems like it's picking pretty

2361
01:51:40,238 --> 01:51:44,238
reasonably there but there isn't any

2362
01:51:42,000 --> 01:51:46,399
ceiling over here and so that does seem

2363
01:51:44,238 --> 01:51:48,879
like a bug and that probably means that

2364
01:51:46,399 --> 01:51:50,479
the room generator needs to do that

2365
01:51:48,880 --> 01:51:51,679
because it's not currently adding

2366
01:51:50,479 --> 01:51:53,759
ceilings

2367
01:51:51,679 --> 01:51:54,560
in all cases right

2368
01:51:53,760 --> 01:51:56,320
um

2369
01:51:54,560 --> 01:51:58,159
and the ceilings are added pretty ad hoc

2370
01:51:56,319 --> 01:52:00,479
like we probably should add a lot fewer

2371
01:51:58,158 --> 01:52:01,519
ceilings uh just like one ceiling tile

2372
01:52:00,479 --> 01:52:03,198
that went over the whole thing would

2373
01:52:01,520 --> 01:52:04,560
probably be sufficient but at the moment

2374
01:52:03,198 --> 01:52:08,079
it's not doing that

2375
01:52:04,560 --> 01:52:10,400
and that's fine uh but if we look here

2376
01:52:08,079 --> 01:52:11,920
like you can see like the not spec

2377
01:52:10,399 --> 01:52:15,359
outdoors thing

2378
01:52:11,920 --> 01:52:17,440
uh is is totally not what we want so so

2379
01:52:15,359 --> 01:52:18,880
probably you would need

2380
01:52:17,439 --> 01:52:20,479
something

2381
01:52:18,880 --> 01:52:22,159
like in here

2382
01:52:20,479 --> 01:52:25,039
we would do a

2383
01:52:22,158 --> 01:52:28,158
if spec outdoors you do one thing

2384
01:52:25,039 --> 01:52:30,960
otherwise you do another right

2385
01:52:28,158 --> 01:52:31,839
so where we add that occluder piece

2386
01:52:30,960 --> 01:52:33,118
there

2387
01:52:31,840 --> 01:52:35,440
we would say

2388
01:52:33,118 --> 01:52:35,439
um

2389
01:52:42,079 --> 01:52:45,519
probably want to like

2390
01:52:43,679 --> 01:52:47,039
make this a little bit more

2391
01:52:45,520 --> 01:52:49,199
systemic and just say this is the thing

2392
01:52:47,039 --> 01:52:51,279
that gets added always right

2393
01:52:49,198 --> 01:52:54,319
but let's let's just do this for now and

2394
01:52:51,279 --> 01:52:57,559
see if this changes things

2395
01:52:54,319 --> 01:52:57,559
for us

2396
01:53:00,399 --> 01:53:04,079
um

2397
01:53:00,899 --> 01:53:04,079
[Music]

2398
01:53:11,520 --> 01:53:16,960
so that still seems really buggy to me

2399
01:53:14,719 --> 01:53:16,960
uh

2400
01:53:17,760 --> 01:53:22,480
like there's still something going on

2401
01:53:19,760 --> 01:53:25,039
with where if where if you happen to get

2402
01:53:22,479 --> 01:53:27,439
right on the edge there

2403
01:53:25,039 --> 01:53:29,679
like it's still not it's still able to

2404
01:53:27,439 --> 01:53:31,839
do some kind of a really like erroneous

2405
01:53:29,679 --> 01:53:35,679
cast for some reason

2406
01:53:31,840 --> 01:53:36,480
that i'm not sure like what's going on

2407
01:53:35,679 --> 01:53:38,639
right

2408
01:53:36,479 --> 01:53:41,839
like something is busted there where

2409
01:53:38,639 --> 01:53:41,840
it's able to hit

2410
01:53:42,238 --> 01:53:47,118
it's it's able to hit something in a way

2411
01:53:44,079 --> 01:53:50,319
that i don't understand like like as if

2412
01:53:47,118 --> 01:53:52,319
casting out from here produces a hit

2413
01:53:50,319 --> 01:53:56,238
that's like

2414
01:53:52,319 --> 01:53:56,238
somehow really illegitimate

2415
01:53:59,920 --> 01:54:02,800
or something

2416
01:54:06,560 --> 01:54:09,599
well hmm

2417
01:54:18,238 --> 01:54:23,039
so you know yeah so like i'm not really

2418
01:54:20,719 --> 01:54:26,639
sure what that is but there's still a

2419
01:54:23,039 --> 01:54:26,639
bug there for sure

2420
01:54:27,599 --> 01:54:30,599
um

2421
01:54:36,639 --> 01:54:40,440
and super peculiar

2422
01:54:52,960 --> 01:54:57,439
i wonder what would happen to so like

2423
01:54:55,118 --> 01:54:59,118
what happens if we don't add lights so

2424
01:54:57,439 --> 01:55:00,319
the only lights are just the ceiling

2425
01:54:59,118 --> 01:55:02,479
lights that's the only thing you can

2426
01:55:00,319 --> 01:55:04,479
possibly hit what actually happens in

2427
01:55:02,479 --> 01:55:06,079
that case

2428
01:55:04,479 --> 01:55:08,000
um

2429
01:55:06,079 --> 01:55:11,399
we have some kind of like ad standard

2430
01:55:08,000 --> 01:55:11,399
lighting right

2431
01:55:30,800 --> 01:55:35,199
so the standard lighting pattern thing

2432
01:55:32,319 --> 01:55:38,719
here if we just didn't do this

2433
01:55:35,198 --> 01:55:39,678
so so if we if zero both of these out

2434
01:55:38,719 --> 01:55:42,480
um

2435
01:55:39,679 --> 01:55:43,920
there won't be any of those lights

2436
01:55:42,479 --> 01:55:45,919
and the reason i'm doing this is i just

2437
01:55:43,920 --> 01:55:47,840
want to make sure i want to confirm the

2438
01:55:45,920 --> 01:55:50,000
fact that it's it's that you can hit

2439
01:55:47,840 --> 01:55:51,039
these lights somehow that's what's

2440
01:55:50,000 --> 01:55:51,920
happening

2441
01:55:51,039 --> 01:55:54,000
um

2442
01:55:51,920 --> 01:55:56,800
i don't know if that's true or not but i

2443
01:55:54,000 --> 01:55:56,800
just want to make sure

2444
01:55:57,118 --> 01:56:00,920
i'm assuming it's true

2445
01:56:11,920 --> 01:56:16,639
so i do feel like something's a little

2446
01:56:13,520 --> 01:56:16,639
off um

2447
01:56:17,039 --> 01:56:22,238
so we thought anyway

2448
01:56:19,439 --> 01:56:23,359
that we added in both cases

2449
01:56:22,238 --> 01:56:26,319
a

2450
01:56:23,359 --> 01:56:27,439
a roof light that was the same lighting

2451
01:56:26,319 --> 01:56:29,519
right

2452
01:56:27,439 --> 01:56:31,839
but in this case

2453
01:56:29,520 --> 01:56:34,639
there's no visible lighting

2454
01:56:31,840 --> 01:56:37,039
in this case there is

2455
01:56:34,639 --> 01:56:39,279
so why did this pick up

2456
01:56:37,039 --> 01:56:42,519
lighting from its ceiling tiles and this

2457
01:56:39,279 --> 01:56:42,519
did not

2458
01:56:42,639 --> 01:56:46,159
are those ceiling tiles did i add them

2459
01:56:44,639 --> 01:56:49,480
incorrectly right like something is

2460
01:56:46,158 --> 01:56:49,479
weird there

2461
01:56:57,118 --> 01:57:01,118
what

2462
01:56:58,560 --> 01:57:04,119
did i accidentally type that totally

2463
01:57:01,118 --> 01:57:04,118
wrong

2464
01:57:15,279 --> 01:57:20,039
oh wait no i didn't i put peace light in

2465
01:57:17,039 --> 01:57:20,039
there

2466
01:57:28,560 --> 01:57:32,320
ah

2467
01:57:30,000 --> 01:57:34,079
it is because these are in the wrong

2468
01:57:32,319 --> 01:57:35,279
order

2469
01:57:34,079 --> 01:57:36,800
the outdoors one is the one that's

2470
01:57:35,279 --> 01:57:38,158
supposed to get the light and the

2471
01:57:36,800 --> 01:57:41,119
indoors one is the one that's not

2472
01:57:38,158 --> 01:57:41,118
supposed to get the light

2473
01:57:43,760 --> 01:57:47,400
try that one more time

2474
01:58:00,000 --> 01:58:06,039
so it's definitely getting light now

2475
01:58:02,399 --> 01:58:06,039
which it wasn't before

2476
01:58:06,800 --> 01:58:11,199
so i think it's probably about about

2477
01:58:09,039 --> 01:58:12,880
right seems roughly right

2478
01:58:11,198 --> 01:58:16,519
i will say it's not as much light as it

2479
01:58:12,880 --> 01:58:16,520
probably should be getting

2480
01:58:24,158 --> 01:58:29,039
uh i mean uh in terms of like what we

2481
01:58:26,880 --> 01:58:31,840
actually want to provide here for light

2482
01:58:29,039 --> 01:58:32,800
but i think we still have a bug because

2483
01:58:31,840 --> 01:58:34,079
i don't think the light should be

2484
01:58:32,800 --> 01:58:35,679
spreading when we turn on the other

2485
01:58:34,079 --> 01:58:37,840
lights i will say this is an interesting

2486
01:58:35,679 --> 01:58:40,079
way of doing the lighting

2487
01:58:37,840 --> 01:58:40,079
um

2488
01:58:43,599 --> 01:58:47,039
we should just add ceiling tiles for

2489
01:58:45,359 --> 01:58:48,399
lighting like instead of the way the

2490
01:58:47,039 --> 01:58:50,000
standard lighting pattern works we

2491
01:58:48,399 --> 01:58:51,598
should just make this always add this

2492
01:58:50,000 --> 01:58:54,238
should just be the light

2493
01:58:51,599 --> 01:58:54,239
you know what i mean

2494
01:58:55,198 --> 01:58:57,439
um

2495
01:58:57,760 --> 01:59:02,960
that seems like way better and

2496
01:59:00,399 --> 01:59:04,879
i don't know uh

2497
01:59:02,960 --> 01:59:07,880
hard to say anyway

2498
01:59:04,880 --> 01:59:07,880
uh

2499
01:59:17,840 --> 01:59:21,840
so if you turn back on the

2500
01:59:20,158 --> 01:59:26,198
uh

2501
01:59:21,840 --> 01:59:26,199
the standard lighting pattern here

2502
01:59:37,198 --> 01:59:42,960
the question remains as to why we're

2503
01:59:40,000 --> 01:59:45,359
getting the light leaking happening in

2504
01:59:42,960 --> 01:59:46,560
the way that it's happening

2505
01:59:45,359 --> 01:59:50,319
um

2506
01:59:46,560 --> 01:59:51,920
it doesn't make solid sense to me

2507
01:59:50,319 --> 01:59:54,559
let me i'm going to go ahead and turn

2508
01:59:51,920 --> 01:59:54,560
these off

2509
01:59:54,800 --> 01:59:59,760
because

2510
01:59:56,840 --> 02:00:01,440
now i mean we know they're there

2511
01:59:59,760 --> 02:00:03,679
and really now we're just gonna have to

2512
02:00:01,439 --> 02:00:05,279
look for like how the raycasting is is

2513
02:00:03,679 --> 02:00:06,560
doing the wrong thing because i don't

2514
02:00:05,279 --> 02:00:09,198
know

2515
02:00:06,560 --> 02:00:12,239
um i will say when we are not having the

2516
02:00:09,198 --> 02:00:13,598
bug it looks fantastic i love the

2517
02:00:12,238 --> 02:00:15,519
results

2518
02:00:13,599 --> 02:00:18,000
so that's good but we still have some

2519
02:00:15,520 --> 02:00:21,719
weird stuff happening here and we don't

2520
02:00:18,000 --> 02:00:21,719
know what it is

2521
02:00:30,639 --> 02:00:33,039
you can see we're going to have to

2522
02:00:31,599 --> 02:00:35,039
expand that apron a little bit because

2523
02:00:33,039 --> 02:00:38,158
you can see as those lights come out now

2524
02:00:35,039 --> 02:00:40,479
that the lighting up is very fast

2525
02:00:38,158 --> 02:00:42,079
uh it updates so quickly that you see

2526
02:00:40,479 --> 02:00:43,118
the error and we want to leave it fast

2527
02:00:42,079 --> 02:00:44,960
because we want to be able to move

2528
02:00:43,118 --> 02:00:47,118
lights around and stuff so we don't want

2529
02:00:44,960 --> 02:00:48,158
to slow it down if we don't have to

2530
02:00:47,118 --> 02:00:52,279
right

2531
02:00:48,158 --> 02:00:52,279
um so you know

2532
02:00:54,000 --> 02:00:57,599
but i mean man that looks awesome

2533
02:00:58,158 --> 02:01:01,679
i mean it's so good

2534
02:01:01,840 --> 02:01:04,960
it's just so good

2535
02:01:06,238 --> 02:01:09,759
uh so like yeah

2536
02:01:08,399 --> 02:01:12,000
definitely want to get these last few

2537
02:01:09,760 --> 02:01:14,239
bugs out of here because it looks so

2538
02:01:12,000 --> 02:01:16,158
good and then you get that and it's like

2539
02:01:14,238 --> 02:01:17,919
what is happening right

2540
02:01:16,158 --> 02:01:20,158
and we have no idea

2541
02:01:17,920 --> 02:01:22,719
we don't we don't we still don't even

2542
02:01:20,158 --> 02:01:24,879
after solving a few obvious problems we

2543
02:01:22,719 --> 02:01:26,158
still don't really know what's causing

2544
02:01:24,880 --> 02:01:27,840
that

2545
02:01:26,158 --> 02:01:29,679
and that is not a good place to be you

2546
02:01:27,840 --> 02:01:31,599
never want to not know what's causing a

2547
02:01:29,679 --> 02:01:34,599
problem right

2548
02:01:31,599 --> 02:01:34,599
um

2549
02:02:11,840 --> 02:02:14,840
okay

2550
02:02:31,039 --> 02:02:33,840
hmm

2551
02:02:34,079 --> 02:02:37,679
hmm

2552
02:02:35,198 --> 02:02:37,678
i say

2553
02:02:39,039 --> 02:02:41,359
uh

2554
02:02:42,158 --> 02:02:47,039
alpha lion mill uh it is it is the

2555
02:02:45,520 --> 02:02:49,040
it is the uh

2556
02:02:47,039 --> 02:02:51,359
code we wrote like like this is it's our

2557
02:02:49,039 --> 02:02:52,960
own engine um that's that's what we do

2558
02:02:51,359 --> 02:02:55,198
here on the stream

2559
02:02:52,960 --> 02:02:58,239
uh and that's why we have a bug uh

2560
02:02:55,198 --> 02:03:00,399
that's why we have a bug not some engine

2561
02:02:58,238 --> 02:03:01,598
team has a bug because we are the ones

2562
02:03:00,399 --> 02:03:04,960
who wrote it

2563
02:03:01,599 --> 02:03:08,239
uh i will say that

2564
02:03:04,960 --> 02:03:10,239
what is happening there

2565
02:03:08,238 --> 02:03:11,118
uh

2566
02:03:10,238 --> 02:03:13,439
that

2567
02:03:11,118 --> 02:03:16,000
might have something to do with it if

2568
02:03:13,439 --> 02:03:18,479
the apron

2569
02:03:16,000 --> 02:03:21,198
if the if the aprons aren't really

2570
02:03:18,479 --> 02:03:21,198
sealed

2571
02:03:21,840 --> 02:03:24,840
um

2572
02:03:32,880 --> 02:03:38,560
if the aprons aren't actually sealed

2573
02:03:36,158 --> 02:03:42,279
then we still could have a similar

2574
02:03:38,560 --> 02:03:42,280
leaking problem

2575
02:03:46,639 --> 02:03:50,880
you could blame younger that's true

2576
02:03:49,439 --> 02:03:52,799
that's true

2577
02:03:50,880 --> 02:03:54,960
i suppose technically we are using a

2578
02:03:52,800 --> 02:03:57,760
graphics engine made by

2579
02:03:54,960 --> 02:03:59,679
a previous version of ourselves

2580
02:03:57,760 --> 02:04:01,920
and it's their bug like we didn't

2581
02:03:59,679 --> 02:04:03,118
literally type in the bug today

2582
02:04:01,920 --> 02:04:06,880
right

2583
02:04:03,118 --> 02:04:08,719
so the bug is from several weeks ago

2584
02:04:06,880 --> 02:04:10,960
or possibly even

2585
02:04:08,719 --> 02:04:13,920
years ago because you know we only work

2586
02:04:10,960 --> 02:04:16,399
on this a few hours a month

2587
02:04:13,920 --> 02:04:17,599
on stream and so

2588
02:04:16,399 --> 02:04:19,359
you know

2589
02:04:17,599 --> 02:04:21,520
this bug could have been from a fairly

2590
02:04:19,359 --> 02:04:25,198
older version of a younger version of

2591
02:04:21,520 --> 02:04:27,199
ourselves right totally totally possible

2592
02:04:25,198 --> 02:04:28,960
and that we are simply not to blame why

2593
02:04:27,198 --> 02:04:30,158
are why are people blaming us for this

2594
02:04:28,960 --> 02:04:31,439
you know

2595
02:04:30,158 --> 02:04:33,118
um

2596
02:04:31,439 --> 02:04:37,118
it's it's not our fault

2597
02:04:33,118 --> 02:04:39,279
so i i do wonder uh i'm curious

2598
02:04:37,118 --> 02:04:41,679
does it have something to do with the

2599
02:04:39,279 --> 02:04:46,800
fact that the that

2600
02:04:41,679 --> 02:04:46,800
we don't always add a solid

2601
02:04:47,118 --> 02:04:51,000
like blocking region

2602
02:05:05,039 --> 02:05:07,840
hmm

2603
02:05:11,118 --> 02:05:14,719
yeah everything in the game is 2d art

2604
02:05:13,279 --> 02:05:17,039
except for

2605
02:05:14,719 --> 02:05:19,679
so like all of the art is 2d

2606
02:05:17,039 --> 02:05:22,560
but because we wanted to sort of have

2607
02:05:19,679 --> 02:05:24,960
like a pseudo 3d look the walls are made

2608
02:05:22,560 --> 02:05:27,840
of actual cubes

2609
02:05:24,960 --> 02:05:31,118
um but everything like you know like all

2610
02:05:27,840 --> 02:05:34,719
that stuff is 2d like that's a 2d

2611
02:05:31,118 --> 02:05:37,359
it's a 2d character right um as you can

2612
02:05:34,719 --> 02:05:39,198
see but what they're just

2613
02:05:37,359 --> 02:05:41,759
locked to the view so

2614
02:05:39,198 --> 02:05:43,678
they kind of appear like they're sort of

2615
02:05:41,760 --> 02:05:46,840
not 2d i mean they kind of still are

2616
02:05:43,679 --> 02:05:51,039
obviously 2d if you look at them right

2617
02:05:46,840 --> 02:05:52,719
um so everything's 2d except for just

2618
02:05:51,039 --> 02:05:55,519
the wall pieces

2619
02:05:52,719 --> 02:05:57,039
uh the walls are actual 3d

2620
02:05:55,520 --> 02:05:58,800
because there didn't really seem to be

2621
02:05:57,039 --> 02:06:00,960
any other way to do it

2622
02:05:58,800 --> 02:06:03,840
um

2623
02:06:00,960 --> 02:06:03,840
look i don't know

2624
02:06:04,000 --> 02:06:07,279
i don't know really how you would do if

2625
02:06:05,920 --> 02:06:08,560
we had an idea to do it we probably

2626
02:06:07,279 --> 02:06:10,800
would have done it because we were

2627
02:06:08,560 --> 02:06:12,400
trying the whole game's art is supposed

2628
02:06:10,800 --> 02:06:15,279
to be 2d

2629
02:06:12,399 --> 02:06:16,879
but unfortunately like

2630
02:06:15,279 --> 02:06:18,399
i just can't think of any way to really

2631
02:06:16,880 --> 02:06:19,440
do walls

2632
02:06:18,399 --> 02:06:22,238
in here that would be

2633
02:06:19,439 --> 02:06:23,239
[Music]

2634
02:06:22,238 --> 02:06:24,399
that would be actually

2635
02:06:23,239 --> 02:06:26,800
[Music]

2636
02:06:24,399 --> 02:06:28,078
2d and not 3d so you know the walls are

2637
02:06:26,800 --> 02:06:30,960
3d because we couldn't think of any

2638
02:06:28,078 --> 02:06:33,759
other way to do them basically

2639
02:06:30,960 --> 02:06:36,078
all right so what is this bug like what

2640
02:06:33,760 --> 02:06:37,840
is the deal

2641
02:06:36,078 --> 02:06:40,479
i just have to figure out what chunky's

2642
02:06:37,840 --> 02:06:40,480
deal is

2643
02:06:42,840 --> 02:06:48,960
um i guess we don't actually know that

2644
02:06:46,479 --> 02:06:51,039
this is a bug

2645
02:06:48,960 --> 02:06:52,639
we just don't know like this might be

2646
02:06:51,039 --> 02:06:54,479
that that's just how much because

2647
02:06:52,639 --> 02:06:56,078
there's a lot of light in this area

2648
02:06:54,479 --> 02:06:57,439
maybe that is actually supposed to be

2649
02:06:56,078 --> 02:06:58,960
that bright

2650
02:06:57,439 --> 02:07:00,879
but it also could be above look we don't

2651
02:06:58,960 --> 02:07:02,319
really know we don't know that that's

2652
02:07:00,880 --> 02:07:04,239
hard to say

2653
02:07:02,319 --> 02:07:06,000
we do know that if we get

2654
02:07:04,238 --> 02:07:07,678
like

2655
02:07:06,000 --> 02:07:09,840
there

2656
02:07:07,679 --> 02:07:10,719
this is clearly some kind of a feedback

2657
02:07:09,840 --> 02:07:14,159
bug

2658
02:07:10,719 --> 02:07:16,639
because it doesn't make much sense

2659
02:07:14,158 --> 02:07:19,279
why standing here would produce that

2660
02:07:16,639 --> 02:07:20,719
result but standing here would produce

2661
02:07:19,279 --> 02:07:24,000
that result

2662
02:07:20,719 --> 02:07:25,359
i don't know like that feels probably

2663
02:07:24,000 --> 02:07:27,359
just wrong

2664
02:07:25,359 --> 02:07:31,679
i mean maybe it's not

2665
02:07:27,359 --> 02:07:31,679
but it kind of seems like it probably is

2666
02:07:35,520 --> 02:07:40,400
uh celery boy we are going to make a

2667
02:07:37,760 --> 02:07:42,880
game but it's only because i feel

2668
02:07:40,399 --> 02:07:46,000
obliged to do so uh i'm not really a

2669
02:07:42,880 --> 02:07:47,039
game designer so

2670
02:07:46,000 --> 02:07:47,920
you know

2671
02:07:47,039 --> 02:07:50,319
the

2672
02:07:47,920 --> 02:07:53,800
the idea is to make an engine for a game

2673
02:07:50,319 --> 02:07:53,799
but um

2674
02:07:54,078 --> 02:07:56,799
you know in order to know if the engine

2675
02:07:55,279 --> 02:07:58,479
works you kind of have to have a game so

2676
02:07:56,800 --> 02:07:59,920
we will put

2677
02:07:58,479 --> 02:08:02,319
game in the game

2678
02:07:59,920 --> 02:08:04,960
uh but it won't necessarily be very good

2679
02:08:02,319 --> 02:08:05,840
right like the game design might be very

2680
02:08:04,960 --> 02:08:07,760
bad

2681
02:08:05,840 --> 02:08:09,279
uh because that's not

2682
02:08:07,760 --> 02:08:11,199
you know i i don't actually know how to

2683
02:08:09,279 --> 02:08:12,960
do that part um

2684
02:08:11,198 --> 02:08:15,839
that there is a good stream for that

2685
02:08:12,960 --> 02:08:17,920
jonathan blow does streams and he's like

2686
02:08:15,840 --> 02:08:19,520
you know i mean in my opinion the best

2687
02:08:17,920 --> 02:08:21,039
game designer that there is like i've

2688
02:08:19,520 --> 02:08:24,560
never seen a designer as good as he is

2689
02:08:21,039 --> 02:08:26,719
so you can go watch his streams uh and

2690
02:08:24,560 --> 02:08:29,199
catch some game design from that when he

2691
02:08:26,719 --> 02:08:31,920
happens to be streaming that um but you

2692
02:08:29,198 --> 02:08:32,960
know i can't help you with that part

2693
02:08:31,920 --> 02:08:34,560
uh

2694
02:08:32,960 --> 02:08:37,359
all right so

2695
02:08:34,560 --> 02:08:39,920
obviously we've got that is the bug

2696
02:08:37,359 --> 02:08:42,639
it only happens in very few places now

2697
02:08:39,920 --> 02:08:44,800
but it's definitely there we can provoke

2698
02:08:42,639 --> 02:08:47,840
it fairly reliably

2699
02:08:44,800 --> 02:08:50,880
and i do wonder a little bit if it has

2700
02:08:47,840 --> 02:08:52,639
to do with when the lighting

2701
02:08:50,880 --> 02:08:54,480
gets into a place

2702
02:08:52,639 --> 02:08:58,920
where it can hit

2703
02:08:54,479 --> 02:08:58,919
a uncapped region

2704
02:09:09,679 --> 02:09:12,319
uh celebrate i agree that it could be

2705
02:09:11,198 --> 02:09:14,399
educational watch them and learn game

2706
02:09:12,319 --> 02:09:16,399
design but it's not going to be us right

2707
02:09:14,399 --> 02:09:18,879
uh because i'm not a game designer and

2708
02:09:16,399 --> 02:09:19,920
i'm not going to learn game design

2709
02:09:18,880 --> 02:09:22,000
just simply

2710
02:09:19,920 --> 02:09:23,359
putting game design into a game is not

2711
02:09:22,000 --> 02:09:25,198
sufficient to become a good game

2712
02:09:23,359 --> 02:09:27,279
designer right like you have to to work

2713
02:09:25,198 --> 02:09:28,078
a lot harder than that so this really

2714
02:09:27,279 --> 02:09:30,078
won't

2715
02:09:28,078 --> 02:09:31,118
have that really won't happen on the

2716
02:09:30,078 --> 02:09:34,399
stream

2717
02:09:31,118 --> 02:09:35,759
um but you know we will make uh

2718
02:09:34,399 --> 02:09:36,799
improvements to the engine like we're

2719
02:09:35,760 --> 02:09:37,840
going to clean up the engine we are

2720
02:09:36,800 --> 02:09:39,520
that's what we're doing right now is

2721
02:09:37,840 --> 02:09:41,440
we're cleaning up the lighting uh which

2722
02:09:39,520 --> 02:09:43,760
now i think looks fantastic i really

2723
02:09:41,439 --> 02:09:45,598
love it um but we've got some bugs you

2724
02:09:43,760 --> 02:09:48,079
can see like there's some weird right

2725
02:09:45,599 --> 02:09:49,039
like what's happening there

2726
02:09:48,078 --> 02:09:51,279
you know

2727
02:09:49,039 --> 02:09:51,279
um

2728
02:09:54,560 --> 02:09:59,280
although actually that's not actually no

2729
02:09:57,198 --> 02:10:01,039
i take it back that's not actually a bug

2730
02:09:59,279 --> 02:10:02,719
that's just because this apron is too

2731
02:10:01,039 --> 02:10:05,118
tightly bound

2732
02:10:02,719 --> 02:10:06,880
uh if this were further out like that's

2733
02:10:05,118 --> 02:10:08,719
because you're just seeing the wrapping

2734
02:10:06,880 --> 02:10:09,599
of the lighting atlas

2735
02:10:08,719 --> 02:10:13,279
so

2736
02:10:09,599 --> 02:10:15,840
uh never mind about that but

2737
02:10:13,279 --> 02:10:15,840
um

2738
02:10:17,359 --> 02:10:21,039
so i think it i think it may still be

2739
02:10:19,599 --> 02:10:23,119
just the z

2740
02:10:21,039 --> 02:10:26,800
it might be i don't know although that

2741
02:10:23,118 --> 02:10:29,759
wouldn't explain this would it

2742
02:10:26,800 --> 02:10:32,560
because there's no z

2743
02:10:29,760 --> 02:10:35,039
leaking there is there i don't think

2744
02:10:32,560 --> 02:10:35,039
there is

2745
02:10:35,599 --> 02:10:40,480
i don't think there is

2746
02:10:38,158 --> 02:10:42,479
i could be wrong

2747
02:10:40,479 --> 02:10:44,718
but like that still feels wrong and we

2748
02:10:42,479 --> 02:10:46,559
know there's no z leaking going on there

2749
02:10:44,719 --> 02:10:48,000
because you can see all around is

2750
02:10:46,560 --> 02:10:50,159
completely

2751
02:10:48,000 --> 02:10:54,679
black

2752
02:10:50,158 --> 02:10:54,679
uh well not black but low light

2753
02:11:03,760 --> 02:11:07,920
so i don't know do we think that's

2754
02:11:05,840 --> 02:11:09,920
logical or don't we

2755
02:11:07,920 --> 02:11:11,760
let's take a look at the cast i mean we

2756
02:11:09,920 --> 02:11:15,118
inspected them in this area they all

2757
02:11:11,760 --> 02:11:16,719
looked pretty reasonable though

2758
02:11:15,118 --> 02:11:17,839
is the thing

2759
02:11:16,719 --> 02:11:20,239
um

2760
02:11:17,840 --> 02:11:22,319
i don't know where there's a there's a

2761
02:11:20,238 --> 02:11:23,279
light cast right

2762
02:11:22,319 --> 02:11:28,559
um

2763
02:11:23,279 --> 02:11:30,719
and you know it's picking the floor

2764
02:11:28,560 --> 02:11:33,599
uh which is exactly what you would

2765
02:11:30,719 --> 02:11:33,599
expect it to pick

2766
02:11:36,078 --> 02:11:39,479
i mean it's

2767
02:11:50,000 --> 02:11:53,000
so

2768
02:11:54,238 --> 02:11:59,519
i guess one

2769
02:11:57,118 --> 02:12:01,279
one problem

2770
02:11:59,520 --> 02:12:02,560
that we have

2771
02:12:01,279 --> 02:12:04,319
uh can the rate oh let me answer that

2772
02:12:02,560 --> 02:12:05,920
question the first uh the part where can

2773
02:12:04,319 --> 02:12:07,519
the ray escape the door to nothing it

2774
02:12:05,920 --> 02:12:09,359
can but that's okay

2775
02:12:07,520 --> 02:12:11,679
so if the ray

2776
02:12:09,359 --> 02:12:12,639
goes outside of the lighting atlas

2777
02:12:11,679 --> 02:12:14,639
region

2778
02:12:12,639 --> 02:12:18,078
that shouldn't cause a problem now maybe

2779
02:12:14,639 --> 02:12:19,520
it does maybe we do have a bug

2780
02:12:18,078 --> 02:12:20,479
but that actually shouldn't cause a

2781
02:12:19,520 --> 02:12:21,920
problem

2782
02:12:20,479 --> 02:12:22,959
the thing that was causing us the

2783
02:12:21,920 --> 02:12:26,880
problem

2784
02:12:22,960 --> 02:12:29,599
was that if the ray can cast in z

2785
02:12:26,880 --> 02:12:32,719
outside of the z bounds

2786
02:12:29,599 --> 02:12:35,440
and get further into the actual valid

2787
02:12:32,719 --> 02:12:38,800
part of the lighting atlas that was our

2788
02:12:35,439 --> 02:12:39,839
actual problem right so if it can you

2789
02:12:38,800 --> 02:12:42,239
know

2790
02:12:39,840 --> 02:12:44,078
so if it casts out this way we wouldn't

2791
02:12:42,238 --> 02:12:45,919
really expect any problems because all

2792
02:12:44,078 --> 02:12:47,359
of the light out here there's nothing

2793
02:12:45,920 --> 02:12:50,800
out here for it to sample it's the

2794
02:12:47,359 --> 02:12:52,960
lighting atlas is bounded by this cyan

2795
02:12:50,800 --> 02:12:55,840
there's no nothing to sample outside the

2796
02:12:52,960 --> 02:12:57,760
cyan you just get what's at the edge of

2797
02:12:55,840 --> 02:12:59,279
the thing which is fine you can totally

2798
02:12:57,760 --> 02:13:01,360
that's a totally fine place to sample

2799
02:12:59,279 --> 02:13:03,279
from what was happening before that was

2800
02:13:01,359 --> 02:13:05,759
illegal was basically like you'd be here

2801
02:13:03,279 --> 02:13:07,759
you'd cast a ray upwards and it wouldn't

2802
02:13:05,760 --> 02:13:09,039
hit anything so it would just keep

2803
02:13:07,760 --> 02:13:10,800
stepping and stepping and stepping and

2804
02:13:09,039 --> 02:13:13,279
stepping and it would pull light from

2805
02:13:10,800 --> 02:13:14,719
way the heck somewhere else right or

2806
02:13:13,279 --> 02:13:16,800
tunnel through a wall like it would just

2807
02:13:14,719 --> 02:13:19,279
keep casting and end up like sampling

2808
02:13:16,800 --> 02:13:21,679
from over here or something right

2809
02:13:19,279 --> 02:13:23,198
that was still inside the light atlas

2810
02:13:21,679 --> 02:13:24,480
and it was pulling light from some place

2811
02:13:23,198 --> 02:13:27,359
it shouldn't have been allowed to pull

2812
02:13:24,479 --> 02:13:27,359
it right

2813
02:13:29,439 --> 02:13:33,359
um

2814
02:13:30,639 --> 02:13:33,359
if that makes sense

2815
02:13:33,439 --> 02:13:37,118
so

2816
02:13:35,279 --> 02:13:41,439
what i'm thinking

2817
02:13:37,118 --> 02:13:41,439
as well though like as another thing

2818
02:13:42,840 --> 02:13:48,319
um sample from the wrap region it

2819
02:13:45,359 --> 02:13:50,799
doesn't sample from the wrapped region

2820
02:13:48,319 --> 02:13:52,479
uh just to be clear uh what that is is

2821
02:13:50,800 --> 02:13:55,440
just the renderer

2822
02:13:52,479 --> 02:13:56,479
so when it goes to render it just

2823
02:13:55,439 --> 02:13:59,279
like

2824
02:13:56,479 --> 02:14:01,519
you when we set these bounds you should

2825
02:13:59,279 --> 02:14:03,198
never be able to see the cyan boundary

2826
02:14:01,520 --> 02:14:05,599
that's just because we have them sized

2827
02:14:03,198 --> 02:14:08,479
wrong so we need to push that sizing out

2828
02:14:05,599 --> 02:14:11,039
a little bit and then we're good uh all

2829
02:14:08,479 --> 02:14:13,198
you're seeing here is just it happens to

2830
02:14:11,039 --> 02:14:14,960
if you use a debug camera and you view

2831
02:14:13,198 --> 02:14:17,198
outside where the atlas is it's just

2832
02:14:14,960 --> 02:14:20,960
gonna wrap right

2833
02:14:17,198 --> 02:14:23,198
um so that doesn't really matter

2834
02:14:20,960 --> 02:14:23,198
um

2835
02:14:23,359 --> 02:14:27,279
uh and felt craft i'm

2836
02:14:25,359 --> 02:14:29,279
inclined to agree with you what i was

2837
02:14:27,279 --> 02:14:31,198
about to say uh

2838
02:14:29,279 --> 02:14:34,880
at least i think agrees with you and let

2839
02:14:31,198 --> 02:14:34,879
me say it and you can tell me if it does

2840
02:14:35,118 --> 02:14:38,238
so

2841
02:14:36,000 --> 02:14:38,238
um

2842
02:14:39,039 --> 02:14:43,920
i also like don't know how that we saw

2843
02:14:41,920 --> 02:14:45,920
like how is that getting brighter in

2844
02:14:43,920 --> 02:14:49,279
there right that suggests to me that

2845
02:14:45,920 --> 02:14:50,560
we're still somehow able to escape that

2846
02:14:49,279 --> 02:14:52,078
area

2847
02:14:50,560 --> 02:14:53,520
sampling wise

2848
02:14:52,078 --> 02:14:55,840
right which

2849
02:14:53,520 --> 02:14:57,360
we shouldn't really be able to do let's

2850
02:14:55,840 --> 02:14:58,719
let's double check that but let me see

2851
02:14:57,359 --> 02:15:00,799
what it's going to say first what i was

2852
02:14:58,719 --> 02:15:03,679
going to say first is

2853
02:15:00,800 --> 02:15:07,199
when we do a sample

2854
02:15:03,679 --> 02:15:09,840
from the light atlas so if we hit a

2855
02:15:07,198 --> 02:15:12,719
light you are automatically getting the

2856
02:15:09,840 --> 02:15:14,639
inverse square law for that light

2857
02:15:12,719 --> 02:15:16,158
right

2858
02:15:14,639 --> 02:15:17,039
when we hit

2859
02:15:16,158 --> 02:15:18,879
a

2860
02:15:17,039 --> 02:15:20,840
non-lit region

2861
02:15:18,880 --> 02:15:24,239
so something that just has indirect

2862
02:15:20,840 --> 02:15:26,480
lighting and we sample from that

2863
02:15:24,238 --> 02:15:28,638
no matter where we sample we're gonna

2864
02:15:26,479 --> 02:15:31,359
get whatever that color is and we're not

2865
02:15:28,639 --> 02:15:35,639
inverse square lawn that

2866
02:15:31,359 --> 02:15:35,639
is that somehow wrong

2867
02:15:40,880 --> 02:15:45,239
i mean i don't think it is

2868
02:16:16,158 --> 02:16:20,879
at the moment that's

2869
02:16:19,118 --> 02:16:24,000
it's not a it's not allowed to do that

2870
02:16:20,880 --> 02:16:24,000
on grid walk

2871
02:16:24,078 --> 02:16:28,479
iteration out is it i mean it it

2872
02:16:26,639 --> 02:16:31,480
basically it sets the hit ref color to

2873
02:16:28,479 --> 02:16:31,479
nothing

2874
02:16:33,120 --> 02:16:37,840
i guess we should change the hit

2875
02:16:34,398 --> 02:16:37,840
emission to nothing as well

2876
02:16:41,679 --> 02:16:47,558
i think that

2877
02:16:43,200 --> 02:16:47,559
maybe we should do as well

2878
02:16:48,959 --> 02:16:54,398
let's just see i just want to make sure

2879
02:16:51,200 --> 02:16:54,399
that it's not something stupid

2880
02:16:54,879 --> 02:16:58,598
and like what's that

2881
02:17:03,040 --> 02:17:07,840
so we we have a bug on

2882
02:17:06,239 --> 02:17:09,840
on

2883
02:17:07,840 --> 02:17:12,079
every other boundary

2884
02:17:09,840 --> 02:17:12,079
right

2885
02:17:12,558 --> 02:17:17,279
because what would be causing that to

2886
02:17:14,879 --> 02:17:17,279
change

2887
02:17:20,478 --> 02:17:24,638
could it really be an accurate cast that

2888
02:17:23,359 --> 02:17:26,800
is causing that

2889
02:17:24,638 --> 02:17:29,039
i doubt it

2890
02:17:26,799 --> 02:17:32,558
i mean i could invent an explanation but

2891
02:17:29,040 --> 02:17:32,559
that seems wrong

2892
02:17:33,679 --> 02:17:36,239
doesn't it

2893
02:17:36,638 --> 02:17:41,039
like it seems like that should not have

2894
02:17:38,718 --> 02:17:45,000
happened so it seems like we still have

2895
02:17:41,040 --> 02:17:45,000
some kind of an error

2896
02:17:57,840 --> 02:18:02,478
does this happen with pure white pure

2897
02:17:59,359 --> 02:18:02,479
red lights i

2898
02:18:04,718 --> 02:18:09,279
it happens with

2899
02:18:06,799 --> 02:18:12,398
well currently the lights are pure white

2900
02:18:09,280 --> 02:18:12,399
aren't they oh no they're not

2901
02:18:22,000 --> 02:18:25,840
here's a pure white light

2902
02:18:28,318 --> 02:18:31,760
the ceiling tiles outside are not pure

2903
02:18:30,799 --> 02:18:34,000
white

2904
02:18:31,760 --> 02:18:34,000
though

2905
02:18:36,159 --> 02:18:38,638
and

2906
02:18:36,959 --> 02:18:41,678
you know we don't get the same kind of

2907
02:18:38,638 --> 02:18:45,199
bleed but the light isn't as bright

2908
02:18:41,679 --> 02:18:46,719
uh if we change it so that the light is

2909
02:18:45,200 --> 02:18:48,639
in order to i'd have to add a little

2910
02:18:46,718 --> 02:18:50,799
more energy to make it because they'd

2911
02:18:48,638 --> 02:18:52,558
have to be all sevens i could make them

2912
02:18:50,799 --> 02:18:56,959
all sixes

2913
02:18:52,558 --> 02:18:57,840
uh or 6.5 or something um

2914
02:18:56,959 --> 02:19:00,000
but

2915
02:18:57,840 --> 02:19:02,318
this will now be like a brighter white

2916
02:19:00,000 --> 02:19:02,318
light

2917
02:19:03,760 --> 02:19:07,359
um

2918
02:19:05,040 --> 02:19:08,800
i mean same same same

2919
02:19:07,359 --> 02:19:09,920
we wouldn't expect the channels to have

2920
02:19:08,799 --> 02:19:12,638
anything to do with it i mean you know

2921
02:19:09,920 --> 02:19:14,478
if we had some kind of a summation bug

2922
02:19:12,638 --> 02:19:17,119
if you make the lights dim enough then

2923
02:19:14,478 --> 02:19:19,358
you don't get this kind of overbrighting

2924
02:19:17,120 --> 02:19:21,359
problem but i'm not sure i guess i don't

2925
02:19:19,359 --> 02:19:22,318
really understand why

2926
02:19:21,359 --> 02:19:25,120
um

2927
02:19:22,318 --> 02:19:27,119
again still kind of just confused as to

2928
02:19:25,120 --> 02:19:31,319
what exactly the bug is you know if we

2929
02:19:27,120 --> 02:19:31,319
knew what it was we'd fix it right

2930
02:19:43,120 --> 02:19:46,540
um

2931
02:19:43,479 --> 02:19:46,539
[Music]

2932
02:19:46,718 --> 02:19:52,959
so it's weird there's like some boundary

2933
02:19:49,520 --> 02:19:55,040
where we go below the amount that will

2934
02:19:52,959 --> 02:19:56,879
do this contamination

2935
02:19:55,040 --> 02:20:00,280
for whatever reason

2936
02:19:56,879 --> 02:20:00,279
it looks like

2937
02:20:09,280 --> 02:20:12,960
like that's just not enough

2938
02:20:14,959 --> 02:20:17,839
somehow

2939
02:20:18,639 --> 02:20:24,559
you know we we don't know why

2940
02:20:21,760 --> 02:20:26,398
but that's just not enough to end up

2941
02:20:24,559 --> 02:20:29,279
leading to the feedback

2942
02:20:26,398 --> 02:20:29,279
that we see

2943
02:20:29,680 --> 02:20:32,159
i guess

2944
02:20:34,000 --> 02:20:38,318
right because the entire system is now

2945
02:20:36,239 --> 02:20:40,159
apparently stable and like i can't get

2946
02:20:38,318 --> 02:20:42,799
any of these rooms

2947
02:20:40,159 --> 02:20:45,799
to evince the bug

2948
02:20:42,799 --> 02:20:45,799
um

2949
02:20:57,840 --> 02:21:00,639
the heck is that

2950
02:21:03,840 --> 02:21:09,318
it's like some weird like noise that i

2951
02:21:05,760 --> 02:21:09,318
saw down below

2952
02:21:27,439 --> 02:21:32,479
so there is some kind of value

2953
02:21:29,600 --> 02:21:34,800
sensitivity here and i'm not sure

2954
02:21:32,478 --> 02:21:39,398
i know what it is it

2955
02:21:34,799 --> 02:21:39,398
might just be that

2956
02:21:40,079 --> 02:21:44,799
you know i no i i don't have a solid

2957
02:21:42,239 --> 02:21:44,799
explanation

2958
02:21:44,879 --> 02:21:48,239
because you would think that it would

2959
02:21:46,079 --> 02:21:50,079
either be stable or not stable and that

2960
02:21:48,239 --> 02:21:51,680
the total brightness wouldn't matter to

2961
02:21:50,079 --> 02:21:52,478
the stability

2962
02:21:51,680 --> 02:21:53,600
right

2963
02:21:52,478 --> 02:21:56,478
like

2964
02:21:53,600 --> 02:21:59,439
you should just see the same

2965
02:21:56,478 --> 02:21:59,438
thing and

2966
02:22:00,239 --> 02:22:03,520
it seems like we have some maybe we have

2967
02:22:02,159 --> 02:22:05,119
some kind of clamping happening

2968
02:22:03,520 --> 02:22:08,479
somewhere where if you're below a

2969
02:22:05,120 --> 02:22:10,240
certain threshold then it takes energy

2970
02:22:08,478 --> 02:22:12,719
out of the system in some way or

2971
02:22:10,239 --> 02:22:12,719
something

2972
02:22:13,600 --> 02:22:16,318
i don't know

2973
02:22:20,159 --> 02:22:24,000
the reason that the light in the bottom

2974
02:22:21,760 --> 02:22:25,439
left is brighter than the others

2975
02:22:24,000 --> 02:22:27,280
i think

2976
02:22:25,439 --> 02:22:29,120
um

2977
02:22:27,280 --> 02:22:32,319
is be well no you know what i'm not

2978
02:22:29,120 --> 02:22:32,319
gonna say i do not know

2979
02:22:32,639 --> 02:22:36,279
it does seem weird

2980
02:22:45,600 --> 02:22:49,200
it seems pretty weird i don't know if do

2981
02:22:47,760 --> 02:22:53,559
if the height or something is there

2982
02:22:49,200 --> 02:22:53,560
something else randomized about lights

2983
02:23:08,799 --> 02:23:12,478
i i don't see anything yet

2984
02:23:14,239 --> 02:23:19,600
so i would assume i could be wrong

2985
02:23:17,280 --> 02:23:22,239
i would assume that that is also a bug

2986
02:23:19,600 --> 02:23:24,239
meaning or related to the bug the fact

2987
02:23:22,239 --> 02:23:26,478
that that is brighter seems

2988
02:23:24,239 --> 02:23:26,478
wrong

2989
02:23:29,120 --> 02:23:33,680
because uh

2990
02:23:30,719 --> 02:23:35,279
simply being in a corner doesn't

2991
02:23:33,680 --> 02:23:37,680
obviously doesn't do it because like

2992
02:23:35,280 --> 02:23:39,760
that's also a corner

2993
02:23:37,680 --> 02:23:41,359
and that's not it

2994
02:23:39,760 --> 02:23:43,120
we could look at what the casting looks

2995
02:23:41,359 --> 02:23:46,559
like in that region

2996
02:23:43,120 --> 02:23:49,280
uh and see i don't know if there's any

2997
02:23:46,559 --> 02:23:52,318
particular thing that we can find out uh

2998
02:23:49,280 --> 02:23:55,760
from that unfortunately but let's check

2999
02:23:52,318 --> 02:23:55,760
so uh if we

3000
02:23:56,398 --> 02:24:02,879
just move our casting debug back one

3001
02:24:00,719 --> 02:24:05,279
and down one

3002
02:24:02,879 --> 02:24:08,159
that would be the place that we're

3003
02:24:05,280 --> 02:24:08,159
trying to pick up

3004
02:24:08,959 --> 02:24:14,799
right um it's right on the light source

3005
02:24:12,879 --> 02:24:17,920
like this this big white thing up here

3006
02:24:14,799 --> 02:24:20,079
is the giant light source that's sitting

3007
02:24:17,920 --> 02:24:21,680
uh in that area

3008
02:24:20,079 --> 02:24:24,318
you know

3009
02:24:21,680 --> 02:24:24,318
and uh

3010
02:24:25,040 --> 02:24:29,280
the cast looks

3011
02:24:27,120 --> 02:24:30,720
you know like what

3012
02:24:29,280 --> 02:24:32,720
what i would probably expect i don't

3013
02:24:30,719 --> 02:24:33,679
know what is the purple line supposed to

3014
02:24:32,719 --> 02:24:35,279
be

3015
02:24:33,680 --> 02:24:38,639
do we remember what that is i don't

3016
02:24:35,280 --> 02:24:38,640
remember what the purple line is

3017
02:24:38,719 --> 02:24:44,398
oh the purple line is like the face

3018
02:24:41,680 --> 02:24:46,479
the face normal of the octahedral map

3019
02:24:44,398 --> 02:24:49,680
it's like it's like where the the face

3020
02:24:46,478 --> 02:24:52,679
of the octahedral map is pointing

3021
02:24:49,680 --> 02:24:52,680
right

3022
02:25:00,000 --> 02:25:04,639
and i mean you can see them hitting it's

3023
02:25:01,359 --> 02:25:04,640
just hitting the light source there

3024
02:25:06,959 --> 02:25:11,679
so there's nothing particularly odd

3025
02:25:08,799 --> 02:25:14,679
about the casting that i can see

3026
02:25:11,680 --> 02:25:14,680
um

3027
02:25:25,280 --> 02:25:30,000
uh so i i don't know i'm not sure why

3028
02:25:28,159 --> 02:25:32,478
we're getting more of that like for

3029
02:25:30,000 --> 02:25:34,398
example i would assume you should you

3030
02:25:32,478 --> 02:25:36,159
would think

3031
02:25:34,398 --> 02:25:37,599
that that if there's a light in that

3032
02:25:36,159 --> 02:25:38,959
quarter now maybe there's not a light in

3033
02:25:37,600 --> 02:25:43,200
that corner

3034
02:25:38,959 --> 02:25:43,199
um actually let's take a look

3035
02:25:45,920 --> 02:25:48,799
there is i mean there's a light in that

3036
02:25:47,680 --> 02:25:50,479
corner

3037
02:25:48,799 --> 02:25:52,719
so the fact that there's a light in that

3038
02:25:50,478 --> 02:25:55,760
corner it's a little bit odd i'm not

3039
02:25:52,719 --> 02:25:57,199
sure why we don't see the same kind of a

3040
02:25:55,760 --> 02:25:58,398
brightness there

3041
02:25:57,200 --> 02:25:59,520
right

3042
02:25:58,398 --> 02:26:01,680
um

3043
02:25:59,520 --> 02:26:03,359
because again like you would expect this

3044
02:26:01,680 --> 02:26:06,000
is like the same kind of geometry

3045
02:26:03,359 --> 02:26:08,479
basically and the same

3046
02:26:06,000 --> 02:26:09,600
yeah now there are some i mean it's

3047
02:26:08,478 --> 02:26:11,438
possible that it has something to do

3048
02:26:09,600 --> 02:26:13,200
with the fact that

3049
02:26:11,439 --> 02:26:16,439
the

3050
02:26:13,200 --> 02:26:20,000
sampling sphere is like biased

3051
02:26:16,439 --> 02:26:21,200
possibly um

3052
02:26:20,000 --> 02:26:22,959
so

3053
02:26:21,200 --> 02:26:25,200
uh you know you're correct the light

3054
02:26:22,959 --> 02:26:26,159
sphere is larger

3055
02:26:25,200 --> 02:26:29,359
uh

3056
02:26:26,159 --> 02:26:31,280
it is larger than one tile i think

3057
02:26:29,359 --> 02:26:33,120
maybe the problem is that it's centered

3058
02:26:31,280 --> 02:26:38,159
wrong

3059
02:26:33,120 --> 02:26:40,319
like the light sphere is is a is like

3060
02:26:38,159 --> 02:26:41,359
further in on this side or something

3061
02:26:40,318 --> 02:26:43,439
like that

3062
02:26:41,359 --> 02:26:44,640
that would explain perhaps why it would

3063
02:26:43,439 --> 02:26:47,520
be brighter

3064
02:26:44,639 --> 02:26:50,159
in this corner than in other corners

3065
02:26:47,520 --> 02:26:52,399
um but i i don't know other than that i

3066
02:26:50,159 --> 02:26:55,200
can't think of a lot of reason we could

3067
02:26:52,398 --> 02:26:55,199
draw lights

3068
02:26:55,520 --> 02:26:59,439
uh pretty easily so if we just want to

3069
02:26:57,920 --> 02:27:01,280
know a little bit more about that that's

3070
02:26:59,439 --> 02:27:03,200
probably not particularly difficult we

3071
02:27:01,280 --> 02:27:05,680
could just say like all right show us

3072
02:27:03,200 --> 02:27:07,280
like where lights specifically lights

3073
02:27:05,680 --> 02:27:08,960
are

3074
02:27:07,280 --> 02:27:13,159
um

3075
02:27:08,959 --> 02:27:13,159
so so here's all the lights

3076
02:27:18,559 --> 02:27:21,119
i mean they look

3077
02:27:21,359 --> 02:27:26,640
totally

3078
02:27:22,799 --> 02:27:29,039
normal i don't see anything weird there

3079
02:27:26,639 --> 02:27:30,879
i guess i would say i don't

3080
02:27:29,040 --> 02:27:31,840
understand

3081
02:27:30,879 --> 02:27:35,279
though

3082
02:27:31,840 --> 02:27:38,318
why is it pushing it looks

3083
02:27:35,280 --> 02:27:43,159
like it's pushing down a different size

3084
02:27:38,318 --> 02:27:43,159
than the actual light is supposed to be

3085
02:27:51,280 --> 02:27:54,760
wouldn't you say

3086
02:28:06,398 --> 02:28:13,279
so here's the push light call you can

3087
02:28:09,359 --> 02:28:15,200
see it adding a radius here i is this

3088
02:28:13,280 --> 02:28:18,319
supposed to be is this off this might be

3089
02:28:15,200 --> 02:28:18,319
supposed to be like a half

3090
02:28:19,040 --> 02:28:23,000
like a one-half thing

3091
02:28:26,159 --> 02:28:32,520
yeah i mean because this is a rec center

3092
02:28:28,079 --> 02:28:32,520
dim not a rec center half dim

3093
02:28:40,159 --> 02:28:43,760
so i guess i don't know

3094
02:28:46,639 --> 02:28:50,959
i guess i don't know which one this is

3095
02:28:48,000 --> 02:28:53,920
supposed to be this says radius

3096
02:28:50,959 --> 02:28:56,318
and so this should probably be two times

3097
02:28:53,920 --> 02:28:58,799
that right and is that what we called it

3098
02:28:56,318 --> 02:29:00,879
everywhere

3099
02:28:58,799 --> 02:29:02,318
yeah we called it a radius so i think

3100
02:29:00,879 --> 02:29:04,559
that's fine

3101
02:29:02,318 --> 02:29:06,000
um i think this code is just wrong so

3102
02:29:04,559 --> 02:29:07,359
that's supposed to be two because this

3103
02:29:06,000 --> 02:29:09,040
is a radius

3104
02:29:07,359 --> 02:29:12,399
right

3105
02:29:09,040 --> 02:29:13,200
which means that actually

3106
02:29:12,398 --> 02:29:15,680
uh

3107
02:29:13,200 --> 02:29:19,359
it it's that

3108
02:29:15,680 --> 02:29:19,359
is where the lights actually are

3109
02:29:20,840 --> 02:29:23,760
um

3110
02:29:22,478 --> 02:29:24,719
so

3111
02:29:23,760 --> 02:29:27,680
you know

3112
02:29:24,719 --> 02:29:29,920
and i guess i would also say

3113
02:29:27,680 --> 02:29:29,920
uh

3114
02:29:33,280 --> 02:29:39,040
you know looking at how they're placed

3115
02:29:35,600 --> 02:29:40,640
there's it i i have no idea why you

3116
02:29:39,040 --> 02:29:42,399
would end up with more collection in

3117
02:29:40,639 --> 02:29:44,398
this corner

3118
02:29:42,398 --> 02:29:45,680
like i don't know why that light would

3119
02:29:44,398 --> 02:29:48,159
in theory be

3120
02:29:45,680 --> 02:29:50,318
more than any of these other ones i

3121
02:29:48,159 --> 02:29:52,239
doesn't make a whole lot of sense it

3122
02:29:50,318 --> 02:29:53,920
could obviously be luck

3123
02:29:52,239 --> 02:29:55,520
like we could be seeing like sampling

3124
02:29:53,920 --> 02:29:57,760
bias here

3125
02:29:55,520 --> 02:30:00,640
and we could try to

3126
02:29:57,760 --> 02:30:03,200
prevent that by doing some kind of else

3127
02:30:00,639 --> 02:30:04,959
oh what there was a to do in calc base p

3128
02:30:03,200 --> 02:30:07,760
for offset

3129
02:30:04,959 --> 02:30:07,759
let me take a look

3130
02:30:11,359 --> 02:30:15,200
um yeah it could be that it's picking up

3131
02:30:13,359 --> 02:30:17,040
light through the wall somehow

3132
02:30:15,200 --> 02:30:19,439
but i'm not sure

3133
02:30:17,040 --> 02:30:21,920
we didn't see any evidence of that

3134
02:30:19,439 --> 02:30:22,800
uh when we looked at the casting here

3135
02:30:21,920 --> 02:30:25,359
so

3136
02:30:22,799 --> 02:30:27,599
i don't know uh maybe we should have a

3137
02:30:25,359 --> 02:30:28,800
way to turn off lights like i click on

3138
02:30:27,600 --> 02:30:30,800
them and like

3139
02:30:28,799 --> 02:30:34,478
take them out of the solve so we could

3140
02:30:30,799 --> 02:30:35,920
see if it if which lights are affecting

3141
02:30:34,478 --> 02:30:38,239
which thing

3142
02:30:35,920 --> 02:30:39,840
um

3143
02:30:38,239 --> 02:30:42,318
that seems like that would be kind of

3144
02:30:39,840 --> 02:30:45,200
useful but

3145
02:30:42,318 --> 02:30:47,840
uh yeah but i don't know

3146
02:30:45,200 --> 02:30:47,840
so

3147
02:30:59,040 --> 02:31:02,000
let me look at the to-do that you're

3148
02:31:00,079 --> 02:31:03,039
talking about uh so you said calc bass

3149
02:31:02,000 --> 02:31:05,760
offset

3150
02:31:03,040 --> 02:31:10,200
calc bass p for offset

3151
02:31:05,760 --> 02:31:10,200
uh let me take a look at that

3152
02:31:31,120 --> 02:31:36,640
um that doesn't really matter that's

3153
02:31:33,520 --> 02:31:39,439
just how the lights are arranged

3154
02:31:36,639 --> 02:31:42,439
it's so that's actually fine

3155
02:31:39,439 --> 02:31:42,439
um

3156
02:31:45,520 --> 02:31:48,640
i don't think that matters

3157
02:31:55,040 --> 02:31:58,000
so one thing that we haven't considered

3158
02:31:56,478 --> 02:31:59,599
is is it possible that two lights are

3159
02:31:58,000 --> 02:32:02,159
getting added on top of each other in

3160
02:31:59,600 --> 02:32:02,159
that area

3161
02:32:02,398 --> 02:32:06,398
although that wouldn't affect anything

3162
02:32:03,680 --> 02:32:09,398
so i guess it doesn't matter

3163
02:32:06,398 --> 02:32:09,398
but

3164
02:32:11,520 --> 02:32:17,120
so uh yeah i'm not sure there's still

3165
02:32:14,559 --> 02:32:19,199
some definite weirdness

3166
02:32:17,120 --> 02:32:22,000
that we have to track down it's also

3167
02:32:19,200 --> 02:32:24,880
kind of odd that some rooms seem very

3168
02:32:22,000 --> 02:32:27,920
stable and some rooms seem unstable

3169
02:32:24,879 --> 02:32:29,759
and that part is

3170
02:32:27,920 --> 02:32:31,439
confusing

3171
02:32:29,760 --> 02:32:33,920
uh you would expect there to be a little

3172
02:32:31,439 --> 02:32:36,840
bit of instability everywhere

3173
02:32:33,920 --> 02:32:39,920
um if it was like a bug bug like a you

3174
02:32:36,840 --> 02:32:41,439
know if it was a fairly obvious thing we

3175
02:32:39,920 --> 02:32:43,600
did wrong

3176
02:32:41,439 --> 02:32:44,720
so it kind of has to be maybe slightly

3177
02:32:43,600 --> 02:32:47,120
more subtle

3178
02:32:44,719 --> 02:32:48,799
this part

3179
02:32:47,120 --> 02:32:50,880
like why

3180
02:32:48,799 --> 02:32:54,159
you can like that doesn't make any sense

3181
02:32:50,879 --> 02:32:54,159
why is that getting brighter

3182
02:33:04,639 --> 02:33:08,559
if anything it should get darker because

3183
02:33:06,559 --> 02:33:10,000
there's less lights right like these

3184
02:33:08,559 --> 02:33:13,519
lights are going to fall out of the

3185
02:33:10,000 --> 02:33:13,520
solution about here

3186
02:33:15,439 --> 02:33:20,479
why is it brighter there for a second

3187
02:33:18,478 --> 02:33:22,879
there's something wrong where we're able

3188
02:33:20,478 --> 02:33:22,879
to like

3189
02:33:24,879 --> 02:33:29,599
someh somehow we're adding like to the

3190
02:33:27,520 --> 02:33:32,600
wrong atlas or something weird is

3191
02:33:29,600 --> 02:33:32,600
happening

3192
02:33:35,840 --> 02:33:38,840
uh

3193
02:34:03,200 --> 02:34:07,040
so what's happening here is like we're

3194
02:34:04,959 --> 02:34:11,199
getting some residual brightness sort of

3195
02:34:07,040 --> 02:34:11,200
like in this region right and

3196
02:34:12,398 --> 02:34:18,318
so if we look at like this cast

3197
02:34:16,000 --> 02:34:18,318
here

3198
02:34:23,600 --> 02:34:26,239
hmm

3199
02:34:24,229 --> 02:34:27,119
[Music]

3200
02:34:26,239 --> 02:34:29,039
so

3201
02:34:27,120 --> 02:34:32,079
i mean in theory though that should be

3202
02:34:29,040 --> 02:34:33,920
fine because this is just gonna this

3203
02:34:32,079 --> 02:34:36,318
will clamp

3204
02:34:33,920 --> 02:34:39,359
to the light atlas

3205
02:34:36,318 --> 02:34:43,279
so your sample point

3206
02:34:39,359 --> 02:34:45,520
would would just be here i think

3207
02:34:43,280 --> 02:34:46,399
maybe i'm very wrong about that but it's

3208
02:34:45,520 --> 02:34:48,800
but the

3209
02:34:46,398 --> 02:34:51,439
but the light atlas sampling is clamped

3210
02:34:48,799 --> 02:34:55,959
in the actual sampler

3211
02:34:51,439 --> 02:34:55,960
um let's keep looking though

3212
02:35:11,840 --> 02:35:13,920
you

3213
02:35:29,760 --> 02:35:33,840
so you know yeah i mean i i don't think

3214
02:35:32,239 --> 02:35:37,600
that's a problem because it should just

3215
02:35:33,840 --> 02:35:37,600
clamp back to here i don't know why

3216
02:35:38,000 --> 02:35:42,719
that would really be causing us any

3217
02:35:39,840 --> 02:35:42,719
problems

3218
02:35:43,120 --> 02:35:45,439
um

3219
02:35:45,840 --> 02:35:49,120
also

3220
02:35:46,799 --> 02:35:51,358
that's going to be a

3221
02:35:49,120 --> 02:35:52,319
t terminate which in theory shouldn't

3222
02:35:51,359 --> 02:35:55,559
sample

3223
02:35:52,318 --> 02:35:55,559
like so

3224
02:36:02,879 --> 02:36:10,000
if we look at the lighting code in grid

3225
02:36:07,040 --> 02:36:12,640
raycast we don't actually

3226
02:36:10,000 --> 02:36:14,159
like not only would we not

3227
02:36:12,639 --> 02:36:16,559
think that that was a problem but we're

3228
02:36:14,159 --> 02:36:18,719
nuking those right because hit ref color

3229
02:36:16,559 --> 02:36:20,478
and hit emission if you

3230
02:36:18,719 --> 02:36:24,079
the this is the case that's being hit

3231
02:36:20,478 --> 02:36:26,719
there spatial grid node terminator

3232
02:36:24,079 --> 02:36:28,000
so when we hit that we're actually going

3233
02:36:26,719 --> 02:36:29,039
to produce

3234
02:36:28,000 --> 02:36:31,920
zero

3235
02:36:29,040 --> 02:36:33,680
right maybe that's wrong but let's take

3236
02:36:31,920 --> 02:36:34,478
a look at what happens if we set that

3237
02:36:33,680 --> 02:36:37,120
right

3238
02:36:34,478 --> 02:36:39,279
because we'd fall out of

3239
02:36:37,120 --> 02:36:41,520
this case

3240
02:36:39,280 --> 02:36:41,520
um

3241
02:36:45,200 --> 02:36:48,960
and i guess something hit would be

3242
02:36:47,520 --> 02:36:51,120
this is what happens in the case where

3243
02:36:48,959 --> 02:36:52,079
you get something hit

3244
02:36:51,120 --> 02:36:53,760
right

3245
02:36:52,079 --> 02:36:56,318
if you don't get something hit then you

3246
02:36:53,760 --> 02:36:56,318
do this

3247
02:37:01,200 --> 02:37:05,680
uh and so both of those things would be

3248
02:37:02,799 --> 02:37:11,679
fine we'd end up out here

3249
02:37:05,680 --> 02:37:11,680
um we would we've have it all

3250
02:37:12,079 --> 02:37:17,680
uh we would end up out here doing a

3251
02:37:14,719 --> 02:37:19,358
bunch of work and coming down eventually

3252
02:37:17,680 --> 02:37:20,398
this is all the sampling and all that

3253
02:37:19,359 --> 02:37:23,040
crap

3254
02:37:20,398 --> 02:37:25,680
and we would eventually say

3255
02:37:23,040 --> 02:37:26,399
that we were going to take

3256
02:37:25,680 --> 02:37:28,639
uh

3257
02:37:26,398 --> 02:37:30,239
the ray weight times the transmission

3258
02:37:28,639 --> 02:37:33,840
level

3259
02:37:30,239 --> 02:37:33,840
and the hit ref color

3260
02:37:37,280 --> 02:37:42,720
the transmission level is just a reflect

3261
02:37:39,200 --> 02:37:42,720
level versus the emission level

3262
02:37:44,799 --> 02:37:51,079
so like it seems like if as long as this

3263
02:37:47,920 --> 02:37:51,079
is zero

3264
02:38:07,359 --> 02:38:11,760
i mean we shouldn't have even had to set

3265
02:38:09,600 --> 02:38:13,520
both of them as long as hit ref color is

3266
02:38:11,760 --> 02:38:16,639
set to zero it should not be able to

3267
02:38:13,520 --> 02:38:16,640
accumulate anything

3268
02:38:20,559 --> 02:38:24,159
it's just it's just zero

3269
02:38:24,239 --> 02:38:28,318
so those are actually going to just be

3270
02:38:26,719 --> 02:38:30,639
zero

3271
02:38:28,318 --> 02:38:30,639
um

3272
02:38:32,398 --> 02:38:36,719
and i suppose one thing we could do here

3273
02:38:34,398 --> 02:38:39,039
is we could draw this with the color

3274
02:38:36,719 --> 02:38:40,799
that we actually found

3275
02:38:39,040 --> 02:38:43,520
um

3276
02:38:40,799 --> 02:38:46,239
as well

3277
02:38:43,520 --> 02:38:49,040
like we could put hit ref color as the

3278
02:38:46,239 --> 02:38:50,318
thing that we draw just to be sure

3279
02:38:49,040 --> 02:38:51,200
but

3280
02:38:50,318 --> 02:38:54,159
you know

3281
02:38:51,200 --> 02:38:58,399
this this just isn't going to contribute

3282
02:38:54,159 --> 02:39:00,318
so i just fundamentally do not know

3283
02:38:58,398 --> 02:39:02,559
where we're getting

3284
02:39:00,318 --> 02:39:04,959
any of this light from

3285
02:39:02,559 --> 02:39:04,959
um

3286
02:39:06,559 --> 02:39:12,719
like how are we getting

3287
02:39:09,120 --> 02:39:12,720
more light in this area

3288
02:39:22,879 --> 02:39:28,719
let's because we can let's take a look

3289
02:39:26,318 --> 02:39:30,239
uh while we're in this exact place where

3290
02:39:28,719 --> 02:39:33,760
we see this bug

3291
02:39:30,239 --> 02:39:36,318
let's look at the uh the

3292
02:39:33,760 --> 02:39:39,439
in the in the lighting code

3293
02:39:36,318 --> 02:39:43,359
uh let's look at the debug draw

3294
02:39:39,439 --> 02:39:45,920
octahedral values as well so if we turn

3295
02:39:43,359 --> 02:39:45,920
those on

3296
02:39:46,000 --> 02:39:50,318
where is it claiming that the light is

3297
02:39:47,840 --> 02:39:50,318
coming from

3298
02:39:51,280 --> 02:39:55,520
so it's claiming that the light is

3299
02:39:53,200 --> 02:39:56,560
coming from here

3300
02:39:55,520 --> 02:39:58,319
right

3301
02:39:56,559 --> 02:40:01,439
it's claiming that we're getting that

3302
02:39:58,318 --> 02:40:02,559
light by casting through the wall

3303
02:40:01,439 --> 02:40:04,960
and

3304
02:40:02,559 --> 02:40:08,879
so even though we can't actually find an

3305
02:40:04,959 --> 02:40:10,000
example of us casting through the wall

3306
02:40:08,879 --> 02:40:12,000
um

3307
02:40:10,000 --> 02:40:15,520
we are nonetheless

3308
02:40:12,000 --> 02:40:15,520
casting through the wall somehow

3309
02:40:16,000 --> 02:40:21,840
this one seems brightest so let's look

3310
02:40:19,439 --> 02:40:21,840
at that one

3311
02:40:28,159 --> 02:40:31,159
like

3312
02:40:35,680 --> 02:40:43,000
we need to like show me all the casts

3313
02:40:39,439 --> 02:40:43,000
in just this big

3314
02:40:53,600 --> 02:40:57,840
i don't know man i don't know how it's

3315
02:40:55,920 --> 02:40:59,520
like it's

3316
02:40:57,840 --> 02:41:02,960
claiming it's getting the light from

3317
02:40:59,520 --> 02:41:05,600
there but we actually can look at the

3318
02:41:02,959 --> 02:41:08,639
light values and we don't

3319
02:41:05,600 --> 02:41:10,559
seem to get the light from there maybe

3320
02:41:08,639 --> 02:41:11,599
is it possible that actually what's

3321
02:41:10,559 --> 02:41:14,719
happening

3322
02:41:11,600 --> 02:41:17,040
is that our sampler is messed up so it's

3323
02:41:14,719 --> 02:41:19,760
it's actually

3324
02:41:17,040 --> 02:41:19,760
maybe okay

3325
02:41:20,879 --> 02:41:27,278
maybe the problem is that our sampler is

3326
02:41:24,159 --> 02:41:28,639
actually sampling offset from where

3327
02:41:27,279 --> 02:41:31,200
we actually

3328
02:41:28,639 --> 02:41:34,159
hit

3329
02:41:31,200 --> 02:41:36,319
how about that for a

3330
02:41:34,159 --> 02:41:39,920
stupid idea

3331
02:41:36,318 --> 02:41:42,639
so in this like ridiculous code here

3332
02:41:39,920 --> 02:41:45,639
where we're taking the

3333
02:41:42,639 --> 02:41:45,639
um

3334
02:41:45,680 --> 02:41:49,040
you know

3335
02:41:47,120 --> 02:41:51,760
here's here's the total bounds like

3336
02:41:49,040 --> 02:41:52,800
we're offsetting it from there whatever

3337
02:41:51,760 --> 02:41:54,318
right

3338
02:41:52,799 --> 02:41:57,119
uh we do

3339
02:41:54,318 --> 02:41:59,199
our you know our sampling code this kind

3340
02:41:57,120 --> 02:42:02,240
of nonsense

3341
02:41:59,200 --> 02:42:05,840
is it possible that somehow this code

3342
02:42:02,239 --> 02:42:09,478
when it goes to get the atlas out of it

3343
02:42:05,840 --> 02:42:09,478
that that is wrong

3344
02:42:37,040 --> 02:42:42,479
so i guess the first question i would

3345
02:42:39,680 --> 02:42:46,200
have is why the heck is the spatial grid

3346
02:42:42,478 --> 02:42:46,199
involved in this computation

3347
02:43:02,959 --> 02:43:08,438
so

3348
02:43:04,079 --> 02:43:08,439
maybe this code is just wrong

3349
02:43:09,040 --> 02:43:14,560
did we just never realize

3350
02:43:12,239 --> 02:43:14,559
that

3351
02:43:15,920 --> 02:43:18,960
did we just never realize that we had

3352
02:43:17,600 --> 02:43:20,840
this code wrong when we switched to

3353
02:43:18,959 --> 02:43:24,079
these being

3354
02:43:20,840 --> 02:43:26,239
staggered because if you think about it

3355
02:43:24,079 --> 02:43:28,478
the spatial grid

3356
02:43:26,239 --> 02:43:31,439
that should not be involved anymore

3357
02:43:28,478 --> 02:43:33,119
because the spatial grid is not aligned

3358
02:43:31,439 --> 02:43:36,600
to the atlas at all it's a completely

3359
02:43:33,120 --> 02:43:36,600
different grid

3360
02:43:36,959 --> 02:43:40,559
right

3361
02:43:38,719 --> 02:43:42,799
and it's very possible that when we

3362
02:43:40,559 --> 02:43:43,840
wrote this code originally they were the

3363
02:43:42,799 --> 02:43:45,759
same

3364
02:43:43,840 --> 02:43:47,840
and because it's like super optimized

3365
02:43:45,760 --> 02:43:49,200
code like all of our stuff is gone like

3366
02:43:47,840 --> 02:43:51,200
things we would have normally done to

3367
02:43:49,200 --> 02:43:53,120
like assert or check

3368
02:43:51,200 --> 02:43:55,120
is very hard to do because simdee you

3369
02:43:53,120 --> 02:43:56,079
know one of the super crappy things

3370
02:43:55,120 --> 02:43:57,600
about the way you have to program

3371
02:43:56,079 --> 02:43:59,840
nowadays is when you actually go to

3372
02:43:57,600 --> 02:44:01,840
optimize something simdi-wise

3373
02:43:59,840 --> 02:44:03,600
you get screwed

3374
02:44:01,840 --> 02:44:05,040
everything becomes very hard to assert

3375
02:44:03,600 --> 02:44:07,279
and debug and all these other sorts of

3376
02:44:05,040 --> 02:44:07,279
things

3377
02:44:12,159 --> 02:44:16,879
but that could be

3378
02:44:14,318 --> 02:44:19,039
our well not exactly our problem but

3379
02:44:16,879 --> 02:44:20,398
like in that case

3380
02:44:19,040 --> 02:44:22,960
that we just saw

3381
02:44:20,398 --> 02:44:26,079
that could be the problem um hold on a

3382
02:44:22,959 --> 02:44:27,358
second let's take a look at this

3383
02:44:26,079 --> 02:44:31,639
so let's

3384
02:44:27,359 --> 02:44:31,640
reproduce that uh

3385
02:44:32,318 --> 02:44:35,680
that would make sense that so that would

3386
02:44:34,559 --> 02:44:36,879
totally

3387
02:44:35,680 --> 02:44:37,680
fit

3388
02:44:36,879 --> 02:44:38,639
with

3389
02:44:37,680 --> 02:44:39,680
why

3390
02:44:38,639 --> 02:44:43,599
um

3391
02:44:39,680 --> 02:44:46,479
it it it gets wrong as you stagger out

3392
02:44:43,600 --> 02:44:49,120
right as you go on half boundaries this

3393
02:44:46,478 --> 02:44:52,159
code is wrong

3394
02:44:49,120 --> 02:44:53,840
um because it's not using the correct

3395
02:44:52,159 --> 02:44:55,680
thing so i'm going to go ahead and say

3396
02:44:53,840 --> 02:44:58,079
that that's our problem it's not

3397
02:44:55,680 --> 02:45:01,840
probably our only problem but that is a

3398
02:44:58,079 --> 02:45:01,840
big part of the bug

3399
02:45:03,040 --> 02:45:07,840
yeah this is just wrong

3400
02:45:05,359 --> 02:45:10,079
so everything after this is probably

3401
02:45:07,840 --> 02:45:12,000
correct because everything else is done

3402
02:45:10,079 --> 02:45:13,680
relative to the atlas

3403
02:45:12,000 --> 02:45:16,239
like it should be

3404
02:45:13,680 --> 02:45:19,120
but this is totally wrong because this

3405
02:45:16,239 --> 02:45:23,039
is not the bounds of the atlas and this

3406
02:45:19,120 --> 02:45:23,040
is not the dimensions of the cell

3407
02:45:23,439 --> 02:45:26,439
right

3408
02:45:51,920 --> 02:45:54,920
okay

3409
02:45:57,200 --> 02:46:01,120
i i think i'm

3410
02:45:58,639 --> 02:46:01,969
definitely right about that

3411
02:46:01,120 --> 02:46:05,120
so

3412
02:46:01,969 --> 02:46:05,119
[Music]

3413
02:46:06,318 --> 02:46:10,959
taking a look at the lighting solution

3414
02:46:09,120 --> 02:46:12,640
the grid that we actually want is the

3415
02:46:10,959 --> 02:46:14,159
atlas grid

3416
02:46:12,639 --> 02:46:17,199
why do we just have something called

3417
02:46:14,159 --> 02:46:19,200
grid when we have two two grids is a

3418
02:46:17,200 --> 02:46:21,520
very good question

3419
02:46:19,200 --> 02:46:21,520
grid

3420
02:46:23,120 --> 02:46:28,240
what the heck is grid

3421
02:46:25,680 --> 02:46:30,398
maybe we picked the right grid there and

3422
02:46:28,239 --> 02:46:32,478
then and i'm totally wrong and that's

3423
02:46:30,398 --> 02:46:34,318
the case then oh well

3424
02:46:32,478 --> 02:46:36,239
uh we did not find

3425
02:46:34,318 --> 02:46:39,680
where is it

3426
02:46:36,239 --> 02:46:41,439
all right i lied so grid actually is

3427
02:46:39,680 --> 02:46:43,760
atlas grid

3428
02:46:41,439 --> 02:46:44,720
so we're okay there

3429
02:46:43,760 --> 02:46:46,880
um

3430
02:46:44,719 --> 02:46:50,119
or at least i think we are but we should

3431
02:46:46,879 --> 02:46:50,119
make sure

3432
02:46:53,600 --> 02:46:56,559
meanwhile i'm going to change this to

3433
02:46:55,040 --> 02:46:59,279
atlas grid so that i don't have this

3434
02:46:56,559 --> 02:46:59,278
confusion again

3435
02:47:02,318 --> 02:47:04,799
i'm

3436
02:47:03,279 --> 02:47:07,680
still kind of weirded out by this stuff

3437
02:47:04,799 --> 02:47:09,358
so i'm not sure i really believe it yet

3438
02:47:07,680 --> 02:47:11,200
i still think maybe this code is

3439
02:47:09,359 --> 02:47:13,439
slightly wrong

3440
02:47:11,200 --> 02:47:13,439
um

3441
02:47:15,600 --> 02:47:18,840
in fact

3442
02:47:24,159 --> 02:47:29,840
in fact i know it's slightly wrong

3443
02:47:27,040 --> 02:47:32,080
because look at how this is being done

3444
02:47:29,840 --> 02:47:35,840
yeah yeah yeah yeah yeah

3445
02:47:32,079 --> 02:47:35,840
this is definitely wrong

3446
02:47:37,680 --> 02:47:40,880
it's it's still wrong

3447
02:47:39,920 --> 02:47:43,120
so

3448
02:47:40,879 --> 02:47:45,199
if you look at how we're choosing where

3449
02:47:43,120 --> 02:47:49,600
we're going to sample you can see that

3450
02:47:45,200 --> 02:47:51,840
the corners of this thing are based on

3451
02:47:49,600 --> 02:47:51,840
like

3452
02:47:53,120 --> 02:47:58,479
like do we know that this grid how did

3453
02:47:55,359 --> 02:48:00,399
we actually position this grid exactly

3454
02:47:58,478 --> 02:48:03,719
let's okay

3455
02:48:00,398 --> 02:48:03,719
not exactly

3456
02:48:07,920 --> 02:48:11,200
so let's take a look

3457
02:48:10,318 --> 02:48:12,478
at

3458
02:48:11,200 --> 02:48:16,240
the

3459
02:48:12,478 --> 02:48:20,398
literal alignment of the yeah i mean

3460
02:48:16,239 --> 02:48:22,239
like so you can see this is just

3461
02:48:20,398 --> 02:48:26,719
we're confused

3462
02:48:22,239 --> 02:48:27,760
we have confusion baked into our system

3463
02:48:26,719 --> 02:48:28,639
this

3464
02:48:27,760 --> 02:48:30,960
thing

3465
02:48:28,639 --> 02:48:33,199
whatever the heck this is supposed to be

3466
02:48:30,959 --> 02:48:34,079
right

3467
02:48:33,200 --> 02:48:36,399
this

3468
02:48:34,079 --> 02:48:38,879
cyan region

3469
02:48:36,398 --> 02:48:41,519
so if we look at let's just work it

3470
02:48:38,879 --> 02:48:43,599
forwards and because i'm pretty sure now

3471
02:48:41,520 --> 02:48:45,439
i'm right i mean i'm right that

3472
02:48:43,600 --> 02:48:47,439
that there's something

3473
02:48:45,439 --> 02:48:50,960
uh

3474
02:48:47,439 --> 02:48:53,520
off-center about the way this is working

3475
02:48:50,959 --> 02:48:56,879
so if we look at what is actually

3476
02:48:53,520 --> 02:49:00,319
drawing the that code uh

3477
02:48:56,879 --> 02:49:01,358
it is the sign that cyan boundary

3478
02:49:00,318 --> 02:49:04,159
is

3479
02:49:01,359 --> 02:49:06,800
like the lighting bounds which i don't

3480
02:49:04,159 --> 02:49:09,039
remember who draws those

3481
02:49:06,799 --> 02:49:13,478
so we should double check it might be in

3482
02:49:09,040 --> 02:49:13,479
an update lighting actually uh

3483
02:49:13,760 --> 02:49:16,478
let me just see

3484
02:49:23,439 --> 02:49:27,680
yeah

3485
02:49:24,719 --> 02:49:30,159
so this is drawing

3486
02:49:27,680 --> 02:49:32,479
that's this code

3487
02:49:30,159 --> 02:49:36,639
there's the total bounds of the spatial

3488
02:49:32,478 --> 02:49:36,639
grid being drawn in green

3489
02:49:37,840 --> 02:49:43,680
uh and there's the hot voxel erect

3490
02:49:41,520 --> 02:49:45,920
being drawn in cyan

3491
02:49:43,680 --> 02:49:45,920
right

3492
02:49:46,478 --> 02:49:51,159
uh and that hot voxel wrecked

3493
02:49:56,159 --> 02:50:01,600
i don't know why that got offset

3494
02:49:58,000 --> 02:50:04,879
is the atlas grid total bounce

3495
02:50:01,600 --> 02:50:06,960
and so you can kind of immediately see

3496
02:50:04,879 --> 02:50:09,839
what we screwed up

3497
02:50:06,959 --> 02:50:09,839
right

3498
02:50:11,200 --> 02:50:15,409
supposedly

3499
02:50:12,200 --> 02:50:15,409
[Music]

3500
02:50:19,840 --> 02:50:24,719
our light samples are being taken from

3501
02:50:22,239 --> 02:50:26,639
like these points

3502
02:50:24,719 --> 02:50:30,799
right

3503
02:50:26,639 --> 02:50:33,039
but the actual location is like

3504
02:50:30,799 --> 02:50:36,438
when we sample we're sampling as if

3505
02:50:33,040 --> 02:50:36,439
they're here

3506
02:50:36,719 --> 02:50:38,959
right

3507
02:50:42,239 --> 02:50:47,039
so we're

3508
02:50:43,680 --> 02:50:50,639
totally we're like sampling in one place

3509
02:50:47,040 --> 02:50:53,439
where we're taking samples from

3510
02:50:50,639 --> 02:50:56,318
or casting rays from a location and

3511
02:50:53,439 --> 02:50:59,520
writing back a result for that

3512
02:50:56,318 --> 02:51:01,359
uh atlas point but then were sampling

3513
02:50:59,520 --> 02:51:03,120
from it as if it was in a totally other

3514
02:51:01,359 --> 02:51:06,800
place

3515
02:51:03,120 --> 02:51:09,439
right so this square

3516
02:51:06,799 --> 02:51:11,358
these samples are as if they were out

3517
02:51:09,439 --> 02:51:14,239
here which is totally not where we

3518
02:51:11,359 --> 02:51:16,079
actually took them from so the raycast

3519
02:51:14,239 --> 02:51:18,719
doesn't line up

3520
02:51:16,079 --> 02:51:20,799
where we are casting the rays is not

3521
02:51:18,719 --> 02:51:24,159
related to where we actually then

3522
02:51:20,799 --> 02:51:24,159
pretend those light values are

3523
02:51:28,478 --> 02:51:32,358
you you feel me dog

3524
02:51:32,398 --> 02:51:35,920
so that's that's the problem

3525
02:51:37,600 --> 02:51:40,239
like period

3526
02:51:40,398 --> 02:51:43,278
um

3527
02:51:41,760 --> 02:51:46,478
so we need to go

3528
02:51:43,279 --> 02:51:48,720
resolve that we need to go be very

3529
02:51:46,478 --> 02:51:51,438
meticulous and make sure that everybody

3530
02:51:48,719 --> 02:51:53,760
has their ducks in a row about

3531
02:51:51,439 --> 02:51:55,920
where the samples are taken versus where

3532
02:51:53,760 --> 02:51:57,680
the samples are written

3533
02:51:55,920 --> 02:52:00,000
right

3534
02:51:57,680 --> 02:52:01,439
so uh i vote for a quick break we've

3535
02:52:00,000 --> 02:52:04,079
been streaming for three and a half

3536
02:52:01,439 --> 02:52:06,159
hours uh let's do a quick break and

3537
02:52:04,079 --> 02:52:08,719
we're gonna come back and do that uh

3538
02:52:06,159 --> 02:52:11,439
because that is almost certainly

3539
02:52:08,719 --> 02:52:13,519
uh at the very least what's causing this

3540
02:52:11,439 --> 02:52:15,520
brightening and that weird remember i

3541
02:52:13,520 --> 02:52:17,600
said like that should not be flickering

3542
02:52:15,520 --> 02:52:20,079
like that that is almost certainly

3543
02:52:17,600 --> 02:52:23,120
what's happening there is as you move it

3544
02:52:20,079 --> 02:52:26,159
around the alignment of the grid versus

3545
02:52:23,120 --> 02:52:28,000
the samples is moving and so sometimes

3546
02:52:26,159 --> 02:52:29,920
you end up sampling on one side of a

3547
02:52:28,000 --> 02:52:31,840
wall and recording the results on the

3548
02:52:29,920 --> 02:52:33,359
other side of the wall right or things

3549
02:52:31,840 --> 02:52:34,719
like that

3550
02:52:33,359 --> 02:52:35,840
that's going to be why you're getting

3551
02:52:34,719 --> 02:52:37,519
that

3552
02:52:35,840 --> 02:52:38,719
that happening

3553
02:52:37,520 --> 02:52:40,159
i don't know if this has anything to do

3554
02:52:38,719 --> 02:52:41,920
with our light leak problem so i can't

3555
02:52:40,159 --> 02:52:43,840
promise it'll solve that but this is a

3556
02:52:41,920 --> 02:52:45,200
big problem so let's solve this first

3557
02:52:43,840 --> 02:52:46,639
and then we can

3558
02:52:45,200 --> 02:52:48,000
maybe go back to looking at the light

3559
02:52:46,639 --> 02:52:51,239
leak problem all right

3560
02:52:48,000 --> 02:52:51,239
break time

3561
02:52:51,280 --> 02:53:05,739
[Music]

3562
02:53:06,959 --> 02:53:10,000
oh

3563
02:53:08,809 --> 02:53:13,000
[Music]

3564
02:53:10,000 --> 02:53:13,000
oh

3565
02:53:13,420 --> 02:54:52,578
[Music]

3566
02:54:49,510 --> 02:54:52,578
[Applause]

3567
02:54:54,479 --> 02:55:24,279
[Music]

3568
02:55:26,000 --> 02:55:29,000
um

3569
02:55:41,600 --> 02:56:44,159
foreign

3570
02:55:43,540 --> 02:56:47,160
[Music]

3571
02:56:44,159 --> 02:56:47,159
hmm

3572
02:57:08,559 --> 02:57:12,159
if you don't i mean what else do you

3573
02:57:10,318 --> 02:57:14,318
want me to do i don't know what you want

3574
02:57:12,159 --> 02:57:16,879
me to do for

3575
02:57:14,318 --> 02:57:16,879
a break

3576
02:57:17,120 --> 02:57:45,279
you want this instead

3577
02:57:19,100 --> 02:57:46,720
[Music]

3578
02:57:45,279 --> 02:57:49,720
i mean that's your other option right

3579
02:57:46,719 --> 02:57:49,719
now

3580
02:57:58,879 --> 02:58:02,000
cody oh yeah

3581
02:58:00,799 --> 02:58:05,840
you want

3582
02:58:02,000 --> 02:58:05,840
you want cody to do it

3583
02:58:06,799 --> 02:58:13,599
do you want do you want a uh do you want

3584
02:58:09,359 --> 02:58:13,600
a product placement for a um

3585
02:58:13,920 --> 02:58:16,318
uh

3586
02:58:14,180 --> 02:58:21,079
[Music]

3587
02:58:16,318 --> 02:58:21,079
um for a vpn

3588
02:58:45,600 --> 02:58:49,359
i didn't realize um

3589
02:58:48,079 --> 02:58:52,079
like someone said the will smith

3590
02:58:49,359 --> 02:58:52,079
approaching thing

3591
02:58:52,478 --> 02:58:58,719
uh i i didn't know

3592
02:58:54,959 --> 02:59:00,639
what the academy actually was i think

3593
02:58:58,719 --> 02:59:02,559
i was under the impression because like

3594
02:59:00,639 --> 02:59:04,000
he resigned from the academy right and

3595
02:59:02,559 --> 02:59:06,719
maybe they would have kicked him out you

3596
02:59:04,000 --> 02:59:08,879
know because of the incident or whatever

3597
02:59:06,719 --> 02:59:12,639
um

3598
02:59:08,879 --> 02:59:15,358
i think i thought the academy awards

3599
02:59:12,639 --> 02:59:17,358
were like a union award thing like you

3600
02:59:15,359 --> 02:59:18,318
know there's a street screen actors

3601
02:59:17,359 --> 02:59:20,960
guild

3602
02:59:18,318 --> 02:59:22,639
or like the writer's uh guild

3603
02:59:20,959 --> 02:59:25,278
association of america or writer's guild

3604
02:59:22,639 --> 02:59:28,959
of america or whatever it is wga

3605
02:59:25,279 --> 02:59:30,319
the sag and wga right

3606
02:59:28,959 --> 02:59:32,559
um

3607
02:59:30,318 --> 02:59:35,600
i think i thought that it was the the

3608
02:59:32,559 --> 02:59:38,318
award was like union like the union

3609
02:59:35,600 --> 02:59:39,760
was that like like union members voted

3610
02:59:38,318 --> 02:59:40,879
or some i think that's what i thought

3611
02:59:39,760 --> 02:59:44,079
like i thought like oh yeah the

3612
02:59:40,879 --> 02:59:45,599
screenplay like the wga members vote on

3613
02:59:44,079 --> 02:59:48,079
best screenplay or something that's what

3614
02:59:45,600 --> 02:59:49,040
i thought right

3615
02:59:48,079 --> 02:59:51,840
um

3616
02:59:49,040 --> 02:59:53,600
but actually

3617
02:59:51,840 --> 02:59:55,359
um

3618
02:59:53,600 --> 02:59:57,120
after this whole incident i looked it up

3619
02:59:55,359 --> 03:00:02,479
and it's like that's not what the

3620
02:59:57,120 --> 03:00:05,279
academy is the academy is literally just

3621
03:00:02,478 --> 03:00:06,478
like a separate organization for them to

3622
03:00:05,279 --> 03:00:10,399
like

3623
03:00:06,478 --> 03:00:12,639
gladhand each other

3624
03:00:10,398 --> 03:00:14,799
like if there's nothing it's not a real

3625
03:00:12,639 --> 03:00:17,278
thing like the academy awards the

3626
03:00:14,799 --> 03:00:19,199
academy of motion picture arts science

3627
03:00:17,279 --> 03:00:20,960
or whatever is is literally just a

3628
03:00:19,200 --> 03:00:23,760
completely separate organization for

3629
03:00:20,959 --> 03:00:25,278
giving themselves awards

3630
03:00:23,760 --> 03:00:27,680
i guess

3631
03:00:25,279 --> 03:00:30,239
it it it's not actually one of the

3632
03:00:27,680 --> 03:00:31,680
unions i i thought

3633
03:00:30,239 --> 03:00:33,680
i i

3634
03:00:31,680 --> 03:00:35,439
am so weirded out

3635
03:00:33,680 --> 03:00:37,600
by the academy

3636
03:00:35,439 --> 03:00:40,720
it's it's like it's literally just a

3637
03:00:37,600 --> 03:00:45,439
separate glad-handing organization

3638
03:00:40,719 --> 03:00:45,438
for for like giving themselves awards

3639
03:00:45,520 --> 03:00:49,120
um

3640
03:00:47,040 --> 03:00:53,200
like it's it sounds very much like the

3641
03:00:49,120 --> 03:00:56,640
game awards in that sense only only it's

3642
03:00:53,200 --> 03:00:56,640
somehow been legitimated

3643
03:00:57,120 --> 03:01:01,040
so so like i think we should start our

3644
03:00:58,959 --> 03:01:02,398
own organization like

3645
03:01:01,040 --> 03:01:05,200
here on handmade hero called the

3646
03:01:02,398 --> 03:01:07,358
handmade hero awards and and shockingly

3647
03:01:05,200 --> 03:01:09,760
all of the awards will go to handmade

3648
03:01:07,359 --> 03:01:09,760
hero

3649
03:01:17,439 --> 03:01:21,439
anyway i thought that was pretty funny i

3650
03:01:19,439 --> 03:01:23,840
didn't realize that

3651
03:01:21,439 --> 03:01:23,840
so like

3652
03:01:24,398 --> 03:01:28,639
saying you won best picture

3653
03:01:26,398 --> 03:01:30,079
means that all of the people who decided

3654
03:01:28,639 --> 03:01:31,840
they wanted to be part of an

3655
03:01:30,079 --> 03:01:35,840
organization that gives best picture

3656
03:01:31,840 --> 03:01:35,840
voted to give you best picture

3657
03:01:37,120 --> 03:01:41,479
it's so interestingly self-selecting

3658
03:01:53,760 --> 03:01:57,520
i don't know if we'd have we've never

3659
03:01:55,359 --> 03:01:59,200
had anyone slap anyone else on handmade

3660
03:01:57,520 --> 03:02:01,200
hero

3661
03:01:59,200 --> 03:02:02,479
but that's probably because it's just me

3662
03:02:01,200 --> 03:02:04,720
and i'm not probably going to slap

3663
03:02:02,478 --> 03:02:07,719
myself like oh like you know i don't

3664
03:02:04,719 --> 03:02:07,719
know

3665
03:02:17,760 --> 03:02:21,120
i mean really if we wanted to do

3666
03:02:19,359 --> 03:02:22,559
something like the game awards it from

3667
03:02:21,120 --> 03:02:24,399
what i've seen the game awards are like

3668
03:02:22,559 --> 03:02:25,680
just a giant advertisement like no one

3669
03:02:24,398 --> 03:02:28,079
cares about the awards they're just

3670
03:02:25,680 --> 03:02:30,639
there to advertise new games or whatever

3671
03:02:28,079 --> 03:02:32,639
so we could also go that route instead

3672
03:02:30,639 --> 03:02:34,719
where like handmade hero awards are

3673
03:02:32,639 --> 03:02:36,879
literally just me like pimping the

3674
03:02:34,719 --> 03:02:38,318
stream for an hour right it's just like

3675
03:02:36,879 --> 03:02:39,759
talking about exciting things we're

3676
03:02:38,318 --> 03:02:40,799
gonna do on the stream

3677
03:02:39,760 --> 03:02:42,398
later

3678
03:02:40,799 --> 03:02:43,920
so like even though it's an award show

3679
03:02:42,398 --> 03:02:45,920
which is supposed to be for things that

3680
03:02:43,920 --> 03:02:47,200
already happened instead mostly all we

3681
03:02:45,920 --> 03:02:50,079
talk about is things that are gonna

3682
03:02:47,200 --> 03:02:50,079
happen someday

3683
03:02:53,040 --> 03:02:56,479
well

3684
03:02:54,959 --> 03:02:58,719
speaking of things that are gonna happen

3685
03:02:56,478 --> 03:03:00,478
someday

3686
03:02:58,719 --> 03:03:02,639
let's make one of those things gonna

3687
03:03:00,478 --> 03:03:03,599
happen someday is us fixing this stupid

3688
03:03:02,639 --> 03:03:05,920
problem

3689
03:03:03,600 --> 03:03:05,920
okay

3690
03:03:06,478 --> 03:03:08,719
so

3691
03:03:09,680 --> 03:03:14,000
let's start with me being really

3692
03:03:11,439 --> 03:03:16,398
freaking confused about the sampling

3693
03:03:14,000 --> 03:03:20,799
so somehow when we sample

3694
03:03:16,398 --> 03:03:20,799
the rays from one of these places

3695
03:03:20,959 --> 03:03:26,239
i guess it's because we're calling get

3696
03:03:22,639 --> 03:03:28,079
cell center p

3697
03:03:26,239 --> 03:03:31,079
must be the reason for that

3698
03:03:28,079 --> 03:03:31,079
right

3699
03:03:43,040 --> 03:03:48,080
i mean i guess not really

3700
03:03:46,239 --> 03:03:49,920
that's just the spatial grid

3701
03:03:48,079 --> 03:03:52,398
so it's really actually the place

3702
03:03:49,920 --> 03:03:54,879
outside of this it's the

3703
03:03:52,398 --> 03:03:57,358
um

3704
03:03:54,879 --> 03:04:00,799
it's the part that's actually telling us

3705
03:03:57,359 --> 03:04:03,359
what location we want to cast from

3706
03:04:00,799 --> 03:04:04,559
so when we call it's actually when we

3707
03:04:03,359 --> 03:04:06,159
call

3708
03:04:04,559 --> 03:04:06,959
grid raycast

3709
03:04:06,159 --> 03:04:08,639
the

3710
03:04:06,959 --> 03:04:11,278
call site

3711
03:04:08,639 --> 03:04:14,079
this part here

3712
03:04:11,279 --> 03:04:15,760
uh that's doing the full cast that like

3713
03:04:14,079 --> 03:04:17,120
vox center p

3714
03:04:15,760 --> 03:04:18,960
uh

3715
03:04:17,120 --> 03:04:20,840
that that's actually what's creating

3716
03:04:18,959 --> 03:04:25,239
this this

3717
03:04:20,840 --> 03:04:25,239
situation right

3718
03:04:39,920 --> 03:04:42,960
ryan

3719
03:04:41,120 --> 03:04:45,120
i like that

3720
03:04:42,959 --> 03:04:46,639
yes

3721
03:04:45,120 --> 03:04:49,640
yes

3722
03:04:46,639 --> 03:04:49,639
exactly

3723
03:04:58,478 --> 03:05:00,719
so

3724
03:05:02,639 --> 03:05:08,318
that cell center p

3725
03:05:05,600 --> 03:05:12,000
is total horse poop

3726
03:05:08,318 --> 03:05:15,000
and probably has been for a while

3727
03:05:12,000 --> 03:05:15,000
right

3728
03:05:19,200 --> 03:05:23,120
by the way i'm eating peanut butter

3729
03:05:20,959 --> 03:05:26,358
pretzels

3730
03:05:23,120 --> 03:05:26,359
from costco

3731
03:05:32,398 --> 03:05:36,318
basically costco

3732
03:05:34,639 --> 03:05:37,680
i need to get a costco sponsorship from

3733
03:05:36,318 --> 03:05:38,879
the stream

3734
03:05:37,680 --> 03:05:41,840
because a lot of things i eat on the

3735
03:05:38,879 --> 03:05:41,839
stream are from costco

3736
03:05:44,318 --> 03:05:49,840
but i'm not getting paid where's my

3737
03:05:46,559 --> 03:05:49,840
costco sponsorship money

3738
03:05:52,559 --> 03:05:55,519
that's what i want to know

3739
03:05:57,120 --> 03:06:01,840
like how come we don't have little

3740
03:05:58,239 --> 03:06:01,840
costco banner and stuff right

3741
03:06:02,000 --> 03:06:06,879
where's those sweet costco monies

3742
03:06:05,680 --> 03:06:09,439
i don't think i've ever seen a streamer

3743
03:06:06,879 --> 03:06:10,879
sponsored by costco so

3744
03:06:09,439 --> 03:06:14,439
probably not gonna make that work but

3745
03:06:10,879 --> 03:06:14,438
you know i'm just saying

3746
03:06:15,200 --> 03:06:22,560
yeah you should talk to mr costco

3747
03:06:18,639 --> 03:06:24,959
let's get mr costco on the phone

3748
03:06:22,559 --> 03:06:27,959
let's make that happen okay

3749
03:06:24,959 --> 03:06:27,959
so

3750
03:06:28,000 --> 03:06:33,760
this is just a giant horse poop pile

3751
03:06:31,279 --> 03:06:35,680
because we're casting out of the center

3752
03:06:33,760 --> 03:06:37,520
of a grid square but we don't write the

3753
03:06:35,680 --> 03:06:38,800
sample values back to the center of the

3754
03:06:37,520 --> 03:06:40,800
grid square we write them back to the

3755
03:06:38,799 --> 03:06:43,438
corner of the grid square so how what

3756
03:06:40,799 --> 03:06:45,199
sense does that make

3757
03:06:43,439 --> 03:06:47,600
right

3758
03:06:45,200 --> 03:06:50,240
not very much

3759
03:06:47,600 --> 03:06:52,479
not very much at all

3760
03:06:50,239 --> 03:06:52,478
so

3761
03:06:55,200 --> 03:06:58,560
i mean we can start

3762
03:06:56,799 --> 03:07:01,119
by asking the question of why does that

3763
03:06:58,559 --> 03:07:02,398
call even exist why would we ever get

3764
03:07:01,120 --> 03:07:05,439
the center

3765
03:07:02,398 --> 03:07:05,439
of an atlas grid

3766
03:07:07,120 --> 03:07:11,840
i mean i guess because we want that for

3767
03:07:09,040 --> 03:07:11,840
other reasons

3768
03:07:13,520 --> 03:07:17,239
but it's just garbage

3769
03:07:29,439 --> 03:07:34,359
like i don't i don't see the point of it

3770
03:07:31,359 --> 03:07:34,359
so

3771
03:07:39,279 --> 03:07:43,040
if i may

3772
03:07:40,639 --> 03:07:45,199
uh i think we need to start by uh doing

3773
03:07:43,040 --> 03:07:47,200
something like let's not do that and

3774
03:07:45,200 --> 03:07:49,200
let's just get them in corner

3775
03:07:47,200 --> 03:07:51,120
you know what i'm saying to you

3776
03:07:49,200 --> 03:07:53,600
uh let's go over here to the mr light

3777
03:07:51,120 --> 03:07:56,560
atlas sun

3778
03:07:53,600 --> 03:07:58,640
uh and let's figure out if uh there's a

3779
03:07:56,559 --> 03:08:01,439
reason why we're we're calling this oh

3780
03:07:58,639 --> 03:08:05,039
that's the wrong atlas um we are looking

3781
03:08:01,439 --> 03:08:05,040
actually for the spatial grid

3782
03:08:05,760 --> 03:08:09,840
so

3783
03:08:06,639 --> 03:08:11,599
in here like we want the cell bounds and

3784
03:08:09,840 --> 03:08:13,120
we want to use the minimum

3785
03:08:11,600 --> 03:08:16,000
uh of the cell bounds because that's

3786
03:08:13,120 --> 03:08:18,240
where we're actually writing that sample

3787
03:08:16,000 --> 03:08:18,239
right

3788
03:08:18,318 --> 03:08:23,039
so let's start by doing something like

3789
03:08:21,520 --> 03:08:24,159
this

3790
03:08:23,040 --> 03:08:25,840
uh

3791
03:08:24,159 --> 03:08:28,959
just to see

3792
03:08:25,840 --> 03:08:30,880
if we can slowly work our way

3793
03:08:28,959 --> 03:08:32,799
uh because now this will move all our

3794
03:08:30,879 --> 03:08:34,719
sample points to the wrong place and

3795
03:08:32,799 --> 03:08:37,599
then we'll offset the grid to being in

3796
03:08:34,719 --> 03:08:38,959
the correct place hopefully maybe i

3797
03:08:37,600 --> 03:08:40,000
don't know

3798
03:08:38,959 --> 03:08:43,919
um

3799
03:08:40,000 --> 03:08:45,120
so you know we'll kind of go as we go

3800
03:08:43,920 --> 03:08:47,439
um

3801
03:08:45,120 --> 03:08:49,279
so uh we have a second problem which is

3802
03:08:47,439 --> 03:08:51,120
that the thing that draws them is also

3803
03:08:49,279 --> 03:08:54,399
going to be calling that get center so

3804
03:08:51,120 --> 03:08:57,040
this box center p thing

3805
03:08:54,398 --> 03:08:57,039
i should also

3806
03:08:57,120 --> 03:09:00,960
we should just call this like

3807
03:08:59,279 --> 03:09:03,200
cast

3808
03:09:00,959 --> 03:09:06,639
from p because it's not

3809
03:09:03,200 --> 03:09:08,000
gonna be any particular boxes center

3810
03:09:06,639 --> 03:09:10,719
anymore

3811
03:09:08,000 --> 03:09:12,239
uh and then if we do draw

3812
03:09:10,719 --> 03:09:13,840
you know what's kind of funny i should

3813
03:09:12,239 --> 03:09:16,478
have just changed where we draw them and

3814
03:09:13,840 --> 03:09:18,559
then said it was correct right that's

3815
03:09:16,478 --> 03:09:20,238
that's like that's like the u.s

3816
03:09:18,559 --> 03:09:21,840
government solution to the problem

3817
03:09:20,238 --> 03:09:24,639
instead of actually solving the problem

3818
03:09:21,840 --> 03:09:28,000
just try to hide conceal or change the

3819
03:09:24,639 --> 03:09:30,079
numbers or redact the like pages to make

3820
03:09:28,000 --> 03:09:30,959
it seem like everything was fine and

3821
03:09:30,079 --> 03:09:33,840
then you don't actually solve the

3822
03:09:30,959 --> 03:09:35,039
problem that's what you should have done

3823
03:09:33,840 --> 03:09:36,639
but

3824
03:09:35,040 --> 03:09:38,239
you know silly me i went in here to try

3825
03:09:36,639 --> 03:09:40,000
to actually fix the problem

3826
03:09:38,238 --> 03:09:41,680
what am i thinking

3827
03:09:40,000 --> 03:09:43,840
anyway

3828
03:09:41,680 --> 03:09:45,680
in debug of the hedral values

3829
03:09:43,840 --> 03:09:48,639
this is this part here

3830
03:09:45,680 --> 03:09:49,439
um the center p that should go away

3831
03:09:48,639 --> 03:09:51,760
um

3832
03:09:49,439 --> 03:09:53,200
center p instead should be like cast

3833
03:09:51,760 --> 03:09:55,760
from p

3834
03:09:53,200 --> 03:09:57,200
and that should be the corner

3835
03:09:55,760 --> 03:09:58,800
of the cell

3836
03:09:57,200 --> 03:10:00,880
right

3837
03:09:58,799 --> 03:10:03,679
i assume

3838
03:10:00,879 --> 03:10:06,959
that's my story and i'm sticking to it

3839
03:10:03,680 --> 03:10:08,880
i don't care what you think

3840
03:10:06,959 --> 03:10:11,679
i'm

3841
03:10:08,879 --> 03:10:11,679
going with that

3842
03:10:11,760 --> 03:10:15,359
narrative

3843
03:10:13,840 --> 03:10:16,159
okay

3844
03:10:15,359 --> 03:10:18,399
so

3845
03:10:16,159 --> 03:10:18,398
uh

3846
03:10:18,799 --> 03:10:22,639
in theory now we're casting from those

3847
03:10:20,559 --> 03:10:24,000
locations i don't actually know that

3848
03:10:22,639 --> 03:10:25,599
that's true

3849
03:10:24,000 --> 03:10:27,600
uh i also don't know what the heck this

3850
03:10:25,600 --> 03:10:29,920
is i guess that's just the thing that

3851
03:10:27,600 --> 03:10:31,200
says that there was something there or

3852
03:10:29,920 --> 03:10:34,639
something

3853
03:10:31,200 --> 03:10:37,920
um but we need this to be rectmindim

3854
03:10:34,639 --> 03:10:40,478
uh if we're trying to do

3855
03:10:37,920 --> 03:10:42,000
actually no that's not true uh

3856
03:10:40,478 --> 03:10:43,358
so because we are trying to say like

3857
03:10:42,000 --> 03:10:46,079
this is a little rectangle centered

3858
03:10:43,359 --> 03:10:47,040
around the thing that's casting i guess

3859
03:10:46,079 --> 03:10:49,520
i don't know what the point of that

3860
03:10:47,040 --> 03:10:51,120
thing is um

3861
03:10:49,520 --> 03:10:52,720
we don't really need that but because we

3862
03:10:51,120 --> 03:10:54,479
can see where it is just fine so that

3863
03:10:52,719 --> 03:10:56,639
those little red

3864
03:10:54,478 --> 03:10:58,639
like those little red squares are not

3865
03:10:56,639 --> 03:10:59,439
particularly valuable to anybody i don't

3866
03:10:58,639 --> 03:11:02,079
think

3867
03:10:59,439 --> 03:11:04,880
but you know whatever

3868
03:11:02,079 --> 03:11:06,719
uh anyway now we can see what's actually

3869
03:11:04,879 --> 03:11:08,879
happening so this is the this is the

3870
03:11:06,719 --> 03:11:11,358
truth of the matter this is this is the

3871
03:11:08,879 --> 03:11:12,799
sad truth of it all right

3872
03:11:11,359 --> 03:11:13,920
um

3873
03:11:12,799 --> 03:11:16,559
and

3874
03:11:13,920 --> 03:11:18,799
the the reason for this is because again

3875
03:11:16,559 --> 03:11:20,879
like this voxel

3876
03:11:18,799 --> 03:11:22,959
you have to remember is

3877
03:11:20,879 --> 03:11:24,639
we can only interpolate between points

3878
03:11:22,959 --> 03:11:25,438
that we actually have

3879
03:11:24,639 --> 03:11:26,318
so

3880
03:11:25,439 --> 03:11:28,479
the

3881
03:11:26,318 --> 03:11:31,039
this cell it doesn't really count for

3882
03:11:28,478 --> 03:11:32,478
anything and we need to actually clamp

3883
03:11:31,040 --> 03:11:34,319
to just the

3884
03:11:32,478 --> 03:11:36,799
to the earlier values like we're kind of

3885
03:11:34,318 --> 03:11:37,680
like we have a one-off problem here

3886
03:11:36,799 --> 03:11:40,799
right

3887
03:11:37,680 --> 03:11:43,120
um where we want the number of

3888
03:11:40,799 --> 03:11:45,358
we want the actual thing to stop one

3889
03:11:43,120 --> 03:11:47,439
before

3890
03:11:45,359 --> 03:11:48,800
uh the final number because we have to

3891
03:11:47,439 --> 03:11:51,920
be able to sample from anywhere

3892
03:11:48,799 --> 03:11:54,318
everywhere in it uh now i should mention

3893
03:11:51,920 --> 03:11:55,920
that even now like we're gonna get some

3894
03:11:54,318 --> 03:11:58,000
pretty bad lighting artifacts because

3895
03:11:55,920 --> 03:12:00,079
like half the crap is like in the floor

3896
03:11:58,000 --> 03:12:02,478
and other things like that so you know

3897
03:12:00,079 --> 03:12:05,439
that's not good but we should already at

3898
03:12:02,478 --> 03:12:08,398
this point uh have gotten uh potentially

3899
03:12:05,439 --> 03:12:11,040
fixing the oh wow okay well

3900
03:12:08,398 --> 03:12:13,119
that's that is i don't know what that's

3901
03:12:11,040 --> 03:12:14,479
from but that's pretty good uh as you

3902
03:12:13,120 --> 03:12:16,880
can see we should be able to fix the

3903
03:12:14,478 --> 03:12:18,959
light leaking from the uh

3904
03:12:16,879 --> 03:12:20,799
from the one part that we had here but

3905
03:12:18,959 --> 03:12:23,039
man we've got other issues

3906
03:12:20,799 --> 03:12:25,278
that's fine uh like i said before you

3907
03:12:23,040 --> 03:12:26,479
know uh

3908
03:12:25,279 --> 03:12:30,079
we

3909
03:12:26,478 --> 03:12:32,000
want to fix this all the way

3910
03:12:30,079 --> 03:12:33,600
maybe this will help i didn't think this

3911
03:12:32,000 --> 03:12:35,359
was going to but maybe this will help us

3912
03:12:33,600 --> 03:12:38,159
solve our light leaking problem because

3913
03:12:35,359 --> 03:12:39,600
if we can make that happen

3914
03:12:38,159 --> 03:12:41,359
like

3915
03:12:39,600 --> 03:12:42,159
that pronounced

3916
03:12:41,359 --> 03:12:44,000
uh

3917
03:12:42,159 --> 03:12:46,000
hopefully that would help us solve it i

3918
03:12:44,000 --> 03:12:48,398
don't know though that may be wishful

3919
03:12:46,000 --> 03:12:50,318
thinking

3920
03:12:48,398 --> 03:12:51,439
you can also see some really strange

3921
03:12:50,318 --> 03:12:52,799
stuff

3922
03:12:51,439 --> 03:12:55,439
already

3923
03:12:52,799 --> 03:12:59,679
like how is all of this bright

3924
03:12:55,439 --> 03:13:02,238
when the black like

3925
03:12:59,680 --> 03:13:04,800
the the black sample spheres would say

3926
03:13:02,238 --> 03:13:05,600
that there's no light in that area right

3927
03:13:04,799 --> 03:13:06,478
so

3928
03:13:05,600 --> 03:13:08,800
anyway

3929
03:13:06,478 --> 03:13:10,639
um so pushing forwards we kind of have

3930
03:13:08,799 --> 03:13:11,759
to

3931
03:13:10,639 --> 03:13:15,000
finish getting all the rest of this

3932
03:13:11,760 --> 03:13:15,000
stuff working

3933
03:13:18,799 --> 03:13:23,000
i want to finish my pretzels first

3934
03:13:20,000 --> 03:13:23,000
though

3935
03:13:38,639 --> 03:13:41,639
so

3936
03:13:43,920 --> 03:13:46,559
at this point

3937
03:13:47,359 --> 03:13:52,238
uh our samples are definitely in the

3938
03:13:49,120 --> 03:13:55,600
wrong place they're now properly aligned

3939
03:13:52,238 --> 03:13:58,719
with the atlas sort of

3940
03:13:55,600 --> 03:14:00,238
but also not because we now sort of also

3941
03:13:58,719 --> 03:14:01,760
have to think about the fact that we

3942
03:14:00,238 --> 03:14:04,879
want

3943
03:14:01,760 --> 03:14:05,719
the actual bounds of the voxel

3944
03:14:04,879 --> 03:14:07,759
uh to

3945
03:14:05,719 --> 03:14:12,000
[Music]

3946
03:14:07,760 --> 03:14:13,040
to clamp out before the end of the voxel

3947
03:14:12,000 --> 03:14:15,279
right

3948
03:14:13,040 --> 03:14:17,040
and we're gonna have to look to see like

3949
03:14:15,279 --> 03:14:18,238
how we actually create some of these

3950
03:14:17,040 --> 03:14:21,439
things because like i said don't

3951
03:14:18,238 --> 03:14:21,439
remember it's been so long

3952
03:14:21,840 --> 03:14:25,760
since i wrote this code but you can see

3953
03:14:23,680 --> 03:14:29,120
on here where we're doing the like make

3954
03:14:25,760 --> 03:14:31,279
voxel grid and this sort of thing

3955
03:14:29,120 --> 03:14:35,840
we are

3956
03:14:31,279 --> 03:14:37,359
going to use when we're making these uh

3957
03:14:35,840 --> 03:14:40,398
these grid pieces

3958
03:14:37,359 --> 03:14:43,520
we're going to be using like information

3959
03:14:40,398 --> 03:14:47,039
about how many um

3960
03:14:43,520 --> 03:14:50,040
how many things we have inside the voxel

3961
03:14:47,040 --> 03:14:50,040
so

3962
03:14:55,760 --> 03:15:01,439
you can sort of see here how the spec

3963
03:14:58,959 --> 03:15:01,438
atlas

3964
03:15:02,238 --> 03:15:06,559
i mean they're fixed sizes right so the

3965
03:15:04,398 --> 03:15:10,238
spec atlas and the diffuse atlas are

3966
03:15:06,559 --> 03:15:13,439
both whatever this atlas cell count is

3967
03:15:10,238 --> 03:15:16,879
and you can see that when we create the

3968
03:15:13,439 --> 03:15:18,639
atlas grid we end up making

3969
03:15:16,879 --> 03:15:19,599
a voxel grid with

3970
03:15:18,639 --> 03:15:23,439
you know

3971
03:15:19,600 --> 03:15:25,840
the whatever the atlas cell count is

3972
03:15:23,439 --> 03:15:25,840
in it

3973
03:15:26,879 --> 03:15:31,679
my

3974
03:15:27,959 --> 03:15:34,478
thinking there

3975
03:15:31,680 --> 03:15:36,960
is that that really should have been

3976
03:15:34,478 --> 03:15:38,079
stepped back one

3977
03:15:36,959 --> 03:15:39,039
right

3978
03:15:38,079 --> 03:15:41,760
because

3979
03:15:39,040 --> 03:15:44,560
uh each grid square is

3980
03:15:41,760 --> 03:15:46,960
only in you can only interpolate within

3981
03:15:44,559 --> 03:15:49,359
the the cube

3982
03:15:46,959 --> 03:15:50,719
and you can't

3983
03:15:49,359 --> 03:15:52,479
you you

3984
03:15:50,719 --> 03:15:54,639
need to end

3985
03:15:52,478 --> 03:15:56,879
the size of the voxel is going to be one

3986
03:15:54,639 --> 03:15:58,079
less than the number of sample points in

3987
03:15:56,879 --> 03:16:00,000
the atlas

3988
03:15:58,079 --> 03:16:02,318
in each dimension

3989
03:16:00,000 --> 03:16:04,959
so if you know the x dimension of our

3990
03:16:02,318 --> 03:16:06,879
atlas has 10 samples in it

3991
03:16:04,959 --> 03:16:09,599
then the atlas grid should only have

3992
03:16:06,879 --> 03:16:11,519
nine cells because you need one at the

3993
03:16:09,600 --> 03:16:13,200
end in order to interpolate all the way

3994
03:16:11,520 --> 03:16:14,000
out to the outside

3995
03:16:13,200 --> 03:16:17,840
of

3996
03:16:14,000 --> 03:16:17,840
uh of the atlas right

3997
03:16:17,920 --> 03:16:23,279
so the voxel dimension for the spec

3998
03:16:20,559 --> 03:16:25,199
atlas like did we factor that in that's

3999
03:16:23,279 --> 03:16:27,520
i guess what i'm wondering

4000
03:16:25,200 --> 03:16:29,200
and i don't know uh because it's been so

4001
03:16:27,520 --> 03:16:31,760
long since we did it

4002
03:16:29,200 --> 03:16:32,880
so if we look at like make like

4003
03:16:31,760 --> 03:16:35,040
make

4004
03:16:32,879 --> 03:16:36,719
light atlas

4005
03:16:35,040 --> 03:16:40,560
um

4006
03:16:36,719 --> 03:16:40,559
where we have like the voxel dim

4007
03:16:42,238 --> 03:16:48,079
how do those things line up

4008
03:16:45,279 --> 03:16:48,079
and i'm not sure

4009
03:16:54,159 --> 03:16:59,840
i mean it like it looks to me like they

4010
03:16:56,719 --> 03:16:59,840
basically don't

4011
03:17:34,799 --> 03:17:39,398
yeah so i mean

4012
03:17:36,159 --> 03:17:39,398
i think

4013
03:17:40,639 --> 03:17:44,318
i think i'm just right about this i

4014
03:17:42,398 --> 03:17:46,959
don't know

4015
03:17:44,318 --> 03:17:50,559
i think essentially what you want here

4016
03:17:46,959 --> 03:17:52,478
is when you look at the atlas cell count

4017
03:17:50,559 --> 03:17:54,879
you have to subtract one from it when

4018
03:17:52,478 --> 03:17:58,879
you make the like corresponding spatial

4019
03:17:54,879 --> 03:17:59,920
grid that's just what happens

4020
03:17:58,879 --> 03:18:02,159
right

4021
03:17:59,920 --> 03:18:02,159
um

4022
03:18:03,120 --> 03:18:07,200
and i don't mean this spatial cell count

4023
03:18:05,600 --> 03:18:09,760
i mean literally the grid that

4024
03:18:07,200 --> 03:18:11,120
corresponds to the atlas

4025
03:18:09,760 --> 03:18:14,639
like this

4026
03:18:11,120 --> 03:18:14,640
is not correct

4027
03:18:20,318 --> 03:18:25,600
uh so at the very least the atlas grid

4028
03:18:23,520 --> 03:18:27,040
here i'm gonna say we need to start by

4029
03:18:25,600 --> 03:18:27,840
subtracting one

4030
03:18:27,040 --> 03:18:30,479
uh

4031
03:18:27,840 --> 03:18:32,559
in all three dimensions

4032
03:18:30,478 --> 03:18:36,478
when we determine how big this thing

4033
03:18:32,559 --> 03:18:38,238
actually is and the vox cell dim is fine

4034
03:18:36,478 --> 03:18:40,398
that is what it is we don't care about

4035
03:18:38,238 --> 03:18:41,439
that part at all i don't think

4036
03:18:40,398 --> 03:18:44,238
um

4037
03:18:41,439 --> 03:18:47,680
but at a bare minimum like we need this

4038
03:18:44,238 --> 03:18:49,359
thing to be exactly the bounds which now

4039
03:18:47,680 --> 03:18:51,279
you can see like at least it's starting

4040
03:18:49,359 --> 03:18:52,318
to line up the way that i wanted it to

4041
03:18:51,279 --> 03:18:55,760
right

4042
03:18:52,318 --> 03:18:57,920
so whenever we are clamping something

4043
03:18:55,760 --> 03:19:00,800
whenever we are going to like

4044
03:18:57,920 --> 03:19:02,559
sample and we clamp it clamps back down

4045
03:19:00,799 --> 03:19:05,119
into something that is the correct

4046
03:19:02,559 --> 03:19:08,478
spatial region now what the heck is

4047
03:19:05,120 --> 03:19:11,520
happening here i have no idea so that's

4048
03:19:08,478 --> 03:19:13,760
that's going to be a fun little treat

4049
03:19:11,520 --> 03:19:16,960
this is all just so freaking weird like

4050
03:19:13,760 --> 03:19:18,880
i have no idea i have no idea what that

4051
03:19:16,959 --> 03:19:20,238
is about so we're not going to pretend

4052
03:19:18,879 --> 03:19:21,839
that we know what that's about yet but

4053
03:19:20,238 --> 03:19:23,920
first like i said i want to solve one

4054
03:19:21,840 --> 03:19:26,238
problem at a time so the first thing we

4055
03:19:23,920 --> 03:19:28,159
want to do is figure out

4056
03:19:26,238 --> 03:19:30,719
okay if we assume that this is now

4057
03:19:28,159 --> 03:19:32,398
bounded properly then the next step is

4058
03:19:30,719 --> 03:19:34,478
to actually make sure that the bounds

4059
03:19:32,398 --> 03:19:38,840
line up with something that would work

4060
03:19:34,478 --> 03:19:38,840
so we want to shift the bounds

4061
03:19:48,000 --> 03:19:52,559
uh so that they are back in the center

4062
03:19:50,639 --> 03:19:55,119
of you know

4063
03:19:52,559 --> 03:19:57,920
they're back like roughly centered so

4064
03:19:55,120 --> 03:20:00,319
when we align this particular grid and

4065
03:19:57,920 --> 03:20:02,238
decide where it's actually going to be

4066
03:20:00,318 --> 03:20:05,519
uh we want the

4067
03:20:02,238 --> 03:20:06,959
the uh once we make this voxel grid with

4068
03:20:05,520 --> 03:20:10,159
you know the the cell dim and all that

4069
03:20:06,959 --> 03:20:12,079
stuff we want its base like wherever

4070
03:20:10,159 --> 03:20:15,039
it's actually placed

4071
03:20:12,079 --> 03:20:18,639
uh we want that to be offset

4072
03:20:15,040 --> 03:20:21,200
uh in a some particular way right

4073
03:20:18,639 --> 03:20:22,329
and so at the moment

4074
03:20:21,200 --> 03:20:23,600
um

4075
03:20:22,329 --> 03:20:26,959
[Music]

4076
03:20:23,600 --> 03:20:31,120
this setman corner nonsense

4077
03:20:26,959 --> 03:20:32,398
right uh that wants to be offset by one

4078
03:20:31,120 --> 03:20:37,439
half

4079
03:20:32,398 --> 03:20:40,318
uh the fundamental grid size right so

4080
03:20:37,439 --> 03:20:44,398
instead of atlas min corner here being

4081
03:20:40,318 --> 03:20:46,559
like uh this this offset here

4082
03:20:44,398 --> 03:20:49,278
we actually it looks like we sort of

4083
03:20:46,559 --> 03:20:52,159
already kept it at centers so this

4084
03:20:49,279 --> 03:20:57,600
actually wants to not happen

4085
03:20:52,159 --> 03:20:59,359
um the z might need to change high voice

4086
03:20:57,600 --> 03:21:01,840
um

4087
03:20:59,359 --> 03:21:04,238
so this

4088
03:21:01,840 --> 03:21:06,719
might need to occur or something like

4089
03:21:04,238 --> 03:21:08,000
that we'll see in a second uh but we

4090
03:21:06,719 --> 03:21:10,639
need to

4091
03:21:08,000 --> 03:21:12,478
uh remove that sort of offset on x and y

4092
03:21:10,639 --> 03:21:14,879
because that should actually be uh

4093
03:21:12,478 --> 03:21:18,639
centered now in theory

4094
03:21:14,879 --> 03:21:18,639
okay uh so

4095
03:21:20,639 --> 03:21:29,199
i think that's about

4096
03:21:25,279 --> 03:21:31,920
about right i can't quite tell

4097
03:21:29,200 --> 03:21:31,920
it's too high

4098
03:21:32,159 --> 03:21:34,478
um

4099
03:21:35,359 --> 03:21:40,479
definitely too high okay so so i lied uh

4100
03:21:39,040 --> 03:21:42,000
maybe

4101
03:21:40,478 --> 03:21:42,840
it it

4102
03:21:42,000 --> 03:21:44,398
oh um

4103
03:21:42,840 --> 03:21:46,639
[Music]

4104
03:21:44,398 --> 03:21:49,639
so so let's let's turn that off for one

4105
03:21:46,639 --> 03:21:49,639
second

4106
03:21:54,079 --> 03:21:58,799
uh and let's see where that is roughly

4107
03:21:56,719 --> 03:22:01,119
at okay

4108
03:21:58,799 --> 03:22:01,119
um

4109
03:22:02,959 --> 03:22:09,599
that seems pretty good but still

4110
03:22:05,600 --> 03:22:12,079
probably a little bit too low

4111
03:22:09,600 --> 03:22:12,960
so i'm going to say shift it up a little

4112
03:22:12,079 --> 03:22:15,039
bit

4113
03:22:12,959 --> 03:22:16,639
i don't know if half the fundamental

4114
03:22:15,040 --> 03:22:19,880
dimension is the right amount but it

4115
03:22:16,639 --> 03:22:19,879
might be

4116
03:22:29,760 --> 03:22:34,120
that looks better

4117
03:22:40,559 --> 03:22:44,398
so i think that's about right

4118
03:22:42,478 --> 03:22:46,398
yeah roughly

4119
03:22:44,398 --> 03:22:47,519
roughly

4120
03:22:46,398 --> 03:22:49,439
okay

4121
03:22:47,520 --> 03:22:50,560
uh so

4122
03:22:49,439 --> 03:22:54,880
the

4123
03:22:50,559 --> 03:22:57,119
overall size of the lighting is is it

4124
03:22:54,879 --> 03:23:00,839
correct is it not correct i'm not sure

4125
03:22:57,120 --> 03:23:04,560
how the alignment is overall

4126
03:23:00,840 --> 03:23:06,318
it looks like it's skewed a little bit

4127
03:23:04,559 --> 03:23:08,159
that way

4128
03:23:06,318 --> 03:23:09,680
but not in a way that would necessarily

4129
03:23:08,159 --> 03:23:11,119
concern us because it's two versus one

4130
03:23:09,680 --> 03:23:12,318
you're always gonna have a little bit of

4131
03:23:11,120 --> 03:23:16,000
that

4132
03:23:12,318 --> 03:23:19,359
um so that's probably fine so i would

4133
03:23:16,000 --> 03:23:22,079
say this looks about right on alignment

4134
03:23:19,359 --> 03:23:24,318
i'm gonna i'm gonna say that's roughly

4135
03:23:22,079 --> 03:23:26,559
correct

4136
03:23:24,318 --> 03:23:28,959
yeah you know within reason within

4137
03:23:26,559 --> 03:23:28,959
reason

4138
03:23:29,200 --> 03:23:34,720
um so i think those are now aligned

4139
03:23:31,439 --> 03:23:36,800
properly i don't know exactly how when

4140
03:23:34,719 --> 03:23:39,358
we send down our lighting values we send

4141
03:23:36,799 --> 03:23:41,920
them down so we may have to update that

4142
03:23:39,359 --> 03:23:45,279
a little bit so here when we do uh you

4143
03:23:41,920 --> 03:23:47,520
know push lighting render values

4144
03:23:45,279 --> 03:23:51,200
i don't really know what we send down

4145
03:23:47,520 --> 03:23:51,200
for our uh

4146
03:23:51,439 --> 03:23:56,479
for our actual textures here

4147
03:23:53,920 --> 03:23:58,238
doesn't look

4148
03:23:56,478 --> 03:23:59,920
looks like we just used the atlas grid

4149
03:23:58,238 --> 03:24:03,039
total bounds

4150
03:23:59,920 --> 03:24:05,200
uh which seems fine

4151
03:24:03,040 --> 03:24:07,920
that's the hot rocks voxel rick minimum

4152
03:24:05,200 --> 03:24:08,800
and the invot dim

4153
03:24:07,920 --> 03:24:11,520
uh

4154
03:24:08,799 --> 03:24:14,799
that seems fine

4155
03:24:11,520 --> 03:24:14,800
for sampling

4156
03:24:16,079 --> 03:24:18,719
probably

4157
03:24:19,600 --> 03:24:22,600
possibly

4158
03:24:30,478 --> 03:24:34,959
yeah i think that's about right

4159
03:24:33,760 --> 03:24:36,318
yeah

4160
03:24:34,959 --> 03:24:37,839
um

4161
03:24:36,318 --> 03:24:39,119
but of course we also sort of have

4162
03:24:37,840 --> 03:24:41,439
another problem here which is that

4163
03:24:39,120 --> 03:24:43,920
anything that is outside in z wants to

4164
03:24:41,439 --> 03:24:45,520
clamp back in z and i don't know if we

4165
03:24:43,920 --> 03:24:47,920
have anything like that in the shader so

4166
03:24:45,520 --> 03:24:49,600
we kind of need to

4167
03:24:47,920 --> 03:24:52,000
uh

4168
03:24:49,600 --> 03:24:54,238
first make sure that the shader itself

4169
03:24:52,000 --> 03:24:58,000
when it does this lookup the shader is

4170
03:24:54,238 --> 03:24:58,340
gonna have to do something about that

4171
03:24:58,000 --> 03:25:00,398
um

4172
03:24:58,340 --> 03:25:01,760
[Music]

4173
03:25:00,398 --> 03:25:04,000
right like

4174
03:25:01,760 --> 03:25:06,478
it's gotta actually

4175
03:25:04,000 --> 03:25:08,559
make sure that it keeps you bounded

4176
03:25:06,478 --> 03:25:11,039
inside the voxel which i don't know if

4177
03:25:08,559 --> 03:25:12,398
it actually does or even tries to do

4178
03:25:11,040 --> 03:25:15,120
uh

4179
03:25:12,398 --> 03:25:17,439
so that's a good question

4180
03:25:15,120 --> 03:25:19,920
um

4181
03:25:17,439 --> 03:25:23,520
what happens

4182
03:25:19,920 --> 03:25:24,960
what happens there

4183
03:25:23,520 --> 03:25:27,840
does anyone know

4184
03:25:24,959 --> 03:25:27,839
uh so

4185
03:25:28,159 --> 03:25:32,159
we should probably we never were able to

4186
03:25:30,639 --> 03:25:33,760
get a four coder that actually could

4187
03:25:32,159 --> 03:25:34,719
show these properly so we probably

4188
03:25:33,760 --> 03:25:36,559
should move these out into their

4189
03:25:34,719 --> 03:25:38,639
separate into separate files now because

4190
03:25:36,559 --> 03:25:39,439
it's just too hard to read them

4191
03:25:38,639 --> 03:25:41,039
um

4192
03:25:39,439 --> 03:25:42,398
i had hoped at some point that you know

4193
03:25:41,040 --> 03:25:44,479
you'd be able to just include your

4194
03:25:42,398 --> 03:25:45,519
shader code directly in your c code but

4195
03:25:44,478 --> 03:25:46,879
that

4196
03:25:45,520 --> 03:25:48,159
didn't happen

4197
03:25:46,879 --> 03:25:48,839
um so

4198
03:25:48,159 --> 03:25:50,639
you

4199
03:25:48,840 --> 03:25:52,159
know uh

4200
03:25:50,639 --> 03:25:53,439
i suppose i could fix it now i have

4201
03:25:52,159 --> 03:25:55,279
access to the four quarter source i

4202
03:25:53,439 --> 03:25:56,639
should probably just go fix this myself

4203
03:25:55,279 --> 03:25:58,880
uh because i can't imagine it's that

4204
03:25:56,639 --> 03:26:00,398
hard all it has to do is not change to a

4205
03:25:58,879 --> 03:26:01,358
string parser

4206
03:26:00,398 --> 03:26:02,799
um

4207
03:26:01,359 --> 03:26:04,800
and just leave itself doing regular

4208
03:26:02,799 --> 03:26:05,599
parsing and this would work

4209
03:26:04,799 --> 03:26:08,159
so

4210
03:26:05,600 --> 03:26:09,920
uh maybe we can fix that someday anyway

4211
03:26:08,159 --> 03:26:10,959
if we look in here

4212
03:26:09,920 --> 03:26:14,000
uh

4213
03:26:10,959 --> 03:26:14,959
we we're setting the vox minimum corner

4214
03:26:14,000 --> 03:26:16,840
and

4215
03:26:14,959 --> 03:26:19,919
uh the cell

4216
03:26:16,840 --> 03:26:25,439
dimension uh

4217
03:26:19,920 --> 03:26:25,439
what inv total dim means is that

4218
03:26:25,600 --> 03:26:29,439
okay so it's just the inverse of the

4219
03:26:27,040 --> 03:26:32,760
complete dimension of the voxel so that

4220
03:26:29,439 --> 03:26:32,760
seems fine

4221
03:26:33,120 --> 03:26:36,800
um

4222
03:26:35,279 --> 03:26:39,200
so at some point

4223
03:26:36,799 --> 03:26:40,318
we're gonna compute which

4224
03:26:39,200 --> 03:26:41,920
uh

4225
03:26:40,318 --> 03:26:43,840
cell we're looking into

4226
03:26:41,920 --> 03:26:45,120
and it looks like this is

4227
03:26:43,840 --> 03:26:48,238
you know the code that does that right

4228
03:26:45,120 --> 03:26:48,239
there's the sample lighting

4229
03:26:48,559 --> 03:26:53,519
uh and then up in here you kind of have

4230
03:26:50,719 --> 03:26:55,358
uh okay we're sampling from this voxel

4231
03:26:53,520 --> 03:26:57,040
offsetted by this

4232
03:26:55,359 --> 03:27:00,000
you know this cell

4233
03:26:57,040 --> 03:27:01,359
index versus you know offset by that

4234
03:27:00,000 --> 03:27:04,318
cell index

4235
03:27:01,359 --> 03:27:07,359
so that implies to me that we first in

4236
03:27:04,318 --> 03:27:09,199
here we must have computed

4237
03:27:07,359 --> 03:27:12,318
what our base

4238
03:27:09,200 --> 03:27:12,319
voxel lookup was

4239
03:27:12,840 --> 03:27:18,719
um and you can see it's got an 05 offset

4240
03:27:16,478 --> 03:27:18,719
there

4241
03:27:21,279 --> 03:27:24,960
so i think this has kind of been wrong

4242
03:27:22,799 --> 03:27:26,959
the entire time

4243
03:27:24,959 --> 03:27:29,599
basically we had lighting values that we

4244
03:27:26,959 --> 03:27:31,119
were offsetting by 0.5 which was kind of

4245
03:27:29,600 --> 03:27:34,399
correct in terms of their placement but

4246
03:27:31,120 --> 03:27:35,359
we were never casting from that location

4247
03:27:34,398 --> 03:27:37,680
right

4248
03:27:35,359 --> 03:27:39,760
um and i guess originally that was okay

4249
03:27:37,680 --> 03:27:41,359
because we had so many z samples that we

4250
03:27:39,760 --> 03:27:43,200
actually just left it in place and we

4251
03:27:41,359 --> 03:27:45,200
didn't need to shift it but now that we

4252
03:27:43,200 --> 03:27:47,279
only have two z samples they both have

4253
03:27:45,200 --> 03:27:48,479
to be inside which means that you

4254
03:27:47,279 --> 03:27:51,439
actually have to cast from where you

4255
03:27:48,478 --> 03:27:51,438
think you're casting from

4256
03:27:51,760 --> 03:27:55,520
so yeah this is kind of confusing

4257
03:27:53,840 --> 03:27:58,398
but i think this probably was slightly

4258
03:27:55,520 --> 03:27:59,760
wrong for quite some time in a way

4259
03:27:58,398 --> 03:28:02,398
uh but anyway

4260
03:27:59,760 --> 03:28:04,639
so when we come in here uh assuming that

4261
03:28:02,398 --> 03:28:07,119
now our voxel is always aligned we don't

4262
03:28:04,639 --> 03:28:09,760
really have to shift anything

4263
03:28:07,120 --> 03:28:12,640
because the placement of you in the

4264
03:28:09,760 --> 03:28:15,120
world should just be correct

4265
03:28:12,639 --> 03:28:17,039
right so so this

4266
03:28:15,120 --> 03:28:19,359
that should not be required

4267
03:28:17,040 --> 03:28:21,680
um when you do the floor value you'll

4268
03:28:19,359 --> 03:28:24,159
just get the correct corner and this

4269
03:28:21,680 --> 03:28:26,159
will give you the correct interpolant uh

4270
03:28:24,159 --> 03:28:29,600
and the only difference here is we want

4271
03:28:26,159 --> 03:28:31,760
this to be clamped right

4272
03:28:29,600 --> 03:28:32,960
so we don't want this to go too high or

4273
03:28:31,760 --> 03:28:35,040
too low

4274
03:28:32,959 --> 03:28:36,559
because you'll just end up sampling

4275
03:28:35,040 --> 03:28:39,279
weird places

4276
03:28:36,559 --> 03:28:42,079
in the texture so

4277
03:28:39,279 --> 03:28:43,920
that's easier said than done

4278
03:28:42,079 --> 03:28:46,719
in x and y because we don't actually

4279
03:28:43,920 --> 03:28:47,680
have a maximum x and y

4280
03:28:46,719 --> 03:28:49,599
here

4281
03:28:47,680 --> 03:28:52,800
i

4282
03:28:49,600 --> 03:28:55,520
like that is not in the actual

4283
03:28:52,799 --> 03:28:55,519
thing right

4284
03:28:56,079 --> 03:29:00,238
so if we look at the lighting sample

4285
03:28:58,879 --> 03:29:02,639
which is this

4286
03:29:00,238 --> 03:29:04,559
code here

4287
03:29:02,639 --> 03:29:08,478
um

4288
03:29:04,559 --> 03:29:12,680
when we do the uh vox i plus devoxx eye

4289
03:29:08,478 --> 03:29:12,679
that needs to get clamped

4290
03:29:21,359 --> 03:29:25,279
and i think that's basically it

4291
03:29:25,359 --> 03:29:30,880
i don't really remember how glsl works

4292
03:29:28,559 --> 03:29:30,879
at all

4293
03:29:30,959 --> 03:29:34,799
but i assume it's not that complicated

4294
03:29:32,959 --> 03:29:35,679
to clamp something

4295
03:29:34,799 --> 03:29:37,599
uh

4296
03:29:35,680 --> 03:29:39,359
so like for example we have like clamp

4297
03:29:37,600 --> 03:29:42,318
zero one here

4298
03:29:39,359 --> 03:29:43,120
uh we made some of these macros

4299
03:29:42,318 --> 03:29:46,559
uh

4300
03:29:43,120 --> 03:29:46,560
they're this garbage right here

4301
03:29:47,279 --> 03:29:53,120
so i assume that if i were to do a clamp

4302
03:29:50,559 --> 03:29:56,238
um i could just clamp

4303
03:29:53,120 --> 03:29:57,920
to zero and something else right like

4304
03:29:56,238 --> 03:30:00,879
if i said all right

4305
03:29:57,920 --> 03:30:04,238
the i value is actually a clamp

4306
03:30:00,879 --> 03:30:09,119
of this vox i plus dvox i nonsense

4307
03:30:04,238 --> 03:30:13,039
um and the minimum value is just 0 0 0

4308
03:30:09,120 --> 03:30:15,120
which i think you can do this way in

4309
03:30:13,040 --> 03:30:18,479
glsl

4310
03:30:15,120 --> 03:30:20,010
and this value is just like the maximum

4311
03:30:18,478 --> 03:30:22,559
like it's like the lighting

4312
03:30:20,010 --> 03:30:23,920
[Music]

4313
03:30:22,559 --> 03:30:26,159
uh

4314
03:30:23,920 --> 03:30:28,559
the maximum lighting

4315
03:30:26,159 --> 03:30:31,039
voxel dimension which is this thing and

4316
03:30:28,559 --> 03:30:32,478
hey look it's already a vector even so i

4317
03:30:31,040 --> 03:30:34,560
think that would just

4318
03:30:32,478 --> 03:30:39,039
fix it for us right

4319
03:30:34,559 --> 03:30:39,840
so in theory that should clamp things uh

4320
03:30:39,040 --> 03:30:41,359
uh

4321
03:30:39,840 --> 03:30:43,040
who knows

4322
03:30:41,359 --> 03:30:45,040
but like in theory that would clamp all

4323
03:30:43,040 --> 03:30:48,000
of our lookups now so that they aren't

4324
03:30:45,040 --> 03:30:50,000
fetching out into no man's land

4325
03:30:48,000 --> 03:30:52,719
um and

4326
03:30:50,000 --> 03:30:55,439
i i guess like i don't know but i think

4327
03:30:52,719 --> 03:30:57,599
that uh yeah i mean that's why it's not

4328
03:30:55,439 --> 03:30:59,040
black now like it was before

4329
03:30:57,600 --> 03:31:00,720
uh right

4330
03:30:59,040 --> 03:31:03,279
so okay

4331
03:31:00,719 --> 03:31:05,278
still a lot of weirdness though like wow

4332
03:31:03,279 --> 03:31:06,720
like what is happening right

4333
03:31:05,279 --> 03:31:08,319
so uh

4334
03:31:06,719 --> 03:31:11,039
but getting closer

4335
03:31:08,318 --> 03:31:14,639
so we've fixed the alignment i think in

4336
03:31:11,040 --> 03:31:16,080
the shader to now be clamping and in

4337
03:31:14,639 --> 03:31:20,159
theory i think it should be clamped to

4338
03:31:16,079 --> 03:31:21,520
the correct places what i should do now

4339
03:31:20,159 --> 03:31:23,680
i want to do like a little bit more

4340
03:31:21,520 --> 03:31:26,800
cleanup work first but what we'll do

4341
03:31:23,680 --> 03:31:27,520
pretty soon after is i'll seed this with

4342
03:31:26,799 --> 03:31:30,000
uh

4343
03:31:27,520 --> 03:31:32,399
known values so i'll just put like rgb

4344
03:31:30,000 --> 03:31:34,719
rgb rgb in it

4345
03:31:32,398 --> 03:31:37,519
not actually compute any lighting and

4346
03:31:34,719 --> 03:31:39,840
then verify that i'm sampling correctly

4347
03:31:37,520 --> 03:31:42,720
uh you know what i'm saying

4348
03:31:39,840 --> 03:31:44,880
in the actual shader because you know

4349
03:31:42,719 --> 03:31:46,238
now that we've made a fairly substantial

4350
03:31:44,879 --> 03:31:47,839
changes here it's going to be kind of

4351
03:31:46,238 --> 03:31:48,639
weird like we're definitely going to be

4352
03:31:47,840 --> 03:31:50,318
in a

4353
03:31:48,639 --> 03:31:52,318
position where we don't

4354
03:31:50,318 --> 03:31:54,799
um have like

4355
03:31:52,318 --> 03:31:56,879
you know uh

4356
03:31:54,799 --> 03:31:58,719
we don't we won't know where our stupid

4357
03:31:56,879 --> 03:32:00,639
bugs are right so we have to start to

4358
03:31:58,719 --> 03:32:03,599
feed some structured art through it to

4359
03:32:00,639 --> 03:32:05,278
like secure one system at a time

4360
03:32:03,600 --> 03:32:08,559
uh but before we do that i want to go

4361
03:32:05,279 --> 03:32:10,800
fix other problems with the spatial

4362
03:32:08,559 --> 03:32:12,559
alignment of the atlas

4363
03:32:10,799 --> 03:32:14,398
which is to say that when we are doing

4364
03:32:12,559 --> 03:32:16,799
our sampling in here now i want to make

4365
03:32:14,398 --> 03:32:18,719
sure that this makes some sense because

4366
03:32:16,799 --> 03:32:19,679
i don't know that this makes any sense

4367
03:32:18,719 --> 03:32:23,039
either

4368
03:32:19,680 --> 03:32:24,559
so in here where we're doing

4369
03:32:23,040 --> 03:32:26,800
our sampling now we know that we're

4370
03:32:24,559 --> 03:32:29,439
loading the atlas grid inverse cell

4371
03:32:26,799 --> 03:32:30,478
dimension and total bounds in here

4372
03:32:29,439 --> 03:32:32,720
which is

4373
03:32:30,478 --> 03:32:34,719
good that's what we want

4374
03:32:32,719 --> 03:32:37,199
um

4375
03:32:34,719 --> 03:32:40,079
but i don't know

4376
03:32:37,200 --> 03:32:43,279
about the rest of the code

4377
03:32:40,079 --> 03:32:46,920
so how's the rest of this stuff work

4378
03:32:43,279 --> 03:32:46,920
let's look

4379
03:32:50,079 --> 03:32:54,879
so

4380
03:32:51,200 --> 03:32:59,239
the voxel dimensions for the diffuse

4381
03:32:54,879 --> 03:32:59,238
atlas are loaded here

4382
03:33:06,000 --> 03:33:11,600
um the floor of the f chord and that

4383
03:33:12,318 --> 03:33:15,840
that all looks right so we're tracking

4384
03:33:14,238 --> 03:33:16,840
the minimum

4385
03:33:15,840 --> 03:33:21,040
we're

4386
03:33:16,840 --> 03:33:23,040
uh multiplying by the inverse dimension

4387
03:33:21,040 --> 03:33:25,279
so that tells us where we are

4388
03:33:23,040 --> 03:33:25,279
uh

4389
03:33:26,159 --> 03:33:29,359
in the grid

4390
03:33:30,639 --> 03:33:32,559
we

4391
03:33:31,760 --> 03:33:35,120
are

4392
03:33:32,559 --> 03:33:36,959
taking the stride

4393
03:33:35,120 --> 03:33:40,479
of the atlas and the dimension of the

4394
03:33:36,959 --> 03:33:42,959
atlas for sampling purposes which is

4395
03:33:40,478 --> 03:33:46,599
fine

4396
03:33:42,959 --> 03:33:46,599
we are

4397
03:33:46,879 --> 03:33:52,639
looking at the max sample location which

4398
03:33:49,359 --> 03:33:52,640
is also fine

4399
03:33:53,200 --> 03:33:59,120
we're clamping the b chord to the max

4400
03:33:56,559 --> 03:33:59,119
value

4401
03:33:59,520 --> 03:34:02,960
and the minimum value

4402
03:34:05,040 --> 03:34:09,279
that seems right

4403
03:34:07,120 --> 03:34:09,279
to

4404
03:34:12,840 --> 03:34:16,318
me um

4405
03:34:17,600 --> 03:34:21,600
i don't know that that seems right

4406
03:34:26,959 --> 03:34:30,719
that all seems like totally reasonable

4407
03:34:36,959 --> 03:34:41,199
so i could be very wrong about that

4408
03:34:39,279 --> 03:34:42,960
uh but that all seems like pretty

4409
03:34:41,200 --> 03:34:44,560
reasonable like it's just it's just

4410
03:34:42,959 --> 03:34:45,358
trilinear blend

4411
03:34:44,559 --> 03:34:48,359
i

4412
03:34:45,359 --> 03:34:48,359
it's

4413
03:35:22,478 --> 03:35:28,358
interesting that we say this because we

4414
03:35:24,318 --> 03:35:28,359
did kind of weld it in right

4415
03:35:41,439 --> 03:35:44,960
yeah so we don't actually need to do

4416
03:35:43,600 --> 03:35:46,720
yeah

4417
03:35:44,959 --> 03:35:48,398
uh anyway

4418
03:35:46,719 --> 03:35:51,119
so i don't see

4419
03:35:48,398 --> 03:35:53,358
any real weirdness there that all seems

4420
03:35:51,120 --> 03:35:55,600
like fairly sane

4421
03:35:53,359 --> 03:35:58,559
to me

4422
03:35:55,600 --> 03:35:58,559
mostly

4423
03:35:58,719 --> 03:36:01,039
um

4424
03:36:01,760 --> 03:36:04,760
mostly

4425
03:36:16,478 --> 03:36:21,278
now i don't actually know and i would

4426
03:36:19,279 --> 03:36:23,680
like to check that where we are

4427
03:36:21,279 --> 03:36:26,960
raycasting from makes any sense at the

4428
03:36:23,680 --> 03:36:28,639
immediate moment that i'm not sure about

4429
03:36:26,959 --> 03:36:30,879
but it shouldn't be too hard to figure

4430
03:36:28,639 --> 03:36:32,079
that out

4431
03:36:30,879 --> 03:36:35,119
um

4432
03:36:32,079 --> 03:36:37,359
why am i not

4433
03:36:35,120 --> 03:36:41,040
why is my raycast not moving look at

4434
03:36:37,359 --> 03:36:41,040
that it's like i'm not gonna move

4435
03:36:43,200 --> 03:36:47,920
what's up with that

4436
03:36:45,600 --> 03:36:50,479
why why am i like no you don't get you

4437
03:36:47,920 --> 03:36:50,478
can't move

4438
03:36:51,920 --> 03:36:55,680
that's bizarre isn't it

4439
03:36:57,920 --> 03:37:02,040
are those clamping to something

4440
03:37:02,318 --> 03:37:04,719
weird

4441
03:37:15,040 --> 03:37:20,420
um i don't see quite why but it's fine

4442
03:37:18,719 --> 03:37:21,760
so

4443
03:37:20,420 --> 03:37:24,960
[Music]

4444
03:37:21,760 --> 03:37:27,200
the atlas grid cell count is actually

4445
03:37:24,959 --> 03:37:30,159
wrong now because we fixed that part so

4446
03:37:27,200 --> 03:37:33,920
this can actually do

4447
03:37:30,159 --> 03:37:33,920
a debug pick from everywhere in it

4448
03:37:35,600 --> 03:37:39,760
but that shouldn't really have been the

4449
03:37:37,200 --> 03:37:42,000
problem because that's

4450
03:37:39,760 --> 03:37:43,920
yeah that

4451
03:37:42,000 --> 03:37:47,520
i don't know why that clamp would have

4452
03:37:43,920 --> 03:37:50,478
been not working in the other dimensions

4453
03:37:47,520 --> 03:37:50,479
but i guess it's not

4454
03:37:51,520 --> 03:37:56,600
yeah like why why is that busted

4455
03:37:59,200 --> 03:38:04,079
it's like no

4456
03:38:00,879 --> 03:38:06,238
you are not allowed to move

4457
03:38:04,079 --> 03:38:10,359
doesn't that seem kind of odd

4458
03:38:06,238 --> 03:38:10,359
like what's the deal with that

4459
03:38:16,318 --> 03:38:22,159
i mean one assumes that's the atlas

4460
03:38:19,200 --> 03:38:24,479
indexes clamping happening but maybe

4461
03:38:22,159 --> 03:38:27,478
it's not like if i get rid of the

4462
03:38:24,478 --> 03:38:27,478
clamping

4463
03:38:28,959 --> 03:38:32,000
is it still broken

4464
03:38:36,159 --> 03:38:40,520
okay that's just mysterious

4465
03:38:45,600 --> 03:38:50,720
so we've entered like full nonsense land

4466
03:38:48,639 --> 03:38:53,278
where we have no idea what's going on

4467
03:38:50,719 --> 03:38:53,278
obviously

4468
03:38:53,359 --> 03:38:59,920
so what's the problem here why is our

4469
03:38:57,040 --> 03:39:03,520
debug uh

4470
03:38:59,920 --> 03:39:06,879
why is this not allowed to edit

4471
03:39:03,520 --> 03:39:11,960
is there something we don't know

4472
03:39:06,879 --> 03:39:11,959
um that we're supposed to know

4473
03:39:24,159 --> 03:39:27,119
aha

4474
03:39:25,600 --> 03:39:29,279
yes there is

4475
03:39:27,120 --> 03:39:32,399
so this

4476
03:39:29,279 --> 03:39:33,760
has to actually work and it's not going

4477
03:39:32,398 --> 03:39:36,879
to now

4478
03:39:33,760 --> 03:39:38,800
so this was getting reset every time

4479
03:39:36,879 --> 03:39:40,639
which is

4480
03:39:38,799 --> 03:39:43,198
not good

4481
03:39:40,639 --> 03:39:44,840
um so what we want to do here is we want

4482
03:39:43,199 --> 03:39:47,120
to actually

4483
03:39:44,840 --> 03:39:48,238
pre-determine like we want to pre-make

4484
03:39:47,120 --> 03:39:49,600
that number

4485
03:39:48,238 --> 03:39:53,680
this right here

4486
03:39:49,600 --> 03:39:57,199
so we want to like v3 atlas

4487
03:39:53,680 --> 03:39:57,199
grid cell count

4488
03:39:58,398 --> 03:40:02,799
we want the atlas grid

4489
03:40:00,478 --> 03:40:05,799
you know to have been computed ahead of

4490
03:40:02,799 --> 03:40:05,799
time

4491
03:40:06,719 --> 03:40:10,318
and we want the atlas grid cell count to

4492
03:40:09,279 --> 03:40:14,399
be

4493
03:40:10,318 --> 03:40:16,799
checked here we want to say like

4494
03:40:14,398 --> 03:40:20,079
okay if the

4495
03:40:16,799 --> 03:40:22,159
atlas grid cell count is not equal to

4496
03:40:20,079 --> 03:40:25,359
what we have it set to then we will do

4497
03:40:22,159 --> 03:40:25,359
our little fancy dance

4498
03:40:29,279 --> 03:40:33,279
that was weird

4499
03:40:31,279 --> 03:40:34,159
to say the least

4500
03:40:33,279 --> 03:40:35,199
um

4501
03:40:34,159 --> 03:40:37,279
okay

4502
03:40:35,199 --> 03:40:38,640
so hopefully that resolves our problem

4503
03:40:37,279 --> 03:40:42,159
and it did

4504
03:40:38,639 --> 03:40:42,159
um i can put the clamp back in

4505
03:40:44,840 --> 03:40:48,559
now it looks like i already had so

4506
03:40:47,279 --> 03:40:50,399
that's fine

4507
03:40:48,559 --> 03:40:51,760
um

4508
03:40:50,398 --> 03:40:54,318
but now let's get back to the question

4509
03:40:51,760 --> 03:40:55,920
at hand which is okay so

4510
03:40:54,318 --> 03:40:57,680
what are we actually seeing here when we

4511
03:40:55,920 --> 03:40:59,920
do these raycasts because you know who

4512
03:40:57,680 --> 03:41:02,318
knows we don't really know let's take a

4513
03:40:59,920 --> 03:41:03,600
look at one of them to see what the heck

4514
03:41:02,318 --> 03:41:05,198
is happening because we don't have any

4515
03:41:03,600 --> 03:41:06,318
idea

4516
03:41:05,199 --> 03:41:09,319
so

4517
03:41:06,318 --> 03:41:09,318
uh

4518
03:41:22,398 --> 03:41:27,039
i don't actually see where this is

4519
03:41:24,159 --> 03:41:30,159
casting from oh it's right there

4520
03:41:27,040 --> 03:41:33,040
um that's not really that useful to me

4521
03:41:30,159 --> 03:41:33,039
let's try

4522
03:41:33,439 --> 03:41:36,960
like

4523
03:41:34,639 --> 03:41:36,959
there

4524
03:41:37,439 --> 03:41:40,439
maybe

4525
03:41:45,840 --> 03:41:48,238
um

4526
03:41:49,439 --> 03:41:52,079
yeah that

4527
03:41:52,398 --> 03:41:54,719
is

4528
03:41:53,680 --> 03:41:57,120
not

4529
03:41:54,719 --> 03:42:00,559
correct at all like

4530
03:41:57,120 --> 03:42:05,000
so we're casting in a totally not

4531
03:42:00,559 --> 03:42:05,000
correct location apparently

4532
03:42:07,600 --> 03:42:11,159
or something

4533
03:42:12,000 --> 03:42:17,279
it's just considering itself to have

4534
03:42:14,478 --> 03:42:17,278
always hit

4535
03:42:17,439 --> 03:42:22,840
right

4536
03:42:18,398 --> 03:42:22,840
let's look at the z one down

4537
03:42:44,559 --> 03:42:50,039
i mean those all seem fine i don't see

4538
03:42:46,478 --> 03:42:50,039
anything weird there

4539
03:43:00,879 --> 03:43:04,198
seems fine

4540
03:43:15,040 --> 03:43:21,040
now so we're definitely in a weird place

4541
03:43:18,238 --> 03:43:22,719
so we're offset somehow like that's not

4542
03:43:21,040 --> 03:43:24,560
hitting the ceiling

4543
03:43:22,719 --> 03:43:26,719
is it oh wait no it is no it is that's

4544
03:43:24,559 --> 03:43:28,639
the light source

4545
03:43:26,719 --> 03:43:31,198
so this one was also probably inside a

4546
03:43:28,639 --> 03:43:31,198
light source

4547
03:43:32,318 --> 03:43:34,799
ah

4548
03:43:33,199 --> 03:43:37,279
but you know why it was casting from

4549
03:43:34,799 --> 03:43:40,079
inside a light source

4550
03:43:37,279 --> 03:43:42,720
because full cast is probably using the

4551
03:43:40,079 --> 03:43:44,959
wrong location now as well

4552
03:43:42,719 --> 03:43:46,398
one assumes

4553
03:43:44,959 --> 03:43:49,398
so in here

4554
03:43:46,398 --> 03:43:49,398
i

4555
03:43:49,549 --> 03:43:52,719
[Music]

4556
03:44:00,959 --> 03:44:06,000
so that should have fixed it so i'm not

4557
03:44:03,199 --> 03:44:06,000
really sure

4558
03:44:07,199 --> 03:44:13,960
atlas to spatial grid index offset i

4559
03:44:09,840 --> 03:44:13,960
wonder if that's wrong

4560
03:44:18,719 --> 03:44:23,920
like i wonder if that initial grid index

4561
03:44:21,199 --> 03:44:27,880
is wrong

4562
03:44:23,920 --> 03:44:27,879
half atlas index

4563
03:44:45,680 --> 03:44:48,720
okay that makes sense

4564
03:44:55,680 --> 03:44:59,840
that on the other hand

4565
03:45:12,079 --> 03:45:15,520
i don't know if it does

4566
03:45:23,760 --> 03:45:27,840
so my first question would be can we

4567
03:45:25,359 --> 03:45:31,920
just not do this anymore

4568
03:45:27,840 --> 03:45:31,920
so does anyone else use this

4569
03:45:35,199 --> 03:45:38,960
because if not like it seems like pretty

4570
03:45:37,520 --> 03:45:40,640
with all of this work that we're doing

4571
03:45:38,959 --> 03:45:42,879
during raycasting it seems pretty

4572
03:45:40,639 --> 03:45:44,639
inexpensive to just say look get the

4573
03:45:42,879 --> 03:45:45,759
initial grid index by actually mapping

4574
03:45:44,639 --> 03:45:48,318
it into the voxel so i don't have to

4575
03:45:45,760 --> 03:45:50,000
care if these two things are aligned

4576
03:45:48,318 --> 03:45:51,760
right

4577
03:45:50,000 --> 03:45:52,959
in fact now i really just don't even

4578
03:45:51,760 --> 03:45:54,398
want them to have to be aligned because

4579
03:45:52,959 --> 03:45:55,599
there's no reason why they should have

4580
03:45:54,398 --> 03:45:57,358
to be aligned

4581
03:45:55,600 --> 03:45:59,680
and so i think we want to get rid of

4582
03:45:57,359 --> 03:46:02,000
that entirely like i think we want to

4583
03:45:59,680 --> 03:46:03,359
get rid of this concept

4584
03:46:02,000 --> 03:46:05,359
completely

4585
03:46:03,359 --> 03:46:08,640
we want to just map the thing into the

4586
03:46:05,359 --> 03:46:12,640
spatial grid just full on right so we

4587
03:46:08,639 --> 03:46:14,478
take whatever the light probe p is

4588
03:46:12,639 --> 03:46:16,639
and we just map that in

4589
03:46:14,478 --> 03:46:16,639
i

4590
03:46:17,600 --> 03:46:21,920
i don't actually know what the

4591
03:46:20,000 --> 03:46:24,719
code would be but

4592
03:46:21,920 --> 03:46:24,719
this i guess

4593
03:46:33,600 --> 03:46:37,040
and i assume we needed to be clamped as

4594
03:46:36,159 --> 03:46:39,279
well

4595
03:46:37,040 --> 03:46:40,319
i mean although it always

4596
03:46:39,279 --> 03:46:41,120
should be

4597
03:46:40,318 --> 03:46:43,119
so

4598
03:46:41,120 --> 03:46:45,520
that's actually if you could just assert

4599
03:46:43,120 --> 03:46:47,359
that it's inbounds actually

4600
03:46:45,520 --> 03:46:49,279
um

4601
03:46:47,359 --> 03:46:50,640
so i guess you would do something more

4602
03:46:49,279 --> 03:46:52,399
like

4603
03:46:50,639 --> 03:46:54,159
all right half atlas index is out of

4604
03:46:52,398 --> 03:46:55,680
here goodbye

4605
03:46:54,159 --> 03:46:57,039
um

4606
03:46:55,680 --> 03:46:59,840
uh

4607
03:46:57,040 --> 03:47:02,340
initial grid i

4608
03:46:59,840 --> 03:47:04,799
is get index 4p

4609
03:47:02,340 --> 03:47:06,960
[Music]

4610
03:47:04,799 --> 03:47:09,438
for whatever the spatial grid is

4611
03:47:06,959 --> 03:47:10,799
and whatever the light probe position is

4612
03:47:09,439 --> 03:47:13,279
figure it out

4613
03:47:10,799 --> 03:47:15,039
uh and then here in initial grid index

4614
03:47:13,279 --> 03:47:18,920
we're just making a flat index from

4615
03:47:15,040 --> 03:47:18,920
whatever that was

4616
03:47:20,318 --> 03:47:24,559
i'm going to assert that it's inbounds

4617
03:47:22,559 --> 03:47:26,000
because

4618
03:47:24,559 --> 03:47:27,680
who knows

4619
03:47:26,000 --> 03:47:28,559
maybe we screwed something up and it's

4620
03:47:27,680 --> 03:47:30,479
not

4621
03:47:28,559 --> 03:47:32,318
but it should always be because we only

4622
03:47:30,478 --> 03:47:34,719
cast from inside the spatial partition

4623
03:47:32,318 --> 03:47:37,119
we never cast from outside

4624
03:47:34,719 --> 03:47:39,119
um and so

4625
03:47:37,120 --> 03:47:41,439
a flat index from

4626
03:47:39,120 --> 03:47:44,079
is u32 so let's

4627
03:47:41,439 --> 03:47:45,279
cast that down

4628
03:47:44,079 --> 03:47:46,478
although i don't know why because it

4629
03:47:45,279 --> 03:47:48,560
doesn't have to be

4630
03:47:46,478 --> 03:47:52,879
a flat index anymore in that way it can

4631
03:47:48,559 --> 03:47:52,879
just be 32-bit so actually

4632
03:47:53,120 --> 03:47:57,439
switch all this to 32-bit it's now fine

4633
03:47:56,079 --> 03:47:58,719
because the only reason there are 16-bit

4634
03:47:57,439 --> 03:47:59,760
is because previously we had walk tables

4635
03:47:58,719 --> 03:48:02,719
we don't have walk doesn't work because

4636
03:47:59,760 --> 03:48:02,719
we optimize all that out

4637
03:48:03,520 --> 03:48:05,600
so

4638
03:48:04,478 --> 03:48:07,358
you know

4639
03:48:05,600 --> 03:48:09,920
that's all fine

4640
03:48:07,359 --> 03:48:12,840
okay so in theory now we should at least

4641
03:48:09,920 --> 03:48:14,639
be starting from the correct grid

4642
03:48:12,840 --> 03:48:16,318
location uh

4643
03:48:14,639 --> 03:48:17,519
you know although i guess you know

4644
03:48:16,318 --> 03:48:19,519
before i even look at anything i should

4645
03:48:17,520 --> 03:48:20,800
fix finish the rest of this though

4646
03:48:19,520 --> 03:48:21,760
uh so now we should be starting from the

4647
03:48:20,799 --> 03:48:23,119
correct grid location because we're

4648
03:48:21,760 --> 03:48:25,199
actually mapping it in here and we can

4649
03:48:23,120 --> 03:48:28,199
get rid of that half atlas

4650
03:48:25,199 --> 03:48:28,199
um

4651
03:48:29,359 --> 03:48:35,359
we don't really need atlas to spatial

4652
03:48:31,680 --> 03:48:35,359
grid index offset um

4653
03:48:41,120 --> 03:48:43,840
like it seems like we should be able to

4654
03:48:42,478 --> 03:48:46,238
just get rid of this

4655
03:48:43,840 --> 03:48:47,199
and it's used like out here in this

4656
03:48:46,238 --> 03:48:49,039
thing

4657
03:48:47,199 --> 03:48:51,199
but i don't think we care about that at

4658
03:48:49,040 --> 03:48:51,199
all

4659
03:48:51,279 --> 03:48:55,279
i mean we can still use that as the way

4660
03:48:53,279 --> 03:48:57,760
we do the alignment at the immediate

4661
03:48:55,279 --> 03:48:59,359
moment but um we don't need to store it

4662
03:48:57,760 --> 03:49:01,359
certainly

4663
03:48:59,359 --> 03:49:02,800
uh so we'll just leave that because it

4664
03:49:01,359 --> 03:49:04,000
needs to compute how it's aligned and

4665
03:49:02,799 --> 03:49:05,358
how it's aligned at the moment is

4666
03:49:04,000 --> 03:49:06,318
probably fine

4667
03:49:05,359 --> 03:49:09,960
um

4668
03:49:06,318 --> 03:49:09,959
but you know

4669
03:49:10,079 --> 03:49:12,879
we don't really care

4670
03:49:20,159 --> 03:49:24,799
okay

4671
03:49:21,439 --> 03:49:26,800
uh so we still have really weird casting

4672
03:49:24,799 --> 03:49:29,358
bugs so like we're not casting from the

4673
03:49:26,799 --> 03:49:31,438
correct locations still you can tell

4674
03:49:29,359 --> 03:49:34,399
uh pretty easily right

4675
03:49:31,439 --> 03:49:36,398
um so what's the deal with with the

4676
03:49:34,398 --> 03:49:39,559
what's the deal with grape nuts you know

4677
03:49:36,398 --> 03:49:39,559
what i'm saying

4678
03:49:43,359 --> 03:49:46,960
why is there no timer i don't know

4679
03:49:47,920 --> 03:49:52,318
you know why there's no timer we never

4680
03:49:49,520 --> 03:49:55,359
started it

4681
03:49:52,318 --> 03:49:55,359
we never started it

4682
03:49:56,159 --> 03:49:58,879
sorry about that

4683
03:50:02,719 --> 03:50:05,959
3 45.

4684
03:50:08,478 --> 03:50:11,760
sorry we never started it

4685
03:50:13,840 --> 03:50:19,079
we've only been programming for one

4686
03:50:15,439 --> 03:50:19,079
minute and 30 seconds

4687
03:50:21,040 --> 03:50:24,319
all right anyway uh

4688
03:50:22,799 --> 03:50:25,278
so

4689
03:50:24,318 --> 03:50:28,318
yeah

4690
03:50:25,279 --> 03:50:32,000
we are still messing this up uh so let's

4691
03:50:28,318 --> 03:50:32,000
continue down this this uh

4692
03:50:32,840 --> 03:50:36,559
situation and see if we can't find some

4693
03:50:35,279 --> 03:50:38,399
more bugs before we start stepping

4694
03:50:36,559 --> 03:50:40,000
through it more because like we made

4695
03:50:38,398 --> 03:50:42,159
some pretty big changes so let's just

4696
03:50:40,000 --> 03:50:43,439
see if we can make this a little more

4697
03:50:42,159 --> 03:50:46,439
sane

4698
03:50:43,439 --> 03:50:46,439
um

4699
03:50:58,478 --> 03:51:03,719
there's really not a lot

4700
03:51:00,079 --> 03:51:03,719
to talk about here

4701
03:51:04,799 --> 03:51:08,478
i mean we kind of know this is working

4702
03:51:06,559 --> 03:51:09,680
properly because we can look at the

4703
03:51:08,478 --> 03:51:10,478
bounds

4704
03:51:09,680 --> 03:51:14,238
so

4705
03:51:10,478 --> 03:51:17,840
the the placement of the bounds

4706
03:51:14,238 --> 03:51:20,478
seems still roughly correct

4707
03:51:17,840 --> 03:51:21,920
i mean it seems skewed very heavily

4708
03:51:20,478 --> 03:51:24,079
forward

4709
03:51:21,920 --> 03:51:26,000
for some reason that i don't

4710
03:51:24,079 --> 03:51:28,799
totally understand

4711
03:51:26,000 --> 03:51:30,398
so like maybe that's a little broken but

4712
03:51:28,799 --> 03:51:32,398
uh that

4713
03:51:30,398 --> 03:51:33,358
that's really we don't care too much

4714
03:51:32,398 --> 03:51:35,439
about

4715
03:51:33,359 --> 03:51:37,040
at the moment right so we'll deal with

4716
03:51:35,439 --> 03:51:38,960
that a little bit later when we actually

4717
03:51:37,040 --> 03:51:40,720
align these right now that shouldn't

4718
03:51:38,959 --> 03:51:42,159
matter at all like it shouldn't matter

4719
03:51:40,719 --> 03:51:43,198
how they're aligned

4720
03:51:42,159 --> 03:51:45,840
um

4721
03:51:43,199 --> 03:51:48,159
we you know we we should be able to fix

4722
03:51:45,840 --> 03:51:50,639
this uh no matter how they're aligned it

4723
03:51:48,159 --> 03:51:50,639
should work

4724
03:51:55,920 --> 03:52:01,600
okay

4725
03:51:57,520 --> 03:52:02,960
so when we've have it all

4726
03:52:01,600 --> 03:52:05,199
when we

4727
03:52:02,959 --> 03:52:09,358
create these

4728
03:52:05,199 --> 03:52:13,479
uh voxels we create the atlas spatial

4729
03:52:09,359 --> 03:52:13,479
one that all looks fine

4730
03:52:13,680 --> 03:52:18,398
the offset is just there for the count

4731
03:52:21,359 --> 03:52:24,960
which again i really don't think we care

4732
03:52:23,199 --> 03:52:26,800
about now

4733
03:52:24,959 --> 03:52:28,719
all that stuff had to be very careful

4734
03:52:26,799 --> 03:52:30,318
before because we needed the walk tables

4735
03:52:28,719 --> 03:52:31,438
lineup we don't care about that at all

4736
03:52:30,318 --> 03:52:34,959
anymore

4737
03:52:31,439 --> 03:52:34,960
so it should just be fine now

4738
03:52:36,639 --> 03:52:39,639
um

4739
03:52:51,520 --> 03:52:55,120
yeah so so i mean that all seems

4740
03:52:53,279 --> 03:52:56,800
reasonable to me i don't i don't know i

4741
03:52:55,120 --> 03:52:58,720
don't think we need to belabor that code

4742
03:52:56,799 --> 03:53:00,000
very much but let's go into full cast

4743
03:52:58,719 --> 03:53:01,679
and

4744
03:53:00,000 --> 03:53:03,600
uh take a look at what's going on in

4745
03:53:01,680 --> 03:53:04,800
there i also don't know like full cast

4746
03:53:03,600 --> 03:53:06,479
like i have no idea what the point of

4747
03:53:04,799 --> 03:53:08,478
full cast is anymore

4748
03:53:06,478 --> 03:53:11,599
um it seems like you would just probably

4749
03:53:08,478 --> 03:53:13,679
weld that into here because there's no

4750
03:53:11,600 --> 03:53:16,159
point to it

4751
03:53:13,680 --> 03:53:17,520
it's not really a thing anymore like

4752
03:53:16,159 --> 03:53:21,719
it's kind of dumb that these are

4753
03:53:17,520 --> 03:53:21,720
separated but you know

4754
03:53:25,120 --> 03:53:29,560
anyway

4755
03:53:26,559 --> 03:53:29,559
uh

4756
03:53:36,000 --> 03:53:41,359
so the grid raycast

4757
03:53:38,398 --> 03:53:43,119
path which is usually what we call uh

4758
03:53:41,359 --> 03:53:46,880
we're just passing down that initial

4759
03:53:43,120 --> 03:53:49,680
grid index which is just coming from

4760
03:53:46,879 --> 03:53:50,799
whatever the position is in the spatial

4761
03:53:49,680 --> 03:53:53,359
grid

4762
03:53:50,799 --> 03:53:55,198
that we get from the light probe p which

4763
03:53:53,359 --> 03:53:57,199
is

4764
03:53:55,199 --> 03:53:59,680
you know what we are working with so

4765
03:53:57,199 --> 03:54:01,359
hopefully

4766
03:53:59,680 --> 03:54:03,760
um that's all fine

4767
03:54:01,359 --> 03:54:05,920
ray origin is just the four wide version

4768
03:54:03,760 --> 03:54:07,840
of that we should probably unify these

4769
03:54:05,920 --> 03:54:09,600
names a little bit

4770
03:54:07,840 --> 03:54:11,760
um

4771
03:54:09,600 --> 03:54:13,760
you know maybe we call this

4772
03:54:11,760 --> 03:54:15,760
light probe p so that at least we don't

4773
03:54:13,760 --> 03:54:18,719
have yet another variable in there for

4774
03:54:15,760 --> 03:54:21,120
no apparent reason

4775
03:54:18,719 --> 03:54:21,119
and

4776
03:54:26,879 --> 03:54:30,478
yeah i mean

4777
03:54:28,159 --> 03:54:32,478
that just seems pretty straightforward

4778
03:54:30,478 --> 03:54:34,398
so i'm not sure why we've got such a

4779
03:54:32,478 --> 03:54:36,238
messed up solution happening based on

4780
03:54:34,398 --> 03:54:37,278
what i see but who knows let's keep

4781
03:54:36,238 --> 03:54:39,119
going

4782
03:54:37,279 --> 03:54:40,960
so in here we then say okay we're going

4783
03:54:39,120 --> 03:54:45,040
to take the spatial

4784
03:54:40,959 --> 03:54:46,799
dimensions of the spatial grid

4785
03:54:45,040 --> 03:54:49,920
uh that all seems fine

4786
03:54:46,799 --> 03:54:51,599
uh we're going to get the center point

4787
03:54:49,920 --> 03:54:53,279
and get the difference from that that

4788
03:54:51,600 --> 03:54:58,279
all seems fine i don't actually know

4789
03:54:53,279 --> 03:54:58,279
what cell dim is used for

4790
03:55:02,398 --> 03:55:06,599
in the four wide case

4791
03:55:17,279 --> 03:55:25,560
it's only used in a bunch of code that

4792
03:55:20,398 --> 03:55:25,559
got if zeroed out it looks like

4793
03:55:33,199 --> 03:55:37,920
so i might say like let's just lose this

4794
03:55:36,079 --> 03:55:40,000
this was like the old stepping code that

4795
03:55:37,920 --> 03:55:41,920
was non-present ham that was crappy why

4796
03:55:40,000 --> 03:55:43,680
i didn't use a president in the first

4797
03:55:41,920 --> 03:55:45,439
place i don't know it might have saved

4798
03:55:43,680 --> 03:55:46,960
us that nonsense of going down the walk

4799
03:55:45,439 --> 03:55:48,800
table route because it probably would

4800
03:55:46,959 --> 03:55:50,879
have been a lot faster

4801
03:55:48,799 --> 03:55:52,318
so that was kind of a mistake

4802
03:55:50,879 --> 03:55:53,438
um

4803
03:55:52,318 --> 03:55:56,478
but yeah you can see i'm just going to

4804
03:55:53,439 --> 03:55:59,359
remove this uh

4805
03:55:56,478 --> 03:55:59,358
why does it jump

4806
03:56:00,318 --> 03:56:03,439
what is happening there

4807
03:56:03,920 --> 03:56:07,199
there's some weird thing happening with

4808
03:56:05,439 --> 03:56:09,279
undo where it goes to some place that

4809
03:56:07,199 --> 03:56:13,520
had nothing to do with an undo like we

4810
03:56:09,279 --> 03:56:13,520
didn't undo anything there did we

4811
03:56:16,079 --> 03:56:20,879
i don't know very strange anyway

4812
03:56:18,719 --> 03:56:23,519
uh so if i delete this code then we

4813
03:56:20,879 --> 03:56:25,039
don't need the cell dim4 which you know

4814
03:56:23,520 --> 03:56:27,279
just trying to remove stuff here because

4815
03:56:25,040 --> 03:56:28,160
this is getting kind of like very

4816
03:56:27,279 --> 03:56:29,359
uh

4817
03:56:28,159 --> 03:56:31,279
there's a lot of

4818
03:56:29,359 --> 03:56:32,880
dead code in here so i just want to kind

4819
03:56:31,279 --> 03:56:36,159
of start cleaning it down to what we

4820
03:56:32,879 --> 03:56:36,159
actually now still use

4821
03:56:36,959 --> 03:56:41,679
um so

4822
03:56:39,680 --> 03:56:43,120
looking at this code we

4823
03:56:41,680 --> 03:56:44,880
do need the cell dimension because we're

4824
03:56:43,120 --> 03:56:47,120
using that for stepping for the

4825
03:56:44,879 --> 03:56:49,519
bresenham part of the code right we do

4826
03:56:47,120 --> 03:56:50,880
need the ray weight that's fine uh we

4827
03:56:49,520 --> 03:56:53,040
don't really care about total cast

4828
03:56:50,879 --> 03:56:54,318
initiated much anymore we could probably

4829
03:56:53,040 --> 03:56:55,680
clean up some of these statistics in the

4830
03:56:54,318 --> 03:56:57,198
future but that's not arming anyone so

4831
03:56:55,680 --> 03:56:59,040
it could stay

4832
03:56:57,199 --> 03:57:01,680
at the moment we are getting the cell

4833
03:56:59,040 --> 03:57:04,000
center uh that's of the spatial grid we

4834
03:57:01,680 --> 03:57:07,520
again don't really care uh the fact that

4835
03:57:04,000 --> 03:57:08,879
we have to get this at all is dumb like

4836
03:57:07,520 --> 03:57:10,000
so that's why there's two there because

4837
03:57:08,879 --> 03:57:11,278
we could have just we already knew what

4838
03:57:10,000 --> 03:57:13,600
it was

4839
03:57:11,279 --> 03:57:15,760
um before so that's kind of dumb but

4840
03:57:13,600 --> 03:57:17,600
anyway this gives us the difference

4841
03:57:15,760 --> 03:57:20,159
between where we are actually casting

4842
03:57:17,600 --> 03:57:21,520
from and the center of the spatial cell

4843
03:57:20,159 --> 03:57:23,279
that's all fine

4844
03:57:21,520 --> 03:57:25,279
um at least i can can't think of any

4845
03:57:23,279 --> 03:57:27,600
reason why it wouldn't be fine

4846
03:57:25,279 --> 03:57:27,600
um

4847
03:57:28,159 --> 03:57:32,639
and then all the stepping code again we

4848
03:57:30,079 --> 03:57:34,398
didn't change the spatial index rules or

4849
03:57:32,639 --> 03:57:36,478
any of that stuff so all that should

4850
03:57:34,398 --> 03:57:39,680
just be fine

4851
03:57:36,478 --> 03:57:42,318
um when we go to sample from the

4852
03:57:39,680 --> 03:57:43,199
atlas this again should also i think be

4853
03:57:42,318 --> 03:57:44,879
okay

4854
03:57:43,199 --> 03:57:47,040
but it doesn't again we're having some

4855
03:57:44,879 --> 03:57:50,000
kind of a weird issue here where

4856
03:57:47,040 --> 03:57:52,160
for some reason our actual like our

4857
03:57:50,000 --> 03:57:54,398
actual spatial grid stepping seems

4858
03:57:52,159 --> 03:57:56,719
somewhat off or something

4859
03:57:54,398 --> 03:57:56,719
um

4860
03:57:58,000 --> 03:58:02,040
i'm gonna turn off

4861
03:58:02,559 --> 03:58:07,039
debug drawing in its entirety here

4862
03:58:11,520 --> 03:58:18,479
uh so that all i see is just the cast

4863
03:58:16,478 --> 03:58:20,719
and it looks like we also have lights

4864
03:58:18,478 --> 03:58:22,398
being drawn but i guess that's

4865
03:58:20,719 --> 03:58:25,198
not really a problem

4866
03:58:22,398 --> 03:58:29,398
i'm okay with that

4867
03:58:25,199 --> 03:58:29,399
all right uh so

4868
03:58:30,879 --> 03:58:37,039
i guess one pretty odd thing

4869
03:58:36,000 --> 03:58:37,920
is

4870
03:58:37,040 --> 03:58:40,080
that

4871
03:58:37,920 --> 03:58:43,120
what i'm looking at now suggests that

4872
03:58:40,079 --> 03:58:44,719
the spatial partition is sort of oddly

4873
03:58:43,120 --> 03:58:47,520
aligned

4874
03:58:44,719 --> 03:58:47,519
to the grid

4875
03:58:48,318 --> 03:58:53,039
but you know that really shouldn't

4876
03:58:50,238 --> 03:58:54,238
matter but it's a bit odd

4877
03:58:53,040 --> 03:58:57,239
right

4878
03:58:54,238 --> 03:58:57,238
um

4879
03:59:03,439 --> 03:59:07,920
like the spatial partition is now like i

4880
03:59:06,238 --> 03:59:10,079
don't really want the spatial partition

4881
03:59:07,920 --> 03:59:12,559
to be aligned in that way against the

4882
03:59:10,079 --> 03:59:14,238
casting i want you to be like in one

4883
03:59:12,559 --> 03:59:15,600
cell or not because otherwise we're

4884
03:59:14,238 --> 03:59:18,000
going to have a lot of numerical

4885
03:59:15,600 --> 03:59:20,318
precision fiddliness i think

4886
03:59:18,000 --> 03:59:22,879
so i would like to do

4887
03:59:20,318 --> 03:59:24,159
a slight change there so

4888
03:59:22,879 --> 03:59:27,159
when we're actually talking about the

4889
03:59:24,159 --> 03:59:27,159
casting

4890
03:59:27,279 --> 03:59:30,720
um

4891
03:59:28,879 --> 03:59:33,358
and we look at like the alignment when

4892
03:59:30,719 --> 03:59:35,358
we do these uh i would want this to be

4893
03:59:33,359 --> 03:59:37,040
like a half off

4894
03:59:35,359 --> 03:59:39,040
so we took that out before for the

4895
03:59:37,040 --> 03:59:40,800
spatial grid i think i still want that

4896
03:59:39,040 --> 03:59:43,800
in there

4897
03:59:40,799 --> 03:59:43,799
um

4898
03:59:54,719 --> 04:00:04,238
so maybe like the vox seldim xy i'm just

4899
03:59:59,279 --> 04:00:04,238
going to offset it by half a cell

4900
04:00:04,559 --> 04:00:11,198
so that it lines up with the corners um

4901
04:00:09,439 --> 04:00:12,720
i don't know that's my story and i'm

4902
04:00:11,199 --> 04:00:15,199
sticking to it it's not a very good

4903
04:00:12,719 --> 04:00:17,519
story i admit that

4904
04:00:15,199 --> 04:00:17,520
um

4905
04:00:18,398 --> 04:00:22,039
okay so

4906
04:00:31,279 --> 04:00:37,359
here's us casting

4907
04:00:34,719 --> 04:00:40,238
um

4908
04:00:37,359 --> 04:00:42,880
from this location

4909
04:00:40,238 --> 04:00:45,840
and i just i'm gonna

4910
04:00:42,879 --> 04:00:49,879
look to see if these are sane at all

4911
04:00:45,840 --> 04:00:49,880
i don't know if they are

4912
04:01:08,639 --> 04:01:11,519
they seem pretty good

4913
04:01:11,680 --> 04:01:15,800
they seem they seem pretty good

4914
04:01:33,359 --> 04:01:41,040
oh man check out how long that cast

4915
04:01:37,680 --> 04:01:41,040
hey man that's light for you

4916
04:01:41,760 --> 04:01:45,600
those photons

4917
04:01:44,238 --> 04:01:47,279
uh okay

4918
04:01:45,600 --> 04:01:49,520
so

4919
04:01:47,279 --> 04:01:51,600
literally just the fact that we were on

4920
04:01:49,520 --> 04:01:55,199
the numerical edge was enough to cause

4921
04:01:51,600 --> 04:01:57,840
that much of a problem apparently

4922
04:01:55,199 --> 04:02:00,960
um also we're we're

4923
04:01:57,840 --> 04:02:02,960
our alignment is shifty which is very

4924
04:02:00,959 --> 04:02:05,198
weird so we got another problem in here

4925
04:02:02,959 --> 04:02:07,919
like you see how it's shifting so our

4926
04:02:05,199 --> 04:02:10,560
alignment is inconsistent as we move

4927
04:02:07,920 --> 04:02:12,840
through this through space which is

4928
04:02:10,559 --> 04:02:16,159
not good

4929
04:02:12,840 --> 04:02:18,719
um so we'll have to fix that

4930
04:02:16,159 --> 04:02:21,359
uh but

4931
04:02:18,719 --> 04:02:25,519
otherwise

4932
04:02:21,359 --> 04:02:29,040
much more stable now aren't we just

4933
04:02:25,520 --> 04:02:30,479
uh i kind of like that shifting effect

4934
04:02:29,040 --> 04:02:32,560
i don't want it in there because it's

4935
04:02:30,478 --> 04:02:35,119
wrong but i kind of like it it's kind of

4936
04:02:32,559 --> 04:02:35,119
cool looking

4937
04:02:36,000 --> 04:02:43,840
so for some reason our atlas slides are

4938
04:02:39,279 --> 04:02:48,199
sampling slides relative to the grid

4939
04:02:43,840 --> 04:02:48,199
why would that be

4940
04:02:59,840 --> 04:03:04,398
because again the spatial grid should

4941
04:03:01,680 --> 04:03:06,800
not it should not matter because the

4942
04:03:04,398 --> 04:03:10,318
atlas grid is actually the only thing

4943
04:03:06,799 --> 04:03:10,929
that matters there

4944
04:03:10,318 --> 04:03:14,388
um

4945
04:03:10,930 --> 04:03:14,389
[Music]

4946
04:03:18,079 --> 04:03:23,039
so i don't really understand how we're

4947
04:03:20,879 --> 04:03:27,278
getting a shift

4948
04:03:23,040 --> 04:03:27,279
on the atlas grid

4949
04:03:32,420 --> 04:03:38,879
[Music]

4950
04:03:35,279 --> 04:03:41,279
how could that be happening ladies and

4951
04:03:38,879 --> 04:03:45,159
gentlemen

4952
04:03:41,279 --> 04:03:45,159
boys and girls

4953
04:03:53,760 --> 04:03:56,800
actually probably everyone who watches

4954
04:03:54,959 --> 04:03:58,559
this show is probably not a boy or a

4955
04:03:56,799 --> 04:04:01,119
girl anymore they're probably a man or

4956
04:03:58,559 --> 04:04:01,119
woman but

4957
04:04:01,520 --> 04:04:06,680
men and women ladies and gentlemen there

4958
04:04:03,600 --> 04:04:06,680
you go

4959
04:04:10,478 --> 04:04:16,679
so

4960
04:04:12,318 --> 04:04:16,680
what would it be

4961
04:04:24,238 --> 04:04:30,559
what would it be that would cause the

4962
04:04:26,959 --> 04:04:30,559
voxel to shift

4963
04:04:32,719 --> 04:04:36,318
and it's in

4964
04:04:34,478 --> 04:04:39,840
it's like

4965
04:04:36,318 --> 04:04:41,309
it's actually in like the voxel wrecked

4966
04:04:39,840 --> 04:04:42,880
that gets sent down

4967
04:04:41,309 --> 04:04:45,680
[Music]

4968
04:04:42,879 --> 04:04:48,719
so it's like the atlas grid's min corner

4969
04:04:45,680 --> 04:04:50,000
got set to something else

4970
04:04:48,719 --> 04:04:52,079
like here

4971
04:04:50,000 --> 04:04:55,639
but how is that possible because it's

4972
04:04:52,079 --> 04:04:55,639
always locked

4973
04:05:04,159 --> 04:05:12,279
i guess is it because of the

4974
04:05:08,000 --> 04:05:12,279
camera offset part

4975
04:05:21,120 --> 04:05:24,120
um

4976
04:05:38,719 --> 04:05:44,559
that does seem wrong

4977
04:05:40,959 --> 04:05:47,839
so the camera offset is a rolling value

4978
04:05:44,559 --> 04:05:47,840
so how the heck

4979
04:05:55,680 --> 04:05:59,800
how the heck was this working

4980
04:06:00,238 --> 04:06:05,439
am i missing something

4981
04:06:02,000 --> 04:06:08,318
so this is the original origin

4982
04:06:05,439 --> 04:06:08,318
offset here

4983
04:06:08,398 --> 04:06:14,398
which includes the actual

4984
04:06:11,120 --> 04:06:16,720
value that we strip away

4985
04:06:14,398 --> 04:06:19,519
right

4986
04:06:16,719 --> 04:06:21,198
how the heck was this not causing

4987
04:06:19,520 --> 04:06:24,840
visible role

4988
04:06:21,199 --> 04:06:24,840
as we shifted

4989
04:06:28,478 --> 04:06:31,278
what the heck

4990
04:06:33,279 --> 04:06:39,479
i don't understand

4991
04:06:35,199 --> 04:06:39,479
does someone else understand

4992
04:06:43,120 --> 04:06:50,560
that is totally confusing

4993
04:06:47,760 --> 04:06:53,600
because right like when this comes in

4994
04:06:50,559 --> 04:06:53,879
and you send down here the

4995
04:06:53,600 --> 04:06:54,960
the

4996
04:06:53,879 --> 04:06:57,039
[Music]

4997
04:06:54,959 --> 04:07:00,079
p values right so you've got sim origin

4998
04:06:57,040 --> 04:07:00,080
p and origin p

4999
04:07:01,600 --> 04:07:07,120
so the sim origin is going to be locked

5000
04:07:03,760 --> 04:07:10,000
it doesn't roll it just jumps

5001
04:07:07,120 --> 04:07:12,239
but the origin p would roll

5002
04:07:10,000 --> 04:07:12,238
and

5003
04:07:14,559 --> 04:07:19,920
oh i see because we set it to a round

5004
04:07:17,600 --> 04:07:24,720
value

5005
04:07:19,920 --> 04:07:24,719
we actually round it ahead of time

5006
04:07:25,840 --> 04:07:28,559
okay

5007
04:07:28,879 --> 04:07:33,759
okay

5008
04:07:31,199 --> 04:07:36,000
i see what you did there

5009
04:07:33,760 --> 04:07:37,520
so that offset is always going to be

5010
04:07:36,000 --> 04:07:41,520
like a fixed

5011
04:07:37,520 --> 04:07:45,359
amount that we've squared

5012
04:07:41,520 --> 04:07:47,680
and i suppose that's fine

5013
04:07:45,359 --> 04:07:47,680
um

5014
04:07:49,680 --> 04:07:54,318
so really this part here we could have

5015
04:07:52,559 --> 04:07:56,719
probably avoided

5016
04:07:54,318 --> 04:07:58,238
this is just adding back in this in a

5017
04:07:56,719 --> 04:07:58,629
sense

5018
04:07:58,238 --> 04:08:00,478
um

5019
04:07:58,629 --> 04:08:01,759
[Music]

5020
04:08:00,478 --> 04:08:03,599
so we probably could have just gotten

5021
04:08:01,760 --> 04:08:05,760
rid of that

5022
04:08:03,600 --> 04:08:08,000
it we could have just zeroed the dim

5023
04:08:05,760 --> 04:08:09,439
here out and then that wouldn't happen

5024
04:08:08,000 --> 04:08:11,279
that probably is how we should have done

5025
04:08:09,439 --> 04:08:14,639
that

5026
04:08:11,279 --> 04:08:14,640
but whatever um

5027
04:08:16,559 --> 04:08:22,238
so this is

5028
04:08:18,398 --> 04:08:23,599
now wrong because the number of cells is

5029
04:08:22,238 --> 04:08:26,799
not

5030
04:08:23,600 --> 04:08:28,640
the voxel dimension of the diffuse atlas

5031
04:08:26,799 --> 04:08:30,318
right it's actually

5032
04:08:28,639 --> 04:08:31,680
going to be

5033
04:08:30,318 --> 04:08:34,879
the

5034
04:08:31,680 --> 04:08:34,880
this cell count

5035
04:08:35,040 --> 04:08:39,680
so i'm not sure that actually is the

5036
04:08:37,040 --> 04:08:41,760
right number to use either uh but let me

5037
04:08:39,680 --> 04:08:44,800
think about what that is actually doing

5038
04:08:41,760 --> 04:08:44,800
because i don't actually know

5039
04:08:45,120 --> 04:08:50,640
so what that's actually doing is it's

5040
04:08:48,398 --> 04:08:50,639
uh

5041
04:08:51,359 --> 04:08:58,120
it's trying to produce how large this

5042
04:08:54,000 --> 04:08:58,120
particular thing should be

5043
04:09:00,559 --> 04:09:04,000
but isn't that just

5044
04:09:07,439 --> 04:09:11,199
i mean we already have a voxel for it so

5045
04:09:09,840 --> 04:09:14,760
wouldn't you be able to just get the

5046
04:09:11,199 --> 04:09:14,760
dimensions directly

5047
04:09:18,799 --> 04:09:22,599
that seems kind of busted

5048
04:09:29,680 --> 04:09:33,520
so i think this is just wrong

5049
04:09:31,920 --> 04:09:34,398
uh and i think what you actually want

5050
04:09:33,520 --> 04:09:35,279
here

5051
04:09:34,398 --> 04:09:36,398
is

5052
04:09:35,279 --> 04:09:39,359
the

5053
04:09:36,398 --> 04:09:44,559
actual app like the actual

5054
04:09:39,359 --> 04:09:46,559
uh atlas grids dimension

5055
04:09:44,559 --> 04:09:48,559
right

5056
04:09:46,559 --> 04:09:50,799
um i mean i don't even know why this

5057
04:09:48,559 --> 04:09:50,799
isn't

5058
04:09:51,199 --> 04:09:55,479
asked for

5059
04:09:52,478 --> 04:09:55,478
here

5060
04:10:02,719 --> 04:10:08,158
maybe we don't have

5061
04:10:04,959 --> 04:10:09,919
that concept but we should

5062
04:10:08,158 --> 04:10:11,439
like there should be a way to ask how

5063
04:10:09,920 --> 04:10:12,960
big this thing is

5064
04:10:11,439 --> 04:10:15,600
which is just the cell dim times the

5065
04:10:12,959 --> 04:10:15,599
cell count

5066
04:10:21,120 --> 04:10:24,560
and there's a total bounds so that

5067
04:10:23,120 --> 04:10:26,079
should be pretty trivial too right i

5068
04:10:24,559 --> 04:10:28,398
mean that that's actually the whole

5069
04:10:26,079 --> 04:10:28,398
thing

5070
04:10:28,478 --> 04:10:32,559
so

5071
04:10:30,238 --> 04:10:32,559
yeah

5072
04:10:35,120 --> 04:10:41,600
so let's just say what if we said that

5073
04:10:38,158 --> 04:10:43,840
this was actually the total bounds of

5074
04:10:41,600 --> 04:10:45,120
the voxel

5075
04:10:43,840 --> 04:10:46,559
so

5076
04:10:45,120 --> 04:10:47,760
that solution

5077
04:10:46,559 --> 04:10:49,600
atlas

5078
04:10:47,760 --> 04:10:52,920
grid

5079
04:10:49,600 --> 04:10:52,920
total bounds

5080
04:11:04,398 --> 04:11:08,398
let's start there and then let's try to

5081
04:11:06,959 --> 04:11:09,759
figure out because i still don't see

5082
04:11:08,398 --> 04:11:10,959
though that that's just cleaning up

5083
04:11:09,760 --> 04:11:13,199
something that shouldn't probably have

5084
04:11:10,959 --> 04:11:15,919
been happening the way it was happening

5085
04:11:13,199 --> 04:11:18,720
but what is going on with the sh

5086
04:11:15,920 --> 04:11:18,719
what the heck

5087
04:11:19,040 --> 04:11:23,279
we're just seeing so much weird stuff

5088
04:11:21,040 --> 04:11:26,399
happening

5089
04:11:23,279 --> 04:11:26,399
that i don't understand

5090
04:11:27,199 --> 04:11:32,520
like how are we getting that flicker

5091
04:11:29,040 --> 04:11:32,520
nobody knows

5092
04:11:44,559 --> 04:11:48,959
and that is just from this

5093
04:11:46,959 --> 04:11:51,358
that's just from setting the minimum

5094
04:11:48,959 --> 04:11:51,358
corner

5095
04:11:55,040 --> 04:11:59,720
can that really be true let's find out

5096
04:12:17,120 --> 04:12:22,720
yeah that's really weird

5097
04:12:20,158 --> 04:12:24,398
so the alignment here is really strange

5098
04:12:22,719 --> 04:12:27,599
and probably there's a little bit of a

5099
04:12:24,398 --> 04:12:29,198
deeper bug happening then as well

5100
04:12:27,600 --> 04:12:31,040
cause like just by changing the

5101
04:12:29,199 --> 04:12:32,720
alignment you can get very strange

5102
04:12:31,040 --> 04:12:34,720
things to happen

5103
04:12:32,719 --> 04:12:37,679
which don't make a whole lot of sense

5104
04:12:34,719 --> 04:12:37,679
right i mean

5105
04:12:40,238 --> 04:12:47,279
it just slowly creep along

5106
04:12:44,799 --> 04:12:48,158
um i would like to draw

5107
04:12:47,279 --> 04:12:50,319
some

5108
04:12:48,158 --> 04:12:53,318
more stuff here

5109
04:12:50,318 --> 04:12:53,318
uh

5110
04:13:02,318 --> 04:13:07,840
so let me draw the actual uh

5111
04:13:05,439 --> 04:13:11,520
octahedra values again so i can see are

5112
04:13:07,840 --> 04:13:13,199
they sliding their sampling location

5113
04:13:11,520 --> 04:13:16,000
or are

5114
04:13:13,199 --> 04:13:17,199
we somehow sliding the shaders sampling

5115
04:13:16,000 --> 04:13:19,920
location

5116
04:13:17,199 --> 04:13:23,960
because either one would be

5117
04:13:19,920 --> 04:13:23,960
could happen right

5118
04:13:28,799 --> 04:13:33,759
so it almost looks like it's just the

5119
04:13:30,719 --> 04:13:36,639
shading that's sliding

5120
04:13:33,760 --> 04:13:39,040
right because like the octahedral values

5121
04:13:36,639 --> 04:13:40,559
are locked in place they don't look like

5122
04:13:39,040 --> 04:13:44,000
they're sliding and they don't look like

5123
04:13:40,559 --> 04:13:46,318
they're changing either they just look

5124
04:13:44,000 --> 04:13:47,250
like they are what they are

5125
04:13:46,318 --> 04:13:48,639
if we zoom in

5126
04:13:47,250 --> 04:13:52,478
[Music]

5127
04:13:48,639 --> 04:13:55,478
on like that value you can see it

5128
04:13:52,478 --> 04:13:55,478
moving

5129
04:13:58,158 --> 04:14:03,719
right

5130
04:13:59,600 --> 04:14:03,720
but the actual values

5131
04:14:11,680 --> 04:14:17,680
the actual values clearly do something

5132
04:14:14,079 --> 04:14:17,680
different depending on where you are

5133
04:14:19,090 --> 04:14:23,840
[Music]

5134
04:14:21,199 --> 04:14:23,840
i say

5135
04:14:28,318 --> 04:14:31,799
we're getting close

5136
04:14:43,680 --> 04:14:46,960
but we're not getting quite

5137
04:14:48,879 --> 04:14:52,238
so where's the spatial grid at

5138
04:14:55,120 --> 04:14:58,840
like what's going on there

5139
04:15:05,760 --> 04:15:08,800
looks pretty solid

5140
04:15:09,920 --> 04:15:13,040
not exactly

5141
04:15:14,799 --> 04:15:19,278
um so even as the grid slides as is

5142
04:15:17,439 --> 04:15:21,199
represented by the cyan and magenta

5143
04:15:19,279 --> 04:15:23,120
coloring

5144
04:15:21,199 --> 04:15:25,680
i i don't

5145
04:15:23,120 --> 04:15:30,359
really see any evidence that like the

5146
04:15:25,680 --> 04:15:30,359
actual things are sliding

5147
04:15:37,199 --> 04:15:41,840
so i'm really weirded out by

5148
04:15:39,569 --> 04:15:44,478
[Music]

5149
04:15:41,840 --> 04:15:47,680
by the octahedral lighting values

5150
04:15:44,478 --> 04:15:49,679
because if they're not changing how the

5151
04:15:47,680 --> 04:15:52,158
heck

5152
04:15:49,680 --> 04:15:53,760
is the shader that far off we must be

5153
04:15:52,158 --> 04:15:56,799
setting

5154
04:15:53,760 --> 04:15:59,600
the value the alignment in the shader

5155
04:15:56,799 --> 04:16:02,238
must be totally busted like

5156
04:15:59,600 --> 04:16:05,760
when we set that value

5157
04:16:02,238 --> 04:16:09,840
it's setting it wrong or something

5158
04:16:05,760 --> 04:16:13,478
so that as we slide we are offset

5159
04:16:09,840 --> 04:16:13,478
like right

5160
04:16:17,120 --> 04:16:22,479
oh the scale is wrong

5161
04:16:22,799 --> 04:16:30,639
the scale is wrong the scale is wrong

5162
04:16:27,840 --> 04:16:30,639
it's wrong

5163
04:16:36,879 --> 04:16:40,959
that's what our problem is

5164
04:16:41,359 --> 04:16:47,920
the scale

5165
04:16:43,920 --> 04:16:47,920
is wrong isn't it

5166
04:16:55,520 --> 04:17:01,439
okay so why is the scale wrong

5167
04:16:58,799 --> 04:17:05,438
why is it wrong

5168
04:17:01,439 --> 04:17:06,639
somebody tell me why the scale is wrong

5169
04:17:05,439 --> 04:17:07,760
if someone else can tell me why the

5170
04:17:06,639 --> 04:17:09,519
skill is wrong then i don't have to

5171
04:17:07,760 --> 04:17:11,120
figure it out so that would be nice

5172
04:17:09,520 --> 04:17:12,960
but unfortunately you probably don't

5173
04:17:11,120 --> 04:17:14,640
know and that's fine i mean i'm the one

5174
04:17:12,959 --> 04:17:16,079
doing the stream it's my responsibility

5175
04:17:14,639 --> 04:17:17,519
at the end of the day not gonna blame

5176
04:17:16,079 --> 04:17:20,000
you

5177
04:17:17,520 --> 04:17:21,600
uh but okay so you can see the hot voxel

5178
04:17:20,000 --> 04:17:23,680
rect here is getting pulled out of the

5179
04:17:21,600 --> 04:17:26,640
atlas grid's total bounce which is what

5180
04:17:23,680 --> 04:17:26,639
we want

5181
04:17:29,760 --> 04:17:35,439
no it's not

5182
04:17:30,879 --> 04:17:35,438
so because we clamp in the shader

5183
04:17:37,120 --> 04:17:42,000
to the actual maximum value

5184
04:17:48,478 --> 04:17:56,039
that probably means that this needs to

5185
04:17:50,799 --> 04:17:56,039
be divided by actually the smaller value

5186
04:18:15,120 --> 04:18:18,319
i am going to argue

5187
04:18:19,120 --> 04:18:23,120
here is my argument you feel free to

5188
04:18:21,120 --> 04:18:25,279
disagree with it it's not

5189
04:18:23,120 --> 04:18:28,720
going to be very eloquent

5190
04:18:25,279 --> 04:18:28,720
i'm going to argue the following thing

5191
04:18:28,799 --> 04:18:32,719
when we

5192
04:18:30,478 --> 04:18:32,719
do

5193
04:18:33,439 --> 04:18:37,479
so so

5194
04:18:34,409 --> 04:18:37,478
[Music]

5195
04:18:38,318 --> 04:18:41,920
when we do our sampling

5196
04:18:40,478 --> 04:18:42,639
uh we do

5197
04:18:41,920 --> 04:18:45,359
the

5198
04:18:42,639 --> 04:18:46,840
the vox i plus devoxx i

5199
04:18:45,359 --> 04:18:51,439
right in

5200
04:18:46,840 --> 04:18:52,398
here so the way this works is we

5201
04:18:51,439 --> 04:18:55,760
are

5202
04:18:52,398 --> 04:18:58,398
off we're first subtracting

5203
04:18:55,760 --> 04:18:59,279
to to get the vox i value in the first

5204
04:18:58,398 --> 04:19:00,879
place

5205
04:18:59,279 --> 04:19:03,840
right

5206
04:19:00,879 --> 04:19:03,839
um

5207
04:19:04,559 --> 04:19:08,959
we are

5208
04:19:05,600 --> 04:19:08,960
first subtracting

5209
04:19:11,600 --> 04:19:15,120
the minimum corner

5210
04:19:13,760 --> 04:19:16,880
which is set

5211
04:19:15,120 --> 04:19:19,120
here

5212
04:19:16,879 --> 04:19:20,959
uh which we assume has to be correct

5213
04:19:19,120 --> 04:19:23,040
because there it's just one point in

5214
04:19:20,959 --> 04:19:24,639
space it so unless we were pulling that

5215
04:19:23,040 --> 04:19:26,800
somehow from

5216
04:19:24,639 --> 04:19:28,559
uh yeah i i don't know how that could be

5217
04:19:26,799 --> 04:19:30,238
wrong i mean maybe it is but i can't

5218
04:19:28,559 --> 04:19:31,519
think of how that could be wrong exactly

5219
04:19:30,238 --> 04:19:34,318
but

5220
04:19:31,520 --> 04:19:38,158
what we then do is we multiply by the

5221
04:19:34,318 --> 04:19:38,158
inverse total dimension

5222
04:19:38,318 --> 04:19:41,318
right

5223
04:19:44,799 --> 04:19:50,000
now why we do that in two steps i have

5224
04:19:47,439 --> 04:19:53,680
no freaking idea

5225
04:19:50,000 --> 04:19:54,799
like that should just be one value right

5226
04:19:53,680 --> 04:19:57,120
um

5227
04:19:54,799 --> 04:19:59,840
but because we are

5228
04:19:57,120 --> 04:20:01,040
because we're using light lookup voxel

5229
04:19:59,840 --> 04:20:03,520
dim

5230
04:20:01,040 --> 04:20:05,439
which doesn't have the minus one baked

5231
04:20:03,520 --> 04:20:09,120
into it

5232
04:20:05,439 --> 04:20:10,720
we're actually off by one in this

5233
04:20:09,120 --> 04:20:13,680
mapping

5234
04:20:10,719 --> 04:20:16,799
that's my story

5235
04:20:13,680 --> 04:20:19,520
uh and again i i don't know

5236
04:20:16,799 --> 04:20:20,879
why we set it up exactly this way that

5237
04:20:19,520 --> 04:20:23,880
seems

5238
04:20:20,879 --> 04:20:23,879
stupid

5239
04:20:30,799 --> 04:20:34,959
um

5240
04:20:32,079 --> 04:20:37,279
but that's just kind of

5241
04:20:34,959 --> 04:20:39,438
where we're at right now so i guess i

5242
04:20:37,279 --> 04:20:41,840
won't change it i don't know um the

5243
04:20:39,439 --> 04:20:44,880
light look look up voxel dim

5244
04:20:41,840 --> 04:20:47,840
value uh which is

5245
04:20:44,879 --> 04:20:47,839
which is for you

5246
04:20:51,439 --> 04:20:54,439
this

5247
04:21:07,920 --> 04:21:10,719
i think

5248
04:21:12,639 --> 04:21:17,920
in order to now line up yeah has to just

5249
04:21:15,520 --> 04:21:21,120
be you have to subtract one from it

5250
04:21:17,920 --> 04:21:22,719
because otherwise you're going to go

5251
04:21:21,120 --> 04:21:26,159
one further than you should when you're

5252
04:21:22,719 --> 04:21:26,158
talking about which cell you're in

5253
04:21:35,760 --> 04:21:41,199
i i will say that that's a little ad hoc

5254
04:21:38,478 --> 04:21:44,000
i should really work that out

5255
04:21:41,199 --> 04:21:45,600
directly but yeah

5256
04:21:44,000 --> 04:21:47,760
i mean it seems like i was right but i

5257
04:21:45,600 --> 04:21:48,880
was like a little bit hazy in my

5258
04:21:47,760 --> 04:21:52,079
thinking so i probably should have been

5259
04:21:48,879 --> 04:21:52,079
a little bit more careful but

5260
04:21:54,559 --> 04:21:58,158
um

5261
04:21:55,520 --> 04:21:59,920
okay so let's turn off all of our debug

5262
04:21:58,158 --> 04:22:01,840
stuff now and see what the lighting

5263
04:21:59,920 --> 04:22:03,600
actually looks like uh so we can figure

5264
04:22:01,840 --> 04:22:06,158
out how far away we are from this being

5265
04:22:03,600 --> 04:22:07,840
actually working properly

5266
04:22:06,158 --> 04:22:09,119
um

5267
04:22:07,840 --> 04:22:11,359
so

5268
04:22:09,120 --> 04:22:11,359
uh

5269
04:22:15,120 --> 04:22:20,800
well something like that

5270
04:22:18,238 --> 04:22:20,799
if you will

5271
04:22:20,959 --> 04:22:23,599
or if you want

5272
04:22:25,279 --> 04:22:29,600
um so here's the lighting

5273
04:22:27,840 --> 04:22:32,000
uh you know does it look stable maybe i

5274
04:22:29,600 --> 04:22:34,079
should turn off those bounds as well so

5275
04:22:32,000 --> 04:22:35,600
they're not shifting around you can see

5276
04:22:34,079 --> 04:22:37,920
like it's not big enough we should

5277
04:22:35,600 --> 04:22:41,040
probably make it you can see the edge of

5278
04:22:37,920 --> 04:22:43,199
the apron there which we want to fix

5279
04:22:41,040 --> 04:22:45,279
so we maybe should do that as well but

5280
04:22:43,199 --> 04:22:48,520
let's see how we're doing here do i see

5281
04:22:45,279 --> 04:22:48,520
any flickeriness

5282
04:22:48,639 --> 04:22:55,439
everything seems pretty stable except

5283
04:22:51,199 --> 04:22:55,439
for where we're clipping off the apron

5284
04:22:56,079 --> 04:22:59,079
um

5285
04:23:02,000 --> 04:23:08,639
i mean that looks pretty good

5286
04:23:05,760 --> 04:23:10,880
getting some z fighting on

5287
04:23:08,639 --> 04:23:12,799
that ground patch there but that's

5288
04:23:10,879 --> 04:23:14,478
probably just

5289
04:23:12,799 --> 04:23:16,238
somewhat inevitable we should pick those

5290
04:23:14,478 --> 04:23:19,238
we need to pick those values with blue

5291
04:23:16,238 --> 04:23:19,238
noise

5292
04:23:28,478 --> 04:23:32,000
so uh

5293
04:23:30,158 --> 04:23:35,199
looking backwards a little bit so you

5294
04:23:32,000 --> 04:23:36,639
can see the alignment here is not

5295
04:23:35,199 --> 04:23:41,520
fabulous

5296
04:23:36,639 --> 04:23:44,079
uh so maybe we should try to skew that a

5297
04:23:41,520 --> 04:23:46,560
little bit more i don't really remember

5298
04:23:44,079 --> 04:23:48,318
how that code was working

5299
04:23:46,559 --> 04:23:51,519
let's take a look

5300
04:23:48,318 --> 04:23:54,920
uh in here

5301
04:23:51,520 --> 04:23:54,920
says casey

5302
04:23:56,478 --> 04:23:59,478
um

5303
04:24:16,879 --> 04:24:21,358
to be completely honest i'm not sure why

5304
04:24:19,520 --> 04:24:26,680
the atlas

5305
04:24:21,359 --> 04:24:26,680
is shifted like that um

5306
04:24:57,520 --> 04:25:01,279
so i

5307
04:24:58,559 --> 04:25:02,879
like i would not be able to

5308
04:25:01,279 --> 04:25:03,920
tell you

5309
04:25:02,879 --> 04:25:08,079
why

5310
04:25:03,920 --> 04:25:10,960
the atlas appears to be biased in that

5311
04:25:08,079 --> 04:25:10,959
direction

5312
04:25:12,079 --> 04:25:16,879
like do not know

5313
04:25:14,478 --> 04:25:18,559
um so that seems bad i should have an

5314
04:25:16,879 --> 04:25:21,119
argument for why that is the case and

5315
04:25:18,559 --> 04:25:23,198
the fact that i don't is not good

5316
04:25:21,120 --> 04:25:24,560
what i would ask is if we enlarge it

5317
04:25:23,199 --> 04:25:26,960
does it continue to be biased in that

5318
04:25:24,559 --> 04:25:30,478
direction or is it like only one or two

5319
04:25:26,959 --> 04:25:32,799
off like how how bad is that

5320
04:25:30,478 --> 04:25:32,799
um

5321
04:25:33,120 --> 04:25:38,560
actual difference so like in here we've

5322
04:25:35,520 --> 04:25:41,520
got these like voxel settings

5323
04:25:38,559 --> 04:25:44,639
if we were to enlarge this voxel

5324
04:25:41,520 --> 04:25:45,600
somewhat so suppose that this was going

5325
04:25:44,639 --> 04:25:49,439
to be

5326
04:25:45,600 --> 04:25:50,800
i don't know uh 20 and 28 or something

5327
04:25:49,439 --> 04:25:52,158
like that

5328
04:25:50,799 --> 04:25:53,840
um

5329
04:25:52,158 --> 04:25:55,359
which maybe is a little bit too much of

5330
04:25:53,840 --> 04:25:56,639
an ask for the lighting system but i

5331
04:25:55,359 --> 04:25:58,479
don't know i just want to see what does

5332
04:25:56,639 --> 04:26:02,519
it look like right

5333
04:25:58,478 --> 04:26:02,519
i just want to see how it's aligned

5334
04:26:04,238 --> 04:26:09,119
so it's still like

5335
04:26:05,799 --> 04:26:11,119
sort of a little off but not that bad so

5336
04:26:09,120 --> 04:26:12,960
i don't know if that

5337
04:26:11,120 --> 04:26:17,479
is something i should expect or not i i

5338
04:26:12,959 --> 04:26:17,478
feel like that's a bit confusing

5339
04:26:33,680 --> 04:26:39,120
um i do feel like that's a little bit

5340
04:26:35,680 --> 04:26:41,760
confusing but you know all right uh so

5341
04:26:39,120 --> 04:26:44,239
if i go into world mode and i remove the

5342
04:26:41,760 --> 04:26:46,079
camera wrecked there uh it's weird that

5343
04:26:44,238 --> 04:26:47,359
these all drawn in like different places

5344
04:26:46,079 --> 04:26:48,879
should probably have like one

5345
04:26:47,359 --> 04:26:50,559
centralized place where we can turn

5346
04:26:48,879 --> 04:26:51,438
these things on and off

5347
04:26:50,559 --> 04:26:52,879
um

5348
04:26:51,439 --> 04:26:54,559
you know maybe that's another cleanup

5349
04:26:52,879 --> 04:26:56,799
thing we do at some point is just try to

5350
04:26:54,559 --> 04:26:59,198
like gather up the debug code into

5351
04:26:56,799 --> 04:27:00,398
something that makes more sense

5352
04:26:59,199 --> 04:27:02,479
um

5353
04:27:00,398 --> 04:27:05,358
you know

5354
04:27:02,478 --> 04:27:05,358
and all that but

5355
04:27:07,760 --> 04:27:13,840
um if we go down to push lighting values

5356
04:27:10,079 --> 04:27:17,039
so here's the two uh the hot voxel rect

5357
04:27:13,840 --> 04:27:18,639
although can you even see those anymore

5358
04:27:17,040 --> 04:27:20,239
it's really just the camera wreck that

5359
04:27:18,639 --> 04:27:23,519
you see

5360
04:27:20,238 --> 04:27:25,119
right so if we just turn off the camera

5361
04:27:23,520 --> 04:27:27,840
that should be it which is this right

5362
04:27:25,120 --> 04:27:27,840
here

5363
04:27:33,920 --> 04:27:38,238
all right so like if one were playing

5364
04:27:35,920 --> 04:27:41,238
the game

5365
04:27:38,238 --> 04:27:41,238
um

5366
04:27:44,478 --> 04:27:49,519
it would roughly be this of course we we

5367
04:27:46,158 --> 04:27:52,158
do have that uh debug cast still running

5368
04:27:49,520 --> 04:27:53,520
i could probably get rid of that

5369
04:27:52,158 --> 04:27:57,920
um

5370
04:27:53,520 --> 04:27:57,920
as well by just doing like

5371
04:28:07,439 --> 04:28:12,158
okay so if we were actually playing the

5372
04:28:09,760 --> 04:28:12,158
game

5373
04:28:13,120 --> 04:28:18,880
it seems pretty reasonable

5374
04:28:16,158 --> 04:28:21,359
like this would be fine

5375
04:28:18,879 --> 04:28:23,039
um we do want to make this lighting not

5376
04:28:21,359 --> 04:28:25,600
look so squarey and weird which is

5377
04:28:23,040 --> 04:28:28,880
pretty easy to do now actually

5378
04:28:25,600 --> 04:28:31,600
so we should probably do that but

5379
04:28:28,879 --> 04:28:34,000
very stable i would say

5380
04:28:31,600 --> 04:28:35,920
there's a little bit of lag up at the

5381
04:28:34,000 --> 04:28:37,760
front end because it's not lag but

5382
04:28:35,920 --> 04:28:39,120
hiccups when you page when things get

5383
04:28:37,760 --> 04:28:42,478
paged in and out

5384
04:28:39,120 --> 04:28:44,720
um but i think if we added a slight like

5385
04:28:42,478 --> 04:28:46,799
i'm not averse to having a frame or two

5386
04:28:44,719 --> 04:28:49,358
of lag in the lighting if it means

5387
04:28:46,799 --> 04:28:52,079
smoothing it out slightly

5388
04:28:49,359 --> 04:28:55,520
so we might not have to do wider regions

5389
04:28:52,079 --> 04:28:57,120
we maybe could get away with that

5390
04:28:55,520 --> 04:28:58,399
um

5391
04:28:57,120 --> 04:29:01,359
by just

5392
04:28:58,398 --> 04:29:01,358
having the um

5393
04:29:02,000 --> 04:29:06,959
uh

5394
04:29:02,959 --> 04:29:07,679
the t update value be something else

5395
04:29:06,959 --> 04:29:10,158
i

5396
04:29:07,680 --> 04:29:11,279
like you know it could be something more

5397
04:29:10,158 --> 04:29:11,629
like

5398
04:29:11,279 --> 04:29:12,800
every

5399
04:29:11,629 --> 04:29:15,679
[Music]

5400
04:29:12,799 --> 04:29:15,679
you know quarter

5401
04:29:16,840 --> 04:29:22,799
um so like four frames every four frames

5402
04:29:20,639 --> 04:29:24,398
it's you know more or less completely

5403
04:29:22,799 --> 04:29:26,639
blended

5404
04:29:24,398 --> 04:29:26,639
um

5405
04:29:27,199 --> 04:29:32,120
let me turn off that debug cast as well

5406
04:29:36,079 --> 04:29:38,879
debug pic

5407
04:29:42,478 --> 04:29:44,879
so

5408
04:29:42,799 --> 04:29:47,840
[Music]

5409
04:29:44,879 --> 04:29:47,839
zero

5410
04:29:48,318 --> 04:29:52,559
um yeah

5411
04:29:50,719 --> 04:29:55,920
meow

5412
04:29:52,559 --> 04:29:57,600
so if we meow along here and we pretend

5413
04:29:55,920 --> 04:30:01,680
we were playing the game you know how

5414
04:29:57,600 --> 04:30:03,279
grumpy would we be about this lighting

5415
04:30:01,680 --> 04:30:06,000
um

5416
04:30:03,279 --> 04:30:07,760
i mean i think it looks really good so i

5417
04:30:06,000 --> 04:30:09,439
think really or most of our problem is

5418
04:30:07,760 --> 04:30:11,520
that we place it we have our lights

5419
04:30:09,439 --> 04:30:13,199
placed in some kind of weird ways that

5420
04:30:11,520 --> 04:30:15,199
probably aren't very good

5421
04:30:13,199 --> 04:30:18,640
um

5422
04:30:15,199 --> 04:30:21,520
so maybe we fixed that part but overall

5423
04:30:18,639 --> 04:30:23,278
i'd say the lighting solution seems very

5424
04:30:21,520 --> 04:30:24,560
good now

5425
04:30:23,279 --> 04:30:27,359
right

5426
04:30:24,559 --> 04:30:31,198
um so

5427
04:30:27,359 --> 04:30:32,880
we also can make this much faster

5428
04:30:31,199 --> 04:30:35,279
because we've

5429
04:30:32,879 --> 04:30:37,599
we're still like validating the entire

5430
04:30:35,279 --> 04:30:39,600
atlas every frame

5431
04:30:37,600 --> 04:30:41,359
um and we have the grid raycast

5432
04:30:39,600 --> 04:30:44,479
debugging turned on

5433
04:30:41,359 --> 04:30:44,479
we could turn that off

5434
04:30:50,959 --> 04:30:55,358
because that's also a huge

5435
04:30:53,680 --> 04:30:57,840
issue

5436
04:30:55,359 --> 04:30:57,840
um

5437
04:31:02,559 --> 04:31:05,519
okay

5438
04:31:03,439 --> 04:31:07,120
uh so we actually we probably aren't

5439
04:31:05,520 --> 04:31:09,439
really that far off our frame rate

5440
04:31:07,120 --> 04:31:12,000
either uh which is kind of nuts i don't

5441
04:31:09,439 --> 04:31:13,840
know though we'll have to look and see

5442
04:31:12,000 --> 04:31:17,040
how bad we are

5443
04:31:13,840 --> 04:31:19,359
so we're a little bit not great uh in

5444
04:31:17,040 --> 04:31:20,720
because with that larger you know making

5445
04:31:19,359 --> 04:31:22,238
the lighting

5446
04:31:20,719 --> 04:31:23,119
being slightly larger in the lighting

5447
04:31:22,238 --> 04:31:24,478
region

5448
04:31:23,120 --> 04:31:27,040
is an issue

5449
04:31:24,478 --> 04:31:29,358
um for sure right

5450
04:31:27,040 --> 04:31:31,279
because there's just more there's more

5451
04:31:29,359 --> 04:31:32,318
of everything to deal with

5452
04:31:31,279 --> 04:31:34,560
so

5453
04:31:32,318 --> 04:31:35,920
having to go to a larger lighting region

5454
04:31:34,559 --> 04:31:37,359
is expensive

5455
04:31:35,920 --> 04:31:40,238
and i don't know

5456
04:31:37,359 --> 04:31:42,559
uh like we'll have to see to what extent

5457
04:31:40,238 --> 04:31:45,760
we can speed things up more

5458
04:31:42,559 --> 04:31:47,840
um i'd also be kind of curious now to

5459
04:31:45,760 --> 04:31:49,920
know what would happen if we just cast

5460
04:31:47,840 --> 04:31:53,680
white noise instead of

5461
04:31:49,920 --> 04:31:56,559
a pre-computed light directions

5462
04:31:53,680 --> 04:31:58,720
on the sphere because i don't know like

5463
04:31:56,559 --> 04:32:01,920
it would add some noise back in but it

5464
04:31:58,719 --> 04:32:04,639
might uh be nice i don't know

5465
04:32:01,920 --> 04:32:08,238
so we should try that as well but

5466
04:32:04,639 --> 04:32:10,639
i would say we're pretty good to go um

5467
04:32:08,238 --> 04:32:12,238
this still has asserts baked in

5468
04:32:10,639 --> 04:32:14,079
so like

5469
04:32:12,238 --> 04:32:15,520
it also like we got a lot of we we have

5470
04:32:14,079 --> 04:32:17,600
to go through and like

5471
04:32:15,520 --> 04:32:19,760
now pull out any code that's like old

5472
04:32:17,600 --> 04:32:22,640
code and stuff like that and also like

5473
04:32:19,760 --> 04:32:24,800
we do have handmade internal and slow on

5474
04:32:22,639 --> 04:32:26,799
so i assume if we turn those off we'd

5475
04:32:24,799 --> 04:32:29,519
actually get more speed as well um i

5476
04:32:26,799 --> 04:32:29,519
don't really know

5477
04:32:29,760 --> 04:32:35,520
looks like we have some things in our

5478
04:32:31,600 --> 04:32:38,960
diagram code that didn't get their own

5479
04:32:35,520 --> 04:32:38,960
what is that set origin

5480
04:32:40,079 --> 04:32:43,439
the heck is set origin

5481
04:32:45,199 --> 04:32:50,960
it's this

5482
04:32:47,359 --> 04:32:52,479
it's next to overlay

5483
04:32:50,959 --> 04:32:54,158
so it's

5484
04:32:52,478 --> 04:32:55,039
this apparently

5485
04:32:54,158 --> 04:32:55,920
uh

5486
04:32:55,040 --> 04:32:59,319
let's

5487
04:32:55,920 --> 04:32:59,318
get rid of that

5488
04:33:03,359 --> 04:33:08,479
render diagrams not found that's true

5489
04:33:09,278 --> 04:33:14,958
because that's probably inside here yeah

5490
04:33:12,561 --> 04:33:17,119
um so we would need something that just

5491
04:33:14,958 --> 04:33:19,359
stubs that out right

5492
04:33:17,118 --> 04:33:19,359
so

5493
04:33:28,400 --> 04:33:31,840
like this sort of thing

5494
04:33:37,599 --> 04:33:42,399
so this accesses global diagrams group

5495
04:33:40,400 --> 04:33:44,879
so the collision recorder why is any of

5496
04:33:42,400 --> 04:33:46,561
this stuff on at all

5497
04:33:44,879 --> 04:33:49,039
this should not be on in the

5498
04:33:46,561 --> 04:33:51,760
non-internal build right

5499
04:33:49,039 --> 04:33:54,000
that seems kind of busted

5500
04:33:51,759 --> 04:33:54,000
um

5501
04:33:55,118 --> 04:33:59,438
so that seems like something we probably

5502
04:33:57,039 --> 04:34:01,039
have to fix

5503
04:33:59,438 --> 04:34:03,680
because we don't actually have a way to

5504
04:34:01,039 --> 04:34:05,840
turn off the editor i guess which is

5505
04:34:03,680 --> 04:34:08,240
pretty broken

5506
04:34:05,840 --> 04:34:12,000
that should be on internal right like

5507
04:34:08,240 --> 04:34:13,520
that's not supposed to

5508
04:34:12,000 --> 04:34:16,159
a thing

5509
04:34:13,520 --> 04:34:18,159
um so you know i don't know like it's

5510
04:34:16,159 --> 04:34:19,199
probably not it's not 60 frames a second

5511
04:34:18,159 --> 04:34:21,199
for sure

5512
04:34:19,199 --> 04:34:22,638
but it might be around 30 and this is a

5513
04:34:21,199 --> 04:34:24,240
pretty old machine

5514
04:34:22,638 --> 04:34:26,560
so we might have to do a little more

5515
04:34:24,240 --> 04:34:29,039
work to make sure that we can actually

5516
04:34:26,561 --> 04:34:32,000
hit 60 with the lighting on

5517
04:34:29,039 --> 04:34:33,600
um and dropping the ray count down would

5518
04:34:32,000 --> 04:34:34,879
probably do it like in other words if we

5519
04:34:33,599 --> 04:34:38,239
wanted to

5520
04:34:34,879 --> 04:34:39,680
uh we could do only eight rays

5521
04:34:38,240 --> 04:34:40,400
instead

5522
04:34:39,680 --> 04:34:43,599
so

5523
04:34:40,400 --> 04:34:45,520
you know right now we're casting 16

5524
04:34:43,599 --> 04:34:47,759
um

5525
04:34:45,520 --> 04:34:50,240
per texel right we could drop that down

5526
04:34:47,759 --> 04:34:52,239
to eight see how bad that is

5527
04:34:50,240 --> 04:34:55,119
it might be pretty bad

5528
04:34:52,240 --> 04:34:56,719
uh but again if we switched to white

5529
04:34:55,118 --> 04:34:58,878
noise then we could

5530
04:34:56,719 --> 04:35:01,359
also be dynamic with how many of those

5531
04:34:58,879 --> 04:35:03,359
there were which might be nice

5532
04:35:01,359 --> 04:35:05,920
as a separate issue

5533
04:35:03,359 --> 04:35:07,439
um we could try it

5534
04:35:05,919 --> 04:35:11,118
just to see

5535
04:35:07,438 --> 04:35:11,118
if we go to hh sphere

5536
04:35:11,840 --> 04:35:15,199
uh if i remember correctly we could now

5537
04:35:13,680 --> 04:35:16,561
delete some of this stuff like the walk

5538
04:35:15,199 --> 04:35:18,719
table offset

5539
04:35:16,561 --> 04:35:21,039
and that sort of stuff right

5540
04:35:18,719 --> 04:35:23,600
um

5541
04:35:21,039 --> 04:35:26,240
so if we were to rebuild the light table

5542
04:35:23,599 --> 04:35:27,840
and have it cast fewer things

5543
04:35:26,240 --> 04:35:30,159
we could see if that would give us the

5544
04:35:27,840 --> 04:35:33,680
speed back that we need as well

5545
04:35:30,159 --> 04:35:34,479
um so if we do an hh sphere

5546
04:35:33,680 --> 04:35:37,680
uh

5547
04:35:34,479 --> 04:35:40,399
w build h8 sphere

5548
04:35:37,680 --> 04:35:42,798
uh if we said like

5549
04:35:40,400 --> 04:35:42,799
um

5550
04:35:44,479 --> 04:35:47,840
eight

5551
04:35:45,599 --> 04:35:48,840
eight

5552
04:35:47,840 --> 04:35:51,118
and

5553
04:35:48,840 --> 04:35:53,520
then uh i don't remember what this is

5554
04:35:51,118 --> 04:35:55,118
called like handmade

5555
04:35:53,520 --> 04:35:57,638
sampling squares again

5556
04:35:55,118 --> 04:36:00,000
so we did eight and eight uh instead of

5557
04:35:57,638 --> 04:36:01,840
816 which i think is what we were doing

5558
04:36:00,000 --> 04:36:04,840
before

5559
04:36:01,840 --> 04:36:04,840
uh

5560
04:36:09,118 --> 04:36:13,560
why is that still generating directions

5561
04:36:20,159 --> 04:36:24,159
oh i guess we still do do that stepping

5562
04:36:22,080 --> 04:36:28,160
all right well whatever

5563
04:36:24,159 --> 04:36:31,400
um if we rebuild now

5564
04:36:28,159 --> 04:36:31,400
what happens

5565
04:36:38,159 --> 04:36:42,240
so that's with only eight rays per pixel

5566
04:36:41,359 --> 04:36:44,000
um

5567
04:36:42,240 --> 04:36:45,359
and again i don't actually know we

5568
04:36:44,000 --> 04:36:47,359
should probably have a way to do frame

5569
04:36:45,359 --> 04:36:49,520
rate counting outside of an internal

5570
04:36:47,359 --> 04:36:51,520
build

5571
04:36:49,520 --> 04:36:54,561
but it could be that actually now it's

5572
04:36:51,520 --> 04:36:57,118
just the diffuse build is what is too

5573
04:36:54,561 --> 04:36:58,840
expensive for us so like just processing

5574
04:36:57,118 --> 04:37:01,278
more of the texture map

5575
04:36:58,840 --> 04:37:04,879
right um

5576
04:37:01,278 --> 04:37:06,399
if that makes sense uh so you know

5577
04:37:04,879 --> 04:37:09,600
uh we'll see

5578
04:37:06,400 --> 04:37:11,359
can i revert this buffer

5579
04:37:09,599 --> 04:37:13,278
kill buffer

5580
04:37:11,359 --> 04:37:15,278
sampling spheres so yeah you can see

5581
04:37:13,278 --> 04:37:17,520
it's eight now right

5582
04:37:15,278 --> 04:37:17,520
um

5583
04:37:20,879 --> 04:37:25,240
so if i go to handmade internal

5584
04:37:29,840 --> 04:37:33,840
what is that complaining about world is

5585
04:37:31,680 --> 04:37:37,039
an undeclared identifier somehow i find

5586
04:37:33,840 --> 04:37:37,039
that very hard to believe

5587
04:37:37,359 --> 04:37:40,600
but okay

5588
04:38:02,958 --> 04:38:08,399
so i mean now we're easily hitting 30

5589
04:38:05,919 --> 04:38:09,679
there right um

5590
04:38:08,400 --> 04:38:12,319
so that's good

5591
04:38:09,680 --> 04:38:13,118
but it still might be the case

5592
04:38:12,319 --> 04:38:16,118
that

5593
04:38:13,118 --> 04:38:16,118
uh

5594
04:38:31,599 --> 04:38:36,000
it still might be the case that

5595
04:38:33,759 --> 04:38:36,840
you know i don't i don't know

5596
04:38:36,000 --> 04:38:39,359
how

5597
04:38:36,840 --> 04:38:41,520
expensive the

5598
04:38:39,359 --> 04:38:43,359
that sort of

5599
04:38:41,520 --> 04:38:45,439
blend is

5600
04:38:43,359 --> 04:38:47,118
but i would imagine it's pretty

5601
04:38:45,438 --> 04:38:49,759
expensive

5602
04:38:47,118 --> 04:38:52,759
so like if for example i took that blend

5603
04:38:49,759 --> 04:38:52,759
out

5604
04:38:56,319 --> 04:38:59,879
you know like

5605
04:39:07,438 --> 04:39:09,840
this

5606
04:39:11,919 --> 04:39:15,278
if this blend went away

5607
04:39:15,919 --> 04:39:19,519
what would happen

5608
04:39:18,159 --> 04:39:21,759
besides the fact that we don't get any

5609
04:39:19,520 --> 04:39:24,000
lighting but you know what i mean

5610
04:39:21,759 --> 04:39:27,358
so you know we're in here

5611
04:39:24,000 --> 04:39:27,359
we're running it around 30.

5612
04:39:27,520 --> 04:39:31,638
we dropped that out of there

5613
04:39:35,840 --> 04:39:38,638
no change

5614
04:39:39,279 --> 04:39:45,559
come on

5615
04:39:41,439 --> 04:39:45,559
that can't be possible can it

5616
04:39:48,000 --> 04:39:53,919
thought this thing was super slow did we

5617
04:39:50,159 --> 04:39:53,919
really speed it up that much

5618
04:39:54,479 --> 04:40:01,079
why are we so awesome

5619
04:39:56,957 --> 04:40:01,079
i guess would be the real question

5620
04:40:10,400 --> 04:40:12,878
all right

5621
04:40:14,080 --> 04:40:18,958
so then you're telling me that the cast

5622
04:40:15,919 --> 04:40:18,957
is all the time

5623
04:40:23,279 --> 04:40:26,957
apparently the cast is all the time

5624
04:40:29,360 --> 04:40:31,840
good to know

5625
04:40:42,479 --> 04:40:47,200
well

5626
04:40:44,957 --> 04:40:49,039
we've got issues we still have issues to

5627
04:40:47,200 --> 04:40:51,280
address

5628
04:40:49,040 --> 04:40:51,280
um

5629
04:40:52,718 --> 04:40:56,080
but

5630
04:40:53,520 --> 04:40:58,159
you know having issues to address is

5631
04:40:56,080 --> 04:41:00,160
is not as bad as where we started which

5632
04:40:58,159 --> 04:41:03,520
is with buggy lighting the lighting now

5633
04:41:00,159 --> 04:41:04,718
looks i would say excellent

5634
04:41:03,520 --> 04:41:06,479
um

5635
04:41:04,718 --> 04:41:08,400
i do think that

5636
04:41:06,479 --> 04:41:10,159
we have some issues with like look we

5637
04:41:08,400 --> 04:41:11,920
don't want these like weird pools of

5638
04:41:10,159 --> 04:41:14,319
light and we may want the shader to

5639
04:41:11,919 --> 04:41:15,759
interpolate a little differently

5640
04:41:14,319 --> 04:41:17,599
because there is a little bit of

5641
04:41:15,759 --> 04:41:20,159
squariness there that you're that you

5642
04:41:17,599 --> 04:41:22,239
get um so there's a couple things i

5643
04:41:20,159 --> 04:41:26,400
think that could look better

5644
04:41:22,240 --> 04:41:29,760
right um inside looks quite good

5645
04:41:26,400 --> 04:41:32,080
uh but outside not so much so i do think

5646
04:41:29,759 --> 04:41:33,759
like taking a look at that would be good

5647
04:41:32,080 --> 04:41:37,760
separately

5648
04:41:33,759 --> 04:41:37,759
also what the heck is happening there

5649
04:41:38,637 --> 04:41:42,559
can we talk about that what is that why

5650
04:41:40,797 --> 04:41:44,717
is that

5651
04:41:42,560 --> 04:41:46,638
cube like sized differently than

5652
04:41:44,718 --> 04:41:47,840
everybody else

5653
04:41:46,637 --> 04:41:48,957
or is that just because like there's

5654
04:41:47,840 --> 04:41:50,560
some random

5655
04:41:48,957 --> 04:41:51,759
randomness in this maybe it's just

5656
04:41:50,560 --> 04:41:53,200
because they're randomly picked and

5657
04:41:51,759 --> 04:41:54,957
one's kind of off to the side i don't

5658
04:41:53,200 --> 04:41:57,520
know i'm just gonna call that source art

5659
04:41:54,957 --> 04:41:57,520
bug for now

5660
04:41:58,080 --> 04:42:00,638
um

5661
04:41:59,520 --> 04:42:03,200
anyway

5662
04:42:00,637 --> 04:42:04,559
looks really good couple things i don't

5663
04:42:03,200 --> 04:42:06,958
love

5664
04:42:04,560 --> 04:42:10,400
uh

5665
04:42:06,957 --> 04:42:10,399
so this

5666
04:42:11,919 --> 04:42:18,717
looks not good like

5667
04:42:14,957 --> 04:42:20,079
i don't know exactly why we get such a

5668
04:42:18,718 --> 04:42:21,840
weird

5669
04:42:20,080 --> 04:42:23,920
i mean we i know partially that the

5670
04:42:21,840 --> 04:42:25,439
reason for this is because the interior

5671
04:42:23,919 --> 04:42:26,559
node here

5672
04:42:25,439 --> 04:42:27,759
is

5673
04:42:26,560 --> 04:42:29,200
like

5674
04:42:27,759 --> 04:42:30,957
can't cast because it's in the middle of

5675
04:42:29,200 --> 04:42:32,479
geometry so it's going to be blacked out

5676
04:42:30,957 --> 04:42:35,520
right

5677
04:42:32,479 --> 04:42:37,439
um so i do wonder if we might want to do

5678
04:42:35,520 --> 04:42:39,200
something else there

5679
04:42:37,439 --> 04:42:42,319
like

5680
04:42:39,200 --> 04:42:44,878
set this equal to halfway in between

5681
04:42:42,319 --> 04:42:44,878
these two

5682
04:42:45,119 --> 04:42:47,759
or something

5683
04:42:46,878 --> 04:42:51,760
like

5684
04:42:47,759 --> 04:42:54,159
smooth any atlas any casters things that

5685
04:42:51,759 --> 04:42:55,599
can't cast they just get set to like the

5686
04:42:54,159 --> 04:42:56,797
average of their surroundings or

5687
04:42:55,599 --> 04:42:57,759
something

5688
04:42:56,797 --> 04:42:59,599
um

5689
04:42:57,759 --> 04:43:03,359
not which will be less accurate but

5690
04:42:59,599 --> 04:43:05,840
perhaps more visually pleasing

5691
04:43:03,360 --> 04:43:05,840
you know what i mean

5692
04:43:09,680 --> 04:43:13,599
uh so i don't know why is the lighting

5693
04:43:12,000 --> 04:43:15,279
the lighting down here is just casting

5694
04:43:13,599 --> 04:43:17,680
from up above right because we turned

5695
04:43:15,279 --> 04:43:18,717
off z so it's actually pulling the light

5696
04:43:17,680 --> 04:43:21,599
from

5697
04:43:18,718 --> 04:43:23,760
the the surface to light down below so

5698
04:43:21,599 --> 04:43:26,717
we're about to pull out these lower

5699
04:43:23,759 --> 04:43:28,957
areas right that's going to happen

5700
04:43:26,718 --> 04:43:28,958
um

5701
04:43:29,520 --> 04:43:34,637
but yeah

5702
04:43:32,479 --> 04:43:36,479
uh i do wonder now what happens if we

5703
04:43:34,637 --> 04:43:38,718
add back in a moving light source so we

5704
04:43:36,479 --> 04:43:41,680
can kind of take a look at how messed up

5705
04:43:38,718 --> 04:43:44,240
that is we do have one bug like that

5706
04:43:41,680 --> 04:43:46,878
we'd have to sort of fix that's going to

5707
04:43:44,240 --> 04:43:47,840
cause a huge problem with that um

5708
04:43:46,878 --> 04:43:50,000
so

5709
04:43:47,840 --> 04:43:52,240
yeah there's there's an issue there but

5710
04:43:50,000 --> 04:43:54,560
let's suppose we go back to the ad

5711
04:43:52,240 --> 04:43:56,159
player thing and there used to be like

5712
04:43:54,560 --> 04:43:57,600
um

5713
04:43:56,159 --> 04:44:01,680
a light

5714
04:43:57,599 --> 04:44:03,680
happening in here or something

5715
04:44:01,680 --> 04:44:07,680
uh or or maybe i guess that wasn't

5716
04:44:03,680 --> 04:44:07,680
that's not true it was actually in

5717
04:44:07,919 --> 04:44:14,599
world mode it's it's this

5718
04:44:10,560 --> 04:44:14,600
i should look for those temporaries

5719
04:44:24,878 --> 04:44:31,040
that can stay

5720
04:44:28,240 --> 04:44:31,040
that can stay

5721
04:44:31,520 --> 04:44:35,279
i can stay

5722
04:44:32,419 --> 04:44:38,279
[Music]

5723
04:44:35,279 --> 04:44:38,279
lovely

5724
04:44:45,919 --> 04:44:50,399
all right so if we put this debug back

5725
04:44:47,840 --> 04:44:52,400
light back in

5726
04:44:50,400 --> 04:44:54,159
we're going to hit a nasty bug that we

5727
04:44:52,400 --> 04:44:57,120
have to figure out how to solve which is

5728
04:44:54,159 --> 04:45:01,840
what happens when a a a light

5729
04:44:57,119 --> 04:45:03,759
is basically entirely eclipsing a uh

5730
04:45:01,840 --> 04:45:05,439
one of the nodes

5731
04:45:03,759 --> 04:45:07,519
right um and you can i think you can

5732
04:45:05,439 --> 04:45:10,797
kind of see what's happening there

5733
04:45:07,520 --> 04:45:13,680
uh with that sort of glow in and out

5734
04:45:10,797 --> 04:45:15,039
what's happening is that the well

5735
04:45:13,680 --> 04:45:18,200
instead of telling you one and i just

5736
04:45:15,040 --> 04:45:18,200
show you

5737
04:45:31,119 --> 04:45:34,797
so do you see how the light itself

5738
04:45:33,279 --> 04:45:35,759
occludes

5739
04:45:34,797 --> 04:45:38,000
uh

5740
04:45:35,759 --> 04:45:40,717
one of the main probes that would be

5741
04:45:38,000 --> 04:45:43,040
hitting it so you get a brief moment in

5742
04:45:40,718 --> 04:45:44,718
between when the super bright light

5743
04:45:43,040 --> 04:45:46,479
fills everything and then it immediately

5744
04:45:44,718 --> 04:45:49,600
gets pulled out

5745
04:45:46,479 --> 04:45:50,479
of the solution right

5746
04:45:49,599 --> 04:45:51,199
um

5747
04:45:50,479 --> 04:45:54,159
so

5748
04:45:51,200 --> 04:45:56,080
uh yeah in order to fix that we could

5749
04:45:54,159 --> 04:45:57,840
make the light be up higher but what we

5750
04:45:56,080 --> 04:45:59,760
probably want to do is figure out some

5751
04:45:57,840 --> 04:46:02,319
way to

5752
04:45:59,759 --> 04:46:04,717
accurately deal with that fact like that

5753
04:46:02,319 --> 04:46:06,637
when something has that behavior of

5754
04:46:04,718 --> 04:46:07,680
going in there it's also too freaking

5755
04:46:06,637 --> 04:46:09,680
bright

5756
04:46:07,680 --> 04:46:11,439
uh so we probably want to reduce the

5757
04:46:09,680 --> 04:46:13,599
brightness of it considerably but you

5758
04:46:11,439 --> 04:46:13,599
know

5759
04:46:13,680 --> 04:46:18,840
so if we put the light up a little

5760
04:46:15,919 --> 04:46:21,039
higher so that it's outside of the

5761
04:46:18,840 --> 04:46:22,797
um that it's

5762
04:46:21,040 --> 04:46:24,000
higher than the

5763
04:46:22,797 --> 04:46:26,000
thing

5764
04:46:24,000 --> 04:46:28,400
i'm not sure what i'm trying to say

5765
04:46:26,000 --> 04:46:31,279
if we oh that was that's the size of it

5766
04:46:28,400 --> 04:46:31,280
that's not going to help

5767
04:46:31,360 --> 04:46:36,718
uh so the debug light p

5768
04:46:33,680 --> 04:46:39,520
if we just make it be up a little more

5769
04:46:36,718 --> 04:46:40,637
so that it clears hopefully

5770
04:46:39,520 --> 04:46:42,400
uh

5771
04:46:40,637 --> 04:46:43,599
the light probes

5772
04:46:42,400 --> 04:46:45,280
where they are

5773
04:46:43,599 --> 04:46:49,479
and i don't know how high we'll have to

5774
04:46:45,279 --> 04:46:49,479
put it up for that to be true

5775
04:46:51,520 --> 04:46:55,360
there we go

5776
04:46:52,957 --> 04:46:57,359
um so now with with us moving a light

5777
04:46:55,360 --> 04:46:58,319
around the environment i'm going to turn

5778
04:46:57,360 --> 04:47:00,560
off

5779
04:46:58,319 --> 04:47:00,560
the

5780
04:47:01,520 --> 04:47:06,400
debug drawing there

5781
04:47:03,840 --> 04:47:06,400
and

5782
04:47:07,919 --> 04:47:10,919
oops

5783
04:47:17,599 --> 04:47:21,637
maybe i'll make that a little brighter

5784
04:47:32,797 --> 04:47:36,797
and i think you know when you see what's

5785
04:47:35,119 --> 04:47:39,360
happening here

5786
04:47:36,797 --> 04:47:42,479
uh i think you can maybe appreciate as

5787
04:47:39,360 --> 04:47:44,637
well why the white noise might be good

5788
04:47:42,479 --> 04:47:46,797
because you can sort of see how you

5789
04:47:44,637 --> 04:47:49,439
you see the sampling boundaries when you

5790
04:47:46,797 --> 04:47:51,599
have a bright light because

5791
04:47:49,439 --> 04:47:54,637
of the r of the fact that we're only

5792
04:47:51,599 --> 04:47:56,637
casting out through certain directions

5793
04:47:54,637 --> 04:48:01,039
you'll see that right and i can make it

5794
04:47:56,637 --> 04:48:03,360
a lot more pronounced by turning off the

5795
04:48:01,040 --> 04:48:03,360
uh

5796
04:48:04,797 --> 04:48:09,119
the standard lighting so if we just get

5797
04:48:07,200 --> 04:48:10,878
lighting out of the world and we're the

5798
04:48:09,119 --> 04:48:13,599
only light moving through then you can

5799
04:48:10,878 --> 04:48:16,319
really see where it falls down which is

5800
04:48:13,599 --> 04:48:18,399
why i wonder if white noise might be

5801
04:48:16,319 --> 04:48:20,797
now because we can do it if we should

5802
04:48:18,400 --> 04:48:21,200
maybe try it just see

5803
04:48:20,797 --> 04:48:23,599
um

5804
04:48:21,200 --> 04:48:26,760
[Music]

5805
04:48:23,599 --> 04:48:26,759
you know

5806
04:48:30,957 --> 04:48:36,399
but so do you see those kind of square

5807
04:48:32,797 --> 04:48:40,159
patterns that's just the sampling sphere

5808
04:48:36,400 --> 04:48:42,718
right and if we were casting at noise if

5809
04:48:40,159 --> 04:48:45,360
we used sampling that varied over boy

5810
04:48:42,718 --> 04:48:47,119
this looks so cool though holy cow this

5811
04:48:45,360 --> 04:48:49,360
lighting is awesome

5812
04:48:47,119 --> 04:48:49,360
um

5813
04:48:50,000 --> 04:48:53,360
that's so damn cool

5814
04:48:51,439 --> 04:48:56,159
we wouldn't have those weird checker

5815
04:48:53,360 --> 04:48:58,560
patterns we would have some noise

5816
04:48:56,159 --> 04:49:01,279
that varies over time

5817
04:48:58,560 --> 04:49:03,680
but given how this is working now that

5818
04:49:01,279 --> 04:49:05,199
might be okay i don't know

5819
04:49:03,680 --> 04:49:09,840
right

5820
04:49:05,200 --> 04:49:09,840
um this looks so damn cool though

5821
04:49:11,520 --> 04:49:14,560
right but you would even out some of

5822
04:49:12,957 --> 04:49:16,039
that checker pattern in exchange for

5823
04:49:14,560 --> 04:49:20,120
some

5824
04:49:16,040 --> 04:49:20,120
noise um

5825
04:49:41,919 --> 04:49:45,359
uh so there's a couple other things we

5826
04:49:43,439 --> 04:49:46,717
can do too now let's also look at some

5827
04:49:45,360 --> 04:49:47,920
other stuff we should probably make a

5828
04:49:46,718 --> 04:49:49,280
list of what we want to go through

5829
04:49:47,919 --> 04:49:50,717
there's so much stuff now that we've

5830
04:49:49,279 --> 04:49:52,637
kind of zeroed in on this and we've got

5831
04:49:50,718 --> 04:49:55,360
it mostly working there's so much stuff

5832
04:49:52,637 --> 04:49:57,919
we want to go iron out

5833
04:49:55,360 --> 04:50:00,159
we also turned off like our our

5834
04:49:57,919 --> 04:50:02,637
convection sampling so like that's

5835
04:50:00,159 --> 04:50:04,637
actually turned off right now

5836
04:50:02,637 --> 04:50:06,797
which i don't know what we want to do

5837
04:50:04,637 --> 04:50:10,637
about that i

5838
04:50:06,797 --> 04:50:11,759
like do we want to leave it off

5839
04:50:10,637 --> 04:50:12,559
i don't know

5840
04:50:11,759 --> 04:50:17,599
uh

5841
04:50:12,560 --> 04:50:19,200
is it buggy we it might be right um

5842
04:50:17,599 --> 04:50:21,279
so that's kind of a separate thing that

5843
04:50:19,200 --> 04:50:24,159
i'm not sure what to make about it okay

5844
04:50:21,279 --> 04:50:26,717
so so in here you can see the code

5845
04:50:24,159 --> 04:50:28,797
right here uh this code

5846
04:50:26,718 --> 04:50:33,440
um

5847
04:50:28,797 --> 04:50:34,239
so if we were to nerf this

5848
04:50:33,439 --> 04:50:37,599
right

5849
04:50:34,240 --> 04:50:40,320
uh now we would we would have it so that

5850
04:50:37,599 --> 04:50:41,519
um it it's actually sampling when it

5851
04:50:40,319 --> 04:50:43,759
runs out of

5852
04:50:41,520 --> 04:50:45,760
time right so when it

5853
04:50:43,759 --> 04:50:48,079
it will the light would potentially

5854
04:50:45,759 --> 04:50:50,319
propagate further you know what i'm

5855
04:50:48,080 --> 04:50:50,320
saying

5856
04:50:50,400 --> 04:50:54,840
i don't really see any difference though

5857
04:51:03,439 --> 04:51:06,957
i'm tempted to just add in some white

5858
04:51:05,200 --> 04:51:08,878
noise here i kind of just want to know

5859
04:51:06,957 --> 04:51:11,039
what it's going to look like

5860
04:51:08,878 --> 04:51:12,958
you know what i mean

5861
04:51:11,040 --> 04:51:15,840
i'm just i'm really psyched about how

5862
04:51:12,957 --> 04:51:15,840
well this came out

5863
04:51:17,439 --> 04:51:21,119
for fully dynamic lighting literally

5864
04:51:19,840 --> 04:51:22,560
completely dynamic with no

5865
04:51:21,119 --> 04:51:26,319
precomputation

5866
04:51:22,560 --> 04:51:28,798
no light maps and no gpu support

5867
04:51:26,319 --> 04:51:32,000
this is 100 on the cpu side this is

5868
04:51:28,797 --> 04:51:32,000
pretty darn good i think

5869
04:51:41,360 --> 04:51:47,440
um so i'm interested in in maybe adding

5870
04:51:43,919 --> 04:51:47,439
some noise there i don't know

5871
04:51:51,360 --> 04:51:57,040
so i mean this is the code

5872
04:51:53,919 --> 04:51:59,279
to generate the ray direction uh i don't

5873
04:51:57,040 --> 04:52:01,920
know how much like that will actually

5874
04:51:59,279 --> 04:52:03,279
cost us it might cost us a bit

5875
04:52:01,919 --> 04:52:05,439
because that's not particularly well

5876
04:52:03,279 --> 04:52:08,000
optimized so this may slow things down

5877
04:52:05,439 --> 04:52:09,520
too much i'm not actually sure

5878
04:52:08,000 --> 04:52:11,599
um

5879
04:52:09,520 --> 04:52:12,560
so i don't know

5880
04:52:11,599 --> 04:52:15,439
but

5881
04:52:12,560 --> 04:52:17,200
if we imagined not looking up into the

5882
04:52:15,439 --> 04:52:19,359
sample table anymore

5883
04:52:17,200 --> 04:52:21,920
so instead of this

5884
04:52:19,360 --> 04:52:23,680
right we just don't do that

5885
04:52:21,919 --> 04:52:28,000
and we say

5886
04:52:23,680 --> 04:52:30,319
ray d single equals this nonsense

5887
04:52:28,000 --> 04:52:30,319
right

5888
04:52:30,878 --> 04:52:33,119
um

5889
04:52:34,718 --> 04:52:39,560
i think that's all we would need

5890
04:52:44,400 --> 04:52:51,240
i i think that's all we would need

5891
04:52:47,119 --> 04:52:51,239
uh and the inv octim

5892
04:52:53,279 --> 04:53:01,878
i i assume is just over eight there so

5893
04:52:57,759 --> 04:53:01,877
so the octin x

5894
04:53:09,119 --> 04:53:13,919
yeah so it's it's just over eight there

5895
04:53:11,279 --> 04:53:17,840
so so basically like

5896
04:53:13,919 --> 04:53:21,797
this code is is the same code

5897
04:53:17,840 --> 04:53:21,797
uh let's just take a look

5898
04:53:23,200 --> 04:53:27,119
i don't know this this may be a very bad

5899
04:53:24,797 --> 04:53:27,119
idea

5900
04:53:30,797 --> 04:53:34,797
yeah i don't know where the heck this is

5901
04:53:32,400 --> 04:53:37,280
going to get entropy from i shouldn't

5902
04:53:34,797 --> 04:53:39,439
have removed it i removed it remember i

5903
04:53:37,279 --> 04:53:41,279
was like ah we don't need that anymore

5904
04:53:39,439 --> 04:53:42,957
we're just using a table

5905
04:53:41,279 --> 04:53:44,319
ah forget about it we'll deal with it

5906
04:53:42,957 --> 04:53:45,680
later as

5907
04:53:44,319 --> 04:53:47,919
dumb

5908
04:53:45,680 --> 04:53:49,520
but uh yeah what are you gonna do so

5909
04:53:47,919 --> 04:53:52,079
we'll have to add a more optimized

5910
04:53:49,520 --> 04:53:54,400
version of this in here anyway

5911
04:53:52,080 --> 04:53:54,400
but

5912
04:53:55,200 --> 04:54:00,878
i if we go to the lighting work and we

5913
04:53:58,479 --> 04:54:03,279
look and see how we would put entropy in

5914
04:54:00,878 --> 04:54:05,279
here we have the sample point entropy i

5915
04:54:03,279 --> 04:54:07,279
don't actually know

5916
04:54:05,279 --> 04:54:09,520
um if that

5917
04:54:07,279 --> 04:54:09,520
is

5918
04:54:09,599 --> 04:54:12,479
valid

5919
04:54:11,279 --> 04:54:15,039
uh

5920
04:54:12,479 --> 04:54:19,040
like i don't know if anyone's setting

5921
04:54:15,040 --> 04:54:21,680
that sample point entropy

5922
04:54:19,040 --> 04:54:23,520
so they sort of are

5923
04:54:21,680 --> 04:54:25,680
um

5924
04:54:23,520 --> 04:54:28,400
and so you know there's a thing

5925
04:54:25,680 --> 04:54:29,599
happening with the thing

5926
04:54:28,400 --> 04:54:32,319
so

5927
04:54:29,599 --> 04:54:34,399
maybe that's fine

5928
04:54:32,319 --> 04:54:36,560
uh

5929
04:54:34,400 --> 04:54:38,878
who knows

5930
04:54:36,560 --> 04:54:41,360
uh but all right so the poor poor

5931
04:54:38,878 --> 04:54:44,360
solution to this problem

5932
04:54:41,360 --> 04:54:44,360
um

5933
04:55:03,520 --> 04:55:11,637
i guess it's just random seed offset

5934
04:55:07,599 --> 04:55:11,637
this is not going to be good

5935
04:55:12,637 --> 04:55:16,119
to say the least

5936
04:55:27,360 --> 04:55:32,718
all right so maybe or maybe not that's

5937
04:55:30,479 --> 04:55:34,239
white noise injected in here this could

5938
04:55:32,718 --> 04:55:36,637
just be a complete disaster i don't know

5939
04:55:34,240 --> 04:55:38,798
if it'll actually work um

5940
04:55:36,637 --> 04:55:38,797
but

5941
04:55:39,279 --> 04:55:43,680
so you know that's the white noise

5942
04:55:41,360 --> 04:55:43,680
version

5943
04:55:43,919 --> 04:55:47,679
and you can see like you do get the

5944
04:55:45,840 --> 04:55:50,400
flickering-ness

5945
04:55:47,680 --> 04:55:54,080
as you go kind of further out right

5946
04:55:50,400 --> 04:55:56,560
um which you know i don't know how

5947
04:55:54,080 --> 04:55:58,958
likely we are to fix that

5948
04:55:56,560 --> 04:55:58,958
um

5949
04:56:01,279 --> 04:56:06,319
uh what i will say is we now have the

5950
04:56:03,759 --> 04:56:07,919
nice thing of like you can just set

5951
04:56:06,319 --> 04:56:09,279
lighting octahedral raised protection to

5952
04:56:07,919 --> 04:56:11,359
whatever the heck you want because it's

5953
04:56:09,279 --> 04:56:12,957
not reading out of a table anymore

5954
04:56:11,360 --> 04:56:14,878
so you just be like oh yeah we're doing

5955
04:56:12,957 --> 04:56:15,840
32 samples

5956
04:56:14,878 --> 04:56:17,600
now

5957
04:56:15,840 --> 04:56:19,759
right or whatever it's going to be too

5958
04:56:17,599 --> 04:56:21,439
slow to use but you know you can set it

5959
04:56:19,759 --> 04:56:23,919
to whatever you want

5960
04:56:21,439 --> 04:56:25,359
um if that makes sense oh

5961
04:56:23,919 --> 04:56:28,079
but not like that

5962
04:56:25,360 --> 04:56:29,440
uh you have to set it the same as your

5963
04:56:28,080 --> 04:56:31,360
sampling

5964
04:56:29,439 --> 04:56:34,319
inverse sampling because otherwise you

5965
04:56:31,360 --> 04:56:37,200
will just explode with light like you

5966
04:56:34,319 --> 04:56:39,520
have to have that value match the value

5967
04:56:37,200 --> 04:56:40,319
that you're using for

5968
04:56:39,520 --> 04:56:43,957
uh

5969
04:56:40,319 --> 04:56:43,957
i mean you get the idea

5970
04:56:50,240 --> 04:56:53,280
so if we want to do a ray count

5971
04:56:52,479 --> 04:56:54,479
here

5972
04:56:53,279 --> 04:56:59,079
uh

5973
04:56:54,479 --> 04:56:59,079
that is in the ray weight

5974
04:57:08,718 --> 04:57:11,119
um

5975
04:57:13,360 --> 04:57:16,637
and like i said i don't know this might

5976
04:57:14,878 --> 04:57:18,958
not be a good idea it might be that we

5977
04:57:16,637 --> 04:57:20,718
have to use predefined directions or

5978
04:57:18,957 --> 04:57:23,359
something

5979
04:57:20,718 --> 04:57:25,760
um but we'll see

5980
04:57:23,360 --> 04:57:28,240
so there's like a

5981
04:57:25,759 --> 04:57:30,877
slow version

5982
04:57:28,240 --> 04:57:33,520
and there's not very much flicker

5983
04:57:30,878 --> 04:57:36,159
it's pretty imperceptible

5984
04:57:33,520 --> 04:57:40,718
um you get some noise in the far out

5985
04:57:36,159 --> 04:57:40,718
places but man like that's pretty low

5986
04:57:40,957 --> 04:57:45,399
i'd probably be okay with that

5987
04:57:47,919 --> 04:57:54,759
uh and maybe you can do some denoising

5988
04:57:50,159 --> 04:57:54,759
on that right like over time

5989
04:58:15,040 --> 04:58:20,479
so it's pretty good

5990
04:58:17,040 --> 04:58:24,200
um at 16 it's you know it probably

5991
04:58:20,479 --> 04:58:24,200
significantly worse

5992
04:58:28,797 --> 04:58:32,319
but you can see the noise pretty bad at

5993
04:58:30,560 --> 04:58:35,680
16 right so i'm guessing somewhere

5994
04:58:32,319 --> 04:58:39,637
around 64 it becomes pretty good

5995
04:58:35,680 --> 04:58:39,637
in terms of noise level

5996
04:58:44,560 --> 04:58:49,600
yeah i mean at 64 you basically like

5997
04:58:47,200 --> 04:58:51,040
wouldn't really know

5998
04:58:49,599 --> 04:58:55,717
it's just we can't afford that many

5999
04:58:51,040 --> 04:58:55,718
samples right you see how slow it is

6000
04:59:01,520 --> 04:59:06,560
um we can also add some lag

6001
04:59:03,439 --> 04:59:10,840
so you know if we're only going at eight

6002
04:59:06,560 --> 04:59:10,840
uh or something like that

6003
04:59:11,439 --> 04:59:15,439
uh where you would see it

6004
04:59:13,919 --> 04:59:16,319
uh i wonder if

6005
04:59:15,439 --> 04:59:20,159
uh

6006
04:59:16,319 --> 04:59:22,319
where that sweet spot would be for um

6007
04:59:20,159 --> 04:59:24,878
the lag right so

6008
04:59:22,319 --> 04:59:30,159
you know we could

6009
04:59:24,878 --> 04:59:30,159
make it more laggy like 10 frames

6010
04:59:36,957 --> 04:59:40,399
and you know that's pretty good

6011
04:59:43,599 --> 04:59:46,559
i wish i knew more about sampling and

6012
04:59:45,360 --> 04:59:48,637
de-noising

6013
04:59:46,560 --> 04:59:50,479
like nothing right

6014
04:59:48,637 --> 04:59:52,319
um because i bet we could put some kind

6015
04:59:50,479 --> 04:59:54,797
of filtering in on this as well that

6016
04:59:52,319 --> 04:59:56,718
would make it so that you got more use

6017
04:59:54,797 --> 04:59:58,399
out of the samples we're taking like

6018
04:59:56,718 --> 04:59:59,840
right now we're probably not doing a

6019
04:59:58,400 --> 05:00:02,080
very good job

6020
04:59:59,840 --> 05:00:05,637
like figuring out how to weight those

6021
05:00:02,080 --> 05:00:05,638
samples or whatever

6022
05:00:06,000 --> 05:00:09,520
this looks pretty freaking cool

6023
05:00:10,479 --> 05:00:13,680
so yeah i think we could probably call

6024
05:00:12,080 --> 05:00:15,280
that done for a while like i don't know

6025
05:00:13,680 --> 05:00:16,560
that we really need to worry too much

6026
05:00:15,279 --> 05:00:18,159
about this

6027
05:00:16,560 --> 05:00:19,680
i mean that just looks so cool like

6028
05:00:18,159 --> 05:00:21,599
you'd play a game that looked like this

6029
05:00:19,680 --> 05:00:23,680
i don't even think you would mind but i

6030
05:00:21,599 --> 05:00:25,039
do think we can do better i just don't

6031
05:00:23,680 --> 05:00:26,718
know that we care at the immediate

6032
05:00:25,040 --> 05:00:27,600
moment right

6033
05:00:26,718 --> 05:00:30,560
um

6034
05:00:27,599 --> 05:00:33,919
so that seems fine i

6035
05:00:30,560 --> 05:00:37,760
would say that the entity gen code

6036
05:00:33,919 --> 05:00:37,759
that's putting in all these lights

6037
05:00:47,759 --> 05:00:50,877
i mean when you have more lights you

6038
05:00:49,360 --> 05:00:53,360
don't even notice only when you're in a

6039
05:00:50,878 --> 05:00:56,637
really dark area you can't even see

6040
05:00:53,360 --> 05:00:56,637
the flickering at this point

6041
05:00:56,718 --> 05:00:59,440
right

6042
05:00:58,000 --> 05:01:00,319
so

6043
05:00:59,439 --> 05:01:02,717
there's

6044
05:01:00,319 --> 05:01:06,319
too much light it looks like in

6045
05:01:02,718 --> 05:01:06,319
sometimes in these areas like

6046
05:01:06,400 --> 05:01:10,240
just too much because the convection now

6047
05:01:08,637 --> 05:01:13,119
happens so we do

6048
05:01:10,240 --> 05:01:16,120
like move light around a lot

6049
05:01:13,119 --> 05:01:16,119
um

6050
05:01:16,240 --> 05:01:19,520
so like

6051
05:01:17,279 --> 05:01:21,360
i'm still just enough light to push this

6052
05:01:19,520 --> 05:01:23,040
i think to push that region over the

6053
05:01:21,360 --> 05:01:24,000
edge

6054
05:01:23,040 --> 05:01:26,479
um

6055
05:01:24,000 --> 05:01:26,479
but yeah

6056
05:01:27,200 --> 05:01:32,000
we probably want an exposure curve

6057
05:01:30,400 --> 05:01:35,280
we don't have an exposure curve right

6058
05:01:32,000 --> 05:01:35,279
now we probably want that

6059
05:01:39,840 --> 05:01:45,479
uh so i think that's pretty good

6060
05:01:42,479 --> 05:01:45,479
um

6061
05:01:46,560 --> 05:01:50,159
i mean nice work

6062
05:01:48,240 --> 05:01:53,120
everyone think we

6063
05:01:50,159 --> 05:01:55,439
did a really nice job on this lighting

6064
05:01:53,119 --> 05:01:55,439
um

6065
05:01:56,878 --> 05:02:02,080
still has some rough edges but it's

6066
05:01:58,240 --> 05:02:02,080
pretty darn good and i

6067
05:02:06,319 --> 05:02:09,680
i'm not sure what we would want to do

6068
05:02:07,840 --> 05:02:11,279
exposure curve wise

6069
05:02:09,680 --> 05:02:12,797
uh

6070
05:02:11,279 --> 05:02:14,319
and you can kind of see we still have we

6071
05:02:12,797 --> 05:02:16,000
can still end up in these like over

6072
05:02:14,319 --> 05:02:18,079
brightening circles like that

6073
05:02:16,000 --> 05:02:19,840
uh where the light kind of propagates

6074
05:02:18,080 --> 05:02:20,798
out and is very bright

6075
05:02:19,840 --> 05:02:23,119
right

6076
05:02:20,797 --> 05:02:23,119
um

6077
05:02:23,520 --> 05:02:26,797
and i'm not sure that might still be a

6078
05:02:25,599 --> 05:02:29,199
bug

6079
05:02:26,797 --> 05:02:30,878
uh i assume that's from the fact that we

6080
05:02:29,200 --> 05:02:32,878
are carrying a very bright light right

6081
05:02:30,878 --> 05:02:34,240
now but it still could be a bug that

6082
05:02:32,878 --> 05:02:35,600
it's

6083
05:02:34,240 --> 05:02:38,400
a like

6084
05:02:35,599 --> 05:02:41,599
adding too much light the sampling that

6085
05:02:38,400 --> 05:02:43,440
does yeah i don't know exactly but there

6086
05:02:41,599 --> 05:02:44,957
still could be a bug in the sampling

6087
05:02:43,439 --> 05:02:47,680
that allows you to end up with more

6088
05:02:44,957 --> 05:02:49,520
light than you should so i think that is

6089
05:02:47,680 --> 05:02:51,840
probably also

6090
05:02:49,520 --> 05:02:54,080
something we want to look at

6091
05:02:51,840 --> 05:02:55,680
so i'm not

6092
05:02:54,080 --> 05:02:58,680
i don't really know

6093
05:02:55,680 --> 05:02:58,680
um

6094
05:03:13,840 --> 05:03:17,759
yeah the darker one will be what it

6095
05:03:15,759 --> 05:03:19,599
looks like uh whenever you're in a

6096
05:03:17,759 --> 05:03:21,119
region that has no lights

6097
05:03:19,599 --> 05:03:23,039
uh assuming that you're carrying like a

6098
05:03:21,119 --> 05:03:23,919
light around right

6099
05:03:23,040 --> 05:03:24,798
so

6100
05:03:23,919 --> 05:03:27,039
uh

6101
05:03:24,797 --> 05:03:29,039
you know like well let me finish what i

6102
05:03:27,040 --> 05:03:32,560
was doing here first but we can do an

6103
05:03:29,040 --> 05:03:32,560
example of what that would be like

6104
05:03:35,680 --> 05:03:40,797
um so you know like i don't know this

6105
05:03:38,560 --> 05:03:44,159
world generation code is such complete

6106
05:03:40,797 --> 05:03:46,797
garbage uh that you know

6107
05:03:44,159 --> 05:03:46,797
but uh

6108
05:03:46,957 --> 05:03:51,439
if we turned off lighting in like the

6109
05:03:48,637 --> 05:03:54,439
main room or something like that

6110
05:03:51,439 --> 05:03:54,439
um

6111
05:04:06,718 --> 05:04:09,440
all right

6112
05:04:07,520 --> 05:04:11,279
you know i mean i don't exactly know if

6113
05:04:09,439 --> 05:04:12,079
this will do what we want but i think it

6114
05:04:11,279 --> 05:04:14,559
will

6115
05:04:12,080 --> 05:04:16,798
so like if you imagined right

6116
05:04:14,560 --> 05:04:18,798
you're in an area where

6117
05:04:16,797 --> 05:04:21,199
you have like no light

6118
05:04:18,797 --> 05:04:23,279
uh then in that part of the game that's

6119
05:04:21,200 --> 05:04:26,319
exactly what it would look like and if

6120
05:04:23,279 --> 05:04:28,797
we pretended temporarily

6121
05:04:26,319 --> 05:04:31,599
so uh move entity is nerfed because

6122
05:04:28,797 --> 05:04:33,840
we're we have to remove z from that

6123
05:04:31,599 --> 05:04:33,840
um

6124
05:04:34,400 --> 05:04:36,958
i like that

6125
05:04:39,599 --> 05:04:43,877
don't care about that

6126
05:04:52,319 --> 05:04:57,520
you got to love that

6127
05:04:54,319 --> 05:04:57,520
how do you not love that

6128
05:04:58,240 --> 05:05:02,798
i i don't know

6129
05:05:00,400 --> 05:05:02,798
um

6130
05:05:03,840 --> 05:05:07,680
i

6131
05:05:05,200 --> 05:05:10,560
i i just don't know

6132
05:05:07,680 --> 05:05:13,760
uh so where is new p is refined voxel

6133
05:05:10,560 --> 05:05:15,520
placement so yeah if we did like

6134
05:05:13,759 --> 05:05:17,199
don't care about that

6135
05:05:15,520 --> 05:05:20,637
what i actually want to do here is

6136
05:05:17,200 --> 05:05:21,060
change this to just auto move the thing

6137
05:05:20,637 --> 05:05:24,129
so

6138
05:05:21,060 --> 05:05:24,129
[Music]

6139
05:05:26,000 --> 05:05:30,080
so it's more like

6140
05:05:27,360 --> 05:05:33,680
if we say that we don't care about that

6141
05:05:30,080 --> 05:05:33,680
then what we do is we say

6142
05:05:34,637 --> 05:05:40,797
uh we move it to where it's going and we

6143
05:05:37,360 --> 05:05:40,797
leave the function

6144
05:05:41,360 --> 05:05:45,760
um

6145
05:05:43,360 --> 05:05:48,958
so what i was gonna say is if you

6146
05:05:45,759 --> 05:05:51,599
imagine this was actually oh god

6147
05:05:48,957 --> 05:05:52,957
what have i done

6148
05:05:51,599 --> 05:05:55,279
okay

6149
05:05:52,957 --> 05:05:55,279
um

6150
05:05:55,599 --> 05:05:58,000
the diagram

6151
05:05:56,878 --> 05:06:00,560
and

6152
05:05:58,000 --> 05:06:03,520
has to be in there doesn't it so

6153
05:06:00,560 --> 05:06:06,920
uh you know

6154
05:06:03,520 --> 05:06:06,920
totally fair

6155
05:06:17,200 --> 05:06:20,560
although i guess i could have just put

6156
05:06:18,560 --> 05:06:21,840
the diagram and in there i don't know

6157
05:06:20,560 --> 05:06:25,840
why i didn't do that that's like a

6158
05:06:21,840 --> 05:06:25,840
smarter way to do this right

6159
05:06:27,919 --> 05:06:30,319
like that

6160
05:06:31,200 --> 05:06:33,520
um

6161
05:06:33,599 --> 05:06:38,399
yeah so that's

6162
05:06:36,637 --> 05:06:41,520
what

6163
05:06:38,400 --> 05:06:43,200
i put a diagram end in there didn't i oh

6164
05:06:41,520 --> 05:06:46,520
i forgot the return

6165
05:06:43,200 --> 05:06:46,520
there we go

6166
05:06:52,240 --> 05:06:57,120
so assuming that i bring the glove with

6167
05:06:54,080 --> 05:06:58,798
me like right um which is the other code

6168
05:06:57,119 --> 05:07:01,200
that we have to work on now sometime

6169
05:06:58,797 --> 05:07:03,119
soon um but if we imagined

6170
05:07:01,200 --> 05:07:06,637
uh that the glove was more like what the

6171
05:07:03,119 --> 05:07:08,479
glove actually is going to be uh in

6172
05:07:06,637 --> 05:07:10,559
when the game is actually

6173
05:07:08,479 --> 05:07:11,759
sort of nominally a game

6174
05:07:10,560 --> 05:07:13,760
um

6175
05:07:11,759 --> 05:07:15,439
you know the

6176
05:07:13,759 --> 05:07:17,359
the glove would have a light on it

6177
05:07:15,439 --> 05:07:18,877
because it's glowing magical glove or

6178
05:07:17,360 --> 05:07:19,920
something

6179
05:07:18,878 --> 05:07:22,159
and so

6180
05:07:19,919 --> 05:07:23,637
the glove itself

6181
05:07:22,159 --> 05:07:28,680
would

6182
05:07:23,637 --> 05:07:28,680
presumably have that um

6183
05:07:37,439 --> 05:07:42,159
so

6184
05:07:38,599 --> 05:07:42,159
something like

6185
05:07:45,599 --> 05:07:48,599
this

6186
05:07:51,040 --> 05:07:52,878
um

6187
05:07:51,520 --> 05:07:55,520
[Music]

6188
05:07:52,878 --> 05:07:55,520
i don't know

6189
05:07:57,439 --> 05:08:00,957
i i really just have no idea what i'm

6190
05:07:59,439 --> 05:08:06,439
typing in here so you'll have to forgive

6191
05:08:00,957 --> 05:08:06,439
me but it's gonna be like you know

6192
05:08:31,840 --> 05:08:34,240
um

6193
05:08:43,439 --> 05:08:50,159
i don't actually know

6194
05:08:45,599 --> 05:08:55,840
where ad piece is defined here

6195
05:08:50,159 --> 05:08:55,840
but i assume that like it is somewhere

6196
05:08:56,560 --> 05:09:01,840
predefined

6197
05:08:58,957 --> 05:09:01,840
yeah like that

6198
05:09:10,000 --> 05:09:14,400
um

6199
05:09:11,439 --> 05:09:17,039
okay too much light

6200
05:09:14,400 --> 05:09:18,480
obviously so we probably still have a

6201
05:09:17,040 --> 05:09:20,319
light bug there because in theory it

6202
05:09:18,479 --> 05:09:21,599
shouldn't be able to convect like that

6203
05:09:20,319 --> 05:09:23,520
and i do think that that probably has

6204
05:09:21,599 --> 05:09:26,877
something to do with the like

6205
05:09:23,520 --> 05:09:28,878
transmission rule like i i assume and

6206
05:09:26,878 --> 05:09:31,920
let's double check this i assume that

6207
05:09:28,878 --> 05:09:33,600
once you add the like that convection

6208
05:09:31,919 --> 05:09:34,957
rule that that's where you get that from

6209
05:09:33,599 --> 05:09:37,519
although i don't know

6210
05:09:34,957 --> 05:09:38,840
um so we'll have to take a look but yeah

6211
05:09:37,520 --> 05:09:42,080
if

6212
05:09:38,840 --> 05:09:42,080
we um

6213
05:09:45,840 --> 05:09:51,000
if we turn this back on does that still

6214
05:09:48,000 --> 05:09:51,000
happen

6215
05:09:55,520 --> 05:09:59,279
wow it does all right so i think we

6216
05:09:57,279 --> 05:10:01,840
still have a bug

6217
05:09:59,279 --> 05:10:03,039
for for how we're doing the sampling

6218
05:10:01,840 --> 05:10:05,920
such that

6219
05:10:03,040 --> 05:10:09,040
the light contaminant

6220
05:10:05,919 --> 05:10:11,759
thing works because i i don't think

6221
05:10:09,040 --> 05:10:11,760
that it should

6222
05:10:13,360 --> 05:10:15,760
um

6223
05:10:18,560 --> 05:10:23,040
and maybe i'm totally wrong about that

6224
05:10:20,878 --> 05:10:25,520
but i just don't think that should be

6225
05:10:23,040 --> 05:10:25,520
happening

6226
05:10:26,319 --> 05:10:29,360
but it's pretty clear that if you get

6227
05:10:27,439 --> 05:10:30,637
too much light in an area it's able to

6228
05:10:29,360 --> 05:10:33,040
sort of like

6229
05:10:30,637 --> 05:10:35,119
propagate somehow and that doesn't make

6230
05:10:33,040 --> 05:10:36,718
intuitive sense to me not saying it

6231
05:10:35,119 --> 05:10:38,399
definitely shouldn't happen

6232
05:10:36,718 --> 05:10:42,319
i'm just saying i don't understand why

6233
05:10:38,400 --> 05:10:44,958
it's happening so something seems up

6234
05:10:42,319 --> 05:10:44,957
you know what i mean

6235
05:10:48,080 --> 05:10:51,718
something's up

6236
05:11:07,040 --> 05:11:11,280
uh you can see that

6237
05:11:08,797 --> 05:11:13,919
like the light you can see we need to

6238
05:11:11,279 --> 05:11:15,840
fix that problem with the light going

6239
05:11:13,919 --> 05:11:17,039
over the area like like how is that

6240
05:11:15,840 --> 05:11:18,718
happening

6241
05:11:17,040 --> 05:11:20,400
all right someone needs to explain how

6242
05:11:18,718 --> 05:11:22,400
that's happening so we still have some

6243
05:11:20,400 --> 05:11:24,718
kind of bug there but we have no idea

6244
05:11:22,400 --> 05:11:26,878
what's causing it like as long as the as

6245
05:11:24,718 --> 05:11:29,200
long as the light is kind of

6246
05:11:26,878 --> 05:11:30,400
in one particular spot it's able to do

6247
05:11:29,200 --> 05:11:34,000
that

6248
05:11:30,400 --> 05:11:35,920
how is it possible nobody knows

6249
05:11:34,000 --> 05:11:39,520
so we still have one more bug to find i

6250
05:11:35,919 --> 05:11:39,519
mean we probably have more than that but

6251
05:11:41,119 --> 05:11:45,239
somehow it's able to feedback

6252
05:11:46,637 --> 05:11:50,000
and we don't really know how like we

6253
05:11:48,637 --> 05:11:52,637
don't know what's going on there we're

6254
05:11:50,000 --> 05:11:55,759
blind the the blacking out part we know

6255
05:11:52,637 --> 05:11:58,399
what that is it's just over it uh over

6256
05:11:55,759 --> 05:11:59,279
it it hovers over the light probe

6257
05:11:58,400 --> 05:12:00,798
right

6258
05:11:59,279 --> 05:12:04,239
um

6259
05:12:00,797 --> 05:12:06,637
so if we imagined uh

6260
05:12:04,240 --> 05:12:08,080
that's so weird what is happening we

6261
05:12:06,637 --> 05:12:10,079
have to figure that out i'm gonna be

6262
05:12:08,080 --> 05:12:12,320
very satisfied when we finally do but

6263
05:12:10,080 --> 05:12:13,440
it's like something about the fact that

6264
05:12:12,319 --> 05:12:15,119
the light

6265
05:12:13,439 --> 05:12:17,199
is able to just

6266
05:12:15,119 --> 05:12:19,039
even it's anywhere i stand as long as

6267
05:12:17,200 --> 05:12:21,440
it's stable

6268
05:12:19,040 --> 05:12:22,798
it feeds back

6269
05:12:21,439 --> 05:12:25,279
now why these other lights aren't

6270
05:12:22,797 --> 05:12:27,439
feeding back i don't know

6271
05:12:25,279 --> 05:12:29,279
right like why are the other lights not

6272
05:12:27,439 --> 05:12:31,359
feeding back

6273
05:12:29,279 --> 05:12:33,759
they're all stay in staying in one place

6274
05:12:31,360 --> 05:12:35,119
so i don't know why that would be

6275
05:12:33,759 --> 05:12:36,877
um

6276
05:12:35,119 --> 05:12:39,878
but something's up

6277
05:12:36,878 --> 05:12:39,878
right

6278
05:12:45,360 --> 05:12:50,479
uh anyway uh that in terms of that like

6279
05:12:47,919 --> 05:12:53,119
going across and blacking out things

6280
05:12:50,479 --> 05:12:55,919
that we know what that code is that code

6281
05:12:53,119 --> 05:12:56,878
the code that's causing that is just the

6282
05:12:55,919 --> 05:12:59,839
um

6283
05:12:56,878 --> 05:12:59,840
this bit here

6284
05:13:00,637 --> 05:13:04,637
and that's preventing you from

6285
05:13:02,000 --> 05:13:08,080
raycasting out from inside

6286
05:13:04,637 --> 05:13:11,079
you know from inside things basically

6287
05:13:08,080 --> 05:13:11,080
um

6288
05:13:21,680 --> 05:13:27,119
if we imagined just not doing this

6289
05:13:25,439 --> 05:13:30,159
that probably prevents the blacking out

6290
05:13:27,119 --> 05:13:32,000
but we need a better idea of what it

6291
05:13:30,159 --> 05:13:32,957
should be set to

6292
05:13:32,000 --> 05:13:36,159
um

6293
05:13:32,957 --> 05:13:38,479
so it's still like kind of an open issue

6294
05:13:36,159 --> 05:13:41,360
right uh

6295
05:13:38,479 --> 05:13:41,360
so i don't know

6296
05:13:46,560 --> 05:13:49,920
no

6297
05:13:48,479 --> 05:13:53,119
so you can see now we don't get the

6298
05:13:49,919 --> 05:13:54,717
blacking out right um but you still have

6299
05:13:53,119 --> 05:13:56,000
the problem of it doesn't pick up the

6300
05:13:54,718 --> 05:13:57,119
light so

6301
05:13:56,000 --> 05:13:59,599
it's still not

6302
05:13:57,119 --> 05:14:01,520
good right like it won't pick up the

6303
05:13:59,599 --> 05:14:03,119
light while it's over there so you get

6304
05:14:01,520 --> 05:14:07,360
like this progressive like dimming

6305
05:14:03,119 --> 05:14:09,599
behavior and that's not good right

6306
05:14:07,360 --> 05:14:09,600
um

6307
05:14:12,319 --> 05:14:16,637
so that's a little bit messed up and

6308
05:14:14,159 --> 05:14:19,200
also you know like we want to be able to

6309
05:14:16,637 --> 05:14:21,039
crank this to a higher value and not

6310
05:14:19,200 --> 05:14:22,319
have that light contamination so we got

6311
05:14:21,040 --> 05:14:25,760
to figure that out

6312
05:14:22,319 --> 05:14:25,759
what do you suppose it is

6313
05:14:33,439 --> 05:14:37,439
i think it must be a bug in how we're

6314
05:14:35,439 --> 05:14:40,000
sampling the way that we're producing

6315
05:14:37,439 --> 05:14:40,797
the light sample value is probably just

6316
05:14:40,000 --> 05:14:42,080
not

6317
05:14:40,797 --> 05:14:43,840
correct

6318
05:14:42,080 --> 05:14:45,760
like it's probably that we're missing a

6319
05:14:43,840 --> 05:14:48,400
term in there that's supposed to dampen

6320
05:14:45,759 --> 05:14:50,797
the contribution by some kind of thing

6321
05:14:48,400 --> 05:14:53,200
that's more correct that looks so cool

6322
05:14:50,797 --> 05:14:53,199
by the way

6323
05:14:54,319 --> 05:14:56,878
that you know

6324
05:15:01,279 --> 05:15:06,159
so what happens if we let you cast out

6325
05:15:04,000 --> 05:15:09,878
from inside things so suppose we just

6326
05:15:06,159 --> 05:15:09,878
didn't do this

6327
05:15:16,080 --> 05:15:19,600
i suppose one problem is now you have

6328
05:15:17,680 --> 05:15:20,878
light leaking through walls so that's

6329
05:15:19,599 --> 05:15:23,439
not good because the walls are allowed

6330
05:15:20,878 --> 05:15:25,920
to cast so that's probably bad

6331
05:15:23,439 --> 05:15:28,399
um right you can see

6332
05:15:25,919 --> 05:15:31,399
yeah there's no stopping it

6333
05:15:28,400 --> 05:15:31,400
um

6334
05:15:33,279 --> 05:15:36,717
so it does seem like i think that pretty

6335
05:15:35,119 --> 05:15:38,479
much tells us what we need to know like

6336
05:15:36,718 --> 05:15:40,798
our sampling

6337
05:15:38,479 --> 05:15:45,840
this code that samples that does the

6338
05:15:40,797 --> 05:15:45,840
blend produces values that are too high

6339
05:15:47,840 --> 05:15:50,319
somehow

6340
05:15:52,479 --> 05:15:58,957
like it's needs to take into account

6341
05:15:56,957 --> 05:16:01,599
um some

6342
05:15:58,957 --> 05:16:01,599
kind of

6343
05:16:06,319 --> 05:16:10,000
i mean i just don't like something's

6344
05:16:08,080 --> 05:16:11,760
wrong like because it shouldn't ever be

6345
05:16:10,000 --> 05:16:12,479
able to produce a value higher than what

6346
05:16:11,759 --> 05:16:14,637
it

6347
05:16:12,479 --> 05:16:17,599
the light value is but i guess it could

6348
05:16:14,637 --> 05:16:18,637
if the light value is that high then

6349
05:16:17,599 --> 05:16:22,717
that

6350
05:16:18,637 --> 05:16:22,718
is just slowly transmitting the light

6351
05:16:23,759 --> 05:16:29,637
so i guess that's harder to say

6352
05:16:40,159 --> 05:16:46,240
like

6353
05:16:41,840 --> 05:16:46,240
i suppose what i would say about that is

6354
05:16:46,957 --> 05:16:51,840
it's possible that's just sort of slowly

6355
05:16:49,439 --> 05:16:54,000
solving the problem correctly and

6356
05:16:51,840 --> 05:16:56,080
because we don't have an exposure curve

6357
05:16:54,000 --> 05:16:57,840
eventually you will get up to a higher

6358
05:16:56,080 --> 05:17:00,480
level of light

6359
05:16:57,840 --> 05:17:02,400
as the things bounce around and if you

6360
05:17:00,479 --> 05:17:04,000
don't have any actual occluders which is

6361
05:17:02,400 --> 05:17:06,080
what will happen when i did what i just

6362
05:17:04,000 --> 05:17:08,240
did there

6363
05:17:06,080 --> 05:17:10,080
maybe that's actually correct it doesn't

6364
05:17:08,240 --> 05:17:13,280
quite sound right

6365
05:17:10,080 --> 05:17:16,280
so i don't know about that

6366
05:17:13,279 --> 05:17:16,279
um

6367
05:17:47,360 --> 05:17:51,040
so yeah i'm not sure i should probably

6368
05:17:48,797 --> 05:17:55,039
wind down for today it's already like

6369
05:17:51,040 --> 05:17:58,040
five o'clock it's time to make some food

6370
05:17:55,040 --> 05:17:58,040
um

6371
05:18:04,240 --> 05:18:08,080
so yeah i guess we'll pick this up again

6372
05:18:06,479 --> 05:18:10,239
tomorrow i think we should add an

6373
05:18:08,080 --> 05:18:12,240
exposure curve

6374
05:18:10,240 --> 05:18:13,760
in there and we should probably set all

6375
05:18:12,240 --> 05:18:15,360
our lights so that they're just between

6376
05:18:13,759 --> 05:18:18,399
zero and one

6377
05:18:15,360 --> 05:18:21,680
so like one is the brightest light like

6378
05:18:18,400 --> 05:18:21,680
24 is the highest number

6379
05:18:29,360 --> 05:18:32,760
but i don't know

6380
05:18:45,360 --> 05:18:50,159
uh sandwich maker was suggesting

6381
05:18:48,080 --> 05:18:54,600
um

6382
05:18:50,159 --> 05:18:54,599
a simple exposure curve

6383
05:19:00,159 --> 05:19:06,520
yeah so kind of like a a soft knee

6384
05:19:02,400 --> 05:19:06,520
compressor basically right

6385
05:19:24,000 --> 05:19:27,000
um

6386
05:19:40,400 --> 05:19:47,440
send all code download stuck at 346.

6387
05:19:44,400 --> 05:19:47,440
that's not possible

6388
05:19:47,520 --> 05:19:50,159
did it break

6389
05:19:51,520 --> 05:19:57,479
i know i updated like 640 something just

6390
05:19:54,159 --> 05:19:57,479
the other day

6391
05:20:03,759 --> 05:20:09,239
it can't be 346 unless something very

6392
05:20:05,840 --> 05:20:09,240
weird is happening

6393
05:20:12,159 --> 05:20:15,680
or send out broke i mean there's a

6394
05:20:13,840 --> 05:20:18,400
reason we are going to replace sendal is

6395
05:20:15,680 --> 05:20:19,760
because it's so bad um so that's

6396
05:20:18,400 --> 05:20:22,080
possible

6397
05:20:19,759 --> 05:20:25,840
but i don't think it should be that far

6398
05:20:22,080 --> 05:20:25,840
back unless they broke something

6399
05:20:26,400 --> 05:20:29,520
um so yeah i guess i'm gonna stop for

6400
05:20:28,000 --> 05:20:31,919
today because we've done a lot of work

6401
05:20:29,520 --> 05:20:32,878
today and but we definitely

6402
05:20:31,919 --> 05:20:35,919
this

6403
05:20:32,878 --> 05:20:36,718
is very strange that light contamination

6404
05:20:35,919 --> 05:20:38,159
and

6405
05:20:36,718 --> 05:20:40,319
we're gonna have to figure out what's

6406
05:20:38,159 --> 05:20:41,520
going on there i don't understand it at

6407
05:20:40,319 --> 05:20:44,520
all

6408
05:20:41,520 --> 05:20:44,520
um

6409
05:20:52,637 --> 05:20:57,399
yes 646 sounds about right

6410
05:21:46,718 --> 05:21:49,840
so team r b like

6411
05:21:50,159 --> 05:21:52,558
well

6412
05:21:51,040 --> 05:21:54,240
i'm gonna i'm gonna end it here for

6413
05:21:52,558 --> 05:21:56,159
today uh we got a bunch of stuff to look

6414
05:21:54,240 --> 05:21:58,480
at next time

6415
05:21:56,159 --> 05:22:00,079
but it's looking pretty darn good i

6416
05:21:58,479 --> 05:22:02,319
would say

6417
05:22:00,080 --> 05:22:04,320
um

6418
05:22:02,319 --> 05:22:05,599
yeah 646 it's it's maybe a day or two

6419
05:22:04,319 --> 05:22:09,680
behind

6420
05:22:05,599 --> 05:22:12,000
uh but it's not it's not like six 346 or

6421
05:22:09,680 --> 05:22:12,000
whatever

6422
05:22:12,957 --> 05:22:17,599
uh but yeah i try to update it i might

6423
05:22:15,200 --> 05:22:20,319
because we should be desi 650 today i

6424
05:22:17,599 --> 05:22:22,637
think i'm gonna roll the counter on that

6425
05:22:20,319 --> 05:22:23,919
one so that uh it will be easier to

6426
05:22:22,637 --> 05:22:26,878
upload it was getting very hard to

6427
05:22:23,919 --> 05:22:30,877
upload because the package was too large

6428
05:22:26,878 --> 05:22:32,958
um so hopefully now it's easier uh send

6429
05:22:30,878 --> 05:22:35,440
out doesn't make it easy to actually

6430
05:22:32,957 --> 05:22:38,239
update the stupid thing but yeah the

6431
05:22:35,439 --> 05:22:40,797
github should always be up to date

6432
05:22:38,240 --> 05:22:42,080
and the send owl will be hopefully more

6433
05:22:40,797 --> 05:22:43,360
up to date now because it'll be easier

6434
05:22:42,080 --> 05:22:45,840
to upload it

6435
05:22:43,360 --> 05:22:45,840
than it was

6436
05:22:46,080 --> 05:22:48,958
but anyway

6437
05:22:47,200 --> 05:22:51,920
um so i think that's it

6438
05:22:48,957 --> 05:22:54,877
i'm going to call it there

6439
05:22:51,919 --> 05:22:57,439
and we will pick it back up next time

6440
05:22:54,878 --> 05:23:00,080
so thanks everyone for joining me

6441
05:22:57,439 --> 05:23:02,319
for this episode of handmade hero

6442
05:23:00,080 --> 05:23:05,718
i will see you all on the internet take

6443
05:23:02,319 --> 05:23:05,718
it easy everybody

