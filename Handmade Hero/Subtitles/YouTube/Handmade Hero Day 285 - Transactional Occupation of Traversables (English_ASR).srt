1
00:00:01,280 --> 00:00:05,549
hello everyone and welcome to handmade

2
00:00:04,110 --> 00:00:09,839
hero the show where we code a complete

3
00:00:05,549 --> 00:00:13,530
game live on stream we are in the middle

4
00:00:09,839 --> 00:00:15,570
of doing some gameplay coding here we're

5
00:00:13,529 --> 00:00:18,778
basically trying to set up our entities

6
00:00:15,570 --> 00:00:20,429
and get our sort of understanding of how

7
00:00:18,778 --> 00:00:23,698
creatures move through the world working

8
00:00:20,429 --> 00:00:26,730
in preparation for writing what we want

9
00:00:23,699 --> 00:00:30,750
the gameplay to feel like and be like so

10
00:00:26,730 --> 00:00:31,740
in order to do that I sort of we didn't

11
00:00:30,750 --> 00:00:33,450
really get the chance to do what I

12
00:00:31,739 --> 00:00:36,689
wanted to do on the previous stream

13
00:00:33,450 --> 00:00:39,359
because I had a stupid bug that was one

14
00:00:36,689 --> 00:00:41,280
of those bugs where it's it's not it's

15
00:00:39,359 --> 00:00:43,530
not a bug something's actually doing

16
00:00:41,280 --> 00:00:45,600
what it was supposed to do but you

17
00:00:43,530 --> 00:00:48,299
forget that you put something in another

18
00:00:45,600 --> 00:00:50,460
place and so you you think something you

19
00:00:48,299 --> 00:00:51,808
wrote is behaving incorrectly and you go

20
00:00:50,460 --> 00:00:53,308
search a new search and can't find the

21
00:00:51,808 --> 00:00:55,349
bug and of course it's because there is

22
00:00:53,308 --> 00:00:57,058
no bug it's actually you were using

23
00:00:55,350 --> 00:00:59,820
something completely wrong and the bug

24
00:00:57,058 --> 00:01:02,608
is actually back in completely unrelated

25
00:00:59,820 --> 00:01:05,069
code that has nothing to do with it so

26
00:01:02,609 --> 00:01:07,439
we we spent a bunch of time chasing our

27
00:01:05,069 --> 00:01:08,639
tails on that for no apparent reason but

28
00:01:07,438 --> 00:01:11,429
what are you gonna do I mean that's the

29
00:01:08,640 --> 00:01:13,109
nature of bugs right if if they always

30
00:01:11,430 --> 00:01:14,340
happen in the places you have that you

31
00:01:13,109 --> 00:01:15,900
thought they would then debugging

32
00:01:14,340 --> 00:01:20,310
wouldn't be hard right there'd be never

33
00:01:15,900 --> 00:01:22,020
be any skill to that I suppose but

34
00:01:20,310 --> 00:01:23,340
anyway that's settled now but we still

35
00:01:22,019 --> 00:01:25,349
got to do the stuff that is what I

36
00:01:23,340 --> 00:01:28,170
actually wanted to do which is push a

37
00:01:25,349 --> 00:01:30,809
little harder into exactly how we're

38
00:01:28,170 --> 00:01:33,060
moving the people around so that we can

39
00:01:30,810 --> 00:01:36,140
make some certain guarantees about what

40
00:01:33,060 --> 00:01:39,109
happens when they move so today is day

41
00:01:36,140 --> 00:01:41,939
285 so if you want to go ahead and

42
00:01:39,109 --> 00:01:46,170
follow along with today's episode day

43
00:01:41,938 --> 00:01:48,179
284 is the is the source code to start

44
00:01:46,170 --> 00:01:49,649
with we're also using a new version of

45
00:01:48,180 --> 00:01:52,350
for coder today which I don't have very

46
00:01:49,649 --> 00:01:56,368
much experience with basically the main

47
00:01:52,349 --> 00:02:00,949
difference with it is there's a new

48
00:01:56,368 --> 00:02:02,519
indentation pass in there so now like

49
00:02:00,950 --> 00:02:03,780
hopefully this will fix on the

50
00:02:02,519 --> 00:02:06,989
indentation problems we were having

51
00:02:03,780 --> 00:02:08,759
because it's it's sort of new and

52
00:02:06,989 --> 00:02:11,128
improved indentation over what we were

53
00:02:08,758 --> 00:02:12,269
using there's also some things that I

54
00:02:11,128 --> 00:02:13,560
don't haven't really looked into

55
00:02:12,270 --> 00:02:15,150
like for example I don't usually use

56
00:02:13,560 --> 00:02:16,289
scroll bars it has scroll bars now I

57
00:02:15,150 --> 00:02:18,030
don't know if you can turn them off so

58
00:02:16,289 --> 00:02:19,319
at some point we'll have to do a stream

59
00:02:18,030 --> 00:02:20,939
where we actually go through and because

60
00:02:19,319 --> 00:02:22,500
it's like new UI basically that you can

61
00:02:20,939 --> 00:02:23,699
access in for coder some of which is on

62
00:02:22,500 --> 00:02:25,229
by default and I don't necessarily know

63
00:02:23,699 --> 00:02:27,899
how to turn it off so there's a couple

64
00:02:25,229 --> 00:02:29,369
things in there that are that might be a

65
00:02:27,900 --> 00:02:33,150
little unusual but we'll we'll deal with

66
00:02:29,370 --> 00:02:34,469
them as they come so anyway yeah I'm

67
00:02:33,150 --> 00:02:35,760
gonna go ahead and open up oh and

68
00:02:34,469 --> 00:02:37,169
another thing that's kind of cool is now

69
00:02:35,759 --> 00:02:38,939
you can interact with these things and

70
00:02:37,169 --> 00:02:39,899
kind of a nice way to but that's beside

71
00:02:38,939 --> 00:02:41,430
the point

72
00:02:39,900 --> 00:02:44,219
so anyway I'm gonna go ahead and open

73
00:02:41,430 --> 00:02:45,330
things up here and get us going and over

74
00:02:44,219 --> 00:02:46,680
the course the stream we'll take a look

75
00:02:45,330 --> 00:02:48,360
at how the indentation stuff is going

76
00:02:46,680 --> 00:02:50,819
and hopefully we can find if there's any

77
00:02:48,360 --> 00:02:53,430
problems with the new indentation we can

78
00:02:50,819 --> 00:02:55,139
sort of isolate what is the reason like

79
00:02:53,430 --> 00:02:57,000
like we're in the Hamby tiro code was

80
00:02:55,139 --> 00:02:58,949
the indentation wrong and that way Allen

81
00:02:57,000 --> 00:03:01,409
will actually have some kind of a solid

82
00:02:58,949 --> 00:03:03,089
case that he can use to debug it right

83
00:03:01,409 --> 00:03:04,650
because the thing with indentation is

84
00:03:03,090 --> 00:03:06,569
this very context-specific so it's like

85
00:03:04,650 --> 00:03:08,520
you're just like it's not indenting

86
00:03:06,569 --> 00:03:09,750
braces right sometimes well that's not

87
00:03:08,520 --> 00:03:13,140
very helpful for a programmer because

88
00:03:09,750 --> 00:03:14,789
there's like okay like what times so if

89
00:03:13,139 --> 00:03:16,019
we can sort of I'm hoping that we can

90
00:03:14,789 --> 00:03:17,939
use the stream as sort of a thing that's

91
00:03:16,020 --> 00:03:18,870
like when we see an indentation happen

92
00:03:17,939 --> 00:03:20,939
we'll be like okay there's an

93
00:03:18,870 --> 00:03:23,459
indentation problem so and you can use

94
00:03:20,939 --> 00:03:26,789
exactly that code to see what what was

95
00:03:23,459 --> 00:03:32,009
occurring right alright so where we left

96
00:03:26,789 --> 00:03:34,560
things off was we've got this this sort

97
00:03:32,009 --> 00:03:38,909
of notion of the player moving around

98
00:03:34,560 --> 00:03:40,800
right and the player is moving and they

99
00:03:38,909 --> 00:03:43,379
can move on to points and they will move

100
00:03:40,800 --> 00:03:46,230
with the points when those points move

101
00:03:43,379 --> 00:03:48,389
and in general the part that I didn't

102
00:03:46,229 --> 00:03:50,369
get to do because you know that's sort

103
00:03:48,389 --> 00:03:52,919
of working now obviously the part that I

104
00:03:50,370 --> 00:03:55,469
didn't get to do that I wanted to do was

105
00:03:52,919 --> 00:03:58,500
I would like it so that when I move on

106
00:03:55,469 --> 00:04:01,169
to points those points understand that I

107
00:03:58,500 --> 00:04:03,870
am the person who is on the point and

108
00:04:01,169 --> 00:04:06,208
then if somebody else wanted to move on

109
00:04:03,870 --> 00:04:08,099
to that point I would not be able to do

110
00:04:06,209 --> 00:04:10,409
so right I'm sorry they would not be

111
00:04:08,099 --> 00:04:12,269
able to do so and so we we just want to

112
00:04:10,409 --> 00:04:15,090
get a little simple transactional system

113
00:04:12,270 --> 00:04:18,900
going on there that would be you know

114
00:04:15,090 --> 00:04:21,149
what we that will allow us to do that

115
00:04:18,899 --> 00:04:24,539
testing and also I can sort of stop with

116
00:04:21,149 --> 00:04:25,810
the angled things for the moment in the

117
00:04:24,540 --> 00:04:26,889
rooms because I don't really want

118
00:04:25,810 --> 00:04:28,089
in there we're not really working on

119
00:04:26,889 --> 00:04:30,360
that part right now so I'm gonna go

120
00:04:28,089 --> 00:04:32,649
ahead and turn off that sort of angled

121
00:04:30,360 --> 00:04:37,389
fact that the room is on a sort of a

122
00:04:32,649 --> 00:04:39,729
slant a gradual slope so if we just take

123
00:04:37,389 --> 00:04:41,650
out this line then the offset Z for

124
00:04:39,730 --> 00:04:43,450
things that we build will will just be

125
00:04:41,649 --> 00:04:44,918
zero which is what we want and then

126
00:04:43,449 --> 00:04:47,019
we've got kind of a flat room we could

127
00:04:44,918 --> 00:04:48,459
hop around on normally right and we've

128
00:04:47,019 --> 00:04:49,839
still got our little dude here so in

129
00:04:48,459 --> 00:04:51,789
case you want to try hopping onto the

130
00:04:49,839 --> 00:04:53,379
moving guy if I time it so that it's

131
00:04:51,790 --> 00:04:54,910
there when I hop over then I can kind of

132
00:04:53,379 --> 00:04:55,870
get on it and so we'll leave that in

133
00:04:54,910 --> 00:04:57,160
there because there's no reason not to

134
00:04:55,870 --> 00:05:01,379
have that for anything that we might

135
00:04:57,160 --> 00:05:04,240
want to test so off we go all right so

136
00:05:01,379 --> 00:05:06,129
what I want to do now is I want to start

137
00:05:04,240 --> 00:05:09,519
again making this sort of concept of

138
00:05:06,129 --> 00:05:11,860
standing on be a little bit more sort of

139
00:05:09,519 --> 00:05:13,779
specific and in order to do that I'm

140
00:05:11,860 --> 00:05:15,490
gonna need some sort of a registry

141
00:05:13,779 --> 00:05:17,949
basically I'm gonna need some sort of a

142
00:05:15,490 --> 00:05:20,500
conceptualization of who is standing on

143
00:05:17,949 --> 00:05:22,689
what so that when you are standing on

144
00:05:20,500 --> 00:05:27,009
something the sim region understands

145
00:05:22,689 --> 00:05:31,329
that and the sim region will not allow

146
00:05:27,009 --> 00:05:33,069
anyone else to go there or if you do

147
00:05:31,329 --> 00:05:35,319
want to go there it can tell you oh that

148
00:05:33,069 --> 00:05:36,610
that's empty you can go whatever so we

149
00:05:35,319 --> 00:05:39,129
basically need some code that's gonna

150
00:05:36,610 --> 00:05:40,870
start tracking this and so that's

151
00:05:39,129 --> 00:05:41,889
something that we have to write now

152
00:05:40,870 --> 00:05:44,110
there's a couple of different ways that

153
00:05:41,889 --> 00:05:45,969
we could do this obviously we could do

154
00:05:44,110 --> 00:05:47,410
this in the unpacked entity itself and

155
00:05:45,970 --> 00:05:49,360
that might be the best place to do it

156
00:05:47,410 --> 00:05:50,860
because since you have to know what

157
00:05:49,360 --> 00:05:52,389
traversable you had to have found a

158
00:05:50,860 --> 00:05:54,430
traversable in the first place

159
00:05:52,389 --> 00:05:56,709
it probably makes sense to just store

160
00:05:54,430 --> 00:05:58,538
who is standing on it right there and

161
00:05:56,709 --> 00:06:00,849
during the unpack process is a pretty

162
00:05:58,538 --> 00:06:04,800
easy place for us to do that so it seems

163
00:06:00,850 --> 00:06:04,800
like something pretty straightforward I

164
00:06:04,829 --> 00:06:08,409
think that's probably the easiest way to

165
00:06:06,910 --> 00:06:11,520
go so let's take a look at how that

166
00:06:08,410 --> 00:06:11,520
would how that would work

167
00:06:11,879 --> 00:06:18,930
so all right in let's uh let's see here

168
00:06:21,089 --> 00:06:27,799
well

169
00:06:23,379 --> 00:06:30,110
looks like we have a for coder issue of

170
00:06:27,800 --> 00:06:34,460
some kind on switching windows I don't

171
00:06:30,110 --> 00:06:43,189
really know I'm able to edit in here but

172
00:06:34,459 --> 00:06:52,279
I'm not able to edit in here hmm it's a

173
00:06:43,189 --> 00:06:54,168
little odd yeah it looks like I'm not

174
00:06:52,279 --> 00:06:56,119
able to edit in the second window which

175
00:06:54,168 --> 00:06:58,219
is weird not sure what that would what

176
00:06:56,120 --> 00:07:00,439
would be the cause of that I guess I

177
00:06:58,220 --> 00:07:02,599
thought it's okay I don't really need to

178
00:07:00,439 --> 00:07:03,620
edit in the second window but I'll

179
00:07:02,598 --> 00:07:03,860
definitely at the track down what that

180
00:07:03,620 --> 00:07:06,590
is

181
00:07:03,860 --> 00:07:11,000
it might be a problem with my config

182
00:07:06,589 --> 00:07:13,459
file too I mean I do the weird modal

183
00:07:11,000 --> 00:07:17,720
stuff implemented entirely in my config

184
00:07:13,459 --> 00:07:20,209
file and I don't really know to what

185
00:07:17,720 --> 00:07:23,240
extent that may have sort of deleterious

186
00:07:20,209 --> 00:07:25,250
effects so let me just see can i edit in

187
00:07:23,240 --> 00:07:26,720
the yeah so I in this pane everything

188
00:07:25,250 --> 00:07:28,370
seems to be fine and there doesn't seem

189
00:07:26,720 --> 00:07:31,820
to be any weirdness so we'll just keep

190
00:07:28,370 --> 00:07:36,199
going all right so if I go to the sim

191
00:07:31,819 --> 00:07:38,839
region stuff oh wait I guess we we

192
00:07:36,199 --> 00:07:40,520
actually have it in entity now I switch

193
00:07:38,839 --> 00:07:42,799
I go to the entity stuff we have the

194
00:07:40,519 --> 00:07:45,019
concept of the traversable point inside

195
00:07:42,800 --> 00:07:47,718
the collision volume and what I can do

196
00:07:45,019 --> 00:07:50,930
here is if I want to I could say this is

197
00:07:47,718 --> 00:07:53,718
a particular entity that lives on this

198
00:07:50,930 --> 00:07:55,218
traversable point right so I could say

199
00:07:53,718 --> 00:07:57,468
that there's an entity reference for

200
00:07:55,218 --> 00:08:01,579
example and the entity reference stands

201
00:07:57,468 --> 00:08:03,529
on here now I don't really need to pack

202
00:08:01,579 --> 00:08:05,149
this information because the enemy of

203
00:08:03,529 --> 00:08:07,818
themselves know who they're standing on

204
00:08:05,149 --> 00:08:10,339
right so really all I need to do is just

205
00:08:07,819 --> 00:08:11,930
store the entity pointer and when this

206
00:08:10,339 --> 00:08:13,968
gets packed out eventually that pointer

207
00:08:11,930 --> 00:08:18,408
could just be thrown away because it

208
00:08:13,968 --> 00:08:20,329
only has to be like it only has to be

209
00:08:18,408 --> 00:08:22,610
valid during the sim region and nobody

210
00:08:20,329 --> 00:08:24,379
else has to ever look at it and then

211
00:08:22,610 --> 00:08:27,468
during pack unpack we can just write

212
00:08:24,379 --> 00:08:30,019
that pointer I guess during pack we

213
00:08:27,468 --> 00:08:31,250
don't do anything we just omit it when

214
00:08:30,019 --> 00:08:34,639
we're saving it streaming out the data

215
00:08:31,250 --> 00:08:35,990
and on unpack we update it right so

216
00:08:34,639 --> 00:08:39,139
basically

217
00:08:35,990 --> 00:08:42,830
during the during the world pack

218
00:08:39,139 --> 00:08:44,899
operation when we do pack entity into

219
00:08:42,830 --> 00:08:46,399
chunk when we do pack traversal

220
00:08:44,899 --> 00:08:49,970
reference pack entity reference that

221
00:08:46,399 --> 00:08:52,250
stuff we don't need to do any particular

222
00:08:49,970 --> 00:08:54,740
operations here because that pointer

223
00:08:52,250 --> 00:08:56,990
eventually will just get thrown away but

224
00:08:54,740 --> 00:08:58,879
inside sim region when we do the unpack

225
00:08:56,990 --> 00:09:00,350
which probably to be symmetric we should

226
00:08:58,879 --> 00:09:04,009
move into the world

227
00:09:00,350 --> 00:09:05,330
I'm guessing either that or move

228
00:09:04,009 --> 00:09:07,100
everything out here well we need during

229
00:09:05,330 --> 00:09:08,959
creation time to pack so I guess we'll

230
00:09:07,100 --> 00:09:12,259
see what happens there but during the

231
00:09:08,958 --> 00:09:15,949
unpack which is right here when we call

232
00:09:12,259 --> 00:09:18,889
that entity and we want to do the the

233
00:09:15,950 --> 00:09:26,450
unpacks for it right which I guess is

234
00:09:18,889 --> 00:09:27,980
this here I'm sorry that's wrong it's in

235
00:09:26,450 --> 00:09:30,790
the second pass it's in connect entity

236
00:09:27,980 --> 00:09:33,230
pointers when we load the traversable z'

237
00:09:30,789 --> 00:09:36,319
what we would want to do is during that

238
00:09:33,230 --> 00:09:38,480
load we want to instead of just loading

239
00:09:36,320 --> 00:09:40,610
the entity reference after we load the

240
00:09:38,480 --> 00:09:42,500
entity reference that's what we're

241
00:09:40,610 --> 00:09:45,709
standing on we would want to look and

242
00:09:42,500 --> 00:09:50,629
see if the entity that we ended up

243
00:09:45,708 --> 00:09:52,489
loading is valid then we want to

244
00:09:50,629 --> 00:09:55,100
actually write to that entities

245
00:09:52,490 --> 00:09:58,820
collision volume and we want to say

246
00:09:55,100 --> 00:10:02,540
whatever your traversable was that we're

247
00:09:58,820 --> 00:10:05,300
talking about here we want to update it

248
00:10:02,539 --> 00:10:07,338
so that it knows that whatever it knows

249
00:10:05,299 --> 00:10:09,879
who's standing on it right the person

250
00:10:07,339 --> 00:10:13,010
who's standing on it at that point is us

251
00:10:09,879 --> 00:10:15,078
so we need to know when we do this load

252
00:10:13,009 --> 00:10:16,610
to rustle reference we need to node like

253
00:10:15,078 --> 00:10:19,750
the source entity that where it came

254
00:10:16,610 --> 00:10:24,860
from and we need to put that in here

255
00:10:19,750 --> 00:10:28,789
during the unpack right so let's go

256
00:10:24,860 --> 00:10:31,899
ahead and and fix the I guess it's the

257
00:10:28,789 --> 00:10:31,899
pointer version here

258
00:10:33,269 --> 00:10:40,600
is that a no that's an era traversals is

259
00:10:37,539 --> 00:10:42,809
not a member that's because I spelled it

260
00:10:40,600 --> 00:10:42,810
wrong

261
00:10:43,750 --> 00:10:47,320
and so in cure when we're loading this

262
00:10:45,580 --> 00:10:48,790
out we know what entity it is because

263
00:10:47,320 --> 00:10:50,140
that's how we're getting the deed in the

264
00:10:48,789 --> 00:10:53,889
first place

265
00:10:50,139 --> 00:10:55,269
and so yeah so now when we load we

266
00:10:53,889 --> 00:10:58,750
should be updating those pointers

267
00:10:55,269 --> 00:11:01,120
correctly right and so what we could do

268
00:10:58,750 --> 00:11:04,509
now to see what happens when we hop

269
00:11:01,120 --> 00:11:06,460
around is I'm going to color those

270
00:11:04,509 --> 00:11:08,620
points based on whether they have a

271
00:11:06,460 --> 00:11:11,019
pointer set so that we can see what's

272
00:11:08,620 --> 00:11:14,169
happening right and it'll be wrong at

273
00:11:11,019 --> 00:11:15,730
first because we never clear them but

274
00:11:14,169 --> 00:11:18,969
you know at least this way we'll be able

275
00:11:15,730 --> 00:11:20,590
to see that happening as we work on the

276
00:11:18,970 --> 00:11:25,930
code so I'm going to do that before I

277
00:11:20,590 --> 00:11:28,389
write anything else so let's see here is

278
00:11:25,929 --> 00:11:33,519
the code for drawing the traversable

279
00:11:28,389 --> 00:11:35,019
index why when we do a push rect outline

280
00:11:33,519 --> 00:11:37,689
Oh cuz they don't have any colliders on

281
00:11:35,019 --> 00:11:39,850
them that's why so when I do a push rect

282
00:11:37,690 --> 00:11:41,350
here and draw this traversable what I

283
00:11:39,850 --> 00:11:44,430
want to do is say well here's what the

284
00:11:41,350 --> 00:11:48,279
color was of this traversable oh dude

285
00:11:44,429 --> 00:11:49,959
that is nice right there that's a

286
00:11:48,279 --> 00:11:52,179
actually doing much better in that it

287
00:11:49,960 --> 00:11:53,980
used to indent just back to the thing

288
00:11:52,179 --> 00:11:58,179
that's awesome

289
00:11:53,980 --> 00:12:00,460
that's real cool roll I'm a fan all

290
00:11:58,179 --> 00:12:03,579
right anyway so what I want to do here

291
00:12:00,460 --> 00:12:06,970
is say okay if the traversable point if

292
00:12:03,580 --> 00:12:08,680
it had a standing on or you know and

293
00:12:06,970 --> 00:12:11,259
let's see maybe we'll call that occupier

294
00:12:08,679 --> 00:12:13,959
let's say if there's an occupier for

295
00:12:11,259 --> 00:12:16,960
this for this traversal point I'll just

296
00:12:13,960 --> 00:12:19,870
draw it in a different color so instead

297
00:12:16,960 --> 00:12:24,100
of being in sort of that that I don't

298
00:12:19,870 --> 00:12:25,929
know inoffensive beige orange thing I'll

299
00:12:24,100 --> 00:12:28,810
just go ahead and draw it in a blue

300
00:12:25,929 --> 00:12:31,079
color so that we can see it and then I'm

301
00:12:28,809 --> 00:12:34,619
gonna change the traversable point

302
00:12:31,080 --> 00:12:37,990
definition to just be occupier here and

303
00:12:34,620 --> 00:12:40,259
fix that in the places where that was

304
00:12:37,990 --> 00:12:47,399
being used before

305
00:12:40,259 --> 00:12:49,438
all right okay so I guess I would be a

306
00:12:47,399 --> 00:12:52,318
liar if I said I expected those all to

307
00:12:49,438 --> 00:12:54,978
change immediately because I would think

308
00:12:52,318 --> 00:12:58,409
that those would be set to nothing

309
00:12:54,979 --> 00:13:07,589
initially but I guess we don't clear

310
00:12:58,409 --> 00:13:14,578
them at first I'm not real sure what's

311
00:13:07,589 --> 00:13:17,220
going on there oh you know what that's

312
00:13:14,578 --> 00:13:18,778
because they're shared these are

313
00:13:17,220 --> 00:13:21,359
actually these these collision points

314
00:13:18,778 --> 00:13:23,609
are actually shared so I suppose this is

315
00:13:21,359 --> 00:13:26,249
not really a safe way to do that right

316
00:13:23,609 --> 00:13:28,229
it real actually needs to be it would

317
00:13:26,249 --> 00:13:31,199
need to actually be on the entity itself

318
00:13:28,229 --> 00:13:33,479
right the entity has to have knowledge

319
00:13:31,198 --> 00:13:36,649
of who would be in there so that kind of

320
00:13:33,479 --> 00:13:36,649
raises an interesting question for us

321
00:13:38,328 --> 00:13:53,638
right we have kind of a an open question

322
00:13:50,519 --> 00:13:55,739
here which is do we want to continue

323
00:13:53,639 --> 00:13:57,839
sharing these things or do we want to

324
00:13:55,739 --> 00:14:01,589
stream them out right meaning do we want

325
00:13:57,839 --> 00:14:02,819
that data to be included and it's it's

326
00:14:01,589 --> 00:14:04,559
kind of a difficult question

327
00:14:02,818 --> 00:14:09,558
the reason it's a difficult question is

328
00:14:04,558 --> 00:14:12,958
because the data is not that big right

329
00:14:09,558 --> 00:14:15,238
you know if it were 64 K of collision

330
00:14:12,958 --> 00:14:18,508
data then you'd probably want to share

331
00:14:15,239 --> 00:14:19,859
it but since we don't really have that

332
00:14:18,509 --> 00:14:21,058
kind of situation it's kind of a

333
00:14:19,859 --> 00:14:22,918
question as to whether I want to

334
00:14:21,058 --> 00:14:24,928
multiply it out so you can see what what

335
00:14:22,918 --> 00:14:26,519
the problem is right the problem is that

336
00:14:24,928 --> 00:14:28,139
this is actually a shared structure

337
00:14:26,519 --> 00:14:29,188
everyone shares but like it's what kind

338
00:14:28,139 --> 00:14:33,209
of closing group of your oh I'm this

339
00:14:29,188 --> 00:14:35,248
kind of collision group right and so the

340
00:14:33,208 --> 00:14:37,678
question is do we want that to be

341
00:14:35,249 --> 00:14:39,720
written out as part of the entity so

342
00:14:37,678 --> 00:14:41,788
that the entity itself has you know a

343
00:14:39,720 --> 00:14:44,609
particular can have an arbitrary

344
00:14:41,788 --> 00:14:46,078
collision group as it goes and and so

345
00:14:44,609 --> 00:14:50,129
that's like kind of a tricky question

346
00:14:46,078 --> 00:14:51,958
and my gut instinct says that since the

347
00:14:50,129 --> 00:14:53,730
idea behind this is that things can be

348
00:14:51,958 --> 00:14:55,828
very sort of permute

349
00:14:53,730 --> 00:14:58,789
and configurable and weird in this game

350
00:14:55,828 --> 00:15:02,370
and I'm trying to go for very very

351
00:14:58,789 --> 00:15:04,110
expressive organic entity system that

352
00:15:02,370 --> 00:15:05,610
probably what you would want to do is

353
00:15:04,110 --> 00:15:07,409
rather than solving this problem by

354
00:15:05,610 --> 00:15:09,269
storing the occupiers as a separate

355
00:15:07,409 --> 00:15:10,799
thing I think maybe the better thing to

356
00:15:09,269 --> 00:15:12,509
do would be to actually have the

357
00:15:10,799 --> 00:15:14,219
traversable points be new things in

358
00:15:12,509 --> 00:15:16,769
every entity and that they're not shared

359
00:15:14,220 --> 00:15:21,290
so that they can be moved around and

360
00:15:16,769 --> 00:15:23,909
changed per entity in various ways I

361
00:15:21,289 --> 00:15:25,799
don't know that's just my gut feeling

362
00:15:23,909 --> 00:15:27,240
normally I wouldn't make that call and

363
00:15:25,799 --> 00:15:28,559
the reason is because I feel like a lot

364
00:15:27,240 --> 00:15:30,389
of the traversable ZAR going to be the

365
00:15:28,559 --> 00:15:32,759
same right like most ground tiles are

366
00:15:30,389 --> 00:15:36,028
gonna have it just at zero zero zero so

367
00:15:32,759 --> 00:15:40,159
you know it's it's shared on the other

368
00:15:36,028 --> 00:15:41,610
hand hey you got a store eight bytes

369
00:15:40,159 --> 00:15:43,169
potentially well I guess we could

370
00:15:41,610 --> 00:15:44,519
compress that down to an index into a

371
00:15:43,169 --> 00:15:46,409
table so I guess it wouldn't have to be

372
00:15:44,519 --> 00:15:47,730
you know we could store a byte I suppose

373
00:15:46,409 --> 00:15:51,899
for it

374
00:15:47,730 --> 00:15:54,839
versus having to store you know 16 bytes

375
00:15:51,899 --> 00:16:00,509
or something like this or twelve bytes

376
00:15:54,839 --> 00:16:04,610
to store the location otherwise that's a

377
00:16:00,509 --> 00:16:04,610
tough call it's a tough call

378
00:16:12,309 --> 00:16:21,569
I think what I'm gonna do is I'm gonna

379
00:16:17,409 --> 00:16:24,219
make this be a property of the entity

380
00:16:21,570 --> 00:16:25,870
and I guess what I could do is say let's

381
00:16:24,220 --> 00:16:27,639
not make it a property of the collision

382
00:16:25,870 --> 00:16:29,080
group yet so we can still share

383
00:16:27,639 --> 00:16:30,789
collision groups for now and we can

384
00:16:29,080 --> 00:16:32,200
think about that a little bit more but

385
00:16:30,789 --> 00:16:35,379
let's make the traversable x' be a

386
00:16:32,200 --> 00:16:38,020
property of the entity and go from there

387
00:16:35,379 --> 00:16:39,399
okay so traversable points is not gonna

388
00:16:38,019 --> 00:16:40,929
be inside a collision group it's just

389
00:16:39,399 --> 00:16:42,699
gonna be stored off the entity and that

390
00:16:40,929 --> 00:16:44,979
way things like the occupiers can be on

391
00:16:42,700 --> 00:16:47,770
it directly now this is kind of

392
00:16:44,980 --> 00:16:50,500
interesting and probably I would like to

393
00:16:47,769 --> 00:16:53,949
handle this actually directly right now

394
00:16:50,500 --> 00:16:56,460
if possible rather than doing anything

395
00:16:53,950 --> 00:16:58,778
else with it

396
00:16:56,460 --> 00:17:00,370
because one thing we could do is say oh

397
00:16:58,778 --> 00:17:03,909
there's a hard-coded number of these

398
00:17:00,370 --> 00:17:06,490
right and then everything that we have

399
00:17:03,909 --> 00:17:09,759
right now would just work and I guess

400
00:17:06,490 --> 00:17:11,078
you know I'll do that first just to get

401
00:17:09,759 --> 00:17:12,309
it working as those but then I think

402
00:17:11,078 --> 00:17:13,750
maybe this is a good time since the

403
00:17:12,309 --> 00:17:15,279
point of what we're doing right now is

404
00:17:13,750 --> 00:17:16,420
to work on the entity system I think

405
00:17:15,279 --> 00:17:18,699
maybe now's a good time to make that a

406
00:17:16,420 --> 00:17:22,900
flexible array right so it can change

407
00:17:18,699 --> 00:17:24,459
how big it is and if we need to write

408
00:17:22,900 --> 00:17:27,189
every entity can have a different number

409
00:17:24,459 --> 00:17:29,620
of these so let's go ahead and make that

410
00:17:27,189 --> 00:17:31,240
happen and get some space with

411
00:17:29,619 --> 00:17:33,399
traversable now instead of going through

412
00:17:31,240 --> 00:17:36,609
the collision we'll just it'll just rock

413
00:17:33,400 --> 00:17:38,380
right off of the the traversals here and

414
00:17:36,609 --> 00:17:40,029
this you know so all of these just get a

415
00:17:38,380 --> 00:17:42,400
little simpler they're acting directly

416
00:17:40,029 --> 00:17:45,839
off of the enemy and they don't have to

417
00:17:42,400 --> 00:17:49,480
look at the volume group anymore so

418
00:17:45,839 --> 00:17:51,069
let's take a look at this code doesn't

419
00:17:49,480 --> 00:17:56,910
really need to access that anymore the

420
00:17:51,069 --> 00:17:59,559
volume group is not relevant at all

421
00:17:56,910 --> 00:18:04,060
entity is undeclared that's true it's

422
00:17:59,559 --> 00:18:06,339
test entity my bad a traversable count

423
00:18:04,059 --> 00:18:08,259
so in here where we do make simple fork

424
00:18:06,339 --> 00:18:11,649
collision we're gonna still want this

425
00:18:08,259 --> 00:18:14,619
code so I'm gonna have to go ahead and

426
00:18:11,650 --> 00:18:16,090
grab that out but it's not gonna be on

427
00:18:14,619 --> 00:18:19,359
simple floor collision anymore it's

428
00:18:16,089 --> 00:18:22,509
gonna be like where we actually add the

429
00:18:19,359 --> 00:18:24,719
simple room or what does it make simple

430
00:18:22,509 --> 00:18:24,720
room

431
00:18:24,799 --> 00:18:28,909
remember what that function is called

432
00:18:30,079 --> 00:18:35,509
standard room so it's going to be in

433
00:18:33,450 --> 00:18:37,620
cure where we create one of these floor

434
00:18:35,509 --> 00:18:39,089
collision grounded entities when we

435
00:18:37,619 --> 00:18:40,799
create that entity we're gonna have to

436
00:18:39,089 --> 00:18:43,199
give it the traversable that it needs

437
00:18:40,799 --> 00:18:46,349
right so in here we're gonna have to say

438
00:18:43,200 --> 00:18:48,840
that the entity traversable zero is

439
00:18:46,349 --> 00:18:54,240
gonna be you know what it is and the

440
00:18:48,839 --> 00:18:59,639
entity Oh symbols zero occupier is also

441
00:18:54,240 --> 00:19:01,950
nothing right but that's about it and so

442
00:18:59,640 --> 00:19:04,530
after we do that I think we would be in

443
00:19:01,950 --> 00:19:05,850
a situation where now we're all good to

444
00:19:04,529 --> 00:19:07,829
go

445
00:19:05,849 --> 00:19:10,019
and if we run we should I think be

446
00:19:07,829 --> 00:19:20,730
exactly the same as we were before and

447
00:19:10,019 --> 00:19:23,609
oh or not that was unexpected oh I only

448
00:19:20,730 --> 00:19:28,170
added it to one case oh that was that's

449
00:19:23,609 --> 00:19:31,558
kind of magical I mean you can see what

450
00:19:28,170 --> 00:19:33,269
happened there right i I didn't add one

451
00:19:31,558 --> 00:19:35,399
to the other one so I only added it to

452
00:19:33,269 --> 00:19:37,589
the magic one that moves up and down so

453
00:19:35,400 --> 00:19:39,360
it immediately had to hop the guy over

454
00:19:37,589 --> 00:19:41,149
cuz that was the closest Collider that

455
00:19:39,359 --> 00:19:44,099
was the closest place he could stand

456
00:19:41,150 --> 00:19:47,910
that's funny all right

457
00:19:44,099 --> 00:19:51,539
but yeah point being we want to add this

458
00:19:47,910 --> 00:19:54,480
in either case certainly and then we

459
00:19:51,539 --> 00:19:56,700
should be back to normal so now as we go

460
00:19:54,480 --> 00:19:59,579
you can kind of see as I'm moving around

461
00:19:56,700 --> 00:20:01,740
I'm sort of packed Manning these up in a

462
00:19:59,579 --> 00:20:03,269
sense as I hop on them you can see

463
00:20:01,740 --> 00:20:06,150
they're changing to have their occupier

464
00:20:03,269 --> 00:20:07,859
pointer set now like I said the problem

465
00:20:06,150 --> 00:20:10,769
here of course is that it's having the

466
00:20:07,859 --> 00:20:12,569
occupier set it will never get cleared

467
00:20:10,769 --> 00:20:14,789
because right now all we're doing is

468
00:20:12,569 --> 00:20:17,369
doing it on the path where when we

469
00:20:14,789 --> 00:20:19,759
actually move the guy we're not actually

470
00:20:17,369 --> 00:20:22,769
dealing with updating that information

471
00:20:19,759 --> 00:20:24,690
instead all we're doing is setting it on

472
00:20:22,769 --> 00:20:25,859
unpacked so the person moved if they

473
00:20:24,690 --> 00:20:28,679
moved on the previous frame during

474
00:20:25,859 --> 00:20:30,569
unpack of this frame it gets set that's

475
00:20:28,679 --> 00:20:31,740
not gonna cut it and it also doesn't

476
00:20:30,569 --> 00:20:34,950
help us with the thing we're actually

477
00:20:31,740 --> 00:20:37,410
trying to do yet which is prevent two

478
00:20:34,950 --> 00:20:38,160
people from occupying the same square so

479
00:20:37,410 --> 00:20:40,620
what we need to do

480
00:20:38,160 --> 00:20:43,980
now is we need to start introducing the

481
00:20:40,619 --> 00:20:46,349
notion of checking to see when you would

482
00:20:43,980 --> 00:20:48,120
have occupied a new square you're going

483
00:20:46,349 --> 00:20:52,230
to have to check to see whether it's

484
00:20:48,119 --> 00:20:57,959
allowed or not so let's go ahead and

485
00:20:52,230 --> 00:20:59,970
look at that code by the way how am I

486
00:20:57,960 --> 00:21:02,640
now suddenly editing in this window

487
00:20:59,970 --> 00:21:04,259
again so what happened there must have

488
00:21:02,640 --> 00:21:05,730
been some kind of weird bug that froze

489
00:21:04,259 --> 00:21:07,799
up the editing or something or maybe

490
00:21:05,730 --> 00:21:11,130
maybe I got into some kind of mode but

491
00:21:07,799 --> 00:21:14,490
it's weird because I'm this was the this

492
00:21:11,130 --> 00:21:19,650
window was not working before but it's

493
00:21:14,490 --> 00:21:24,180
working now right didn't notice when

494
00:21:19,650 --> 00:21:27,450
that happened but it did so anyway in in

495
00:21:24,180 --> 00:21:29,640
this codebase right right now we don't

496
00:21:27,450 --> 00:21:32,549
have a very good notion oops

497
00:21:29,640 --> 00:21:35,910
hero head we don't have a very good

498
00:21:32,549 --> 00:21:37,619
notion of like asking that permission

499
00:21:35,910 --> 00:21:40,290
all we're doing is just straight up

500
00:21:37,619 --> 00:21:43,169
setting it right so if we look at what

501
00:21:40,289 --> 00:21:47,730
happens in here you can see us setting

502
00:21:43,170 --> 00:21:51,120
it this moving to this traversable this

503
00:21:47,730 --> 00:21:53,640
is essentially the problem right this is

504
00:21:51,119 --> 00:21:55,829
not what we want to do so when we're

505
00:21:53,640 --> 00:21:57,570
about to set this we want to do some

506
00:21:55,829 --> 00:21:59,460
kind of a transaction here where we say

507
00:21:57,569 --> 00:22:04,349
we would like to move here

508
00:21:59,460 --> 00:22:11,039
can we move here and so the way that I'm

509
00:22:04,349 --> 00:22:14,449
going to do that is I'm gonna do some

510
00:22:11,039 --> 00:22:17,129
kind of thing like transactional occupy

511
00:22:14,450 --> 00:22:19,350
or something like this and I'm just

512
00:22:17,130 --> 00:22:23,250
gonna say this is what I would like to

513
00:22:19,349 --> 00:22:28,079
do right I would like to take this

514
00:22:23,250 --> 00:22:30,660
moving - you know I'm I'm this entity I

515
00:22:28,079 --> 00:22:34,439
would like this slot in me to

516
00:22:30,660 --> 00:22:41,040
transactionally occupy this this

517
00:22:34,440 --> 00:22:43,740
traversable please and so I'll have that

518
00:22:41,039 --> 00:22:46,230
piece of code returned to me whether or

519
00:22:43,740 --> 00:22:48,660
not it's okay for me to do that and if

520
00:22:46,230 --> 00:22:51,210
it is then we'll initiate the hop if

521
00:22:48,660 --> 00:22:52,050
it's not then we won't and honestly I

522
00:22:51,210 --> 00:22:53,789
probably

523
00:22:52,049 --> 00:22:54,899
- ifs for this because eventually the

524
00:22:53,789 --> 00:22:57,569
controller is going to have to take

525
00:22:54,900 --> 00:23:00,540
different action possibly depending on

526
00:22:57,569 --> 00:23:02,700
whether which you know this because one

527
00:23:00,539 --> 00:23:05,250
of them in this situation we're not

528
00:23:02,700 --> 00:23:08,160
trying to go anywhere if this turns out

529
00:23:05,250 --> 00:23:09,390
to be a failure if this turns out to be

530
00:23:08,160 --> 00:23:10,830
a field we were trying to go somewhere

531
00:23:09,390 --> 00:23:11,759
we just couldn't right and so we're

532
00:23:10,829 --> 00:23:12,689
probably gonna need to know the

533
00:23:11,759 --> 00:23:14,819
difference those case so I'm going to

534
00:23:12,690 --> 00:23:16,559
leave them as separate yester now so I

535
00:23:14,819 --> 00:23:19,139
want to compile that will it'll tell us

536
00:23:16,559 --> 00:23:21,000
that a transactional occupy is not gonna

537
00:23:19,140 --> 00:23:23,040
happen and then in here what I'll do is

538
00:23:21,000 --> 00:23:25,650
I'll say okay inside the sim region

539
00:23:23,039 --> 00:23:27,720
where we've got like move entity we've

540
00:23:25,650 --> 00:23:29,490
got sort of another operation here which

541
00:23:27,720 --> 00:23:33,450
is transactional occupy which is

542
00:23:29,490 --> 00:23:36,240
something that is just going to allow

543
00:23:33,450 --> 00:23:38,580
you know an entity to or not to I guess

544
00:23:36,240 --> 00:23:41,670
that's a pool to or not to switch up but

545
00:23:38,579 --> 00:23:43,199
reversible so this is it's the thing

546
00:23:41,670 --> 00:23:46,019
that's actually getting modified here is

547
00:23:43,200 --> 00:23:52,830
going to be ended traversable sorry a

548
00:23:46,019 --> 00:23:55,889
traversable reference and that's what's

549
00:23:52,829 --> 00:23:59,899
going to get updated and this is a this

550
00:23:55,890 --> 00:24:02,900
traversable here is a separate reference

551
00:23:59,900 --> 00:24:02,900
oops

552
00:24:04,410 --> 00:24:10,920
which is the like desired right that's

553
00:24:07,980 --> 00:24:12,870
the thing we want to occupy so the first

554
00:24:10,920 --> 00:24:17,310
thing is first we need to check whether

555
00:24:12,869 --> 00:24:18,689
the desired position and I believe so

556
00:24:17,309 --> 00:24:23,419
when we have one of these traversal

557
00:24:18,690 --> 00:24:23,420
references let me take a look at entity

558
00:24:23,480 --> 00:24:28,259
when we have one of these traversable

559
00:24:25,589 --> 00:24:30,929
references it tells us what the entity

560
00:24:28,259 --> 00:24:32,789
is and it tells us what the index is so

561
00:24:30,930 --> 00:24:36,230
we need to then go figure out whether

562
00:24:32,789 --> 00:24:40,950
that traversable is occupiable or not

563
00:24:36,230 --> 00:24:43,860
and I guess inside the sim region we've

564
00:24:40,950 --> 00:24:46,259
got the get we've got to get sims face

565
00:24:43,859 --> 00:24:48,599
traversable but we don't actually have a

566
00:24:46,259 --> 00:24:53,599
way to just get a traversable and so I

567
00:24:48,599 --> 00:24:53,599
think and I think we probably want to

568
00:24:57,999 --> 00:25:07,759
I think we probably want to move these

569
00:25:04,128 --> 00:25:10,428
out well all right I'm just gonna do it

570
00:25:07,759 --> 00:25:12,200
one step at a time it's not sure first

571
00:25:10,429 --> 00:25:13,669
I'm going to do is say well I want to be

572
00:25:12,200 --> 00:25:17,619
able to get traversable points back

573
00:25:13,669 --> 00:25:21,528
easily so I want to do get traversable

574
00:25:17,618 --> 00:25:26,388
and in here be able to pass one of those

575
00:25:21,528 --> 00:25:28,778
references sort of cleanly so in here

576
00:25:26,388 --> 00:25:32,088
where we where we say get traversable

577
00:25:28,778 --> 00:25:36,578
with one of these entity references I'm

578
00:25:32,088 --> 00:25:36,578
just going to go ahead and do this right

579
00:25:38,679 --> 00:25:45,229
so this is going to be a pointer and I'm

580
00:25:44,209 --> 00:25:47,058
gonna grab it like that

581
00:25:45,229 --> 00:25:48,528
and this way there's an assertion there

582
00:25:47,058 --> 00:25:50,088
too to kind of guard that array access

583
00:25:48,528 --> 00:25:53,328
if it's you know if somebody is doing

584
00:25:50,088 --> 00:25:55,428
something stupid will catch him and I'm

585
00:25:53,328 --> 00:25:56,928
gonna also allow you to call it exactly

586
00:25:55,429 --> 00:26:01,399
as the other one you know manual

587
00:25:56,929 --> 00:26:07,298
currying welcome to it so in here we're

588
00:26:01,398 --> 00:26:09,168
just gonna say traversable reference and

589
00:26:07,298 --> 00:26:11,209
that's just going to call get

590
00:26:09,169 --> 00:26:16,179
traversable with the reference entity

591
00:26:11,209 --> 00:26:16,179
pointer and the reference index

592
00:26:26,048 --> 00:26:31,819
okay so in this case now what we need to

593
00:26:29,690 --> 00:26:34,100
do is we need to actually get this so we

594
00:26:31,819 --> 00:26:39,288
need to get the entity traversable point

595
00:26:34,099 --> 00:26:42,099
and when we get that traversable I guess

596
00:26:39,288 --> 00:26:45,589
I'll call this desired and desired ref

597
00:26:42,099 --> 00:26:51,408
so I'll take that desired point and I'll

598
00:26:45,589 --> 00:26:52,519
get the reference from it all right

599
00:26:51,409 --> 00:26:55,100
rather I'll get the point from the

600
00:26:52,519 --> 00:26:59,628
reference and then I want to see if it's

601
00:26:55,099 --> 00:27:00,980
occupied right the result of this

602
00:26:59,628 --> 00:27:04,038
function will assume that I cannot

603
00:27:00,980 --> 00:27:06,528
occupy the square in the case where it

604
00:27:04,038 --> 00:27:10,128
is not occupied now I can occupy the

605
00:27:06,528 --> 00:27:12,409
square and I'll say okay the occupier is

606
00:27:10,128 --> 00:27:15,339
now whatever the entity is that was

607
00:27:12,409 --> 00:27:20,330
trying to occupy the square and

608
00:27:15,339 --> 00:27:26,298
similarly similarly wherever we were

609
00:27:20,329 --> 00:27:29,928
occupying previously we we want to

610
00:27:26,298 --> 00:27:33,548
relinquish right so the traversable

611
00:27:29,929 --> 00:27:36,919
reference that's the destination here is

612
00:27:33,548 --> 00:27:39,710
now going to not have an occupier on

613
00:27:36,919 --> 00:27:41,659
whoever it was so we've got another

614
00:27:39,710 --> 00:27:45,850
entity traversal point in the mix the

615
00:27:41,659 --> 00:27:45,850
Angelo traversal point is the DES point

616
00:27:46,028 --> 00:27:51,319
alcohol get reversible on that and I

617
00:27:49,849 --> 00:27:53,769
guess I'll just call this best and best

618
00:27:51,319 --> 00:27:56,329
ref to be sort of the same with it there

619
00:27:53,769 --> 00:27:58,819
so the deaths occupier now becomes

620
00:27:56,329 --> 00:28:00,589
nothing nobody's occupying that point

621
00:27:58,819 --> 00:28:08,148
anymore

622
00:28:00,589 --> 00:28:12,259
and in addition I need to set the the

623
00:28:08,148 --> 00:28:17,288
desk reference I need to set it to be

624
00:28:12,259 --> 00:28:17,288
equal to the desired reference

625
00:28:18,529 --> 00:28:26,839
I think that's mostly everything that

626
00:28:22,220 --> 00:28:28,730
needs to happen right now it's possible

627
00:28:26,839 --> 00:28:31,579
that the destination is uninitialized

628
00:28:28,730 --> 00:28:34,339
and if the destination is uninitialized

629
00:28:31,579 --> 00:28:40,149
then I we would assume that guests would

630
00:28:34,339 --> 00:28:43,279
return zero and I probably want that in

631
00:28:40,150 --> 00:28:46,610
to be a legal case right

632
00:28:43,279 --> 00:28:48,289
so inside handmade sim region I probably

633
00:28:46,609 --> 00:28:51,049
want to do a check here where we say

634
00:28:48,289 --> 00:28:54,829
like okay when you do get traversable

635
00:28:51,049 --> 00:28:58,279
then we maybe we assume here that the

636
00:28:54,829 --> 00:29:01,669
result is 0 and then we only if there's

637
00:28:58,279 --> 00:29:03,410
a valid entity pointer actually retrieve

638
00:29:01,670 --> 00:29:09,279
the value if that makes sense

639
00:29:03,410 --> 00:29:14,860
similarly now this guy can totally

640
00:29:09,279 --> 00:29:14,859
piggyback off the case of get reversible

641
00:29:18,880 --> 00:29:30,340
I guess so maybe I'll make this guy safe

642
00:29:27,369 --> 00:29:33,599
as well oops I'm not sure to what extent

643
00:29:30,339 --> 00:29:33,599
I actually want to do that

644
00:29:38,730 --> 00:29:43,750
so I think here's what I'll do I'll say

645
00:29:41,890 --> 00:29:49,720
that we've got an idiot reversal point

646
00:29:43,750 --> 00:29:51,430
result and we'll assume to begin with

647
00:29:49,720 --> 00:29:53,019
that the result P is going to be equal

648
00:29:51,430 --> 00:29:56,590
to the enemy P so in the case where

649
00:29:53,019 --> 00:30:01,990
things fall apart we'll still be okay

650
00:29:56,589 --> 00:30:08,769
we'll get the traversable point by

651
00:30:01,990 --> 00:30:12,759
calling get traversable on this entity

652
00:30:08,769 --> 00:30:19,170
in this index and if the result that we

653
00:30:12,759 --> 00:30:19,170
get back on I guess I should say point

654
00:30:20,400 --> 00:30:27,370
when we get the result back I will check

655
00:30:24,910 --> 00:30:32,110
to see if it was valid if it is then

656
00:30:27,369 --> 00:30:37,809
I'll add the that points displacement in

657
00:30:32,109 --> 00:30:39,750
and leave it at that right we'll see how

658
00:30:37,809 --> 00:30:46,960
that goes

659
00:30:39,750 --> 00:30:52,029
all right so coops so that's all good

660
00:30:46,960 --> 00:30:53,350
there's one sort of touchy aspect of

661
00:30:52,029 --> 00:30:56,170
this that I'll talk about in a second

662
00:30:53,349 --> 00:31:01,689
but and you know to the degree to which

663
00:30:56,170 --> 00:31:05,710
we care about it might be different so

664
00:31:01,690 --> 00:31:08,049
it looks like I'm not actually why am I

665
00:31:05,710 --> 00:31:11,970
not moving the body am i returning foe

666
00:31:08,049 --> 00:31:15,250
because I didn't set it to true ever so

667
00:31:11,970 --> 00:31:16,509
when we actually do the transaction it

668
00:31:15,250 --> 00:31:18,759
goes without saying that if I never

669
00:31:16,509 --> 00:31:20,289
return true we'd be in bad shape so in

670
00:31:18,759 --> 00:31:22,750
the case where it's not about I need to

671
00:31:20,289 --> 00:31:27,059
actually return true so that someone

672
00:31:22,750 --> 00:31:29,660
will actually move off of it right okay

673
00:31:27,059 --> 00:31:32,429
so

674
00:31:29,660 --> 00:31:34,800
now I have a couple problems

675
00:31:32,430 --> 00:31:37,650
I think I'm not actually sure if I do if

676
00:31:34,799 --> 00:31:39,210
I don't but I believe I have a couple

677
00:31:37,650 --> 00:31:43,759
problems that I have to address so the

678
00:31:39,210 --> 00:31:46,319
first problem is I think both of these

679
00:31:43,759 --> 00:31:49,710
like I don't really know to what extent

680
00:31:46,319 --> 00:31:53,399
the head occupy is a point versus the

681
00:31:49,710 --> 00:31:54,539
body occupying a point because before it

682
00:31:53,400 --> 00:31:56,630
looked like they were both occupying

683
00:31:54,539 --> 00:32:03,259
points so I'm wondering does the head

684
00:31:56,630 --> 00:32:03,260
keep a stand on because I think it does

685
00:32:16,089 --> 00:32:25,849
there we go so I'm wondering what the

686
00:32:24,200 --> 00:32:32,150
hero head if the hair had ever sets any

687
00:32:25,849 --> 00:32:34,219
of these it doesn't all right so all

688
00:32:32,150 --> 00:32:41,330
right so there's one problem I have is

689
00:32:34,220 --> 00:32:47,750
like I said the one problem I have is

690
00:32:41,329 --> 00:32:49,460
that when I if I just ransom so right

691
00:32:47,750 --> 00:32:51,880
now we don't distinguish between things

692
00:32:49,460 --> 00:32:54,140
like moving to which is not actually

693
00:32:51,880 --> 00:33:01,100
occupying a thing necessarily and

694
00:32:54,140 --> 00:33:02,720
standing on right so I'm not sure look

695
00:33:01,099 --> 00:33:05,990
we're gonna have to do a little bit more

696
00:33:02,720 --> 00:33:08,990
work to make transact transactional

697
00:33:05,990 --> 00:33:11,599
occupy do what we needed to do when the

698
00:33:08,990 --> 00:33:14,349
head goes over to to the side and you're

699
00:33:11,599 --> 00:33:18,309
about to hop into it right

700
00:33:14,349 --> 00:33:21,019
we only once we start taking the square

701
00:33:18,309 --> 00:33:22,490
we're sort of in between two squares and

702
00:33:21,019 --> 00:33:26,539
I don't know to what degree we

703
00:33:22,490 --> 00:33:28,490
relinquishing quit right away out

704
00:33:26,539 --> 00:33:31,069
there's stuff it's a little complicated

705
00:33:28,490 --> 00:33:33,950
I guess is what I would say it's it's a

706
00:33:31,069 --> 00:33:36,769
bit tricky and the degree to which I

707
00:33:33,950 --> 00:33:38,509
have moving to and standing on I've got

708
00:33:36,769 --> 00:33:40,670
to think that through it'll the more

709
00:33:38,509 --> 00:33:43,339
immediate problem is when we do our

710
00:33:40,670 --> 00:33:47,529
unpacks in here where we do load entity

711
00:33:43,339 --> 00:33:50,480
reference and low traversable reference

712
00:33:47,529 --> 00:33:52,759
so part of the problem is I really don't

713
00:33:50,480 --> 00:33:55,549
want to do this probably this occupier

714
00:33:52,759 --> 00:33:58,129
thing for anything other than like

715
00:33:55,549 --> 00:34:01,659
standing on like what the thing is that

716
00:33:58,130 --> 00:34:01,660
you're on right

717
00:34:08,298 --> 00:34:20,838
it's like which one you're occupying is

718
00:34:10,949 --> 00:34:20,838
kind of I'm gonna have to draw this out

719
00:34:26,068 --> 00:34:31,500
so here's essentially the problem how

720
00:34:29,730 --> 00:34:44,099
much time we got left we got about 20

721
00:34:31,500 --> 00:34:52,139
minutes all right so here is the hero

722
00:34:44,099 --> 00:34:57,420
and for the hop we had two things one we

723
00:34:52,139 --> 00:35:03,030
had standing on and the other we had was

724
00:34:57,420 --> 00:35:08,190
moving to now the problem that we have

725
00:35:03,030 --> 00:35:10,290
here is we probably only want to occupy

726
00:35:08,190 --> 00:35:14,460
one squared time or maybe we don't

727
00:35:10,289 --> 00:35:16,409
maybe we occupy both I don't know but at

728
00:35:14,460 --> 00:35:18,358
some point we have to relinquish this

729
00:35:16,409 --> 00:35:21,088
square and at some point we have to take

730
00:35:18,358 --> 00:35:23,940
this square and what we do know that

731
00:35:21,088 --> 00:35:26,730
this is a and this is B what we do know

732
00:35:23,940 --> 00:35:29,639
that in time if I was to look at two

733
00:35:26,730 --> 00:35:31,920
channels essentially in time and be like

734
00:35:29,639 --> 00:35:35,098
this is showing the occupation I'm

735
00:35:31,920 --> 00:35:38,088
starting out occupying a and then at

736
00:35:35,099 --> 00:35:42,240
some point I have to release a right and

737
00:35:38,088 --> 00:35:45,900
then I have B and I know that I end

738
00:35:42,239 --> 00:35:49,919
occupying B all I really know is that

739
00:35:45,900 --> 00:35:52,858
this point here has to either be right

740
00:35:49,920 --> 00:35:55,250
on when I release a or some time before

741
00:35:52,858 --> 00:35:58,409
it right there can't be a gap between

742
00:35:55,250 --> 00:36:00,329
here and here right there could be an

743
00:35:58,409 --> 00:36:02,399
overlap so I could do it like this or

744
00:36:00,329 --> 00:36:09,349
they can be right on but I couldn't have

745
00:36:02,400 --> 00:36:13,410
empty space right I couldn't do this

746
00:36:09,349 --> 00:36:16,048
because if I did this then in here

747
00:36:13,409 --> 00:36:18,328
someone could occupy the squares and

748
00:36:16,048 --> 00:36:19,420
then I would have nowhere to land right

749
00:36:18,329 --> 00:36:21,160
there'd be nowhere to go

750
00:36:19,420 --> 00:36:23,139
if someone was allowed to like come in

751
00:36:21,159 --> 00:36:25,179
and take the old square but then the new

752
00:36:23,139 --> 00:36:27,278
square became occupied I would you know

753
00:36:25,179 --> 00:36:33,489
it that's an unacceptable scenario

754
00:36:27,278 --> 00:36:36,789
basically so the question is just what's

755
00:36:33,489 --> 00:36:38,798
the actual procedure for that right and

756
00:36:36,789 --> 00:36:40,028
right now I'm taking both squares and

757
00:36:38,798 --> 00:36:43,088
that's not good because I'm not

758
00:36:40,028 --> 00:36:44,829
releasing the moving to whenever so the

759
00:36:43,088 --> 00:36:47,259
question is just what should I do here

760
00:36:44,829 --> 00:36:48,970
should I always occupy one I'll move it

761
00:36:47,260 --> 00:36:51,130
to here and then the thing that I do the

762
00:36:48,969 --> 00:36:53,469
jump just remembers an old position but

763
00:36:51,130 --> 00:36:55,838
it doesn't actually use it doesn't

764
00:36:53,469 --> 00:37:03,969
actually occupy that position if that

765
00:36:55,838 --> 00:37:06,608
makes sense I don't know I'm not sure so

766
00:37:03,969 --> 00:37:09,038
let's let's play with it because when I

767
00:37:06,608 --> 00:37:11,308
don't know I play around and I see what

768
00:37:09,039 --> 00:37:18,910
makes the most sense in the code right

769
00:37:11,309 --> 00:37:19,930
so let's switch over to entity and I

770
00:37:18,909 --> 00:37:23,078
guess what I'm going to do with entity

771
00:37:19,929 --> 00:37:25,899
is say well alright let's suppose that I

772
00:37:23,079 --> 00:37:27,818
only keep one square ever so I never

773
00:37:25,900 --> 00:37:28,838
take more than one square and or if I do

774
00:37:27,818 --> 00:37:30,190
take more than one squares and I'm an

775
00:37:28,838 --> 00:37:31,538
entity who always takes more into one

776
00:37:30,190 --> 00:37:34,389
square all the time look I just have a

777
00:37:31,539 --> 00:37:36,549
footprint that's larger right and that's

778
00:37:34,389 --> 00:37:37,808
just how I work or something although I

779
00:37:36,548 --> 00:37:39,960
don't know to what degree I really want

780
00:37:37,809 --> 00:37:46,089
that to happen in this game but whatever

781
00:37:39,960 --> 00:37:47,639
maybe certain boss monsters right so

782
00:37:46,088 --> 00:37:50,639
I've got these traversable references

783
00:37:47,639 --> 00:37:55,868
and I'm saying that I'm going to occupy

784
00:37:50,639 --> 00:37:57,969
particular squares and hmm what I want

785
00:37:55,869 --> 00:38:00,519
to do is say well okay I've got this

786
00:37:57,969 --> 00:38:01,298
notion that I'm occupying one of them

787
00:38:00,518 --> 00:38:04,179
and I'm just going to call that

788
00:38:01,298 --> 00:38:06,579
occupying and then I'm gonna assume that

789
00:38:04,179 --> 00:38:10,298
I just have a thing that was like came

790
00:38:06,579 --> 00:38:13,660
from okay and then what I'm gonna say is

791
00:38:10,298 --> 00:38:16,838
only occupying actually occupies the

792
00:38:13,659 --> 00:38:19,118
other one doesn't right

793
00:38:16,838 --> 00:38:20,768
and so if I come through here and say

794
00:38:19,119 --> 00:38:24,309
well okay we've got packed reversible

795
00:38:20,768 --> 00:38:29,848
reference standing on and moving to when

796
00:38:24,309 --> 00:38:29,849
we pack these these can be these are not

797
00:38:32,309 --> 00:38:45,690
oops wait what does I call it came from

798
00:38:51,838 --> 00:38:56,409
all right

799
00:38:53,920 --> 00:38:58,869
that's hot that error condition seems to

800
00:38:56,409 --> 00:39:05,469
hop oh I'm not oh that's weird

801
00:38:58,869 --> 00:39:08,500
I think I may have a bug I think I may

802
00:39:05,469 --> 00:39:10,868
have to update my eye for code or custom

803
00:39:08,500 --> 00:39:13,989
for the new UI stuff because I noticed

804
00:39:10,869 --> 00:39:18,250
my my jump to script doesn't always

805
00:39:13,989 --> 00:39:20,348
actually seem to go in the get into the

806
00:39:18,250 --> 00:39:21,278
buffer where the error is I think I may

807
00:39:20,349 --> 00:39:24,519
have to do something

808
00:39:21,278 --> 00:39:27,969
see that it didn't actually it didn't

809
00:39:24,519 --> 00:39:33,130
actually hold the : so I have to look at

810
00:39:27,969 --> 00:39:34,288
how that works I'm not sure what's going

811
00:39:33,130 --> 00:39:36,548
on there

812
00:39:34,289 --> 00:39:41,890
yeah well anyway something look out

813
00:39:36,548 --> 00:39:43,900
later solo traversable reference is

814
00:39:41,889 --> 00:39:45,190
gonna be the same but basically what I

815
00:39:43,900 --> 00:39:47,230
want to do here is say well when we

816
00:39:45,190 --> 00:39:49,539
connect these up I'm gonna say that load

817
00:39:47,230 --> 00:39:52,900
traversable reference doesn't do this

818
00:39:49,539 --> 00:39:55,740
automatically right so maybe this is

819
00:39:52,900 --> 00:39:59,380
actually it only happens down here right

820
00:39:55,739 --> 00:40:02,528
so low traversal reference doesn't need

821
00:39:59,380 --> 00:40:07,059
the source entity that's not actually

822
00:40:02,528 --> 00:40:10,510
required and so when this happens after

823
00:40:07,059 --> 00:40:13,630
it loads occupying it will it will

824
00:40:10,510 --> 00:40:16,470
update in here so it'll say like okay I

825
00:40:13,630 --> 00:40:23,470
loaded occupying assuming that entity

826
00:40:16,469 --> 00:40:25,719
occupying has an actual pointer

827
00:40:23,469 --> 00:40:31,439
associated with it then it'll do the

828
00:40:25,719 --> 00:40:31,439
entity occupying

829
00:40:40,889 --> 00:41:06,868
and these don't these anymore and source

830
00:40:57,849 --> 00:41:06,869
gonna be is now entity standing on is

831
00:41:07,559 --> 00:41:26,280
occupying so we're probably going to

832
00:41:22,809 --> 00:41:31,109
need a creation time system for

833
00:41:26,280 --> 00:41:43,990
guaranteeing no overlapping occupation

834
00:41:31,108 --> 00:41:46,239
right here we go so now let's take a

835
00:41:43,989 --> 00:41:51,219
look here so this is assuming that

836
00:41:46,239 --> 00:41:54,000
occupying is not the same then we're

837
00:41:51,219 --> 00:41:56,798
going to want to do a transition a

838
00:41:54,000 --> 00:41:58,630
transactional thing for occupying with

839
00:41:56,798 --> 00:42:01,809
the traversable but we're gonna need to

840
00:41:58,630 --> 00:42:04,660
save that one that we're you know are

841
00:42:01,809 --> 00:42:05,890
sort of our came from if you will so

842
00:42:04,659 --> 00:42:13,838
before we do that we're going to want

843
00:42:05,889 --> 00:42:15,879
came from to equal our old occupy pretty

844
00:42:13,838 --> 00:42:19,029
much regardless because it should have

845
00:42:15,880 --> 00:42:21,760
been equal anyway so that in here when

846
00:42:19,030 --> 00:42:23,950
we're going to be adjusting the location

847
00:42:21,760 --> 00:42:26,380
of the entity during standing that'll

848
00:42:23,949 --> 00:42:27,789
just be this and movement to and

849
00:42:26,380 --> 00:42:28,900
movement from is going to be basically

850
00:42:27,789 --> 00:42:32,909
the same but now it's a little bit

851
00:42:28,900 --> 00:42:36,068
reversed so we're always the occupying

852
00:42:32,909 --> 00:42:39,039
value is always where we're going to and

853
00:42:36,068 --> 00:42:42,769
what we're moving from is is the came

854
00:42:39,039 --> 00:42:46,759
from value

855
00:42:42,769 --> 00:42:54,460
then when we finally land then we want

856
00:42:46,760 --> 00:42:58,790
to set came from equal to occupy like so

857
00:42:54,460 --> 00:43:00,710
so really this line may be redundant you

858
00:42:58,789 --> 00:43:03,079
know that that may not ever really need

859
00:43:00,710 --> 00:43:08,179
to happen but you know it certainly

860
00:43:03,079 --> 00:43:09,829
can't hurt famous last words

861
00:43:08,179 --> 00:43:12,199
so now you can see that the blue is

862
00:43:09,829 --> 00:43:15,259
working the way that I wanted it to

863
00:43:12,199 --> 00:43:19,969
right I'm as I come sort of through

864
00:43:15,260 --> 00:43:25,880
there I'm you know I'm getting I'm a

865
00:43:19,969 --> 00:43:28,129
well yeah I'm basically moving to that

866
00:43:25,880 --> 00:43:30,140
point as soon as my head crosses into it

867
00:43:28,130 --> 00:43:32,420
and then the hop happens what I'm

868
00:43:30,139 --> 00:43:35,599
interested to know is let's say what if

869
00:43:32,420 --> 00:43:38,329
we dropped another hero in here I'm

870
00:43:35,599 --> 00:43:39,500
gonna introduce a key so I can drop new

871
00:43:38,329 --> 00:43:41,929
heroes in because I think that might

872
00:43:39,500 --> 00:43:44,619
just be helpful for us but for when were

873
00:43:41,929 --> 00:43:46,489
you know sort of working on stuff so

874
00:43:44,619 --> 00:43:49,130
what I'd like to be able to do is

875
00:43:46,489 --> 00:43:50,689
basically like redo the ad player so you

876
00:43:49,130 --> 00:43:54,470
can see in here where we do this like

877
00:43:50,690 --> 00:43:56,659
was class controller start ad player

878
00:43:54,469 --> 00:43:59,899
situation I'm gonna go ahead and just

879
00:43:56,659 --> 00:44:02,750
put that in in in sort of the game you I

880
00:43:59,900 --> 00:44:05,869
normally so when you have any of the

881
00:44:02,750 --> 00:44:07,130
index already I'll drop and I'll make it

882
00:44:05,869 --> 00:44:11,119
so that you can drop another one in

883
00:44:07,130 --> 00:44:14,420
there using some kind of something maybe

884
00:44:11,119 --> 00:44:19,009
that is I don't know what that would be

885
00:44:14,420 --> 00:44:25,840
I don't know which keys we really have

886
00:44:19,010 --> 00:44:25,840
either but well for now let's just say

887
00:44:31,880 --> 00:44:38,720
maybe we'll we'll take one of the debug

888
00:44:34,769 --> 00:44:42,170
keys and and use that I don't know well

889
00:44:38,719 --> 00:44:42,169
yeah I just don't know

890
00:44:45,289 --> 00:44:49,980
so in here where we do indie index ad

891
00:44:47,969 --> 00:44:53,730
player I don't want to double ad the

892
00:44:49,980 --> 00:44:55,619
player in this case and so maybe you

893
00:44:53,730 --> 00:45:05,400
know I don't know if the else button

894
00:44:55,619 --> 00:45:07,639
would be a problem here let's let's take

895
00:45:05,400 --> 00:45:07,639
a look

896
00:45:17,610 --> 00:45:23,809
oh we're gonna have to zero out that

897
00:45:21,119 --> 00:45:23,809
velocity

898
00:45:38,599 --> 00:45:44,630
amusingly I can hit him and he bounces I

899
00:45:42,440 --> 00:45:46,720
guess we put our physics in there for

900
00:45:44,630 --> 00:45:51,619
that that's kind of weird

901
00:45:46,719 --> 00:45:53,659
all right so essentially we got what we

902
00:45:51,619 --> 00:45:54,980
wanted and we have to work on our

903
00:45:53,659 --> 00:45:58,099
controllers a little bit but this

904
00:45:54,980 --> 00:46:00,949
actually works exactly right so I have

905
00:45:58,099 --> 00:46:02,690
to skip that point if it's occupied and

906
00:46:00,949 --> 00:46:05,089
right now since the head is allowed to

907
00:46:02,690 --> 00:46:09,250
move as far from the body as it wants it

908
00:46:05,090 --> 00:46:09,250
can always go find another point right

909
00:46:19,239 --> 00:46:22,649
that's so grotesque

910
00:46:33,260 --> 00:46:40,340
but otherwise yeah it's all good so

911
00:46:37,820 --> 00:46:43,970
that's exactly what I wanted and I think

912
00:46:40,340 --> 00:46:45,500
I'm trying to think about I guess let's

913
00:46:43,969 --> 00:46:48,129
double check that I didn't break start

914
00:46:45,500 --> 00:46:51,320
up with that change in the way that that

915
00:46:48,130 --> 00:46:53,030
these guys work yeah I did because we

916
00:46:51,320 --> 00:46:55,400
simulate the start button press there

917
00:46:53,030 --> 00:46:59,210
and it won't think any heroes exist when

918
00:46:55,400 --> 00:47:01,369
we do this let's take a look at at the

919
00:46:59,210 --> 00:47:05,570
code a little further down and look at

920
00:47:01,369 --> 00:47:09,050
the heroes exist situation so you know

921
00:47:05,570 --> 00:47:10,940
we could do that in here and and maybe

922
00:47:09,050 --> 00:47:12,410
that would be a smarter thing that code

923
00:47:10,940 --> 00:47:13,550
is still it's kind of a little janky we

924
00:47:12,409 --> 00:47:20,599
probably want to make it more explicit

925
00:47:13,550 --> 00:47:22,900
anyway I feel like that should have

926
00:47:20,599 --> 00:47:22,900
worked

927
00:47:27,780 --> 00:47:32,790
I'm not really sure why that didn't so

928
00:47:30,750 --> 00:47:34,199
heroes exist assumed to be false we come

929
00:47:32,789 --> 00:47:38,670
through here we take a look

930
00:47:34,199 --> 00:47:40,529
hero gets created by doing an ad player

931
00:47:38,670 --> 00:47:43,740
and it saves the entity index in here

932
00:47:40,530 --> 00:47:45,269
right it doesn't do this code but that

933
00:47:43,739 --> 00:47:56,579
should be okay right because you

934
00:47:45,269 --> 00:47:59,219
shouldn't have to wait what oh right so

935
00:47:56,579 --> 00:48:00,630
it should be fine you would think and

936
00:47:59,219 --> 00:48:03,809
then when you come through here you say

937
00:48:00,630 --> 00:48:07,950
all right let's go through all the

938
00:48:03,809 --> 00:48:10,590
entities and you know we update the

939
00:48:07,949 --> 00:48:15,179
entities and when we go through and we

940
00:48:10,590 --> 00:48:17,309
see the hero ahead we should I mean I

941
00:48:15,179 --> 00:48:20,389
guess I could do it up here even but

942
00:48:17,309 --> 00:48:24,210
either way it should just work right

943
00:48:20,389 --> 00:48:27,389
there shouldn't be it should not have

944
00:48:24,210 --> 00:48:28,559
thought that there were none so I'm kind

945
00:48:27,389 --> 00:48:30,690
of interested to know what's happening

946
00:48:28,559 --> 00:48:33,360
there I feel like something's not quite

947
00:48:30,690 --> 00:48:36,030
the what I way I expected and again this

948
00:48:33,360 --> 00:48:38,340
is sort of a little bit janky the way

949
00:48:36,030 --> 00:48:45,540
that we had this coded we probably want

950
00:48:38,340 --> 00:48:50,510
something a little bit nicer but I just

951
00:48:45,539 --> 00:48:50,509
want to understand why it doesn't work

952
00:48:51,139 --> 00:49:09,019
so let's just step in I guess oh because

953
00:49:00,869 --> 00:49:17,940
the simulation has started already yeah

954
00:49:09,019 --> 00:49:22,710
that's that's why so that entity is not

955
00:49:17,940 --> 00:49:25,470
actually added into the world during

956
00:49:22,710 --> 00:49:28,710
this ad player it's added into the

957
00:49:25,469 --> 00:49:30,899
storage for the world and that's just

958
00:49:28,710 --> 00:49:34,320
basically a bug like we don't really

959
00:49:30,900 --> 00:49:38,349
want to do that so ad player needs to

960
00:49:34,320 --> 00:49:44,190
add to the sim dissimulation

961
00:49:38,349 --> 00:49:46,568
right so that's that's just bad and I

962
00:49:44,190 --> 00:49:48,278
probably should fix that right now

963
00:49:46,568 --> 00:49:54,719
before it ever before it gets any more

964
00:49:48,278 --> 00:49:57,639
out of hand so AB player should not

965
00:49:54,719 --> 00:50:03,208
should not be doing any of this stuff

966
00:49:57,639 --> 00:50:03,208
really it should not be doing and entity

967
00:50:04,018 --> 00:50:09,298
or any of that stuff what it should be

968
00:50:07,059 --> 00:50:12,400
doing is it should do it like in an

969
00:50:09,298 --> 00:50:18,579
immediate unpack into the sim region so

970
00:50:12,400 --> 00:50:22,088
the sim region do you mean the way that

971
00:50:18,579 --> 00:50:26,170
the sim region works when it unpacked

972
00:50:22,088 --> 00:50:29,528
stuff we should what we what we

973
00:50:26,170 --> 00:50:32,528
basically want to be able to do is have

974
00:50:29,528 --> 00:50:34,989
there be an ad entity operation which

975
00:50:32,528 --> 00:50:37,389
effectively mirrors what happens when

976
00:50:34,989 --> 00:50:41,170
you begin sim and then when you call an

977
00:50:37,389 --> 00:50:43,449
entity in here right we could just say

978
00:50:41,170 --> 00:50:45,519
well are we in a simmer aren't we and if

979
00:50:43,449 --> 00:50:48,099
we're in a sim so we can use the same

980
00:50:45,518 --> 00:50:55,179
code in both cases if we're in a sim we

981
00:50:48,099 --> 00:50:58,318
unpack into the sim if we're in a and if

982
00:50:55,179 --> 00:50:58,318
in if we're not we don't

983
00:51:01,199 --> 00:51:09,929
I think that's what we actually want to

984
00:51:05,789 --> 00:51:12,779
do here so what we could do is say well

985
00:51:09,929 --> 00:51:15,088
okay there's world mode if world mode

986
00:51:12,780 --> 00:51:20,070
you know active sim or something like

987
00:51:15,088 --> 00:51:23,639
this then we do one path else we do the

988
00:51:20,070 --> 00:51:30,829
other path something like that

989
00:51:23,639 --> 00:51:30,828
and so in here I guess I would say well

990
00:51:31,039 --> 00:51:36,179
let me think about this a little bit

991
00:51:33,088 --> 00:51:41,070
longer probably should wrap up very soon

992
00:51:36,179 --> 00:51:44,779
here but I'm just not sure exactly how I

993
00:51:41,070 --> 00:51:47,700
want that to go so inside the sim region

994
00:51:44,780 --> 00:51:57,420
we just need this one piece of code

995
00:51:47,699 --> 00:52:01,889
right this atom be here and when we add

996
00:51:57,420 --> 00:52:05,639
identity and we're passing it sort of

997
00:52:01,889 --> 00:52:08,940
that packed data there's two things we

998
00:52:05,639 --> 00:52:11,608
could do one is we can still pack and

999
00:52:08,940 --> 00:52:13,650
then ask it to unpack into a temp buffer

1000
00:52:11,608 --> 00:52:16,108
right and that would follow the same

1001
00:52:13,650 --> 00:52:17,639
path with the same unpacking and that's

1002
00:52:16,108 --> 00:52:20,598
kind of nice because then we know there

1003
00:52:17,639 --> 00:52:20,598
are no surprises

1004
00:52:26,789 --> 00:52:37,440
yeah on the other hand it's definitely

1005
00:52:35,880 --> 00:52:40,760
less efficient than if we just wrote

1006
00:52:37,440 --> 00:52:44,130
directly into one of the new SIM slots

1007
00:52:40,760 --> 00:52:45,660
right because instead we could just do

1008
00:52:44,130 --> 00:52:48,510
an ad and B and say here's where we're

1009
00:52:45,659 --> 00:52:59,599
gonna add the entity and let's go ahead

1010
00:52:48,510 --> 00:53:01,530
and write directly to it I'm not sure I

1011
00:52:59,599 --> 00:53:02,819
mean the other thing we could say is

1012
00:53:01,530 --> 00:53:04,710
that things always get added at the end

1013
00:53:02,820 --> 00:53:07,320
of the frame anyway so effectively they

1014
00:53:04,710 --> 00:53:09,480
get packed into chunks and an unpacked

1015
00:53:07,320 --> 00:53:21,570
maybe that's not really a problem maybe

1016
00:53:09,480 --> 00:53:31,130
that's fine yeah I don't know I really

1017
00:53:21,570 --> 00:53:31,130
don't I'm not sure what to make of that

1018
00:53:31,250 --> 00:53:38,099
I guess here's what I'll say for now the

1019
00:53:36,840 --> 00:53:40,950
fix is pretty easy

1020
00:53:38,099 --> 00:53:43,019
it's obviously hero's exist whether if

1021
00:53:40,949 --> 00:53:44,730
we've created one if there's not I guess

1022
00:53:43,019 --> 00:53:46,349
that I think about it the way that we're

1023
00:53:44,730 --> 00:53:50,159
doing it where we pack them and then

1024
00:53:46,349 --> 00:53:52,610
unpack them is actually possibly correct

1025
00:53:50,159 --> 00:53:56,129
like I mean that's actually kind of nice

1026
00:53:52,610 --> 00:53:56,820
so I don't know maybe maybe I just want

1027
00:53:56,130 --> 00:53:59,369
to keep it that way

1028
00:53:56,820 --> 00:54:02,070
it's very symmetric doesn't require any

1029
00:53:59,369 --> 00:54:03,389
changes to the code and you know Euro is

1030
00:54:02,070 --> 00:54:05,640
going through the same path and no one

1031
00:54:03,389 --> 00:54:07,440
can be created inside a frame they'll

1032
00:54:05,639 --> 00:54:09,420
always be created on the start of the

1033
00:54:07,440 --> 00:54:11,250
next frame which also has a certain

1034
00:54:09,420 --> 00:54:14,369
purity to it that feels like it might

1035
00:54:11,250 --> 00:54:15,449
pay big dividends like so we don't have

1036
00:54:14,369 --> 00:54:16,679
to worry about something getting created

1037
00:54:15,449 --> 00:54:19,559
in the middle of a frame where half the

1038
00:54:16,679 --> 00:54:22,019
people are updated I don't know it could

1039
00:54:19,559 --> 00:54:25,400
be good alright so I guess I'm gonna

1040
00:54:22,019 --> 00:54:25,400
call that done for now

1041
00:54:41,679 --> 00:54:45,389
so I'll go ahead and hit the QA

1042
00:55:22,478 --> 00:55:31,268
yeah I do kind of agree that the

1043
00:55:27,039 --> 00:55:34,539
debugging worlds is gets kind of weird

1044
00:55:31,268 --> 00:55:38,348
and you know that's that's actually kind

1045
00:55:34,539 --> 00:55:40,150
of the way debug code goes you know

1046
00:55:38,349 --> 00:55:43,989
there are some pretty gruesome things

1047
00:55:40,150 --> 00:55:47,079
created during debugging you know some

1048
00:55:43,989 --> 00:55:48,909
some some parade of Horrible's that

1049
00:55:47,079 --> 00:55:58,809
there's definitely a fair bit of that

1050
00:55:48,909 --> 00:55:59,348
and I don't really know I don't know

1051
00:55:58,809 --> 00:56:02,410
what to say

1052
00:55:59,349 --> 00:56:04,059
a lot of times 3d when you're

1053
00:56:02,409 --> 00:56:06,489
programming in 3d it could it could be

1054
00:56:04,059 --> 00:56:09,219
even worse because you mess up a little

1055
00:56:06,489 --> 00:56:11,139
thing in a transform somewhere in how

1056
00:56:09,219 --> 00:56:12,579
that's supposed to be you know you got a

1057
00:56:11,139 --> 00:56:14,078
bug somewhere like that and suddenly

1058
00:56:12,579 --> 00:56:16,900
people are getting all smushed around

1059
00:56:14,079 --> 00:56:17,999
and extort distorted like really

1060
00:56:16,900 --> 00:56:20,499
gruesomely

1061
00:56:17,998 --> 00:56:22,118
and so in 2d it's a little better

1062
00:56:20,498 --> 00:56:24,098
because you're only typically stretching

1063
00:56:22,119 --> 00:56:30,298
like we were it doesn't it maybe doesn't

1064
00:56:24,099 --> 00:56:30,298
not so likely to get awful but yeah

1065
00:56:33,630 --> 00:56:37,838
remilia why don't the cloned players

1066
00:56:36,039 --> 00:56:41,019
jump to points when their heads move

1067
00:56:37,838 --> 00:56:43,659
over them uh so it's a it's a good

1068
00:56:41,018 --> 00:56:45,639
question and the reason is because if

1069
00:56:43,659 --> 00:56:47,469
you look at where that we just chose to

1070
00:56:45,639 --> 00:56:51,068
do the code for that we're doing it

1071
00:56:47,469 --> 00:56:54,700
inside the controller binding for a hero

1072
00:56:51,068 --> 00:56:57,818
head right now we don't have to do that

1073
00:56:54,699 --> 00:57:02,048
we could choose to do it outside the

1074
00:56:57,818 --> 00:57:05,139
controller binding for the hero head if

1075
00:57:02,048 --> 00:57:06,788
that's what we wanted and so you know

1076
00:57:05,139 --> 00:57:08,978
you can see and hear there's a certain

1077
00:57:06,789 --> 00:57:11,680
degree of where con hero was actually

1078
00:57:08,978 --> 00:57:14,919
getting used and you can see it right

1079
00:57:11,679 --> 00:57:24,248
through here but it stops at some point

1080
00:57:14,920 --> 00:57:26,818
right so we could for example take this

1081
00:57:24,248 --> 00:57:30,278
piece of code I don't know why timer

1082
00:57:26,818 --> 00:57:33,369
recenter I guess cuz this code needs to

1083
00:57:30,278 --> 00:57:35,239
know what it what that is but we could

1084
00:57:33,369 --> 00:57:39,019
make it so that the hopping

1085
00:57:35,239 --> 00:57:41,689
didn't require connected here oh right

1086
00:57:39,019 --> 00:57:44,840
it didn't require knowledge of like the

1087
00:57:41,690 --> 00:57:48,320
pushing around and in order to do that

1088
00:57:44,840 --> 00:57:50,809
it's it's actually pretty trivial so I

1089
00:57:48,320 --> 00:57:52,519
don't know do we write to con her here

1090
00:57:50,809 --> 00:57:55,519
ever well you know I'll just I'll show

1091
00:57:52,519 --> 00:58:00,019
you so what we could do if we wanted to

1092
00:57:55,519 --> 00:58:05,659
have that happen is we can make it so

1093
00:58:00,019 --> 00:58:08,869
that our our controlled hero has sort of

1094
00:58:05,659 --> 00:58:11,739
like a dummy thing like let's say con

1095
00:58:08,869 --> 00:58:14,659
hero underscore that's just nothing and

1096
00:58:11,739 --> 00:58:16,899
then in here we could say like okay we

1097
00:58:14,659 --> 00:58:16,899
got

1098
00:58:22,550 --> 00:58:32,519
let me let me back that up a second more

1099
00:58:28,409 --> 00:58:35,190
like this so we'd sort of say this sort

1100
00:58:32,519 --> 00:58:37,079
of thing we want to know who's connected

1101
00:58:35,190 --> 00:58:38,550
to this guy and maybe nobody is right

1102
00:58:37,079 --> 00:58:40,739
look maybe no one's connected to him and

1103
00:58:38,550 --> 00:58:42,690
we don't really have a way to look it up

1104
00:58:40,739 --> 00:58:45,629
so we're just searching to see if we

1105
00:58:42,690 --> 00:58:53,460
could find it right so in here what

1106
00:58:45,630 --> 00:58:58,650
we're doing is saying like okay let's

1107
00:58:53,460 --> 00:59:00,809
initialize the connected hero to be just

1108
00:58:58,650 --> 00:59:03,150
nothing it's just a garbage here you

1109
00:59:00,809 --> 00:59:05,519
know like an on a non-active hero

1110
00:59:03,150 --> 00:59:07,110
controller and then in here we'll say

1111
00:59:05,519 --> 00:59:10,920
like alright let's check take the test

1112
00:59:07,110 --> 00:59:12,390
hero and see whether the test hero does

1113
00:59:10,920 --> 00:59:14,550
this we're looking at the four

1114
00:59:12,389 --> 00:59:15,929
controllers is any orb well however mate

1115
00:59:14,550 --> 00:59:17,460
those are are we're looking to see if

1116
00:59:15,929 --> 00:59:19,319
any one of those controllers is attached

1117
00:59:17,460 --> 00:59:22,260
to this hero if it is we're gonna use

1118
00:59:19,320 --> 00:59:24,539
that as the controller for this hero

1119
00:59:22,260 --> 00:59:26,310
right then we can just come out here and

1120
00:59:24,539 --> 00:59:28,079
say all right everything else just

1121
00:59:26,309 --> 00:59:31,440
assumes that we've got a valid one of

1122
00:59:28,079 --> 00:59:33,210
those and operates so now you don't have

1123
00:59:31,440 --> 00:59:35,150
to have a connected hero to do the rest

1124
00:59:33,210 --> 00:59:41,929
of the things that you were going to do

1125
00:59:35,150 --> 00:59:41,930
and off you go right so if we did that

1126
00:59:45,889 --> 00:59:51,960
then I think you know now the controller

1127
00:59:49,230 --> 00:59:54,990
code runs whether you have someone that

1128
00:59:51,960 --> 00:59:57,030
I shouldn't control code the logic for

1129
00:59:54,989 --> 01:00:00,149
the hero head will now run whether or

1130
00:59:57,030 --> 01:00:02,490
not anyone's plugged into it right

1131
01:00:00,150 --> 01:00:06,269
so normally like I'm hopping around it's

1132
01:00:02,489 --> 01:00:10,349
fine but if I was to you know do sort of

1133
01:00:06,269 --> 01:00:12,300
the thing where I I switch heroes now

1134
01:00:10,349 --> 01:00:13,829
the controller code will run now what

1135
01:00:12,300 --> 01:00:15,930
you'll notice is this means the hero

1136
01:00:13,829 --> 01:00:18,029
will always stop and that's because

1137
01:00:15,929 --> 01:00:21,210
there's that spring on the hero head

1138
01:00:18,030 --> 01:00:23,220
that keeps it close to the body so if we

1139
01:00:21,210 --> 01:00:25,110
wanted to we could we would also have to

1140
01:00:23,219 --> 01:00:28,980
do something if we wanted the heroes to

1141
01:00:25,110 --> 01:00:31,050
sort of go in a direction so you could

1142
01:00:28,980 --> 01:00:33,210
see them hopping what we would need to

1143
01:00:31,050 --> 01:00:34,920
do is make it so that well when a hero

1144
01:00:33,210 --> 01:00:36,449
doesn't have a connected entity

1145
01:00:34,920 --> 01:00:38,190
we're gonna have to push we're gonna

1146
01:00:36,449 --> 01:00:40,858
have to have some push in that direction

1147
01:00:38,190 --> 01:00:42,929
right so we're gonna have to have the

1148
01:00:40,858 --> 01:00:47,690
Heroes DDP X let's say equal to

1149
01:00:42,929 --> 01:00:47,690
something like in this case oops

1150
01:00:48,889 --> 01:00:58,529
what's going on okay so if we initialize

1151
01:00:55,338 --> 01:01:00,690
that you know they'll all they'll all go

1152
01:00:58,530 --> 01:01:02,700
that direction right so if I put one

1153
01:01:00,690 --> 01:01:05,338
here it's just gonna act like there's a

1154
01:01:02,699 --> 01:01:12,568
controller that it's pushing him towards

1155
01:01:05,338 --> 01:01:17,670
you know wherever he's going right which

1156
01:01:12,568 --> 01:01:26,130
is pretty funny as you can see so

1157
01:01:17,670 --> 01:01:27,930
there's that and I feel like at that

1158
01:01:26,130 --> 01:01:31,019
point if you know if that's the sort of

1159
01:01:27,929 --> 01:01:37,318
thing that we're doing you probably want

1160
01:01:31,019 --> 01:01:39,568
to make the add player code right when

1161
01:01:37,318 --> 01:01:42,650
when we do the get closest traversable

1162
01:01:39,568 --> 01:01:44,730
z' code for that and we place them down

1163
01:01:42,650 --> 01:01:48,210
we're probably going to want to do here

1164
01:01:44,730 --> 01:01:51,750
is say well let's add an unoccupied flag

1165
01:01:48,210 --> 01:01:54,750
for get closest closest reversible so in

1166
01:01:51,750 --> 01:01:59,849
the sim region when we call get closest

1167
01:01:54,750 --> 01:02:05,099
traversable we're gonna want something

1168
01:01:59,849 --> 01:02:09,359
here that's like you know a traversable

1169
01:02:05,099 --> 01:02:13,700
flag or a traversable search flag and

1170
01:02:09,358 --> 01:02:20,009
we're gonna want something like that's

1171
01:02:13,699 --> 01:02:22,289
reversible search unoccupied equals you

1172
01:02:20,010 --> 01:02:23,730
know x1 or something and so then in here

1173
01:02:22,289 --> 01:02:28,889
we'd have a thing where we're like okay

1174
01:02:23,730 --> 01:02:31,559
Oh Alan loving that alignment dude so

1175
01:02:28,889 --> 01:02:32,068
good I was really missing that from

1176
01:02:31,559 --> 01:02:34,680
emacs

1177
01:02:32,068 --> 01:02:37,019
and now I don't have to miss that at all

1178
01:02:34,679 --> 01:02:41,159
that's so nice

1179
01:02:37,019 --> 01:02:42,869
alright so you know we got the flags in

1180
01:02:41,159 --> 01:02:48,889
here we could say well just search for

1181
01:02:42,869 --> 01:02:53,900
an unoccupied traversable

1182
01:02:48,889 --> 01:02:58,039
and in here we'll just say get closest

1183
01:02:53,900 --> 01:03:03,039
reversible blah blah blah and so what I

1184
01:02:58,039 --> 01:03:06,199
was saying here was well okay in inside

1185
01:03:03,039 --> 01:03:08,570
inside here when we're checking these in

1186
01:03:06,199 --> 01:03:10,429
addition to checking the other stuff we

1187
01:03:08,570 --> 01:03:14,870
could just say well alright if the P

1188
01:03:10,429 --> 01:03:17,379
that you were doing oh well the the Lord

1189
01:03:14,869 --> 01:03:21,440
giveth and Lord taketh away so this is a

1190
01:03:17,380 --> 01:03:26,690
bogus indentation right because that if

1191
01:03:21,440 --> 01:03:31,220
should be over here I believe I'm not

1192
01:03:26,690 --> 01:03:36,320
mistaken but it seems to want to push it

1193
01:03:31,219 --> 01:03:41,139
in all right anyway so we've got this

1194
01:03:36,320 --> 01:03:47,960
point and we're gonna say if flags and

1195
01:03:41,139 --> 01:03:51,920
traversable search unoccupied if it has

1196
01:03:47,960 --> 01:03:57,369
to if that's not set then it's fine

1197
01:03:51,920 --> 01:04:01,460
but if that is set then the P - occupier

1198
01:03:57,369 --> 01:04:07,699
has to be nothing there can't be anyone

1199
01:04:01,460 --> 01:04:09,920
on it and so that's just something that

1200
01:04:07,699 --> 01:04:11,960
we want to do with this traversable

1201
01:04:09,920 --> 01:04:13,849
search so now we'll find the closest

1202
01:04:11,960 --> 01:04:16,340
point that isn't occupied and that's

1203
01:04:13,849 --> 01:04:19,250
where we'll actually put the player now

1204
01:04:16,340 --> 01:04:22,490
if we do that now we can stop adding the

1205
01:04:19,250 --> 01:04:24,860
player at camera P well first of all I

1206
01:04:22,489 --> 01:04:26,899
should test that code so now what I

1207
01:04:24,860 --> 01:04:32,090
should be able to do is drop people down

1208
01:04:26,900 --> 01:04:36,610
on top of me in theory right oh my god

1209
01:04:32,090 --> 01:04:36,610
oh my god that's so creepy

1210
01:04:37,639 --> 01:04:46,940
that is doing what I wanted it to do but

1211
01:04:41,510 --> 01:04:48,680
it's not I it's finding the point but

1212
01:04:46,940 --> 01:04:51,019
it's not putting them on it that I can't

1213
01:04:48,679 --> 01:04:53,809
say I know why what does add player do

1214
01:04:51,019 --> 01:04:56,360
for placement oh my god that was creepy

1215
01:04:53,809 --> 01:05:00,828
ah so add player is kind of busted here

1216
01:04:56,360 --> 01:05:03,539
right we need to know where that actual

1217
01:05:00,829 --> 01:05:07,740
it's it's got a it's got to add it to it

1218
01:05:03,539 --> 01:05:11,000
at an actual place in the world and

1219
01:05:07,739 --> 01:05:16,409
we're not doing that at the moment so

1220
01:05:11,000 --> 01:05:19,159
yeah we're gonna need to do something

1221
01:05:16,409 --> 01:05:22,558
like if that's the traversable reference

1222
01:05:19,159 --> 01:05:24,710
we would want to do you know this is

1223
01:05:22,559 --> 01:05:27,269
game world mode

1224
01:05:24,710 --> 01:05:37,650
we're probably gonna want to do like you

1225
01:05:27,269 --> 01:05:39,298
know sim region I may have bitten off a

1226
01:05:37,650 --> 01:05:41,160
little bit more than I can chew in 15

1227
01:05:39,298 --> 01:05:44,400
minutes unfortunately I just want to be

1228
01:05:41,159 --> 01:05:53,098
able to place people around me right and

1229
01:05:44,400 --> 01:05:56,220
I'm not sure so the problem is when I

1230
01:05:53,099 --> 01:05:59,880
call ad player I need to be able to get

1231
01:05:56,219 --> 01:06:04,348
the position as a world position I guess

1232
01:05:59,880 --> 01:06:11,849
that's not that tough I guess I could

1233
01:06:04,349 --> 01:06:14,298
say map into chunks base region let me

1234
01:06:11,849 --> 01:06:14,298
see here

1235
01:06:28,068 --> 01:06:35,219
so the sim region origin right we've got

1236
01:06:33,599 --> 01:06:38,640
this sort of concept of the sim region

1237
01:06:35,219 --> 01:06:42,899
origin so I could say region you know

1238
01:06:38,639 --> 01:06:45,328
worlds sim region origin and then I just

1239
01:06:42,900 --> 01:06:50,250
want to map into chunks space whatever

1240
01:06:45,329 --> 01:06:51,568
the traversable get traversable I just

1241
01:06:50,250 --> 01:06:59,518
want that point get sim spaced

1242
01:06:51,568 --> 01:07:04,259
reversible standing on and I suppose

1243
01:06:59,518 --> 01:07:06,479
that is an OK way to do it the only

1244
01:07:04,260 --> 01:07:07,528
difference is this I've got it past the

1245
01:07:06,480 --> 01:07:09,420
sim region but that's ok because

1246
01:07:07,528 --> 01:07:11,670
whenever we add a player we have one of

1247
01:07:09,420 --> 01:07:21,599
those because they come inactive at the

1248
01:07:11,670 --> 01:07:21,990
moment so yeah so I think that would

1249
01:07:21,599 --> 01:07:25,500
work

1250
01:07:21,989 --> 01:07:27,679
I don't know yeah I did it rather

1251
01:07:25,500 --> 01:07:27,679
quickly

1252
01:07:28,460 --> 01:07:32,389
now still not right

1253
01:07:40,360 --> 01:07:44,539
because that's still adding the player

1254
01:07:42,650 --> 01:07:51,010
at that location

1255
01:07:44,539 --> 01:07:51,009
oh because we're calling it at camera P

1256
01:07:51,460 --> 01:07:56,269
all right so I've got a little bit more

1257
01:07:53,659 --> 01:07:59,389
work to do here when we call it at

1258
01:07:56,269 --> 01:08:07,130
camera P I actually want to call it at

1259
01:07:59,389 --> 01:08:14,029
the entity location so what I actually

1260
01:08:07,130 --> 01:08:17,510
wanted here is for this to come down I

1261
01:08:14,030 --> 01:08:19,989
don't know why star con hero equals that

1262
01:08:17,510 --> 01:08:23,000
at the point we don't really need that

1263
01:08:19,989 --> 01:08:27,380
so I guess I can maybe make a flying

1264
01:08:23,000 --> 01:08:36,800
leap at this so what I want to do is I

1265
01:08:27,380 --> 01:08:38,390
want to say well I'll just store whether

1266
01:08:36,800 --> 01:08:40,489
I wanted to make one of these like I do

1267
01:08:38,390 --> 01:08:52,190
everything else so the con hero oops

1268
01:08:40,489 --> 01:08:55,729
and maybe I wear is con hero there it is

1269
01:08:52,189 --> 01:08:57,710
we'll do like debug spawn or something

1270
01:08:55,729 --> 01:09:04,549
like this and I'll just say like debug

1271
01:08:57,710 --> 01:09:08,449
spawn equals true and then I'll just

1272
01:09:04,550 --> 01:09:10,640
grab this out and I'll do it down what

1273
01:09:08,449 --> 01:09:13,130
we actually we're sort of doing the

1274
01:09:10,640 --> 01:09:19,450
controlled hero stuff so cure I'll say

1275
01:09:13,130 --> 01:09:19,449
like oh hey if the test hero

1276
01:09:24,988 --> 01:09:31,078
debug spawn

1277
01:09:26,880 --> 01:09:31,078
we'll then we'll do this sort of weird

1278
01:09:35,189 --> 01:09:42,489
this sort of weird crazy thing that we

1279
01:09:38,798 --> 01:09:46,288
do and in here when I pass camera P

1280
01:09:42,488 --> 01:09:46,288
instead now I'll pass into VP Oh

1281
01:09:57,219 --> 01:10:06,908
oh my the other thing we got to do clear

1282
01:10:00,939 --> 01:10:10,269
that variable otherwise we would just

1283
01:10:06,908 --> 01:10:11,918
spawn all day all right

1284
01:10:10,269 --> 01:10:14,918
so almost there might as well just

1285
01:10:11,918 --> 01:10:17,019
finish it up so when I spawn here I'm

1286
01:10:14,918 --> 01:10:19,479
still it's still not picking the right

1287
01:10:17,019 --> 01:10:24,579
location so something about traversable

1288
01:10:19,479 --> 01:10:26,829
search unoccupied I up that code in my

1289
01:10:24,578 --> 01:10:29,880
haste so let's take a look at get

1290
01:10:26,828 --> 01:10:29,880
closest reversible

1291
01:10:39,170 --> 01:10:45,140
so if the flags is not if we don't have

1292
01:10:43,250 --> 01:10:49,640
an unoccupied set then obviously we can

1293
01:10:45,140 --> 01:10:53,630
check this flag or if the occupier of

1294
01:10:49,640 --> 01:11:04,280
the point I'm testing is zero then I can

1295
01:10:53,630 --> 01:11:12,010
check it that seems correct so what did

1296
01:11:04,279 --> 01:11:12,009
I what did I do wrong there

1297
01:11:23,408 --> 01:11:31,000
because if the P occupier equals zero it

1298
01:11:26,149 --> 01:11:31,000
will always work which is what I want I

1299
01:11:34,510 --> 01:11:42,679
guess I could take the flag out of it

1300
01:11:37,010 --> 01:11:48,770
for a second of course that'll create

1301
01:11:42,679 --> 01:11:52,810
other problems so it's not even the flag

1302
01:11:48,770 --> 01:11:52,810
it just that just doesn't seem to work

1303
01:12:11,390 --> 01:12:15,020
hmmmm I say

1304
01:12:21,550 --> 01:12:27,690
I mean that passes back a copy of the

1305
01:12:30,000 --> 01:12:40,630
yeah so I wonder if we just don't want

1306
01:12:38,289 --> 01:12:43,810
to actually ever pass back by value

1307
01:12:40,630 --> 01:12:45,819
there I guess we have to if we're saying

1308
01:12:43,810 --> 01:12:50,910
it space because you couldn't write to

1309
01:12:45,819 --> 01:12:53,710
it but I guess that's okay I'll allow it

1310
01:12:50,909 --> 01:12:58,059
basically we need to copy in the

1311
01:12:53,710 --> 01:13:01,020
occupier right because what we weren't

1312
01:12:58,060 --> 01:13:01,020
ever copying that in

1313
01:13:12,590 --> 01:13:23,329
all right uh so let's see here so that's

1314
01:13:18,470 --> 01:13:29,510
all good and now occupying me let me get

1315
01:13:23,329 --> 01:13:31,850
closest reversible so that's all correct

1316
01:13:29,510 --> 01:13:38,380
now and so let's just finish this off

1317
01:13:31,850 --> 01:13:41,720
and say all right in handmade world mode

1318
01:13:38,380 --> 01:13:43,850
when we do debug spawn you know what I

1319
01:13:41,720 --> 01:13:46,789
might say is let's actually make it so

1320
01:13:43,850 --> 01:13:48,590
that we don't override the one that we

1321
01:13:46,789 --> 01:13:50,989
are so now we're basically just spawn

1322
01:13:48,590 --> 01:13:56,750
people from our location rather than

1323
01:13:50,989 --> 01:13:58,659
actually have them take over right so

1324
01:13:56,750 --> 01:14:04,699
now we can kind of just go along and

1325
01:13:58,659 --> 01:14:07,359
just add new people right seems like a

1326
01:14:04,699 --> 01:14:07,359
good thing to do

1327
01:14:22,000 --> 01:14:29,199
this is kind of ridiculous

1328
01:14:24,079 --> 01:14:33,850
and I admit that but what can you do

1329
01:14:29,199 --> 01:14:37,489
I'm also sort of interested to know

1330
01:14:33,850 --> 01:14:39,530
profile lies where what happens here so

1331
01:14:37,489 --> 01:14:42,679
yeah you know you can see our crappy

1332
01:14:39,529 --> 01:14:45,710
physics stuff is definitely not up to

1333
01:14:42,680 --> 01:14:48,079
this task either right which is fine

1334
01:14:45,710 --> 01:14:51,109
right we know we have to it's it's not a

1335
01:14:48,079 --> 01:14:52,069
that's routine is complete garbage but

1336
01:14:51,109 --> 01:14:54,019
it's just kind of interesting to know

1337
01:14:52,069 --> 01:14:57,889
when you start putting some actual

1338
01:14:54,020 --> 01:14:59,840
entities in here who gets upset and you

1339
01:14:57,890 --> 01:15:03,740
know a lot of it's there because there's

1340
01:14:59,840 --> 01:15:06,380
a lot of calls to it it looks like how

1341
01:15:03,739 --> 01:15:09,469
do you pause that there we go it looks

1342
01:15:06,380 --> 01:15:11,510
like also we've got just the unpack and

1343
01:15:09,470 --> 01:15:13,100
so on now this is not a debug time this

1344
01:15:11,510 --> 01:15:14,570
is a debug build so everything takes a

1345
01:15:13,100 --> 01:15:18,020
lot longer so that's not really that

1346
01:15:14,569 --> 01:15:21,229
foot anyway all right now I think we're

1347
01:15:18,020 --> 01:15:25,070
good we've we've settled that issue of

1348
01:15:21,229 --> 01:15:27,519
having lots of creepy dudes which is

1349
01:15:25,069 --> 01:15:27,519
important

1350
01:16:04,760 --> 01:16:13,050
alright I'm gonna wind up let's take a

1351
01:16:10,079 --> 01:16:14,488
look so I think we only had one 4 code

1352
01:16:13,050 --> 01:16:18,390
or weirdness today which is that the if

1353
01:16:14,488 --> 01:16:21,149
aligned itself with a with a drop indent

1354
01:16:18,390 --> 01:16:26,400
of a line so it was like let's see if

1355
01:16:21,149 --> 01:16:28,319
that's reproducible not not so much so

1356
01:16:26,399 --> 01:16:32,819
it looks like it may be specific to that

1357
01:16:28,319 --> 01:16:34,738
or some of the surrounding things were

1358
01:16:32,819 --> 01:16:40,829
important there so hopefully we caught

1359
01:16:34,738 --> 01:16:41,939
that on the stream anyway otherwise we

1360
01:16:40,829 --> 01:16:45,659
didn't have any other indentation

1361
01:16:41,939 --> 01:16:47,399
problems thank you everyone for joining

1362
01:16:45,659 --> 01:16:48,569
me for another episode of hand made here

1363
01:16:47,399 --> 01:16:51,238
oh it's been a pleasure coding with you

1364
01:16:48,569 --> 01:16:53,549
as always if you would like to follow

1365
01:16:51,238 --> 01:16:56,939
along with the series at home you can

1366
01:16:53,550 --> 01:16:58,140
always pre-order the game on hand made

1367
01:16:56,939 --> 01:16:59,250
here at org and it comes with a source

1368
01:16:58,140 --> 01:17:01,530
code so you can follow along with the

1369
01:16:59,250 --> 01:17:03,000
development we also have a forum site

1370
01:17:01,529 --> 01:17:04,380
you can go to if you wanna ask questions

1371
01:17:03,000 --> 01:17:06,810
a patreon page you wanna support the

1372
01:17:04,380 --> 01:17:09,690
video series it's a schedule bot where

1373
01:17:06,810 --> 01:17:11,580
you can follow the book well you can see

1374
01:17:09,689 --> 01:17:13,289
what the schedule for the week is and an

1375
01:17:11,579 --> 01:17:18,269
episode guide you can use to catch up on

1376
01:17:13,289 --> 01:17:19,738
past episodes as always the editor we

1377
01:17:18,270 --> 01:17:22,170
used on the stream is for coder which

1378
01:17:19,738 --> 01:17:24,448
just shipped a new version recently and

1379
01:17:22,170 --> 01:17:26,880
it's getting pretty formidable you can

1380
01:17:24,448 --> 01:17:29,219
support that project on patreon I don't

1381
01:17:26,880 --> 01:17:31,440
know how to get there there it is

1382
01:17:29,219 --> 01:17:34,079
you can support that project on patreon

1383
01:17:31,439 --> 01:17:37,829
by pledging on here and you can get a

1384
01:17:34,079 --> 01:17:42,090
copy of the editor early and also our

1385
01:17:37,829 --> 01:17:44,130
episode guide of course is is done by

1386
01:17:42,090 --> 01:17:47,610
our very own mid blow from the chat and

1387
01:17:44,130 --> 01:17:48,779
you can actually support him well you

1388
01:17:47,609 --> 01:17:50,729
know what the easiest way to do it is

1389
01:17:48,779 --> 01:17:53,250
actually is if you go to the episode

1390
01:17:50,729 --> 01:17:55,919
guide itself you can see his patreon

1391
01:17:53,250 --> 01:17:57,779
link right here tell them you got to

1392
01:17:55,920 --> 01:18:00,149
make it bigger but no one's made it

1393
01:17:57,779 --> 01:18:01,920
bigger yet so those are some people you

1394
01:18:00,149 --> 01:18:04,049
get support as well if you like the

1395
01:18:01,920 --> 01:18:07,289
series and are looking for ways for

1396
01:18:04,050 --> 01:18:09,690
people who I guess make it possible now

1397
01:18:07,289 --> 01:18:11,340
we also have yeah really have to kind of

1398
01:18:09,689 --> 01:18:14,250
put a little thing in here that lists

1399
01:18:11,340 --> 01:18:16,289
who the other people are our editor for

1400
01:18:14,250 --> 01:18:17,729
we actually also recently switched to a

1401
01:18:16,289 --> 01:18:20,670
new graphic editor also

1402
01:18:17,729 --> 01:18:22,259
being done by someone on the stream so

1403
01:18:20,670 --> 01:18:24,060
we got a lot of them now and that one I

1404
01:18:22,260 --> 01:18:29,210
don't have a convenient link to yet it's

1405
01:18:24,060 --> 01:18:32,130
called Milton and so you can go and find

1406
01:18:29,210 --> 01:18:34,920
it on here but I need to get a better

1407
01:18:32,130 --> 01:18:37,890
link to it because it's hard to find but

1408
01:18:34,920 --> 01:18:39,720
yeah slowly but surely and through a lot

1409
01:18:37,890 --> 01:18:41,340
of generous support from people we're

1410
01:18:39,720 --> 01:18:44,360
slowly getting to the point where we

1411
01:18:41,340 --> 01:18:46,260
have like really good workable

1412
01:18:44,359 --> 01:18:49,109
replacements for all the stuff we were

1413
01:18:46,260 --> 01:18:51,300
using which is kind of cool anyway

1414
01:18:49,109 --> 01:18:54,149
that's it for today I will catch you

1415
01:18:51,300 --> 01:18:56,430
guys I'm tomorrow's day off I will catch

1416
01:18:54,149 --> 01:18:57,719
you guys Wednesday until then have fun

1417
01:18:56,430 --> 01:19:00,980
programming and I will see you guys on

1418
01:18:57,720 --> 01:19:00,980
the Internet take it easy everyone

