1
00:00:01,970 --> 00:00:06,719
hello everyone and welcome to handmade

2
00:00:04,740 --> 00:00:11,820
Hero the show where we code a complete

3
00:00:06,719 --> 00:00:15,079
game live on stream and I don't I'll be

4
00:00:11,820 --> 00:00:18,539
completely honest I don't super remember

5
00:00:15,080 --> 00:00:21,570
what I wanted to do but I feel like I

6
00:00:18,539 --> 00:00:24,990
feel like I had wanted to implement a

7
00:00:21,570 --> 00:00:28,320
little snake creature and we never

8
00:00:24,989 --> 00:00:30,178
really got around to that so and I think

9
00:00:28,320 --> 00:00:32,939
we also were gonna make the familiar

10
00:00:30,178 --> 00:00:34,469
float around too so I feel like we're

11
00:00:32,939 --> 00:00:38,039
still gonna do some more brain

12
00:00:34,469 --> 00:00:40,140
programming just to make sure that that

13
00:00:38,039 --> 00:00:41,670
API or I shouldn't say PR but

14
00:00:40,140 --> 00:00:43,049
architectural decision pans out

15
00:00:41,670 --> 00:00:46,859
reasonably well and that there's no

16
00:00:43,049 --> 00:00:49,378
hidden surprises there and I know we did

17
00:00:46,859 --> 00:00:51,509
the monster and we've done the hero but

18
00:00:49,378 --> 00:00:52,890
doing the familiar and a little snake

19
00:00:51,509 --> 00:00:56,009
creature I think would just be a good

20
00:00:52,890 --> 00:00:59,280
idea to make sure that that's all it's

21
00:00:56,009 --> 00:01:01,108
all kosher anyway

22
00:00:59,280 --> 00:01:04,019
if you were following along at home

23
00:01:01,109 --> 00:01:06,150
today is day 292 so you can go ahead and

24
00:01:04,019 --> 00:01:07,320
unpack day 291 source code intro

25
00:01:06,150 --> 00:01:12,180
directory if you want to follow along

26
00:01:07,319 --> 00:01:15,389
with today's programming and you know I

27
00:01:12,180 --> 00:01:19,680
highly recommend that you do so here

28
00:01:15,390 --> 00:01:27,210
comes our project we will build and we

29
00:01:19,680 --> 00:01:29,250
will load here we go and run so I think

30
00:01:27,209 --> 00:01:30,419
we just have a monster hopping around

31
00:01:29,250 --> 00:01:34,049
yeah

32
00:01:30,420 --> 00:01:36,780
and then we've got my my hero here and

33
00:01:34,049 --> 00:01:39,000
he's kind of moving around too so we've

34
00:01:36,780 --> 00:01:41,009
got all those guys working but if I

35
00:01:39,000 --> 00:01:44,280
remember correctly we had not yet had we

36
00:01:41,009 --> 00:01:46,649
don't have a currently a floating method

37
00:01:44,280 --> 00:01:48,780
of movement and we do want a floating

38
00:01:46,649 --> 00:01:50,399
method of movement for this little this

39
00:01:48,780 --> 00:01:53,340
little fellow right here meaning me I

40
00:01:50,399 --> 00:01:54,960
guess might be a good name for him so we

41
00:01:53,340 --> 00:01:59,700
want mini-me to be able to kind of float

42
00:01:54,959 --> 00:02:02,959
around and yeah I feel like that's that

43
00:01:59,700 --> 00:02:02,960
shouldn't be too hard

44
00:02:04,609 --> 00:02:11,030
to add in there and then the other thing

45
00:02:08,508 --> 00:02:13,459
that we're gonna have to do as well is I

46
00:02:11,030 --> 00:02:14,840
would like to make that snake creature

47
00:02:13,460 --> 00:02:16,310
and so I don't know what will make the

48
00:02:14,840 --> 00:02:17,840
snake creature out if maybe we'll make

49
00:02:16,310 --> 00:02:22,099
the snake creature out of these little

50
00:02:17,840 --> 00:02:24,920
heads as well I'm not sure anyway so

51
00:02:22,099 --> 00:02:27,289
let's go ahead and and see what's going

52
00:02:24,919 --> 00:02:29,899
on there and figure out if we can get

53
00:02:27,289 --> 00:02:33,709
our familiar familiar ring itself around

54
00:02:29,900 --> 00:02:35,980
in a nice Pleasant fashion so here is

55
00:02:33,709 --> 00:02:38,810
the code for all the brains right now

56
00:02:35,979 --> 00:02:40,579
and here's the code for the familiar and

57
00:02:38,810 --> 00:02:42,680
you can kind of see it doing its thing

58
00:02:40,580 --> 00:02:46,190
here you can see that it figures out

59
00:02:42,680 --> 00:02:51,969
roughly where it thinks the closest hero

60
00:02:46,189 --> 00:02:56,239
type thing is and then it it does like a

61
00:02:51,969 --> 00:02:58,310
it does a little sort of what direction

62
00:02:56,239 --> 00:03:00,980
would I go to get there sort of a thing

63
00:02:58,310 --> 00:03:03,979
and tries to make that happen now I

64
00:03:00,979 --> 00:03:05,299
don't actually know we have not stepped

65
00:03:03,979 --> 00:03:07,189
through any of this code so we don't

66
00:03:05,300 --> 00:03:10,459
know what any of this stuff is doing and

67
00:03:07,189 --> 00:03:13,549
furthermore we don't set a movement mode

68
00:03:10,459 --> 00:03:15,830
on this character so really the movement

69
00:03:13,549 --> 00:03:21,590
of it I think would immediately get

70
00:03:15,830 --> 00:03:23,660
negated anyway because if yeah if if

71
00:03:21,590 --> 00:03:27,379
it's set I don't actually remember let's

72
00:03:23,659 --> 00:03:29,539
take a look because we've got these

73
00:03:27,379 --> 00:03:32,840
movement modes in here right

74
00:03:29,539 --> 00:03:35,150
there's planted and hopping and I seem

75
00:03:32,840 --> 00:03:37,340
to recall that planted things will snap

76
00:03:35,150 --> 00:03:42,049
themselves to they're occupying location

77
00:03:37,340 --> 00:03:44,479
I feel like if they have one and so we

78
00:03:42,049 --> 00:03:46,909
probably need like a movement mode you

79
00:03:44,479 --> 00:03:50,179
know floating kind of a thing

80
00:03:46,909 --> 00:03:51,620
to make that be okay and now I'm gonna

81
00:03:50,180 --> 00:03:53,629
it's gonna go through because I think

82
00:03:51,620 --> 00:03:58,700
again oops it's not in there I want

83
00:03:53,629 --> 00:04:00,469
world mode we haven't really sort of

84
00:03:58,699 --> 00:04:03,259
nailed down the movement mode stuff

85
00:04:00,469 --> 00:04:06,439
anyway and I think that maybe needs a

86
00:04:03,259 --> 00:04:08,090
little bit more attention to detail so

87
00:04:06,439 --> 00:04:11,000
okay so you can see there it's it's not

88
00:04:08,090 --> 00:04:13,189
even doing that operation that I said

89
00:04:11,000 --> 00:04:14,449
that it should do it's not doing that at

90
00:04:13,189 --> 00:04:16,608
all so that's something that probably

91
00:04:14,449 --> 00:04:18,680
should have been fixed anyway you can

92
00:04:16,608 --> 00:04:20,899
see the move entity called here and

93
00:04:18,680 --> 00:04:22,160
that's using the entity DDP so I would

94
00:04:20,899 --> 00:04:24,079
have thought and I guess I don't have to

95
00:04:22,160 --> 00:04:26,600
add this yet to because this I should be

96
00:04:24,079 --> 00:04:29,359
able to debug this should actually be

97
00:04:26,600 --> 00:04:31,460
working as it is so this guy here we

98
00:04:29,360 --> 00:04:33,350
just need to figure out what is wrong

99
00:04:31,459 --> 00:04:34,909
with setting his DDP so that he can move

100
00:04:33,350 --> 00:04:36,800
towards the hero because he should be

101
00:04:34,910 --> 00:04:39,650
getting some sort of acceleration there

102
00:04:36,800 --> 00:04:41,840
or something and we're not seeing that

103
00:04:39,649 --> 00:04:49,819
so the question is you know what do we

104
00:04:41,839 --> 00:04:51,829
do to make that happen all right so

105
00:04:49,819 --> 00:04:55,430
first things first we've got this

106
00:04:51,829 --> 00:04:57,109
acceleration over square root thing here

107
00:04:55,430 --> 00:04:59,478
and that term is designed to make it so

108
00:04:57,110 --> 00:05:02,210
that our accelerations got a point in

109
00:04:59,478 --> 00:05:03,529
the direction of the closest hero and be

110
00:05:02,209 --> 00:05:05,120
the length that we specify in

111
00:05:03,529 --> 00:05:06,138
acceleration now the first thing that I

112
00:05:05,120 --> 00:05:08,240
noticed there is I wonder if that

113
00:05:06,139 --> 00:05:10,220
acceleration is too low so before we

114
00:05:08,240 --> 00:05:12,590
start debugging anything too fancy I'm

115
00:05:10,220 --> 00:05:15,050
just gonna crank it up to huge and see

116
00:05:12,589 --> 00:05:17,029
what happens you know just to make sure

117
00:05:15,050 --> 00:05:19,250
that it's not just a low value problem

118
00:05:17,029 --> 00:05:21,619
right so you can see that the heads not

119
00:05:19,250 --> 00:05:23,870
moving so with that kind of a push on it

120
00:05:21,620 --> 00:05:25,430
we can be fairly sure certain that it's

121
00:05:23,870 --> 00:05:30,110
not that it you know that it's basically

122
00:05:25,430 --> 00:05:30,978
it's being ineffectual right and I

123
00:05:30,110 --> 00:05:32,389
suppose the other thing I should

124
00:05:30,978 --> 00:05:34,430
double-check first and then I'm gonna go

125
00:05:32,389 --> 00:05:36,110
ahead and step in because I don't want

126
00:05:34,430 --> 00:05:37,519
to guess for too long I can just when I

127
00:05:36,110 --> 00:05:40,460
can just step in and see what's going on

128
00:05:37,519 --> 00:05:42,168
I also want to see what happens in add

129
00:05:40,459 --> 00:05:43,609
familiar want to make sure that we're

130
00:05:42,168 --> 00:05:45,589
actually adding the brain and it's

131
00:05:43,610 --> 00:05:47,389
correct and all that it does look like

132
00:05:45,589 --> 00:05:49,489
it so I'm going to take a look at that

133
00:05:47,389 --> 00:05:54,400
code and see what's happening inside

134
00:05:49,490 --> 00:05:57,340
that that code for the for the familiar

135
00:05:54,399 --> 00:05:59,359
for the familiars brain I should say and

136
00:05:57,339 --> 00:06:02,029
just want to make sure that it's setting

137
00:05:59,360 --> 00:06:04,550
it to something that makes sense so you

138
00:06:02,029 --> 00:06:06,168
know here's the game running there's the

139
00:06:04,550 --> 00:06:07,970
familiar we should see it creating a

140
00:06:06,168 --> 00:06:09,228
vector that points off towards the hero

141
00:06:07,970 --> 00:06:12,139
and let's just make sure that that's

142
00:06:09,228 --> 00:06:14,889
actually happening and that is not in

143
00:06:12,139 --> 00:06:19,069
any way even remotely happening in fact

144
00:06:14,889 --> 00:06:21,340
so why not because we did set this to

145
00:06:19,069 --> 00:06:23,990
true remember right we turn that on so

146
00:06:21,339 --> 00:06:27,739
we go through our entities here and

147
00:06:23,990 --> 00:06:30,230
we're looking to see if they have these

148
00:06:27,740 --> 00:06:34,879
slots

149
00:06:30,230 --> 00:06:37,240
in fact that's getting set is oh is it

150
00:06:34,879 --> 00:06:43,689
just that it's the closeness it's too

151
00:06:37,240 --> 00:06:47,829
far away I guess is that the problem I

152
00:06:43,689 --> 00:06:47,829
guess that must be the problem

153
00:06:49,540 --> 00:06:52,960
let's find out

154
00:06:54,769 --> 00:07:01,370
closest hero d-squared

155
00:06:57,060 --> 00:07:01,370
is now set to 0

156
00:07:06,019 --> 00:07:23,120
how is that possible so the test entity

157
00:07:18,009 --> 00:07:26,439
- our head is somehow evaluating to zero

158
00:07:23,120 --> 00:07:32,329
for something with a brain slot type of

159
00:07:26,439 --> 00:07:37,490
hero I am very interested to know more

160
00:07:32,329 --> 00:07:39,199
about this so here's I'm going to do

161
00:07:37,490 --> 00:07:40,879
step out to there and now I'm gonna step

162
00:07:39,199 --> 00:07:42,800
through all of these and I'm gonna see

163
00:07:40,879 --> 00:07:47,480
what's going on here here's my watch

164
00:07:42,800 --> 00:07:49,340
window and here's my test dsquared so

165
00:07:47,480 --> 00:07:52,700
there it is at 48 there it is a thirty

166
00:07:49,339 --> 00:07:58,099
five twenty five thirty nine twenty five

167
00:07:52,699 --> 00:08:04,849
fifteen thirty three nineteen and you

168
00:07:58,100 --> 00:08:06,980
know I'd also point out oh you yeah so

169
00:08:04,850 --> 00:08:08,030
the fact that I just had that bug and

170
00:08:06,980 --> 00:08:09,920
I'll tell you what it is you didn't

171
00:08:08,029 --> 00:08:11,929
already notice tight brain hero is just

172
00:08:09,920 --> 00:08:13,400
the default value remember I said we

173
00:08:11,930 --> 00:08:15,139
don't need a default value there well

174
00:08:13,399 --> 00:08:17,870
that pretty much tells me the fact that

175
00:08:15,139 --> 00:08:19,839
I can have that bug right which is just

176
00:08:17,870 --> 00:08:22,639
a stupid bug that we don't want to have

177
00:08:19,839 --> 00:08:24,619
tells me that brain type if in case I'm

178
00:08:22,639 --> 00:08:27,620
ever looking at brain type what I

179
00:08:24,620 --> 00:08:29,600
probably should do is either make it so

180
00:08:27,620 --> 00:08:31,340
that there actually is a null brain type

181
00:08:29,600 --> 00:08:33,110
or so that when you get the brain type

182
00:08:31,339 --> 00:08:36,589
it hacks that has to actually have a

183
00:08:33,110 --> 00:08:38,570
brain ID and I think I do want that to

184
00:08:36,590 --> 00:08:40,399
be the case meaning I think I want you

185
00:08:38,570 --> 00:08:42,500
to have a brain of sign because if this

186
00:08:40,399 --> 00:08:43,909
if you happen to still have a brain type

187
00:08:42,500 --> 00:08:45,889
but you haven't had you don't actually

188
00:08:43,909 --> 00:08:49,639
have a brain ID that doesn't really

189
00:08:45,889 --> 00:08:51,889
exist per se at that point so I got to

190
00:08:49,639 --> 00:08:55,939
think about how I want to do that so

191
00:08:51,889 --> 00:08:59,120
instead of brain slot type I want to do

192
00:08:55,940 --> 00:09:02,000
something like an is type here where I

193
00:08:59,120 --> 00:09:05,149
say brain slot and I say that right

194
00:09:02,000 --> 00:09:08,299
something like this and that way when we

195
00:09:05,149 --> 00:09:12,100
have these brain slaps here I can just

196
00:09:08,299 --> 00:09:14,629
make it so that if the if if the type it

197
00:09:12,100 --> 00:09:17,029
matches the index still has to be

198
00:09:14,629 --> 00:09:19,759
nonzero does that make sense

199
00:09:17,029 --> 00:09:23,659
so basically there'd be like a B 32 here

200
00:09:19,759 --> 00:09:26,688
that's like is type and I say here is

201
00:09:23,659 --> 00:09:33,278
the slot and then what the type is that

202
00:09:26,688 --> 00:09:40,009
I want and then the result of that is

203
00:09:33,278 --> 00:09:51,970
just that it has an index and the type

204
00:09:40,009 --> 00:09:54,829
is the same right so that that is better

205
00:09:51,970 --> 00:09:57,439
because now we're not gonna it was going

206
00:09:54,828 --> 00:10:00,769
to return all kinds of false positives

207
00:09:57,438 --> 00:10:02,238
before so there we go and of course

208
00:10:00,769 --> 00:10:03,918
we're gonna get a max entity velocity

209
00:10:02,239 --> 00:10:04,939
violation there were you know our

210
00:10:03,918 --> 00:10:06,980
assertion that things shouldn't be

211
00:10:04,938 --> 00:10:08,988
moving too quickly because we're gonna

212
00:10:06,980 --> 00:10:11,329
have to go return the ridiculous

213
00:10:08,989 --> 00:10:16,569
acceleration on this guy down to

214
00:10:11,328 --> 00:10:21,078
something not so ridiculous as it were

215
00:10:16,568 --> 00:10:24,349
okay so yeah we're gonna have to tune

216
00:10:21,078 --> 00:10:26,088
this guy's motion and the other thing

217
00:10:24,350 --> 00:10:28,459
too is we probably want him to slow to a

218
00:10:26,089 --> 00:10:30,619
stop like right now what he's doing is

219
00:10:28,458 --> 00:10:32,568
he's kind of doing some weird stuff

220
00:10:30,619 --> 00:10:34,399
he'll be doing some very strange things

221
00:10:32,568 --> 00:10:36,618
we're like he'll just stop moving

222
00:10:34,399 --> 00:10:37,879
entirely if we're out of range and other

223
00:10:36,619 --> 00:10:41,209
stuff like that so we probably want to

224
00:10:37,879 --> 00:10:45,678
clean up this code to a certain extent

225
00:10:41,208 --> 00:10:47,899
right so yeah and in fact I should also

226
00:10:45,678 --> 00:10:49,608
say that in in the entity code that

227
00:10:47,899 --> 00:10:51,350
actually brings up a good point which is

228
00:10:49,609 --> 00:10:53,959
that in the enemy code we don't call

229
00:10:51,350 --> 00:10:56,899
move entity if you're if your

230
00:10:53,958 --> 00:10:59,088
acceleration is not greater than zero

231
00:10:56,899 --> 00:11:04,058
but we also probably want to check to

232
00:10:59,089 --> 00:11:06,259
make sure that your your velocity isn't

233
00:11:04,058 --> 00:11:09,438
greater than zero because otherwise you

234
00:11:06,259 --> 00:11:12,278
should keep moving right and so that

235
00:11:09,438 --> 00:11:18,230
that should be more like this certainly

236
00:11:12,278 --> 00:11:19,609
okay so yeah if if we take a look at

237
00:11:18,230 --> 00:11:22,249
what's happening here this this dude

238
00:11:19,609 --> 00:11:24,470
doesn't have any drag on him right now

239
00:11:22,249 --> 00:11:28,999
so he kind of this is just going to

240
00:11:24,470 --> 00:11:30,678
accelerate to random places he'll he'll

241
00:11:28,999 --> 00:11:33,190
orbit us basically is what he'll do

242
00:11:30,678 --> 00:11:34,959
right because he has no dragon

243
00:11:33,190 --> 00:11:38,100
has no he's not attempting to stop

244
00:11:34,960 --> 00:11:41,680
anywhere so he'll just keep orbiting us

245
00:11:38,100 --> 00:11:43,570
indefinitely I guess pretty much always

246
00:11:41,679 --> 00:11:45,339
and the eccentricity of the orbit I

247
00:11:43,570 --> 00:11:50,100
guess would be something related to the

248
00:11:45,340 --> 00:11:52,269
entry velocity that he had uh I think

249
00:11:50,100 --> 00:11:54,399
you can kind of see now he's sort of

250
00:11:52,269 --> 00:11:56,379
doing a very like triangular weird thing

251
00:11:54,399 --> 00:11:57,939
and that's because when he's close to us

252
00:11:56,379 --> 00:11:59,799
he's not accelerating at all

253
00:11:57,940 --> 00:12:01,330
but when he gets far away from us he

254
00:11:59,799 --> 00:12:04,449
accelerates back toward us and again

255
00:12:01,330 --> 00:12:07,990
produces that sort of orbital like

256
00:12:04,450 --> 00:12:10,900
mechanic there right all right so that's

257
00:12:07,990 --> 00:12:13,210
that dude and we've got a little bit

258
00:12:10,899 --> 00:12:16,209
more to do with this dude right because

259
00:12:13,210 --> 00:12:18,600
again we want to introduce movement

260
00:12:16,210 --> 00:12:21,129
modes for all the guys that do that

261
00:12:18,600 --> 00:12:23,470
transactional move stuff properly

262
00:12:21,129 --> 00:12:26,379
because what you can see is we're not

263
00:12:23,470 --> 00:12:28,450
updating his occupying square and so we

264
00:12:26,379 --> 00:12:31,330
don't want to just shove the velocities

265
00:12:28,450 --> 00:12:34,990
into things willy-nilly we want those

266
00:12:31,330 --> 00:12:37,900
velocities to you know as the the head

267
00:12:34,990 --> 00:12:40,600
moves we want those to be things that

268
00:12:37,899 --> 00:12:42,519
sort of properly track which square the

269
00:12:40,600 --> 00:12:45,940
guys on and don't let the familiar go

270
00:12:42,519 --> 00:12:48,490
into squares where there isn't room for

271
00:12:45,940 --> 00:12:49,930
him right so for example you shouldn't

272
00:12:48,490 --> 00:12:51,879
be able to go into that square right

273
00:12:49,929 --> 00:12:53,649
that I'm on but right now we can do

274
00:12:51,879 --> 00:12:54,460
anything that he wants in that respect

275
00:12:53,649 --> 00:12:56,679
and that's no good

276
00:12:54,460 --> 00:12:58,720
furthermore of course I can't go into I

277
00:12:56,679 --> 00:13:01,449
can't enter this square right you can

278
00:12:58,720 --> 00:13:04,000
see I always hop over it which is also

279
00:13:01,450 --> 00:13:08,580
not right so so we need that space to

280
00:13:04,000 --> 00:13:08,580
update always all right

281
00:13:12,350 --> 00:13:21,810
so we've got a bunch of work to do here

282
00:13:17,909 --> 00:13:24,299
and I think I want to work on these

283
00:13:21,809 --> 00:13:27,149
movement modes but first I'm going to

284
00:13:24,299 --> 00:13:29,909
finish off my brain stuff here and I'm

285
00:13:27,149 --> 00:13:32,970
gonna create this snake dude right

286
00:13:29,909 --> 00:13:36,419
because I want a snake dude so I'm gonna

287
00:13:32,970 --> 00:13:39,029
do like an ADD snake thing I'm you know

288
00:13:36,419 --> 00:13:39,449
we got like add monster and junk like

289
00:13:39,029 --> 00:13:46,879
that

290
00:13:39,450 --> 00:13:46,879
I'm gonna do an ADD snake and let's see

291
00:13:46,970 --> 00:13:50,610
what I want to do with that snake is I

292
00:13:49,259 --> 00:13:52,409
want to be able to drop like snake

293
00:13:50,610 --> 00:13:53,340
pieces so you know I mean technically I

294
00:13:52,409 --> 00:13:57,299
should probably call this add snake

295
00:13:53,340 --> 00:13:58,860
piece right and what I want to do is is

296
00:13:57,299 --> 00:14:00,539
take exactly the stuff that was

297
00:13:58,860 --> 00:14:02,550
happening before where we're placing

298
00:14:00,539 --> 00:14:04,049
pieces we're getting exactly the same

299
00:14:02,549 --> 00:14:06,240
thing and essentially we're just going

300
00:14:04,049 --> 00:14:08,069
to add a Monstar

301
00:14:06,240 --> 00:14:10,889
in fact we could even keep hip points on

302
00:14:08,070 --> 00:14:14,940
there right and I'm gonna use the

303
00:14:10,889 --> 00:14:15,960
instead of a torso manie's ahead and but

304
00:14:14,940 --> 00:14:18,540
otherwise students are going to be the

305
00:14:15,960 --> 00:14:21,600
same and it's gonna do exactly the same

306
00:14:18,539 --> 00:14:24,209
stuff that that it was doing before only

307
00:14:21,600 --> 00:14:26,850
it's gonna cause a brain snake to be

308
00:14:24,210 --> 00:14:28,620
created for this guy and instead of

309
00:14:26,850 --> 00:14:31,889
adding the brain I'm gonna have the

310
00:14:28,620 --> 00:14:34,320
brain ID be passed in and the reason for

311
00:14:31,889 --> 00:14:36,179
that is I want all the snakes to I want

312
00:14:34,320 --> 00:14:37,860
all the pieces of one snake to have the

313
00:14:36,179 --> 00:14:41,279
same brain ID so they'll get aggregated

314
00:14:37,860 --> 00:14:46,379
up and can be used you know all be

315
00:14:41,279 --> 00:14:50,519
attached to the same brain all right uh

316
00:14:46,379 --> 00:14:52,620
so let's see here I don't remember what

317
00:14:50,519 --> 00:14:54,389
I call this or even if I had one of

318
00:14:52,620 --> 00:14:57,870
these yet I thought I did but it might

319
00:14:54,389 --> 00:14:59,399
not so let's see you can see I've got

320
00:14:57,870 --> 00:15:01,350
type brain snake here but of course my

321
00:14:59,399 --> 00:15:04,799
macro is gonna require that I have an

322
00:15:01,350 --> 00:15:08,129
actual thing here as well and so I'm

323
00:15:04,799 --> 00:15:11,620
gonna say alright snake segment and

324
00:15:08,129 --> 00:15:14,320
we've got a bunch of segments

325
00:15:11,620 --> 00:15:18,100
and I don't know how many there should

326
00:15:14,320 --> 00:15:20,980
be exactly but I guess there will just

327
00:15:18,100 --> 00:15:26,200
be you know you know I'm wondering too

328
00:15:20,980 --> 00:15:31,860
do we use this really anymore the array

329
00:15:26,200 --> 00:15:34,360
16 thing I don't know if we do anyway

330
00:15:31,860 --> 00:15:35,710
because week well it doesn't matter we I

331
00:15:34,360 --> 00:15:38,379
guess we yeah we kind of do because we

332
00:15:35,710 --> 00:15:40,570
need to pack them so it's fine

333
00:15:38,379 --> 00:15:47,110
oh wait no we don't we don't even pack

334
00:15:40,570 --> 00:15:49,000
we don't even pack them yeah we might be

335
00:15:47,110 --> 00:15:51,550
able to just get rid of that I'm

336
00:15:49,000 --> 00:15:52,600
wondering okay so so bear with me here

337
00:15:51,549 --> 00:15:54,129
for a second but let's say that the

338
00:15:52,600 --> 00:15:56,259
maximum number of snakes segments is 8

339
00:15:54,129 --> 00:15:57,490
I'll just bear with me for one sec

340
00:15:56,259 --> 00:16:04,710
because I want to know the answer to

341
00:15:57,490 --> 00:16:11,350
this question rain slop for a segment

342
00:16:04,710 --> 00:16:16,810
and I guess in here we'll have segment

343
00:16:11,350 --> 00:16:20,350
index and so this brain slot for thing

344
00:16:16,809 --> 00:16:22,750
is also going to be a little dicey right

345
00:16:20,350 --> 00:16:26,680
we're probably going to need a brain

346
00:16:22,750 --> 00:16:29,049
slot or like an indexed brain slot for

347
00:16:26,679 --> 00:16:30,250
where we can say like it's the segment's

348
00:16:29,049 --> 00:16:34,569
thing but it's actually an array so

349
00:16:30,250 --> 00:16:39,970
we've got an index right something like

350
00:16:34,570 --> 00:16:41,350
that right but ok so I got a couple

351
00:16:39,970 --> 00:16:44,709
things I want to do now that sort of

352
00:16:41,350 --> 00:16:48,339
came up as a result of this so let's go

353
00:16:44,708 --> 00:16:50,559
into the brain and you can see the brain

354
00:16:48,339 --> 00:16:53,020
slot for stuff the problem here that we

355
00:16:50,559 --> 00:16:55,208
would have is we need that to be a

356
00:16:53,019 --> 00:16:56,919
constant and if we're passing it to a

357
00:16:55,208 --> 00:16:59,229
function it's not going to be constant

358
00:16:56,919 --> 00:17:00,969
now we it's pretty easy for us to have

359
00:16:59,230 --> 00:17:03,789
the indexed version of this it's really

360
00:17:00,970 --> 00:17:06,429
trivial so if we have the you know

361
00:17:03,789 --> 00:17:08,049
indexed brain slot for all we need is

362
00:17:06,429 --> 00:17:11,860
the index on here we could just say like

363
00:17:08,049 --> 00:17:15,338
well whenever you get this

364
00:17:11,859 --> 00:17:18,568
this member whatever it is right just go

365
00:17:15,338 --> 00:17:18,568
ahead and add

366
00:17:19,028 --> 00:17:24,619
however many work forward you were

367
00:17:22,130 --> 00:17:26,870
wanted to go right whatever the index

368
00:17:24,619 --> 00:17:28,729
was just go ahead and add that in and

369
00:17:26,869 --> 00:17:30,759
that should be sufficient if that makes

370
00:17:28,730 --> 00:17:30,759
sense

371
00:17:31,250 --> 00:17:38,960
all right so let's compile that whereas

372
00:17:36,140 --> 00:17:40,640
an l-value does it where am I that's

373
00:17:38,960 --> 00:17:45,079
gonna be in here

374
00:17:40,640 --> 00:17:54,259
see wait what

375
00:17:45,079 --> 00:17:56,829
oh sorry parenthesis it's like a lisp

376
00:17:54,259 --> 00:17:59,960
it's like programming lisp on son let's

377
00:17:56,829 --> 00:18:03,470
see entities star eight and entity star

378
00:17:59,960 --> 00:18:08,000
star so I guess I'd probably have to ask

379
00:18:03,470 --> 00:18:12,288
specifically for the I'd also have to

380
00:18:08,000 --> 00:18:14,898
ask specifically for the well or I can

381
00:18:12,288 --> 00:18:18,980
just get rid of the ampersand which

382
00:18:14,898 --> 00:18:21,648
actually seems smarter right so I can

383
00:18:18,980 --> 00:18:29,240
just make it a simpler expression so

384
00:18:21,648 --> 00:18:35,028
yeah got closed closed is that right

385
00:18:29,240 --> 00:18:42,278
and let's see here converting from n64

386
00:18:35,028 --> 00:18:42,278
to u16 okay

387
00:18:47,230 --> 00:18:57,259
so the pack value we would have to

388
00:18:54,440 --> 00:18:58,610
guarantee that it's a u16 but that seems

389
00:18:57,259 --> 00:19:01,879
pretty reasonable you can see what's

390
00:18:58,609 --> 00:19:04,009
happening here right this index value we

391
00:19:01,880 --> 00:19:05,660
now no longer before the compiler could

392
00:19:04,009 --> 00:19:09,650
tell what this offset was a compile time

393
00:19:05,660 --> 00:19:15,580
now it can't write because of the index

394
00:19:09,650 --> 00:19:18,500
and so well you know what I could do

395
00:19:15,579 --> 00:19:20,659
this is actually a lot simpler what I

396
00:19:18,500 --> 00:19:24,049
could do is just say o indexed brain

397
00:19:20,660 --> 00:19:26,630
slot for it just could call brain slot

398
00:19:24,049 --> 00:19:29,119
for write with exact it could be the

399
00:19:26,630 --> 00:19:32,750
exact same expression and when I pass

400
00:19:29,119 --> 00:19:37,299
that that second value I could just add

401
00:19:32,750 --> 00:19:39,679
the index as a u16 right here right

402
00:19:37,299 --> 00:19:41,480
because whatever that index value is

403
00:19:39,679 --> 00:19:42,800
we're just gonna increment it up from

404
00:19:41,480 --> 00:19:43,819
there so I don't really know why I

405
00:19:42,799 --> 00:19:46,899
didn't think of that originally that's

406
00:19:43,819 --> 00:19:46,899
way easier right

407
00:19:47,480 --> 00:19:50,660
so yeah that's that's the right way to

408
00:19:49,308 --> 00:19:52,579
do it and I just have to take care of

409
00:19:50,660 --> 00:19:55,160
the fact that you don't really need to

410
00:19:52,579 --> 00:19:59,659
take the address of this guy so it's not

411
00:19:55,160 --> 00:20:02,269
an address anymore all right so what's

412
00:19:59,660 --> 00:20:03,679
the problem here this is the u16 I guess

413
00:20:02,269 --> 00:20:05,980
I've got to tell if this is you sixteen

414
00:20:03,679 --> 00:20:05,980
as well

415
00:20:06,049 --> 00:20:13,730
brain slot for a function does not take

416
00:20:07,910 --> 00:20:17,300
one arguments oh okay but I'm not

417
00:20:13,730 --> 00:20:22,759
passing it one argument what is what is

418
00:20:17,299 --> 00:20:24,769
the problem here Porter can only be

419
00:20:22,759 --> 00:20:30,819
subtracted from another pointer

420
00:20:24,769 --> 00:20:35,869
oh I just love trying to program in C++

421
00:20:30,819 --> 00:20:38,289
all right so let's see this has to do

422
00:20:35,869 --> 00:20:46,549
the subtraction first before I can add

423
00:20:38,289 --> 00:20:48,308
there you go and this is a pointer so

424
00:20:46,549 --> 00:20:51,529
I'm not sure why that would be a problem

425
00:20:48,308 --> 00:20:53,000
right that is already a pointer so I

426
00:20:51,529 --> 00:20:54,558
guess that was just my cast with being

427
00:20:53,000 --> 00:20:58,089
in the wrong place there we go

428
00:20:54,558 --> 00:21:00,440
man that was our address all right so

429
00:20:58,089 --> 00:21:02,209
before we get to the snake part what I

430
00:21:00,440 --> 00:21:07,700
wanted to say was I don't know that we

431
00:21:02,210 --> 00:21:10,759
actually need the array thing anymore

432
00:21:07,700 --> 00:21:15,890
like do we need this does anyone use it

433
00:21:10,759 --> 00:21:16,970
I don't actually know if they do so I'm

434
00:21:15,890 --> 00:21:21,770
gonna find out if they actually do a

435
00:21:16,970 --> 00:21:24,350
foot down so here we go let's see brain

436
00:21:21,769 --> 00:21:26,720
index is less than array count so I

437
00:21:24,349 --> 00:21:28,490
guess having a size there is nice but I

438
00:21:26,720 --> 00:21:31,850
don't really know if that's the assert I

439
00:21:28,490 --> 00:21:36,289
want to use and so this this array right

440
00:21:31,849 --> 00:21:37,609
here I think I could just call I think

441
00:21:36,289 --> 00:21:39,529
what I you know like I guess what I'm

442
00:21:37,609 --> 00:21:41,178
saying is what I really want to do is I

443
00:21:39,529 --> 00:21:44,750
just want to say there's one entity star

444
00:21:41,179 --> 00:21:47,360
that's like the you know array pointer I

445
00:21:44,750 --> 00:21:50,150
should now just be able to specify that

446
00:21:47,359 --> 00:21:52,159
and this way I no longer have to guess

447
00:21:50,150 --> 00:21:54,530
what the maximum number is whatever the

448
00:21:52,160 --> 00:21:56,360
maximum number of things is in any of my

449
00:21:54,529 --> 00:21:58,399
brains will just be the size of the

450
00:21:56,359 --> 00:22:02,599
brain structure and then we'll still

451
00:21:58,400 --> 00:22:06,679
access off of array right that seems

452
00:22:02,599 --> 00:22:08,418
like a much better idea to me so let's

453
00:22:06,679 --> 00:22:11,059
go ahead and do that because I think

454
00:22:08,419 --> 00:22:14,210
that's better so in here what I want to

455
00:22:11,058 --> 00:22:16,579
do is is I want to just be able to map

456
00:22:14,210 --> 00:22:18,860
something into the brain this is the

457
00:22:16,579 --> 00:22:22,369
only place that I need that so what I

458
00:22:18,859 --> 00:22:26,299
can do is say like alright give me the

459
00:22:22,369 --> 00:22:30,199
address of that pointer and then I'm

460
00:22:26,299 --> 00:22:33,649
going to I'm going to address the enth

461
00:22:30,200 --> 00:22:36,169
version off of that right and that

462
00:22:33,650 --> 00:22:37,759
should place it basically in the right

463
00:22:36,169 --> 00:22:40,700
location right because I know this is

464
00:22:37,759 --> 00:22:42,319
this is the start of everything and I

465
00:22:40,700 --> 00:22:44,509
can just move as many forward pointers

466
00:22:42,319 --> 00:22:46,730
as I want based on the index so the only

467
00:22:44,509 --> 00:22:51,259
thing I can't do is assert that that

468
00:22:46,730 --> 00:22:53,058
pointer is in a valid area but even

469
00:22:51,259 --> 00:22:56,859
that's pretty easy to do because I can

470
00:22:53,058 --> 00:22:56,859
say entity star you know

471
00:22:58,460 --> 00:23:05,009
and we're gonna want to do this for

472
00:23:01,740 --> 00:23:08,400
another reason as well and that is that

473
00:23:05,009 --> 00:23:10,558
c++ in its infinite decimal with 'dom

474
00:23:08,400 --> 00:23:12,300
and like this is like one of the worst

475
00:23:10,558 --> 00:23:15,750
decisions I've ever heard anyone make

476
00:23:12,299 --> 00:23:17,399
ever when you're doing pointer

477
00:23:15,750 --> 00:23:19,289
arithmetic if you don't do pointer

478
00:23:17,400 --> 00:23:21,840
arithmetic on you eights

479
00:23:19,289 --> 00:23:24,029
C++ is allowed to just totally screw you

480
00:23:21,839 --> 00:23:27,209
and do the arithmetic entirely wrong if

481
00:23:24,029 --> 00:23:30,259
they don't come from the same memory

482
00:23:27,210 --> 00:23:33,450
allocation meaning based off of the same

483
00:23:30,259 --> 00:23:35,009
sort of pointer granularity so for

484
00:23:33,450 --> 00:23:36,808
example if you were to do pointer

485
00:23:35,009 --> 00:23:39,660
arithmetic on something that's 8 bytes

486
00:23:36,808 --> 00:23:41,819
long and you didn't have it aligned to

487
00:23:39,660 --> 00:23:44,490
an 8 byte boundary or some other thing

488
00:23:41,819 --> 00:23:46,079
like this C++ is not guaranteed to do

489
00:23:44,490 --> 00:23:48,630
the arithmetic correctly it's allowed to

490
00:23:46,079 --> 00:23:49,889
like substitute inferior arithmetic if

491
00:23:48,630 --> 00:23:52,080
it thinks you can get a speed win I

492
00:23:49,890 --> 00:23:53,670
never ever want that because if I cared

493
00:23:52,079 --> 00:23:56,279
about that speed win I would do that

494
00:23:53,670 --> 00:23:58,470
addressing manually but that's just the

495
00:23:56,279 --> 00:24:00,058
the the rules of it in this case I don't

496
00:23:58,470 --> 00:24:02,190
think we'd ever get hit because since

497
00:24:00,058 --> 00:24:03,839
these things are 8 bytes long that's a

498
00:24:02,190 --> 00:24:05,940
really trivial one and it would never do

499
00:24:03,839 --> 00:24:08,519
any weird arithmetic because 8 bytes is

500
00:24:05,940 --> 00:24:12,058
very basic but if you had something that

501
00:24:08,519 --> 00:24:15,509
would say 18 bytes long that's where you

502
00:24:12,058 --> 00:24:16,920
might get into trouble so anyway what I

503
00:24:15,509 --> 00:24:20,190
want to do here is say okay I've got a

504
00:24:16,920 --> 00:24:22,650
you 8 pointer and I'm just going to take

505
00:24:20,190 --> 00:24:28,170
the address of this pointer that I've

506
00:24:22,650 --> 00:24:31,590
got here right I'm then gonna say ok I

507
00:24:28,170 --> 00:24:34,050
want that pointer to be advanced by

508
00:24:31,589 --> 00:24:37,230
however big one of these entity pointers

509
00:24:34,049 --> 00:24:39,539
is times however much the brain however

510
00:24:37,230 --> 00:24:42,150
many brain slots forward I'm trying to

511
00:24:39,539 --> 00:24:47,058
go then what I can do is I can just say

512
00:24:42,150 --> 00:24:51,259
well ok the the the pointer to right to

513
00:24:47,058 --> 00:24:53,910
right is just whatever that pointer is

514
00:24:51,259 --> 00:24:56,940
cast to and E star star dereferenced

515
00:24:53,910 --> 00:24:59,100
right so I'll just here I will go ahead

516
00:24:56,940 --> 00:25:00,808
and do my dereferencing and I'll write

517
00:24:59,099 --> 00:25:03,569
to that enemy star with the enemy star

518
00:25:00,808 --> 00:25:05,160
that I have now what this allows me to

519
00:25:03,569 --> 00:25:08,639
do after I have the pointer is I can

520
00:25:05,160 --> 00:25:11,460
also assert that this pointer is inside

521
00:25:08,640 --> 00:25:14,270
the brain structure that I started with

522
00:25:11,460 --> 00:25:20,190
right so I can assert that this pointer

523
00:25:14,269 --> 00:25:23,369
is less than or equal to the the pointer

524
00:25:20,190 --> 00:25:25,919
of the brain and furthermore I can

525
00:25:23,369 --> 00:25:27,750
subtract off the size of one entity star

526
00:25:25,919 --> 00:25:29,970
to make sure that it's it's not pointing

527
00:25:27,750 --> 00:25:31,440
sort of a little bit like that the eight

528
00:25:29,970 --> 00:25:34,798
extra bytes for the pointer isn't

529
00:25:31,440 --> 00:25:38,850
pointing off the end either right and so

530
00:25:34,798 --> 00:25:41,609
I should be able to do that entity there

531
00:25:38,849 --> 00:25:43,709
we go and replace all that code with

532
00:25:41,609 --> 00:25:46,969
something that now no longer cares how

533
00:25:43,710 --> 00:25:54,690
big it is what did I do

534
00:25:46,970 --> 00:25:56,179
pointer brain oh wait what is it talking

535
00:25:54,690 --> 00:26:02,220
what's the problem

536
00:25:56,179 --> 00:26:06,028
pointer pointer you eight star brain -

537
00:26:02,220 --> 00:26:09,829
size of entity let me take a look at

538
00:26:06,028 --> 00:26:09,829
what's going on here brain

539
00:26:17,250 --> 00:26:24,380
if X is zero so my pointer is pointing

540
00:26:20,640 --> 00:26:24,380
to the same thing as the brain is right

541
00:26:28,609 --> 00:26:38,609
so not quite I guess but let me see here

542
00:26:31,470 --> 00:26:40,799
ah duh when I said I wanted to point to

543
00:26:38,609 --> 00:26:43,859
the end I have to obviously add the size

544
00:26:40,799 --> 00:26:45,240
of the brain duh so I need to start

545
00:26:43,859 --> 00:26:46,649
where the brain begins go to the end of

546
00:26:45,240 --> 00:26:48,900
the brain and then subtract off one

547
00:26:46,650 --> 00:26:51,330
entity and that's the furthest forward I

548
00:26:48,900 --> 00:26:53,810
should ever be and so I can make my

549
00:26:51,329 --> 00:26:57,059
assertion back into what it used to be

550
00:26:53,809 --> 00:27:01,429
all right so that's more pleasant to me

551
00:26:57,059 --> 00:27:08,659
now so I'm gonna leave it that way

552
00:27:01,430 --> 00:27:12,090
oops so by the way like just to

553
00:27:08,660 --> 00:27:15,390
underscore kind of you know I'm always

554
00:27:12,089 --> 00:27:17,099
complaining about C++ and so I like to

555
00:27:15,390 --> 00:27:20,790
kind of point out the reasons why I

556
00:27:17,099 --> 00:27:24,539
think it's such it's so ridiculous what

557
00:27:20,789 --> 00:27:26,009
they do none of that code should ever

558
00:27:24,539 --> 00:27:27,569
have to be written by a programmer you

559
00:27:26,009 --> 00:27:30,240
should just be able to say that these

560
00:27:27,569 --> 00:27:32,789
things are overlays and they're you know

561
00:27:30,240 --> 00:27:34,589
different mappings of the same thing

562
00:27:32,789 --> 00:27:37,259
that I want to then access by an index

563
00:27:34,589 --> 00:27:39,809
that's what you want your programming

564
00:27:37,259 --> 00:27:41,250
language to be able to do right you want

565
00:27:39,809 --> 00:27:43,740
to be able to have your programming

566
00:27:41,250 --> 00:27:45,750
language understand the concept that you

567
00:27:43,740 --> 00:27:48,240
may be packing multiple things in one

568
00:27:45,750 --> 00:27:50,430
place and you want to be able to like

569
00:27:48,240 --> 00:27:52,650
figure out what the biggest one of those

570
00:27:50,430 --> 00:27:54,750
things was and then create an array of

571
00:27:52,650 --> 00:27:58,170
entity stars that's the one that you use

572
00:27:54,750 --> 00:28:01,319
to map those automatically this is super

573
00:27:58,170 --> 00:28:03,750
super like so basic it's like one of the

574
00:28:01,319 --> 00:28:05,669
most basic things you might ever do in a

575
00:28:03,750 --> 00:28:07,680
meta programming environment it's

576
00:28:05,670 --> 00:28:11,310
trivial to implement very very simple

577
00:28:07,680 --> 00:28:13,170
but you know C++ is mentality and that

578
00:28:11,309 --> 00:28:16,109
like the mentality of the people who

579
00:28:13,170 --> 00:28:18,330
upgrade it is always to like make these

580
00:28:16,109 --> 00:28:20,549
systems that allow you to program in

581
00:28:18,329 --> 00:28:22,049
some way that they think is a good way

582
00:28:20,549 --> 00:28:23,220
to program or whatever it doesn't even

583
00:28:22,049 --> 00:28:24,359
really make sense to me most of time

584
00:28:23,220 --> 00:28:27,120
what they're really trying to do but

585
00:28:24,359 --> 00:28:29,240
it's something like this and in so

586
00:28:27,119 --> 00:28:30,719
instead of allowing programmers to just

587
00:28:29,240 --> 00:28:33,029
write the code

588
00:28:30,720 --> 00:28:36,089
that they want and make that systemic

589
00:28:33,029 --> 00:28:37,408
they want to enforce a system so this is

590
00:28:36,089 --> 00:28:39,329
the kind of code for example I don't

591
00:28:37,409 --> 00:28:41,909
ever have to write that Molly rocket

592
00:28:39,329 --> 00:28:43,769
because when you are using meta

593
00:28:41,909 --> 00:28:45,720
programming as your basis you've built

594
00:28:43,769 --> 00:28:47,579
stuff that allows you to just make this

595
00:28:45,720 --> 00:28:50,880
stuff happen correctly automatically

596
00:28:47,579 --> 00:28:52,379
right but when you're forced to program

597
00:28:50,880 --> 00:28:54,179
in a language that's about people

598
00:28:52,380 --> 00:28:55,950
specifying policy and especially when

599
00:28:54,179 --> 00:28:58,169
those people aren't very good at

600
00:28:55,950 --> 00:28:59,940
programming to begin with they make bad

601
00:28:58,169 --> 00:29:01,559
policy and then the only tools you're

602
00:28:59,940 --> 00:29:04,620
left with in the language are ones that

603
00:29:01,558 --> 00:29:08,788
enforce bad policy and so it's really

604
00:29:04,619 --> 00:29:10,949
hard to do basic simple operations like

605
00:29:08,788 --> 00:29:12,509
this like you saw all the weird stuff I

606
00:29:10,950 --> 00:29:15,720
have to do here this is a very

607
00:29:12,509 --> 00:29:18,869
semantically straightforward very basic

608
00:29:15,720 --> 00:29:20,610
programming operation barely above what

609
00:29:18,869 --> 00:29:23,548
you would do in assembly language right

610
00:29:20,609 --> 00:29:25,199
and yet C++ makes it impossible to

611
00:29:23,548 --> 00:29:28,230
actually write the thing that you want

612
00:29:25,200 --> 00:29:29,519
which is just how many is the most

613
00:29:28,230 --> 00:29:32,490
number of

614
00:29:29,519 --> 00:29:34,950
entity stars in the set that I have that

615
00:29:32,490 --> 00:29:40,798
I want an array of that right in this

616
00:29:34,950 --> 00:29:42,000
union sorry we have no idea how we could

617
00:29:40,798 --> 00:29:46,558
ever write a program realize it would

618
00:29:42,000 --> 00:29:48,329
let you do that right and it's that sort

619
00:29:46,558 --> 00:29:49,798
of thing that I am always up against I

620
00:29:48,329 --> 00:29:51,329
find if you don't have meta programming

621
00:29:49,798 --> 00:29:53,308
you're constantly doing these really

622
00:29:51,329 --> 00:29:55,069
basic things that are just about simply

623
00:29:53,308 --> 00:29:57,558
looking at what you've already defined

624
00:29:55,069 --> 00:29:59,788
in a very very straightforward fashion

625
00:29:57,558 --> 00:30:02,490
that really doesn't even involve much

626
00:29:59,788 --> 00:30:06,230
code you know very very simple code and

627
00:30:02,490 --> 00:30:08,250
it can't do any of them it's just like

628
00:30:06,230 --> 00:30:09,450
and then of course you get the single

629
00:30:08,250 --> 00:30:11,490
source was like oh well you know you

630
00:30:09,450 --> 00:30:13,288
just make a it into a template and you

631
00:30:11,490 --> 00:30:14,339
template eyes it on the number of things

632
00:30:13,288 --> 00:30:15,450
there are and then you pass that

633
00:30:14,339 --> 00:30:18,899
template to the other time you're just

634
00:30:15,450 --> 00:30:21,029
like what no it's three lines of code

635
00:30:18,900 --> 00:30:22,919
for me to write it directly the thing

636
00:30:21,029 --> 00:30:27,658
that actually does it should be you know

637
00:30:22,919 --> 00:30:30,360
at least that simple anyway all right so

638
00:30:27,659 --> 00:30:32,280
enough about that let's go ahead and

639
00:30:30,359 --> 00:30:36,509
make our snake because that's what I

640
00:30:32,279 --> 00:30:38,639
want to do when I started so but I just

641
00:30:36,509 --> 00:30:42,849
want to clean up that part first so if I

642
00:30:38,640 --> 00:30:44,830
go over to the snake piece thing

643
00:30:42,849 --> 00:30:46,898
I should be able to call the snake adder

644
00:30:44,829 --> 00:30:49,808
so when I add the Monstar which I'm

645
00:30:46,898 --> 00:30:53,619
doing here as you can see I'm gonna go

646
00:30:49,808 --> 00:30:55,869
ahead and add the snake and in order to

647
00:30:53,619 --> 00:30:57,879
add the snake I'm gonna add like the I

648
00:30:55,869 --> 00:30:59,408
might cost stripe two pieces across the

649
00:30:57,880 --> 00:31:01,419
top or something

650
00:30:59,409 --> 00:31:05,320
so I'll just say piece index equals zero

651
00:31:01,419 --> 00:31:08,200
and piece index you know is less than

652
00:31:05,319 --> 00:31:10,509
one plus plus piece index so you know

653
00:31:08,200 --> 00:31:14,409
start out with coops but to start out

654
00:31:10,509 --> 00:31:16,870
with we'll just have one snake piece and

655
00:31:14,409 --> 00:31:19,870
then when we get that working will add

656
00:31:16,869 --> 00:31:23,048
more snake pieces right pretty pretty

657
00:31:19,869 --> 00:31:26,349
singing approach I would think and I'll

658
00:31:23,048 --> 00:31:28,750
need a brain for this so you know before

659
00:31:26,349 --> 00:31:34,079
I do anything I'll have to make a brain

660
00:31:28,750 --> 00:31:36,788
ID here but that's pretty easy just that

661
00:31:34,079 --> 00:31:39,398
and then the segment index so I guess

662
00:31:36,788 --> 00:31:52,869
it's segment index sorry why I called it

663
00:31:39,398 --> 00:31:57,699
a piece and snake segment so that's the

664
00:31:52,869 --> 00:31:59,199
snake now all I have to do is decide

665
00:31:57,700 --> 00:32:02,830
where it's gonna be

666
00:31:59,200 --> 00:32:07,929
I'll put it vertically down the far side

667
00:32:02,829 --> 00:32:17,558
maybe so let's say it's Sun twelve I you

668
00:32:07,929 --> 00:32:22,980
know why round twelve Y and we'll just

669
00:32:17,558 --> 00:32:22,980
make y equal to 4 plus segment index

670
00:32:23,548 --> 00:32:31,179
okay and so if I create one of those

671
00:32:26,980 --> 00:32:33,909
oops let's see here I create one of

672
00:32:31,179 --> 00:32:37,059
those that's a snake wow that is a very

673
00:32:33,909 --> 00:32:38,409
large snake head that was not really the

674
00:32:37,058 --> 00:32:40,960
size that I had in mind

675
00:32:38,409 --> 00:32:43,269
so I'm gonna go ahead and and make those

676
00:32:40,960 --> 00:32:46,960
snake segments a little bit smaller

677
00:32:43,269 --> 00:32:49,649
that's that's just way too big way way

678
00:32:46,960 --> 00:32:52,670
way too big so let's make that tinier

679
00:32:49,648 --> 00:32:56,759
okay that's much better

680
00:32:52,670 --> 00:32:58,769
all right so now that I have those snake

681
00:32:56,759 --> 00:33:02,789
segments I need something to move them

682
00:32:58,769 --> 00:33:05,039
around and what I'll probably do is the

683
00:33:02,789 --> 00:33:09,119
exact same I'll use the exact same

684
00:33:05,039 --> 00:33:10,379
system that I used for the familiar I'm

685
00:33:09,119 --> 00:33:13,829
sorry the Monstar

686
00:33:10,380 --> 00:33:15,450
so the Monstar code here where it kind

687
00:33:13,829 --> 00:33:19,169
of searches in I'm gonna go ahead and

688
00:33:15,450 --> 00:33:21,750
and copy that out but we're gonna daisy

689
00:33:19,170 --> 00:33:25,289
chain the movements so what I'm going to

690
00:33:21,750 --> 00:33:28,500
do is I'll say you know I've got

691
00:33:25,289 --> 00:33:42,450
obviously a head on this guy so a brain

692
00:33:28,500 --> 00:33:46,529
snake parts equals brain snake right and

693
00:33:42,450 --> 00:33:49,980
then what I'll do here is say well hmm

694
00:33:46,529 --> 00:33:54,359
there's sort of the notion of the head

695
00:33:49,980 --> 00:33:56,849
of the snake is the first segment and if

696
00:33:54,359 --> 00:33:58,759
I don't have one of those then there's

697
00:33:56,849 --> 00:34:04,619
effectively no snake

698
00:33:58,759 --> 00:34:06,629
let's say just that's purely whimsy but

699
00:34:04,619 --> 00:34:11,089
that's what I'm gonna say

700
00:34:06,630 --> 00:34:15,679
and so in here I don't know what is this

701
00:34:11,090 --> 00:34:20,700
okay so yeah this will try to pick a

702
00:34:15,679 --> 00:34:24,119
direction to go like you know as as it

703
00:34:20,699 --> 00:34:26,219
does and I'll see if they can find a

704
00:34:24,119 --> 00:34:28,950
place that's unoccupied and if it will

705
00:34:26,219 --> 00:34:34,108
and if it can find one then it will do

706
00:34:28,949 --> 00:34:35,908
this transactional occupy all right then

707
00:34:34,108 --> 00:34:38,190
what I want to do is I want to basically

708
00:34:35,909 --> 00:34:40,710
have a for loop here which if the

709
00:34:38,190 --> 00:34:42,898
transactional occupy succeeds I just

710
00:34:40,710 --> 00:34:46,409
want to go through and make everyone do

711
00:34:42,898 --> 00:34:50,099
exactly that same thing right that they

712
00:34:46,409 --> 00:34:52,679
were doing so I want to say okay you

713
00:34:50,099 --> 00:34:55,618
know the head will move one square and

714
00:34:52,679 --> 00:34:57,148
then each segment behind will do the

715
00:34:55,619 --> 00:34:59,869
same thing so we're going to start with

716
00:34:57,148 --> 00:35:04,480
segment index one we're gonna go until

717
00:34:59,869 --> 00:35:11,200
however many there are in the

718
00:35:04,480 --> 00:35:20,170
oops in parts segments and then we're

719
00:35:11,199 --> 00:35:24,069
gonna go ahead and take each segment of

720
00:35:20,170 --> 00:35:25,420
the snake and if we have one of those

721
00:35:24,070 --> 00:35:30,100
we'll do the same

722
00:35:25,420 --> 00:35:31,690
transactional occupy and we really don't

723
00:35:30,099 --> 00:35:33,039
get care if it succeeds or fails it

724
00:35:31,690 --> 00:35:34,630
should always succeed because we know

725
00:35:33,039 --> 00:35:36,940
we'll be putting the snake into a place

726
00:35:34,630 --> 00:35:39,760
we just evicted another snake piece out

727
00:35:36,940 --> 00:35:41,409
of and if for some reason it failed well

728
00:35:39,760 --> 00:35:42,940
that just leaves the snake piece in a

729
00:35:41,409 --> 00:35:44,399
different location than we thought it

730
00:35:42,940 --> 00:35:48,730
would be but that's not really a problem

731
00:35:44,400 --> 00:35:51,369
so I think that's fine alright so when

732
00:35:48,730 --> 00:35:55,449
we do transactional occupy we want the

733
00:35:51,369 --> 00:35:58,829
segment to go from its occupying to you

734
00:35:55,449 --> 00:36:01,779
know the last occupy kind of a thing and

735
00:35:58,829 --> 00:36:13,389
I want to save that traversable

736
00:36:01,780 --> 00:36:17,500
reference here right so that's the one

737
00:36:13,389 --> 00:36:22,659
we were in we go to this one and I

738
00:36:17,500 --> 00:36:24,460
basically set I record whichever place

739
00:36:22,659 --> 00:36:29,549
we came from so the next person can go

740
00:36:24,460 --> 00:36:33,460
there right similarly and here we do oh

741
00:36:29,550 --> 00:36:35,320
well you know what body came from is

742
00:36:33,460 --> 00:36:37,449
what that is already well I guess it

743
00:36:35,320 --> 00:36:41,170
doesn't matter so we're just gonna say

744
00:36:37,449 --> 00:36:46,509
here that last occupying equals wherever

745
00:36:41,170 --> 00:36:50,519
the body is right now so and yeah this

746
00:36:46,510 --> 00:36:50,520
transactional occupy I guess we can

747
00:36:50,880 --> 00:36:57,070
excuse me do the same thing here where

748
00:36:54,969 --> 00:37:01,779
we just say like okay whatever the t

749
00:36:57,070 --> 00:37:05,400
movement whatever we were doing we'll do

750
00:37:01,780 --> 00:37:09,760
the same thing to the segment here

751
00:37:05,400 --> 00:37:12,160
so if body came from I guess we can

752
00:37:09,760 --> 00:37:13,960
literally just do this and this looks

753
00:37:12,159 --> 00:37:16,728
like very shareable code so I think I'll

754
00:37:13,960 --> 00:37:18,778
probably end up

755
00:37:16,728 --> 00:37:28,409
making some of these into utility

756
00:37:18,778 --> 00:37:32,130
functions sorry I just got to clean this

757
00:37:28,409 --> 00:37:34,159
up there we go so that transactional

758
00:37:32,130 --> 00:37:40,170
occupy and then we'll launch the sky

759
00:37:34,159 --> 00:37:48,149
which is movement right I and I don't

760
00:37:40,170 --> 00:37:50,729
know by the occupying body Occupy

761
00:37:48,150 --> 00:37:52,048
movement mode segment index segments

762
00:37:50,728 --> 00:37:54,028
blah blah blah blah blah so I think

763
00:37:52,048 --> 00:37:57,449
that's all fine so all of this stuff

764
00:37:54,028 --> 00:38:08,119
just has to be switched from body to

765
00:37:57,449 --> 00:38:08,119
head okay oops

766
00:38:11,639 --> 00:38:20,969
and ya need to actually set that in here

767
00:38:27,030 --> 00:38:32,890
alright so that is exactly what we

768
00:38:30,400 --> 00:38:34,660
expect right because it's gonna behave

769
00:38:32,889 --> 00:38:39,338
just like a Monstar if it doesn't have

770
00:38:34,659 --> 00:38:41,348
any additional information so now let's

771
00:38:39,338 --> 00:38:46,630
see what happens though if I create when

772
00:38:41,349 --> 00:38:49,150
I do an ADD snake piece oops we don't

773
00:38:46,630 --> 00:38:52,930
you know we the interesting case is when

774
00:38:49,150 --> 00:38:54,430
I add more of them than just one so we

775
00:38:52,929 --> 00:38:56,049
want to see if we can get it so that

776
00:38:54,429 --> 00:39:01,299
they are properly following each other

777
00:38:56,050 --> 00:39:03,060
along right and that actually does seem

778
00:39:01,300 --> 00:39:06,039
to be working just fine

779
00:39:03,059 --> 00:39:09,639
okay so let's try adding a lot more of

780
00:39:06,039 --> 00:39:11,559
them eight might be too many cuz I guess

781
00:39:09,639 --> 00:39:13,960
Y in the Y direction that would leave us

782
00:39:11,559 --> 00:39:17,349
with some that are embedded in somebody

783
00:39:13,960 --> 00:39:19,980
somebody's current standing place so

784
00:39:17,349 --> 00:39:23,380
maybe I should do this as an X thing

785
00:39:19,980 --> 00:39:26,068
instead so maybe just to make it easier

786
00:39:23,380 --> 00:39:30,369
on myself so you know it's like an X X

787
00:39:26,068 --> 00:39:32,279
is two plus seven index and that way I

788
00:39:30,369 --> 00:39:39,430
can do like twelve of them or whatever

789
00:39:32,280 --> 00:39:43,530
right oh except I don't allow snakes

790
00:39:39,429 --> 00:39:46,239
that big said so right in my thing well

791
00:39:43,530 --> 00:39:50,849
alright maybe we do allow up to sixteen

792
00:39:46,239 --> 00:39:50,848
segment snakes or something

793
00:39:54,860 --> 00:40:02,390
yeah so that seems to work just fine

794
00:39:57,500 --> 00:40:03,739
I might argue that that you know people

795
00:40:02,389 --> 00:40:09,170
probably shouldn't be moving diagonally

796
00:40:03,739 --> 00:40:13,459
right and so when I owe our snake like

797
00:40:09,170 --> 00:40:19,579
locked up its head its own head that was

798
00:40:13,460 --> 00:40:20,900
funny that was pretty funny it liked it

799
00:40:19,579 --> 00:40:25,219
there's no way it would ever get out of

800
00:40:20,900 --> 00:40:31,970
that that's so funny

801
00:40:25,219 --> 00:40:33,199
right cuz here's this is the head and in

802
00:40:31,969 --> 00:40:34,969
fact you know what let me just

803
00:40:33,199 --> 00:40:36,289
demonstrate this again cuz that was kind

804
00:40:34,969 --> 00:40:38,929
of funny and if you can't tell which

805
00:40:36,289 --> 00:40:40,099
one's the head it may be hard to know

806
00:40:38,929 --> 00:40:45,859
what's going on there so I'm gonna do

807
00:40:40,099 --> 00:40:48,409
add snake P segment there so here's the

808
00:40:45,860 --> 00:40:50,059
color information so what I'm gonna do

809
00:40:48,409 --> 00:40:52,819
is I'm just going to take this segment

810
00:40:50,059 --> 00:40:56,090
index and I'm gonna make the the front

811
00:40:52,820 --> 00:40:59,750
of the snake be like colored differently

812
00:40:56,090 --> 00:41:03,950
then you know as a snake goes further

813
00:40:59,750 --> 00:41:09,349
basically so I you know I'll do

814
00:41:03,949 --> 00:41:11,449
something like oh actually you know what

815
00:41:09,349 --> 00:41:17,329
I'll do I'll do this if the segment

816
00:41:11,449 --> 00:41:20,500
index is is not the first then I'll make

817
00:41:17,329 --> 00:41:24,699
a torso otherwise it's a head right

818
00:41:20,500 --> 00:41:27,440
that's a lot more straightforward right

819
00:41:24,699 --> 00:41:30,439
so there's the snake like sneaking

820
00:41:27,440 --> 00:41:31,940
around or whatever and if it can get

821
00:41:30,440 --> 00:41:33,980
into a situation where it's wrapped

822
00:41:31,940 --> 00:41:36,320
around itself tightly enough then the

823
00:41:33,980 --> 00:41:37,909
head cannot jump to any other location

824
00:41:36,320 --> 00:41:40,610
and it will that will be it

825
00:41:37,909 --> 00:41:42,019
that snake like like here it can still

826
00:41:40,610 --> 00:41:44,690
eventually jump out because there was

827
00:41:42,019 --> 00:41:47,269
one square but at some point it will

828
00:41:44,690 --> 00:41:50,300
curl around itself enough that it can't

829
00:41:47,269 --> 00:41:50,739
jump out and then here we go so there

830
00:41:50,300 --> 00:41:53,300
you go

831
00:41:50,739 --> 00:41:54,919
so you can see here right this is the

832
00:41:53,300 --> 00:41:57,140
head of the snake there's no empty

833
00:41:54,920 --> 00:41:59,349
squares and it's just that's it for our

834
00:41:57,139 --> 00:42:02,829
for our mr. snake which is kind of cool

835
00:41:59,349 --> 00:42:02,829
that's pretty funny

836
00:42:07,440 --> 00:42:12,909
all right so yeah so that all seems to

837
00:42:11,650 --> 00:42:15,099
be working great actually that was

838
00:42:12,909 --> 00:42:16,809
really easy which is what I want and you

839
00:42:15,099 --> 00:42:20,440
can see I can still not sort of access

840
00:42:16,809 --> 00:42:23,619
any of this all right so I feel like

841
00:42:20,440 --> 00:42:25,840
that is a pretty good testament to the

842
00:42:23,619 --> 00:42:28,599
fact that the brain stuff seems to work

843
00:42:25,840 --> 00:42:33,100
really well like that was super easy to

844
00:42:28,599 --> 00:42:35,349
do like you know and it it doesn't

845
00:42:33,099 --> 00:42:38,650
require any statefulness there was no

846
00:42:35,349 --> 00:42:41,019
like persistence stuff you know no

847
00:42:38,650 --> 00:42:43,059
reference counting no life time

848
00:42:41,019 --> 00:42:44,739
management you just add a bunch of crap

849
00:42:43,059 --> 00:42:47,380
and say it's a snake and you get a snake

850
00:42:44,739 --> 00:42:48,879
which is what I wanted and when you

851
00:42:47,380 --> 00:42:50,860
delete if you were to kill one of these

852
00:42:48,880 --> 00:42:53,860
guys I think it would be pretty trivial

853
00:42:50,860 --> 00:42:55,660
as well you just remember the snake like

854
00:42:53,860 --> 00:42:59,410
an array deletion basically and I think

855
00:42:55,659 --> 00:43:04,329
that would be it right or don't for that

856
00:42:59,409 --> 00:43:06,639
matter so I think that's pretty cool so

857
00:43:04,329 --> 00:43:08,230
I think it should be okay so I think

858
00:43:06,639 --> 00:43:12,339
it's really the movement mode stuff to

859
00:43:08,230 --> 00:43:14,079
concentrate on now I should also look to

860
00:43:12,340 --> 00:43:15,910
see what happens if this if everything

861
00:43:14,079 --> 00:43:18,549
scales up okay I assuming it does wheat

862
00:43:15,909 --> 00:43:19,989
we have a lot of N squared e things in

863
00:43:18,550 --> 00:43:22,210
there right now that we need to because

864
00:43:19,989 --> 00:43:23,859
we don't have a spatial query yet so we

865
00:43:22,210 --> 00:43:25,990
can't create a lot of stuff without

866
00:43:23,860 --> 00:43:27,070
having problems because of the spatial

867
00:43:25,989 --> 00:43:29,439
query so that's something we're gonna

868
00:43:27,070 --> 00:43:30,970
have to take a look at to just be warned

869
00:43:29,440 --> 00:43:34,179
about that but actually I see if I

870
00:43:30,969 --> 00:43:36,369
create some additional screens what

871
00:43:34,179 --> 00:43:40,149
happens here just want to make sure that

872
00:43:36,369 --> 00:43:42,730
it's all good yeah I want to make sure

873
00:43:40,150 --> 00:43:45,460
that you know there's stuff happening

874
00:43:42,730 --> 00:43:51,309
and you know no nothing weird is going

875
00:43:45,460 --> 00:43:54,849
on uh yeah so that's all fine that seems

876
00:43:51,309 --> 00:43:57,880
reasonable I should probably get that

877
00:43:54,849 --> 00:44:01,769
row of trees out of here because I can't

878
00:43:57,880 --> 00:44:01,769
move through there at the moment

879
00:44:02,090 --> 00:44:07,100
why is that road chooser I think we were

880
00:44:04,369 --> 00:44:13,789
testing something about hopping over the

881
00:44:07,099 --> 00:44:24,589
walls or something like this yeah tile x

882
00:44:13,789 --> 00:44:26,449
equals 14 that looks like yeah and so

883
00:44:24,590 --> 00:44:28,220
you can also see that you know having

884
00:44:26,449 --> 00:44:30,219
all of these people do all these queries

885
00:44:28,219 --> 00:44:32,659
like we should see that in our profile

886
00:44:30,219 --> 00:44:36,109
that our simulation time is just really

887
00:44:32,659 --> 00:44:37,460
bad right and I mean this is a debug

888
00:44:36,110 --> 00:44:39,050
build so yeah we could get around that

889
00:44:37,460 --> 00:44:41,150
by just compiling in release mode but

890
00:44:39,050 --> 00:44:43,090
you know I mean it should for this few

891
00:44:41,150 --> 00:44:46,070
things we should have no trouble

892
00:44:43,090 --> 00:44:48,039
handling it and the fact that we are

893
00:44:46,070 --> 00:44:51,769
spending that much time is just a good

894
00:44:48,039 --> 00:44:53,119
indication and I guess I shouldn't be

895
00:44:51,769 --> 00:44:55,460
premature and say that I know exactly

896
00:44:53,119 --> 00:44:57,529
what it is but doing that many N squared

897
00:44:55,460 --> 00:44:59,420
spatial queries is just going to be

898
00:44:57,530 --> 00:45:01,400
unacceptable I assume that is the thing

899
00:44:59,420 --> 00:45:04,670
that is unacceptable already but you

900
00:45:01,400 --> 00:45:07,670
know if it wasn't it it would be

901
00:45:04,670 --> 00:45:09,470
eventually soon enough so that's

902
00:45:07,670 --> 00:45:14,269
something that we also want to take a

903
00:45:09,469 --> 00:45:15,829
look at relatively soon and yeah so you

904
00:45:14,269 --> 00:45:17,389
can see where we're missing our we're

905
00:45:15,829 --> 00:45:20,599
not 60 frames a second were 30 frames a

906
00:45:17,389 --> 00:45:22,730
second at the moment in fact right well

907
00:45:20,599 --> 00:45:24,289
even without that on you can see that it

908
00:45:22,730 --> 00:45:27,230
doesn't quite hit it's about but we're

909
00:45:24,289 --> 00:45:28,849
up around 18 because it's simulating the

910
00:45:27,230 --> 00:45:30,469
snake in the next room over and all that

911
00:45:28,849 --> 00:45:33,380
stuff and that's just doing tons and

912
00:45:30,469 --> 00:45:36,799
tons of spatial queries for no reason so

913
00:45:33,380 --> 00:45:39,619
what I might suggest as well is what you

914
00:45:36,800 --> 00:45:41,300
know maybe we want to look at that let's

915
00:45:39,619 --> 00:45:44,210
see it's six o'clock so we've got about

916
00:45:41,300 --> 00:45:45,920
15 minutes what do I want to tackle I

917
00:45:44,210 --> 00:45:47,570
think I want to do movement mode because

918
00:45:45,920 --> 00:45:48,769
I think we should probably save the

919
00:45:47,570 --> 00:45:50,809
spatial query stuff for a little bit

920
00:45:48,769 --> 00:45:52,759
later but that's definitely a good thing

921
00:45:50,809 --> 00:45:54,559
to do because we're gonna want to we're

922
00:45:52,760 --> 00:45:56,630
gonna have a lot of spatial query enough

923
00:45:54,559 --> 00:45:57,949
that we want to do and we're gonna want

924
00:45:56,630 --> 00:46:02,030
to put something in place there that's

925
00:45:57,949 --> 00:46:03,649
nice and zippy so I'm gonna leave this

926
00:46:02,030 --> 00:46:05,360
I'm gonna crank it up to fact a little

927
00:46:03,650 --> 00:46:06,619
bit more although I don't know maybe we

928
00:46:05,360 --> 00:46:08,900
can't really crank it up much more

929
00:46:06,619 --> 00:46:11,599
because we don't simulate stuff that's

930
00:46:08,900 --> 00:46:13,700
that's far enough away so like we can't

931
00:46:11,599 --> 00:46:15,049
arbitrate arbitrarily much work because

932
00:46:13,699 --> 00:46:16,368
we only simulate the things that are

933
00:46:15,050 --> 00:46:18,859
near

934
00:46:16,369 --> 00:46:23,769
so you know at some level we're not

935
00:46:18,858 --> 00:46:26,179
actually sinning I'm gonna just drop out

936
00:46:23,768 --> 00:46:29,088
here the camera I'm gonna use the debug

937
00:46:26,179 --> 00:46:31,159
camera so you can see that it's not

938
00:46:29,088 --> 00:46:34,038
simulating the stuff outside the sim

939
00:46:31,159 --> 00:46:39,618
region here's the simulation apron I

940
00:46:34,039 --> 00:46:40,190
think well actually no that's that's

941
00:46:39,619 --> 00:46:42,890
correct

942
00:46:40,190 --> 00:46:44,358
because this guy it instantly in this

943
00:46:42,889 --> 00:46:47,199
guy it and it would be something those

944
00:46:44,358 --> 00:46:51,949
two but it won't simulate these right

945
00:46:47,199 --> 00:46:55,399
and so as I move closer and these come

946
00:46:51,949 --> 00:46:57,078
into that that cyan region they start

947
00:46:55,400 --> 00:46:58,880
simulating now these aren't simulating

948
00:46:57,079 --> 00:47:00,200
because their head is not in the region

949
00:46:58,880 --> 00:47:03,769
yet and the head is the thing that makes

950
00:47:00,199 --> 00:47:09,169
the decisions right so there you can see

951
00:47:03,768 --> 00:47:13,068
now these guys are no longer moving

952
00:47:09,170 --> 00:47:15,019
right and you can see that we kind of

953
00:47:13,068 --> 00:47:17,949
have a bug there too that we have to

954
00:47:15,018 --> 00:47:17,949
figure out how we want to handle

955
00:47:24,559 --> 00:47:31,139
or do we well I think we would have a

956
00:47:28,920 --> 00:47:33,570
bug I'll put it to you that way I think

957
00:47:31,139 --> 00:47:43,889
we would have a bug and the bug is that

958
00:47:33,570 --> 00:47:46,980
we would not when we move people in if

959
00:47:43,889 --> 00:47:49,920
you have a multi-piece entity like a

960
00:47:46,980 --> 00:47:51,840
snake you might get a situation where if

961
00:47:49,920 --> 00:47:55,050
the head could move and the body was not

962
00:47:51,840 --> 00:47:56,670
in the simulation region so I'm not sure

963
00:47:55,050 --> 00:47:59,580
how we want to deal with that but you

964
00:47:56,670 --> 00:48:01,559
can see why that would be a problem

965
00:47:59,579 --> 00:48:03,630
right so that's something that we should

966
00:48:01,559 --> 00:48:05,219
probably address as well let me see

967
00:48:03,630 --> 00:48:07,890
let's let's watch I should be able to

968
00:48:05,219 --> 00:48:09,029
get those bugs to occur but that's a

969
00:48:07,889 --> 00:48:11,219
good thing I hadn't thought of that and

970
00:48:09,030 --> 00:48:23,280
that seems like a good thing to get

971
00:48:11,219 --> 00:48:26,459
right all right so let's start moving

972
00:48:23,280 --> 00:48:30,570
out of here and see what happens

973
00:48:26,460 --> 00:48:31,980
so this guy has unfortunately locked up

974
00:48:30,570 --> 00:48:35,490
right at the entrance it's okay because

975
00:48:31,980 --> 00:48:38,570
we're not blocked by him yet since our

976
00:48:35,489 --> 00:48:38,569
head can float over

977
00:48:41,800 --> 00:48:49,200
I really need a case where the head can

978
00:48:45,460 --> 00:48:52,360
move but the body can't which I'm not

979
00:48:49,199 --> 00:48:57,819
super able to do okay there we go

980
00:48:52,360 --> 00:48:59,829
you saw that happen right yeah if it's

981
00:48:57,820 --> 00:49:12,720
not quite enough I just need that guy to

982
00:48:59,829 --> 00:49:12,719
like go the other way yeah

983
00:49:17,349 --> 00:49:26,818
he's not going to do it well point being

984
00:49:23,409 --> 00:49:29,498
we have a bug I'm pretty certain of it

985
00:49:26,818 --> 00:49:35,650
it's just it's a bug that's a little bit

986
00:49:29,498 --> 00:49:37,538
hard to make happen right but yeah when

987
00:49:35,650 --> 00:49:40,509
you have entities that are spatially

988
00:49:37,539 --> 00:49:46,859
fairly large there's sort of a notion

989
00:49:40,509 --> 00:49:53,858
there of like how we would handle that

990
00:49:46,858 --> 00:49:57,518
that apron region hmm and I don't know I

991
00:49:53,858 --> 00:50:00,548
do not know one way to do it is to

992
00:49:57,518 --> 00:50:09,298
always pack entities into the location

993
00:50:00,548 --> 00:50:12,278
of their head right so you could sort of

994
00:50:09,298 --> 00:50:13,599
you could sort of do some sort of you

995
00:50:12,278 --> 00:50:15,338
could do some kind of packing scheme

996
00:50:13,599 --> 00:50:17,349
where you always put things into the

997
00:50:15,338 --> 00:50:19,420
room where the head was even if they

998
00:50:17,349 --> 00:50:22,318
were outside that room so that you knew

999
00:50:19,420 --> 00:50:25,829
that they always got picked up together

1000
00:50:22,318 --> 00:50:25,829
that's one thing

1001
00:50:43,289 --> 00:50:51,300
I don't know since things in this game

1002
00:50:48,840 --> 00:50:54,329
are room based I don't know that we

1003
00:50:51,300 --> 00:50:55,860
really care all that much but it's

1004
00:50:54,329 --> 00:50:57,960
something that I just would like to

1005
00:50:55,860 --> 00:50:59,160
think through because you know like I

1006
00:50:57,960 --> 00:51:00,449
said I kind of wanted to try some

1007
00:50:59,159 --> 00:51:03,379
interesting weird things with this

1008
00:51:00,449 --> 00:51:06,539
entity system so I don't just want to

1009
00:51:03,380 --> 00:51:08,789
ignore something that might lead to an

1010
00:51:06,539 --> 00:51:11,909
interesting concept if that makes sense

1011
00:51:08,789 --> 00:51:14,429
so I have to think that one through a

1012
00:51:11,909 --> 00:51:15,989
little bit more I'm out to put that in

1013
00:51:14,429 --> 00:51:19,379
the to-do list because otherwise I might

1014
00:51:15,989 --> 00:51:20,729
forget what that problem is exactly but

1015
00:51:19,380 --> 00:51:21,510
you know while it's fresh in my head I'm

1016
00:51:20,730 --> 00:51:25,309
gonna write it out

1017
00:51:21,510 --> 00:51:25,310
I do think one thing that's kind of cool

1018
00:51:26,269 --> 00:51:35,880
that I guess I would say we want to we

1019
00:51:31,710 --> 00:51:38,309
want to encourage is while I'm standing

1020
00:51:35,880 --> 00:51:40,740
here in theory the snake from the room

1021
00:51:38,309 --> 00:51:44,969
above us can come down into our room

1022
00:51:40,739 --> 00:51:48,389
because we are simulating it and so that

1023
00:51:44,969 --> 00:51:50,129
is neat and the kind of thing that I

1024
00:51:48,389 --> 00:51:51,750
would like to have happen in the game so

1025
00:51:50,130 --> 00:51:53,369
that things in nearby rooms aren't

1026
00:51:51,750 --> 00:51:57,420
turned off entirely

1027
00:51:53,369 --> 00:52:03,449
you know like yeah okay so our snake

1028
00:51:57,420 --> 00:52:07,860
just left for example and the monster

1029
00:52:03,449 --> 00:52:10,949
Wow everyone left alright I guess we're

1030
00:52:07,860 --> 00:52:15,360
just not that popular anymore so the

1031
00:52:10,949 --> 00:52:20,730
snake leaving

1032
00:52:15,360 --> 00:52:23,220
I assume it's simulating up there and

1033
00:52:20,730 --> 00:52:25,559
could come down if it wanted to right

1034
00:52:23,219 --> 00:52:29,089
the fact that it hasn't I don't know if

1035
00:52:25,559 --> 00:52:31,409
I should be concerned about let's see

1036
00:52:29,090 --> 00:52:34,410
one of them's locked up that's why he

1037
00:52:31,409 --> 00:52:38,639
didn't come down here oh man that snake

1038
00:52:34,409 --> 00:52:41,670
is just leaving all the time and of

1039
00:52:38,639 --> 00:52:47,129
course now that snake has run into the

1040
00:52:41,670 --> 00:52:49,470
other snake and deadlocked right so it

1041
00:52:47,130 --> 00:52:51,710
can't go anywhere now that's pretty

1042
00:52:49,469 --> 00:52:51,709
funny

1043
00:52:54,809 --> 00:52:59,710
that's hilarious

1044
00:52:57,579 --> 00:53:01,659
so yeah all right well anyway point

1045
00:52:59,710 --> 00:53:03,490
being I think that's all good the only

1046
00:53:01,659 --> 00:53:06,039
thing that I'm concerned about is I just

1047
00:53:03,489 --> 00:53:18,429
don't know what to do about that sort of

1048
00:53:06,039 --> 00:53:20,050
that notion of how we do the gather one

1049
00:53:18,429 --> 00:53:24,279
thing we can do is if we know the

1050
00:53:20,050 --> 00:53:27,070
spatial the maximum spatial extent of an

1051
00:53:24,280 --> 00:53:29,530
entity we know whatever that ends up

1052
00:53:27,070 --> 00:53:32,470
being I suppose one thing we could do

1053
00:53:29,530 --> 00:53:35,110
there is just say well if we know the

1054
00:53:32,469 --> 00:53:36,730
maximum spatial extent of an entity we

1055
00:53:35,110 --> 00:53:39,309
can make sure that if we see a

1056
00:53:36,730 --> 00:53:41,320
particular entity of a given type we

1057
00:53:39,309 --> 00:53:46,779
expand the search for entities of that

1058
00:53:41,320 --> 00:53:50,860
type to a region that's wider than the

1059
00:53:46,780 --> 00:53:53,769
region we're gathering right so that

1060
00:53:50,860 --> 00:53:58,870
seems like a reasonable a reasonable

1061
00:53:53,769 --> 00:54:04,949
solution in fact I think that maybe the

1062
00:53:58,869 --> 00:54:09,420
brightest solution yeah

1063
00:54:04,949 --> 00:54:09,419
stop stop attacking me snake

1064
00:54:21,909 --> 00:54:26,889
yeah so here's what I think we should do

1065
00:54:27,070 --> 00:54:40,690
what I think we should do is when we're

1066
00:54:30,139 --> 00:54:40,690
doing our chunk searches let's see here

1067
00:54:57,699 --> 00:55:04,608
so when we're pulling out the chunks I

1068
00:55:00,768 --> 00:55:07,038
guess what I'm thinking is when we

1069
00:55:04,608 --> 00:55:15,710
stream well yeah see that's not that

1070
00:55:07,039 --> 00:55:17,778
great either mmm I don't know this is a

1071
00:55:15,710 --> 00:55:19,670
doozy I was gonna say because I think

1072
00:55:17,778 --> 00:55:21,559
it's very efficient to be able to cut a

1073
00:55:19,670 --> 00:55:27,019
stream at chunks stream and chunks and

1074
00:55:21,559 --> 00:55:29,329
stream them back out and you know if I

1075
00:55:27,018 --> 00:55:31,578
do something where I expand the search

1076
00:55:29,329 --> 00:55:33,109
region I have to start looking into

1077
00:55:31,579 --> 00:55:36,170
chunks that I don't necessarily want to

1078
00:55:33,108 --> 00:55:42,380
stream out the entire contents so that

1079
00:55:36,170 --> 00:55:46,639
just seems problematic I guess what we

1080
00:55:42,380 --> 00:55:49,640
could do is say that any entity with a

1081
00:55:46,639 --> 00:55:52,909
certain radius like here's how many grid

1082
00:55:49,639 --> 00:55:54,650
squares it could be away from itself you

1083
00:55:52,909 --> 00:55:57,920
know we we don't want to let them

1084
00:55:54,650 --> 00:56:01,130
separate so we're going to only simulate

1085
00:55:57,920 --> 00:56:03,639
it if it's at least that far in from the

1086
00:56:01,130 --> 00:56:05,930
simulation boundary it's still not great

1087
00:56:03,639 --> 00:56:07,940
so I don't know that that's kind of

1088
00:56:05,929 --> 00:56:09,730
annoying it's a thing we only have a

1089
00:56:07,940 --> 00:56:13,269
problem with where we have

1090
00:56:09,730 --> 00:56:17,719
geographically like dispersive entities

1091
00:56:13,268 --> 00:56:20,149
but it still kind of seems like a bad

1092
00:56:17,719 --> 00:56:22,629
situation so I'm gonna put that in the

1093
00:56:20,150 --> 00:56:22,630
to do list

1094
00:56:28,619 --> 00:56:46,690
let's see yeah I guess we did the

1095
00:56:43,980 --> 00:56:48,090
rudimentary behavior examples and stuff

1096
00:56:46,690 --> 00:56:51,039
like that but we still want to do

1097
00:56:48,090 --> 00:56:52,510
pathfinding and AI storage I don't know

1098
00:56:51,039 --> 00:56:56,320
how much we're gonna have of that but we

1099
00:56:52,510 --> 00:57:06,850
should do like with these these are the

1100
00:56:56,320 --> 00:57:08,410
same thing basically well maybe not so I

1101
00:57:06,849 --> 00:57:10,750
don't know what AI storage would

1102
00:57:08,409 --> 00:57:12,279
necessarily with how much state we'd

1103
00:57:10,750 --> 00:57:13,719
store for a is and where they would

1104
00:57:12,280 --> 00:57:14,620
necessarily be stored so I suppose

1105
00:57:13,719 --> 00:57:15,939
that's something that we should still

1106
00:57:14,619 --> 00:57:19,000
keep in there

1107
00:57:15,940 --> 00:57:23,260
and yeah this we did we know what the

1108
00:57:19,000 --> 00:57:26,679
entity system is now but the rest of

1109
00:57:23,260 --> 00:57:29,370
this stuff seems pretty reasonable swerd

1110
00:57:26,679 --> 00:57:32,250
collisions are not going to be a thing

1111
00:57:29,369 --> 00:57:37,049
yeah and these a lot of this stuff

1112
00:57:32,250 --> 00:57:37,050
really this is probably not gonna be

1113
00:57:39,690 --> 00:57:45,190
yeah a lot of this stuff is not really

1114
00:57:43,750 --> 00:57:46,420
gonna be the way I'll leave them in

1115
00:57:45,190 --> 00:57:51,130
there for now but ah that's not going to

1116
00:57:46,420 --> 00:57:58,800
be the way that we talked about it so

1117
00:57:51,130 --> 00:58:02,610
yeah anyway we've got on the to-do list

1118
00:57:58,800 --> 00:58:06,160
I'm gonna put an envy system thing here

1119
00:58:02,610 --> 00:58:12,910
which is basically just that what to do

1120
00:58:06,159 --> 00:58:18,670
about geographically disparate entities

1121
00:58:12,909 --> 00:58:22,690
that might only partially get streamed

1122
00:58:18,670 --> 00:58:28,269
into a simmer ijen but which need to

1123
00:58:22,690 --> 00:58:31,300
move together as a unit because that I

1124
00:58:28,269 --> 00:58:34,090
don't know we could just say we don't

1125
00:58:31,300 --> 00:58:36,610
handle that right and it's fine every

1126
00:58:34,090 --> 00:58:37,850
system has limitation so you know that's

1127
00:58:36,610 --> 00:58:39,710
okay

1128
00:58:37,849 --> 00:58:42,099
but maybe we want to try and see if

1129
00:58:39,710 --> 00:58:45,260
there's a good way to solve that problem

1130
00:58:42,099 --> 00:58:46,880
all right I'm gonna end it there and I

1131
00:58:45,260 --> 00:58:50,120
think maybe we'll do spatial queries

1132
00:58:46,880 --> 00:58:50,510
tomorrow because I think that's a good

1133
00:58:50,119 --> 00:58:54,190
idea

1134
00:58:50,510 --> 00:58:56,090
and maybe movement mode stuff we'll see

1135
00:58:54,190 --> 00:58:58,480
but I'm gonna go ahead and go to the Q&amp;A

1136
00:58:56,090 --> 00:58:58,480
for now

1137
00:59:43,000 --> 00:59:51,460
bad flight uh wasn't today an off day I

1138
00:59:48,099 --> 00:59:51,460
don't think so

1139
00:59:59,360 --> 01:00:10,430
June 1st 5 p.m. right so it was it was

1140
01:00:07,579 --> 01:00:12,049
enough day can the compiler really mess

1141
01:00:10,429 --> 01:00:13,969
up the point arithmetic I mean it is

1142
01:00:12,050 --> 01:00:15,680
just integer ops can't be that hard to

1143
01:00:13,969 --> 01:00:18,649
mess up well it's it's not that it

1144
01:00:15,679 --> 01:00:22,429
messes it up it's not like it produces

1145
01:00:18,650 --> 01:00:24,410
erroneous code in the sense of the spec

1146
01:00:22,429 --> 01:00:26,559
but the problem is the spec says it's

1147
01:00:24,409 --> 01:00:29,269
undefined what happens if you do that

1148
01:00:26,559 --> 01:00:31,639
that's the problem

1149
01:00:29,269 --> 01:00:34,389
and when compiler writers we're gonna

1150
01:00:31,639 --> 01:00:37,099
pilar vendors see the word undefined

1151
01:00:34,389 --> 01:00:40,639
they take that to mean do whatever you

1152
01:00:37,099 --> 01:00:44,690
want so that you can have the fastest

1153
01:00:40,639 --> 01:00:46,909
benchmark scores rather than seeing obey

1154
01:00:44,690 --> 01:00:52,490
the principle of least surprise which is

1155
01:00:46,909 --> 01:00:54,920
what I think it should mean right and so

1156
01:00:52,489 --> 01:00:58,519
you get a lot of these situations where

1157
01:00:54,920 --> 01:01:00,860
Pilar writers will decide that because

1158
01:00:58,519 --> 01:01:03,349
the spec says something is undefined or

1159
01:01:00,860 --> 01:01:06,559
unspecified behavior or whatever they

1160
01:01:03,349 --> 01:01:09,409
can just do whatever they want and you

1161
01:01:06,559 --> 01:01:11,869
know I don't really necessarily blinkin

1162
01:01:09,409 --> 01:01:13,969
fire vendors I wish they wouldn't do it

1163
01:01:11,869 --> 01:01:15,319
but I really blame the spec writers

1164
01:01:13,969 --> 01:01:16,969
because what the spec writers should

1165
01:01:15,320 --> 01:01:18,860
have written is they should have written

1166
01:01:16,969 --> 01:01:21,109
something that's specified in all cases

1167
01:01:18,860 --> 01:01:23,120
and in any case where they can't specify

1168
01:01:21,110 --> 01:01:26,329
what needs to happen they should say

1169
01:01:23,119 --> 01:01:29,029
something explicit like this will you

1170
01:01:26,329 --> 01:01:33,079
know in you like in the case of doing

1171
01:01:29,030 --> 01:01:37,040
signed arithmetic the result will be

1172
01:01:33,079 --> 01:01:38,690
whatever the processor would do if it

1173
01:01:37,039 --> 01:01:40,909
was going to subtract these two values

1174
01:01:38,690 --> 01:01:42,530
you know they it should say whatever the

1175
01:01:40,909 --> 01:01:43,909
programmer would expect the processor to

1176
01:01:42,530 --> 01:01:46,220
do on the target platform or something

1177
01:01:43,909 --> 01:01:48,769
right so rather than say it's undefined

1178
01:01:46,219 --> 01:01:52,399
do whatever you want it should be more

1179
01:01:48,769 --> 01:01:53,929
like no it's specified as much as

1180
01:01:52,400 --> 01:01:56,809
humanly possible and anywhere that we

1181
01:01:53,929 --> 01:01:58,669
can't specify it we specify you must

1182
01:01:56,809 --> 01:02:01,099
obey the principle of least surprise you

1183
01:01:58,670 --> 01:02:03,289
can't just not work or generate bogus

1184
01:02:01,099 --> 01:02:05,119
code in those cases you have to generate

1185
01:02:03,289 --> 01:02:10,960
code that would do what the programmer

1186
01:02:05,119 --> 01:02:10,960
might expect the the CPU to have done

1187
01:02:10,969 --> 01:02:15,599
rather than expecting you know something

1188
01:02:14,039 --> 01:02:19,610
that no one would ever expect it to do

1189
01:02:15,599 --> 01:02:19,610
unless you were a compiler vendor

1190
01:02:27,389 --> 01:02:31,750
long billion is the way to fix the snake

1191
01:02:30,039 --> 01:02:33,909
from getting stuck to just allow it to

1192
01:02:31,750 --> 01:02:37,690
run over itself or to make the snake AI

1193
01:02:33,909 --> 01:02:39,519
smart enough to not trap itself so I

1194
01:02:37,690 --> 01:02:41,289
would say first of all snakes probably

1195
01:02:39,519 --> 01:02:43,739
won't generally be that long so the

1196
01:02:41,289 --> 01:02:46,029
problem is is probably exacerbated a bit

1197
01:02:43,739 --> 01:02:54,479
in the current thing where we were just

1198
01:02:46,030 --> 01:02:54,480
testing it hmm excuse me but

1199
01:02:58,340 --> 01:03:04,190
a the AI would generally probably not be

1200
01:03:02,449 --> 01:03:07,579
randomly picking so it'd be less likely

1201
01:03:04,190 --> 01:03:09,650
to get into that state but B if it could

1202
01:03:07,579 --> 01:03:12,559
get stuck on itself

1203
01:03:09,650 --> 01:03:14,389
I'd say that's actually fine that just

1204
01:03:12,559 --> 01:03:16,219
means hey you can kill it really easily

1205
01:03:14,389 --> 01:03:18,710
I just go up and wail on it or whatever

1206
01:03:16,219 --> 01:03:21,019
right so I wouldn't even necessarily has

1207
01:03:18,710 --> 01:03:22,789
a problem like I said the AI is in this

1208
01:03:21,019 --> 01:03:25,480
game are supposed to be about being

1209
01:03:22,789 --> 01:03:29,840
predictable and interesting not about

1210
01:03:25,480 --> 01:03:31,190
being really smart because I don't think

1211
01:03:29,840 --> 01:03:36,140
that really adds anything to a game like

1212
01:03:31,190 --> 01:03:37,940
this so I would rather it be like the oh

1213
01:03:36,139 --> 01:03:39,650
if the snake occasionally gets caught

1214
01:03:37,940 --> 01:03:41,059
like awesome that means I can kill this

1215
01:03:39,650 --> 01:03:44,289
snake really easily whereas normally

1216
01:03:41,059 --> 01:03:44,289
they're much harder or something right

1217
01:03:47,800 --> 01:03:51,800
I've recently watched a video on the gjk

1218
01:03:50,300 --> 01:03:54,170
algorithm it's great thanks for that

1219
01:03:51,800 --> 01:03:57,380
you're welcome did you also do a video

1220
01:03:54,170 --> 01:03:58,610
on the EPA algorithm what is the EPA

1221
01:03:57,380 --> 01:04:01,070
Ogham the Environmental Protection

1222
01:03:58,610 --> 01:04:04,640
Agency I don't think they have an

1223
01:04:01,070 --> 01:04:07,640
algorithm sir Kane will the snake head

1224
01:04:04,639 --> 01:04:12,170
be able to move to the position of its

1225
01:04:07,639 --> 01:04:18,230
last segment so it can go in a circle or

1226
01:04:12,170 --> 01:04:22,610
loop we could allow that certainly but I

1227
01:04:18,230 --> 01:04:24,019
don't know that I care about that enough

1228
01:04:22,610 --> 01:04:26,720
to implement that but you certainly

1229
01:04:24,019 --> 01:04:29,179
could right you just transactionally D

1230
01:04:26,719 --> 01:04:33,819
occupy before you did your search and

1231
01:04:29,179 --> 01:04:33,819
then reoccupy after right

1232
01:04:49,849 --> 01:04:59,279
Shawn McGrath is expressing surprise

1233
01:04:53,780 --> 01:05:01,080
that I did a video on gjk yes I did a

1234
01:04:59,280 --> 01:05:02,760
video geunji decay what other

1235
01:05:01,079 --> 01:05:04,500
explanation videos have you done well

1236
01:05:02,760 --> 01:05:10,920
you knew I did a quaternion double cover

1237
01:05:04,500 --> 01:05:12,750
one right para Jane and are you going to

1238
01:05:10,920 --> 01:05:14,250
implement every I thing and bring entity

1239
01:05:12,750 --> 01:05:16,710
when does path funding and rest of a guy

1240
01:05:14,250 --> 01:05:19,920
coming on schedule also can you say some

1241
01:05:16,710 --> 01:05:22,710
good reference book for AI I cannot say

1242
01:05:19,920 --> 01:05:26,220
that I know any good reference books for

1243
01:05:22,710 --> 01:05:29,130
AI so I can help you there

1244
01:05:26,219 --> 01:05:32,759
as for if I'm going to implement every

1245
01:05:29,130 --> 01:05:36,119
AI thing in the brain yeah basically

1246
01:05:32,760 --> 01:05:39,000
like brain dot CPP will probably have

1247
01:05:36,119 --> 01:05:43,679
all of the control logic in there and

1248
01:05:39,000 --> 01:05:45,539
what we'll do is like right now you can

1249
01:05:43,679 --> 01:05:47,250
already see it starting to happen and so

1250
01:05:45,539 --> 01:05:50,009
will you know we'll make this a reality

1251
01:05:47,250 --> 01:05:52,289
soon enough like these sorts of pieces

1252
01:05:50,010 --> 01:05:54,270
of code are very self similar so we'll

1253
01:05:52,289 --> 01:05:56,519
be breaking these out into utility

1254
01:05:54,269 --> 01:05:58,650
functions so that you know this isn't so

1255
01:05:56,519 --> 01:06:00,989
it's not so complicated to write one of

1256
01:05:58,650 --> 01:06:03,150
these right so instead of having to do

1257
01:06:00,989 --> 01:06:05,250
something like Oh find the closest hero

1258
01:06:03,150 --> 01:06:07,410
manually they'll just be like a simple

1259
01:06:05,250 --> 01:06:10,139
call that's like get closest of type

1260
01:06:07,409 --> 01:06:11,940
blah and then hop towards blah right and

1261
01:06:10,139 --> 01:06:18,769
the brains will just be built out of

1262
01:06:11,940 --> 01:06:21,269
those utility functions basically so

1263
01:06:18,769 --> 01:06:24,570
those are pretty straightforward and

1264
01:06:21,269 --> 01:06:25,739
that's how this this thing will go after

1265
01:06:24,570 --> 01:06:27,269
when they're on the schedule we don't

1266
01:06:25,739 --> 01:06:29,489
have a schedule that you know game

1267
01:06:27,269 --> 01:06:31,139
development rarely operates in a like a

1268
01:06:29,489 --> 01:06:32,759
rigid fashion in that way you have to

1269
01:06:31,139 --> 01:06:34,829
work on what makes sense to work on at

1270
01:06:32,760 --> 01:06:37,410
the time so I have no idea when we'll do

1271
01:06:34,829 --> 01:06:39,690
various AI things when they come up when

1272
01:06:37,409 --> 01:06:42,059
it is most logical to do them for from

1273
01:06:39,690 --> 01:06:45,170
the architecture standpoint of the

1274
01:06:42,059 --> 01:06:45,170
program is when we'll do them

1275
01:06:47,690 --> 01:06:55,010
Shawn McGrath said yes and and I am

1276
01:06:50,929 --> 01:06:56,149
gooey but what else so I don't think

1277
01:06:55,010 --> 01:06:59,780
there's many others I think there's

1278
01:06:56,150 --> 01:07:01,369
there's one on in on Bezier splines and

1279
01:06:59,780 --> 01:07:03,920
how you can understand how they're

1280
01:07:01,369 --> 01:07:04,909
actually constructed and how you for

1281
01:07:03,920 --> 01:07:06,559
example don't have to look up the

1282
01:07:04,909 --> 01:07:08,480
formula in a book you can just always

1283
01:07:06,559 --> 01:07:11,090
derive it yourself really trivially by

1284
01:07:08,480 --> 01:07:13,730
just remembering that it's all linear

1285
01:07:11,090 --> 01:07:17,030
blends all the way down so I did one on

1286
01:07:13,730 --> 01:07:20,960
that but I don't remember there's many

1287
01:07:17,030 --> 01:07:23,360
others expanding polytope algorithm okay

1288
01:07:20,960 --> 01:07:28,280
no I've never done an explanation of the

1289
01:07:23,360 --> 01:07:30,680
expanding poly tip algorithm as you can

1290
01:07:28,280 --> 01:07:33,350
imagine if you apply the same logic that

1291
01:07:30,679 --> 01:07:35,179
I applied in the gjk video to the

1292
01:07:33,349 --> 01:07:37,670
expanding poly tope algorithm you should

1293
01:07:35,179 --> 01:07:41,239
sort of pretty readily see how there

1294
01:07:37,670 --> 01:07:42,740
it's a very geometric algorithm but I if

1295
01:07:41,239 --> 01:07:46,009
I remember correctly expanding polytope

1296
01:07:42,739 --> 01:07:49,459
is a little messier gjk is very very

1297
01:07:46,010 --> 01:08:00,500
simple and I seen remember EPA being

1298
01:07:49,460 --> 01:08:02,329
slightly less simple but yeah if you're

1299
01:08:00,500 --> 01:08:07,300
looking for those old old videos they're

1300
01:08:02,329 --> 01:08:07,299
really old but you can go to youtube.com

1301
01:08:08,380 --> 01:08:17,088
can you do senior Torre probably not

1302
01:08:12,010 --> 01:08:22,310
that is not me all right YouTube Casey

1303
01:08:17,088 --> 01:08:27,769
and mera Torre okay so it's Casey Mira

1304
01:08:22,310 --> 01:08:30,470
Tori so here's the videos so these three

1305
01:08:27,770 --> 01:08:35,569
here are the ones that were old videos

1306
01:08:30,470 --> 01:08:37,369
this one's a newer one and I think those

1307
01:08:35,569 --> 01:08:40,210
are the only ones so this one this one

1308
01:08:37,369 --> 01:08:40,210
this one in this one

1309
01:08:42,060 --> 01:08:48,130
yeah and these used to be up on my other

1310
01:08:46,720 --> 01:08:49,990
site that were directly but I uploaded

1311
01:08:48,130 --> 01:08:53,159
them to YouTube now so you can get them

1312
01:08:49,989 --> 01:08:53,159
directly off of here

1313
01:09:08,238 --> 01:09:13,908
could you briefly explain how a snake

1314
01:09:10,998 --> 01:09:22,519
segment knows which node to jump to a

1315
01:09:13,908 --> 01:09:26,420
non habe segment that is so hmm

1316
01:09:22,519 --> 01:09:29,359
oh if someone just said don't forget the

1317
01:09:26,420 --> 01:09:36,559
API segment you're right that's a good

1318
01:09:29,359 --> 01:09:37,819
point there is one other one this one

1319
01:09:36,559 --> 01:09:39,588
designing and evaluating reusable

1320
01:09:37,819 --> 01:09:41,719
components so there was one other one

1321
01:09:39,588 --> 01:09:42,670
that I forgot to mention sorry about

1322
01:09:41,719 --> 01:09:48,198
that

1323
01:09:42,670 --> 01:09:50,149
all right anyway so the way that that

1324
01:09:48,198 --> 01:09:53,778
snake code works is really pretty simple

1325
01:09:50,149 --> 01:09:57,109
all all it does is it uses the monster

1326
01:09:53,779 --> 01:09:58,610
code like you saw where is it uses the

1327
01:09:57,109 --> 01:10:00,649
monster code to just figure out where

1328
01:09:58,609 --> 01:10:03,558
the closest traversable is to the head

1329
01:10:00,649 --> 01:10:06,198
that's not occupied right it then says

1330
01:10:03,559 --> 01:10:08,090
okay jump there then all it says as well

1331
01:10:06,198 --> 01:10:10,609
all right I've got some number of

1332
01:10:08,090 --> 01:10:12,319
segments that follow me so just loop

1333
01:10:10,609 --> 01:10:15,738
through every segment and tell that

1334
01:10:12,319 --> 01:10:18,229
segment to jump to whichever place I was

1335
01:10:15,738 --> 01:10:20,779
just at and that continues down the line

1336
01:10:18,229 --> 01:10:22,428
so the head is leaving a square right

1337
01:10:20,779 --> 01:10:25,639
this is the square the head was

1338
01:10:22,429 --> 01:10:28,069
occupying its gonna leave that square so

1339
01:10:25,639 --> 01:10:29,569
that goes into last occupying then we

1340
01:10:28,069 --> 01:10:32,779
just loop through every segment and say

1341
01:10:29,569 --> 01:10:34,488
ok this segment goes to that right it

1342
01:10:32,779 --> 01:10:37,460
goes to that place where the head was

1343
01:10:34,488 --> 01:10:39,948
then we say well replace that last

1344
01:10:37,460 --> 01:10:42,469
occupied variable with wherever we were

1345
01:10:39,948 --> 01:10:44,299
so every time someone leaves it

1346
01:10:42,469 --> 01:10:46,960
remembers where it left and tells the

1347
01:10:44,300 --> 01:10:49,279
next person down the line to hop to that

1348
01:10:46,960 --> 01:10:52,099
so it's just like a bucket brigade it's

1349
01:10:49,279 --> 01:10:54,590
like every segment of the snake leaves

1350
01:10:52,099 --> 01:10:56,929
the place and tells the next segment to

1351
01:10:54,590 --> 01:11:00,909
hop to that place so that just hops each

1352
01:10:56,929 --> 01:11:00,908
one hops into its own position

1353
01:11:10,060 --> 01:11:15,890
boozy beaver well I've got gjk an EPA

1354
01:11:13,130 --> 01:11:18,409
implant in 2d and gjk in 3d but I'm a

1355
01:11:15,890 --> 01:11:20,840
bit struggling at EPA in 3d yeah well

1356
01:11:18,409 --> 01:11:24,729
yeah that that's reasonable right it's a

1357
01:11:20,840 --> 01:11:31,069
lot more complicated in 3d just like gjk

1358
01:11:24,729 --> 01:11:33,919
that the conceptualising the cases in 3d

1359
01:11:31,069 --> 01:11:37,569
for those algorithms is just way harder

1360
01:11:33,920 --> 01:11:44,529
in 3d because there's way more different

1361
01:11:37,569 --> 01:11:44,529
types of constructs right so

1362
01:12:23,399 --> 01:12:27,939
alright it looks like we're done with

1363
01:12:25,270 --> 01:12:39,430
the queues I don't see any more coming

1364
01:12:27,939 --> 01:12:40,719
up so I'm gonna wrap it up close alright

1365
01:12:39,430 --> 01:12:42,220
thank you everyone for joining me for

1366
01:12:40,720 --> 01:12:43,869
the episode of handmade hero it's been a

1367
01:12:42,220 --> 01:12:46,630
pleasure coding with you as always if

1368
01:12:43,869 --> 01:12:48,460
you would like to follow along at home

1369
01:12:46,630 --> 01:12:50,050
you can always pre-order the game at

1370
01:12:48,460 --> 01:12:52,300
handmade hero or gonna come to the

1371
01:12:50,050 --> 01:12:55,119
source codes for your educational

1372
01:12:52,300 --> 01:12:57,460
pleasures we also form site you go to

1373
01:12:55,119 --> 01:12:59,109
one ask questions a patreon page you can

1374
01:12:57,460 --> 01:13:01,960
go to if you would like to support our

1375
01:12:59,109 --> 01:13:03,670
fine video series a schedule about that

1376
01:13:01,960 --> 01:13:05,350
tells you when we are live and of course

1377
01:13:03,670 --> 01:13:10,000
an episode guide if you would like to

1378
01:13:05,350 --> 01:13:11,800
catch up on past episodes that is it I

1379
01:13:10,000 --> 01:13:16,270
will be back here tomorrow at 5 p.m.

1380
01:13:11,800 --> 01:13:21,670
Pacific Daylight Time when we will

1381
01:13:16,270 --> 01:13:23,440
probably do the spatial query or

1382
01:13:21,670 --> 01:13:26,170
movement mode stuff I'm not sure which

1383
01:13:23,439 --> 01:13:27,939
of those two will do you know what

1384
01:13:26,170 --> 01:13:29,289
movement mode will do movement mode

1385
01:13:27,939 --> 01:13:30,909
tomorrow because we gotta make a

1386
01:13:29,289 --> 01:13:32,590
floating movement mode and we want to

1387
01:13:30,909 --> 01:13:34,659
solidify the other movement mode so

1388
01:13:32,590 --> 01:13:41,020
we'll kind of we'll try to make movement

1389
01:13:34,659 --> 01:13:42,489
mode a more specific thing and you know

1390
01:13:41,020 --> 01:13:44,140
maybe we'll try adding one more type of

1391
01:13:42,489 --> 01:13:46,059
movement like maybe burrowing through

1392
01:13:44,140 --> 01:13:49,420
the ground for example so someone who

1393
01:13:46,060 --> 01:13:51,220
doesn't really collide with stuff at all

1394
01:13:49,420 --> 01:13:53,289
but can move from place to place would

1395
01:13:51,220 --> 01:13:55,449
be another one or ghosts like that kind

1396
01:13:53,289 --> 01:13:57,100
of thing so we can try to make different

1397
01:13:55,449 --> 01:13:58,269
movement modes that make sense or

1398
01:13:57,100 --> 01:14:00,520
something like that

1399
01:13:58,270 --> 01:14:01,930
and kind of solidify that down because

1400
01:14:00,520 --> 01:14:04,060
you know that that's or something we

1401
01:14:01,930 --> 01:14:07,750
want to get right so that's about it

1402
01:14:04,060 --> 01:14:08,680
hope see you there until then have fun

1403
01:14:07,750 --> 01:14:11,010
programming I'll see you guys on the

1404
01:14:08,680 --> 01:14:11,010
Internet

