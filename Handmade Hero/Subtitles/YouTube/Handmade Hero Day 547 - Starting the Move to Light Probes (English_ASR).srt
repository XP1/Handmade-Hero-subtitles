1
00:00:00,060 --> 00:00:03,810
hello everyone welcome to handmade Hero

2
00:00:01,860 --> 00:00:08,339
show recode a complete game live on

3
00:00:03,810 --> 00:00:11,160
stream we are probably and I am loath to

4
00:00:08,339 --> 00:00:13,798
say it I know that it's a bit it's a bit

5
00:00:11,160 --> 00:00:16,890
dangerous in there it's dangerous to go

6
00:00:13,798 --> 00:00:18,210
alone we are at the point where I kind

7
00:00:16,890 --> 00:00:20,100
of would like to start looking at the

8
00:00:18,210 --> 00:00:22,109
lighting and getting that into a

9
00:00:20,100 --> 00:00:23,689
shippable State we did a bunch of work

10
00:00:22,109 --> 00:00:26,070
on it we got something that's alright

11
00:00:23,689 --> 00:00:27,300
but it's not quite there yet it's not

12
00:00:26,070 --> 00:00:31,439
quite something that I think we could

13
00:00:27,300 --> 00:00:34,890
ship reliably it's too slow and it has

14
00:00:31,439 --> 00:00:37,170
some issues I think it would be hard to

15
00:00:34,890 --> 00:00:41,250
use to light our sprites the way we want

16
00:00:37,170 --> 00:00:43,050
to so I guess what I would say is I

17
00:00:41,250 --> 00:00:45,000
think now might be the time to go in and

18
00:00:43,049 --> 00:00:46,558
clean that up and one of the reasons I

19
00:00:45,000 --> 00:00:49,500
say that is because we're getting pretty

20
00:00:46,558 --> 00:00:51,750
close to what I would consider a

21
00:00:49,500 --> 00:00:54,480
graphically complete looking sort of

22
00:00:51,750 --> 00:00:56,840
game and the big problem right now is

23
00:00:54,479 --> 00:00:59,459
that the lighting just isn't isn't there

24
00:00:56,840 --> 00:01:01,170
and two things one you can see our

25
00:00:59,460 --> 00:01:03,058
sprites aren't lit so they look stupid

26
00:01:01,170 --> 00:01:04,799
all of this stuff is lit properly and

27
00:01:03,058 --> 00:01:07,048
the sprites aren't you hop into a dark

28
00:01:04,799 --> 00:01:09,868
area you don't get darker right and

29
00:01:07,049 --> 00:01:11,280
that's not a huge problem to solve like

30
00:01:09,868 --> 00:01:15,390
we could take our current lighting

31
00:01:11,280 --> 00:01:17,009
system and solve that but it's not ideal

32
00:01:15,390 --> 00:01:18,599
to solve in the current system so

33
00:01:17,009 --> 00:01:20,310
looking at how we want to change that's

34
00:01:18,599 --> 00:01:21,569
one thing and then the other thing is

35
00:01:20,310 --> 00:01:23,340
it's just too slow like we already

36
00:01:21,569 --> 00:01:24,750
you're just doing a sub-region you can

37
00:01:23,340 --> 00:01:26,490
see here that's not quite big enough

38
00:01:24,750 --> 00:01:28,709
because you can see the edge of it when

39
00:01:26,489 --> 00:01:30,289
we zoom out a bit in things where we

40
00:01:28,709 --> 00:01:33,359
want to be zoomed out a little bit more

41
00:01:30,290 --> 00:01:36,900
so that's a bit of an issue but also we

42
00:01:33,359 --> 00:01:40,319
have the issue that in general even even

43
00:01:36,900 --> 00:01:42,420
in this sort of smaller state in a fully

44
00:01:40,319 --> 00:01:44,158
optimized build on a modern machine this

45
00:01:42,420 --> 00:01:46,680
machine is pretty fast it's not the

46
00:01:44,159 --> 00:01:49,890
fastest but it's pretty fast it's

47
00:01:46,680 --> 00:01:51,509
sucking down like all of our time and

48
00:01:49,890 --> 00:01:53,129
it's sucking out so much time that even

49
00:01:51,509 --> 00:01:56,790
things that kind of need to be optimized

50
00:01:53,129 --> 00:01:58,199
like render ground cover is made to look

51
00:01:56,790 --> 00:02:01,890
small and insignificant

52
00:01:58,200 --> 00:02:04,850
by comparison I mean here's 1,600 calls

53
00:02:01,890 --> 00:02:08,189
to a relatively inefficient routine and

54
00:02:04,849 --> 00:02:11,430
that's only taking 4% of our time and

55
00:02:08,189 --> 00:02:13,500
why is that when it's so piggy

56
00:02:11,430 --> 00:02:16,469
and the answer is just my

57
00:02:13,500 --> 00:02:19,020
Lord compute light propagation just eats

58
00:02:16,469 --> 00:02:19,949
all the time why does it need so much

59
00:02:19,020 --> 00:02:22,439
time

60
00:02:19,949 --> 00:02:25,769
well because it's actually using the

61
00:02:22,439 --> 00:02:30,900
entire CPU we've got a you know I guess

62
00:02:25,770 --> 00:02:33,360
six is it six here one two three four

63
00:02:30,900 --> 00:02:35,099
five six we've got six additional

64
00:02:33,360 --> 00:02:37,290
threads including the main threads so

65
00:02:35,099 --> 00:02:39,870
all the cores of the processor minus 1

66
00:02:37,289 --> 00:02:41,280
which we leave for you know handling

67
00:02:39,870 --> 00:02:45,500
sort of servicing other stuff at the

68
00:02:41,280 --> 00:02:48,780
time like OS garbage and stuff like that

69
00:02:45,500 --> 00:02:53,129
we're using almost all the resources of

70
00:02:48,780 --> 00:02:57,270
the CPU and we're still getting a pretty

71
00:02:53,129 --> 00:02:59,789
lousy throughput on e not even in like

72
00:02:57,270 --> 00:03:02,640
particularly large swath of the world

73
00:02:59,789 --> 00:03:04,650
and so you know that's not the kind of

74
00:03:02,639 --> 00:03:07,708
thing that we really want to have in

75
00:03:04,650 --> 00:03:11,039
here and furthermore that's before it

76
00:03:07,709 --> 00:03:15,300
even has to do anything we before we've

77
00:03:11,039 --> 00:03:18,569
made any accommodations for lighting our

78
00:03:15,300 --> 00:03:23,580
sprites so it's a bad situation it's

79
00:03:18,569 --> 00:03:25,829
it's not something where we just really

80
00:03:23,580 --> 00:03:29,390
don't want to see this it's gonna create

81
00:03:25,830 --> 00:03:37,620
problems for us and we need to be more

82
00:03:29,389 --> 00:03:39,988
judicious as we go here ok so let's talk

83
00:03:37,620 --> 00:03:43,439
about some like where's the slowness

84
00:03:39,989 --> 00:03:46,230
coming from you know what's the what's

85
00:03:43,439 --> 00:03:47,400
the actual problem I don't remember yeah

86
00:03:46,229 --> 00:03:51,379
we're not really printing out much in

87
00:03:47,400 --> 00:03:54,539
the way of stats right now but you know

88
00:03:51,379 --> 00:03:59,069
what's going on like why are we so slow

89
00:03:54,539 --> 00:04:02,340
and what can we do to speed it up you

90
00:03:59,069 --> 00:04:04,919
know we got issues right we got we got

91
00:04:02,340 --> 00:04:07,349
issues too much time spent in the

92
00:04:04,919 --> 00:04:10,708
lighting even though we've thrown all

93
00:04:07,349 --> 00:04:13,469
the CPUs at it so first of all let's

94
00:04:10,709 --> 00:04:16,918
start with a couple basics it's not a

95
00:04:13,469 --> 00:04:19,858
parallelization problem where we're not

96
00:04:16,918 --> 00:04:22,079
locking or anything else we've perfectly

97
00:04:19,858 --> 00:04:24,029
segregated if I remember correctly the

98
00:04:22,079 --> 00:04:26,339
Lightning computation such that it

99
00:04:24,029 --> 00:04:27,329
actually fans out to all the processors

100
00:04:26,339 --> 00:04:30,359
with no

101
00:04:27,329 --> 00:04:32,550
King so it's not the kind of algorithm

102
00:04:30,360 --> 00:04:34,439
where a problem is just a subtlety of

103
00:04:32,550 --> 00:04:35,030
the multi-threading or something like

104
00:04:34,439 --> 00:04:37,560
that

105
00:04:35,029 --> 00:04:39,269
we're multi-threading it pretty well I

106
00:04:37,560 --> 00:04:41,908
mean obviously you can always probably

107
00:04:39,269 --> 00:04:45,139
do a little bit better but it's pretty

108
00:04:41,908 --> 00:04:50,699
darn clean the way that's being

109
00:04:45,139 --> 00:04:54,389
multi-threaded so the issue you know for

110
00:04:50,699 --> 00:04:56,069
us is beyond the multi-threading so we

111
00:04:54,389 --> 00:04:58,860
can I think we can safely put that aside

112
00:04:56,069 --> 00:05:00,689
and say that's not what we're looking at

113
00:04:58,860 --> 00:05:07,919
here okay

114
00:05:00,689 --> 00:05:09,209
think to GPU versus CPU so the operation

115
00:05:07,918 --> 00:05:11,939
that we're doing which is our ray

116
00:05:09,209 --> 00:05:15,209
tracing here we're doing entirely on the

117
00:05:11,939 --> 00:05:18,269
CPU side obviously for these kinds of

118
00:05:15,209 --> 00:05:22,560
operations GPUs have a lot more

119
00:05:18,269 --> 00:05:25,168
floating-point power backing them up we

120
00:05:22,560 --> 00:05:29,310
could probably get a good speed up by

121
00:05:25,168 --> 00:05:32,399
switching from the CPU to the GPU but

122
00:05:29,310 --> 00:05:34,560
not as good as the kind of speed up that

123
00:05:32,399 --> 00:05:36,959
we would expect if we were moving a

124
00:05:34,560 --> 00:05:39,300
traditional rendering operation over the

125
00:05:36,959 --> 00:05:43,198
GPU and the reason for that is just

126
00:05:39,300 --> 00:05:45,329
because the GPU is not as good at

127
00:05:43,199 --> 00:05:48,509
arbitrary calculations involving

128
00:05:45,329 --> 00:05:51,448
arbitrary memory walking as compared to

129
00:05:48,509 --> 00:05:54,509
the CPU cpus are set up for that GPUs

130
00:05:51,449 --> 00:05:59,449
are not at least until you get to for

131
00:05:54,509 --> 00:06:01,919
example the RT X stuff like with Nvidia

132
00:05:59,449 --> 00:06:05,430
where the chip is more optimized for it

133
00:06:01,918 --> 00:06:07,408
and you use very specific algorithms

134
00:06:05,430 --> 00:06:09,629
that are designed to minimize the degree

135
00:06:07,408 --> 00:06:13,620
to which the GPU gets hurt by that fact

136
00:06:09,629 --> 00:06:17,699
so could we make some headway by milla

137
00:06:13,620 --> 00:06:19,050
GPU yes that's I think that's true we

138
00:06:17,699 --> 00:06:21,658
would have to probably modify our

139
00:06:19,050 --> 00:06:22,710
algorithms a little bit but that

140
00:06:21,658 --> 00:06:24,120
wouldn't necessarily be in the end of

141
00:06:22,709 --> 00:06:27,978
the world and we definitely could get a

142
00:06:24,120 --> 00:06:31,560
speed-up by moving it to the GPU however

143
00:06:27,978 --> 00:06:33,658
that would extremely high that would put

144
00:06:31,560 --> 00:06:36,000
a very high load on the GPU

145
00:06:33,658 --> 00:06:37,860
we're already demanding a lot from the

146
00:06:36,000 --> 00:06:40,620
GPU because we're doing a lot of high

147
00:06:37,860 --> 00:06:43,250
quality fill work we're using

148
00:06:40,620 --> 00:06:48,030
to do order independent transparency and

149
00:06:43,250 --> 00:06:51,329
things like this and multi sampling all

150
00:06:48,029 --> 00:06:54,869
stuff we're kind of wanting to use our

151
00:06:51,329 --> 00:06:57,300
GPU for actual rendering and so using

152
00:06:54,870 --> 00:06:58,590
the CPU which we do not need for

153
00:06:57,300 --> 00:07:00,990
anything else really

154
00:06:58,589 --> 00:07:03,629
you know our game doesn't do physics

155
00:07:00,990 --> 00:07:06,060
simulation in any kind of really

156
00:07:03,629 --> 00:07:07,589
extensive way and so we're not really

157
00:07:06,060 --> 00:07:12,329
anticipating putting a high stress on

158
00:07:07,589 --> 00:07:14,788
the CPU for other things we don't have

159
00:07:12,329 --> 00:07:16,168
thousands of characters walking around

160
00:07:14,788 --> 00:07:18,538
on the scene or something like that you

161
00:07:16,168 --> 00:07:19,740
know we don't have a lot for the CPU to

162
00:07:18,538 --> 00:07:21,180
do and we've been pretty efficient with

163
00:07:19,740 --> 00:07:24,210
our CPU usage right we haven't done

164
00:07:21,180 --> 00:07:27,560
stupid stuff well we've done some stupid

165
00:07:24,209 --> 00:07:30,689
stuff but not stupid enough uh and so

166
00:07:27,560 --> 00:07:32,339
utilizing the GPU has some downsides

167
00:07:30,689 --> 00:07:34,589
which is to say that we're leaving the

168
00:07:32,339 --> 00:07:36,839
CPU kind of not doing much at all and

169
00:07:34,589 --> 00:07:39,299
we're putting a lot of stress on the GPU

170
00:07:36,839 --> 00:07:40,799
at that point and I don't know that

171
00:07:39,300 --> 00:07:42,538
that's necessarily the best way to go

172
00:07:40,800 --> 00:07:45,270
either right so there's some issues

173
00:07:42,538 --> 00:07:49,228
there I think that are worth keeping in

174
00:07:45,269 --> 00:07:51,538
mind however that algorithmic change is

175
00:07:49,228 --> 00:07:53,189
worth understanding and it's worth

176
00:07:51,538 --> 00:07:53,639
understanding that there's more we could

177
00:07:53,189 --> 00:07:55,978
do

178
00:07:53,639 --> 00:07:59,160
algorithmically with our CPU version as

179
00:07:55,978 --> 00:08:01,199
well just in terms of how we're like

180
00:07:59,160 --> 00:08:02,400
associated raised and casting them and

181
00:08:01,199 --> 00:08:06,899
things like that there's probably more

182
00:08:02,399 --> 00:08:08,609
we could do there as well right okay so

183
00:08:06,899 --> 00:08:10,168
that brings us to the final point which

184
00:08:08,610 --> 00:08:14,160
is the one that I actually want to focus

185
00:08:10,168 --> 00:08:15,959
on today which is do i realistically

186
00:08:14,160 --> 00:08:18,180
think our problem is just

187
00:08:15,959 --> 00:08:21,538
implementational like that like how did

188
00:08:18,180 --> 00:08:23,160
we actually type the code in versus are

189
00:08:21,538 --> 00:08:25,079
we just fundamentally doing some things

190
00:08:23,160 --> 00:08:26,939
wrong in the algorithm that if we fix

191
00:08:25,079 --> 00:08:29,550
them we would get a lot faster without

192
00:08:26,939 --> 00:08:32,059
really having to worry about particular

193
00:08:29,550 --> 00:08:35,009
details in the implementation themselves

194
00:08:32,059 --> 00:08:36,478
and that's really the thing that I want

195
00:08:35,009 --> 00:08:40,049
to focus more on because I think the

196
00:08:36,479 --> 00:08:42,839
answer there is probably yes so I guess

197
00:08:40,049 --> 00:08:49,019
what I'm saying is I think our approach

198
00:08:42,839 --> 00:08:52,860
should be improved first because I think

199
00:08:49,019 --> 00:08:54,278
we can by doing some things smarter than

200
00:08:52,860 --> 00:08:57,310
what we're doing right now

201
00:08:54,278 --> 00:08:59,289
and if we improve the approach I think

202
00:08:57,309 --> 00:09:01,508
we may get to a point we're doing it on

203
00:08:59,289 --> 00:09:03,338
the CPU is actually fine and we don't

204
00:09:01,509 --> 00:09:04,659
have to worry about it anymore at which

205
00:09:03,339 --> 00:09:06,490
point we don't have to worry about

206
00:09:04,659 --> 00:09:08,049
improving the algorithms and

207
00:09:06,490 --> 00:09:08,829
transferring them to the GPU which is

208
00:09:08,049 --> 00:09:12,039
more error-prone

209
00:09:08,828 --> 00:09:14,438
and requires a much beefier GPU because

210
00:09:12,039 --> 00:09:16,389
when we go to optimize our renderer for

211
00:09:14,438 --> 00:09:18,849
lower you know whatever our lowest end

212
00:09:16,389 --> 00:09:21,850
system ends up being it's gonna be a lot

213
00:09:18,850 --> 00:09:24,100
harder to do if we've got to have a huge

214
00:09:21,850 --> 00:09:29,079
ray tracing pass on there in addition to

215
00:09:24,100 --> 00:09:30,459
everything else we're doing right so I

216
00:09:29,078 --> 00:09:33,128
think the thing that I'd like to focus

217
00:09:30,458 --> 00:09:35,649
on first before we do anything else is

218
00:09:33,129 --> 00:09:38,740
I'd like to figure out what we're gonna

219
00:09:35,649 --> 00:09:42,458
do algorithmically different from what

220
00:09:38,740 --> 00:09:45,970
we're doing right now and I think just

221
00:09:42,458 --> 00:09:49,088
based on kind of a you know more passing

222
00:09:45,970 --> 00:09:52,629
familiarity with what the state of the

223
00:09:49,089 --> 00:09:55,689
art is in the higher-end rendering world

224
00:09:52,629 --> 00:10:02,740
so not handmade hero but you know you're

225
00:09:55,688 --> 00:10:06,278
writing the next doom or the next you

226
00:10:02,740 --> 00:10:10,180
know Grand Theft Auto or something the

227
00:10:06,278 --> 00:10:12,039
next battlefield six or whatever and

228
00:10:10,179 --> 00:10:13,120
you're just you've got a whole rendering

229
00:10:12,039 --> 00:10:17,110
team you're sitting there doing

230
00:10:13,120 --> 00:10:20,049
everything you can to max out the visual

231
00:10:17,110 --> 00:10:24,039
quality of this game that you're working

232
00:10:20,049 --> 00:10:26,859
on looking at the way that they do

233
00:10:24,039 --> 00:10:31,799
things I think there's one pre major

234
00:10:26,860 --> 00:10:37,329
change that we can make that would

235
00:10:31,799 --> 00:10:38,708
improve our quality a lot I think for

236
00:10:37,328 --> 00:10:40,659
the same amount of work that we're doing

237
00:10:38,708 --> 00:10:44,528
or maybe I should say a little bit

238
00:10:40,659 --> 00:10:47,049
differently it would improve the speed

239
00:10:44,528 --> 00:10:50,198
at which we can arrive at roughly the

240
00:10:47,049 --> 00:10:53,500
same thing we're looking at now while at

241
00:10:50,198 --> 00:10:57,609
the same time making it easier for us to

242
00:10:53,500 --> 00:10:59,919
light our sprites cheaply and and so I

243
00:10:57,610 --> 00:11:04,808
think that that's probably the thing I

244
00:10:59,919 --> 00:11:07,259
would I would focus on and I do think

245
00:11:04,808 --> 00:11:11,759
earlier on I didn't really

246
00:11:07,259 --> 00:11:12,720
I didn't really consider this as a way

247
00:11:11,759 --> 00:11:16,730
to do things

248
00:11:12,720 --> 00:11:20,070
largely because I think I didn't quite I

249
00:11:16,730 --> 00:11:22,379
didn't quite have a handle on how you

250
00:11:20,070 --> 00:11:25,920
would do it in real time as opposed to

251
00:11:22,379 --> 00:11:28,769
pre-computed but I think I kind of get

252
00:11:25,919 --> 00:11:30,149
that more now and so let me talk a

253
00:11:28,769 --> 00:11:31,799
little bit about this and it's it's not

254
00:11:30,149 --> 00:11:35,159
a huge change from what we're doing

255
00:11:31,799 --> 00:11:36,899
actually but it's it's enough of it

256
00:11:35,159 --> 00:11:39,209
makes enough of a difference just

257
00:11:36,899 --> 00:11:41,009
because of a subtle change in the way

258
00:11:39,210 --> 00:11:43,950
you think about what you're doing it

259
00:11:41,009 --> 00:11:46,169
does have a pretty I think or could have

260
00:11:43,950 --> 00:11:53,160
a potentially large effect on what we're

261
00:11:46,169 --> 00:11:55,229
doing so let's talk about it okay

262
00:11:53,159 --> 00:11:58,860
so what I'm talking about is light

263
00:11:55,230 --> 00:12:01,889
probes and you see them around a lot and

264
00:11:58,860 --> 00:12:03,659
the question is can they work for us why

265
00:12:01,889 --> 00:12:04,889
am i mentioning them what would be the

266
00:12:03,659 --> 00:12:07,439
difference between what we have now and

267
00:12:04,889 --> 00:12:09,059
them why do I think that this is the

268
00:12:07,440 --> 00:12:12,150
thing that we should investigate as our

269
00:12:09,059 --> 00:12:14,819
first attempt at making our lighting

270
00:12:12,149 --> 00:12:18,539
solution more shippable and less

271
00:12:14,820 --> 00:12:22,050
experimental okay so what a light probe

272
00:12:18,539 --> 00:12:23,879
is honestly you could even use that term

273
00:12:22,049 --> 00:12:26,939
to describe what we're already doing in

274
00:12:23,879 --> 00:12:28,019
a sense although I'll say why that the

275
00:12:26,940 --> 00:12:31,500
term is traditionally applied to

276
00:12:28,019 --> 00:12:33,569
something slightly different so let's

277
00:12:31,500 --> 00:12:36,779
talk about sort of like an hours versus

278
00:12:33,570 --> 00:12:39,210
there's kind of a thing in terms of

279
00:12:36,779 --> 00:12:43,949
light probes and with an eye towards why

280
00:12:39,210 --> 00:12:46,350
theirs is better than ours I think and

281
00:12:43,950 --> 00:12:47,700
then we'll also say because I was aware

282
00:12:46,350 --> 00:12:49,950
of light probes when we started and will

283
00:12:47,700 --> 00:12:53,370
say I'll also talk about why I didn't

284
00:12:49,950 --> 00:12:56,280
immediately choose to do them and and

285
00:12:53,370 --> 00:12:58,259
sort of why why I think that maybe even

286
00:12:56,279 --> 00:13:02,850
my original reasons for not doing them

287
00:12:58,259 --> 00:13:04,980
or not warranted okay so the way we

288
00:13:02,850 --> 00:13:08,490
currently do things is we sort of do do

289
00:13:04,980 --> 00:13:10,980
light probes in a sense what we do is we

290
00:13:08,490 --> 00:13:12,629
have services in the world right and

291
00:13:10,980 --> 00:13:15,090
those services because we're sort of

292
00:13:12,629 --> 00:13:17,399
going for a tiled aesthetic tend to be

293
00:13:15,090 --> 00:13:19,889
kind of cube like they're not exactly

294
00:13:17,399 --> 00:13:21,019
cubes it's not like minecraft they're

295
00:13:19,889 --> 00:13:23,509
arbitrary

296
00:13:21,019 --> 00:13:25,809
betray rectangular right rectangular

297
00:13:23,509 --> 00:13:28,539
prisms it can be any sort of shape and

298
00:13:25,809 --> 00:13:31,279
they can be rotated as well and all that

299
00:13:28,539 --> 00:13:33,379
but they are fundamentally rectangular

300
00:13:31,279 --> 00:13:35,149
solids so we know that we've got sort of

301
00:13:33,379 --> 00:13:37,429
these quad phases you know like this

302
00:13:35,149 --> 00:13:39,500
sort of thing and we know that on each

303
00:13:37,429 --> 00:13:41,329
of those quad phases what we're gonna do

304
00:13:39,500 --> 00:13:43,159
is we're gonna put sample points down

305
00:13:41,330 --> 00:13:44,180
right that's sort of what we were doing

306
00:13:43,159 --> 00:13:47,059
is putting down these sample points

307
00:13:44,179 --> 00:13:48,379
right and I believe right now we're

308
00:13:47,059 --> 00:13:51,129
doing that I think in a fairly

309
00:13:48,379 --> 00:13:53,750
structural way like this sort of thing

310
00:13:51,129 --> 00:13:55,610
but there's really no reason for that we

311
00:13:53,750 --> 00:13:57,289
could perturb them and make them random

312
00:13:55,610 --> 00:14:01,129
our algorithm doesn't depend on the

313
00:13:57,289 --> 00:14:04,819
placement of these things but it is the

314
00:14:01,129 --> 00:14:06,350
kind of thing that we haven't

315
00:14:04,820 --> 00:14:08,030
investigated yet so we're really I think

316
00:14:06,350 --> 00:14:09,470
doing a regular sampling on there at the

317
00:14:08,029 --> 00:14:10,939
moment correct me if I'm wrong on that I

318
00:14:09,470 --> 00:14:14,629
don't remember where we stopped with our

319
00:14:10,940 --> 00:14:16,190
experimentation but so when we send one

320
00:14:14,629 --> 00:14:18,320
of these things down we're typically

321
00:14:16,190 --> 00:14:19,970
collecting lighting information on the

322
00:14:18,320 --> 00:14:22,010
actual services that are bouncing around

323
00:14:19,970 --> 00:14:24,139
and then what we're doing is you're

324
00:14:22,009 --> 00:14:27,019
saying for each one of these we treat

325
00:14:24,139 --> 00:14:31,009
this sort of plate effectively as like a

326
00:14:27,019 --> 00:14:32,870
collector so that we're gonna send rays

327
00:14:31,009 --> 00:14:35,049
out from it and we're gonna see what

328
00:14:32,870 --> 00:14:37,490
they hit and when they hit something

329
00:14:35,049 --> 00:14:39,949
which itself is gonna be another one of

330
00:14:37,490 --> 00:14:41,480
these things right we're gonna send some

331
00:14:39,950 --> 00:14:44,810
of that light back so we're gonna

332
00:14:41,480 --> 00:14:47,870
basically collect that light by moving

333
00:14:44,809 --> 00:14:49,789
it back to sort of flavor this tile and

334
00:14:47,870 --> 00:14:51,409
then when we go to render what we'll do

335
00:14:49,789 --> 00:14:53,959
is whenever we're rendering a particular

336
00:14:51,409 --> 00:14:55,459
location with a sample from the points

337
00:14:53,960 --> 00:15:00,170
that are on the surface that we're

338
00:14:55,460 --> 00:15:03,500
sampling and we'll color that in right

339
00:15:00,169 --> 00:15:05,240
now this is actually exactly like

340
00:15:03,500 --> 00:15:09,200
basically everything about what I just

341
00:15:05,240 --> 00:15:12,710
said is exactly the same as what a light

342
00:15:09,200 --> 00:15:15,440
probe really does do for any real

343
00:15:12,710 --> 00:15:19,310
definition of the term light probe but

344
00:15:15,440 --> 00:15:22,450
there is one thing we did which i think

345
00:15:19,309 --> 00:15:22,449
is probably a mistake

346
00:15:30,419 --> 00:15:35,649
in our system that we didn't really

347
00:15:33,279 --> 00:15:38,110
consider changing and again the reason

348
00:15:35,649 --> 00:15:39,789
for it I'll go into in a second it was

349
00:15:38,110 --> 00:15:41,409
mostly just because I didn't really

350
00:15:39,789 --> 00:15:43,599
think about how you would be able to

351
00:15:41,409 --> 00:15:45,419
overcome a particular limitation of the

352
00:15:43,600 --> 00:15:47,409
real-time nature of what we're doing

353
00:15:45,419 --> 00:15:49,569
because it importantly understand is

354
00:15:47,409 --> 00:15:50,289
light probes traditionally are not

355
00:15:49,570 --> 00:15:52,720
dynamic

356
00:15:50,289 --> 00:15:54,549
traditionally in games light probes are

357
00:15:52,720 --> 00:15:56,980
static so a light probe is something

358
00:15:54,549 --> 00:15:59,500
that you pre compute and you stick it

359
00:15:56,980 --> 00:16:01,899
it's somewhere in the world you do a

360
00:15:59,500 --> 00:16:06,279
like a real ray tracing on your world

361
00:16:01,899 --> 00:16:09,100
when you like bake the game and what you

362
00:16:06,279 --> 00:16:10,360
end up doing is you just use those light

363
00:16:09,100 --> 00:16:14,440
probes at runtime without really ever

364
00:16:10,360 --> 00:16:16,300
updating them much right and so they're

365
00:16:14,440 --> 00:16:20,080
they're not really a real-time construct

366
00:16:16,299 --> 00:16:21,429
or at least they weren't but turns out

367
00:16:20,080 --> 00:16:23,470
you can make them real time and that's

368
00:16:21,429 --> 00:16:27,250
really the reason I hadn't considered

369
00:16:23,470 --> 00:16:30,480
them so anyway I let's talk about theirs

370
00:16:27,250 --> 00:16:32,679
for a second so what were light probes

371
00:16:30,480 --> 00:16:34,149
what's the difference between what we

372
00:16:32,679 --> 00:16:36,579
were doing which is basically a light

373
00:16:34,149 --> 00:16:44,799
probe actually and what theirs is well

374
00:16:36,580 --> 00:16:49,180
the main difference is separation of you

375
00:16:44,799 --> 00:16:54,639
know reflectors and collectors is I

376
00:16:49,179 --> 00:16:56,409
guess the way I would say it and the

377
00:16:54,639 --> 00:16:59,769
important thing to understand here is

378
00:16:56,409 --> 00:17:02,789
that we even in our system we do

379
00:16:59,769 --> 00:17:04,750
actually have totally separate

380
00:17:02,789 --> 00:17:07,359
conceptualizations for what is a

381
00:17:04,750 --> 00:17:11,588
reflector and what is a collector we

382
00:17:07,359 --> 00:17:14,078
have points that collect information for

383
00:17:11,588 --> 00:17:16,779
our lighting and our you know our

384
00:17:14,078 --> 00:17:19,328
occluders our reflectors are these big

385
00:17:16,779 --> 00:17:22,119
cubes right and we do treat them

386
00:17:19,328 --> 00:17:25,899
separately but they're always in the

387
00:17:22,119 --> 00:17:27,519
same place right so they're separate in

388
00:17:25,900 --> 00:17:29,920
our implementation but they're not

389
00:17:27,519 --> 00:17:32,680
separate in terms of their actual

390
00:17:29,920 --> 00:17:35,830
spatial distribution our reflectors are

391
00:17:32,680 --> 00:17:37,960
always these rectangular solids and our

392
00:17:35,829 --> 00:17:39,129
collectors are always on the face of

393
00:17:37,960 --> 00:17:40,029
them and they're tightly coupled

394
00:17:39,130 --> 00:17:45,250
together

395
00:17:40,029 --> 00:17:47,950
right and that I think was our that was

396
00:17:45,250 --> 00:17:51,039
our mistake that I think that

397
00:17:47,950 --> 00:17:53,080
fundamental misunderstanding

398
00:17:51,039 --> 00:17:56,019
we're not misunderstanding I guess just

399
00:17:53,079 --> 00:17:57,699
fundamental bad decision that we never

400
00:17:56,019 --> 00:18:01,569
experiment that our way out of I think

401
00:17:57,700 --> 00:18:05,110
is wire lighting is not where it should

402
00:18:01,569 --> 00:18:08,769
be so let's talk about what I mean by

403
00:18:05,109 --> 00:18:10,689
that let's say that instead we went with

404
00:18:08,769 --> 00:18:12,519
a more traditional lie probe approach

405
00:18:10,690 --> 00:18:15,070
what would that look like well what it

406
00:18:12,519 --> 00:18:17,470
would look like is in the world you know

407
00:18:15,069 --> 00:18:19,450
we've got sort of maybe a little dungeon

408
00:18:17,470 --> 00:18:21,309
area here and we know that there's tons

409
00:18:19,450 --> 00:18:23,019
and tons and tons of these reflectors

410
00:18:21,309 --> 00:18:25,359
everywhere right

411
00:18:23,019 --> 00:18:30,029
you know it's tons of cubes all over the

412
00:18:25,359 --> 00:18:33,969
place right well we had to distribute

413
00:18:30,029 --> 00:18:37,809
collectors proportional to the number of

414
00:18:33,970 --> 00:18:39,910
a reflectors that means that even if the

415
00:18:37,809 --> 00:18:43,389
optimal lighting sampling for this area

416
00:18:39,910 --> 00:18:45,790
would just be to strew a few lighting

417
00:18:43,390 --> 00:18:48,040
sample points in this whole region and

418
00:18:45,789 --> 00:18:50,740
blend between them we were instead

419
00:18:48,039 --> 00:18:53,529
massively over sampling these areas

420
00:18:50,740 --> 00:18:55,870
right just taking tons and tons and tons

421
00:18:53,529 --> 00:18:59,289
and tons more samples than we needed to

422
00:18:55,869 --> 00:19:01,689
okay now maybe it would have been fine

423
00:18:59,289 --> 00:19:03,759
to drastically under sample those by

424
00:19:01,690 --> 00:19:05,470
placing a few strategic points and just

425
00:19:03,759 --> 00:19:08,559
collecting from there while still using

426
00:19:05,470 --> 00:19:11,019
the same number of reflectors but we

427
00:19:08,559 --> 00:19:14,259
can't do that with our technique because

428
00:19:11,019 --> 00:19:16,660
our technique always just by default the

429
00:19:14,259 --> 00:19:19,420
way that it worked was there isn't a

430
00:19:16,660 --> 00:19:25,450
separate notion of a collector that

431
00:19:19,420 --> 00:19:32,350
exists outside of a surface right and so

432
00:19:25,450 --> 00:19:34,120
that is really the key problem and the

433
00:19:32,349 --> 00:19:36,849
reason I think it's the key problem is

434
00:19:34,119 --> 00:19:40,059
because it prevents us from placing our

435
00:19:36,849 --> 00:19:44,109
collectors in the most optimal most

436
00:19:40,059 --> 00:19:48,099
minimal fashion right because we

437
00:19:44,109 --> 00:19:50,469
whatever you built as the world you're

438
00:19:48,099 --> 00:19:52,959
locked to distributing your collectors

439
00:19:50,470 --> 00:19:56,929
in that that dense

440
00:19:52,960 --> 00:20:00,470
that arrangement and it means even

441
00:19:56,929 --> 00:20:03,169
stupider crap like we more or less don't

442
00:20:00,470 --> 00:20:04,788
even know whether we should place

443
00:20:03,169 --> 00:20:06,080
collectors on the bottom of a cute look

444
00:20:04,788 --> 00:20:08,629
we could go in there and start removing

445
00:20:06,079 --> 00:20:11,240
them from interior points right that

446
00:20:08,630 --> 00:20:18,500
would be one pass but it still just it's

447
00:20:11,240 --> 00:20:21,019
not it's not enough right and I think we

448
00:20:18,500 --> 00:20:22,730
almost sort of talked about this I said

449
00:20:21,019 --> 00:20:23,870
when we build the world and one of the

450
00:20:22,730 --> 00:20:26,120
reasons we switched over to world

451
00:20:23,869 --> 00:20:29,508
building and didn't do any more

452
00:20:26,119 --> 00:20:32,329
experimentation with lighting was

453
00:20:29,509 --> 00:20:37,370
because I actually said even this

454
00:20:32,329 --> 00:20:39,408
statement I said yeah we need to start

455
00:20:37,369 --> 00:20:42,739
having our world place these points more

456
00:20:39,409 --> 00:20:48,379
strategically even for our own technique

457
00:20:42,740 --> 00:20:51,740
and I think I was right but where I was

458
00:20:48,378 --> 00:20:54,048
wrong was that we should have separated

459
00:20:51,740 --> 00:20:58,819
these things more dramatically than we

460
00:20:54,048 --> 00:21:01,250
did right from the start all right okay

461
00:20:58,819 --> 00:21:03,619
so in the there's approach what they

462
00:21:01,250 --> 00:21:06,048
actually do is they place collectors

463
00:21:03,619 --> 00:21:09,558
just evenly spaced kind of throughout

464
00:21:06,048 --> 00:21:11,778
the world in the interior regions so for

465
00:21:09,558 --> 00:21:14,148
example whereas ours would have taken

466
00:21:11,778 --> 00:21:16,190
let's say from a side view whereas ours

467
00:21:14,148 --> 00:21:19,548
is placing the collectors kind of this

468
00:21:16,190 --> 00:21:21,528
sort of way right theirs is placing the

469
00:21:19,548 --> 00:21:25,849
collectors like that like in the

470
00:21:21,528 --> 00:21:27,980
interior the other really good thing

471
00:21:25,849 --> 00:21:30,439
about that is you can see when we go to

472
00:21:27,980 --> 00:21:32,870
lighting sprites you can see why that's

473
00:21:30,440 --> 00:21:34,700
more handy too because the collectors

474
00:21:32,869 --> 00:21:36,979
are existing in places that are more

475
00:21:34,700 --> 00:21:39,288
central to where the sprites would be as

476
00:21:36,980 --> 00:21:41,870
well so that they're not just always on

477
00:21:39,288 --> 00:21:43,038
the surfaces which might not capture

478
00:21:41,869 --> 00:21:44,898
some of the things happening in the

479
00:21:43,038 --> 00:21:47,388
height and furthermore you could choose

480
00:21:44,898 --> 00:21:49,609
to get more fidelity by placing say more

481
00:21:47,388 --> 00:21:51,798
of these throughout the volume if you

482
00:21:49,609 --> 00:21:57,449
felt like you needed more collection

483
00:21:51,798 --> 00:21:59,910
right okay

484
00:21:57,450 --> 00:22:02,940
so why didn't I do that to begin with

485
00:21:59,910 --> 00:22:05,970
right would be another question and the

486
00:22:02,940 --> 00:22:09,180
reason is because I failed to understand

487
00:22:05,970 --> 00:22:11,039
a relatively obvious thing in hindsight

488
00:22:09,180 --> 00:22:12,930
but when you're thinking through

489
00:22:11,039 --> 00:22:14,730
algorithms like this it's pretty hard to

490
00:22:12,930 --> 00:22:16,039
know everything and really like

491
00:22:14,730 --> 00:22:19,039
understand it all if you've never

492
00:22:16,039 --> 00:22:22,109
already solved the problem right and

493
00:22:19,039 --> 00:22:23,970
again this is not my this is not my

494
00:22:22,109 --> 00:22:27,389
field right I don't work on lighting

495
00:22:23,970 --> 00:22:29,700
it's not something I do so it was as new

496
00:22:27,390 --> 00:22:32,009
to me as it was to you well possibly not

497
00:22:29,700 --> 00:22:33,840
as new I mean I had written ray tracers

498
00:22:32,009 --> 00:22:35,460
before and stuff like that so the

499
00:22:33,839 --> 00:22:38,519
fundamental Cubs were moving light

500
00:22:35,460 --> 00:22:41,069
around maybe was not as new to me but

501
00:22:38,519 --> 00:22:42,569
you know the computation real-time

502
00:22:41,069 --> 00:22:43,829
computation of lighting inside a game is

503
00:22:42,569 --> 00:22:46,679
not something I ever worked on as a

504
00:22:43,829 --> 00:22:48,539
problem and so it was completely new to

505
00:22:46,680 --> 00:22:49,980
me and that's again one of the reasons

506
00:22:48,539 --> 00:22:51,240
why the understanding isn't necessarily

507
00:22:49,980 --> 00:22:54,930
there to just do the right thing right

508
00:22:51,240 --> 00:22:57,750
away okay so the thing that I was

509
00:22:54,930 --> 00:23:05,640
getting hung up on was the you know the

510
00:22:57,750 --> 00:23:09,180
real-time computation of it so in my

511
00:23:05,640 --> 00:23:11,850
mind I was like well if I actually place

512
00:23:09,180 --> 00:23:13,110
a collector here that's you know and

513
00:23:11,849 --> 00:23:16,169
it's hanging out in the middle of

514
00:23:13,109 --> 00:23:18,839
nowhere how do I actually compute its

515
00:23:16,170 --> 00:23:21,300
value in real time because the only way

516
00:23:18,839 --> 00:23:23,909
in my head I was like the only way I can

517
00:23:21,299 --> 00:23:26,490
really get lighting samples into this

518
00:23:23,910 --> 00:23:29,040
thing is I've got a light source

519
00:23:26,490 --> 00:23:31,019
somewhere I've got a shooter ray out

520
00:23:29,039 --> 00:23:32,549
from this thing bounce it around a bunch

521
00:23:31,019 --> 00:23:34,049
of times ray tracing style and

522
00:23:32,549 --> 00:23:37,169
eventually get back to the light source

523
00:23:34,049 --> 00:23:40,200
that's a nightmare I'm like that's gonna

524
00:23:37,170 --> 00:23:42,720
take forever in real time that's never

525
00:23:40,200 --> 00:23:45,539
gonna converge frame the frame or even

526
00:23:42,720 --> 00:23:47,640
cross multiple frames that's like a very

527
00:23:45,539 --> 00:23:50,819
expensive operation forget it it's not

528
00:23:47,640 --> 00:23:53,160
gonna work right so I was like oh our

529
00:23:50,819 --> 00:23:55,470
collectors and our reflectors have to be

530
00:23:53,160 --> 00:23:57,720
the same surface so that we can sort of

531
00:23:55,470 --> 00:24:00,600
do a more radiosity thing where light

532
00:23:57,720 --> 00:24:04,230
sticks to things every frame and then

533
00:24:00,599 --> 00:24:10,029
gets reradiating out right got to do it

534
00:24:04,230 --> 00:24:13,220
that's in my head you and I'm saying but

535
00:24:10,029 --> 00:24:15,740
actually there's a really simple obvious

536
00:24:13,220 --> 00:24:18,559
answer as to why you don't have to do

537
00:24:15,740 --> 00:24:21,170
this that I just didn't consider and

538
00:24:18,559 --> 00:24:31,369
what that is is it's just like you know

539
00:24:21,170 --> 00:24:33,350
duh use the probes during casting now I

540
00:24:31,369 --> 00:24:36,409
don't know why I didn't think about this

541
00:24:33,349 --> 00:24:41,240
I think it's just because in my head for

542
00:24:36,410 --> 00:24:42,710
some reason I was like thinking that you

543
00:24:41,240 --> 00:24:44,509
can only use approach the real-time

544
00:24:42,710 --> 00:24:46,549
lighting and that for the raycasting

545
00:24:44,509 --> 00:24:48,829
stage but duh

546
00:24:46,549 --> 00:24:52,419
don't do that just use the probes all

547
00:24:48,829 --> 00:24:55,759
the time that way you just send out one

548
00:24:52,420 --> 00:24:58,550
probe cast you take the point that you

549
00:24:55,759 --> 00:25:02,119
hit and then you do the actual summation

550
00:24:58,549 --> 00:25:04,940
using the existing light probe state to

551
00:25:02,119 --> 00:25:05,559
figure out what that lighting value

552
00:25:04,940 --> 00:25:08,630
should be

553
00:25:05,559 --> 00:25:12,740
that's all you actually have to do right

554
00:25:08,630 --> 00:25:15,140
and so that allows you to do the exact

555
00:25:12,740 --> 00:25:17,990
same thing I was doing which is having

556
00:25:15,140 --> 00:25:21,290
all of the surfaces have an incremental

557
00:25:17,990 --> 00:25:22,309
state that you can sample you just do

558
00:25:21,289 --> 00:25:26,629
the same thing you do during the

559
00:25:22,309 --> 00:25:29,269
real-time lighting right very very very

560
00:25:26,630 --> 00:25:32,060
very simple and I don't know why I never

561
00:25:29,269 --> 00:25:34,099
thought of it I literally never thought

562
00:25:32,059 --> 00:25:37,429
of it because the only reason I thought

563
00:25:34,099 --> 00:25:41,839
of this this time is I recently saw a

564
00:25:37,430 --> 00:25:45,590
paper in the journal of graphics tools

565
00:25:41,839 --> 00:25:48,230
called you know bla bla bla and

566
00:25:45,589 --> 00:25:51,379
something indirect light computation

567
00:25:48,230 --> 00:25:53,990
real-time something something right and

568
00:25:51,380 --> 00:25:55,610
I was like ah they're doing real-time

569
00:25:53,990 --> 00:26:01,309
ray tracing of light probes in this

570
00:25:55,609 --> 00:26:03,679
paper and I'm like let me go read the

571
00:26:01,309 --> 00:26:05,210
paper and see what they did for this

572
00:26:03,680 --> 00:26:06,799
problem because I'm like this is the

573
00:26:05,210 --> 00:26:08,150
thing that's like stuck in my head as to

574
00:26:06,799 --> 00:26:10,190
why I didn't use light prayers I'm like

575
00:26:08,150 --> 00:26:12,140
I don't know what to do and I just get

576
00:26:10,190 --> 00:26:14,600
to that part of the paper expecting

577
00:26:12,140 --> 00:26:17,960
something important and they're just

578
00:26:14,599 --> 00:26:19,579
like during computation when we hit a

579
00:26:17,960 --> 00:26:21,740
surface we just use the existing light

580
00:26:19,579 --> 00:26:22,970
probes from the previous frame to

581
00:26:21,740 --> 00:26:27,440
compute the lighting

582
00:26:22,970 --> 00:26:32,110
and I'm like like why didn't I think of

583
00:26:27,440 --> 00:26:32,110
that right and again it's just like

584
00:26:32,829 --> 00:26:37,490
brains aren't as logical as you think

585
00:26:35,329 --> 00:26:39,109
they are right a lot of times it's just

586
00:26:37,490 --> 00:26:40,730
like you're randomly trying to think of

587
00:26:39,109 --> 00:26:42,679
ideas and sometimes you hit upon the

588
00:26:40,730 --> 00:26:44,120
right one and it's very simple and you

589
00:26:42,680 --> 00:26:45,799
think I'm so stupid why I'm think about

590
00:26:44,119 --> 00:26:48,589
that bits like that's just not brains

591
00:26:45,799 --> 00:26:51,109
right it's just not brains and that's

592
00:26:48,589 --> 00:26:52,939
why reading papers so useful right

593
00:26:51,109 --> 00:26:55,729
because there's so many more people

594
00:26:52,940 --> 00:26:57,019
trying so many more things someone's

595
00:26:55,730 --> 00:26:58,279
gonna figure out the answer if it's out

596
00:26:57,019 --> 00:27:03,230
there but it's not necessarily gonna be

597
00:26:58,279 --> 00:27:04,759
you so read the paper right and so we

598
00:27:03,230 --> 00:27:06,259
really don't need to know anything else

599
00:27:04,759 --> 00:27:07,819
like that paper is a good it's a good

600
00:27:06,259 --> 00:27:11,420
paper actually it's mostly about more

601
00:27:07,819 --> 00:27:13,009
about GPU tracing of light probes but it

602
00:27:11,420 --> 00:27:14,390
has the answer we actually wanted and

603
00:27:13,009 --> 00:27:15,650
it's not even a thing they actually

604
00:27:14,390 --> 00:27:17,600
cared about it I think it's something

605
00:27:15,650 --> 00:27:21,340
that I I could have really read probably

606
00:27:17,599 --> 00:27:21,339
previous papers and figured it out right

607
00:27:21,700 --> 00:27:25,400
but it's like this is just the one I

608
00:27:23,750 --> 00:27:27,380
happen to see I was like I should go see

609
00:27:25,400 --> 00:27:29,570
what they do cuz like obviously they

610
00:27:27,380 --> 00:27:31,340
know something I don't but it's like

611
00:27:29,569 --> 00:27:32,869
barely right it's like it's it's

612
00:27:31,339 --> 00:27:34,939
something I should have thought of so oh

613
00:27:32,869 --> 00:27:40,129
well you know life goes on you can't win

614
00:27:34,940 --> 00:27:42,580
them all but given that is so simple to

615
00:27:40,130 --> 00:27:42,580
do

616
00:27:43,849 --> 00:27:49,250
I think that makes it sort of

617
00:27:46,849 --> 00:27:51,829
overwhelmingly a good idea to sort of

618
00:27:49,250 --> 00:27:54,259
move just very slightly

619
00:27:51,829 --> 00:27:57,139
I mean basically not that big of a

620
00:27:54,259 --> 00:27:59,539
change over to their system because that

621
00:27:57,140 --> 00:28:02,240
would allow us a tremendous amount of

622
00:27:59,539 --> 00:28:06,529
opportunity for speed increases in two

623
00:28:02,240 --> 00:28:08,779
ways one it simplifies the description

624
00:28:06,529 --> 00:28:10,670
of our collectors so we could get rid of

625
00:28:08,779 --> 00:28:13,190
that expensive stuff we're doing about

626
00:28:10,670 --> 00:28:17,750
seeing like which one of the points

627
00:28:13,190 --> 00:28:20,360
should get which amount of return and

628
00:28:17,750 --> 00:28:22,369
stuff like that so we can switch our

629
00:28:20,359 --> 00:28:24,319
collectors to a more standard just

630
00:28:22,369 --> 00:28:26,899
straightforward like Cube collector kind

631
00:28:24,319 --> 00:28:28,970
of a model or something right

632
00:28:26,900 --> 00:28:31,390
and not have to have like these like sub

633
00:28:28,970 --> 00:28:36,589
points on the cube and garbage like that

634
00:28:31,390 --> 00:28:39,290
so that's great and it also then allows

635
00:28:36,589 --> 00:28:43,329
us the really great sort of fringe

636
00:28:39,289 --> 00:28:47,000
benefit of letting us have our

637
00:28:43,329 --> 00:28:47,839
collectors be spaced as arbitrarily as

638
00:28:47,000 --> 00:28:49,640
we want

639
00:28:47,839 --> 00:28:51,019
throughout our volume without them

640
00:28:49,640 --> 00:28:56,540
having to have any particular

641
00:28:51,019 --> 00:28:59,210
correlation to the rest of the the rest

642
00:28:56,539 --> 00:29:01,670
of the scene they give me place by any

643
00:28:59,210 --> 00:29:03,470
algorithm we want and they can be

644
00:29:01,670 --> 00:29:05,120
completely D correlated and so that we

645
00:29:03,470 --> 00:29:08,210
can basically just fine-tune that as

646
00:29:05,119 --> 00:29:15,199
like a separate lever if that makes

647
00:29:08,210 --> 00:29:19,640
sense right alright so so again just a

648
00:29:15,200 --> 00:29:21,680
small little mental block there and I

649
00:29:19,640 --> 00:29:25,370
think there's potentially a lot that's

650
00:29:21,680 --> 00:29:27,100
unlocked by just realizing just sample

651
00:29:25,369 --> 00:29:29,719
the light probes when you're casting and

652
00:29:27,099 --> 00:29:32,709
that just gives me a huge tool I just

653
00:29:29,720 --> 00:29:32,710
didn't have right

654
00:29:38,839 --> 00:29:46,079
all right so that's all I really want to

655
00:29:42,509 --> 00:29:49,950
do but there's a lot of complexity in

656
00:29:46,079 --> 00:29:51,418
there that we need to start addressing

657
00:29:49,950 --> 00:29:52,798
so there's gonna be a lot of code it's

658
00:29:51,419 --> 00:29:55,320
gonna be several weekends so don't fool

659
00:29:52,798 --> 00:29:58,638
yourself it ain't gonna be quick and the

660
00:29:55,319 --> 00:30:00,538
reason for that is there's just a lot of

661
00:29:58,638 --> 00:30:04,378
additional things that we're gonna have

662
00:30:00,538 --> 00:30:07,378
to work out as we go and one of those

663
00:30:04,378 --> 00:30:10,678
things I would argue probably the most

664
00:30:07,378 --> 00:30:12,829
important thing is one that again we

665
00:30:10,679 --> 00:30:16,499
probably want to go read some papers on

666
00:30:12,829 --> 00:30:17,609
after the fact to probably get something

667
00:30:16,499 --> 00:30:20,100
that's gonna be a little bit better than

668
00:30:17,609 --> 00:30:21,569
what we do because you know what we do

669
00:30:20,099 --> 00:30:23,308
is it's not gonna be as good as the

670
00:30:21,569 --> 00:30:25,710
whole graphics community working on on

671
00:30:23,308 --> 00:30:27,839
this problem there's a lot of good

672
00:30:25,710 --> 00:30:29,149
people doing a lot of this stuff and so

673
00:30:27,839 --> 00:30:32,339
they're gonna come up with better things

674
00:30:29,148 --> 00:30:33,628
but I would like us to try it in

675
00:30:32,339 --> 00:30:34,618
handmade hero fashion

676
00:30:33,628 --> 00:30:36,990
I always think we should try it

677
00:30:34,618 --> 00:30:39,240
ourselves first because that's part of

678
00:30:36,990 --> 00:30:41,220
the learning process you wanna learn how

679
00:30:39,240 --> 00:30:42,659
to do things yourself as well as learn

680
00:30:41,220 --> 00:30:45,298
how to take information from other

681
00:30:42,659 --> 00:30:47,129
people and implement it and so we would

682
00:30:45,298 --> 00:30:51,210
not try things first and then follow it

683
00:30:47,128 --> 00:30:54,028
up with a look even though in the real

684
00:30:51,210 --> 00:30:55,319
world we might say like we know we're

685
00:30:54,028 --> 00:30:57,929
not gonna come up with the best thing so

686
00:30:55,319 --> 00:30:59,220
we'll just go read it right that's a

687
00:30:57,929 --> 00:31:02,850
difference between educational stream

688
00:30:59,220 --> 00:31:05,190
and a stream where we're just trying to

689
00:31:02,849 --> 00:31:06,480
be as efficient as possible with how

690
00:31:05,190 --> 00:31:09,808
long it takes us to implement the best

691
00:31:06,480 --> 00:31:14,579
possible thing and so specifically the

692
00:31:09,808 --> 00:31:15,749
part that I think we that's new and we

693
00:31:14,579 --> 00:31:17,428
would have a deduce anyway for our

694
00:31:15,749 --> 00:31:18,389
sprites so it's not really a big deal

695
00:31:17,429 --> 00:31:21,210
that we're having to do it because we

696
00:31:18,388 --> 00:31:23,459
wouldn't I'd do it either way but we now

697
00:31:21,210 --> 00:31:25,470
have to do it right now it can't be

698
00:31:23,460 --> 00:31:26,909
delayed because even if we don't light

699
00:31:25,470 --> 00:31:31,860
our sprites we're still gonna have to do

700
00:31:26,909 --> 00:31:36,119
it that is given a set of light probes

701
00:31:31,859 --> 00:31:40,138
in the world we have to figure out which

702
00:31:36,118 --> 00:31:42,689
light probes we use for any given pixel

703
00:31:40,138 --> 00:31:46,128
on the screen or if we want any given

704
00:31:42,690 --> 00:31:50,250
object etc etc we need to figure out

705
00:31:46,128 --> 00:31:52,500
which light probes to sample be

706
00:31:50,250 --> 00:31:54,839
there could be up to eight if we wanted

707
00:31:52,500 --> 00:31:58,378
to you know if you imagine these light

708
00:31:54,839 --> 00:32:01,250
probes being strand and we wanted to

709
00:31:58,378 --> 00:32:05,939
separate into a volume let me grab my

710
00:32:01,250 --> 00:32:08,609
tablet back here for a second so if we

711
00:32:05,940 --> 00:32:12,360
were to for example say be in a

712
00:32:08,609 --> 00:32:22,500
situation where we had light probes in a

713
00:32:12,359 --> 00:32:24,928
volumetric pattern like this right and

714
00:32:22,500 --> 00:32:28,980
we want to sample something the lighting

715
00:32:24,929 --> 00:32:32,759
in here we might depending on how what

716
00:32:28,980 --> 00:32:34,980
our speeds profile looks like and maybe

717
00:32:32,759 --> 00:32:36,778
graphics card settings who knows we

718
00:32:34,980 --> 00:32:41,038
might want to go so far as a sample from

719
00:32:36,778 --> 00:32:44,099
like eight probes right and do a cubic

720
00:32:41,038 --> 00:32:45,808
you know so a trilinear interpolation to

721
00:32:44,099 --> 00:32:48,329
figure out what the lighting should be

722
00:32:45,808 --> 00:32:49,829
at that point now we may want to mostly

723
00:32:48,329 --> 00:32:51,538
just do four because since we're a

724
00:32:49,829 --> 00:32:54,138
mostly planar game we can probably

725
00:32:51,538 --> 00:32:56,700
optimize it and only really look at

726
00:32:54,138 --> 00:32:58,288
things like a trilinear sample when

727
00:32:56,700 --> 00:33:00,028
we're maybe going up and down stairs we

728
00:32:58,288 --> 00:33:01,589
could do optimizations like that so we

729
00:33:00,028 --> 00:33:03,740
might want to stay with a bot with with

730
00:33:01,589 --> 00:33:06,928
four probes most the time but either way

731
00:33:03,740 --> 00:33:10,109
no matter how many we do it's at least

732
00:33:06,929 --> 00:33:12,350
four could be as many as eight we're

733
00:33:10,109 --> 00:33:17,548
good and want to take those samples and

734
00:33:12,349 --> 00:33:21,019
we need some way of figuring out which

735
00:33:17,548 --> 00:33:24,240
ones to sample because all we'll have

736
00:33:21,019 --> 00:33:27,240
especially if we allow a relatively

737
00:33:24,240 --> 00:33:30,919
arbitrary placement of these all we're

738
00:33:27,240 --> 00:33:35,399
gonna have is just a giant

739
00:33:30,919 --> 00:33:41,070
one-dimensional array of probes I mean

740
00:33:35,398 --> 00:33:43,798
that's it right and so that's really the

741
00:33:41,069 --> 00:33:46,648
thing that we've got to deal with here

742
00:33:43,798 --> 00:33:50,099
and I don't really know how right I

743
00:33:46,648 --> 00:33:51,808
didn't read that part I haven't looked

744
00:33:50,099 --> 00:33:53,638
at how people are doing that cuz I

745
00:33:51,808 --> 00:33:57,329
wanted to think about it and do it our

746
00:33:53,638 --> 00:33:58,709
ourselves on the stream and then we can

747
00:33:57,329 --> 00:33:59,908
just correct ourselves and see like

748
00:33:58,710 --> 00:34:04,419
what's the more you know what's better

749
00:33:59,909 --> 00:34:07,490
than what we did right but

750
00:34:04,419 --> 00:34:09,858
that's the main problem because

751
00:34:07,490 --> 00:34:11,599
everything else about this scheme is

752
00:34:09,858 --> 00:34:12,769
something that we've already implemented

753
00:34:11,599 --> 00:34:14,450
and we're just going to tweak a little

754
00:34:12,769 --> 00:34:18,378
more or less right we're just going to

755
00:34:14,449 --> 00:34:21,428
change our algorithm to separate the

756
00:34:18,378 --> 00:34:23,480
collection and reflection phases or

757
00:34:21,429 --> 00:34:25,639
descriptors that's really all we're

758
00:34:23,480 --> 00:34:29,750
going to do and then we're pretty much

759
00:34:25,639 --> 00:34:32,750
good to go so at the moment anyway we

760
00:34:29,750 --> 00:34:35,000
don't have much to do with to get to

761
00:34:32,750 --> 00:34:38,750
light to a more traditional light probe

762
00:34:35,000 --> 00:34:42,108
model but this part is completely new we

763
00:34:38,750 --> 00:34:44,389
don't have a way of doing this and if

764
00:34:42,108 --> 00:34:47,328
you think about it it's relatively

765
00:34:44,389 --> 00:34:51,349
tricky because you know the naive

766
00:34:47,329 --> 00:34:58,089
approaches would just be probably bad in

767
00:34:51,349 --> 00:34:58,088
both ways so you know naive approach one

768
00:34:59,829 --> 00:35:05,839
then ayiva proach this would be one like

769
00:35:02,750 --> 00:35:08,179
some kind of grid you know what I mean

770
00:35:05,838 --> 00:35:09,980
so basically like you just got this grid

771
00:35:08,179 --> 00:35:12,169
lookup and so you've got to space these

772
00:35:09,980 --> 00:35:14,000
things in a particularly regular way and

773
00:35:12,170 --> 00:35:14,659
the reason that so it's it's like it's

774
00:35:14,000 --> 00:35:19,400
too many

775
00:35:14,659 --> 00:35:22,879
you know probes in the wrong places

776
00:35:19,400 --> 00:35:25,960
right so if we just strewed probes

777
00:35:22,880 --> 00:35:31,809
through the world in a regular pattern

778
00:35:25,960 --> 00:35:34,280
well the lookup becomes trivial but the

779
00:35:31,809 --> 00:35:36,409
it's not putting probes where we want

780
00:35:34,280 --> 00:35:39,019
them so we would much rather have a way

781
00:35:36,409 --> 00:35:42,259
of placing the probes in a pattern

782
00:35:39,019 --> 00:35:45,050
that's more amenable and allows us to

783
00:35:42,260 --> 00:35:46,910
place them flexibly to concentrate them

784
00:35:45,050 --> 00:35:50,810
in areas we want and not in areas we

785
00:35:46,909 --> 00:35:52,639
don't write so you know that doesn't

786
00:35:50,809 --> 00:35:57,199
necessarily mean it's out it just means

787
00:35:52,639 --> 00:35:59,029
it's kind of questionable right two

788
00:35:57,199 --> 00:36:01,039
would just be like linear search right

789
00:35:59,030 --> 00:36:02,510
and that's just not going to cut it

790
00:36:01,039 --> 00:36:05,539
either because that would have the

791
00:36:02,510 --> 00:36:07,819
graphics card or somebody plowing

792
00:36:05,539 --> 00:36:10,190
through on a pixel-by-pixel basis if we

793
00:36:07,818 --> 00:36:14,619
wanted to do per pixel lookup or

794
00:36:10,190 --> 00:36:20,269
sampling heaven help us that would

795
00:36:14,619 --> 00:36:22,159
implies some really nasty sampling of

796
00:36:20,269 --> 00:36:24,530
like you know potentially like a

797
00:36:22,159 --> 00:36:25,759
thousand of these things you know that

798
00:36:24,530 --> 00:36:28,190
we're looping through every time and

799
00:36:25,760 --> 00:36:35,150
that's obviously unacceptable per pixel

800
00:36:28,190 --> 00:36:37,909
now whether it would be acceptable in

801
00:36:35,150 --> 00:36:40,400
some non per-pixel ways so like we look

802
00:36:37,909 --> 00:36:43,670
it up you know per element or something

803
00:36:40,400 --> 00:36:47,269
and so an entire element just loads into

804
00:36:43,670 --> 00:36:49,400
the constant store the eight light

805
00:36:47,269 --> 00:36:53,480
probes to sample and then it renders the

806
00:36:49,400 --> 00:36:55,670
thing yeah okay

807
00:36:53,480 --> 00:36:57,889
you know then something really naive

808
00:36:55,670 --> 00:36:59,570
might just work you know we're burning

809
00:36:57,889 --> 00:37:01,309
some cycles we don't need to burn there

810
00:36:59,570 --> 00:37:03,230
but it would work and furthermore it

811
00:37:01,309 --> 00:37:05,150
would become not particularly bad

812
00:37:03,230 --> 00:37:11,300
because we could use a spatial partition

813
00:37:05,150 --> 00:37:12,920
right to speed that up really trivially

814
00:37:11,300 --> 00:37:14,330
because if it's only happening once per

815
00:37:12,920 --> 00:37:16,159
element the spatial partition doesn't

816
00:37:14,329 --> 00:37:18,440
even have to be good it can just be real

817
00:37:16,159 --> 00:37:20,420
basic you can chop that down to like 20

818
00:37:18,440 --> 00:37:25,429
or 30 and then linear search and refine

819
00:37:20,420 --> 00:37:28,369
right so you know that method seems like

820
00:37:25,429 --> 00:37:31,669
I guess what I would say is it seems

821
00:37:28,369 --> 00:37:34,069
totally doable even though it's naive it

822
00:37:31,670 --> 00:37:36,019
just may not give us as good a lighting

823
00:37:34,070 --> 00:37:39,350
quality as it could because we can't

824
00:37:36,019 --> 00:37:41,840
transition from one probe set to another

825
00:37:39,349 --> 00:37:44,389
probe set for things that straddle the

826
00:37:41,840 --> 00:37:47,090
probe boundaries so for example if we

827
00:37:44,389 --> 00:37:50,299
have a relatively large sprite that's

828
00:37:47,090 --> 00:37:52,550
sitting you know kind of like that

829
00:37:50,300 --> 00:37:55,940
what we would like is for it to switch

830
00:37:52,550 --> 00:37:58,430
as it crosses this plane we'd like it to

831
00:37:55,940 --> 00:38:02,269
switch to starting to use these probes

832
00:37:58,429 --> 00:38:04,099
as it moves across in much the same way

833
00:38:02,269 --> 00:38:06,949
that we would by linearly filter a

834
00:38:04,099 --> 00:38:08,869
textile as we move across this axial

835
00:38:06,949 --> 00:38:11,569
boundary we want to switch to sampling

836
00:38:08,869 --> 00:38:13,489
from the next set of texels over we

837
00:38:11,570 --> 00:38:18,140
would want to do the same thing here and

838
00:38:13,489 --> 00:38:20,629
so the problem with these is this

839
00:38:18,139 --> 00:38:23,719
creates a burden on our world placement

840
00:38:20,630 --> 00:38:24,769
and management and probably on our

841
00:38:23,719 --> 00:38:27,019
lighting as well because there's too

842
00:38:24,769 --> 00:38:28,130
many probes being placed and so it's not

843
00:38:27,019 --> 00:38:32,239
optimal

844
00:38:28,130 --> 00:38:36,829
this means like no per-pixel right so

845
00:38:32,239 --> 00:38:40,759
this is like bad placement potentially

846
00:38:36,829 --> 00:38:43,400
too many this is no per-pixel

847
00:38:40,759 --> 00:38:45,880
right you know we could definitely do

848
00:38:43,400 --> 00:38:49,338
something naive if it wasn't per pixel

849
00:38:45,880 --> 00:38:51,048
but if we wanted to do something per

850
00:38:49,338 --> 00:39:01,969
pixel or forget it it's not gonna happen

851
00:38:51,048 --> 00:39:05,228
right so so that leaves us with the

852
00:39:01,969 --> 00:39:05,229
question okay

853
00:39:06,429 --> 00:39:15,889
let's analyze our our situation here and

854
00:39:12,849 --> 00:39:26,749
figure out if there's something we could

855
00:39:15,889 --> 00:39:28,818
do you know some way we could get

856
00:39:26,748 --> 00:39:31,698
ourselves to a point where per pixel at

857
00:39:28,818 --> 00:39:35,659
least seems plausible meaning we could

858
00:39:31,699 --> 00:39:40,219
make an argument that we wanted to

859
00:39:35,659 --> 00:39:43,578
sample per pixel the lighting and so you

860
00:39:40,219 --> 00:39:47,778
know GPUs are very fast nowadays there's

861
00:39:43,579 --> 00:39:52,579
some lookup work we could to certainly

862
00:39:47,778 --> 00:39:56,059
scheme one could be per pixel right I

863
00:39:52,579 --> 00:39:57,920
mean if you think about you know there's

864
00:39:56,059 --> 00:40:00,890
a reason I wrote this on this one only

865
00:39:57,920 --> 00:40:02,838
if it was something as simple as just

866
00:40:00,889 --> 00:40:07,190
look at the world coordinates of this

867
00:40:02,838 --> 00:40:10,130
pixel and you know convert to the eight

868
00:40:07,190 --> 00:40:12,108
cells and look those up directly in a

869
00:40:10,130 --> 00:40:17,119
like 3d texture to get yourself a

870
00:40:12,108 --> 00:40:21,679
problem you know or whatever no problem

871
00:40:17,119 --> 00:40:24,259
right so we do we know that there are

872
00:40:21,679 --> 00:40:26,268
things simpler and simple enough that a

873
00:40:24,259 --> 00:40:29,119
reasonably fast graphics card could

874
00:40:26,268 --> 00:40:34,179
definitely do them per pixel and the

875
00:40:29,119 --> 00:40:39,890
question is just can we make a scheme

876
00:40:34,179 --> 00:40:42,000
that can that isn't as naive as just a

877
00:40:39,889 --> 00:40:44,799
grid lookup

878
00:40:42,000 --> 00:40:47,409
so that we can get the benefits of

879
00:40:44,800 --> 00:40:50,100
something that has good placement but

880
00:40:47,409 --> 00:40:53,769
that doesn't actually require you to use

881
00:40:50,099 --> 00:41:03,279
some really complicated lookup that's

882
00:40:53,769 --> 00:41:08,530
gonna be too pricey right um and the

883
00:41:03,280 --> 00:41:14,650
answer there is I don't know the answer

884
00:41:08,530 --> 00:41:16,810
is there I'm not sure right if we look

885
00:41:14,650 --> 00:41:20,170
at the back of the envelope calculations

886
00:41:16,809 --> 00:41:23,980
on stuff like that you know we've done

887
00:41:20,170 --> 00:41:26,260
some of these you know before if we

888
00:41:23,980 --> 00:41:30,369
looked at having some kind of a voxel

889
00:41:26,260 --> 00:41:31,960
oops to 6 by 2 to 6 by 2 to 6 if we

890
00:41:30,369 --> 00:41:36,159
looked at having some kind of a voxel

891
00:41:31,960 --> 00:41:41,740
lookup texture on the card that we like

892
00:41:36,159 --> 00:41:45,849
you know update periodically it's not

893
00:41:41,739 --> 00:41:49,599
the end of the world right a 64 megabyte

894
00:41:45,849 --> 00:41:51,159
texture which would be and in fact we

895
00:41:49,599 --> 00:41:54,900
don't really need that it probably like

896
00:41:51,159 --> 00:42:00,730
a 32 because we would only need a 16-bit

897
00:41:54,900 --> 00:42:06,639
index you know so if we had to write

898
00:42:00,730 --> 00:42:08,949
like looking at our lighting transfer

899
00:42:06,639 --> 00:42:10,960
information it wouldn't be the end of

900
00:42:08,949 --> 00:42:13,960
the world to send down a 32 megabyte

901
00:42:10,960 --> 00:42:20,409
texture every frame that was the

902
00:42:13,960 --> 00:42:22,360
lighting location and furthermore if we

903
00:42:20,409 --> 00:42:24,549
needed to compress that further we could

904
00:42:22,360 --> 00:42:29,710
actually generate that texture ourselves

905
00:42:24,550 --> 00:42:33,310
probably on the GPU directly using a

906
00:42:29,710 --> 00:42:35,829
more efficient list so for example if we

907
00:42:33,309 --> 00:42:40,599
wanted to we could probably send down

908
00:42:35,829 --> 00:42:45,069
just a linear array of our light probe

909
00:42:40,599 --> 00:42:48,130
locations and then we could have the GPU

910
00:42:45,070 --> 00:42:52,080
spam those light probe indices using the

911
00:42:48,130 --> 00:42:55,809
location by rasterizing a single

912
00:42:52,079 --> 00:42:59,949
primitive per light probe load

913
00:42:55,809 --> 00:43:03,940
patien thus creating like a voxel fill

914
00:42:59,949 --> 00:43:07,599
right so we could if we want to even use

915
00:43:03,940 --> 00:43:09,159
the GPU itself to voxel eyes for us

916
00:43:07,599 --> 00:43:11,079
which would allow us to send out a more

917
00:43:09,159 --> 00:43:17,230
compressed representation if that if

918
00:43:11,079 --> 00:43:18,849
that 32 megabytes was proving onerous to

919
00:43:17,230 --> 00:43:20,590
transfer for some reason which it

920
00:43:18,849 --> 00:43:22,089
probably shouldn't I mean the bandwidth

921
00:43:20,590 --> 00:43:24,880
to the graphics card is pretty good but

922
00:43:22,090 --> 00:43:26,730
you know you don't want to stress it out

923
00:43:24,880 --> 00:43:32,860
too much

924
00:43:26,730 --> 00:43:35,530
for obvious reasons so you know I do

925
00:43:32,860 --> 00:43:37,470
think a direct lookup isn't out of the

926
00:43:35,530 --> 00:43:40,480
question because what we could do is

927
00:43:37,469 --> 00:43:44,199
rather than trying to pack all of the

928
00:43:40,480 --> 00:43:46,000
information into an actual voxel which I

929
00:43:44,199 --> 00:43:49,889
think might be too expensive for us to

930
00:43:46,000 --> 00:43:53,710
do what we could do is just pack our

931
00:43:49,889 --> 00:43:55,059
look up that the minimal amount of

932
00:43:53,710 --> 00:43:57,789
information necessary to look up into

933
00:43:55,059 --> 00:44:02,460
some other structure into the voxel and

934
00:43:57,789 --> 00:44:02,460
you know maybe that would be sufficient

935
00:44:24,389 --> 00:44:33,828
and I suppose now that I'm thinking

936
00:44:27,239 --> 00:44:33,829
about it a little bit more sort of a

937
00:44:36,380 --> 00:44:48,528
little bit more directly it does seem

938
00:44:43,889 --> 00:44:48,528
like that would be pretty easy to do you

939
00:44:51,588 --> 00:44:56,298
know we already had a scheme in here

940
00:44:54,028 --> 00:45:03,230
earlier on where we looked up lighting

941
00:44:56,298 --> 00:45:05,900
in a voxel pattern right so it's not

942
00:45:03,230 --> 00:45:07,858
it's not really something far fetched

943
00:45:05,900 --> 00:45:10,259
one of the problems that will definitely

944
00:45:07,858 --> 00:45:12,808
have is just you know figuring out how

945
00:45:10,259 --> 00:45:14,429
that voxel is partitioned and aligned to

946
00:45:12,809 --> 00:45:21,119
make sure that we get good use out of it

947
00:45:14,429 --> 00:45:26,608
but as long as we create you know I mean

948
00:45:21,119 --> 00:45:28,680
if you look at the world as it stands we

949
00:45:26,608 --> 00:45:32,159
probably wouldn't need to place sample

950
00:45:28,679 --> 00:45:34,739
points like inside a given volume here

951
00:45:32,159 --> 00:45:36,538
we just the lighting fidelity is not

952
00:45:34,739 --> 00:45:37,889
supposed to be particularly good it's

953
00:45:36,539 --> 00:45:41,670
just was to give a reasonable

954
00:45:37,889 --> 00:45:43,469
approximation to the lighting so if we

955
00:45:41,670 --> 00:45:46,588
think about it it probably isn't

956
00:45:43,469 --> 00:45:49,469
particularly difficult to imagine the

957
00:45:46,588 --> 00:45:52,798
lighting just being no more dense say

958
00:45:49,469 --> 00:45:55,738
than inside one of these tile regions

959
00:45:52,798 --> 00:45:56,998
like a normal room region here you know

960
00:45:55,739 --> 00:45:59,460
we wouldn't have more than eight light

961
00:45:56,998 --> 00:46:02,848
samples in the densest case you know

962
00:45:59,460 --> 00:46:05,249
what I'm saying and if that were so we

963
00:46:02,849 --> 00:46:08,130
can see pretty clearly one two three

964
00:46:05,248 --> 00:46:09,959
four five six seven eight well how many

965
00:46:08,130 --> 00:46:13,108
and we let's zoom out let's get the

966
00:46:09,960 --> 00:46:14,970
biggest possible view here that we can

967
00:46:13,108 --> 00:46:17,969
and so we look here what have we got

968
00:46:14,969 --> 00:46:21,058
like one two three four five six seven

969
00:46:17,969 --> 00:46:22,679
eight nine 10 11 12 13 maybe so figure

970
00:46:21,059 --> 00:46:28,499
something let's just say something like

971
00:46:22,679 --> 00:46:33,358
60 across and so even a 128 voxel that

972
00:46:28,498 --> 00:46:37,759
was screen oriented right would have

973
00:46:33,358 --> 00:46:40,088
more than enough fidelity to record the

974
00:46:37,760 --> 00:46:42,920
amount of lighting we would really

975
00:46:40,088 --> 00:46:44,719
require and Nyquist wise if we bump that

976
00:46:42,920 --> 00:46:48,858
up to tip t6 which is the calculation I

977
00:46:44,719 --> 00:46:51,019
just did were more than covered depth

978
00:46:48,858 --> 00:46:53,630
wise I don't know but I would say

979
00:46:51,019 --> 00:46:55,759
probably the same thing 60 deep tiles I

980
00:46:53,630 --> 00:46:57,200
mean we're not trying to have that much

981
00:46:55,760 --> 00:46:59,809
field of view here so that should be

982
00:46:57,199 --> 00:47:01,399
more than enough as well so I would

983
00:46:59,809 --> 00:47:06,200
think that if we use sort of like a

984
00:47:01,400 --> 00:47:12,019
screen space kind of voxel and if we

985
00:47:06,199 --> 00:47:13,879
wanted to you know we could just like I

986
00:47:12,019 --> 00:47:18,409
said rasterize that and the GPU every

987
00:47:13,880 --> 00:47:20,869
frame even so just using a light probe

988
00:47:18,409 --> 00:47:25,629
list that we already were sending down I

989
00:47:20,869 --> 00:47:25,630
think we've got a good shot of that so

990
00:47:26,530 --> 00:47:34,880
my assumption is that maybe voxel lookup

991
00:47:32,630 --> 00:47:36,890
because we know that a graphics card can

992
00:47:34,880 --> 00:47:43,430
do that really easily you know what I'm

993
00:47:36,889 --> 00:47:45,170
saying take this method and combine it

994
00:47:43,429 --> 00:47:48,078
with this method so we're just basically

995
00:47:45,170 --> 00:47:50,599
saying use a voxel and into the voxel

996
00:47:48,079 --> 00:47:57,829
just write the closest light probe to

997
00:47:50,599 --> 00:48:00,490
that voxel right I think that might be

998
00:47:57,829 --> 00:48:00,490
good enough

999
00:48:04,730 --> 00:48:16,608
yeah I'm saying and so let's just try it

1000
00:48:13,519 --> 00:48:22,550
let's just try that and what we can do

1001
00:48:16,608 --> 00:48:26,559
for starters right is we can draw all of

1002
00:48:22,550 --> 00:48:29,030
this stuff mostly CPU side really slowly

1003
00:48:26,559 --> 00:48:32,320
and just get it working in an

1004
00:48:29,030 --> 00:48:35,210
environment where we can debug it and

1005
00:48:32,320 --> 00:48:37,900
then when we're sure that everything is

1006
00:48:35,210 --> 00:48:41,900
working within a reasonable degree of

1007
00:48:37,900 --> 00:48:43,670
satisfaction at that point we start

1008
00:48:41,900 --> 00:48:47,570
moving these things to the GPU one by

1009
00:48:43,670 --> 00:48:51,588
one and we can still leave lighting CPU

1010
00:48:47,570 --> 00:48:52,940
calculation CPU side using the exact

1011
00:48:51,588 --> 00:48:55,940
same techniques that we're using right

1012
00:48:52,940 --> 00:49:02,929
now and I think that would probably do

1013
00:48:55,940 --> 00:49:08,000
it right so I think I hope I hope that

1014
00:49:02,929 --> 00:49:10,009
gives us what we need all right so let's

1015
00:49:08,000 --> 00:49:11,329
start down there we're not going to get

1016
00:49:10,010 --> 00:49:13,819
very far today we don't have a whole lot

1017
00:49:11,329 --> 00:49:14,510
of time what do we got an hour and a

1018
00:49:13,818 --> 00:49:19,519
half maybe

1019
00:49:14,510 --> 00:49:21,079
no just an hour I think so we're not

1020
00:49:19,519 --> 00:49:22,730
gonna get very far today but like I said

1021
00:49:21,079 --> 00:49:24,380
it's gonna be a multi weekend project

1022
00:49:22,730 --> 00:49:25,670
that's fine lighting is very complicated

1023
00:49:24,380 --> 00:49:30,200
it's probably the hardest thing there is

1024
00:49:25,670 --> 00:49:33,079
to do in graphics and so you know to be

1025
00:49:30,199 --> 00:49:36,618
expected loading up handmade Hiro just

1026
00:49:33,079 --> 00:49:37,579
gonna do a quick builds here make sure

1027
00:49:36,619 --> 00:49:40,430
everything's up to date and correct

1028
00:49:37,579 --> 00:49:44,180
looks like it so I'm gonna go ahead and

1029
00:49:40,429 --> 00:49:48,679
open up our lighting routines here and

1030
00:49:44,179 --> 00:49:52,940
just start to kind of get a little bit

1031
00:49:48,679 --> 00:49:56,149
more I'm gonna sort of work towards

1032
00:49:52,940 --> 00:49:58,280
there slowly so I think the first thing

1033
00:49:56,150 --> 00:50:00,500
I want to do is I'm just gonna more or

1034
00:49:58,280 --> 00:50:03,980
less like turn off lighting in the

1035
00:50:00,500 --> 00:50:09,260
actual game and I'm gonna focus on

1036
00:50:03,980 --> 00:50:11,920
creating the lighting probes themselves

1037
00:50:09,260 --> 00:50:15,230
as the important part of the problem and

1038
00:50:11,920 --> 00:50:18,139
I'm going to ignore the gather for a

1039
00:50:15,230 --> 00:50:18,690
little bit because we need to sort of

1040
00:50:18,139 --> 00:50:24,980
take it

1041
00:50:18,690 --> 00:50:28,920
one step at a time so if I go to the

1042
00:50:24,980 --> 00:50:32,159
OpenGL renderer first and we start to

1043
00:50:28,920 --> 00:50:35,639
pull out like I'm going to go to the Z

1044
00:50:32,159 --> 00:50:37,019
bias program if we start to pull out the

1045
00:50:35,639 --> 00:50:40,289
part where we're actually sampling

1046
00:50:37,019 --> 00:50:42,838
things here you can see our fragment

1047
00:50:40,289 --> 00:50:44,789
code and the way this is working you can

1048
00:50:42,838 --> 00:50:47,730
see the fetch and sum here where it's

1049
00:50:44,789 --> 00:50:50,329
summing up the lighting what I'm gonna

1050
00:50:47,730 --> 00:50:52,829
do here is I'm just gonna have this stop

1051
00:50:50,329 --> 00:50:56,700
doing that operation

1052
00:50:52,829 --> 00:50:59,190
so rather than sampling from these

1053
00:50:56,699 --> 00:51:01,469
pieces of light information that we had

1054
00:50:59,190 --> 00:51:04,980
I'm actually not going to do that

1055
00:51:01,469 --> 00:51:07,769
sampling and we're gonna revisit that

1056
00:51:04,980 --> 00:51:10,230
later when we're ready to go right

1057
00:51:07,769 --> 00:51:13,400
so this lighting disabled part of things

1058
00:51:10,230 --> 00:51:16,500
that I'm just going to turn that on and

1059
00:51:13,400 --> 00:51:21,119
we're going to just require that the

1060
00:51:16,500 --> 00:51:25,739
lighting be disabled all the time as we

1061
00:51:21,119 --> 00:51:27,690
go so in here where are we here here we

1062
00:51:25,739 --> 00:51:32,039
go lighting stable so I'm just gonna

1063
00:51:27,690 --> 00:51:35,400
hard code that now so lighting disabled

1064
00:51:32,039 --> 00:51:38,068
is always off in our shader it's never

1065
00:51:35,400 --> 00:51:40,920
gonna do that summation and so when I

1066
00:51:38,068 --> 00:51:42,568
run the game we should now see that

1067
00:51:40,920 --> 00:51:45,990
everything is always full bright

1068
00:51:42,568 --> 00:51:47,969
everywhere right so we are computing the

1069
00:51:45,989 --> 00:51:50,368
lighting still so that I'm not actually

1070
00:51:47,969 --> 00:51:52,199
setting lugging disabled to true because

1071
00:51:50,369 --> 00:51:54,440
the rest of the lighting is actually

1072
00:51:52,199 --> 00:51:57,210
running and you can see that here

1073
00:51:54,440 --> 00:52:02,550
compute like provocations still doing

1074
00:51:57,210 --> 00:52:05,369
its thing but while we're at it we're

1075
00:52:02,550 --> 00:52:07,019
gonna turn that display off so that it's

1076
00:52:05,369 --> 00:52:09,420
not interfering with our ability to

1077
00:52:07,019 --> 00:52:12,690
visualize what the world is actually

1078
00:52:09,420 --> 00:52:15,750
looking at looking like from time to

1079
00:52:12,690 --> 00:52:17,579
time as we send down like colors for

1080
00:52:15,750 --> 00:52:21,269
things which will help us potentially

1081
00:52:17,579 --> 00:52:23,220
debug stuff right so the next thing I

1082
00:52:21,269 --> 00:52:26,009
want to do is I want to introduce an

1083
00:52:23,219 --> 00:52:31,019
entity a special entity type into our

1084
00:52:26,010 --> 00:52:32,020
system that we can use to do light

1085
00:52:31,019 --> 00:52:34,210
probing

1086
00:52:32,019 --> 00:52:36,869
and this entity would just be literally

1087
00:52:34,210 --> 00:52:40,000
a light probe nd so as we kind of walk

1088
00:52:36,869 --> 00:52:42,490
around in the world I want to be able to

1089
00:52:40,000 --> 00:52:46,329
draw out like I want I want the room

1090
00:52:42,489 --> 00:52:49,539
generation code right to be spamming

1091
00:52:46,329 --> 00:52:52,509
down some light probes that we can use

1092
00:52:49,539 --> 00:52:55,210
for light sampling and at first we can

1093
00:52:52,510 --> 00:52:57,280
do that in a pretty haphazard fashion we

1094
00:52:55,210 --> 00:52:59,019
can even just spam them every tile that

1095
00:52:57,280 --> 00:53:01,810
doesn't have a wall on it can have our

1096
00:52:59,019 --> 00:53:02,590
light samples in it and we can just go

1097
00:53:01,809 --> 00:53:04,539
from there

1098
00:53:02,590 --> 00:53:06,579
now one of the things that we don't have

1099
00:53:04,539 --> 00:53:09,009
right now and I don't know why I thought

1100
00:53:06,579 --> 00:53:11,049
we had it a while back but we don't

1101
00:53:09,010 --> 00:53:14,260
actually seem to you can look here and

1102
00:53:11,050 --> 00:53:17,380
even if I expand everything out I'm not

1103
00:53:14,260 --> 00:53:20,020
seeing it in the lighting we used to

1104
00:53:17,380 --> 00:53:22,030
have a way of displaying like and it's

1105
00:53:20,019 --> 00:53:24,130
yeah just I don't know where it went

1106
00:53:22,030 --> 00:53:26,200
we used to have a way of displaying some

1107
00:53:24,130 --> 00:53:29,340
statistics and those statistics are

1108
00:53:26,199 --> 00:53:31,989
pretty important I would like to see

1109
00:53:29,340 --> 00:53:35,769
lighting information displayed here and

1110
00:53:31,989 --> 00:53:39,250
it's not so I'm gonna try and go in and

1111
00:53:35,769 --> 00:53:43,480
get some of that back because as we

1112
00:53:39,250 --> 00:53:47,500
create this sort of new pass on the

1113
00:53:43,480 --> 00:53:52,449
system I really want to have some way of

1114
00:53:47,500 --> 00:53:54,130
making sure that we can measure it as we

1115
00:53:52,449 --> 00:53:57,639
go I don't want to be completely flying

1116
00:53:54,130 --> 00:54:00,400
blind here I don't want to not know how

1117
00:53:57,639 --> 00:54:02,349
many samples I have how many collectors

1118
00:54:00,400 --> 00:54:04,930
I have versus like we had that

1119
00:54:02,349 --> 00:54:09,400
information at some point we got rid of

1120
00:54:04,929 --> 00:54:11,618
it and I know I want it back right okay

1121
00:54:09,400 --> 00:54:13,450
so here in the lighting system somewhere

1122
00:54:11,619 --> 00:54:15,190
we're pushing some information and we're

1123
00:54:13,449 --> 00:54:17,919
just not pushing that particular piece

1124
00:54:15,190 --> 00:54:20,019
of information I don't know why so here

1125
00:54:17,920 --> 00:54:22,450
you can see for example we've got debug

1126
00:54:20,019 --> 00:54:26,230
values total cast initiated total

1127
00:54:22,449 --> 00:54:30,129
partitions tested all of this crap is

1128
00:54:26,230 --> 00:54:32,019
stuff we want and I'm not seeing it so

1129
00:54:30,130 --> 00:54:33,880
that's that's what we want to do and I

1130
00:54:32,019 --> 00:54:37,389
think the main reason is because we kind

1131
00:54:33,880 --> 00:54:40,900
of got rid of right went in there we're

1132
00:54:37,389 --> 00:54:42,969
not opening up the lighting bracket as a

1133
00:54:40,900 --> 00:54:45,240
thing that we should be sort of storing

1134
00:54:42,969 --> 00:54:45,239
it as

1135
00:54:45,548 --> 00:54:53,219
so I'm going to go ahead and look for

1136
00:54:48,088 --> 00:54:59,068
that particular debug output just to see

1137
00:54:53,219 --> 00:54:59,068
where it actually is so let's see here

1138
00:55:06,148 --> 00:55:21,308
that is not what I'm talking about where

1139
00:55:15,248 --> 00:55:23,498
is it here it is so you can see here

1140
00:55:21,309 --> 00:55:26,259
we've got some nonsense about the debug

1141
00:55:23,498 --> 00:55:30,968
lighting block with you know this sort

1142
00:55:26,259 --> 00:55:33,548
of stuff here I and this is what I want

1143
00:55:30,969 --> 00:55:35,259
but it's not where I want it might be

1144
00:55:33,548 --> 00:55:37,028
the right way to put it

1145
00:55:35,259 --> 00:55:39,009
so what I'd rather do and I don't

1146
00:55:37,028 --> 00:55:42,059
actually know if this is the right way

1147
00:55:39,009 --> 00:55:45,099
to do it but it seems like good enough

1148
00:55:42,059 --> 00:55:48,249
at the moment it's a Miss gonna stuff

1149
00:55:45,099 --> 00:55:50,709
this in here and I'm going to like

1150
00:55:48,248 --> 00:55:55,928
display my loops my lighting information

1151
00:55:50,708 --> 00:55:59,379
as part of this system right so where we

1152
00:55:55,929 --> 00:56:00,729
were doing this stuff here I'm just

1153
00:55:59,380 --> 00:56:02,889
going to go ahead and open that up

1154
00:56:00,728 --> 00:56:05,458
and I'm gonna put that in here right

1155
00:56:02,889 --> 00:56:05,459
like so

1156
00:56:10,420 --> 00:56:15,099
and I'm gonna start building up like

1157
00:56:12,639 --> 00:56:20,139
what we're printing out in terms of that

1158
00:56:15,099 --> 00:56:22,179
information I think that part right

1159
00:56:20,139 --> 00:56:23,619
there should just work probably and now

1160
00:56:22,179 --> 00:56:24,969
we should be getting those stats but

1161
00:56:23,619 --> 00:56:27,759
there's some other stats I'll go gather

1162
00:56:24,969 --> 00:56:32,919
up as well just so we can output those

1163
00:56:27,760 --> 00:56:34,450
into the lighting okay so there you can

1164
00:56:32,920 --> 00:56:37,389
see more what I was looking for right

1165
00:56:34,449 --> 00:56:40,449
now we've got like how many times we're

1166
00:56:37,389 --> 00:56:44,259
recasting rays how many partitions of

1167
00:56:40,449 --> 00:56:45,789
our sort of octree let's not an octree

1168
00:56:44,260 --> 00:56:50,620
it's more like a bounding volume

1169
00:56:45,789 --> 00:56:54,070
hierarchy of our BVH what are we testing

1170
00:56:50,619 --> 00:56:56,019
here how many partitions forecast are we

1171
00:56:54,070 --> 00:57:00,370
visiting how many leaves

1172
00:56:56,019 --> 00:57:03,579
how many partitions per leaf all that

1173
00:57:00,369 --> 00:57:04,869
kind of stuff right so you know

1174
00:57:03,579 --> 00:57:08,259
essentially what we're looking at here

1175
00:57:04,869 --> 00:57:09,579
is well we can probably speed up this

1176
00:57:08,260 --> 00:57:10,990
stuff because it's gonna be a little

1177
00:57:09,579 --> 00:57:12,610
simpler than it was before

1178
00:57:10,989 --> 00:57:14,919
but really what we're trying to do here

1179
00:57:12,610 --> 00:57:17,590
is maybe get this number down right so

1180
00:57:14,920 --> 00:57:19,389
total castes initiated we would like to

1181
00:57:17,590 --> 00:57:22,750
get that number down at least by maybe a

1182
00:57:19,389 --> 00:57:24,339
factor of two so that we and and really

1183
00:57:22,750 --> 00:57:26,500
where that's going to come from largely

1184
00:57:24,340 --> 00:57:29,170
is reducing the number of samplers that

1185
00:57:26,500 --> 00:57:30,400
we actually have to cast hopefully

1186
00:57:29,170 --> 00:57:33,340
that's what we're trying to do anyway

1187
00:57:30,400 --> 00:57:35,260
so again just want to collect that data

1188
00:57:33,340 --> 00:57:38,740
so I can make sure that we actually are

1189
00:57:35,260 --> 00:57:40,480
reducing the number and not increasing

1190
00:57:38,739 --> 00:57:42,279
the number so I'm gonna go through here

1191
00:57:40,480 --> 00:57:43,960
and just see I don't know where else we

1192
00:57:42,280 --> 00:57:46,690
have a debug value out I may already

1193
00:57:43,960 --> 00:57:48,400
have that number I'm not sure so yeah

1194
00:57:46,690 --> 00:57:50,889
you can see lightbox counts like this is

1195
00:57:48,400 --> 00:57:52,329
what I'm actually looking for here I

1196
00:57:50,889 --> 00:57:53,650
don't know if I can just add those over

1197
00:57:52,329 --> 00:57:56,799
there so we can have it all in one place

1198
00:57:53,650 --> 00:57:59,800
that would be nice I'm not sure if we

1199
00:57:56,800 --> 00:58:02,380
can or camp I'm gonna try and just see

1200
00:57:59,800 --> 00:58:03,910
if I stick that in here so do we know

1201
00:58:02,380 --> 00:58:08,829
this information at this point I'm not

1202
00:58:03,909 --> 00:58:13,779
sure here we do oh we don't we don't

1203
00:58:08,829 --> 00:58:16,210
have the group we don't have this so we

1204
00:58:13,780 --> 00:58:18,100
need that that group there compute light

1205
00:58:16,210 --> 00:58:20,369
propagation where does the group come

1206
00:58:18,099 --> 00:58:20,369
from

1207
00:58:24,469 --> 00:58:28,639
it's just the render group there

1208
00:58:33,719 --> 00:58:43,019
and that information doesn't actually

1209
00:58:35,849 --> 00:58:45,660
look like it's yeah coming so um I guess

1210
00:58:43,019 --> 00:58:47,190
I'll just get rid of that I don't know

1211
00:58:45,659 --> 00:58:49,798
we may have that in the lighting

1212
00:58:47,190 --> 00:58:54,900
solution anyway yeah so box count is

1213
00:58:49,798 --> 00:58:56,960
that right so I think we don't really

1214
00:58:54,900 --> 00:59:00,088
need that so I think we're okay

1215
00:58:56,960 --> 00:59:02,309
seems reasonable all right so let's take

1216
00:59:00,088 --> 00:59:04,920
a look at what we're what numbers were

1217
00:59:02,309 --> 00:59:08,548
actually seeing here so if I look at my

1218
00:59:04,920 --> 00:59:11,130
lighting you can see here what the

1219
00:59:08,548 --> 00:59:15,318
numbers are that we're actually pushing

1220
00:59:11,130 --> 00:59:18,289
through the system so we've got 445

1221
00:59:15,318 --> 00:59:21,480
boxes I guess that are coming into the

1222
00:59:18,289 --> 00:59:23,369
system via the lighting volume here and

1223
00:59:21,480 --> 00:59:24,750
again that lady volume is not all of

1224
00:59:23,369 --> 00:59:32,039
this right it was just the visible

1225
00:59:24,750 --> 00:59:33,389
region so forward in 45 boxes if we

1226
00:59:32,039 --> 00:59:38,940
looked at how many there would actually

1227
00:59:33,389 --> 00:59:43,379
maybe be in this area that comes out to

1228
00:59:38,940 --> 00:59:46,019
sixty ninety seven points I mean I don't

1229
00:59:43,380 --> 00:59:48,059
really know but just eyeballing it

1230
00:59:46,019 --> 00:59:50,278
getting that number down should not be

1231
00:59:48,059 --> 00:59:51,839
hard if each one of our lighting samples

1232
00:59:50,278 --> 00:59:54,420
and we I think we can get away with

1233
00:59:51,838 --> 00:59:56,460
fairly few maybe just two per tile

1234
00:59:54,420 --> 01:00:01,349
possibly even just one per tile but two

1235
00:59:56,460 --> 01:00:04,639
per tile maybe if we got down to like

1236
01:00:01,349 --> 01:00:04,640
two per tile roughly

1237
01:00:17,369 --> 01:00:24,059
I mean I think let's say we got it down

1238
01:00:22,048 --> 01:00:28,829
to like two per tile which I don't think

1239
01:00:24,059 --> 01:00:30,900
would be too bad if we if we got it down

1240
01:00:28,829 --> 01:00:36,568
to like two per tile then I think we're

1241
01:00:30,900 --> 01:00:40,769
looking at something more like three

1242
01:00:36,568 --> 01:00:43,768
thousand points maybe which is you know

1243
01:00:40,768 --> 01:00:45,629
cutting that in half because each the

1244
01:00:43,768 --> 01:00:52,139
point we slept a sample in each of the

1245
01:00:45,630 --> 01:00:55,048
directions although actually if we treat

1246
01:00:52,139 --> 01:00:56,068
each one as a single point we may be

1247
01:00:55,048 --> 01:00:57,298
able to get that even further because

1248
01:00:56,068 --> 01:00:58,498
they're not really points anymore

1249
01:00:57,298 --> 01:01:00,719
they're they're sort of omnidirectional

1250
01:00:58,498 --> 01:01:02,548
so when we cast we can cast in arbitrary

1251
01:01:00,719 --> 01:01:04,679
directions and for each cast we just

1252
01:01:02,548 --> 01:01:14,248
know which sort of lighting direction it

1253
01:01:04,679 --> 01:01:20,219
contributes to yeah yeah all right so I

1254
01:01:14,248 --> 01:01:23,038
think I think this should be pretty

1255
01:01:20,219 --> 01:01:26,729
reasonable so if we look at our lighting

1256
01:01:23,039 --> 01:01:28,859
solution at the moment really this is

1257
01:01:26,728 --> 01:01:30,989
the part that's going to change so this

1258
01:01:28,858 --> 01:01:33,838
point count extended point count points

1259
01:01:30,989 --> 01:01:36,420
initial PPS emission PPS this is the

1260
01:01:33,838 --> 01:01:38,998
stuff that really has to be changing now

1261
01:01:36,420 --> 01:01:42,239
for our immediate purposes what we

1262
01:01:38,998 --> 01:01:46,528
should probably be able to do here is do

1263
01:01:42,239 --> 01:01:50,278
the minimal amount of change by making

1264
01:01:46,528 --> 01:01:52,670
our lighting points now come from

1265
01:01:50,278 --> 01:01:54,838
individual light sample volumes and

1266
01:01:52,670 --> 01:01:58,920
those sample volumes would have exactly

1267
01:01:54,838 --> 01:02:03,568
one point on each of the six faces of

1268
01:01:58,920 --> 01:02:06,059
the cube in question right so let's

1269
01:02:03,568 --> 01:02:10,139
start down that road the first thing I

1270
01:02:06,059 --> 01:02:12,539
would need to do is I need to start

1271
01:02:10,139 --> 01:02:16,498
placing these things in in the first

1272
01:02:12,539 --> 01:02:17,880
place right and so you know we're gonna

1273
01:02:16,498 --> 01:02:20,909
have to have something where we can

1274
01:02:17,880 --> 01:02:23,329
place one of these things down so that

1275
01:02:20,909 --> 01:02:26,838
entities can have like a brain type of

1276
01:02:23,329 --> 01:02:31,250
sampler or something right however I

1277
01:02:26,838 --> 01:02:34,679
don't really know if I

1278
01:02:31,250 --> 01:02:37,170
want to quite do it that way and the

1279
01:02:34,679 --> 01:02:40,230
reason is because our lighting sampling

1280
01:02:37,170 --> 01:02:41,880
is really pretty sensitive to where you

1281
01:02:40,230 --> 01:02:46,380
are in the environment how you would

1282
01:02:41,880 --> 01:02:48,960
move around if we had a tile that was

1283
01:02:46,380 --> 01:02:52,800
moving up and down right we would

1284
01:02:48,960 --> 01:02:54,809
probably it was kind of floating we

1285
01:02:52,800 --> 01:02:57,210
would probably want the sample points to

1286
01:02:54,809 --> 01:02:59,099
float with it and the reason that I say

1287
01:02:57,210 --> 01:03:02,490
that is because otherwise it floated up

1288
01:02:59,099 --> 01:03:04,380
too high it might it's self occlude that

1289
01:03:02,489 --> 01:03:07,559
sample point by like entirely

1290
01:03:04,380 --> 01:03:09,780
encompassing it right now what we could

1291
01:03:07,559 --> 01:03:12,059
do is say that encompassing a sampling

1292
01:03:09,780 --> 01:03:14,370
point is fine

1293
01:03:12,059 --> 01:03:18,079
because you're not really gonna block

1294
01:03:14,369 --> 01:03:29,699
that sample point from shooting rays out

1295
01:03:18,079 --> 01:03:36,269
um is that true if we don't if we allow

1296
01:03:29,699 --> 01:03:38,309
you to shoot out of a volume then I

1297
01:03:36,269 --> 01:03:46,500
guess that's fine so I guess I guess we

1298
01:03:38,309 --> 01:03:49,590
can just do it this way right so if I

1299
01:03:46,500 --> 01:03:53,159
said okay there's a type of brain that's

1300
01:03:49,590 --> 01:03:55,320
just called a light probe right and I

1301
01:03:53,159 --> 01:04:01,219
place it in the world and that's the end

1302
01:03:55,320 --> 01:04:07,050
of it you know I'm saying I I don't know

1303
01:04:01,219 --> 01:04:09,719
maybe that will just work and I can add

1304
01:04:07,050 --> 01:04:11,789
those to the world right now so what I

1305
01:04:09,719 --> 01:04:16,589
would do there is when were in the room

1306
01:04:11,789 --> 01:04:19,920
gencode you can see here we've got two

1307
01:04:16,590 --> 01:04:22,670
things one is like generate apron that

1308
01:04:19,920 --> 01:04:27,000
puts down tiles and then the other is

1309
01:04:22,670 --> 01:04:30,659
generate room that puts down tiles I can

1310
01:04:27,000 --> 01:04:34,440
just place light probes and off we go

1311
01:04:30,659 --> 01:04:38,960
plus I can be even a little bit more

1312
01:04:34,440 --> 01:04:41,610
squirrely about it and say well actually

1313
01:04:38,960 --> 01:04:45,050
when I'm doing this room generation I

1314
01:04:41,610 --> 01:04:47,420
could place light probes more densely

1315
01:04:45,050 --> 01:04:49,190
areas where you would actually go and

1316
01:04:47,420 --> 01:04:51,349
then like I'm generating the apron I can

1317
01:04:49,190 --> 01:04:53,539
place them much more sparsely because

1318
01:04:51,349 --> 01:04:55,759
maybe we don't care if the lighting out

1319
01:04:53,539 --> 01:04:57,590
there is particularly good right because

1320
01:04:55,760 --> 01:05:01,670
we know it's just sort of like ambient

1321
01:04:57,590 --> 01:05:05,059
nonsense that's not really the focus of

1322
01:05:01,670 --> 01:05:07,670
your attention you know um so that seems

1323
01:05:05,059 --> 01:05:10,489
pretty good too so let's start by just

1324
01:05:07,670 --> 01:05:12,610
placing probes that are in rooms so that

1325
01:05:10,489 --> 01:05:17,239
we don't place them in the apron anyway

1326
01:05:12,610 --> 01:05:20,870
and we'll go from there so in here where

1327
01:05:17,239 --> 01:05:22,789
we place like where we actually put

1328
01:05:20,869 --> 01:05:25,909
things down I think all I'm really gonna

1329
01:05:22,789 --> 01:05:28,070
check is whether or not something is a

1330
01:05:25,909 --> 01:05:31,309
wall and I'm just gonna say like I don't

1331
01:05:28,070 --> 01:05:35,330
want to bother like putting probes on

1332
01:05:31,309 --> 01:05:38,989
walls yet we may need to do that for a

1333
01:05:35,329 --> 01:05:41,299
collective we may need to collect data

1334
01:05:38,989 --> 01:05:42,709
on the like up maybe above the walls or

1335
01:05:41,300 --> 01:05:46,730
whatever we may need to do some of that

1336
01:05:42,710 --> 01:05:50,210
so this is not a final thing but I would

1337
01:05:46,730 --> 01:05:52,969
like to sort of say this wall height bit

1338
01:05:50,210 --> 01:05:56,179
I want to know whether I'm on a wall or

1339
01:05:52,969 --> 01:06:00,079
not and if I'm not then I place one of

1340
01:05:56,179 --> 01:06:03,679
those things down so maybe I say like

1341
01:06:00,079 --> 01:06:09,529
okay the traversable here there's also a

1342
01:06:03,679 --> 01:06:13,719
like on wall equals false on wall equals

1343
01:06:09,530 --> 01:06:22,040
true and so then down at the bottom here

1344
01:06:13,719 --> 01:06:24,519
in fact this can also sort of be done

1345
01:06:22,039 --> 01:06:24,519
this way

1346
01:06:27,099 --> 01:06:32,900
so then finally when I get to the end

1347
01:06:30,699 --> 01:06:35,899
you know and everything sort of been

1348
01:06:32,900 --> 01:06:38,059
done I can just say alright if I was on

1349
01:06:35,900 --> 01:06:41,088
a wall maybe I'm gonna add an entity

1350
01:06:38,059 --> 01:06:43,369
here and that end ease the light probe

1351
01:06:41,088 --> 01:06:46,088
and the place that I'm gonna add it is

1352
01:06:43,369 --> 01:06:49,789
just sort of in like the center point of

1353
01:06:46,088 --> 01:06:51,500
this thing and when I say Joe should I

1354
01:06:49,789 --> 01:06:54,079
add one should I add two I don't really

1355
01:06:51,500 --> 01:06:57,650
know what I'm really considering there

1356
01:06:54,079 --> 01:06:59,869
is should I have like one low one and

1357
01:06:57,650 --> 01:07:02,240
one high one so that we collect

1358
01:06:59,869 --> 01:07:04,099
different lighting information that we

1359
01:07:02,239 --> 01:07:06,889
can use to sort of see what's the

1360
01:07:04,099 --> 01:07:09,470
difference between high and low I kind

1361
01:07:06,889 --> 01:07:12,199
of have a sense that maybe we do want to

1362
01:07:09,469 --> 01:07:14,629
do that and so you know maybe I'll I'll

1363
01:07:12,199 --> 01:07:17,029
really do that this should be not by the

1364
01:07:14,630 --> 01:07:19,760
way so I made me want to add two light

1365
01:07:17,030 --> 01:07:21,950
probes and one one high probe one low

1366
01:07:19,760 --> 01:07:25,579
probe and I want to add those in

1367
01:07:21,949 --> 01:07:28,399
locations that make sense based on the

1368
01:07:25,579 --> 01:07:30,710
positioning that I see here so what I'm

1369
01:07:28,400 --> 01:07:34,338
going to do is say that those those

1370
01:07:30,710 --> 01:07:36,710
light probes are going to be added at a

1371
01:07:34,338 --> 01:07:39,920
certain understanding of the base and a

1372
01:07:36,710 --> 01:07:44,150
teepee I would like to sort of take that

1373
01:07:39,920 --> 01:07:45,980
and say to the sort of the basis PE for

1374
01:07:44,150 --> 01:07:48,200
this thing is before I've done any of

1375
01:07:45,980 --> 01:07:50,809
this kind of like weird offsetting of it

1376
01:07:48,199 --> 01:07:54,828
like the random unilateral parts of this

1377
01:07:50,809 --> 01:08:02,029
for example and I'm gonna use that as

1378
01:07:54,829 --> 01:08:03,980
sort of my basis right so I want to add

1379
01:08:02,030 --> 01:08:08,109
these at the basis P but I want to

1380
01:08:03,980 --> 01:08:11,510
offset them by different amounts here

1381
01:08:08,108 --> 01:08:14,480
largely just Z differences where I'm

1382
01:08:11,510 --> 01:08:16,338
going to add these light probes I think

1383
01:08:14,480 --> 01:08:20,649
that's really all I need to do I'm gonna

1384
01:08:16,338 --> 01:08:22,609
pass the generator down here as

1385
01:08:20,649 --> 01:08:23,929
something I use when I'm adding the

1386
01:08:22,609 --> 01:08:26,838
light probes but other than that I think

1387
01:08:23,930 --> 01:08:28,460
we're good and so when I add this in

1388
01:08:26,838 --> 01:08:30,350
what I want to do is I want one of the

1389
01:08:28,460 --> 01:08:33,079
light probes to be low and one of the

1390
01:08:30,350 --> 01:08:35,510
light probes to be high the low light

1391
01:08:33,079 --> 01:08:36,769
probe you know is going to be

1392
01:08:35,510 --> 01:08:37,909
[Music]

1393
01:08:36,770 --> 01:08:43,490
you know I don't know what these numbers

1394
01:08:37,909 --> 01:08:46,099
should really be I I'm not sure but

1395
01:08:43,489 --> 01:08:47,659
we'll tune them in a second whatever

1396
01:08:46,100 --> 01:08:51,220
they should be you know they're gonna

1397
01:08:47,659 --> 01:08:53,930
look something like that right so

1398
01:08:51,220 --> 01:08:57,350
there's one that's like high and one

1399
01:08:53,930 --> 01:08:59,329
that's low you know what I mean

1400
01:08:57,350 --> 01:09:00,740
so we'll look at where they get placed

1401
01:08:59,329 --> 01:09:02,420
and we'll figure out we can even make

1402
01:09:00,739 --> 01:09:06,199
them proportional to the height to the

1403
01:09:02,420 --> 01:09:10,940
floor height as well other things like

1404
01:09:06,199 --> 01:09:20,059
that as we go but anyway in fact let me

1405
01:09:10,939 --> 01:09:23,719
just add that in there as well so we'll

1406
01:09:20,060 --> 01:09:25,339
basically take however high you know the

1407
01:09:23,720 --> 01:09:30,350
Z height is to these things and we'll

1408
01:09:25,338 --> 01:09:34,338
we'll multiply that out right so I don't

1409
01:09:30,350 --> 01:09:37,490
know something like this I'm not really

1410
01:09:34,338 --> 01:09:40,850
sure but this is just to spam these

1411
01:09:37,489 --> 01:09:45,079
entities into the system so that we you

1412
01:09:40,850 --> 01:09:47,480
know have a way of setting up an initial

1413
01:09:45,079 --> 01:09:49,159
sampling that we could then use for our

1414
01:09:47,479 --> 01:09:50,599
lighting and at first it's not going to

1415
01:09:49,159 --> 01:09:53,028
do anything right it's gonna be

1416
01:09:50,600 --> 01:09:56,900
completely useless but then as we go

1417
01:09:53,029 --> 01:10:03,380
it'll be more useful all right so in

1418
01:09:56,899 --> 01:10:05,179
here we've got where's our oh I don't

1419
01:10:03,380 --> 01:10:06,590
want that file I want an image and I'm

1420
01:10:05,180 --> 01:10:10,909
like where's all our underneath

1421
01:10:06,590 --> 01:10:12,440
dimensions so here we go if I want to

1422
01:10:10,909 --> 01:10:15,800
add one of these

1423
01:10:12,439 --> 01:10:17,629
saucy gentlemen right

1424
01:10:15,800 --> 01:10:21,430
I just I'm saying here it's the position

1425
01:10:17,630 --> 01:10:25,789
of our light probe I'm gonna add that in

1426
01:10:21,430 --> 01:10:29,320
like so I'm gonna set its brain ID to

1427
01:10:25,789 --> 01:10:29,319
the special brain ID for light probes

1428
01:10:31,810 --> 01:10:47,320
I don't remember what type brain light

1429
01:10:42,159 --> 01:10:50,949
probe and honestly I don't think there's

1430
01:10:47,319 --> 01:10:53,139
anything else we actually need it's just

1431
01:10:50,949 --> 01:10:55,899
the position in the ID and that's it I

1432
01:10:53,140 --> 01:10:57,490
think at the moment so that's going to

1433
01:10:55,899 --> 01:10:59,409
add a bunch of these light probes to the

1434
01:10:57,489 --> 01:11:01,119
scene in theory that should just work

1435
01:10:59,409 --> 01:11:06,279
but of course we won't actually be able

1436
01:11:01,119 --> 01:11:11,640
to see any of them right to actually

1437
01:11:06,279 --> 01:11:11,639
need the soap this is totally wrong

1438
01:11:18,090 --> 01:11:29,110
probably want it that way is this

1439
01:11:21,090 --> 01:11:31,449
redundant no it's not alright so that's

1440
01:11:29,109 --> 01:11:35,069
really all I wanted to do and I'm gonna

1441
01:11:31,449 --> 01:11:35,069
have to go past that region down

1442
01:11:41,429 --> 01:11:44,239
okay

1443
01:11:46,430 --> 01:11:56,810
I guess this is so I guess when I'm

1444
01:11:54,590 --> 01:11:59,810
looking at this to the brain slot thing

1445
01:11:56,810 --> 01:12:01,460
so when we had a sort of that's right

1446
01:11:59,810 --> 01:12:03,560
because brains are sort of allocated on

1447
01:12:01,460 --> 01:12:05,060
an as-needed basis and we don't really

1448
01:12:03,560 --> 01:12:08,120
need to allocate anything for this

1449
01:12:05,060 --> 01:12:10,610
particular brain so when we actually

1450
01:12:08,119 --> 01:12:13,359
look at this what we wanted to do here

1451
01:12:10,609 --> 01:12:22,189
is say that this is a special brain slot

1452
01:12:13,359 --> 01:12:23,000
not a brain ID and then I think we're

1453
01:12:22,189 --> 01:12:27,259
good to go there

1454
01:12:23,000 --> 01:12:33,470
okay so this needs to take the region

1455
01:12:27,260 --> 01:12:35,239
these need to pass the region down and

1456
01:12:33,470 --> 01:12:37,369
then I think we even added the light

1457
01:12:35,239 --> 01:12:41,329
probes to the system and that's a good

1458
01:12:37,369 --> 01:12:44,090
thing but we wouldn't see him so if I

1459
01:12:41,329 --> 01:12:46,220
run now they don't draw so you know

1460
01:12:44,090 --> 01:12:48,829
they're effectively not there right so

1461
01:12:46,220 --> 01:12:51,350
what I need to do now is have some way

1462
01:12:48,829 --> 01:12:54,350
to visualize those things and so inside

1463
01:12:51,350 --> 01:12:58,640
the world mode I'll probably go ahead

1464
01:12:54,350 --> 01:13:00,560
and have a global here for for rendering

1465
01:12:58,640 --> 01:13:02,329
that stuff if we look inside our

1466
01:13:00,560 --> 01:13:04,100
lighting we sort of already had this

1467
01:13:02,329 --> 01:13:12,739
stuff like show reflectors show

1468
01:13:04,100 --> 01:13:18,230
visibility that stuff so if we hop out

1469
01:13:12,739 --> 01:13:21,319
to the Global's here which is that's not

1470
01:13:18,229 --> 01:13:25,250
what I'm looking for here we go so if we

1471
01:13:21,319 --> 01:13:28,789
look at this stuff this is what I would

1472
01:13:25,250 --> 01:13:30,350
probably want to modify our global

1473
01:13:28,789 --> 01:13:32,269
controls for this sort of thing

1474
01:13:30,350 --> 01:13:35,750
why I haven't used these at all I don't

1475
01:13:32,270 --> 01:13:38,390
know we added them in there and just

1476
01:13:35,750 --> 01:13:40,399
haven't really done much of them so I

1477
01:13:38,390 --> 01:13:42,710
don't need I don't actually even know if

1478
01:13:40,399 --> 01:13:45,519
anyone's using these right now I think

1479
01:13:42,710 --> 01:13:48,470
they're probably old news at this point

1480
01:13:45,520 --> 01:13:50,540
yeah so really what I want to do is

1481
01:13:48,470 --> 01:13:52,280
change those into something we actually

1482
01:13:50,539 --> 01:13:54,680
care about now

1483
01:13:52,279 --> 01:13:58,250
so this global renderer lighting show

1484
01:13:54,680 --> 01:13:59,690
reflectors nonsense and I don't even

1485
01:13:58,250 --> 01:14:01,819
really need it to do

1486
01:13:59,689 --> 01:14:03,500
because you know we don't need to name

1487
01:14:01,819 --> 01:14:05,299
it anything weird like that either

1488
01:14:03,500 --> 01:14:08,600
because as you can see when you put it

1489
01:14:05,300 --> 01:14:10,610
in the lighting system now it just shows

1490
01:14:08,600 --> 01:14:12,350
up normally we didn't do the underscore

1491
01:14:10,609 --> 01:14:14,750
parsing nonsense that we sort of had

1492
01:14:12,350 --> 01:14:15,670
suggested we would do well we did it but

1493
01:14:14,750 --> 01:14:18,079
we don't need it

1494
01:14:15,670 --> 01:14:21,289
so what I'd rather do here is just say

1495
01:14:18,079 --> 01:14:22,550
let's make this a little bit more easy

1496
01:14:21,289 --> 01:14:24,710
you know a little bit easier to

1497
01:14:22,550 --> 01:14:33,050
understand so maybe this can just be

1498
01:14:24,710 --> 01:14:37,840
called global lighting and then here I

1499
01:14:33,050 --> 01:14:37,840
do like show probes something like that

1500
01:14:42,579 --> 01:14:49,010
and this way we have some understanding

1501
01:14:46,550 --> 01:14:50,300
of whether or not it's going to be

1502
01:14:49,010 --> 01:14:54,050
happening but we can also always like

1503
01:14:50,300 --> 01:14:56,119
turn it on and off and so if I go into

1504
01:14:54,050 --> 01:14:59,989
the world mode here you can see where

1505
01:14:56,119 --> 01:15:06,710
that stuff is you know being IFFT

1506
01:14:59,988 --> 01:15:11,928
upon actually I don't really remember

1507
01:15:06,710 --> 01:15:13,429
I thought we'd done some weird nonsense

1508
01:15:11,929 --> 01:15:15,139
with pound Defiance for these as well

1509
01:15:13,429 --> 01:15:19,940
but I guess we switch to not doing that

1510
01:15:15,139 --> 01:15:22,789
anymore too many things in handmade hero

1511
01:15:19,939 --> 01:15:25,908
anyway so if I take a look at what's

1512
01:15:22,789 --> 01:15:28,488
going on in the rest of the code here

1513
01:15:25,908 --> 01:15:30,109
you can kind of see where we do some ifs

1514
01:15:28,488 --> 01:15:34,899
on these sorts of things what I would

1515
01:15:30,109 --> 01:15:38,329
like to do is before we you know finish

1516
01:15:34,899 --> 01:15:42,948
rendering the world if someone asked us

1517
01:15:38,329 --> 01:15:46,039
right so if we had like you know global

1518
01:15:42,948 --> 01:15:49,609
lighting show probes I want to loop over

1519
01:15:46,039 --> 01:15:51,738
the probes in the in the world and draw

1520
01:15:49,609 --> 01:15:52,880
them now it occurs to me that since

1521
01:15:51,738 --> 01:15:55,369
we're already looping over entities

1522
01:15:52,880 --> 01:15:58,639
anyway maybe really what I want to do is

1523
01:15:55,369 --> 01:16:01,969
inside the entity system while we're

1524
01:15:58,639 --> 01:16:05,359
drawing the stuff say oh is this a you

1525
01:16:01,969 --> 01:16:06,439
know is this one of those right so when

1526
01:16:05,359 --> 01:16:08,689
we're doing stuff like drawing

1527
01:16:06,439 --> 01:16:12,500
traversals or drawing who knows what if

1528
01:16:08,689 --> 01:16:14,328
we're in global letting show probes mode

1529
01:16:12,500 --> 01:16:19,779
and

1530
01:16:14,328 --> 01:16:26,208
this entity happens to be one of those

1531
01:16:19,779 --> 01:16:30,488
special ones which I don't actually

1532
01:16:26,208 --> 01:16:32,988
remember how we like to test for that

1533
01:16:30,488 --> 01:16:36,198
it's I guess it's just brain stuff okay

1534
01:16:32,988 --> 01:16:39,109
so if we just create something here and

1535
01:16:36,198 --> 01:16:41,958
it's like is light probe and we test it

1536
01:16:39,109 --> 01:16:43,488
the same way we were testing before then

1537
01:16:41,958 --> 01:16:45,019
what we can do is say well special case

1538
01:16:43,488 --> 01:16:47,418
these guys when we see them come down

1539
01:16:45,019 --> 01:16:48,739
the pipe will push a little cube on

1540
01:16:47,418 --> 01:16:50,569
there right now that just lets us know

1541
01:16:48,738 --> 01:16:51,978
they're there and later we're gonna want

1542
01:16:50,569 --> 01:16:53,418
to do something better than this because

1543
01:16:51,979 --> 01:16:57,229
we're gonna want to actually show what

1544
01:16:53,418 --> 01:16:58,878
the lighting is but otherwise you know

1545
01:16:57,229 --> 01:17:01,128
we should be good to go

1546
01:16:58,878 --> 01:17:03,319
and in here I don't really want to do

1547
01:17:01,128 --> 01:17:05,479
anything special other than use the the

1548
01:17:03,319 --> 01:17:08,779
exact entity P so that we don't get

1549
01:17:05,479 --> 01:17:12,260
confused about where this thing actually

1550
01:17:08,779 --> 01:17:14,179
is right I also have no idea what that

1551
01:17:12,260 --> 01:17:19,300
3.0 is but it's probably the radius of

1552
01:17:14,179 --> 01:17:19,300
our cube that's true

1553
01:17:26,859 --> 01:17:37,729
um no I am incorrect the first parameter

1554
01:17:34,340 --> 01:17:43,909
with the v3 there is so that's the

1555
01:17:37,729 --> 01:17:45,859
Lighting Store and the Z bias all right

1556
01:17:43,908 --> 01:17:48,319
well that's fine

1557
01:17:45,859 --> 01:17:51,229
so anyway point being pretty simple just

1558
01:17:48,319 --> 01:17:56,779
gonna push this thing on there and we'll

1559
01:17:51,229 --> 01:18:01,189
see if we can see anything show up so if

1560
01:17:56,779 --> 01:18:06,618
I go ahead and run now here is the debug

1561
01:18:01,189 --> 01:18:10,158
display we can see all the cubes I guess

1562
01:18:06,618 --> 01:18:13,848
what I would say is the low ones look

1563
01:18:10,158 --> 01:18:14,658
pretty good the high ones look way too

1564
01:18:13,849 --> 01:18:19,130
high

1565
01:18:14,658 --> 01:18:21,529
other than that no problem so I think

1566
01:18:19,130 --> 01:18:26,750
what we want for high gather there is

1567
01:18:21,529 --> 01:18:28,578
maybe like not so aggressive if we take

1568
01:18:26,750 --> 01:18:32,238
a look at this maybe we knock that down

1569
01:18:28,578 --> 01:18:34,819
to just like 0.5 or maybe we knock it

1570
01:18:32,238 --> 01:18:36,948
down even further than that because we

1571
01:18:34,819 --> 01:18:38,689
really want fairly low samples in both

1572
01:18:36,948 --> 01:18:41,058
cases we just want a little distribution

1573
01:18:38,689 --> 01:18:44,988
so we can see the difference so that

1574
01:18:41,059 --> 01:18:47,270
seems a little bit better to me right so

1575
01:18:44,988 --> 01:18:56,299
I think that's good let me hop out to an

1576
01:18:47,270 --> 01:18:57,710
area that actually has also the Z bias

1577
01:18:56,300 --> 01:19:00,590
looks like it's causing a problem there

1578
01:18:57,710 --> 01:19:03,130
I don't know why close the game let's

1579
01:19:00,590 --> 01:19:03,130
turn that off

1580
01:19:12,880 --> 01:19:20,560
so there's all of our of our saucy

1581
01:19:16,719 --> 01:19:22,239
gentlemen if I hop along out to an area

1582
01:19:20,560 --> 01:19:23,650
that actually has some room stacked on

1583
01:19:22,238 --> 01:19:25,299
top of each other I could get a sense

1584
01:19:23,649 --> 01:19:27,699
for like what's getting probed there

1585
01:19:25,300 --> 01:19:29,380
which would be good so I'm just gonna go

1586
01:19:27,699 --> 01:19:32,099
down to the stairs and take a look so

1587
01:19:29,380 --> 01:19:34,359
here's the stairs and I'm gonna kind of

1588
01:19:32,100 --> 01:19:38,140
just take a look at where those are

1589
01:19:34,359 --> 01:19:40,119
getting added so that seems good but you

1590
01:19:38,140 --> 01:19:43,090
can kind of see because of the stairs

1591
01:19:40,119 --> 01:19:47,140
we're gonna probably want to fix that so

1592
01:19:43,090 --> 01:19:51,670
that the stairs have the sampling placed

1593
01:19:47,140 --> 01:19:55,300
more strategically on them so that part

1594
01:19:51,670 --> 01:19:59,020
needs to get updated there if you're a

1595
01:19:55,300 --> 01:20:02,020
stairwell I think that's the only thing

1596
01:19:59,020 --> 01:20:03,910
we really need to modify let me go ahead

1597
01:20:02,020 --> 01:20:05,230
and do that it's probably pretty

1598
01:20:03,909 --> 01:20:10,359
straightforward to just use the

1599
01:20:05,229 --> 01:20:14,519
stairwell modification so this here I'm

1600
01:20:10,359 --> 01:20:14,519
thinking maybe looks more like this

1601
01:20:15,090 --> 01:20:20,230
right

1602
01:20:17,199 --> 01:20:22,689
so that way we apply that before we look

1603
01:20:20,229 --> 01:20:27,039
at the basis fee for that thing that

1604
01:20:22,689 --> 01:20:28,869
would give our stairwells more of a the

1605
01:20:27,039 --> 01:20:31,539
lighting probe we'll follow the stairs

1606
01:20:28,869 --> 01:20:32,590
down because we don't really need

1607
01:20:31,539 --> 01:20:35,859
there's not gonna be things like

1608
01:20:32,590 --> 01:20:38,619
hovering up in the like higher area of

1609
01:20:35,859 --> 01:20:40,929
the stairwell hardly at all if ever and

1610
01:20:38,619 --> 01:20:42,609
so we don't really want the lighting to

1611
01:20:40,930 --> 01:20:44,350
be primarily sampled in the areas where

1612
01:20:42,609 --> 01:20:47,289
people aren't we want them a sample

1613
01:20:44,350 --> 01:20:48,730
primarily there's people are and then if

1614
01:20:47,289 --> 01:20:50,680
you're outside of that region where

1615
01:20:48,729 --> 01:20:53,468
people are well then we'll interpolate

1616
01:20:50,680 --> 01:20:55,450
and get a worse answer but we want like

1617
01:20:53,469 --> 01:20:57,489
most of the time where you're standing

1618
01:20:55,449 --> 01:20:58,750
where you're gonna be standing most of

1619
01:20:57,488 --> 01:21:00,069
the time is where we want the lighting

1620
01:20:58,750 --> 01:21:04,420
to be sampled right that's just kind of

1621
01:21:00,069 --> 01:21:09,009
an obvious statement okay so if we look

1622
01:21:04,420 --> 01:21:12,069
at how many lighting samples were strewn

1623
01:21:09,010 --> 01:21:14,619
eight were like sort of spewing out into

1624
01:21:12,069 --> 01:21:17,829
the world they're one of the things I

1625
01:21:14,619 --> 01:21:20,909
would like to know at this point is how

1626
01:21:17,829 --> 01:21:20,909
many entities

1627
01:21:22,770 --> 01:21:27,820
suppose we actually just took all of the

1628
01:21:25,810 --> 01:21:30,179
lighting that's in that entire gigantic

1629
01:21:27,819 --> 01:21:30,179
region

1630
01:21:30,659 --> 01:21:36,010
how many entities would that be like how

1631
01:21:33,579 --> 01:21:40,119
many light probes are in the scene right

1632
01:21:36,010 --> 01:21:44,980
now for every last thing that we saw

1633
01:21:40,119 --> 01:21:50,559
there right so if we look in here and

1634
01:21:44,979 --> 01:21:53,709
save for every entity and I assume the

1635
01:21:50,560 --> 01:21:55,449
active flag would stop anything when we

1636
01:21:53,710 --> 01:22:04,359
iterate all enemies how is that actually

1637
01:21:55,448 --> 01:22:05,738
working yes so that's a Turing of the

1638
01:22:04,359 --> 01:22:07,569
hash larkey so that's only the things

1639
01:22:05,738 --> 01:22:10,779
that are in the active sim region not on

1640
01:22:07,569 --> 01:22:12,250
the entity cache so that's good so let

1641
01:22:10,779 --> 01:22:16,929
me go through here what I want to do is

1642
01:22:12,250 --> 01:22:19,840
just take a summation and I'm just

1643
01:22:16,929 --> 01:22:24,039
curious like how many light probes we've

1644
01:22:19,840 --> 01:22:26,949
got because I have no idea right so tell

1645
01:22:24,039 --> 01:22:30,779
me how many light probes we have when we

1646
01:22:26,948 --> 01:22:34,809
go through here and off we go

1647
01:22:30,779 --> 01:22:35,979
right now I'm gonna go ahead and do this

1648
01:22:34,810 --> 01:22:37,570
even though I don't know if I actually

1649
01:22:35,979 --> 01:22:40,959
want to do it this way

1650
01:22:37,569 --> 01:22:45,069
in the end but so that I can facilitate

1651
01:22:40,960 --> 01:22:50,130
that summation I'm gonna go ahead and

1652
01:22:45,069 --> 01:22:54,250
sum the light probes even if we're not

1653
01:22:50,130 --> 01:22:56,230
showing them and then what I'm gonna do

1654
01:22:54,250 --> 01:23:04,689
is just output that piece of information

1655
01:22:56,229 --> 01:23:06,609
so inside the lighting I've got this bit

1656
01:23:04,689 --> 01:23:09,609
of sauce here I'm just gonna reopen that

1657
01:23:06,609 --> 01:23:17,920
lock and I'm just going to dump that

1658
01:23:09,609 --> 01:23:21,729
light probe right so the light probe

1659
01:23:17,920 --> 01:23:25,600
count now will just tell us like how

1660
01:23:21,729 --> 01:23:28,319
many there are in the entire scene let's

1661
01:23:25,600 --> 01:23:28,320
take a look at that

1662
01:23:30,399 --> 01:23:35,839
okay so just looking at that hopefully

1663
01:23:34,310 --> 01:23:37,430
that can give you an appreciation for

1664
01:23:35,840 --> 01:23:40,850
just how much better this scheme

1665
01:23:37,430 --> 01:23:44,390
probably can be even if we sample a high

1666
01:23:40,850 --> 01:23:47,180
and low which we may not even really

1667
01:23:44,390 --> 01:23:50,690
need to do I don't know but high and low

1668
01:23:47,180 --> 01:23:53,539
on every interior square gives us only

1669
01:23:50,689 --> 01:23:58,879
slightly more light probes than the

1670
01:23:53,539 --> 01:24:01,100
total number of boxes in just the

1671
01:23:58,880 --> 01:24:04,940
lighting solution region so remember I'm

1672
01:24:01,100 --> 01:24:09,410
counting everything now in here right

1673
01:24:04,939 --> 01:24:11,269
all of these interior points in the

1674
01:24:09,409 --> 01:24:14,720
whole thing not just that small

1675
01:24:11,270 --> 01:24:17,150
rectangular section and so that

1676
01:24:14,720 --> 01:24:18,350
potentially right there is knocking

1677
01:24:17,149 --> 01:24:20,750
things down to really much more

1678
01:24:18,350 --> 01:24:23,390
manageable number so coming out into a

1679
01:24:20,750 --> 01:24:25,970
place where we have a lot more on the

1680
01:24:23,390 --> 01:24:29,450
table so let's get to like a really much

1681
01:24:25,970 --> 01:24:33,710
more dense densely populated region if I

1682
01:24:29,449 --> 01:24:35,779
can here right so getting up to much

1683
01:24:33,710 --> 01:24:38,239
more densely populated region again it's

1684
01:24:35,779 --> 01:24:40,639
not even twice and in terms of its

1685
01:24:38,239 --> 01:24:42,649
comparison to the point count if we

1686
01:24:40,640 --> 01:24:44,960
multiply this number by six one for each

1687
01:24:42,649 --> 01:24:52,849
face of the cube we are still gonna be

1688
01:24:44,960 --> 01:24:57,560
below right so even just just that we

1689
01:24:52,850 --> 01:24:59,660
could in less computation cost we could

1690
01:24:57,560 --> 01:25:03,800
do our whole sim region

1691
01:24:59,659 --> 01:25:08,359
the whole thing we could do with these

1692
01:25:03,800 --> 01:25:09,980
probes at two per tile and if somehow we

1693
01:25:08,359 --> 01:25:12,170
could manage to get it down to one per

1694
01:25:09,979 --> 01:25:15,009
tile which we might be able to do I

1695
01:25:12,170 --> 01:25:17,480
don't know that might be unreasonable

1696
01:25:15,010 --> 01:25:19,159
because it might not give a good I I

1697
01:25:17,479 --> 01:25:20,750
don't know that we really we probably

1698
01:25:19,159 --> 01:25:22,789
can't let's just start with that because

1699
01:25:20,750 --> 01:25:25,069
we need some gradation from low to high

1700
01:25:22,789 --> 01:25:26,329
to give it some shading to so you can

1701
01:25:25,069 --> 01:25:28,449
see like the difference between those

1702
01:25:26,329 --> 01:25:31,609
two things

1703
01:25:28,449 --> 01:25:33,649
so we kind of want to have two I think

1704
01:25:31,609 --> 01:25:36,759
regardless and that's just just the way

1705
01:25:33,649 --> 01:25:36,759
it's going to go but I

1706
01:25:37,569 --> 01:25:43,779
you know what we also could do though we

1707
01:25:40,300 --> 01:25:45,369
could also not sample it completely like

1708
01:25:43,779 --> 01:25:48,340
we could have our light probes these

1709
01:25:45,368 --> 01:25:50,738
sort of longer and sample them in a way

1710
01:25:48,340 --> 01:25:52,389
that like takes a gradation into account

1711
01:25:50,738 --> 01:25:56,888
from high to low without actions and do

1712
01:25:52,389 --> 01:25:59,380
a completely new set of work but who

1713
01:25:56,889 --> 01:26:03,368
knows anyway so when we look at that

1714
01:25:59,380 --> 01:26:07,599
right that gives us a really good piece

1715
01:26:03,368 --> 01:26:11,799
of information here that suggests this

1716
01:26:07,599 --> 01:26:15,309
could be a pretty handy way for us to

1717
01:26:11,800 --> 01:26:17,920
improve what to improve our lighting

1718
01:26:15,309 --> 01:26:21,010
just in terms of sheer count right

1719
01:26:17,920 --> 01:26:24,819
because now we could simulate for the

1720
01:26:21,010 --> 01:26:27,250
same cost but less even cost we could

1721
01:26:24,819 --> 01:26:33,939
simulate the entire sim region's worth

1722
01:26:27,250 --> 01:26:38,519
of lighting so that's great okay so now

1723
01:26:33,939 --> 01:26:38,518
let's think about this a little bit more

1724
01:26:44,849 --> 01:26:48,779
twenty five minutes hmm

1725
01:26:51,260 --> 01:26:57,210
I'm not really sure what I can do in

1726
01:26:54,359 --> 01:27:03,809
only 25 minutes that would be

1727
01:26:57,210 --> 01:27:05,550
particularly productive because like

1728
01:27:03,810 --> 01:27:10,760
sort of the next logical steps of this

1729
01:27:05,550 --> 01:27:10,760
are going to be a little bit more fancy

1730
01:27:11,079 --> 01:27:14,189
[Music]

1731
01:27:16,908 --> 01:27:25,738
so I guess one thing I could do is build

1732
01:27:19,500 --> 01:27:27,539
the voxel that's not too hard and we

1733
01:27:25,738 --> 01:27:30,859
could start to verify that the voxel

1734
01:27:27,539 --> 01:27:34,529
that building the voxel is plausible

1735
01:27:30,859 --> 01:27:36,960
okay so let's think about this so if we

1736
01:27:34,529 --> 01:27:38,670
actually I guess the first question is

1737
01:27:36,960 --> 01:27:40,560
do we actually want to simulate the

1738
01:27:38,670 --> 01:27:43,889
whole sim region or not and the answer

1739
01:27:40,560 --> 01:27:47,280
is probably not right we probably only

1740
01:27:43,889 --> 01:27:49,400
want to simulate the parts of the sim

1741
01:27:47,279 --> 01:27:52,829
region that we actually care about

1742
01:27:49,399 --> 01:27:54,238
they're actually in view again just to

1743
01:27:52,829 --> 01:27:57,658
keep that number a little bit more

1744
01:27:54,238 --> 01:28:00,329
manageable however if we were gonna

1745
01:27:57,658 --> 01:28:01,829
let's again let's I'm gonna maybe start

1746
01:28:00,329 --> 01:28:05,488
with all sim region anyway though and

1747
01:28:01,829 --> 01:28:08,550
then just shrink it down as we go as

1748
01:28:05,488 --> 01:28:11,339
necessary if we were going to do the

1749
01:28:08,550 --> 01:28:13,529
entire sim region I guess one question I

1750
01:28:11,340 --> 01:28:16,650
have is what is the voxel density

1751
01:28:13,529 --> 01:28:19,590
necessary to keep the entire sim region

1752
01:28:16,649 --> 01:28:23,429
in it without actually having any too

1753
01:28:19,590 --> 01:28:26,909
light probes occupy the same voxel right

1754
01:28:23,429 --> 01:28:29,069
so what's the like size of a cube

1755
01:28:26,908 --> 01:28:32,908
necessary to make sure that that never

1756
01:28:29,069 --> 01:28:36,389
happens and we sort of already know I

1757
01:28:32,908 --> 01:28:38,908
guess in a sense because our sizes are

1758
01:28:36,389 --> 01:28:43,260
sort of based on that to begin with I

1759
01:28:38,908 --> 01:28:45,769
think they're based on tiles so if you

1760
01:28:43,260 --> 01:28:45,770
take a look

1761
01:28:49,100 --> 01:29:08,890
where we form that sim region I where do

1762
01:29:05,569 --> 01:29:08,889
we form that sim region

1763
01:29:19,609 --> 01:29:29,339
so sim bounds is what we're using and so

1764
01:29:26,010 --> 01:29:32,070
we do three times a standard world to

1765
01:29:29,340 --> 01:29:34,470
meant the standard room dimension the

1766
01:29:32,069 --> 01:29:45,590
standard room dimension is set in the

1767
01:29:34,470 --> 01:29:49,980
world mode so I assume okay here you go

1768
01:29:45,590 --> 01:29:54,050
so I don't actually know why we're not

1769
01:29:49,979 --> 01:29:54,049
using any strengths of the tyldum there

1770
01:29:54,649 --> 01:30:02,849
again just laziness or confusion but if

1771
01:30:01,079 --> 01:30:04,019
you assume it's seventeen by nine then

1772
01:30:02,850 --> 01:30:06,570
you're talking about three times that

1773
01:30:04,020 --> 01:30:14,070
much right so you're talking about

1774
01:30:06,569 --> 01:30:20,579
seventeen times three in this case which

1775
01:30:14,069 --> 01:30:23,210
is pretty darned low is that really the

1776
01:30:20,579 --> 01:30:23,210
sim balance

1777
01:30:31,029 --> 01:30:43,009
let's take a look

1778
01:30:33,708 --> 01:30:47,149
how many cross are we 1 2 3 4 5 6 7 18

1779
01:30:43,010 --> 01:30:49,900
19 20 21 22 23 just six twenty seventy

1780
01:30:47,149 --> 01:30:49,899
nine thirty

1781
01:30:53,349 --> 01:31:05,980
seems reasonable alright so yeah I mean

1782
01:31:02,198 --> 01:31:17,078
a 128 by 128 by 128 voxel would be like

1783
01:31:05,979 --> 01:31:19,268
way more than enough probably all right

1784
01:31:17,078 --> 01:31:19,719
so let's suppose we wanted to create one

1785
01:31:19,269 --> 01:31:21,639
of these

1786
01:31:19,719 --> 01:31:22,779
so in our lighting solution the first

1787
01:31:21,639 --> 01:31:24,400
thing we're going to want to do for

1788
01:31:22,779 --> 01:31:25,809
sampling purposes we just have to create

1789
01:31:24,399 --> 01:31:27,279
one of these voxels so that we can

1790
01:31:25,809 --> 01:31:28,690
sample our lighting and say look at this

1791
01:31:27,279 --> 01:31:35,250
particular location what's the closest

1792
01:31:28,689 --> 01:31:37,960
thing right and so inside our lighting h

1793
01:31:35,250 --> 01:31:40,689
insert our solution here we just have to

1794
01:31:37,960 --> 01:31:42,639
have one of these right and this has to

1795
01:31:40,689 --> 01:31:45,069
be whatever our voxel dimension for

1796
01:31:42,639 --> 01:31:47,019
lighting is so much like we have this

1797
01:31:45,069 --> 01:31:50,948
lighting data with nonsense going on

1798
01:31:47,019 --> 01:31:52,360
here I would say yeah like as we

1799
01:31:50,948 --> 01:31:55,629
solidify like shines this should go away

1800
01:31:52,359 --> 01:31:57,609
I do sort of agree that like some of

1801
01:31:55,630 --> 01:32:02,618
this goes away but we do actually need

1802
01:31:57,609 --> 01:32:05,679
one thing here because this is going to

1803
01:32:02,618 --> 01:32:10,299
be fixed it's like our lighting light

1804
01:32:05,679 --> 01:32:11,710
lookup voxel dimension right and so

1805
01:32:10,300 --> 01:32:15,760
whatever our light lookup voxel

1806
01:32:11,710 --> 01:32:19,599
dimension is honestly 64 might even be

1807
01:32:15,760 --> 01:32:30,039
acceptable here based on what it looks

1808
01:32:19,599 --> 01:32:31,210
like we've got so you know this is I it

1809
01:32:30,038 --> 01:32:34,090
looks like it's pretty straightforward

1810
01:32:31,210 --> 01:32:35,800
but anyway so if we want to make a light

1811
01:32:34,090 --> 01:32:37,719
look up here where we just say okay

1812
01:32:35,800 --> 01:32:43,800
we've got a light lookup voxel it's au

1813
01:32:37,719 --> 01:32:50,500
16 that's like light index or spatial

1814
01:32:43,800 --> 01:32:54,489
light index and it's just a voxel like

1815
01:32:50,500 --> 01:32:57,038
so if we want to compute this spatial

1816
01:32:54,488 --> 01:32:59,589
light index we just need to you know

1817
01:32:57,038 --> 01:33:03,729
create a empty one we then go through

1818
01:32:59,590 --> 01:33:06,880
and every for every like one of these

1819
01:33:03,729 --> 01:33:07,269
sample points that we have we flood fill

1820
01:33:06,880 --> 01:33:12,460
out

1821
01:33:07,270 --> 01:33:14,290
index into here right and that's really

1822
01:33:12,460 --> 01:33:17,529
all we need to do that's pretty

1823
01:33:14,289 --> 01:33:18,760
straightforward that's not too bad but

1824
01:33:17,529 --> 01:33:26,710
we do need some additional information

1825
01:33:18,760 --> 01:33:29,829
we need to know like the inverse index

1826
01:33:26,710 --> 01:33:34,689
dimension and we also need to know the

1827
01:33:29,829 --> 01:33:39,069
corner so this thing kind of needs to

1828
01:33:34,689 --> 01:33:41,949
you know it needs to have its its

1829
01:33:39,069 --> 01:33:45,539
understanding there I also think we

1830
01:33:41,949 --> 01:33:45,539
probably want to do something like this

1831
01:33:47,729 --> 01:33:54,669
and just put it in its own sort of space

1832
01:33:52,170 --> 01:33:58,899
that's also ii mean these a little bit

1833
01:33:54,670 --> 01:34:00,699
more clearly something like this and

1834
01:33:58,899 --> 01:34:02,439
then you're not going to confuse if

1835
01:34:00,699 --> 01:34:07,090
there's other things that might be

1836
01:34:02,439 --> 01:34:10,079
similar there right and then I can just

1837
01:34:07,090 --> 01:34:10,079
put this in there

1838
01:34:13,329 --> 01:34:23,309
uh or maybe just call this the spatial

1839
01:34:16,840 --> 01:34:23,310
probe index something like that and so

1840
01:34:26,760 --> 01:34:34,650
so I think that's all we would need for

1841
01:34:29,199 --> 01:34:37,750
that and assuming I named it correctly I

1842
01:34:34,649 --> 01:34:39,519
think what I can now do if I have enough

1843
01:34:37,750 --> 01:34:43,500
time is just sketch out the routine that

1844
01:34:39,520 --> 01:34:47,080
would take all of our actual probes and

1845
01:34:43,500 --> 01:34:49,779
splat them in here as necessary right

1846
01:34:47,079 --> 01:34:50,979
now we can't actually do that because

1847
01:34:49,779 --> 01:34:52,689
we're not getting light probes

1848
01:34:50,979 --> 01:34:55,439
specifically we're getting lighting

1849
01:34:52,689 --> 01:34:59,799
points which is not really what we want

1850
01:34:55,439 --> 01:35:03,729
and so we want to go ahead and actually

1851
01:34:59,800 --> 01:35:06,300
have some some understanding of probes

1852
01:35:03,729 --> 01:35:09,399
specifically so instead of point count

1853
01:35:06,300 --> 01:35:11,860
that's this is gonna be probe counts not

1854
01:35:09,399 --> 01:35:15,420
point count also I don't really know

1855
01:35:11,859 --> 01:35:15,420
what extended point count is

1856
01:35:23,560 --> 01:35:29,440
ah that's just so we can build light

1857
01:35:27,340 --> 01:35:32,500
looks up like hierarchical light looks

1858
01:35:29,439 --> 01:35:37,419
up so that when you do a cast you can

1859
01:35:32,500 --> 01:35:39,039
hit larger regions so I don't really

1860
01:35:37,420 --> 01:35:41,260
know if that's something we're going to

1861
01:35:39,039 --> 01:35:44,079
want to do but it might be and if it was

1862
01:35:41,260 --> 01:35:46,360
we would probably do it using this

1863
01:35:44,079 --> 01:35:48,519
spatial index so what we'd probably do

1864
01:35:46,359 --> 01:35:53,099
is actually build filtered versions of

1865
01:35:48,520 --> 01:35:58,570
these right so we would have like each

1866
01:35:53,100 --> 01:36:00,760
our light probe would kind of hmm our

1867
01:35:58,569 --> 01:36:06,269
light probe index would have like a 128

1868
01:36:00,760 --> 01:36:10,300
128 128 version and a 64 64 64 32 32 32

1869
01:36:06,270 --> 01:36:13,900
16 16 16 right and we would have to like

1870
01:36:10,300 --> 01:36:16,630
sort of filter these up as we go I don't

1871
01:36:13,899 --> 01:36:21,279
know if we're really gonna have to do

1872
01:36:16,630 --> 01:36:23,529
that but we might and so I do think that

1873
01:36:21,279 --> 01:36:27,989
that's I don't know something that we're

1874
01:36:23,529 --> 01:36:32,139
going to have to do right I guess that's

1875
01:36:27,989 --> 01:36:33,579
that's remains to be seen but will you

1876
01:36:32,140 --> 01:36:35,710
know we'll start out assuming well you

1877
01:36:33,579 --> 01:36:40,479
know what I could do there is one good

1878
01:36:35,710 --> 01:36:43,930
way I could start out assuming that that

1879
01:36:40,479 --> 01:36:45,909
we are gonna have to do that and that is

1880
01:36:43,930 --> 01:36:51,039
inside the light probe spatial index I

1881
01:36:45,909 --> 01:36:57,779
could record the power of 2 or something

1882
01:36:51,039 --> 01:36:57,779
other than the count right so we could

1883
01:37:04,389 --> 01:37:10,329
we could we could do this in a way that

1884
01:37:06,670 --> 01:37:12,730
would allow us to make these flexibly

1885
01:37:10,329 --> 01:37:23,590
sized you know we could we could do

1886
01:37:12,729 --> 01:37:25,089
something like this so we could do

1887
01:37:23,590 --> 01:37:26,739
something like that I'm not sure that

1888
01:37:25,090 --> 01:37:28,389
might be kind of a waste of computing

1889
01:37:26,738 --> 01:37:30,129
resources if we if it turned out we

1890
01:37:28,389 --> 01:37:31,270
never needed one but I suppose we could

1891
01:37:30,130 --> 01:37:33,400
always just do that as an optimization

1892
01:37:31,270 --> 01:37:45,730
later so maybe in our first pass we will

1893
01:37:33,399 --> 01:37:47,939
actually have something like this seems

1894
01:37:45,729 --> 01:37:47,939
reasonable

1895
01:37:49,458 --> 01:37:55,158
all right so let's suppose that we had

1896
01:37:52,309 --> 01:37:58,610
our spacial probe index here and we're

1897
01:37:55,158 --> 01:38:00,228
not gonna actually we're not gonna

1898
01:37:58,609 --> 01:38:02,198
actually do this sort of subsampling

1899
01:38:00,229 --> 01:38:04,189
stuff yet but we will consider it later

1900
01:38:02,198 --> 01:38:06,438
what we would need is some way of

1901
01:38:04,189 --> 01:38:11,329
creating this thing so we need something

1902
01:38:06,439 --> 01:38:16,729
that's sort of like you know add probe

1903
01:38:11,328 --> 01:38:19,158
to spatial index and that's going to

1904
01:38:16,729 --> 01:38:22,039
take something pretty straightforward

1905
01:38:19,158 --> 01:38:25,038
right it would be the index in question

1906
01:38:22,038 --> 01:38:28,069
that we're adding right so here's our

1907
01:38:25,038 --> 01:38:30,529
spatial index it would take the probes

1908
01:38:28,069 --> 01:38:32,448
light you know where in the world is

1909
01:38:30,529 --> 01:38:33,708
supposed to be so basically the infinite

1910
01:38:32,448 --> 01:38:37,879
decimal point that the light probe

1911
01:38:33,708 --> 01:38:41,238
exists at and then if we need one more

1912
01:38:37,880 --> 01:38:46,449
thing which is like the radius that you

1913
01:38:41,238 --> 01:38:49,268
want to use to kind of splat it down and

1914
01:38:46,448 --> 01:38:54,129
you know that's the kind of thing that's

1915
01:38:49,269 --> 01:38:56,809
we can sort of adjust conservatively and

1916
01:38:54,130 --> 01:38:59,389
it you know we could probably actually

1917
01:38:56,809 --> 01:39:02,059
solve directly for it by saying what the

1918
01:38:59,389 --> 01:39:05,328
minimum light spacing is but effectively

1919
01:39:02,059 --> 01:39:09,349
what's going on here right is we need

1920
01:39:05,328 --> 01:39:11,929
every cell in this voxel that anyone's

1921
01:39:09,349 --> 01:39:16,550
ever going to sample to return an actual

1922
01:39:11,929 --> 01:39:21,408
answer right so leaving leaving a cell

1923
01:39:16,550 --> 01:39:24,019
empty means that anything that is in

1924
01:39:21,408 --> 01:39:26,208
that area will just be unlit because

1925
01:39:24,019 --> 01:39:28,519
when it looks up into there and says

1926
01:39:26,208 --> 01:39:32,029
what you know what's the lighting

1927
01:39:28,519 --> 01:39:35,989
contribution here there's no probe so

1928
01:39:32,029 --> 01:39:37,599
what we want to make sure is that we

1929
01:39:35,988 --> 01:39:39,529
don't get into an under sampling

1930
01:39:37,599 --> 01:39:42,349
scenario let me let me just draw this

1931
01:39:39,529 --> 01:39:44,478
out really quickly because like I said

1932
01:39:42,349 --> 01:39:45,800
we don't really have much to do that can

1933
01:39:44,479 --> 01:39:48,070
fit in the time left anyway so I might

1934
01:39:45,800 --> 01:39:50,659
as well do a more complete explanation

1935
01:39:48,069 --> 01:39:54,038
so when we're actually rasterizing these

1936
01:39:50,658 --> 01:39:58,569
let's suppose that our grid is too fine

1937
01:39:54,038 --> 01:39:58,569
so here's the voxel

1938
01:39:59,210 --> 01:40:06,810
right this is our spatial index but the

1939
01:40:04,800 --> 01:40:11,610
world generator like only put probes

1940
01:40:06,810 --> 01:40:16,860
like here here here and here right what

1941
01:40:11,609 --> 01:40:19,619
we want to have happen is when somebody

1942
01:40:16,859 --> 01:40:23,009
in this region queries what's supposed

1943
01:40:19,619 --> 01:40:30,750
to happen we want them to get ooh you

1944
01:40:23,010 --> 01:40:32,850
know what this actually brings up a

1945
01:40:30,750 --> 01:40:34,409
problem that we're gonna have with

1946
01:40:32,850 --> 01:40:36,240
sampling because what we want you to get

1947
01:40:34,409 --> 01:40:39,079
is we want you to figure out be able to

1948
01:40:36,239 --> 01:40:42,630
figure out what these closest ones are

1949
01:40:39,079 --> 01:40:45,779
but actually if we only point to one of

1950
01:40:42,630 --> 01:40:53,970
them that wouldn't be sufficient would

1951
01:40:45,779 --> 01:40:57,840
it right I mean it would be so long as

1952
01:40:53,970 --> 01:41:00,480
that index also stores what the what the

1953
01:40:57,840 --> 01:41:02,880
other closest things were to it right so

1954
01:41:00,479 --> 01:41:05,969
you know if this thing always store is

1955
01:41:02,880 --> 01:41:11,850
kind of like that bit of information

1956
01:41:05,970 --> 01:41:14,820
that I suppose it does all right that's

1957
01:41:11,850 --> 01:41:17,130
fine so in here what we need to do is we

1958
01:41:14,819 --> 01:41:18,719
need to store at least how to get to one

1959
01:41:17,130 --> 01:41:20,100
of these things and we can always say

1960
01:41:18,720 --> 01:41:21,510
that if you get to one of them there's

1961
01:41:20,100 --> 01:41:23,670
some way to get to the rest of them

1962
01:41:21,510 --> 01:41:25,920
right but you need to be able to get to

1963
01:41:23,670 --> 01:41:27,480
one of them and if you got to get to one

1964
01:41:25,920 --> 01:41:32,460
of them then the problem that we have

1965
01:41:27,479 --> 01:41:36,769
here is that if there's grid cells with

1966
01:41:32,460 --> 01:41:39,239
nothing in them simply rasterizing the

1967
01:41:36,770 --> 01:41:41,100
light probes or filling the light probes

1968
01:41:39,239 --> 01:41:44,429
into the voxel for the cell in which

1969
01:41:41,100 --> 01:41:46,530
they exist isn't enough we need to fill

1970
01:41:44,430 --> 01:41:48,720
them into all the neighboring cells as

1971
01:41:46,529 --> 01:41:52,739
well that wouldn't have another light

1972
01:41:48,720 --> 01:41:54,900
probe that was closer so what we need to

1973
01:41:52,739 --> 01:41:57,750
be able to do here fundamentally is say

1974
01:41:54,899 --> 01:41:59,729
for any spatial location that you look

1975
01:41:57,750 --> 01:42:01,619
up we need the light probes to

1976
01:41:59,729 --> 01:42:04,500
conservatively have filled so that there

1977
01:42:01,619 --> 01:42:06,569
isn't any dead zone between two light

1978
01:42:04,500 --> 01:42:07,710
probes where you think there's nothing

1979
01:42:06,569 --> 01:42:11,309
but actually you should have been

1980
01:42:07,710 --> 01:42:12,899
sampling from some of them right so

1981
01:42:11,310 --> 01:42:14,280
that's the thing that we need to prevent

1982
01:42:12,899 --> 01:42:16,859
and in order to do that we need to

1983
01:42:14,279 --> 01:42:21,689
enlarge the region we fill by a

1984
01:42:16,859 --> 01:42:23,729
substantial amount potentially right so

1985
01:42:21,689 --> 01:42:28,250
what we're gonna do instead is basically

1986
01:42:23,729 --> 01:42:35,099
like you know work work this whole thing

1987
01:42:28,250 --> 01:42:37,829
in fact maybe we just have you pass in

1988
01:42:35,100 --> 01:42:40,590
effectively a rectangle P right it's

1989
01:42:37,829 --> 01:42:43,170
like the probe min P the probe max P we

1990
01:42:40,590 --> 01:42:46,560
fill that whole area for you you know

1991
01:42:43,170 --> 01:42:52,859
I'm saying so that seems like a good

1992
01:42:46,560 --> 01:42:55,890
thing do we have a v3 s rebound if it's

1993
01:42:52,859 --> 01:43:03,479
v3 you but we don't have a V we have a V

1994
01:42:55,890 --> 01:43:08,579
to you but not a v3 you we've got this

1995
01:43:03,479 --> 01:43:11,399
one that's sort of different we probably

1996
01:43:08,579 --> 01:43:14,969
should just standardize this one and

1997
01:43:11,399 --> 01:43:20,759
make this gen v3 a v3 you because that's

1998
01:43:14,969 --> 01:43:23,880
effectively what it does like if you

1999
01:43:20,760 --> 01:43:27,770
look at these these are actually things

2000
01:43:23,880 --> 01:43:27,770
we want you know I mean

2001
01:43:32,038 --> 01:43:38,380
like we want all these so in a sense we

2002
01:43:35,408 --> 01:43:40,268
may want to promote these gen v3 gen

2003
01:43:38,380 --> 01:43:41,618
volume that kind of stuff we may want to

2004
01:43:40,269 --> 01:43:43,840
promote those two first class math

2005
01:43:41,618 --> 01:43:45,639
citizens now because I think other

2006
01:43:43,840 --> 01:43:49,599
people can use them like this code in

2007
01:43:45,639 --> 01:43:51,279
particular right so I'm just going to

2008
01:43:49,599 --> 01:43:52,599
sketch this routine out inside any of

2009
01:43:51,279 --> 01:43:54,988
Sidra block and then we'll worry about

2010
01:43:52,599 --> 01:43:57,340
tomorrow starting in on it but

2011
01:43:54,988 --> 01:44:01,419
effectively what we want to do here is

2012
01:43:57,340 --> 01:44:08,440
something along this lines you know min

2013
01:44:01,420 --> 01:44:25,090
index max index right so we want map

2014
01:44:08,439 --> 01:44:28,109
into grid and then what we want to do is

2015
01:44:25,090 --> 01:44:34,239
loop over this entire set of things

2016
01:44:28,109 --> 01:44:36,509
right so we want to then do lookups into

2017
01:44:34,238 --> 01:44:39,839
our to our system

2018
01:44:36,510 --> 01:44:39,840
something like this

2019
01:44:55,238 --> 01:45:01,459
right so we're gonna do some kind of a

2020
01:44:58,130 --> 01:45:05,300
loop over each of the elements of this

2021
01:45:01,460 --> 01:45:07,850
thing and we want to loop each time

2022
01:45:05,300 --> 01:45:11,020
through I guess this part doesn't really

2023
01:45:07,850 --> 01:45:14,659
make a whole lot of sense does it but

2024
01:45:11,020 --> 01:45:18,940
each time through here we want to

2025
01:45:14,658 --> 01:45:23,448
reinitialize the Y any time through here

2026
01:45:18,939 --> 01:45:24,979
we want to reinitialize the Z so if you

2027
01:45:23,448 --> 01:45:29,629
look at what's going on there I probably

2028
01:45:24,979 --> 01:45:33,349
do want to just do this I can't really

2029
01:45:29,630 --> 01:45:36,590
put a declaration in there though darn

2030
01:45:33,350 --> 01:45:39,170
you for a loop I guess I could just do

2031
01:45:36,590 --> 01:45:52,610
it and then bind the value maybe we'll

2032
01:45:39,170 --> 01:45:55,779
do it that way so if I just do it you

2033
01:45:52,609 --> 01:45:55,779
know the old-fashioned way

2034
01:46:00,219 --> 01:46:04,658
then we're just looking at a

2035
01:46:01,819 --> 01:46:08,238
straightforward loop over all this stuff

2036
01:46:04,658 --> 01:46:10,908
and this is just flood filling that

2037
01:46:08,238 --> 01:46:14,299
entire flood flows the wrong word it's

2038
01:46:10,908 --> 01:46:18,198
block filling rectangle filling right

2039
01:46:14,300 --> 01:46:20,810
that entire region so the min P and the

2040
01:46:18,198 --> 01:46:22,698
max be here I'm when you're gonna work

2041
01:46:20,810 --> 01:46:27,350
over those I'm gonna fill the whole

2042
01:46:22,698 --> 01:46:29,689
region and what I want to do is I want

2043
01:46:27,350 --> 01:46:32,090
to say let's look up which light is in

2044
01:46:29,689 --> 01:46:35,829
there right so I want to do like find

2045
01:46:32,090 --> 01:46:40,060
out what light is in there to begin with

2046
01:46:35,829 --> 01:46:44,979
and then like if we're the more

2047
01:46:40,060 --> 01:46:47,929
appropriate lookup use us instead of it

2048
01:46:44,979 --> 01:46:50,389
right so that's the two things I want to

2049
01:46:47,929 --> 01:46:53,760
do so first I gotta get the spatial

2050
01:46:50,390 --> 01:46:56,590
index right I gotta like get the

2051
01:46:53,760 --> 01:46:57,520
sort of get corner light index or

2052
01:46:56,590 --> 01:47:06,279
something whatever we're going to call

2053
01:46:57,520 --> 01:47:09,040
that so when we asked for the spatial

2054
01:47:06,279 --> 01:47:10,509
partition what's actually going on there

2055
01:47:09,039 --> 01:47:14,439
it's gonna return us a pointer to the

2056
01:47:10,510 --> 01:47:18,510
cell in question and I'm gonna pass it

2057
01:47:14,439 --> 01:47:22,869
you know the XYZ so it would be like

2058
01:47:18,510 --> 01:47:24,880
that sort of thing and then when we

2059
01:47:22,869 --> 01:47:27,939
actually look at what that is we could

2060
01:47:24,880 --> 01:47:35,230
say look if the existing index equals

2061
01:47:27,939 --> 01:47:40,029
zero then we definitely want to use us

2062
01:47:35,229 --> 01:47:49,029
instead I guess I didn't actually pass

2063
01:47:40,029 --> 01:47:50,679
that here so the existing if there's

2064
01:47:49,029 --> 01:47:52,719
nothing in there then it should be us

2065
01:47:50,680 --> 01:47:58,390
otherwise we're gonna have to look up

2066
01:47:52,720 --> 01:48:01,500
that particular light and so we're gonna

2067
01:47:58,390 --> 01:48:01,500
have something like this

2068
01:48:01,920 --> 01:48:16,359
whatever the existing index is like that

2069
01:48:11,289 --> 01:48:17,319
and if you know it's we don't actually

2070
01:48:16,359 --> 01:48:20,259
know what the equation is going to be

2071
01:48:17,319 --> 01:48:27,429
here but if we're more appropriate than

2072
01:48:20,260 --> 01:48:29,230
we would still do it right and so what

2073
01:48:27,430 --> 01:48:31,239
we need to then think about is what is

2074
01:48:29,229 --> 01:48:33,039
the actual algorithm that we're going to

2075
01:48:31,238 --> 01:48:35,289
use to determine who is the most

2076
01:48:33,039 --> 01:48:38,079
appropriate light index and the answer

2077
01:48:35,289 --> 01:48:40,569
there is just I think whichever the

2078
01:48:38,079 --> 01:48:43,630
minimum corner is because if again when

2079
01:48:40,569 --> 01:48:47,920
you look at what's happening in this

2080
01:48:43,630 --> 01:48:50,949
diagram where we say okay you know the

2081
01:48:47,920 --> 01:48:56,319
worst case scenario for this algorithm

2082
01:48:50,949 --> 01:49:00,189
is we've got eight probes and we want to

2083
01:48:56,319 --> 01:49:03,519
sample all eight probes right so if we

2084
01:49:00,189 --> 01:49:04,868
imagine we've got a coordinate system

2085
01:49:03,520 --> 01:49:11,119
here

2086
01:49:04,868 --> 01:49:13,639
X Y Z then what we want to effectively

2087
01:49:11,118 --> 01:49:16,098
do is give you back this index if you're

2088
01:49:13,639 --> 01:49:18,859
anywhere in the cube I think right and

2089
01:49:16,099 --> 01:49:22,279
then from this index it needs to tell

2090
01:49:18,859 --> 01:49:25,460
you what the other eight are if you will

2091
01:49:22,279 --> 01:49:29,238
right so effectively you're getting an

2092
01:49:25,460 --> 01:49:33,349
index to sort of or block a sampling

2093
01:49:29,238 --> 01:49:38,569
block that tells you everything that you

2094
01:49:33,349 --> 01:49:43,279
should use for your actual sampling and

2095
01:49:38,569 --> 01:49:47,538
I think that's what we want I think when

2096
01:49:43,279 --> 01:49:50,149
we go back and do the you know look at

2097
01:49:47,538 --> 01:49:54,380
how this is going to go so what we want

2098
01:49:50,149 --> 01:49:57,799
to do is see compare effectively we want

2099
01:49:54,380 --> 01:49:59,389
to take and look along the axes you know

2100
01:49:57,800 --> 01:50:00,380
what we're outside we only have two

2101
01:49:59,389 --> 01:50:02,538
minutes I'm not I'm gonna talk about

2102
01:50:00,380 --> 01:50:04,099
this we're gonna do that tomorrow

2103
01:50:02,538 --> 01:50:06,259
but that's effectively what we're going

2104
01:50:04,099 --> 01:50:07,420
to do tomorrow and and then we'll move

2105
01:50:06,260 --> 01:50:09,940
on from there

2106
01:50:07,420 --> 01:50:12,319
into actually using the thing right I

2107
01:50:09,939 --> 01:50:14,479
think we're okay here if I just compile

2108
01:50:12,319 --> 01:50:17,349
so we left all right all right so I'm

2109
01:50:14,479 --> 01:50:17,348
gonna go ahead and go to Q&amp;A

2110
01:50:44,020 --> 01:50:48,730
how far along in the game are we what

2111
01:50:46,359 --> 01:51:00,759
percentages you say we're almost done

2112
01:50:48,729 --> 01:51:02,289
with the engine so I mean that's I guess

2113
01:51:00,760 --> 01:51:04,690
what I would say is we're almost a

2114
01:51:02,289 --> 01:51:06,369
hundred percent done with the part of

2115
01:51:04,689 --> 01:51:08,589
the stream that is the part that I

2116
01:51:06,369 --> 01:51:12,729
wanted to do right which is building a

2117
01:51:08,590 --> 01:51:16,289
game from scratch technology wise in

2118
01:51:12,729 --> 01:51:19,899
terms of what remains after that

2119
01:51:16,289 --> 01:51:21,399
normally you would say well it's zero

2120
01:51:19,899 --> 01:51:23,920
percent done because you have to make

2121
01:51:21,399 --> 01:51:26,309
the whole game then after that because

2122
01:51:23,920 --> 01:51:32,829
that's the game design part of things

2123
01:51:26,310 --> 01:51:39,430
and that part I will not like I'm gonna

2124
01:51:32,829 --> 01:51:41,140
go do a game but but that like I can't

2125
01:51:39,430 --> 01:51:44,140
at that point the stream is it's not

2126
01:51:41,140 --> 01:51:48,390
over but it's sort of functionally not

2127
01:51:44,140 --> 01:51:48,390
really something I can help you with

2128
01:51:48,420 --> 01:51:58,210
it's not something I can really teach so

2129
01:51:56,109 --> 01:52:00,460
at that point like hey I taught

2130
01:51:58,210 --> 01:52:01,840
everything that I can teach and now

2131
01:52:00,460 --> 01:52:04,779
we're just like building a game so we

2132
01:52:01,840 --> 01:52:12,310
can say that it can run a game right but

2133
01:52:04,779 --> 01:52:16,029
I can't really teach it because you know

2134
01:52:12,310 --> 01:52:18,690
it's not it's not really the kind of

2135
01:52:16,029 --> 01:52:18,689
thing that I do

2136
01:52:21,699 --> 01:52:26,720
concerning picking lighting probes could

2137
01:52:24,350 --> 01:52:28,190
you use some sort of proximity hash for

2138
01:52:26,720 --> 01:52:29,960
lack of a better term if there is such a

2139
01:52:28,189 --> 01:52:31,639
thing something like where the key would

2140
01:52:29,960 --> 01:52:33,560
be the location you want to select from

2141
01:52:31,640 --> 01:52:36,320
ideally collisions would be physically

2142
01:52:33,560 --> 01:52:37,310
close to each other in space or is there

2143
01:52:36,319 --> 01:52:38,630
a reason why doing something like this

2144
01:52:37,310 --> 01:52:39,830
would not be feasible although and I

2145
01:52:38,630 --> 01:52:42,859
think about it when describing sounds a

2146
01:52:39,829 --> 01:52:47,630
lot like a 2d array um you know

2147
01:52:42,859 --> 01:52:51,979
proximity queries always have to you

2148
01:52:47,630 --> 01:52:55,520
know that is what we're doing and when

2149
01:52:51,979 --> 01:52:57,799
you say proximity hash it's like well

2150
01:52:55,520 --> 01:53:01,610
the only way to really do a proximity

2151
01:52:57,800 --> 01:53:04,670
hash is to search some percentage of the

2152
01:53:01,609 --> 01:53:05,929
entries in the hash because there's no

2153
01:53:04,670 --> 01:53:08,600
such thing as far as I know as a

2154
01:53:05,930 --> 01:53:10,010
proximity hash where you just like fuse

2155
01:53:08,600 --> 01:53:12,110
the values together and then you always

2156
01:53:10,010 --> 01:53:18,020
get the right answer in your first probe

2157
01:53:12,109 --> 01:53:19,639
right uh and so you know proximity hash

2158
01:53:18,020 --> 01:53:23,660
really what you have to do is just

2159
01:53:19,640 --> 01:53:25,010
spatially hash and then do a search for

2160
01:53:23,659 --> 01:53:28,130
things in the neighborhood of the

2161
01:53:25,010 --> 01:53:29,869
spatial hash usually and so what we're

2162
01:53:28,130 --> 01:53:32,239
doing here is trying to be a little more

2163
01:53:29,869 --> 01:53:34,489
efficient than that on the lookup side

2164
01:53:32,239 --> 01:53:36,260
while being potentially more expensive

2165
01:53:34,489 --> 01:53:38,510
on the storage side and the reason for

2166
01:53:36,260 --> 01:53:40,699
that is we're aiming for maybe running

2167
01:53:38,510 --> 01:53:44,980
this thing per pixel and per pixel all

2168
01:53:40,699 --> 01:53:48,439
we're really gonna have I think the

2169
01:53:44,979 --> 01:53:51,169
bandwidth to do is one lookup into a

2170
01:53:48,439 --> 01:53:53,809
voxel to get the cube we need to

2171
01:53:51,170 --> 01:53:56,960
interpolate and then eight looks up

2172
01:53:53,810 --> 01:54:02,620
eight look lookups into the lighting

2173
01:53:56,960 --> 01:54:02,619
info that's already pushing it right

2174
01:54:15,250 --> 01:54:19,000
have you thought about fully Vox lies in

2175
01:54:17,199 --> 01:54:19,329
the world and tracing raised in voxels

2176
01:54:19,000 --> 01:54:21,189
face

2177
01:54:19,329 --> 01:54:23,380
alternatively what about selecting the

2178
01:54:21,189 --> 01:54:31,000
probes using frustum voxels like in Doom

2179
01:54:23,380 --> 01:54:32,890
2016 so two things one is no I would not

2180
01:54:31,000 --> 01:54:34,989
Vox lies the world in trace raising

2181
01:54:32,890 --> 01:54:38,400
voxels face the reason for that is no

2182
01:54:34,989 --> 01:54:40,840
one's ever actually gotten that working

2183
01:54:38,399 --> 01:54:44,049
so if you go look at like voxel cone

2184
01:54:40,840 --> 01:54:45,699
tracing and stuff like that it's just

2185
01:54:44,050 --> 01:54:49,960
simply not fast enough to do all your

2186
01:54:45,699 --> 01:54:54,279
lighting like it just it's just not we

2187
01:54:49,960 --> 01:54:56,680
need to be a lot smarter than that we

2188
01:54:54,279 --> 01:54:59,079
need you know and you could argue that

2189
01:54:56,680 --> 01:55:01,329
maybe if we just did a really low res

2190
01:54:59,079 --> 01:55:03,609
version that would be fine but I think

2191
01:55:01,329 --> 01:55:05,739
we'd get all kinds of artifacts so in

2192
01:55:03,609 --> 01:55:08,109
order to actually make that run with

2193
01:55:05,739 --> 01:55:11,909
enough fidelity I think it's just it's

2194
01:55:08,109 --> 01:55:15,549
way too dense and just forget it right I

2195
01:55:11,909 --> 01:55:18,909
mean it's it that's sparse voxel qohen

2196
01:55:15,550 --> 01:55:21,970
tracing it so you can only really use in

2197
01:55:18,909 --> 01:55:24,430
in like pretty isolated scenarios I

2198
01:55:21,970 --> 01:55:26,460
would say at the moment certainly on the

2199
01:55:24,430 --> 01:55:29,320
kind of graphics cards we're targeting

2200
01:55:26,460 --> 01:55:33,310
but as for selecting probes using

2201
01:55:29,319 --> 01:55:35,679
frustum voxels like Jim 2016 again not

2202
01:55:33,310 --> 01:55:40,420
really possible reason is because we

2203
01:55:35,680 --> 01:55:43,030
need our lookup to be based on where the

2204
01:55:40,420 --> 01:55:48,609
probes are actually placed the reason

2205
01:55:43,029 --> 01:55:51,189
doom 2016's system works is because

2206
01:55:48,609 --> 01:55:54,759
they're just looking for the closest and

2207
01:55:51,189 --> 01:55:59,679
lights so what they do is they say let

2208
01:55:54,760 --> 01:56:03,239
me create a voxel a frustum voxel eyes

2209
01:55:59,680 --> 01:56:06,310
frustum so basically clip space voxel

2210
01:56:03,239 --> 01:56:09,279
and then for each cell of that voxel

2211
01:56:06,310 --> 01:56:10,870
I'll just track all the lights that I'll

2212
01:56:09,279 --> 01:56:14,259
track the end closest lights and use

2213
01:56:10,869 --> 01:56:17,680
those right but we don't really want

2214
01:56:14,260 --> 01:56:19,720
that we want you to have the same we

2215
01:56:17,680 --> 01:56:23,110
want the voxel granularity to be about

2216
01:56:19,720 --> 01:56:26,800
the same as the probe placement and that

2217
01:56:23,109 --> 01:56:28,869
probe placement doesn't get sparser as

2218
01:56:26,800 --> 01:56:33,670
you get further away

2219
01:56:28,869 --> 01:56:35,500
right so so using the frustum I think

2220
01:56:33,670 --> 01:56:37,180
would be a bad solution for us even

2221
01:56:35,500 --> 01:56:42,460
though it was may be a good solution for

2222
01:56:37,180 --> 01:56:50,700
them is it possibly to share your theme

2223
01:56:42,460 --> 01:56:50,699
color hex codes probably

2224
01:57:08,158 --> 01:57:14,219
so I think that stuff is in misc

2225
01:57:29,349 --> 01:57:33,420
so I think this is them

2226
01:57:40,710 --> 01:57:44,149
I think that's what you're looking at

2227
01:57:44,810 --> 01:57:48,690
we'll light probes only collect from

2228
01:57:46,948 --> 01:57:50,460
hits two closest services and as such

2229
01:57:48,689 --> 01:57:52,109
would a love with a three-level set up

2230
01:57:50,460 --> 01:57:55,408
port I'll always leave the middle one

2231
01:57:52,109 --> 01:58:01,219
never collecting any light no so light

2232
01:57:55,408 --> 01:58:01,219
probes collect hits from all surfaces

2233
01:58:03,890 --> 01:58:07,020
would you think consider hanging the

2234
01:58:05,609 --> 01:58:12,059
project over to a games artist a chief

2235
01:58:07,020 --> 01:58:14,429
to the next parts no because I mean the

2236
01:58:12,060 --> 01:58:17,610
problem with that is there are almost no

2237
01:58:14,429 --> 01:58:18,989
good game designers like you know

2238
01:58:17,609 --> 01:58:20,069
there's there's probably like five good

2239
01:58:18,988 --> 01:58:24,539
game designers in the world or something

2240
01:58:20,069 --> 01:58:25,920
like that and I don't know that any of

2241
01:58:24,539 --> 01:58:29,130
them would be interested in doing it

2242
01:58:25,920 --> 01:58:30,869
right I mean if if I was gonna hand it

2243
01:58:29,130 --> 01:58:36,329
over to like Jon blow to do or something

2244
01:58:30,869 --> 01:58:37,590
sure but he's busy right so I don't

2245
01:58:36,329 --> 01:58:39,809
really think that's a feasible

2246
01:58:37,590 --> 01:58:42,659
alternative because I can't think of

2247
01:58:39,810 --> 01:58:44,370
anybody who I'd actually who would be

2248
01:58:42,658 --> 01:58:48,119
available who I actually think is any

2249
01:58:44,369 --> 01:58:49,140
good it's a number of good game

2250
01:58:48,119 --> 01:58:53,460
designers in the world it's like almost

2251
01:58:49,140 --> 01:58:55,800
none I would say probably most games

2252
01:58:53,460 --> 01:58:59,489
that I play I think are fairly and

2253
01:58:55,800 --> 01:59:01,920
competently designed like like they just

2254
01:58:59,488 --> 01:59:03,529
weren't thought through obvious stuff is

2255
01:59:01,920 --> 01:59:06,060
wrong

2256
01:59:03,529 --> 01:59:07,529
they don't have much understanding of

2257
01:59:06,060 --> 01:59:09,780
what the players doing or why it's fun

2258
01:59:07,529 --> 01:59:12,500
like they're just kind of like most game

2259
01:59:09,779 --> 01:59:17,908
design tends to be like mimicry like oh

2260
01:59:12,500 --> 01:59:20,550
okay you know this is what happened when

2261
01:59:17,908 --> 01:59:24,599
we shoot things in first-person so we

2262
01:59:20,550 --> 01:59:27,230
just kind of did that again right so in

2263
01:59:24,600 --> 01:59:34,890
terms of teaching game design like I

2264
01:59:27,229 --> 01:59:37,738
really don't know yeah there's very few

2265
01:59:34,890 --> 01:59:41,579
game designers that that I think are any

2266
01:59:37,738 --> 01:59:43,049
good and I don't I don't think any of

2267
01:59:41,579 --> 01:59:47,050
them would be

2268
01:59:43,050 --> 01:59:49,480
interested in doing it interest is the

2269
01:59:47,050 --> 01:59:51,070
wrong word maybe many of them would be

2270
01:59:49,479 --> 01:59:54,329
interested in doing it but simply don't

2271
01:59:51,069 --> 01:59:54,329
have the time right

2272
01:59:56,729 --> 02:00:00,669
have you read the recent Morgan McGuire

2273
01:59:58,899 --> 02:00:03,099
diffuse di probe paper that's the paper

2274
02:00:00,670 --> 02:00:05,140
I was talking about when I said I looked

2275
02:00:03,100 --> 02:00:07,120
into it too because I wanted to know

2276
02:00:05,140 --> 02:00:09,010
what they did for a sampling real-time

2277
02:00:07,119 --> 02:00:11,789
something I was like Oh duh you just you

2278
02:00:09,010 --> 02:00:11,789
just use the probes

2279
02:00:20,738 --> 02:00:24,879
or enemy component systems really a good

2280
02:00:22,630 --> 02:00:26,170
way for any system Jonas said that they

2281
02:00:24,880 --> 02:00:29,050
are not really nice but I want to know

2282
02:00:26,170 --> 02:00:33,279
what you think about them uh yeah I I

2283
02:00:29,050 --> 02:00:35,400
don't I would just defer to John on most

2284
02:00:33,279 --> 02:00:37,329
things about that he's because any

2285
02:00:35,399 --> 02:00:39,309
systems are just about enabling

2286
02:00:37,329 --> 02:00:42,939
designers that's the only reason they're

2287
02:00:39,310 --> 02:00:44,380
there and so the same thing I just said

2288
02:00:42,939 --> 02:00:52,899
about how I think most game designers

2289
02:00:44,380 --> 02:00:55,810
are bad John's one of the only really

2290
02:00:52,899 --> 02:00:59,019
great game designers who's also a very

2291
02:00:55,810 --> 02:01:00,340
skilled technically adept programmer so

2292
02:00:59,020 --> 02:01:02,320
I feel like he's the person you should

2293
02:01:00,340 --> 02:01:05,140
ask what an indie pretty system should

2294
02:01:02,319 --> 02:01:06,819
look like just kind of period because

2295
02:01:05,140 --> 02:01:09,600
he's the only person who a has the

2296
02:01:06,819 --> 02:01:16,019
skills to make a good entity system and

2297
02:01:09,600 --> 02:01:19,960
B is the user of an entity system right

2298
02:01:16,020 --> 02:01:21,550
so I would say take his word for it if

2299
02:01:19,960 --> 02:01:22,480
you don't have your own opinion right if

2300
02:01:21,550 --> 02:01:23,890
you're looking for someone else's

2301
02:01:22,479 --> 02:01:26,500
opinion he's the person whose opinion

2302
02:01:23,890 --> 02:01:29,710
you should adopt if you just want to

2303
02:01:26,500 --> 02:01:31,449
know my cursory opinion I think it's one

2304
02:01:29,710 --> 02:01:32,079
of those cases of putting the cart

2305
02:01:31,449 --> 02:01:34,179
before the horse

2306
02:01:32,079 --> 02:01:36,399
it's exactly like object-oriented

2307
02:01:34,180 --> 02:01:37,659
programming it's prescribing a solution

2308
02:01:36,399 --> 02:01:46,329
before you have described the problem

2309
02:01:37,659 --> 02:01:49,059
right and so the problem description I

2310
02:01:46,329 --> 02:01:51,609
would give for how entity systems are

2311
02:01:49,060 --> 02:01:53,770
supposed to work is that given a

2312
02:01:51,609 --> 02:01:56,079
particular game design they should have

2313
02:01:53,770 --> 02:01:58,330
made it as easy as possible for the

2314
02:01:56,079 --> 02:02:02,789
developer of the game systems to express

2315
02:01:58,329 --> 02:02:06,159
that design and any component system

2316
02:02:02,789 --> 02:02:08,619
assumes a bunch of things about a game

2317
02:02:06,159 --> 02:02:11,349
design and makes a bunch of things hard

2318
02:02:08,619 --> 02:02:16,140
and a bunch of things easy right that

2319
02:02:11,350 --> 02:02:16,140
split is not necessarily a good one

2320
02:02:18,238 --> 02:02:22,589
right

2321
02:02:20,939 --> 02:02:23,909
and so much like object-oriented

2322
02:02:22,590 --> 02:02:25,710
programming it gets the kind of thing

2323
02:02:23,909 --> 02:02:27,449
where it's sort of like prescribing a

2324
02:02:25,710 --> 02:02:29,369
solution without really thinking about

2325
02:02:27,449 --> 02:02:32,130
whether which problems you were solving

2326
02:02:29,369 --> 02:02:33,149
or whether you solve them in a way that

2327
02:02:32,130 --> 02:02:34,829
you should really be telling other

2328
02:02:33,149 --> 02:02:36,659
people to do without first caveat and

2329
02:02:34,829 --> 02:02:39,449
saying your problem should look exactly

2330
02:02:36,659 --> 02:02:42,199
like this if you're going to use this

2331
02:02:39,449 --> 02:02:42,199
solution right

2332
02:02:55,979 --> 02:03:01,708
can we do some yeah I programmed me for

2333
02:02:57,840 --> 02:03:04,170
the empty seas well we will do some I

2334
02:03:01,708 --> 02:03:05,760
mean not really probably anything that

2335
02:03:04,170 --> 02:03:08,760
most people consider AI but we will do

2336
02:03:05,760 --> 02:03:10,519
some for just controlling how re how the

2337
02:03:08,760 --> 02:03:13,050
NPCs left move around and attack e right

2338
02:03:10,519 --> 02:03:15,239
so when we when we're doing the game we

2339
02:03:13,050 --> 02:03:17,570
will be coding the stuff that sort of

2340
02:03:15,238 --> 02:03:17,569
does that

2341
02:03:22,319 --> 02:03:28,889
to use for code or outside handmade hero

2342
02:03:24,420 --> 02:03:33,090
I used to I don't anymore really I ended

2343
02:03:28,890 --> 02:03:38,640
up kind of writing my own editor and so

2344
02:03:33,090 --> 02:03:44,880
now I don't but I did for the past five

2345
02:03:38,640 --> 02:03:46,950
years or so basically what I found was I

2346
02:03:44,880 --> 02:03:49,140
just when I actually sat down and did a

2347
02:03:46,949 --> 02:03:50,789
bunch of stuff that I wanted to do in my

2348
02:03:49,140 --> 02:03:52,110
customization layer I ended up with

2349
02:03:50,789 --> 02:03:54,269
something where the whole editor was in

2350
02:03:52,109 --> 02:03:57,899
my customization layer at that point so

2351
02:03:54,270 --> 02:03:59,580
then I just moved it into my own

2352
02:03:57,899 --> 02:04:03,659
codebase because that lets me now do

2353
02:03:59,579 --> 02:04:05,489
other stuff I couldn't do before because

2354
02:04:03,659 --> 02:04:07,800
now I can like integrate it into all of

2355
02:04:05,489 --> 02:04:10,019
like my emetic code stuff and everything

2356
02:04:07,800 --> 02:04:13,890
so obviously I can just kind of go nuts

2357
02:04:10,020 --> 02:04:15,810
with it but yeah which by the way is

2358
02:04:13,890 --> 02:04:17,910
roughly what I would recommend one of

2359
02:04:15,810 --> 02:04:20,130
the reasons I really like for coder is

2360
02:04:17,909 --> 02:04:21,779
for exactly that reason it basically

2361
02:04:20,130 --> 02:04:23,579
gives you all the tools to build your

2362
02:04:21,779 --> 02:04:24,899
own editor right from the start because

2363
02:04:23,579 --> 02:04:27,390
you can have an editor up and running

2364
02:04:24,899 --> 02:04:30,539
immediately but all of the code that

2365
02:04:27,390 --> 02:04:33,210
you're writing is is in C and usable

2366
02:04:30,539 --> 02:04:34,859
outside of it so it's basically like I

2367
02:04:33,210 --> 02:04:38,699
think of for coder almost as like a

2368
02:04:34,859 --> 02:04:40,949
editor making tool kit and then if you

2369
02:04:38,699 --> 02:04:43,079
ever want to go really nuts you can

2370
02:04:40,949 --> 02:04:45,000
always then just separate your stuff off

2371
02:04:43,079 --> 02:04:47,909
from for a coder someday and go off into

2372
02:04:45,000 --> 02:04:49,109
the sunset but if you never want to go

2373
02:04:47,909 --> 02:04:51,029
that far you don't have to you can

2374
02:04:49,109 --> 02:04:55,409
always just continue to use for a coder

2375
02:04:51,029 --> 02:04:58,500
as your base editor and not write all

2376
02:04:55,409 --> 02:05:00,119
that stuff so it was kind of optimal for

2377
02:04:58,500 --> 02:05:02,850
my purposes and I think that's a really

2378
02:05:00,119 --> 02:05:05,220
great I wish more systems kind of work

2379
02:05:02,850 --> 02:05:08,250
that way because it would be awesome for

2380
02:05:05,220 --> 02:05:10,079
example to have like a 3d editor that

2381
02:05:08,250 --> 02:05:11,880
you could start with and then eventually

2382
02:05:10,079 --> 02:05:13,319
you just move on your own thing as

2383
02:05:11,880 --> 02:05:15,720
you've reimplemented everything that you

2384
02:05:13,319 --> 02:05:18,119
want or if you don't then you just don't

2385
02:05:15,720 --> 02:05:20,520
write so having that like C program

2386
02:05:18,119 --> 02:05:25,909
ability just a really big thing that

2387
02:05:20,520 --> 02:05:25,910
helps a lot and I really like it so

2388
02:05:27,769 --> 02:05:33,380
you sure that paper you mentioned about

2389
02:05:30,029 --> 02:05:33,380
light probes yes

2390
02:05:44,420 --> 02:06:00,199
so I think this is the blog about it

2391
02:05:52,600 --> 02:06:06,710
yeah so there's two things one is this

2392
02:06:00,199 --> 02:06:14,569
blog set here that you can get and the

2393
02:06:06,710 --> 02:06:23,260
other is the paper that's in journal

2394
02:06:14,569 --> 02:06:27,649
graphics tools nope no if this is it

2395
02:06:23,260 --> 02:06:35,960
yeah this might be it yeah this is the

2396
02:06:27,649 --> 02:06:38,239
Jade yeah yeah yeah the other is this

2397
02:06:35,960 --> 02:06:43,579
paper from journal graphics tools those

2398
02:06:38,239 --> 02:06:45,469
are ones I was thinking of anyway you

2399
02:06:43,579 --> 02:06:48,460
talked about Harvey Potter during

2400
02:06:45,470 --> 02:06:48,460
priests dream yes

2401
02:06:54,569 --> 02:07:00,308
you said that at a hit you will store

2402
02:06:57,010 --> 02:07:04,119
the result in the closest probe no so

2403
02:07:00,309 --> 02:07:08,679
you've got it backwards probes shoot

2404
02:07:04,118 --> 02:07:12,788
raise and record whatever they hit when

2405
02:07:08,679 --> 02:07:16,449
you hit you look up what the lighting is

2406
02:07:12,788 --> 02:07:20,590
in the closest probes that's what lets

2407
02:07:16,448 --> 02:07:23,978
you use your probes as convector errs

2408
02:07:20,590 --> 02:07:28,769
for the light but you don't use that to

2409
02:07:23,979 --> 02:07:28,769
say where to store it right

2410
02:07:28,800 --> 02:07:32,349
MTS mocks might you need extra

2411
02:07:30,880 --> 02:07:34,359
reflectors for the sprites to get better

2412
02:07:32,349 --> 02:07:37,630
collection around those areas possibly

2413
02:07:34,359 --> 02:07:40,918
but possibly not our for coders source

2414
02:07:37,630 --> 02:07:43,118
slices available to the general public I

2415
02:07:40,918 --> 02:07:45,069
think so

2416
02:07:43,118 --> 02:07:47,938
but you don't actually need a for coder

2417
02:07:45,069 --> 02:07:53,049
source license

2418
02:07:47,939 --> 02:07:55,329
well you might up until Alan releases

2419
02:07:53,050 --> 02:07:57,610
the changes that I I contributed back

2420
02:07:55,328 --> 02:07:59,168
the changes that I needed to allow you

2421
02:07:57,609 --> 02:08:01,448
to do kind of arbitrary rendering and

2422
02:07:59,168 --> 02:08:03,399
stuff but those he's supposed to have

2423
02:08:01,448 --> 02:08:04,988
mainlined at some point so once he

2424
02:08:03,399 --> 02:08:06,938
releases something with those in there I

2425
02:08:04,988 --> 02:08:14,198
don't know that you really need a source

2426
02:08:06,939 --> 02:08:16,929
code license right because you know it's

2427
02:08:14,198 --> 02:08:18,368
got the stuff exposed that it needs to

2428
02:08:16,929 --> 02:08:22,989
expose for you to build your own like

2429
02:08:18,368 --> 02:08:24,399
editing stuff on top right and so the

2430
02:08:22,988 --> 02:08:26,408
number of times I've had to do something

2431
02:08:24,399 --> 02:08:28,839
in the for coder source it was really

2432
02:08:26,408 --> 02:08:31,299
only one pass that I did to AB sort of

2433
02:08:28,840 --> 02:08:33,400
hooks out for things I needed but I

2434
02:08:31,300 --> 02:08:35,979
contributed those back and now they will

2435
02:08:33,399 --> 02:08:37,149
eventually be anyone will be able to use

2436
02:08:35,979 --> 02:08:38,650
them so I don't know that you would

2437
02:08:37,149 --> 02:08:41,049
really need to negotiate a source code

2438
02:08:38,649 --> 02:08:43,509
license that said I would assume that

2439
02:08:41,050 --> 02:08:44,529
Alan would be happy to do so you know

2440
02:08:43,510 --> 02:08:49,380
they're just going to be a lot more

2441
02:08:44,529 --> 02:08:49,380
expensive than licensing you know

2442
02:08:52,340 --> 02:08:58,469
it's just gonna be a lot more expensive

2443
02:08:54,539 --> 02:09:03,059
than licensing it as as an end-user so

2444
02:08:58,469 --> 02:09:05,340
you know if you're a company though

2445
02:09:03,059 --> 02:09:10,440
that's not something you should do I

2446
02:09:05,340 --> 02:09:12,150
mean in our case right we wanted one

2447
02:09:10,439 --> 02:09:13,738
because like you don't want to be in a

2448
02:09:12,149 --> 02:09:16,229
situation like if Allen just stops

2449
02:09:13,738 --> 02:09:17,459
working on for code or Sunday right you

2450
02:09:16,229 --> 02:09:20,879
need to be in a situation that you can

2451
02:09:17,460 --> 02:09:22,920
keep updating it so you know up until

2452
02:09:20,880 --> 02:09:24,719
the point where you're sure you're gonna

2453
02:09:22,920 --> 02:09:26,219
completely move off of it to your own

2454
02:09:24,719 --> 02:09:29,250
custom thing or something where you're

2455
02:09:26,219 --> 02:09:33,239
literally not relying at all on updates

2456
02:09:29,250 --> 02:09:35,130
to the core I mean if you're a serious

2457
02:09:33,238 --> 02:09:36,089
if you're a company you should license

2458
02:09:35,130 --> 02:09:39,150
the source because it's going to be

2459
02:09:36,090 --> 02:09:42,960
relatively cheap compared to the cost of

2460
02:09:39,149 --> 02:09:44,129
running a company and then you know that

2461
02:09:42,960 --> 02:09:46,260
you just have the ability to do whatever

2462
02:09:44,130 --> 02:09:47,730
you need and you can go in a different

2463
02:09:46,260 --> 02:09:52,380
direction if you need to or anything

2464
02:09:47,729 --> 02:09:53,578
else right but as an individual I don't

2465
02:09:52,380 --> 02:09:55,020
think you really need to do that like I

2466
02:09:53,578 --> 02:09:59,819
said I kind of already did that work for

2467
02:09:55,020 --> 02:10:03,119
you so you know unless you're thinking

2468
02:09:59,819 --> 02:10:09,569
of some particularly saucy stuff that

2469
02:10:03,118 --> 02:10:12,808
that's like well well far afield from

2470
02:10:09,569 --> 02:10:15,149
the kinds of mods I made which I you

2471
02:10:12,809 --> 02:10:16,829
know I don't know what other people I

2472
02:10:15,149 --> 02:10:18,179
guess maybe other people are thinking

2473
02:10:16,828 --> 02:10:20,609
the things that are really wacky

2474
02:10:18,179 --> 02:10:21,719
compared to what I wanted to do but in

2475
02:10:20,609 --> 02:10:23,729
terms of just being able to draw some

2476
02:10:21,719 --> 02:10:29,069
stuff to the screen with your own like

2477
02:10:23,729 --> 02:10:31,319
rendering primitives you know I

2478
02:10:29,069 --> 02:10:34,289
basically added some stuff for that and

2479
02:10:31,319 --> 02:10:35,849
it's not crazy like you can't yeah so

2480
02:10:34,289 --> 02:10:37,380
you know if you wanted to do like images

2481
02:10:35,849 --> 02:10:40,078
and stuff I guess that never made it in

2482
02:10:37,380 --> 02:10:42,559
there but but other than that I think it

2483
02:10:40,078 --> 02:10:42,558
was pretty good

2484
02:11:18,800 --> 02:11:24,199
more Jeff in case each episode soon um

2485
02:11:21,760 --> 02:11:26,360
yeah so it really depends on Jeff's

2486
02:11:24,199 --> 02:11:29,139
schedule but you know the hope was yes

2487
02:11:26,359 --> 02:11:32,329
obviously we just released one last week

2488
02:11:29,140 --> 02:11:38,450
well actually this past week everyone

2489
02:11:32,329 --> 02:11:39,769
said that on Monday and so we you know

2490
02:11:38,449 --> 02:11:42,529
we probably won't be able to release one

2491
02:11:39,770 --> 02:11:45,500
like every week but we do hope to have

2492
02:11:42,529 --> 02:11:47,889
you know one a month or something coming

2493
02:11:45,500 --> 02:11:47,890
out now

2494
02:11:54,969 --> 02:11:58,180
why only PayPal and credit card payment

2495
02:11:57,369 --> 02:12:02,309
methods for him here

2496
02:11:58,180 --> 02:12:02,310
what other payment methods did you want

2497
02:12:04,619 --> 02:12:07,750
what do you think about a purpose-built

2498
02:12:06,430 --> 02:12:09,520
editor as opposed to a general-purpose

2499
02:12:07,750 --> 02:12:11,198
text editor could work directly with a

2500
02:12:09,520 --> 02:12:15,100
binary for any other Khanna creation

2501
02:12:11,198 --> 02:12:15,549
tool yeah I mean like I said that's what

2502
02:12:15,100 --> 02:12:27,550
I did

2503
02:12:15,550 --> 02:12:30,489
oh Bitcoin so the reason that we did we

2504
02:12:27,550 --> 02:12:33,369
had Bitcoin the reason that we don't

2505
02:12:30,488 --> 02:12:35,169
have Bitcoin anymore is because the

2506
02:12:33,369 --> 02:12:36,399
transaction cost for Bitcoin ended up

2507
02:12:35,170 --> 02:12:40,420
being more than the cost of handmade

2508
02:12:36,399 --> 02:12:42,369
hero bitcoins doesn't work it's it's a

2509
02:12:40,420 --> 02:12:45,909
fundamentally broken system they're

2510
02:12:42,369 --> 02:12:51,130
trying to fix it but it's not good

2511
02:12:45,909 --> 02:12:52,960
and so the Bitcoin providers that we

2512
02:12:51,130 --> 02:12:56,770
were using to accept Bitcoin payments

2513
02:12:52,960 --> 02:12:57,550
just couldn't do them anymore so they're

2514
02:12:56,770 --> 02:13:00,130
just not available

2515
02:12:57,550 --> 02:13:02,369
wasn't our decision that just option

2516
02:13:00,130 --> 02:13:02,369
went away

2517
02:13:07,899 --> 02:13:20,170
Apple pay so I don't remember what the

2518
02:13:15,800 --> 02:13:22,520
reason is if Apple pay is not on there I

2519
02:13:20,170 --> 02:13:26,599
think it had something to do with the

2520
02:13:22,520 --> 02:13:29,630
fact that there were certain because cuz

2521
02:13:26,599 --> 02:13:30,889
I thought stripe allowed Apple pay but

2522
02:13:29,630 --> 02:13:33,310
there are some things we had to do that

2523
02:13:30,889 --> 02:13:38,510
I wasn't thrilled about

2524
02:13:33,310 --> 02:13:42,579
so Apple pay may happen but it may not

2525
02:13:38,510 --> 02:13:44,750
I'm not sure but Bitcoin we had and

2526
02:13:42,578 --> 02:13:46,368
Bitcoin just collapsed on itself and

2527
02:13:44,750 --> 02:13:48,698
doesn't work so that's why it's not

2528
02:13:46,368 --> 02:13:48,698
there anymore

2529
02:13:52,118 --> 02:13:58,609
cryptocurrency gonna take over the world

2530
02:13:54,319 --> 02:14:02,979
right can't buy a freaking 15 dollar

2531
02:13:58,609 --> 02:14:02,979
product with it but but no it's great

2532
02:14:12,078 --> 02:14:15,158
all right

2533
02:14:17,600 --> 02:14:25,400
why are you listed us rewind evangelists

2534
02:14:20,390 --> 02:14:28,250
in braids the reason I'm listed as

2535
02:14:25,399 --> 02:14:31,670
rewind event evangelist in braid is

2536
02:14:28,250 --> 02:14:39,770
because I think the story goes something

2537
02:14:31,670 --> 02:14:44,840
like John's original idea for braids he

2538
02:14:39,770 --> 02:14:46,940
had whilst reading or thinking about a

2539
02:14:44,840 --> 02:14:59,029
post I had made to a mailing list about

2540
02:14:46,939 --> 02:15:01,579
rewind so I really didn't have I want to

2541
02:14:59,029 --> 02:15:08,119
say anything to do with the design for

2542
02:15:01,579 --> 02:15:10,340
braids look on the witness I remember

2543
02:15:08,119 --> 02:15:14,119
talking with John about some puzzles

2544
02:15:10,340 --> 02:15:19,190
even some important puzzles and you know

2545
02:15:14,119 --> 02:15:20,659
I didn't really have much to do with the

2546
02:15:19,189 --> 02:15:23,750
design of that game either but at least

2547
02:15:20,659 --> 02:15:24,439
I had some discussions I remember having

2548
02:15:23,750 --> 02:15:27,380
about it

2549
02:15:24,439 --> 02:15:28,609
braids I feel like I literally had no

2550
02:15:27,380 --> 02:15:32,180
contribution to the game design

2551
02:15:28,609 --> 02:15:34,909
whatsoever even in a patent that sort of

2552
02:15:32,180 --> 02:15:36,650
passing sense of having talked through a

2553
02:15:34,909 --> 02:15:38,960
problem with the designer when they were

2554
02:15:36,649 --> 02:15:40,119
working on it or something like none at

2555
02:15:38,960 --> 02:15:44,149
all

2556
02:15:40,119 --> 02:15:46,220
but the reason at least I gather from

2557
02:15:44,149 --> 02:15:49,939
John that I am listed with a credit in

2558
02:15:46,220 --> 02:15:51,320
that game for some reason was just I had

2559
02:15:49,939 --> 02:15:54,039
made a post to a meaningless where I was

2560
02:15:51,319 --> 02:15:58,719
talking about how games in general

2561
02:15:54,039 --> 02:16:02,329
should just have rewind because like it

2562
02:15:58,720 --> 02:16:05,090
treats my time as a player as more

2563
02:16:02,329 --> 02:16:06,800
valuable in like look I don't want to

2564
02:16:05,090 --> 02:16:10,520
have to replay this section of the game

2565
02:16:06,800 --> 02:16:12,289
if I don't want to like why should I

2566
02:16:10,520 --> 02:16:15,860
it's I already did it once it's not

2567
02:16:12,289 --> 02:16:17,180
gonna change right and so a lot of games

2568
02:16:15,859 --> 02:16:19,069
in that time like this is you know

2569
02:16:17,180 --> 02:16:20,600
talking not about roguelikes but like of

2570
02:16:19,069 --> 02:16:22,729
like Triple A games where you just have

2571
02:16:20,600 --> 02:16:23,930
to do this set of things I'm like why do

2572
02:16:22,729 --> 02:16:26,359
I have to do this set of things again

2573
02:16:23,930 --> 02:16:28,159
it's I already did it you're just making

2574
02:16:26,359 --> 02:16:32,350
me do it as punishment for not knowing

2575
02:16:28,159 --> 02:16:32,350
how to do the final thing and off we go

2576
02:16:33,950 --> 02:16:38,210
and so it was just me complaining about

2577
02:16:36,860 --> 02:16:39,439
why games just didn't just have

2578
02:16:38,209 --> 02:16:42,468
rewinding in general because that would

2579
02:16:39,439 --> 02:16:44,420
just make it more enjoyable for the

2580
02:16:42,468 --> 02:16:46,369
player to play these Triple A games

2581
02:16:44,420 --> 02:16:48,138
which maybe he's just a statement about

2582
02:16:46,370 --> 02:16:52,540
the fact that the Triple A games suck I

2583
02:16:48,138 --> 02:16:59,569
don't know but that that email

2584
02:16:52,540 --> 02:17:03,110
apparently was somehow related to John

2585
02:16:59,569 --> 02:17:08,170
thinking up the idea for braids or maybe

2586
02:17:03,110 --> 02:17:12,819
it crystallized some aspect of it I

2587
02:17:08,170 --> 02:17:12,819
don't know you should really ask John

2588
02:17:13,750 --> 02:17:22,760
it's it's probably more credit than I

2589
02:17:16,909 --> 02:17:23,929
deserve the the only meaningful

2590
02:17:22,760 --> 02:17:26,000
contribution I actually made to braid

2591
02:17:23,929 --> 02:17:27,648
was a code contribution the collision

2592
02:17:26,000 --> 02:17:31,040
detector the rounded rectangle collision

2593
02:17:27,648 --> 02:17:32,659
detector in there is my code so really

2594
02:17:31,040 --> 02:17:35,420
the only credit I should have gotten was

2595
02:17:32,659 --> 02:17:37,489
like some kind of like additional

2596
02:17:35,420 --> 02:17:39,439
programming by kind of credit but

2597
02:17:37,489 --> 02:17:44,750
instead I get a very prominent credit as

2598
02:17:39,439 --> 02:17:49,929
rewind evangelists which you know I was

2599
02:17:44,750 --> 02:17:49,929
for that email but but I did I didn't

2600
02:17:58,250 --> 02:18:02,659
yeah I guess that's just a really

2601
02:18:01,308 --> 02:18:06,849
long-winded way of saying ask him I'm

2602
02:18:02,659 --> 02:18:13,898
not really sure why I had a credit I

2603
02:18:06,849 --> 02:18:17,738
absolutely 100% in my memory had no

2604
02:18:13,898 --> 02:18:21,108
design input to braid whatsoever even

2605
02:18:17,738 --> 02:18:23,568
even like a passing conversation with

2606
02:18:21,109 --> 02:18:30,529
John about a puzzle like I don't

2607
02:18:23,568 --> 02:18:36,349
remember a single thing that I ever said

2608
02:18:30,529 --> 02:18:37,819
to John about the design of braids that

2609
02:18:36,349 --> 02:18:40,189
had anything to do with designing braids

2610
02:18:37,818 --> 02:18:45,519
like as far as I remember he designed it

2611
02:18:40,189 --> 02:18:45,519
and I played it and that was it

2612
02:19:01,280 --> 02:19:06,270
what melius it was some game design

2613
02:19:04,200 --> 02:19:12,690
mailing list thing I'm not anymore

2614
02:19:06,270 --> 02:19:14,130
I don't even remember what was called it

2615
02:19:12,690 --> 02:19:19,620
sounds like you wouldn't be a fan of the

2616
02:19:14,129 --> 02:19:25,829
current souls like trend No

2617
02:19:19,620 --> 02:19:27,950
so I'm okay with games that are about

2618
02:19:25,829 --> 02:19:32,250
execution

2619
02:19:27,950 --> 02:19:35,250
for example I loved Ivan Hawkins and the

2620
02:19:32,250 --> 02:19:38,340
thousand-and-one spikes because that

2621
02:19:35,250 --> 02:19:39,479
game is about execution that is what the

2622
02:19:38,340 --> 02:19:41,309
game is about right

2623
02:19:39,479 --> 02:19:44,760
it's not about exploration it's not

2624
02:19:41,309 --> 02:19:45,920
about talking to NPCs not about solving

2625
02:19:44,760 --> 02:19:51,110
puzzles

2626
02:19:45,920 --> 02:19:53,700
it's about executing the line right and

2627
02:19:51,110 --> 02:19:55,891
getting really optimized executing that

2628
02:19:53,700 --> 02:19:59,670
that's what it's about it makes its

2629
02:19:55,890 --> 02:20:01,199
unapologetic right and so I'm totally

2630
02:19:59,670 --> 02:20:04,681
fine with no rewind in that game because

2631
02:20:01,200 --> 02:20:07,620
that's the game is about being it's like

2632
02:20:04,681 --> 02:20:09,630
it's like a being a gymnast right it's

2633
02:20:07,620 --> 02:20:12,920
about learning to execute exactly every

2634
02:20:09,629 --> 02:20:15,659
time and so I'm totally down with that

2635
02:20:12,920 --> 02:20:24,560
but the problem is a lot of games

2636
02:20:15,659 --> 02:20:29,940
legends of Zelda you know The Witcher or

2637
02:20:24,560 --> 02:20:32,129
Red Dead Redemption or you know maybe

2638
02:20:29,940 --> 02:20:36,271
not Grand Theft Auto as much but even

2639
02:20:32,129 --> 02:20:39,949
Grand Theft Auto even first-person

2640
02:20:36,271 --> 02:20:42,239
shooters Call of Duty blah blah blah

2641
02:20:39,950 --> 02:20:45,420
they're just not about that they're just

2642
02:20:42,239 --> 02:20:47,129
not about execution they're you know

2643
02:20:45,420 --> 02:20:49,950
about playing through a scripted

2644
02:20:47,129 --> 02:20:53,430
scenario and when I play through the

2645
02:20:49,950 --> 02:20:55,530
scripted scenario and the game is three

2646
02:20:53,431 --> 02:20:57,989
easy dudes and then a really hard dude

2647
02:20:55,530 --> 02:20:59,730
and I never die on the three easy dudes

2648
02:20:57,989 --> 02:21:01,949
and I die on the hard dude I don't know

2649
02:20:59,729 --> 02:21:04,020
how to kill and you make me play through

2650
02:21:01,950 --> 02:21:08,250
the same three easy dudes for no reason

2651
02:21:04,021 --> 02:21:11,010
every time that is just not and nothing

2652
02:21:08,250 --> 02:21:13,530
I do about those ever improves like I

2653
02:21:11,010 --> 02:21:14,639
don't you know what I mean that was the

2654
02:21:13,530 --> 02:21:16,020
big thing about a band Hawkins

2655
02:21:14,639 --> 02:21:18,119
was like you learned to refine your

2656
02:21:16,020 --> 02:21:19,859
movements to make it very unlikely that

2657
02:21:18,120 --> 02:21:22,380
you would die in all the places and that

2658
02:21:19,859 --> 02:21:24,540
felt really good right and that if you

2659
02:21:22,379 --> 02:21:26,908
don't have that aspect to your game it's

2660
02:21:24,540 --> 02:21:28,290
just frustrating and annoying right so I

2661
02:21:26,908 --> 02:21:30,568
don't necessarily have a problem with

2662
02:21:28,290 --> 02:21:32,100
games that are about that or like

2663
02:21:30,568 --> 02:21:35,100
roguelikes like binding of issac where

2664
02:21:32,100 --> 02:21:36,870
each run is unique totally fine right

2665
02:21:35,100 --> 02:21:38,818
because at that point it's like you're

2666
02:21:36,870 --> 02:21:41,880
not making me play through exactly the

2667
02:21:38,818 --> 02:21:43,680
same thing for no reason but if a game

2668
02:21:41,879 --> 02:21:46,709
is mostly about making me play through

2669
02:21:43,680 --> 02:21:48,750
the exact same thing for no reason I've

2670
02:21:46,709 --> 02:21:50,429
got a problem with it I never played

2671
02:21:48,750 --> 02:21:55,850
Dark Souls so whether I would levy that

2672
02:21:50,430 --> 02:21:57,689
complaint at Dark Souls I'm not sure but

2673
02:21:55,850 --> 02:22:00,109
you know hopefully that explains a

2674
02:21:57,689 --> 02:22:00,109
little bit more

2675
02:22:03,149 --> 02:22:13,229
all right I'm gonna wrap it up all right

2676
02:22:17,590 --> 02:22:20,290
thank you everyone for joining us it

2677
02:22:19,059 --> 02:22:22,118
upset a handmade hero it's been a

2678
02:22:20,290 --> 02:22:24,130
pleasure coding with you as always if

2679
02:22:22,119 --> 02:22:26,380
you would like to follow along with

2680
02:22:24,129 --> 02:22:28,599
stories at home you can always go to

2681
02:22:26,379 --> 02:22:31,420
handmade hero dot-org and pre-order the

2682
02:22:28,600 --> 02:22:35,529
game it comes with a source code so you

2683
02:22:31,420 --> 02:22:37,000
can play around with it I will be back

2684
02:22:35,529 --> 02:22:39,970
here same time same place tomorrow I

2685
02:22:37,000 --> 02:22:41,049
believe so at that point we'll start to

2686
02:22:39,969 --> 02:22:42,608
look at actually implementing that

2687
02:22:41,049 --> 02:22:44,559
lighting we'll have a full two hours so

2688
02:22:42,609 --> 02:22:45,850
we can start to make a dent in it

2689
02:22:44,559 --> 02:22:48,010
but again it's probably not going to be

2690
02:22:45,850 --> 02:22:49,328
one day thing we're gonna have to spend

2691
02:22:48,010 --> 02:22:50,770
a few weekends on it for sure

2692
02:22:49,328 --> 02:22:51,609
letting is very complicated it's one of

2693
02:22:50,770 --> 02:22:53,710
the hardest things you can do in

2694
02:22:51,609 --> 02:22:56,318
graphics so we're gonna take a little

2695
02:22:53,709 --> 02:22:57,698
bit of time that's fine but just be be

2696
02:22:56,318 --> 02:22:59,100
advised

2697
02:22:57,699 --> 02:23:01,720
so we'll start taking a look at that

2698
02:22:59,100 --> 02:23:03,068
until then have fun programming and I'll

2699
02:23:01,719 --> 02:23:05,549
see everyone on the Internet taking

2700
02:23:03,068 --> 02:23:05,549
these everybody

