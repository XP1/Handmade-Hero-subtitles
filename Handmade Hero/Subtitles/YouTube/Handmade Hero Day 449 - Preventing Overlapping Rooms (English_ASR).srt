1
00:00:00,000 --> 00:00:03,060
hello everyone and welcome to handmade

2
00:00:01,229 --> 00:00:05,548
Hero show recode a complete-game live on

3
00:00:03,060 --> 00:00:08,669
stream today we actually left ourselves

4
00:00:05,549 --> 00:00:11,699
in a pretty obvious situation from last

5
00:00:08,669 --> 00:00:14,189
week we implemented some explicit room

6
00:00:11,699 --> 00:00:17,009
placement code and we just didn't get a

7
00:00:14,189 --> 00:00:19,769
chance to really use it we typed it all

8
00:00:17,010 --> 00:00:21,570
in but we haven't debugged it yet and so

9
00:00:19,769 --> 00:00:23,759
what we want to do today is just debug

10
00:00:21,570 --> 00:00:26,670
that code that's it that's that's what

11
00:00:23,760 --> 00:00:28,830
we want to do and then we can start

12
00:00:26,670 --> 00:00:30,599
expanding on it and seeing where how we

13
00:00:28,829 --> 00:00:33,570
want to move forward with how rooms get

14
00:00:30,599 --> 00:00:36,390
placed in the generative part of the

15
00:00:33,570 --> 00:00:38,789
engine at the moment today date is day

16
00:00:36,390 --> 00:00:41,070
449 so start with day 440 it's code if

17
00:00:38,789 --> 00:00:43,469
you're following along at home I'm sure

18
00:00:41,070 --> 00:00:45,750
everyone knows that by now so probably

19
00:00:43,469 --> 00:00:48,989
don't need to say it but so if we go

20
00:00:45,750 --> 00:00:52,920
ahead and build the game we actually

21
00:00:48,988 --> 00:00:54,328
don't crash or anything or crashes I

22
00:00:52,920 --> 00:00:57,300
don't know that why we would crash but

23
00:00:54,329 --> 00:00:59,670
we don't assert in the placement code or

24
00:00:57,299 --> 00:01:01,769
anything like that but you can see that

25
00:00:59,670 --> 00:01:04,140
we don't for some reason the camera gets

26
00:01:01,770 --> 00:01:06,659
placed sort of as if there was nothing

27
00:01:04,140 --> 00:01:08,189
to place it on or as if we don't know

28
00:01:06,659 --> 00:01:10,380
where the hero should go or something

29
00:01:08,188 --> 00:01:12,509
like that which is weird because if you

30
00:01:10,379 --> 00:01:15,209
look you can see that some things got

31
00:01:12,510 --> 00:01:17,460
placed so there is something strange

32
00:01:15,209 --> 00:01:19,469
going on I'm not sure what and that is

33
00:01:17,459 --> 00:01:21,509
our job for today is to debug this and

34
00:01:19,469 --> 00:01:24,060
figure out why we're getting this sort

35
00:01:21,509 --> 00:01:25,170
of strange situation occurring so I'm

36
00:01:24,060 --> 00:01:27,200
just gonna go ahead and start with that

37
00:01:25,170 --> 00:01:29,460
and that's gonna be our job for today

38
00:01:27,200 --> 00:01:31,170
and then based on how long it takes us

39
00:01:29,459 --> 00:01:32,789
to get everything working we'll see we

40
00:01:31,170 --> 00:01:34,109
may end up with some time to do

41
00:01:32,790 --> 00:01:36,509
something additional

42
00:01:34,109 --> 00:01:40,228
we don't really know though so we'll see

43
00:01:36,509 --> 00:01:41,728
about that a little bit later on um so

44
00:01:40,228 --> 00:01:45,090
if you remember how this code works

45
00:01:41,728 --> 00:01:47,969
we set up went in sort of the end of the

46
00:01:45,090 --> 00:01:50,728
code here we return a result code which

47
00:01:47,969 --> 00:01:54,000
is basically saying here's where this

48
00:01:50,728 --> 00:01:56,968
stuff is that you may want to use in the

49
00:01:54,000 --> 00:02:03,478
outside code and the way that works is

50
00:01:56,968 --> 00:02:05,339
you know we call okay so nevermind this

51
00:02:03,478 --> 00:02:07,890
this obviously now makes perfect sense

52
00:02:05,340 --> 00:02:08,878
so we just never implemented that it's

53
00:02:07,890 --> 00:02:11,038
just still sitting here with a

54
00:02:08,878 --> 00:02:13,679
hard-coded placement so that's that's

55
00:02:11,038 --> 00:02:15,419
why that's got to be why we we

56
00:02:13,680 --> 00:02:17,640
actually put the camera anywhere where

57
00:02:15,419 --> 00:02:19,259
the game could successfully start up

58
00:02:17,639 --> 00:02:22,048
probably right this initial camera P is

59
00:02:19,259 --> 00:02:23,340
just wrong so what we want to do is when

60
00:02:22,049 --> 00:02:26,688
we get this orphanage back we want to

61
00:02:23,340 --> 00:02:29,489
use that information to actually put the

62
00:02:26,688 --> 00:02:31,500
camera in like the middle of the room

63
00:02:29,489 --> 00:02:33,718
right that's what we that's what we

64
00:02:31,500 --> 00:02:35,310
would like to do and so to set the

65
00:02:33,718 --> 00:02:38,459
initial camera P there what we'd want to

66
00:02:35,310 --> 00:02:41,639
do is use the information that we've got

67
00:02:38,459 --> 00:02:43,468
on the room which is the we've got the

68
00:02:41,639 --> 00:02:45,389
volume of the room right there so what

69
00:02:43,468 --> 00:02:47,519
we want to do is is set that initial

70
00:02:45,389 --> 00:02:50,549
camera P to something in a more sensible

71
00:02:47,519 --> 00:02:53,129
way so what I can do here is just say

72
00:02:50,549 --> 00:02:58,590
all right let's take a look at the gen

73
00:02:53,128 --> 00:03:03,840
William of the heroes room so that is

74
00:02:58,590 --> 00:03:05,340
here a bedroom ticket set so once we

75
00:03:03,840 --> 00:03:06,900
have that we should be able to come up

76
00:03:05,340 --> 00:03:14,658
with those chunk positions really easily

77
00:03:06,900 --> 00:03:14,658
right we can just say that this this

78
00:03:14,900 --> 00:03:22,829
where do we put that in here there you

79
00:03:20,609 --> 00:03:24,659
go so we can just say that like we've

80
00:03:22,829 --> 00:03:27,209
got the min and the max here if we want

81
00:03:24,658 --> 00:03:28,530
to we can just use like the min plus the

82
00:03:27,209 --> 00:03:36,239
max over to or something like that

83
00:03:28,530 --> 00:03:41,090
right so we just start the camera in the

84
00:03:36,239 --> 00:03:44,489
middle like this so in terms of

85
00:03:41,090 --> 00:03:55,229
tile-based positions that should just do

86
00:03:44,489 --> 00:03:58,109
it right in Africa so that if that

87
00:03:55,229 --> 00:04:01,379
actually was the only problem will be he

88
00:03:58,109 --> 00:04:03,000
fairly uninteresting so we will be doing

89
00:04:01,378 --> 00:04:04,908
other stuff today but we don't know if

90
00:04:03,000 --> 00:04:08,729
there might be more to it than that

91
00:04:04,908 --> 00:04:10,378
anyway so let me grab out the volume

92
00:04:08,729 --> 00:04:14,669
here like I said oh no I didn't grab the

93
00:04:10,378 --> 00:04:17,158
volume and then the hero rooms min and

94
00:04:14,669 --> 00:04:19,650
Max there should be oh these are not

95
00:04:17,158 --> 00:04:23,310
actually gen VIII's we should probably

96
00:04:19,649 --> 00:04:23,929
fix that I don't know if now is the time

97
00:04:23,310 --> 00:04:26,009
to do it

98
00:04:23,930 --> 00:04:28,470
but it seems like we want to sort of

99
00:04:26,009 --> 00:04:30,360
consolidate those two anyway that should

100
00:04:28,470 --> 00:04:33,120
start the camera now actually looking at

101
00:04:30,360 --> 00:04:37,500
at the actual room where the hero is

102
00:04:33,120 --> 00:04:40,110
supposed to be in theory anyway so let's

103
00:04:37,500 --> 00:04:42,389
see if we can get that working and so

104
00:04:40,110 --> 00:04:45,180
the hero is there actually and again I'm

105
00:04:42,389 --> 00:04:48,000
not sure why we're lower down that

106
00:04:45,180 --> 00:04:57,480
should set the Z to something correct I

107
00:04:48,000 --> 00:05:00,120
would think not sure what the rest of

108
00:04:57,480 --> 00:05:02,220
the stuff here is doing we don't use any

109
00:05:00,120 --> 00:05:07,500
of this could probably get rid of most

110
00:05:02,220 --> 00:05:10,440
of it now in fact this stuff can kind of

111
00:05:07,500 --> 00:05:14,040
go away we really don't need most of

112
00:05:10,439 --> 00:05:15,360
that but I messed up in there because I

113
00:05:14,040 --> 00:05:16,680
don't really know why that wouldn't work

114
00:05:15,360 --> 00:05:18,780
it we should be able to set it to the

115
00:05:16,680 --> 00:05:20,550
center and have it work but the initial

116
00:05:18,779 --> 00:05:22,619
camera P I'm not really sure much about

117
00:05:20,550 --> 00:05:24,270
how it gets handled anymore we haven't

118
00:05:22,620 --> 00:05:25,379
looked at that code in a while so I

119
00:05:24,269 --> 00:05:28,019
don't know if maybe there's something

120
00:05:25,379 --> 00:05:31,199
weird about that that doesn't actually

121
00:05:28,019 --> 00:05:34,169
work properly why don't I just trace

122
00:05:31,199 --> 00:05:35,699
that through and then we can see I'm

123
00:05:34,170 --> 00:05:37,860
gonna go ahead and set to a debug build

124
00:05:35,699 --> 00:05:41,759
so I can step through the code and see

125
00:05:37,860 --> 00:05:44,730
all the variables easily so let's stop

126
00:05:41,759 --> 00:05:48,209
at create world and we'll just see here

127
00:05:44,730 --> 00:05:51,450
in create worlds that's not the great

128
00:05:48,209 --> 00:05:57,029
world I meant I meant this one when we

129
00:05:51,449 --> 00:05:58,920
get this back right here I'm gonna just

130
00:05:57,029 --> 00:06:00,389
inspect it really quickly just to make

131
00:05:58,920 --> 00:06:01,620
sure it all makes sense and we're not

132
00:06:00,389 --> 00:06:02,519
passing anything silly but it looked

133
00:06:01,620 --> 00:06:04,560
like it was putting us in the right

134
00:06:02,519 --> 00:06:07,859
place so I think we're okay here's where

135
00:06:04,560 --> 00:06:10,259
I put that room that's that's the the

136
00:06:07,860 --> 00:06:15,090
basic idea there and so we can sort of

137
00:06:10,259 --> 00:06:19,829
see if we place ourselves somewhere

138
00:06:15,089 --> 00:06:23,489
sensible relative that so our max of one

139
00:06:19,829 --> 00:06:26,399
there well these are chunk indices

140
00:06:23,490 --> 00:06:28,290
actually so to be honest it's a little

141
00:06:26,399 --> 00:06:32,009
bit harder to look at let me go ahead

142
00:06:28,290 --> 00:06:34,110
and and verify that they're correct on a

143
00:06:32,009 --> 00:06:37,370
on a tile basis because that we actually

144
00:06:34,110 --> 00:06:37,370
know more about

145
00:06:39,019 --> 00:06:49,998
okay sue if I jump in here I should now

146
00:06:44,968 --> 00:06:57,629
be able to see what we actually passed

147
00:06:49,999 --> 00:07:00,659
12 negative 56 0 so that's what we

148
00:06:57,629 --> 00:07:04,259
actually said we were gonna that's where

149
00:07:00,658 --> 00:07:06,060
we wanted everything to be right and so

150
00:07:04,259 --> 00:07:08,908
let's make sure that that actually makes

151
00:07:06,060 --> 00:07:12,899
sense with the hero room so if the min

152
00:07:08,908 --> 00:07:16,199
and the max is 10 to 14 then 12 does

153
00:07:12,899 --> 00:07:16,649
make a lot of sense right that's right

154
00:07:16,199 --> 00:07:19,319
in the middle

155
00:07:16,649 --> 00:07:20,878
that's SEC what we expect negative 56 is

156
00:07:19,319 --> 00:07:23,129
right in the middle from negative 59

157
00:07:20,879 --> 00:07:26,460
tonight of 54 there so that's actually

158
00:07:23,129 --> 00:07:30,539
quite good 2 and 0 is exactly what we

159
00:07:26,459 --> 00:07:31,888
would have expected for Minzy so it

160
00:07:30,538 --> 00:07:33,990
looks like we're placing the camera in

161
00:07:31,889 --> 00:07:39,408
the correct place relative to the hero's

162
00:07:33,990 --> 00:07:39,408
bedroom that seems correct to me

163
00:07:49,259 --> 00:07:53,668
so given that I'm gonna go ahead and say

164
00:07:51,480 --> 00:07:57,389
I want to then look at the world crease

165
00:07:53,668 --> 00:07:58,829
I've been the room creation code because

166
00:07:57,389 --> 00:08:01,680
we still sort of have and we don't

167
00:07:58,829 --> 00:08:05,129
really know whether we want to keep this

168
00:08:01,680 --> 00:08:11,009
long term but we still have this idea

169
00:08:05,129 --> 00:08:15,689
over here of the sort of room area right

170
00:08:11,009 --> 00:08:17,879
like a volume that the room looks at to

171
00:08:15,689 --> 00:08:19,439
figure out where to place the camera and

172
00:08:17,879 --> 00:08:21,149
so what I would like to do is make sure

173
00:08:19,439 --> 00:08:22,980
that that is still getting set in a

174
00:08:21,149 --> 00:08:26,250
sensible fashion because I don't know

175
00:08:22,980 --> 00:08:28,379
that it is we set the X count wide count

176
00:08:26,250 --> 00:08:31,319
and Z count to be how big the room was

177
00:08:28,379 --> 00:08:34,879
and we know these things here Z count

178
00:08:31,319 --> 00:08:34,879
being two is a little bit weird

179
00:08:42,769 --> 00:08:49,500
I'm not really sure how we ended up with

180
00:08:45,029 --> 00:08:59,329
a room with a dimension of two I would

181
00:08:49,500 --> 00:09:01,860
like to know ah so we're still doing it

182
00:08:59,330 --> 00:09:03,420
looks it looks like so quickly I would

183
00:09:01,860 --> 00:09:07,019
like to just address this because I

184
00:09:03,419 --> 00:09:08,610
don't really want that it looks like the

185
00:09:07,019 --> 00:09:14,009
way that we're making these rooms at the

186
00:09:08,610 --> 00:09:15,659
moment when we set the size it looks

187
00:09:14,009 --> 00:09:18,269
like we're setting the size so that they

188
00:09:15,659 --> 00:09:29,129
actually have like the Minzy and the

189
00:09:18,269 --> 00:09:32,189
Maxie are set apart right so I don't

190
00:09:29,129 --> 00:09:33,870
know why that is exactly I guess our

191
00:09:32,190 --> 00:09:36,930
room placement code is doing something a

192
00:09:33,870 --> 00:09:40,639
little wonky there so it's not a problem

193
00:09:36,929 --> 00:09:44,549
that they're too too high like too tall

194
00:09:40,639 --> 00:09:45,840
because we allow rooms to do that but it

195
00:09:44,549 --> 00:09:48,179
shouldn't be doing that

196
00:09:45,840 --> 00:09:52,889
so I would like to fix that because that

197
00:09:48,179 --> 00:09:54,838
is erroneous so something's messed up

198
00:09:52,889 --> 00:09:58,230
there so if we take a look at place room

199
00:09:54,839 --> 00:10:05,040
a long edge this code when it actually

200
00:09:58,230 --> 00:10:07,350
goes to deal with the the max on - you

201
00:10:05,039 --> 00:10:09,959
can see it just copies from the original

202
00:10:07,350 --> 00:10:16,170
room all the time so when we do our

203
00:10:09,960 --> 00:10:18,210
initial room placement yeah so required

204
00:10:16,169 --> 00:10:21,179
dimensions this just looks like we

205
00:10:18,210 --> 00:10:23,100
messed up it looks like because the this

206
00:10:21,179 --> 00:10:26,639
is we said that our dimensions don't

207
00:10:23,100 --> 00:10:29,070
include the fact that the min and the

208
00:10:26,639 --> 00:10:30,809
max see ours are equal to each other if

209
00:10:29,070 --> 00:10:32,820
they encounter encompass a single tile

210
00:10:30,809 --> 00:10:34,889
so this really should have looked like

211
00:10:32,820 --> 00:10:37,350
this is basically what it boils down to

212
00:10:34,889 --> 00:10:43,559
our initial room placement was not

213
00:10:37,350 --> 00:10:46,379
correct there so now we should have a z

214
00:10:43,559 --> 00:10:48,739
count that's properly set to one which

215
00:10:46,379 --> 00:10:51,838
we do and now that's a little bit better

216
00:10:48,740 --> 00:10:55,649
okay so it must be that we don't

217
00:10:51,839 --> 00:10:59,760
properly handle that aspect

218
00:10:55,649 --> 00:11:01,590
of of we with the camera for some reason

219
00:10:59,759 --> 00:11:03,360
if something's too high we must be

220
00:11:01,590 --> 00:11:05,639
messing it up so we're gonna have to

221
00:11:03,360 --> 00:11:07,500
deal with that and look at why that's

222
00:11:05,639 --> 00:11:09,449
not working properly because something

223
00:11:07,500 --> 00:11:12,000
is not working properly there so I'm

224
00:11:09,450 --> 00:11:15,410
gonna put it to doing here that once

225
00:11:12,000 --> 00:11:15,409
we're done with what working on now

226
00:11:21,559 --> 00:11:26,969
we've got some issue where the camera

227
00:11:24,629 --> 00:11:29,580
gets confused about that or we're

228
00:11:26,970 --> 00:11:31,200
creating it wrong we should go fix that

229
00:11:29,580 --> 00:11:32,639
because there's just something not

230
00:11:31,200 --> 00:11:37,200
working there and it should be working

231
00:11:32,639 --> 00:11:39,899
we we don't we don't have any reason to

232
00:11:37,200 --> 00:11:41,220
believe that that should occur it should

233
00:11:39,899 --> 00:11:44,039
have just handled that room just fine

234
00:11:41,220 --> 00:11:47,850
there's nothing illegal about doing that

235
00:11:44,039 --> 00:11:50,879
in our name okay so if we look at what

236
00:11:47,850 --> 00:11:52,889
we've created now this is our orphanage

237
00:11:50,879 --> 00:11:54,600
and I think what's kind of interesting

238
00:11:52,889 --> 00:11:56,399
about this again we have to give

239
00:11:54,600 --> 00:11:59,519
ourselves a bit of a high-five so

240
00:11:56,399 --> 00:12:02,370
remember we told this thing just about

241
00:11:59,519 --> 00:12:04,860
which rooms we wanted and what sides

242
00:12:02,370 --> 00:12:06,899
they were on of the other rooms and what

243
00:12:04,860 --> 00:12:09,389
you could see is it laid it out exactly

244
00:12:06,899 --> 00:12:11,429
like my diagram so we did a good job

245
00:12:09,389 --> 00:12:16,799
congratulations right I don't know if

246
00:12:11,429 --> 00:12:20,069
you remember my diagram here here it is

247
00:12:16,799 --> 00:12:23,759
right we decided to not do the side

248
00:12:20,070 --> 00:12:25,590
alley yet and to just do this sort of

249
00:12:23,759 --> 00:12:28,110
structure for things and that's exactly

250
00:12:25,590 --> 00:12:31,170
what it made right it made exactly the

251
00:12:28,110 --> 00:12:34,350
orphanage that I wanted main room to

252
00:12:31,169 --> 00:12:38,250
side rooms four bedrooms here three hero

253
00:12:34,350 --> 00:12:42,540
bedrooms here the hallways the garden

254
00:12:38,250 --> 00:12:44,850
out back the the forest area and whatnot

255
00:12:42,539 --> 00:12:47,819
up there so it actually laid all that

256
00:12:44,850 --> 00:12:52,860
out properly so really all we have to do

257
00:12:47,820 --> 00:12:57,870
at this point now is we need to make the

258
00:12:52,860 --> 00:13:01,470
doorways in between the rooms be placed

259
00:12:57,870 --> 00:13:04,529
because what we did at the end of the

260
00:13:01,470 --> 00:13:06,750
last stream is we placed all the rooms

261
00:13:04,529 --> 00:13:09,709
but we never actually put any code to

262
00:13:06,750 --> 00:13:12,240
put in the doors so

263
00:13:09,710 --> 00:13:14,190
unlike the original code here which put

264
00:13:12,240 --> 00:13:17,990
in the doors this doesn't put in the

265
00:13:14,190 --> 00:13:23,780
tourist and when I say doors I mean the

266
00:13:17,990 --> 00:13:23,779
classic rock group with Jimmy Morrison

267
00:13:25,789 --> 00:13:32,579
alright so if we want to avoid a drug

268
00:13:29,759 --> 00:13:36,200
overdose but still want to have doors in

269
00:13:32,580 --> 00:13:39,360
in the room and play on The Tonight Show

270
00:13:36,200 --> 00:13:41,700
or get banned from The Tonight Show for

271
00:13:39,360 --> 00:13:45,149
saying lyrics that the public at large

272
00:13:41,700 --> 00:13:46,710
at that time felt were untoward we can

273
00:13:45,149 --> 00:13:50,970
go ahead and look at this piece of code

274
00:13:46,710 --> 00:13:53,250
and place the actual doors in when we

275
00:13:50,970 --> 00:13:57,060
place connections so remember this code

276
00:13:53,250 --> 00:14:00,440
here it loops over the connections that

277
00:13:57,059 --> 00:14:03,359
a room has and places those connections

278
00:14:00,440 --> 00:14:06,900
places rooms to match those connections

279
00:14:03,360 --> 00:14:09,330
so we're already at the point where we

280
00:14:06,899 --> 00:14:11,159
know exactly what we would do the only

281
00:14:09,330 --> 00:14:14,220
problem is we never put in the code here

282
00:14:11,159 --> 00:14:17,069
to set this connections actual spacing

283
00:14:14,220 --> 00:14:21,750
now we did that in the other test layout

284
00:14:17,070 --> 00:14:24,000
routine it's this code right here so you

285
00:14:21,750 --> 00:14:26,879
see how we intersect the two rooms and

286
00:14:24,000 --> 00:14:31,799
then do it that way so in theory I think

287
00:14:26,879 --> 00:14:33,990
that should work the same we should be

288
00:14:31,799 --> 00:14:38,009
able to just use this code or a modified

289
00:14:33,990 --> 00:14:40,889
variant thereof to create our apertures

290
00:14:38,009 --> 00:14:43,200
between rooms and then sort of tweak it

291
00:14:40,889 --> 00:14:45,689
from there so let's just take a look and

292
00:14:43,200 --> 00:14:47,820
see what happens if we drop this in here

293
00:14:45,690 --> 00:14:49,620
once we've placed these rooms we can

294
00:14:47,820 --> 00:14:52,500
create a volume that is the intersection

295
00:14:49,620 --> 00:14:55,019
of this room and the other room that

296
00:14:52,500 --> 00:14:57,570
it's being connected to at that point we

297
00:14:55,019 --> 00:14:58,799
know exactly where they overlap and we

298
00:14:57,570 --> 00:15:01,560
can try to figure out where we want to

299
00:14:58,799 --> 00:15:04,019
put the door so in order to put the door

300
00:15:01,559 --> 00:15:07,439
in what we want to do is use what was

301
00:15:04,019 --> 00:15:10,710
the edge that actually abutted these two

302
00:15:07,440 --> 00:15:14,160
together right so we know that the edge

303
00:15:10,710 --> 00:15:16,650
axis that we're talking about here the

304
00:15:14,159 --> 00:15:20,659
edge axis is the one that we're moving

305
00:15:16,649 --> 00:15:23,328
along I believe right is that correct

306
00:15:20,659 --> 00:15:26,238
yeah so the edge access is

307
00:15:23,328 --> 00:15:28,849
axis we're moving along that's the axis

308
00:15:26,239 --> 00:15:31,220
along which we want to shrink the door

309
00:15:28,850 --> 00:15:31,759
so that it doesn't take up the entire

310
00:15:31,220 --> 00:15:32,899
room now

311
00:15:31,759 --> 00:15:35,808
we could take up the entire room right

312
00:15:32,899 --> 00:15:37,909
so we could say we could just say the

313
00:15:35,808 --> 00:15:40,999
door is the entire aperture between them

314
00:15:37,909 --> 00:15:47,808
right and that's just seeing look we're

315
00:15:40,999 --> 00:15:54,619
it's a completely what's the oh it's

316
00:15:47,808 --> 00:15:55,938
sorry it's base room and room so what

317
00:15:54,619 --> 00:15:58,069
that says it's just intersect these two

318
00:15:55,938 --> 00:16:00,169
volumes put the door like in their

319
00:15:58,068 --> 00:16:02,479
entire intersection and what that would

320
00:16:00,169 --> 00:16:04,338
do is they will be less like doors at

321
00:16:02,480 --> 00:16:10,159
that point well of course didn't work so

322
00:16:04,339 --> 00:16:12,559
that's your relevant I guess um oh it

323
00:16:10,159 --> 00:16:16,789
didn't work because we don't overlap our

324
00:16:12,558 --> 00:16:18,458
rooms in this placement scheme that's

325
00:16:16,789 --> 00:16:27,048
actually why

326
00:16:18,458 --> 00:16:30,918
okay so so first question do we want to

327
00:16:27,048 --> 00:16:33,860
overlap the room walls or not I don't

328
00:16:30,918 --> 00:16:44,269
think we do so why were we doing that

329
00:16:33,860 --> 00:16:47,058
before so never mind because yeah this

330
00:16:44,269 --> 00:16:50,600
intersection we need to expand those two

331
00:16:47,058 --> 00:16:52,338
volumes first in order to actually

332
00:16:50,600 --> 00:16:57,528
compute that intersection so that's not

333
00:16:52,339 --> 00:16:59,839
gonna help us at all ah I know why it

334
00:16:57,528 --> 00:17:01,519
worked so this intersection we were

335
00:16:59,839 --> 00:17:03,860
doing it right before this intersection

336
00:17:01,519 --> 00:17:06,230
does the intersection one of the axes

337
00:17:03,860 --> 00:17:08,209
will not intersect that's the one where

338
00:17:06,230 --> 00:17:10,730
they abut right and so what we were

339
00:17:08,209 --> 00:17:13,850
doing before is we then broaden that

340
00:17:10,730 --> 00:17:15,139
notion here right we took that place

341
00:17:13,849 --> 00:17:19,369
where they wouldn't have overlapped and

342
00:17:15,138 --> 00:17:21,109
we made we gave it some volume there so

343
00:17:19,369 --> 00:17:24,648
never mind it makes perfect sense

344
00:17:21,109 --> 00:17:26,838
I don't yeah I don't know why I didn't

345
00:17:24,648 --> 00:17:29,418
remember that we did this correctly

346
00:17:26,838 --> 00:17:31,638
actually so this intersection will

347
00:17:29,419 --> 00:17:34,070
produce no actual intersected volume but

348
00:17:31,638 --> 00:17:36,019
it will produce the correct bounds for

349
00:17:34,069 --> 00:17:37,129
that non intersection right it'll

350
00:17:36,019 --> 00:17:41,089
basically prove

351
00:17:37,130 --> 00:17:43,760
a zero volume rectangle right at the

352
00:17:41,089 --> 00:17:46,220
aperture between the two rooms so all we

353
00:17:43,759 --> 00:17:50,359
have to do is expand that one in either

354
00:17:46,220 --> 00:17:52,670
direction in order to make the room we

355
00:17:50,359 --> 00:17:54,979
want now the axis that it's going to use

356
00:17:52,670 --> 00:17:58,100
again the edge access is the one running

357
00:17:54,980 --> 00:17:59,809
in the direction we actually placed the

358
00:17:58,099 --> 00:18:02,059
rooms along so that's not the one we

359
00:17:59,809 --> 00:18:03,950
want so what we want instead is that

360
00:18:02,059 --> 00:18:05,569
alternate access now we know what the l2

361
00:18:03,950 --> 00:18:07,910
next is we its access a we already

362
00:18:05,569 --> 00:18:10,339
determined what that other actions axis

363
00:18:07,910 --> 00:18:14,570
was right and you can see us placing the

364
00:18:10,339 --> 00:18:18,559
room that sort of abutment there so we

365
00:18:14,569 --> 00:18:21,889
know here we can actually do in this set

366
00:18:18,559 --> 00:18:25,700
up here we can actually take the axis a

367
00:18:21,890 --> 00:18:27,890
and grab out what those two values are

368
00:18:25,700 --> 00:18:29,509
now I don't want to do it this way I

369
00:18:27,890 --> 00:18:31,640
think this was a stupid way to do it

370
00:18:29,509 --> 00:18:35,329
what I want to do instead is I want to

371
00:18:31,640 --> 00:18:37,700
just take the door and I want to take

372
00:18:35,329 --> 00:18:40,939
its minimum access because what I know

373
00:18:37,700 --> 00:18:42,710
about that is that's actually right at

374
00:18:40,940 --> 00:18:45,470
the aperture the min and the max will be

375
00:18:42,710 --> 00:18:48,740
set counter to each other so the max

376
00:18:45,470 --> 00:18:51,440
will be like one smaller and the min in

377
00:18:48,740 --> 00:18:57,380
fact we can actually just look at this

378
00:18:51,440 --> 00:18:57,950
directly just you can see what I'm

379
00:18:57,380 --> 00:18:59,780
talking about

380
00:18:57,950 --> 00:19:01,400
after this intersection takes place I

381
00:18:59,779 --> 00:19:02,960
just want to show you what I mean

382
00:19:01,400 --> 00:19:05,330
because I'm saying a lot of things here

383
00:19:02,960 --> 00:19:07,579
and you know they're pseudo clear in my

384
00:19:05,329 --> 00:19:08,809
head but they might not be in your head

385
00:19:07,579 --> 00:19:10,730
I say pseudo clear because I messed it

386
00:19:08,809 --> 00:19:12,079
up the first time so obviously I did not

387
00:19:10,730 --> 00:19:14,870
remember how we were actually doing this

388
00:19:12,079 --> 00:19:18,859
so clear may be a bit of a exaggeration

389
00:19:14,869 --> 00:19:20,209
all right so if I go ahead and just

390
00:19:18,859 --> 00:19:22,669
write this code here so you can look at

391
00:19:20,210 --> 00:19:25,670
what I mean when we get these min min

392
00:19:22,670 --> 00:19:28,009
door max door things out here I just got

393
00:19:25,670 --> 00:19:29,870
out what that axis was that's not

394
00:19:28,009 --> 00:19:31,220
actually being laid out I'm gonna go

395
00:19:29,869 --> 00:19:37,609
ahead and step into here this is what

396
00:19:31,220 --> 00:19:39,200
place room is a long edge so if we come

397
00:19:37,609 --> 00:19:41,719
to to place rooms a long edge and we

398
00:19:39,200 --> 00:19:44,330
kind of hop through here what we can see

399
00:19:41,720 --> 00:19:46,279
is that I need to compile debug mode or

400
00:19:44,329 --> 00:19:49,189
probably Visual Studio will have no idea

401
00:19:46,279 --> 00:19:50,269
where those values are where are they I

402
00:19:49,190 --> 00:19:53,660
don't

403
00:19:50,269 --> 00:19:55,670
I'll never know I can't possibly find

404
00:19:53,660 --> 00:19:59,360
them since Visual Studio alright so

405
00:19:55,670 --> 00:20:01,550
coming here and I look at my two values

406
00:19:59,359 --> 00:20:03,740
along that axis and what I should see is

407
00:20:01,549 --> 00:20:06,139
like I said they're just one past each

408
00:20:03,740 --> 00:20:07,819
other right so that's the way that the

409
00:20:06,140 --> 00:20:11,330
intersection tells us there is no

410
00:20:07,819 --> 00:20:13,220
overlap right there right at the edge so

411
00:20:11,329 --> 00:20:15,980
the men of this door in the max apt or

412
00:20:13,220 --> 00:20:19,130
if they were if they both were zero then

413
00:20:15,980 --> 00:20:23,349
it would be one long right along zero it

414
00:20:19,130 --> 00:20:25,670
would be one long but it's not

415
00:20:23,349 --> 00:20:28,099
overlapping so that's why it's zero

416
00:20:25,670 --> 00:20:31,550
negative one right so all we really need

417
00:20:28,099 --> 00:20:33,949
to do here is just flip these right we

418
00:20:31,549 --> 00:20:35,539
just need to switch which ones we're

419
00:20:33,950 --> 00:20:38,090
thinking about here so we can basically

420
00:20:35,539 --> 00:20:40,549
say okay if the min door that was the

421
00:20:38,089 --> 00:20:43,490
lowest value that was actually being

422
00:20:40,549 --> 00:20:45,349
included there so we can do like the min

423
00:20:43,490 --> 00:20:48,289
door and the min door plus one would

424
00:20:45,349 --> 00:20:49,549
give us a two wide aperture now I have

425
00:20:48,289 --> 00:20:52,119
to think about how the intersection code

426
00:20:49,549 --> 00:20:54,680
works to see which one of those we want

427
00:20:52,119 --> 00:20:57,889
but either we use the min door or the

428
00:20:54,680 --> 00:21:01,250
max door let me let's let's take a look

429
00:20:57,890 --> 00:21:04,310
at which one we want right here's the

430
00:21:01,250 --> 00:21:06,680
room ball here's the base Rimbaud so

431
00:21:04,309 --> 00:21:09,019
we're coming from the base room and

432
00:21:06,680 --> 00:21:12,549
which axis are we talking about which

433
00:21:09,019 --> 00:21:19,099
one did was it placing on this time oops

434
00:21:12,549 --> 00:21:23,089
why so look 8 y we have 0 2 7 on the

435
00:21:19,099 --> 00:21:26,539
base room and negative 16 2 negative 1

436
00:21:23,089 --> 00:21:28,879
right so we want negative 1 to 0 okay so

437
00:21:26,539 --> 00:21:30,589
what we want to do is we want to say we

438
00:21:28,880 --> 00:21:32,390
just want to use the max to the min so

439
00:21:30,589 --> 00:21:33,919
we just want to flip them right that's

440
00:21:32,390 --> 00:21:35,360
all we need to do we just need to flip

441
00:21:33,920 --> 00:21:38,930
them and then we've covered the the

442
00:21:35,359 --> 00:21:40,189
swath right and that's all we need to do

443
00:21:38,930 --> 00:21:42,860
so if I come in here to the world

444
00:21:40,190 --> 00:21:45,070
gencode and just do that what I just

445
00:21:42,859 --> 00:21:45,069
said

446
00:21:49,380 --> 00:21:57,400
we're just say okay the min becomes the

447
00:21:53,230 --> 00:22:02,288
max the max becomes the min for now that

448
00:21:57,400 --> 00:22:07,059
should be sufficient now we should be

449
00:22:02,288 --> 00:22:11,079
placing doors down like right in in the

450
00:22:07,058 --> 00:22:13,298
area where rooms overlap right and and

451
00:22:11,079 --> 00:22:15,129
that's what we want so now when I look

452
00:22:13,298 --> 00:22:17,829
at it we have one more thing to do

453
00:22:15,130 --> 00:22:20,530
right we're almost there but what you

454
00:22:17,829 --> 00:22:22,689
can see is I don't think we're we didn't

455
00:22:20,529 --> 00:22:25,839
switch the door placement code because

456
00:22:22,690 --> 00:22:28,690
remember we made a change to a big

457
00:22:25,839 --> 00:22:31,119
change last time last episode where we

458
00:22:28,690 --> 00:22:33,308
switched to doing inclusive bounds I

459
00:22:31,119 --> 00:22:36,519
don't think we ever changed this

460
00:22:33,308 --> 00:22:37,779
gentleman right here so I don't know if

461
00:22:36,519 --> 00:22:40,538
we did if we didn't so we'll have to see

462
00:22:37,779 --> 00:22:44,529
but it looks like even though this think

463
00:22:40,538 --> 00:22:47,740
clearly net oh nope maybe we did I typed

464
00:22:44,529 --> 00:22:50,319
it in wrong typo so either we either

465
00:22:47,740 --> 00:22:52,269
this will then work or we still have to

466
00:22:50,319 --> 00:22:54,970
go update is in volume to handle it so

467
00:22:52,269 --> 00:22:57,190
we'll see which one it is alright so it

468
00:22:54,970 --> 00:23:00,308
was just a typo so we must have updated

469
00:22:57,190 --> 00:23:02,890
is in volume last time as well right so

470
00:23:00,308 --> 00:23:05,829
if I go ahead and switch the build there

471
00:23:02,890 --> 00:23:10,419
to optimized I can go ahead and hop

472
00:23:05,829 --> 00:23:11,918
around now and and go through the

473
00:23:10,419 --> 00:23:15,340
various rooms so if I want to come out

474
00:23:11,919 --> 00:23:18,309
here this is the hallway write this out

475
00:23:15,339 --> 00:23:20,500
back this would be the garden and now

476
00:23:18,308 --> 00:23:21,668
would be a good time to to start looking

477
00:23:20,500 --> 00:23:22,839
at that camera code remember I said one

478
00:23:21,669 --> 00:23:24,070
of the reason I want to do this so we

479
00:23:22,839 --> 00:23:26,019
can start work on the camera code you

480
00:23:24,069 --> 00:23:28,538
can see now the camera code is should it

481
00:23:26,019 --> 00:23:29,679
should be zooming out right so we want

482
00:23:28,538 --> 00:23:31,990
to start working on that code so we can

483
00:23:29,679 --> 00:23:33,429
we can do that properly so we come up

484
00:23:31,990 --> 00:23:38,769
here we can go to this other hallway

485
00:23:33,429 --> 00:23:40,030
that we made right and and yeah so you

486
00:23:38,769 --> 00:23:42,069
can see now this is doing essentially

487
00:23:40,029 --> 00:23:43,808
exactly what I wanted the camera and the

488
00:23:42,069 --> 00:23:45,490
lighting are up you know you can see how

489
00:23:43,808 --> 00:23:47,200
they're off they're not doing the right

490
00:23:45,490 --> 00:23:49,990
things and that's why I wanted to get

491
00:23:47,200 --> 00:23:51,610
these maps working so now we can once we

492
00:23:49,990 --> 00:23:53,769
sort of are a little bit further along

493
00:23:51,609 --> 00:23:55,418
with the map building we can go just

494
00:23:53,769 --> 00:23:58,119
make the lighting so it properly

495
00:23:55,419 --> 00:24:00,009
encompasses the visible area and make

496
00:23:58,119 --> 00:24:01,619
the camera so it properly zooms to

497
00:24:00,009 --> 00:24:03,240
whichever part of a room we're trying

498
00:24:01,619 --> 00:24:05,428
do you can also see there's like a bit

499
00:24:03,240 --> 00:24:07,769
of a confusion right there the camera

500
00:24:05,429 --> 00:24:11,730
can't decide right because we're right

501
00:24:07,769 --> 00:24:13,679
on the edge you can actually see that we

502
00:24:11,730 --> 00:24:15,690
need to adjust those volumes a little

503
00:24:13,679 --> 00:24:17,278
bit right because the camera can't

504
00:24:15,690 --> 00:24:18,990
decide where to be at that point and you

505
00:24:17,278 --> 00:24:20,429
get that bug so you can see this is

506
00:24:18,990 --> 00:24:22,349
doing it is basically doing exactly what

507
00:24:20,429 --> 00:24:24,990
I wanted right as this starts to come

508
00:24:22,349 --> 00:24:26,490
together we can start to finalize those

509
00:24:24,990 --> 00:24:28,019
various systems that we're talking about

510
00:24:26,490 --> 00:24:29,609
but we're in the middle of the

511
00:24:28,019 --> 00:24:31,139
generation code right now I say we push

512
00:24:29,609 --> 00:24:32,579
a little bit further on that because we

513
00:24:31,140 --> 00:24:34,799
don't need to play the game right now we

514
00:24:32,579 --> 00:24:36,720
can build little worlds and not actually

515
00:24:34,798 --> 00:24:38,359
have be able to have like the lighting

516
00:24:36,720 --> 00:24:40,288
work properly and that's fine right

517
00:24:38,359 --> 00:24:41,939
although we probably will need a way to

518
00:24:40,288 --> 00:24:44,220
zoom around a little bit more quickly so

519
00:24:41,940 --> 00:24:46,980
we can look at other things here but

520
00:24:44,220 --> 00:24:48,929
that's sort of a separate issue so we'll

521
00:24:46,980 --> 00:24:51,569
have to adjust our zoom out zoom ins

522
00:24:48,929 --> 00:24:53,759
about camera code so we can get a little

523
00:24:51,569 --> 00:24:58,139
bit better sense of that in the meantime

524
00:24:53,759 --> 00:25:00,269
anyway so if we keep going on this what

525
00:24:58,140 --> 00:25:01,950
we want to do now is say well okay yeah

526
00:25:00,269 --> 00:25:04,048
that's nice but that's not how we

527
00:25:01,950 --> 00:25:05,730
actually probably want doors to be we

528
00:25:04,048 --> 00:25:08,190
don't want doors to be the entire

529
00:25:05,730 --> 00:25:10,319
aperture of where two rooms intersect we

530
00:25:08,190 --> 00:25:12,120
want to maybe just use like the center

531
00:25:10,319 --> 00:25:15,079
one so you're hopping out through a one

532
00:25:12,119 --> 00:25:18,359
wide door the way you might expect a

533
00:25:15,079 --> 00:25:19,648
regular that you know game to be right

534
00:25:18,359 --> 00:25:22,769
you know something a little bit more

535
00:25:19,648 --> 00:25:26,009
like what you would expect at the moment

536
00:25:22,769 --> 00:25:27,509
for from a standard game so in order to

537
00:25:26,009 --> 00:25:35,278
do that what we want to do is make those

538
00:25:27,509 --> 00:25:37,230
room setups should be right here what we

539
00:25:35,278 --> 00:25:41,308
want to do here is make this so that in

540
00:25:37,230 --> 00:25:43,110
addition to setting the min and Max to

541
00:25:41,308 --> 00:25:45,089
encompass the to wide swath where they

542
00:25:43,109 --> 00:25:48,089
were they we want the rooms to connect

543
00:25:45,089 --> 00:25:50,398
we need to adjust the edge axis now so

544
00:25:48,089 --> 00:25:52,470
that edge access is too wide as the

545
00:25:50,398 --> 00:25:55,349
problem we're using the entire length of

546
00:25:52,470 --> 00:25:57,899
the rooms where we're using the entirety

547
00:25:55,349 --> 00:25:59,609
of where the two rooms overlap to

548
00:25:57,898 --> 00:26:01,319
produce that value and we don't really

549
00:25:59,609 --> 00:26:03,028
want to do that right what we'd rather

550
00:26:01,319 --> 00:26:04,859
do is just take like say the center one

551
00:26:03,028 --> 00:26:09,509
so in order to do that what we could do

552
00:26:04,859 --> 00:26:12,529
is say you know door edge equals the

553
00:26:09,509 --> 00:26:15,450
centroids so we could say like you know

554
00:26:12,529 --> 00:26:19,319
oops the doors

555
00:26:15,450 --> 00:26:22,500
min of the edge access plus the doors

556
00:26:19,319 --> 00:26:24,629
max of the edge access / - right so the

557
00:26:22,500 --> 00:26:26,339
mid the midpoint would be where the door

558
00:26:24,630 --> 00:26:31,290
would start and then what we can do is

559
00:26:26,339 --> 00:26:34,980
reset these so like the edge access this

560
00:26:31,289 --> 00:26:36,808
min will be the drawer edge and the max

561
00:26:34,980 --> 00:26:39,539
will also be the door edge so we just

562
00:26:36,808 --> 00:26:42,269
get a one wide door running down the

563
00:26:39,539 --> 00:26:44,250
middle of where they overlap and if they

564
00:26:42,269 --> 00:26:45,420
if there's not an even point in the

565
00:26:44,250 --> 00:26:47,160
middle of just pick one of the other

566
00:26:45,420 --> 00:26:50,519
right it'll pick the lesser of the two

567
00:26:47,160 --> 00:26:52,350
so you know if it's not if it's not an

568
00:26:50,519 --> 00:26:55,319
odd number of tiles it can't be right in

569
00:26:52,349 --> 00:26:57,808
the middle it'll just pick something to

570
00:26:55,319 --> 00:26:59,159
either side and that's fine right um so

571
00:26:57,808 --> 00:27:01,710
now you can see what happens when we've

572
00:26:59,160 --> 00:27:04,048
just got one wide doors in here right

573
00:27:01,710 --> 00:27:05,759
and so when we hop through here now

574
00:27:04,048 --> 00:27:07,980
we've got what would you know sort of be

575
00:27:05,759 --> 00:27:10,769
more traditionally thought of as a door

576
00:27:07,980 --> 00:27:14,190
to a room right so there's a single one

577
00:27:10,769 --> 00:27:16,650
one wide thing and we hop through it and

578
00:27:14,190 --> 00:27:18,330
that's what we get right now one of the

579
00:27:16,650 --> 00:27:21,090
things that I'm noticing too while I'm

580
00:27:18,329 --> 00:27:23,579
looking at this is the eccentricity of

581
00:27:21,089 --> 00:27:26,609
that perspective projection is maybe a

582
00:27:23,579 --> 00:27:30,149
little bit high I like having that

583
00:27:26,609 --> 00:27:31,740
perspective feel to the game it's kind

584
00:27:30,150 --> 00:27:33,360
of nice and it gives it a little bit of

585
00:27:31,740 --> 00:27:36,960
an additional Flair than a normal 2d

586
00:27:33,359 --> 00:27:39,629
game doesn't have but it may be a little

587
00:27:36,960 --> 00:27:40,769
bit much because it starts to become and

588
00:27:39,630 --> 00:27:43,010
I'll show you what was making me think

589
00:27:40,769 --> 00:27:46,259
that it starts to become a little bit

590
00:27:43,009 --> 00:27:48,660
problematic in cases like this where

591
00:27:46,259 --> 00:27:52,140
like that door is very hard to see here

592
00:27:48,660 --> 00:27:55,710
right so in terms of where we set up our

593
00:27:52,140 --> 00:27:57,270
perspective projection there we may want

594
00:27:55,710 --> 00:28:00,120
to go ahead and tune that down a little

595
00:27:57,269 --> 00:28:02,160
bit so what I'm talking about is you

596
00:28:00,119 --> 00:28:05,099
know I believe that's over in world mode

597
00:28:02,160 --> 00:28:07,669
where we set up the camera we've got

598
00:28:05,099 --> 00:28:10,980
sort of a particular opinion about that

599
00:28:07,669 --> 00:28:14,280
focal length right and you can see here

600
00:28:10,980 --> 00:28:18,319
we've got that set up that we're saying

601
00:28:14,279 --> 00:28:18,319
something particularly specific about

602
00:28:18,529 --> 00:28:22,950
and if I was to change what that focal

603
00:28:21,089 --> 00:28:25,529
length is that that would be something

604
00:28:22,950 --> 00:28:28,200
that we might want to be more specific

605
00:28:25,529 --> 00:28:29,109
about so here you can see a set it for

606
00:28:28,200 --> 00:28:40,058
the cuts

607
00:28:29,109 --> 00:28:53,829
I'm not sure where we set it for I'm not

608
00:28:40,058 --> 00:29:08,589
sure where we set it otherwise looks

609
00:28:53,829 --> 00:29:14,009
like right here so it looks like we're

610
00:29:08,589 --> 00:29:16,599
just setting it to that right um so if I

611
00:29:14,009 --> 00:29:19,629
look at what we're looking at here I

612
00:29:16,599 --> 00:29:21,699
don't know where are we here it's active

613
00:29:19,630 --> 00:29:27,250
MSP I don't know if we can just change

614
00:29:21,700 --> 00:29:29,200
this value yeah we can um so it may be

615
00:29:27,250 --> 00:29:31,419
that we can just go ahead and change

616
00:29:29,200 --> 00:29:35,019
this value and then set the camera to be

617
00:29:31,419 --> 00:29:39,730
closer down so you know if we take a

618
00:29:35,019 --> 00:29:41,408
focal length and and change it to some

619
00:29:39,730 --> 00:29:45,630
different values we will get different

620
00:29:41,409 --> 00:29:45,630
amounts of eccentricity when we zoom in

621
00:29:48,329 --> 00:29:55,389
so maybe we want to just zoom out the

622
00:29:51,759 --> 00:29:58,450
camera a little bit from here let me go

623
00:29:55,390 --> 00:30:00,900
ahead and see about that so distance

624
00:29:58,450 --> 00:30:00,900
above

625
00:30:10,490 --> 00:30:31,859
so focus on room looks like it's not

626
00:30:24,000 --> 00:30:34,349
even used at the moment so if we take a

627
00:30:31,859 --> 00:30:40,319
look at how far above the camera we're

628
00:30:34,349 --> 00:30:44,519
placing I'm sorry how far above the

629
00:30:40,319 --> 00:30:47,638
target replacing what you can sort of

630
00:30:44,519 --> 00:30:55,919
see here about how we do that is there's

631
00:30:47,638 --> 00:30:57,509
a certain degree of of manhandling that

632
00:30:55,919 --> 00:30:59,130
we allowed to be done to the camera here

633
00:30:57,509 --> 00:31:03,019
right so you could set the camera to

634
00:30:59,130 --> 00:31:03,019
special locations that you want to be

635
00:31:04,730 --> 00:31:13,380
and I think it generally just sets the

636
00:31:07,288 --> 00:31:15,269
target and then the target offset Z it

637
00:31:13,380 --> 00:31:16,950
looks like it was just hard coded to 8

638
00:31:15,269 --> 00:31:18,990
right again

639
00:31:16,950 --> 00:31:22,470
like I said this code so if I set that

640
00:31:18,990 --> 00:31:28,409
to 4 we should zoom in right yeah so let

641
00:31:22,470 --> 00:31:31,019
me set it to something higher right so

642
00:31:28,409 --> 00:31:32,760
what you can see based on what I did

643
00:31:31,019 --> 00:31:34,859
there and and we've got some other

644
00:31:32,759 --> 00:31:36,990
things we'd have to fix like the fog

645
00:31:34,859 --> 00:31:38,819
distances and stuff like that but what

646
00:31:36,990 --> 00:31:42,240
you can see what I did there do you see

647
00:31:38,819 --> 00:31:47,720
how it reduces the eccentricity of like

648
00:31:42,240 --> 00:31:51,630
I can now see that door more clearly

649
00:31:47,720 --> 00:31:53,970
because of how the focal length changes

650
00:31:51,630 --> 00:31:56,909
how much perspective there is at in any

651
00:31:53,970 --> 00:31:59,190
given piece right so when you set it

652
00:31:56,909 --> 00:32:02,820
like this you end up setting that

653
00:31:59,190 --> 00:32:06,090
eccentricity down quite a bit compared

654
00:32:02,819 --> 00:32:07,500
to what it would have been with with a

655
00:32:06,089 --> 00:32:10,048
different focal length the focal length

656
00:32:07,500 --> 00:32:15,148
of the lens it basically controls that

657
00:32:10,048 --> 00:32:18,628
eccentricity to a large extent right and

658
00:32:15,148 --> 00:32:19,939
so that's something that that we want to

659
00:32:18,628 --> 00:32:21,980
sort of be aware of

660
00:32:19,940 --> 00:32:24,259
and I don't know maybe I tuned it down a

661
00:32:21,980 --> 00:32:26,180
little bit too much maybe I didn't I

662
00:32:24,259 --> 00:32:28,970
don't know I want this game to be fairly

663
00:32:26,180 --> 00:32:30,680
top-down because I want you to be able

664
00:32:28,970 --> 00:32:32,329
to see pretty clearly what you're

665
00:32:30,680 --> 00:32:36,799
hitting and what you're not one of my

666
00:32:32,329 --> 00:32:40,129
big complaints actually with Binding of

667
00:32:36,799 --> 00:32:42,230
Isaac a game which I quite like a lot is

668
00:32:40,130 --> 00:32:46,490
just it's kind of hard to see what your

669
00:32:42,230 --> 00:32:49,549
bullets hit because it's so up and down

670
00:32:46,490 --> 00:32:51,950
I'm so so lateral in terms of the way

671
00:32:49,549 --> 00:32:53,329
that it draws the characters that your

672
00:32:51,950 --> 00:32:57,350
brain gets a little confused sometimes

673
00:32:53,329 --> 00:32:59,119
about that I find and so that's kind of

674
00:32:57,349 --> 00:33:01,899
something that I was hoping to maybe get

675
00:32:59,119 --> 00:33:04,699
more towards the hotline Miami

676
00:33:01,900 --> 00:33:07,519
perspective right which is straight

677
00:33:04,700 --> 00:33:09,680
top-down so I want to kind of have a bit

678
00:33:07,519 --> 00:33:11,269
of a mix between those two I want to try

679
00:33:09,680 --> 00:33:14,660
and find a happy medium between those

680
00:33:11,269 --> 00:33:16,180
two again not super care I don't super

681
00:33:14,660 --> 00:33:19,850
care about that that much because I am

682
00:33:16,180 --> 00:33:21,590
NOT a game designer so you know that's

683
00:33:19,849 --> 00:33:23,209
more of a game designers argument to

684
00:33:21,589 --> 00:33:25,519
have I'm just talking about my personal

685
00:33:23,210 --> 00:33:26,660
preference there and I think that would

686
00:33:25,519 --> 00:33:30,379
be better right

687
00:33:26,660 --> 00:33:32,779
for what I what I was wanted to see so

688
00:33:30,380 --> 00:33:36,050
that's that's all I'm talking about so

689
00:33:32,779 --> 00:33:37,970
here we now have pretty much everything

690
00:33:36,049 --> 00:33:40,190
working the way that I would expect I do

691
00:33:37,970 --> 00:33:41,930
think that eccentricity is good dial

692
00:33:40,190 --> 00:33:44,539
down a little bit so I think I will

693
00:33:41,930 --> 00:33:47,210
leave it that way for now just dialing

694
00:33:44,539 --> 00:33:50,119
it down again just that little bit and

695
00:33:47,210 --> 00:33:55,009
now we've got room layout code that

696
00:33:50,119 --> 00:33:57,049
works so what we can do too is we can we

697
00:33:55,009 --> 00:33:59,299
can't expand on this now to produce a

698
00:33:57,049 --> 00:34:01,700
fairly large world if we wanted to write

699
00:33:59,299 --> 00:34:04,930
like even just right off the bat we

700
00:34:01,700 --> 00:34:08,150
could just generate an entirely you know

701
00:34:04,930 --> 00:34:08,389
a dungeon area and all that kind of

702
00:34:08,150 --> 00:34:11,210
stuff

703
00:34:08,389 --> 00:34:12,949
so maybe we can go ahead and do that and

704
00:34:11,210 --> 00:34:14,690
play around that a little bit and then

705
00:34:12,949 --> 00:34:18,349
what I want to do is start looking at

706
00:34:14,690 --> 00:34:21,110
how we want to do more complex

707
00:34:18,349 --> 00:34:23,809
replacement right and we can choose how

708
00:34:21,110 --> 00:34:24,829
we want to do this like I saying it's

709
00:34:23,809 --> 00:34:26,418
interesting that the camera doesn't

710
00:34:24,829 --> 00:34:27,860
doesn't move there did you notice that

711
00:34:26,418 --> 00:34:30,699
like you can't hop back through this

712
00:34:27,860 --> 00:34:33,220
this thing yeah

713
00:34:30,699 --> 00:34:35,500
so camera really wants Cochran so I'm a

714
00:34:33,219 --> 00:34:37,480
ping back to the camera lighting stuff

715
00:34:35,500 --> 00:34:39,969
first and get it to a place where it's a

716
00:34:37,480 --> 00:34:42,068
little bit more playable to explore and

717
00:34:39,969 --> 00:34:45,489
maybe we want to put some of the

718
00:34:42,068 --> 00:34:46,838
graphics into at that point so we can

719
00:34:45,489 --> 00:34:48,789
differentiate our rooms a little bit

720
00:34:46,838 --> 00:34:50,469
better things like that so you know at

721
00:34:48,789 --> 00:34:52,568
this point I'm not gonna promise about

722
00:34:50,469 --> 00:34:54,009
any sort of order we're doing things and

723
00:34:52,568 --> 00:34:55,869
I might bounce around quite a bit

724
00:34:54,010 --> 00:34:59,049
because I just want to bring things up

725
00:34:55,869 --> 00:35:03,240
to a playable state and how we do that

726
00:34:59,048 --> 00:35:05,798
is really usually best left up to

727
00:35:03,239 --> 00:35:08,409
intuition right whatever seems to be the

728
00:35:05,798 --> 00:35:11,400
most annoying thing at that time is

729
00:35:08,409 --> 00:35:16,949
usually the best thing to focus on right

730
00:35:11,400 --> 00:35:20,200
so yeah I think we kind of want to move

731
00:35:16,949 --> 00:35:21,669
move intuitively from here at the moment

732
00:35:20,199 --> 00:35:23,048
I'm thinking that I might want to just

733
00:35:21,670 --> 00:35:25,210
generate some more stuff and the other

734
00:35:23,048 --> 00:35:27,699
thing I might want to do is produce some

735
00:35:25,210 --> 00:35:31,119
way that we can view the world more

736
00:35:27,699 --> 00:35:33,699
intelligently than this so right right

737
00:35:31,119 --> 00:35:35,710
now I can't do anything with the debug

738
00:35:33,699 --> 00:35:38,649
camera even to let go look at other

739
00:35:35,710 --> 00:35:42,338
regions of the world and that's kind of

740
00:35:38,650 --> 00:35:47,260
annoying so being able to like click and

741
00:35:42,338 --> 00:35:49,808
teleport somewhere to inspect it or I

742
00:35:47,260 --> 00:35:51,130
don't know what putting in a debug

743
00:35:49,809 --> 00:35:59,048
camera system is probably gonna be

744
00:35:51,130 --> 00:36:07,990
important all right let's keep going

745
00:35:59,048 --> 00:36:13,690
here so if I want to to sort of continue

746
00:36:07,989 --> 00:36:17,558
along this theme in my world gencode now

747
00:36:13,690 --> 00:36:20,470
like I've got an orphanage layout piece

748
00:36:17,559 --> 00:36:23,559
right and what you can see from the

749
00:36:20,469 --> 00:36:25,480
orphanage layout stuff the way I it's

750
00:36:23,559 --> 00:36:27,819
important to sort of mention the reason

751
00:36:25,480 --> 00:36:30,400
I did this way this is a modular

752
00:36:27,818 --> 00:36:34,630
component actually at this point right

753
00:36:30,400 --> 00:36:38,500
so if you wanted multiple orphanages you

754
00:36:34,630 --> 00:36:41,650
just could have them okay and so for

755
00:36:38,500 --> 00:36:43,449
example let's suppose I just want to

756
00:36:41,650 --> 00:36:44,150
show you the power of doing things in

757
00:36:43,449 --> 00:36:46,848
this in this

758
00:36:44,150 --> 00:36:51,139
where I create something and then it

759
00:36:46,849 --> 00:36:53,298
gets laid out in a secondary pass what I

760
00:36:51,139 --> 00:36:57,798
can now do is say oh you know maybe I

761
00:36:53,298 --> 00:37:01,219
want to orphanages all right so I have

762
00:36:57,798 --> 00:37:04,699
orphanage 1 &amp; 2 well if I if all I did

763
00:37:01,219 --> 00:37:08,480
was that then what's gonna happen is I'm

764
00:37:04,699 --> 00:37:11,000
only gonna get like one of them right so

765
00:37:08,480 --> 00:37:13,010
when I actually lay this out I'm only

766
00:37:11,000 --> 00:37:14,449
gonna get one of these orphanages and

767
00:37:13,010 --> 00:37:16,730
the other orphanage is not going to be

768
00:37:14,449 --> 00:37:19,009
there and furthermore depending on which

769
00:37:16,730 --> 00:37:21,048
one gets laid out the hero room might be

770
00:37:19,010 --> 00:37:24,650
non-existent right which i think is what

771
00:37:21,048 --> 00:37:25,909
probably happened there if that makes

772
00:37:24,650 --> 00:37:27,619
sense so when it goes to place the

773
00:37:25,909 --> 00:37:29,719
camera it's gonna be like a bunkie in

774
00:37:27,619 --> 00:37:37,160
whatever because if you remember the way

775
00:37:29,719 --> 00:37:38,959
that our layout code worked in Gen is it

776
00:37:37,159 --> 00:37:41,210
starts and it crawls out from a room

777
00:37:38,960 --> 00:37:44,119
it's whatever this room first room is

778
00:37:41,210 --> 00:37:45,048
right now you know maybe we want to be

779
00:37:44,119 --> 00:37:55,160
more specific about that

780
00:37:45,048 --> 00:37:57,710
maybe we want to do this so maybe I

781
00:37:55,159 --> 00:37:59,538
wanna do something like this and then I

782
00:37:57,710 --> 00:38:04,940
could at least guarantee it of course we

783
00:37:59,539 --> 00:38:08,180
need to do it here yeah when we actually

784
00:38:04,940 --> 00:38:09,858
do the work here we could pass it in so

785
00:38:08,179 --> 00:38:11,808
we say oh you know what I know I'm gonna

786
00:38:09,858 --> 00:38:13,400
place people in the heros bedroom so

787
00:38:11,809 --> 00:38:16,430
that's where I want you to start laying

788
00:38:13,400 --> 00:38:18,260
out the world right because we know we

789
00:38:16,429 --> 00:38:20,328
want a seed from there and if I did that

790
00:38:18,260 --> 00:38:23,720
then we would always get that room

791
00:38:20,329 --> 00:38:25,490
placed properly right and and off we

792
00:38:23,719 --> 00:38:31,309
would go although that looks like we

793
00:38:25,489 --> 00:38:34,468
placed looks like we placed multiple

794
00:38:31,309 --> 00:38:34,469
[Music]

795
00:38:36,909 --> 00:38:43,000
it's a little bit odd so we're getting

796
00:38:39,980 --> 00:38:43,000
some z-fighting there

797
00:38:48,940 --> 00:38:53,019
did it actually place both of them

798
00:38:52,510 --> 00:38:55,570
somehow

799
00:38:53,019 --> 00:38:58,050
it should not have right cuz the crawler

800
00:38:55,570 --> 00:39:01,300
should not have laid the other one out

801
00:38:58,050 --> 00:39:05,590
hold on a second I'm freaking out right

802
00:39:01,300 --> 00:39:07,030
now it should have had no way to lay out

803
00:39:05,590 --> 00:39:07,660
that first orphanage I wanna make sure

804
00:39:07,030 --> 00:39:10,000
I'm not Oh

805
00:39:07,659 --> 00:39:15,909
so that's just happening why are we

806
00:39:10,000 --> 00:39:19,719
getting why are we getting z-fighting

807
00:39:15,909 --> 00:39:21,940
stuff happening there I think I made do

808
00:39:19,719 --> 00:39:24,549
I have a bug in the did it oh did it

809
00:39:21,940 --> 00:39:27,099
just place the I did nevermind it just

810
00:39:24,550 --> 00:39:32,500
decided to place two rooms on top of

811
00:39:27,099 --> 00:39:35,380
each other there okay so we have a bug

812
00:39:32,500 --> 00:39:36,400
we should address first I'm glad I

813
00:39:35,380 --> 00:39:39,670
looked at that because that's like

814
00:39:36,400 --> 00:39:40,510
that's wrong so we do have one bug you

815
00:39:39,670 --> 00:39:42,070
can notice there should be three

816
00:39:40,510 --> 00:39:43,840
bedrooms there's only two why is that

817
00:39:42,070 --> 00:39:48,220
it's because one of them was already

818
00:39:43,840 --> 00:39:50,380
placed so what we need to do here as

819
00:39:48,219 --> 00:39:53,079
well right because this initial room

820
00:39:50,380 --> 00:39:54,490
just gets seated down and then this room

821
00:39:53,079 --> 00:39:56,199
got placed and then when it went to

822
00:39:54,489 --> 00:39:57,639
place things along this edge it just

823
00:39:56,199 --> 00:40:01,239
started at the top of the edge and it

824
00:39:57,639 --> 00:40:02,829
never checks for overlap right so

825
00:40:01,239 --> 00:40:04,719
another thing we're gonna have to do is

826
00:40:02,829 --> 00:40:06,159
checking for overlap right we need to

827
00:40:04,719 --> 00:40:07,719
figure out whether there's already a

828
00:40:06,159 --> 00:40:15,609
room in a place so that we don't place

829
00:40:07,719 --> 00:40:17,199
another room there so that's something

830
00:40:15,610 --> 00:40:19,920
we need to be able to do to avoid this

831
00:40:17,199 --> 00:40:22,919
so I'm gonna put a to-do in for that as

832
00:40:19,920 --> 00:40:22,920
well

833
00:40:30,429 --> 00:40:34,839
I'll ignore it for now because that's

834
00:40:32,739 --> 00:40:37,209
not gonna affect what I was about to do

835
00:40:34,840 --> 00:40:40,390
either way but I want to be aware of it

836
00:40:37,210 --> 00:40:42,039
so anyway back to our story so if I have

837
00:40:40,389 --> 00:40:45,279
two orphanages well I only get one

838
00:40:42,039 --> 00:40:46,210
orphanage anyway because I only started

839
00:40:45,280 --> 00:40:48,310
laying out at one and they're not

840
00:40:46,210 --> 00:40:50,170
connected but I could just connect these

841
00:40:48,309 --> 00:40:54,070
two right I could just say all right

842
00:40:50,170 --> 00:40:56,019
look you know I know that orphanages

843
00:40:54,070 --> 00:40:58,809
have a forest entrance and a hero

844
00:40:56,019 --> 00:41:02,679
bedroom let me just connect the forest

845
00:40:58,809 --> 00:41:05,170
entrance of one with the hero's bedroom

846
00:41:02,679 --> 00:41:08,289
of the other and I'll say which

847
00:41:05,170 --> 00:41:10,990
direction I want that to go in right

848
00:41:08,289 --> 00:41:12,460
we've got this idea of directions I'll

849
00:41:10,989 --> 00:41:15,489
just say that it's a northbound

850
00:41:12,460 --> 00:41:16,780
connection secure out the top of the

851
00:41:15,489 --> 00:41:18,219
forest entrance and you come in the

852
00:41:16,780 --> 00:41:21,160
bottom of the heroes bedroom of the

853
00:41:18,219 --> 00:41:25,209
other orphanage right I believe we all

854
00:41:21,159 --> 00:41:28,359
said passage in there right yeah so now

855
00:41:25,210 --> 00:41:30,579
if I run this code and I start walking

856
00:41:28,360 --> 00:41:39,640
right what I should find is that when I

857
00:41:30,579 --> 00:41:42,460
get out to the forest path area which is

858
00:41:39,639 --> 00:41:49,409
right here the other orphanage in there

859
00:41:42,460 --> 00:41:49,409
you can see it is just attached right I

860
00:41:49,920 --> 00:41:54,490
really wish I knew why we can't lie it

861
00:41:52,630 --> 00:41:55,450
doesn't detect those sometimes that's

862
00:41:54,489 --> 00:41:57,789
going to be something we're gonna have

863
00:41:55,449 --> 00:42:00,519
to fix sooner rather than later but

864
00:41:57,789 --> 00:42:01,960
anyway point being so I like the the way

865
00:42:00,519 --> 00:42:03,610
that we've set up this system because I

866
00:42:01,960 --> 00:42:05,500
feel like it gives us a really good way

867
00:42:03,610 --> 00:42:07,870
to create pieces that can then just be

868
00:42:05,500 --> 00:42:09,429
thrown together and it means that you

869
00:42:07,869 --> 00:42:11,380
know once we create a thing that

870
00:42:09,429 --> 00:42:13,750
produces a useable like piece of a

871
00:42:11,380 --> 00:42:17,369
dungeon for example we can just call

872
00:42:13,750 --> 00:42:19,719
that right and be done with it

873
00:42:17,369 --> 00:42:21,579
okay that's really weird I don't know

874
00:42:19,719 --> 00:42:26,769
why those changeovers don't seem to

875
00:42:21,579 --> 00:42:28,779
happen properly right like why the

876
00:42:26,769 --> 00:42:31,389
camera thing doesn't seem to think that

877
00:42:28,780 --> 00:42:35,890
that was a point that it needed to to

878
00:42:31,389 --> 00:42:37,599
deal with I have no idea but anyway

879
00:42:35,889 --> 00:42:38,679
that's neither here nor there we'll be

880
00:42:37,599 --> 00:42:41,949
looking at the camera a little bit later

881
00:42:38,679 --> 00:42:43,750
on so anyway I really like that aspect

882
00:42:41,949 --> 00:42:46,149
of it because now you can just like plop

883
00:42:43,750 --> 00:42:49,780
down orphanages as often as you want to

884
00:42:46,150 --> 00:42:52,570
plop them down and you know there's it

885
00:42:49,780 --> 00:42:56,530
just all kind of works I also think I

886
00:42:52,570 --> 00:42:58,269
may want to let me see what happens if I

887
00:42:56,530 --> 00:43:15,580
reduce the size of these rooms to make

888
00:42:58,269 --> 00:43:18,989
them not quite so big it might create

889
00:43:15,579 --> 00:43:18,989
all kinds of problems for us here but

890
00:43:34,320 --> 00:43:50,160
I could also make the default distance

891
00:43:38,099 --> 00:43:55,829
there be a little higher just as a

892
00:43:50,159 --> 00:43:56,819
stopgap so now you may wonder why BQ at

893
00:43:55,829 --> 00:43:58,289
this wall that's because there's

894
00:43:56,820 --> 00:43:59,789
actually two rooms on top of each other

895
00:43:58,289 --> 00:44:01,050
right that's the problem we have one we

896
00:43:59,789 --> 00:44:02,820
can travel through and one we can

897
00:44:01,050 --> 00:44:05,070
thankfully it always picks the one it

898
00:44:02,820 --> 00:44:06,450
can travel through with the can so that

899
00:44:05,070 --> 00:44:09,330
was good but now you can see there's a

900
00:44:06,449 --> 00:44:11,609
second orphanage up here right and we

901
00:44:09,329 --> 00:44:13,799
can you know this can go on all day we

902
00:44:11,610 --> 00:44:15,150
can have as many of those as we want we

903
00:44:13,800 --> 00:44:18,360
can have lots and lots and lots of

904
00:44:15,150 --> 00:44:20,579
orphanages in fact we could try

905
00:44:18,360 --> 00:44:22,829
stressing our rest of our systems out if

906
00:44:20,579 --> 00:44:25,230
we want to just to see what happens by

907
00:44:22,829 --> 00:44:26,460
just making a ton of them right and

908
00:44:25,230 --> 00:44:29,250
again this is the nice part about

909
00:44:26,460 --> 00:44:32,039
procedural stuff it's it's free to do

910
00:44:29,250 --> 00:44:33,510
right there's really no cost to like

911
00:44:32,039 --> 00:44:36,840
stressing the system or testing the

912
00:44:33,510 --> 00:44:40,170
system so one thing I can do is just say

913
00:44:36,840 --> 00:44:50,910
like okay well how many orphanages do

914
00:44:40,170 --> 00:45:00,750
you want we'll just say I don't know

915
00:44:50,909 --> 00:45:07,710
let's try 64 orphanages and then all we

916
00:45:00,750 --> 00:45:10,940
really need to do is just say there's

917
00:45:07,710 --> 00:45:10,940
such a thing as an orphanage

918
00:45:15,670 --> 00:45:27,710
we create one we create I guess a

919
00:45:20,750 --> 00:45:30,889
previous one like so so we basically

920
00:45:27,710 --> 00:45:39,170
just track whichever that one is and we

921
00:45:30,889 --> 00:45:41,119
just do this every time so each time we

922
00:45:39,170 --> 00:45:47,480
create an orphanage we just like tack it

923
00:45:41,119 --> 00:45:52,519
on right and off we go so if I run one

924
00:45:47,480 --> 00:45:54,590
of those in theory we know what happened

925
00:45:52,519 --> 00:46:06,259
there can you tell me what that crash

926
00:45:54,590 --> 00:46:09,200
was Oh hmm all right so our debug system

927
00:46:06,260 --> 00:46:15,760
runs out of space to record the timings

928
00:46:09,199 --> 00:46:19,189
for this which I guess I can understand

929
00:46:15,760 --> 00:46:27,050
looks like add entity to hash let me get

930
00:46:19,190 --> 00:46:30,070
rid of that because we really don't need

931
00:46:27,050 --> 00:46:30,070
to mark that

932
00:46:34,920 --> 00:46:39,099
basically we will run out of space in

933
00:46:37,269 --> 00:46:46,480
our debug log because our debug log is

934
00:46:39,099 --> 00:46:48,069
only so big use chunk space don't really

935
00:46:46,480 --> 00:46:49,449
know why we were timing all these we

936
00:46:48,070 --> 00:46:52,750
must have been looking for something

937
00:46:49,449 --> 00:46:54,549
they don't need to be timed for any

938
00:46:52,750 --> 00:46:56,019
particular reason we must have been

939
00:46:54,550 --> 00:47:08,650
trying to figure out if something why

940
00:46:56,019 --> 00:47:11,860
something was slow ah I see because

941
00:47:08,650 --> 00:47:17,980
there's a ticket mutex in there that's

942
00:47:11,860 --> 00:47:20,490
why for multiple sim regions to work at

943
00:47:17,980 --> 00:47:23,710
the same time that's what that was for

944
00:47:20,489 --> 00:47:29,859
so anyway in theory now we just have

945
00:47:23,710 --> 00:47:33,550
like infinite orphanages going you know

946
00:47:29,860 --> 00:47:36,789
a lot of warfare interests uh and in

947
00:47:33,550 --> 00:47:38,500
theory they all just work right and now

948
00:47:36,789 --> 00:47:39,670
the world is actually quite large so

949
00:47:38,500 --> 00:47:42,489
large that without something

950
00:47:39,670 --> 00:47:44,920
constructive to do in it you would never

951
00:47:42,489 --> 00:47:46,779
walk through it all right if I've sat

952
00:47:44,920 --> 00:47:48,579
here and walked through it all we would

953
00:47:46,780 --> 00:47:52,560
get really really bored and so we can

954
00:47:48,579 --> 00:47:55,509
just keep going on and on and on right

955
00:47:52,559 --> 00:47:56,829
but the point about the programming

956
00:47:55,510 --> 00:47:59,400
aspect of this which is the part that

957
00:47:56,829 --> 00:48:02,170
I'm actually you know trying to show you

958
00:47:59,400 --> 00:48:05,019
is just that once you construct things

959
00:48:02,170 --> 00:48:06,490
out of functional pieces like this and I

960
00:48:05,019 --> 00:48:08,139
mean function should say procedural

961
00:48:06,489 --> 00:48:09,459
pieces not functional I don't mean

962
00:48:08,139 --> 00:48:12,549
functional programming like that kind of

963
00:48:09,460 --> 00:48:14,769
functional but once you construct things

964
00:48:12,550 --> 00:48:16,930
out of procedural pieces like this it's

965
00:48:14,769 --> 00:48:18,730
free to sort of and you have a then

966
00:48:16,929 --> 00:48:20,769
essential routine that then tries to lay

967
00:48:18,730 --> 00:48:22,269
them all out based on what you said you

968
00:48:20,769 --> 00:48:24,570
can just start jamming stuff together

969
00:48:22,269 --> 00:48:27,099
and it works right there's nothing

970
00:48:24,570 --> 00:48:27,940
stopping you then you can just kind of

971
00:48:27,099 --> 00:48:31,480
go nuts with it

972
00:48:27,940 --> 00:48:32,950
right and so now out of just one call

973
00:48:31,480 --> 00:48:34,539
that makes an orphanage we can make

974
00:48:32,949 --> 00:48:35,919
infinite orphanages and you can walk

975
00:48:34,539 --> 00:48:38,889
around them all the time and more

976
00:48:35,920 --> 00:48:41,769
importantly as we add random variability

977
00:48:38,889 --> 00:48:43,690
to our orphanage then each orphanage

978
00:48:41,769 --> 00:48:45,070
would be different right because it's

979
00:48:43,690 --> 00:48:47,050
going to roll different random numbers

980
00:48:45,070 --> 00:48:49,630
for it and this is the back

981
00:48:47,050 --> 00:48:52,480
Buon of making a proper procedural world

982
00:48:49,630 --> 00:48:53,860
is exactly that kind of a system so now

983
00:48:52,480 --> 00:48:56,500
we can start making functions that

984
00:48:53,860 --> 00:48:58,240
generate other things things that we

985
00:48:56,500 --> 00:49:01,210
actually want to make that reflect

986
00:48:58,239 --> 00:49:02,949
gameplay elements in the world and then

987
00:49:01,210 --> 00:49:04,869
those things will just be calls that we

988
00:49:02,949 --> 00:49:06,339
can make when we decide in the world

989
00:49:04,869 --> 00:49:07,839
needs one of those things we just make

990
00:49:06,340 --> 00:49:10,059
the call and connect it up and we're

991
00:49:07,840 --> 00:49:11,620
done right and so that's the kind of

992
00:49:10,059 --> 00:49:13,509
backbone we're looking for and that

993
00:49:11,619 --> 00:49:16,000
should give you an idea of how we want

994
00:49:13,510 --> 00:49:18,220
to proceed as we go through this

995
00:49:16,000 --> 00:49:22,150
procedural generation portion of the

996
00:49:18,219 --> 00:49:27,429
game right okay

997
00:49:22,150 --> 00:49:30,820
uh so moving on if we actually go into

998
00:49:27,429 --> 00:49:33,399
the world gen park here and you'll also

999
00:49:30,820 --> 00:49:36,490
notice how irrelevant the time for that

1000
00:49:33,400 --> 00:49:38,829
was so 64 orphanages we maybe walk

1001
00:49:36,489 --> 00:49:40,929
through three or four of them there so

1002
00:49:38,829 --> 00:49:42,309
in terms of just even if you're walking

1003
00:49:40,929 --> 00:49:45,690
straight through not having to do any

1004
00:49:42,309 --> 00:49:47,889
play or beating any enemies or anything

1005
00:49:45,690 --> 00:49:50,889
you know you're talking about something

1006
00:49:47,889 --> 00:49:52,509
like probably what ten minutes or twenty

1007
00:49:50,889 --> 00:49:55,179
minutes even just a walk from one side

1008
00:49:52,510 --> 00:49:57,340
of the other you can see that it's

1009
00:49:55,179 --> 00:50:01,480
trivial to create arbitrarily large

1010
00:49:57,340 --> 00:50:04,600
things now without costing like there's

1011
00:50:01,480 --> 00:50:07,269
no there was no loading waiting thing

1012
00:50:04,599 --> 00:50:09,880
happening there it's just there right so

1013
00:50:07,269 --> 00:50:11,889
we're not even in danger of costing too

1014
00:50:09,880 --> 00:50:14,500
much time we don't have to put place a

1015
00:50:11,889 --> 00:50:17,049
little like reticulating splines thing

1016
00:50:14,500 --> 00:50:19,360
up on the screen yet either

1017
00:50:17,050 --> 00:50:20,860
we're not in danger that at all even

1018
00:50:19,360 --> 00:50:23,500
creating as much of a world as we

1019
00:50:20,860 --> 00:50:25,630
probably ever will you know I don't know

1020
00:50:23,500 --> 00:50:27,639
how big an individual playthrough of

1021
00:50:25,630 --> 00:50:30,460
handmade hero is going to be but it's

1022
00:50:27,639 --> 00:50:32,710
supposed to be the kind of game where

1023
00:50:30,460 --> 00:50:35,800
you play multiple runs of it not where

1024
00:50:32,710 --> 00:50:37,090
one run takes an infinity of time so

1025
00:50:35,800 --> 00:50:40,060
it's supposed to be more like a binding

1026
00:50:37,090 --> 00:50:41,769
of issac sort of style or spelunky or

1027
00:50:40,059 --> 00:50:42,849
something like that where an individual

1028
00:50:41,769 --> 00:50:44,170
run through the game takes a couple

1029
00:50:42,849 --> 00:50:47,230
hours at most

1030
00:50:44,170 --> 00:50:50,110
so at that whatwhat's what we're seeing

1031
00:50:47,230 --> 00:50:52,780
now you can kind of see hopefully even

1032
00:50:50,110 --> 00:50:57,309
if we crank this number very high we're

1033
00:50:52,780 --> 00:50:58,720
just not in a lot of danger right and

1034
00:50:57,309 --> 00:51:00,548
really the only thing that's giving us

1035
00:50:58,719 --> 00:51:04,058
trouble is

1036
00:51:00,548 --> 00:51:05,619
our the fact that our debug code runs

1037
00:51:04,059 --> 00:51:07,839
out of space to record everything we did

1038
00:51:05,619 --> 00:51:11,068
I'm gonna get rid of that in begin

1039
00:51:07,838 --> 00:51:11,068
ticket mutex there as well

1040
00:51:22,539 --> 00:51:28,029
um so the other thing that I think is

1041
00:51:26,559 --> 00:51:29,559
really good and I think we should pat

1042
00:51:28,030 --> 00:51:31,960
ourselves on the back for this as well

1043
00:51:29,559 --> 00:51:35,130
is you can already see our architecture

1044
00:51:31,960 --> 00:51:37,480
is pre useful at this point as well

1045
00:51:35,130 --> 00:51:40,480
because you can sort of see that we're

1046
00:51:37,480 --> 00:51:42,550
not having any trouble managing the fact

1047
00:51:40,480 --> 00:51:46,780
that the number of entities in the world

1048
00:51:42,550 --> 00:51:49,120
right now is incredibly large right so

1049
00:51:46,780 --> 00:51:51,370
each one of these orphanages is several

1050
00:51:49,119 --> 00:51:54,670
thousand entities because every floor

1051
00:51:51,369 --> 00:51:57,250
tile is an entity right and we've got

1052
00:51:54,670 --> 00:51:59,440
now you know somewhere on the order of

1053
00:51:57,250 --> 00:52:02,800
probably half a million entities in the

1054
00:51:59,440 --> 00:52:05,650
game and nobody cares right the speed is

1055
00:52:02,800 --> 00:52:07,120
totally fine and we could just crank

1056
00:52:05,650 --> 00:52:09,639
that number all day long and it won't

1057
00:52:07,119 --> 00:52:12,250
matter why because we were smart about

1058
00:52:09,639 --> 00:52:14,549
how we set up our worlds so that we only

1059
00:52:12,250 --> 00:52:18,519
consider a portions of them at the time

1060
00:52:14,550 --> 00:52:22,150
and so we don't have to worry about the

1061
00:52:18,519 --> 00:52:23,949
fact that once we start dumping millions

1062
00:52:22,150 --> 00:52:25,360
of entities into the system it doesn't

1063
00:52:23,949 --> 00:52:26,710
roll over and die it's just like fine I

1064
00:52:25,360 --> 00:52:28,210
don't care put as many of these as you

1065
00:52:26,710 --> 00:52:30,789
want if you've got memory to store them

1066
00:52:28,210 --> 00:52:32,559
I'll be happy to use them furthermore we

1067
00:52:30,789 --> 00:52:34,119
actually even made our system even more

1068
00:52:32,559 --> 00:52:35,769
robust than that our system actually

1069
00:52:34,119 --> 00:52:37,389
could support swapped at disk which

1070
00:52:35,769 --> 00:52:39,070
nowadays is irrelevant

1071
00:52:37,389 --> 00:52:40,690
I mean machines have 16 gigabytes of

1072
00:52:39,070 --> 00:52:42,309
memory how much entities you're really

1073
00:52:40,690 --> 00:52:43,869
gonna have right so it's kind of

1074
00:52:42,309 --> 00:52:46,389
irrelevant but it's it's worth noting

1075
00:52:43,869 --> 00:52:48,009
that even before we've even optimized

1076
00:52:46,389 --> 00:52:49,960
our any system at all remember any

1077
00:52:48,010 --> 00:52:52,570
system is this giant fatty thing that

1078
00:52:49,960 --> 00:52:54,880
just and these are huge right we haven't

1079
00:52:52,570 --> 00:52:57,100
even looked at making those efficient in

1080
00:52:54,880 --> 00:52:59,829
any way doesn't matter the system just

1081
00:52:57,099 --> 00:53:03,639
handles it it's it's it's not an issue

1082
00:52:59,829 --> 00:53:06,279
right such that if we were to count how

1083
00:53:03,639 --> 00:53:07,629
many entities we actually have I bet we

1084
00:53:06,280 --> 00:53:09,790
would be surprised at what the number

1085
00:53:07,630 --> 00:53:13,289
was right I don't know how high it is

1086
00:53:09,789 --> 00:53:13,289
but you know let's say we looked at it

1087
00:53:27,840 --> 00:53:36,100
there it is create and see or allocate

1088
00:53:32,219 --> 00:53:38,219
entity ID so if we just looked at

1089
00:53:36,099 --> 00:53:42,730
allocate entity ID what we can see is

1090
00:53:38,219 --> 00:53:44,589
the world has a running counter so if I

1091
00:53:42,730 --> 00:53:48,340
just stop the game in the middle

1092
00:53:44,590 --> 00:53:51,030
somewhere right so here we are and I say

1093
00:53:48,340 --> 00:53:52,780
all right just let's you know let's stop

1094
00:53:51,030 --> 00:53:59,250
here

1095
00:53:52,780 --> 00:54:02,850
then if I come out and just look for

1096
00:53:59,250 --> 00:54:05,469
something that'll have the world in it

1097
00:54:02,849 --> 00:54:08,199
so here's the world node here's the

1098
00:54:05,469 --> 00:54:13,059
world we should in here be able to look

1099
00:54:08,199 --> 00:54:14,710
at what the entity storage ID is you can

1100
00:54:13,059 --> 00:54:16,480
see it here so it's a quarter of a

1101
00:54:14,710 --> 00:54:18,880
million entities in the system right now

1102
00:54:16,480 --> 00:54:24,010
and again it just doesn't care right

1103
00:54:18,880 --> 00:54:25,510
it's it's like a complete non-issue and

1104
00:54:24,010 --> 00:54:28,300
so again I think that's really nice

1105
00:54:25,510 --> 00:54:29,980
like we architected our system well and

1106
00:54:28,300 --> 00:54:31,570
we anticipated some of those needs

1107
00:54:29,980 --> 00:54:33,670
because we knew we want to be a big game

1108
00:54:31,570 --> 00:54:35,019
potentially where could have lots of

1109
00:54:33,670 --> 00:54:36,519
rooms and lots of entities and lots of

1110
00:54:35,019 --> 00:54:39,579
people doing things in the game and

1111
00:54:36,519 --> 00:54:41,590
whatever else so good on us for that we

1112
00:54:39,579 --> 00:54:42,730
now know that's actually true and I'm

1113
00:54:41,590 --> 00:54:45,190
assuming we could crank this number

1114
00:54:42,730 --> 00:54:47,829
fairly high and really not be in that

1115
00:54:45,190 --> 00:54:49,389
much danger I don't know that we need to

1116
00:54:47,829 --> 00:54:53,889
crank it any higher than it is right now

1117
00:54:49,389 --> 00:54:56,589
but we can certainly see what that ends

1118
00:54:53,889 --> 00:54:58,119
up being and I think if we turn off the

1119
00:54:56,590 --> 00:55:00,789
debug system so we don't have to worry

1120
00:54:58,119 --> 00:55:03,400
about that overflowing which again that

1121
00:55:00,789 --> 00:55:05,469
is set up just for debug it's not ever

1122
00:55:03,400 --> 00:55:06,579
summon skyship we could see so if we

1123
00:55:05,469 --> 00:55:09,639
wanted a million entities we'd do

1124
00:55:06,579 --> 00:55:11,230
something like that I think and just see

1125
00:55:09,639 --> 00:55:13,150
whether a million entities costs any

1126
00:55:11,230 --> 00:55:15,429
problems again I don't know whether the

1127
00:55:13,150 --> 00:55:17,920
debug system needs to have some of its

1128
00:55:15,429 --> 00:55:24,009
recording taken out of there it still

1129
00:55:17,920 --> 00:55:25,869
does right and so I don't know how we

1130
00:55:24,010 --> 00:55:27,220
really want to look at that maybe what

1131
00:55:25,869 --> 00:55:29,710
I'll do because I don't really feel like

1132
00:55:27,219 --> 00:55:30,730
taking too much more of that out maybe

1133
00:55:29,710 --> 00:55:34,929
I'll just set

1134
00:55:30,730 --> 00:55:38,320
internal to zero so it just won't they

1135
00:55:34,929 --> 00:55:40,779
just won't look at that anymore debug

1136
00:55:38,320 --> 00:55:45,930
string and HUD timed function look like

1137
00:55:40,780 --> 00:55:48,519
they don't have it looks like we never

1138
00:55:45,929 --> 00:55:53,519
goes in there you just go ahead and add

1139
00:55:48,519 --> 00:56:03,789
those so we want those to go away right

1140
00:55:53,519 --> 00:56:07,989
in this mode because they are no longer

1141
00:56:03,789 --> 00:56:09,489
functional so if I run it without the

1142
00:56:07,989 --> 00:56:12,489
debug system I think we should be fine

1143
00:56:09,489 --> 00:56:13,599
and oh and I guess we get full screen at

1144
00:56:12,489 --> 00:56:15,099
that point as well

1145
00:56:13,599 --> 00:56:18,730
I'm gonna do the exact same thing I did

1146
00:56:15,099 --> 00:56:21,579
before which is I'm gonna look in here

1147
00:56:18,730 --> 00:56:31,570
and see what that what the value is it

1148
00:56:21,579 --> 00:56:35,858
should be something like a million yeah

1149
00:56:31,570 --> 00:56:37,269
uh so I think you know we did what I

1150
00:56:35,858 --> 00:56:39,420
wanted to do when I was showing how to

1151
00:56:37,269 --> 00:56:42,369
build that system which is that even

1152
00:56:39,420 --> 00:56:46,510
though currently our entity system is

1153
00:56:42,369 --> 00:56:48,430
complete nonsense right we have not done

1154
00:56:46,510 --> 00:56:50,440
anything to it I mean look at this thing

1155
00:56:48,429 --> 00:56:54,279
we just stuffed wit every wand in there

1156
00:56:50,440 --> 00:56:56,650
it's got a raise of stuff in here it's

1157
00:56:54,280 --> 00:56:57,609
got the lighting storage for every

1158
00:56:56,650 --> 00:56:59,559
entity in the world

1159
00:56:57,608 --> 00:57:01,599
even people who are nowhere near the

1160
00:56:59,559 --> 00:57:04,650
visible area right we have done nothing

1161
00:57:01,599 --> 00:57:07,809
to this it's huge and unnecessary

1162
00:57:04,650 --> 00:57:10,300
doesn't matter we can still make a ton

1163
00:57:07,809 --> 00:57:12,400
of them because hey computers are fast

1164
00:57:10,300 --> 00:57:14,170
to have lots of memory these days so as

1165
00:57:12,400 --> 00:57:17,619
long as we make a system that only

1166
00:57:14,170 --> 00:57:19,240
considers a small number at a time it's

1167
00:57:17,619 --> 00:57:21,340
free to just have a ton of them that we

1168
00:57:19,239 --> 00:57:25,539
don't see right that we don't deal with

1169
00:57:21,340 --> 00:57:26,829
it just works and so we take a little

1170
00:57:25,539 --> 00:57:28,300
bit of a startup hit here when they're

1171
00:57:26,829 --> 00:57:30,699
all being created when a million of

1172
00:57:28,300 --> 00:57:32,530
these are being made but it's not that

1173
00:57:30,699 --> 00:57:35,409
big of a hit and once we're ready to go

1174
00:57:32,530 --> 00:57:37,869
we're ready to go right and now we can

1175
00:57:35,409 --> 00:57:40,269
walk through a thousand orphanages if or

1176
00:57:37,869 --> 00:57:42,640
if each orphanage takes ten seconds to

1177
00:57:40,269 --> 00:57:43,750
walk through I don't know it probably

1178
00:57:42,639 --> 00:57:44,409
took a little more intense I guess five

1179
00:57:43,750 --> 00:57:46,329
more like 20

1180
00:57:44,409 --> 00:57:49,319
and scoops don't use that use the real

1181
00:57:46,329 --> 00:57:53,739
calculator right if we figure 20 seconds

1182
00:57:49,320 --> 00:57:55,030
times 10,000 24 orphanages so we say

1183
00:57:53,739 --> 00:57:56,409
that's how many minutes that takes

1184
00:57:55,030 --> 00:57:59,230
that's when the hours it takes it would

1185
00:57:56,409 --> 00:58:01,389
take five and a half hours walking from

1186
00:57:59,230 --> 00:58:05,949
end to end to just cover all of those

1187
00:58:01,389 --> 00:58:07,750
right so that to me is a totally

1188
00:58:05,949 --> 00:58:12,219
reasonable proof of concept there it

1189
00:58:07,750 --> 00:58:13,000
just says look we did it right we're

1190
00:58:12,219 --> 00:58:15,129
good to go

1191
00:58:13,000 --> 00:58:17,349
we can make any world we want in this

1192
00:58:15,130 --> 00:58:21,340
thing and it's never gonna roll over and

1193
00:58:17,349 --> 00:58:24,610
die on us so awesome right very very

1194
00:58:21,340 --> 00:58:26,860
good and I think you could probably just

1195
00:58:24,610 --> 00:58:28,000
keep cranking this number on and on and

1196
00:58:26,860 --> 00:58:31,660
on and your startup time would just be

1197
00:58:28,000 --> 00:58:34,389
bad right because then you would at some

1198
00:58:31,659 --> 00:58:38,489
point we that uh noctem eyes entity

1199
00:58:34,389 --> 00:58:42,039
thing is gonna cause a problem right oh

1200
00:58:38,489 --> 00:58:45,429
and our and we do have this weird world

1201
00:58:42,039 --> 00:58:48,639
structure we added here once we add too

1202
00:58:45,429 --> 00:58:51,460
many rooms we didn't actually make that

1203
00:58:48,639 --> 00:58:56,190
that's not a real thing yet so that

1204
00:58:51,460 --> 00:58:57,389
would hold us back right this thing here

1205
00:58:56,190 --> 00:59:00,789
[Music]

1206
00:58:57,389 --> 00:59:02,739
so eventually we don't really want a fix

1207
00:59:00,789 --> 00:59:06,009
two rooms right we want to handle that

1208
00:59:02,739 --> 00:59:07,179
properly but that was just some test

1209
00:59:06,010 --> 00:59:10,210
code we were putting in there so we can

1210
00:59:07,179 --> 00:59:12,849
outline rooms and stuff like that but

1211
00:59:10,210 --> 00:59:14,800
anyway so in theory you know again this

1212
00:59:12,849 --> 00:59:17,380
number just cranks as high as we want

1213
00:59:14,800 --> 00:59:19,390
and probably we just won't have much

1214
00:59:17,380 --> 00:59:21,789
trouble with it I don't know because

1215
00:59:19,389 --> 00:59:25,869
again we never really need to get up to

1216
00:59:21,789 --> 00:59:27,309
this high but just it's fun to play

1217
00:59:25,869 --> 00:59:28,869
around with it and just make sure so we

1218
00:59:27,309 --> 00:59:31,420
can kind of see did we break anything

1219
00:59:28,869 --> 00:59:32,920
did we do anything stupid and it looks

1220
00:59:31,420 --> 00:59:34,000
like the answer is we really didn't like

1221
00:59:32,920 --> 00:59:37,210
it seems like we did it pretty

1222
00:59:34,000 --> 00:59:40,570
reasonably well and if we look at how

1223
00:59:37,210 --> 00:59:42,340
many enemies are in the world now I yeah

1224
00:59:40,570 --> 00:59:45,130
so now we've got four and a half million

1225
00:59:42,340 --> 00:59:49,210
entities in this world and it's just

1226
00:59:45,130 --> 00:59:50,829
fine with that right so I think I think

1227
00:59:49,210 --> 00:59:53,050
that's great I think we did what we

1228
00:59:50,829 --> 00:59:56,440
needed to do and now I think we've got a

1229
00:59:53,050 --> 00:59:57,480
good solid system that we can just keep

1230
00:59:56,440 --> 00:59:58,980
building on and

1231
00:59:57,480 --> 01:00:02,849
it's never gonna it's never going to

1232
00:59:58,980 --> 01:00:04,980
come back and invite us like it would if

1233
01:00:02,849 --> 01:00:07,349
you know if we hadn't thought through

1234
01:00:04,980 --> 01:00:12,530
those things okay so now that we've got

1235
01:00:07,349 --> 01:00:14,849
that sort of testing out of the way I

1236
01:00:12,530 --> 01:00:17,519
don't want to create an infinity of

1237
01:00:14,849 --> 01:00:20,609
orphanages that is nobody's idea of a

1238
01:00:17,519 --> 01:00:24,088
good time so let's just go ahead and and

1239
01:00:20,608 --> 01:00:26,460
get back to the basics here single

1240
01:00:24,088 --> 01:00:29,070
orphanage and instead of creating more

1241
01:00:26,460 --> 01:00:31,608
rooms today which I think we might want

1242
01:00:29,070 --> 01:00:34,740
to do tomorrow I think I'll do that

1243
01:00:31,608 --> 01:00:38,250
we've got about 20 minutes left and I

1244
01:00:34,739 --> 01:00:40,739
would like to address the bug that we

1245
01:00:38,250 --> 01:00:41,969
have or one of them right off the bat

1246
01:00:40,739 --> 01:00:44,338
because it's going to become important

1247
01:00:41,969 --> 01:00:45,779
pretty soon and that is this bug of two

1248
01:00:44,338 --> 01:00:48,420
rooms getting place on top of each other

1249
01:00:45,780 --> 01:00:49,560
right so you can see right here we've

1250
01:00:48,420 --> 01:00:50,519
got two rows placed on top of each other

1251
01:00:49,559 --> 01:00:52,730
that's what does e Fighting's coming

1252
01:00:50,519 --> 01:00:57,300
from there's supposed to be three rooms

1253
01:00:52,730 --> 01:00:58,588
right so there's supposed to be a hot

1254
01:00:57,300 --> 01:01:01,039
second let me get our mouse pointer back

1255
01:00:58,588 --> 01:01:01,039
here

1256
01:01:09,719 --> 01:01:14,879
so there supposed to be three rooms also

1257
01:01:12,989 --> 01:01:21,679
you know it's interesting but we haven't

1258
01:01:14,880 --> 01:01:21,680
looked at the profile here have we yeah

1259
01:01:23,239 --> 01:01:28,829
so out of these rooms we know that we've

1260
01:01:27,329 --> 01:01:30,059
messed up because there's supposed to be

1261
01:01:28,829 --> 01:01:31,349
another hero's bedroom right there

1262
01:01:30,059 --> 01:01:33,329
should have been a third heroes bedroom

1263
01:01:31,349 --> 01:01:34,769
here somewhere it's not there why isn't

1264
01:01:33,329 --> 01:01:37,289
it there what happened well what

1265
01:01:34,769 --> 01:01:40,949
happened was is once we place a hero a

1266
01:01:37,289 --> 01:01:43,110
bedroom there at the outset as our seed

1267
01:01:40,949 --> 01:01:45,719
room and say generate the rest of the

1268
01:01:43,110 --> 01:01:48,210
world from here it then does exactly

1269
01:01:45,719 --> 01:01:49,980
what we told it to do it looks at the

1270
01:01:48,210 --> 01:01:52,740
rooms connected to the hero's bedroom it

1271
01:01:49,980 --> 01:01:55,949
finds one room which is this hallway it

1272
01:01:52,739 --> 01:01:58,379
places that hallway relative to the

1273
01:01:55,949 --> 01:02:00,509
hero's bedroom right so it looks and

1274
01:01:58,380 --> 01:02:02,039
goes okay walk along that edge place

1275
01:02:00,510 --> 01:02:04,080
eros bedroom there's no other things to

1276
01:02:02,039 --> 01:02:06,809
place there so we're done then it goes

1277
01:02:04,079 --> 01:02:08,969
let me place all the rooms connected to

1278
01:02:06,809 --> 01:02:12,509
the hallway which is exactly what we

1279
01:02:08,969 --> 01:02:14,819
want to do right that's fine but then

1280
01:02:12,510 --> 01:02:17,790
immediately after there after it we'll

1281
01:02:14,820 --> 01:02:21,510
look back and go oh there's other rooms

1282
01:02:17,789 --> 01:02:24,719
I haven't placed along this edge right I

1283
01:02:21,510 --> 01:02:26,910
haven't placed like this room so I need

1284
01:02:24,719 --> 01:02:29,489
to place the rooms along the edge of

1285
01:02:26,909 --> 01:02:32,039
this hallway it then starts placing

1286
01:02:29,489 --> 01:02:35,189
those rooms it goes one two three it

1287
01:02:32,039 --> 01:02:37,739
won't move the existing hero's bedroom

1288
01:02:35,190 --> 01:02:39,119
that's placed here right it won't try to

1289
01:02:37,739 --> 01:02:41,189
place that so it's already placed

1290
01:02:39,119 --> 01:02:44,670
it'll only place the other two bedrooms

1291
01:02:41,190 --> 01:02:48,889
and it will place them starting at the

1292
01:02:44,670 --> 01:02:52,289
head end and moving backwards that

1293
01:02:48,889 --> 01:02:53,639
places the second here of bedroom right

1294
01:02:52,289 --> 01:02:56,579
on top of the first one

1295
01:02:53,639 --> 01:02:59,819
why because nothing in that routine ever

1296
01:02:56,579 --> 01:03:02,549
looks to see if there's already room

1297
01:02:59,820 --> 01:03:05,160
there now this would be a problem even

1298
01:03:02,550 --> 01:03:06,900
if we didn't do the ping-pong even if we

1299
01:03:05,159 --> 01:03:09,000
didn't place a room go to a new room and

1300
01:03:06,900 --> 01:03:10,559
then come back and skip that room and

1301
01:03:09,000 --> 01:03:12,030
place two other rooms and happen to

1302
01:03:10,559 --> 01:03:13,440
place over it would be problem in

1303
01:03:12,030 --> 01:03:16,320
general why would be a problem general

1304
01:03:13,440 --> 01:03:18,539
well think about what would happen if

1305
01:03:16,320 --> 01:03:20,640
let's say there were some rooms off of

1306
01:03:18,539 --> 01:03:22,800
this room like a room here and then a

1307
01:03:20,639 --> 01:03:23,449
room here and here and here or something

1308
01:03:22,800 --> 01:03:27,180
that curve

1309
01:03:23,449 --> 01:03:28,980
well that may create a little tail that

1310
01:03:27,179 --> 01:03:31,859
would like intersect the rooms that are

1311
01:03:28,980 --> 01:03:34,380
here and so we would need to know that

1312
01:03:31,860 --> 01:03:35,970
we can't put a room there because

1313
01:03:34,380 --> 01:03:38,880
there's already something there and we

1314
01:03:35,969 --> 01:03:45,329
should try to shift the rooms somewhere

1315
01:03:38,880 --> 01:03:47,039
else right so a very minor modification

1316
01:03:45,329 --> 01:03:49,590
we can make to the strategy to begin

1317
01:03:47,039 --> 01:03:52,559
with to start getting our room placement

1318
01:03:49,590 --> 01:03:55,530
code to be a little bit smarter and do a

1319
01:03:52,559 --> 01:03:57,719
little bit better work is to look at

1320
01:03:55,530 --> 01:03:58,950
what rooms are already there and not put

1321
01:03:57,719 --> 01:04:06,929
something in a place that would

1322
01:03:58,949 --> 01:04:10,230
intersect an existing room all right so

1323
01:04:06,929 --> 01:04:12,059
let's go ahead and try that what I want

1324
01:04:10,230 --> 01:04:16,380
to do is do exactly what I was just

1325
01:04:12,059 --> 01:04:22,170
saying actually I would like to start to

1326
01:04:16,380 --> 01:04:24,750
look at this bit here and I think we

1327
01:04:22,170 --> 01:04:26,550
want to sort of have a two-tiered

1328
01:04:24,750 --> 01:04:27,929
structure here right so we have the

1329
01:04:26,550 --> 01:04:29,490
chunk cash and the chunk cash is a

1330
01:04:27,929 --> 01:04:31,739
really great way of storing all of our

1331
01:04:29,489 --> 01:04:33,929
entities as you just saw it allows us to

1332
01:04:31,739 --> 01:04:34,739
scale to arbitrarily many entities and

1333
01:04:33,929 --> 01:04:37,739
be fine

1334
01:04:34,739 --> 01:04:39,329
so you can plug for a million eight

1335
01:04:37,739 --> 01:04:41,729
billion I don't care how many things you

1336
01:04:39,329 --> 01:04:44,039
put in there eventually you'll run on a

1337
01:04:41,730 --> 01:04:46,889
memory but you won't run out of

1338
01:04:44,039 --> 01:04:50,809
performance because we will just go

1339
01:04:46,889 --> 01:04:50,809
ahead and handle that nice and clean

1340
01:04:52,820 --> 01:04:56,970
however that chunk cache is not

1341
01:04:55,349 --> 01:04:59,849
particularly useful for talking about

1342
01:04:56,969 --> 01:05:01,259
things at room granularity and there are

1343
01:04:59,849 --> 01:05:04,829
times when we want to talk about things

1344
01:05:01,260 --> 01:05:09,750
that room granularity two times one time

1345
01:05:04,829 --> 01:05:12,000
is we want to be able to check for room

1346
01:05:09,750 --> 01:05:14,670
based abutment and collision really

1347
01:05:12,000 --> 01:05:16,409
quickly as part of the room generation

1348
01:05:14,670 --> 01:05:18,300
so that's one thing we want to have in

1349
01:05:16,409 --> 01:05:20,489
there and the other thing we want to

1350
01:05:18,300 --> 01:05:23,519
have in there is we want to have a way

1351
01:05:20,489 --> 01:05:26,699
of being able to show things like a map

1352
01:05:23,519 --> 01:05:28,469
right of the game to the player at

1353
01:05:26,699 --> 01:05:30,329
runtime so not just for our debugging

1354
01:05:28,469 --> 01:05:34,829
person but we may want to have a mini

1355
01:05:30,329 --> 01:05:36,980
map or a world map right because you

1356
01:05:34,829 --> 01:05:36,980
know

1357
01:05:37,079 --> 01:05:42,509
most games like the kind we're talking

1358
01:05:39,570 --> 01:05:45,809
about here Legend of Zelda binding of

1359
01:05:42,510 --> 01:05:48,270
issac these sorts of games tend to now

1360
01:05:45,809 --> 01:05:51,779
have mini maps or world maps that you

1361
01:05:48,269 --> 01:05:54,269
can switch to view and so if we want to

1362
01:05:51,780 --> 01:05:58,590
do something like that it's gonna be

1363
01:05:54,269 --> 01:06:01,650
really expensive if the only way that we

1364
01:05:58,590 --> 01:06:03,510
can produce that map at a high level of

1365
01:06:01,650 --> 01:06:05,400
zoom so like a little where look each

1366
01:06:03,510 --> 01:06:08,400
room is like a little tiny square or

1367
01:06:05,400 --> 01:06:10,380
something it's the only way you can

1368
01:06:08,400 --> 01:06:14,309
produce that map is by looking at all of

1369
01:06:10,380 --> 01:06:17,519
the entities and drawing them all that

1370
01:06:14,309 --> 01:06:22,320
may just be too expensive so a more

1371
01:06:17,519 --> 01:06:23,730
useful potential potentially way to deal

1372
01:06:22,320 --> 01:06:25,800
with that used to have a two tiered

1373
01:06:23,730 --> 01:06:27,240
structure where all of the entities and

1374
01:06:25,800 --> 01:06:28,860
the things that actually affect the

1375
01:06:27,239 --> 01:06:31,319
gameplay they're all in the chunk cache

1376
01:06:28,860 --> 01:06:32,910
but then we also have this separate data

1377
01:06:31,320 --> 01:06:35,070
structure that's just an accelerated

1378
01:06:32,909 --> 01:06:38,099
data structure meant to do nothing other

1379
01:06:35,070 --> 01:06:40,920
than mapping right so that's all it does

1380
01:06:38,099 --> 01:06:44,369
it does not know anything else about

1381
01:06:40,920 --> 01:06:45,780
anything it just has room boundaries so

1382
01:06:44,369 --> 01:06:48,000
that when we want to draw those it's

1383
01:06:45,780 --> 01:06:50,519
very quick and it could even be like

1384
01:06:48,000 --> 01:06:53,969
some hierarchical so that if there's two

1385
01:06:50,519 --> 01:06:55,949
levels of zoom like oh I'm in the

1386
01:06:53,969 --> 01:06:57,509
orphanage so there's an orphanage map

1387
01:06:55,949 --> 01:06:59,099
and I can display that very quickly

1388
01:06:57,510 --> 01:07:00,540
without having to pull in all of the

1389
01:06:59,099 --> 01:07:03,750
orphanage entities to draw the entire

1390
01:07:00,539 --> 01:07:06,029
orphanage that's one level and then

1391
01:07:03,750 --> 01:07:07,949
there's also a level above that where

1392
01:07:06,030 --> 01:07:11,580
the orphanage itself is just one

1393
01:07:07,949 --> 01:07:14,519
boundary right um so if you kind of

1394
01:07:11,579 --> 01:07:16,440
think about how that might go that's

1395
01:07:14,519 --> 01:07:19,590
what we want to start a sort look start

1396
01:07:16,440 --> 01:07:21,800
looking at now and we want to look at

1397
01:07:19,590 --> 01:07:24,390
that from the perspective of both

1398
01:07:21,800 --> 01:07:26,490
generation because we're generating

1399
01:07:24,389 --> 01:07:28,049
things in that way and needing to do

1400
01:07:26,489 --> 01:07:30,059
those queries that generation time to

1401
01:07:28,050 --> 01:07:34,560
find out whether we're overlapping

1402
01:07:30,059 --> 01:07:37,469
something and so on but we also want to

1403
01:07:34,559 --> 01:07:40,619
keep an eye towards how will we display

1404
01:07:37,469 --> 01:07:43,829
this to the player when we need to put

1405
01:07:40,619 --> 01:07:45,869
up something like a map screen and both

1406
01:07:43,829 --> 01:07:47,969
the mini-map kind that hovers in the

1407
01:07:45,869 --> 01:07:50,859
corner we may or may not want that you

1408
01:07:47,969 --> 01:07:53,919
don't know if we do but both back

1409
01:07:50,860 --> 01:07:58,360
and then the kind where we see more of a

1410
01:07:53,920 --> 01:08:00,099
world map like where you're not

1411
01:07:58,360 --> 01:08:02,349
necessarily looking at any particular

1412
01:08:00,099 --> 01:08:09,309
regions rooms there's just a box that

1413
01:08:02,349 --> 01:08:10,079
says orphanage or something right all

1414
01:08:09,309 --> 01:08:20,019
right

1415
01:08:10,079 --> 01:08:24,338
let's let's look at this a little more

1416
01:08:20,020 --> 01:08:26,050
closely here so if I were to imagine

1417
01:08:24,338 --> 01:08:29,109
because I think this is a case where we

1418
01:08:26,050 --> 01:08:33,760
can write the API first because our

1419
01:08:29,109 --> 01:08:35,650
starts the usage code first let's take a

1420
01:08:33,760 --> 01:08:38,130
look at what we want just for this one

1421
01:08:35,649 --> 01:08:40,960
situation which we now know that we have

1422
01:08:38,130 --> 01:08:42,609
and also let's move some of this stuff

1423
01:08:40,960 --> 01:08:43,810
out of here because we now have code

1424
01:08:42,609 --> 01:08:47,890
that we really just don't need to talk

1425
01:08:43,810 --> 01:08:49,180
about anymore like this stuff in here we

1426
01:08:47,890 --> 01:08:51,520
may want to use it for reference a

1427
01:08:49,180 --> 01:09:00,520
little bit later on but I kind of want

1428
01:08:51,520 --> 01:09:02,350
to get it out of my visual field right

1429
01:09:00,520 --> 01:09:05,740
so now I can comment that out and it

1430
01:09:02,350 --> 01:09:07,990
will be grayed out right and I can move

1431
01:09:05,739 --> 01:09:11,050
some of this other stuff down there as

1432
01:09:07,989 --> 01:09:12,399
well because I don't want to look at any

1433
01:09:11,050 --> 01:09:14,770
of this either because this is not

1434
01:09:12,399 --> 01:09:16,929
involved this is the old sort of

1435
01:09:14,770 --> 01:09:19,210
placeholder code we were using to just

1436
01:09:16,930 --> 01:09:22,329
create rooms for when we were trying to

1437
01:09:19,210 --> 01:09:24,609
do the engine right but it wasn't ever

1438
01:09:22,329 --> 01:09:26,170
really intended to be real-world gencode

1439
01:09:24,609 --> 01:09:28,510
but we might want to look at it at some

1440
01:09:26,170 --> 01:09:30,069
point in case we want to see how we did

1441
01:09:28,510 --> 01:09:32,320
like the stairs or something when we put

1442
01:09:30,069 --> 01:09:33,460
stairs and again to the generator or

1443
01:09:32,319 --> 01:09:34,659
something like that so I don't want to

1444
01:09:33,460 --> 01:09:36,909
leave it entirely I just want down there

1445
01:09:34,659 --> 01:09:38,170
for reference so I don't have to go

1446
01:09:36,909 --> 01:09:40,180
pulling through old verses of the code

1447
01:09:38,170 --> 01:09:41,770
to find it necessarily but I don't want

1448
01:09:40,180 --> 01:09:46,060
it in my way anymore so that's gone

1449
01:09:41,770 --> 01:09:48,330
goodbye so now if we come through here I

1450
01:09:46,060 --> 01:09:50,530
want to take a look at this layout code

1451
01:09:48,329 --> 01:09:53,050
we come through here we do our place

1452
01:09:50,529 --> 01:09:54,609
rooms along edge right and our place

1453
01:09:53,050 --> 01:09:56,079
rooms along edge is working real good

1454
01:09:54,609 --> 01:09:59,739
and the only problem that we're having

1455
01:09:56,079 --> 01:10:04,029
with it right is at some point we get to

1456
01:09:59,739 --> 01:10:06,130
a place right here where when we place

1457
01:10:04,029 --> 01:10:08,800
this volume

1458
01:10:06,130 --> 01:10:14,739
we accidentally romp right over an

1459
01:10:08,800 --> 01:10:17,980
existing room so what would we do if we

1460
01:10:14,739 --> 01:10:23,019
wanted to be a little bit more careful

1461
01:10:17,979 --> 01:10:25,059
right if we wanted to sort of place

1462
01:10:23,020 --> 01:10:29,200
rooms with the Mort with an eye towards

1463
01:10:25,060 --> 01:10:32,380
not screwing that part up well there's a

1464
01:10:29,199 --> 01:10:34,960
couple things so first of all we know

1465
01:10:32,380 --> 01:10:37,420
that we have some leeway as to where we

1466
01:10:34,960 --> 01:10:39,789
place rooms along an edge sometimes so

1467
01:10:37,420 --> 01:10:42,000
if an edge is not fully subscribed like

1468
01:10:39,789 --> 01:10:45,609
and what do I mean by fully subscribed

1469
01:10:42,000 --> 01:10:51,850
if you imagine the parameters let me go

1470
01:10:45,609 --> 01:10:53,529
ahead and get Milton going here Milton

1471
01:10:51,850 --> 01:11:04,140
by the way really an excellent drawing

1472
01:10:53,529 --> 01:11:04,139
package at this point I highly recommend

1473
01:11:04,380 --> 01:11:12,930
using Milton for your stream

1474
01:11:13,350 --> 01:11:23,590
illustrations really just great Sergio

1475
01:11:20,560 --> 01:11:25,539
has done a really nice job getting this

1476
01:11:23,590 --> 01:11:28,750
to a good place if you think about what

1477
01:11:25,539 --> 01:11:30,850
it's doing right now it has almost every

1478
01:11:28,750 --> 01:11:36,369
day of handmade hero is on the same

1479
01:11:30,850 --> 01:11:41,560
blackboard right it's nuts I mean look

1480
01:11:36,369 --> 01:11:45,189
at this try doing this in Photoshop like

1481
01:11:41,560 --> 01:11:50,830
good luck my friend you know I'm saying

1482
01:11:45,189 --> 01:11:52,569
to roll over and die so hard so I think

1483
01:11:50,829 --> 01:11:54,340
sir - you did a really great job this

1484
01:11:52,569 --> 01:11:56,799
thing and it has been rock-solid for me

1485
01:11:54,340 --> 01:11:59,110
now he fixed some of the bugs that were

1486
01:11:56,800 --> 01:12:00,400
in there at the effort that we're

1487
01:11:59,109 --> 01:12:01,210
preventing it from being a pretty smooth

1488
01:12:00,399 --> 01:12:03,819
user experience

1489
01:12:01,210 --> 01:12:05,590
he's just silky smooth now I highly

1490
01:12:03,819 --> 01:12:07,269
recommend it anyway I'm gonna go ahead

1491
01:12:05,590 --> 01:12:09,699
and dress draw what I was talking about

1492
01:12:07,270 --> 01:12:13,770
with some script edge strips in there so

1493
01:12:09,699 --> 01:12:16,409
let's just talk about edge subscription

1494
01:12:13,770 --> 01:12:19,570
oops

1495
01:12:16,409 --> 01:12:22,269
so I'm borrowing a term there just to

1496
01:12:19,569 --> 01:12:23,979
say that look if I've got a room and I

1497
01:12:22,270 --> 01:12:26,530
say that three rooms need to be on that

1498
01:12:23,979 --> 01:12:29,949
side it could be that those rooms

1499
01:12:26,529 --> 01:12:32,259
literally cannot be placed in any other

1500
01:12:29,949 --> 01:12:34,720
way than like just like this like if

1501
01:12:32,260 --> 01:12:36,610
they need one you know an entryway there

1502
01:12:34,720 --> 01:12:38,440
and entryway there and an entryway there

1503
01:12:36,609 --> 01:12:40,210
is the maximum you could have stuffed in

1504
01:12:38,439 --> 01:12:43,629
there right that's the best you could

1505
01:12:40,210 --> 01:12:45,970
have done we could say that that edge

1506
01:12:43,630 --> 01:12:47,770
was like fully subscribed was the term I

1507
01:12:45,970 --> 01:12:49,329
was sort of using my head there's

1508
01:12:47,770 --> 01:12:52,750
nothing you can do there's no freedom

1509
01:12:49,329 --> 01:12:55,210
there right so this is like fully

1510
01:12:52,750 --> 01:12:57,159
subscribed then there's like under

1511
01:12:55,210 --> 01:12:59,350
subscribed so it's like oh yeah I just

1512
01:12:57,159 --> 01:13:01,329
got this one thing to put there and that

1513
01:12:59,350 --> 01:13:03,340
means it could go anywhere right so

1514
01:13:01,329 --> 01:13:05,439
there's like a degree of freedom where

1515
01:13:03,340 --> 01:13:08,380
it could go anywhere from here to here

1516
01:13:05,439 --> 01:13:09,519
the door could go right and we know it

1517
01:13:08,380 --> 01:13:11,890
has to be on that edge so we couldn't

1518
01:13:09,520 --> 01:13:14,050
move it to another edge but we can put

1519
01:13:11,890 --> 01:13:16,240
it anywhere on the edge that we want and

1520
01:13:14,050 --> 01:13:18,489
then there's oversubscribed which is

1521
01:13:16,239 --> 01:13:21,460
just an illegal scenario right that

1522
01:13:18,489 --> 01:13:23,920
means the generation code announced to

1523
01:13:21,460 --> 01:13:26,109
us that it wanted like you know a bunch

1524
01:13:23,920 --> 01:13:28,600
of rooms placed here and they don't all

1525
01:13:26,109 --> 01:13:31,089
fit right so no matter what you do

1526
01:13:28,600 --> 01:13:33,010
they're gonna like overlap so this case

1527
01:13:31,090 --> 01:13:35,279
cannot be handled that's just an error

1528
01:13:33,010 --> 01:13:38,739
further up the chain like the gameplay

1529
01:13:35,279 --> 01:13:40,809
generation code fundamentally asks us to

1530
01:13:38,739 --> 01:13:43,750
create a room that cannot exist in

1531
01:13:40,810 --> 01:13:45,160
practice at the very least it would have

1532
01:13:43,750 --> 01:13:48,819
had to say that this room can stretch

1533
01:13:45,159 --> 01:13:50,949
right or something so we're really

1534
01:13:48,819 --> 01:13:53,079
talking about these two cases here which

1535
01:13:50,949 --> 01:13:56,889
we sort of handle now but not really

1536
01:13:53,079 --> 01:13:58,829
right and so try and get more towards

1537
01:13:56,890 --> 01:14:00,820
actually really handling these cases

1538
01:13:58,829 --> 01:14:02,949
correctly and again like I said we've

1539
01:14:00,819 --> 01:14:05,759
only got like 10 minutes or something no

1540
01:14:02,949 --> 01:14:09,939
week back no that's not true we've got

1541
01:14:05,760 --> 01:14:19,180
25 minutes we started it at 15 after

1542
01:14:09,939 --> 01:14:21,579
today right yeah yeah yeah so if we

1543
01:14:19,180 --> 01:14:22,810
actually look at this and go so I should

1544
01:14:21,579 --> 01:14:25,119
be able to get make make a little

1545
01:14:22,810 --> 01:14:26,530
progress on this today so what we want

1546
01:14:25,119 --> 01:14:27,640
to do is say if we want start having

1547
01:14:26,529 --> 01:14:29,559
these cases correctly what we need to do

1548
01:14:27,640 --> 01:14:32,860
is take a look

1549
01:14:29,560 --> 01:14:35,530
at a room and when we are going to place

1550
01:14:32,859 --> 01:14:38,349
it say look assuming we're

1551
01:14:35,529 --> 01:14:41,259
undersubscribed at all we actually could

1552
01:14:38,350 --> 01:14:44,520
start here and test a bunch of positions

1553
01:14:41,260 --> 01:14:48,550
to see where we can place the room and

1554
01:14:44,520 --> 01:14:50,680
if any of them work we can proceed so

1555
01:14:48,550 --> 01:14:55,600
what we want to do is we want to take

1556
01:14:50,680 --> 01:14:58,890
take this loop have it try a bunch of

1557
01:14:55,600 --> 01:15:02,920
positions for a room if it can and

1558
01:14:58,890 --> 01:15:10,480
accept anyone that works that way all we

1559
01:15:02,920 --> 01:15:15,460
need is a query that says can room be

1560
01:15:10,479 --> 01:15:16,869
you know in volume so we just asked look

1561
01:15:15,460 --> 01:15:19,659
here's one place we could place room

1562
01:15:16,869 --> 01:15:22,960
he's that legal and it's like Matt like

1563
01:15:19,659 --> 01:15:24,489
okay can we place it here now right now

1564
01:15:22,960 --> 01:15:26,350
that may not end up being the most

1565
01:15:24,489 --> 01:15:28,929
efficient way to do it and we may want

1566
01:15:26,350 --> 01:15:31,329
to do something that actually says how

1567
01:15:28,930 --> 01:15:33,670
far are we should have moved and so we

1568
01:15:31,329 --> 01:15:34,840
may make this a little bit more fancy so

1569
01:15:33,670 --> 01:15:37,810
we don't have to keep querying

1570
01:15:34,840 --> 01:15:44,279
unnecessarily so another way we could

1571
01:15:37,810 --> 01:15:48,490
phrase this is a query with direction

1572
01:15:44,279 --> 01:15:55,929
right so we could say look here's my

1573
01:15:48,489 --> 01:15:58,420
room I want place it here tell me where

1574
01:15:55,930 --> 01:16:02,050
is the first place I could place this

1575
01:15:58,420 --> 01:16:05,590
room in this direction so when it sees

1576
01:16:02,050 --> 01:16:08,010
what overlaps so it does a query to see

1577
01:16:05,590 --> 01:16:11,980
what this room overlaps it could go oh

1578
01:16:08,010 --> 01:16:14,980
well once you get here you're not

1579
01:16:11,979 --> 01:16:18,969
overlapping anymore so you could put it

1580
01:16:14,979 --> 01:16:21,369
there right and the reason to do that is

1581
01:16:18,970 --> 01:16:26,980
because if you think about what has to

1582
01:16:21,369 --> 01:16:31,689
happen one is a blind search and one's a

1583
01:16:26,979 --> 01:16:35,079
directed search right so in the blind

1584
01:16:31,689 --> 01:16:39,879
search case that is what this would be

1585
01:16:35,079 --> 01:16:42,130
it says look I don't know where these

1586
01:16:39,880 --> 01:16:43,069
other rooms might be that are

1587
01:16:42,130 --> 01:16:46,010
overlapping

1588
01:16:43,069 --> 01:16:48,649
I'm gonna try here and you're gonna give

1589
01:16:46,010 --> 01:16:52,159
me back a boolean answer that just says

1590
01:16:48,649 --> 01:16:55,670
yes or no the problem it's yes or no is

1591
01:16:52,158 --> 01:16:59,388
all that tells me is if this exact

1592
01:16:55,670 --> 01:17:01,460
location was okay when I get back and

1593
01:16:59,389 --> 01:17:04,359
yes from you I'm super happy

1594
01:17:01,460 --> 01:17:08,060
down goes the room if I get back to know

1595
01:17:04,359 --> 01:17:11,269
well then I don't know anything right so

1596
01:17:08,060 --> 01:17:14,480
I have to test literally the next

1597
01:17:11,270 --> 01:17:18,440
possible placement one tile over and

1598
01:17:14,479 --> 01:17:21,500
asked again now you may have known even

1599
01:17:18,439 --> 01:17:23,988
just from a single intersection the code

1600
01:17:21,500 --> 01:17:26,149
that's doing the query immediately knows

1601
01:17:23,988 --> 01:17:29,839
that's stupid because even if all it did

1602
01:17:26,149 --> 01:17:32,719
was exit out on the first overlap it

1603
01:17:29,840 --> 01:17:35,989
still knows we shouldn't try again till

1604
01:17:32,719 --> 01:17:39,408
here right it still knows where to try

1605
01:17:35,988 --> 01:17:41,029
next and that may not work as well so it

1606
01:17:39,408 --> 01:17:42,859
is still a search it may be that we need

1607
01:17:41,029 --> 01:17:45,889
to do another query to look at what else

1608
01:17:42,859 --> 01:17:48,679
might overlap that room but it's a much

1609
01:17:45,889 --> 01:17:52,400
more directed search it uses the

1610
01:17:48,679 --> 01:17:55,340
information that it gets back on a No to

1611
01:17:52,399 --> 01:17:57,979
do avoid other queries that will

1612
01:17:55,340 --> 01:18:00,460
obviously be no so I think what we want

1613
01:17:57,979 --> 01:18:06,138
to do here is is we want to set up that

1614
01:18:00,460 --> 01:18:11,420
API that call to give us back where to

1615
01:18:06,139 --> 01:18:13,849
try next it when we move to avoid lots

1616
01:18:11,420 --> 01:18:15,920
of little tiny queries looking for that

1617
01:18:13,849 --> 01:18:16,670
edge when the thing can just it knows

1618
01:18:15,920 --> 01:18:19,609
where the edge is

1619
01:18:16,670 --> 01:18:21,289
just tell us where the edges right so I

1620
01:18:19,609 --> 01:18:23,630
think we want to kind of go that route

1621
01:18:21,289 --> 01:18:25,130
with it that's all I'm trying to say so

1622
01:18:23,630 --> 01:18:28,639
that's what we want to start working on

1623
01:18:25,130 --> 01:18:30,109
now and we may not get that done before

1624
01:18:28,639 --> 01:18:32,060
the end of the stream but that's where

1625
01:18:30,109 --> 01:18:34,130
we're going and we've got all tomorrow

1626
01:18:32,060 --> 01:18:36,409
to do it and we should be able to have

1627
01:18:34,130 --> 01:18:39,529
something nice working for that tomorrow

1628
01:18:36,408 --> 01:18:40,908
it's just rectangle overlap testing and

1629
01:18:39,529 --> 01:18:42,500
then we need an acceleration structure

1630
01:18:40,908 --> 01:18:44,059
that to start with just for the

1631
01:18:42,500 --> 01:18:46,698
orphanage there are not enough

1632
01:18:44,060 --> 01:18:48,260
rectangles in the orphanage to even

1633
01:18:46,698 --> 01:18:49,819
require a spatial hierarchy so that

1634
01:18:48,260 --> 01:18:52,309
should allow us to do a brute force

1635
01:18:49,819 --> 01:18:54,078
version quickly and get working which is

1636
01:18:52,309 --> 01:18:54,980
what we'll try do now but then we want

1637
01:18:54,078 --> 01:18:56,880
to do something that's going to be a

1638
01:18:54,979 --> 01:18:58,079
little smart in that because

1639
01:18:56,880 --> 01:19:00,119
like I said if we do want to do stuff

1640
01:18:58,079 --> 01:19:02,069
like crank ourselves up to hundreds of

1641
01:19:00,119 --> 01:19:04,050
thousands of rooms which we do because

1642
01:19:02,069 --> 01:19:05,488
the rest of our system handles it we

1643
01:19:04,050 --> 01:19:06,779
shouldn't make the generator be

1644
01:19:05,488 --> 01:19:08,968
something that rolls over and dies at

1645
01:19:06,779 --> 01:19:11,039
that point so we can't be linearly

1646
01:19:08,969 --> 01:19:12,510
searching through all of our rooms for

1647
01:19:11,039 --> 01:19:19,829
overlap every time that's not going to

1648
01:19:12,510 --> 01:19:24,020
cut it that's a little dance for you

1649
01:19:19,829 --> 01:19:27,269
hope you enjoyed it okay so moving back

1650
01:19:24,020 --> 01:19:30,270
what I want to do now is I want to go

1651
01:19:27,270 --> 01:19:32,100
through here and and take a look at how

1652
01:19:30,270 --> 01:19:34,350
I would want to call this right given

1653
01:19:32,100 --> 01:19:35,760
the things that I just explained so what

1654
01:19:34,350 --> 01:19:37,909
you can see here is one of the things we

1655
01:19:35,760 --> 01:19:42,630
do is we start off at the minimum

1656
01:19:37,908 --> 01:19:44,698
position along the edge and that gets

1657
01:19:42,630 --> 01:19:46,710
started out right here and then we move

1658
01:19:44,698 --> 01:19:49,198
forward now this actually isn't

1659
01:19:46,710 --> 01:19:50,908
maximally trying all the places that we

1660
01:19:49,198 --> 01:19:53,488
probably should try to place things

1661
01:19:50,908 --> 01:19:56,939
there's actually a lot more variability

1662
01:19:53,488 --> 01:20:03,329
than that involved and what we may want

1663
01:19:56,939 --> 01:20:05,689
to do is change that scheme so in the

1664
01:20:03,329 --> 01:20:05,689
future

1665
01:20:19,158 --> 01:20:23,939
in the future we probably want to do is

1666
01:20:21,658 --> 01:20:27,809
take a more considerate approach where

1667
01:20:23,939 --> 01:20:29,669
we say look we we will pre check our

1668
01:20:27,810 --> 01:20:31,619
connections we'll see how many things

1669
01:20:29,670 --> 01:20:33,840
we're gonna try and place and then we'll

1670
01:20:31,618 --> 01:20:35,429
try to choose a strategy that logically

1671
01:20:33,840 --> 01:20:37,380
looks for where we might want to connect

1672
01:20:35,429 --> 01:20:39,899
rooms up right so we're gonna get more

1673
01:20:37,380 --> 01:20:41,400
advanced as we go right now we'll leave

1674
01:20:39,899 --> 01:20:43,469
it as it is because we only have one

1675
01:20:41,399 --> 01:20:47,158
specific bug we're going to fix but we

1676
01:20:43,469 --> 01:20:49,139
want that process of testing where we

1677
01:20:47,158 --> 01:20:50,609
want to place rooms along an edge to get

1678
01:20:49,139 --> 01:20:53,520
more advanced as we go because this is

1679
01:20:50,609 --> 01:20:54,599
pretty weak sauce right here I mean the

1680
01:20:53,520 --> 01:20:56,400
whole thing is weak sauce but we just

1681
01:20:54,600 --> 01:20:59,429
started it but that in particular is

1682
01:20:56,399 --> 01:21:02,039
weak sauce that we could specifically

1683
01:20:59,429 --> 01:21:04,469
pinpoint we know what we could do that

1684
01:21:02,039 --> 01:21:07,079
would be an improvement so once we get

1685
01:21:04,469 --> 01:21:09,779
into the connections here's our tests

1686
01:21:07,079 --> 01:21:11,908
for whether or not this room wants to be

1687
01:21:09,779 --> 01:21:14,399
placed here in the first place

1688
01:21:11,908 --> 01:21:16,019
placed in the first place and when we

1689
01:21:14,399 --> 01:21:20,399
find out that it does you can see is we

1690
01:21:16,020 --> 01:21:22,199
actually very specifically look at these

1691
01:21:20,399 --> 01:21:24,569
volumes here and start setting them

1692
01:21:22,198 --> 01:21:26,669
directly I want to do that I want to

1693
01:21:24,569 --> 01:21:30,630
start with a test volume so what I want

1694
01:21:26,670 --> 01:21:33,779
to do here is say Jen volume test ball

1695
01:21:30,630 --> 01:21:36,560
and I want to go from there so all of

1696
01:21:33,779 --> 01:21:39,479
these things that talk about room vol I

1697
01:21:36,560 --> 01:21:40,710
want to talk about test vol instead so

1698
01:21:39,479 --> 01:21:45,959
I'm just going to do a real quick search

1699
01:21:40,710 --> 01:21:52,230
or in place here like so oops I don't

1700
01:21:45,960 --> 01:21:53,460
want to replace base room though guess

1701
01:21:52,229 --> 01:22:01,339
I'm gonna have to be pretty judicious

1702
01:21:53,460 --> 01:22:01,340
here no no no

1703
01:22:07,840 --> 01:22:15,078
okay when we get to the end then I will

1704
01:22:13,010 --> 01:22:18,070
say that room volume equals test volume

1705
01:22:15,078 --> 01:22:20,599
and off we go so now I should have a

1706
01:22:18,069 --> 01:22:23,328
situation where I can talk about test

1707
01:22:20,599 --> 01:22:25,279
volume test volume at the outset can

1708
01:22:23,328 --> 01:22:28,219
just be nothing in particular because we

1709
01:22:25,279 --> 01:22:29,539
set all of its axes so really we don't

1710
01:22:28,219 --> 01:22:31,340
have to worry about that in fact I can

1711
01:22:29,539 --> 01:22:32,630
if I want to just not initialize it

1712
01:22:31,340 --> 01:22:35,029
because it should have all the rest of

1713
01:22:32,630 --> 01:22:37,219
stuff initialized so then when I run

1714
01:22:35,029 --> 01:22:39,078
this I should see exact same thing we

1715
01:22:37,219 --> 01:22:41,179
saw before and now we're just doing that

1716
01:22:39,078 --> 01:22:43,908
on a test volume so now what I want to

1717
01:22:41,179 --> 01:22:52,908
do is I want to essentially enter a loop

1718
01:22:43,908 --> 01:22:57,488
here where I look for tests what just

1719
01:22:52,908 --> 01:22:57,488
happened did I accidentally remove what

1720
01:22:58,479 --> 01:23:01,689
that's odd

1721
01:23:02,770 --> 01:23:10,610
is this a for coder bug that I have

1722
01:23:05,179 --> 01:23:12,408
never seen before correct me if I'm

1723
01:23:10,609 --> 01:23:17,469
wrong but it's confused about how to

1724
01:23:12,408 --> 01:23:17,469
invent that is it not maybe it's not

1725
01:23:40,649 --> 01:23:55,569
what happened here something weirds

1726
01:23:43,840 --> 01:23:57,699
going on here well I don't know maybe

1727
01:23:55,569 --> 01:24:00,698
that's just a bug in for coder it's one

1728
01:23:57,698 --> 01:24:03,519
I've never seen before this is not the

1729
01:24:00,698 --> 01:24:05,460
latest version but I've literally never

1730
01:24:03,520 --> 01:24:12,760
seen that bug before that's really weird

1731
01:24:05,460 --> 01:24:14,980
how would I have not seen it before well

1732
01:24:12,760 --> 01:24:16,510
I kind of make a note to myself to

1733
01:24:14,979 --> 01:24:20,138
update the four code around this machine

1734
01:24:16,510 --> 01:24:22,960
because that is probably a bug that has

1735
01:24:20,139 --> 01:24:24,550
probably gotten fixed I haven't I don't

1736
01:24:22,960 --> 01:24:26,078
tend to have much problems with for

1737
01:24:24,550 --> 01:24:29,409
coders so I sometimes I'm a bit behind

1738
01:24:26,078 --> 01:24:30,939
on the stream machine I tend to switch

1739
01:24:29,408 --> 01:24:34,029
my dev machine pretty frequently though

1740
01:24:30,939 --> 01:24:41,828
to the latest version update page for

1741
01:24:34,029 --> 01:24:44,050
coder build send all right so I don't

1742
01:24:41,828 --> 01:24:47,529
know what's going on there will that re

1743
01:24:44,050 --> 01:24:49,779
do it okay so hopefully we can keep

1744
01:24:47,529 --> 01:24:53,380
hopefully this will keep screwed up and

1745
01:24:49,779 --> 01:24:56,769
so I can do it to do KC see if new build

1746
01:24:53,380 --> 01:24:58,389
of our corner still has the bug here

1747
01:24:56,770 --> 01:25:01,210
because we'd want to report that to

1748
01:24:58,389 --> 01:25:03,340
Allen so he can fix it but I don't want

1749
01:25:01,210 --> 01:25:04,989
to report it to Allen on an old version

1750
01:25:03,340 --> 01:25:06,880
of for coder because he may already have

1751
01:25:04,988 --> 01:25:08,769
fixed it and then I'm just reporting a

1752
01:25:06,880 --> 01:25:11,139
bug that's wasting his time so I'd

1753
01:25:08,770 --> 01:25:16,810
rather update the build first and then

1754
01:25:11,139 --> 01:25:18,460
see what goes on there okay so if I go

1755
01:25:16,810 --> 01:25:20,530
ahead and now start this process

1756
01:25:18,460 --> 01:25:22,448
obviously if I actually ran this code

1757
01:25:20,529 --> 01:25:24,609
we'd be in trouble cuz gonna loop

1758
01:25:22,448 --> 01:25:28,598
forever so what I really want to do here

1759
01:25:24,609 --> 01:25:30,598
is essentially say if one break

1760
01:25:28,599 --> 01:25:33,699
otherwise loop and then we get

1761
01:25:30,599 --> 01:25:35,560
essentially the the sudo setup for what

1762
01:25:33,698 --> 01:25:37,779
I want to actually do which is right

1763
01:25:35,560 --> 01:25:39,520
here when we've prepared the volume

1764
01:25:37,779 --> 01:25:41,259
we're going to test I want to test to

1765
01:25:39,520 --> 01:25:45,280
see whether or not that volume would

1766
01:25:41,260 --> 01:25:46,489
actually work right and furthermore I

1767
01:25:45,279 --> 01:25:49,819
want this

1768
01:25:46,488 --> 01:25:51,618
at edge P version here to be a little

1769
01:25:49,819 --> 01:25:53,779
bit more careful about how updates

1770
01:25:51,618 --> 01:25:57,018
things because in the case where I

1771
01:25:53,779 --> 01:26:00,498
actually get a room placed here then

1772
01:25:57,019 --> 01:26:05,389
it's actually okay but I don't I don't

1773
01:26:00,498 --> 01:26:07,309
know that I want I don't know that I

1774
01:26:05,389 --> 01:26:09,349
want to keep it so I just placed the

1775
01:26:07,309 --> 01:26:11,150
rooms one after another the reason is

1776
01:26:09,349 --> 01:26:13,880
because maybe what I want to do now is

1777
01:26:11,149 --> 01:26:18,018
start at the minimum and try to place

1778
01:26:13,880 --> 01:26:21,230
the room each time anew

1779
01:26:18,019 --> 01:26:23,630
why because if I have two rooms of

1780
01:26:21,229 --> 01:26:26,268
different sizes now that I'm testing for

1781
01:26:23,630 --> 01:26:29,630
overlap it may be that one of the rooms

1782
01:26:26,269 --> 01:26:33,320
can't be placed in like the starting

1783
01:26:29,630 --> 01:26:34,969
area the starting you know well let me

1784
01:26:33,319 --> 01:26:40,429
just draw it right instead of me waving

1785
01:26:34,969 --> 01:26:42,349
my hands around like a maniac so if I'm

1786
01:26:40,429 --> 01:26:44,569
doing a search along the edge this way

1787
01:26:42,349 --> 01:26:45,710
right and I've got two rooms that I'm

1788
01:26:44,569 --> 01:26:47,689
trying to place one that looks like that

1789
01:26:45,710 --> 01:26:49,519
and one looks like this this is the

1790
01:26:47,689 --> 01:26:51,288
first room I'm trying to place I come in

1791
01:26:49,519 --> 01:26:53,690
here if there's another room right there

1792
01:26:51,288 --> 01:26:55,609
I try to place this room here it's like

1793
01:26:53,689 --> 01:26:57,498
you can't place it there so it ends up

1794
01:26:55,609 --> 01:27:00,618
going oh I could place it here so I

1795
01:26:57,498 --> 01:27:01,908
place it there if I then assume you know

1796
01:27:00,618 --> 01:27:04,069
maybe there's another room let's say

1797
01:27:01,908 --> 01:27:06,498
there's another room over here if I then

1798
01:27:04,069 --> 01:27:08,238
assume that the next room has to go has

1799
01:27:06,498 --> 01:27:10,550
to start looking right here it'll be

1800
01:27:08,238 --> 01:27:15,169
like ah can't place the room bro right

1801
01:27:10,550 --> 01:27:17,179
bad news well this room actually could

1802
01:27:15,170 --> 01:27:19,158
have gone right here but I never tested

1803
01:27:17,179 --> 01:27:20,809
it because I started I just tried to

1804
01:27:19,158 --> 01:27:22,998
place it after that so I think I want to

1805
01:27:20,809 --> 01:27:25,788
do is now what I want to do is just

1806
01:27:22,998 --> 01:27:27,618
start the beginning and let the overlap

1807
01:27:25,788 --> 01:27:30,229
tester tell me where I can't place rooms

1808
01:27:27,618 --> 01:27:32,268
so we can slot rooms into positions

1809
01:27:30,229 --> 01:27:36,618
where they could have fit again it's not

1810
01:27:32,269 --> 01:27:39,289
quite good enough we you need more

1811
01:27:36,618 --> 01:27:41,089
strategies than these but it starts to

1812
01:27:39,288 --> 01:27:42,768
make a more robust system right you can

1813
01:27:41,090 --> 01:27:45,319
see how it's it's gaining a little bit

1814
01:27:42,769 --> 01:27:47,510
more possibility as we do that then just

1815
01:27:45,319 --> 01:27:48,859
placing the neighbor wise right it still

1816
01:27:47,510 --> 01:27:49,849
doesn't handle all the possibilities

1817
01:27:48,859 --> 01:27:50,960
because it may be that you should have

1818
01:27:49,849 --> 01:27:52,670
placed the other room first in this one

1819
01:27:50,960 --> 01:27:54,529
second because maybe the way you place

1820
01:27:52,670 --> 01:27:55,819
the second room ends up allowing you to

1821
01:27:54,529 --> 01:27:57,828
place the first room better and bah bah

1822
01:27:55,819 --> 01:28:00,239
blah so you know there's there's more to

1823
01:27:57,828 --> 01:28:03,899
it than this but again it's getting a

1824
01:28:00,239 --> 01:28:08,670
a little bit better right the coffee is

1825
01:28:03,899 --> 01:28:10,439
gone the coffee is gone you'll notice

1826
01:28:08,670 --> 01:28:16,039
I'm actually drinking a branded coffee

1827
01:28:10,439 --> 01:28:17,309
today because the espresso machine is

1828
01:28:16,039 --> 01:28:21,000
broken

1829
01:28:17,310 --> 01:28:25,830
and that's a very sad time basically

1830
01:28:21,000 --> 01:28:28,260
like you know we at Mali rocket if you

1831
01:28:25,829 --> 01:28:29,850
actually go buy coffee every time you

1832
01:28:28,260 --> 01:28:31,650
want coffee that is fantastically

1833
01:28:29,850 --> 01:28:35,310
expensive especially for a little indie

1834
01:28:31,649 --> 01:28:37,619
company so we actually have a little

1835
01:28:35,310 --> 01:28:39,810
coffee making machine and we needed to

1836
01:28:37,619 --> 01:28:42,630
clean out the little grinder piece for

1837
01:28:39,810 --> 01:28:44,190
the coffee making machine and it has

1838
01:28:42,630 --> 01:28:45,750
this little felt piece and I tried to

1839
01:28:44,189 --> 01:28:47,729
clean it and it just kind of shredded it

1840
01:28:45,750 --> 01:28:49,829
just disintegrated so we needed to order

1841
01:28:47,729 --> 01:28:51,719
a new one and until they come until the

1842
01:28:49,829 --> 01:28:53,309
new little felt pieces they're like they

1843
01:28:51,720 --> 01:28:55,020
cost like two dollars a piece so they're

1844
01:28:53,310 --> 01:28:57,900
pretty cheap to get but we had to wait

1845
01:28:55,020 --> 01:28:59,430
for it to come until the comes we have

1846
01:28:57,899 --> 01:29:01,469
to actually get coffee at an actual

1847
01:28:59,430 --> 01:29:03,150
coffee shop which despite being more

1848
01:29:01,470 --> 01:29:04,710
expensive also has the downside of you

1849
01:29:03,149 --> 01:29:06,719
actually to go there other instead of

1850
01:29:04,710 --> 01:29:10,140
just having infinite coffee on demand

1851
01:29:06,720 --> 01:29:12,810
for very cheap which is the best part

1852
01:29:10,140 --> 01:29:14,220
about a coffee baking machine so highly

1853
01:29:12,810 --> 01:29:16,110
recommend coffee making machines but

1854
01:29:14,220 --> 01:29:21,449
unfortunately today not in the cards

1855
01:29:16,109 --> 01:29:24,109
very sad anyway don't know why I bother

1856
01:29:21,449 --> 01:29:26,609
mentioning that I guess just if you're

1857
01:29:24,109 --> 01:29:28,949
if you're an indie you doesn't have a

1858
01:29:26,609 --> 01:29:30,569
lot of money you should get a coffee

1859
01:29:28,949 --> 01:29:32,699
machine instead of getting coffee out

1860
01:29:30,569 --> 01:29:34,590
but that is probably the most obvious

1861
01:29:32,699 --> 01:29:37,859
thing that everyone would automatically

1862
01:29:34,590 --> 01:29:40,920
do so I don't know why I'm bothering to

1863
01:29:37,859 --> 01:29:42,210
tell you that it's kind of the same as

1864
01:29:40,920 --> 01:29:43,590
saying don't eat dinner at a restaurant

1865
01:29:42,210 --> 01:29:47,569
make it yourself

1866
01:29:43,590 --> 01:29:50,880
which everyone knows so there's some

1867
01:29:47,569 --> 01:29:53,729
information that Indies should use that

1868
01:29:50,880 --> 01:29:58,949
they would just do by necessity because

1869
01:29:53,729 --> 01:30:00,179
it's painfully obvious I hope if there's

1870
01:29:58,949 --> 01:30:01,319
any indie out there who doesn't already

1871
01:30:00,180 --> 01:30:04,770
know that I don't think they're gonna

1872
01:30:01,319 --> 01:30:06,929
last very long anyway hmm yeah doesn't

1873
01:30:04,770 --> 01:30:08,490
matter point being if I keep moving on

1874
01:30:06,930 --> 01:30:10,409
here and looking at the code that's

1875
01:30:08,489 --> 01:30:12,000
actually important rather than telling

1876
01:30:10,409 --> 01:30:14,510
you tips on not spending you money on

1877
01:30:12,000 --> 01:30:16,850
coffee which I hopefully everyone could

1878
01:30:14,510 --> 01:30:20,390
on their own I what you want to do here

1879
01:30:16,850 --> 01:30:21,890
is say look let's start at the place the

1880
01:30:20,390 --> 01:30:27,260
min edge right every time

1881
01:30:21,890 --> 01:30:30,530
I and we'll work from there out on every

1882
01:30:27,260 --> 01:30:31,760
room placement and before we were

1883
01:30:30,529 --> 01:30:33,529
counting on that to keep our room

1884
01:30:31,760 --> 01:30:34,579
separate now we're just gonna test to

1885
01:30:33,529 --> 01:30:36,559
see if there's anything in the way so

1886
01:30:34,579 --> 01:30:38,529
that will keep our room separate and we

1887
01:30:36,560 --> 01:30:43,460
don't have to worry about this part

1888
01:30:38,529 --> 01:30:46,579
anymore so the at edge P probing piece

1889
01:30:43,460 --> 01:30:49,069
will now be something to get updated

1890
01:30:46,579 --> 01:30:55,819
much more straightforward so what we'll

1891
01:30:49,069 --> 01:30:59,210
say is okay here's where we place the

1892
01:30:55,819 --> 01:31:07,689
room it's wherever our probe is to and

1893
01:30:59,210 --> 01:31:13,069
it goes to this oops that goes to this

1894
01:31:07,689 --> 01:31:15,559
maximum right and then what we want to

1895
01:31:13,069 --> 01:31:17,630
do is we want to update our edge first

1896
01:31:15,560 --> 01:31:19,910
of all if the room can be placed we

1897
01:31:17,630 --> 01:31:21,710
don't have to do anything right if the

1898
01:31:19,909 --> 01:31:23,689
room can be placed we're done we move on

1899
01:31:21,710 --> 01:31:25,340
to the next room or we're just done if

1900
01:31:23,689 --> 01:31:28,149
there are no more rooms on this edge but

1901
01:31:25,340 --> 01:31:30,500
if we do have another room on this edge

1902
01:31:28,149 --> 01:31:34,639
then what we want to do is update at

1903
01:31:30,500 --> 01:31:37,640
edge P it's at this point right and so

1904
01:31:34,640 --> 01:31:41,030
what I'd like to do is say okay we know

1905
01:31:37,640 --> 01:31:43,220
the direction we're searching because we

1906
01:31:41,029 --> 01:31:46,670
go from the min to the max generally

1907
01:31:43,220 --> 01:31:49,520
speaking right I that's just how it

1908
01:31:46,670 --> 01:31:52,310
works so what we want to do is when we

1909
01:31:49,520 --> 01:31:56,180
send down this information we want to

1910
01:31:52,310 --> 01:31:59,720
get back the distance we would move from

1911
01:31:56,180 --> 01:32:01,820
our location for example in order to fit

1912
01:31:59,720 --> 01:32:04,280
right we want we want it to sort of tell

1913
01:32:01,819 --> 01:32:06,889
us that piece of information so what we

1914
01:32:04,279 --> 01:32:11,529
want to do is we want like some kind of

1915
01:32:06,890 --> 01:32:14,590
a check for overlap or like get a room

1916
01:32:11,529 --> 01:32:18,079
overlap Delta or something like this

1917
01:32:14,590 --> 01:32:25,880
right so we want to say um

1918
01:32:18,079 --> 01:32:30,979
yet yet Delta along axis for placement

1919
01:32:25,880 --> 01:32:34,100
or something so we wanted for clear

1920
01:32:30,979 --> 01:32:36,549
placement clean placement so we want

1921
01:32:34,100 --> 01:32:40,640
basically something that's gonna tell us

1922
01:32:36,550 --> 01:32:46,130
look how far would we have to move this

1923
01:32:40,640 --> 01:32:49,579
thing in order to put it down you know

1924
01:32:46,130 --> 01:32:52,340
how far would we have to go in order to

1925
01:32:49,579 --> 01:32:56,449
put this thing without it overlapping

1926
01:32:52,340 --> 01:32:58,489
some other room in the mix right so I

1927
01:32:56,449 --> 01:33:00,889
give you the test volume this is the

1928
01:32:58,489 --> 01:33:05,329
thing that we're actually gonna try to

1929
01:33:00,890 --> 01:33:07,010
put down and I'll give you the generator

1930
01:33:05,329 --> 01:33:09,529
which will have the hierarchy in it that

1931
01:33:07,010 --> 01:33:12,530
you can use to query eventually and then

1932
01:33:09,529 --> 01:33:13,849
I'll just say look I don't care about

1933
01:33:12,529 --> 01:33:16,460
the other axes because I can only move

1934
01:33:13,850 --> 01:33:18,860
it along this edge so you got to move it

1935
01:33:16,460 --> 01:33:21,859
this way right this is this is the

1936
01:33:18,859 --> 01:33:27,639
direction it can go it's along this

1937
01:33:21,859 --> 01:33:31,299
dimension so if that Delta equals zero

1938
01:33:27,640 --> 01:33:36,500
then we know that we can place the room

1939
01:33:31,300 --> 01:33:40,640
if that Delta is not zero then we'll

1940
01:33:36,500 --> 01:33:43,369
just try to move it with that amount I

1941
01:33:40,640 --> 01:33:46,940
and and see if we can place it after

1942
01:33:43,369 --> 01:33:50,829
that right so at that point what we

1943
01:33:46,939 --> 01:33:58,549
could say is well you know the Delta

1944
01:33:50,829 --> 01:34:01,630
this function can now emulate our

1945
01:33:58,550 --> 01:34:01,630
existing code

1946
01:34:04,899 --> 01:34:10,119
by just returning zero because if all

1947
01:34:08,500 --> 01:34:13,260
the function does is return zero that

1948
01:34:10,119 --> 01:34:16,779
just says every room can be placed right

1949
01:34:13,260 --> 01:34:19,420
and now this isn't great because we took

1950
01:34:16,779 --> 01:34:22,569
out the part where we actually walk

1951
01:34:19,420 --> 01:34:24,069
along the edge P so now all of the rooms

1952
01:34:22,569 --> 01:34:25,659
will get placed on top of each other

1953
01:34:24,069 --> 01:34:28,569
which is not great right you can kind of

1954
01:34:25,659 --> 01:34:31,119
see how all the rooms that were

1955
01:34:28,569 --> 01:34:34,329
previously a little late arrayed along

1956
01:34:31,119 --> 01:34:37,899
an edge have folded in on themselves

1957
01:34:34,329 --> 01:34:40,059
right but otherwise all the code is

1958
01:34:37,899 --> 01:34:43,000
working fine so now all we should have

1959
01:34:40,060 --> 01:34:44,980
to do is in this code actually go

1960
01:34:43,000 --> 01:34:48,819
through and test to see whether the

1961
01:34:44,979 --> 01:34:52,239
volume overlaps if it does overlap we

1962
01:34:48,819 --> 01:34:55,719
can just move as far as that one overlap

1963
01:34:52,239 --> 01:34:58,899
and then we're done because the outside

1964
01:34:55,720 --> 01:35:02,770
code will continue to try so let's go

1965
01:34:58,899 --> 01:35:03,819
ahead and do that and like I said we

1966
01:35:02,770 --> 01:35:06,400
don't have a spatial hierarchy so we're

1967
01:35:03,819 --> 01:35:10,170
going to do this in a really piggy way I

1968
01:35:06,399 --> 01:35:10,170
don't know my pig hats on right now

1969
01:35:25,119 --> 01:35:29,289
so we're gonna do that in a really

1970
01:35:26,890 --> 01:35:31,750
wasteful way that's very expensive to

1971
01:35:29,289 --> 01:35:34,149
compute and so why are we doing that

1972
01:35:31,750 --> 01:35:36,010
well the answer is because never give

1973
01:35:34,149 --> 01:35:37,779
yourself two things to debug at the same

1974
01:35:36,010 --> 01:35:39,850
time when you could just do one and then

1975
01:35:37,779 --> 01:35:41,079
the other so what I want to do here is I

1976
01:35:39,850 --> 01:35:44,050
want to give myself the brute force

1977
01:35:41,079 --> 01:35:45,970
version get that working properly and

1978
01:35:44,050 --> 01:35:48,699
then we can do a spatial hierarchy

1979
01:35:45,970 --> 01:35:50,320
accelerated version because if I do them

1980
01:35:48,699 --> 01:35:52,720
both at the same time we don't know

1981
01:35:50,319 --> 01:35:54,519
where the bug is right if I do the brute

1982
01:35:52,720 --> 01:35:57,340
force version once then we know the bug

1983
01:35:54,520 --> 01:35:58,870
is just with our algorithm if and then

1984
01:35:57,340 --> 01:36:00,130
we can fix that and be done then we do

1985
01:35:58,869 --> 01:36:01,420
the spatial hierarchy if there's a bug

1986
01:36:00,130 --> 01:36:03,400
we know it's in the spatial Harket right

1987
01:36:01,420 --> 01:36:04,539
thinking about the same time I don't

1988
01:36:03,399 --> 01:36:05,920
know which one's broken

1989
01:36:04,539 --> 01:36:08,289
maybe the spatial hierarchies broken

1990
01:36:05,920 --> 01:36:09,850
maybe the placement codes broken and now

1991
01:36:08,289 --> 01:36:11,769
I have a much more complicated problem

1992
01:36:09,850 --> 01:36:14,079
and my debugging has just gotten much

1993
01:36:11,770 --> 01:36:15,340
more complicated right and I'll probably

1994
01:36:14,079 --> 01:36:17,500
have to end up doing the exact same

1995
01:36:15,340 --> 01:36:19,449
thing drop down to just one version

1996
01:36:17,500 --> 01:36:20,710
without using the the heart or something

1997
01:36:19,449 --> 01:36:22,479
to see if that works right now for right

1998
01:36:20,710 --> 01:36:25,510
so you might as well just do it this way

1999
01:36:22,479 --> 01:36:28,029
first so piggy is oftentimes better you

2000
01:36:25,510 --> 01:36:29,860
want to start with the simplest thing

2001
01:36:28,029 --> 01:36:30,939
first get that working and then make it

2002
01:36:29,859 --> 01:36:32,439
progressively more complicated because

2003
01:36:30,939 --> 01:36:34,269
that just simplifies your debugging and

2004
01:36:32,439 --> 01:36:35,649
it helps to clarify what you're doing

2005
01:36:34,270 --> 01:36:39,640
anyway so it's just usually the best way

2006
01:36:35,649 --> 01:36:41,109
to go all right so once we get to here

2007
01:36:39,640 --> 01:36:43,539
we know we can just look at all of our

2008
01:36:41,109 --> 01:36:45,460
rooms that we have and so that's pretty

2009
01:36:43,539 --> 01:36:48,539
easy we just step over each individual

2010
01:36:45,460 --> 01:36:53,800
room starting with the very first room

2011
01:36:48,539 --> 01:37:05,279
in the game we then say look for every

2012
01:36:53,800 --> 01:37:09,869
one of these if the rooms overlap then

2013
01:37:05,279 --> 01:37:09,869
we need to issue a placement

2014
01:37:16,599 --> 01:37:22,659
and if none of them do then we're just

2015
01:37:19,389 --> 01:37:24,668
fine so we need to do the overlap test

2016
01:37:22,658 --> 01:37:28,328
here and then all we need to do is say

2017
01:37:24,668 --> 01:37:31,868
look this code can now fail so at some

2018
01:37:28,328 --> 01:37:33,338
point we want this to end and the time

2019
01:37:31,868 --> 01:37:37,688
when I think we want to end is just say

2020
01:37:33,338 --> 01:37:40,988
look if at Edge P ever exceeds the

2021
01:37:37,689 --> 01:37:44,439
maximum edge P we we have to stop and we

2022
01:37:40,988 --> 01:37:48,458
can't place this room right so at that

2023
01:37:44,439 --> 01:37:51,809
point we need to sort of assert right we

2024
01:37:48,458 --> 01:37:54,010
need to assert that we have failed and

2025
01:37:51,809 --> 01:38:00,548
what I'm gonna do here is I'm gonna make

2026
01:37:54,010 --> 01:38:03,458
a little placed and in here I'll say Oh

2027
01:38:00,548 --> 01:38:06,309
congratulations we placed it right and

2028
01:38:03,458 --> 01:38:08,588
that way out here I can just assert that

2029
01:38:06,309 --> 01:38:11,189
we've placed for now and the future we

2030
01:38:08,588 --> 01:38:23,158
may take steps if we can't place a room

2031
01:38:11,189 --> 01:38:25,269
okay where was my January of global next

2032
01:38:23,158 --> 01:38:27,009
so this allows me to loop through all of

2033
01:38:25,269 --> 01:38:30,219
my rooms and all I have to do now is see

2034
01:38:27,010 --> 01:38:32,498
if these two rooms intersect right now

2035
01:38:30,219 --> 01:38:38,918
we have an intersection code that we've

2036
01:38:32,498 --> 01:38:42,010
already written you can see it right

2037
01:38:38,918 --> 01:38:43,898
here so if we want to we can intersect

2038
01:38:42,010 --> 01:38:48,338
these rooms just fine so what I can do

2039
01:38:43,899 --> 01:38:50,760
here is say the intersection of these

2040
01:38:48,338 --> 01:38:50,760
two rooms

2041
01:38:59,180 --> 01:39:06,000
produces an intersected volume if that

2042
01:39:02,310 --> 01:39:08,490
has any volume at all then we know that

2043
01:39:06,000 --> 01:39:09,810
we're in trouble so when we we don't

2044
01:39:08,489 --> 01:39:12,449
actually have a call for that here but

2045
01:39:09,810 --> 01:39:14,100
you can see we got get dim and also

2046
01:39:12,449 --> 01:39:15,510
Ismet so you know you look at these here

2047
01:39:14,100 --> 01:39:17,640
you can sort of see we sort of have the

2048
01:39:15,510 --> 01:39:19,380
beginnings of what we want here so we

2049
01:39:17,640 --> 01:39:29,780
really just want a similar call to one

2050
01:39:19,380 --> 01:39:37,800
of these calls which is like has volume

2051
01:39:29,779 --> 01:39:42,599
right and that just says look for each

2052
01:39:37,800 --> 01:39:46,409
one of these things I guess it's one

2053
01:39:42,600 --> 01:39:48,690
because this will adjust it right if

2054
01:39:46,409 --> 01:39:51,659
each of these is greater than one then

2055
01:39:48,689 --> 01:39:55,069
this thing has some volume if anything

2056
01:39:51,659 --> 01:39:57,479
is zero or less than it doesn't right

2057
01:39:55,069 --> 01:39:59,519
and I think that's all we really need

2058
01:39:57,479 --> 01:40:03,419
another way to say that would be like

2059
01:39:59,520 --> 01:40:04,680
this so if each of the dimensions is

2060
01:40:03,420 --> 01:40:07,289
greater than zero then this thing has

2061
01:40:04,680 --> 01:40:10,260
some volume so what we can say is look

2062
01:40:07,289 --> 01:40:14,369
if this has volume then this thing

2063
01:40:10,260 --> 01:40:15,690
intersects unfortunately right and so

2064
01:40:14,369 --> 01:40:16,890
we'll just say look at that point

2065
01:40:15,689 --> 01:40:21,079
intersects you're gonna have to move

2066
01:40:16,890 --> 01:40:23,700
along the axis right here we want to say

2067
01:40:21,079 --> 01:40:25,649
actually returned the amount to move

2068
01:40:23,699 --> 01:40:27,119
which isn't hard to do but we're just

2069
01:40:25,649 --> 01:40:29,939
going to ignore it even that for right

2070
01:40:27,119 --> 01:40:32,399
now so we're gonna do the intersection

2071
01:40:29,939 --> 01:40:33,649
assuming that that does intersect then

2072
01:40:32,399 --> 01:40:36,479
we tell it it's got to keep trying

2073
01:40:33,649 --> 01:40:38,489
somewhere else and that's the basic

2074
01:40:36,479 --> 01:40:39,869
sketch of the routine and now we just

2075
01:40:38,489 --> 01:40:42,179
have to make sure it actually works okay

2076
01:40:39,869 --> 01:40:44,189
so the first problem we got here is it

2077
01:40:42,180 --> 01:40:47,100
looks like we cannot actually place the

2078
01:40:44,189 --> 01:40:48,299
room we started with here let me go

2079
01:40:47,100 --> 01:40:49,980
ahead and switch the debug mode so we

2080
01:40:48,300 --> 01:40:54,090
could step through and I'll go a little

2081
01:40:49,979 --> 01:40:58,649
bit over time here and and see what's up

2082
01:40:54,090 --> 01:41:05,630
all right right so we cannot place the

2083
01:40:58,649 --> 01:41:05,629
room which rooms were replacing

2084
01:41:11,408 --> 01:41:17,328
so we're trying to go from safe aid

2085
01:41:14,149 --> 01:41:18,948
to the orphanage back hallway right so

2086
01:41:17,328 --> 01:41:21,679
this just looks like me to straight-up

2087
01:41:18,948 --> 01:41:22,969
have a bug here I probably am returning

2088
01:41:21,679 --> 01:41:24,199
things incorrectly or something like

2089
01:41:22,969 --> 01:41:28,969
that because that looks like the first

2090
01:41:24,198 --> 01:41:38,868
time through so let's just make oh you

2091
01:41:28,969 --> 01:41:46,460
and I forgot to we actually need to do

2092
01:41:38,868 --> 01:41:52,880
this because rooms that haven't been

2093
01:41:46,460 --> 01:41:55,609
placed yet don't count right so now let

2094
01:41:52,880 --> 01:41:59,199
me just go ahead and start here I'm

2095
01:41:55,609 --> 01:41:59,198
gonna go ahead and step through

2096
01:42:16,479 --> 01:42:31,959
all right so we've got our @hp oh that's

2097
01:42:26,060 --> 01:42:36,110
great let's try that one more time

2098
01:42:31,960 --> 01:42:39,770
also yeah that's fine that should really

2099
01:42:36,109 --> 01:42:41,269
start backwards a little bit all right

2100
01:42:39,770 --> 01:42:43,040
so that looked like that actually worked

2101
01:42:41,270 --> 01:42:46,310
just fine

2102
01:42:43,039 --> 01:42:56,329
so we may be done at that point let's

2103
01:42:46,310 --> 01:42:58,310
find out so here's the orphanage

2104
01:42:56,329 --> 01:43:00,939
placement and so now you can see

2105
01:42:58,310 --> 01:43:02,900
everything did get placed properly now

2106
01:43:00,939 --> 01:43:05,509
right so you know you can see we get

2107
01:43:02,899 --> 01:43:07,488
those through three rooms placed now and

2108
01:43:05,510 --> 01:43:09,679
so now we're in better shape right so

2109
01:43:07,488 --> 01:43:12,859
now it won't it won't ever overlay

2110
01:43:09,679 --> 01:43:16,010
things on top now it's not great because

2111
01:43:12,859 --> 01:43:17,630
if it gets itself into a situation where

2112
01:43:16,010 --> 01:43:18,889
it could have placed rooms if it just

2113
01:43:17,630 --> 01:43:22,219
had arranged them slightly differently

2114
01:43:18,889 --> 01:43:24,859
it's too dumb to know how to try that so

2115
01:43:22,219 --> 01:43:26,448
it's always gonna just do this and the

2116
01:43:24,859 --> 01:43:29,059
only thing it will do is avoid over

2117
01:43:26,448 --> 01:43:30,948
writing its own rooms so it's not really

2118
01:43:29,060 --> 01:43:33,650
out of the woods yet right it's still

2119
01:43:30,948 --> 01:43:36,198
really basic but at least now it's smart

2120
01:43:33,649 --> 01:43:38,598
enough to know it won't ever overlap any

2121
01:43:36,198 --> 01:43:41,899
of its existing stuff in like a really

2122
01:43:38,599 --> 01:43:44,779
stupid way right and so we can kind of

2123
01:43:41,899 --> 01:43:48,529
sort of maybe a little bit possibly not

2124
01:43:44,779 --> 01:43:50,658
entirely take some comfort in that fact

2125
01:43:48,529 --> 01:43:53,210
and and we won't get any of those weird

2126
01:43:50,658 --> 01:43:55,979
problems where the thing overlaps right

2127
01:43:53,210 --> 01:43:59,079
I'm gonna go to the Q&amp;A now

2128
01:43:55,979 --> 01:43:59,079
[Music]

2129
01:44:24,779 --> 01:44:28,559
do you plan on making an in-game editor

2130
01:44:26,698 --> 01:44:31,018
similar to the one of the witness no cuz

2131
01:44:28,559 --> 01:44:35,150
this game is procedural so unlike the

2132
01:44:31,019 --> 01:44:42,840
witness there is no hand authored

2133
01:44:35,149 --> 01:44:46,589
content that is not a philosophical

2134
01:44:42,840 --> 01:44:48,690
point again because this is not a game

2135
01:44:46,590 --> 01:44:50,460
design stream so I don't mean to suggest

2136
01:44:48,689 --> 01:44:52,558
that there's something bad about hand

2137
01:44:50,460 --> 01:44:54,469
design content on the contrary hand

2138
01:44:52,559 --> 01:44:57,690
design content is probably quite good

2139
01:44:54,469 --> 01:45:00,479
but more specifically I wanted to focus

2140
01:44:57,689 --> 01:45:03,899
on showing the programming aspects of

2141
01:45:00,479 --> 01:45:05,429
level design and so I want all of the

2142
01:45:03,899 --> 01:45:07,408
things that we create to be created with

2143
01:45:05,429 --> 01:45:10,769
generative algorithms so you can see how

2144
01:45:07,408 --> 01:45:13,888
those algorithms work so we will not be

2145
01:45:10,769 --> 01:45:17,998
doing any editor stuff because that's

2146
01:45:13,889 --> 01:45:21,059
sort of a different difference different

2147
01:45:17,998 --> 01:45:22,408
situation someone said the four-quarter

2148
01:45:21,059 --> 01:45:30,449
thing wasn't a bug we were missing a

2149
01:45:22,408 --> 01:45:32,368
bracket oh yeah okay okay okay so that

2150
01:45:30,448 --> 01:45:35,448
was the problem a bracket accidentally

2151
01:45:32,368 --> 01:45:39,868
got deleted okay

2152
01:45:35,448 --> 01:45:41,908
so cool so Allen does not need a bug

2153
01:45:39,868 --> 01:45:50,698
report for that that just a bracket got

2154
01:45:41,908 --> 01:45:53,368
deleted Jonathan Blow hello are you back

2155
01:45:50,698 --> 01:45:54,569
in the United States or not you want to

2156
01:45:53,368 --> 01:45:57,808
know how you can get a piggy hat for

2157
01:45:54,569 --> 01:46:00,118
yourself I this one was given to me as a

2158
01:45:57,809 --> 01:46:05,070
gift actually so I don't even know where

2159
01:46:00,118 --> 01:46:08,670
this came from but if I can find one

2160
01:46:05,069 --> 01:46:10,049
John I will make sure you have one so

2161
01:46:08,670 --> 01:46:12,359
that on your stream when you're doing

2162
01:46:10,050 --> 01:46:16,710
something that you know is a little

2163
01:46:12,359 --> 01:46:19,788
bloated you can just put it on and have

2164
01:46:16,710 --> 01:46:19,788
the fashion to go with it

2165
01:46:43,300 --> 01:46:47,470
Gary Johansson I think I know the answer

2166
01:46:45,579 --> 01:46:50,189
this question but do you know of some

2167
01:46:47,470 --> 01:47:01,240
simple preprocessor library that has a

2168
01:46:50,189 --> 01:47:02,649
duration as a feature oh I think any of

2169
01:47:01,239 --> 01:47:04,840
you're talking about okay so are you

2170
01:47:02,649 --> 01:47:06,460
saying like actually now I don't know

2171
01:47:04,840 --> 01:47:13,000
you're talking about are you saying like

2172
01:47:06,460 --> 01:47:16,270
you want to write a thing that takes

2173
01:47:13,000 --> 01:47:17,859
your C code and allows you to put some

2174
01:47:16,270 --> 01:47:21,310
meta code in it that iterates over

2175
01:47:17,859 --> 01:47:28,449
something and outputs new code for the C

2176
01:47:21,310 --> 01:47:31,650
compiler or I don't I don't know exactly

2177
01:47:28,449 --> 01:47:31,649
what you're talking about

2178
01:47:43,159 --> 01:48:05,819
okay um so I guess I don't know I don't

2179
01:48:03,539 --> 01:48:11,100
know in the old days people used to use

2180
01:48:05,819 --> 01:48:13,759
em for but it's awful no not the m4

2181
01:48:11,100 --> 01:48:13,760
carbine

2182
01:48:25,489 --> 01:48:33,859
so people used to use this thing but it

2183
01:48:31,819 --> 01:48:43,429
doesn't understand see so it's not that

2184
01:48:33,859 --> 01:48:53,299
useful gosh I don't know there's got to

2185
01:48:43,430 --> 01:48:54,740
be one out there it's just like I

2186
01:48:53,300 --> 01:48:55,970
wouldn't recommend using m4 but it's

2187
01:48:54,739 --> 01:48:57,559
like the only preprocessor alabbar I

2188
01:48:55,970 --> 01:48:59,030
could think of there's God I don't I

2189
01:48:57,560 --> 01:49:01,250
don't know why there isn't a standard

2190
01:48:59,029 --> 01:49:04,519
see professor Lambert probably because

2191
01:49:01,250 --> 01:49:06,529
everyone keeps using C++ which they're

2192
01:49:04,520 --> 01:49:08,480
told has the features that they need but

2193
01:49:06,529 --> 01:49:10,009
of course it doesn't have them so just a

2194
01:49:08,479 --> 01:49:12,019
simple C preprocessor would actually be

2195
01:49:10,010 --> 01:49:16,159
great because everyone could use it and

2196
01:49:12,020 --> 01:49:18,680
it would actually be good and John says

2197
01:49:16,159 --> 01:49:20,899
he can vouch for how bad m4 is and so

2198
01:49:18,680 --> 01:49:22,369
maybe definitely don't use it since I

2199
01:49:20,899 --> 01:49:25,699
just said it was bad and he said it was

2200
01:49:22,369 --> 01:49:27,439
bad it's probably pretty bad but I don't

2201
01:49:25,699 --> 01:49:34,130
know I don't know where to get a library

2202
01:49:27,439 --> 01:49:36,859
for that it would be cool LLVM the clang

2203
01:49:34,130 --> 01:49:40,460
toolset has a bunch of stuff in it that

2204
01:49:36,859 --> 01:49:44,750
you could maybe sort of massage in to

2205
01:49:40,460 --> 01:49:48,340
what you want but man that codebase is

2206
01:49:44,750 --> 01:49:50,720
an epic nightmare it's like 17 levels of

2207
01:49:48,340 --> 01:49:52,159
inheritance to do like a really basic

2208
01:49:50,720 --> 01:49:56,420
simple thing that would have been like

2209
01:49:52,159 --> 01:49:58,369
one you know that'll like write to a

2210
01:49:56,420 --> 01:50:00,230
variable or something so I don't

2211
01:49:58,369 --> 01:50:01,640
necessarily recommend that either but I

2212
01:50:00,229 --> 01:50:04,879
don't know if you don't want to write

2213
01:50:01,640 --> 01:50:09,260
one yourself I don't know where the good

2214
01:50:04,880 --> 01:50:10,940
like C preprocessor is if there is one

2215
01:50:09,260 --> 01:50:12,409
out there please someone post it on the

2216
01:50:10,939 --> 01:50:17,679
stream that'd be a very useful thing for

2217
01:50:12,409 --> 01:50:17,680
people to know about I just don't know I

2218
01:50:18,640 --> 01:50:22,030
just don't know

2219
01:50:22,899 --> 01:50:28,329
mmm D 966 asks hello sir I just started

2220
01:50:26,109 --> 01:50:30,429
creating my first game using STL in C++

2221
01:50:28,329 --> 01:50:31,840
can you give me some advice am I going

2222
01:50:30,430 --> 01:50:33,880
the right way or should I change my

2223
01:50:31,840 --> 01:50:35,409
tools plus I'm looking for a game

2224
01:50:33,880 --> 01:50:36,100
programming book do you know a good one

2225
01:50:35,409 --> 01:50:40,960
to start with

2226
01:50:36,100 --> 01:50:44,530
I worked a little with unity3d I guess

2227
01:50:40,960 --> 01:50:46,569
what I would say is I depends on what

2228
01:50:44,529 --> 01:50:48,399
your goals are right I usually what I

2229
01:50:46,569 --> 01:50:50,259
usually tell people is if their primary

2230
01:50:48,399 --> 01:50:52,629
interest is just making a game like they

2231
01:50:50,260 --> 01:50:55,239
want to be a game designer I would not

2232
01:50:52,630 --> 01:50:58,329
use I would not write your own engine

2233
01:50:55,239 --> 01:51:01,289
right and the reason for that is that

2234
01:50:58,329 --> 01:51:03,670
it's a lot of work and knowledge and

2235
01:51:01,289 --> 01:51:06,069
skills that you have to build up to do

2236
01:51:03,670 --> 01:51:08,260
something like that which i think is

2237
01:51:06,069 --> 01:51:10,899
really valuable and good and people

2238
01:51:08,260 --> 01:51:13,119
should do it if they want to be a game

2239
01:51:10,899 --> 01:51:15,309
engine programmer but if all you want to

2240
01:51:13,119 --> 01:51:18,069
do is design games you should just use

2241
01:51:15,310 --> 01:51:20,200
an existing engine because otherwise you

2242
01:51:18,069 --> 01:51:21,819
will find yourself spending a ton of

2243
01:51:20,199 --> 01:51:25,269
time learning things you don't care

2244
01:51:21,819 --> 01:51:27,789
about that's the problem right game

2245
01:51:25,270 --> 01:51:29,440
engine programming is difficult it's a

2246
01:51:27,789 --> 01:51:32,649
it's a discipline that requires

2247
01:51:29,439 --> 01:51:34,809
knowledge and skill and if you want to

2248
01:51:32,649 --> 01:51:36,659
do it it's very rewarding and

2249
01:51:34,810 --> 01:51:40,390
interesting and I highly recommend it

2250
01:51:36,659 --> 01:51:43,119
but if you don't then you will probably

2251
01:51:40,390 --> 01:51:45,310
fail in your attempts to make one

2252
01:51:43,119 --> 01:51:47,380
because you won't enjoy what you're

2253
01:51:45,310 --> 01:51:49,120
doing right and so that's a really

2254
01:51:47,380 --> 01:51:51,039
critical difference to figure out first

2255
01:51:49,119 --> 01:51:52,449
what do you want to be do you want to be

2256
01:51:51,039 --> 01:51:55,000
a game engine programmer or do you want

2257
01:51:52,449 --> 01:51:56,649
to be a game designer if you want to be

2258
01:51:55,000 --> 01:51:58,899
a game designer who's very avant-garde

2259
01:51:56,649 --> 01:52:00,339
and pushes the boundaries of things you

2260
01:51:58,899 --> 01:52:02,619
may also have to be a game designer

2261
01:52:00,340 --> 01:52:04,869
that's like what John does right what

2262
01:52:02,619 --> 01:52:07,300
John Blow does a lot of stuff he does

2263
01:52:04,869 --> 01:52:09,220
you can't do in an existing engine right

2264
01:52:07,300 --> 01:52:11,619
when braid came out there was nothing

2265
01:52:09,220 --> 01:52:13,600
that could have run that game I don't

2266
01:52:11,619 --> 01:52:15,640
even know if there still is anything

2267
01:52:13,600 --> 01:52:17,800
that can run that game right like I

2268
01:52:15,640 --> 01:52:20,369
don't know what something like unity

2269
01:52:17,800 --> 01:52:23,710
would do if you try to make the

2270
01:52:20,369 --> 01:52:26,439
x-coordinate of a player be the time

2271
01:52:23,710 --> 01:52:30,819
value of the entity system and expect

2272
01:52:26,439 --> 01:52:31,929
rewinding to be in the mix right at that

2273
01:52:30,819 --> 01:52:33,309
point you're kind of an engine

2274
01:52:31,930 --> 01:52:35,890
programmer want whether you want it or

2275
01:52:33,310 --> 01:52:36,520
not but if that's not what you're trying

2276
01:52:35,890 --> 01:52:38,500
to do if you're

2277
01:52:36,520 --> 01:52:41,440
like I just want to make my little JRPG

2278
01:52:38,500 --> 01:52:43,630
or whatever right then you know go use

2279
01:52:41,439 --> 01:52:45,159
an appropriate tool for that job because

2280
01:52:43,630 --> 01:52:47,170
if that's what you're trying to do

2281
01:52:45,159 --> 01:52:49,869
you'll be happier focusing on just the

2282
01:52:47,170 --> 01:52:51,730
parts that are the design and not the

2283
01:52:49,869 --> 01:52:52,779
part just the engine so you have to

2284
01:52:51,729 --> 01:52:55,389
figure out which one of those are trying

2285
01:52:52,779 --> 01:52:56,739
to do first if you've decided that you

2286
01:52:55,390 --> 01:52:58,000
want to be an engine programmer

2287
01:52:56,739 --> 01:52:59,260
and like if you were going to go apply

2288
01:52:58,000 --> 01:53:03,189
for a job you'd want an engine

2289
01:52:59,260 --> 01:53:06,100
programming job maybe you want to go

2290
01:53:03,189 --> 01:53:07,479
work unity to make the next edition of

2291
01:53:06,100 --> 01:53:11,079
engines or maybe you want to go work at

2292
01:53:07,479 --> 01:53:12,369
epic and like and make the next version

2293
01:53:11,079 --> 01:53:15,309
of the Unreal Engine or maybe you want

2294
01:53:12,369 --> 01:53:16,750
to go work at rockstar and make the next

2295
01:53:15,310 --> 01:53:18,940
version of Grand Theft Auto which is

2296
01:53:16,750 --> 01:53:22,960
always on a custom engine right

2297
01:53:18,939 --> 01:53:26,619
bla bla bla bla bla depending on what

2298
01:53:22,960 --> 01:53:28,630
your goals are there you may want to

2299
01:53:26,619 --> 01:53:30,279
start doing your own engine programming

2300
01:53:28,630 --> 01:53:33,489
and in that case C plus plus plus

2301
01:53:30,279 --> 01:53:36,939
SDL is a pretty good way to go a lot of

2302
01:53:33,489 --> 01:53:38,319
games use SEL it's it's reasonable you

2303
01:53:36,939 --> 01:53:39,549
know not everything in it is something

2304
01:53:38,319 --> 01:53:41,019
that I would necessarily think is the

2305
01:53:39,550 --> 01:53:43,060
right way to do things but then again

2306
01:53:41,020 --> 01:53:44,350
you know that's true of everything right

2307
01:53:43,060 --> 01:53:47,080
everyone always has different ways

2308
01:53:44,350 --> 01:53:49,480
they're do things so it's using SDL is a

2309
01:53:47,079 --> 01:53:51,189
fine way to get started and it abstract

2310
01:53:49,479 --> 01:53:53,429
away the platform part that maybe you

2311
01:53:51,189 --> 01:53:55,750
don't want to focus on right now for

2312
01:53:53,430 --> 01:53:57,600
programming books I don't know I haven't

2313
01:53:55,750 --> 01:54:00,159
read any of the ones in recent memory

2314
01:53:57,600 --> 01:54:04,260
but you know I've heard good things

2315
01:54:00,159 --> 01:54:12,010
about the game engine programming book

2316
01:54:04,260 --> 01:54:16,090
that that I think just got revised to

2317
01:54:12,010 --> 01:54:17,949
its third edition or is soon being

2318
01:54:16,090 --> 01:54:22,600
revised anyway Jason Gregory's engine

2319
01:54:17,949 --> 01:54:27,609
book is probably a good bet again I

2320
01:54:22,600 --> 01:54:28,840
haven't read any of these books because

2321
01:54:27,609 --> 01:54:30,099
it's just been a long time since I've

2322
01:54:28,840 --> 01:54:33,190
been looking for intro to architecture

2323
01:54:30,100 --> 01:54:36,610
kinds of stuff but I suspect this is

2324
01:54:33,189 --> 01:54:38,949
probably a good one Chase is pretty

2325
01:54:36,609 --> 01:54:42,159
no-nonsense he tends to be pretty

2326
01:54:38,949 --> 01:54:43,899
serious about design and it's probably a

2327
01:54:42,159 --> 01:54:48,659
reasonable place to get some information

2328
01:54:43,899 --> 01:54:48,659
right so maybe take a look at that one

2329
01:54:48,789 --> 01:54:54,359
I don't know what else

2330
01:54:56,880 --> 01:55:01,000
see voucher says the current generator

2331
01:54:59,199 --> 01:55:02,289
always creates two tile wide walls when

2332
01:55:01,000 --> 01:55:03,640
rooms are adjacent will you leave it

2333
01:55:02,289 --> 01:55:05,680
like this because it's easier to include

2334
01:55:03,640 --> 01:55:06,820
the walls inside the room volume would

2335
01:55:05,680 --> 01:55:08,260
you take the same approach of the tile

2336
01:55:06,819 --> 01:55:10,059
size we're not tied to the traversal

2337
01:55:08,260 --> 01:55:13,090
size which would allowed for thinner

2338
01:55:10,060 --> 01:55:15,580
walls for example um we will probably

2339
01:55:13,090 --> 01:55:18,640
support both actually so at the moment

2340
01:55:15,579 --> 01:55:20,470
I'm just making the room generation code

2341
01:55:18,640 --> 01:55:21,970
is really weak right it's just kind of

2342
01:55:20,470 --> 01:55:24,760
sitting there waiting for us to go play

2343
01:55:21,970 --> 01:55:27,190
with that more so it doesn't know about

2344
01:55:24,760 --> 01:55:29,619
the concept that we may want to overlap

2345
01:55:27,189 --> 01:55:32,439
rooms and have a shared wall boundary

2346
01:55:29,619 --> 01:55:35,409
between them so I would actually say we

2347
01:55:32,439 --> 01:55:37,689
might make one tile wide things in some

2348
01:55:35,409 --> 01:55:40,000
places as well so I don't know what

2349
01:55:37,689 --> 01:55:42,159
we'll do there but the only reason swing

2350
01:55:40,000 --> 01:55:43,989
it that way right now is just because

2351
01:55:42,159 --> 01:55:46,149
that's sort of the way we had been doing

2352
01:55:43,989 --> 01:55:51,429
things our previous rooms were that way

2353
01:55:46,149 --> 01:55:53,170
rooms had their own walls to them and

2354
01:55:51,430 --> 01:55:54,730
you kind of had to do it that way in the

2355
01:55:53,170 --> 01:55:56,560
old days when it was tile mappy because

2356
01:55:54,729 --> 01:55:58,000
you had one tiles on one side and one

2357
01:55:56,560 --> 01:55:59,470
tile on the other side for the angle of

2358
01:55:58,000 --> 01:56:01,449
the wall we don't have to do that

2359
01:55:59,470 --> 01:56:03,820
because we have actual 3d now so we

2360
01:56:01,449 --> 01:56:05,949
could do a single wall down the middle

2361
01:56:03,819 --> 01:56:08,759
whether we want to or not will depend on

2362
01:56:05,949 --> 01:56:12,729
some gameplay concerns it I don't know

2363
01:56:08,760 --> 01:56:15,430
so I guess what I would say is we

2364
01:56:12,729 --> 01:56:17,109
probably will end up having some areas

2365
01:56:15,430 --> 01:56:20,369
where we only want one wide and we'll

2366
01:56:17,109 --> 01:56:20,369
see how to do that when we get there

2367
01:56:25,689 --> 01:56:29,929
but why not one says lid plane can parse

2368
01:56:28,460 --> 01:56:31,369
your code and give you the ast it's a

2369
01:56:29,930 --> 01:56:32,630
simple C interface so that might be a

2370
01:56:31,369 --> 01:56:38,239
place to go if you can maybe boil it

2371
01:56:32,630 --> 01:56:39,650
down to that well this can you show the

2372
01:56:38,239 --> 01:56:45,409
game I just fell asleep and missed all

2373
01:56:39,649 --> 01:56:49,129
the coding I'm sure for you Val bus

2374
01:56:45,409 --> 01:56:50,630
absolutely so we just were making the

2375
01:56:49,130 --> 01:56:54,880
thing that would create the orphanage

2376
01:56:50,630 --> 01:56:54,880
layout so you can see there it is right

2377
01:56:55,600 --> 01:57:01,810
and this is the orphans layout we said

2378
01:56:59,180 --> 01:57:01,810
we wanted right

2379
01:57:10,890 --> 01:57:17,250
what to do if a CS course enforces OOP

2380
01:57:14,659 --> 01:57:21,329
well so the thing with object-oriented

2381
01:57:17,250 --> 01:57:27,529
programming is it's a common requirement

2382
01:57:21,329 --> 01:57:27,529
for our courses or for work so you know

2383
01:57:27,710 --> 01:57:33,000
OOP is one of those things I think we'll

2384
01:57:29,909 --> 01:57:34,559
be gone in 30 40 years as anything that

2385
01:57:33,000 --> 01:57:36,210
anyone ever thought was useful or

2386
01:57:34,560 --> 01:57:37,740
interesting right I don't think it's got

2387
01:57:36,210 --> 01:57:39,539
any legs on it it's one of those like

2388
01:57:37,739 --> 01:57:41,309
fad things that you know once we

2389
01:57:39,539 --> 01:57:43,350
actually have metrics people will go oh

2390
01:57:41,310 --> 01:57:45,870
yeah this was dumb or whatever so I

2391
01:57:43,350 --> 01:57:48,930
think it's got much legs to it but it's

2392
01:57:45,869 --> 01:57:50,670
definitely around at the moment and so I

2393
01:57:48,930 --> 01:57:53,579
don't think you should look at a CS

2394
01:57:50,670 --> 01:57:54,869
course in forcing OOP as a problem you

2395
01:57:53,579 --> 01:57:56,729
should know how to program

2396
01:57:54,869 --> 01:57:58,470
object-oriented programming because you

2397
01:57:56,729 --> 01:58:00,509
may be asked to do it or you may have to

2398
01:57:58,470 --> 01:58:01,800
use code that does it and if you don't

2399
01:58:00,510 --> 01:58:05,430
understand how it works you're at a

2400
01:58:01,800 --> 01:58:07,320
disadvantage there right I know how to

2401
01:58:05,430 --> 01:58:09,539
do object oriented programming if you

2402
01:58:07,319 --> 01:58:12,599
want me to do an object oriented program

2403
01:58:09,539 --> 01:58:15,659
I can do that right I know how to do

2404
01:58:12,600 --> 01:58:18,300
template metaprogramming like I can do

2405
01:58:15,659 --> 01:58:20,489
all those things I choose not to because

2406
01:58:18,300 --> 01:58:22,500
after having used them I know that they

2407
01:58:20,489 --> 01:58:25,920
are too limited and I don't find them to

2408
01:58:22,500 --> 01:58:27,149
work right especially not in C++ where

2409
01:58:25,920 --> 01:58:29,760
the object-oriented programming

2410
01:58:27,149 --> 01:58:30,750
constructs are weak there are languages

2411
01:58:29,760 --> 01:58:32,070
where the objects programming

2412
01:58:30,750 --> 01:58:34,590
object-oriented programming constructs

2413
01:58:32,069 --> 01:58:36,149
are stronger and there's more of an

2414
01:58:34,590 --> 01:58:39,319
argument to use them in those languages

2415
01:58:36,149 --> 01:58:44,129
C++ is not that language right

2416
01:58:39,319 --> 01:58:46,109
but either way just because

2417
01:58:44,130 --> 01:58:48,810
object-oriented programming is usually a

2418
01:58:46,109 --> 01:58:51,719
bad idea doesn't mean you shouldn't know

2419
01:58:48,810 --> 01:58:54,090
how to do it especially in today's work

2420
01:58:51,720 --> 01:58:56,640
environment you will probably be called

2421
01:58:54,090 --> 01:58:58,829
upon to understand at least if not write

2422
01:58:56,640 --> 01:59:01,680
object-oriented programming code at your

2423
01:58:58,829 --> 01:59:06,329
first job because many places use it

2424
01:59:01,680 --> 01:59:09,060
sadly and so you need to be able to do

2425
01:59:06,329 --> 01:59:10,260
that you need to be understand what

2426
01:59:09,060 --> 01:59:12,240
people are talking about when they talk

2427
01:59:10,260 --> 01:59:14,100
about how to transfer code you need to

2428
01:59:12,239 --> 01:59:16,380
be under able to understand how people

2429
01:59:14,100 --> 01:59:18,600
expect auditory schoo to look and behave

2430
01:59:16,380 --> 01:59:21,720
so that you can make it and interface

2431
01:59:18,600 --> 01:59:23,539
with it as necessary I would never write

2432
01:59:21,720 --> 01:59:24,659
it because I don't think it's useful

2433
01:59:23,539 --> 01:59:25,949
that's

2434
01:59:24,659 --> 01:59:28,729
different from saying you shouldn't know

2435
01:59:25,949 --> 01:59:31,170
how it works not everything that sucks

2436
01:59:28,729 --> 01:59:34,769
shouldn't be understood right and

2437
01:59:31,170 --> 01:59:38,670
furthermore if you never actually learn

2438
01:59:34,770 --> 01:59:40,860
it yourself you wouldn't know that it's

2439
01:59:38,670 --> 01:59:42,720
lousy you just have to take my word for

2440
01:59:40,859 --> 01:59:45,329
it and what if I'm wrong

2441
01:59:42,720 --> 01:59:48,300
tons of people tell you ooop is good and

2442
01:59:45,329 --> 01:59:50,670
I'm telling you they're wrong right if

2443
01:59:48,300 --> 01:59:52,350
you would always took their advice you'd

2444
01:59:50,670 --> 01:59:54,329
never learn how to do things the non OOP

2445
01:59:52,350 --> 01:59:56,910
way and it might be that'd be really bad

2446
01:59:54,329 --> 01:59:59,789
similarly maybe I'm wrong and if I'm

2447
01:59:56,909 --> 02:00:01,260
wrong you need to know that so learning

2448
01:59:59,789 --> 02:00:04,199
different programming styles is very

2449
02:00:01,260 --> 02:00:06,210
important because if you don't learn

2450
02:00:04,199 --> 02:00:08,399
them you cannot make an honest

2451
02:00:06,210 --> 02:00:09,869
assessment yourself take a step back and

2452
02:00:08,399 --> 02:00:12,599
go which of these things do I think

2453
02:00:09,869 --> 02:00:17,369
actually results in more well working

2454
02:00:12,600 --> 02:00:21,840
programs in less time etc so don't think

2455
02:00:17,369 --> 02:00:24,119
of your OOP class or job as man this is

2456
02:00:21,840 --> 02:00:25,909
awful I'm not getting out of this think

2457
02:00:24,119 --> 02:00:27,989
of that as your opportunity to

2458
02:00:25,909 --> 02:00:32,849
understand object-oriented programming

2459
02:00:27,989 --> 02:00:34,559
and assess it and that's valuable even

2460
02:00:32,850 --> 02:00:37,400
if you come away thinking the exact same

2461
02:00:34,560 --> 02:00:40,800
thing I think which is that it's useless

2462
02:00:37,399 --> 02:00:43,170
now you know now you know for for real

2463
02:00:40,800 --> 02:00:45,539
you don't know just because I told you

2464
02:00:43,170 --> 02:00:47,699
you know because you evaluated it and

2465
02:00:45,539 --> 02:00:51,000
that's gonna be really valuable to you

2466
02:00:47,699 --> 02:00:53,309
going forwards because I'm not gonna be

2467
02:00:51,000 --> 02:00:55,619
there to tell you everything right you

2468
02:00:53,310 --> 02:00:59,010
can't just go ask me or some other

2469
02:00:55,619 --> 02:01:01,769
person what to do you should be able to

2470
02:00:59,010 --> 02:01:03,480
assess every new programming technique

2471
02:01:01,770 --> 02:01:06,390
that you're exposed to you should be

2472
02:01:03,479 --> 02:01:08,549
able to learn it evaluate it and make a

2473
02:01:06,390 --> 02:01:10,520
decision about whether you want some or

2474
02:01:08,550 --> 02:01:14,550
all of that in your programming style

2475
02:01:10,520 --> 02:01:18,330
right without having to appeal to an

2476
02:01:14,550 --> 02:01:19,829
expert on the topic somewhere and trust

2477
02:01:18,329 --> 02:01:23,970
that they know what they're talking

2478
02:01:19,829 --> 02:01:26,039
about oftentimes they don't or even if

2479
02:01:23,970 --> 02:01:27,780
they do it may be true for their

2480
02:01:26,039 --> 02:01:30,689
circumstance and not yours

2481
02:01:27,779 --> 02:01:32,699
maybe there are certain things that on a

2482
02:01:30,689 --> 02:01:34,500
large team are useful programming

2483
02:01:32,699 --> 02:01:36,929
practices that when you're a team of one

2484
02:01:34,500 --> 02:01:37,760
just don't make any sense which one of

2485
02:01:36,930 --> 02:01:41,780
those are you doing

2486
02:01:37,760 --> 02:01:45,590
well don't assume that everything they

2487
02:01:41,779 --> 02:01:47,179
said then just applies right maybe

2488
02:01:45,590 --> 02:01:48,819
you're doing really performance oriented

2489
02:01:47,180 --> 02:01:52,100
programming and something else isn't

2490
02:01:48,819 --> 02:01:53,569
maybe those two things create very

2491
02:01:52,100 --> 02:01:58,690
different programming requirements right

2492
02:01:53,569 --> 02:02:02,380
bla bla bla bla bla bla bla so I think

2493
02:01:58,689 --> 02:02:04,429
that's really how you should approach

2494
02:02:02,380 --> 02:02:06,109
opportunities to learn things like

2495
02:02:04,430 --> 02:02:08,619
opportunity programming that you may

2496
02:02:06,109 --> 02:02:12,699
kind of know a priori or a waste of time

2497
02:02:08,619 --> 02:02:16,099
it's not necessarily a waste of time to

2498
02:02:12,699 --> 02:02:18,829
figure that out yourself or go into it

2499
02:02:16,100 --> 02:02:20,090
with an open mind and see if you come to

2500
02:02:18,829 --> 02:02:23,859
similar conclusions because you may

2501
02:02:20,090 --> 02:02:23,860
learn something really valuable there

2502
02:02:27,880 --> 02:02:36,380
what do you think about Lua and love 2d

2503
02:02:30,350 --> 02:02:37,880
I have not used them what paradigm to

2504
02:02:36,380 --> 02:02:39,289
use instead of we just focused on

2505
02:02:37,880 --> 02:02:41,119
straightforward procedural programming

2506
02:02:39,289 --> 02:02:45,850
like the traditional style of C

2507
02:02:41,119 --> 02:02:45,849
programming that was around before OOP

2508
02:02:48,880 --> 02:02:52,699
Jonathan Blow adds the problem is that

2509
02:02:51,050 --> 02:02:54,680
understanding why OOP is really bad

2510
02:02:52,699 --> 02:02:55,939
probably requires five plus years of

2511
02:02:54,680 --> 02:02:57,619
experience because it takes that long

2512
02:02:55,939 --> 02:02:59,689
deal to build sufficiently complex

2513
02:02:57,619 --> 02:03:01,699
programs such that you know what should

2514
02:02:59,689 --> 02:03:06,109
be easy or which complications are

2515
02:03:01,699 --> 02:03:10,880
unnecessary I guess I would say I do

2516
02:03:06,109 --> 02:03:12,859
agree with that but I don't know what

2517
02:03:10,880 --> 02:03:15,770
else to say you need to be able to learn

2518
02:03:12,859 --> 02:03:18,019
why things are good and bad and I think

2519
02:03:15,770 --> 02:03:20,120
building up that experience is useful I

2520
02:03:18,020 --> 02:03:22,370
don't know that you want to do five

2521
02:03:20,119 --> 02:03:24,319
years of programming exclusively like

2522
02:03:22,369 --> 02:03:28,970
like I did for example before I came to

2523
02:03:24,319 --> 02:03:31,219
those conclusions but I think you want

2524
02:03:28,970 --> 02:03:32,420
to understand it and try to think about

2525
02:03:31,220 --> 02:03:39,710
those things at a higher level if

2526
02:03:32,420 --> 02:03:42,920
possible so one of the things that I

2527
02:03:39,710 --> 02:03:46,039
actually I should mention that's kind of

2528
02:03:42,920 --> 02:03:48,430
a programming philosophy point that has

2529
02:03:46,039 --> 02:03:50,960
to do with OOP as well is that

2530
02:03:48,430 --> 02:03:51,710
fundamentally speaking I also feel like

2531
02:03:50,960 --> 02:03:54,829
there

2532
02:03:51,710 --> 02:03:57,619
is sort of a true aspect of programming

2533
02:03:54,829 --> 02:04:02,630
that's emerging that I become more

2534
02:03:57,619 --> 02:04:04,579
certain of every year which is that the

2535
02:04:02,630 --> 02:04:06,920
problem with object-oriented programming

2536
02:04:04,579 --> 02:04:10,760
is very similar to the problems with

2537
02:04:06,920 --> 02:04:15,890
other styles of programming that share

2538
02:04:10,760 --> 02:04:18,170
its design philosophy which is that it

2539
02:04:15,890 --> 02:04:22,810
is a design philosophy divorced from the

2540
02:04:18,170 --> 02:04:24,800
computer so there is literally nothing

2541
02:04:22,810 --> 02:04:27,070
that has anything to do with

2542
02:04:24,800 --> 02:04:30,980
object-oriented programming in a CPU

2543
02:04:27,069 --> 02:04:35,109
right a CPU is procedural that is what

2544
02:04:30,979 --> 02:04:39,199
it is so when you start to design

2545
02:04:35,109 --> 02:04:43,639
languages whose core tenants do not

2546
02:04:39,199 --> 02:04:46,340
respect the fact that the CPU does not

2547
02:04:43,640 --> 02:04:48,440
have the things that it is claiming are

2548
02:04:46,340 --> 02:04:51,920
central to the design process I think

2549
02:04:48,439 --> 02:04:53,689
you have made a fundamental mistake that

2550
02:04:51,920 --> 02:04:56,510
doesn't mean you don't want higher level

2551
02:04:53,689 --> 02:04:58,279
of language constructs but what it does

2552
02:04:56,510 --> 02:05:00,320
mean is those higher level language

2553
02:04:58,279 --> 02:05:02,359
constructs must be constructed in such a

2554
02:05:00,319 --> 02:05:07,969
way as to respect the fact that the end

2555
02:05:02,359 --> 02:05:11,170
product is code that a CPU runs and C++

2556
02:05:07,969 --> 02:05:14,000
for example long since forgot that and

2557
02:05:11,170 --> 02:05:18,590
most object-oriented design forgets that

2558
02:05:14,000 --> 02:05:21,529
fact and that fact is crucial so I think

2559
02:05:18,590 --> 02:05:23,989
once you divorce yourself from the

2560
02:05:21,529 --> 02:05:28,069
notion that the important thing is

2561
02:05:23,988 --> 02:05:29,869
generating CPU code efficiently and how

2562
02:05:28,069 --> 02:05:32,869
can you give the programmer the most

2563
02:05:29,869 --> 02:05:36,289
ability to have control over the CPU

2564
02:05:32,869 --> 02:05:39,019
code that is generated in a clean and

2565
02:05:36,289 --> 02:05:41,600
efficient manner when you've lost sight

2566
02:05:39,020 --> 02:05:43,670
of that as the goal and you start to

2567
02:05:41,600 --> 02:05:46,000
think of the goal as other things that

2568
02:05:43,670 --> 02:05:47,989
are unrelated to that then you have

2569
02:05:46,000 --> 02:05:52,699
fundamentally lost your way and I think

2570
02:05:47,988 --> 02:05:56,199
your language will never be good right I

2571
02:05:52,699 --> 02:05:59,269
so I think that is really the core

2572
02:05:56,199 --> 02:06:01,519
language design tenant that should be

2573
02:05:59,270 --> 02:06:04,010
respected and OOP does not respect it

2574
02:06:01,520 --> 02:06:05,630
its core tenants are all things

2575
02:06:04,010 --> 02:06:08,659
unrelated to the C

2576
02:06:05,630 --> 02:06:10,940
pee-yew and that's a problem again not

2577
02:06:08,658 --> 02:06:14,539
even just because of performance or

2578
02:06:10,939 --> 02:06:16,189
anything like that it's because the

2579
02:06:14,539 --> 02:06:18,380
programmers day-to-day work is to

2580
02:06:16,189 --> 02:06:20,089
produce a working piece of CPU code and

2581
02:06:18,380 --> 02:06:22,699
when your language starts having most of

2582
02:06:20,090 --> 02:06:24,409
its features not be about that that is

2583
02:06:22,698 --> 02:06:26,029
when it becomes cumbersome to do real

2584
02:06:24,408 --> 02:06:29,509
work with this language and we've seen

2585
02:06:26,029 --> 02:06:30,738
that with C++ doing a very simple thing

2586
02:06:29,510 --> 02:06:33,320
that you'd think would be very

2587
02:06:30,738 --> 02:06:35,809
straightforward to do in terms of CPU

2588
02:06:33,319 --> 02:06:37,908
code generation in C++ is like

2589
02:06:35,810 --> 02:06:39,409
impossible and the reason is because

2590
02:06:37,908 --> 02:06:44,089
they never thought of that is that go as

2591
02:06:39,408 --> 02:06:46,189
a goal right that's why it's been so

2592
02:06:44,090 --> 02:06:48,170
late to add things that are obvious in

2593
02:06:46,189 --> 02:06:51,259
terms of CPUs codes such as

2594
02:06:48,170 --> 02:06:52,850
introspection and things like that so I

2595
02:06:51,260 --> 02:06:55,310
would just point out that philosophical

2596
02:06:52,850 --> 02:06:57,170
problem C++ has it in spades

2597
02:06:55,310 --> 02:06:59,090
so do a lot of other object-oriented

2598
02:06:57,170 --> 02:07:02,210
programming constructs that's usually

2599
02:06:59,090 --> 02:07:04,940
the reasons why I end up not liking them

2600
02:07:02,210 --> 02:07:06,980
is because I know what I want to CPU to

2601
02:07:04,939 --> 02:07:09,529
do and what I am fundamentally looking

2602
02:07:06,979 --> 02:07:12,049
for is the simplest smallest possible

2603
02:07:09,529 --> 02:07:16,698
amount of high-level code I can write

2604
02:07:12,050 --> 02:07:19,579
that generates that CPU code not some

2605
02:07:16,698 --> 02:07:21,379
huge sprawling mess of other CPU code

2606
02:07:19,579 --> 02:07:23,269
that happens to reduce the same result

2607
02:07:21,380 --> 02:07:25,429
very slowly and with a ton of memory and

2608
02:07:23,270 --> 02:07:28,880
that's usually what OOP actually gives

2609
02:07:25,429 --> 02:07:32,119
you right if you're lucky a lot of times

2610
02:07:28,880 --> 02:07:34,750
doesn't even give you that but you know

2611
02:07:32,119 --> 02:07:34,750
that's a separate issue

2612
02:07:41,300 --> 02:07:56,489
all right um I'm gonna go ahead and

2613
02:07:50,159 --> 02:07:58,109
close down here thank you everyone for

2614
02:07:56,488 --> 02:07:59,369
joining me for less than a handmade hero

2615
02:07:58,109 --> 02:08:02,429
it's a pleasure coding with you as

2616
02:07:59,369 --> 02:08:03,809
always if you would like to follow along

2617
02:08:02,430 --> 02:08:05,400
series at home you can always peer to

2618
02:08:03,810 --> 02:08:07,080
the game on handmade here org it comes

2619
02:08:05,399 --> 02:08:08,339
to the source code so you can play

2620
02:08:07,079 --> 02:08:11,309
around with it if you want to for

2621
02:08:08,340 --> 02:08:13,800
example go try your hand at making some

2622
02:08:11,310 --> 02:08:15,330
smarter room layout code you could do

2623
02:08:13,800 --> 02:08:18,690
that before I get to it if you'd like

2624
02:08:15,329 --> 02:08:21,000
and see how your coding skills have

2625
02:08:18,689 --> 02:08:22,559
progressed that's it for today I'll be

2626
02:08:21,000 --> 02:08:25,680
back here tomorrow so if you would like

2627
02:08:22,560 --> 02:08:27,630
to see some more of the replacement code

2628
02:08:25,680 --> 02:08:28,110
that's the place to do it same time same

2629
02:08:27,630 --> 02:08:29,489
place

2630
02:08:28,109 --> 02:08:31,349
hope you see you back here for that

2631
02:08:29,488 --> 02:08:32,099
until then have fun programming I'll see

2632
02:08:31,350 --> 02:08:34,910
everyone on the Internet

2633
02:08:32,100 --> 02:08:34,910
take these everybody

