1
00:00:00,399 --> 00:00:04,080
hello everyone and welcome to handmade

2
00:00:02,480 --> 00:00:07,278
hero sure we could a complete game

3
00:00:04,080 --> 00:00:09,120
live on stream uh we um

4
00:00:07,278 --> 00:00:11,039
we don't really know what we're gonna do

5
00:00:09,119 --> 00:00:14,399
today um

6
00:00:11,039 --> 00:00:16,399
because we

7
00:00:14,400 --> 00:00:18,080
we sort of finished the layout stuff

8
00:00:16,399 --> 00:00:21,358
that we wanted to do

9
00:00:18,079 --> 00:00:23,759
and i think in terms of like moving

10
00:00:21,359 --> 00:00:26,640
forward on gameplay stuff

11
00:00:23,760 --> 00:00:27,359
probably the next good thing to work on

12
00:00:26,640 --> 00:00:30,880
would be like

13
00:00:27,359 --> 00:00:34,239
trying to play around with uh like

14
00:00:30,879 --> 00:00:35,119
with combat stuff just so i can get a

15
00:00:34,238 --> 00:00:38,238
feel for like

16
00:00:35,119 --> 00:00:41,039
how to make that interesting like how

17
00:00:38,238 --> 00:00:41,759
like essentially i kind of like the tile

18
00:00:41,039 --> 00:00:43,280
stuff

19
00:00:41,759 --> 00:00:44,799
it worked out roughly the way that i

20
00:00:43,280 --> 00:00:47,840
thought it would um

21
00:00:44,799 --> 00:00:51,280
and so i i like more or less

22
00:00:47,840 --> 00:00:53,359
where the uh where that's going uh

23
00:00:51,280 --> 00:00:54,320
and i think it's good enough now that we

24
00:00:53,359 --> 00:00:56,839
can play with it

25
00:00:54,320 --> 00:00:59,840
i don't know why what's going on here

26
00:00:56,840 --> 00:01:03,199
oops

27
00:00:59,840 --> 00:01:05,280
there we go um and so i

28
00:01:03,198 --> 00:01:06,798
i don't know on the other hand much

29
00:01:05,280 --> 00:01:10,640
about the combat

30
00:01:06,799 --> 00:01:13,040
so i kind of want some way of

31
00:01:10,640 --> 00:01:13,680
like investigating that and figuring out

32
00:01:13,040 --> 00:01:15,680
like

33
00:01:13,680 --> 00:01:16,960
just sort of some basic ways that that

34
00:01:15,680 --> 00:01:19,439
can be fun

35
00:01:16,959 --> 00:01:20,959
um and part of that may just be like

36
00:01:19,438 --> 00:01:24,319
making sure that it feels

37
00:01:20,959 --> 00:01:24,879
good and that's you know just a matter

38
00:01:24,319 --> 00:01:27,519
of like

39
00:01:24,879 --> 00:01:29,280
polish but uh there's also just a

40
00:01:27,519 --> 00:01:33,118
question of like what exactly

41
00:01:29,280 --> 00:01:36,320
you do in there right um so at least

42
00:01:33,118 --> 00:01:38,319
at the moment i like the the tiles uh

43
00:01:36,319 --> 00:01:39,758
and you know there's a couple things too

44
00:01:38,319 --> 00:01:42,398
while we're doing the gameplay stuff

45
00:01:39,759 --> 00:01:44,079
we should fix the tile so that uh it it

46
00:01:42,399 --> 00:01:46,399
triggers when you land on them

47
00:01:44,078 --> 00:01:47,919
just so you can see so it looks better

48
00:01:46,399 --> 00:01:49,200
uh

49
00:01:47,920 --> 00:01:51,600
and then there's also a couple other

50
00:01:49,200 --> 00:01:54,719
things like we want to fix the like um

51
00:01:51,599 --> 00:01:56,078
going down too far issue uh where

52
00:01:54,719 --> 00:01:57,920
you're allowed to like push them down

53
00:01:56,078 --> 00:01:59,359
really far so there's a couple things

54
00:01:57,920 --> 00:02:01,920
we'd like to do

55
00:01:59,359 --> 00:02:03,599
but on the whole i would say like kind

56
00:02:01,920 --> 00:02:04,239
of minor and we can get to those at any

57
00:02:03,599 --> 00:02:06,239
time

58
00:02:04,239 --> 00:02:08,478
whereas like combat stuff we just don't

59
00:02:06,239 --> 00:02:10,239
know right so i'd like to go in

60
00:02:08,479 --> 00:02:12,000
and and try to make like punching feel

61
00:02:10,239 --> 00:02:13,759
good we don't really have anything in

62
00:02:12,000 --> 00:02:15,120
there except for just the fact that we

63
00:02:13,759 --> 00:02:17,598
you know proved we could animate this

64
00:02:15,120 --> 00:02:20,400
little glove thing um

65
00:02:17,598 --> 00:02:21,359
but i don't really know how this is

66
00:02:20,400 --> 00:02:23,840
going to feel and

67
00:02:21,360 --> 00:02:23,840
furthermore

68
00:02:24,719 --> 00:02:32,400
um furthermore i don't actually know

69
00:02:28,080 --> 00:02:35,440
uh how we might want to deal with

70
00:02:32,400 --> 00:02:38,400
the like you'll notice this this dude

71
00:02:35,439 --> 00:02:39,759
just left right um we also have that

72
00:02:38,400 --> 00:02:41,760
weird room thing where if you go

73
00:02:39,759 --> 00:02:42,878
outside of the room it can't it doesn't

74
00:02:41,759 --> 00:02:44,959
find a room volume

75
00:02:42,878 --> 00:02:46,479
and we would should probably fix that

76
00:02:44,959 --> 00:02:48,000
not that it will happen because

77
00:02:46,479 --> 00:02:49,039
that's just a bug that those go down far

78
00:02:48,000 --> 00:02:50,318
enough anyway but it's still just kind

79
00:02:49,039 --> 00:02:52,560
of weird so

80
00:02:50,318 --> 00:02:54,479
we we don't also know like what we want

81
00:02:52,560 --> 00:02:56,239
our enemies to do so for example right

82
00:02:54,479 --> 00:02:57,840
now that guy's just moving randomly and

83
00:02:56,239 --> 00:02:59,360
you can see he just like left

84
00:02:57,840 --> 00:03:01,280
right he just walks out of the room that

85
00:02:59,360 --> 00:03:03,280
he's in uh

86
00:03:01,280 --> 00:03:04,800
and you know i mean it's kind of

87
00:03:03,280 --> 00:03:06,158
interesting to be able to have enemies

88
00:03:04,800 --> 00:03:07,599
that can move from room to room but at

89
00:03:06,158 --> 00:03:09,039
the same time it's like well that's not

90
00:03:07,598 --> 00:03:10,399
very interesting

91
00:03:09,039 --> 00:03:12,479
from the standpoint of like actually

92
00:03:10,400 --> 00:03:13,280
playing the game so we probably need

93
00:03:12,479 --> 00:03:15,598
things that are like

94
00:03:13,280 --> 00:03:17,360
okay enemies you know well you know

95
00:03:15,598 --> 00:03:18,959
maybe having them seek the player will

96
00:03:17,360 --> 00:03:21,920
be enough to prevent that

97
00:03:18,959 --> 00:03:23,360
maybe it won't i don't know um but we

98
00:03:21,919 --> 00:03:25,759
probably need some idea

99
00:03:23,360 --> 00:03:27,519
of like we don't want all the enemies

100
00:03:25,759 --> 00:03:29,120
like leaving the rooms they're in

101
00:03:27,519 --> 00:03:32,080
and that because that doesn't really

102
00:03:29,120 --> 00:03:35,439
make for very good gameplay either

103
00:03:32,080 --> 00:03:38,319
so i think you know i don't know and

104
00:03:35,439 --> 00:03:38,959
like i've said many times before on the

105
00:03:38,318 --> 00:03:40,639
stream

106
00:03:38,959 --> 00:03:42,479
my understanding of how usually to

107
00:03:40,639 --> 00:03:44,958
proceed in game design

108
00:03:42,479 --> 00:03:47,039
um which i don't do so i don't pretend

109
00:03:44,959 --> 00:03:48,799
to know but my understanding is that

110
00:03:47,039 --> 00:03:49,919
like usually you want to sort of play

111
00:03:48,799 --> 00:03:53,200
with things

112
00:03:49,919 --> 00:03:56,719
and try out some ideas and try to follow

113
00:03:53,199 --> 00:03:58,719
ideas that feel good when you actually

114
00:03:56,719 --> 00:04:01,759
put them together

115
00:03:58,719 --> 00:04:03,519
because much like with programming you

116
00:04:01,759 --> 00:04:05,759
can't really know ahead of time

117
00:04:03,519 --> 00:04:07,360
all of the subtle issues that might be

118
00:04:05,759 --> 00:04:09,598
involved in what you're doing

119
00:04:07,360 --> 00:04:11,360
and so if you try to like plan

120
00:04:09,598 --> 00:04:14,238
everything out ahead of time

121
00:04:11,360 --> 00:04:14,640
it doesn't really work very well and so

122
00:04:14,239 --> 00:04:17,040
you know

123
00:04:14,639 --> 00:04:18,639
i'm gonna try and follow that advice

124
00:04:17,040 --> 00:04:21,919
right

125
00:04:18,639 --> 00:04:22,720
um so uh let's go ahead and take a look

126
00:04:21,918 --> 00:04:24,478
at that

127
00:04:22,720 --> 00:04:25,520
and and we'll go from there by the way i

128
00:04:24,478 --> 00:04:26,800
noticed the chat was talking about the

129
00:04:25,519 --> 00:04:27,359
fact that i'm not facing what i'm doing

130
00:04:26,800 --> 00:04:30,560
yes

131
00:04:27,360 --> 00:04:32,240
i flipped it and everyone freaked out

132
00:04:30,560 --> 00:04:32,879
they were like no you have to be facing

133
00:04:32,240 --> 00:04:36,079
the other way

134
00:04:32,879 --> 00:04:36,879
so you guys need to argue uh among

135
00:04:36,079 --> 00:04:39,519
yourselves

136
00:04:36,879 --> 00:04:40,560
about that uh because that is not my

137
00:04:39,519 --> 00:04:43,599
responsibility

138
00:04:40,560 --> 00:04:45,360
that was that was you you folks

139
00:04:43,600 --> 00:04:46,639
not knowing what you wanted so you're

140
00:04:45,360 --> 00:04:48,560
going to have to uh

141
00:04:46,639 --> 00:04:49,840
you're going to have to to to have your

142
00:04:48,560 --> 00:04:50,800
own little um

143
00:04:49,839 --> 00:04:53,439
yeah you're going to have to have your

144
00:04:50,800 --> 00:04:57,120
own little little argument there

145
00:04:53,439 --> 00:05:01,120
all right so what do we want to do here

146
00:04:57,120 --> 00:05:01,120
i i guess uh

147
00:05:01,199 --> 00:05:04,400
gosh i just don't know because like i

148
00:05:02,560 --> 00:05:08,160
said this isn't really something i do

149
00:05:04,399 --> 00:05:12,159
but i guess what i'd like to do

150
00:05:08,160 --> 00:05:12,960
is maybe have i i'd like to maybe start

151
00:05:12,160 --> 00:05:16,240
out

152
00:05:12,959 --> 00:05:17,279
by having the combat be a little bit

153
00:05:16,240 --> 00:05:20,319
asymmetric

154
00:05:17,279 --> 00:05:23,599
so i'd like to start out by having

155
00:05:20,319 --> 00:05:26,719
you on squares which you are

156
00:05:23,600 --> 00:05:29,120
right um and

157
00:05:26,720 --> 00:05:30,240
the enemy that you're fighting just

158
00:05:29,120 --> 00:05:33,519
floating

159
00:05:30,240 --> 00:05:36,639
so so the enemy is not like on

160
00:05:33,519 --> 00:05:40,399
a square at all right

161
00:05:36,639 --> 00:05:43,280
um the enemy will be like

162
00:05:40,399 --> 00:05:43,279
the enemy will be

163
00:05:46,079 --> 00:05:50,478
moving continuously over the board like

164
00:05:48,879 --> 00:05:53,279
a hovering thing

165
00:05:50,478 --> 00:05:54,639
uh and i feel like that would be

166
00:05:53,279 --> 00:05:58,318
probably the best

167
00:05:54,639 --> 00:06:00,960
option that's my guess right

168
00:05:58,319 --> 00:06:02,960
um that's what i want to start with and

169
00:06:00,959 --> 00:06:06,000
there will be hopping enemies for sure

170
00:06:02,959 --> 00:06:08,478
but i think those will be like later

171
00:06:06,000 --> 00:06:09,038
so i think the first thing you encounter

172
00:06:08,478 --> 00:06:12,719
would be

173
00:06:09,038 --> 00:06:14,318
a floating enemy and so its movement and

174
00:06:12,720 --> 00:06:16,080
your movement are different

175
00:06:14,319 --> 00:06:18,720
because i think that's somewhat

176
00:06:16,079 --> 00:06:21,680
interesting um

177
00:06:18,720 --> 00:06:22,960
so so i don't know uh but i think that's

178
00:06:21,680 --> 00:06:26,160
what i'd like to start with

179
00:06:22,959 --> 00:06:27,918
and i don't really remember to what

180
00:06:26,160 --> 00:06:29,280
extent we preserved we had some test

181
00:06:27,918 --> 00:06:30,318
code in for something like that a long

182
00:06:29,279 --> 00:06:34,399
time ago

183
00:06:30,319 --> 00:06:36,400
just because we know we did um

184
00:06:34,399 --> 00:06:37,918
and if i remember correctly there was

185
00:06:36,399 --> 00:06:40,560
ways of doing that

186
00:06:37,918 --> 00:06:40,560
like uh

187
00:06:41,360 --> 00:06:48,639
um i don't i don't know what that means

188
00:06:45,439 --> 00:06:51,519
but uh we had like the familiar and

189
00:06:48,639 --> 00:06:53,199
the familiar for example uh as far as i

190
00:06:51,519 --> 00:06:56,719
know this thing just kind of floated

191
00:06:53,199 --> 00:06:59,199
around right now i don't know

192
00:06:56,720 --> 00:07:00,800
uh we haven't tried it in a while so i

193
00:06:59,199 --> 00:07:02,079
don't know we probably need to update

194
00:07:00,800 --> 00:07:05,280
some of that code or whatever

195
00:07:02,079 --> 00:07:06,478
but we can start with that and try to

196
00:07:05,279 --> 00:07:08,318
make an enemy

197
00:07:06,478 --> 00:07:09,680
that uses basically that path that

198
00:07:08,319 --> 00:07:13,199
basically you know does

199
00:07:09,680 --> 00:07:16,400
does the same basic stuff which

200
00:07:13,199 --> 00:07:19,038
we can go to uh

201
00:07:16,399 --> 00:07:21,758
like the room gen thing and just have it

202
00:07:19,038 --> 00:07:26,478
everywhere that we were adding monstars

203
00:07:21,759 --> 00:07:30,639
um we could add sorry world gen

204
00:07:26,478 --> 00:07:33,199
we could add uh just the

205
00:07:30,639 --> 00:07:35,120
familiar and see what happens now i

206
00:07:33,199 --> 00:07:37,680
don't actually remember

207
00:07:35,120 --> 00:07:39,439
i think the there is no actual like

208
00:07:37,680 --> 00:07:41,519
logic to it at the moment right it just

209
00:07:39,439 --> 00:07:44,719
kind of slaps down

210
00:07:41,519 --> 00:07:47,758
uh enemies in rooms

211
00:07:44,720 --> 00:07:48,879
any any dungeon room i think uh so like

212
00:07:47,759 --> 00:07:53,038
when it does add

213
00:07:48,879 --> 00:07:58,319
uh what is it create dungeon

214
00:07:53,038 --> 00:08:02,079
in here it does a thing where it adds uh

215
00:07:58,319 --> 00:08:05,919
something like this uh it adds a snake

216
00:08:02,079 --> 00:08:09,120
so so this snake pattern so i assume

217
00:08:05,918 --> 00:08:12,079
that we can just add a familiar

218
00:08:09,120 --> 00:08:13,120
and see if it works right it's just been

219
00:08:12,079 --> 00:08:16,159
kind of sitting in there

220
00:08:13,120 --> 00:08:18,879
for a long time uh and i think we can do

221
00:08:16,160 --> 00:08:21,360
that so if you look

222
00:08:18,879 --> 00:08:23,120
um the snake pattern is somewhat

223
00:08:21,360 --> 00:08:24,400
complicated because it actually adds a

224
00:08:23,120 --> 00:08:26,720
bunch of stuff

225
00:08:24,399 --> 00:08:28,638
we can have sort of a more generic uh

226
00:08:26,720 --> 00:08:31,919
entity pattern thing

227
00:08:28,639 --> 00:08:36,479
that just plops down uh anything for now

228
00:08:31,918 --> 00:08:38,639
so i can do like you know um

229
00:08:36,479 --> 00:08:40,000
single enemy pattern i don't know just

230
00:08:38,639 --> 00:08:43,360
some pattern that we're gonna place

231
00:08:40,000 --> 00:08:46,720
in here uh and what i can do is just

232
00:08:43,360 --> 00:08:48,720
literally ask for a random tile anywhere

233
00:08:46,720 --> 00:08:52,080
uh and then place it down and i think

234
00:08:48,720 --> 00:08:52,080
that's all i need to do

235
00:08:53,440 --> 00:08:58,959
excuse me um

236
00:08:56,720 --> 00:09:00,800
and again i don't actually know we added

237
00:08:58,958 --> 00:09:02,879
the familiars

238
00:09:00,799 --> 00:09:04,159
it looks like we still have the code for

239
00:09:02,879 --> 00:09:06,320
how it worked

240
00:09:04,159 --> 00:09:09,199
um in here when we added it so what i'll

241
00:09:06,320 --> 00:09:11,600
do is i'll just kind of grab

242
00:09:09,200 --> 00:09:13,360
that code for now because i don't have

243
00:09:11,600 --> 00:09:15,680
any better idea

244
00:09:13,360 --> 00:09:17,519
um and we'll just go in here and and

245
00:09:15,679 --> 00:09:19,199
make a thing that like places the head

246
00:09:17,519 --> 00:09:21,440
and the shadow on there

247
00:09:19,200 --> 00:09:23,040
uh and it and for now it's going to be a

248
00:09:21,440 --> 00:09:24,399
familiar which will not attack you it'll

249
00:09:23,039 --> 00:09:27,519
just follow you around

250
00:09:24,399 --> 00:09:28,720
right so if i compile this i should get

251
00:09:27,519 --> 00:09:30,159
any errors that are like

252
00:09:28,720 --> 00:09:32,080
you know what do we need to fix to make

253
00:09:30,159 --> 00:09:33,838
this work uh the way we would expect

254
00:09:32,080 --> 00:09:35,360
so first of all this was done before we

255
00:09:33,839 --> 00:09:36,800
were using the construction grid so we

256
00:09:35,360 --> 00:09:38,240
just move

257
00:09:36,799 --> 00:09:41,278
to using the construction grid to get

258
00:09:38,240 --> 00:09:42,959
the region um for occupying here

259
00:09:41,278 --> 00:09:44,480
what you can see here is we're using

260
00:09:42,958 --> 00:09:46,399
this pattern here where we do place

261
00:09:44,480 --> 00:09:47,600
entity on traversible right and it's

262
00:09:46,399 --> 00:09:49,120
it's this kind of

263
00:09:47,600 --> 00:09:50,639
code where we just say we want to put it

264
00:09:49,120 --> 00:09:52,720
on this tile so

265
00:09:50,639 --> 00:09:53,919
this code specifically we can just

266
00:09:52,720 --> 00:09:57,839
replace uh

267
00:09:53,919 --> 00:09:57,838
here by by calling um

268
00:09:57,919 --> 00:10:02,159
calling this code and we're going to use

269
00:10:00,159 --> 00:10:03,360
the head tile instead of the standing on

270
00:10:02,159 --> 00:10:04,159
that was the thing that used to get

271
00:10:03,360 --> 00:10:06,560
passed

272
00:10:04,159 --> 00:10:07,278
so in theory i believe we can just do

273
00:10:06,559 --> 00:10:09,439
that

274
00:10:07,278 --> 00:10:11,360
and that will place entity onto the tile

275
00:10:09,440 --> 00:10:14,560
that was supposedly open

276
00:10:11,360 --> 00:10:17,200
um using the find random tile thing

277
00:10:14,559 --> 00:10:18,239
and then when we do the add piece code

278
00:10:17,200 --> 00:10:19,759
here we're just

279
00:10:18,240 --> 00:10:21,278
we just have to make sure that we can

280
00:10:19,759 --> 00:10:25,039
construct a familiar

281
00:10:21,278 --> 00:10:27,679
using uh the stuff that we you know

282
00:10:25,039 --> 00:10:28,879
basically we just need to uh change this

283
00:10:27,679 --> 00:10:32,239
stuff so that it

284
00:10:28,879 --> 00:10:34,559
gives the proper asset tags to

285
00:10:32,240 --> 00:10:35,839
add the familiar so again not much to

286
00:10:34,559 --> 00:10:37,518
really do here we don't have to

287
00:10:35,839 --> 00:10:39,040
actually assign an entity position

288
00:10:37,519 --> 00:10:39,440
because that will get taken care of for

289
00:10:39,039 --> 00:10:41,039
us

290
00:10:39,440 --> 00:10:43,120
so really we're just giving it a

291
00:10:41,039 --> 00:10:45,278
familiar brain we're giving it

292
00:10:43,120 --> 00:10:46,879
a location we're replacing it on this

293
00:10:45,278 --> 00:10:48,480
this tile here

294
00:10:46,879 --> 00:10:51,039
and then we just need to update this

295
00:10:48,480 --> 00:10:51,759
code so if i look at the way that we've

296
00:10:51,039 --> 00:10:54,078
been doing that

297
00:10:51,759 --> 00:10:54,799
in fact i can just go down here and you

298
00:10:54,078 --> 00:10:56,799
can see it

299
00:10:54,799 --> 00:10:58,240
so when we actually do the piece

300
00:10:56,799 --> 00:11:01,439
construction

301
00:10:58,240 --> 00:11:04,560
you can see this is the piece here um

302
00:11:01,440 --> 00:11:06,880
right let's see it so if i

303
00:11:04,559 --> 00:11:08,239
grab that stuff i don't know if we we

304
00:11:06,879 --> 00:11:10,240
probably need to do

305
00:11:08,240 --> 00:11:12,480
uh some extra like stuff where we

306
00:11:10,240 --> 00:11:16,000
actually do the connections and such

307
00:11:12,480 --> 00:11:16,480
right um and i don't know about shadows

308
00:11:16,000 --> 00:11:18,000
because

309
00:11:16,480 --> 00:11:19,759
kind of now we're not i don't think

310
00:11:18,000 --> 00:11:22,399
we're putting those in anymore

311
00:11:19,759 --> 00:11:22,799
manually so it may be that we don't

312
00:11:22,399 --> 00:11:25,360
really

313
00:11:22,799 --> 00:11:26,319
care about any of that stuff we do have

314
00:11:25,360 --> 00:11:30,000
the peace move

315
00:11:26,320 --> 00:11:31,920
bob offset part of things which we may

316
00:11:30,000 --> 00:11:34,000
want to do now i don't know

317
00:11:31,919 --> 00:11:35,679
how we've been like doing that looks

318
00:11:34,000 --> 00:11:37,759
like you just called the flop you just

319
00:11:35,679 --> 00:11:40,239
added up the flags at the end

320
00:11:37,759 --> 00:11:42,399
still like we used to so in theory that

321
00:11:40,240 --> 00:11:44,959
should just work um

322
00:11:42,399 --> 00:11:45,679
and we probably don't need like most the

323
00:11:44,958 --> 00:11:49,039
rest of this stuff

324
00:11:45,679 --> 00:11:50,879
apparently the familiar was larger than

325
00:11:49,039 --> 00:11:52,559
so you know i don't know if it still

326
00:11:50,879 --> 00:11:55,039
should be or not uh

327
00:11:52,559 --> 00:11:56,000
but you know it was and then it was also

328
00:11:55,039 --> 00:11:58,639
just like floating

329
00:11:56,000 --> 00:11:59,200
directly right it didn't have an offset

330
00:11:58,639 --> 00:12:02,639
so that

331
00:11:59,200 --> 00:12:05,920
may all be wrong um we don't really know

332
00:12:02,639 --> 00:12:07,278
and i'm just gonna try it and we'll see

333
00:12:05,919 --> 00:12:11,838
what happens

334
00:12:07,278 --> 00:12:11,838
uh oh yeah this is supposed to be entity

335
00:12:12,000 --> 00:12:14,799
and this is just

336
00:12:15,278 --> 00:12:21,919
the piece so i think that's about

337
00:12:19,200 --> 00:12:24,639
it uh the base asset in this case for

338
00:12:21,919 --> 00:12:26,719
the body and it might

339
00:12:24,639 --> 00:12:28,959
it probably should be the head right i

340
00:12:26,720 --> 00:12:29,839
assume uh but here that's going to come

341
00:12:28,958 --> 00:12:32,239
from the pattern

342
00:12:29,839 --> 00:12:34,560
so the base asset so that people can

343
00:12:32,240 --> 00:12:37,600
change like the look of it right

344
00:12:34,559 --> 00:12:40,399
um so i suppose that just gets added

345
00:12:37,600 --> 00:12:41,200
uh like this i and so now i don't know

346
00:12:40,399 --> 00:12:43,839
um

347
00:12:41,200 --> 00:12:45,519
i suppose we should reduce the number of

348
00:12:43,839 --> 00:12:47,279
of these this is gonna get old

349
00:12:45,519 --> 00:12:49,278
if i have to i probably need a hotkey

350
00:12:47,278 --> 00:12:51,679
that's just like open

351
00:12:49,278 --> 00:12:53,360
open all of the doors in this room

352
00:12:51,679 --> 00:12:54,559
because we're testing

353
00:12:53,360 --> 00:12:56,399
because that's going to get old pretty

354
00:12:54,559 --> 00:13:01,518
fast right

355
00:12:56,399 --> 00:13:04,639
but you know so hopefully

356
00:13:01,519 --> 00:13:06,480
let's take a look uh we are able to add

357
00:13:04,639 --> 00:13:08,720
a familiar here i don't actually see one

358
00:13:06,480 --> 00:13:08,720
though

359
00:13:09,519 --> 00:13:12,879
did i ever actually add it you know what

360
00:13:11,440 --> 00:13:15,120
i don't think i ever actually added it i

361
00:13:12,879 --> 00:13:17,200
think i spaced yeah i did

362
00:13:15,120 --> 00:13:18,959
so you can see here like if we just

363
00:13:17,200 --> 00:13:21,839
wanted to add one of these to rooms

364
00:13:18,958 --> 00:13:23,919
generally uh here's the familiar

365
00:13:21,839 --> 00:13:25,600
um and actually uh i'm just gonna call

366
00:13:23,919 --> 00:13:27,360
this enemy for now

367
00:13:25,600 --> 00:13:29,600
because we're not gonna actually want it

368
00:13:27,360 --> 00:13:31,360
to be familiar eventually so

369
00:13:29,600 --> 00:13:33,120
i'm gonna change that anyway but we'll

370
00:13:31,360 --> 00:13:34,240
just do all right this is a single enemy

371
00:13:33,120 --> 00:13:38,078
pattern

372
00:13:34,240 --> 00:13:39,600
um i don't know which of these we want

373
00:13:38,078 --> 00:13:42,799
but i'm gonna leave those

374
00:13:39,600 --> 00:13:46,159
as they are for the moment uh and

375
00:13:42,799 --> 00:13:46,799
and now we'll try again uh and also i'll

376
00:13:46,159 --> 00:13:51,039
go in

377
00:13:46,799 --> 00:13:52,799
and do uh the so there's the

378
00:13:51,039 --> 00:13:54,078
there's the tile switch pattern i'm just

379
00:13:52,799 --> 00:13:56,399
going to if zero that out

380
00:13:54,078 --> 00:13:57,359
you know it's working just fine so i'll

381
00:13:56,399 --> 00:14:00,078
if zero that out

382
00:13:57,360 --> 00:14:03,039
and i'll also remove we were drawing

383
00:14:00,078 --> 00:14:04,879
lights before and i'm also going to turn

384
00:14:03,039 --> 00:14:05,519
that off because i don't have any real

385
00:14:04,879 --> 00:14:08,639
need to

386
00:14:05,519 --> 00:14:11,120
see that at the moment so in the

387
00:14:08,639 --> 00:14:12,720
uh the piece type light code there i'm

388
00:14:11,120 --> 00:14:15,039
just going to turn off the little cubes

389
00:14:12,720 --> 00:14:16,959
that were floating

390
00:14:15,039 --> 00:14:18,719
wherever we had lights because we don't

391
00:14:16,958 --> 00:14:19,359
need to see them they just are where

392
00:14:18,720 --> 00:14:22,480
they are

393
00:14:19,360 --> 00:14:23,759
now so i turned off the switches uh oh

394
00:14:22,480 --> 00:14:26,720
and there's the familiar

395
00:14:23,759 --> 00:14:28,639
so i think now we can just go ahead and

396
00:14:26,720 --> 00:14:31,199
try to turn that code back on and see if

397
00:14:28,639 --> 00:14:33,680
we can get the familiar floating around

398
00:14:31,198 --> 00:14:34,559
which again we don't actually care about

399
00:14:33,679 --> 00:14:36,958
uh

400
00:14:34,559 --> 00:14:38,958
the familiar per se i just want to get

401
00:14:36,958 --> 00:14:41,919
floating working properly

402
00:14:38,958 --> 00:14:43,119
so that we can use it more generally so

403
00:14:41,919 --> 00:14:46,159
you can see here

404
00:14:43,120 --> 00:14:47,839
where the brain code executes it's

405
00:14:46,159 --> 00:14:51,759
looking for the head

406
00:14:47,839 --> 00:14:55,680
it tries to find a location

407
00:14:51,759 --> 00:14:56,319
it looks like and i don't know what

408
00:14:55,679 --> 00:15:00,000
blocked

409
00:14:56,320 --> 00:15:02,399
is supposed to mean i guess it's just

410
00:15:00,000 --> 00:15:04,078
can it occupy the place where it is i'm

411
00:15:02,399 --> 00:15:13,839
not sure what that means

412
00:15:04,078 --> 00:15:13,838
why would it be looking for that

413
00:15:18,399 --> 00:15:28,720
so so i don't really know

414
00:15:26,399 --> 00:15:31,839
i don't really know what this first part

415
00:15:28,720 --> 00:15:31,839
is supposed to be doing

416
00:15:38,559 --> 00:15:45,198
so there's a target p right

417
00:15:42,078 --> 00:15:47,198
um and i guess

418
00:15:45,198 --> 00:15:48,719
just looking at this it looks like

419
00:15:47,198 --> 00:15:50,319
nobody ever uses it

420
00:15:48,720 --> 00:15:51,839
so i'm guessing we just cut and pasted

421
00:15:50,320 --> 00:15:52,560
some of this code when we wanted to keep

422
00:15:51,839 --> 00:15:55,360
it

423
00:15:52,559 --> 00:15:56,239
but it doesn't look like anyone uses it

424
00:15:55,360 --> 00:15:58,159
right

425
00:15:56,240 --> 00:15:59,519
oh no okay sir never mind it is used

426
00:15:58,159 --> 00:16:01,759
right down here at the bottom

427
00:15:59,519 --> 00:16:02,799
so this applies an acceleration to this

428
00:16:01,759 --> 00:16:05,360
character

429
00:16:02,799 --> 00:16:06,879
based on the target p so it's got a

430
00:16:05,360 --> 00:16:08,159
little like this is a proportional

431
00:16:06,879 --> 00:16:12,639
derivative controller

432
00:16:08,159 --> 00:16:16,159
here right um also known as the pdc

433
00:16:12,639 --> 00:16:19,839
uh so just a basic spring attached

434
00:16:16,159 --> 00:16:21,838
uh from the uh

435
00:16:19,839 --> 00:16:23,519
from the position that you are at

436
00:16:21,839 --> 00:16:23,839
currently to wherever it is you want to

437
00:16:23,519 --> 00:16:24,879
go

438
00:16:23,839 --> 00:16:27,360
and it was supposed to kind of spring

439
00:16:24,879 --> 00:16:28,879
them along so it does look like it's

440
00:16:27,360 --> 00:16:31,839
actually using it

441
00:16:28,879 --> 00:16:33,039
and the question of course is why is

442
00:16:31,839 --> 00:16:36,320
this target p

443
00:16:33,039 --> 00:16:39,439
not actually therefore being effective

444
00:16:36,320 --> 00:16:41,920
so what i might say uh

445
00:16:39,440 --> 00:16:42,800
is the blocked part of things i'm just

446
00:16:41,919 --> 00:16:46,000
gonna turn

447
00:16:42,799 --> 00:16:47,838
off for now so i'm gonna say

448
00:16:46,000 --> 00:16:51,839
that um well actually you know i don't

449
00:16:47,839 --> 00:16:51,839
even have to do that i can just do this

450
00:16:54,078 --> 00:16:58,159
so i just want to see what happens if

451
00:16:56,240 --> 00:17:01,759
this code is still working

452
00:16:58,159 --> 00:17:05,918
it looks like it's looking for a hero to

453
00:17:01,759 --> 00:17:06,480
follow and so i'm assuming that if i do

454
00:17:05,919 --> 00:17:09,919
that

455
00:17:06,480 --> 00:17:11,759
uh i can go in and debug that code now

456
00:17:09,919 --> 00:17:12,720
to find out why it's not actually moving

457
00:17:11,759 --> 00:17:14,798
right because you can see it's not

458
00:17:12,720 --> 00:17:18,078
moving it should be locating me

459
00:17:14,798 --> 00:17:20,160
it may just not be finding it um

460
00:17:18,078 --> 00:17:21,359
so in other words it may like be doing

461
00:17:20,160 --> 00:17:24,720
this and not getting anything

462
00:17:21,359 --> 00:17:26,798
back or this isn't working anymore right

463
00:17:24,720 --> 00:17:28,000
again this code is ancient we just have

464
00:17:26,798 --> 00:17:31,119
never used it

465
00:17:28,000 --> 00:17:33,440
um with any of the new stuff so

466
00:17:31,119 --> 00:17:35,038
let's just go in and see because now we

467
00:17:33,440 --> 00:17:38,400
know that this case won't

468
00:17:35,038 --> 00:17:39,679
be uh obviated by the the traversable

469
00:17:38,400 --> 00:17:40,960
check up here so we take that out of the

470
00:17:39,679 --> 00:17:42,559
system

471
00:17:40,960 --> 00:17:44,640
uh and we know that we're just going to

472
00:17:42,558 --> 00:17:48,079
use this target p

473
00:17:44,640 --> 00:17:49,200
and off we go so let's just see what

474
00:17:48,079 --> 00:17:52,399
happens here

475
00:17:49,200 --> 00:18:01,840
i'm gonna quick set to debug mode

476
00:17:52,400 --> 00:18:01,840
um and just see what's going on

477
00:18:11,679 --> 00:18:15,840
and that's going to be in the brain code

478
00:18:15,919 --> 00:18:20,240
right here so i'm just going to set like

479
00:18:18,640 --> 00:18:21,360
a

480
00:18:20,240 --> 00:18:23,519
i guess i'm not going to set the break

481
00:18:21,359 --> 00:18:24,319
point yet i'm going to like slowly debug

482
00:18:23,519 --> 00:18:27,839
mode hop

483
00:18:24,319 --> 00:18:31,359
my uh hero up here

484
00:18:27,839 --> 00:18:34,079
into this room

485
00:18:31,359 --> 00:18:34,959
so that i know that this dude is there

486
00:18:34,079 --> 00:18:38,639
and

487
00:18:34,960 --> 00:18:40,960
now i'm just gonna look at that uh brain

488
00:18:38,640 --> 00:18:43,759
code here and just see what happens i

489
00:18:40,960 --> 00:18:47,038
have no idea what it will do

490
00:18:43,759 --> 00:18:50,240
so uh it does look like the target p

491
00:18:47,038 --> 00:18:53,599
is getting assigned here right and

492
00:18:50,240 --> 00:18:57,440
if i look at the head p

493
00:18:53,599 --> 00:18:58,639
and the target p i should be able to see

494
00:18:57,440 --> 00:19:02,400
i mean i mean they're definitely

495
00:18:58,640 --> 00:19:04,559
different um

496
00:19:02,400 --> 00:19:05,600
so you know i don't really quite

497
00:19:04,558 --> 00:19:07,918
understand

498
00:19:05,599 --> 00:19:10,959
it maybe did we take acceleration out of

499
00:19:07,919 --> 00:19:12,160
the system it's entirely possible i

500
00:19:10,960 --> 00:19:14,480
suppose

501
00:19:12,160 --> 00:19:14,480
uh

502
00:19:16,798 --> 00:19:20,240
i hate the fact that when you step out

503
00:19:18,640 --> 00:19:21,280
of things you can't look inside you used

504
00:19:20,240 --> 00:19:23,599
to be able to do that

505
00:19:21,279 --> 00:19:25,759
all the time and now you can't anymore

506
00:19:23,599 --> 00:19:30,639
and it sucks

507
00:19:25,759 --> 00:19:30,640
so uh let me go ahead and oops

508
00:19:33,759 --> 00:19:37,279
let me go ahead and take a look in here

509
00:19:36,558 --> 00:19:41,038
at

510
00:19:37,279 --> 00:19:43,359
the different slots and i'm going to

511
00:19:41,038 --> 00:19:45,279
see if i can determine what happens with

512
00:19:43,359 --> 00:19:48,879
this ddp

513
00:19:45,279 --> 00:19:50,720
so this is the acceleration on here

514
00:19:48,880 --> 00:19:52,720
and you can see that it's trying to push

515
00:19:50,720 --> 00:19:55,038
relatively hard

516
00:19:52,720 --> 00:19:56,640
so it looks like the familiar code is is

517
00:19:55,038 --> 00:19:58,558
still in play

518
00:19:56,640 --> 00:20:00,160
and so that just suggests we probably

519
00:19:58,558 --> 00:20:01,918
just nerfed that stuff

520
00:20:00,160 --> 00:20:04,240
on the entity side so meaning we

521
00:20:01,919 --> 00:20:07,759
probably just don't

522
00:20:04,240 --> 00:20:10,798
allow that stuff anymore and so it's

523
00:20:07,759 --> 00:20:12,240
you know using a physics thing that

524
00:20:10,798 --> 00:20:14,158
you know we just don't do because

525
00:20:12,240 --> 00:20:15,839
everybody's been doing the tile based

526
00:20:14,159 --> 00:20:19,679
movement

527
00:20:15,839 --> 00:20:21,439
so if i look uh at this code right

528
00:20:19,679 --> 00:20:22,960
we're just gonna take a look and see

529
00:20:21,440 --> 00:20:25,120
where this movement stuff

530
00:20:22,960 --> 00:20:27,038
would would normally be happening and is

531
00:20:25,119 --> 00:20:28,879
any of it happening anymore

532
00:20:27,038 --> 00:20:30,079
uh you can see all the rendering code

533
00:20:28,880 --> 00:20:32,080
here um

534
00:20:30,079 --> 00:20:35,199
and so that all that stuff is just stuff

535
00:20:32,079 --> 00:20:38,079
that happens downwind of determining

536
00:20:35,200 --> 00:20:38,880
where the enemy actually is uh and you

537
00:20:38,079 --> 00:20:41,519
can see

538
00:20:38,880 --> 00:20:42,320
that we've got like planted which is

539
00:20:41,519 --> 00:20:44,879
just they're

540
00:20:42,319 --> 00:20:45,918
sitting in one place hopping which is

541
00:20:44,880 --> 00:20:48,559
when they're you know

542
00:20:45,919 --> 00:20:49,919
kind of doing a a jump sort of thing and

543
00:20:48,558 --> 00:20:52,960
then you know there's

544
00:20:49,919 --> 00:20:54,640
some stuff for like swiping or offset

545
00:20:52,960 --> 00:20:56,400
angles that like determine where things

546
00:20:54,640 --> 00:20:58,720
are none of that stuff

547
00:20:56,400 --> 00:21:00,400
is going to do any kind of physical

548
00:20:58,720 --> 00:21:03,600
movement at all

549
00:21:00,400 --> 00:21:08,240
so it kind of looks like

550
00:21:03,599 --> 00:21:09,918
it the yeah

551
00:21:08,240 --> 00:21:11,359
it kind of looks like we just got rid of

552
00:21:09,919 --> 00:21:13,360
it

553
00:21:11,359 --> 00:21:14,479
right this was the code that would have

554
00:21:13,359 --> 00:21:16,319
done

555
00:21:14,480 --> 00:21:18,240
this stuff and we just said that's not

556
00:21:16,319 --> 00:21:21,519
happening anymore

557
00:21:18,240 --> 00:21:23,440
so i don't actually know why

558
00:21:21,519 --> 00:21:26,319
because it's been so long since we've

559
00:21:23,440 --> 00:21:29,440
done any of that stuff

560
00:21:26,319 --> 00:21:32,480
but at this point we don't actually use

561
00:21:29,440 --> 00:21:33,600
any of the movement stuff it seems like

562
00:21:32,480 --> 00:21:37,120
we would probably

563
00:21:33,599 --> 00:21:42,798
like to so my assumption is

564
00:21:37,119 --> 00:21:42,798
that you know this at least this code

565
00:21:42,839 --> 00:21:48,558
um we probably want to keep

566
00:21:46,159 --> 00:21:49,520
inside some kind of a like free like a

567
00:21:48,558 --> 00:21:52,558
movement mode

568
00:21:49,519 --> 00:21:56,400
free kind of thing um

569
00:21:52,558 --> 00:21:59,038
so like movement mode floating

570
00:21:56,400 --> 00:22:00,798
i i would think which is currently not

571
00:21:59,038 --> 00:22:03,679
used anywhere

572
00:22:00,798 --> 00:22:05,440
um if we had a movement mode floating i

573
00:22:03,679 --> 00:22:08,640
would think it would do

574
00:22:05,440 --> 00:22:12,640
this thing you know like i would think

575
00:22:08,640 --> 00:22:14,960
it would do a

576
00:22:12,640 --> 00:22:17,038
check to see if there was any velocity

577
00:22:14,960 --> 00:22:20,079
on this thing and then it would move it

578
00:22:17,038 --> 00:22:23,359
if it was and again i don't really know

579
00:22:20,079 --> 00:22:26,399
if that's what we want or not um or

580
00:22:23,359 --> 00:22:27,839
how we even really want to process that

581
00:22:26,400 --> 00:22:29,120
stuff

582
00:22:27,839 --> 00:22:31,519
but i'm just going to start playing

583
00:22:29,119 --> 00:22:35,359
around with this until i get

584
00:22:31,519 --> 00:22:37,359
uh until i'm satisfied with it

585
00:22:35,359 --> 00:22:38,959
so i'm going to go ahead and say that up

586
00:22:37,359 --> 00:22:39,759
here we're just going to turn this on

587
00:22:38,960 --> 00:22:42,798
for now

588
00:22:39,759 --> 00:22:44,480
and we'll see what happens nothing good

589
00:22:42,798 --> 00:22:46,400
will come of it i'm sure but that's just

590
00:22:44,480 --> 00:22:48,880
what we're going to do

591
00:22:46,400 --> 00:22:50,559
and then similarly we need to set this

592
00:22:48,880 --> 00:22:53,360
thing to a movement mode

593
00:22:50,558 --> 00:22:54,158
floating because it's not going to set

594
00:22:53,359 --> 00:22:57,038
itself

595
00:22:54,159 --> 00:22:58,080
you know so in here when something's

596
00:22:57,038 --> 00:22:59,919
floating around

597
00:22:58,079 --> 00:23:02,480
what we would like to do is set the

598
00:22:59,919 --> 00:23:06,559
movement mode uh for the head

599
00:23:02,480 --> 00:23:09,759
to always be that so the movement mode

600
00:23:06,558 --> 00:23:11,279
should be floating all the time and

601
00:23:09,759 --> 00:23:12,960
you know maybe there's some other modes

602
00:23:11,279 --> 00:23:15,279
that this thing can go through but

603
00:23:12,960 --> 00:23:17,038
you know at the moment we don't we don't

604
00:23:15,279 --> 00:23:20,480
have any

605
00:23:17,038 --> 00:23:22,960
so it's just gonna go uh do its thing

606
00:23:20,480 --> 00:23:24,159
i can keep running from where i am uh

607
00:23:22,960 --> 00:23:26,880
and take a look

608
00:23:24,159 --> 00:23:29,280
uh how do i tell this to keep running

609
00:23:26,880 --> 00:23:31,440
keep running please there we go

610
00:23:29,279 --> 00:23:32,558
um so there and that that worked so

611
00:23:31,440 --> 00:23:35,519
that's fine

612
00:23:32,558 --> 00:23:37,200
uh and and so it just looks like the

613
00:23:35,519 --> 00:23:39,359
problem with that was that you know we

614
00:23:37,200 --> 00:23:41,120
we kind of took out that

615
00:23:39,359 --> 00:23:43,119
that movement mode so actually all the

616
00:23:41,119 --> 00:23:45,038
code still worked uh it just kind of had

617
00:23:43,119 --> 00:23:48,558
to be rewired up

618
00:23:45,038 --> 00:23:51,200
uh and that's fine so you know

619
00:23:48,558 --> 00:23:52,240
that's that's a possibility for an enemy

620
00:23:51,200 --> 00:23:54,720
oh and here

621
00:23:52,240 --> 00:23:54,720
there you go

622
00:23:55,679 --> 00:23:59,679
um so as you can see these folks are not

623
00:23:58,480 --> 00:24:02,319
subject to any

624
00:23:59,679 --> 00:24:04,240
uh actual collisions right now well i

625
00:24:02,319 --> 00:24:07,439
mean that's not entirely true

626
00:24:04,240 --> 00:24:09,440
uh i they are sort of

627
00:24:07,440 --> 00:24:11,120
subject to collisions but they're only

628
00:24:09,440 --> 00:24:13,200
subject to collision volumes

629
00:24:11,119 --> 00:24:15,199
so one of the things that we haven't

630
00:24:13,200 --> 00:24:17,200
been doing for example

631
00:24:15,200 --> 00:24:18,558
is we haven't been placing collision

632
00:24:17,200 --> 00:24:22,558
volumes in

633
00:24:18,558 --> 00:24:26,158
like walls we just don't put movement

634
00:24:22,558 --> 00:24:29,599
things there we don't put um

635
00:24:26,159 --> 00:24:32,640
what's the word form we don't put

636
00:24:29,599 --> 00:24:34,480
traversibles so you can't hop there

637
00:24:32,640 --> 00:24:36,000
because there's no traversable but one

638
00:24:34,480 --> 00:24:38,798
of these

639
00:24:36,000 --> 00:24:39,839
floating people could just go right

640
00:24:38,798 --> 00:24:41,679
through

641
00:24:39,839 --> 00:24:43,038
because there are no collision volumes

642
00:24:41,679 --> 00:24:45,679
there to stop them and they

643
00:24:43,038 --> 00:24:47,359
only check in that move entity routine

644
00:24:45,679 --> 00:24:48,480
they only check against collision

645
00:24:47,359 --> 00:24:51,839
volumes

646
00:24:48,480 --> 00:24:54,880
so if we wanted to we could

647
00:24:51,839 --> 00:24:58,399
check uh collision volumes

648
00:24:54,880 --> 00:25:01,520
but i think the idea here

649
00:24:58,400 --> 00:25:03,440
was that this code was what

650
00:25:01,519 --> 00:25:06,798
this is what that that code was supposed

651
00:25:03,440 --> 00:25:08,320
to be doing i think

652
00:25:06,798 --> 00:25:10,480
i'm not really sure so what i'm going to

653
00:25:08,319 --> 00:25:11,918
do is temporarily turn that on

654
00:25:10,480 --> 00:25:13,440
let's and we'll look at it because i

655
00:25:11,919 --> 00:25:14,720
don't really know what it did we'll have

656
00:25:13,440 --> 00:25:17,919
to look

657
00:25:14,720 --> 00:25:20,960
um but i suspect that's what that was

658
00:25:17,919 --> 00:25:24,080
for no it doesn't look like it looks

659
00:25:20,960 --> 00:25:24,079
like it's still able to do it

660
00:25:27,839 --> 00:25:34,720
yeah so uh i'm not sure

661
00:25:31,200 --> 00:25:37,759
what this was supposed to do um

662
00:25:34,720 --> 00:25:40,558
doesn't make a whole lot of sense either

663
00:25:37,759 --> 00:25:41,759
uh which is why i want to turn it on to

664
00:25:40,558 --> 00:25:42,000
see if it somehow magically worked

665
00:25:41,759 --> 00:25:43,119
because

666
00:25:42,000 --> 00:25:46,240
when i looked at it before i was like

667
00:25:43,119 --> 00:25:50,158
that doesn't make much sense

668
00:25:46,240 --> 00:25:51,519
um so yeah this this does not really

669
00:25:50,159 --> 00:25:54,720
make any sense to me so

670
00:25:51,519 --> 00:25:59,119
probably what i would say here is

671
00:25:54,720 --> 00:26:00,558
that what we would rather do uh

672
00:25:59,119 --> 00:26:04,079
i would i would i would like to get rid

673
00:26:00,558 --> 00:26:04,079
of this entirely

674
00:26:04,640 --> 00:26:08,320
uh and what we would rather do is say

675
00:26:06,480 --> 00:26:09,919
look it's floating we're gonna try and

676
00:26:08,319 --> 00:26:13,678
find a location

677
00:26:09,919 --> 00:26:17,440
for it to go to and when we do

678
00:26:13,679 --> 00:26:21,120
we would probably like to say you know

679
00:26:17,440 --> 00:26:24,240
when we when we find a traversible

680
00:26:21,119 --> 00:26:28,000
a long array uh we

681
00:26:24,240 --> 00:26:30,319
need to see whether or not we could have

682
00:26:28,000 --> 00:26:30,319
gone

683
00:26:35,440 --> 00:26:41,200
when we're going to move get closest

684
00:26:38,880 --> 00:26:42,159
traversable along rey will look for a

685
00:26:41,200 --> 00:26:45,360
traversible

686
00:26:42,159 --> 00:26:46,799
that it can go to in the direction that

687
00:26:45,359 --> 00:26:51,119
it's trying to go

688
00:26:46,798 --> 00:26:52,879
right the problem with this

689
00:26:51,119 --> 00:26:54,479
is that it doesn't matter how many

690
00:26:52,880 --> 00:26:57,200
squares in between

691
00:26:54,480 --> 00:26:58,880
where you are and where it finds it

692
00:26:57,200 --> 00:26:59,600
doesn't matter if there are actual

693
00:26:58,880 --> 00:27:03,039
places

694
00:26:59,599 --> 00:27:07,199
you can go right

695
00:27:03,038 --> 00:27:09,759
so i think what we in a sense

696
00:27:07,200 --> 00:27:09,759
we could

697
00:27:13,278 --> 00:27:18,839
we could just say like if i get rid of

698
00:27:16,319 --> 00:27:21,839
all this stuff

699
00:27:18,839 --> 00:27:21,839
right

700
00:27:22,798 --> 00:27:29,599
if we just say look

701
00:27:26,159 --> 00:27:32,320
get the closest sim space uh traversable

702
00:27:29,599 --> 00:27:35,839
from wherever we are oh and i guess the

703
00:27:32,319 --> 00:27:40,798
occupying part here

704
00:27:35,839 --> 00:27:40,798
i guess we do need this though um

705
00:27:44,640 --> 00:27:48,240
so really here we would we would want to

706
00:27:46,798 --> 00:27:51,918
do something slightly different

707
00:27:48,240 --> 00:27:54,480
which is we would want to say

708
00:27:51,919 --> 00:27:56,880
i see so i guess i do see what this code

709
00:27:54,480 --> 00:27:59,200
does all this code does is it tracks

710
00:27:56,880 --> 00:28:02,640
what traversable we're on

711
00:27:59,200 --> 00:28:06,000
that's it right so it says look

712
00:28:02,640 --> 00:28:08,399
we're going to try to occupy the place

713
00:28:06,000 --> 00:28:09,599
that we're floating over uh and the

714
00:28:08,398 --> 00:28:11,359
blocked part

715
00:28:09,599 --> 00:28:13,519
seems a little weird but we'll look at

716
00:28:11,359 --> 00:28:15,199
that later all i was going to say is

717
00:28:13,519 --> 00:28:17,440
so this part here where we do get

718
00:28:15,200 --> 00:28:21,759
closest reversible along rey

719
00:28:17,440 --> 00:28:24,558
i think all we have to do is clamp this

720
00:28:21,759 --> 00:28:25,919
we just clamp this in fact i don't even

721
00:28:24,558 --> 00:28:31,839
really know

722
00:28:25,919 --> 00:28:31,840
why we would need to do that

723
00:28:32,159 --> 00:28:35,278
i mean i get oh so you know what i take

724
00:28:34,398 --> 00:28:37,278
it back

725
00:28:35,278 --> 00:28:38,720
so we probably do just want to slap

726
00:28:37,278 --> 00:28:40,319
collision volumes in for these things

727
00:28:38,720 --> 00:28:42,319
because now i think about it

728
00:28:40,319 --> 00:28:44,240
you want floating people to be able to

729
00:28:42,319 --> 00:28:45,759
float over chasms

730
00:28:44,240 --> 00:28:47,359
so we really do need to know the

731
00:28:45,759 --> 00:28:49,278
difference between walls so

732
00:28:47,359 --> 00:28:52,158
forget it this code is fine i guess

733
00:28:49,278 --> 00:28:52,159
we're just gonna leave it

734
00:28:52,319 --> 00:28:55,519
so i guess what we do is in room gen

735
00:28:54,240 --> 00:28:58,480
when we're placing walls

736
00:28:55,519 --> 00:29:00,240
we should place collision volumes right

737
00:28:58,480 --> 00:29:01,278
so we want to be able to place collision

738
00:29:00,240 --> 00:29:04,640
volumes

739
00:29:01,278 --> 00:29:06,720
uh and and if we look so if i go into

740
00:29:04,640 --> 00:29:08,480
the entity code and i draw

741
00:29:06,720 --> 00:29:10,319
what collision volumes we're actually

742
00:29:08,480 --> 00:29:14,480
seeing here

743
00:29:10,319 --> 00:29:18,879
we can just go ahead and like

744
00:29:14,480 --> 00:29:18,880
and watch right um

745
00:29:19,200 --> 00:29:23,278
there we go here are the collision

746
00:29:22,480 --> 00:29:26,319
volumes

747
00:29:23,278 --> 00:29:27,599
right and so for whatever reason you

748
00:29:26,319 --> 00:29:29,918
know we

749
00:29:27,599 --> 00:29:30,719
i i guess that's even much better than i

750
00:29:29,919 --> 00:29:32,640
was thinking

751
00:29:30,720 --> 00:29:34,399
if that's true then that means all of

752
00:29:32,640 --> 00:29:36,240
these already have collision volumes so

753
00:29:34,398 --> 00:29:39,359
all we really have to do is enable

754
00:29:36,240 --> 00:29:40,558
the uh collision volumes to let this uh

755
00:29:39,359 --> 00:29:43,599
saucy gentleman

756
00:29:40,558 --> 00:29:45,359
collide so i guess

757
00:29:43,599 --> 00:29:46,798
it's actually easier than i thought it

758
00:29:45,359 --> 00:29:48,319
was going to be

759
00:29:46,798 --> 00:29:49,839
of course he stopped moving for some

760
00:29:48,319 --> 00:29:53,519
reason which i guess i don't

761
00:29:49,839 --> 00:29:55,759
know why that happened but

762
00:29:53,519 --> 00:29:58,558
um oh because i accidentally deleted the

763
00:29:55,759 --> 00:29:58,558
head movement code

764
00:30:01,919 --> 00:30:06,480
um so i guess this code worked even

765
00:30:05,839 --> 00:30:09,599
better

766
00:30:06,480 --> 00:30:10,159
than we thought because um all we have

767
00:30:09,599 --> 00:30:12,719
to do

768
00:30:10,159 --> 00:30:14,880
is give this fellow a collision volume

769
00:30:12,720 --> 00:30:18,079
and then i guess he will collide

770
00:30:14,880 --> 00:30:19,520
so i don't know i

771
00:30:18,079 --> 00:30:21,918
i guess it's better than i thought it

772
00:30:19,519 --> 00:30:23,679
was that's so so he's nice if the code

773
00:30:21,919 --> 00:30:26,880
is better than we thought it was

774
00:30:23,679 --> 00:30:28,798
i'm a little surprised um so here where

775
00:30:26,880 --> 00:30:30,960
we do make simple collision volume for

776
00:30:28,798 --> 00:30:34,000
example this part right here

777
00:30:30,960 --> 00:30:34,640
uh we would want to just just add one

778
00:30:34,000 --> 00:30:37,519
for this

779
00:30:34,640 --> 00:30:38,880
this dude uh so you know i don't

780
00:30:37,519 --> 00:30:41,038
actually know

781
00:30:38,880 --> 00:30:42,159
um if there's anything special i guess

782
00:30:41,038 --> 00:30:43,679
it can just use

783
00:30:42,159 --> 00:30:45,600
this the same kind as the other one was

784
00:30:43,679 --> 00:30:47,919
using

785
00:30:45,599 --> 00:30:50,000
i'm not sure there's any magic to it um

786
00:30:47,919 --> 00:30:51,440
we may want to change the size of it uh

787
00:30:50,000 --> 00:30:52,960
or who knows what

788
00:30:51,440 --> 00:30:54,880
like that probably looks a little bit

789
00:30:52,960 --> 00:30:57,759
too small you know

790
00:30:54,880 --> 00:30:59,760
um so so maybe we don't want to do that

791
00:30:57,759 --> 00:31:04,079
uh maybe we want this to be more like

792
00:30:59,759 --> 00:31:06,720
you know

793
00:31:04,079 --> 00:31:06,720
something like that

794
00:31:13,440 --> 00:31:16,558
well i don't know

795
00:31:16,798 --> 00:31:24,398
hard to say um but anyway in theory

796
00:31:20,720 --> 00:31:27,519
now uh i would think

797
00:31:24,398 --> 00:31:30,558
that collisions would now prevent

798
00:31:27,519 --> 00:31:32,000
this fellow from moving i don't actually

799
00:31:30,558 --> 00:31:32,558
know that that's true so we'll take a

800
00:31:32,000 --> 00:31:36,558
look

801
00:31:32,558 --> 00:31:39,119
um but we'll see so it doesn't look like

802
00:31:36,558 --> 00:31:40,079
that collision was prevented though so i

803
00:31:39,119 --> 00:31:43,359
guess not

804
00:31:40,079 --> 00:31:45,359
i don't actually know when entity is any

805
00:31:43,359 --> 00:31:46,398
collide set for any of these things

806
00:31:45,359 --> 00:31:48,558
though

807
00:31:46,398 --> 00:31:51,599
um because that's the other thing like

808
00:31:48,558 --> 00:31:53,440
if the if this flag isn't set

809
00:31:51,599 --> 00:31:54,639
yeah so all of these are not set to

810
00:31:53,440 --> 00:31:56,159
colliding so

811
00:31:54,640 --> 00:32:01,840
the other thing i think we would have to

812
00:31:56,159 --> 00:32:01,840
do is say that it was

813
00:32:02,558 --> 00:32:06,798
and the only thing that's a little weird

814
00:32:04,398 --> 00:32:10,239
about that is i don't

815
00:32:06,798 --> 00:32:13,759
know that uh

816
00:32:10,240 --> 00:32:14,640
i i don't know if collides like i'm not

817
00:32:13,759 --> 00:32:18,960
totally sure

818
00:32:14,640 --> 00:32:21,759
why that's a thing like i don't know why

819
00:32:18,960 --> 00:32:22,720
we don't just always have collisions if

820
00:32:21,759 --> 00:32:25,919
there was some

821
00:32:22,720 --> 00:32:29,360
rational reason for that to keep that uh

822
00:32:25,919 --> 00:32:31,200
currently or not i'm not sure

823
00:32:29,359 --> 00:32:32,398
but it looks like and they can still go

824
00:32:31,200 --> 00:32:34,159
through these walls presumably because

825
00:32:32,398 --> 00:32:38,158
those are not set to collide

826
00:32:34,159 --> 00:32:38,159
so i don't really know why

827
00:32:39,839 --> 00:32:43,199
i don't really know why we have this

828
00:32:41,839 --> 00:32:46,879
flag

829
00:32:43,200 --> 00:32:48,640
um because it seems like you would just

830
00:32:46,880 --> 00:32:50,559
not add a collision volume

831
00:32:48,640 --> 00:32:52,399
if something didn't collide you know

832
00:32:50,558 --> 00:32:55,918
what i'm saying so i'm a

833
00:32:52,398 --> 00:32:57,518
little bit again we're just kind of

834
00:32:55,919 --> 00:32:59,120
paging this code back in

835
00:32:57,519 --> 00:33:00,640
so we you know we've said a bunch of

836
00:32:59,119 --> 00:33:02,000
times like i'm not sure why x happened

837
00:33:00,640 --> 00:33:02,320
and then it you know turns out there's a

838
00:33:02,000 --> 00:33:04,960
good

839
00:33:02,319 --> 00:33:06,480
reason for x or at least it worked

840
00:33:04,960 --> 00:33:08,880
better than we thought so i'm not ready

841
00:33:06,480 --> 00:33:12,159
to say that it doesn't need to be there

842
00:33:08,880 --> 00:33:12,159
um i'm just not sure

843
00:33:12,240 --> 00:33:16,558
uh i'm just not sure i understand what

844
00:33:14,480 --> 00:33:18,319
we were intending that to do

845
00:33:16,558 --> 00:33:19,918
so when we call move entity here you can

846
00:33:18,319 --> 00:33:20,480
see us iterating to try and move the

847
00:33:19,919 --> 00:33:25,519
entity

848
00:33:20,480 --> 00:33:28,640
um this code is probably crap uh yeah

849
00:33:25,519 --> 00:33:32,399
um but uh

850
00:33:28,640 --> 00:33:32,399
when we move like

851
00:33:36,398 --> 00:33:43,278
it looks like it's not gonna do this

852
00:33:40,319 --> 00:33:44,639
so it's not gonna do this if we don't

853
00:33:43,278 --> 00:33:47,440
have these set

854
00:33:44,640 --> 00:33:49,200
so again i don't know why um i don't

855
00:33:47,440 --> 00:33:51,200
know why we have that flag

856
00:33:49,200 --> 00:33:53,278
uh if i just turn off that flag i'm

857
00:33:51,200 --> 00:33:55,440
curious what happens

858
00:33:53,278 --> 00:33:58,960
because it seems like just don't add a

859
00:33:55,440 --> 00:33:58,960
collision volume i don't know

860
00:33:59,119 --> 00:34:04,158
why we have that right um

861
00:34:02,319 --> 00:34:06,319
looks like for some reason that

862
00:34:04,159 --> 00:34:07,600
gentleman can't get through but i'm not

863
00:34:06,319 --> 00:34:09,599
sure why because it doesn't look like

864
00:34:07,599 --> 00:34:12,639
there's anything there to stop them

865
00:34:09,599 --> 00:34:13,919
it might be that this is too low but at

866
00:34:12,639 --> 00:34:17,679
least hey we know that

867
00:34:13,918 --> 00:34:19,598
it is actually colliding so in the makes

868
00:34:17,679 --> 00:34:20,960
a simple grounded collision

869
00:34:19,599 --> 00:34:23,519
i'm going to take a look at the symbol

870
00:34:20,960 --> 00:34:24,398
ground collision uh offset z presumably

871
00:34:23,519 --> 00:34:26,559
needs to be

872
00:34:24,398 --> 00:34:29,039
slightly higher up off the ground so

873
00:34:26,559 --> 00:34:32,239
that it can float around

874
00:34:29,039 --> 00:34:35,279
but other than that it looks fine

875
00:34:32,239 --> 00:34:35,759
if i go ahead and run um yeah so i don't

876
00:34:35,280 --> 00:34:38,720
know

877
00:34:35,760 --> 00:34:40,159
why that why uh that person's being

878
00:34:38,719 --> 00:34:42,078
stopped there

879
00:34:40,159 --> 00:34:43,519
when the collisions are turned on if i

880
00:34:42,079 --> 00:34:46,839
go uh

881
00:34:43,519 --> 00:34:49,119
look at it a little bit more closely

882
00:34:46,838 --> 00:34:50,639
here

883
00:34:49,119 --> 00:34:53,440
like it sure doesn't look like anything

884
00:34:50,639 --> 00:34:53,440
would be stopping

885
00:34:57,920 --> 00:35:02,800
right like that looks like you would fit

886
00:35:00,480 --> 00:35:05,920
through just fine

887
00:35:02,800 --> 00:35:05,920
obviously that's not true

888
00:35:12,320 --> 00:35:15,440
so i'm not really sure i'm not sure

889
00:35:13,920 --> 00:35:19,680
what's going on there

890
00:35:15,440 --> 00:35:21,039
um if there's some kind of weird

891
00:35:19,679 --> 00:35:23,838
yeah if there's some kind of weird thing

892
00:35:21,039 --> 00:35:26,320
i don't know but uh in terms of can

893
00:35:23,838 --> 00:35:26,320
collide

894
00:35:28,159 --> 00:35:32,078
yeah i don't see a lot of reason not to

895
00:35:30,320 --> 00:35:32,960
just turn this off for now so i'm gonna

896
00:35:32,079 --> 00:35:35,200
see

897
00:35:32,960 --> 00:35:38,159
i'm just gonna see if we can remove that

898
00:35:35,199 --> 00:35:38,159
flag entirely

899
00:35:40,400 --> 00:35:44,240
because i can see having uh stuff that

900
00:35:43,039 --> 00:35:49,199
says what to do

901
00:35:44,239 --> 00:35:49,199
on collision like um

902
00:35:54,800 --> 00:35:58,000
i can see having stuff that says look

903
00:35:56,800 --> 00:36:01,359
when this thing collides

904
00:35:58,000 --> 00:36:02,960
let it keep going but you know it

905
00:36:01,358 --> 00:36:04,559
you have to at least want collision

906
00:36:02,960 --> 00:36:06,079
processing to take place otherwise why

907
00:36:04,559 --> 00:36:09,119
did you put

908
00:36:06,079 --> 00:36:10,400
uh you know why did you put one on there

909
00:36:09,119 --> 00:36:12,240
you know what i'm saying so it doesn't

910
00:36:10,400 --> 00:36:16,160
make a lot of sense to me

911
00:36:12,239 --> 00:36:20,000
um so it just kind of seems like

912
00:36:16,159 --> 00:36:22,000
something must be up um i don't know

913
00:36:20,000 --> 00:36:23,838
so if i were to to turn this off

914
00:36:22,000 --> 00:36:28,000
completely i just want to see

915
00:36:23,838 --> 00:36:30,639
uh what happens here uh

916
00:36:28,000 --> 00:36:33,119
you know here's us adding these flags to

917
00:36:30,639 --> 00:36:33,118
everybody

918
00:36:35,119 --> 00:36:39,760
yeah i mean i just i i'm just gonna turn

919
00:36:39,039 --> 00:36:41,440
this off

920
00:36:39,760 --> 00:36:42,960
i'm just gonna get rid of it i i think

921
00:36:41,440 --> 00:36:44,480
it's gonna be redundant and i

922
00:36:42,960 --> 00:36:46,960
i don't know it's it's just adding

923
00:36:44,480 --> 00:36:51,039
complexity for no real reason

924
00:36:46,960 --> 00:36:51,039
um so let's just get rid of it

925
00:36:52,838 --> 00:36:55,838
uh

926
00:37:00,559 --> 00:37:07,920
okay uh and now we know that

927
00:37:03,599 --> 00:37:10,240
that this saucy gentleman uh is is stuck

928
00:37:07,920 --> 00:37:10,240
um

929
00:37:12,480 --> 00:37:15,599
and now we just have to see why is that

930
00:37:14,079 --> 00:37:18,640
movement code

931
00:37:15,599 --> 00:37:22,079
uh busted right because there's

932
00:37:18,639 --> 00:37:25,598
no obvious reason uh why you can't move

933
00:37:22,079 --> 00:37:25,599
through there um

934
00:37:27,039 --> 00:37:33,199
and and so like i said uh well uh okay

935
00:37:30,480 --> 00:37:34,400
so you know what it could be if it's the

936
00:37:33,199 --> 00:37:37,838
room

937
00:37:34,400 --> 00:37:40,960
if it's colliding with the room boundary

938
00:37:37,838 --> 00:37:43,679
you know what i'm saying um which

939
00:37:40,960 --> 00:37:44,960
which would be right there so it's that

940
00:37:43,679 --> 00:37:48,159
that's probably what's happening

941
00:37:44,960 --> 00:37:51,119
it's colliding with the room boundary so

942
00:37:48,159 --> 00:37:51,920
i would suspect that again what we want

943
00:37:51,119 --> 00:37:55,680
to do there

944
00:37:51,920 --> 00:37:58,559
is just say hey uh

945
00:37:55,679 --> 00:37:59,838
when you collide with the room boundary

946
00:37:58,559 --> 00:38:01,920
you

947
00:37:59,838 --> 00:38:04,239
you know you just do whatever it is that

948
00:38:01,920 --> 00:38:08,720
you do when you enter that room

949
00:38:04,239 --> 00:38:08,719
um but you don't have to actually

950
00:38:10,159 --> 00:38:14,000
this is what i say so rather than have

951
00:38:12,639 --> 00:38:16,319
this can collide

952
00:38:14,000 --> 00:38:18,400
like what we want to do instead is talk

953
00:38:16,320 --> 00:38:21,838
about what happens when you collide

954
00:38:18,400 --> 00:38:23,680
right and so we're effectively

955
00:38:21,838 --> 00:38:25,838
i think wanting to we want to replace

956
00:38:23,679 --> 00:38:27,598
that flag that was like does it collide

957
00:38:25,838 --> 00:38:31,199
or doesn't it

958
00:38:27,599 --> 00:38:33,920
with what is the response right

959
00:38:31,199 --> 00:38:34,960
so in here we have like this response

960
00:38:33,920 --> 00:38:39,680
for example

961
00:38:34,960 --> 00:38:41,440
uh which is really horrible um

962
00:38:39,679 --> 00:38:43,039
like yeah i mean this this code is very

963
00:38:41,440 --> 00:38:47,838
old and crappy

964
00:38:43,039 --> 00:38:47,838
um but this response here is like

965
00:38:51,760 --> 00:39:00,560
is just like one thing we would do right

966
00:38:55,440 --> 00:39:02,480
this i don't know what

967
00:39:00,559 --> 00:39:05,358
this was for climbing up and down

968
00:39:02,480 --> 00:39:05,358
stairwells

969
00:39:06,639 --> 00:39:10,639
smooth this was like for smooth going up

970
00:39:12,838 --> 00:39:15,838
ramps

971
00:39:16,000 --> 00:39:18,320
right

972
00:39:19,280 --> 00:39:25,359
this is so old um so in here i think we

973
00:39:23,280 --> 00:39:27,839
just want to process a collision

974
00:39:25,358 --> 00:39:29,598
right so so when this happens we just

975
00:39:27,838 --> 00:39:32,639
want to say look

976
00:39:29,599 --> 00:39:36,800
uh you know don't just assume

977
00:39:32,639 --> 00:39:39,519
that we're going to do some kind of a uh

978
00:39:36,800 --> 00:39:41,280
you know assume that we always check

979
00:39:39,519 --> 00:39:43,358
collision volumes because if you didn't

980
00:39:41,280 --> 00:39:45,599
want to know when things collided

981
00:39:43,358 --> 00:39:46,799
then you wouldn't add a collision volume

982
00:39:45,599 --> 00:39:50,000
right

983
00:39:46,800 --> 00:39:50,640
and then instead of what we were doing

984
00:39:50,000 --> 00:39:52,559
before

985
00:39:50,639 --> 00:39:53,838
which is just always applying the same

986
00:39:52,559 --> 00:39:55,599
kind of collision stuff

987
00:39:53,838 --> 00:39:57,838
what we want to do here is actually do

988
00:39:55,599 --> 00:40:01,280
something smart

989
00:39:57,838 --> 00:40:06,960
uh whenever we see one

990
00:40:01,280 --> 00:40:10,400
assuming so in here where we do hit this

991
00:40:06,960 --> 00:40:13,199
right um this code

992
00:40:10,400 --> 00:40:14,800
is the code that stops us so what we

993
00:40:13,199 --> 00:40:18,159
would like to do

994
00:40:14,800 --> 00:40:20,720
is have this speculative collide thing

995
00:40:18,159 --> 00:40:25,838
we could actually you know we could

996
00:40:20,719 --> 00:40:25,838
actually do something like this

997
00:40:36,559 --> 00:40:40,400
where we say look if it's not a room

998
00:40:39,440 --> 00:40:44,880
then

999
00:40:40,400 --> 00:40:53,838
you you know you can't go right

1000
00:40:44,880 --> 00:40:53,838
that kind of thing um

1001
00:40:55,119 --> 00:40:58,480
and so again we want to start building

1002
00:40:56,880 --> 00:40:59,760
this out and so we kind of want to

1003
00:40:58,480 --> 00:41:02,880
replace like that

1004
00:40:59,760 --> 00:41:03,839
that entity flag collides i don't think

1005
00:41:02,880 --> 00:41:05,200
we need that anymore

1006
00:41:03,838 --> 00:41:07,199
you collide if you have collision

1007
00:41:05,199 --> 00:41:08,239
volumes and then what we're going to

1008
00:41:07,199 --> 00:41:10,639
want to do

1009
00:41:08,239 --> 00:41:11,279
is have effectively an enum in there

1010
00:41:10,639 --> 00:41:12,799
that says

1011
00:41:11,280 --> 00:41:14,000
when you collide with this entity what

1012
00:41:12,800 --> 00:41:14,800
is the action that we're supposed to be

1013
00:41:14,000 --> 00:41:16,719
taking

1014
00:41:14,800 --> 00:41:18,240
right and we may want it to be even more

1015
00:41:16,719 --> 00:41:19,519
complicated than just an enum but what

1016
00:41:18,239 --> 00:41:21,679
we want to do now is say look

1017
00:41:19,519 --> 00:41:22,559
when something collides we need to take

1018
00:41:21,679 --> 00:41:24,399
an action

1019
00:41:22,559 --> 00:41:26,639
that action may just be as simple as

1020
00:41:24,400 --> 00:41:30,400
stopping someone from moving

1021
00:41:26,639 --> 00:41:33,039
but it may be more like oh we need to

1022
00:41:30,400 --> 00:41:34,000
uh you know trigger some kind of a

1023
00:41:33,039 --> 00:41:34,880
combat event

1024
00:41:34,000 --> 00:41:36,318
because that's what we're going to be

1025
00:41:34,880 --> 00:41:37,680
working on for the next few weeks right

1026
00:41:36,318 --> 00:41:39,358
is like combat stuff

1027
00:41:37,679 --> 00:41:41,199
so we're going to want to know okay

1028
00:41:39,358 --> 00:41:42,480
these two things collided

1029
00:41:41,199 --> 00:41:44,399
maybe they can just pass right through

1030
00:41:42,480 --> 00:41:46,800
each other but maybe they apply damage

1031
00:41:44,400 --> 00:41:48,318
maybe something you know some particles

1032
00:41:46,800 --> 00:41:50,000
effects happen you know all that kind of

1033
00:41:48,318 --> 00:41:53,039
stuff

1034
00:41:50,000 --> 00:41:56,559
we're going to kind of need to

1035
00:41:53,039 --> 00:41:57,920
have you know a more complex notion of

1036
00:41:56,559 --> 00:41:59,358
what happens with two things hit each

1037
00:41:57,920 --> 00:42:02,159
other

1038
00:41:59,358 --> 00:42:03,519
uh so this crap is gone like i don't

1039
00:42:02,159 --> 00:42:05,279
care about this at all

1040
00:42:03,519 --> 00:42:06,960
uh and so right now we'll just do this

1041
00:42:05,280 --> 00:42:09,519
but but pretty in

1042
00:42:06,960 --> 00:42:10,079
just a moment uh we will update this

1043
00:42:09,519 --> 00:42:12,639
code

1044
00:42:10,079 --> 00:42:14,400
to use something more complicated and i

1045
00:42:12,639 --> 00:42:17,598
want to say that we also

1046
00:42:14,400 --> 00:42:18,400
might be able to collapse some code down

1047
00:42:17,599 --> 00:42:19,760
here because

1048
00:42:18,400 --> 00:42:22,000
don't we also use these collision

1049
00:42:19,760 --> 00:42:24,160
volumes for like camera

1050
00:42:22,000 --> 00:42:25,679
like lookables and stuff so we might be

1051
00:42:24,159 --> 00:42:26,960
able to like kind of roll those systems

1052
00:42:25,679 --> 00:42:31,199
in together

1053
00:42:26,960 --> 00:42:33,119
um but i don't know so anyway

1054
00:42:31,199 --> 00:42:35,439
let's turn off room boundary collisions

1055
00:42:33,119 --> 00:42:38,079
and see and and yeah that was it

1056
00:42:35,440 --> 00:42:39,599
um so now we we at least know that that

1057
00:42:38,079 --> 00:42:42,240
these collisions are working

1058
00:42:39,599 --> 00:42:43,200
right um and so you can kind of see that

1059
00:42:42,239 --> 00:42:44,879
dude even

1060
00:42:43,199 --> 00:42:46,719
grinding along the wall there which is

1061
00:42:44,880 --> 00:42:50,318
nice right

1062
00:42:46,719 --> 00:42:51,838
um and and i think that's it

1063
00:42:50,318 --> 00:42:54,318
presumably now they also can't go

1064
00:42:51,838 --> 00:42:55,838
through the snake uh

1065
00:42:54,318 --> 00:42:58,079
i don't know how to test that i have to

1066
00:42:55,838 --> 00:42:58,799
kind of yeah there you go so that seems

1067
00:42:58,079 --> 00:43:02,318
good

1068
00:42:58,800 --> 00:43:04,400
um uh and i think we're okay but

1069
00:43:02,318 --> 00:43:06,960
the main problem we're gonna have now

1070
00:43:04,400 --> 00:43:08,240
and i think this even happened just now

1071
00:43:06,960 --> 00:43:10,720
right i think those two guys are like

1072
00:43:08,239 --> 00:43:12,639
locked is that like the collision code

1073
00:43:10,719 --> 00:43:14,879
is super crappy as well

1074
00:43:12,639 --> 00:43:16,639
um and so what we probably want to do is

1075
00:43:14,880 --> 00:43:19,920
actually get some good collision code

1076
00:43:16,639 --> 00:43:21,759
in there too right um so

1077
00:43:19,920 --> 00:43:23,599
face collision code and and then you

1078
00:43:21,760 --> 00:43:24,400
know maybe let's let's also put in while

1079
00:43:23,599 --> 00:43:26,400
we're at it

1080
00:43:24,400 --> 00:43:27,760
some like glove collision right because

1081
00:43:26,400 --> 00:43:29,200
you can see me punching through here

1082
00:43:27,760 --> 00:43:31,680
they both have collision volumes

1083
00:43:29,199 --> 00:43:33,358
we would know that the glove hit and we

1084
00:43:31,679 --> 00:43:41,838
should do something

1085
00:43:33,358 --> 00:43:41,838
right we should right

1086
00:43:42,800 --> 00:43:45,839
i thought exactly the same thing when i

1087
00:43:44,480 --> 00:43:48,159
said that so

1088
00:43:45,838 --> 00:43:54,000
yeah as i was saying like that doesn't

1089
00:43:48,159 --> 00:43:56,559
sound good

1090
00:43:54,000 --> 00:43:56,559
can i say

1091
00:44:05,358 --> 00:44:11,440
um so all right

1092
00:44:08,480 --> 00:44:12,400
so that's all good um so one of the

1093
00:44:11,440 --> 00:44:15,920
things we could do

1094
00:44:12,400 --> 00:44:19,039
here is also like change the

1095
00:44:15,920 --> 00:44:22,400
way that the glove works to be an actual

1096
00:44:19,039 --> 00:44:24,719
so the glove right now

1097
00:44:22,400 --> 00:44:26,160
since i want combat to start being a

1098
00:44:24,719 --> 00:44:29,519
thing we're doing here

1099
00:44:26,159 --> 00:44:30,078
uh the glove right now doesn't is not

1100
00:44:29,519 --> 00:44:32,480
moving

1101
00:44:30,079 --> 00:44:33,280
under physics so so you have to

1102
00:44:32,480 --> 00:44:36,800
understand

1103
00:44:33,280 --> 00:44:38,319
um some basic concepts here

1104
00:44:36,800 --> 00:44:39,599
and you know we've never really talked

1105
00:44:38,318 --> 00:44:41,039
about them too extensively on handmade

1106
00:44:39,599 --> 00:44:41,760
hero and i'm not going to belabor them

1107
00:44:41,039 --> 00:44:43,119
right now because

1108
00:44:41,760 --> 00:44:44,720
we're just kind of playing with gameplay

1109
00:44:43,119 --> 00:44:47,519
stuff and it's it's not super important

1110
00:44:44,719 --> 00:44:49,759
that you understand it right now but

1111
00:44:47,519 --> 00:44:51,039
it's worth in putting in your head just

1112
00:44:49,760 --> 00:44:53,520
the notion

1113
00:44:51,039 --> 00:44:54,159
that in general there's kind of two

1114
00:44:53,519 --> 00:44:57,440
broad

1115
00:44:54,159 --> 00:45:01,358
way you know two fundamental categories

1116
00:44:57,440 --> 00:45:03,200
you can classify movement schemes into

1117
00:45:01,358 --> 00:45:06,159
uh especially when you're talking about

1118
00:45:03,199 --> 00:45:09,679
from a gameplay perspective

1119
00:45:06,159 --> 00:45:12,239
uh and the idea here is that

1120
00:45:09,679 --> 00:45:12,960
you can have movement schemes that are

1121
00:45:12,239 --> 00:45:16,000
sort of

1122
00:45:12,960 --> 00:45:19,440
based on a movement algorithm

1123
00:45:16,000 --> 00:45:22,000
like a prescribed way

1124
00:45:19,440 --> 00:45:24,559
a prescribed path in which something

1125
00:45:22,000 --> 00:45:26,000
will trace out a shape

1126
00:45:24,559 --> 00:45:27,838
we generally think of these things we

1127
00:45:26,000 --> 00:45:29,199
use terms for them such as generalized

1128
00:45:27,838 --> 00:45:31,519
coordinates

1129
00:45:29,199 --> 00:45:32,879
and what we mean by that is that there's

1130
00:45:31,519 --> 00:45:34,960
some kind of value

1131
00:45:32,880 --> 00:45:36,559
like for the glove there's like the

1132
00:45:34,960 --> 00:45:39,599
angle of swipe

1133
00:45:36,559 --> 00:45:40,880
you know and we just run that angle and

1134
00:45:39,599 --> 00:45:44,000
in the glove swipes

1135
00:45:40,880 --> 00:45:47,280
you know what i mean and it doesn't

1136
00:45:44,000 --> 00:45:48,559
matter there's no more complexity in the

1137
00:45:47,280 --> 00:45:52,560
system to it

1138
00:45:48,559 --> 00:45:55,039
than that there's just a few parameters

1139
00:45:52,559 --> 00:45:58,719
that describe completely

1140
00:45:55,039 --> 00:46:00,800
where the thing is supposed to be and by

1141
00:45:58,719 --> 00:46:02,559
feeding those parameters into the system

1142
00:46:00,800 --> 00:46:03,119
you get back out the position of the

1143
00:46:02,559 --> 00:46:06,159
glove

1144
00:46:03,119 --> 00:46:06,960
right and it doesn't mean you can't do

1145
00:46:06,159 --> 00:46:09,358
physics

1146
00:46:06,960 --> 00:46:11,358
you actually can do physics on those

1147
00:46:09,358 --> 00:46:12,318
systems generalized coordinate physics

1148
00:46:11,358 --> 00:46:15,838
systems are a

1149
00:46:12,318 --> 00:46:17,920
very well studied well understood thing

1150
00:46:15,838 --> 00:46:19,679
but what it does mean is that the system

1151
00:46:17,920 --> 00:46:22,639
will always be constrained

1152
00:46:19,679 --> 00:46:24,000
to occupy a space allowed by those

1153
00:46:22,639 --> 00:46:25,679
generalized coordinates

1154
00:46:24,000 --> 00:46:27,199
so if the only thing the generalized

1155
00:46:25,679 --> 00:46:29,598
coordinates can represent is

1156
00:46:27,199 --> 00:46:31,519
that path of the glove then we could

1157
00:46:29,599 --> 00:46:33,039
start doing physics on it but we would

1158
00:46:31,519 --> 00:46:34,480
never be have be able

1159
00:46:33,039 --> 00:46:36,239
we would never be able to have it get

1160
00:46:34,480 --> 00:46:38,159
knocked away from that path

1161
00:46:36,239 --> 00:46:39,519
it could be stopped on its way through

1162
00:46:38,159 --> 00:46:42,239
the path and come back

1163
00:46:39,519 --> 00:46:43,358
right but it could never be knocked

1164
00:46:42,239 --> 00:46:46,719
totally away

1165
00:46:43,358 --> 00:46:48,000
and and that sort of thing so

1166
00:46:46,719 --> 00:46:49,679
it's worth understanding between

1167
00:46:48,000 --> 00:46:51,039
generalized coordinates which are that

1168
00:46:49,679 --> 00:46:53,279
kind of system

1169
00:46:51,039 --> 00:46:54,838
and then a system where you're just

1170
00:46:53,280 --> 00:46:57,599
talking about

1171
00:46:54,838 --> 00:47:00,559
straightforward uh you know

1172
00:46:57,599 --> 00:47:02,880
kinematic or dynamics simulations that

1173
00:47:00,559 --> 00:47:04,639
just have like position and velocity

1174
00:47:02,880 --> 00:47:06,480
right a lot of times these things are

1175
00:47:04,639 --> 00:47:08,239
called like lagrangian systems

1176
00:47:06,480 --> 00:47:10,079
i don't know if there's a really good

1177
00:47:08,239 --> 00:47:12,799
term for them just

1178
00:47:10,079 --> 00:47:13,200
rigid body dynamics just general like

1179
00:47:12,800 --> 00:47:15,440
the

1180
00:47:13,199 --> 00:47:16,318
the completely free formulated version

1181
00:47:15,440 --> 00:47:18,240
of them

1182
00:47:16,318 --> 00:47:20,159
i don't know what the diff what the name

1183
00:47:18,239 --> 00:47:22,000
is because generalized coordinates

1184
00:47:20,159 --> 00:47:23,440
you still do rigid body dynamics on if

1185
00:47:22,000 --> 00:47:25,440
you want to like i said

1186
00:47:23,440 --> 00:47:27,760
we're not doing that here this is purely

1187
00:47:25,440 --> 00:47:29,358
kinematic it's just setting a number

1188
00:47:27,760 --> 00:47:32,400
and you get out the position but you

1189
00:47:29,358 --> 00:47:35,440
could have been doing ridge by dinosaur

1190
00:47:32,400 --> 00:47:36,639
the uh the corresponding way which is

1191
00:47:35,440 --> 00:47:38,720
just saying look we're going to have

1192
00:47:36,639 --> 00:47:41,598
these things be fully 3d

1193
00:47:38,719 --> 00:47:42,159
simulated we're just going to completely

1194
00:47:41,599 --> 00:47:44,559
allow that

1195
00:47:42,159 --> 00:47:46,159
and then we're going to try and

1196
00:47:44,559 --> 00:47:49,599
constrain

1197
00:47:46,159 --> 00:47:51,199
using either you know springs like the

1198
00:47:49,599 --> 00:47:53,200
floating head

1199
00:47:51,199 --> 00:47:55,439
or other techniques we're going to try

1200
00:47:53,199 --> 00:47:58,719
to use those techniques

1201
00:47:55,440 --> 00:48:01,200
to enforce a type of motion that we want

1202
00:47:58,719 --> 00:48:02,000
but it's strictly an attempt to get that

1203
00:48:01,199 --> 00:48:04,078
path

1204
00:48:02,000 --> 00:48:05,358
it may not get that path right it's just

1205
00:48:04,079 --> 00:48:07,839
going to push towards that path and

1206
00:48:05,358 --> 00:48:10,960
either it gets it or doesn't

1207
00:48:07,838 --> 00:48:12,480
so i think for this kind of game

1208
00:48:10,960 --> 00:48:14,079
that's over all that was a very

1209
00:48:12,480 --> 00:48:16,639
long-winded wind-up

1210
00:48:14,079 --> 00:48:18,240
for me to say that i think in this kind

1211
00:48:16,639 --> 00:48:22,639
of game

1212
00:48:18,239 --> 00:48:26,239
i actually want to simulate the glove

1213
00:48:22,639 --> 00:48:27,440
as a free-floating body for a number of

1214
00:48:26,239 --> 00:48:30,959
reasons

1215
00:48:27,440 --> 00:48:32,559
one is i want active glove control to be

1216
00:48:30,960 --> 00:48:33,440
like a big thing of what you do in the

1217
00:48:32,559 --> 00:48:36,640
game

1218
00:48:33,440 --> 00:48:37,280
so i want a lot of unintended quote

1219
00:48:36,639 --> 00:48:39,039
unquote

1220
00:48:37,280 --> 00:48:40,559
where they're quite intended but you

1221
00:48:39,039 --> 00:48:43,199
know whatever uh

1222
00:48:40,559 --> 00:48:44,319
consequences of the glove being a

1223
00:48:43,199 --> 00:48:47,598
separate body not

1224
00:48:44,318 --> 00:48:50,239
attached to the hero for example

1225
00:48:47,599 --> 00:48:52,559
if you walk through this door without

1226
00:48:50,239 --> 00:48:55,519
first like pushing the glove forwards

1227
00:48:52,559 --> 00:48:56,480
i want the glove to get caught on the

1228
00:48:55,519 --> 00:48:59,119
door

1229
00:48:56,480 --> 00:49:00,480
and come in behind you so that when you

1230
00:48:59,119 --> 00:49:02,400
hop through

1231
00:49:00,480 --> 00:49:03,760
you can't punch right away you have to

1232
00:49:02,400 --> 00:49:07,680
wait for the glove to come in

1233
00:49:03,760 --> 00:49:08,400
right i want stuff like that to happen

1234
00:49:07,679 --> 00:49:11,199
in this game

1235
00:49:08,400 --> 00:49:11,680
like the glove managing where the glove

1236
00:49:11,199 --> 00:49:13,519
is

1237
00:49:11,679 --> 00:49:15,118
should be something that a good player

1238
00:49:13,519 --> 00:49:17,440
does uh

1239
00:49:15,119 --> 00:49:19,358
the door example is pretty stupid

1240
00:49:17,440 --> 00:49:20,480
because you know it would take you five

1241
00:49:19,358 --> 00:49:22,799
seconds to learn

1242
00:49:20,480 --> 00:49:23,838
to always push the glove forward but

1243
00:49:22,800 --> 00:49:26,160
that's just like

1244
00:49:23,838 --> 00:49:26,880
one example of things you know that we

1245
00:49:26,159 --> 00:49:28,799
could do

1246
00:49:26,880 --> 00:49:30,160
there's lots of stuff we could do where

1247
00:49:28,800 --> 00:49:32,160
you know keeping the glove in a

1248
00:49:30,159 --> 00:49:34,318
particular position

1249
00:49:32,159 --> 00:49:35,759
is something that the player actively

1250
00:49:34,318 --> 00:49:37,679
learns to do better

1251
00:49:35,760 --> 00:49:38,800
so when they first start they they're

1252
00:49:37,679 --> 00:49:40,399
crappy at it

1253
00:49:38,800 --> 00:49:41,920
and the glove is always in a bad

1254
00:49:40,400 --> 00:49:42,960
position and they're not getting as many

1255
00:49:41,920 --> 00:49:44,800
hits off

1256
00:49:42,960 --> 00:49:46,159
as they could or they're not doing as

1257
00:49:44,800 --> 00:49:47,599
much damage as they could

1258
00:49:46,159 --> 00:49:49,279
because they're just not managing the

1259
00:49:47,599 --> 00:49:52,640
glove very well uh

1260
00:49:49,280 --> 00:49:53,760
and then later when they get better at

1261
00:49:52,639 --> 00:49:54,719
it they're really good at glove

1262
00:49:53,760 --> 00:49:56,480
management

1263
00:49:54,719 --> 00:49:58,399
and their oh the glove is always in a

1264
00:49:56,480 --> 00:50:00,079
good place and they know how to like

1265
00:49:58,400 --> 00:50:01,440
sequence hits so that when they hit

1266
00:50:00,079 --> 00:50:02,880
something

1267
00:50:01,440 --> 00:50:04,159
they know how to manage like the bounce

1268
00:50:02,880 --> 00:50:06,318
back on the glove and all these other

1269
00:50:04,159 --> 00:50:08,558
sorts of things

1270
00:50:06,318 --> 00:50:10,079
um so what i'd like to do is decouple

1271
00:50:08,559 --> 00:50:12,160
the glove as the first step we're gonna

1272
00:50:10,079 --> 00:50:12,800
do for combat i'd like to decouple this

1273
00:50:12,159 --> 00:50:14,960
sort of like

1274
00:50:12,800 --> 00:50:16,000
kinematic movement system we got here i

1275
00:50:14,960 --> 00:50:17,519
want to get that out

1276
00:50:16,000 --> 00:50:19,039
and i want to make the glove be more of

1277
00:50:17,519 --> 00:50:21,119
an active management

1278
00:50:19,039 --> 00:50:22,239
um where so you you're kind of like when

1279
00:50:21,119 --> 00:50:24,318
you punch

1280
00:50:22,239 --> 00:50:26,078
it's less of a like i push the button to

1281
00:50:24,318 --> 00:50:28,318
punch and more of a like

1282
00:50:26,079 --> 00:50:29,599
i'm pushing buttons at times to control

1283
00:50:28,318 --> 00:50:31,358
where the glove is

1284
00:50:29,599 --> 00:50:32,960
and obviously there's a lot of subtlety

1285
00:50:31,358 --> 00:50:35,199
to that but you know

1286
00:50:32,960 --> 00:50:37,119
this is why i say um so design forward

1287
00:50:35,199 --> 00:50:38,960
versus design backward right

1288
00:50:37,119 --> 00:50:40,559
go listen to some game designers the

1289
00:50:38,960 --> 00:50:43,599
ones that i tend to respect

1290
00:50:40,559 --> 00:50:44,800
all say that you you experiment with the

1291
00:50:43,599 --> 00:50:48,000
gameplay ideas

1292
00:50:44,800 --> 00:50:50,079
in the game and you learn from them so

1293
00:50:48,000 --> 00:50:52,880
i'm not going to say anything else about

1294
00:50:50,079 --> 00:50:55,200
what we're doing because i don't know

1295
00:50:52,880 --> 00:50:56,318
i'm just going to assume that we will

1296
00:50:55,199 --> 00:50:59,519
learn

1297
00:50:56,318 --> 00:51:03,199
when i go ahead and decouple this from

1298
00:50:59,519 --> 00:51:06,960
you know when i decouple this uh this

1299
00:51:03,199 --> 00:51:08,719
glove from when i decouple

1300
00:51:06,960 --> 00:51:10,318
the glove from being kinematic so that

1301
00:51:08,719 --> 00:51:14,639
it's floating

1302
00:51:10,318 --> 00:51:17,759
at that point i think we will

1303
00:51:14,639 --> 00:51:19,118
we will just explore what kinds of

1304
00:51:17,760 --> 00:51:22,319
control

1305
00:51:19,119 --> 00:51:25,440
we can impart to the glove

1306
00:51:22,318 --> 00:51:28,719
and and i will try to find

1307
00:51:25,440 --> 00:51:30,400
something that feels like what i want

1308
00:51:28,719 --> 00:51:32,318
the game to feel like right

1309
00:51:30,400 --> 00:51:34,079
and like i said that my understanding

1310
00:51:32,318 --> 00:51:36,159
from listening to the game designers i

1311
00:51:34,079 --> 00:51:39,440
respect of which there are very few

1312
00:51:36,159 --> 00:51:42,159
um they all seem to say that

1313
00:51:39,440 --> 00:51:42,559
and nobody says go write a document out

1314
00:51:42,159 --> 00:51:44,318
that

1315
00:51:42,559 --> 00:51:45,760
like details all the things the glove's

1316
00:51:44,318 --> 00:51:47,920
gonna do it's like

1317
00:51:45,760 --> 00:51:49,599
no you know you can brainstorm and have

1318
00:51:47,920 --> 00:51:51,200
a notebook filled with ideas

1319
00:51:49,599 --> 00:51:53,280
and that's great because you need those

1320
00:51:51,199 --> 00:51:56,159
as raw materials for your explorations

1321
00:51:53,280 --> 00:51:58,079
go nuts it's fine but when it actually

1322
00:51:56,159 --> 00:52:00,318
comes down to

1323
00:51:58,079 --> 00:52:01,519
the day you you are doing some design

1324
00:52:00,318 --> 00:52:05,199
that day

1325
00:52:01,519 --> 00:52:08,480
you never just implement something

1326
00:52:05,199 --> 00:52:09,919
because your notebook told you to you

1327
00:52:08,480 --> 00:52:11,760
always have to treat it like an

1328
00:52:09,920 --> 00:52:14,880
exploration like the notebook

1329
00:52:11,760 --> 00:52:16,240
was like a map of some buried treasure

1330
00:52:14,880 --> 00:52:19,760
that you're looking for

1331
00:52:16,239 --> 00:52:21,919
but you're not sure where it is right um

1332
00:52:19,760 --> 00:52:22,800
so you need to just kind of explore and

1333
00:52:21,920 --> 00:52:25,920
have like a

1334
00:52:22,800 --> 00:52:28,800
you know a feel for that

1335
00:52:25,920 --> 00:52:30,400
um okay also you notice we really need

1336
00:52:28,800 --> 00:52:31,359
to fix our filtering on lighting you

1337
00:52:30,400 --> 00:52:33,599
notice like

1338
00:52:31,358 --> 00:52:35,199
where we get nice smooth lighting in

1339
00:52:33,599 --> 00:52:37,838
here and then the hard edge

1340
00:52:35,199 --> 00:52:39,919
there uh which we don't even really have

1341
00:52:37,838 --> 00:52:42,799
an explanation for why that happens

1342
00:52:39,920 --> 00:52:43,680
right um and we sort of know something

1343
00:52:42,800 --> 00:52:45,280
about how those

1344
00:52:43,679 --> 00:52:47,519
functions fall off but it's just kind of

1345
00:52:45,280 --> 00:52:50,800
like weird that we have that issue

1346
00:52:47,519 --> 00:52:53,440
um it's neither here nor there but

1347
00:52:50,800 --> 00:52:54,400
it's like a thresholding problem right

1348
00:52:53,440 --> 00:52:58,240
um

1349
00:52:54,400 --> 00:53:00,720
yeah doesn't matter so anyway

1350
00:52:58,239 --> 00:53:01,519
i'm going to go ahead and decouple that

1351
00:53:00,719 --> 00:53:04,318
so now

1352
00:53:01,519 --> 00:53:04,800
where we have that glove uh you we've

1353
00:53:04,318 --> 00:53:06,960
got this

1354
00:53:04,800 --> 00:53:08,800
add player thing right and and you can

1355
00:53:06,960 --> 00:53:11,039
see we actually created

1356
00:53:08,800 --> 00:53:11,839
a separate one here and we've got this

1357
00:53:11,039 --> 00:53:14,318
movement mode

1358
00:53:11,838 --> 00:53:16,880
angle offset and so we really just want

1359
00:53:14,318 --> 00:53:19,599
that to not be true anymore

1360
00:53:16,880 --> 00:53:21,440
and all of this stuff uh just goes away

1361
00:53:19,599 --> 00:53:22,640
right so it's just gonna be in movement

1362
00:53:21,440 --> 00:53:24,000
mode floating

1363
00:53:22,639 --> 00:53:26,159
uh which means that the glove is just

1364
00:53:24,000 --> 00:53:28,079
gonna do its own thing and it'll just be

1365
00:53:26,159 --> 00:53:30,960
kind of like you know the hero

1366
00:53:28,079 --> 00:53:32,318
has this glove if i run the game now uh

1367
00:53:30,960 --> 00:53:33,599
because there's no controller on the

1368
00:53:32,318 --> 00:53:35,759
glove it should just

1369
00:53:33,599 --> 00:53:37,599
sort of you know move around with us

1370
00:53:35,760 --> 00:53:41,040
right um and you can

1371
00:53:37,599 --> 00:53:43,280
okay i guess we reset those

1372
00:53:41,039 --> 00:53:45,519
things i'm like what the heck happened

1373
00:53:43,280 --> 00:53:45,519
there

1374
00:53:45,679 --> 00:53:49,838
all right um so hold on a second

1375
00:53:50,318 --> 00:53:57,838
so uh this must set that

1376
00:53:53,838 --> 00:53:57,838
on the glove probably does

1377
00:53:59,199 --> 00:54:03,919
yeah so okay so the glove yeah the glove

1378
00:54:02,639 --> 00:54:07,199
actually gets this stuff

1379
00:54:03,920 --> 00:54:09,599
set all right so uh

1380
00:54:07,199 --> 00:54:12,399
forget all this right like we don't want

1381
00:54:09,599 --> 00:54:14,640
any of this happening anymore

1382
00:54:12,400 --> 00:54:15,599
so all this should kind of go away you

1383
00:54:14,639 --> 00:54:19,358
know

1384
00:54:15,599 --> 00:54:21,280
that goes away uh and then in here

1385
00:54:19,358 --> 00:54:22,480
where we've got the movement mode uh

1386
00:54:21,280 --> 00:54:25,760
floating thing

1387
00:54:22,480 --> 00:54:29,300
this is what we actually want uh and so

1388
00:54:25,760 --> 00:54:32,349
you know we we we want this uh

1389
00:54:29,300 --> 00:54:32,349
[Music]

1390
00:54:33,760 --> 00:54:37,359
we want this to kind of always be the

1391
00:54:35,280 --> 00:54:40,720
case and this right here

1392
00:54:37,358 --> 00:54:43,440
wants to not be like rigid anymore right

1393
00:54:40,719 --> 00:54:45,358
so this just wants to be a target and

1394
00:54:43,440 --> 00:54:48,480
we've got sort of that pdc

1395
00:54:45,358 --> 00:54:51,598
nonsense going right where if you

1396
00:54:48,480 --> 00:54:55,440
look at the code for

1397
00:54:51,599 --> 00:54:58,318
um this ddp

1398
00:54:55,440 --> 00:54:59,440
we can just probably make this be like a

1399
00:54:58,318 --> 00:55:01,119
function that you call

1400
00:54:59,440 --> 00:55:03,760
because we're probably going to want to

1401
00:55:01,119 --> 00:55:06,559
slap some some of that crap on there

1402
00:55:03,760 --> 00:55:07,280
pdcs are not great but they get the job

1403
00:55:06,559 --> 00:55:10,640
done

1404
00:55:07,280 --> 00:55:12,960
you know they like they're okay

1405
00:55:10,639 --> 00:55:15,759
and so you usually start with them and

1406
00:55:12,960 --> 00:55:21,838
then you step up to something more

1407
00:55:15,760 --> 00:55:21,839
hardcore when you need to

1408
00:55:24,159 --> 00:55:31,199
uh okay so in here what i want to do

1409
00:55:27,358 --> 00:55:32,880
is when we have the uh

1410
00:55:31,199 --> 00:55:34,318
when we have someone who wants to apply

1411
00:55:32,880 --> 00:55:35,760
proportional different

1412
00:55:34,318 --> 00:55:38,159
proportional derivative controller we

1413
00:55:35,760 --> 00:55:39,680
can just do like pdc

1414
00:55:38,159 --> 00:55:41,358
where you say look here's the entity

1415
00:55:39,679 --> 00:55:44,960
you're trying to do it on

1416
00:55:41,358 --> 00:55:48,558
uh and then we have uh the coefficients

1417
00:55:44,960 --> 00:55:50,559
which they have they have names i

1418
00:55:48,559 --> 00:55:55,920
remember

1419
00:55:50,559 --> 00:55:58,880
but i it's been so long

1420
00:55:55,920 --> 00:56:00,240
it's like p s and p d what are the let's

1421
00:55:58,880 --> 00:56:03,838
use the standard let's just take a

1422
00:56:00,239 --> 00:56:03,838
second and look up the standards

1423
00:56:03,920 --> 00:56:08,000
launching a super crappy microsoft edge

1424
00:56:14,079 --> 00:56:17,359
so here's the proportional derivative

1425
00:56:16,318 --> 00:56:19,440
controller

1426
00:56:17,358 --> 00:56:21,358
uh entry uh and i just want to look up

1427
00:56:19,440 --> 00:56:23,358
there's standard terms i want to i want

1428
00:56:21,358 --> 00:56:25,199
to use the standard terms here uh if i

1429
00:56:23,358 --> 00:56:28,318
can

1430
00:56:25,199 --> 00:56:31,039
uh there they are so it's k k

1431
00:56:28,318 --> 00:56:31,440
d that's what i was looking for um so

1432
00:56:31,039 --> 00:56:35,279
yeah

1433
00:56:31,440 --> 00:56:38,720
so if you look at uh let's see

1434
00:56:35,280 --> 00:56:41,839
kp for the first order

1435
00:56:38,719 --> 00:56:45,118
and kd for the second order looks

1436
00:56:41,838 --> 00:56:48,078
like kp what is k

1437
00:56:45,119 --> 00:56:50,720
i oh that's proportional integral

1438
00:56:48,079 --> 00:56:50,720
controller

1439
00:56:52,559 --> 00:56:57,040
yes it is i'm like so why would we want

1440
00:56:54,719 --> 00:57:01,279
that no we don't want that so it's p

1441
00:56:57,039 --> 00:57:05,920
and d so kp and kd

1442
00:57:01,280 --> 00:57:09,280
uh if i want to be

1443
00:57:05,920 --> 00:57:12,240
consistent with the literature so

1444
00:57:09,280 --> 00:57:14,319
our kp is here and in fact we can also

1445
00:57:12,239 --> 00:57:16,399
just have like this is our standard one

1446
00:57:14,318 --> 00:57:19,358
and people can override it or something

1447
00:57:16,400 --> 00:57:19,760
um but we can just say look kp applies

1448
00:57:19,358 --> 00:57:22,000
here

1449
00:57:19,760 --> 00:57:22,799
kd applies here and all you need to do

1450
00:57:22,000 --> 00:57:26,159
is tell us

1451
00:57:22,798 --> 00:57:29,440
like what did you actually want um

1452
00:57:26,159 --> 00:57:32,318
the like what did you actually want the

1453
00:57:29,440 --> 00:57:34,720
uh target to be and we'll try and get it

1454
00:57:32,318 --> 00:57:37,519
there whatever the energies you give us

1455
00:57:34,719 --> 00:57:38,639
um so that way we can have the glove be

1456
00:57:37,519 --> 00:57:40,719
like kind of laggy

1457
00:57:38,639 --> 00:57:42,078
and smooth behind you know just mousse

1458
00:57:40,719 --> 00:57:44,159
along uh

1459
00:57:42,079 --> 00:57:46,559
with the with the body instead of this

1460
00:57:44,159 --> 00:57:47,920
which rigidly locked its position

1461
00:57:46,559 --> 00:57:49,760
so we can set his movement mode to

1462
00:57:47,920 --> 00:57:51,599
floating and then i could say like

1463
00:57:49,760 --> 00:57:52,880
look give a portion of the controller

1464
00:57:51,599 --> 00:57:56,240
here to

1465
00:57:52,880 --> 00:57:59,039
this which is the actual like

1466
00:57:56,239 --> 00:58:00,719
thing that it was trying to achieve

1467
00:57:59,039 --> 00:58:01,358
which we'll probably change at a moment

1468
00:58:00,719 --> 00:58:03,439
here

1469
00:58:01,358 --> 00:58:05,199
uh but this is our target p so we've got

1470
00:58:03,440 --> 00:58:08,318
basically like a target p

1471
00:58:05,199 --> 00:58:09,679
that's the body location uh plus this

1472
00:58:08,318 --> 00:58:13,119
you know nonsense of like

1473
00:58:09,679 --> 00:58:16,239
where we're kind of going off of the uh

1474
00:58:13,119 --> 00:58:18,079
where we're offset from the hero

1475
00:58:16,239 --> 00:58:20,399
and so now we're just gonna say look try

1476
00:58:18,079 --> 00:58:23,599
to get there

1477
00:58:20,400 --> 00:58:24,960
but don't uh don't force it right before

1478
00:58:23,599 --> 00:58:27,838
it was just like literally

1479
00:58:24,960 --> 00:58:28,559
sticking the the glove there now like

1480
00:58:27,838 --> 00:58:31,519
the glove

1481
00:58:28,559 --> 00:58:32,319
has to actually track right and so what

1482
00:58:31,519 --> 00:58:36,400
we could do

1483
00:58:32,318 --> 00:58:39,039
is set that to be like springy um

1484
00:58:36,400 --> 00:58:40,639
in a way right we can set that to be

1485
00:58:39,039 --> 00:58:44,079
springy so it's kind

1486
00:58:40,639 --> 00:58:46,639
kind of trying to trace out

1487
00:58:44,079 --> 00:58:47,119
uh and get to the place where we said it

1488
00:58:46,639 --> 00:58:50,159
should be

1489
00:58:47,119 --> 00:58:53,440
right so if i go ahead and change

1490
00:58:50,159 --> 00:58:54,078
uh what the ks and kd are here k p and

1491
00:58:53,440 --> 00:58:57,200
kd

1492
00:58:54,079 --> 00:59:00,240
sorry um

1493
00:58:57,199 --> 00:59:03,358
if i have like a really strong one so

1494
00:59:00,239 --> 00:59:04,719
much stronger than uh the ones that we

1495
00:59:03,358 --> 00:59:06,960
had before

1496
00:59:04,719 --> 00:59:07,759
i can crank up the stiffness on this

1497
00:59:06,960 --> 00:59:09,920
particular

1498
00:59:07,760 --> 00:59:11,839
uh it's called stiffness on them uh and

1499
00:59:09,920 --> 00:59:14,880
it will hew closer to me

1500
00:59:11,838 --> 00:59:16,880
the the further up i i crank them

1501
00:59:14,880 --> 00:59:18,240
right and this is why i say you don't

1502
00:59:16,880 --> 00:59:19,358
always want to

1503
00:59:18,239 --> 00:59:20,798
stick with something like this because

1504
00:59:19,358 --> 00:59:22,480
you can get into situations where the

1505
00:59:20,798 --> 00:59:24,079
springs are too stiff and

1506
00:59:22,480 --> 00:59:26,079
so we may want to change this to

1507
00:59:24,079 --> 00:59:26,400
something else but you can kind of see

1508
00:59:26,079 --> 00:59:28,000
here

1509
00:59:26,400 --> 00:59:30,838
how like if i want the glove to lag

1510
00:59:28,000 --> 00:59:33,760
behind me um i can make it so that it's

1511
00:59:30,838 --> 00:59:38,400
it's compare it to the familiar

1512
00:59:33,760 --> 00:59:42,160
right which is using the the other uh

1513
00:59:38,400 --> 00:59:43,760
the the other um settings

1514
00:59:42,159 --> 00:59:46,078
uh and hopefully you can see sort of the

1515
00:59:43,760 --> 00:59:48,400
difference there right

1516
00:59:46,079 --> 00:59:49,680
and one of the problems that we have

1517
00:59:48,400 --> 00:59:52,079
here as well

1518
00:59:49,679 --> 00:59:54,000
is it's not going to match the velocity

1519
00:59:52,079 --> 00:59:54,559
and that's a problem we really want this

1520
00:59:54,000 --> 00:59:56,719
before

1521
00:59:54,559 --> 00:59:58,319
to probably match the velocity as well

1522
00:59:56,719 --> 00:59:59,439
so we probably want to do is have the

1523
00:59:58,318 --> 01:00:01,279
body's dp

1524
00:59:59,440 --> 01:00:03,358
in there the problem is i don't actually

1525
01:00:01,280 --> 01:00:04,798
know that we know what the body's dp is

1526
01:00:03,358 --> 01:00:06,558
because i don't know if we compute it

1527
01:00:04,798 --> 01:00:09,039
we probably should always be computing

1528
01:00:06,559 --> 01:00:10,798
it um for for this very purpose

1529
01:00:09,039 --> 01:00:12,719
but you can see here how like already

1530
01:00:10,798 --> 01:00:13,358
just with that setting i could keep the

1531
01:00:12,719 --> 01:00:16,480
glove

1532
01:00:13,358 --> 01:00:17,279
uh relatively close uh to the hero at

1533
01:00:16,480 --> 01:00:20,798
all times

1534
01:00:17,280 --> 01:00:22,798
which is what we wanted right

1535
01:00:20,798 --> 01:00:24,559
um but that velocity match is going to

1536
01:00:22,798 --> 01:00:25,519
be important so i feel like that's

1537
01:00:24,559 --> 01:00:27,839
something

1538
01:00:25,519 --> 01:00:29,199
to to put in there and for those of you

1539
01:00:27,838 --> 01:00:29,599
don't know what i'm talking about see oh

1540
01:00:29,199 --> 01:00:31,118
that

1541
01:00:29,599 --> 01:00:32,798
that's what i wanted to have happen

1542
01:00:31,119 --> 01:00:34,640
right i kind of want it to be able to

1543
01:00:32,798 --> 01:00:35,358
glide off of there so i don't know that

1544
01:00:34,639 --> 01:00:37,440
i want

1545
01:00:35,358 --> 01:00:39,279
um it to be that easy for it to get

1546
01:00:37,440 --> 01:00:40,720
stuck i want it to just lag so we may

1547
01:00:39,280 --> 01:00:42,400
want to have it roll

1548
01:00:40,719 --> 01:00:44,000
we may want to have a collision model

1549
01:00:42,400 --> 01:00:44,960
that does a little bit more of a roll

1550
01:00:44,000 --> 01:00:47,440
than that

1551
01:00:44,960 --> 01:00:49,440
um why can't that guy come through here

1552
01:00:47,440 --> 01:00:52,318
because oh is it stuck to this dude

1553
01:00:49,440 --> 01:00:52,880
again yeah i don't know doesn't matter

1554
01:00:52,318 --> 01:00:54,318
um

1555
01:00:52,880 --> 01:00:56,000
like i said we got to fix our collision

1556
01:00:54,318 --> 01:00:58,000
stuff anyway so

1557
01:00:56,000 --> 01:00:59,119
uh you know we could do that and then

1558
01:00:58,000 --> 01:01:01,920
for punching

1559
01:00:59,119 --> 01:01:05,280
right um i just want to say something

1560
01:01:01,920 --> 01:01:05,280
maybe along the lines of

1561
01:01:05,838 --> 01:01:08,078
um

1562
01:01:09,358 --> 01:01:15,279
i really don't want to set like angle

1563
01:01:12,639 --> 01:01:17,440
attack swipe or any of that stuff

1564
01:01:15,280 --> 01:01:17,440
so

1565
01:01:20,159 --> 01:01:26,318
so really if attacked uh

1566
01:01:24,239 --> 01:01:27,279
i don't know that we even care about

1567
01:01:26,318 --> 01:01:29,039
that really

1568
01:01:27,280 --> 01:01:30,640
like more what i want to be able to do

1569
01:01:29,039 --> 01:01:34,798
here um

1570
01:01:30,639 --> 01:01:37,598
is just say well when we do if attacked

1571
01:01:34,798 --> 01:01:38,000
uh maybe we want the offset to be

1572
01:01:37,599 --> 01:01:41,119
whatever

1573
01:01:38,000 --> 01:01:42,719
the facing direction is you know i don't

1574
01:01:41,119 --> 01:01:46,960
care about this

1575
01:01:42,719 --> 01:01:48,719
right um i want to like push it in the

1576
01:01:46,960 --> 01:01:53,838
direction of the attack

1577
01:01:48,719 --> 01:01:53,838
which which i don't know

1578
01:01:57,679 --> 01:02:03,440
i i don't know exactly what i want to do

1579
01:01:59,679 --> 01:02:03,440
there right but but like

1580
01:02:04,838 --> 01:02:07,838
something

1581
01:02:09,760 --> 01:02:13,119
so something like this so when we get

1582
01:02:12,559 --> 01:02:15,359
the

1583
01:02:13,119 --> 01:02:16,720
uh when we get the actual attack you can

1584
01:02:15,358 --> 01:02:21,838
see like we've got like move

1585
01:02:16,719 --> 01:02:21,838
right and then we've got um

1586
01:02:22,400 --> 01:02:26,480
we've got action for like doing it's

1587
01:02:24,880 --> 01:02:27,680
called sword for some reason even though

1588
01:02:26,480 --> 01:02:30,079
it's a glove

1589
01:02:27,679 --> 01:02:31,679
so i don't know why we kept that naming

1590
01:02:30,079 --> 01:02:33,839
but it doesn't matter

1591
01:02:31,679 --> 01:02:35,038
um so you can see here we set the d

1592
01:02:33,838 --> 01:02:37,759
sword value

1593
01:02:35,039 --> 01:02:38,640
so like i'm just guessing that like we

1594
01:02:37,760 --> 01:02:41,839
should set the d

1595
01:02:38,639 --> 01:02:44,719
sword value to be or rather we use the d

1596
01:02:41,838 --> 01:02:45,519
sword value as like an offset here so in

1597
01:02:44,719 --> 01:02:48,558
you know if

1598
01:02:45,519 --> 01:02:50,000
we look at uh how this is being used you

1599
01:02:48,559 --> 01:02:51,280
can see that we're like

1600
01:02:50,000 --> 01:02:53,039
setting the facing direction based on

1601
01:02:51,280 --> 01:02:54,319
the d sort it's ridiculous that we don't

1602
01:02:53,039 --> 01:02:56,960
just set the facing direction

1603
01:02:54,318 --> 01:02:59,038
it's just um he's like welcome to

1604
01:02:56,960 --> 01:03:01,199
calling a tan to every frame for no

1605
01:02:59,039 --> 01:03:02,799
reason at all

1606
01:03:01,199 --> 01:03:05,038
it's like a stack overflow move right

1607
01:03:02,798 --> 01:03:05,038
there

1608
01:03:08,719 --> 01:03:12,318
it's like some high quality stack

1609
01:03:10,400 --> 01:03:14,318
overflow coding

1610
01:03:12,318 --> 01:03:16,239
um i i say that only because i literally

1611
01:03:14,318 --> 01:03:17,920
saw a thing just the other day on stack

1612
01:03:16,239 --> 01:03:20,078
overflow where someone was like

1613
01:03:17,920 --> 01:03:21,760
oh yeah just call a tan two and it was a

1614
01:03:20,079 --> 01:03:23,760
thing that you would never call a tantu

1615
01:03:21,760 --> 01:03:25,839
for because you already had the answer

1616
01:03:23,760 --> 01:03:27,039
so this is some stack overflow like like

1617
01:03:25,838 --> 01:03:30,159
you know

1618
01:03:27,039 --> 01:03:34,319
to do like stop

1619
01:03:30,159 --> 01:03:34,318
with the stack overflow quality

1620
01:03:36,719 --> 01:03:40,399
um so you know we want to de-stack

1621
01:03:39,519 --> 01:03:44,239
overflow that

1622
01:03:40,400 --> 01:03:44,480
um but you know what i want to do here

1623
01:03:44,239 --> 01:03:45,679
is

1624
01:03:44,480 --> 01:03:48,000
is i don't care about that at all i just

1625
01:03:45,679 --> 01:03:49,919
want to use that d sword value here

1626
01:03:48,000 --> 01:03:51,679
so i want to be able to add d sword and

1627
01:03:49,920 --> 01:03:56,159
this will just like however far

1628
01:03:51,679 --> 01:03:59,038
out like that punch is going

1629
01:03:56,159 --> 01:04:00,558
um and and the only problem with this is

1630
01:03:59,039 --> 01:04:04,960
i don't actually know

1631
01:04:00,559 --> 01:04:07,760
like how d sword works with diagonals

1632
01:04:04,960 --> 01:04:10,000
um like it never gets normalized

1633
01:04:07,760 --> 01:04:11,280
probably so so we probably want to do a

1634
01:04:10,000 --> 01:04:13,838
gnaws on this

1635
01:04:11,280 --> 01:04:15,920
so that we can just say look if you're

1636
01:04:13,838 --> 01:04:16,719
going diagonally you don't get like more

1637
01:04:15,920 --> 01:04:20,559
distance

1638
01:04:16,719 --> 01:04:23,759
on the sword um so we'd have like

1639
01:04:20,559 --> 01:04:25,039
a glove disc and you you know that's

1640
01:04:23,760 --> 01:04:26,640
going to be a thing that's

1641
01:04:25,039 --> 01:04:28,400
a property of the player right they're

1642
01:04:26,639 --> 01:04:29,838
gonna upgrade their glove and have

1643
01:04:28,400 --> 01:04:33,519
higher glove discs or whatever

1644
01:04:29,838 --> 01:04:34,000
the heck um so like that'll probably

1645
01:04:33,519 --> 01:04:36,798
come

1646
01:04:34,000 --> 01:04:37,760
you know to do like glove discs is

1647
01:04:36,798 --> 01:04:41,759
probably a

1648
01:04:37,760 --> 01:04:43,599
upgradeable thing you know um

1649
01:04:41,760 --> 01:04:45,520
so you've got glove discs and glove

1650
01:04:43,599 --> 01:04:48,079
discs is going to be

1651
01:04:45,519 --> 01:04:50,000
how far away from the player you can get

1652
01:04:48,079 --> 01:04:53,200
so you know maybe you can punch

1653
01:04:50,000 --> 01:04:56,719
you know three three units away

1654
01:04:53,199 --> 01:05:00,798
or some garbage like that

1655
01:04:56,719 --> 01:05:00,798
and i think this is i

1656
01:05:02,400 --> 01:05:10,000
want to say that that's a 2d value

1657
01:05:06,079 --> 01:05:12,480
oops so i i i want to say we have to

1658
01:05:10,000 --> 01:05:13,119
uh 3d it first because it's not it's not

1659
01:05:12,480 --> 01:05:14,798
going to it's

1660
01:05:13,119 --> 01:05:16,559
you can't punch up and down in this game

1661
01:05:14,798 --> 01:05:19,358
you can only you can only hit people on

1662
01:05:16,559 --> 01:05:23,839
on the floor you're on uh at the moment

1663
01:05:19,358 --> 01:05:23,838
and maybe that'll change

1664
01:05:28,719 --> 01:05:36,078
so it's weirdly laggy there

1665
01:05:32,880 --> 01:05:37,440
and i'm not sure why

1666
01:05:36,079 --> 01:05:39,200
i think probably because of collision

1667
01:05:37,440 --> 01:05:41,519
weirdness

1668
01:05:39,199 --> 01:05:41,519
maybe

1669
01:05:42,239 --> 01:05:47,279
um but anyway uh so

1670
01:05:45,440 --> 01:05:48,639
you can see like you can basically see

1671
01:05:47,280 --> 01:05:49,760
what i'm getting at here though yeah i

1672
01:05:48,639 --> 01:05:50,159
think we just need to fix our collision

1673
01:05:49,760 --> 01:05:51,599
routine

1674
01:05:50,159 --> 01:05:54,558
i think it's getting stuck on things

1675
01:05:51,599 --> 01:05:54,559
perhaps let me take a look

1676
01:05:56,079 --> 01:05:59,039
yeah yeah i mean it's like skating right

1677
01:05:57,519 --> 01:06:01,280
on the ground in fact why is it on the

1678
01:05:59,039 --> 01:06:01,280
ground

1679
01:06:03,039 --> 01:06:05,839
why why is the

1680
01:06:08,159 --> 01:06:11,679
where is glove float height and why is

1681
01:06:10,239 --> 01:06:14,239
it so tiny

1682
01:06:11,679 --> 01:06:16,719
so why is this not why is it not

1683
01:06:14,239 --> 01:06:18,639
actually floating

1684
01:06:16,719 --> 01:06:21,358
above the ground is it that it can't get

1685
01:06:18,639 --> 01:06:21,358
off the ground

1686
01:06:23,440 --> 01:06:29,519
like what's going on yeah like what's

1687
01:06:27,119 --> 01:06:29,519
the problem

1688
01:06:31,358 --> 01:06:34,480
hmm yeah i don't know what's going on

1689
01:06:32,719 --> 01:06:37,759
with that

1690
01:06:34,480 --> 01:06:38,880
um so you can see here like if you want

1691
01:06:37,760 --> 01:06:42,000
a punch right

1692
01:06:38,880 --> 01:06:46,079
you punch you punch like this

1693
01:06:42,000 --> 01:06:48,239
um and you want that to be like

1694
01:06:46,079 --> 01:06:49,839
pretty springy probably more springy

1695
01:06:48,239 --> 01:06:51,279
than that even

1696
01:06:49,838 --> 01:06:53,440
you know what i'm saying like you really

1697
01:06:51,280 --> 01:06:55,440
want that to fly out there

1698
01:06:53,440 --> 01:06:56,559
uh but again so you know you go through

1699
01:06:55,440 --> 01:06:59,200
a door or something like

1700
01:06:56,559 --> 01:07:00,720
like like i said i kind of want it to be

1701
01:06:59,199 --> 01:07:01,598
that as you go through the door it'll

1702
01:07:00,719 --> 01:07:04,399
just get stuck

1703
01:07:01,599 --> 01:07:06,079
or something you know to that effect if

1704
01:07:04,400 --> 01:07:07,358
you don't first like punch it out

1705
01:07:06,079 --> 01:07:08,960
right you want to like punch it in the

1706
01:07:07,358 --> 01:07:10,480
direction so you want to manage like the

1707
01:07:08,960 --> 01:07:13,519
glove movement

1708
01:07:10,480 --> 01:07:14,960
um and then i'm imagining uh

1709
01:07:13,519 --> 01:07:16,079
i think i'm gonna go fix that collision

1710
01:07:14,960 --> 01:07:18,798
do i have time today to fix the

1711
01:07:16,079 --> 01:07:18,798
collision sector

1712
01:07:19,599 --> 01:07:23,359
we started at 11. so i have an hour so i

1713
01:07:21,280 --> 01:07:26,640
might go fish the fixed collision sector

1714
01:07:23,358 --> 01:07:28,719
um so you know if you punch through

1715
01:07:26,639 --> 01:07:30,798
people or do whatever you're gonna do

1716
01:07:28,719 --> 01:07:32,000
uh i'm imagining that like the damage

1717
01:07:30,798 --> 01:07:34,079
would be based

1718
01:07:32,000 --> 01:07:36,159
on the speed of the punch so that

1719
01:07:34,079 --> 01:07:40,000
basically like if you

1720
01:07:36,159 --> 01:07:44,558
if you just run into somebody like this

1721
01:07:40,000 --> 01:07:47,440
you know um it doesn't do anything

1722
01:07:44,559 --> 01:07:48,319
right so that like doesn't do damage you

1723
01:07:47,440 --> 01:07:51,119
have to like

1724
01:07:48,318 --> 01:07:53,279
have a certain velocity on the glove so

1725
01:07:51,119 --> 01:07:56,559
when you punch

1726
01:07:53,280 --> 01:07:58,640
the velocity of the glove will be like

1727
01:07:56,559 --> 01:07:59,839
when the glove reaches a high enough

1728
01:07:58,639 --> 01:08:01,759
velocity to do damage

1729
01:07:59,838 --> 01:08:03,119
it'll like get particles on it or

1730
01:08:01,760 --> 01:08:05,760
something right

1731
01:08:03,119 --> 01:08:07,838
so you know you know when a punch will

1732
01:08:05,760 --> 01:08:09,760
do something and otherwise a glove

1733
01:08:07,838 --> 01:08:11,038
just does a push right like it would it

1734
01:08:09,760 --> 01:08:12,640
would just push against

1735
01:08:11,039 --> 01:08:14,640
something but it wouldn't actually

1736
01:08:12,639 --> 01:08:15,519
damage them just like a regular punch

1737
01:08:14,639 --> 01:08:18,000
like if you just

1738
01:08:15,519 --> 01:08:19,679
push on something versus you hit it

1739
01:08:18,000 --> 01:08:22,158
right it's going to be different

1740
01:08:19,679 --> 01:08:24,399
so so i kind of want the glove to have

1741
01:08:22,158 --> 01:08:27,679
that feel to it

1742
01:08:24,399 --> 01:08:31,119
if that makes sense um so

1743
01:08:27,679 --> 01:08:34,399
we'll see um but

1744
01:08:31,119 --> 01:08:35,198
but yeah uh and and it looks like that

1745
01:08:34,399 --> 01:08:36,798
was a little too far

1746
01:08:35,198 --> 01:08:39,119
as well so so i might just switch it up

1747
01:08:36,798 --> 01:08:40,319
a little bit here uh but then let's go

1748
01:08:39,119 --> 01:08:42,158
we're gonna have to like improve our

1749
01:08:40,319 --> 01:08:45,679
collision stuff there and

1750
01:08:42,158 --> 01:08:45,679
and all that but yeah

1751
01:08:46,719 --> 01:08:51,520
it's still really weird how the glove

1752
01:08:48,560 --> 01:08:52,960
like gets stuck on things like that i

1753
01:08:51,520 --> 01:08:54,640
don't really understand what's going on

1754
01:08:52,960 --> 01:08:56,079
there so again i want to fix collision

1755
01:08:54,640 --> 01:08:56,640
routines so we can get that out of the

1756
01:08:56,079 --> 01:09:00,318
way

1757
01:08:56,640 --> 01:09:00,319
but like i don't know like

1758
01:09:04,960 --> 01:09:08,399
it was like it felt like it was getting

1759
01:09:06,560 --> 01:09:10,798
stuck on stuff but it you know it's

1760
01:09:08,399 --> 01:09:11,599
kind of weird i can't really see it

1761
01:09:10,798 --> 01:09:21,838
actually happen

1762
01:09:11,600 --> 01:09:21,838
like there it's looking correct right

1763
01:09:24,079 --> 01:09:28,158
um and again i really don't know what

1764
01:09:27,359 --> 01:09:30,239
the pdc

1765
01:09:28,158 --> 01:09:31,599
max value should be are these movement

1766
01:09:30,238 --> 01:09:33,759
speeds capped

1767
01:09:31,600 --> 01:09:49,838
by the way we should go look because

1768
01:09:33,759 --> 01:09:49,838
that might also be why you can't get

1769
01:10:08,560 --> 01:10:11,679
all right so i'm going to look at this

1770
01:10:09,920 --> 01:10:13,039
because something's weird i don't

1771
01:10:11,679 --> 01:10:15,600
i don't even think that is the collision

1772
01:10:13,039 --> 01:10:18,479
detector there's weird stuff with the

1773
01:10:15,600 --> 01:10:19,600
with the floating mode i don't i don't

1774
01:10:18,479 --> 01:10:21,678
get it

1775
01:10:19,600 --> 01:10:23,520
i'm not sure what's going on there it

1776
01:10:21,679 --> 01:10:27,840
doesn't look good though

1777
01:10:23,520 --> 01:10:28,320
um so like what's up with that does the

1778
01:10:27,840 --> 01:10:30,800
glove

1779
01:10:28,319 --> 01:10:32,639
do anything else like are there other

1780
01:10:30,800 --> 01:10:37,760
things happening with the glove

1781
01:10:32,640 --> 01:10:37,760
in here that i'm not aware of um

1782
01:10:42,319 --> 01:10:46,799
so this might have something to do with

1783
01:10:46,238 --> 01:10:48,238
it although

1784
01:10:46,800 --> 01:10:50,960
since movement mode is always floating

1785
01:10:48,238 --> 01:10:50,959
it shouldn't be

1786
01:10:56,840 --> 01:10:59,840
um

1787
01:11:04,719 --> 01:11:07,840
so it it does only seem to be that

1788
01:11:07,039 --> 01:11:13,039
though i mean

1789
01:11:07,840 --> 01:11:16,719
there's no i guess and d sword

1790
01:11:13,039 --> 01:11:26,960
doesn't really get used uh anywhere

1791
01:11:16,719 --> 01:11:30,079
either so

1792
01:11:26,960 --> 01:11:33,198
so i i don't know about that

1793
01:11:30,079 --> 01:11:33,920
um it seems just it just seems to be

1794
01:11:33,198 --> 01:11:36,879
behaving

1795
01:11:33,920 --> 01:11:36,880
rather oddly

1796
01:11:37,840 --> 01:11:42,239
um so i don't know what to make of that

1797
01:11:39,760 --> 01:11:44,480
uh separately we probably do still want

1798
01:11:42,238 --> 01:11:44,479
this

1799
01:11:48,158 --> 01:11:55,839
um but but yeah

1800
01:12:01,279 --> 01:12:04,880
it just feels really odd is all i can

1801
01:12:03,439 --> 01:12:07,759
say it doesn't

1802
01:12:04,880 --> 01:12:08,000
it feels like there's a stopping point

1803
01:12:07,760 --> 01:12:10,480
in

1804
01:12:08,000 --> 01:12:11,039
the middle as it moves over the first

1805
01:12:10,479 --> 01:12:13,678
square

1806
01:12:11,039 --> 01:12:15,359
and i have no explanation for why it

1807
01:12:13,679 --> 01:12:17,359
would do that

1808
01:12:15,359 --> 01:12:19,599
because it looks like we're just using a

1809
01:12:17,359 --> 01:12:23,839
straight

1810
01:12:19,600 --> 01:12:23,840
offset there's no like

1811
01:12:26,560 --> 01:12:36,640
there's no like additional thing

1812
01:12:28,880 --> 01:12:42,159
happening there

1813
01:12:36,640 --> 01:12:42,159
big stretch okay so so that's just weird

1814
01:12:42,238 --> 01:12:46,079
so i guess the first thing i would say

1815
01:12:44,158 --> 01:12:47,920
is because i don't know much about this

1816
01:12:46,079 --> 01:12:50,359
move entity call

1817
01:12:47,920 --> 01:12:53,409
except that it's a piece of crap

1818
01:12:50,359 --> 01:12:53,409
[Music]

1819
01:13:01,520 --> 01:13:05,840
what the heck

1820
01:13:15,119 --> 01:13:19,840
does somebody want to tell me what that

1821
01:13:16,840 --> 01:13:19,840
is

1822
01:13:24,000 --> 01:13:27,679
um okay

1823
01:13:31,198 --> 01:13:33,839
hold please

1824
01:13:40,960 --> 01:13:47,840
so what was that for

1825
01:13:48,960 --> 01:13:52,800
like that literally does nothing

1826
01:13:56,770 --> 01:14:01,840
[Music]

1827
01:13:58,840 --> 01:14:01,840
so

1828
01:14:04,399 --> 01:14:14,158
if the player delta length is greater

1829
01:14:06,800 --> 01:14:16,320
than the distance remaining

1830
01:14:14,158 --> 01:14:18,719
so this was something that like we

1831
01:14:16,319 --> 01:14:23,599
wanted to clamp

1832
01:14:18,719 --> 01:14:29,840
the movement of some entities

1833
01:14:23,600 --> 01:14:29,840
or something

1834
01:14:38,560 --> 01:14:44,719
i mean whatever this was it sucked like

1835
01:14:41,279 --> 01:14:44,719
what would be the point of that

1836
01:14:46,719 --> 01:14:50,079
like because we should be doing a better

1837
01:14:48,719 --> 01:14:51,679
like physical movement here where we

1838
01:14:50,079 --> 01:14:53,439
just say look this is the place the

1839
01:14:51,679 --> 01:14:55,600
player was trying to go to

1840
01:14:53,439 --> 01:14:57,039
put them at the closest location to that

1841
01:14:55,600 --> 01:14:59,039
that you can

1842
01:14:57,039 --> 01:15:00,800
i'm not player but whatever the entity

1843
01:14:59,039 --> 01:15:02,319
was trying to go here

1844
01:15:00,800 --> 01:15:04,239
like this is where the entity is

1845
01:15:02,319 --> 01:15:06,799
supposed to be

1846
01:15:04,238 --> 01:15:08,238
so put it as close as dairy as you can

1847
01:15:06,800 --> 01:15:12,079
without

1848
01:15:08,238 --> 01:15:15,599
causing a a collision right

1849
01:15:12,079 --> 01:15:15,600
i mean that's all we really want to do

1850
01:15:18,800 --> 01:15:22,320
so so i'm just going to take a hatch

1851
01:15:20,719 --> 01:15:23,039
into this routine because frankly this

1852
01:15:22,319 --> 01:15:26,158
sucks

1853
01:15:23,039 --> 01:15:28,399
and and i don't want it

1854
01:15:26,158 --> 01:15:28,399
um

1855
01:15:35,279 --> 01:15:41,840
i i guess we want to say that maybe

1856
01:15:39,439 --> 01:15:41,839
we'll see

1857
01:15:44,960 --> 01:15:52,079
all right um so this

1858
01:15:48,000 --> 01:15:55,439
this is gone like that's gotta go um

1859
01:15:52,079 --> 01:15:56,920
this whole thing is stupid like this is

1860
01:15:55,439 --> 01:16:07,839
dumb

1861
01:15:56,920 --> 01:16:07,840
but um

1862
01:16:12,479 --> 01:16:15,359
yeah i don't like any of this

1863
01:16:16,880 --> 01:16:21,840
we're probably gonna hatch it this this

1864
01:16:18,399 --> 01:16:21,839
up quite a bit

1865
01:16:31,520 --> 01:16:36,560
yeah this this is all horrible and i

1866
01:16:33,679 --> 01:16:36,560
don't like any of it

1867
01:16:37,439 --> 01:16:40,799
all right so i think what we're doing

1868
01:16:39,198 --> 01:16:42,000
now is we're just going to rewrite this

1869
01:16:40,800 --> 01:16:46,239
routine

1870
01:16:42,000 --> 01:16:46,238
um this

1871
01:16:46,399 --> 01:16:49,759
this looks like something that tries to

1872
01:16:48,000 --> 01:16:54,560
change the facing direction

1873
01:16:49,760 --> 01:16:57,119
based on how an entity moved here

1874
01:16:54,560 --> 01:16:58,880
i'm gonna say that that will get handled

1875
01:16:57,119 --> 01:17:00,960
elsewhere anyway it already is and it

1876
01:16:58,880 --> 01:17:05,279
was commented out

1877
01:17:00,960 --> 01:17:05,279
so that was fine um

1878
01:17:11,039 --> 01:17:14,238
so this was trying to do like a branch

1879
01:17:13,119 --> 01:17:17,840
and bound kind of thing

1880
01:17:14,238 --> 01:17:17,839
it looks like uh

1881
01:17:19,039 --> 01:17:23,119
which we again don't really want

1882
01:17:28,840 --> 01:17:31,840
so

1883
01:17:37,039 --> 01:17:43,198
i mean yeah let's take this

1884
01:17:40,238 --> 01:17:44,319
step by step so if you take a look at

1885
01:17:43,198 --> 01:17:46,158
how this is working

1886
01:17:44,319 --> 01:17:47,759
we're going to move entities it looks

1887
01:17:46,158 --> 01:17:49,119
like this is set up to move entities

1888
01:17:47,760 --> 01:17:51,840
like one at a time

1889
01:17:49,119 --> 01:17:53,760
which is fine um because this game isn't

1890
01:17:51,840 --> 01:17:54,880
really about physical simulation so we

1891
01:17:53,760 --> 01:17:56,840
don't have a lot of

1892
01:17:54,880 --> 01:17:58,319
problems where we want to solve stuff

1893
01:17:56,840 --> 01:17:59,600
like you know

1894
01:17:58,319 --> 01:18:01,039
four entities that are all kind of

1895
01:17:59,600 --> 01:18:02,159
moving that are all in contact with each

1896
01:18:01,039 --> 01:18:03,439
other or something like this

1897
01:18:02,158 --> 01:18:05,679
in which case this wouldn't work very

1898
01:18:03,439 --> 01:18:06,879
well um

1899
01:18:05,679 --> 01:18:08,480
but if we take a look here what we're

1900
01:18:06,880 --> 01:18:10,480
doing is we're saying well here is where

1901
01:18:08,479 --> 01:18:12,879
we expect the player to end up

1902
01:18:10,479 --> 01:18:14,718
right like we're taking this is standard

1903
01:18:12,880 --> 01:18:18,960
this is one half a t squared plus

1904
01:18:14,719 --> 01:18:22,079
uh plus v t dt right

1905
01:18:18,960 --> 01:18:25,198
uh i should say one half a

1906
01:18:22,079 --> 01:18:27,198
d t squared plus v dt uh

1907
01:18:25,198 --> 01:18:28,799
meaning the standard like what's the

1908
01:18:27,198 --> 01:18:31,359
position

1909
01:18:28,800 --> 01:18:32,159
uh going to be after we apply the

1910
01:18:31,359 --> 01:18:34,399
velocity

1911
01:18:32,158 --> 01:18:35,359
and acceleration over the time step that

1912
01:18:34,399 --> 01:18:41,839
we've been given

1913
01:18:35,359 --> 01:18:41,839
right and that's all that is

1914
01:18:48,880 --> 01:18:51,920
uh and so what we want to do here is say

1915
01:18:51,359 --> 01:18:54,960
okay

1916
01:18:51,920 --> 01:18:55,440
if we know that that is and and to be

1917
01:18:54,960 --> 01:19:00,000
honest

1918
01:18:55,439 --> 01:19:01,919
um you know we probably want to compute

1919
01:19:00,000 --> 01:19:03,840
here in addition to a delta

1920
01:19:01,920 --> 01:19:05,039
i i'd like to just say like where the

1921
01:19:03,840 --> 01:19:06,960
desired position is it looks like we

1922
01:19:05,039 --> 01:19:09,600
compute that inside the loop

1923
01:19:06,960 --> 01:19:10,719
um but i kind of like to just make that

1924
01:19:09,600 --> 01:19:13,360
be

1925
01:19:10,719 --> 01:19:14,560
a a main thing that we actually like

1926
01:19:13,359 --> 01:19:16,158
said we were looking for

1927
01:19:14,560 --> 01:19:18,400
in general so we're gonna call desire

1928
01:19:16,158 --> 01:19:21,920
position just a thing

1929
01:19:18,399 --> 01:19:22,719
um outside and if we have intermediate

1930
01:19:21,920 --> 01:19:27,679
targets

1931
01:19:22,719 --> 01:19:27,679
then we will deal with those later right

1932
01:19:28,238 --> 01:19:35,839
um i don't know

1933
01:19:32,079 --> 01:19:38,399
what this is about and i don't much care

1934
01:19:35,840 --> 01:19:39,760
because we're going to try to place the

1935
01:19:38,399 --> 01:19:42,079
player where we're placing them

1936
01:19:39,760 --> 01:19:43,199
whether or not they moved is not really

1937
01:19:42,079 --> 01:19:47,119
the issue

1938
01:19:43,198 --> 01:19:48,799
right so i'll keep this iteration

1939
01:19:47,119 --> 01:19:51,920
stuff although i don't know how many

1940
01:19:48,800 --> 01:20:05,840
iterations we're really going to do

1941
01:19:51,920 --> 01:20:05,840
but i guess we'll find out so

1942
01:20:11,439 --> 01:20:16,000
this says this as an optimization but

1943
01:20:13,198 --> 01:20:19,839
that optimization is no longer there

1944
01:20:16,000 --> 01:20:19,840
right so we can get rid of that

1945
01:20:20,000 --> 01:20:33,840
so that goes away um

1946
01:20:34,319 --> 01:20:38,319
and so while we're in here it looks like

1947
01:20:36,800 --> 01:20:40,880
we're getting

1948
01:20:38,319 --> 01:20:42,238
uh the dimensions and centers of our

1949
01:20:40,880 --> 01:20:45,760
collision volumes

1950
01:20:42,238 --> 01:20:48,000
right and we're doing a minkowski test

1951
01:20:45,760 --> 01:20:48,000
um

1952
01:20:50,079 --> 01:21:01,840
on these which is fine

1953
01:21:06,238 --> 01:21:11,198
and it looks like this is using some

1954
01:21:08,399 --> 01:21:11,198
kind of crappy

1955
01:21:11,920 --> 01:21:18,399
wall code thing that i guess we wrote

1956
01:21:15,359 --> 01:21:20,960
a long time ago to just go like hey uh

1957
01:21:18,399 --> 01:21:23,439
let's test against like bumping into

1958
01:21:20,960 --> 01:21:28,399
these things

1959
01:21:23,439 --> 01:21:30,479
i guess

1960
01:21:28,399 --> 01:21:32,079
but i don't know that we care about that

1961
01:21:30,479 --> 01:21:35,919
right so

1962
01:21:32,079 --> 01:21:35,920
my guess is look

1963
01:21:36,719 --> 01:21:40,800
we're gonna have a couple different

1964
01:21:39,279 --> 01:21:43,840
problems here

1965
01:21:40,800 --> 01:21:45,199
one of the problems is what happens when

1966
01:21:43,840 --> 01:21:46,800
we want to find

1967
01:21:45,198 --> 01:21:48,799
how far we can go in a particular

1968
01:21:46,800 --> 01:21:51,920
direction

1969
01:21:48,800 --> 01:21:56,320
and that is

1970
01:21:51,920 --> 01:22:00,399
uh you know that is just a problem

1971
01:21:56,319 --> 01:22:00,399
with the fact that we

1972
01:22:05,039 --> 01:22:08,840
we can just raycast and know the answer

1973
01:22:07,119 --> 01:22:12,000
to that pretty much

1974
01:22:08,840 --> 01:22:12,480
right so the more interesting problem

1975
01:22:12,000 --> 01:22:14,719
here

1976
01:22:12,479 --> 01:22:17,359
that we have to focus on is the fact

1977
01:22:14,719 --> 01:22:19,359
that we we do want things to slide

1978
01:22:17,359 --> 01:22:20,960
so we want things to slide against

1979
01:22:19,359 --> 01:22:23,519
surfaces

1980
01:22:20,960 --> 01:22:24,560
and in order to do that we're going to

1981
01:22:23,520 --> 01:22:27,760
have to

1982
01:22:24,560 --> 01:22:28,960
make sure that we use something like a

1983
01:22:27,760 --> 01:22:31,679
cylinder

1984
01:22:28,960 --> 01:22:31,679
or a sphere

1985
01:22:33,520 --> 01:22:42,639
for the shapes that we move around

1986
01:22:38,800 --> 01:22:44,880
so we can totally have square shapes

1987
01:22:42,639 --> 01:22:47,199
like rectangles like we have for like

1988
01:22:44,880 --> 01:22:49,279
the walls because they're trying to fill

1989
01:22:47,198 --> 01:22:50,479
a rectangular space and prevent you from

1990
01:22:49,279 --> 01:22:53,519
moving

1991
01:22:50,479 --> 01:22:54,479
through it but we definitely want to

1992
01:22:53,520 --> 01:22:56,320
have

1993
01:22:54,479 --> 01:22:58,079
the shapes that we move through the

1994
01:22:56,319 --> 01:22:59,599
world be smoother

1995
01:22:58,079 --> 01:23:02,319
because if they're not when you have

1996
01:22:59,600 --> 01:23:04,320
like two cubes that hit each other right

1997
01:23:02,319 --> 01:23:06,079
you have just two flat things there's

1998
01:23:04,319 --> 01:23:08,479
not a way for it to clearly

1999
01:23:06,079 --> 01:23:10,158
roll off edges it's why we use things

2000
01:23:08,479 --> 01:23:11,839
like cylinders and spheres

2001
01:23:10,158 --> 01:23:13,439
for collision in games because we want

2002
01:23:11,840 --> 01:23:14,319
things to roll off each other at the

2003
01:23:13,439 --> 01:23:17,919
edges

2004
01:23:14,319 --> 01:23:21,519
and they won't do that if they're flat

2005
01:23:17,920 --> 01:23:23,840
so in terms of like uh yeah how we want

2006
01:23:21,520 --> 01:23:25,679
to deal with that i think we'd like to

2007
01:23:23,840 --> 01:23:27,360
change probably i'm just thinking to

2008
01:23:25,679 --> 01:23:31,359
myself

2009
01:23:27,359 --> 01:23:33,839
i think we would want to make it so that

2010
01:23:31,359 --> 01:23:35,279
things that move are considered to be

2011
01:23:33,840 --> 01:23:36,560
spheres

2012
01:23:35,279 --> 01:23:38,719
because i'm just thinking everything

2013
01:23:36,560 --> 01:23:42,320
that moves in this game with collisions

2014
01:23:38,719 --> 01:23:45,520
is like floating so we probably want

2015
01:23:42,319 --> 01:23:48,479
everything that moves to be a sphere

2016
01:23:45,520 --> 01:23:50,880
and everything that doesn't move to be a

2017
01:23:48,479 --> 01:23:55,198
cube

2018
01:23:50,880 --> 01:23:55,199
well a right rectangular prism right

2019
01:23:58,319 --> 01:24:04,799
um so i think that's what i would say

2020
01:24:02,479 --> 01:24:04,799
like

2021
01:24:09,679 --> 01:24:13,279
i think that's what i would say so i'm

2022
01:24:11,198 --> 01:24:15,678
gonna enter this assuming that that's

2023
01:24:13,279 --> 01:24:18,880
the case

2024
01:24:15,679 --> 01:24:21,440
and we'll see so uh

2025
01:24:18,880 --> 01:24:23,119
i don't care about an epsilon here uh

2026
01:24:21,439 --> 01:24:25,919
hopefully we can get away without one

2027
01:24:23,119 --> 01:24:27,679
epsilons are usually not great so we

2028
01:24:25,920 --> 01:24:29,679
probably want to try and write this code

2029
01:24:27,679 --> 01:24:31,920
in a way that doesn't really use one to

2030
01:24:29,679 --> 01:24:35,119
the extent that we can

2031
01:24:31,920 --> 01:24:37,760
um and so when we look here we're gonna

2032
01:24:35,119 --> 01:24:39,599
iterate over these entities and i think

2033
01:24:37,760 --> 01:24:40,639
what we wanna do now is figure out how

2034
01:24:39,600 --> 01:24:43,440
we can do

2035
01:24:40,639 --> 01:24:44,639
uh sort of a closest point placement

2036
01:24:43,439 --> 01:24:48,638
test

2037
01:24:44,639 --> 01:24:52,480
um based on the entity and

2038
01:24:48,639 --> 01:24:54,079
uh you know

2039
01:24:52,479 --> 01:24:55,759
i would like to do something that's

2040
01:24:54,079 --> 01:24:58,000
that's as close as possible to sort of

2041
01:24:55,760 --> 01:25:01,280
maybe what i did in the witness

2042
01:24:58,000 --> 01:25:04,800
where i'm placing entities

2043
01:25:01,279 --> 01:25:04,800
the furthest that they could go

2044
01:25:05,359 --> 01:25:08,799
based on the distance

2045
01:25:11,439 --> 01:25:27,839
for the distance from uh

2046
01:25:28,719 --> 01:25:33,198
i want to put them at the closest point

2047
01:25:30,560 --> 01:25:33,199
they can get

2048
01:25:37,679 --> 01:25:41,840
within a search region

2049
01:25:44,880 --> 01:25:48,400
that is the closest point to the point

2050
01:25:46,960 --> 01:25:51,279
they were trying to get to

2051
01:25:48,399 --> 01:25:51,279
is the way to say it

2052
01:25:52,158 --> 01:25:55,439
and in order to do that i just need a

2053
01:25:54,719 --> 01:25:58,480
way of

2054
01:25:55,439 --> 01:26:00,319
locally for this particular whatever the

2055
01:25:58,479 --> 01:26:02,399
thing is that i'm looking at

2056
01:26:00,319 --> 01:26:04,829
i just need a way of figuring out where

2057
01:26:02,399 --> 01:26:06,839
that point is

2058
01:26:04,829 --> 01:26:09,840
[Music]

2059
01:26:06,840 --> 01:26:09,840
um

2060
01:26:23,119 --> 01:26:26,319
and the reason it's kind of tricky and i

2061
01:26:25,439 --> 01:26:29,359
might want to go

2062
01:26:26,319 --> 01:26:31,439
to the board for this uh

2063
01:26:29,359 --> 01:26:32,719
the reason it's kind of tricky is i

2064
01:26:31,439 --> 01:26:37,839
don't actually

2065
01:26:32,719 --> 01:26:37,840
know offhand

2066
01:26:38,639 --> 01:26:42,480
what the most efficient way to do that

2067
01:26:40,319 --> 01:26:46,158
is if i'm not can going to actually

2068
01:26:42,479 --> 01:26:46,158
construct a localized grid

2069
01:26:48,719 --> 01:26:52,239
there's probably like a hackier way to

2070
01:26:50,719 --> 01:26:54,158
do it

2071
01:26:52,238 --> 01:26:56,238
that just gets the answer for floating

2072
01:26:54,158 --> 01:26:57,679
things

2073
01:26:56,238 --> 01:26:59,599
as opposed to like the one i did in the

2074
01:26:57,679 --> 01:27:02,239
witness which was was more much more

2075
01:26:59,600 --> 01:27:02,239
complicated

2076
01:27:03,279 --> 01:27:06,399
we should probably just do this on the

2077
01:27:16,840 --> 01:27:19,840
board

2078
01:27:31,840 --> 01:27:33,920
you

2079
01:28:41,840 --> 01:28:43,920
you

2080
01:29:09,840 --> 01:29:11,920
you

2081
01:30:17,760 --> 01:30:23,360
all right sorry that took a second there

2082
01:30:21,520 --> 01:30:24,560
um i guess i don't actually know i

2083
01:30:23,359 --> 01:30:25,439
should just check to make sure everyone

2084
01:30:24,560 --> 01:30:27,120
hear me okay

2085
01:30:25,439 --> 01:30:28,399
i wasn't planning on doing any board

2086
01:30:27,119 --> 01:30:30,158
stuff today so i didn't have it set up

2087
01:30:28,399 --> 01:30:35,039
so i had to quickly get it set up

2088
01:30:30,158 --> 01:30:37,599
but let me just check

2089
01:30:35,039 --> 01:30:37,600
can you hear me

2090
01:30:38,960 --> 01:30:41,198
cool

2091
01:30:42,399 --> 01:30:46,319
all right so what i'm basically talking

2092
01:30:45,439 --> 01:30:48,799
about here

2093
01:30:46,319 --> 01:30:50,399
is is pretty simple in theory it's just

2094
01:30:48,800 --> 01:30:53,920
kind of hard to implement

2095
01:30:50,399 --> 01:30:55,039
and uh again if you go look at the stuff

2096
01:30:53,920 --> 01:30:57,279
the talks i've done

2097
01:30:55,039 --> 01:30:58,158
on the witness collision detector they

2098
01:30:57,279 --> 01:31:00,639
talk a lot about

2099
01:30:58,158 --> 01:31:02,000
uh sort of the goals of doing a hardcore

2100
01:31:00,639 --> 01:31:03,279
one of these

2101
01:31:02,000 --> 01:31:04,880
and in this case we don't really need to

2102
01:31:03,279 --> 01:31:06,079
hardcore one of these but i would like

2103
01:31:04,880 --> 01:31:07,199
to sort of use the same principles

2104
01:31:06,079 --> 01:31:08,319
because when i thought through the

2105
01:31:07,198 --> 01:31:12,238
problem which i did

2106
01:31:08,319 --> 01:31:13,840
on that project to me this is the only

2107
01:31:12,238 --> 01:31:14,959
logical conclusion about how to do these

2108
01:31:13,840 --> 01:31:16,800
sorts of systems

2109
01:31:14,960 --> 01:31:18,239
so i kind of want one that's that hughes

2110
01:31:16,800 --> 01:31:20,320
as close to that as possible without

2111
01:31:18,238 --> 01:31:22,000
really being quite so hardcore because

2112
01:31:20,319 --> 01:31:23,759
it doesn't really need to do the same

2113
01:31:22,000 --> 01:31:24,960
kind of stuff that the witness needed to

2114
01:31:23,760 --> 01:31:29,600
do

2115
01:31:24,960 --> 01:31:33,279
um but here's the essential uh issue

2116
01:31:29,600 --> 01:31:36,400
so let's suppose that we have a

2117
01:31:33,279 --> 01:31:39,840
you know some some kind of a blocking

2118
01:31:36,399 --> 01:31:42,879
piece like a wall like we saw uh before

2119
01:31:39,840 --> 01:31:44,239
and we have you know a something that

2120
01:31:42,880 --> 01:31:47,039
we're moving

2121
01:31:44,238 --> 01:31:49,119
and the idea is we want this thing to be

2122
01:31:47,039 --> 01:31:49,519
able to sort of slide so you know as

2123
01:31:49,119 --> 01:31:51,920
this

2124
01:31:49,520 --> 01:31:53,280
sphere kind of comes up through here at

2125
01:31:51,920 --> 01:31:54,960
some point

2126
01:31:53,279 --> 01:31:56,479
this thing you know if we're talking

2127
01:31:54,960 --> 01:31:59,520
about moving the center here

2128
01:31:56,479 --> 01:32:01,039
at some point we hit we can no longer go

2129
01:31:59,520 --> 01:32:03,520
you know for talking about physically we

2130
01:32:01,039 --> 01:32:05,519
can't go because we would interpenetrate

2131
01:32:03,520 --> 01:32:07,120
and if we just want to solve that

2132
01:32:05,520 --> 01:32:09,679
problem it's not

2133
01:32:07,119 --> 01:32:10,479
quite as hard because we can use for

2134
01:32:09,679 --> 01:32:12,158
example

2135
01:32:10,479 --> 01:32:14,879
the minkowski sum like we've talked

2136
01:32:12,158 --> 01:32:18,079
about before where we can just say look

2137
01:32:14,880 --> 01:32:20,880
a sphere plus a uh you know a a

2138
01:32:18,079 --> 01:32:21,760
cube is just a rounded cube kind of

2139
01:32:20,880 --> 01:32:23,760
thing

2140
01:32:21,760 --> 01:32:26,400
so we could just do a raycast against

2141
01:32:23,760 --> 01:32:28,719
the rounded cube and find the point

2142
01:32:26,399 --> 01:32:30,799
where we have to stop moving and that

2143
01:32:28,719 --> 01:32:31,920
would be our answer

2144
01:32:30,800 --> 01:32:34,159
but the reason that it's more

2145
01:32:31,920 --> 01:32:37,279
complicated than that

2146
01:32:34,158 --> 01:32:40,079
is because we don't want to just stop

2147
01:32:37,279 --> 01:32:40,639
when we hit something we want to keep

2148
01:32:40,079 --> 01:32:43,359
moving

2149
01:32:40,639 --> 01:32:45,440
in the direction that we're going minus

2150
01:32:43,359 --> 01:32:49,599
whatever the actual stopping

2151
01:32:45,439 --> 01:32:52,479
part was so if this was stopping us

2152
01:32:49,600 --> 01:32:55,120
we want to stop moving that way and

2153
01:32:52,479 --> 01:32:57,198
start moving this way when we hit

2154
01:32:55,119 --> 01:32:59,119
and we want that to happen automatically

2155
01:32:57,198 --> 01:33:01,599
so we don't want the player to like

2156
01:32:59,119 --> 01:33:04,079
go up and just stop against the thing we

2157
01:33:01,600 --> 01:33:06,800
want them to glide along the edge

2158
01:33:04,079 --> 01:33:07,439
and you may ask why we want this who

2159
01:33:06,800 --> 01:33:10,239
knows

2160
01:33:07,439 --> 01:33:11,678
we don't know why we want this we just

2161
01:33:10,238 --> 01:33:13,439
know that when you implement

2162
01:33:11,679 --> 01:33:16,399
something that that works like that in a

2163
01:33:13,439 --> 01:33:18,559
game it feels better to play

2164
01:33:16,399 --> 01:33:21,279
so we don't know why it feels better to

2165
01:33:18,560 --> 01:33:23,920
do that we just know that when you do it

2166
01:33:21,279 --> 01:33:25,039
pretty much no players that anyone's

2167
01:33:23,920 --> 01:33:27,279
ever seen

2168
01:33:25,039 --> 01:33:28,880
prefer something to just get stopped

2169
01:33:27,279 --> 01:33:29,439
immediately on a wall and then they have

2170
01:33:28,880 --> 01:33:32,079
to push

2171
01:33:29,439 --> 01:33:33,839
up to keep going they all prefer if it

2172
01:33:32,079 --> 01:33:35,279
just kind of when they hit

2173
01:33:33,840 --> 01:33:37,039
if they're keep pushing in that

2174
01:33:35,279 --> 01:33:39,279
direction they just slide

2175
01:33:37,039 --> 01:33:40,960
and go off it and then you know go like

2176
01:33:39,279 --> 01:33:42,399
this

2177
01:33:40,960 --> 01:33:44,719
if you don't implement system that

2178
01:33:42,399 --> 01:33:46,479
handles this then you your game feels

2179
01:33:44,719 --> 01:33:48,639
sticky it feels like things are getting

2180
01:33:46,479 --> 01:33:51,839
stuck to surfaces all the time

2181
01:33:48,639 --> 01:33:54,000
um and you know if you want that great

2182
01:33:51,840 --> 01:33:55,039
but if you don't and you pretty much

2183
01:33:54,000 --> 01:33:58,238
never do

2184
01:33:55,039 --> 01:34:00,399
you need a better answer so

2185
01:33:58,238 --> 01:34:01,599
the problem that we get here is that if

2186
01:34:00,399 --> 01:34:04,079
we start to

2187
01:34:01,600 --> 01:34:05,600
to do too much fanciness if we actually

2188
01:34:04,079 --> 01:34:07,840
implement these things

2189
01:34:05,600 --> 01:34:09,199
literally so if we implement these

2190
01:34:07,840 --> 01:34:11,600
things as literally

2191
01:34:09,198 --> 01:34:12,960
i'm going to do a movement to hear see

2192
01:34:11,600 --> 01:34:14,800
that i've hit this thing then try a

2193
01:34:12,960 --> 01:34:17,119
movement to here and so on

2194
01:34:14,800 --> 01:34:18,079
you end up in kind of a nasty place

2195
01:34:17,119 --> 01:34:21,119
where you're trying

2196
01:34:18,079 --> 01:34:21,600
to do lots of little movements and it's

2197
01:34:21,119 --> 01:34:24,479
very

2198
01:34:21,600 --> 01:34:25,280
easy for the numerical imprecision of

2199
01:34:24,479 --> 01:34:27,039
the system

2200
01:34:25,279 --> 01:34:28,559
because remember each time you do one of

2201
01:34:27,039 --> 01:34:29,359
these you're slightly numerically

2202
01:34:28,560 --> 01:34:31,840
imprecise

2203
01:34:29,359 --> 01:34:34,479
you're never getting an exact answer

2204
01:34:31,840 --> 01:34:36,239
it's very easy to end up in situations

2205
01:34:34,479 --> 01:34:38,959
where especially when you have stuff

2206
01:34:36,238 --> 01:34:41,279
like two you know pieces or three

2207
01:34:38,960 --> 01:34:43,198
pieces like this that are all abutting

2208
01:34:41,279 --> 01:34:43,759
it's very easy to get into situations

2209
01:34:43,198 --> 01:34:46,399
where

2210
01:34:43,760 --> 01:34:48,400
you end up putting something inside

2211
01:34:46,399 --> 01:34:50,000
another thing or you don't quite

2212
01:34:48,399 --> 01:34:51,599
get the numerical stuff worked out and

2213
01:34:50,000 --> 01:34:53,279
things get stuck so

2214
01:34:51,600 --> 01:34:54,800
you need to be very careful when you

2215
01:34:53,279 --> 01:34:56,319
construct these systems

2216
01:34:54,800 --> 01:34:57,920
so that the thing that they're actually

2217
01:34:56,319 --> 01:34:58,960
solving for and the way that they're

2218
01:34:57,920 --> 01:35:01,840
solving for it

2219
01:34:58,960 --> 01:35:03,679
is very unlikely to produce bad

2220
01:35:01,840 --> 01:35:06,000
numerical outcomes

2221
01:35:03,679 --> 01:35:08,158
and that can be really difficult to do

2222
01:35:06,000 --> 01:35:10,158
so the kind that we had in there from

2223
01:35:08,158 --> 01:35:11,198
way back when was just a super crappy

2224
01:35:10,158 --> 01:35:12,879
collision thing

2225
01:35:11,198 --> 01:35:15,359
i think we called it crappy at the time

2226
01:35:12,880 --> 01:35:17,679
as well um

2227
01:35:15,359 --> 01:35:18,399
and so what we want to do is start

2228
01:35:17,679 --> 01:35:21,679
thinking about

2229
01:35:18,399 --> 01:35:24,960
something that's better than that right

2230
01:35:21,679 --> 01:35:28,239
now what i was saying before is i like

2231
01:35:24,960 --> 01:35:31,520
systems uh like for the witness um

2232
01:35:28,238 --> 01:35:32,638
i like systems that have i'm erasing

2233
01:35:31,520 --> 01:35:33,600
this because this is no longer

2234
01:35:32,639 --> 01:35:35,520
we don't need any of these diagrams

2235
01:35:33,600 --> 01:35:37,119
these are just me kind of idly

2236
01:35:35,520 --> 01:35:40,159
explaining stuff right

2237
01:35:37,118 --> 01:35:43,439
this will not be part of the exam uh

2238
01:35:40,158 --> 01:35:47,118
okay so basically what happens now

2239
01:35:43,439 --> 01:35:49,839
is we need a system that has a good

2240
01:35:47,118 --> 01:35:51,839
sort of uh overall structure for

2241
01:35:49,840 --> 01:35:52,319
producing results that we think might be

2242
01:35:51,840 --> 01:35:56,000
good

2243
01:35:52,319 --> 01:35:56,960
right and to me what the way i like to

2244
01:35:56,000 --> 01:35:59,679
think about these

2245
01:35:56,960 --> 01:36:01,198
is at any given time we start with the

2246
01:35:59,679 --> 01:36:04,239
entity that we're moving

2247
01:36:01,198 --> 01:36:05,919
and we produce a

2248
01:36:04,238 --> 01:36:07,919
candidate position that is where we

2249
01:36:05,920 --> 01:36:10,480
would like it to be

2250
01:36:07,920 --> 01:36:11,199
and instead of thinking of this as a

2251
01:36:10,479 --> 01:36:14,079
problem of

2252
01:36:11,198 --> 01:36:15,919
tracing a movement pattern which gets

2253
01:36:14,079 --> 01:36:16,559
into that iterative like i hit something

2254
01:36:15,920 --> 01:36:19,359
and then i go

2255
01:36:16,560 --> 01:36:19,760
and it's it's not clear where that ends

2256
01:36:19,359 --> 01:36:22,238
like

2257
01:36:19,760 --> 01:36:23,360
you know i could keep bouncing around in

2258
01:36:22,238 --> 01:36:24,799
there and never

2259
01:36:23,359 --> 01:36:26,479
really you know and do i just cap the

2260
01:36:24,800 --> 01:36:28,960
iteration

2261
01:36:26,479 --> 01:36:30,799
i want something where i know when i'm

2262
01:36:28,960 --> 01:36:33,920
done like i want to be able to do

2263
01:36:30,800 --> 01:36:36,320
an exhaustive search over something

2264
01:36:33,920 --> 01:36:36,960
so that the definition of when i have

2265
01:36:36,319 --> 01:36:40,079
finished

2266
01:36:36,960 --> 01:36:40,399
is clear right i want a stronger metric

2267
01:36:40,079 --> 01:36:42,399
than

2268
01:36:40,399 --> 01:36:44,960
i don't know i just started searching in

2269
01:36:42,399 --> 01:36:48,399
that direction and did stuff that to me

2270
01:36:44,960 --> 01:36:51,118
doesn't feel very good

2271
01:36:48,399 --> 01:36:52,559
so what i want to do is i want to do

2272
01:36:51,118 --> 01:36:56,559
something

2273
01:36:52,560 --> 01:36:58,880
where i produce a candidate location

2274
01:36:56,560 --> 01:37:00,639
and then what which is where you would

2275
01:36:58,880 --> 01:37:02,000
move if you didn't collide and that's

2276
01:37:00,639 --> 01:37:03,920
free because we're just

2277
01:37:02,000 --> 01:37:06,000
adding the vector the motion vector we

2278
01:37:03,920 --> 01:37:08,399
know we will go to this position so it's

2279
01:37:06,000 --> 01:37:09,359
trivial for us to find that and then

2280
01:37:08,399 --> 01:37:13,039
what i want to do

2281
01:37:09,359 --> 01:37:14,000
is say in the presence of some kind of

2282
01:37:13,039 --> 01:37:16,479
collision

2283
01:37:14,000 --> 01:37:17,840
where we know that if we were to put the

2284
01:37:16,479 --> 01:37:22,079
thing there

2285
01:37:17,840 --> 01:37:24,159
it would end up being um

2286
01:37:22,079 --> 01:37:26,079
it would end up creating a situation

2287
01:37:24,158 --> 01:37:27,599
where we would overlap in a way that we

2288
01:37:26,079 --> 01:37:30,880
don't want to

2289
01:37:27,600 --> 01:37:34,880
then what i want to do is search for

2290
01:37:30,880 --> 01:37:37,920
the closest continuous place

2291
01:37:34,880 --> 01:37:41,359
where i can place

2292
01:37:37,920 --> 01:37:42,480
the the entity right so what i'd like to

2293
01:37:41,359 --> 01:37:45,198
do is then say

2294
01:37:42,479 --> 01:37:46,559
okay you know and and you can see the

2295
01:37:45,198 --> 01:37:48,799
really simple version of this

2296
01:37:46,560 --> 01:37:49,840
would be to just sort of look for places

2297
01:37:48,800 --> 01:37:52,639
i could put

2298
01:37:49,840 --> 01:37:53,840
right and that would be like a certainty

2299
01:37:52,639 --> 01:37:55,760
kind of situation

2300
01:37:53,840 --> 01:37:57,360
where i basically just look along here

2301
01:37:55,760 --> 01:37:59,280
for places i could put

2302
01:37:57,359 --> 01:38:01,359
and why don't i want to do that well

2303
01:37:59,279 --> 01:38:02,559
because again it doesn't work for

2304
01:38:01,359 --> 01:38:05,359
sliding

2305
01:38:02,560 --> 01:38:07,360
so if i do this and i just start looking

2306
01:38:05,359 --> 01:38:09,920
along this line i will find

2307
01:38:07,359 --> 01:38:10,960
this location here where i first hit

2308
01:38:09,920 --> 01:38:13,279
right

2309
01:38:10,960 --> 01:38:14,000
but that is not as far as i could have

2310
01:38:13,279 --> 01:38:17,759
gone

2311
01:38:14,000 --> 01:38:20,800
i could have gone as far as here right

2312
01:38:17,760 --> 01:38:21,760
um that would have been a legal motion

2313
01:38:20,800 --> 01:38:24,960
for me to do

2314
01:38:21,760 --> 01:38:27,280
and if if the total path length here

2315
01:38:24,960 --> 01:38:29,039
is less than the motion vector that

2316
01:38:27,279 --> 01:38:31,118
would have presumably been legal

2317
01:38:29,039 --> 01:38:32,479
right so you know maybe this is a little

2318
01:38:31,118 --> 01:38:36,238
bit further back

2319
01:38:32,479 --> 01:38:39,198
you know what i'm saying um

2320
01:38:36,238 --> 01:38:40,238
so i'm trying to think if there's some

2321
01:38:39,198 --> 01:38:42,238
way

2322
01:38:40,238 --> 01:38:44,399
of doing a similar sort of thing to the

2323
01:38:42,238 --> 01:38:47,198
witness which is producing an exhaustive

2324
01:38:44,399 --> 01:38:50,079
search over some amount of space

2325
01:38:47,198 --> 01:38:50,960
um but that doesn't put me into that

2326
01:38:50,079 --> 01:38:54,158
situation

2327
01:38:50,960 --> 01:38:56,840
right um and so here's you know some

2328
01:38:54,158 --> 01:39:02,000
things that i'm thinking about right

2329
01:38:56,840 --> 01:39:02,000
so if instead

2330
01:39:05,198 --> 01:39:10,399
if instead of i'm trying i'm trying to

2331
01:39:08,960 --> 01:39:14,880
think of like how we would

2332
01:39:10,399 --> 01:39:14,879
we would phrase this here right um

2333
01:39:17,359 --> 01:39:22,079
if every if if instead of thinking of

2334
01:39:20,000 --> 01:39:24,800
this as a problem

2335
01:39:22,079 --> 01:39:26,000
where we update the position we were at

2336
01:39:24,800 --> 01:39:29,039
and then look for places

2337
01:39:26,000 --> 01:39:31,279
to go what if we turned this into more

2338
01:39:29,039 --> 01:39:41,840
of like a pathfinding problem

2339
01:39:31,279 --> 01:39:41,840
right so we would say something like

2340
01:40:06,840 --> 01:40:09,840
oh

2341
01:40:10,000 --> 01:40:13,679
i'm just trying to think of exactly how

2342
01:40:11,439 --> 01:40:17,678
this is formulated so

2343
01:40:13,679 --> 01:40:20,800
we know that we can't move backwards

2344
01:40:17,679 --> 01:40:22,960
along this line right so the player

2345
01:40:20,800 --> 01:40:25,279
if it was if the player was faced with

2346
01:40:22,960 --> 01:40:28,399
an obstacle that was literally

2347
01:40:25,279 --> 01:40:30,719
100 uh perpendicular

2348
01:40:28,399 --> 01:40:32,319
shaped to the direction of motion right

2349
01:40:30,719 --> 01:40:32,960
against them so you know it was like

2350
01:40:32,319 --> 01:40:35,599
this

2351
01:40:32,960 --> 01:40:37,198
or anywhere in here then it would stop

2352
01:40:35,600 --> 01:40:40,639
and it should actually stop

2353
01:40:37,198 --> 01:40:43,839
right but anything else any other

2354
01:40:40,639 --> 01:40:44,400
deflection angle we want them to start

2355
01:40:43,840 --> 01:40:47,760
gliding

2356
01:40:44,399 --> 01:40:48,559
along that right so if there's another

2357
01:40:47,760 --> 01:40:50,159
you know if

2358
01:40:48,560 --> 01:40:52,560
it hits something and that something is

2359
01:40:50,158 --> 01:40:55,519
tilted like this it wants to go this way

2360
01:40:52,560 --> 01:40:57,600
if uh it hits something uh and it's

2361
01:40:55,520 --> 01:41:01,040
tilted like that it wants to go that way

2362
01:40:57,600 --> 01:41:03,840
right so every time we put an

2363
01:41:01,039 --> 01:41:06,479
obstacle in we're effectively creating

2364
01:41:03,840 --> 01:41:09,199
like a glide angle

2365
01:41:06,479 --> 01:41:11,039
and the problem that we would get right

2366
01:41:09,198 --> 01:41:12,158
uh that makes this kind of an annoying

2367
01:41:11,039 --> 01:41:14,158
problem

2368
01:41:12,158 --> 01:41:15,679
is that the problem we will end up with

2369
01:41:14,158 --> 01:41:18,799
is they can

2370
01:41:15,679 --> 01:41:20,639
stack so you know you'd hit one

2371
01:41:18,800 --> 01:41:22,639
you'd glide there might but then there

2372
01:41:20,639 --> 01:41:23,039
might be one here right so you'd hit

2373
01:41:22,639 --> 01:41:25,279
that

2374
01:41:23,039 --> 01:41:28,000
and and you know you'd glide or you'd

2375
01:41:25,279 --> 01:41:30,000
try to glide upward and you'd hit right

2376
01:41:28,000 --> 01:41:31,760
so what we want to do is figure out some

2377
01:41:30,000 --> 01:41:33,679
way we can sweep over

2378
01:41:31,760 --> 01:41:35,199
all of the things that we might hit and

2379
01:41:33,679 --> 01:41:37,118
we assume that eventually we'll have a

2380
01:41:35,198 --> 01:41:38,879
spatial partition right that

2381
01:41:37,118 --> 01:41:40,799
will make that an easy query so we're

2382
01:41:38,880 --> 01:41:42,079
not worried about that but we take all

2383
01:41:40,800 --> 01:41:44,239
the things in

2384
01:41:42,079 --> 01:41:46,158
that are ostensibly going to affect our

2385
01:41:44,238 --> 01:41:47,198
movement and what we want to do is be

2386
01:41:46,158 --> 01:41:50,799
able to pile those

2387
01:41:47,198 --> 01:41:52,638
into something that allows us to find

2388
01:41:50,800 --> 01:41:55,440
what would be the closest point we could

2389
01:41:52,639 --> 01:41:55,440
actually get to

2390
01:41:55,840 --> 01:42:02,639
that's closest to our ending position

2391
01:41:59,279 --> 01:42:06,399
now again the way that i did this on

2392
01:42:02,639 --> 01:42:09,679
the witness was i built a localized grid

2393
01:42:06,399 --> 01:42:10,960
so you would take and you would overlay

2394
01:42:09,679 --> 01:42:14,800
something

2395
01:42:10,960 --> 01:42:17,600
like this right onto the system

2396
01:42:14,800 --> 01:42:19,199
and you would as you sort of got

2397
01:42:17,600 --> 01:42:22,639
obstacles that came in

2398
01:42:19,198 --> 01:42:25,919
you would sort of like fill in pieces

2399
01:42:22,639 --> 01:42:26,719
of the grid so that you knew when you

2400
01:42:25,920 --> 01:42:29,440
were actually

2401
01:42:26,719 --> 01:42:32,079
then later trying to move um you would

2402
01:42:29,439 --> 01:42:34,000
know like what were the closest

2403
01:42:32,079 --> 01:42:35,600
you know when you tried to get somewhere

2404
01:42:34,000 --> 01:42:37,198
it'd be like where was the closest place

2405
01:42:35,600 --> 01:42:37,840
you could get relative to that so if

2406
01:42:37,198 --> 01:42:40,479
that thing

2407
01:42:37,840 --> 01:42:42,560
actually got filled in you would find

2408
01:42:40,479 --> 01:42:44,559
the closest point um

2409
01:42:42,560 --> 01:42:46,639
by searching through the grid for

2410
01:42:44,560 --> 01:42:48,880
wherever was the closest point to that

2411
01:42:46,639 --> 01:42:48,880
and

2412
01:42:50,079 --> 01:42:53,198
i'm just trying to figure out if there's

2413
01:42:51,920 --> 01:42:56,239
a way to do that

2414
01:42:53,198 --> 01:43:00,079
more simply for the

2415
01:42:56,238 --> 01:43:00,079
this type of a problem where you're just

2416
01:43:08,079 --> 01:43:11,118
where maybe we don't care as much about

2417
01:43:09,760 --> 01:43:13,199
the robustness of it

2418
01:43:11,118 --> 01:43:16,238
you know as long as we can guarantee

2419
01:43:13,198 --> 01:43:18,319
that things don't get stuck

2420
01:43:16,238 --> 01:43:20,399
we don't have as we're not trying to

2421
01:43:18,319 --> 01:43:22,719
reach as high level as quality as maybe

2422
01:43:20,399 --> 01:43:25,599
of guarantees about

2423
01:43:22,719 --> 01:43:29,118
what happens in the system but still

2424
01:43:25,600 --> 01:43:29,119
sort of roughly keeping this right

2425
01:43:29,600 --> 01:43:31,920
um

2426
01:43:35,920 --> 01:43:53,840
and and so i guess you know

2427
01:43:38,960 --> 01:43:53,840
if i were to if hmm

2428
01:44:00,639 --> 01:44:07,840
so let's suppose we start plopping

2429
01:44:03,600 --> 01:44:07,840
things down here right

2430
01:44:12,158 --> 01:44:17,679
and we've got some object that's trying

2431
01:44:15,039 --> 01:44:17,679
to go through

2432
01:44:18,158 --> 01:44:22,158
and we know that like as this object

2433
01:44:20,880 --> 01:44:26,159
gets to like here

2434
01:44:22,158 --> 01:44:29,839
right we want it to start sliding

2435
01:44:26,158 --> 01:44:31,279
so what this effectively

2436
01:44:29,840 --> 01:44:33,119
and and the reason that this is even

2437
01:44:31,279 --> 01:44:35,118
more complicated is

2438
01:44:33,118 --> 01:44:37,279
we want it to be able to go around this

2439
01:44:35,118 --> 01:44:39,279
if it had enough momentum to do so

2440
01:44:37,279 --> 01:44:41,198
right so if it if it could have gotten

2441
01:44:39,279 --> 01:44:42,000
around here we probably want it to do

2442
01:44:41,198 --> 01:44:45,359
that

2443
01:44:42,000 --> 01:44:47,039
right because we don't really want you

2444
01:44:45,359 --> 01:44:48,319
to get stuck on edges

2445
01:44:47,039 --> 01:44:50,079
right we want you to be able to go

2446
01:44:48,319 --> 01:44:51,840
around so at a micro level because these

2447
01:44:50,079 --> 01:44:53,600
are very small movements

2448
01:44:51,840 --> 01:44:55,520
right it really wouldn't look like this

2449
01:44:53,600 --> 01:44:58,159
this would be a much larger thing

2450
01:44:55,520 --> 01:44:59,840
right um and this would be like you know

2451
01:44:58,158 --> 01:45:01,039
a much larger thing and if there was a

2452
01:44:59,840 --> 01:45:03,679
small amount

2453
01:45:01,039 --> 01:45:04,238
right if you just had to just move a

2454
01:45:03,679 --> 01:45:05,679
little bit

2455
01:45:04,238 --> 01:45:07,279
you just want to glide through that you

2456
01:45:05,679 --> 01:45:08,319
don't really want the player to get

2457
01:45:07,279 --> 01:45:14,559
stuck there

2458
01:45:08,319 --> 01:45:14,559
right um so i guess what i would say

2459
01:45:14,840 --> 01:45:17,840
is

2460
01:45:19,279 --> 01:45:22,479
you know can we just treat this as a

2461
01:45:21,039 --> 01:45:24,079
path finding problem i think i'm just

2462
01:45:22,479 --> 01:45:28,238
gonna try it that way

2463
01:45:24,079 --> 01:45:30,319
so suppose we took and we just said yeah

2464
01:45:28,238 --> 01:45:31,359
like we're gonna literally do that we're

2465
01:45:30,319 --> 01:45:34,559
gonna take

2466
01:45:31,359 --> 01:45:36,079
this guy and we have the end point and

2467
01:45:34,560 --> 01:45:39,360
we create a path

2468
01:45:36,079 --> 01:45:42,079
to the end point right and then

2469
01:45:39,359 --> 01:45:45,118
when we slap in something so we we go

2470
01:45:42,079 --> 01:45:47,359
ahead and we intersect the current path

2471
01:45:45,118 --> 01:45:48,639
that we've got with the object that

2472
01:45:47,359 --> 01:45:52,559
comes down

2473
01:45:48,639 --> 01:45:55,359
and we find right that that it looks

2474
01:45:52,560 --> 01:45:56,480
like this so we we do the raycast we

2475
01:45:55,359 --> 01:45:59,359
find that we hit

2476
01:45:56,479 --> 01:46:00,879
here so then we just say well whatever

2477
01:45:59,359 --> 01:46:04,399
surface we hit

2478
01:46:00,880 --> 01:46:05,279
we're going to do uh like a path update

2479
01:46:04,399 --> 01:46:08,319
now

2480
01:46:05,279 --> 01:46:12,000
and we'll we'll recast

2481
01:46:08,319 --> 01:46:13,679
in the direction of that to see how

2482
01:46:12,000 --> 01:46:15,600
far well i guess we don't really have to

2483
01:46:13,679 --> 01:46:17,760
we know here

2484
01:46:15,600 --> 01:46:18,800
right what the distance to the edge of

2485
01:46:17,760 --> 01:46:20,560
that thing

2486
01:46:18,800 --> 01:46:23,199
would be so we know that it would like

2487
01:46:20,560 --> 01:46:25,280
come to here so we like update the path

2488
01:46:23,198 --> 01:46:27,839
to look like this

2489
01:46:25,279 --> 01:46:27,840
right

2490
01:46:28,319 --> 01:46:33,359
i'm just spitballing here so we update

2491
01:46:31,198 --> 01:46:35,919
the path to look like this

2492
01:46:33,359 --> 01:46:37,118
now the problem that we have is we don't

2493
01:46:35,920 --> 01:46:39,760
know

2494
01:46:37,118 --> 01:46:41,279
whether this particular point is

2495
01:46:39,760 --> 01:46:43,760
actually legal

2496
01:46:41,279 --> 01:46:44,960
right because it may be that transiting

2497
01:46:43,760 --> 01:46:47,920
through that point

2498
01:46:44,960 --> 01:46:48,480
was actually prevented by some other

2499
01:46:47,920 --> 01:46:51,279
object

2500
01:46:48,479 --> 01:46:52,399
we already processed that doesn't hit

2501
01:46:51,279 --> 01:46:54,960
this line

2502
01:46:52,399 --> 01:46:56,158
so maybe there was an obstacle here this

2503
01:46:54,960 --> 01:46:57,198
could go straight through it and it

2504
01:46:56,158 --> 01:46:59,359
would be fine

2505
01:46:57,198 --> 01:47:01,678
but it can't actually handle the fact

2506
01:46:59,359 --> 01:47:02,799
that um

2507
01:47:01,679 --> 01:47:03,920
you wouldn't have been able to go

2508
01:47:02,800 --> 01:47:06,400
through here because there was something

2509
01:47:03,920 --> 01:47:06,399
there right

2510
01:47:06,639 --> 01:47:10,560
so maybe what we can do is instead of

2511
01:47:09,760 --> 01:47:12,880
thinking of this

2512
01:47:10,560 --> 01:47:14,960
as a problem where we move and we do

2513
01:47:12,880 --> 01:47:17,679
like stateful motion like that

2514
01:47:14,960 --> 01:47:20,158
what if we just treated it as same basic

2515
01:47:17,679 --> 01:47:23,679
idea so we're still doing the crappy

2516
01:47:20,158 --> 01:47:25,519
kind of we raycast we hit something

2517
01:47:23,679 --> 01:47:27,440
we consider that a new position but

2518
01:47:25,520 --> 01:47:30,239
instead of thinking of it as

2519
01:47:27,439 --> 01:47:31,279
updating the position and then we do a

2520
01:47:30,238 --> 01:47:32,638
new raycast

2521
01:47:31,279 --> 01:47:34,559
what if we just think of it as a

2522
01:47:32,639 --> 01:47:38,239
continuous path

2523
01:47:34,560 --> 01:47:40,719
so we say we restart our pass

2524
01:47:38,238 --> 01:47:42,479
through the system after we do that with

2525
01:47:40,719 --> 01:47:45,679
this as the path now

2526
01:47:42,479 --> 01:47:46,638
and we recast these legs to see if any

2527
01:47:45,679 --> 01:47:49,279
of those hit

2528
01:47:46,639 --> 01:47:50,079
if one of them do we insert a new leg

2529
01:47:49,279 --> 01:47:54,238
into the pet

2530
01:47:50,079 --> 01:47:54,238
right and we keep doing that

2531
01:47:55,198 --> 01:48:00,799
and then we just take the longest we

2532
01:47:58,479 --> 01:48:01,678
when we're done when we're doing doing n

2533
01:48:00,800 --> 01:48:04,719
paths

2534
01:48:01,679 --> 01:48:07,600
of that we just take the longest legal

2535
01:48:04,719 --> 01:48:07,600
one we can find

2536
01:48:16,840 --> 01:48:19,840
right

2537
01:48:21,198 --> 01:48:24,479
and i feel like that's a little bit

2538
01:48:22,560 --> 01:48:26,239
better of a structure for it because now

2539
01:48:24,479 --> 01:48:28,479
we can look at that path

2540
01:48:26,238 --> 01:48:29,839
at each iteration and know that we at

2541
01:48:28,479 --> 01:48:32,000
least know

2542
01:48:29,840 --> 01:48:33,520
we're always going to re-go from we

2543
01:48:32,000 --> 01:48:34,238
won't get into those weird situations

2544
01:48:33,520 --> 01:48:36,639
where like you

2545
01:48:34,238 --> 01:48:38,079
you accidentally numerically like wiggle

2546
01:48:36,639 --> 01:48:40,000
your way through something

2547
01:48:38,079 --> 01:48:41,840
because we're always just keeping these

2548
01:48:40,000 --> 01:48:44,399
actual segments

2549
01:48:41,840 --> 01:48:46,880
on hand and we can even just say if

2550
01:48:44,399 --> 01:48:49,279
there's a segment that looks like that

2551
01:48:46,880 --> 01:48:49,920
like if a segment is too small we just

2552
01:48:49,279 --> 01:48:53,920
throw

2553
01:48:49,920 --> 01:48:55,679
that out right it seems like potentially

2554
01:48:53,920 --> 01:48:57,600
a better framing for the problem i don't

2555
01:48:55,679 --> 01:48:58,880
know it might not really be it might be

2556
01:48:57,600 --> 01:49:01,360
that it doesn't actually

2557
01:48:58,880 --> 01:49:03,118
improve our odds at all and that you

2558
01:49:01,359 --> 01:49:07,279
could have just done exactly that

2559
01:49:03,118 --> 01:49:07,279
by just doing it incrementally

2560
01:49:12,840 --> 01:49:15,840
um

2561
01:49:18,560 --> 01:49:21,599
yeah so let's talk about a couple other

2562
01:49:20,719 --> 01:49:22,880
things here so

2563
01:49:21,599 --> 01:49:25,279
the other thing we need to make sure

2564
01:49:22,880 --> 01:49:28,159
that we have here is a way that

2565
01:49:25,279 --> 01:49:29,759
again if we construct this path by using

2566
01:49:28,158 --> 01:49:31,519
a displacement method

2567
01:49:29,760 --> 01:49:32,960
we will always we could we could

2568
01:49:31,520 --> 01:49:33,760
probably come out with ways that we

2569
01:49:32,960 --> 01:49:35,279
always push

2570
01:49:33,760 --> 01:49:36,800
away from obstacles which is the other

2571
01:49:35,279 --> 01:49:39,039
thing that we want to do so we don't

2572
01:49:36,800 --> 01:49:42,159
want things to be able to get stuck

2573
01:49:39,039 --> 01:49:44,158
so maybe raycast is the wrong term so

2574
01:49:42,158 --> 01:49:47,198
maybe what we want to do is say

2575
01:49:44,158 --> 01:49:49,519
look we can test segments for overlap

2576
01:49:47,198 --> 01:49:50,399
when we test segments for overlap what

2577
01:49:49,520 --> 01:49:53,760
we do is we

2578
01:49:50,399 --> 01:49:56,799
insert a point and the point we insert

2579
01:49:53,760 --> 01:49:59,440
is the one that's like however like

2580
01:49:56,800 --> 01:50:01,360
we we sort of do the raycast but really

2581
01:49:59,439 --> 01:50:04,319
we're just inserting a path point

2582
01:50:01,359 --> 01:50:05,359
that is a known good distance away from

2583
01:50:04,319 --> 01:50:09,279
the thing that we're at

2584
01:50:05,359 --> 01:50:13,679
we insert the path point there right

2585
01:50:09,279 --> 01:50:15,920
um and and also the path point

2586
01:50:13,679 --> 01:50:18,239
you know uh we introduced the new

2587
01:50:15,920 --> 01:50:22,239
segment that we're gonna start testing

2588
01:50:18,238 --> 01:50:26,479
um we know that those are

2589
01:50:22,238 --> 01:50:26,479
at the safe locations of this thing

2590
01:50:32,639 --> 01:50:36,960
so like that way if you were already

2591
01:50:34,960 --> 01:50:38,719
inside the thing

2592
01:50:36,960 --> 01:50:40,480
like let's say you end up getting stuck

2593
01:50:38,719 --> 01:50:42,800
in the thing for some reason

2594
01:50:40,479 --> 01:50:44,638
right for whatever reason like like the

2595
01:50:42,800 --> 01:50:47,119
entity system just farts

2596
01:50:44,639 --> 01:50:48,159
and it like accidentally puts somebody

2597
01:50:47,118 --> 01:50:51,279
inside

2598
01:50:48,158 --> 01:50:55,920
a collider right um

2599
01:50:51,279 --> 01:50:55,920
then you say like i uh

2600
01:50:58,079 --> 01:51:01,198
so yeah so this is what we want to do

2601
01:51:00,158 --> 01:51:03,598
okay so

2602
01:51:01,198 --> 01:51:04,479
we say that the person was trying to

2603
01:51:03,599 --> 01:51:08,000
move

2604
01:51:04,479 --> 01:51:08,479
right um and i guess this is the tough

2605
01:51:08,000 --> 01:51:10,158
part

2606
01:51:08,479 --> 01:51:12,238
let's say they were trying to move that

2607
01:51:10,158 --> 01:51:13,279
direction i guess maybe it's fine that

2608
01:51:12,238 --> 01:51:14,718
that wouldn't work

2609
01:51:13,279 --> 01:51:16,800
so but then they try to move this

2610
01:51:14,719 --> 01:51:19,679
direction so they are trying to move out

2611
01:51:16,800 --> 01:51:20,400
right so now what we would do is say

2612
01:51:19,679 --> 01:51:24,158
well

2613
01:51:20,399 --> 01:51:28,238
okay we tested this segment right

2614
01:51:24,158 --> 01:51:31,198
and the person is inside the

2615
01:51:28,238 --> 01:51:32,559
uh is inside the i don't know cube

2616
01:51:31,198 --> 01:51:35,678
whatever you want to call this

2617
01:51:32,560 --> 01:51:38,719
the person's inside the cube right now

2618
01:51:35,679 --> 01:51:39,840
so if the person is inside the cube on

2619
01:51:38,719 --> 01:51:42,480
the if the first

2620
01:51:39,840 --> 01:51:43,920
point of a segment is inside the cube

2621
01:51:42,479 --> 01:51:47,279
right

2622
01:51:43,920 --> 01:51:49,760
then we introduce a path segment that is

2623
01:51:47,279 --> 01:51:50,399
outside that is the legal place outside

2624
01:51:49,760 --> 01:51:52,719
the cube

2625
01:51:50,399 --> 01:51:54,559
in that direction that's the new path

2626
01:51:52,719 --> 01:51:58,639
segment

2627
01:51:54,560 --> 01:52:01,119
um and then when we evaluate the path

2628
01:51:58,639 --> 01:52:02,880
we would just say well if you're inside

2629
01:52:01,118 --> 01:52:05,519
to begin with

2630
01:52:02,880 --> 01:52:06,400
then we do allow you to pick an outside

2631
01:52:05,520 --> 01:52:08,239
point

2632
01:52:06,399 --> 01:52:10,559
if if the next segment on the path is

2633
01:52:08,238 --> 01:52:14,158
outside you can pick it

2634
01:52:10,560 --> 01:52:16,080
right so we could actually use that as

2635
01:52:14,158 --> 01:52:17,839
something reasonable if we have a way of

2636
01:52:16,079 --> 01:52:18,479
testing and saying are you inside or

2637
01:52:17,840 --> 01:52:21,039
outside

2638
01:52:18,479 --> 01:52:21,039
of this thing

2639
01:52:29,198 --> 01:52:32,960
and maybe we just skip the raycast part

2640
01:52:31,359 --> 01:52:34,960
altogether and just treat this as an

2641
01:52:32,960 --> 01:52:36,960
overlap problem

2642
01:52:34,960 --> 01:52:38,480
for now so that we don't ever raycast we

2643
01:52:36,960 --> 01:52:45,840
just say are you inside or outside and

2644
01:52:38,479 --> 01:52:45,839
make sure that it works with that

2645
01:52:50,719 --> 01:52:54,560
you know it's not great um

2646
01:52:54,639 --> 01:53:01,679
it's getting there but it's not great um

2647
01:52:58,158 --> 01:53:01,679
so if i am

2648
01:53:02,399 --> 01:53:07,359
if i am like summarizing this right so

2649
01:53:05,439 --> 01:53:08,479
we start with a point that's either in

2650
01:53:07,359 --> 01:53:10,158
or out

2651
01:53:08,479 --> 01:53:11,678
and another point that's either in or

2652
01:53:10,158 --> 01:53:14,960
out right

2653
01:53:11,679 --> 01:53:18,239
so we have you know in

2654
01:53:14,960 --> 01:53:21,520
out on these that we test

2655
01:53:18,238 --> 01:53:23,279
and then we have um a

2656
01:53:21,520 --> 01:53:25,119
a place you know a segment that goes

2657
01:53:23,279 --> 01:53:28,158
between them so

2658
01:53:25,118 --> 01:53:31,279
the reason we need a raycast is to know

2659
01:53:28,158 --> 01:53:33,839
whether this segment would be legal

2660
01:53:31,279 --> 01:53:34,399
because it's possible that it's not

2661
01:53:33,840 --> 01:53:37,039
right

2662
01:53:34,399 --> 01:53:38,960
we we need some way of knowing if this

2663
01:53:37,039 --> 01:53:42,319
segment is a legal segment like could

2664
01:53:38,960 --> 01:53:42,319
you actually move along it

2665
01:53:48,238 --> 01:53:52,479
and i guess what we're saying is if the

2666
01:53:49,920 --> 01:53:55,199
segment is in

2667
01:53:52,479 --> 01:53:56,479
and this is out then we just don't

2668
01:53:55,198 --> 01:53:59,118
bother

2669
01:53:56,479 --> 01:54:00,718
i guess um the problem is you could end

2670
01:53:59,118 --> 01:54:02,399
up with issues there as well like you

2671
01:54:00,719 --> 01:54:03,840
kind of don't ever want people to be

2672
01:54:02,399 --> 01:54:06,079
inside stuff but

2673
01:54:03,840 --> 01:54:07,679
i'm not sure that we want to be robust

2674
01:54:06,079 --> 01:54:09,118
enough to never have that happen because

2675
01:54:07,679 --> 01:54:10,719
again then you're into witness territory

2676
01:54:09,118 --> 01:54:12,960
i think at that point when you make that

2677
01:54:10,719 --> 01:54:14,560
actually a hard requirement that you can

2678
01:54:12,960 --> 01:54:17,760
prove

2679
01:54:14,560 --> 01:54:19,520
um so if you start i want to find the

2680
01:54:17,760 --> 01:54:22,320
closest point that i can put this

2681
01:54:19,520 --> 01:54:23,920
this thing at and so i can start

2682
01:54:22,319 --> 01:54:27,198
searching along this thing

2683
01:54:23,920 --> 01:54:30,239
i could just use overlap testing um

2684
01:54:27,198 --> 01:54:32,479
to say well you know uh

2685
01:54:30,238 --> 01:54:34,638
we could just overlap tests at discrete

2686
01:54:32,479 --> 01:54:37,678
intervals along this thing

2687
01:54:34,639 --> 01:54:38,960
and then find the furthest one uh that

2688
01:54:37,679 --> 01:54:42,239
we can

2689
01:54:38,960 --> 01:54:43,359
and you know if we're going from in then

2690
01:54:42,238 --> 01:54:44,879
we're looking for the first

2691
01:54:43,359 --> 01:54:46,479
out if we're going for out we're looking

2692
01:54:44,880 --> 01:54:50,480
for the first in

2693
01:54:46,479 --> 01:54:53,118
and then we place the point uh

2694
01:54:50,479 --> 01:54:54,158
at that transition right at that place

2695
01:54:53,118 --> 01:54:57,439
where

2696
01:54:54,158 --> 01:54:59,279
uh either on the outside or the in

2697
01:54:57,439 --> 01:55:00,638
side if we were going from into out we

2698
01:54:59,279 --> 01:55:02,238
place it on the far end if we're going

2699
01:55:00,639 --> 01:55:03,599
from out to end we place it on the near

2700
01:55:02,238 --> 01:55:06,959
end

2701
01:55:03,599 --> 01:55:07,520
um and then you know you know what you

2702
01:55:06,960 --> 01:55:09,760
hit

2703
01:55:07,520 --> 01:55:10,880
so you should be able to then do an

2704
01:55:09,760 --> 01:55:13,920
update uh

2705
01:55:10,880 --> 01:55:15,679
of of where your path would go and i

2706
01:55:13,920 --> 01:55:19,840
think you always kind of just

2707
01:55:15,679 --> 01:55:19,840
know um

2708
01:55:22,238 --> 01:55:26,319
well you might not so for example you

2709
01:55:24,560 --> 01:55:26,960
could say well the path just now looks

2710
01:55:26,319 --> 01:55:28,719
like that

2711
01:55:26,960 --> 01:55:33,840
but really you could have maybe done it

2712
01:55:28,719 --> 01:55:33,840
if you'd gone just a little bit further

2713
01:55:59,920 --> 01:56:06,000
so i'm still not quite happy with this

2714
01:56:03,359 --> 01:56:15,839
it's still not positional enough for me

2715
01:56:06,000 --> 01:56:15,840
for my tastes

2716
01:56:19,920 --> 01:56:23,199
so if we assume that things that are all

2717
01:56:22,000 --> 01:56:28,399
that are moving

2718
01:56:23,198 --> 01:56:32,158
in general uh are always like spherical

2719
01:56:28,399 --> 01:56:36,000
then you can think of the thing that is

2720
01:56:32,158 --> 01:56:38,960
you know the actual shape

2721
01:56:36,000 --> 01:56:40,158
of positions you were trying as being

2722
01:56:38,960 --> 01:56:43,359
that sphere

2723
01:56:40,158 --> 01:56:57,839
right now let's suppose

2724
01:56:43,359 --> 01:56:57,839
uh i'm gonna need some more space here

2725
01:57:13,359 --> 01:57:16,559
by the way somebody out there who's like

2726
01:57:15,039 --> 01:57:19,039
a engineer uh

2727
01:57:16,560 --> 01:57:19,679
physical like if of physical like

2728
01:57:19,039 --> 01:57:23,599
hardware

2729
01:57:19,679 --> 01:57:27,359
stuff please invent

2730
01:57:23,599 --> 01:57:30,880
the instant erase light board

2731
01:57:27,359 --> 01:57:32,559
like i guess maybe there's no point to

2732
01:57:30,880 --> 01:57:35,359
it because we'll all be wearing ar

2733
01:57:32,560 --> 01:57:37,440
goggles eventually with like then it'll

2734
01:57:35,359 --> 01:57:38,000
just be a position thing that i draw in

2735
01:57:37,439 --> 01:57:40,399
the air

2736
01:57:38,000 --> 01:57:41,760
although man without haptic feedback

2737
01:57:40,399 --> 01:57:43,519
writing is going to be like

2738
01:57:41,760 --> 01:57:45,119
so even my handwriting will you think my

2739
01:57:43,520 --> 01:57:48,800
handwriting is bad now

2740
01:57:45,118 --> 01:57:50,319
hoo boy but um yeah i mean or

2741
01:57:48,800 --> 01:57:52,480
you know solve the haptic feedback

2742
01:57:50,319 --> 01:57:53,840
problem i guess could be the other thing

2743
01:57:52,479 --> 01:57:57,118
you could do

2744
01:57:53,840 --> 01:57:58,319
um and then we all wear like annoying vr

2745
01:57:57,118 --> 01:58:00,399
goggles

2746
01:57:58,319 --> 01:58:01,359
um and we have to use our facebook login

2747
01:58:00,399 --> 01:58:04,960
to write on a white

2748
01:58:01,359 --> 01:58:07,118
light board because you know

2749
01:58:04,960 --> 01:58:09,520
silicon valley is so amazing and they're

2750
01:58:07,118 --> 01:58:11,039
so interested in humans and

2751
01:58:09,520 --> 01:58:12,400
making sure they can communicate well

2752
01:58:11,039 --> 01:58:14,238
and they definitely don't do anything

2753
01:58:12,399 --> 01:58:15,519
like primarily concern themselves only

2754
01:58:14,238 --> 01:58:18,079
with making money

2755
01:58:15,520 --> 01:58:20,800
because that would be nuts um but

2756
01:58:18,079 --> 01:58:22,960
basically like

2757
01:58:20,800 --> 01:58:24,719
this process is annoying and takes

2758
01:58:22,960 --> 01:58:26,239
forever and it doesn't ever get

2759
01:58:24,719 --> 01:58:29,359
completely clean anyway

2760
01:58:26,238 --> 01:58:30,959
and so that if you could just solve that

2761
01:58:29,359 --> 01:58:32,719
problem somehow

2762
01:58:30,960 --> 01:58:35,039
like with some kind of magical like

2763
01:58:32,719 --> 01:58:38,560
super easy to remove

2764
01:58:35,039 --> 01:58:41,039
um ink so it's just quick

2765
01:58:38,560 --> 01:58:41,599
or better yet like electrostatic like

2766
01:58:41,039 --> 01:58:43,039
the

2767
01:58:41,599 --> 01:58:44,319
like it's like an etch-a-sketch or

2768
01:58:43,039 --> 01:58:45,039
something you push the button just goes

2769
01:58:44,319 --> 01:58:48,000
clunk

2770
01:58:45,039 --> 01:58:49,599
and it all falls down right um i don't

2771
01:58:48,000 --> 01:58:52,960
know

2772
01:58:49,599 --> 01:58:55,279
please do it it would be great um

2773
01:58:52,960 --> 01:58:56,639
so so i'm taking a total i'm just keep

2774
01:58:55,279 --> 01:58:57,279
continuing to kind of go through here

2775
01:58:56,639 --> 01:59:00,840
and think this

2776
01:58:57,279 --> 01:59:03,679
this out so suppose i've got

2777
01:59:00,840 --> 01:59:06,319
um you know uh

2778
01:59:03,679 --> 01:59:07,279
a motion plan where this thing is trying

2779
01:59:06,319 --> 01:59:10,319
to go here

2780
01:59:07,279 --> 01:59:10,880
well we know that like if we're assuming

2781
01:59:10,319 --> 01:59:14,799
that you can

2782
01:59:10,880 --> 01:59:16,800
only go uh so if that was the amount of

2783
01:59:14,800 --> 01:59:19,279
like movement you had

2784
01:59:16,800 --> 01:59:20,320
then we know that you've effectively got

2785
01:59:19,279 --> 01:59:21,759
sort of

2786
01:59:20,319 --> 01:59:23,519
at the micro level right because

2787
01:59:21,760 --> 01:59:25,119
remember these are very small distances

2788
01:59:23,520 --> 01:59:26,719
at a 60th of a second things are not

2789
01:59:25,118 --> 01:59:28,479
moving that far

2790
01:59:26,719 --> 01:59:30,480
so these are pretty small but you've

2791
01:59:28,479 --> 01:59:33,439
effectively got a hemisphere

2792
01:59:30,479 --> 01:59:35,839
in which you could move so this is the

2793
01:59:33,439 --> 01:59:38,000
move we're trying to accomplish

2794
01:59:35,840 --> 01:59:39,599
and we have a hemisphere of possible

2795
01:59:38,000 --> 01:59:40,960
positions we could end up in but we

2796
01:59:39,599 --> 01:59:42,639
fundamentally know

2797
01:59:40,960 --> 01:59:44,800
that because we're saying that the

2798
01:59:42,639 --> 01:59:46,560
person only well person the

2799
01:59:44,800 --> 01:59:49,119
entity the any could be an inanimate

2800
01:59:46,560 --> 01:59:52,320
object the glove whatever

2801
01:59:49,118 --> 01:59:53,519
could only move this far whatever this

2802
01:59:52,319 --> 01:59:56,000
distance is

2803
01:59:53,520 --> 01:59:56,639
we know that like whatever that distance

2804
01:59:56,000 --> 01:59:59,198
is

2805
01:59:56,639 --> 02:00:00,400
they should never be able to get any

2806
01:59:59,198 --> 02:00:03,678
further than that

2807
02:00:00,399 --> 02:00:05,279
right so if i'm running this way

2808
02:00:03,679 --> 02:00:07,279
and i hit some surface i'm supposed to

2809
02:00:05,279 --> 02:00:10,800
glide along well

2810
02:00:07,279 --> 02:00:12,238
you we can never get any more

2811
02:00:10,800 --> 02:00:14,000
than that because because that would be

2812
02:00:12,238 --> 02:00:15,519
how far we would go if we had been going

2813
02:00:14,000 --> 02:00:19,198
straight that direction

2814
02:00:15,520 --> 02:00:21,119
right and furthermore we could probably

2815
02:00:19,198 --> 02:00:25,118
classify this into something even

2816
02:00:21,118 --> 02:00:28,479
less uh pronounced than a hemisphere

2817
02:00:25,118 --> 02:00:29,519
because since you were pushing in this

2818
02:00:28,479 --> 02:00:32,319
direction

2819
02:00:29,520 --> 02:00:32,719
we would also assume that the thing that

2820
02:00:32,319 --> 02:00:35,759
you

2821
02:00:32,719 --> 02:00:36,480
hit is absorbing some of that so you

2822
02:00:35,760 --> 02:00:40,079
might also

2823
02:00:36,479 --> 02:00:43,118
say that like you know

2824
02:00:40,079 --> 02:00:45,840
if if i'm pushing in this direction

2825
02:00:43,118 --> 02:00:47,039
and i hit something with that normal

2826
02:00:45,840 --> 02:00:49,760
that actually

2827
02:00:47,039 --> 02:00:51,519
you should get like the cosine falloff

2828
02:00:49,760 --> 02:00:54,079
of the speed

2829
02:00:51,520 --> 02:00:55,040
you know what i'm saying so like as you

2830
02:00:54,079 --> 02:00:58,000
go this way

2831
02:00:55,039 --> 02:00:58,639
it might be that this is really more

2832
02:00:58,000 --> 02:01:02,399
like

2833
02:00:58,639 --> 02:01:02,400
you know that right

2834
02:01:06,399 --> 02:01:09,759
so fundamentally we know that we're only

2835
02:01:09,118 --> 02:01:12,719
looking

2836
02:01:09,760 --> 02:01:14,719
in like a pattern that looks like this

2837
02:01:12,719 --> 02:01:16,880
and what we really need to do

2838
02:01:14,719 --> 02:01:18,079
like the uh the best possible thing we

2839
02:01:16,880 --> 02:01:20,319
could do

2840
02:01:18,079 --> 02:01:21,920
is and unfortunately this is 3d so it's

2841
02:01:20,319 --> 02:01:23,679
actually a thing that kind of looks like

2842
02:01:21,920 --> 02:01:25,599
a nose cone of a ship

2843
02:01:23,679 --> 02:01:27,920
right it's a thing that actually looks

2844
02:01:25,599 --> 02:01:32,560
like this

2845
02:01:27,920 --> 02:01:34,560
right um

2846
02:01:32,560 --> 02:01:35,679
so the nose cone of the ship right we

2847
02:01:34,560 --> 02:01:38,159
know that we have to

2848
02:01:35,679 --> 02:01:38,960
the placement of the entity at the end

2849
02:01:38,158 --> 02:01:41,439
of the day

2850
02:01:38,960 --> 02:01:42,800
will be in this space because it can't

2851
02:01:41,439 --> 02:01:45,039
be anywhere else

2852
02:01:42,800 --> 02:01:46,719
right if it was anywhere else you would

2853
02:01:45,039 --> 02:01:48,319
be moving the player in the opposite

2854
02:01:46,719 --> 02:01:50,719
direction that they asked for

2855
02:01:48,319 --> 02:01:52,238
so it has to occur in here can occur

2856
02:01:50,719 --> 02:01:55,760
like back there

2857
02:01:52,238 --> 02:01:58,959
um and so when we are looking through

2858
02:01:55,760 --> 02:02:01,440
this what we then have is we have a

2859
02:01:58,960 --> 02:02:04,158
series of obstacles that come in

2860
02:02:01,439 --> 02:02:04,960
that prevent the player from going into

2861
02:02:04,158 --> 02:02:08,238
certain

2862
02:02:04,960 --> 02:02:10,480
regions of this space so let's suppose

2863
02:02:08,238 --> 02:02:11,759
now that i i come in and i place this

2864
02:02:10,479 --> 02:02:13,439
thing down and again

2865
02:02:11,760 --> 02:02:14,960
we know that it's minkowski right

2866
02:02:13,439 --> 02:02:17,519
because if we're talking about this as

2867
02:02:14,960 --> 02:02:18,239
points we can place we grow this

2868
02:02:17,520 --> 02:02:21,040
rectangle

2869
02:02:18,238 --> 02:02:21,439
by that by those spheres so now we know

2870
02:02:21,039 --> 02:02:24,800
that

2871
02:02:21,439 --> 02:02:28,158
this shape right comes in

2872
02:02:24,800 --> 02:02:30,239
and blocks off this portion

2873
02:02:28,158 --> 02:02:32,158
so now we know that actually the place

2874
02:02:30,238 --> 02:02:35,359
we would put the player is actually

2875
02:02:32,158 --> 02:02:36,960
here to here right

2876
02:02:35,359 --> 02:02:40,399
and the closest point is wherever the

2877
02:02:36,960 --> 02:02:40,399
closest point is in there right

2878
02:02:44,840 --> 02:02:49,760
so

2879
02:02:46,719 --> 02:02:49,760
at the end of the day

2880
02:02:57,679 --> 02:03:01,679
at the end of the day i'm wondering

2881
02:03:00,158 --> 02:03:03,920
maybe we just do this

2882
02:03:01,679 --> 02:03:06,399
almost the same way as we do it with the

2883
02:03:03,920 --> 02:03:08,399
with in the witness

2884
02:03:06,399 --> 02:03:10,399
i wonder if we can just treat this as

2885
02:03:08,399 --> 02:03:15,839
like a simple

2886
02:03:10,399 --> 02:03:15,839
a small scale subdivision problem

2887
02:03:17,520 --> 02:03:21,760
like assuming there's not that many

2888
02:03:19,679 --> 02:03:22,639
entities you know how many entities are

2889
02:03:21,760 --> 02:03:26,800
really going to be

2890
02:03:22,639 --> 02:03:30,159
in just that one location like 10 20

2891
02:03:26,800 --> 02:03:32,800
not very many if we just said

2892
02:03:30,158 --> 02:03:33,839
what if we just treated this area as a

2893
02:03:32,800 --> 02:03:37,520
locally

2894
02:03:33,840 --> 02:03:37,520
like subdividable place

2895
02:03:37,760 --> 02:03:40,800
and the 2d version would just be like

2896
02:03:39,599 --> 02:03:44,079
okay so we create

2897
02:03:40,800 --> 02:03:45,920
a little like you know maybe we even

2898
02:03:44,079 --> 02:03:49,279
treat it like a quad tree right

2899
02:03:45,920 --> 02:03:51,199
so we just say okay we overlay the grid

2900
02:03:49,279 --> 02:03:52,559
on top of this and maybe we're feeling

2901
02:03:51,198 --> 02:03:54,960
like super saucy

2902
02:03:52,560 --> 02:03:56,000
so we just like align the grid with this

2903
02:03:54,960 --> 02:03:57,520
thing so actually

2904
02:03:56,000 --> 02:03:59,118
it doesn't look like that it looks like

2905
02:03:57,520 --> 02:04:02,560
this

2906
02:03:59,118 --> 02:04:05,039
right and then we just go okay

2907
02:04:02,560 --> 02:04:06,960
which of these things are in or out so

2908
02:04:05,039 --> 02:04:08,479
we iterate over each entity and we

2909
02:04:06,960 --> 02:04:10,800
perform the overlap test

2910
02:04:08,479 --> 02:04:11,598
and the only thing we need to know is

2911
02:04:10,800 --> 02:04:14,800
partially

2912
02:04:11,599 --> 02:04:16,719
covered or not like is it is

2913
02:04:14,800 --> 02:04:18,880
is there or i should say any is there

2914
02:04:16,719 --> 02:04:21,039
any place that's still open

2915
02:04:18,880 --> 02:04:23,039
or did it completely cover and

2916
02:04:21,039 --> 02:04:24,560
completely cover is pretty easy with

2917
02:04:23,039 --> 02:04:26,000
these convex shapes i should be able to

2918
02:04:24,560 --> 02:04:28,560
write a pretty fast routine

2919
02:04:26,000 --> 02:04:29,439
that just says completely covered or not

2920
02:04:28,560 --> 02:04:32,000
anything

2921
02:04:29,439 --> 02:04:33,439
of these that isn't completely covered

2922
02:04:32,000 --> 02:04:35,198
right

2923
02:04:33,439 --> 02:04:39,279
survives to the next round and gets like

2924
02:04:35,198 --> 02:04:41,678
subdivided right

2925
02:04:39,279 --> 02:04:43,359
so we could do something like that and

2926
02:04:41,679 --> 02:04:46,560
discretize the space

2927
02:04:43,359 --> 02:04:50,399
to the point where we actually can

2928
02:04:46,560 --> 02:04:53,840
pick a place and it would be an octree

2929
02:04:50,399 --> 02:04:53,839
you know

2930
02:04:54,719 --> 02:04:57,920
so it actually you know it would

2931
02:04:56,479 --> 02:04:59,519
actually be eight because we're doing

2932
02:04:57,920 --> 02:05:01,118
this in 3d

2933
02:04:59,520 --> 02:05:03,280
but we could actually discretize the

2934
02:05:01,118 --> 02:05:06,880
space and the only hard part

2935
02:05:03,279 --> 02:05:09,599
at that point is

2936
02:05:06,880 --> 02:05:10,719
that we have to make sure you can

2937
02:05:09,599 --> 02:05:15,760
contiguously

2938
02:05:10,719 --> 02:05:15,760
get there from where you started right

2939
02:05:15,840 --> 02:05:18,880
so from where you started we have to

2940
02:05:17,359 --> 02:05:21,839
make sure that you could actually

2941
02:05:18,880 --> 02:05:21,840
get there

2942
02:06:06,399 --> 02:06:11,759
and i'm i'm kind of thinking to myself

2943
02:06:08,238 --> 02:06:11,759
that's not even maybe that hard

2944
02:06:14,158 --> 02:06:17,839
so actually

2945
02:06:18,479 --> 02:06:22,799
actually that might not be that hard so

2946
02:06:21,439 --> 02:06:25,759
let's suppose

2947
02:06:22,800 --> 02:06:26,880
uh that we do this thing that i'm

2948
02:06:25,760 --> 02:06:31,199
talking about

2949
02:06:26,880 --> 02:06:34,319
right and we say okay

2950
02:06:31,198 --> 02:06:34,960
let's start with two cells the place

2951
02:06:34,319 --> 02:06:36,158
we're at

2952
02:06:34,960 --> 02:06:37,439
and the place we're going and i'll just

2953
02:06:36,158 --> 02:06:38,719
draw this in 2d but we're going to have

2954
02:06:37,439 --> 02:06:40,078
to do it in 3d so it'll be a little

2955
02:06:38,719 --> 02:06:43,279
harder

2956
02:06:40,078 --> 02:06:46,319
but what we say is okay we're going

2957
02:06:43,279 --> 02:06:49,279
somewhere and so we place

2958
02:06:46,319 --> 02:06:51,519
two cells down and the cells look like

2959
02:06:49,279 --> 02:06:51,519
this

2960
02:06:52,960 --> 02:06:59,279
right so we're going from here to here

2961
02:06:56,960 --> 02:07:01,279
we run the overlap test and if we get

2962
02:06:59,279 --> 02:07:04,319
nothing so if it just says

2963
02:07:01,279 --> 02:07:06,719
nothing occludes these at all right then

2964
02:07:04,319 --> 02:07:10,319
you're just done and the entity goes

2965
02:07:06,719 --> 02:07:13,520
yeah now if

2966
02:07:10,319 --> 02:07:16,158
if one of them says there's nothing then

2967
02:07:13,520 --> 02:07:17,760
great we just keep that cell

2968
02:07:16,158 --> 02:07:19,519
but if another one says there is

2969
02:07:17,760 --> 02:07:20,800
something we're like okay like let's say

2970
02:07:19,520 --> 02:07:22,159
this one says there is something

2971
02:07:20,800 --> 02:07:24,400
then we're like okay we have to

2972
02:07:22,158 --> 02:07:28,479
subdivide this cell

2973
02:07:24,399 --> 02:07:31,279
into more cells right

2974
02:07:28,479 --> 02:07:32,238
so then what we do is we take that cell

2975
02:07:31,279 --> 02:07:35,359
and we say

2976
02:07:32,238 --> 02:07:36,799
split the cell up right

2977
02:07:35,359 --> 02:07:38,880
and the problem is i don't like that

2978
02:07:36,800 --> 02:07:39,279
subdivision because it pla the point is

2979
02:07:38,880 --> 02:07:42,560
then

2980
02:07:39,279 --> 02:07:42,559
at a intersection

2981
02:07:52,880 --> 02:07:58,078
which is fine okay so we do this

2982
02:07:55,279 --> 02:07:58,078
slightly differently

2983
02:08:06,078 --> 02:08:11,039
so we say okay we're going from here to

2984
02:08:08,800 --> 02:08:11,039
here

2985
02:08:12,078 --> 02:08:16,078
these are going to be the centers of the

2986
02:08:13,679 --> 02:08:16,078
cells

2987
02:08:19,760 --> 02:08:23,840
right um

2988
02:08:32,560 --> 02:08:37,840
i think unfortunately i'm still gonna

2989
02:08:33,679 --> 02:08:37,840
have the same problem

2990
02:08:43,920 --> 02:08:46,560
there's got to be some way to do this

2991
02:08:45,039 --> 02:08:51,198
subdivision clever it's just not

2992
02:08:46,560 --> 02:08:52,480
clicking in my brain

2993
02:08:51,198 --> 02:08:55,439
because fundamentally we need a way of

2994
02:08:52,479 --> 02:08:58,638
subdividing maybe you subdivide nines

2995
02:08:55,439 --> 02:08:58,638
you subdivide on nines

2996
02:08:59,599 --> 02:09:05,840
so you know you do this

2997
02:09:06,719 --> 02:09:10,880
and then when you subdivide you

2998
02:09:07,920 --> 02:09:10,880
subdivide like this

2999
02:09:15,760 --> 02:09:19,679
i i don't love it but i'm not sure what

3000
02:09:18,319 --> 02:09:21,759
else you do

3001
02:09:19,679 --> 02:09:23,520
because if you don't do that it seems

3002
02:09:21,760 --> 02:09:27,280
like you're always going to split

3003
02:09:23,520 --> 02:09:27,280
right on where your point is which seems

3004
02:09:30,840 --> 02:09:34,319
bad

3005
02:09:32,000 --> 02:09:35,840
i don't know maybe it's not but anyway

3006
02:09:34,319 --> 02:09:38,479
if we subdivide this

3007
02:09:35,840 --> 02:09:39,920
and we just keep subdividing it down by

3008
02:09:38,479 --> 02:09:41,039
the reachable cells

3009
02:09:39,920 --> 02:09:43,118
so if it's like oh it's still

3010
02:09:41,039 --> 02:09:44,960
overlapping a silver wrapping eventually

3011
02:09:43,118 --> 02:09:46,319
we're going to end up with a discretized

3012
02:09:44,960 --> 02:09:49,840
version of the space

3013
02:09:46,319 --> 02:09:53,039
at each time through we just throw out

3014
02:09:49,840 --> 02:09:55,599
cells that you can't reach

3015
02:09:53,039 --> 02:09:57,198
and we stop subdividing them right

3016
02:09:55,599 --> 02:09:59,679
eventually we get

3017
02:09:57,198 --> 02:10:00,960
a version that's at a resolution where

3018
02:09:59,679 --> 02:10:05,199
we can just pick

3019
02:10:00,960 --> 02:10:05,198
the closest one and be done right

3020
02:10:07,118 --> 02:10:15,839
i don't know we could do this

3021
02:10:21,118 --> 02:10:24,319
yeah and then you yeah you would

3022
02:10:22,719 --> 02:10:29,840
literally just iterate over these in

3023
02:10:24,319 --> 02:10:29,840
fact you could even do it

3024
02:10:30,319 --> 02:10:34,000
as a single check for spheres this would

3025
02:10:32,560 --> 02:10:35,760
be very simple

3026
02:10:34,000 --> 02:10:43,840
for the rounded rectangles it'll be a

3027
02:10:35,760 --> 02:10:43,840
little bit harder

3028
02:10:49,520 --> 02:10:52,320
we could do this

3029
02:10:54,000 --> 02:10:57,760
and so then this has the nice aspect of

3030
02:10:55,840 --> 02:11:00,880
you're always p picking positions

3031
02:10:57,760 --> 02:11:04,960
that are actually legal right

3032
02:11:00,880 --> 02:11:06,719
um and so my only concern is i'm not

3033
02:11:04,960 --> 02:11:09,760
sure what the subdivision scheme is

3034
02:11:06,719 --> 02:11:11,279
that keeps you from putting the points i

3035
02:11:09,760 --> 02:11:13,679
mean i guess you could just pick a weird

3036
02:11:11,279 --> 02:11:15,359
like offset of the thing

3037
02:11:13,679 --> 02:11:17,279
so that you knew that it never would be

3038
02:11:15,359 --> 02:11:19,679
but that's a little odd

3039
02:11:17,279 --> 02:11:20,960
i don't know but you don't really want

3040
02:11:19,679 --> 02:11:23,679
you usually don't want

3041
02:11:20,960 --> 02:11:24,000
your you know main points of interest

3042
02:11:23,679 --> 02:11:26,158
you know

3043
02:11:24,000 --> 02:11:27,679
things you're asking about to be like

3044
02:11:26,158 --> 02:11:29,198
right on the boundary

3045
02:11:27,679 --> 02:11:31,199
seems like you're asking for numerical

3046
02:11:29,198 --> 02:11:33,439
problems there

3047
02:11:31,198 --> 02:11:34,479
but you know so if you took something

3048
02:11:33,439 --> 02:11:36,479
that looked like this

3049
02:11:34,479 --> 02:11:38,000
and you're like how do we align this so

3050
02:11:36,479 --> 02:11:40,879
that subdivisions don't keep

3051
02:11:38,000 --> 02:11:42,719
causing problems i'm just fundamentally

3052
02:11:40,880 --> 02:11:44,880
not sure how you do that right

3053
02:11:42,719 --> 02:11:46,800
so one way to do that is to just make it

3054
02:11:44,880 --> 02:11:53,840
slightly off

3055
02:11:46,800 --> 02:11:53,840
so like

3056
02:11:55,279 --> 02:11:58,639
it's aligned like that so that like you

3057
02:11:58,158 --> 02:12:01,679
never

3058
02:11:58,639 --> 02:12:02,400
really get down to the point where you

3059
02:12:01,679 --> 02:12:05,679
would

3060
02:12:02,399 --> 02:12:09,039
ever you know by the time you subdivided

3061
02:12:05,679 --> 02:12:09,039
out that far you were done

3062
02:12:12,880 --> 02:12:16,560
so we could do that just off it's offset

3063
02:12:14,960 --> 02:12:18,639
slightly so the cell

3064
02:12:16,560 --> 02:12:19,599
the cell is like whatever the smallest

3065
02:12:18,639 --> 02:12:21,199
cell size

3066
02:12:19,599 --> 02:12:22,639
so let's say we you know we end up with

3067
02:12:21,198 --> 02:12:25,279
a small cell size it's like oh you know

3068
02:12:22,639 --> 02:12:27,039
we subdivide down to that or something

3069
02:12:25,279 --> 02:12:29,679
then you just say well that's how far

3070
02:12:27,039 --> 02:12:29,679
off we are

3071
02:12:30,800 --> 02:12:35,840
so the main problem i see here is with

3072
02:12:32,880 --> 02:12:35,840
cell tracking

3073
02:12:43,679 --> 02:12:48,000
and so oh you know what so here's the

3074
02:12:45,840 --> 02:12:51,199
other optimization we can use

3075
02:12:48,000 --> 02:12:52,880
so this is great so the nice part about

3076
02:12:51,198 --> 02:12:56,000
this is we never really

3077
02:12:52,880 --> 02:12:57,920
have to remember do we

3078
02:12:56,000 --> 02:13:00,800
because we never have to actually keep

3079
02:12:57,920 --> 02:13:03,118
these cells around

3080
02:13:00,800 --> 02:13:03,840
so we can avoid storing them and

3081
02:13:03,118 --> 02:13:06,799
processing them

3082
02:13:03,840 --> 02:13:07,920
in any way because we can just remember

3083
02:13:06,800 --> 02:13:10,480
the connectivity

3084
02:13:07,920 --> 02:13:11,520
because that's all we care about right

3085
02:13:10,479 --> 02:13:17,839
all we care about

3086
02:13:11,520 --> 02:13:17,840
is is the connectivity of the cells

3087
02:13:18,800 --> 02:13:23,279
yeah so we only need two things from

3088
02:13:21,118 --> 02:13:27,679
this right we need the closest point

3089
02:13:23,279 --> 02:13:29,359
to the destination so closest to dust

3090
02:13:27,679 --> 02:13:31,359
so as we're doing the subdivision

3091
02:13:29,359 --> 02:13:32,639
checking we just need the closest point

3092
02:13:31,359 --> 02:13:35,439
to the destination

3093
02:13:32,639 --> 02:13:35,920
and we need the connectivity to the to

3094
02:13:35,439 --> 02:13:38,719
the

3095
02:13:35,920 --> 02:13:38,719
next level up

3096
02:13:40,118 --> 02:13:46,000
connectivity um

3097
02:13:42,880 --> 02:13:49,039
so in other words when we process this

3098
02:13:46,000 --> 02:13:49,439
cell for subdivision we don't care at

3099
02:13:49,039 --> 02:13:51,599
all

3100
02:13:49,439 --> 02:13:52,719
what the pattern of cells is after we're

3101
02:13:51,599 --> 02:13:55,520
done processing it

3102
02:13:52,719 --> 02:13:57,920
we just care about whether or not you

3103
02:13:55,520 --> 02:13:59,760
know you can get from any particular one

3104
02:13:57,920 --> 02:14:00,319
of these to any other particular one of

3105
02:13:59,760 --> 02:14:02,800
these

3106
02:14:00,319 --> 02:14:03,840
and furthermore we only really care like

3107
02:14:02,800 --> 02:14:06,480
we're not gonna do

3108
02:14:03,840 --> 02:14:07,119
like entry and re-exit like the person

3109
02:14:06,479 --> 02:14:09,839
can't go

3110
02:14:07,118 --> 02:14:10,880
out here and come back in here as as a

3111
02:14:09,840 --> 02:14:12,560
legal path

3112
02:14:10,880 --> 02:14:14,400
because that would require them changing

3113
02:14:12,560 --> 02:14:15,679
the direction 180 degrees which we're

3114
02:14:14,399 --> 02:14:19,118
not going to let them do

3115
02:14:15,679 --> 02:14:19,679
right so i don't think we care about

3116
02:14:19,118 --> 02:14:22,078
that

3117
02:14:19,679 --> 02:14:22,719
so the only thing we care about is for

3118
02:14:22,078 --> 02:14:25,359
each

3119
02:14:22,719 --> 02:14:26,639
edge wall which edge wall could you have

3120
02:14:25,359 --> 02:14:30,960
left through

3121
02:14:26,639 --> 02:14:33,920
right um and the problem there is we do

3122
02:14:30,960 --> 02:14:34,239
care sort of on the smaller scale about

3123
02:14:33,920 --> 02:14:36,239
like

3124
02:14:34,238 --> 02:14:38,718
you know which of these you go through

3125
02:14:36,238 --> 02:14:42,799
but we only need the edges

3126
02:14:38,719 --> 02:14:42,800
right we only need the edges

3127
02:14:50,319 --> 02:14:52,960
it's still a kind of squared

3128
02:14:51,520 --> 02:14:55,840
connectivity problem so i'm still not

3129
02:14:52,960 --> 02:14:55,840
sure it's great

3130
02:15:03,198 --> 02:15:06,879
if you do the one with the here we go

3131
02:15:05,279 --> 02:15:09,840
where you're starting with the like

3132
02:15:06,880 --> 02:15:13,039
with the starting position in it then

3133
02:15:09,840 --> 02:15:15,760
you know the places you could have left

3134
02:15:13,039 --> 02:15:17,039
right which means those are inputs to

3135
02:15:15,760 --> 02:15:18,800
the new system

3136
02:15:17,039 --> 02:15:21,039
which then it knows where it could have

3137
02:15:18,800 --> 02:15:21,039
left

3138
02:15:21,439 --> 02:15:25,359
so i think you can always propagate if

3139
02:15:23,039 --> 02:15:27,359
you just choose the starting position

3140
02:15:25,359 --> 02:15:30,719
you do all the subdivisions you find all

3141
02:15:27,359 --> 02:15:30,719
the edges you could have left on

3142
02:15:31,279 --> 02:15:34,319
then those get fed into whatever the

3143
02:15:33,520 --> 02:15:36,800
next

3144
02:15:34,319 --> 02:15:39,439
two cells are the two neighboring cells

3145
02:15:36,800 --> 02:15:39,440
to that one

3146
02:15:39,599 --> 02:15:44,719
and this should be true all the way down

3147
02:15:42,479 --> 02:15:44,718
right

3148
02:15:49,279 --> 02:15:53,599
so you say you say we've got the

3149
02:15:51,679 --> 02:15:55,199
connectivity

3150
02:15:53,599 --> 02:15:57,920
but we really don't care about this we

3151
02:15:55,198 --> 02:16:00,078
just care about exits

3152
02:15:57,920 --> 02:16:01,599
right so you subdivide down and you

3153
02:16:00,078 --> 02:16:02,799
remember what the exits are so

3154
02:16:01,599 --> 02:16:04,319
eventually you're looking at something

3155
02:16:02,800 --> 02:16:07,199
that looks like this

3156
02:16:04,319 --> 02:16:07,519
is your furthest subdivision down right

3157
02:16:07,198 --> 02:16:09,359
and

3158
02:16:07,520 --> 02:16:10,560
like it turns out this one's blocked and

3159
02:16:09,359 --> 02:16:12,960
these two aren't

3160
02:16:10,560 --> 02:16:16,239
right so you know that your exits are

3161
02:16:12,960 --> 02:16:17,840
here here and here

3162
02:16:16,238 --> 02:16:19,198
and your closest point you know if this

3163
02:16:17,840 --> 02:16:21,279
was where you were trying to get to your

3164
02:16:19,198 --> 02:16:24,799
closest point is there

3165
02:16:21,279 --> 02:16:26,479
right so then you just

3166
02:16:24,800 --> 02:16:28,400
feed that information up to the next

3167
02:16:26,479 --> 02:16:33,279
level so if that square

3168
02:16:28,399 --> 02:16:36,638
right if this square

3169
02:16:33,280 --> 02:16:37,200
was here then when you go to process

3170
02:16:36,638 --> 02:16:41,119
this one

3171
02:16:37,200 --> 02:16:44,840
it has an entrance of here right

3172
02:16:41,120 --> 02:16:47,359
so it knows that if if it actually

3173
02:16:44,840 --> 02:16:49,679
had this solid

3174
02:16:47,359 --> 02:16:51,760
and this solid so that it can't actually

3175
02:16:49,679 --> 02:16:54,079
get to that square

3176
02:16:51,760 --> 02:16:56,318
it knows that there are no exits but

3177
02:16:54,079 --> 02:17:01,840
here because it couldn't get to that one

3178
02:16:56,318 --> 02:17:01,840
right these aren't connected

3179
02:17:08,318 --> 02:17:11,840
so then when you look at the final one

3180
02:17:11,040 --> 02:17:15,679
of these

3181
02:17:11,840 --> 02:17:18,079
right you would you'd call this one uh

3182
02:17:15,679 --> 02:17:18,799
only when you finished these two right

3183
02:17:18,079 --> 02:17:20,558
so you do

3184
02:17:18,799 --> 02:17:22,159
the one you're in then you do the two

3185
02:17:20,558 --> 02:17:24,799
that neighbor that one

3186
02:17:22,159 --> 02:17:26,318
right so you do the two that neighbor

3187
02:17:24,799 --> 02:17:27,759
that one and the two that neighbor that

3188
02:17:26,318 --> 02:17:28,079
one well they came in here so they

3189
02:17:27,760 --> 02:17:29,920
actually

3190
02:17:28,079 --> 02:17:31,519
have both of these so then you know that

3191
02:17:29,920 --> 02:17:34,558
these are the entrance cells

3192
02:17:31,519 --> 02:17:37,280
here and here right and then you would

3193
02:17:34,558 --> 02:17:40,239
look and say okay well i can leave here

3194
02:17:37,280 --> 02:17:42,159
right so you know what your what your

3195
02:17:40,239 --> 02:17:42,718
entrances and exits are so now you've

3196
02:17:42,159 --> 02:17:45,840
got

3197
02:17:42,718 --> 02:17:48,000
that all of those as what you would feed

3198
02:17:45,840 --> 02:17:57,840
into

3199
02:17:48,000 --> 02:17:57,840
your neighbor right

3200
02:18:08,840 --> 02:18:11,840
uh

3201
02:18:40,718 --> 02:18:54,159
so does this work

3202
02:18:52,398 --> 02:18:56,159
i mean the other way to look at this is

3203
02:18:54,159 --> 02:18:59,359
it's just you change the enlargement

3204
02:18:56,159 --> 02:18:59,359
radius of the sphere

3205
02:19:01,840 --> 02:19:06,239
and you think of it you know if the

3206
02:19:04,000 --> 02:19:07,840
cells are too confusing

3207
02:19:06,239 --> 02:19:10,079
you know don't think of it as cells

3208
02:19:07,840 --> 02:19:12,079
right so you start out and you've got

3209
02:19:10,079 --> 02:19:13,920
these two positions so it's back to my

3210
02:19:12,079 --> 02:19:16,879
old path sort of thing

3211
02:19:13,920 --> 02:19:18,478
right and you make the spheres enlarged

3212
02:19:16,879 --> 02:19:20,239
or you can even large either side

3213
02:19:18,478 --> 02:19:22,478
doesn't matter you make the spheres

3214
02:19:20,239 --> 02:19:23,439
enlarged so that they cover the entire

3215
02:19:22,478 --> 02:19:25,679
distance

3216
02:19:23,439 --> 02:19:26,559
right so maybe your first check is

3217
02:19:25,679 --> 02:19:28,398
actually

3218
02:19:26,558 --> 02:19:30,478
a thing that checks to see whether it

3219
02:19:28,398 --> 02:19:33,920
could go the whole way

3220
02:19:30,478 --> 02:19:34,159
conservatively if it can't it subdivides

3221
02:19:33,920 --> 02:19:37,359
and

3222
02:19:34,159 --> 02:19:39,519
checks two here and here right

3223
02:19:37,359 --> 02:19:41,679
and if those are fine then it's done if

3224
02:19:39,519 --> 02:19:44,239
it can't right it keeps adding

3225
02:19:41,679 --> 02:19:47,280
more and when i subdivide down right so

3226
02:19:44,239 --> 02:19:47,280
if it's here and here

3227
02:19:47,439 --> 02:19:56,318
we actually subdivide out to like a

3228
02:19:51,120 --> 02:19:59,520
more like this right so we subdivide

3229
02:19:56,318 --> 02:20:01,519
positions so we are actually standing

3230
02:19:59,520 --> 02:20:04,479
instead of using cells we just consider

3231
02:20:01,520 --> 02:20:06,880
it as standing on the actual quad tree

3232
02:20:04,478 --> 02:20:07,679
or octree in this case and we just keep

3233
02:20:06,879 --> 02:20:10,318
subdividing

3234
02:20:07,680 --> 02:20:11,040
the octree down with positions we know

3235
02:20:10,318 --> 02:20:14,079
we can stand

3236
02:20:11,040 --> 02:20:17,680
on while there's still a connected path

3237
02:20:14,079 --> 02:20:19,920
to the destination

3238
02:20:17,680 --> 02:20:22,800
while we still know there are

3239
02:20:19,920 --> 02:20:31,840
potentially more

3240
02:20:22,799 --> 02:20:31,840
ways to get there

3241
02:20:32,398 --> 02:20:36,959
so i kind of like this idea it just may

3242
02:20:35,120 --> 02:20:38,160
be too complicated i mean not too

3243
02:20:36,959 --> 02:20:40,719
complicated

3244
02:20:38,159 --> 02:20:42,840
it might just be overkill right for what

3245
02:20:40,719 --> 02:20:45,840
we want

3246
02:20:42,840 --> 02:20:45,840
um

3247
02:21:06,478 --> 02:21:10,799
so i think i want to sleep on that we're

3248
02:21:09,359 --> 02:21:12,880
probably out of time

3249
02:21:10,799 --> 02:21:14,559
i'm guessing so i probably want to sleep

3250
02:21:12,879 --> 02:21:16,398
on that so let's just go back

3251
02:21:14,559 --> 02:21:17,840
and maybe call it a day and the next

3252
02:21:16,398 --> 02:21:20,079
week we'll think about if we want to do

3253
02:21:17,840 --> 02:21:22,880
this or not

3254
02:21:20,079 --> 02:21:22,879
that's my thinking

3255
02:21:38,398 --> 02:21:41,599
all right uh so where we we yeah we're

3256
02:21:41,040 --> 02:21:43,359
out of time

3257
02:21:41,600 --> 02:21:45,520
so i think we're out of time for now so

3258
02:21:43,359 --> 02:21:49,040
that's my thinking on this

3259
02:21:45,520 --> 02:21:50,880
um so i'm i'm not gonna

3260
02:21:49,040 --> 02:21:52,960
i'm not gonna really make a decision

3261
02:21:50,879 --> 02:21:55,519
about this either or

3262
02:21:52,959 --> 02:22:09,839
um but i want to just kind of like think

3263
02:21:55,520 --> 02:22:09,840
about it

3264
02:22:18,079 --> 02:22:23,840
any questions on what i was saying there

3265
02:22:33,920 --> 02:22:37,040
wouldn't this allow larger longer pass

3266
02:22:35,840 --> 02:22:38,239
than the original since you could still

3267
02:22:37,040 --> 02:22:41,920
reach the goal while

3268
02:22:38,239 --> 02:22:45,199
going a longer route uh yeah so

3269
02:22:41,920 --> 02:22:48,879
again when we actually evaluate those

3270
02:22:45,200 --> 02:22:51,280
we can if we want to like

3271
02:22:48,879 --> 02:22:52,799
put some constraints on the total

3272
02:22:51,280 --> 02:22:54,800
distance but

3273
02:22:52,799 --> 02:22:56,159
remember these are micro movements

3274
02:22:54,799 --> 02:23:00,159
they're pretty small

3275
02:22:56,159 --> 02:23:01,359
right so we may just not want to do that

3276
02:23:00,159 --> 02:23:04,719
and say look there's

3277
02:23:01,359 --> 02:23:05,520
flex in how the player or the entities

3278
02:23:04,719 --> 02:23:07,679
move

3279
02:23:05,520 --> 02:23:09,120
so that if there's a little obstacle and

3280
02:23:07,680 --> 02:23:12,000
they would have had to have done

3281
02:23:09,120 --> 02:23:14,079
a little thing in there that's fine

3282
02:23:12,000 --> 02:23:15,520
because remember it's a 60th of a second

3283
02:23:14,079 --> 02:23:18,079
or something that we're talking about

3284
02:23:15,520 --> 02:23:20,319
this motion it's a very tiny motion

3285
02:23:18,079 --> 02:23:21,760
so if there's if if we need them to like

3286
02:23:20,318 --> 02:23:26,559
kind of go around

3287
02:23:21,760 --> 02:23:28,239
something it seems like it's fine

3288
02:23:26,559 --> 02:23:30,239
so i don't know that i would want to

3289
02:23:28,239 --> 02:23:31,280
clamp it because i don't want the player

3290
02:23:30,239 --> 02:23:34,239
like the players not

3291
02:23:31,280 --> 02:23:35,920
thinking about that right they just want

3292
02:23:34,239 --> 02:23:40,318
it if it looks like they could go

3293
02:23:35,920 --> 02:23:40,318
it should just go at full speed right

3294
02:23:43,359 --> 02:23:47,840
that's my thinking at the moment anyway

3295
02:24:03,359 --> 02:24:07,040
has there been any advancement in the

3296
02:24:04,478 --> 02:24:09,519
four simplex case of gjk

3297
02:24:07,040 --> 02:24:09,520
um

3298
02:24:11,439 --> 02:24:15,359
so i don't know i haven't verified it i

3299
02:24:14,478 --> 02:24:18,559
want to say that

3300
02:24:15,359 --> 02:24:20,720
um dirk gregorius had some stuff on that

3301
02:24:18,559 --> 02:24:23,279
uh because i remember going out to

3302
02:24:20,719 --> 02:24:25,920
dinner with him and jay one time

3303
02:24:23,280 --> 02:24:26,800
and he was saying some stuff but uh i i

3304
02:24:25,920 --> 02:24:29,680
not i haven't looked

3305
02:24:26,799 --> 02:24:32,318
at ggk in a long time so i i don't know

3306
02:24:29,680 --> 02:24:32,318
ask dirk

3307
02:24:33,040 --> 02:24:36,479
why not just move the character to the

3308
02:24:34,318 --> 02:24:39,199
closest legal point of the desired

3309
02:24:36,478 --> 02:24:40,318
endpoint uh because of gliding

3310
02:24:39,200 --> 02:24:42,800
that's that's the whole thing i was

3311
02:24:40,318 --> 02:24:44,559
saying with gliding

3312
02:24:42,799 --> 02:24:46,079
so the part that the player wants to end

3313
02:24:44,559 --> 02:24:49,439
up at is

3314
02:24:46,079 --> 02:24:50,719
is not actually just the closest point

3315
02:24:49,439 --> 02:24:54,398
if there's something in the way they

3316
02:24:50,719 --> 02:24:54,398
want to glide along that

3317
02:24:54,840 --> 02:24:57,840
something

3318
02:25:04,478 --> 02:25:07,599
couldn't you squeegee the light board um

3319
02:25:06,639 --> 02:25:09,039
no

3320
02:25:07,600 --> 02:25:10,960
like basically that's what you're doing

3321
02:25:09,040 --> 02:25:13,040
with the micro fiber cloth

3322
02:25:10,959 --> 02:25:14,478
and as far as i know it doesn't really

3323
02:25:13,040 --> 02:25:16,240
help to be a squeegee versus a

3324
02:25:14,478 --> 02:25:18,719
microfiber cloth in fact the microfiber

3325
02:25:16,239 --> 02:25:22,879
cloth picks up things almost better

3326
02:25:18,719 --> 02:25:24,559
so i maybe but i don't think so

3327
02:25:22,879 --> 02:25:25,920
and plus you it still takes a while

3328
02:25:24,559 --> 02:25:27,840
you'd have to like get um

3329
02:25:25,920 --> 02:25:29,439
you know you'd have to dunk a thing and

3330
02:25:27,840 --> 02:25:30,799
pull it down and then dunk a thing and

3331
02:25:29,439 --> 02:25:31,439
pull it down and dunk a thing and pull

3332
02:25:30,799 --> 02:25:32,559
it down

3333
02:25:31,439 --> 02:25:34,398
and maybe you know you have a good

3334
02:25:32,559 --> 02:25:36,079
trough for the runoff and it's fine and

3335
02:25:34,398 --> 02:25:36,879
still maybe it's probably faster than

3336
02:25:36,079 --> 02:25:38,959
what i'm doing so

3337
02:25:36,879 --> 02:25:41,199
you might make an improvement but it's

3338
02:25:38,959 --> 02:25:44,398
not the like it's not the instant clear

3339
02:25:41,200 --> 02:25:44,399
i want the instant clear

3340
02:25:44,799 --> 02:25:53,840
that's all

3341
02:25:56,639 --> 02:25:59,680
i mean not the closest point of the path

3342
02:25:58,079 --> 02:26:02,719
close by than halfway uh yeah

3343
02:25:59,680 --> 02:26:03,840
so um that's literally the algorithm i

3344
02:26:02,719 --> 02:26:07,199
was just describing

3345
02:26:03,840 --> 02:26:07,680
so so you're yes that is what we want to

3346
02:26:07,200 --> 02:26:09,359
do

3347
02:26:07,680 --> 02:26:11,760
the problem is how do we find the

3348
02:26:09,359 --> 02:26:13,760
closest point that you can get to

3349
02:26:11,760 --> 02:26:16,000
because remember if you just if you

3350
02:26:13,760 --> 02:26:17,920
literally just take the closest point

3351
02:26:16,000 --> 02:26:19,920
then the person might be able to get

3352
02:26:17,920 --> 02:26:20,559
somewhere they shouldn't be able to get

3353
02:26:19,920 --> 02:26:22,079
right

3354
02:26:20,559 --> 02:26:24,239
because you don't know if those points

3355
02:26:22,079 --> 02:26:27,439
were connected

3356
02:26:24,239 --> 02:26:28,079
you know what i'm saying now we could

3357
02:26:27,439 --> 02:26:32,398
try

3358
02:26:28,079 --> 02:26:35,760
just doing that anyway like we could say

3359
02:26:32,398 --> 02:26:36,719
we don't care right because we're only

3360
02:26:35,760 --> 02:26:39,760
going to place

3361
02:26:36,719 --> 02:26:41,920
slow enough moving things with

3362
02:26:39,760 --> 02:26:43,120
large enough objects that we just don't

3363
02:26:41,920 --> 02:26:45,280
care and we could even

3364
02:26:43,120 --> 02:26:47,520
subdivide movements into small enough

3365
02:26:45,280 --> 02:26:48,960
increments so maybe we should do that

3366
02:26:47,520 --> 02:26:50,560
right so so that we don't have to worry

3367
02:26:48,959 --> 02:26:53,279
about connectivity we just do

3368
02:26:50,559 --> 02:26:55,840
subdivision to find the closest point

3369
02:26:53,280 --> 02:26:55,840
and that's it

3370
02:26:56,719 --> 02:27:01,599
in in fact volcanic popsicle you said

3371
02:26:59,920 --> 02:27:02,079
that's probably a stupid question but

3372
02:27:01,600 --> 02:27:04,640
actually

3373
02:27:02,079 --> 02:27:05,280
i think your stupid question is not

3374
02:27:04,639 --> 02:27:09,599
stupid

3375
02:27:05,280 --> 02:27:11,920
i think it's very smart and um

3376
02:27:09,600 --> 02:27:12,640
and and probably i should consider that

3377
02:27:11,920 --> 02:27:14,960
right

3378
02:27:12,639 --> 02:27:16,318
i should probably consider going look we

3379
02:27:14,959 --> 02:27:18,959
don't care

3380
02:27:16,318 --> 02:27:21,119
we're just going to say we know the

3381
02:27:18,959 --> 02:27:23,119
sizes of collision volumes

3382
02:27:21,120 --> 02:27:24,560
so we're going to subdivide motions into

3383
02:27:23,120 --> 02:27:26,240
pieces that are that's

3384
02:27:24,559 --> 02:27:27,920
that are appropriate size so if

3385
02:27:26,239 --> 02:27:30,799
something's moving really fast

3386
02:27:27,920 --> 02:27:31,840
we just do a few iterations to do the

3387
02:27:30,799 --> 02:27:36,079
placement

3388
02:27:31,840 --> 02:27:39,120
a few sequential iterations right um

3389
02:27:36,079 --> 02:27:40,559
or we just clamp velocity to that speed

3390
02:27:39,120 --> 02:27:42,399
and then we say all right all we're

3391
02:27:40,559 --> 02:27:44,398
going to do is look for closest point

3392
02:27:42,398 --> 02:27:46,000
so we just subdivide into cells and we

3393
02:27:44,398 --> 02:27:47,519
just look for the closest point and then

3394
02:27:46,000 --> 02:27:49,359
we place you there and we don't care if

3395
02:27:47,520 --> 02:27:51,200
it's contiguous because we assume

3396
02:27:49,359 --> 02:27:54,720
that there can't be micro channels of

3397
02:27:51,200 --> 02:27:54,720
that size love it

3398
02:27:55,439 --> 02:27:59,280
love it love that idea change what you

3399
02:27:58,879 --> 02:28:02,799
said

3400
02:27:59,280 --> 02:28:06,000
to that's probably a stupid question to

3401
02:28:02,799 --> 02:28:12,639
i have a great idea

3402
02:28:06,000 --> 02:28:15,200
and and off we go

3403
02:28:12,639 --> 02:28:17,279
just just just go edit your chat message

3404
02:28:15,200 --> 02:28:19,840
i know you can't

3405
02:28:17,280 --> 02:28:19,840
if you could

3406
02:28:24,559 --> 02:28:28,398
so no uh again frame stutter is not a

3407
02:28:27,439 --> 02:28:31,840
problem here because

3408
02:28:28,398 --> 02:28:35,279
like i said we just take a look at

3409
02:28:31,840 --> 02:28:37,840
we can we can artificially say that if

3410
02:28:35,280 --> 02:28:39,120
we need to move more than a certain time

3411
02:28:37,840 --> 02:28:42,398
step we just do

3412
02:28:39,120 --> 02:28:45,040
multiple rounds of this right because

3413
02:28:42,398 --> 02:28:46,478
the only benefit to not subdividing the

3414
02:28:45,040 --> 02:28:48,560
problem is speed

3415
02:28:46,478 --> 02:28:50,719
so if actually we can get a massive

3416
02:28:48,559 --> 02:28:53,279
speed increase by saying we

3417
02:28:50,719 --> 02:28:54,398
we need this bounce on the size of the

3418
02:28:53,280 --> 02:28:56,560
search space

3419
02:28:54,398 --> 02:28:57,599
then it becomes better to just run that

3420
02:28:56,559 --> 02:29:00,559
a few times

3421
02:28:57,600 --> 02:29:01,120
right because each iteration if if you

3422
02:29:00,559 --> 02:29:02,879
need to run

3423
02:29:01,120 --> 02:29:05,600
four iterations of something that's 10

3424
02:29:02,879 --> 02:29:08,639
times faster

3425
02:29:05,600 --> 02:29:11,120
that's a win right so

3426
02:29:08,639 --> 02:29:12,639
i i do i think we could make something

3427
02:29:11,120 --> 02:29:14,240
that just finds the closest point

3428
02:29:12,639 --> 02:29:16,478
run way faster than something that has

3429
02:29:14,239 --> 02:29:17,680
to remember the connectivity

3430
02:29:16,478 --> 02:29:19,039
because it can also be massively

3431
02:29:17,680 --> 02:29:21,200
parallelized it doesn't have to have a

3432
02:29:19,040 --> 02:29:22,800
cleanup phase we could run this

3433
02:29:21,200 --> 02:29:24,399
multi-threaded if we wanted to right we

3434
02:29:22,799 --> 02:29:26,159
could go nuts

3435
02:29:24,398 --> 02:29:27,599
um although i don't think that actually

3436
02:29:26,159 --> 02:29:28,799
matters because you just run multiple

3437
02:29:27,600 --> 02:29:37,840
entities probably so

3438
02:29:28,799 --> 02:29:37,840
yeah whatever but you get the idea

3439
02:29:50,559 --> 02:29:54,159
for the light board there are already

3440
02:29:51,920 --> 02:29:56,799
large transparent tvs so the only

3441
02:29:54,159 --> 02:30:01,200
question is price and pen tracking

3442
02:29:56,799 --> 02:30:04,879
so if you can make that

3443
02:30:01,200 --> 02:30:07,520
like that is like please make this

3444
02:30:04,879 --> 02:30:09,679
please make a transparent tv with like a

3445
02:30:07,520 --> 02:30:13,520
wacom tablet

3446
02:30:09,680 --> 02:30:15,520
digitizer like that

3447
02:30:13,520 --> 02:30:18,000
if you made that you would sell

3448
02:30:15,520 --> 02:30:20,079
thousands of those as well because every

3449
02:30:18,000 --> 02:30:21,600
educator like if you can get that out

3450
02:30:20,079 --> 02:30:23,200
before the pandemic ends

3451
02:30:21,600 --> 02:30:25,120
which honestly will probably be like

3452
02:30:23,200 --> 02:30:26,240
five years anyway and plus there'll be

3453
02:30:25,120 --> 02:30:29,120
another pandemic

3454
02:30:26,239 --> 02:30:30,318
right there'll be another pandemic and

3455
02:30:29,120 --> 02:30:33,359
if you can get that out

3456
02:30:30,318 --> 02:30:35,840
because everyone needs to do this

3457
02:30:33,359 --> 02:30:36,640
right so if you can make a transparent

3458
02:30:35,840 --> 02:30:38,478
tv

3459
02:30:36,639 --> 02:30:40,159
where you draw on the back of it with a

3460
02:30:38,478 --> 02:30:47,840
pen

3461
02:30:40,159 --> 02:30:47,840
um i mean dude like

3462
02:30:55,439 --> 02:31:00,239
that'd be so good you know i don't have

3463
02:30:58,239 --> 02:31:02,879
hardware skills so i can't make that

3464
02:31:00,239 --> 02:31:04,239
you know i totally agree that if you can

3465
02:31:02,879 --> 02:31:07,839
get a transparent tv

3466
02:31:04,239 --> 02:31:09,119
a large transparent tv which lcds

3467
02:31:07,840 --> 02:31:12,840
should be able to do right because an

3468
02:31:09,120 --> 02:31:15,840
lcd is is fundamentally transparent

3469
02:31:12,840 --> 02:31:15,840
um

3470
02:31:19,600 --> 02:31:25,600
so if you could just get a pen

3471
02:31:23,280 --> 02:31:26,399
that was like built into that system i

3472
02:31:25,600 --> 02:31:27,760
mean you could even

3473
02:31:26,398 --> 02:31:29,119
you maybe wouldn't even have to do that

3474
02:31:27,760 --> 02:31:29,680
you could even use like lighthouse or

3475
02:31:29,120 --> 02:31:31,680
something

3476
02:31:29,680 --> 02:31:33,120
you could use like a you could use a vr

3477
02:31:31,680 --> 02:31:34,000
kind of style tracking system if you

3478
02:31:33,120 --> 02:31:36,399
wanted to

3479
02:31:34,000 --> 02:31:37,600
at that point you you could you wouldn't

3480
02:31:36,398 --> 02:31:39,599
need the pen

3481
02:31:37,600 --> 02:31:40,640
to actually be a digitizer pen like a

3482
02:31:39,600 --> 02:31:42,479
wacom tablet

3483
02:31:40,639 --> 02:31:44,398
because you could actually put if you

3484
02:31:42,478 --> 02:31:45,438
wanted to

3485
02:31:44,398 --> 02:31:57,279
you could just use lighthouse or

3486
02:31:45,439 --> 02:32:00,398
something i suppose

3487
02:31:57,280 --> 02:32:01,600
uh nairo 2 says

3488
02:32:00,398 --> 02:32:02,959
at any point your development as a

3489
02:32:01,600 --> 02:32:05,040
programmer have you ever dealt with

3490
02:32:02,959 --> 02:32:06,879
pointer aversion i tend to avoid storing

3491
02:32:05,040 --> 02:32:07,840
pointers using array index lookups every

3492
02:32:06,879 --> 02:32:09,679
time instead

3493
02:32:07,840 --> 02:32:11,200
to avoid the possibility of a bad null

3494
02:32:09,680 --> 02:32:11,920
pointer i feel like i'm limiting myself

3495
02:32:11,200 --> 02:32:13,600
by doing this

3496
02:32:11,920 --> 02:32:15,280
but it also feels valid have you dealt

3497
02:32:13,600 --> 02:32:19,439
with this and have any advice on it

3498
02:32:15,280 --> 02:32:22,560
um yes i guess what i would say is uh

3499
02:32:19,439 --> 02:32:24,318
no that's great um we do that in

3500
02:32:22,559 --> 02:32:27,920
handmade hero all over the place

3501
02:32:24,318 --> 02:32:28,478
and uh it's probably the right way to

3502
02:32:27,920 --> 02:32:32,639
program

3503
02:32:28,478 --> 02:32:35,358
right fundamentally speaking the only

3504
02:32:32,639 --> 02:32:37,199
benefit that a pointer provides is the

3505
02:32:35,359 --> 02:32:38,720
ability to like relocate the memory

3506
02:32:37,200 --> 02:32:39,760
around

3507
02:32:38,719 --> 02:32:42,239
so that it doesn't have to be like

3508
02:32:39,760 --> 02:32:43,600
contiguous with something

3509
02:32:42,239 --> 02:32:45,600
i mean because that's what an index

3510
02:32:43,600 --> 02:32:45,840
that's that's the problem you get with

3511
02:32:45,600 --> 02:32:49,280
an

3512
02:32:45,840 --> 02:32:52,639
index is that it has to be quick

3513
02:32:49,280 --> 02:32:54,479
to get the index translated to where the

3514
02:32:52,639 --> 02:32:56,719
thing actually is

3515
02:32:54,478 --> 02:32:58,559
now if you don't have to do a lot of

3516
02:32:56,719 --> 02:32:59,840
lookups even that's not a problem

3517
02:32:58,559 --> 02:33:03,920
because just

3518
02:32:59,840 --> 02:33:03,920
grab a hash table and you're done right

3519
02:33:05,680 --> 02:33:12,800
then it doesn't matter but

3520
02:33:09,760 --> 02:33:14,960
if you want really instant in lookups

3521
02:33:12,799 --> 02:33:18,079
like you get with a planer which is you

3522
02:33:14,959 --> 02:33:20,879
know basically instant

3523
02:33:18,079 --> 02:33:21,439
um if you want instant lookups then your

3524
02:33:20,879 --> 02:33:23,519
index

3525
02:33:21,439 --> 02:33:25,359
indices need to be contiguous off a base

3526
02:33:23,520 --> 02:33:27,520
which which adds some work for you

3527
02:33:25,359 --> 02:33:29,280
right thankfully nowadays it's easier

3528
02:33:27,520 --> 02:33:32,079
than ever because you can do stuff like

3529
02:33:29,280 --> 02:33:33,680
reserve 64 gigabytes for every array

3530
02:33:32,079 --> 02:33:35,120
and just never commit them and then

3531
02:33:33,680 --> 02:33:37,200
they're all contiguous no matter how far

3532
02:33:35,120 --> 02:33:40,399
they grow right so it's not that hard

3533
02:33:37,200 --> 02:33:42,800
actually um

3534
02:33:40,398 --> 02:33:43,840
and and so i don't know you know maybe

3535
02:33:42,799 --> 02:33:45,759
that's that's

3536
02:33:43,840 --> 02:33:47,120
one solution but you know it might limit

3537
02:33:45,760 --> 02:33:48,159
your portability depending on what your

3538
02:33:47,120 --> 02:33:50,399
targets are

3539
02:33:48,159 --> 02:33:51,520
but no i mean pointers pointers are not

3540
02:33:50,398 --> 02:33:53,599
good like

3541
02:33:51,520 --> 02:33:54,560
in general pointers are pretty bad

3542
02:33:53,600 --> 02:33:57,520
they're too big

3543
02:33:54,559 --> 02:33:58,478
because usually you don't need um eight

3544
02:33:57,520 --> 02:34:00,640
bytes

3545
02:33:58,478 --> 02:34:02,239
to represent where something is usually

3546
02:34:00,639 --> 02:34:05,519
you know 16

3547
02:34:02,239 --> 02:34:08,639
bits you know so two bytes or four bytes

3548
02:34:05,520 --> 02:34:10,640
is plenty um and so it's pretty

3549
02:34:08,639 --> 02:34:12,398
you know you're you're bloating out the

3550
02:34:10,639 --> 02:34:14,478
the credit cash footprint

3551
02:34:12,398 --> 02:34:15,680
of everything you do by having these

3552
02:34:14,478 --> 02:34:18,159
larger

3553
02:34:15,680 --> 02:34:20,318
things pointers don't save you can't

3554
02:34:18,159 --> 02:34:21,680
save a pointer off to disk and

3555
02:34:20,318 --> 02:34:23,359
assume it'll be valid when you load it

3556
02:34:21,680 --> 02:34:24,800
back in right so you have this

3557
02:34:23,359 --> 02:34:26,640
translation process go to

3558
02:34:24,799 --> 02:34:28,079
indexes don't have that problem indices

3559
02:34:26,639 --> 02:34:31,119
just save just fine

3560
02:34:28,079 --> 02:34:34,799
right um

3561
02:34:31,120 --> 02:34:36,479
uh it's harder to validate a pointer

3562
02:34:34,799 --> 02:34:37,920
an index is much easier to validate you

3563
02:34:36,478 --> 02:34:40,000
just say look is it

3564
02:34:37,920 --> 02:34:41,760
is it less than zero or higher than the

3565
02:34:40,000 --> 02:34:44,159
total number of things i have

3566
02:34:41,760 --> 02:34:46,398
if it is then it's invalid a pointer you

3567
02:34:44,159 --> 02:34:47,840
get it and you're like i don't know

3568
02:34:46,398 --> 02:34:49,920
you know i don't know if it's valid or

3569
02:34:47,840 --> 02:34:51,600
not um

3570
02:34:49,920 --> 02:34:52,960
assuming that you're actually using the

3571
02:34:51,600 --> 02:34:54,800
benefits of a pointer which is that it

3572
02:34:52,959 --> 02:34:58,318
could be placed anywhere and not inside

3573
02:34:54,799 --> 02:35:01,039
a penned memory area so

3574
02:34:58,318 --> 02:35:01,359
uh i i think you're right on target i

3575
02:35:01,040 --> 02:35:03,520
mean

3576
02:35:01,359 --> 02:35:04,399
i don't like using pointers for things

3577
02:35:03,520 --> 02:35:06,079
that aren't

3578
02:35:04,398 --> 02:35:07,680
pointers like that that aren't like i

3579
02:35:06,079 --> 02:35:09,680
allocated a big chunk and i'm trying to

3580
02:35:07,680 --> 02:35:10,239
say where it is if that's what a pointer

3581
02:35:09,680 --> 02:35:12,960
does

3582
02:35:10,239 --> 02:35:13,920
that's what i use them for so you know

3583
02:35:12,959 --> 02:35:16,079
most the time

3584
02:35:13,920 --> 02:35:17,680
in my code when i'm using actual

3585
02:35:16,079 --> 02:35:19,680
pointers

3586
02:35:17,680 --> 02:35:21,359
a lot it's stuff like the code you see

3587
02:35:19,680 --> 02:35:23,040
on the screen where it came from an

3588
02:35:21,359 --> 02:35:24,640
index originally and i just

3589
02:35:23,040 --> 02:35:26,479
turned it into a pointer to do a lot of

3590
02:35:24,639 --> 02:35:27,680
stuff off of it but i usually don't

3591
02:35:26,478 --> 02:35:29,199
store that pointer

3592
02:35:27,680 --> 02:35:31,680
so like you notice entities they work

3593
02:35:29,200 --> 02:35:33,680
with like ids or something

3594
02:35:31,680 --> 02:35:34,960
we just don't use pointers as the

3595
02:35:33,680 --> 02:35:38,720
primary thing a lot

3596
02:35:34,959 --> 02:35:39,039
so so i don't i don't think you want to

3597
02:35:38,719 --> 02:35:40,639
use

3598
02:35:39,040 --> 02:35:42,319
pointers anywhere where you didn't

3599
02:35:40,639 --> 02:35:45,760
actually want a pointer

3600
02:35:42,318 --> 02:35:47,439
right um for permanent storage for you

3601
02:35:45,760 --> 02:35:49,040
for things that go into structs and

3602
02:35:47,439 --> 02:35:50,559
stuff for

3603
02:35:49,040 --> 02:35:51,920
actual code you use pointers all the

3604
02:35:50,559 --> 02:35:53,439
time in the sense that you first like

3605
02:35:51,920 --> 02:35:54,799
you know you load the id's

3606
02:35:53,439 --> 02:35:56,559
address and then you offset off the

3607
02:35:54,799 --> 02:35:58,000
pointer that's great i mean you can do

3608
02:35:56,559 --> 02:35:58,719
that a bunch like you see on the screen

3609
02:35:58,000 --> 02:36:00,719
here

3610
02:35:58,719 --> 02:36:02,398
but yeah for for tracking things you

3611
02:36:00,719 --> 02:36:05,199
know i don't store pointers very often

3612
02:36:02,398 --> 02:36:07,039
if i can avoid it

3613
02:36:05,200 --> 02:36:09,840
so i think you're right on target i i

3614
02:36:07,040 --> 02:36:09,840
wouldn't change a thing

3615
02:36:11,280 --> 02:36:14,079
i guess the only thing i would i would

3616
02:36:12,559 --> 02:36:15,439
the only thing i would add to what you

3617
02:36:14,079 --> 02:36:17,920
had posted really

3618
02:36:15,439 --> 02:36:18,720
is i think your emphasis on the bad null

3619
02:36:17,920 --> 02:36:20,398
pointer thing

3620
02:36:18,719 --> 02:36:22,799
i don't think that's the really the

3621
02:36:20,398 --> 02:36:23,760
interesting part because i still like to

3622
02:36:22,799 --> 02:36:26,318
have

3623
02:36:23,760 --> 02:36:27,600
a zero element for null anyway right

3624
02:36:26,318 --> 02:36:28,959
because i like to be able to know is

3625
02:36:27,600 --> 02:36:29,439
something pointing to something or not

3626
02:36:28,959 --> 02:36:32,879
right

3627
02:36:29,439 --> 02:36:36,720
so i usually reserve index zero for null

3628
02:36:32,879 --> 02:36:39,599
um so i'm it's not that i'm

3629
02:36:36,719 --> 02:36:39,920
trying to avoid that and per se although

3630
02:36:39,600 --> 02:36:41,359
that

3631
02:36:39,920 --> 02:36:43,200
it does give you new options you can

3632
02:36:41,359 --> 02:36:45,120
always have the null slot actually be

3633
02:36:43,200 --> 02:36:47,280
there so it actually does something

3634
02:36:45,120 --> 02:36:49,120
uh so that you don't have those problems

3635
02:36:47,280 --> 02:36:50,880
uh so there's all that it's fine

3636
02:36:49,120 --> 02:36:52,479
but i love all the other benefits of

3637
02:36:50,879 --> 02:36:54,398
indices they're smaller

3638
02:36:52,478 --> 02:36:56,639
they can be saved to disk or transmitted

3639
02:36:54,398 --> 02:36:59,358
over a network without translation

3640
02:36:56,639 --> 02:37:01,840
like ids are great for a lot of reasons

3641
02:36:59,359 --> 02:37:05,760
that don't have anything to do with null

3642
02:37:01,840 --> 02:37:19,840
so so yes to the thing you said but also

3643
02:37:05,760 --> 02:37:19,840
add on all the other stuff

3644
02:37:25,680 --> 02:37:29,680
is it possible to replace entire web

3645
02:37:27,680 --> 02:37:33,600
stack by c

3646
02:37:29,680 --> 02:37:36,159
uh well

3647
02:37:33,600 --> 02:37:38,000
i mean no because the front end has to

3648
02:37:36,159 --> 02:37:39,680
be written in javascript right i mean

3649
02:37:38,000 --> 02:37:41,840
you could

3650
02:37:39,680 --> 02:37:42,800
what you could do is you could write it

3651
02:37:41,840 --> 02:37:46,398
in c

3652
02:37:42,799 --> 02:37:48,719
and like compile it to javascript right

3653
02:37:46,398 --> 02:37:50,639
but at the end of the day the only safe

3654
02:37:48,719 --> 02:37:52,398
way to ship things currently for the

3655
02:37:50,639 --> 02:37:56,079
front end of a web stack

3656
02:37:52,398 --> 02:37:56,079
is javascript

3657
02:37:58,840 --> 02:38:01,840
so

3658
02:38:03,359 --> 02:38:06,399
when your zero slot is reserved do you

3659
02:38:04,879 --> 02:38:07,039
loop start from one or zero then your

3660
02:38:06,398 --> 02:38:10,318
choice

3661
02:38:07,040 --> 02:38:13,359
uh usually what i do is i let

3662
02:38:10,318 --> 02:38:15,039
the zero be valid but just have all

3663
02:38:13,359 --> 02:38:15,920
things in it that don't result in

3664
02:38:15,040 --> 02:38:17,280
anything

3665
02:38:15,920 --> 02:38:18,879
so like if you're running a physics

3666
02:38:17,280 --> 02:38:20,880
update or something it has no collision

3667
02:38:18,879 --> 02:38:22,079
volume and it has no velocity and no

3668
02:38:20,879 --> 02:38:24,000
position and whatever

3669
02:38:22,079 --> 02:38:25,920
so it just ends up doing a zero plus

3670
02:38:24,000 --> 02:38:28,239
zero equals zero update on it

3671
02:38:25,920 --> 02:38:29,760
so that you could loop over it if you

3672
02:38:28,239 --> 02:38:32,719
wanted to

3673
02:38:29,760 --> 02:38:34,639
but you don't have to so you can just

3674
02:38:32,719 --> 02:38:36,000
start everything from one if you want to

3675
02:38:34,639 --> 02:38:37,760
because you know the first one isn't

3676
02:38:36,000 --> 02:38:43,840
valid

3677
02:38:37,760 --> 02:38:43,840
or not valid but isn't important

3678
02:38:51,040 --> 02:38:54,000
what would you say to the idea that

3679
02:38:52,478 --> 02:38:55,760
pointers can be better because the

3680
02:38:54,000 --> 02:38:57,120
compiler knows to prefetch the targets

3681
02:38:55,760 --> 02:38:58,960
of pointers

3682
02:38:57,120 --> 02:39:00,800
this is not the case with indices as

3683
02:38:58,959 --> 02:39:03,309
there are no pointy semantics there the

3684
02:39:00,799 --> 02:39:04,639
power understands

3685
02:39:03,309 --> 02:39:07,840
[Music]

3686
02:39:04,639 --> 02:39:11,199
so um

3687
02:39:07,840 --> 02:39:13,040
i guess stanislav what compiler are you

3688
02:39:11,200 --> 02:39:15,200
talking about and which circumstance are

3689
02:39:13,040 --> 02:39:18,800
you talking about

3690
02:39:15,200 --> 02:39:18,800
where it enters prefetch

3691
02:39:18,879 --> 02:39:21,679
instructions

3692
02:39:22,879 --> 02:39:26,959
can you give me an example of some code

3693
02:39:25,120 --> 02:39:30,560
that you think would have a compiler

3694
02:39:26,959 --> 02:39:30,559
insert a prefetch instruction

3695
02:39:34,639 --> 02:39:53,840
would be would be my first question

3696
02:39:38,159 --> 02:39:53,840
i have others

3697
02:39:55,200 --> 02:39:59,120
like if you if you actually want to talk

3698
02:39:57,120 --> 02:40:02,479
about that part specifically because

3699
02:39:59,120 --> 02:40:04,720
uh we certainly can but uh i would first

3700
02:40:02,478 --> 02:40:07,760
need some code that you think

3701
02:40:04,719 --> 02:40:09,279
like can you post a godbolt that shows a

3702
02:40:07,760 --> 02:40:10,800
compiler generating a prefetch

3703
02:40:09,280 --> 02:40:13,120
instruction of the kind you're talking

3704
02:40:10,799 --> 02:40:13,119
about

3705
02:40:19,680 --> 02:40:22,880
and and this will be the last question

3706
02:40:21,200 --> 02:40:25,920
because uh i gotta

3707
02:40:22,879 --> 02:40:26,318
i'm i'm gonna smoke some meats today i'm

3708
02:40:25,920 --> 02:40:28,799
gonna

3709
02:40:26,318 --> 02:40:30,079
i'm gonna be doing some barbecue and i'm

3710
02:40:28,799 --> 02:40:30,959
getting hungry so i want to go

3711
02:40:30,079 --> 02:40:35,840
downstairs and

3712
02:40:30,959 --> 02:40:35,839
and start the smoke or

3713
02:40:59,359 --> 02:41:02,479
okay we'll i'll if i can remember

3714
02:41:01,520 --> 02:41:04,640
filiodelski

3715
02:41:02,478 --> 02:41:08,719
i'll point i'll post some pictures to

3716
02:41:04,639 --> 02:41:08,719
hashtag food on the molly rocket discord

3717
02:41:12,799 --> 02:41:19,119
where did stanislav go

3718
02:41:16,799 --> 02:41:20,559
okay here we go i cannot give an example

3719
02:41:19,120 --> 02:41:22,000
it is just something that i've heard

3720
02:41:20,559 --> 02:41:23,359
other people talk about when they give

3721
02:41:22,000 --> 02:41:25,120
counter examples for using these

3722
02:41:23,359 --> 02:41:28,318
well okay well then we need to ask those

3723
02:41:25,120 --> 02:41:31,840
people um

3724
02:41:28,318 --> 02:41:31,840
i mean

3725
02:41:33,040 --> 02:41:36,720
first of all do do does that even happen

3726
02:41:35,840 --> 02:41:38,478
like

3727
02:41:36,719 --> 02:41:40,639
i don't compile with clang a lot but i

3728
02:41:38,478 --> 02:41:44,000
can pretty much tell you that msvc

3729
02:41:40,639 --> 02:41:47,680
does not insert prefetch instructions

3730
02:41:44,000 --> 02:41:51,520
so i don't really know what what

3731
02:41:47,680 --> 02:41:55,279
that means

3732
02:41:51,520 --> 02:41:59,840
it doesn't sound logical to me

3733
02:41:55,279 --> 02:41:59,840
but um

3734
02:42:00,079 --> 02:42:04,000
so if we were to say that we were using

3735
02:42:03,520 --> 02:42:05,600
like

3736
02:42:04,000 --> 02:42:07,200
the most modern version of clang which

3737
02:42:05,600 --> 02:42:10,880
does all kinds of ridiculous

3738
02:42:07,200 --> 02:42:14,880
stuff in it right and and i guess

3739
02:42:10,879 --> 02:42:17,920
like we're like you know small structs

3740
02:42:14,879 --> 02:42:19,599
so it's really tiny and it's and the

3741
02:42:17,920 --> 02:42:20,398
compiler would really want to issue a

3742
02:42:19,600 --> 02:42:23,760
prefetch

3743
02:42:20,398 --> 02:42:23,760
maybe i don't know

3744
02:42:24,318 --> 02:42:27,840
about it but like

3745
02:42:31,120 --> 02:42:34,479
trying to think of what would convince a

3746
02:42:32,639 --> 02:42:35,599
compiler if it was going to do something

3747
02:42:34,478 --> 02:42:38,639
like that

3748
02:42:35,600 --> 02:42:40,479
um i'm not optimistic i like

3749
02:42:38,639 --> 02:42:42,478
my first thought is that i don't think

3750
02:42:40,478 --> 02:42:44,079
the people that are saying that probably

3751
02:42:42,478 --> 02:42:46,079
know what they're talking about but like

3752
02:42:44,079 --> 02:42:48,639
you know just to be fair let's not

3753
02:42:46,079 --> 02:42:48,639
assume that

3754
02:42:52,398 --> 02:42:55,840
actually you know what

3755
02:43:13,920 --> 02:43:17,279
um so let's see here so we have a small

3756
02:43:16,719 --> 02:43:19,119
struct

3757
02:43:17,279 --> 02:43:21,600
right that just got like an integer in

3758
02:43:19,120 --> 02:43:24,640
it um i don't know why this is returning

3759
02:43:21,600 --> 02:43:26,720
it's supposed to be turning it and um

3760
02:43:24,639 --> 02:43:28,719
so we go through here uh at each point

3761
02:43:26,719 --> 02:43:31,438
through i'm gonna take this sum let me

3762
02:43:28,719 --> 02:43:34,239
recall this sum

3763
02:43:31,439 --> 02:43:35,680
and i'm just gonna add whatever the x is

3764
02:43:34,239 --> 02:43:38,719
that's in the struct

3765
02:43:35,680 --> 02:43:40,159
right um and so we're just going to loop

3766
02:43:38,719 --> 02:43:42,398
over these and go

3767
02:43:40,159 --> 02:43:42,398
uh

3768
02:43:48,840 --> 02:43:51,840
oops

3769
02:43:52,079 --> 02:43:57,420
um

3770
02:43:53,989 --> 02:43:57,420
[Music]

3771
02:43:59,920 --> 02:44:03,520
there we go and let's see what we get

3772
02:44:02,959 --> 02:44:06,639
here

3773
02:44:03,520 --> 02:44:09,680
i'm gonna get rid of osaka

3774
02:44:06,639 --> 02:44:19,840
um so here's our asm

3775
02:44:09,680 --> 02:44:21,359
right so like

3776
02:44:19,840 --> 02:44:25,359
i don't even know what i would do to

3777
02:44:21,359 --> 02:44:25,359
this code to get it to issue a prefetch

3778
02:44:29,359 --> 02:44:33,520
because remember in order to want to

3779
02:44:32,239 --> 02:44:36,799
issue a prefetch

3780
02:44:33,520 --> 02:44:38,319
this thing's got to be tiny right

3781
02:44:36,799 --> 02:44:39,920
we've got to be wanting to prefetch

3782
02:44:38,318 --> 02:44:44,840
things that are pretty far

3783
02:44:39,920 --> 02:44:47,840
out or something

3784
02:44:44,840 --> 02:44:47,840
uh

3785
02:44:47,920 --> 02:45:01,840
i'm not sure

3786
02:45:04,639 --> 02:45:09,760
like without some idea of where the

3787
02:45:07,200 --> 02:45:11,760
compiler would ever do this i don't know

3788
02:45:09,760 --> 02:45:14,880
i've never heard of a compiler inserting

3789
02:45:11,760 --> 02:45:16,239
a prefetch before that you didn't tell

3790
02:45:14,879 --> 02:45:19,519
it to insert

3791
02:45:16,239 --> 02:45:22,159
right um but that doesn't mean it

3792
02:45:19,520 --> 02:45:22,159
doesn't happen

3793
02:45:27,279 --> 02:45:31,920
so let me just try to answer the

3794
02:45:29,439 --> 02:45:33,920
question this way

3795
02:45:31,920 --> 02:45:36,159
since i don't know how to provoke a

3796
02:45:33,920 --> 02:45:39,439
prefetch

3797
02:45:36,159 --> 02:45:41,039
um i also i'll be honest with you

3798
02:45:39,439 --> 02:45:44,398
prefetching

3799
02:45:41,040 --> 02:45:45,920
almost never helps so like i don't even

3800
02:45:44,398 --> 02:45:46,959
know if i can write a situation where i

3801
02:45:45,920 --> 02:45:48,639
would prefetch

3802
02:45:46,959 --> 02:45:50,239
because it's pretty hard to find a

3803
02:45:48,639 --> 02:45:51,039
situation where you want to do a manual

3804
02:45:50,239 --> 02:45:53,520
prefetch

3805
02:45:51,040 --> 02:45:55,200
once in a great while you do but it's

3806
02:45:53,520 --> 02:45:58,640
actually quite rare

3807
02:45:55,200 --> 02:46:01,680
right um but what i would say is

3808
02:45:58,639 --> 02:46:04,719
if we can find a situation in here

3809
02:46:01,680 --> 02:46:07,600
where you actually have a thing where

3810
02:46:04,719 --> 02:46:10,398
compounds to prefetch

3811
02:46:07,600 --> 02:46:11,040
but an index would not have the compiler

3812
02:46:10,398 --> 02:46:14,000
done it

3813
02:46:11,040 --> 02:46:16,160
i would want to see that and ask why

3814
02:46:14,000 --> 02:46:17,680
because the compiler knows when it

3815
02:46:16,159 --> 02:46:19,920
fetches from somewhere

3816
02:46:17,680 --> 02:46:22,479
whether it was fetching off an index or

3817
02:46:19,920 --> 02:46:22,478
a pointer

3818
02:46:22,840 --> 02:46:27,520
right

3819
02:46:25,200 --> 02:46:27,520
i mean

3820
02:46:33,279 --> 02:46:36,960
you know so i i really don't know i mean

3821
02:46:35,520 --> 02:46:53,840
we could do something like

3822
02:46:36,959 --> 02:46:53,839
yeah like a binary search or something

3823
02:47:04,840 --> 02:47:07,840
uh

3824
02:47:15,120 --> 02:47:18,399
so yeah you know like we could do

3825
02:47:17,040 --> 02:47:21,120
something where

3826
02:47:18,398 --> 02:47:23,199
we were trying to go like okay if x is

3827
02:47:21,120 --> 02:47:25,760
less than zero go to the left if x is

3828
02:47:23,200 --> 02:47:28,000
greater than zero go to the right

3829
02:47:25,760 --> 02:47:29,120
um and sum all the way down just so we

3830
02:47:28,000 --> 02:47:32,799
have something to do

3831
02:47:29,120 --> 02:47:36,160
right um but again i just

3832
02:47:32,799 --> 02:47:36,159
i just don't know like

3833
02:47:36,799 --> 02:47:40,879
i i i don't i don't know how to make the

3834
02:47:39,920 --> 02:47:42,960
thing do it

3835
02:47:40,879 --> 02:47:44,799
let's suppose we said there was a ton of

3836
02:47:42,959 --> 02:47:49,839
of crap to do here

3837
02:47:44,799 --> 02:47:49,840
right um

3838
02:47:58,879 --> 02:48:02,398
so now it knows it has tons of time to

3839
02:48:00,719 --> 02:48:04,799
prefetch as well

3840
02:48:02,398 --> 02:48:07,869
right i mean maybe um

3841
02:48:04,799 --> 02:48:07,869
[Music]

3842
02:48:12,318 --> 02:48:15,519
i mean it even it even auto vectorized

3843
02:48:14,959 --> 02:48:19,599
this

3844
02:48:15,520 --> 02:48:19,600
for us right like

3845
02:48:21,439 --> 02:48:31,840
right it it even vectorized this and

3846
02:48:23,439 --> 02:48:31,840
it's still here

3847
02:48:34,159 --> 02:48:39,680
[Laughter]

3848
02:48:36,478 --> 02:48:39,679
check out that unroll

3849
02:48:41,920 --> 02:48:48,000
all right if you say so clang

3850
02:48:49,279 --> 02:48:52,720
if you say so but i'm not seeing any

3851
02:48:51,680 --> 02:48:55,439
prefetches

3852
02:48:52,719 --> 02:48:56,398
right so stanislav my first thing to say

3853
02:48:55,439 --> 02:48:58,398
was like

3854
02:48:56,398 --> 02:48:59,840
make if someone says that be like show

3855
02:48:58,398 --> 02:49:01,358
me the code you're actually talking

3856
02:48:59,840 --> 02:49:03,680
about

3857
02:49:01,359 --> 02:49:06,159
right show me some code that actually

3858
02:49:03,680 --> 02:49:08,639
generates this mythical prefetch

3859
02:49:06,159 --> 02:49:09,840
and then show me that the compiler stops

3860
02:49:08,639 --> 02:49:11,599
generating the prefetch when you switch

3861
02:49:09,840 --> 02:49:13,920
to an index because frankly

3862
02:49:11,600 --> 02:49:15,920
i don't see that that would be the case

3863
02:49:13,920 --> 02:49:17,439
a compiler knows when you're accessing a

3864
02:49:15,920 --> 02:49:20,079
memory location and it knows that

3865
02:49:17,439 --> 02:49:24,639
whether it's using an index or not

3866
02:49:20,079 --> 02:49:26,559
right um and so it's just not going to

3867
02:49:24,639 --> 02:49:29,519
do pre-fetches oh do you want to see an

3868
02:49:26,559 --> 02:49:29,519
os there you go

3869
02:49:38,840 --> 02:49:41,840
um

3870
02:49:45,680 --> 02:49:49,920
built-in prefetch is the way to hint uh

3871
02:49:48,639 --> 02:49:55,039
okay so

3872
02:49:49,920 --> 02:49:56,639
so built-in prefetch

3873
02:49:55,040 --> 02:50:00,160
where do i put it i guess i can look at

3874
02:49:56,639 --> 02:50:00,159
that page um

3875
02:50:04,639 --> 02:50:09,840
saying this is only gcc so we're gonna

3876
02:50:07,120 --> 02:50:09,840
have to switch

3877
02:50:16,639 --> 02:50:23,840
so do i tell you what to prefetch though

3878
02:50:25,359 --> 02:50:31,279
but if i tell you what to prefetch then

3879
02:50:27,520 --> 02:50:37,840
this is a manual prefetch so what

3880
02:50:31,279 --> 02:50:37,840
so that doesn't help right

3881
02:50:41,840 --> 02:50:46,639
but that that's me i'm telling it what

3882
02:50:44,239 --> 02:50:51,840
so i could have put an index in here

3883
02:50:46,639 --> 02:50:51,840
right so that's not

3884
02:50:53,680 --> 02:50:58,639
it's built in prefetch location optional

3885
02:50:59,840 --> 02:51:05,120
but that but that's me telling it what

3886
02:51:01,680 --> 02:51:08,000
to prefetch

3887
02:51:05,120 --> 02:51:09,920
so this this is not we could have just

3888
02:51:08,000 --> 02:51:11,600
put an index in here so that that is not

3889
02:51:09,920 --> 02:51:13,439
the compiler inserting it into

3890
02:51:11,600 --> 02:51:16,640
a prefetch that's me inserting in a

3891
02:51:13,439 --> 02:51:18,639
prefetch right

3892
02:51:16,639 --> 02:51:20,079
so that's neither here nor there if i'm

3893
02:51:18,639 --> 02:51:21,920
inserting the prefetch then i can just

3894
02:51:20,079 --> 02:51:22,639
prefetch the indexed one just as easily

3895
02:51:21,920 --> 02:51:25,760
as i can press

3896
02:51:22,639 --> 02:51:28,879
prefix prefetch the pointer one right so

3897
02:51:25,760 --> 02:51:30,840
so that's not that's just the same as me

3898
02:51:28,879 --> 02:51:34,239
doing this

3899
02:51:30,840 --> 02:51:34,239
right um

3900
02:51:35,200 --> 02:51:40,240
i would think so so that that doesn't

3901
02:51:37,920 --> 02:51:40,239
seem

3902
02:51:40,559 --> 02:51:47,760
that doesn't seem relevant to me

3903
02:51:46,000 --> 02:51:49,920
yeah so that that's not that's just a

3904
02:51:47,760 --> 02:51:52,478
prefetch just a regular prefetch

3905
02:51:49,920 --> 02:51:53,600
and i could do that just fine so we know

3906
02:51:52,478 --> 02:51:58,079
that's not

3907
02:51:53,600 --> 02:51:58,079
that can't be it right um

3908
02:51:59,359 --> 02:52:04,079
i like so gcc i feel like gcc's code gen

3909
02:52:02,639 --> 02:52:05,680
i don't know maybe i don't use it enough

3910
02:52:04,079 --> 02:52:08,799
but it seems better than

3911
02:52:05,680 --> 02:52:11,439
clang clang's code gen has just has just

3912
02:52:08,799 --> 02:52:13,599
all gone to poop sauce

3913
02:52:11,439 --> 02:52:15,680
clang just like poops out the crappiest

3914
02:52:13,600 --> 02:52:16,720
code i do not understand what is going

3915
02:52:15,680 --> 02:52:19,200
on with clang

3916
02:52:16,719 --> 02:52:21,039
i don't like it it does really

3917
02:52:19,200 --> 02:52:22,880
unpredictable stuff and a lot of times

3918
02:52:21,040 --> 02:52:26,479
it's just poop sauce

3919
02:52:22,879 --> 02:52:27,358
that's no good i don't like clang

3920
02:52:26,478 --> 02:52:30,398
anymore i

3921
02:52:27,359 --> 02:52:32,079
i i just don't

3922
02:52:30,398 --> 02:52:34,959
i don't even know why it did this why

3923
02:52:32,079 --> 02:52:34,959
did it unroll this

3924
02:52:35,920 --> 02:52:41,040
that just seems strictly worse that just

3925
02:52:38,639 --> 02:52:42,559
seems like increasing the code footprint

3926
02:52:41,040 --> 02:52:45,120
but without actually improving the

3927
02:52:42,559 --> 02:52:45,119
performance

3928
02:52:48,639 --> 02:52:52,318
like i do not know what that i do not

3929
02:52:50,879 --> 02:52:54,719
know why that did that

3930
02:52:52,318 --> 02:52:56,799
i have no idea i have no idea why this

3931
02:52:54,719 --> 02:52:58,559
got unrolled

3932
02:52:56,799 --> 02:53:01,358
the vectorization makes perfect sense

3933
02:52:58,559 --> 02:53:11,840
the unroll makes no sense at all

3934
02:53:01,359 --> 02:53:11,840
to me

3935
02:53:18,559 --> 02:53:24,239
because basically like so i mean what's

3936
02:53:22,239 --> 02:53:26,000
what's the benefit there's no benefit to

3937
02:53:24,239 --> 02:53:28,719
this unroll

3938
02:53:26,000 --> 02:53:31,600
i mean look at this code right it's just

3939
02:53:28,719 --> 02:53:34,879
mobs and p ads

3940
02:53:31,600 --> 02:53:37,439
did the test jump would be free

3941
02:53:34,879 --> 02:53:40,000
there'd be no cost to the test jump and

3942
02:53:37,439 --> 02:53:42,639
it's always 256 it's a constant

3943
02:53:40,000 --> 02:53:43,760
so it's a perfectly predicted jump never

3944
02:53:42,639 --> 02:53:47,119
miss predicts

3945
02:53:43,760 --> 02:53:49,600
right so so literally

3946
02:53:47,120 --> 02:53:50,960
all this did in and i don't know like

3947
02:53:49,600 --> 02:53:54,399
i'm not a performance guy

3948
02:53:50,959 --> 02:53:55,839
so like you know please someone out

3949
02:53:54,398 --> 02:53:58,559
there correct me if i'm wrong

3950
02:53:55,840 --> 02:53:59,439
but all this did was just blow out the

3951
02:53:58,559 --> 02:54:01,840
cash

3952
02:53:59,439 --> 02:54:04,239
this just blew out the eye cash for zero

3953
02:54:01,840 --> 02:54:05,760
performance gain

3954
02:54:04,239 --> 02:54:08,398
this will run it like the exact same

3955
02:54:05,760 --> 02:54:10,639
speed as the one with the jump in it

3956
02:54:08,398 --> 02:54:10,639
right

3957
02:54:15,840 --> 02:54:21,840
so so i

3958
02:54:23,040 --> 02:54:27,520
i don't know i mean you you can go test

3959
02:54:26,879 --> 02:54:30,559
it i mean

3960
02:54:27,520 --> 02:54:34,479
go ahead and run them both versions but

3961
02:54:30,559 --> 02:54:35,920
it should be this should run

3962
02:54:34,478 --> 02:54:38,559
it's not just that it should run the

3963
02:54:35,920 --> 02:54:40,879
same it's literally gonna do this

3964
02:54:38,559 --> 02:54:41,760
this is what the cpu would already have

3965
02:54:40,879 --> 02:54:44,478
done

3966
02:54:41,760 --> 02:54:45,120
in the other case because test jump

3967
02:54:44,478 --> 02:54:47,519
doesn't

3968
02:54:45,120 --> 02:54:49,520
exist like the front end just just

3969
02:54:47,520 --> 02:54:52,800
appends the instructions

3970
02:54:49,520 --> 02:54:54,800
right so so this is actually what the

3971
02:54:52,799 --> 02:54:57,199
cpu would actually just do

3972
02:54:54,799 --> 02:54:59,438
if you had just written the test jump

3973
02:54:57,200 --> 02:54:59,439
right

3974
02:55:00,478 --> 02:55:04,000
so so like unrolling it maybe so that

3975
02:55:03,520 --> 02:55:07,120
there's

3976
02:55:04,000 --> 02:55:10,000
two per loop might have been necessary

3977
02:55:07,120 --> 02:55:11,840
i don't remember but that should be it

3978
02:55:10,000 --> 02:55:12,719
like at most you should have enrolled it

3979
02:55:11,840 --> 02:55:18,559
one

3980
02:55:12,719 --> 02:55:18,559
one time but possibly just not at all

3981
02:55:20,879 --> 02:55:25,519
maybe i'm wrong let's see so let's look

3982
02:55:23,279 --> 02:55:28,399
at gcc looked sane

3983
02:55:25,520 --> 02:55:29,359
let's see what it produced and see if i

3984
02:55:28,398 --> 02:55:32,559
can see

3985
02:55:29,359 --> 02:55:35,120
why something wrong with it

3986
02:55:32,559 --> 02:55:37,680
that is why you should have unrolled you

3987
02:55:35,120 --> 02:55:37,680
know what i'm saying

3988
02:55:39,439 --> 02:55:42,079
um

3989
02:55:42,478 --> 02:55:59,119
so whoa okay so 10 24

3990
02:55:45,840 --> 02:56:02,159
so that's the jump

3991
02:55:59,120 --> 02:56:13,840
so i'll be honest i'm not sure i totally

3992
02:56:02,159 --> 02:56:13,840
follow that

3993
02:56:28,559 --> 02:56:32,398
that does look weird or to me

3994
02:56:35,920 --> 02:56:41,200
good old msvc no auto vectorization

3995
02:56:39,200 --> 02:56:42,560
i support that i'm totally fine with

3996
02:56:41,200 --> 02:56:44,800
that by the way

3997
02:56:42,559 --> 02:56:46,398
so gcc's code is still a little weird

3998
02:56:44,799 --> 02:56:49,199
it's not what i would have expected so

3999
02:56:46,398 --> 02:56:50,478
maybe maybe that's also not what i want

4000
02:56:49,200 --> 02:56:55,840
but

4001
02:56:50,478 --> 02:56:55,840
this looked pretty good

4002
02:57:08,239 --> 02:57:11,039
i mean yeah

4003
02:57:17,200 --> 02:57:19,600
i guess

4004
02:57:21,680 --> 02:57:25,600
this is not quite right because you

4005
02:57:24,079 --> 02:57:30,318
don't really need to do

4006
02:57:25,600 --> 02:57:30,318
that but like it's much closer

4007
02:57:34,799 --> 02:57:39,679
is there anybody here who generates the

4008
02:57:36,559 --> 02:57:39,680
loop that i'm thinking of

4009
02:57:46,239 --> 02:57:51,840
i mean that's pretty good

4010
02:58:02,840 --> 02:58:05,840
actually

4011
02:58:07,520 --> 02:58:15,439
so this is what i would have expected

4012
02:58:11,439 --> 02:58:15,439
it's still a little more than

4013
02:58:16,000 --> 02:58:21,359
i i don't think it's i think it's still

4014
02:58:18,639 --> 02:58:21,358
too large

4015
02:58:22,318 --> 02:58:28,398
but but that's much better

4016
02:58:25,600 --> 02:58:30,800
right and so what i'm trying to say is

4017
02:58:28,398 --> 02:58:33,920
like so look at this code

4018
02:58:30,799 --> 02:58:38,000
so this this

4019
02:58:33,920 --> 02:58:41,520
and this those are one

4020
02:58:38,000 --> 02:58:45,359
uh fused issue

4021
02:58:41,520 --> 02:58:48,479
this is one they are both

4022
02:58:45,359 --> 02:58:51,040
going to execute during this like

4023
02:58:48,478 --> 02:58:52,239
all of this stuff is on different ports

4024
02:58:51,040 --> 02:58:55,439
than these

4025
02:58:52,239 --> 02:58:59,359
right so these will just issue right

4026
02:58:55,439 --> 02:59:02,159
at overlapped with this so they're free

4027
02:58:59,359 --> 02:59:03,520
so once you get to that point why keep

4028
02:59:02,159 --> 02:59:04,559
on rolling and this is why i say it

4029
02:59:03,520 --> 02:59:06,640
seems still a little

4030
02:59:04,559 --> 02:59:08,398
too much because i feel like you could

4031
02:59:06,639 --> 02:59:10,639
have just stopped here

4032
02:59:08,398 --> 02:59:12,159
you i don't think you needed the second

4033
02:59:10,639 --> 02:59:15,039
one because this is

4034
02:59:12,159 --> 02:59:16,000
already once you've done this where you

4035
02:59:15,040 --> 02:59:18,560
loaded

4036
02:59:16,000 --> 02:59:19,680
all of these you can just do this and be

4037
02:59:18,559 --> 02:59:22,079
done

4038
02:59:19,680 --> 02:59:24,720
right so you add 16 here instead of 32

4039
02:59:22,079 --> 02:59:24,719
and off you go

4040
02:59:27,120 --> 02:59:30,640
try oh z in clang

4041
02:59:33,760 --> 02:59:38,159
no no no i i i want i want it to

4042
02:59:36,559 --> 02:59:41,199
vectorize that's the right code

4043
02:59:38,159 --> 02:59:43,200
it's just it's just it should only be

4044
02:59:41,200 --> 02:59:45,680
it's unrolled it like one more time than

4045
02:59:43,200 --> 02:59:48,800
it should have

4046
02:59:45,680 --> 02:59:51,680
but it's still fine this code is fine

4047
02:59:48,799 --> 02:59:52,318
like that code is fine this code is like

4048
02:59:51,680 --> 02:59:56,000
not

4049
02:59:52,318 --> 02:59:58,000
fine at all like that i'm pretty sure if

4050
02:59:56,000 --> 02:59:59,600
you went and asked a person who really

4051
02:59:58,000 --> 03:00:00,879
was good at optimization they would say

4052
02:59:59,600 --> 03:00:04,000
this was very bad

4053
03:00:00,879 --> 03:00:06,478
like you should not have done that

4054
03:00:04,000 --> 03:00:08,840
because this code runs the same speed or

4055
03:00:06,478 --> 03:00:11,679
should run the same speed

4056
03:00:08,840 --> 03:00:12,159
um this code should run exactly the same

4057
03:00:11,680 --> 03:00:13,600
speed

4058
03:00:12,159 --> 03:00:15,600
but it's much more efficient in the

4059
03:00:13,600 --> 03:00:25,200
cache so

4060
03:00:15,600 --> 03:00:28,079
over the long run it will be faster

4061
03:00:25,200 --> 03:00:28,079
so so i don't know

4062
03:00:29,200 --> 03:00:34,720
even so i think it went to one too many

4063
03:00:31,279 --> 03:00:34,720
i don't think this should be here

4064
03:00:36,000 --> 03:00:39,040
um i actually should say i don't think

4065
03:00:38,159 --> 03:00:53,840
this should be here

4066
03:00:39,040 --> 03:00:53,840
right um

4067
03:01:16,318 --> 03:01:21,760
all right um

4068
03:01:19,359 --> 03:01:23,920
i gotta go i'm gonna go make some some

4069
03:01:21,760 --> 03:01:26,639
tasty barbecue

4070
03:01:23,920 --> 03:01:27,920
uh so i'm gonna wrap it up for today uh

4071
03:01:26,639 --> 03:01:28,959
we're gonna look at the color detector

4072
03:01:27,920 --> 03:01:31,840
when we come back

4073
03:01:28,959 --> 03:01:32,879
next time uh and we gotta get we're

4074
03:01:31,840 --> 03:01:36,398
gonna

4075
03:01:32,879 --> 03:01:39,679
make that make that not be bad

4076
03:01:36,398 --> 03:01:40,639
uh so that's our that's our goal all

4077
03:01:39,680 --> 03:01:44,000
righty

4078
03:01:40,639 --> 03:01:45,278
let's see here i didn't even have

4079
03:01:44,000 --> 03:01:47,279
handmade hero up

4080
03:01:45,279 --> 03:01:48,319
my bad thank you everyone for joining me

4081
03:01:47,279 --> 03:01:49,439
for the episode of handmade hero it's

4082
03:01:48,318 --> 03:01:50,959
been a pleasure coding with you as

4083
03:01:49,439 --> 03:01:52,239
always if you want a following series at

4084
03:01:50,959 --> 03:01:53,519
home you can always print the game on

4085
03:01:52,239 --> 03:01:54,398
handmade hero.org and it comes with

4086
03:01:53,520 --> 03:01:55,680
source code

4087
03:01:54,398 --> 03:01:57,119
you could go write the collision

4088
03:01:55,680 --> 03:01:57,760
detector that i was just hypothesizing

4089
03:01:57,120 --> 03:02:00,160
and tell me

4090
03:01:57,760 --> 03:02:01,279
it was any good that way next week i can

4091
03:02:00,159 --> 03:02:02,879
just

4092
03:02:01,279 --> 03:02:05,439
find out from you folks whether it

4093
03:02:02,879 --> 03:02:07,039
worked uh that's it for today

4094
03:02:05,439 --> 03:02:08,800
i'll be back here next week to play

4095
03:02:07,040 --> 03:02:10,240
around with that and see what we

4096
03:02:08,799 --> 03:02:11,199
actually want to do until then have fun

4097
03:02:10,239 --> 03:02:14,799
programming everyone

4098
03:02:11,200 --> 03:02:14,800
and i'll see you on the internet take it

4099
03:02:14,840 --> 03:02:17,840
everybody

