1
00:00:01,310 --> 00:00:04,980
okay hello everyone and welcome to

2
00:00:03,689 --> 00:00:06,810
handmade Hero the show we code a

3
00:00:04,980 --> 00:00:09,480
complete game live on stream yesterday

4
00:00:06,809 --> 00:00:11,218
we stopped short of implementing any

5
00:00:09,480 --> 00:00:12,509
world generation stuff because we had

6
00:00:11,218 --> 00:00:16,500
just sort of finished saying what the

7
00:00:12,509 --> 00:00:18,990
API was we were going to start with we

8
00:00:16,500 --> 00:00:20,429
had written some usage code but not

9
00:00:18,989 --> 00:00:22,948
actually infom any of it so what we want

10
00:00:20,429 --> 00:00:25,518
to do today is to kind of start pushing

11
00:00:22,949 --> 00:00:28,740
forward on that and to make some actual

12
00:00:25,518 --> 00:00:30,538
implementations of this code and what

13
00:00:28,739 --> 00:00:32,030
we're gonna have to do and we probably

14
00:00:30,539 --> 00:00:34,439
won't be able to finish this all today

15
00:00:32,030 --> 00:00:37,410
is we're gonna have to start working on

16
00:00:34,439 --> 00:00:40,280
some code that can put rooms down into a

17
00:00:37,409 --> 00:00:42,988
spatial arrangement that obeys certain

18
00:00:40,280 --> 00:00:45,270
ideas about how those rooms should be

19
00:00:42,988 --> 00:00:48,328
connected and this is actually a

20
00:00:45,270 --> 00:00:51,320
relatively tricky problem solved largely

21
00:00:48,329 --> 00:00:56,189
because there isn't a lot of information

22
00:00:51,320 --> 00:00:58,230
in the system about where things should

23
00:00:56,189 --> 00:01:02,698
be one of the things that's generally

24
00:00:58,229 --> 00:01:04,349
true in any kind of generative system or

25
00:01:02,698 --> 00:01:07,109
just even when you're talking about

26
00:01:04,349 --> 00:01:09,030
asking a when you're talking about

27
00:01:07,109 --> 00:01:11,310
asking computer to do things like layout

28
00:01:09,030 --> 00:01:15,150
and you could think about these sorts of

29
00:01:11,310 --> 00:01:16,530
things separate from game design imagine

30
00:01:15,150 --> 00:01:19,530
something very simple like page layout

31
00:01:16,530 --> 00:01:21,118
for example so there's different kinds

32
00:01:19,530 --> 00:01:23,129
of ways you can layout say text on a

33
00:01:21,118 --> 00:01:25,560
page you know like books layout or

34
00:01:23,129 --> 00:01:27,599
magazine layout so one ways is a

35
00:01:25,560 --> 00:01:29,368
prescriptive way of laying out and

36
00:01:27,599 --> 00:01:30,959
that's like something like HTML right

37
00:01:29,368 --> 00:01:32,728
which is you know I would generally

38
00:01:30,959 --> 00:01:35,039
consider like the garbage version of

39
00:01:32,728 --> 00:01:37,560
page layout and what that is is that's

40
00:01:35,040 --> 00:01:40,710
something that has only the most

41
00:01:37,560 --> 00:01:43,228
rudimentary ability to adjust things it

42
00:01:40,709 --> 00:01:45,599
basically just says hey look we don't

43
00:01:43,228 --> 00:01:47,429
know how long these lines of text are so

44
00:01:45,599 --> 00:01:49,978
we're just gonna do stuff like you can

45
00:01:47,430 --> 00:01:52,770
tell me maybe like how wide to do and

46
00:01:49,978 --> 00:01:54,030
I'll like make something I'll make it as

47
00:01:52,769 --> 00:01:57,868
long as it needs to me to fit the text

48
00:01:54,030 --> 00:01:59,909
after I wrap it or something right and

49
00:01:57,868 --> 00:02:01,319
so you can kind of have garbage versions

50
00:01:59,909 --> 00:02:02,909
like that and we can make a garbage

51
00:02:01,319 --> 00:02:04,739
version like that for our game as well

52
00:02:02,909 --> 00:02:06,359
which would basically just hey you

53
00:02:04,739 --> 00:02:07,978
pretty much have to tell me everything

54
00:02:06,359 --> 00:02:09,628
and I'm just gonna plunk down rooms very

55
00:02:07,978 --> 00:02:12,810
mechanically and that's all I can do

56
00:02:09,628 --> 00:02:13,829
right but a step up from that and when

57
00:02:12,810 --> 00:02:16,620
you start to get into

58
00:02:13,830 --> 00:02:19,920
actual real programming at that point is

59
00:02:16,620 --> 00:02:22,110
when there's multiple ways you could be

60
00:02:19,919 --> 00:02:25,049
doing something and the computer is

61
00:02:22,110 --> 00:02:28,200
expected to evaluate different options

62
00:02:25,050 --> 00:02:28,830
based on some heuristics or something

63
00:02:28,199 --> 00:02:31,739
right

64
00:02:28,830 --> 00:02:33,800
so for example another way that page

65
00:02:31,740 --> 00:02:36,390
layout systems have worked in the past

66
00:02:33,800 --> 00:02:38,100
is for example you give a bunch of

67
00:02:36,389 --> 00:02:41,119
different hypothetical layouts that a

68
00:02:38,099 --> 00:02:44,129
page might have and then the system

69
00:02:41,120 --> 00:02:46,980
looks at the different ways that pages

70
00:02:44,129 --> 00:02:49,019
that the pages would fit on a various on

71
00:02:46,979 --> 00:02:52,049
a certain display and picks the one

72
00:02:49,020 --> 00:02:54,030
that's best by some criteria like most

73
00:02:52,050 --> 00:02:57,120
amount of the text fits on the page or

74
00:02:54,030 --> 00:02:59,490
the least number of run ons or the width

75
00:02:57,120 --> 00:03:00,990
of the text is the best for reading

76
00:02:59,490 --> 00:03:01,740
compared to what it should normally be

77
00:03:00,990 --> 00:03:06,330
in bah-bah-bah

78
00:03:01,740 --> 00:03:08,250
right and so basically like we want that

79
00:03:06,330 --> 00:03:09,719
kind of system we're not gonna go crazy

80
00:03:08,250 --> 00:03:10,860
with it because again it's handmade here

81
00:03:09,719 --> 00:03:13,259
I'm just trying to show you how to do

82
00:03:10,860 --> 00:03:15,180
things I'm not going to spend you know

83
00:03:13,259 --> 00:03:16,500
eight hundred episodes talking about all

84
00:03:15,180 --> 00:03:17,969
different ways to make constraint

85
00:03:16,500 --> 00:03:19,409
solvers and all sorts of other sorts

86
00:03:17,969 --> 00:03:24,629
because that's an entire thing that we

87
00:03:19,409 --> 00:03:26,280
could go down for years and years but we

88
00:03:24,629 --> 00:03:27,959
do want a little bit of that so what we

89
00:03:26,280 --> 00:03:29,909
want to be able to do is we want to be

90
00:03:27,959 --> 00:03:33,300
able to have the layout system make

91
00:03:29,909 --> 00:03:34,979
actual decisions about multiple ways in

92
00:03:33,300 --> 00:03:37,080
which it could lay something out and

93
00:03:34,979 --> 00:03:38,219
that becomes relatively complicated and

94
00:03:37,080 --> 00:03:40,830
the reason it's relative calm can begin

95
00:03:38,219 --> 00:03:43,859
is because it's a little bit loose right

96
00:03:40,830 --> 00:03:46,769
there's no right answer to the layout

97
00:03:43,860 --> 00:03:48,570
problem in the way that we normally like

98
00:03:46,769 --> 00:03:51,239
problems to have an answer right

99
00:03:48,569 --> 00:03:52,799
we like closed form solutions to things

100
00:03:51,239 --> 00:03:54,599
when we're programming because they're

101
00:03:52,800 --> 00:03:56,730
so much simpler we just write a few

102
00:03:54,599 --> 00:03:59,969
lines of code and it computes the answer

103
00:03:56,729 --> 00:04:02,159
and we're done by contrast things that

104
00:03:59,969 --> 00:04:03,750
involve minimizing error metrics or

105
00:04:02,159 --> 00:04:06,810
evaluating different things based on

106
00:04:03,750 --> 00:04:08,430
scoring criteria or having an infinite

107
00:04:06,810 --> 00:04:10,140
number of ways you might lay things out

108
00:04:08,430 --> 00:04:12,080
in trying to search for the one that

109
00:04:10,139 --> 00:04:15,839
scores the highest on something right

110
00:04:12,080 --> 00:04:19,379
these involve more complex more

111
00:04:15,840 --> 00:04:22,379
error-prone more difficult algorithms

112
00:04:19,379 --> 00:04:26,659
that are harder to manage and so there's

113
00:04:22,379 --> 00:04:27,620
no mystery as to why like

114
00:04:26,660 --> 00:04:30,590
you know something like a browser

115
00:04:27,620 --> 00:04:32,329
doesn't do it it's because you know it

116
00:04:30,589 --> 00:04:34,099
was this kind of thing that came from

117
00:04:32,329 --> 00:04:36,289
people who didn't really know text

118
00:04:34,100 --> 00:04:38,360
layout and that wasn't something they

119
00:04:36,290 --> 00:04:39,890
were experts in or anything like that so

120
00:04:38,360 --> 00:04:40,970
you know they they're not gonna tackle

121
00:04:39,889 --> 00:04:42,800
something like that right they're gonna

122
00:04:40,970 --> 00:04:44,780
do simpler and since then it's just been

123
00:04:42,800 --> 00:04:47,420
people like arguing about how much DRM

124
00:04:44,779 --> 00:04:48,889
there should be or whatever right but we

125
00:04:47,420 --> 00:04:50,569
don't have to do that we can actually

126
00:04:48,889 --> 00:04:51,979
try to be a little bit better so what we

127
00:04:50,569 --> 00:04:54,649
want to do is look at some algorithms

128
00:04:51,980 --> 00:04:59,689
that involve these sorts of sort of soft

129
00:04:54,649 --> 00:05:02,089
softer solves and see if we can't make

130
00:04:59,689 --> 00:05:05,029
something that's workable in our context

131
00:05:02,089 --> 00:05:08,419
and this is not unheard of it's there

132
00:05:05,029 --> 00:05:10,939
are some games out there that are

133
00:05:08,420 --> 00:05:13,699
procedurally generated that do stuff

134
00:05:10,939 --> 00:05:15,889
like that some games that are

135
00:05:13,699 --> 00:05:17,240
procedurally generated or maybe perhaps

136
00:05:15,889 --> 00:05:20,029
most games are pretty easily generated

137
00:05:17,240 --> 00:05:23,960
don't really do that but there

138
00:05:20,029 --> 00:05:25,549
definitely are some that do and so you

139
00:05:23,959 --> 00:05:28,159
know I've even seen people do stuff like

140
00:05:25,550 --> 00:05:30,379
use a physics spring system to lay out

141
00:05:28,160 --> 00:05:31,939
rooms you know they just pack all the

142
00:05:30,379 --> 00:05:33,350
rooms together and they add repulsive

143
00:05:31,939 --> 00:05:35,149
forces and they just let them poof out

144
00:05:33,350 --> 00:05:40,100
and then they connect them up after the

145
00:05:35,149 --> 00:05:42,229
fact you know and so even that although

146
00:05:40,100 --> 00:05:45,410
it is repurposing another kind of system

147
00:05:42,230 --> 00:05:48,500
to do the layout even that is a much

148
00:05:45,410 --> 00:05:51,919
more sophisticated layout system than

149
00:05:48,500 --> 00:05:53,959
something like HTML right it it has an

150
00:05:51,918 --> 00:05:56,060
organic way of iterating through a

151
00:05:53,959 --> 00:05:57,769
number of possible states and letting

152
00:05:56,060 --> 00:06:02,199
them balanced out into something that

153
00:05:57,769 --> 00:06:04,819
was not preconceived right and so

154
00:06:02,199 --> 00:06:06,918
there's definitely games out there that

155
00:06:04,819 --> 00:06:09,319
are doing this sort of thing they all do

156
00:06:06,918 --> 00:06:11,418
it a little bit differently and that's

157
00:06:09,319 --> 00:06:14,240
understandable because game design is a

158
00:06:11,418 --> 00:06:16,180
very twiki subject there's a lot of

159
00:06:14,240 --> 00:06:20,240
personal opinion in it there's a lot of

160
00:06:16,180 --> 00:06:22,519
unknowns it's not a science and so it's

161
00:06:20,240 --> 00:06:25,160
expected that things like what lays out

162
00:06:22,519 --> 00:06:26,930
the game would of course be something

163
00:06:25,160 --> 00:06:29,030
that has a lot of different approaches

164
00:06:26,930 --> 00:06:31,160
to it we don't really care which

165
00:06:29,029 --> 00:06:35,239
approach we get I just want us to get

166
00:06:31,160 --> 00:06:37,370
something a little past the rote sort of

167
00:06:35,240 --> 00:06:39,650
non constraint or evaluation based

168
00:06:37,370 --> 00:06:40,430
version so that you can kind of see a

169
00:06:39,649 --> 00:06:42,739
little bit

170
00:06:40,430 --> 00:06:47,420
about how you might implement something

171
00:06:42,740 --> 00:06:48,829
better than you know a browser right if

172
00:06:47,420 --> 00:06:50,569
there's one thing I hope people can do

173
00:06:48,829 --> 00:06:53,839
at the end of handmade here it's

174
00:06:50,569 --> 00:06:55,430
something better than HTML so anyway if

175
00:06:53,839 --> 00:06:58,129
I go ahead and take a look at where we

176
00:06:55,430 --> 00:07:00,230
are in the game right now well I guess

177
00:06:58,129 --> 00:07:01,339
that doesn't actually make any sense we

178
00:07:00,230 --> 00:07:02,930
are still at the point where we're not

179
00:07:01,339 --> 00:07:04,789
generate anything because we nerfed the

180
00:07:02,930 --> 00:07:09,100
code that actually generates the world

181
00:07:04,790 --> 00:07:12,260
so yeah there's that let me go ahead and

182
00:07:09,100 --> 00:07:13,730
and head on back there then and the

183
00:07:12,259 --> 00:07:16,819
other thing that I would like to do just

184
00:07:13,730 --> 00:07:20,030
real quick before we start implementing

185
00:07:16,819 --> 00:07:21,319
this code is I want to go fix the fact

186
00:07:20,029 --> 00:07:24,699
that our lighting system takes too long

187
00:07:21,319 --> 00:07:27,170
to start out if you remember correctly

188
00:07:24,699 --> 00:07:30,229
in our lighting pattern system here

189
00:07:27,170 --> 00:07:33,350
we've got a thing for generating the

190
00:07:30,230 --> 00:07:37,700
lighting pattern and we go through and

191
00:07:33,350 --> 00:07:42,379
do all sorts of nonsense that is all

192
00:07:37,699 --> 00:07:44,420
really could be done offline right so

193
00:07:42,379 --> 00:07:45,920
what we want to do is kind of take this

194
00:07:44,420 --> 00:07:50,420
out of the equation I suppose in fact it

195
00:07:45,920 --> 00:07:52,250
could just do it offline because if you

196
00:07:50,420 --> 00:07:54,220
look at what's going on here right when

197
00:07:52,250 --> 00:07:59,750
we do the lighting pattern generators

198
00:07:54,220 --> 00:08:02,390
here let me move this in here you know

199
00:07:59,750 --> 00:08:03,439
all this stuff is is not really it's not

200
00:08:02,389 --> 00:08:09,889
really relevant in fact you know what I

201
00:08:03,439 --> 00:08:12,949
look at - there's probably still some

202
00:08:09,889 --> 00:08:15,079
stuff in there that we're doing for

203
00:08:12,949 --> 00:08:16,670
testing as well that we don't really

204
00:08:15,079 --> 00:08:20,029
need to do anymore

205
00:08:16,670 --> 00:08:21,199
so let me go ahead and just see what

206
00:08:20,029 --> 00:08:23,179
stuff there

207
00:08:21,199 --> 00:08:25,729
like this test funk like all this stuff

208
00:08:23,180 --> 00:08:28,280
we don't really want to do anymore

209
00:08:25,730 --> 00:08:40,310
either so let me make sure that we're

210
00:08:28,279 --> 00:08:43,039
not doing any of that you can see it

211
00:08:40,309 --> 00:08:46,369
looks like we're probably not doing the

212
00:08:43,039 --> 00:08:50,349
testing anymore so that's okay right

213
00:08:46,370 --> 00:08:50,350
however we are still doing

214
00:08:57,419 --> 00:09:04,049
we are still doing in here the the test

215
00:09:00,299 --> 00:09:08,839
some stuff this this stuff here might be

216
00:09:04,049 --> 00:09:08,839
most of our of our badness to right

217
00:09:26,269 --> 00:09:32,069
there we go

218
00:09:28,470 --> 00:09:33,660
so really the I guess the longest part

219
00:09:32,070 --> 00:09:35,940
of it there was it was not really our

220
00:09:33,659 --> 00:09:37,649
generation code that was taking time it

221
00:09:35,940 --> 00:09:39,000
was just our test code because remember

222
00:09:37,649 --> 00:09:41,340
we were looking at some of the like

223
00:09:39,000 --> 00:09:42,360
behavior of this patterns over time so

224
00:09:41,340 --> 00:09:46,170
that was easier than I thought was gonna

225
00:09:42,360 --> 00:09:47,310
be so that's a nice that's good but that

226
00:09:46,169 --> 00:09:48,329
means we can get right to it because we

227
00:09:47,309 --> 00:09:50,789
don't have to really spend any time on

228
00:09:48,330 --> 00:09:52,740
there then alright so what we want to do

229
00:09:50,789 --> 00:09:55,889
now is we want to start looking at the

230
00:09:52,740 --> 00:09:59,340
world generation and we want to start

231
00:09:55,889 --> 00:10:01,019
implementing you know this this patent

232
00:09:59,340 --> 00:10:02,820
this sort of pattern of stuff that we

233
00:10:01,019 --> 00:10:06,090
said that we want to do and if we look

234
00:10:02,820 --> 00:10:10,890
down here at sort of the part that we've

235
00:10:06,090 --> 00:10:13,860
created the create world call here this

236
00:10:10,889 --> 00:10:16,049
code all of this code now that is

237
00:10:13,860 --> 00:10:19,470
happening below here that was sort of

238
00:10:16,049 --> 00:10:21,809
the old creation code that code is

239
00:10:19,470 --> 00:10:24,570
really now kind of wants to become just

240
00:10:21,809 --> 00:10:26,909
reference code we're gonna look at that

241
00:10:24,570 --> 00:10:28,470
as we sort of move forwards here but we

242
00:10:26,909 --> 00:10:33,209
really don't want this to be happening

243
00:10:28,470 --> 00:10:36,450
anymore right this stuff is not supposed

244
00:10:33,210 --> 00:10:38,879
to really be in the mix anymore because

245
00:10:36,450 --> 00:10:41,100
that's just for creating the old test

246
00:10:38,879 --> 00:10:42,360
world stuff that we used to do and we

247
00:10:41,100 --> 00:10:44,100
don't want that to happen anymore

248
00:10:42,360 --> 00:10:46,169
so we want to restore to our assertion

249
00:10:44,100 --> 00:10:47,460
state which is this one here where

250
00:10:46,169 --> 00:10:49,529
there's nothing in the world at all

251
00:10:47,460 --> 00:10:51,000
right nobody's creating anything and the

252
00:10:49,529 --> 00:10:52,529
game can't start up because there's

253
00:10:51,000 --> 00:10:56,309
nothing there there's nowhere to place

254
00:10:52,529 --> 00:10:59,629
the the hero at the outset and we want

255
00:10:56,309 --> 00:11:02,489
to get this create world call here

256
00:10:59,629 --> 00:11:06,929
working so we want this spec that we

257
00:11:02,490 --> 00:11:09,000
created yesterday to take over for our

258
00:11:06,929 --> 00:11:10,979
world creation and we want to go from

259
00:11:09,000 --> 00:11:13,559
there so

260
00:11:10,980 --> 00:11:16,379
let's go ahead and start with that I'm

261
00:11:13,559 --> 00:11:19,828
going to begin by just pointing out that

262
00:11:16,379 --> 00:11:26,578
our general spec is gonna kind of stay

263
00:11:19,828 --> 00:11:27,989
nerfed for a little while and so what I

264
00:11:26,578 --> 00:11:30,028
mean by that is we're not gonna put

265
00:11:27,990 --> 00:11:31,320
anything in it and the reason that we're

266
00:11:30,028 --> 00:11:33,629
not competing in it is because the room

267
00:11:31,320 --> 00:11:36,570
spec is sort of for the second wave of

268
00:11:33,629 --> 00:11:38,399
generation that we're gonna do it will

269
00:11:36,570 --> 00:11:40,860
come into play in this generation

270
00:11:38,399 --> 00:11:43,730
probably but mostly what it's for is

271
00:11:40,860 --> 00:11:46,110
filling in what's inside a room not

272
00:11:43,730 --> 00:11:47,670
placing and connecting the rooms so what

273
00:11:46,110 --> 00:11:49,740
we want to start out with is being able

274
00:11:47,669 --> 00:11:51,659
to place and connect rooms and while

275
00:11:49,740 --> 00:11:55,259
that may involve knowing something about

276
00:11:51,659 --> 00:11:56,669
what's in them as we go for the moment

277
00:11:55,259 --> 00:11:58,708
we just don't want to care about that we

278
00:11:56,669 --> 00:12:01,110
want to start simple and just get rooms

279
00:11:58,708 --> 00:12:03,649
being placed with connections so that we

280
00:12:01,110 --> 00:12:07,289
can have that rudimentary version

281
00:12:03,649 --> 00:12:09,328
working properly so if I go ahead here

282
00:12:07,289 --> 00:12:14,219
and say that this is just like you know

283
00:12:09,328 --> 00:12:15,870
sort of a to-do and nothing's gonna go

284
00:12:14,220 --> 00:12:19,649
in there then I'm talking mostly about

285
00:12:15,870 --> 00:12:21,209
these so we know for starters that room

286
00:12:19,649 --> 00:12:23,610
connections we do know what's going to

287
00:12:21,208 --> 00:12:25,619
be in them a room connection says that

288
00:12:23,610 --> 00:12:30,300
you know a room a in a room B are

289
00:12:25,620 --> 00:12:31,709
connected right so we can say like we

290
00:12:30,299 --> 00:12:33,740
know that this is going to be

291
00:12:31,708 --> 00:12:36,059
information stored in the connection and

292
00:12:33,740 --> 00:12:37,500
furthermore what we probably also know

293
00:12:36,059 --> 00:12:39,869
because connections are between two

294
00:12:37,500 --> 00:12:42,600
rooms we probably also want them to be

295
00:12:39,870 --> 00:12:47,129
listed right so we probably want to do

296
00:12:42,600 --> 00:12:49,649
something that allows us to spin off of

297
00:12:47,129 --> 00:12:51,809
either so we can say like alright I've

298
00:12:49,649 --> 00:12:54,028
got a room and I want to loop over the

299
00:12:51,809 --> 00:12:54,809
connections from that room to any other

300
00:12:54,028 --> 00:12:56,639
room

301
00:12:54,809 --> 00:12:58,559
and similarly I want to do the opposite

302
00:12:56,639 --> 00:13:01,110
now there's two different ways that you

303
00:12:58,559 --> 00:13:03,809
can do this there's a database oriented

304
00:13:01,110 --> 00:13:05,370
way you can do this and there's a winged

305
00:13:03,809 --> 00:13:09,948
edge data structure way that you can do

306
00:13:05,370 --> 00:13:13,440
this and really which one you use is

307
00:13:09,948 --> 00:13:15,469
these kind of depends on where you're

308
00:13:13,440 --> 00:13:17,670
looking to go with things

309
00:13:15,470 --> 00:13:20,189
handmade hero generally we've done the

310
00:13:17,669 --> 00:13:21,448
winged edge style of things so we're

311
00:13:20,188 --> 00:13:22,559
gonna probably do that this time but

312
00:13:21,448 --> 00:13:24,319
I'll just point out what the difference

313
00:13:22,559 --> 00:13:25,939
is so

314
00:13:24,320 --> 00:13:28,220
if you are looking at things from a

315
00:13:25,940 --> 00:13:30,440
database style perspective then what you

316
00:13:28,220 --> 00:13:31,940
typically talk about is something like

317
00:13:30,440 --> 00:13:33,740
connection is is what usually referred

318
00:13:31,940 --> 00:13:35,720
to as a linking table and what that is

319
00:13:33,740 --> 00:13:39,049
is it's a it's a piece of information

320
00:13:35,720 --> 00:13:41,050
that says that two other things in the

321
00:13:39,049 --> 00:13:43,579
database are related to each other right

322
00:13:41,049 --> 00:13:45,889
so I've got like this gen room here I

323
00:13:43,580 --> 00:13:47,810
know I've got multiple generals in a

324
00:13:45,889 --> 00:13:49,580
genuine table if it was a database right

325
00:13:47,809 --> 00:13:53,119
and then I've got a connection that says

326
00:13:49,580 --> 00:13:56,000
a and B are connected and then the way

327
00:13:53,120 --> 00:13:58,220
that you process information like give

328
00:13:56,000 --> 00:14:00,799
me all of the rooms connected to room B

329
00:13:58,220 --> 00:14:02,300
is buy a query that has some

330
00:14:00,799 --> 00:14:05,329
acceleration structure and it could be

331
00:14:02,299 --> 00:14:08,929
any kind of acceleration structure that

332
00:14:05,330 --> 00:14:11,600
then answers the question if room B up

333
00:14:08,929 --> 00:14:14,419
here you know if I should say room 12

334
00:14:11,600 --> 00:14:17,570
let's say if room 12 appears in either A

335
00:14:14,419 --> 00:14:23,360
or B of any connection then it wants to

336
00:14:17,570 --> 00:14:26,950
be talked about here right so that's one

337
00:14:23,360 --> 00:14:28,879
way of storing that information right

338
00:14:26,950 --> 00:14:31,310
another way of storing that information

339
00:14:28,879 --> 00:14:33,080
and and that way is typically if you

340
00:14:31,309 --> 00:14:35,029
have some existing system you just want

341
00:14:33,080 --> 00:14:37,639
to leverage and you're gonna rely on its

342
00:14:35,029 --> 00:14:41,329
indexing system to be good to answer

343
00:14:37,639 --> 00:14:43,250
those careers quickly right now and

344
00:14:41,330 --> 00:14:44,990
furthermore one thing you might do in

345
00:14:43,250 --> 00:14:47,000
those situations is you might create

346
00:14:44,990 --> 00:14:49,250
bi-directional connections so you may

347
00:14:47,000 --> 00:14:51,980
say that every time you add a connection

348
00:14:49,250 --> 00:14:54,440
not only do you say a B you also say B a

349
00:14:51,980 --> 00:14:56,090
so you create one in either direction so

350
00:14:54,440 --> 00:14:58,730
you can just search on the first column

351
00:14:56,090 --> 00:15:00,920
and get all the connections that head

352
00:14:58,730 --> 00:15:02,600
out of room 12 without having to do two

353
00:15:00,919 --> 00:15:03,949
queries one for where it appears in the

354
00:15:02,600 --> 00:15:07,759
a slot and one where it appears in the

355
00:15:03,950 --> 00:15:10,310
beat slot right okay so that's one way

356
00:15:07,759 --> 00:15:12,769
to do this another way to do that is to

357
00:15:10,309 --> 00:15:14,989
just have rooms themselves store their

358
00:15:12,769 --> 00:15:22,149
exits you know exits that come off of

359
00:15:14,990 --> 00:15:26,090
them right and so we can create a more

360
00:15:22,149 --> 00:15:28,340
verbose data structure by essentially

361
00:15:26,090 --> 00:15:29,899
welding the index into the data

362
00:15:28,340 --> 00:15:30,860
structures themselves and this is kind

363
00:15:29,899 --> 00:15:32,509
of the reason I want to bring this up

364
00:15:30,860 --> 00:15:34,490
this is a good point point enumerator to

365
00:15:32,509 --> 00:15:37,620
talk about it the difference being these

366
00:15:34,490 --> 00:15:39,269
two things so in

367
00:15:37,620 --> 00:15:41,940
database world in the way that you do

368
00:15:39,269 --> 00:15:43,500
those the indices the acceleration

369
00:15:41,940 --> 00:15:46,140
structures in the way that you walk the

370
00:15:43,500 --> 00:15:48,059
data is external to the data and that's

371
00:15:46,139 --> 00:15:49,289
very important that's the real

372
00:15:48,059 --> 00:15:51,269
distinction there when you talk about

373
00:15:49,289 --> 00:15:55,980
using a database that's the important

374
00:15:51,269 --> 00:15:58,610
distinction actually right and the data

375
00:15:55,980 --> 00:16:03,060
itself is just the data so it's a

376
00:15:58,610 --> 00:16:06,028
segregation if you will of the way the

377
00:16:03,059 --> 00:16:07,829
data is accessed from what the data

378
00:16:06,028 --> 00:16:09,689
actually is and there are good reasons

379
00:16:07,830 --> 00:16:11,490
to do this I am NOT the kind of person

380
00:16:09,690 --> 00:16:13,440
who bags on databases I think databases

381
00:16:11,490 --> 00:16:14,850
are interesting and there's a lot of

382
00:16:13,440 --> 00:16:16,880
interesting design that went into

383
00:16:14,850 --> 00:16:21,540
thinking about them originally

384
00:16:16,879 --> 00:16:23,278
you know Cobb was pretty smart and do I

385
00:16:21,539 --> 00:16:24,750
think they get overused and used in

386
00:16:23,278 --> 00:16:27,389
situations where a database really isn't

387
00:16:24,750 --> 00:16:28,710
appropriate sure but that's not the same

388
00:16:27,389 --> 00:16:30,569
thing as saying there aren't good ideas

389
00:16:28,710 --> 00:16:31,769
in there and ideas that should be

390
00:16:30,570 --> 00:16:34,620
understood you know everyone should

391
00:16:31,769 --> 00:16:41,549
probably read transaction processing by

392
00:16:34,620 --> 00:16:44,549
gray right but in this case why would we

393
00:16:41,549 --> 00:16:46,528
want all that extra stuff why do we want

394
00:16:44,549 --> 00:16:47,909
all of that externality why do we want

395
00:16:46,528 --> 00:16:49,528
all that segregation does it get us

396
00:16:47,909 --> 00:16:52,199
anything and the answer in this case is

397
00:16:49,528 --> 00:16:53,338
probably going to be no and that's why

398
00:16:52,200 --> 00:16:55,890
when we're creating like something like

399
00:16:53,339 --> 00:16:58,230
this in a custom built thing in C we

400
00:16:55,889 --> 00:17:01,169
usually want to go more for the throat

401
00:16:58,230 --> 00:17:03,720
right what we can do instead is say look

402
00:17:01,169 --> 00:17:05,519
let's we know how we're going to look at

403
00:17:03,720 --> 00:17:06,449
these connections we know that the way

404
00:17:05,519 --> 00:17:09,029
that we're going to look at connections

405
00:17:06,449 --> 00:17:11,818
generally speaking is one of three ways

406
00:17:09,029 --> 00:17:12,959
either we're gonna spin off of one of

407
00:17:11,818 --> 00:17:15,599
the rooms and say show me all the things

408
00:17:12,959 --> 00:17:18,179
that are connected to this room or we're

409
00:17:15,599 --> 00:17:19,769
gonna spin off of the opposite room

410
00:17:18,179 --> 00:17:23,220
right like tell me all the things that

411
00:17:19,769 --> 00:17:24,449
go to this room and in our case since

412
00:17:23,220 --> 00:17:25,799
they're not since it's it's

413
00:17:24,449 --> 00:17:27,269
bi-directional connections I think

414
00:17:25,799 --> 00:17:30,029
always those are the same query so it's

415
00:17:27,269 --> 00:17:32,308
really only one and then the second one

416
00:17:30,029 --> 00:17:34,619
is just what are all the connections so

417
00:17:32,308 --> 00:17:36,240
if we want to we can just make the

418
00:17:34,619 --> 00:17:38,549
connection structure have all that

419
00:17:36,240 --> 00:17:40,289
information in it and then all of our

420
00:17:38,549 --> 00:17:41,369
careers are direct they never have to go

421
00:17:40,289 --> 00:17:45,210
through a secondary index that can

422
00:17:41,369 --> 00:17:46,469
always be immediate and faster right so

423
00:17:45,210 --> 00:17:48,420
there's two different ways we can

424
00:17:46,470 --> 00:17:50,190
structure this I'm not sure which way is

425
00:17:48,420 --> 00:17:51,509
the way that we most would like to do it

426
00:17:50,190 --> 00:17:54,090
but I'll show you the

427
00:17:51,509 --> 00:17:57,779
example so one example is we have a

428
00:17:54,089 --> 00:18:04,829
Gendron connection and this is just a

429
00:17:57,779 --> 00:18:06,119
linked list where what it does is it

430
00:18:04,829 --> 00:18:07,289
allows the room to store a list of

431
00:18:06,119 --> 00:18:09,719
connections off of it and those

432
00:18:07,289 --> 00:18:14,430
connections are you know stored here

433
00:18:09,720 --> 00:18:16,470
right why would we introduce this why

434
00:18:14,430 --> 00:18:18,930
not just have the connection structure

435
00:18:16,470 --> 00:18:20,430
be something that's off the room and it

436
00:18:18,930 --> 00:18:21,840
just says what it connects to and then

437
00:18:20,430 --> 00:18:24,870
both rooms have ones that point back to

438
00:18:21,839 --> 00:18:27,029
each other well it depends if you want

439
00:18:24,869 --> 00:18:30,599
to iterate over all connections and

440
00:18:27,029 --> 00:18:32,369
store something on the connection that

441
00:18:30,599 --> 00:18:34,349
becomes a little harder to do because

442
00:18:32,369 --> 00:18:36,269
there's no unique place to do it right

443
00:18:34,349 --> 00:18:36,869
and so hopefully you understand what I'm

444
00:18:36,269 --> 00:18:38,639
saying there

445
00:18:36,869 --> 00:18:40,679
if you don't I'll spell it out for you a

446
00:18:38,640 --> 00:18:48,390
little bit more directly one thing we

447
00:18:40,680 --> 00:18:50,789
could do is say all right every room has

448
00:18:48,390 --> 00:19:02,070
a pointer to its first connection the

449
00:18:50,789 --> 00:19:04,440
connections are a linked list and just

450
00:19:02,069 --> 00:19:05,789
says what room it goes to right and what

451
00:19:04,440 --> 00:19:07,410
does this data structure look like well

452
00:19:05,789 --> 00:19:09,539
what it means is that we've got a big

453
00:19:07,410 --> 00:19:11,670
set of rooms each room stores a

454
00:19:09,539 --> 00:19:13,440
connection to each other room which is

455
00:19:11,670 --> 00:19:16,140
just a pointer that says I'm connected

456
00:19:13,440 --> 00:19:17,549
to this other room right now what that

457
00:19:16,140 --> 00:19:18,480
means is there will be two room

458
00:19:17,549 --> 00:19:21,509
connection structures

459
00:19:18,480 --> 00:19:24,569
for for every connection one that goes

460
00:19:21,509 --> 00:19:26,460
from room a and it's in room phase

461
00:19:24,569 --> 00:19:28,769
linked list and it points to room B and

462
00:19:26,460 --> 00:19:31,980
one that's in room B's linked list and

463
00:19:28,769 --> 00:19:34,440
points to room a the downside here is

464
00:19:31,980 --> 00:19:36,900
that iterating all over all the

465
00:19:34,440 --> 00:19:39,509
connections becomes impossible sort of

466
00:19:36,900 --> 00:19:40,769
because what you have to do is when you

467
00:19:39,509 --> 00:19:42,779
iterate over one connection

468
00:19:40,769 --> 00:19:45,329
you'd have to remember in sort of like a

469
00:19:42,779 --> 00:19:46,769
hash or something that you'd visited the

470
00:19:45,329 --> 00:19:48,000
connection one direction so that when

471
00:19:46,769 --> 00:19:51,869
you visit it the other direction you

472
00:19:48,000 --> 00:19:53,670
don't count it twice right if you're

473
00:19:51,869 --> 00:19:54,899
going to do something to it say it also

474
00:19:53,670 --> 00:19:56,460
doesn't tell you where to store the

475
00:19:54,900 --> 00:19:57,330
information about the connection because

476
00:19:56,460 --> 00:19:59,100
if you have information about the

477
00:19:57,329 --> 00:20:00,599
connection do you put in both places do

478
00:19:59,099 --> 00:20:01,889
you put it in only one of them do you

479
00:20:00,599 --> 00:20:02,939
have both of them point to something in

480
00:20:01,890 --> 00:20:03,509
which case you're back to what I was

481
00:20:02,940 --> 00:20:05,279
going to say next

482
00:20:03,509 --> 00:20:07,019
so another way of do

483
00:20:05,279 --> 00:20:11,430
and the way that I probably will do it

484
00:20:07,019 --> 00:20:15,299
is again having sort of like a doubling

485
00:20:11,430 --> 00:20:16,830
a insulation layer if you will where we

486
00:20:15,299 --> 00:20:26,970
have a room connection is actually

487
00:20:16,829 --> 00:20:28,500
something that looks more like this you

488
00:20:26,970 --> 00:20:31,039
know we've got some information about

489
00:20:28,500 --> 00:20:38,069
the connection that goes in in that spot

490
00:20:31,039 --> 00:20:49,409
and then we have the two rooms and we

491
00:20:38,069 --> 00:20:53,609
also have here a list of all of them

492
00:20:49,410 --> 00:20:57,029
right so essentially what I'm saying

493
00:20:53,609 --> 00:20:59,429
there is not only do we have information

494
00:20:57,029 --> 00:21:01,920
about the two rooms we have all the we

495
00:20:59,430 --> 00:21:04,019
have all of the connections total sort

496
00:21:01,920 --> 00:21:06,029
of linked up so that we can walk our

497
00:21:04,019 --> 00:21:08,039
connection list if we wanted to right so

498
00:21:06,029 --> 00:21:09,509
that's also something we could do again

499
00:21:08,039 --> 00:21:11,099
we don't know how much we need some of

500
00:21:09,509 --> 00:21:12,569
these things but I'm just going over all

501
00:21:11,099 --> 00:21:17,879
the ways that these sorts of things can

502
00:21:12,569 --> 00:21:20,599
sort of be structured right oops I put

503
00:21:17,880 --> 00:21:20,600
this in the wrong place

504
00:21:20,869 --> 00:21:32,609
sorry right and now each room connection

505
00:21:30,680 --> 00:21:34,740
just has a pointer to the actual

506
00:21:32,609 --> 00:21:37,859
connection it's representing right and

507
00:21:34,740 --> 00:21:39,420
then it's got those you know all that

508
00:21:37,859 --> 00:21:47,549
information in there for whatever you

509
00:21:39,420 --> 00:21:51,630
need and off you go so that's going to

510
00:21:47,549 --> 00:21:54,269
be the most complicated structurally

511
00:21:51,630 --> 00:21:56,460
because it is what creates the graph and

512
00:21:54,269 --> 00:21:59,009
there's a lot of ways we can do it and

513
00:21:56,460 --> 00:22:02,910
which way we want to do it I think we'll

514
00:21:59,009 --> 00:22:05,579
be more informed by you know sort of

515
00:22:02,910 --> 00:22:07,590
when we actually get to the part where

516
00:22:05,579 --> 00:22:09,509
we're iterating over these things I

517
00:22:07,589 --> 00:22:13,829
think we can create them at that point

518
00:22:09,509 --> 00:22:17,940
so what I'm going to do at the outset is

519
00:22:13,829 --> 00:22:18,649
I'm just going to make the the most sort

520
00:22:17,940 --> 00:22:20,509
of

521
00:22:18,650 --> 00:22:23,800
for both version here which is the one

522
00:22:20,509 --> 00:22:27,650
that we've got like that looks like this

523
00:22:23,799 --> 00:22:30,470
I'm just gonna do that for now and we'll

524
00:22:27,650 --> 00:22:31,970
do something more fancy when we start to

525
00:22:30,470 --> 00:22:34,220
see how we might want to be laid out

526
00:22:31,970 --> 00:22:35,720
because most of our routines will have

527
00:22:34,220 --> 00:22:37,579
to spin off these edges and we probably

528
00:22:35,720 --> 00:22:44,150
want to make sure that they make some

529
00:22:37,579 --> 00:22:46,549
sense that's all alright also I should

530
00:22:44,150 --> 00:22:48,830
mention while I'm in here if you end up

531
00:22:46,549 --> 00:22:50,779
having to optimize this code you may end

532
00:22:48,829 --> 00:22:52,129
up wanting to reduce the amount of

533
00:22:50,779 --> 00:22:53,420
pointer chasing so you may end up

534
00:22:52,130 --> 00:22:55,910
bundling things together

535
00:22:53,420 --> 00:22:58,250
for example if rooms on average have

536
00:22:55,910 --> 00:23:00,680
four connections you might just have an

537
00:22:58,250 --> 00:23:02,480
array of four pointers in the room

538
00:23:00,680 --> 00:23:04,670
directly that point to the rooms that

539
00:23:02,480 --> 00:23:06,319
they're connected to and have a

540
00:23:04,670 --> 00:23:08,600
connection structure that's ancillary to

541
00:23:06,319 --> 00:23:10,339
them and blah blah blah right so none of

542
00:23:08,599 --> 00:23:12,189
this is about optimization this is this

543
00:23:10,339 --> 00:23:14,899
about basic data representation

544
00:23:12,190 --> 00:23:17,360
optimization if we need to do it it all

545
00:23:14,900 --> 00:23:18,860
comes much later and at that point we

546
00:23:17,359 --> 00:23:21,079
would be thinking about other concerns

547
00:23:18,859 --> 00:23:23,269
because we will have assumed at that

548
00:23:21,079 --> 00:23:24,949
point that we've already have all of the

549
00:23:23,269 --> 00:23:26,240
code working exactly how we want and

550
00:23:24,950 --> 00:23:28,130
then we can just look at the usage

551
00:23:26,240 --> 00:23:30,650
patterns and determine what we want to

552
00:23:28,130 --> 00:23:33,020
modify for speed purposes that's a

553
00:23:30,650 --> 00:23:33,980
totally separate analysis and we

554
00:23:33,019 --> 00:23:37,609
definitely don't want to be thinking

555
00:23:33,980 --> 00:23:39,170
about it now all right so the other

556
00:23:37,609 --> 00:23:41,719
thing that we know here is that rooms

557
00:23:39,170 --> 00:23:43,820
are gonna have room specs because

558
00:23:41,720 --> 00:23:45,079
obviously once you need to generate one

559
00:23:43,819 --> 00:23:49,099
of these rooms you're gonna have to

560
00:23:45,079 --> 00:23:51,169
generate the specification for it

561
00:23:49,099 --> 00:23:52,399
somehow right look you're gonna I'm

562
00:23:51,170 --> 00:23:54,529
sorry you can have two access for using

563
00:23:52,400 --> 00:23:55,970
it for it somehow so once we know all

564
00:23:54,529 --> 00:23:58,190
this stuff we can come back here and

565
00:23:55,970 --> 00:23:59,690
start to fill some of this in right we

566
00:23:58,190 --> 00:24:01,970
know that when we create one of these

567
00:23:59,690 --> 00:24:05,049
rooms we are past suspects so we could

568
00:24:01,970 --> 00:24:08,420
fill it out similarly with a connection

569
00:24:05,049 --> 00:24:10,309
we could fill it out like so and what

570
00:24:08,420 --> 00:24:11,990
you can see here is when I fill out one

571
00:24:10,309 --> 00:24:18,440
of these connection structures I

572
00:24:11,990 --> 00:24:22,039
definitely want to you know attach these

573
00:24:18,440 --> 00:24:24,230
back up and so let's say we were doing

574
00:24:22,039 --> 00:24:26,000
this really basic kind of probably not

575
00:24:24,230 --> 00:24:29,710
the one we eventually want to do but you

576
00:24:26,000 --> 00:24:32,059
know let's say that we were doing this

577
00:24:29,710 --> 00:24:38,329
then what we want to do is

578
00:24:32,059 --> 00:24:45,619
have some function of this nature where

579
00:24:38,329 --> 00:24:47,359
we add that connection to each room and

580
00:24:45,619 --> 00:25:03,439
then the add connection call all that

581
00:24:47,359 --> 00:25:09,129
would do is this she's going to take the

582
00:25:03,440 --> 00:25:14,720
data that we're talking about here and

583
00:25:09,130 --> 00:25:20,180
I'm going to sort of make something that

584
00:25:14,720 --> 00:25:22,339
creates that secondary list so I'll

585
00:25:20,180 --> 00:25:24,560
create one of these room connections I

586
00:25:22,339 --> 00:25:26,269
know this next pointer is going to be

587
00:25:24,559 --> 00:25:27,619
whatever the rooms first connection

588
00:25:26,269 --> 00:25:31,670
pointer is right because I'm going to

589
00:25:27,619 --> 00:25:33,769
just daisy chain them on there I know

590
00:25:31,670 --> 00:25:38,420
that I will become the new room first

591
00:25:33,769 --> 00:25:44,240
connection right and I also know that

592
00:25:38,420 --> 00:25:47,870
the room con here it's connection is the

593
00:25:44,240 --> 00:25:49,190
one that's being passed in right so I

594
00:25:47,869 --> 00:25:50,629
set the next pointer to whatever the

595
00:25:49,190 --> 00:25:54,580
first one was the first one now becomes

596
00:25:50,630 --> 00:25:54,580
me and then the member duck

597
00:25:56,240 --> 00:26:02,140
so this builds up I believe our entire

598
00:25:59,269 --> 00:26:04,400
sort of structure that we have specified

599
00:26:02,140 --> 00:26:06,350
these things are going to refer to each

600
00:26:04,400 --> 00:26:12,769
other so I'm going to go ahead and start

601
00:26:06,349 --> 00:26:16,009
a little oops a little forward

602
00:26:12,769 --> 00:26:17,690
declaration party up here so that all

603
00:26:16,009 --> 00:26:19,640
these people can have pointers to each

604
00:26:17,690 --> 00:26:24,049
other because it's that kind of a thing

605
00:26:19,640 --> 00:26:28,340
right so now all of those are created

606
00:26:24,049 --> 00:26:29,720
and we've got sort of one more obvious

607
00:26:28,339 --> 00:26:31,699
thing like I said before we even start

608
00:26:29,720 --> 00:26:33,110
writing code let me kind of know which

609
00:26:31,700 --> 00:26:35,930
is that we want to be able to lay out

610
00:26:33,109 --> 00:26:37,609
these rooms and of course we've created

611
00:26:35,930 --> 00:26:39,560
all the rooms but then the world

612
00:26:37,609 --> 00:26:42,829
generator doesn't know what the rooms

613
00:26:39,559 --> 00:26:45,190
are right so we kind of want to have a

614
00:26:42,829 --> 00:26:45,189
thing

615
00:26:45,900 --> 00:26:52,840
like this where we can just have all of

616
00:26:49,329 --> 00:26:58,000
our rooms listed and so like I was

617
00:26:52,839 --> 00:27:00,429
saying kind of before we probably want

618
00:26:58,000 --> 00:27:02,558
this here as well so I'll just go ahead

619
00:27:00,430 --> 00:27:04,930
and add it so you loop over all our

620
00:27:02,558 --> 00:27:06,789
connections in all of our rooms when we

621
00:27:04,930 --> 00:27:08,049
want to do things like start the layout

622
00:27:06,789 --> 00:27:20,019
and we need to figure out where things

623
00:27:08,049 --> 00:27:22,149
go or whatever else right so there's a

624
00:27:20,019 --> 00:27:24,009
couple weirdnesses here and we'll get to

625
00:27:22,150 --> 00:27:25,690
them in a second but all I want to do

626
00:27:24,009 --> 00:27:29,140
now is just kind of make sure that that

627
00:27:25,690 --> 00:27:31,150
stuff makes sense so when we come

628
00:27:29,140 --> 00:27:33,100
through here and we make a new room I

629
00:27:31,150 --> 00:27:35,200
want to say that the generator first

630
00:27:33,099 --> 00:27:37,808
room equals this room and of course the

631
00:27:35,200 --> 00:27:40,509
room global next equals the first room

632
00:27:37,808 --> 00:27:42,609
right and that's just daisy chaining

633
00:27:40,509 --> 00:27:45,160
these on the same is true for the

634
00:27:42,609 --> 00:27:51,699
connect call I might call this a dream

635
00:27:45,160 --> 00:27:53,308
connection and furthermore something

636
00:27:51,700 --> 00:27:58,750
else we can do here that's kind of nice

637
00:27:53,308 --> 00:28:01,589
is we know that our room connections we

638
00:27:58,750 --> 00:28:03,940
know that we may want that to sort of be

639
00:28:01,589 --> 00:28:05,740
something we could access we could put

640
00:28:03,940 --> 00:28:07,120
those in here too and we'll see whether

641
00:28:05,740 --> 00:28:11,200
we want to that like I said later

642
00:28:07,119 --> 00:28:14,289
depending on how we want this pointer

643
00:28:11,200 --> 00:28:16,450
festival to shake out right but anyway

644
00:28:14,289 --> 00:28:23,230
when we do call connect what we want to

645
00:28:16,450 --> 00:28:25,960
do again is just say oops yeah Global

646
00:28:23,230 --> 00:28:29,470
Mexico's first room Jennifer's room yep

647
00:28:25,960 --> 00:28:35,429
and so Jen first connection equals

648
00:28:29,470 --> 00:28:35,429
connection and connections global next

649
00:28:35,460 --> 00:28:44,799
equals first connection so those are all

650
00:28:41,789 --> 00:28:48,730
happily linked together and now we're

651
00:28:44,799 --> 00:28:51,399
good to go all right so what we need to

652
00:28:48,730 --> 00:28:54,009
do now that we pretty much have all that

653
00:28:51,400 --> 00:28:55,390
stuff straightened away is we need to

654
00:28:54,009 --> 00:28:57,549
start talking about what's gonna happen

655
00:28:55,390 --> 00:28:59,890
in these pieces of code

656
00:28:57,549 --> 00:29:02,579
now generate world is actually the one

657
00:28:59,890 --> 00:29:04,840
I'm going to write first which takes a

658
00:29:02,579 --> 00:29:08,589
world generator that's already how its

659
00:29:04,839 --> 00:29:10,629
layout done and goes from there and the

660
00:29:08,589 --> 00:29:12,339
reason for that is the layout code is

661
00:29:10,630 --> 00:29:14,470
the code that's actually difficult here

662
00:29:12,339 --> 00:29:16,240
I want to know what it needs to output

663
00:29:14,470 --> 00:29:18,430
and it should be pretty clear what it

664
00:29:16,240 --> 00:29:22,589
needs to output but at the same time we

665
00:29:18,430 --> 00:29:22,590
kind of need we just need to know right

666
00:29:22,980 --> 00:29:29,200
enough information about that to sort of

667
00:29:26,410 --> 00:29:31,180
get us started so what I want to do here

668
00:29:29,200 --> 00:29:34,029
is say all right we're gonna do a

669
00:29:31,180 --> 00:29:36,610
generate world and to do the generate

670
00:29:34,029 --> 00:29:38,680
world call all I'm gonna do is I'm gonna

671
00:29:36,609 --> 00:29:41,169
say I just want to loop over all of the

672
00:29:38,680 --> 00:29:42,940
rooms in the world and make them because

673
00:29:41,170 --> 00:29:45,250
the only thing in the world is rooms

674
00:29:42,940 --> 00:29:46,870
rooms are connected to each other and

675
00:29:45,250 --> 00:29:49,750
even if you have an outdoor area it's

676
00:29:46,869 --> 00:29:51,609
called a room and is room like in that

677
00:29:49,750 --> 00:29:54,130
it is surrounded on all sides by either

678
00:29:51,609 --> 00:29:55,959
connections to other rooms or trees or

679
00:29:54,130 --> 00:29:58,150
mountains that you can't pass so

680
00:29:55,960 --> 00:30:00,910
everything is functionally a room even

681
00:29:58,150 --> 00:30:04,390
if it's not a room in sort of literal

682
00:30:00,910 --> 00:30:05,740
sense it's a room semantically so in

683
00:30:04,390 --> 00:30:08,200
order to do this I'm just gonna say

684
00:30:05,740 --> 00:30:16,359
alright let's loop over every room there

685
00:30:08,200 --> 00:30:18,549
is and for every room I just want to

686
00:30:16,359 --> 00:30:21,159
make the room right I just want to go

687
00:30:18,549 --> 00:30:26,019
ahead and make the room so this is the

688
00:30:21,160 --> 00:30:33,960
basic generate room call and that's just

689
00:30:26,019 --> 00:30:33,960
gonna say alright if I'm given a room

690
00:30:37,220 --> 00:30:45,319
I expect to have some way that I can

691
00:30:41,269 --> 00:30:49,298
actually place that room down now in

692
00:30:45,319 --> 00:30:52,038
this old style here that we've got a

693
00:30:49,298 --> 00:30:55,538
probably like I said I really want this

694
00:30:52,038 --> 00:30:58,278
to mostly become reference code I don't

695
00:30:55,538 --> 00:31:01,308
really want any of this stuff to still

696
00:30:58,278 --> 00:31:10,069
be happening probably so I'm kind of

697
00:31:01,308 --> 00:31:14,178
going to stuff it down here and we'll

698
00:31:10,069 --> 00:31:16,729
kind of do a little bit more work with

699
00:31:14,179 --> 00:31:18,649
that later on as we go

700
00:31:16,729 --> 00:31:27,470
I'm going to open up two views of this

701
00:31:18,648 --> 00:31:31,069
file as we go so here we are in generate

702
00:31:27,470 --> 00:31:33,139
room and I would suspect probably too

703
00:31:31,069 --> 00:31:34,608
this might move out to its own thing so

704
00:31:33,138 --> 00:31:37,819
there might be like world Jen in room

705
00:31:34,608 --> 00:31:39,678
Jen because again world Jen is about

706
00:31:37,819 --> 00:31:41,329
figuring out where everything goes in

707
00:31:39,679 --> 00:31:42,859
the world and room Jen is about filling

708
00:31:41,329 --> 00:31:46,970
in individual rooms and those can

709
00:31:42,858 --> 00:31:50,989
probably be separated right um you know

710
00:31:46,970 --> 00:31:55,579
probably hard to say maybe not I don't

711
00:31:50,989 --> 00:31:57,889
know but but probably and it depends on

712
00:31:55,579 --> 00:32:01,089
how we how much linkage there is between

713
00:31:57,888 --> 00:32:03,888
two rooms and you know whatever anyway

714
00:32:01,089 --> 00:32:05,478
so what I want to do when I generate a

715
00:32:03,888 --> 00:32:08,028
room to start with I'm just gonna do the

716
00:32:05,479 --> 00:32:10,729
basic thing I want to spam down some

717
00:32:08,028 --> 00:32:15,319
places to stand for however big the room

718
00:32:10,729 --> 00:32:20,090
is right and so what I want to do is I

719
00:32:15,319 --> 00:32:21,979
want to take some notion of the corners

720
00:32:20,089 --> 00:32:24,499
of the room kind of like we're doing

721
00:32:21,979 --> 00:32:27,950
here where we've got sort of these ABS

722
00:32:24,499 --> 00:32:30,710
tile values I want to just sort of slap

723
00:32:27,950 --> 00:32:34,970
some stuff down there as a rectangle

724
00:32:30,710 --> 00:32:36,649
right so what I want to do is something

725
00:32:34,970 --> 00:32:38,358
fairly similar to this and I think I

726
00:32:36,648 --> 00:32:40,969
might rewrite it to be more of a min/max

727
00:32:38,358 --> 00:32:44,449
sort of a thing but what I want to do

728
00:32:40,970 --> 00:32:47,598
fundamentally speaking is basically is

729
00:32:44,450 --> 00:32:51,999
basically the same right so I want to do

730
00:32:47,598 --> 00:32:51,999
something like have a tile why here

731
00:33:03,339 --> 00:33:10,298
and max how why is really the wrong word

732
00:33:06,990 --> 00:33:12,038
so you know I don't know whether we want

733
00:33:10,298 --> 00:33:14,740
this to be a less than or equal to or an

734
00:33:12,038 --> 00:33:16,210
equal to it's hard to say it's a

735
00:33:14,740 --> 00:33:17,679
convention thing and it depends which

736
00:33:16,210 --> 00:33:19,960
one is the more convenient for you to

737
00:33:17,679 --> 00:33:22,210
work with most of the time whether you

738
00:33:19,960 --> 00:33:24,308
want to be inclusive of the X of the

739
00:33:22,210 --> 00:33:28,480
outer bounds or exclusive of it usually

740
00:33:24,308 --> 00:33:44,500
the lower bound zero is inclusive of but

741
00:33:28,480 --> 00:33:45,730
you know and so if we do a basic room

742
00:33:44,500 --> 00:33:49,138
generator here it's going to look

743
00:33:45,730 --> 00:33:49,139
something like this

744
00:34:07,759 --> 00:34:11,369
so we know we need those inputs so

745
00:34:10,108 --> 00:34:12,929
that's already kind of telling us what

746
00:34:11,369 --> 00:34:14,849
the room has to determine for itself

747
00:34:12,929 --> 00:34:19,260
when it gets placed which we kind of

748
00:34:14,849 --> 00:34:21,298
already knew and when we actually start

749
00:34:19,260 --> 00:34:22,649
to go down and put down the floor and I

750
00:34:21,298 --> 00:34:25,858
guess you know maybe this is a better

751
00:34:22,648 --> 00:34:28,318
name for that as the floor tiles II then

752
00:34:25,858 --> 00:34:31,500
when I'm creating the actual floor then

753
00:34:28,318 --> 00:34:34,829
what I can do is just kind of make this

754
00:34:31,500 --> 00:34:41,909
stuff be reasonable so you know if we

755
00:34:34,829 --> 00:34:47,450
take a look here we can say yeah all

756
00:34:41,909 --> 00:34:47,450
this looks relatively straightforward

757
00:34:55,690 --> 00:34:59,380
we don't care about all of this sort of

758
00:34:57,460 --> 00:35:01,090
stuff that we had made for creating

759
00:34:59,380 --> 00:35:02,200
holes and so on because at the moment

760
00:35:01,090 --> 00:35:03,850
we're not really going to do much of

761
00:35:02,199 --> 00:35:06,210
that we'll sort of look at that a little

762
00:35:03,849 --> 00:35:06,210
bit later

763
00:35:08,730 --> 00:35:18,570
it's kind of weird code yeah

764
00:35:32,739 --> 00:35:42,559
so you can see here we don't really want

765
00:35:35,420 --> 00:35:45,409
any X&amp;Y offsets at the moment this would

766
00:35:42,559 --> 00:35:53,509
probably leave those as they are this is

767
00:35:45,409 --> 00:35:57,639
our sort of height variance and this is

768
00:35:53,510 --> 00:35:57,640
our entity that's actually based on that

769
00:36:11,130 --> 00:36:17,789
and that all looks fine that just

770
00:36:15,358 --> 00:36:27,298
creates an entity and puts allows you to

771
00:36:17,789 --> 00:36:30,420
stand on it which is fine right sue once

772
00:36:27,298 --> 00:36:31,768
we have this you know we are still going

773
00:36:30,420 --> 00:36:33,210
to want to do a lot of the stuff we were

774
00:36:31,768 --> 00:36:34,588
doing in here and we'll add that back

775
00:36:33,210 --> 00:36:37,949
and slowly in fact one of the things

776
00:36:34,588 --> 00:36:41,788
that we may want to do is change the way

777
00:36:37,949 --> 00:36:58,828
in which this is you know we may want to

778
00:36:41,789 --> 00:37:04,819
do something more like this something

779
00:36:58,829 --> 00:37:04,818
more like this right and these would be

780
00:37:17,259 --> 00:37:22,309
like that and the reason we might want

781
00:37:20,659 --> 00:37:25,670
to do that is because again we probably

782
00:37:22,309 --> 00:37:30,019
will want to use an array here to store

783
00:37:25,670 --> 00:37:31,938
the information about how we place

784
00:37:30,018 --> 00:37:32,899
entities in the room because we may do

785
00:37:31,938 --> 00:37:34,998
work with them

786
00:37:32,900 --> 00:37:38,630
a little later on like who knows how

787
00:37:34,998 --> 00:37:40,129
that's going to work itself out right so

788
00:37:38,630 --> 00:37:42,709
what we may want to do is is something

789
00:37:40,130 --> 00:37:44,630
more like that and then we would have

790
00:37:42,708 --> 00:37:46,759
something that looks more like this and

791
00:37:44,630 --> 00:37:48,528
again it doesn't matter how we set this

792
00:37:46,759 --> 00:37:50,239
up as long as the room gives us

793
00:37:48,528 --> 00:37:54,679
something we can compute these by we're

794
00:37:50,239 --> 00:37:56,869
fine and off we would go so there's sort

795
00:37:54,679 --> 00:38:00,318
of the the basic way we would create a

796
00:37:56,869 --> 00:38:02,239
room there and now we have to sort of

797
00:38:00,318 --> 00:38:07,608
think about how we might want that room

798
00:38:02,239 --> 00:38:09,108
to connect to other rooms so for the

799
00:38:07,608 --> 00:38:12,318
start what I'm going to do is I'm going

800
00:38:09,108 --> 00:38:14,900
to say anytime we're at the boundary I

801
00:38:12,318 --> 00:38:21,369
am for now just going to fill in that

802
00:38:14,900 --> 00:38:21,369
thing right so I'm going to say that if

803
00:38:26,469 --> 00:38:36,739
the X index equals zero the X index

804
00:38:31,059 --> 00:38:48,829
equals x count minus one right something

805
00:38:36,739 --> 00:38:50,900
like this so I want to be able to say if

806
00:38:48,829 --> 00:38:53,719
we're on the boundary then I'm probably

807
00:38:50,900 --> 00:38:56,679
gonna like not have a traversable there

808
00:38:53,719 --> 00:38:56,679
right

809
00:39:25,809 --> 00:39:34,730
so I guess one thing I'm a little hazy

810
00:39:29,929 --> 00:39:40,789
on is what the point of the traversable

811
00:39:34,730 --> 00:39:42,619
reference is here I mean that's I guess

812
00:39:40,789 --> 00:39:48,199
now think about that's really just for

813
00:39:42,619 --> 00:39:50,779
later right so really we don't care

814
00:39:48,199 --> 00:39:53,149
about that just yet that's only if we're

815
00:39:50,780 --> 00:39:56,360
gonna use it later on otherwise we don't

816
00:39:53,150 --> 00:40:01,550
care right that's just not relevant at

817
00:39:56,360 --> 00:40:04,190
all actually yeah just just not relevant

818
00:40:01,550 --> 00:40:06,370
so what we want to do here is say all

819
00:40:04,190 --> 00:40:09,650
right look if it's on the boundary or

820
00:40:06,369 --> 00:40:13,699
not then we're gonna have something to

821
00:40:09,650 --> 00:40:17,090
say about and also this there's no

822
00:40:13,699 --> 00:40:23,750
reason this can't just be up here for

823
00:40:17,090 --> 00:40:26,320
the moment or maybe I should say here so

824
00:40:23,750 --> 00:40:30,440
what I want to do here is just say okay

825
00:40:26,320 --> 00:40:33,590
let's go ahead and say that if we're on

826
00:40:30,440 --> 00:40:44,240
the boundary then the wall height and

827
00:40:33,590 --> 00:40:44,840
the color maybe change and you don't get

828
00:40:44,239 --> 00:40:46,909
it reversible

829
00:40:44,840 --> 00:40:49,700
so we're walling off the entire thing

830
00:40:46,909 --> 00:40:51,949
and that way when we then go and add

831
00:40:49,699 --> 00:40:53,719
connections into the system we can make

832
00:40:51,949 --> 00:40:56,809
sure that we can see okay then then

833
00:40:53,719 --> 00:41:00,589
there's a passageway there that's

834
00:40:56,809 --> 00:41:02,869
supposed to be there that's all so if

835
00:41:00,590 --> 00:41:05,019
we're on the boundary then the wall

836
00:41:02,869 --> 00:41:08,989
height I don't know is going to be like

837
00:41:05,019 --> 00:41:12,769
1.5 or something or two who knows and

838
00:41:08,989 --> 00:41:19,269
the color will be something else just a

839
00:41:12,769 --> 00:41:19,269
red for now right

840
00:41:21,130 --> 00:41:26,048
so that'll be fine and and I don't know

841
00:41:23,889 --> 00:41:34,088
maybe it should be a lighter a lighter

842
00:41:26,048 --> 00:41:38,798
red there okay and so now we are mostly

843
00:41:34,088 --> 00:41:40,929
okay except one of the things you can

844
00:41:38,798 --> 00:41:45,159
see here about the way we're creating

845
00:41:40,929 --> 00:41:47,588
entities you have to recall we did the

846
00:41:45,159 --> 00:41:52,690
entity creation from before in kind of a

847
00:41:47,588 --> 00:41:58,239
really haphazard way right when we were

848
00:41:52,690 --> 00:42:00,639
doing begin grounded entity you can see

849
00:41:58,239 --> 00:42:03,130
how we were doing it here it was using

850
00:42:00,639 --> 00:42:06,759
the world mode creation region nonsense

851
00:42:03,130 --> 00:42:08,619
and it's just kind of dumb right and the

852
00:42:06,759 --> 00:42:10,420
reason that it's dumb is because we

853
00:42:08,619 --> 00:42:11,979
didn't have any world generation code

854
00:42:10,420 --> 00:42:15,400
yet so we were just kind of sticking

855
00:42:11,978 --> 00:42:17,889
this in there I in whatever way would

856
00:42:15,400 --> 00:42:21,219
work at all right I mean there was no

857
00:42:17,889 --> 00:42:25,389
rhyme or reason to it whatsoever and we

858
00:42:21,219 --> 00:42:28,179
didn't have any way of knowing or even

859
00:42:25,389 --> 00:42:33,429
guessing where this kind of code should

860
00:42:28,179 --> 00:42:36,038
live but now we do right so now we know

861
00:42:33,429 --> 00:42:39,308
a couple things first of all we know

862
00:42:36,039 --> 00:42:43,449
that the room is probably the room by

863
00:42:39,309 --> 00:42:47,469
Tommy Rizzo is probably where we want to

864
00:42:43,449 --> 00:42:50,739
have the world change stuff happen right

865
00:42:47,469 --> 00:42:52,778
because generally speaking this is where

866
00:42:50,739 --> 00:42:54,249
we know the region we're about to update

867
00:42:52,778 --> 00:42:56,108
so we're going to create a bunch of

868
00:42:54,248 --> 00:42:59,759
enemies and pack them in this one area

869
00:42:56,108 --> 00:43:02,139
that's exactly what we want to do right

870
00:42:59,759 --> 00:43:04,509
so we know that begin world change

871
00:43:02,139 --> 00:43:06,879
probably wants to happen here right and

872
00:43:04,509 --> 00:43:09,338
that world change is going to return

873
00:43:06,880 --> 00:43:11,499
this creation region and then at the end

874
00:43:09,338 --> 00:43:13,389
when we're done with it we're going to

875
00:43:11,498 --> 00:43:16,328
say alright let's end the world change

876
00:43:13,389 --> 00:43:19,528
at that time and that's good right

877
00:43:16,329 --> 00:43:19,528
that's exactly what we want

878
00:43:24,579 --> 00:43:29,960
now you can see here the way this is

879
00:43:27,949 --> 00:43:32,509
working too is when we do begin world

880
00:43:29,960 --> 00:43:35,090
change it gathers up an arena I want to

881
00:43:32,510 --> 00:43:37,340
see also what's happening there that

882
00:43:35,090 --> 00:43:38,570
will be interesting to take a look at we

883
00:43:37,340 --> 00:43:41,900
should talk about that a little bit more

884
00:43:38,570 --> 00:43:47,360
in a second too but again this world

885
00:43:41,900 --> 00:43:49,220
change stuff now kind of wants to be the

886
00:43:47,360 --> 00:43:52,700
world change stuff is something that

887
00:43:49,219 --> 00:43:54,949
kind of wants to be made systemic to the

888
00:43:52,699 --> 00:43:55,969
generation system because that's where

889
00:43:54,949 --> 00:43:59,119
this should have been happening all

890
00:43:55,969 --> 00:44:02,589
along we just didn't have one right so

891
00:43:59,119 --> 00:44:02,589
we were kind of making do with it

892
00:44:02,809 --> 00:44:07,489
so what I might do here there's a couple

893
00:44:04,969 --> 00:44:09,769
different ways I might approach this but

894
00:44:07,489 --> 00:44:12,259
generally speaking you can see that this

895
00:44:09,769 --> 00:44:15,320
is why I want these to be rewritten so

896
00:44:12,260 --> 00:44:17,930
that is all of this stuff now instead of

897
00:44:15,320 --> 00:44:20,330
taking a world mode which I is not what

898
00:44:17,929 --> 00:44:24,169
I want it to do really wants to take a

899
00:44:20,329 --> 00:44:28,190
generator now these here and this is

900
00:44:24,170 --> 00:44:32,119
kind of a little bit weird the brain and

901
00:44:28,190 --> 00:44:34,190
the the brain IDs and the and the entity

902
00:44:32,119 --> 00:44:36,289
ideas I feel like those should really be

903
00:44:34,190 --> 00:44:37,970
on the world I'm not sure why they're on

904
00:44:36,289 --> 00:44:39,860
the world mode so I also want to take a

905
00:44:37,969 --> 00:44:42,259
look and see if those can be moved into

906
00:44:39,860 --> 00:44:45,519
the world itself because that seems like

907
00:44:42,260 --> 00:44:47,870
a more logical place to put those there

908
00:44:45,519 --> 00:45:02,179
maybe is a reason not to do that I'm not

909
00:44:47,869 --> 00:45:04,309
sure but we'll see yeah so just like

910
00:45:02,179 --> 00:45:05,929
looking at this code right and all this

911
00:45:04,309 --> 00:45:08,719
stuff here this stuff can all stay the

912
00:45:05,929 --> 00:45:12,919
same and and this stuff can sort of

913
00:45:08,719 --> 00:45:18,730
start to be systemic you know more

914
00:45:12,920 --> 00:45:18,730
systemic compared to what it was as well

915
00:45:25,849 --> 00:45:34,309
yeah so I'm gonna go ahead and gank that

916
00:45:29,909 --> 00:45:37,980
stuff out here and I'm gonna put that in

917
00:45:34,309 --> 00:45:40,799
there we go and I want all of this stuff

918
00:45:37,980 --> 00:45:43,289
to work off of the world like that and

919
00:45:40,800 --> 00:45:46,260
end the generation system I want that

920
00:45:43,289 --> 00:45:53,849
out of world mode now so again this

921
00:45:46,260 --> 00:45:57,170
stuff here for looks like most of the

922
00:45:53,849 --> 00:45:57,170
things we would want

923
00:46:18,139 --> 00:46:25,219
so here's the world last used entities

924
00:46:21,318 --> 00:46:28,670
storage ID so it just uses that for both

925
00:46:25,219 --> 00:46:31,189
of these so yeah basically this yeah I

926
00:46:28,670 --> 00:46:35,720
don't see any reason this stuff can't

927
00:46:31,190 --> 00:46:37,429
move into the Jen at that point so I

928
00:46:35,719 --> 00:46:38,719
would say the world generator is

929
00:46:37,429 --> 00:46:41,298
probably the thing that gets the

930
00:46:38,719 --> 00:46:43,248
creation region although it may only be

931
00:46:41,298 --> 00:46:45,440
local to the room generation function in

932
00:46:43,248 --> 00:46:47,598
which case it wouldn't really go in here

933
00:46:45,440 --> 00:46:49,608
the last used entity storage index I

934
00:46:47,599 --> 00:46:52,249
feel like should be on the world in the

935
00:46:49,608 --> 00:46:54,949
first place that it just doesn't make a

936
00:46:52,248 --> 00:46:58,608
lot of sense to me why it was where it

937
00:46:54,949 --> 00:47:01,189
was so in my mind that should really be

938
00:46:58,608 --> 00:47:06,969
that should have been in here and I

939
00:47:01,190 --> 00:47:06,970
can't say I know why it wasn't in here

940
00:47:07,210 --> 00:47:11,539
if I had a good reason for not putting

941
00:47:10,369 --> 00:47:15,890
in here I would have loved to know what

942
00:47:11,539 --> 00:47:18,009
it was I just can't think of what I

943
00:47:15,889 --> 00:47:20,239
can't think of a reason to keep that I

944
00:47:18,009 --> 00:47:23,298
suspect it was just me not having

945
00:47:20,239 --> 00:47:25,460
thought it through yet cuz it really

946
00:47:23,298 --> 00:47:27,210
doesn't sound like the right place to

947
00:47:25,460 --> 00:47:30,300
put it

948
00:47:27,210 --> 00:47:30,300
[Music]

949
00:47:34,059 --> 00:47:37,390
let's find out

950
00:47:40,460 --> 00:47:44,920
okay so when you're doing an ad player

951
00:47:45,518 --> 00:47:49,879
AB clear I'm gonna wait a little bit

952
00:47:48,710 --> 00:47:51,048
because that has to happen in the middle

953
00:47:49,880 --> 00:47:57,259
of gameplay and that's a slightly

954
00:47:51,048 --> 00:47:59,690
different one here so yeah for something

955
00:47:57,259 --> 00:48:04,028
like begin granted entity what I really

956
00:47:59,690 --> 00:48:04,028
want to do here is is I want to have I

957
00:48:04,719 --> 00:48:10,159
really want this to be something we look

958
00:48:08,900 --> 00:48:11,358
at just a little bit later because since

959
00:48:10,159 --> 00:48:15,710
that have to happen in the middle of

960
00:48:11,358 --> 00:48:17,869
gameplay I want to have that handled

961
00:48:15,710 --> 00:48:22,249
specially and we'll see what the best

962
00:48:17,869 --> 00:48:24,140
way is to do that when you do play World

963
00:48:22,248 --> 00:48:26,629
here and you initialize the world's

964
00:48:24,139 --> 00:48:28,608
reserve Randi first read that's pretty

965
00:48:26,630 --> 00:48:31,630
easy to initialize when we create the

966
00:48:28,608 --> 00:48:52,489
world in the first place

967
00:48:31,630 --> 00:49:01,009
so I feel like that just works yeah all

968
00:48:52,489 --> 00:49:02,150
of these can just be and I really think

969
00:49:01,009 --> 00:49:03,528
since that's the thing that stores all

970
00:49:02,150 --> 00:49:04,489
the entities I really just feel like

971
00:49:03,528 --> 00:49:06,559
that's where it should have been the

972
00:49:04,489 --> 00:49:08,809
whole time anyway even before we added

973
00:49:06,559 --> 00:49:12,369
the generation system that seems like

974
00:49:08,809 --> 00:49:12,369
the more correct place for that

975
00:49:31,889 --> 00:49:37,559
and I'm just kind of looking through

976
00:49:34,568 --> 00:49:37,559
this here

977
00:49:49,679 --> 00:49:55,179
you know also this stuff looks to me

978
00:49:52,960 --> 00:49:57,730
like I might want to clean this up a

979
00:49:55,179 --> 00:50:02,109
little bit to again cuz all of this code

980
00:49:57,730 --> 00:50:03,400
was really just placeholder and now that

981
00:50:02,110 --> 00:50:06,099
we're kind of seeing how it works I

982
00:50:03,400 --> 00:50:12,490
think there's a lot of things we might

983
00:50:06,099 --> 00:50:15,429
want to change you can see how this code

984
00:50:12,489 --> 00:50:19,899
wants to work we just need to know where

985
00:50:15,429 --> 00:50:22,149
we're going to actually put it in terms

986
00:50:19,900 --> 00:50:25,150
of sim regions the sim region of course

987
00:50:22,150 --> 00:50:28,090
has the world in it itself it just

988
00:50:25,150 --> 00:50:29,889
stores that piece of information but it

989
00:50:28,090 --> 00:50:31,450
doesn't need to you know we could always

990
00:50:29,889 --> 00:50:35,219
pass it in but just happens to know what

991
00:50:31,449 --> 00:50:37,569
it is so really when you do begin entity

992
00:50:35,219 --> 00:50:43,089
that really could have just been a

993
00:50:37,570 --> 00:50:56,859
Symbian call that's what probably should

994
00:50:43,090 --> 00:50:58,840
have happened and that would just you

995
00:50:56,858 --> 00:51:03,429
know make the entity when you're done

996
00:50:58,840 --> 00:51:05,079
with it again the fact that that was off

997
00:51:03,429 --> 00:51:06,489
the world mode I think again this was

998
00:51:05,079 --> 00:51:08,529
just for convenience when we were doing

999
00:51:06,489 --> 00:51:10,599
it now that you know we're kind of going

1000
00:51:08,530 --> 00:51:13,000
through it with a with an eye towards

1001
00:51:10,599 --> 00:51:17,730
actually making it correct I don't think

1002
00:51:13,000 --> 00:51:17,730
any of this stuff makes any sense right

1003
00:51:23,190 --> 00:51:29,429
yeah I mean all this this is all just

1004
00:51:25,409 --> 00:51:31,559
nonsense this is this was I think this

1005
00:51:29,429 --> 00:51:32,669
was a several series of things we

1006
00:51:31,559 --> 00:51:35,039
actually got it down to a pretty good

1007
00:51:32,670 --> 00:51:36,480
way of doing it actually but it just

1008
00:51:35,039 --> 00:51:37,949
it's we had never finished quite

1009
00:51:36,480 --> 00:51:39,900
simplifying it down as far as we could

1010
00:51:37,949 --> 00:51:43,919
have right because you can kind of see

1011
00:51:39,900 --> 00:51:47,450
here once I actually do this you can see

1012
00:51:43,920 --> 00:51:50,309
how straight forward it actually becomes

1013
00:51:47,449 --> 00:51:52,169
really you just always have a sim region

1014
00:51:50,309 --> 00:51:54,630
that you create things inside of if you

1015
00:51:52,170 --> 00:51:56,070
don't have one you just pop one open but

1016
00:51:54,630 --> 00:51:57,900
you don't need the world mode for

1017
00:51:56,070 --> 00:52:00,150
anything so the fact that it was ever

1018
00:51:57,900 --> 00:52:01,740
there is kind of silly in the first

1019
00:52:00,150 --> 00:52:03,630
place ground identity isn't any

1020
00:52:01,739 --> 00:52:05,639
different from any other entity anymore

1021
00:52:03,630 --> 00:52:08,579
so really we just have begin entity is

1022
00:52:05,639 --> 00:52:12,719
the only actual thing that we have in

1023
00:52:08,579 --> 00:52:16,319
the first place and we don't even need

1024
00:52:12,719 --> 00:52:18,899
an arena like there is no arena here so

1025
00:52:16,320 --> 00:52:20,940
the fact that we actually use that in

1026
00:52:18,900 --> 00:52:22,320
the first place doesn't really isn't

1027
00:52:20,940 --> 00:52:24,720
necessary either because whatever the

1028
00:52:22,320 --> 00:52:30,019
sim region's arena was at the time is

1029
00:52:24,719 --> 00:52:30,019
fine so yeah

1030
00:52:35,829 --> 00:52:42,230
yeah uh so anyway in our beginning the N

1031
00:52:40,489 --> 00:52:44,299
entity stuff here I think that's all we

1032
00:52:42,230 --> 00:52:45,829
really needed to do the chunk this room

1033
00:52:44,300 --> 00:52:47,570
table should already worked off of a

1034
00:52:45,829 --> 00:52:50,179
world anyway so that doesn't really need

1035
00:52:47,570 --> 00:52:52,550
to change and the rest of this stuff I

1036
00:52:50,179 --> 00:52:54,319
think just works so when we go to do

1037
00:52:52,550 --> 00:52:58,820
something like add Monstar let's verify

1038
00:52:54,320 --> 00:53:01,910
that this actually can work off of just

1039
00:52:58,820 --> 00:53:06,380
a region I believe that's the case this

1040
00:53:01,909 --> 00:53:09,649
is just a begin entity call like so the

1041
00:53:06,380 --> 00:53:12,858
rest of this stuff is all off of the

1042
00:53:09,650 --> 00:53:17,269
worlds anyway at which we have we could

1043
00:53:12,858 --> 00:53:19,940
actually have add brain work off of a

1044
00:53:17,269 --> 00:53:29,059
region as well because either one of

1045
00:53:19,940 --> 00:53:31,309
those is fine but you can see how simple

1046
00:53:29,059 --> 00:53:34,460
this actually is right now that it's

1047
00:53:31,309 --> 00:53:35,809
kind of and and I'm happy like I it's

1048
00:53:34,460 --> 00:53:37,849
cool that we got it down to such a

1049
00:53:35,809 --> 00:53:40,159
simple system actually at the end of the

1050
00:53:37,849 --> 00:53:43,250
day so good on us for following that

1051
00:53:40,159 --> 00:53:45,019
through I think so you taking a look at

1052
00:53:43,250 --> 00:53:47,199
this stuff again like I think this

1053
00:53:45,019 --> 00:53:52,519
allocate brain and allocate entity ID

1054
00:53:47,199 --> 00:53:56,079
part of things they're both calling the

1055
00:53:52,519 --> 00:53:56,079
same thing there right

1056
00:54:02,519 --> 00:54:24,309
so I think we can just make versions of

1057
00:54:05,710 --> 00:54:50,470
these that just do the same they all do

1058
00:54:24,309 --> 00:54:53,889
the same thing right so this stuff is

1059
00:54:50,469 --> 00:54:56,079
basically pulled out at that point it

1060
00:54:53,889 --> 00:54:57,489
goes into right I mean it's it's

1061
00:54:56,079 --> 00:55:00,849
actually stuff that happens in here

1062
00:54:57,489 --> 00:55:04,509
right so the world has the ability to

1063
00:55:00,849 --> 00:55:13,119
add these things to it the sim region

1064
00:55:04,510 --> 00:55:14,680
has thunks right in there that really

1065
00:55:13,119 --> 00:55:16,119
aren't doing anything they're just so

1066
00:55:14,679 --> 00:55:19,809
you don't have to type region world if

1067
00:55:16,119 --> 00:55:22,900
you don't want to and from then on you

1068
00:55:19,809 --> 00:55:26,980
just get it's just really simple I mean

1069
00:55:22,900 --> 00:55:28,570
that's it's so basic that you know that

1070
00:55:26,980 --> 00:55:31,719
just looks great I mean I'm totally

1071
00:55:28,570 --> 00:55:34,630
happy with that and and I and off you go

1072
00:55:31,719 --> 00:55:36,759
so basically everything everyone does

1073
00:55:34,630 --> 00:55:39,099
from now on just takes a sim region

1074
00:55:36,760 --> 00:55:40,570
that's how it constructs things and it

1075
00:55:39,099 --> 00:55:42,819
just assumes that someone upstream at

1076
00:55:40,570 --> 00:55:44,380
some point opened a region for editing

1077
00:55:42,820 --> 00:55:45,760
and then it's going to edit in that

1078
00:55:44,380 --> 00:55:50,260
region and everything this works and

1079
00:55:45,760 --> 00:55:56,970
that seems great I'm pretty happy with

1080
00:55:50,260 --> 00:55:56,970
that that's

1081
00:56:04,360 --> 00:56:09,620
pretty good so the other thing that I

1082
00:56:06,920 --> 00:56:11,570
would say here is I feel like end entity

1083
00:56:09,619 --> 00:56:13,159
so one of the things is we have this

1084
00:56:11,570 --> 00:56:14,570
constant end entity because we use to

1085
00:56:13,159 --> 00:56:16,399
have this kind of crappy system where

1086
00:56:14,570 --> 00:56:17,960
things had to be built in this different

1087
00:56:16,400 --> 00:56:20,809
way or whatever we don't have an end

1088
00:56:17,960 --> 00:56:23,840
entity anymore right so we don't need to

1089
00:56:20,809 --> 00:56:29,480
call that and entity is just set entity

1090
00:56:23,840 --> 00:56:30,800
position right that's all it is so it's

1091
00:56:29,480 --> 00:56:35,269
really just it's really just place

1092
00:56:30,800 --> 00:56:38,930
entity and begin entity is really just

1093
00:56:35,269 --> 00:56:40,759
add entity we don't have because of the

1094
00:56:38,929 --> 00:56:43,519
nice way that the same region works now

1095
00:56:40,760 --> 00:56:46,910
we don't have to do begin and end entity

1096
00:56:43,519 --> 00:56:48,650
anything just stay in a state of hybrid

1097
00:56:46,909 --> 00:56:51,879
like haven't really been finished yet

1098
00:56:48,650 --> 00:56:55,369
until the whole sim region is is packed

1099
00:56:51,880 --> 00:57:01,130
and that's also great like all of these

1100
00:56:55,369 --> 00:57:02,599
things are awesome in my opinion like

1101
00:57:01,130 --> 00:57:05,539
this is this is turning out to be pretty

1102
00:57:02,599 --> 00:57:07,549
baller at the end of the day and that's

1103
00:57:05,539 --> 00:57:10,009
pretty good that's what you want to have

1104
00:57:07,550 --> 00:57:13,730
happen when you do a bunch of work to

1105
00:57:10,010 --> 00:57:15,290
sort of like look at and explore

1106
00:57:13,730 --> 00:57:17,469
solutions you want them to come together

1107
00:57:15,289 --> 00:57:22,460
at the end and it is sort of doing that

1108
00:57:17,469 --> 00:57:25,159
right so now these are much more clear

1109
00:57:22,460 --> 00:57:28,519
you just add the entity and you can do

1110
00:57:25,159 --> 00:57:30,199
whatever you want to it you can work on

1111
00:57:28,519 --> 00:57:31,730
it later return it to somebody else who

1112
00:57:30,199 --> 00:57:33,829
could work on it separately you don't

1113
00:57:31,730 --> 00:57:35,090
have to have a finalized ation point to

1114
00:57:33,829 --> 00:57:37,909
it because the whole room just gets

1115
00:57:35,090 --> 00:57:40,700
packed up together when it's all done

1116
00:57:37,909 --> 00:57:44,299
and that is way better right that's like

1117
00:57:40,699 --> 00:57:46,659
way way better in my opinion so that's

1118
00:57:44,300 --> 00:57:46,660
great

1119
00:57:49,789 --> 00:57:58,880
and all of that works pretty cool sooo

1120
00:57:53,079 --> 00:58:01,670
then I think we're getting into a

1121
00:57:58,880 --> 00:58:04,160
reasonable space here so when's we

1122
00:58:01,670 --> 00:58:07,010
coming here we just do an identity call

1123
00:58:04,159 --> 00:58:09,139
to add the entity we then do whatever we

1124
00:58:07,010 --> 00:58:11,510
want to it and we can do our place

1125
00:58:09,139 --> 00:58:17,679
entity call here

1126
00:58:11,510 --> 00:58:17,680
and that's it and off we go

1127
00:58:20,050 --> 00:58:44,510
let me just finish porting some of these

1128
00:58:22,610 --> 00:58:53,750
guys for the changes that we made all

1129
00:58:44,510 --> 00:58:55,940
right soo fundamentally speaking now

1130
00:58:53,750 --> 00:58:58,760
what we want to do is we want to open up

1131
00:58:55,940 --> 00:59:00,440
a part of the worlds for editing and

1132
00:58:58,760 --> 00:59:02,930
that part of the world that we want to

1133
00:59:00,440 --> 00:59:04,460
edit is going to be bounded by the

1134
00:59:02,929 --> 00:59:06,819
region of the room that we want to use

1135
00:59:04,460 --> 00:59:18,199
so that's what I'm going to do in there

1136
00:59:06,820 --> 00:59:21,500
and then when we end we finish and I

1137
00:59:18,199 --> 00:59:25,069
don't even know you have a completely

1138
00:59:21,500 --> 00:59:27,019
honest with you I don't even know what's

1139
00:59:25,070 --> 00:59:28,850
supposedly happening here that doesn't

1140
00:59:27,019 --> 00:59:30,380
really make any sense why would you pass

1141
00:59:28,849 --> 00:59:32,690
the world something that already has the

1142
00:59:30,380 --> 00:59:35,760
world in it

1143
00:59:32,690 --> 00:59:35,760
[Music]

1144
00:59:46,010 --> 00:59:50,480
do we know the answer to that question I

1145
00:59:53,659 --> 00:59:56,659
mean

1146
00:59:57,050 --> 01:00:08,600
so if we have begin world change and we

1147
01:00:00,239 --> 01:00:11,339
copy the world in at the outset is I

1148
01:00:08,599 --> 01:00:18,150
mean is there ever a reason why we would

1149
01:00:11,340 --> 01:00:29,120
not just use the one that's there I mean

1150
01:00:18,150 --> 01:00:29,119
the answer is obviously no right

1151
01:00:30,150 --> 01:00:35,130
isn't it I mean is there a way in which

1152
01:00:32,730 --> 01:00:36,960
that flow happens different I mean don't

1153
01:00:35,130 --> 01:00:39,298
you have to have the world at the outset

1154
01:00:36,960 --> 01:00:40,710
and you can't switch one world for

1155
01:00:39,298 --> 01:00:43,048
another world in the middle of the

1156
01:00:40,710 --> 01:00:44,608
update unless that's something and if

1157
01:00:43,048 --> 01:00:48,059
you did why wouldn't you just patch the

1158
01:00:44,608 --> 01:00:52,798
pointer right so I feel like that's just

1159
01:00:48,059 --> 01:00:55,589
you know that's fake news right so I

1160
01:00:52,798 --> 01:01:23,900
feel like we want to just get rid of

1161
01:00:55,588 --> 01:01:23,900
that because it's not necessary okay

1162
01:01:30,739 --> 01:01:37,248
we'll deal with where we want to get the

1163
01:01:32,998 --> 01:01:37,248
random series from a little bit later

1164
01:01:42,318 --> 01:01:51,420
but I think that's all really good now

1165
01:01:46,460 --> 01:01:54,720
so this is great I am really happy about

1166
01:01:51,420 --> 01:01:56,579
that actually and I'm even gonna go a

1167
01:01:54,719 --> 01:01:58,139
little bit further and spread this out a

1168
01:01:56,579 --> 01:02:00,390
little bit more

1169
01:01:58,139 --> 01:02:04,949
we have handmade world Jen I'm gonna

1170
01:02:00,389 --> 01:02:06,989
make handmade room Jen and the reason

1171
01:02:04,949 --> 01:02:11,838
for that is I want to be able to look at

1172
01:02:06,989 --> 01:02:11,838
these pieces of code in collections

1173
01:02:15,440 --> 01:02:25,130
as a sidenote oh my god ge' no Marie

1174
01:02:21,219 --> 01:02:29,299
drives me nuts like every time it

1175
01:02:25,130 --> 01:02:32,720
repaints the screen it flickers like the

1176
01:02:29,300 --> 01:02:37,280
oh the windows that have a translucent

1177
01:02:32,719 --> 01:02:40,818
backdrop they flicker and it's horrible

1178
01:02:37,280 --> 01:02:43,490
absolutely horrible I wish they would

1179
01:02:40,818 --> 01:02:45,650
fix that I don't even know what they're

1180
01:02:43,489 --> 01:02:48,469
doing to make that happen it's pretty

1181
01:02:45,650 --> 01:02:52,700
spectacular I wonder if there's a way to

1182
01:02:48,469 --> 01:02:54,439
like turn that stuff off maybe I can do

1183
01:02:52,699 --> 01:02:56,358
it it's like all terminal windows just

1184
01:02:54,440 --> 01:03:00,250
flicker and they flicker like crazy in

1185
01:02:56,358 --> 01:03:00,250
this corner of my eye it's it's nuts

1186
01:03:00,550 --> 01:03:09,068
drives me insane

1187
01:03:03,460 --> 01:03:16,210
yeah let's see command colors

1188
01:03:09,068 --> 01:03:16,210
transparency none that work

1189
01:03:20,670 --> 01:03:28,829
let's find out hey yes

1190
01:03:26,449 --> 01:03:35,098
should've done that a long time ago all

1191
01:03:28,829 --> 01:03:38,369
right so basically just making two

1192
01:03:35,099 --> 01:03:40,318
different files here and what I want to

1193
01:03:38,369 --> 01:03:42,778
do is I just want to store the stuff

1194
01:03:40,318 --> 01:03:49,588
that creates like the entities and stuff

1195
01:03:42,778 --> 01:03:55,858
like that I want those to be a little

1196
01:03:49,588 --> 01:03:58,469
bit more yeah I just want to keep

1197
01:03:55,858 --> 01:04:00,210
separate the stuff that's just for

1198
01:03:58,469 --> 01:04:02,879
making cuz there's gonna be so much of

1199
01:04:00,210 --> 01:04:04,199
it you know the stuff for making

1200
01:04:02,880 --> 01:04:06,599
entities and all that stuff I want to

1201
01:04:04,199 --> 01:04:10,139
just put that in a separate place so

1202
01:04:06,599 --> 01:04:12,480
don't have to think about it right or

1203
01:04:10,139 --> 01:04:14,879
look at it while I'm working on the

1204
01:04:12,480 --> 01:04:16,980
other stuff so basically once you get to

1205
01:04:14,880 --> 01:04:19,740
the point where you call generate room I

1206
01:04:16,980 --> 01:04:21,659
want to be in this file and this is just

1207
01:04:19,739 --> 01:04:23,729
all the stuff that does room generation

1208
01:04:21,659 --> 01:04:25,679
and when you're generating the layout

1209
01:04:23,730 --> 01:04:27,659
for the whole world you're in this file

1210
01:04:25,679 --> 01:04:29,699
right and that just helps me keep them

1211
01:04:27,659 --> 01:04:31,949
straight a lot of times people have

1212
01:04:29,699 --> 01:04:34,528
asked me like how do I organize my files

1213
01:04:31,949 --> 01:04:40,828
the answer is anyway you darn well

1214
01:04:34,528 --> 01:04:43,798
please and for me what I like is I like

1215
01:04:40,829 --> 01:04:48,539
files to be broken down by sort of the

1216
01:04:43,798 --> 01:04:50,639
thing that they're doing not by class or

1217
01:04:48,539 --> 01:04:52,890
some object-oriented thing or whatever

1218
01:04:50,639 --> 01:04:54,150
else I want them to be like okay all the

1219
01:04:52,889 --> 01:04:55,318
stuff that lays out the world goes in

1220
01:04:54,150 --> 01:04:57,180
this file all the stuff that lays out of

1221
01:04:55,318 --> 01:05:00,778
room goes in this file right and that

1222
01:04:57,179 --> 01:05:02,429
could be 30 structs or one struct or 500

1223
01:05:00,778 --> 01:05:04,469
routines if necessary as long as it all

1224
01:05:02,429 --> 01:05:06,778
feels like it belongs there and I'm

1225
01:05:04,469 --> 01:05:09,750
working on that code together I

1226
01:05:06,778 --> 01:05:12,329
typically put that in a file when I

1227
01:05:09,750 --> 01:05:16,108
sense a very clear division of labor

1228
01:05:12,329 --> 01:05:23,039
between two things then I you know will

1229
01:05:16,108 --> 01:05:27,989
sort of separate those out so anyway now

1230
01:05:23,039 --> 01:05:33,769
what we have to do is well I guess

1231
01:05:27,989 --> 01:05:33,768
besides including these files

1232
01:05:44,449 --> 01:05:50,149
so what I need to do now is I need to go

1233
01:05:46,909 --> 01:06:00,889
ahead and looks like that towel size and

1234
01:05:50,150 --> 01:06:05,690
meters as well let me just pop these out

1235
01:06:00,889 --> 01:06:08,839
here we need to kind of figure out what

1236
01:06:05,690 --> 01:06:10,490
we want to do about this eventually but

1237
01:06:08,840 --> 01:06:11,750
at the moment it's fine so the only

1238
01:06:10,489 --> 01:06:13,759
thing I need to do is just pop this

1239
01:06:11,750 --> 01:06:15,170
forward declaration out here because

1240
01:06:13,760 --> 01:06:17,240
that's the only place that it gets

1241
01:06:15,170 --> 01:06:19,309
called into so it just says hey well

1242
01:06:17,239 --> 01:06:20,989
that's all you do that whole files job

1243
01:06:19,309 --> 01:06:23,150
it's just this generator room that's all

1244
01:06:20,989 --> 01:06:25,909
it does so as long as you got that call

1245
01:06:23,150 --> 01:06:27,500
we're good so now we have to do is take

1246
01:06:25,909 --> 01:06:31,039
a look at how this room Jen is actually

1247
01:06:27,500 --> 01:06:32,780
gonna work at the moment I want to just

1248
01:06:31,039 --> 01:06:35,269
clean this up a little bit and then

1249
01:06:32,780 --> 01:06:37,400
we're gonna move over to the more

1250
01:06:35,269 --> 01:06:39,739
pressing problem which is how do we

1251
01:06:37,400 --> 01:06:43,700
place a person after the fact because

1252
01:06:39,739 --> 01:06:47,359
again we do have one case where we add

1253
01:06:43,699 --> 01:06:49,429
entities already outside of world

1254
01:06:47,360 --> 01:06:52,460
generation which is when a new hero

1255
01:06:49,429 --> 01:06:54,349
enters the game right like if someone

1256
01:06:52,460 --> 01:06:55,820
hits the start button on a controller or

1257
01:06:54,349 --> 01:06:57,319
something and there'll be more of that

1258
01:06:55,820 --> 01:06:58,670
leader because we may want to add in a

1259
01:06:57,320 --> 01:07:00,350
tease for like you know someone throws a

1260
01:06:58,670 --> 01:07:06,170
projectile or something we may want to

1261
01:07:00,349 --> 01:07:07,960
add an entity there so use me we

1262
01:07:06,170 --> 01:07:11,960
definitely have some work we want to do

1263
01:07:07,960 --> 01:07:14,449
in the future in that so that has to do

1264
01:07:11,960 --> 01:07:16,789
with that right and so we're gonna go

1265
01:07:14,449 --> 01:07:19,219
look at that in a second in the meantime

1266
01:07:16,789 --> 01:07:22,039
what I'd like to do is in the generation

1267
01:07:19,219 --> 01:07:24,589
system when we're actually doing stuff

1268
01:07:22,039 --> 01:07:26,539
like generating a room what I'd like to

1269
01:07:24,590 --> 01:07:28,120
do is in addition to the memory you're

1270
01:07:26,539 --> 01:07:31,429
going to be used for a permanent storage

1271
01:07:28,119 --> 01:07:36,679
I'd like to do a little memory Rina for

1272
01:07:31,429 --> 01:07:40,879
a change based storage here so something

1273
01:07:36,679 --> 01:07:45,139
like this and what I want to do is or

1274
01:07:40,880 --> 01:07:46,640
maybe I could call this temp memory so

1275
01:07:45,139 --> 01:07:51,578
what I want to do here is

1276
01:07:46,639 --> 01:07:51,578
when we go to use that temp memory there

1277
01:07:53,889 --> 01:07:59,480
that's used for this change region stuff

1278
01:07:56,690 --> 01:08:04,278
and that gets nerfed at the end of it

1279
01:07:59,480 --> 01:08:08,480
right so after the temp memory you know

1280
01:08:04,278 --> 01:08:21,079
down here we just say okay free for n

1281
01:08:08,480 --> 01:08:22,729
temporary memory and that way we don't

1282
01:08:21,079 --> 01:08:24,889
really care how much memory that takes

1283
01:08:22,729 --> 01:08:28,129
or what it needs to do it just does its

1284
01:08:24,889 --> 01:08:31,009
thing and off it goes I we already have

1285
01:08:28,130 --> 01:08:33,920
the world so what we need to know now is

1286
01:08:31,009 --> 01:08:37,250
what happens in these two places I'd

1287
01:08:33,920 --> 01:08:39,079
also like to just go ahead in here and

1288
01:08:37,250 --> 01:08:42,859
make sure that all that stuff is what I

1289
01:08:39,079 --> 01:08:44,689
think it is so you can see here that we

1290
01:08:42,859 --> 01:08:46,100
pass in a time value we're going to be

1291
01:08:44,689 --> 01:08:47,658
passing 0 there still because you're

1292
01:08:46,100 --> 01:08:50,960
having to say about that

1293
01:08:47,658 --> 01:08:54,379
we pass in an origin in a boundary so

1294
01:08:50,960 --> 01:08:56,779
what we can do there is we know what our

1295
01:08:54,380 --> 01:08:58,159
origin is going to be when we're

1296
01:08:56,779 --> 01:09:00,199
creating the world we know what's going

1297
01:08:58,158 --> 01:09:03,528
to be the center of the room so what we

1298
01:09:00,198 --> 01:09:09,079
can really do here is just say ok you

1299
01:09:03,529 --> 01:09:15,409
know our Center is just going to be the

1300
01:09:09,079 --> 01:09:23,479
min tile X plus you know 0.5 or I should

1301
01:09:15,408 --> 01:09:26,439
say X count divided by 2 this is going

1302
01:09:23,479 --> 01:09:26,439
to be wind tile why

1303
01:09:29,489 --> 01:09:34,739
and we know the center can just be the

1304
01:09:31,199 --> 01:09:38,429
floor taozi right so we know a room

1305
01:09:34,739 --> 01:09:41,460
center and it's not necessarily the

1306
01:09:38,430 --> 01:09:42,510
exact center right we could try to get

1307
01:09:41,460 --> 01:09:43,949
the exact center but we really probably

1308
01:09:42,510 --> 01:09:56,010
don't care

1309
01:09:43,949 --> 01:09:58,500
and then our rectangle for rec center

1310
01:09:56,010 --> 01:09:59,940
gym we know that the the center is just

1311
01:09:58,500 --> 01:10:02,310
going to be zero zero zero because it's

1312
01:09:59,939 --> 01:10:05,039
just we're passing a rectangle that's

1313
01:10:02,310 --> 01:10:06,810
that's used relative to the center I

1314
01:10:05,039 --> 01:10:09,479
believe so we know we're just centered

1315
01:10:06,810 --> 01:10:18,539
around that and then we know we are you

1316
01:10:09,479 --> 01:10:25,469
know X count Y count and some notion of

1317
01:10:18,539 --> 01:10:29,189
C count what we would like to do is just

1318
01:10:25,470 --> 01:10:30,600
get a relatively large region around the

1319
01:10:29,189 --> 01:10:32,939
room center that we're going to be

1320
01:10:30,600 --> 01:10:36,360
working on and we'll pull in anything

1321
01:10:32,939 --> 01:10:40,460
that's roughly in that area and so what

1322
01:10:36,359 --> 01:10:40,460
we want to do is say that the tile side

1323
01:10:40,489 --> 01:10:45,899
go in meters multiplies these two and

1324
01:10:43,350 --> 01:10:52,280
the tile depth in meters multiplies this

1325
01:10:45,899 --> 01:10:52,279
one right and I should probably do

1326
01:11:00,449 --> 01:11:04,179
something like this

1327
01:11:02,439 --> 01:11:05,409
and that just gives us a little bit of

1328
01:11:04,180 --> 01:11:07,630
an understanding of what's going on

1329
01:11:05,409 --> 01:11:09,550
there in terms of the you know the

1330
01:11:07,630 --> 01:11:12,460
bounds of thing so we want this to be

1331
01:11:09,550 --> 01:11:14,770
expanded a bit so what I would also say

1332
01:11:12,460 --> 01:11:17,859
is I'd like to grab tiles on either side

1333
01:11:14,770 --> 01:11:23,910
so let's say that we just we have an

1334
01:11:17,859 --> 01:11:23,909
apron you know or something like this

1335
01:11:26,100 --> 01:11:31,690
you know that just tries to grab enough

1336
01:11:28,750 --> 01:11:34,300
around it so that those extra elements

1337
01:11:31,689 --> 01:11:36,969
will all be pulled in so we have some

1338
01:11:34,300 --> 01:11:39,699
kind of ability to query what's nearby

1339
01:11:36,969 --> 01:11:49,899
in the room and other stuff like that

1340
01:11:39,699 --> 01:11:51,399
right so I'm gonna instead of cloning

1341
01:11:49,899 --> 01:11:54,250
his room because they're not really that

1342
01:11:51,399 --> 01:12:02,979
I'm just gonna call these like change

1343
01:11:54,250 --> 01:12:11,949
rectangle and change Center and I think

1344
01:12:02,979 --> 01:12:17,829
that's most of what I want their tile

1345
01:12:11,949 --> 01:12:23,500
depth in meters where is that defined so

1346
01:12:17,829 --> 01:12:25,710
it's it's this chunk German meters looks

1347
01:12:23,500 --> 01:12:25,710
like

1348
01:12:33,010 --> 01:12:36,010
yeah

1349
01:12:37,139 --> 01:12:42,810
I feel like again that stuff's a little

1350
01:12:41,069 --> 01:12:59,698
bit loosey goosey so I'm gonna go ahead

1351
01:12:42,810 --> 01:13:01,230
and say two and say we want to finally

1352
01:12:59,698 --> 01:13:03,539
get this stuff locked down because in

1353
01:13:01,229 --> 01:13:04,919
the generator is the time to finally do

1354
01:13:03,539 --> 01:13:09,988
all that because this is the thing that

1355
01:13:04,920 --> 01:13:12,179
actually builds the world for real so we

1356
01:13:09,988 --> 01:13:15,238
should probably do that but for the

1357
01:13:12,179 --> 01:13:19,590
moment we do know the answer to that

1358
01:13:15,238 --> 01:13:26,218
question it's that and that's fine so

1359
01:13:19,590 --> 01:13:30,529
now we've got the series here and the

1360
01:13:26,219 --> 01:13:30,529
generator should have that serious in it

1361
01:13:31,850 --> 01:13:45,440
and it does not yet so probably that's

1362
01:13:41,670 --> 01:13:45,440
just on the world right now

1363
01:13:45,618 --> 01:14:03,899
in fact it because we have the world

1364
01:13:50,789 --> 01:14:06,840
entropy right here so really what we

1365
01:14:03,899 --> 01:14:10,049
want to do is grab this probably at the

1366
01:14:06,840 --> 01:14:13,469
outset and just say that the random

1367
01:14:10,050 --> 01:14:18,829
series that we're going to use here is

1368
01:14:13,469 --> 01:14:18,829
going to be whatever the game entropy is

1369
01:14:23,250 --> 01:14:31,569
okay we need that information to come

1370
01:14:27,038 --> 01:14:33,988
from the room and then we are needing to

1371
01:14:31,569 --> 01:14:33,988
close our parentheses

1372
01:14:36,899 --> 01:14:53,079
okay and that's about it so if we assume

1373
01:14:50,649 --> 01:14:57,460
that these things come from somewhere at

1374
01:14:53,079 --> 01:14:59,619
some point I don't know exactly like I

1375
01:14:57,460 --> 01:15:01,720
said how we want to have those work in

1376
01:14:59,619 --> 01:15:04,479
the room or what's going on there

1377
01:15:01,720 --> 01:15:06,480
exactly for the time being I guess I'll

1378
01:15:04,479 --> 01:15:10,839
just say hey look

1379
01:15:06,479 --> 01:15:25,449
maybe this looks like that's and maybe

1380
01:15:10,840 --> 01:15:27,369
these come from here because for the

1381
01:15:25,449 --> 01:15:29,170
time being since that's what I know the

1382
01:15:27,369 --> 01:15:31,599
input to the system is you might as well

1383
01:15:29,170 --> 01:15:34,630
get them directly and then later on we

1384
01:15:31,600 --> 01:15:36,760
can find out what actually we should get

1385
01:15:34,630 --> 01:15:46,840
from there to compute these values which

1386
01:15:36,760 --> 01:15:48,970
may be something else entirely so now

1387
01:15:46,840 --> 01:15:51,579
we're back to the problem from before

1388
01:15:48,970 --> 01:15:54,250
however which is that we still do want

1389
01:15:51,579 --> 01:15:58,359
the ability to do a little a limited

1390
01:15:54,250 --> 01:15:59,760
amount of modification of the world here

1391
01:15:58,359 --> 01:16:01,929
in the world mode and that is

1392
01:15:59,760 --> 01:16:04,390
specifically when we want to create

1393
01:16:01,930 --> 01:16:06,010
that's not good specifically when we

1394
01:16:04,390 --> 01:16:09,430
want to create something like a player

1395
01:16:06,010 --> 01:16:12,190
entity and so when we call add player in

1396
01:16:09,430 --> 01:16:15,340
we are implicitly here wanting to make a

1397
01:16:12,189 --> 01:16:17,979
modification what we can do now is get

1398
01:16:15,340 --> 01:16:20,529
rid of this nonsense here because that

1399
01:16:17,979 --> 01:16:22,539
stuff is irrelevant to us and was kind

1400
01:16:20,529 --> 01:16:24,429
of a hack in the first place and so now

1401
01:16:22,539 --> 01:16:26,380
what we can do is actually just call

1402
01:16:24,430 --> 01:16:28,180
these directly on the sim region which

1403
01:16:26,380 --> 01:16:30,310
is what we wanted to do in the first

1404
01:16:28,180 --> 01:16:34,480
place and again that makes this even

1405
01:16:30,310 --> 01:16:36,190
cleaner and much more pleasant now the

1406
01:16:34,479 --> 01:16:39,849
generation code needs to expose that

1407
01:16:36,189 --> 01:16:41,739
code like the identity stuff and

1408
01:16:39,850 --> 01:16:43,570
whatever I don't know if maybe this

1409
01:16:41,739 --> 01:16:45,519
should now be part of the world or a

1410
01:16:43,569 --> 01:16:47,619
part of the entity I'm not sure I don't

1411
01:16:45,520 --> 01:16:48,490
care so I'm just gonna put it up here

1412
01:16:47,619 --> 01:16:50,140
for now

1413
01:16:48,489 --> 01:16:52,090
and we can worry about where we want to

1414
01:16:50,140 --> 01:16:54,760
organize that later if for some reason

1415
01:16:52,090 --> 01:16:59,199
it becomes an issue so I'm just gonna

1416
01:16:54,760 --> 01:17:03,880
say that this stuff is going to come out

1417
01:16:59,199 --> 01:17:06,099
here and sort of have a set of

1418
01:17:03,880 --> 01:17:15,449
specifications we can move it somewhere

1419
01:17:06,100 --> 01:17:15,450
else later if I care when I care oops

1420
01:17:21,479 --> 01:17:27,509
gotta love the whole forward

1421
01:17:23,619 --> 01:17:31,149
declarations required and see nonsense

1422
01:17:27,510 --> 01:17:33,460
well all the changes to spec eight

1423
01:17:31,149 --> 01:17:35,139
billion things that the C++ committee

1424
01:17:33,460 --> 01:17:39,579
added they never got rid of the need to

1425
01:17:35,140 --> 01:17:40,510
forward declare absolutely bonkers all

1426
01:17:39,579 --> 01:17:44,640
right

1427
01:17:40,510 --> 01:17:44,640
so let's see here

1428
01:18:02,270 --> 01:18:12,489
shadow alpha is how often do we use this

1429
01:18:08,170 --> 01:18:12,489
no we'll just put it up here for now

1430
01:18:27,158 --> 01:18:44,618
so lace there we go and I think we're

1431
01:18:35,060 --> 01:18:44,619
good now all right that should do it

1432
01:18:46,689 --> 01:18:53,689
there we go uh and now I think we've

1433
01:18:51,109 --> 01:18:59,359
sort of gotten all of our ducks in a row

1434
01:18:53,689 --> 01:19:10,460
eggs egg ducklings are duck eggs in a

1435
01:18:59,359 --> 01:19:12,979
row are our broccoli in a row so what

1436
01:19:10,460 --> 01:19:15,050
I'm going to do now is again just try to

1437
01:19:12,979 --> 01:19:17,269
get our game back up into a running

1438
01:19:15,050 --> 01:19:18,829
state since obviously we don't have a

1439
01:19:17,270 --> 01:19:20,179
bunch of stuff that we're saying we need

1440
01:19:18,829 --> 01:19:23,149
to have how much time do I have I've got

1441
01:19:20,179 --> 01:19:27,170
like 35 minutes I think something like

1442
01:19:23,149 --> 01:19:29,868
that so what I want to do now is I want

1443
01:19:27,170 --> 01:19:38,329
to go through and say okay let's take a

1444
01:19:29,868 --> 01:19:41,389
look at how we could make our generation

1445
01:19:38,329 --> 01:19:44,149
code just generate some rooms that are

1446
01:19:41,389 --> 01:19:45,529
totally wrong that don't do any of the

1447
01:19:44,149 --> 01:19:48,829
things we asked them to do but that's

1448
01:19:45,529 --> 01:19:50,929
fine and then get the game running in

1449
01:19:48,829 --> 01:19:54,260
that state and then start working on the

1450
01:19:50,929 --> 01:20:00,199
layout algorithm portion of the system

1451
01:19:54,260 --> 01:20:02,810
right step-by-step so now what I want to

1452
01:20:00,198 --> 01:20:08,469
do in here inside the the world gem

1453
01:20:02,810 --> 01:20:08,469
system is I want to go ahead and

1454
01:20:08,939 --> 01:20:13,379
some nominal way that layout does

1455
01:20:11,520 --> 01:20:14,730
something right it's not going to do

1456
01:20:13,380 --> 01:20:16,949
what we want to do but it will do

1457
01:20:14,729 --> 01:20:19,198
something and so what's its gonna do is

1458
01:20:16,948 --> 01:20:20,669
it's gonna do the Thomas possible room

1459
01:20:19,198 --> 01:20:22,529
layout algorithm you could possibly have

1460
01:20:20,670 --> 01:20:24,270
that doesn't satisfy any of the

1461
01:20:22,529 --> 01:20:27,029
constraints that we asked for but again

1462
01:20:24,270 --> 01:20:28,500
we don't care yet what I'm gonna do is

1463
01:20:27,029 --> 01:20:33,779
just step through each of the rooms and

1464
01:20:28,500 --> 01:20:35,399
just give them up grid like I'm just

1465
01:20:33,779 --> 01:20:38,159
gonna stamp them down right I'm just

1466
01:20:35,399 --> 01:20:40,559
gonna stamp down the rooms completely

1467
01:20:38,159 --> 01:20:42,750
irrespective of where I said they should

1468
01:20:40,560 --> 01:20:45,330
go so it's not useful to us but again it

1469
01:20:42,750 --> 01:20:48,750
helps us get a little baby step you know

1470
01:20:45,329 --> 01:20:50,670
by baby step so I know that these are

1471
01:20:48,750 --> 01:20:53,069
all the things I needed to fill out in

1472
01:20:50,670 --> 01:21:04,980
the room structure right I know I need

1473
01:20:53,069 --> 01:21:18,630
each of these and so I'm just going to

1474
01:21:04,979 --> 01:21:21,349
set them and each of these is gonna be

1475
01:21:18,630 --> 01:21:21,350
something

1476
01:21:39,840 --> 01:21:59,500
let's say I should probably just make a

1477
01:21:56,680 --> 01:22:02,140
pointer to that off of the Jen but we'll

1478
01:21:59,500 --> 01:22:04,720
think about that later so if I make a

1479
01:22:02,140 --> 01:22:07,600
random between let's say it's got to be

1480
01:22:04,720 --> 01:22:16,270
at least eight wide it can be up to 16

1481
01:22:07,600 --> 01:22:23,410
wide it could be between like 6 tall and

1482
01:22:16,270 --> 01:22:32,260
9 tall or something and it's one high

1483
01:22:23,409 --> 01:22:34,210
just cuz yes so you know let's say do

1484
01:22:32,260 --> 01:22:41,770
something like that and then in here I

1485
01:22:34,210 --> 01:22:43,420
just have a tile X tile Y tile Z and I

1486
01:22:41,770 --> 01:22:45,070
don't know what these are gonna be but

1487
01:22:43,420 --> 01:22:48,279
you know they're like ten thousand or

1488
01:22:45,069 --> 01:22:55,769
something what did we start them with

1489
01:22:48,279 --> 01:22:55,769
before remember

1490
01:23:21,298 --> 01:23:41,538
oh so did we do well we did all these

1491
01:23:26,219 --> 01:23:41,538
with s 32s before oh well never mind

1492
01:23:47,779 --> 01:23:52,039
we're good everything I just said

1493
01:23:52,338 --> 01:24:12,658
but it's that actually the case yeah I

1494
01:24:11,128 --> 01:24:15,899
guess it always is the case all right

1495
01:24:12,658 --> 01:24:25,768
well great then we just start at zero

1496
01:24:15,899 --> 01:24:28,559
and it makes some sense all right

1497
01:24:25,769 --> 01:24:32,179
well forget all that doesn't matter easy

1498
01:24:28,559 --> 01:24:32,179
peasy lemon squeezy

1499
01:24:32,748 --> 01:24:44,358
everything's fine uh so let's just go

1500
01:24:36,088 --> 01:24:51,208
ahead and do that then and let that be

1501
01:24:44,359 --> 01:24:55,349
as the Beatles famously said and and yet

1502
01:24:51,208 --> 01:24:58,368
all of this stuff can just not care

1503
01:24:55,349 --> 01:24:58,369
about that at all

1504
01:25:10,170 --> 01:25:16,000
and I think that's that so when I create

1505
01:25:14,139 --> 01:25:18,039
these here what I want to do is I'm just

1506
01:25:16,000 --> 01:25:22,060
gonna line them up so I'm just gonna say

1507
01:25:18,039 --> 01:25:24,158
tile X plus equals room X count here and

1508
01:25:22,060 --> 01:25:26,560
then all our rooms are just lined up in

1509
01:25:24,158 --> 01:25:35,799
a row laterally that's all they're gonna

1510
01:25:26,560 --> 01:25:39,190
do right not particularly exciting looks

1511
01:25:35,800 --> 01:25:46,150
like this needs the world stripped so

1512
01:25:39,189 --> 01:25:48,158
I'm gonna make it take that and I think

1513
01:25:46,149 --> 01:25:50,799
that actually does our world creation

1514
01:25:48,158 --> 01:25:53,879
now one of the problems that we're then

1515
01:25:50,800 --> 01:25:56,650
going to have is we don't have any

1516
01:25:53,880 --> 01:25:58,929
camera setup so I'm gonna try and get

1517
01:25:56,649 --> 01:26:04,569
that set up you can see here that that

1518
01:25:58,929 --> 01:26:06,639
happens in in this piece of code and so

1519
01:26:04,569 --> 01:26:09,009
I'm going to try and make that occur as

1520
01:26:06,639 --> 01:26:11,219
well now in the future we're gonna want

1521
01:26:09,010 --> 01:26:14,850
to actually have some information about

1522
01:26:11,219 --> 01:26:17,529
where the camera should actually be and

1523
01:26:14,850 --> 01:26:19,570
so maybe I'm gonna like start us down

1524
01:26:17,529 --> 01:26:21,519
that path a little bit so you can see

1525
01:26:19,569 --> 01:26:26,880
here where we've got our camera P and we

1526
01:26:21,520 --> 01:26:31,750
say like okay hey the camera location

1527
01:26:26,880 --> 01:26:36,909
should be whatever this new camera

1528
01:26:31,750 --> 01:26:43,810
position is I don't know how we exactly

1529
01:26:36,908 --> 01:26:45,129
want to sort of send that back out but I

1530
01:26:43,810 --> 01:26:49,300
think that's just going to be something

1531
01:26:45,130 --> 01:26:50,440
we're gonna want to report right like

1532
01:26:49,300 --> 01:26:54,579
we're just going to want to kick that

1533
01:26:50,439 --> 01:27:00,158
back to the world mode so you know maybe

1534
01:26:54,579 --> 01:27:02,920
more properly something like this where

1535
01:27:00,158 --> 01:27:04,809
we just need the this creation to kick

1536
01:27:02,920 --> 01:27:07,569
us back something we can use to figure

1537
01:27:04,810 --> 01:27:09,060
out where we should start looking right

1538
01:27:07,569 --> 01:27:12,269
and

1539
01:27:09,060 --> 01:27:12,270
[Music]

1540
01:27:17,988 --> 01:27:25,959
I think that's really all we will need I

1541
01:27:22,960 --> 01:27:25,960
hope

1542
01:27:32,880 --> 01:27:38,970
yeah should be so what I want to do

1543
01:27:37,020 --> 01:27:51,840
there is just have like something like

1544
01:27:38,970 --> 01:27:58,020
this so when we do our generation we're

1545
01:27:51,840 --> 01:28:01,319
probably going to get back a bunch of

1546
01:27:58,020 --> 01:28:03,870
stuff probably but one of the main

1547
01:28:01,319 --> 01:28:04,859
things we'll get back is the initial

1548
01:28:03,869 --> 01:28:08,010
camera location

1549
01:28:04,859 --> 01:28:16,380
so when we call create world here what I

1550
01:28:08,010 --> 01:28:30,750
want to do is oops send back this

1551
01:28:16,380 --> 01:28:43,529
initial camera location and then that's

1552
01:28:30,750 --> 01:28:46,770
something that that's something that can

1553
01:28:43,529 --> 01:28:49,079
be used outside to set world mode' stuff

1554
01:28:46,770 --> 01:28:55,490
or it doesn't really matter anything you

1555
01:28:49,079 --> 01:28:57,359
want right and so I think all of that is

1556
01:28:55,489 --> 01:29:00,539
pretty much done

1557
01:28:57,359 --> 01:29:02,519
furthermore the transient State actually

1558
01:29:00,539 --> 01:29:04,590
now that I look at it that arena coming

1559
01:29:02,520 --> 01:29:09,720
in is really we could just use that for

1560
01:29:04,590 --> 01:29:11,369
our memory because everything in here

1561
01:29:09,720 --> 01:29:13,500
that happens on that transient state

1562
01:29:11,369 --> 01:29:16,880
could yeah so so we could actually just

1563
01:29:13,500 --> 01:29:16,880
feed into that if we want to

1564
01:29:33,960 --> 01:29:39,789
so we kind of have the option of doing

1565
01:29:36,640 --> 01:29:42,579
mostly that but we don't have to do that

1566
01:29:39,789 --> 01:29:44,229
at the moment so inside here where we're

1567
01:29:42,579 --> 01:29:46,269
doing our create world stuff everything

1568
01:29:44,229 --> 01:29:47,709
can just happen after we're done

1569
01:29:46,270 --> 01:29:49,540
generating the world we need to have

1570
01:29:47,710 --> 01:29:52,600
some idea of where the camera should

1571
01:29:49,539 --> 01:29:55,390
start out at the moment we kind of know

1572
01:29:52,600 --> 01:29:57,460
someplace we could put it so I'm just

1573
01:29:55,390 --> 01:30:00,190
gonna cold put it there let's say that

1574
01:29:57,460 --> 01:30:03,430
we're just gonna put it at you know four

1575
01:30:00,189 --> 01:30:05,739
four zero or something like that but in

1576
01:30:03,430 --> 01:30:07,570
the future we are gonna actually have a

1577
01:30:05,739 --> 01:30:09,219
way for the generator to say where that

1578
01:30:07,569 --> 01:30:10,750
is because we're gonna want to place the

1579
01:30:09,220 --> 01:30:13,300
camera somewhere specific so we'll do

1580
01:30:10,750 --> 01:30:17,739
that but I wanted to kind of get the the

1581
01:30:13,300 --> 01:30:22,239
flow correct here and so that's why I

1582
01:30:17,739 --> 01:30:24,489
sort of started out with this as being

1583
01:30:22,239 --> 01:30:26,800
you know as there being a conduit for

1584
01:30:24,489 --> 01:30:34,389
the camera position so it makes a little

1585
01:30:26,800 --> 01:30:39,550
bit more sense so results initial camera

1586
01:30:34,390 --> 01:30:43,860
P this is probably it's probably should

1587
01:30:39,550 --> 01:30:43,860
look more like that's look like that

1588
01:30:45,000 --> 01:30:49,619
don't ask me why I didn't just type this

1589
01:30:51,420 --> 01:30:59,319
in the first place but you know I didn't

1590
01:30:56,159 --> 01:31:00,639
so let's just take a look at that and

1591
01:30:59,319 --> 01:31:04,569
we'll sort of start stepping through

1592
01:31:00,640 --> 01:31:07,720
that and try to get that working to

1593
01:31:04,569 --> 01:31:14,710
create something we can actually see and

1594
01:31:07,720 --> 01:31:17,619
hop around on right so because like I

1595
01:31:14,710 --> 01:31:19,060
said I don't really know I got a go one

1596
01:31:17,619 --> 01:31:21,010
one of our reasons for doing this is to

1597
01:31:19,060 --> 01:31:21,490
sort of get the camera code finalized as

1598
01:31:21,010 --> 01:31:24,489
well

1599
01:31:21,489 --> 01:31:27,579
so that camera code I'm not sure how

1600
01:31:24,489 --> 01:31:29,920
stable that stuff is anyway or if that's

1601
01:31:27,579 --> 01:31:31,000
even right so we're gonna have to play

1602
01:31:29,920 --> 01:31:32,969
around with a little bit of that stuff

1603
01:31:31,000 --> 01:31:37,469
anyway and and

1604
01:31:32,969 --> 01:31:38,939
but for now let's just go figure out

1605
01:31:37,469 --> 01:31:40,469
whether we're creating our rooms at all

1606
01:31:38,939 --> 01:31:42,599
and whether they're in places that make

1607
01:31:40,469 --> 01:31:44,279
any sense or any of that stuff and then

1608
01:31:42,600 --> 01:31:49,850
we'll sort of work our way up from there

1609
01:31:44,279 --> 01:31:49,849
so going into the world Jen I'm going to

1610
01:31:50,300 --> 01:31:56,820
jump right to the end so I can see what

1611
01:31:54,329 --> 01:32:16,380
sorts of stuff we're telling the game we

1612
01:31:56,819 --> 01:32:20,519
want to do right all right so those look

1613
01:32:16,380 --> 01:32:27,180
like sane values right and when we come

1614
01:32:20,520 --> 01:32:30,000
down into here our change Center looks

1615
01:32:27,180 --> 01:32:35,640
pretty reasonable to me our change

1616
01:32:30,000 --> 01:32:37,140
rectangle also looks pretty reasonable

1617
01:32:35,640 --> 01:32:40,289
to me

1618
01:32:37,140 --> 01:32:43,829
we begin our world change and we start

1619
01:32:40,289 --> 01:32:51,609
making a bunch of entities and we place

1620
01:32:43,829 --> 01:32:54,710
those entities in some places

1621
01:32:51,609 --> 01:32:54,710
[Music]

1622
01:33:06,229 --> 01:33:14,089
those places seem pretty reasonable to

1623
01:33:11,090 --> 01:33:14,090
me

1624
01:33:23,149 --> 01:33:31,379
and there are interiors as well as

1625
01:33:26,789 --> 01:33:35,939
boundaries so that's good so it looks

1626
01:33:31,380 --> 01:33:39,239
like we have added what we wanted to add

1627
01:33:35,939 --> 01:33:40,559
right now what I do know is if any of

1628
01:33:39,238 --> 01:33:42,738
that stuff's getting packed back

1629
01:33:40,560 --> 01:33:46,800
correctly I suppose so I should also

1630
01:33:42,738 --> 01:33:50,089
just double-check that that's occurring

1631
01:33:46,800 --> 01:33:50,090
here right

1632
01:34:10,770 --> 01:34:17,290
so I mean it looks pretty reasonable so

1633
01:34:14,800 --> 01:34:18,820
I would say that it looks like our basic

1634
01:34:17,289 --> 01:34:21,489
world generation stuff seems to be

1635
01:34:18,819 --> 01:34:23,559
working okay I don't know what the

1636
01:34:21,489 --> 01:34:26,229
initial camera p-value is but I assume

1637
01:34:23,560 --> 01:34:31,420
it's reasonable it looks fairly

1638
01:34:26,229 --> 01:34:35,829
reasonable and so then we pop back out

1639
01:34:31,420 --> 01:34:38,260
here and we set the initial camera stuff

1640
01:34:35,829 --> 01:34:41,489
I don't know there's anything else that

1641
01:34:38,260 --> 01:34:41,489
we're not setting

1642
01:34:49,738 --> 01:34:55,238
it doesn't look like it so I think we're

1643
01:34:52,599 --> 01:35:02,679
good so once we come out here and we

1644
01:34:55,238 --> 01:35:05,888
have a new world that's been created I'm

1645
01:35:02,679 --> 01:35:08,668
not really sure I I remember the AB

1646
01:35:05,889 --> 01:35:11,319
player stuff being a little bit nasty

1647
01:35:08,668 --> 01:35:14,108
because it kinda has to check for

1648
01:35:11,319 --> 01:35:16,358
joining players as a separate pass

1649
01:35:14,109 --> 01:35:21,609
because the first player is kind of

1650
01:35:16,359 --> 01:35:23,619
special right but you know whatever so

1651
01:35:21,609 --> 01:35:29,439
when we actually take a look at what the

1652
01:35:23,618 --> 01:35:32,378
world position is of of this this guy

1653
01:35:29,439 --> 01:35:34,329
here again that's a pretty reasonable

1654
01:35:32,378 --> 01:35:38,998
location that's I think where we would

1655
01:35:34,328 --> 01:35:38,998
expect that person to be added in fact

1656
01:36:04,840 --> 01:36:15,920
let's take a look at update camera so I

1657
01:36:13,939 --> 01:36:20,689
guess one problem that we do have here

1658
01:36:15,920 --> 01:36:25,119
and you can kind of see it is this code

1659
01:36:20,689 --> 01:36:25,119
is kind of stupid

1660
01:36:33,599 --> 01:36:40,149
but it does remind us we have to create

1661
01:36:37,229 --> 01:36:43,269
our camera track our camera information

1662
01:36:40,149 --> 01:36:45,909
entities otherwise the camera doesn't

1663
01:36:43,269 --> 01:36:47,619
know what to do so I suppose we should

1664
01:36:45,908 --> 01:36:50,348
add that because since we're not really

1665
01:36:47,618 --> 01:36:51,878
updating that code just yet let's just

1666
01:36:50,349 --> 01:36:56,248
add that in there as well

1667
01:36:51,878 --> 01:36:59,229
so inside world Jen I'm sorry room Jen

1668
01:36:56,248 --> 01:37:04,948
what I'm talking about here

1669
01:36:59,229 --> 01:37:10,840
is this stuff so we want to make a

1670
01:37:04,948 --> 01:37:12,759
entity for the room that just says kind

1671
01:37:10,840 --> 01:37:16,409
of what the camera state of this of this

1672
01:37:12,760 --> 01:37:16,409
thing is right so it's just that

1673
01:37:29,289 --> 01:37:36,720
and I guess it's at the center stop

1674
01:37:34,449 --> 01:37:36,720
these

1675
01:37:56,420 --> 01:37:59,020
yeah

1676
01:38:04,828 --> 01:38:17,469
sooo hmm none of this stuff really cares

1677
01:38:10,538 --> 01:38:20,889
about we're sort of in this situation of

1678
01:38:17,469 --> 01:38:23,739
we'd like to talk about tiles because it

1679
01:38:20,889 --> 01:38:25,809
helps us with the world generation but

1680
01:38:23,738 --> 01:38:30,089
none of this stuff cares about tiles it

1681
01:38:25,809 --> 01:38:32,409
would be nice to stop dealing with that

1682
01:38:30,090 --> 01:38:38,619
so I think that might be something that

1683
01:38:32,408 --> 01:38:43,238
I want to start doing next time sort of

1684
01:38:38,618 --> 01:38:49,569
transform out of that pretty early but

1685
01:38:43,238 --> 01:38:51,779
whatever we'll get there when we get

1686
01:38:49,569 --> 01:38:51,779
there

1687
01:39:02,890 --> 01:39:11,170
so that's fine and dandy and again this

1688
01:39:09,520 --> 01:39:23,620
has to be the center which we kind of

1689
01:39:11,170 --> 01:39:27,159
already wanted to know well actually

1690
01:39:23,619 --> 01:39:30,670
it's just this and we already have it so

1691
01:39:27,159 --> 01:39:33,149
I'm just going to pass it it's just not

1692
01:39:30,670 --> 01:39:33,149
quite correct

1693
01:40:02,469 --> 01:40:10,239
so that just wants to know like the the

1694
01:40:08,229 --> 01:40:13,589
width and the height and so on so I mean

1695
01:40:10,238 --> 01:40:13,589
that's just this

1696
01:40:29,179 --> 01:40:48,800
know what necessarily goes there all

1697
01:40:45,059 --> 01:40:48,800
right moving on

1698
01:41:07,300 --> 01:41:16,119
okay so we're getting further however

1699
01:41:13,350 --> 01:41:18,910
although our rooms are properly stacked

1700
01:41:16,119 --> 01:41:25,659
up for some reason I'm not seeing the

1701
01:41:18,909 --> 01:41:28,449
entities that make up the that make up

1702
01:41:25,659 --> 01:41:35,649
the actual ground so almost there but

1703
01:41:28,449 --> 01:41:37,300
not quite so we're not this stuff seems

1704
01:41:35,649 --> 01:41:40,359
a little bit broken for some reason but

1705
01:41:37,300 --> 01:41:45,460
I'm not sure why but I think that's all

1706
01:41:40,359 --> 01:41:47,679
we've got to fix now how it worked to

1707
01:41:45,460 --> 01:41:54,130
have a traversable but not where you

1708
01:41:47,680 --> 01:41:57,430
couldn't actually see the the ground

1709
01:41:54,130 --> 01:42:00,659
pieces I'm not sure but then again we

1710
01:41:57,430 --> 01:42:08,730
did make a lot of changes so you know

1711
01:42:00,659 --> 01:42:08,729
maybe that makes sense okay so anyway

1712
01:42:14,239 --> 01:42:21,500
I want to check out the ad piece let me

1713
01:42:18,460 --> 01:42:24,939
do again a little bit of a just take a

1714
01:42:21,500 --> 01:42:24,939
little bit of a gander at this here

1715
01:42:35,949 --> 01:42:44,800
all of these cubes should have gotten

1716
01:42:41,260 --> 01:42:47,489
added they should be relatively

1717
01:42:44,800 --> 01:42:47,489
reasonable

1718
01:42:55,449 --> 01:43:13,779
you don't see any other weird things

1719
01:43:02,439 --> 01:43:17,489
here unless floor tile Z is somehow

1720
01:43:13,779 --> 01:43:17,489
worked there which it mean it could be

1721
01:43:36,198 --> 01:43:42,448
so I guess one thing that's a little

1722
01:43:40,380 --> 01:43:45,559
weird let me just go ahead and make sure

1723
01:43:42,448 --> 01:43:50,308
that I don't have some other interceding

1724
01:43:45,559 --> 01:43:54,300
oddity here I want to make sure that

1725
01:43:50,309 --> 01:43:56,400
we're grabbing you know sensible area or

1726
01:43:54,300 --> 01:43:59,210
that we're looking at reasonable areas

1727
01:43:56,399 --> 01:44:03,420
as far as the sim region is concerned

1728
01:43:59,210 --> 01:44:08,448
yeah that's what I feared so it looks

1729
01:44:03,420 --> 01:44:12,719
like the sim region is not in this area

1730
01:44:08,448 --> 01:44:14,879
so we're still a little bit forked just

1731
01:44:12,719 --> 01:44:16,319
with our startup so what I was trying to

1732
01:44:14,880 --> 01:44:21,090
do there right is I was just trying to

1733
01:44:16,319 --> 01:44:24,808
see what the world's bounds were and in

1734
01:44:21,090 --> 01:44:26,610
fact I can do a push volume outline here

1735
01:44:24,809 --> 01:44:31,320
if I wanted to I probably should in the

1736
01:44:26,609 --> 01:44:35,960
future but if I look at the if I look at

1737
01:44:31,319 --> 01:44:48,319
the world sim bounds I'm not seeing them

1738
01:44:35,960 --> 01:44:48,319
so as far as this is concerned here

1739
01:44:52,130 --> 01:45:03,359
we're definitely getting ah so this is

1740
01:44:59,309 --> 01:45:06,389
our problem here right our our region

1741
01:45:03,359 --> 01:45:09,750
that we are trying to pull in is never

1742
01:45:06,389 --> 01:45:11,849
defined right because again this is

1743
01:45:09,750 --> 01:45:13,260
stuff that kind of was just hacked in

1744
01:45:11,849 --> 01:45:15,000
there because we didn't have a world

1745
01:45:13,260 --> 01:45:17,489
generator so we didn't really have any

1746
01:45:15,000 --> 01:45:18,840
idea about how we want to do any of

1747
01:45:17,488 --> 01:45:21,598
these things so it kind of just sits

1748
01:45:18,840 --> 01:45:23,099
there and does its thing but what you

1749
01:45:21,599 --> 01:45:24,929
can see is in the code that we comped it

1750
01:45:23,099 --> 01:45:28,170
out right there's standard room

1751
01:45:24,929 --> 01:45:29,849
dimension is getting set here and if we

1752
01:45:28,170 --> 01:45:34,828
don't set that then we're never going to

1753
01:45:29,849 --> 01:45:36,000
be able to see anything happen because

1754
01:45:34,828 --> 01:45:38,789
nothing's gonna get pulled in in the

1755
01:45:36,000 --> 01:45:40,760
same region I don't think we want it to

1756
01:45:38,789 --> 01:45:43,109
work that way right in the future

1757
01:45:40,760 --> 01:45:47,150
there's a lot of reasons we wouldn't I'm

1758
01:45:43,109 --> 01:45:47,149
gonna go ahead and switch this over to

1759
01:45:48,609 --> 01:45:55,969
mmm-hmm optimize build so we can play a

1760
01:45:52,639 --> 01:45:59,510
little I'll play it as a perhaps an

1761
01:45:55,969 --> 01:46:01,550
incorrect term at this point so what you

1762
01:45:59,510 --> 01:46:05,630
can see here right is the hero is now

1763
01:46:01,550 --> 01:46:09,440
confined to essentially a pen right and

1764
01:46:05,630 --> 01:46:11,630
and can't go outside of it and of course

1765
01:46:09,439 --> 01:46:14,719
the reason that that the hero can't go

1766
01:46:11,630 --> 01:46:16,788
outside of the pen is because we don't

1767
01:46:14,719 --> 01:46:18,859
have any respect for the connections

1768
01:46:16,788 --> 01:46:21,368
between rooms right like I was talking

1769
01:46:18,859 --> 01:46:24,710
about before and that's to be expected

1770
01:46:21,368 --> 01:46:28,670
so when we look now we've got you can

1771
01:46:24,710 --> 01:46:30,828
see the other rooms out there and we

1772
01:46:28,670 --> 01:46:33,050
would like to be able to go you know

1773
01:46:30,828 --> 01:46:35,058
we'd like to be able to get from room to

1774
01:46:33,050 --> 01:46:38,599
room in some way but we of course can't

1775
01:46:35,059 --> 01:46:40,429
and that's fine so I think we've

1776
01:46:38,599 --> 01:46:42,110
essentially finished all of the stuff

1777
01:46:40,429 --> 01:46:44,059
that I had wanted to finish in terms of

1778
01:46:42,109 --> 01:46:45,380
getting the basic room layout stuff and

1779
01:46:44,059 --> 01:46:46,940
cleaning up the way that we create any

1780
01:46:45,380 --> 01:46:50,750
is anything that actually looks pretty

1781
01:46:46,939 --> 01:46:52,609
good I don't think we have time to

1782
01:46:50,750 --> 01:46:57,288
really do anything else right now before

1783
01:46:52,609 --> 01:46:59,000
we end up moving to the next but before

1784
01:46:57,288 --> 01:47:02,719
the episode would end we only have ten

1785
01:46:59,000 --> 01:47:05,328
minutes left and that's not really

1786
01:47:02,719 --> 01:47:08,239
enough time to do anything as far as

1787
01:47:05,328 --> 01:47:12,319
getting the actual layout stuff to work

1788
01:47:08,238 --> 01:47:15,348
now what I can do potentially is maybe

1789
01:47:12,319 --> 01:47:26,210
get doors working a little bit I'm not

1790
01:47:15,349 --> 01:47:28,550
sure so I can do something that has to

1791
01:47:26,210 --> 01:47:31,099
do with doors I'll put it to you that

1792
01:47:28,550 --> 01:47:31,489
way I can do a little bit of work on the

1793
01:47:31,099 --> 01:47:35,449
doors

1794
01:47:31,488 --> 01:47:36,799
I just can't finish the actual real

1795
01:47:35,448 --> 01:47:38,569
layout stuff because that's gonna be

1796
01:47:36,800 --> 01:47:41,480
like probably all next weekend getting a

1797
01:47:38,569 --> 01:47:43,518
basic one of those working right um so

1798
01:47:41,479 --> 01:47:45,768
now if what I want to do here is just

1799
01:47:43,519 --> 01:47:47,929
have there be a way to make doors well

1800
01:47:45,769 --> 01:47:52,369
now and hopefully you can see already

1801
01:47:47,929 --> 01:47:53,960
even just early on here how this starts

1802
01:47:52,368 --> 01:47:56,118
to take shape before we kind of just

1803
01:47:53,960 --> 01:47:58,099
have this haphazard way of slapping down

1804
01:47:56,118 --> 01:48:00,829
some test stuff well now when we call

1805
01:47:58,099 --> 01:48:03,980
generate room well when I go to

1806
01:48:00,829 --> 01:48:06,590
the room if I want to make a door I

1807
01:48:03,979 --> 01:48:09,589
actually have some way of knowing what I

1808
01:48:06,590 --> 01:48:12,770
might make for a door because a room has

1809
01:48:09,590 --> 01:48:15,230
a list of connections to other rooms in

1810
01:48:12,770 --> 01:48:17,800
it and we can imagine that list of

1811
01:48:15,229 --> 01:48:20,839
connections actually having some

1812
01:48:17,800 --> 01:48:24,199
carrying some weight so that it knows

1813
01:48:20,840 --> 01:48:27,079
where those connections might be so for

1814
01:48:24,199 --> 01:48:29,869
example if I was to go to the world

1815
01:48:27,079 --> 01:48:31,489
champ code and say that a Jen connection

1816
01:48:29,869 --> 01:48:33,979
which is a connection from one room to

1817
01:48:31,489 --> 01:48:35,989
another connection actually has a piece

1818
01:48:33,979 --> 01:48:41,959
of information in it that says where

1819
01:48:35,989 --> 01:48:46,159
that connection is spatially then I can

1820
01:48:41,960 --> 01:48:48,500
actually I know what to put there when

1821
01:48:46,159 --> 01:48:51,319
I'm looking at the other room so for

1822
01:48:48,500 --> 01:48:53,630
example in here what I could say is you

1823
01:48:51,319 --> 01:48:56,210
know this connection has maybe a

1824
01:48:53,630 --> 01:48:59,329
boundary to it let's do something very

1825
01:48:56,210 --> 01:49:01,819
simple in that regard let's say that

1826
01:48:59,329 --> 01:49:04,809
we're going to make something like a

1827
01:49:01,819 --> 01:49:04,809
Jenn

1828
01:49:05,119 --> 01:49:11,619
a Jenn volume which maybe is one of

1829
01:49:09,260 --> 01:49:11,619
these things

1830
01:49:22,789 --> 01:49:26,840
something like this I don't know and

1831
01:49:25,220 --> 01:49:29,360
again I don't really know how we want to

1832
01:49:26,840 --> 01:49:37,909
store that but let's say we have one of

1833
01:49:29,359 --> 01:49:55,219
those so a room has a volume and that

1834
01:49:37,909 --> 01:50:20,389
volume you know we can we can use more

1835
01:49:55,220 --> 01:50:21,920
directly all right so what I want to do

1836
01:50:20,390 --> 01:50:23,810
now is basically have a knock out volume

1837
01:50:21,920 --> 01:50:25,190
so I want to be able to say that if a

1838
01:50:23,810 --> 01:50:28,300
room has a connection to another room

1839
01:50:25,189 --> 01:50:35,869
maybe that connection also has a volume

1840
01:50:28,300 --> 01:50:40,579
so and if you're inside that volume then

1841
01:50:35,869 --> 01:50:43,069
I don't want to actually put any walls

1842
01:50:40,579 --> 01:50:47,869
there right so on boundary is going to

1843
01:50:43,069 --> 01:50:52,130
be this but if you're inside any of the

1844
01:50:47,869 --> 01:51:03,949
other connections then we're just going

1845
01:50:52,130 --> 01:51:06,260
to forget about it right something like

1846
01:51:03,949 --> 01:51:08,300
that right

1847
01:51:06,260 --> 01:51:10,430
alternatively what I could do is say if

1848
01:51:08,300 --> 01:51:12,230
I'm on a boundary and not on a

1849
01:51:10,430 --> 01:51:13,610
connection because maybe I want to know

1850
01:51:12,229 --> 01:51:17,179
that or something and I don't know

1851
01:51:13,609 --> 01:51:19,369
whatever doesn't matter uh so what I

1852
01:51:17,180 --> 01:51:20,990
want to do here is say alright when I'm

1853
01:51:19,369 --> 01:51:24,729
gonna create this thing

1854
01:51:20,989 --> 01:51:24,729
I'm gonna go ahead and do

1855
01:51:29,979 --> 01:51:34,519
something like this where I say alright

1856
01:51:32,118 --> 01:51:37,759
I've got an X index of Y index and

1857
01:51:34,520 --> 01:51:40,849
whatever right and I want to know

1858
01:51:37,760 --> 01:51:44,750
whether or not that's inside some volume

1859
01:51:40,849 --> 01:51:46,940
that I've got here so I have whatever

1860
01:51:44,750 --> 01:51:49,488
the the connection is that I'm looking

1861
01:51:46,939 --> 01:51:51,589
at I want to basically say like am i

1862
01:51:49,488 --> 01:51:54,769
inside that connection volume whatever

1863
01:51:51,590 --> 01:51:57,170
it is and then you hear what I can do is

1864
01:51:54,770 --> 01:51:59,540
I can loop over all the connections for

1865
01:51:57,170 --> 01:52:04,699
this room so I can say alright there's a

1866
01:51:59,539 --> 01:52:06,800
genuine connection and that's just going

1867
01:52:04,698 --> 01:52:09,859
to be equal to the rooms first

1868
01:52:06,800 --> 01:52:23,060
connection and then I'm just going to

1869
01:52:09,859 --> 01:52:24,408
loop over those and off I go right so

1870
01:52:23,060 --> 01:52:26,030
now you can kind of see how we can link

1871
01:52:24,408 --> 01:52:27,408
rooms up once we create a connection we

1872
01:52:26,029 --> 01:52:29,710
just say where that connection is

1873
01:52:27,408 --> 01:52:32,328
between the two rooms and then it will

1874
01:52:29,710 --> 01:52:33,770
not put something there all we need is a

1875
01:52:32,328 --> 01:52:35,929
query that will tell us whether or not

1876
01:52:33,770 --> 01:52:37,520
we're inside one of these things not

1877
01:52:35,929 --> 01:52:39,770
very difficult to write as you might

1878
01:52:37,520 --> 01:52:43,420
imagine if I have one of these gem

1879
01:52:39,770 --> 01:52:47,570
valium structures and then I have an X

1880
01:52:43,420 --> 01:52:50,630
of Y and a Z then I know that all I have

1881
01:52:47,569 --> 01:52:52,519
to do is say that the results is going

1882
01:52:50,630 --> 01:52:58,760
to be if the X is greater than or equal

1883
01:52:52,520 --> 01:53:05,179
to the X of the volume and the X is less

1884
01:52:58,760 --> 01:53:09,550
than the volume plus hips plus the X

1885
01:53:05,179 --> 01:53:09,550
count right

1886
01:53:19,760 --> 01:53:23,989
if all of my rain checks succeed on each

1887
01:53:22,159 --> 01:53:34,099
axis then I know I'm inside the volume

1888
01:53:23,989 --> 01:53:37,519
and off we go so that's all fine at this

1889
01:53:34,100 --> 01:53:39,380
point those volumes will be null so

1890
01:53:37,520 --> 01:53:41,270
nothing should happen when I run this

1891
01:53:39,380 --> 01:53:44,060
right it'll just create the same rooms

1892
01:53:41,270 --> 01:53:47,420
that it created before and then refine

1893
01:53:44,060 --> 01:53:50,000
if however I was to just hard code when

1894
01:53:47,420 --> 01:53:50,779
we create a connection like I said we

1895
01:53:50,000 --> 01:53:53,270
don't actually know where the

1896
01:53:50,779 --> 01:53:55,159
connections going yet but if I was to

1897
01:53:53,270 --> 01:53:58,160
hard-code some of those in the world

1898
01:53:55,159 --> 01:53:59,420
generator so in here when it calls the

1899
01:53:58,159 --> 01:54:02,269
layout and it's putting these things in

1900
01:53:59,420 --> 01:54:03,590
there if I was to take the connections

1901
01:54:02,270 --> 01:54:05,210
for the room or something like that and

1902
01:54:03,590 --> 01:54:07,220
hard-coded or something I could make

1903
01:54:05,210 --> 01:54:08,329
these daisy chaining together and the

1904
01:54:07,220 --> 01:54:10,730
way that I do that it's just like all

1905
01:54:08,329 --> 01:54:14,449
right you know like I said we just hard

1906
01:54:10,729 --> 01:54:19,039
code them so maybe when I go over this

1907
01:54:14,449 --> 01:54:41,329
room i I just loop over the connections

1908
01:54:19,039 --> 01:54:48,409
in here something like this and I in

1909
01:54:41,329 --> 01:54:51,140
fact I could do it more like this and

1910
01:54:48,409 --> 01:54:55,130
then we all do you say like okay let's

1911
01:54:51,140 --> 01:54:59,329
suppose that the room connection in this

1912
01:54:55,130 --> 01:55:04,909
case is actually you know what I don't

1913
01:54:59,329 --> 01:55:06,880
even need to do this so there just

1914
01:55:04,909 --> 01:55:09,409
happen

1915
01:55:06,880 --> 01:55:16,640
I'll do two the first one if this room

1916
01:55:09,409 --> 01:55:21,229
does have a connection then I'll just

1917
01:55:16,640 --> 01:55:25,430
set it to be for its volume to be to the

1918
01:55:21,229 --> 01:55:27,529
left and encompassing two blocks let's

1919
01:55:25,430 --> 01:55:28,940
say and that should create some

1920
01:55:27,529 --> 01:55:30,679
connections between the rooms again

1921
01:55:28,939 --> 01:55:32,619
we're totally hacking this it's dumb but

1922
01:55:30,680 --> 01:55:35,210
that's just what we're gonna do right so

1923
01:55:32,619 --> 01:55:51,289
the connection volume in this case is

1924
01:55:35,210 --> 01:55:54,260
going to be it's going to be one high on

1925
01:55:51,289 --> 01:55:57,710
the z count it's gonna have an X count

1926
01:55:54,260 --> 01:56:00,829
of two it's gonna have a Y count of two

1927
01:55:57,710 --> 01:56:05,180
right it's going to knock out say it to

1928
01:56:00,829 --> 01:56:09,739
wide square and it's going to be on the

1929
01:56:05,180 --> 01:56:12,350
the tile X boundary minus one so it's

1930
01:56:09,739 --> 01:56:22,819
back 1 from that it's going to be at the

1931
01:56:12,350 --> 01:56:25,310
tile Y center so it would be halfway and

1932
01:56:22,819 --> 01:56:27,529
the Z is just the Tao Zi and so that

1933
01:56:25,310 --> 01:56:32,150
should just set some arbitrary

1934
01:56:27,529 --> 01:56:35,050
connection crap in there and hopefully

1935
01:56:32,149 --> 01:56:48,309
we'll start to see some knockouts there

1936
01:56:35,050 --> 01:56:51,310
so almost but not quite you know what

1937
01:56:48,310 --> 01:56:51,310
tonight

1938
01:56:56,429 --> 01:57:04,179
I'm not sure why that would have

1939
01:56:58,599 --> 01:57:08,260
wouldn't have knocked out more I may

1940
01:57:04,179 --> 01:57:09,039
have a bug in there but we'll see it's

1941
01:57:08,260 --> 01:57:15,840
very strange

1942
01:57:09,039 --> 01:57:15,840
it like knocks it up for this room 3 up

1943
01:57:24,948 --> 01:57:40,849
that's really strange well I will hold

1944
01:57:39,109 --> 01:57:42,738
off on debugging to next time again

1945
01:57:40,850 --> 01:57:46,640
that's just hacking that in there so I

1946
01:57:42,738 --> 01:57:49,129
don't it's a problem because the two

1947
01:57:46,640 --> 01:57:52,310
rooms will fight over where that that

1948
01:57:49,130 --> 01:57:57,400
connection volume actually is right and

1949
01:57:52,310 --> 01:58:01,610
so it's one of those things that you

1950
01:57:57,399 --> 01:58:03,769
this hack is yeah that could be

1951
01:58:01,609 --> 01:58:06,159
explained by just the way that that I'm

1952
01:58:03,770 --> 01:58:08,690
hacking it in there might be enough to

1953
01:58:06,159 --> 01:58:11,210
to see why it doesn't actually work

1954
01:58:08,689 --> 01:58:12,889
right but it could actually be something

1955
01:58:11,210 --> 01:58:16,969
more subtle than that so you know it's

1956
01:58:12,890 --> 01:58:27,140
hard to say we will find out when the

1957
01:58:16,969 --> 01:58:28,969
time comes so yeah but otherwise yeah

1958
01:58:27,140 --> 01:58:33,020
other I mean otherwise I would have

1959
01:58:28,969 --> 01:58:35,300
assumed that it would have been okay I

1960
01:58:33,020 --> 01:58:47,960
would like to do one thing here which is

1961
01:58:35,300 --> 01:58:50,989
just to say that I want to color the

1962
01:58:47,960 --> 01:58:55,880
region so I can see it a little bit

1963
01:58:50,988 --> 01:58:59,059
better so I'm gonna do something like

1964
01:58:55,880 --> 01:59:02,650
that so I can just see which regions are

1965
01:58:59,060 --> 01:59:02,650
getting color knocked out

1966
01:59:07,310 --> 01:59:16,140
yeah you can kind of see this is busted

1967
01:59:12,529 --> 01:59:33,210
so I've got something wrong with the way

1968
01:59:16,140 --> 01:59:36,119
I'm doing it oh yeah you think I was

1969
01:59:33,210 --> 01:59:41,789
testing the relative index without ain't

1970
01:59:36,119 --> 01:59:45,390
gonna cut it my friends we need to test

1971
01:59:41,789 --> 01:59:50,579
the absolute index obviously for lack of

1972
01:59:45,390 --> 01:59:52,440
a better term all right so you can see

1973
01:59:50,579 --> 01:59:58,250
that this works pretty well now except

1974
01:59:52,439 --> 02:00:05,069
we kind of have this nasty problem we're

1975
01:59:58,250 --> 02:00:06,359
like we don't know B so this won't

1976
02:00:05,069 --> 02:00:07,979
daisy-chain all the rooms together

1977
02:00:06,359 --> 02:00:09,719
because some rooms only have one

1978
02:00:07,979 --> 02:00:11,488
connection right these rooms are

1979
02:00:09,719 --> 02:00:13,710
supposed to be laid out in a topology

1980
02:00:11,488 --> 02:00:16,589
and so a room that only has one

1981
02:00:13,710 --> 02:00:17,640
connection can only have one open thing

1982
02:00:16,590 --> 02:00:20,190
but it looks like it worked just fine

1983
02:00:17,640 --> 02:00:22,140
right so all we really need to do now

1984
02:00:20,189 --> 02:00:25,559
next time is actually make some layout

1985
02:00:22,140 --> 02:00:27,989
that makes any sense at all and these

1986
02:00:25,560 --> 02:00:29,969
will now be a little world you can

1987
02:00:27,988 --> 02:00:34,679
explore doesn't have anything in it but

1988
02:00:29,969 --> 02:00:37,949
first things first so that's all good

1989
02:00:34,680 --> 02:00:40,340
and yeah and I think even the camera is

1990
02:00:37,949 --> 02:00:45,630
sort of working now as well right so

1991
02:00:40,340 --> 02:00:47,850
that's that's fun too anyway yeah little

1992
02:00:45,630 --> 02:00:50,069
by little all good you can see again

1993
02:00:47,850 --> 02:00:52,350
also now we can fix the lighting so we

1994
02:00:50,069 --> 02:00:56,939
can slide the lighting over to which

1995
02:00:52,350 --> 02:00:58,829
will be nice as well so yeah it's it's

1996
02:00:56,939 --> 02:01:03,679
getting good I think we're in good shape

1997
02:00:58,829 --> 02:01:03,680
here I'll go ahead and go to a brief Q&amp;A

1998
02:01:22,199 --> 02:01:31,510
can you please fix end world Jen yes

1999
02:01:27,819 --> 02:01:37,149
although I don't know what's wrong with

2000
02:01:31,510 --> 02:01:44,800
it at the moment what do you want me to

2001
02:01:37,149 --> 02:01:58,329
fix about end world Jen just clear the

2002
02:01:44,800 --> 02:01:59,470
temporary 'no the temp memory I think

2003
02:01:58,329 --> 02:02:00,789
that's already taken care of the fact

2004
02:01:59,470 --> 02:02:06,940
that it's only ever beginning an end

2005
02:02:00,789 --> 02:02:16,470
temp so it's not really necessary but of

2006
02:02:06,939 --> 02:02:16,469
the capitalisation yes

2007
02:02:20,920 --> 02:02:28,609
what is internal used for in C is it

2008
02:02:24,289 --> 02:02:34,550
like the opposite of X turn in C++ yes

2009
02:02:28,609 --> 02:02:36,259
sort of it's not actually that is what

2010
02:02:34,550 --> 02:02:45,020
it is but that's not actually see it's

2011
02:02:36,260 --> 02:02:48,170
it's really just us so you can see here

2012
02:02:45,020 --> 02:02:50,599
I basically got internal to find a

2013
02:02:48,170 --> 02:02:52,960
static the reason is because static is

2014
02:02:50,599 --> 02:02:56,389
like the worst keyword in the world

2015
02:02:52,960 --> 02:02:58,760
it means like 50 different things and

2016
02:02:56,389 --> 02:03:01,250
it's just like you can't search for it

2017
02:02:58,760 --> 02:03:03,409
because it'll hit all of the different

2018
02:03:01,250 --> 02:03:10,069
uses of it and so on so I define

2019
02:03:03,408 --> 02:03:13,339
internal to be static so I see the

2020
02:03:10,069 --> 02:03:16,578
difference between that and like when

2021
02:03:13,340 --> 02:03:18,800
I'm defining a variable as static or

2022
02:03:16,578 --> 02:03:21,049
worse yet a static member function in

2023
02:03:18,800 --> 02:03:23,179
C++ right which is a completely again

2024
02:03:21,050 --> 02:03:25,099
different use of it one of the things

2025
02:03:23,179 --> 02:03:27,618
they did in C++ i think is actually a

2026
02:03:25,099 --> 02:03:29,659
really awful idea is they wanted to

2027
02:03:27,618 --> 02:03:37,729
minimize the degree to which they added

2028
02:03:29,658 --> 02:03:39,170
new keywords and that was just should

2029
02:03:37,729 --> 02:03:42,229
the light calculation always be stuck to

2030
02:03:39,170 --> 02:03:45,139
the camera yes it should be and

2031
02:03:42,229 --> 02:03:47,839
basically what we want to do is just

2032
02:03:45,139 --> 02:03:50,420
animate it smoothly so right now what

2033
02:03:47,840 --> 02:03:52,520
happens is we animate it to snap to the

2034
02:03:50,420 --> 02:03:53,989
new location the camera will be but

2035
02:03:52,520 --> 02:03:55,849
instead what we want to do is have it

2036
02:03:53,988 --> 02:04:00,649
actually track where the camera is just

2037
02:03:55,849 --> 02:04:04,099
period right and that's easy to do right

2038
02:04:00,649 --> 02:04:06,460
it's not hard but we just haven't done

2039
02:04:04,099 --> 02:04:06,460
it yet

2040
02:04:37,930 --> 02:04:41,010
no questions

2041
02:04:50,539 --> 02:04:55,139
by the way in some C++ header there is a

2042
02:04:53,189 --> 02:04:56,879
definition of internal so your code

2043
02:04:55,139 --> 02:04:59,310
would not work if any so file gets

2044
02:04:56,880 --> 02:05:01,590
included I'm happy with that it prevents

2045
02:04:59,310 --> 02:05:02,820
us from getting mad yes I totally agree

2046
02:05:01,590 --> 02:05:04,860
anything I can put in my code that

2047
02:05:02,819 --> 02:05:08,460
prevents anyone from ever including a C

2048
02:05:04,859 --> 02:05:09,479
bus less header in it is a win in fact

2049
02:05:08,460 --> 02:05:10,739
if there was just thing you could put in

2050
02:05:09,479 --> 02:05:13,888
the code that says don't ever allow

2051
02:05:10,738 --> 02:05:17,750
anyone to include a C++ library header

2052
02:05:13,889 --> 02:05:17,750
in here I would put that in all my code

2053
02:05:20,359 --> 02:05:24,269
what function is the camera using to

2054
02:05:22,649 --> 02:05:29,250
interpolate between two positions right

2055
02:05:24,270 --> 02:05:30,510
now I don't remember what we're using I

2056
02:05:29,250 --> 02:05:37,139
don't think we're using anything

2057
02:05:30,510 --> 02:05:40,070
particularly sane actually to be

2058
02:05:37,139 --> 02:05:40,069
completely honest with you

2059
02:05:50,029 --> 02:05:53,090
[Music]

2060
02:06:22,529 --> 02:06:29,679
yeah I this is just garbage so so to

2061
02:06:27,640 --> 02:06:32,020
answer your question it's actually just

2062
02:06:29,680 --> 02:06:37,300
doing it's a non stable iteration right

2063
02:06:32,020 --> 02:06:39,550
it's just like taking the the Delta and

2064
02:06:37,300 --> 02:06:42,600
adding a time fraction to it so it's

2065
02:06:39,550 --> 02:06:46,079
basically a frame rate dependent

2066
02:06:42,600 --> 02:06:50,190
ordinary differential equation right

2067
02:06:46,079 --> 02:06:57,460
which is not what we would want it to be

2068
02:06:50,189 --> 02:07:00,419
in the end if that makes sense doctor I

2069
02:06:57,460 --> 02:07:00,420
can put one here for you

2070
02:07:13,250 --> 02:07:16,909
how much of the world Jen can be done in

2071
02:07:15,260 --> 02:07:19,940
this pass and how much would depend on

2072
02:07:16,909 --> 02:07:22,760
more gameplay exploration stuff well

2073
02:07:19,939 --> 02:07:24,139
probably the world Jen like backbone is

2074
02:07:22,760 --> 02:07:26,090
what we're making now so that we can

2075
02:07:24,140 --> 02:07:30,740
make a world that we can then play

2076
02:07:26,090 --> 02:07:32,569
through but the vast majority of Jen

2077
02:07:30,739 --> 02:07:34,460
stuff will kind of just be code that

2078
02:07:32,569 --> 02:07:38,149
start secreting as we add gameplay

2079
02:07:34,460 --> 02:07:41,939
features obviously we would not want to

2080
02:07:38,149 --> 02:07:41,938
[Music]

2081
02:07:43,060 --> 02:07:47,300
well you know what I see that Jonathan

2082
02:07:45,680 --> 02:07:50,090
Blow has arrived in the stream

2083
02:07:47,300 --> 02:07:53,119
so here's what I'll say as I've said

2084
02:07:50,090 --> 02:07:55,989
many times many many times on the stream

2085
02:07:53,119 --> 02:07:59,359
I'm not a game designer so I don't know

2086
02:07:55,989 --> 02:08:02,449
all I can tell you is the game designers

2087
02:07:59,359 --> 02:08:05,359
who I respect like John like Daniel Ben

2088
02:08:02,449 --> 02:08:10,010
more gooey like they say you have to

2089
02:08:05,359 --> 02:08:13,609
kind of design forward where you explore

2090
02:08:10,010 --> 02:08:15,079
the game space yourself and find out

2091
02:08:13,609 --> 02:08:17,469
what's interesting about it and then

2092
02:08:15,079 --> 02:08:20,000
think about ways you can construct

2093
02:08:17,470 --> 02:08:24,890
meaningful interactions based around

2094
02:08:20,000 --> 02:08:26,329
those experiences so I would assume that

2095
02:08:24,890 --> 02:08:30,440
the correct answer to your question

2096
02:08:26,329 --> 02:08:33,289
based on what they have said is that we

2097
02:08:30,439 --> 02:08:37,369
only are doing just enough to build a

2098
02:08:33,289 --> 02:08:38,899
world and then every other thing we do

2099
02:08:37,369 --> 02:08:41,000
with real generation should be based on

2100
02:08:38,899 --> 02:08:43,670
something we experience in the game

2101
02:08:41,000 --> 02:08:45,800
right so we make the little orphanage

2102
02:08:43,670 --> 02:08:48,260
and the forest pieces like I'm doing now

2103
02:08:45,800 --> 02:08:50,630
and then we put some monsters in there

2104
02:08:48,260 --> 02:08:54,020
and when we fight the monsters we go oh

2105
02:08:50,630 --> 02:08:56,210
it would feel good here if I had to plan

2106
02:08:54,020 --> 02:08:58,370
about some timer that was counting down

2107
02:08:56,210 --> 02:09:03,020
or something right so then I go and add

2108
02:08:58,369 --> 02:09:04,699
the counter to the world Jen right that

2109
02:09:03,020 --> 02:09:06,290
is how every game designer I've ever

2110
02:09:04,699 --> 02:09:08,539
thought was any good has always said

2111
02:09:06,289 --> 02:09:10,699
you're supposed to do that kind of work

2112
02:09:08,539 --> 02:09:12,289
so I would just assume that's the right

2113
02:09:10,699 --> 02:09:13,460
answer but if you actually want to know

2114
02:09:12,289 --> 02:09:13,880
the right answer you would need to ask

2115
02:09:13,460 --> 02:09:16,300
them

2116
02:09:13,880 --> 02:09:19,449
so maybe John's got a stream today I

2117
02:09:16,300 --> 02:09:22,840
don't know I think he's actually not

2118
02:09:19,449 --> 02:09:25,250
home in San Francisco so maybe not but

2119
02:09:22,840 --> 02:09:27,500
next time he's on stream you should ask

2120
02:09:25,250 --> 02:09:29,539
him for a more complete answer because

2121
02:09:27,500 --> 02:09:31,130
that's really you want to get that kind

2122
02:09:29,539 --> 02:09:38,989
of answer from a game designer not an

2123
02:09:31,130 --> 02:09:41,569
engine programmer why does the color of

2124
02:09:38,989 --> 02:09:44,029
the room go as it does without loitering

2125
02:09:41,569 --> 02:09:47,359
rather than going black because we

2126
02:09:44,029 --> 02:09:50,710
actually always have moonlight so if you

2127
02:09:47,359 --> 02:09:53,960
remember inside the lighting code

2128
02:09:50,710 --> 02:09:57,739
there's the moon and when you don't hit

2129
02:09:53,960 --> 02:10:03,220
a light you get a moon if if it's up

2130
02:09:57,739 --> 02:10:06,979
right there's a there's a moon default

2131
02:10:03,220 --> 02:10:12,260
value here so let me show you how that

2132
02:10:06,979 --> 02:10:14,629
happens so you see this line of code so

2133
02:10:12,260 --> 02:10:16,539
basically if I was to take out the moon

2134
02:10:14,630 --> 02:10:19,369
light it would get it would become black

2135
02:10:16,539 --> 02:10:21,529
so basically if I you know if we look at

2136
02:10:19,369 --> 02:10:23,359
how the lighting is working here you

2137
02:10:21,529 --> 02:10:26,630
know you can see that as I move around

2138
02:10:23,359 --> 02:10:28,729
there's sort of a baseline moonlight

2139
02:10:26,630 --> 02:10:30,890
color that it goes through there if

2140
02:10:28,729 --> 02:10:32,419
instead what I did was inside this code

2141
02:10:30,890 --> 02:10:34,910
I just said yeah you know that's not

2142
02:10:32,420 --> 02:10:36,859
gonna happen then what you would see is

2143
02:10:34,909 --> 02:10:38,389
those regions become completely black

2144
02:10:36,859 --> 02:10:40,639
because no light is reaching them

2145
02:10:38,390 --> 02:10:41,990
whatsoever or maybe not no light you can

2146
02:10:40,640 --> 02:10:44,600
see there's a little bit of light

2147
02:10:41,989 --> 02:10:47,059
reaching them as the fall-off from this

2148
02:10:44,600 --> 02:10:50,210
light gets lower out there but that's

2149
02:10:47,060 --> 02:10:52,670
what's happening so I don't know if that

2150
02:10:50,210 --> 02:10:57,409
helps make sense but basically there is

2151
02:10:52,670 --> 02:10:59,899
a there is a large sky lit sort of in

2152
02:10:57,409 --> 02:11:03,470
flow of light that makes it so nothing

2153
02:10:59,899 --> 02:11:10,309
is completely black unless it's got like

2154
02:11:03,470 --> 02:11:12,320
a sealed roof over it or something just

2155
02:11:10,310 --> 02:11:13,610
want to randomly suggest transactional

2156
02:11:12,319 --> 02:11:18,380
processing as a topic for some future

2157
02:11:13,609 --> 02:11:19,789
off-topic stream okay will there be

2158
02:11:18,380 --> 02:11:21,140
specific locations in the world I saw

2159
02:11:19,789 --> 02:11:22,399
you mentioned orphanage yesterday and if

2160
02:11:21,140 --> 02:11:24,440
so how will they be handled in a

2161
02:11:22,399 --> 02:11:26,299
generated world everything will be

2162
02:11:24,439 --> 02:11:28,129
generated but you saw how the orphanage

2163
02:11:26,300 --> 02:11:29,270
stuff was sort of going basically what

2164
02:11:28,130 --> 02:11:33,260
we'll have is will have special-purpose

2165
02:11:29,270 --> 02:11:35,600
routines designed to create them in some

2166
02:11:33,260 --> 02:11:38,060
less than completely generative way

2167
02:11:35,600 --> 02:11:39,860
right so some things about them are

2168
02:11:38,060 --> 02:11:40,619
prescribed but that's true of everything

2169
02:11:39,859 --> 02:11:42,328
right look at

2170
02:11:40,618 --> 02:11:47,128
dungeon has a bunch of prescriptions to

2171
02:11:42,328 --> 02:11:48,748
it right naysayer 88 how long would it

2172
02:11:47,128 --> 02:11:50,698
take me to get up to speed on for coder

2173
02:11:48,748 --> 02:11:53,429
if I decide to like to switch off the

2174
02:11:50,698 --> 02:11:57,618
hell that is Emacs no time at all like

2175
02:11:53,429 --> 02:12:03,899
basically you could start with well

2176
02:11:57,618 --> 02:12:06,748
alright so here's what I'd say John if

2177
02:12:03,899 --> 02:12:08,489
you want an exact Emacs clone one of the

2178
02:12:06,748 --> 02:12:10,800
problems is I don't know if anyone's

2179
02:12:08,488 --> 02:12:14,998
actually redone the key bindings to be

2180
02:12:10,800 --> 02:12:16,918
Emacs like yet I was just having too

2181
02:12:14,998 --> 02:12:20,309
many RSI issues with holding down the

2182
02:12:16,918 --> 02:12:22,349
ctrl key so I switch to a modal like

2183
02:12:20,309 --> 02:12:25,288
version that's the same as my Emacs

2184
02:12:22,349 --> 02:12:27,418
poundings were but with modality so if

2185
02:12:25,288 --> 02:12:29,069
you started with my Emacs config it'd be

2186
02:12:27,418 --> 02:12:31,078
pretty far from what you're used to

2187
02:12:29,069 --> 02:12:33,538
using right now and that might take a

2188
02:12:31,078 --> 02:12:36,058
while to get up to speed somebody else

2189
02:12:33,538 --> 02:12:40,559
may have done a closer binding to Emacs

2190
02:12:36,059 --> 02:12:42,989
like keys but that would be the real

2191
02:12:40,559 --> 02:12:45,239
learning curve there what I can say is

2192
02:12:42,988 --> 02:12:47,188
just using for coder if you're willing

2193
02:12:45,238 --> 02:12:49,918
to spend a day doing some programming is

2194
02:12:47,189 --> 02:12:51,659
actually pretty easy because all of the

2195
02:12:49,918 --> 02:12:53,849
programming happens in C you don't have

2196
02:12:51,658 --> 02:12:56,398
to learn something like Emacs list so

2197
02:12:53,849 --> 02:13:01,619
for example if you want to look at what

2198
02:12:56,399 --> 02:13:04,199
I've got a hand made code misc for

2199
02:13:01,618 --> 02:13:05,518
quarter K see if you want to look at how

2200
02:13:04,198 --> 02:13:08,428
it works it's pretty straightforward

2201
02:13:05,519 --> 02:13:10,979
I've made tons of customizations to it

2202
02:13:08,429 --> 02:13:14,010
but the basic idea is pretty simple you

2203
02:13:10,979 --> 02:13:16,168
just have one entry point and that entry

2204
02:13:14,010 --> 02:13:19,469
point does some pretty basic stuff like

2205
02:13:16,168 --> 02:13:22,708
you can see here where I bind all these

2206
02:13:19,469 --> 02:13:24,448
keys these are just functions and you

2207
02:13:22,708 --> 02:13:26,609
can just specify your own functions that

2208
02:13:24,448 --> 02:13:28,288
should happen here there's a default one

2209
02:13:26,609 --> 02:13:31,049
that you could look at that has a bunch

2210
02:13:28,288 --> 02:13:33,779
of stuff but like I have customized

2211
02:13:31,050 --> 02:13:35,399
almost everything but this is all it is

2212
02:13:33,779 --> 02:13:37,319
you just bind all your keys here to

2213
02:13:35,399 --> 02:13:39,239
functions that you call and those

2214
02:13:37,319 --> 02:13:40,708
functions can do whatever you want them

2215
02:13:39,238 --> 02:13:42,538
to do there's defaults for almost

2216
02:13:40,708 --> 02:13:44,248
everything that Emacs does but I also

2217
02:13:42,538 --> 02:13:47,069
have my own like special sauce there

2218
02:13:44,248 --> 02:13:48,510
right then you've got the same kind of

2219
02:13:47,069 --> 02:13:50,608
thing as you're used to in Emacs like oh

2220
02:13:48,510 --> 02:13:51,989
if you just want to call a C function

2221
02:13:50,609 --> 02:13:53,909
when a thought gets open you just set it

2222
02:13:51,988 --> 02:13:54,529
and then you can do whatever you want in

2223
02:13:53,908 --> 02:13:57,079
there and whatever

2224
02:13:54,529 --> 02:13:59,599
you can obviously have mine which has a

2225
02:13:57,079 --> 02:14:02,239
bunch of this stuff in it and you can

2226
02:13:59,600 --> 02:14:04,010
see like I because I do modal Keys I

2227
02:14:02,239 --> 02:14:05,989
made a macro for having two different

2228
02:14:04,010 --> 02:14:07,369
modes be bound in either way and all

2229
02:14:05,989 --> 02:14:09,319
that is it's just a thing that says hey

2230
02:14:07,369 --> 02:14:10,849
am I in edit mode or am I not and it

2231
02:14:09,319 --> 02:14:12,829
just does one code or the other either

2232
02:14:10,850 --> 02:14:14,000
case so what you can see here is there's

2233
02:14:12,829 --> 02:14:19,939
a lot of things that are actually just

2234
02:14:14,000 --> 02:14:22,279
built in like reverse search search undo

2235
02:14:19,939 --> 02:14:24,469
go to line those are all built in I'd

2236
02:14:22,279 --> 02:14:26,569
write those so a lot of the things if

2237
02:14:24,470 --> 02:14:28,130
you were to just cut and paste all of

2238
02:14:26,569 --> 02:14:30,679
this stuff right character blah blah

2239
02:14:28,130 --> 02:14:33,140
blah all of that stuff if you actually

2240
02:14:30,680 --> 02:14:35,750
do bind keys you can bind if you don't

2241
02:14:33,140 --> 02:14:37,070
want modal like I have you can bind all

2242
02:14:35,750 --> 02:14:39,109
of your keys right there and just be

2243
02:14:37,069 --> 02:14:44,539
done and you wouldn't even need any like

2244
02:14:39,109 --> 02:14:47,299
C code at all right but yeah like I say

2245
02:14:44,539 --> 02:14:48,409
I like to really heavily customize my

2246
02:14:47,300 --> 02:14:50,270
editor so you can see I've written all

2247
02:14:48,409 --> 02:14:52,819
kinds of stuff here here's the thing

2248
02:14:50,270 --> 02:14:54,080
that loads my to-do list here's the

2249
02:14:52,819 --> 02:14:56,750
thing that searches for where I want my

2250
02:14:54,079 --> 02:14:59,960
build to occur here's a thing that like

2251
02:14:56,750 --> 02:15:02,000
looks for if like I know that I want

2252
02:14:59,960 --> 02:15:04,760
like sees to load h's with us if I hit

2253
02:15:02,000 --> 02:15:08,930
the seek key you know all kinds of crap

2254
02:15:04,760 --> 02:15:10,909
right and so I've done a lot of

2255
02:15:08,930 --> 02:15:13,820
customizations so it kind of depends on

2256
02:15:10,909 --> 02:15:19,729
how much you want to do customization

2257
02:15:13,819 --> 02:15:21,439
wise all of that stuff you can sort of

2258
02:15:19,729 --> 02:15:23,479
just start with mine if you want

2259
02:15:21,439 --> 02:15:26,210
and then change all the key bindings or

2260
02:15:23,479 --> 02:15:29,989
you can start with Alan's key ships a

2261
02:15:26,210 --> 02:15:33,470
default one and that with all the the

2262
02:15:29,989 --> 02:15:35,239
the C file for that is included if you

2263
02:15:33,470 --> 02:15:38,090
are using for coder

2264
02:15:35,239 --> 02:15:41,510
so you can start with that I don't know

2265
02:15:38,090 --> 02:15:42,800
um so I can't really answer that

2266
02:15:41,510 --> 02:15:45,829
question for you because I don't know

2267
02:15:42,800 --> 02:15:47,930
your Emacs config very well hopefully it

2268
02:15:45,829 --> 02:15:51,590
wouldn't be that hard for you to just go

2269
02:15:47,930 --> 02:15:53,150
in there and rebind the keys the only

2270
02:15:51,590 --> 02:15:54,920
thing that's gonna be nasty for you is

2271
02:15:53,149 --> 02:15:58,250
that there isn't a syntax highlighting

2272
02:15:54,920 --> 02:15:59,869
system for j ai which maybe you need you

2273
02:15:58,250 --> 02:16:01,939
can talk to Alan about that I don't know

2274
02:15:59,869 --> 02:16:06,470
if he can help you I know that down the

2275
02:16:01,939 --> 02:16:08,389
line they're going to be adding more in

2276
02:16:06,470 --> 02:16:10,610
the ways of customizable parsing

2277
02:16:08,390 --> 02:16:13,030
like that but at the moment you know

2278
02:16:10,609 --> 02:16:18,349
it's an editor for c-like languages and

2279
02:16:13,029 --> 02:16:22,670
J I might not quite be C like enough for

2280
02:16:18,350 --> 02:16:27,050
the parser to correctly like indent and

2281
02:16:22,670 --> 02:16:29,329
stuff like that you know obviously if

2282
02:16:27,050 --> 02:16:30,800
you want to switch over to for coder and

2283
02:16:29,329 --> 02:16:35,000
you have any trouble with it just let me

2284
02:16:30,800 --> 02:16:39,170
know and I can help you get your config

2285
02:16:35,000 --> 02:16:40,670
working but like just starting with my

2286
02:16:39,170 --> 02:16:42,139
config should be pretty easy because you

2287
02:16:40,670 --> 02:16:43,819
can just change all the key bindings to

2288
02:16:42,139 --> 02:16:46,218
the actual key bindings you want and

2289
02:16:43,819 --> 02:16:47,899
don't bother with these modal like don't

2290
02:16:46,218 --> 02:16:49,519
bother just put the actual function in

2291
02:16:47,899 --> 02:16:51,559
here that you want and then you can have

2292
02:16:49,520 --> 02:16:54,710
an anon modal binding pretty quickly

2293
02:16:51,559 --> 02:16:56,629
right by just starting with mine and

2294
02:16:54,709 --> 02:16:59,199
putting what you want in here instead of

2295
02:16:56,629 --> 02:17:01,639
in this weird modal macro crap I made

2296
02:16:59,200 --> 02:17:07,190
which is just because I was making some

2297
02:17:01,639 --> 02:17:10,159
modal stuff right is there a reason you

2298
02:17:07,190 --> 02:17:11,780
don't use force in line yeah mostly

2299
02:17:10,159 --> 02:17:15,289
because I just haven't had a case where

2300
02:17:11,780 --> 02:17:16,940
I really wanted to yet you know the

2301
02:17:15,290 --> 02:17:19,580
compiler does a pretty reasonable job of

2302
02:17:16,940 --> 02:17:21,260
picking what to in line what to not most

2303
02:17:19,579 --> 02:17:22,850
of the time so the only time I would

2304
02:17:21,260 --> 02:17:24,649
really use force in line is if I

2305
02:17:22,850 --> 02:17:28,579
actually am optimizing a piece of code

2306
02:17:24,649 --> 02:17:30,170
and literally saw a place where I wanted

2307
02:17:28,579 --> 02:17:32,000
the compiler in line and it wasn't then

2308
02:17:30,170 --> 02:17:33,679
I would use force in line but the whole

2309
02:17:32,000 --> 02:17:36,229
like I always know better than the

2310
02:17:33,679 --> 02:17:38,090
compiler went to in line thing I don't

2311
02:17:36,229 --> 02:17:39,799
think is true because if I haven't

2312
02:17:38,090 --> 02:17:41,510
looked at the performance of something

2313
02:17:39,799 --> 02:17:44,049
I'm not in position to tell it what to

2314
02:17:41,510 --> 02:17:46,880
in line and what not to really write

2315
02:17:44,049 --> 02:17:49,189
it's doing some analysis that analysis

2316
02:17:46,879 --> 02:17:51,170
isn't great it's better than no analysis

2317
02:17:49,190 --> 02:17:53,540
and no analysis is what I would be doing

2318
02:17:51,170 --> 02:17:59,179
if I was putting force in line in places

2319
02:17:53,540 --> 02:18:00,679
willy-nilly right can you go over the

2320
02:17:59,179 --> 02:18:03,110
architecture how to generate the rooms

2321
02:18:00,679 --> 02:18:03,920
like with this generic config briefly

2322
02:18:03,110 --> 02:18:06,998
again

2323
02:18:03,920 --> 02:18:06,998
[Music]

2324
02:18:07,389 --> 02:18:10,930
yes but I'm not sure what you mean

2325
02:18:09,309 --> 02:18:15,069
because we haven't implemented the

2326
02:18:10,930 --> 02:18:17,380
layout stuff yet so all we're doing is

2327
02:18:15,069 --> 02:18:19,029
we're creating a record of the rooms you

2328
02:18:17,379 --> 02:18:22,929
want to generate we're creating records

2329
02:18:19,030 --> 02:18:24,489
of how they're connected and then we in

2330
02:18:22,930 --> 02:18:26,710
the future will implement a layout

2331
02:18:24,489 --> 02:18:28,479
function that obeys those connections

2332
02:18:26,709 --> 02:18:30,639
and places rooms so that they are

2333
02:18:28,479 --> 02:18:31,779
non-overlapping and are connected in the

2334
02:18:30,639 --> 02:18:34,689
way that is requested

2335
02:18:31,780 --> 02:18:36,280
then we once have that layout we go

2336
02:18:34,690 --> 02:18:38,220
through each room and actually put down

2337
02:18:36,280 --> 02:18:44,409
the entities that comprise the room

2338
02:18:38,219 --> 02:18:45,849
that's all we're doing John says

2339
02:18:44,409 --> 02:18:50,639
streaming today would be very doubtful

2340
02:18:45,850 --> 02:18:50,640
all right well you know some other time

2341
02:19:01,579 --> 02:19:06,319
Neil said I think they meant the unlit

2342
02:19:04,190 --> 02:19:08,961
part Oh

2343
02:19:06,319 --> 02:19:12,251
are you you mean when we're in the debug

2344
02:19:08,960 --> 02:19:15,079
view you mean why is this look like that

2345
02:19:12,251 --> 02:19:17,569
the reason for that is just that the

2346
02:19:15,079 --> 02:19:19,579
lighting system only looks at things in

2347
02:19:17,569 --> 02:19:21,380
a region and if the lighting system

2348
02:19:19,579 --> 02:19:23,690
isn't looking at something it just gets

2349
02:19:21,380 --> 02:19:27,050
it's it's what it's a reflective color

2350
02:19:23,690 --> 02:19:29,770
would be like what yeah as you said

2351
02:19:27,050 --> 02:19:29,769
diffuse albedo

2352
02:19:41,440 --> 02:19:44,739
and me or can you start optimizing your

2353
02:19:43,090 --> 02:19:46,059
code as you go or when you reach major

2354
02:19:44,739 --> 02:19:47,829
milestones or do you need to wait for

2355
02:19:46,059 --> 02:19:49,119
near completion to optimize your code

2356
02:19:47,829 --> 02:20:01,000
and make sure you don't have useless

2357
02:19:49,120 --> 02:20:02,440
coding lines bulking up so I would I

2358
02:20:01,000 --> 02:20:05,469
guess what I would say is the answer to

2359
02:20:02,440 --> 02:20:07,960
that question is actually that you need

2360
02:20:05,469 --> 02:20:09,310
to sort of develop very good programming

2361
02:20:07,959 --> 02:20:11,640
skills before you can really answer it

2362
02:20:09,310 --> 02:20:17,529
effectively yourself because it depends

2363
02:20:11,640 --> 02:20:18,909
the notion that optimize the premature

2364
02:20:17,530 --> 02:20:20,891
optimization is the root of all evil

2365
02:20:18,909 --> 02:20:22,989
which is kind of a misquote from Knuth

2366
02:20:20,890 --> 02:20:24,520
or a misapplication from Knuth that kind

2367
02:20:22,989 --> 02:20:25,719
of got distorted down the line to

2368
02:20:24,521 --> 02:20:29,040
basically mean to an optimizer code

2369
02:20:25,719 --> 02:20:29,039
until you have to or something right

2370
02:20:30,209 --> 02:20:36,489
it's not entirely true I mean in one

2371
02:20:35,260 --> 02:20:37,659
sense it's obviously true because the

2372
02:20:36,489 --> 02:20:39,310
definition of premature optimization

2373
02:20:37,659 --> 02:20:41,289
means you're doing it before you should

2374
02:20:39,310 --> 02:20:43,449
so in that case it's just a tautology in

2375
02:20:41,290 --> 02:20:45,570
some sense it wouldn't be premature if

2376
02:20:43,450 --> 02:20:47,530
it was the right time to do it right

2377
02:20:45,569 --> 02:20:49,629
saying it's the root of all evil life

2378
02:20:47,530 --> 02:20:51,900
throws us into tautology because hey the

2379
02:20:49,629 --> 02:20:54,579
root of all evil is a pretty bold claim

2380
02:20:51,899 --> 02:20:56,140
but in terms of whether it's wasted work

2381
02:20:54,579 --> 02:20:58,000
to optimize things at any time other

2382
02:20:56,140 --> 02:21:00,039
than me and the answer is no it isn't

2383
02:20:58,000 --> 02:21:02,379
necessarily and the reason for that is

2384
02:21:00,040 --> 02:21:04,090
because and like I said this is why you

2385
02:21:02,379 --> 02:21:05,619
kind of have to just know and have some

2386
02:21:04,090 --> 02:21:08,101
taste about it because it's something

2387
02:21:05,620 --> 02:21:10,540
that's a very difficult call to make

2388
02:21:08,101 --> 02:21:14,920
optimization is not something you can

2389
02:21:10,540 --> 02:21:17,910
just do right if you have structured the

2390
02:21:14,920 --> 02:21:21,101
way the code works to preclude

2391
02:21:17,909 --> 02:21:23,200
optimization from occurring then it's

2392
02:21:21,101 --> 02:21:24,730
not gonna be really possible for you to

2393
02:21:23,200 --> 02:21:26,771
optimize it at the end not without

2394
02:21:24,729 --> 02:21:30,549
rewriting massive amounts of the code

2395
02:21:26,771 --> 02:21:33,159
right so one of the things that you

2396
02:21:30,549 --> 02:21:35,709
learn to do as you get better at

2397
02:21:33,159 --> 02:21:38,860
programming is to structure your code

2398
02:21:35,709 --> 02:21:40,869
such that you know you're not precluding

2399
02:21:38,860 --> 02:21:45,250
any optimizations that you think you

2400
02:21:40,870 --> 02:21:48,400
might need to make and you will start

2401
02:21:45,250 --> 02:21:51,790
optimizing certain pieces of code what

2402
02:21:48,399 --> 02:21:54,250
would otherwise be prematurely because

2403
02:21:51,790 --> 02:21:55,030
you know that you don't want to build

2404
02:21:54,250 --> 02:21:57,250
dependency

2405
02:21:55,030 --> 02:22:00,579
on that code until you see that it can

2406
02:21:57,250 --> 02:22:02,860
be made optimal right so sometimes you

2407
02:22:00,579 --> 02:22:04,899
do need to do a little bit or a lot even

2408
02:22:02,860 --> 02:22:07,210
of optimization on a piece of code

2409
02:22:04,899 --> 02:22:08,649
because you know that how other code

2410
02:22:07,209 --> 02:22:11,470
works will be dependent on it and

2411
02:22:08,649 --> 02:22:15,129
getting it into a and not having it in

2412
02:22:11,470 --> 02:22:19,379
the state it should be for later release

2413
02:22:15,129 --> 02:22:23,109
is gonna be a problem right so basically

2414
02:22:19,379 --> 02:22:25,750
that calls a very hard call to make what

2415
02:22:23,110 --> 02:22:27,011
I can't say is 90% of the time you

2416
02:22:25,750 --> 02:22:30,220
really don't want to do much with

2417
02:22:27,011 --> 02:22:33,670
optimization until you have to 90% of

2418
02:22:30,220 --> 02:22:34,989
the time but maybe 10% or maybe 5% of

2419
02:22:33,670 --> 02:22:36,460
the time I don't know what the actual

2420
02:22:34,989 --> 02:22:39,069
real potentials we don't have hard

2421
02:22:36,459 --> 02:22:40,959
metrics on things like this you do need

2422
02:22:39,069 --> 02:22:42,549
to think about optimization up front and

2423
02:22:40,959 --> 02:22:47,260
you do need to do some and you need to

2424
02:22:42,549 --> 02:22:54,310
have some ideas about exactly how you

2425
02:22:47,261 --> 02:22:56,261
are going to make this code work the way

2426
02:22:54,310 --> 02:22:59,229
it needs to for shipping because letting

2427
02:22:56,261 --> 02:23:03,250
it go too long okay will have negative

2428
02:22:59,229 --> 02:23:05,140
consequences as as assumptions about

2429
02:23:03,250 --> 02:23:09,011
that code ripple out through the code

2430
02:23:05,140 --> 02:23:11,319
base so you you really need to have a

2431
02:23:09,011 --> 02:23:13,271
good idea of how things are being

2432
02:23:11,319 --> 02:23:16,720
dependent on each other and what things

2433
02:23:13,271 --> 02:23:18,641
may may create problems during the

2434
02:23:16,720 --> 02:23:21,970
release cycle during optimization if

2435
02:23:18,640 --> 02:23:23,350
they're done wrong maybe it's ink for

2436
02:23:21,970 --> 02:23:26,049
next week but can you make the boundary

2437
02:23:23,351 --> 02:23:27,400
wall heights equal I don't know that I

2438
02:23:26,049 --> 02:23:29,079
want the boundary wall heights to be

2439
02:23:27,399 --> 02:23:32,699
equal so I probably won't do that but

2440
02:23:29,079 --> 02:23:40,950
it'd be pretty easy to do obviously yes

2441
02:23:32,700 --> 02:23:40,950
all right let's close that here

2442
02:23:43,489 --> 02:23:47,069
all right thank you everyone for joining

2443
02:23:45,420 --> 02:23:48,271
me for their sort of handmade hero it's

2444
02:23:47,069 --> 02:23:51,329
been a pleasure coding with you as

2445
02:23:48,271 --> 02:23:52,561
always if you would like to follow along

2446
02:23:51,329 --> 02:23:54,329
the series at home you can always peer

2447
02:23:52,560 --> 02:23:56,639
to the game on handmade hero org and it

2448
02:23:54,329 --> 02:23:58,440
comes to the source code so you can play

2449
02:23:56,639 --> 02:23:59,969
around with it yourself for example if

2450
02:23:58,440 --> 02:24:01,771
you want to make all the boundary wall

2451
02:23:59,969 --> 02:24:03,119
height equal you can easily go do that

2452
02:24:01,771 --> 02:24:07,409
in the code as it stands right now it's

2453
02:24:03,120 --> 02:24:09,329
a pretty simple change to make other

2454
02:24:07,409 --> 02:24:12,810
than that I will be back here next week

2455
02:24:09,329 --> 02:24:14,789
if you would like to see how we're going

2456
02:24:12,810 --> 02:24:16,289
to layout our rooms and actually make

2457
02:24:14,790 --> 02:24:18,271
them connect in a real way so that we

2458
02:24:16,290 --> 02:24:20,610
can start to have a game world that you

2459
02:24:18,271 --> 02:24:22,140
can explore and have fun in we will be

2460
02:24:20,610 --> 02:24:24,480
doing that next weekend so hope to see

2461
02:24:22,139 --> 02:24:26,250
you back here for that in the meantime

2462
02:24:24,479 --> 02:24:27,840
if you want to catch up on old episodes

2463
02:24:26,250 --> 02:24:29,610
definitely check out the episode guide

2464
02:24:27,840 --> 02:24:31,290
it's pretty amazing at this point you

2465
02:24:29,610 --> 02:24:33,601
can search all sorts of things and watch

2466
02:24:31,290 --> 02:24:35,700
old episodes or clips from old episodes

2467
02:24:33,601 --> 02:24:40,230
that are pertinent to things you want to

2468
02:24:35,700 --> 02:24:43,140
know about until next weekend there it's

2469
02:24:40,229 --> 02:24:45,719
something you can check out or do some

2470
02:24:43,139 --> 02:24:47,489
of your own coding have some fun I don't

2471
02:24:45,719 --> 02:24:50,549
know whatever you're working on right

2472
02:24:47,489 --> 02:24:53,010
now do something cool on it until next

2473
02:24:50,549 --> 02:24:55,609
weekend take it easy everybody and I'll

2474
02:24:53,010 --> 02:24:55,610
see you on the Internet

