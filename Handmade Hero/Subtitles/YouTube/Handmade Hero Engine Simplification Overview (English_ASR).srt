1
00:00:00,160 --> 00:00:04,960
hello everyone and welcome to handmade

2
00:00:02,480 --> 00:00:07,439
hero today uh i kind of wanted to do

3
00:00:04,960 --> 00:00:09,919
some stuff uh we we split up the

4
00:00:07,440 --> 00:00:11,759
weekends last weekend and this weekend

5
00:00:09,919 --> 00:00:13,919
last weekend we uh did a bunch of

6
00:00:11,759 --> 00:00:15,440
cleanup stuff on just tools like we

7
00:00:13,919 --> 00:00:17,679
fixed we updated to the new four coder

8
00:00:15,439 --> 00:00:20,239
and fixed any stuff that uh we had had a

9
00:00:17,679 --> 00:00:22,719
problem with there and then we also uh

10
00:00:20,239 --> 00:00:25,518
we you know kind of reworked the timer

11
00:00:22,719 --> 00:00:27,839
app to be more in line with what we need

12
00:00:25,518 --> 00:00:29,839
so it stays up and stuff and doesn't

13
00:00:27,839 --> 00:00:31,518
only you know if we go long it doesn't

14
00:00:29,839 --> 00:00:32,880
remove the little this little square

15
00:00:31,518 --> 00:00:34,479
around my head and all that stuff we

16
00:00:32,880 --> 00:00:36,399
just like long running stuff that we've

17
00:00:34,479 --> 00:00:39,599
just been putting up with

18
00:00:36,399 --> 00:00:41,600
um is now uh in theory fixed also we

19
00:00:39,600 --> 00:00:43,439
added topics people wanted topics so the

20
00:00:41,600 --> 00:00:45,039
topics exist now you can see what the

21
00:00:43,439 --> 00:00:46,320
topic is for the day

22
00:00:45,039 --> 00:00:48,079
um

23
00:00:46,320 --> 00:00:49,840
and we can edit it and stuff so it you

24
00:00:48,079 --> 00:00:51,600
know it's a little better it just just

25
00:00:49,840 --> 00:00:54,480
some quality of life stuff

26
00:00:51,600 --> 00:00:55,280
so you know hopefully that's good

27
00:00:54,479 --> 00:00:57,038
um

28
00:00:55,280 --> 00:01:00,000
what i wanted to do today was just take

29
00:00:57,039 --> 00:01:04,079
a look at what we're doing engine

30
00:01:00,000 --> 00:01:06,400
development wise uh and take a look

31
00:01:04,079 --> 00:01:06,399
at

32
00:01:06,799 --> 00:01:11,439
i want to go through and say what worked

33
00:01:09,118 --> 00:01:13,760
what didn't so that we kind of have just

34
00:01:11,438 --> 00:01:14,639
like okay here's the stuff we're gonna

35
00:01:13,760 --> 00:01:16,400
cut

36
00:01:14,640 --> 00:01:17,359
and here's the stuff we're gonna leave

37
00:01:16,400 --> 00:01:18,960
for

38
00:01:17,359 --> 00:01:20,239
calling the engine done

39
00:01:18,959 --> 00:01:21,519
um

40
00:01:20,239 --> 00:01:23,118
because there's like a bunch of stuff

41
00:01:21,519 --> 00:01:25,118
that we did that like didn't work out

42
00:01:23,118 --> 00:01:26,239
very well and

43
00:01:25,118 --> 00:01:28,400
there's a bunch of stuff that we did

44
00:01:26,239 --> 00:01:29,759
that did and it would be nice to just go

45
00:01:28,400 --> 00:01:31,520
in and like

46
00:01:29,759 --> 00:01:32,959
solidify things so that we don't still

47
00:01:31,519 --> 00:01:35,039
have stuff hanging around that was just

48
00:01:32,959 --> 00:01:37,039
like a waste of time or came out poorly

49
00:01:35,040 --> 00:01:38,960
we should regress to something simpler

50
00:01:37,040 --> 00:01:41,118
or just delete it entirely if it turns

51
00:01:38,959 --> 00:01:42,719
out to be not something we actually want

52
00:01:41,118 --> 00:01:45,599
and so i kind of wanted to make just a

53
00:01:42,719 --> 00:01:49,359
list of those things uh so that we could

54
00:01:45,599 --> 00:01:50,879
have some you know idea of of like of

55
00:01:49,359 --> 00:01:52,640
like a checklist that we go through it's

56
00:01:50,879 --> 00:01:54,879
a little bit hard because obviously

57
00:01:52,640 --> 00:01:56,399
streams are difficult um it's hard to

58
00:01:54,879 --> 00:01:58,158
kind of concentrate on things when you

59
00:01:56,399 --> 00:02:00,879
do them in such like

60
00:01:58,159 --> 00:02:02,799
in such sort of chunked like you know

61
00:02:00,879 --> 00:02:05,359
you do a little bit here a little bit

62
00:02:02,799 --> 00:02:08,360
there it's it's difficult to really like

63
00:02:05,359 --> 00:02:08,360
um

64
00:02:08,719 --> 00:02:12,878
it's difficult to make sure that you

65
00:02:10,159 --> 00:02:14,560
have like a sensible uh idea of like

66
00:02:12,878 --> 00:02:16,560
what you're doing at any given time it's

67
00:02:14,560 --> 00:02:18,640
much harder than it is in

68
00:02:16,560 --> 00:02:20,719
when you're working on stuff for all day

69
00:02:18,639 --> 00:02:23,119
every day uh because it stays fresh in

70
00:02:20,719 --> 00:02:25,199
your brain right um

71
00:02:23,120 --> 00:02:26,640
but basically all i wanted to do was

72
00:02:25,199 --> 00:02:29,199
just kind of go through here and see

73
00:02:26,639 --> 00:02:30,639
what we actually have uh in terms of

74
00:02:29,199 --> 00:02:33,359
stuff in handmade hero and what stuff

75
00:02:30,639 --> 00:02:36,079
kind of went well and what didn't uh go

76
00:02:33,360 --> 00:02:37,840
well and then maybe just put um in terms

77
00:02:36,080 --> 00:02:39,200
of you know maybe we can put right above

78
00:02:37,840 --> 00:02:40,319
our programmer stages of mental

79
00:02:39,199 --> 00:02:43,359
development

80
00:02:40,318 --> 00:02:45,439
here uh we can put like our to-do list

81
00:02:43,360 --> 00:02:46,800
uh we had sort of one of these i think

82
00:02:45,439 --> 00:02:47,840
at some point but i don't actually

83
00:02:46,800 --> 00:02:49,920
remember

84
00:02:47,840 --> 00:02:51,200
uh oh so it looks like we had like a

85
00:02:49,919 --> 00:02:53,839
separate file

86
00:02:51,199 --> 00:02:56,238
that's fine um you know we can keep it

87
00:02:53,840 --> 00:02:58,640
in a separate file right

88
00:02:56,239 --> 00:03:00,480
so a lot of these things i guess i don't

89
00:02:58,639 --> 00:03:01,839
know what this to-do list was for we

90
00:03:00,479 --> 00:03:05,119
made it at some point but a lot of these

91
00:03:01,840 --> 00:03:07,920
things we actually already did um so

92
00:03:05,120 --> 00:03:10,239
that's uh kind of uh less good

93
00:03:07,919 --> 00:03:12,958
potentially in fact i don't really know

94
00:03:10,239 --> 00:03:14,480
how much value this would be in general

95
00:03:12,959 --> 00:03:16,080
so i think i might go with my original

96
00:03:14,479 --> 00:03:17,280
plan maybe we'll you know that that's

97
00:03:16,080 --> 00:03:19,040
just old stuff

98
00:03:17,280 --> 00:03:21,360
maybe i'll put it up here because i find

99
00:03:19,039 --> 00:03:23,280
that any time usually what i do when i'm

100
00:03:21,360 --> 00:03:27,360
working normally is i use a notebook for

101
00:03:23,280 --> 00:03:29,439
this process i don't actually even

102
00:03:27,360 --> 00:03:30,799
keep it in files anywhere i find for

103
00:03:29,439 --> 00:03:32,400
some reason having a notebook next to me

104
00:03:30,799 --> 00:03:34,640
is like way better and actually also

105
00:03:32,400 --> 00:03:36,239
everyone i know does it that way jeff

106
00:03:34,639 --> 00:03:38,399
roberts says that way john blow does it

107
00:03:36,239 --> 00:03:40,560
that way like it just seems like the way

108
00:03:38,400 --> 00:03:41,840
that you keep to do lists for some

109
00:03:40,560 --> 00:03:43,920
reason

110
00:03:41,840 --> 00:03:45,439
not on a computer

111
00:03:43,919 --> 00:03:47,598
i don't know why that is maybe because

112
00:03:45,439 --> 00:03:50,000
computers are very bad at everything all

113
00:03:47,598 --> 00:03:52,000
the time uh but

114
00:03:50,000 --> 00:03:54,400
uh i think what we might do just delete

115
00:03:52,000 --> 00:03:56,400
this this this guy uh

116
00:03:54,400 --> 00:03:58,879
just get rid of it because i don't

117
00:03:56,400 --> 00:04:01,680
really want it there and uh it's just

118
00:03:58,878 --> 00:04:04,239
old stuff anyway uh so it's it's more

119
00:04:01,680 --> 00:04:05,040
trouble than it's worth right

120
00:04:04,239 --> 00:04:06,560
so

121
00:04:05,039 --> 00:04:08,560
um on

122
00:04:06,560 --> 00:04:09,519
you know deleting that

123
00:04:08,560 --> 00:04:11,199
and

124
00:04:09,519 --> 00:04:12,719
putting a to-do list here again not

125
00:04:11,199 --> 00:04:14,560
great because i prefer to have like a

126
00:04:12,719 --> 00:04:17,120
list next to me but you know in this

127
00:04:14,560 --> 00:04:18,079
case i won't really be able to

128
00:04:17,120 --> 00:04:19,519
i

129
00:04:18,079 --> 00:04:21,840
what i wanted to say first of all was

130
00:04:19,519 --> 00:04:24,079
like debug system sucks

131
00:04:21,839 --> 00:04:25,439
like the debug system has always sucked

132
00:04:24,079 --> 00:04:27,519
pretty much

133
00:04:25,439 --> 00:04:29,120
uh and i think the reason that the debug

134
00:04:27,519 --> 00:04:30,560
system sucks if you look at it was just

135
00:04:29,120 --> 00:04:33,120
because we tried a bunch of things that

136
00:04:30,560 --> 00:04:34,399
were probably just too much for what we

137
00:04:33,120 --> 00:04:36,478
actually need

138
00:04:34,399 --> 00:04:39,758
and they just end up creating a lot of

139
00:04:36,478 --> 00:04:41,839
cruft and unreliability um so to give

140
00:04:39,759 --> 00:04:43,360
some you know i said it's hard to keep

141
00:04:41,839 --> 00:04:45,519
track of everything and so it's odd that

142
00:04:43,360 --> 00:04:48,160
i'm probably able to come here and talk

143
00:04:45,519 --> 00:04:50,079
about what i think didn't work when i

144
00:04:48,160 --> 00:04:50,800
haven't touched this code in forever but

145
00:04:50,079 --> 00:04:52,240
so

146
00:04:50,800 --> 00:04:53,360
you know maybe take it with a grain of

147
00:04:52,240 --> 00:04:54,800
salt because

148
00:04:53,360 --> 00:04:56,879
it should have probably faded from my

149
00:04:54,800 --> 00:04:58,720
memory quite a bit by now but

150
00:04:56,879 --> 00:05:00,879
i can remember the broad strokes and in

151
00:04:58,720 --> 00:05:02,880
general

152
00:05:00,879 --> 00:05:04,800
what we did here is we said look we're

153
00:05:02,879 --> 00:05:06,560
just going to create logs

154
00:05:04,800 --> 00:05:08,240
and the logs

155
00:05:06,560 --> 00:05:09,038
are going to be any thread can just

156
00:05:08,240 --> 00:05:10,720
write

157
00:05:09,038 --> 00:05:12,240
something to the log

158
00:05:10,720 --> 00:05:15,120
and then they kind of get gathered up

159
00:05:12,240 --> 00:05:17,519
afterwards and displayed as data

160
00:05:15,120 --> 00:05:21,280
now there's a lot of problems with the

161
00:05:17,519 --> 00:05:22,719
things that we chose to do here uh and

162
00:05:21,279 --> 00:05:24,959
you know part of these are mistakes that

163
00:05:22,720 --> 00:05:26,560
i think i make often meaning you keep

164
00:05:24,959 --> 00:05:28,638
making the mistake and it's hard

165
00:05:26,560 --> 00:05:30,560
sometimes to not make the mistake i make

166
00:05:28,639 --> 00:05:32,240
it less now probably than i did when we

167
00:05:30,560 --> 00:05:34,800
were doing this on handmade hero but i

168
00:05:32,240 --> 00:05:34,800
still make it

169
00:05:35,279 --> 00:05:38,559
it's one of the hardest mistakes not to

170
00:05:36,800 --> 00:05:40,639
make

171
00:05:38,560 --> 00:05:42,879
and the reason uh for this particular

172
00:05:40,639 --> 00:05:45,360
mistake is when you think that you're

173
00:05:42,879 --> 00:05:47,839
going to do something

174
00:05:45,360 --> 00:05:49,600
to make it easy to do it somewhere and

175
00:05:47,839 --> 00:05:51,279
the way that you make it easy to do it

176
00:05:49,600 --> 00:05:53,039
is making the code on the other side

177
00:05:51,279 --> 00:05:54,559
massively more complicated to the point

178
00:05:53,038 --> 00:05:55,839
where it actually is still pretty hard

179
00:05:54,560 --> 00:05:58,000
to use

180
00:05:55,839 --> 00:06:00,000
uh and so one of the things we did here

181
00:05:58,000 --> 00:06:01,680
like if you look at the debug interface

182
00:06:00,000 --> 00:06:03,519
there's all this garbage there's all

183
00:06:01,680 --> 00:06:05,680
these macros for like

184
00:06:03,519 --> 00:06:08,560
timing blocks and writing out things

185
00:06:05,680 --> 00:06:11,439
like event data and all this stuff

186
00:06:08,560 --> 00:06:13,120
and all of these are really just they're

187
00:06:11,439 --> 00:06:16,160
really just working around the fact that

188
00:06:13,120 --> 00:06:18,000
c and c plus are garbage about how you

189
00:06:16,160 --> 00:06:20,240
actually do meta programming you know

190
00:06:18,000 --> 00:06:23,120
really all you want here is like a set

191
00:06:20,240 --> 00:06:26,000
of enums like one enum

192
00:06:23,120 --> 00:06:27,439
per event type you wanted to record and

193
00:06:26,000 --> 00:06:29,360
then your code that's actually recording

194
00:06:27,439 --> 00:06:30,240
events just says here's the you know

195
00:06:29,360 --> 00:06:31,919
event

196
00:06:30,240 --> 00:06:34,079
this is the one it is

197
00:06:31,918 --> 00:06:36,079
and so trying to automatically generate

198
00:06:34,079 --> 00:06:38,240
these things we use all sorts of tricks

199
00:06:36,079 --> 00:06:40,639
you can actually see just how ridiculous

200
00:06:38,240 --> 00:06:44,400
it gets up here there's like an atomic

201
00:06:40,639 --> 00:06:47,038
add for the index there's this like

202
00:06:44,399 --> 00:06:49,519
global table that gets updated uh it

203
00:06:47,038 --> 00:06:51,918
then uses like a a

204
00:06:49,519 --> 00:06:55,038
marker that it puts in that's like a

205
00:06:51,918 --> 00:06:57,439
underscore counter in here as well like

206
00:06:55,038 --> 00:06:59,439
like as well as like um

207
00:06:57,439 --> 00:07:00,560
like let me show you what i mean it's

208
00:06:59,439 --> 00:07:02,719
like

209
00:07:00,560 --> 00:07:05,519
somewhere in here i don't remember there

210
00:07:02,720 --> 00:07:07,440
it is um it uses like file and line

211
00:07:05,519 --> 00:07:09,758
encounter to create a unique thing on a

212
00:07:07,439 --> 00:07:12,160
line again all of this stuff is just

213
00:07:09,759 --> 00:07:13,598
because c and c plus plus just suck at

214
00:07:12,160 --> 00:07:15,360
this like like they should have solved

215
00:07:13,598 --> 00:07:17,279
this problem long ago it should have

216
00:07:15,360 --> 00:07:19,439
been trivial to do stuff like just put

217
00:07:17,279 --> 00:07:21,918
uh things in that say hey

218
00:07:19,439 --> 00:07:23,439
this thing in the code gets a unique id

219
00:07:21,918 --> 00:07:25,279
and that unique id should be stable

220
00:07:23,439 --> 00:07:27,439
across builds that should be a thing you

221
00:07:25,279 --> 00:07:29,038
do day one if you're making a language

222
00:07:27,439 --> 00:07:29,839
instead it's a thing that people never

223
00:07:29,038 --> 00:07:31,120
do

224
00:07:29,839 --> 00:07:32,719
and basically every language ships

225
00:07:31,120 --> 00:07:34,000
without it somehow even though it's like

226
00:07:32,720 --> 00:07:35,520
one of the most basic things you would

227
00:07:34,000 --> 00:07:37,598
want to do in computing

228
00:07:35,519 --> 00:07:39,918
um so as a result it's all just us

229
00:07:37,598 --> 00:07:41,918
working around that and the result is

230
00:07:39,918 --> 00:07:43,598
all of this work around just makes the

231
00:07:41,918 --> 00:07:44,799
debug system a tremendous pain in the

232
00:07:43,598 --> 00:07:46,959
butt to use

233
00:07:44,800 --> 00:07:49,120
if instead we had just said look just

234
00:07:46,959 --> 00:07:50,239
make the freaking enum anytime you want

235
00:07:49,120 --> 00:07:51,918
to add

236
00:07:50,240 --> 00:07:54,160
something to this code base just make

237
00:07:51,918 --> 00:07:56,799
the enum man like like just make just

238
00:07:54,160 --> 00:07:57,759
it's not that hard right

239
00:07:56,800 --> 00:07:59,598
you know

240
00:07:57,759 --> 00:08:01,439
adding one line to a file that's like

241
00:07:59,598 --> 00:08:02,478
here's this new enum for this thing that

242
00:08:01,439 --> 00:08:04,639
i'm

243
00:08:02,478 --> 00:08:06,478
event that i want to track or whatever

244
00:08:04,639 --> 00:08:08,800
would have saved so much time and so

245
00:08:06,478 --> 00:08:10,878
much aggravation and as a result is

246
00:08:08,800 --> 00:08:12,400
exactly the same and it's gonna probably

247
00:08:10,879 --> 00:08:13,759
be more usable because you don't have

248
00:08:12,399 --> 00:08:15,918
all of this craft that makes it very

249
00:08:13,759 --> 00:08:18,080
confusing and requires things to be done

250
00:08:15,918 --> 00:08:19,359
after the fact uh and all this other

251
00:08:18,079 --> 00:08:20,959
stuff

252
00:08:19,360 --> 00:08:22,960
the other thing that's ridiculous about

253
00:08:20,959 --> 00:08:25,038
this and this is just probably because i

254
00:08:22,959 --> 00:08:26,799
feel like you know i'm still not i

255
00:08:25,038 --> 00:08:29,199
wouldn't consider myself at the point

256
00:08:26,800 --> 00:08:30,800
yet where i'm really great at

257
00:08:29,199 --> 00:08:33,120
multi-threaded programming i think

258
00:08:30,800 --> 00:08:35,200
probably nobody these days is really

259
00:08:33,120 --> 00:08:37,278
great at multi-threaded programming i'm

260
00:08:35,200 --> 00:08:39,599
way better than i was though and just

261
00:08:37,278 --> 00:08:41,120
looking at this code you know

262
00:08:39,599 --> 00:08:43,360
thinking about how it's done it does

263
00:08:41,120 --> 00:08:44,959
things that i would never do today so if

264
00:08:43,360 --> 00:08:47,120
you look at how this code works for

265
00:08:44,958 --> 00:08:49,838
example it does an atomic add on the

266
00:08:47,120 --> 00:08:52,560
debug table so that anyone who issues a

267
00:08:49,839 --> 00:08:55,360
debug event will go ahead and get a

268
00:08:52,559 --> 00:08:57,838
unique slot in the table now the thing

269
00:08:55,360 --> 00:08:59,919
that's so terrible about this is that

270
00:08:57,839 --> 00:09:02,399
you really don't want to be doing atomic

271
00:08:59,919 --> 00:09:03,838
operations in your debug system if you

272
00:09:02,399 --> 00:09:07,120
are what you're doing is you're

273
00:09:03,839 --> 00:09:09,440
introducing new synchronized bus traffic

274
00:09:07,120 --> 00:09:10,959
for debug code which is terrible right

275
00:09:09,440 --> 00:09:12,800
like you never want to do that because

276
00:09:10,958 --> 00:09:15,359
anytime you do any kind of atomic

277
00:09:12,799 --> 00:09:18,240
operation at the cpu level the cpu

278
00:09:15,360 --> 00:09:21,200
itself has to rely on the cache logic to

279
00:09:18,240 --> 00:09:24,080
actually synchronize so you don't know i

280
00:09:21,200 --> 00:09:26,879
mean you might not be but you might you

281
00:09:24,080 --> 00:09:29,200
don't know what kind of additional

282
00:09:26,879 --> 00:09:32,240
thread synchronization you're actually

283
00:09:29,200 --> 00:09:34,399
secretly introducing there lock free

284
00:09:32,240 --> 00:09:36,560
isn't lock free is the good way to think

285
00:09:34,399 --> 00:09:38,879
about it right any time you use an

286
00:09:36,559 --> 00:09:40,799
atomic exchange atomic compare exchange

287
00:09:38,879 --> 00:09:43,600
atomic add atomic increment comic

288
00:09:40,799 --> 00:09:45,599
decrement any of these things

289
00:09:43,600 --> 00:09:47,519
unless you've actually gone and looked

290
00:09:45,600 --> 00:09:49,360
at it you don't know how much additional

291
00:09:47,519 --> 00:09:51,039
synchronization you might be causing

292
00:09:49,360 --> 00:09:52,879
between threads that are trying to

293
00:09:51,039 --> 00:09:54,799
access this same number

294
00:09:52,879 --> 00:09:57,519
right

295
00:09:54,799 --> 00:09:58,799
uh so this is one of those like

296
00:09:57,519 --> 00:10:00,320
uh

297
00:09:58,799 --> 00:10:01,838
this is just one of those things that

298
00:10:00,320 --> 00:10:04,480
once you get better at multi-threaded

299
00:10:01,839 --> 00:10:07,040
programming you just avoid any kind of

300
00:10:04,480 --> 00:10:08,959
atomic ads or anything like that

301
00:10:07,039 --> 00:10:10,958
except in the circumstances where you

302
00:10:08,958 --> 00:10:12,559
actually really wanted thread

303
00:10:10,958 --> 00:10:14,399
synchronization to occur you try to

304
00:10:12,559 --> 00:10:16,319
eliminate so you definitely don't want

305
00:10:14,399 --> 00:10:18,000
it in a debug system because the debug

306
00:10:16,320 --> 00:10:19,600
system is as much as possible trying to

307
00:10:18,000 --> 00:10:21,200
be something that isn't going to

308
00:10:19,600 --> 00:10:23,440
radically change the behavior of the

309
00:10:21,200 --> 00:10:25,600
program that you're debugging so we

310
00:10:23,440 --> 00:10:27,360
definitely don't want a situation where

311
00:10:25,600 --> 00:10:29,440
we're trying to debug something and we

312
00:10:27,360 --> 00:10:32,399
insert a debug event into it and all of

313
00:10:29,440 --> 00:10:34,399
a sudden our threads sync at a different

314
00:10:32,399 --> 00:10:35,360
point right um

315
00:10:34,399 --> 00:10:38,720
so

316
00:10:35,360 --> 00:10:41,039
you know what i'm saying to you right

317
00:10:38,720 --> 00:10:45,160
um so it's it's just like one of those

318
00:10:41,039 --> 00:10:45,159
things you just don't want to do

319
00:10:48,320 --> 00:10:53,120
only one thread the way to think about

320
00:10:50,399 --> 00:10:55,360
an atomic add right

321
00:10:53,120 --> 00:10:58,480
is that a thread that hits the atomic

322
00:10:55,360 --> 00:11:00,480
add the cpu has to then lock that cache

323
00:10:58,480 --> 00:11:02,480
line as exclusive right it has to

324
00:11:00,480 --> 00:11:05,120
acquire an exclusive access to that

325
00:11:02,480 --> 00:11:06,639
cache line so that it can perform the ad

326
00:11:05,120 --> 00:11:08,720
and know that no one else has changed

327
00:11:06,639 --> 00:11:10,958
the cache at the same time if two

328
00:11:08,720 --> 00:11:12,959
threads hit the atomic ad at the same

329
00:11:10,958 --> 00:11:14,799
time they're both going to need to lock

330
00:11:12,958 --> 00:11:17,199
the cache line as exclusive to make that

331
00:11:14,799 --> 00:11:19,359
change and the one that gets it first

332
00:11:17,200 --> 00:11:22,160
will stall the one that gets it second

333
00:11:19,360 --> 00:11:23,519
right now sometimes it doesn't matter

334
00:11:22,159 --> 00:11:24,399
and this is why i say you can just time

335
00:11:23,519 --> 00:11:26,159
it

336
00:11:24,399 --> 00:11:28,799
if you really care right because what's

337
00:11:26,159 --> 00:11:32,240
going to happen is out-of-order cpus can

338
00:11:28,799 --> 00:11:34,958
work around this fact so if this thing

339
00:11:32,240 --> 00:11:36,799
about recording the event

340
00:11:34,958 --> 00:11:38,639
can all be pushed onto a separate

341
00:11:36,799 --> 00:11:40,399
dependency chain where the cpu is just

342
00:11:38,639 --> 00:11:43,759
like leaving it in the table and going

343
00:11:40,399 --> 00:11:45,919
ahead right um it's not going to be that

344
00:11:43,759 --> 00:11:48,078
bad potentially because it may not

345
00:11:45,919 --> 00:11:49,439
really affect anything yes you're

346
00:11:48,078 --> 00:11:50,958
stalled but you're stalling one

347
00:11:49,440 --> 00:11:53,040
dependency chain and you see if you can

348
00:11:50,958 --> 00:11:54,159
go execute other ones

349
00:11:53,039 --> 00:11:56,000
but again

350
00:11:54,159 --> 00:11:57,919
you're counting on that behavior if you

351
00:11:56,000 --> 00:11:59,600
use this you're counting on the fact

352
00:11:57,919 --> 00:12:01,120
that the out of order window will be big

353
00:11:59,600 --> 00:12:03,278
enough and there will be enough other

354
00:12:01,120 --> 00:12:04,078
dependency chains blah blah blah blah

355
00:12:03,278 --> 00:12:06,240
right

356
00:12:04,078 --> 00:12:07,759
you're counting on all of that to occur

357
00:12:06,240 --> 00:12:08,959
and like i just don't like to count on

358
00:12:07,759 --> 00:12:11,600
that because unless i've actually

359
00:12:08,958 --> 00:12:14,159
profiled it i don't know right it might

360
00:12:11,600 --> 00:12:15,839
be fine it might not be so typically

361
00:12:14,159 --> 00:12:17,679
what you want to do here if you can is

362
00:12:15,839 --> 00:12:20,720
just you use thread local storage or

363
00:12:17,679 --> 00:12:22,719
something and have uh things recorded

364
00:12:20,720 --> 00:12:24,480
per thread and then later on at a you

365
00:12:22,720 --> 00:12:27,040
know at a time when you're used to

366
00:12:24,480 --> 00:12:29,839
synchronizing your threads

367
00:12:27,039 --> 00:12:32,799
then you do one thing where you add them

368
00:12:29,839 --> 00:12:35,279
up at that at that ending um that's

369
00:12:32,799 --> 00:12:37,679
usually a better way to go now you know

370
00:12:35,278 --> 00:12:39,600
you can also just decide not to do that

371
00:12:37,679 --> 00:12:41,838
if you if you don't mind this this kind

372
00:12:39,600 --> 00:12:43,759
of pile on um but it's just worth

373
00:12:41,839 --> 00:12:45,200
understanding like that you've got these

374
00:12:43,759 --> 00:12:46,639
trade-offs to make in so i probably

375
00:12:45,200 --> 00:12:48,320
wouldn't want to do that either i'd

376
00:12:46,639 --> 00:12:50,000
probably want to pull that out

377
00:12:48,320 --> 00:12:51,760
make everyone record their own thread

378
00:12:50,000 --> 00:12:53,839
local thing and then when we wish to

379
00:12:51,759 --> 00:12:55,439
display the debug system

380
00:12:53,839 --> 00:12:57,600
only if the debug system is actually

381
00:12:55,440 --> 00:12:59,360
displaying something at that time do we

382
00:12:57,600 --> 00:13:00,800
bother to actually merge those things

383
00:12:59,360 --> 00:13:01,839
together so the normal run of the

384
00:13:00,799 --> 00:13:03,439
program

385
00:13:01,839 --> 00:13:06,800
doesn't get affected because nobody's

386
00:13:03,440 --> 00:13:08,560
atomically adding anything right

387
00:13:06,799 --> 00:13:10,399
so you know there's things like that we

388
00:13:08,559 --> 00:13:13,039
can do and i think that would be a good

389
00:13:10,399 --> 00:13:17,200
one so i would write these down in here

390
00:13:13,039 --> 00:13:20,958
like uh remove the atomic add

391
00:13:17,200 --> 00:13:22,959
debug table in favor of thread local

392
00:13:20,958 --> 00:13:25,838
is one thing we would like to do

393
00:13:22,958 --> 00:13:26,799
simplify everything

394
00:13:25,839 --> 00:13:30,720
dealing

395
00:13:26,799 --> 00:13:33,599
with events down to just a simple

396
00:13:30,720 --> 00:13:35,519
enum table of things that you

397
00:13:33,600 --> 00:13:38,560
pre-register

398
00:13:35,519 --> 00:13:41,278
in the enum

399
00:13:38,559 --> 00:13:43,679
uh right so all of that stuff i think

400
00:13:41,278 --> 00:13:45,519
would be a much better and more usable

401
00:13:43,679 --> 00:13:47,599
system because it would allow us to

402
00:13:45,519 --> 00:13:49,679
record things more specifically and more

403
00:13:47,600 --> 00:13:52,480
predictably

404
00:13:49,679 --> 00:13:54,399
than we were doing before and we just

405
00:13:52,480 --> 00:13:57,680
don't use a lot of this stuff right we

406
00:13:54,399 --> 00:14:00,000
just don't use a lot of this stuff to

407
00:13:57,679 --> 00:14:01,679
any great effect because it was so hard

408
00:14:00,000 --> 00:14:04,320
to deal with right

409
00:14:01,679 --> 00:14:06,239
and we had in the editor side of things

410
00:14:04,320 --> 00:14:07,519
this in-game editor thing here which

411
00:14:06,240 --> 00:14:10,879
actually has

412
00:14:07,519 --> 00:14:12,480
uh us creating um some

413
00:14:10,879 --> 00:14:15,278
uh you can see here like we've got begin

414
00:14:12,480 --> 00:14:17,600
row end row and some button code right

415
00:14:15,278 --> 00:14:19,278
um i think this is probably what we more

416
00:14:17,600 --> 00:14:22,240
want to go with you can see it's very

417
00:14:19,278 --> 00:14:24,320
reasonable uh it's easy to read again

418
00:14:22,240 --> 00:14:26,320
the dev id from pointer kind of stuff

419
00:14:24,320 --> 00:14:28,959
like we can probably simplify this stuff

420
00:14:26,320 --> 00:14:30,959
down quite a bit by actually just using

421
00:14:28,958 --> 00:14:32,879
an enum or something but otherwise if we

422
00:14:30,958 --> 00:14:35,359
just simplify this and this is the debug

423
00:14:32,879 --> 00:14:38,399
system so that you can write to it from

424
00:14:35,360 --> 00:14:41,519
anywhere right um and then you can come

425
00:14:38,399 --> 00:14:43,120
back here and you can just uh

426
00:14:41,519 --> 00:14:45,278
just we can write little displays for

427
00:14:43,120 --> 00:14:47,198
doing system that use logic to display

428
00:14:45,278 --> 00:14:50,799
the things we want right

429
00:14:47,198 --> 00:14:54,078
um so i would say like

430
00:14:50,799 --> 00:14:56,879
transfer debug view to the editor

431
00:14:54,078 --> 00:14:59,838
uh and we would probably clean up editor

432
00:14:56,879 --> 00:14:59,838
uh

433
00:15:00,078 --> 00:15:04,239
ui stuff

434
00:15:01,919 --> 00:15:04,240
a bit

435
00:15:06,559 --> 00:15:11,679
so i think that that's uh

436
00:15:09,519 --> 00:15:13,440
i don't think there's that much

437
00:15:11,679 --> 00:15:14,319
of substance there to fix the debug

438
00:15:13,440 --> 00:15:16,240
system

439
00:15:14,320 --> 00:15:18,399
it's just a lot of cruft so it'll be

440
00:15:16,240 --> 00:15:21,039
like a bunch of you know

441
00:15:18,399 --> 00:15:23,440
removing that craft basically and

442
00:15:21,039 --> 00:15:25,360
being more diligent about keeping it

443
00:15:23,440 --> 00:15:28,079
simple and not over complicating

444
00:15:25,360 --> 00:15:29,919
something that we don't really need that

445
00:15:28,078 --> 00:15:31,359
much of right we don't need it to do

446
00:15:29,919 --> 00:15:34,078
these things because just a little bit

447
00:15:31,360 --> 00:15:35,839
of code that's explicit will do whatever

448
00:15:34,078 --> 00:15:37,758
it is that we needed to do and that's

449
00:15:35,839 --> 00:15:39,600
usually just a better way to do it

450
00:15:37,759 --> 00:15:40,959
than that sort of you know oh that's

451
00:15:39,600 --> 00:15:42,560
going to do everything automatically and

452
00:15:40,958 --> 00:15:45,838
let us view things dynamically it's like

453
00:15:42,559 --> 00:15:47,119
no it's not because whatever you

454
00:15:45,839 --> 00:15:48,800
needed to do

455
00:15:47,120 --> 00:15:50,078
to create that view you should have just

456
00:15:48,799 --> 00:15:52,240
created that view and code it will be

457
00:15:50,078 --> 00:15:53,838
simpler faster and more powerful then

458
00:15:52,240 --> 00:15:55,839
you're never going to write like a whole

459
00:15:53,839 --> 00:15:57,360
ui for like constructing like debug

460
00:15:55,839 --> 00:15:59,759
views and stuff right that's just a huge

461
00:15:57,360 --> 00:16:01,278
waste of time so you end up in this

462
00:15:59,759 --> 00:16:03,039
situation where you just have the worst

463
00:16:01,278 --> 00:16:05,278
of both worlds so trying to avoid that

464
00:16:03,039 --> 00:16:07,198
kind of pit but i think the debug system

465
00:16:05,278 --> 00:16:09,278
fell into

466
00:16:07,198 --> 00:16:12,000
um would be good

467
00:16:09,278 --> 00:16:14,320
um so there's two other things i can

468
00:16:12,000 --> 00:16:17,039
think of and so the other big one i

469
00:16:14,320 --> 00:16:20,079
think uh that's most obvious is just

470
00:16:17,039 --> 00:16:20,879
lighting um looking at lighting i think

471
00:16:20,078 --> 00:16:23,439
uh

472
00:16:20,879 --> 00:16:25,360
there's a couple things so i do like the

473
00:16:23,440 --> 00:16:27,839
lighting like it's not actually that i

474
00:16:25,360 --> 00:16:30,079
don't like the lighting and um what it

475
00:16:27,839 --> 00:16:32,320
kind of ended up uh doing was very

476
00:16:30,078 --> 00:16:34,799
interesting and and i'm you know i'm not

477
00:16:32,320 --> 00:16:36,079
uh unhappy about it uh i should probably

478
00:16:34,799 --> 00:16:38,000
turn off some of this collision

479
00:16:36,078 --> 00:16:39,758
detection stuff that we were working on

480
00:16:38,000 --> 00:16:41,039
um let me do that really quickly so that

481
00:16:39,759 --> 00:16:42,320
we can take a look at the lighting more

482
00:16:41,039 --> 00:16:44,240
specifically

483
00:16:42,320 --> 00:16:45,120
um

484
00:16:44,240 --> 00:16:46,480
in

485
00:16:45,120 --> 00:16:48,240
move entity

486
00:16:46,480 --> 00:16:50,639
um so i'm just going to go ahead and

487
00:16:48,240 --> 00:16:52,639
stub move entity temporarily uh which

488
00:16:50,639 --> 00:16:55,198
will get rid of you know

489
00:16:52,639 --> 00:16:56,879
most of this stuff what unreachable

490
00:16:55,198 --> 00:16:58,799
really

491
00:16:56,879 --> 00:17:00,720
thank you so much for that piece of

492
00:16:58,799 --> 00:17:03,120
information um

493
00:17:00,720 --> 00:17:04,640
great uh int

494
00:17:03,120 --> 00:17:07,838
didn't

495
00:17:04,640 --> 00:17:07,839
don't care about that

496
00:17:10,640 --> 00:17:13,439
equals one

497
00:17:16,798 --> 00:17:21,679
is that better

498
00:17:18,400 --> 00:17:25,519
are you happy now compiler

499
00:17:21,679 --> 00:17:27,600
um so anyway uh when we look at this uh

500
00:17:25,519 --> 00:17:29,599
what the lighting looks like right now

501
00:17:27,599 --> 00:17:31,599
um i'm actually kind of happy with it

502
00:17:29,599 --> 00:17:33,119
and i do think that it's kind of nice it

503
00:17:31,599 --> 00:17:34,798
does a lot of interesting things and it

504
00:17:33,119 --> 00:17:36,959
provides some kind of soft lighting and

505
00:17:34,798 --> 00:17:39,279
the bounce lighting is nice and stuff

506
00:17:36,960 --> 00:17:41,600
but i just think like in terms of the

507
00:17:39,279 --> 00:17:45,759
complexity of the code

508
00:17:41,599 --> 00:17:48,719
and the quality it's just not there and

509
00:17:45,759 --> 00:17:50,160
yes like an easy way for us to i should

510
00:17:48,720 --> 00:17:52,720
probably also i guess while i'm at it

511
00:17:50,160 --> 00:17:55,120
turn off the um

512
00:17:52,720 --> 00:17:56,160
uh in the in the entity renderer the the

513
00:17:55,119 --> 00:17:58,639
collision

514
00:17:56,160 --> 00:18:01,279
uh volumes being being drawn there is

515
00:17:58,640 --> 00:18:03,280
not particularly relevant either um but

516
00:18:01,279 --> 00:18:06,798
anyway point being uh the lighting

517
00:18:03,279 --> 00:18:09,119
system is is okay but i just think bang

518
00:18:06,798 --> 00:18:09,918
for the buck wise it's just not fair

519
00:18:09,119 --> 00:18:12,000
right

520
00:18:09,919 --> 00:18:13,679
um and we could you know one of the

521
00:18:12,000 --> 00:18:14,480
reasons for that is we're doing it cpu

522
00:18:13,679 --> 00:18:16,559
side

523
00:18:14,480 --> 00:18:18,640
and this is really a gpu side thing we

524
00:18:16,558 --> 00:18:20,720
could move it to the gpu and that would

525
00:18:18,640 --> 00:18:22,640
certainly be something we could do but

526
00:18:20,720 --> 00:18:24,720
we had pretty nice lighting working

527
00:18:22,640 --> 00:18:26,880
before when i tried just doing circular

528
00:18:24,720 --> 00:18:28,640
lights in there and they're not like

529
00:18:26,880 --> 00:18:30,480
very physically correct but i think they

530
00:18:28,640 --> 00:18:31,520
looked better and they were very cheap

531
00:18:30,480 --> 00:18:33,200
to do

532
00:18:31,519 --> 00:18:36,000
and so i think what i might want to do

533
00:18:33,200 --> 00:18:38,558
is just regress one on the lighting and

534
00:18:36,000 --> 00:18:39,599
use what is basically just like artistic

535
00:18:38,558 --> 00:18:42,960
lighting

536
00:18:39,599 --> 00:18:44,879
um so maybe i don't know exactly how to

537
00:18:42,960 --> 00:18:46,319
solve the light leakage problem with

538
00:18:44,880 --> 00:18:48,000
that kind of lighting like one of the

539
00:18:46,319 --> 00:18:49,439
things that we get right now right

540
00:18:48,000 --> 00:18:51,279
because it's actually doing some ray

541
00:18:49,440 --> 00:18:53,200
casting is like the outside is dark and

542
00:18:51,279 --> 00:18:54,839
the inside is light if the light can't

543
00:18:53,200 --> 00:18:58,160
reach the outside right and that's

544
00:18:54,839 --> 00:18:58,959
something that presumably you would want

545
00:18:58,160 --> 00:19:01,679
and

546
00:18:58,960 --> 00:19:04,720
so we may have to do a little bit of

547
00:19:01,679 --> 00:19:07,759
package to get it to not do grotesque

548
00:19:04,720 --> 00:19:10,720
things like propagate like a light too

549
00:19:07,759 --> 00:19:11,759
far outside of a wall like that um

550
00:19:10,720 --> 00:19:13,759
and so

551
00:19:11,759 --> 00:19:15,440
but i'm okay doing some of that package

552
00:19:13,759 --> 00:19:18,319
i just think the circular lights looked

553
00:19:15,440 --> 00:19:20,000
really good and i think we could do

554
00:19:18,319 --> 00:19:21,918
most of what we want to do with them and

555
00:19:20,000 --> 00:19:24,240
it would just be way less performance

556
00:19:21,919 --> 00:19:28,320
cost and better quality level and just

557
00:19:24,240 --> 00:19:31,279
not as realistic but that's okay right

558
00:19:28,319 --> 00:19:33,200
um so uh i think what i'd like to do is

559
00:19:31,279 --> 00:19:34,798
try regressing to circular lights and

560
00:19:33,200 --> 00:19:36,558
just simplify the lighting system down

561
00:19:34,798 --> 00:19:38,558
to that because i think that it looked

562
00:19:36,558 --> 00:19:41,200
cool and it was an interesting technique

563
00:19:38,558 --> 00:19:43,918
and uh it would keep things simple right

564
00:19:41,200 --> 00:19:45,519
so regress uh to circular

565
00:19:43,919 --> 00:19:49,120
light source

566
00:19:45,519 --> 00:19:49,119
um based lighting

567
00:19:50,160 --> 00:19:52,640
so i'd like to just kind of regress to

568
00:19:51,359 --> 00:19:54,479
that and say look we're gonna force it

569
00:19:52,640 --> 00:19:56,320
to be artistic lighting

570
00:19:54,480 --> 00:19:57,279
uh and we're gonna see what we can do

571
00:19:56,319 --> 00:20:00,399
there

572
00:19:57,279 --> 00:20:03,038
and the only question i have is like you

573
00:20:00,400 --> 00:20:04,159
know maybe like

574
00:20:03,038 --> 00:20:08,400
uh

575
00:20:04,159 --> 00:20:09,360
some simple way of walls preventing

576
00:20:08,400 --> 00:20:12,159
light

577
00:20:09,359 --> 00:20:14,319
leakage right

578
00:20:12,159 --> 00:20:16,000
and again

579
00:20:14,319 --> 00:20:18,720
not having really done a system like

580
00:20:16,000 --> 00:20:20,400
this before like a circular light system

581
00:20:18,720 --> 00:20:22,720
uh because i haven't really done a

582
00:20:20,400 --> 00:20:23,919
system like that before i don't really

583
00:20:22,720 --> 00:20:26,240
know

584
00:20:23,919 --> 00:20:28,559
what the hack should be like i don't

585
00:20:26,240 --> 00:20:29,599
know what hack should

586
00:20:28,558 --> 00:20:31,599
do it

587
00:20:29,599 --> 00:20:34,240
uh but i think it shouldn't be

588
00:20:31,599 --> 00:20:36,399
impossible right like after trying a few

589
00:20:34,240 --> 00:20:37,519
hacks in theory we should be able to get

590
00:20:36,400 --> 00:20:39,840
something

591
00:20:37,519 --> 00:20:40,720
um that works okay

592
00:20:39,839 --> 00:20:42,319
the

593
00:20:40,720 --> 00:20:44,000
uh so that's all i would really like to

594
00:20:42,319 --> 00:20:45,678
do with lighting and i think we can do

595
00:20:44,000 --> 00:20:47,679
that pretty simply i also think we can

596
00:20:45,679 --> 00:20:50,320
get some good quality by doing a couple

597
00:20:47,679 --> 00:20:51,679
things a couple basic things in there um

598
00:20:50,319 --> 00:20:53,439
again by just having a couple of

599
00:20:51,679 --> 00:20:56,559
different kinds of artistic style light

600
00:20:53,440 --> 00:20:58,480
that we can place uh that directly write

601
00:20:56,558 --> 00:21:00,720
their values out into

602
00:20:58,480 --> 00:21:02,960
uh the system should be okay and then if

603
00:21:00,720 --> 00:21:04,720
we just have like occluders just take

604
00:21:02,960 --> 00:21:07,200
light out of the system you know that

605
00:21:04,720 --> 00:21:08,720
might just be good enough so we'll see

606
00:21:07,200 --> 00:21:10,880
uh but we'll play around with it maybe

607
00:21:08,720 --> 00:21:12,159
for a week or two and just like whatever

608
00:21:10,880 --> 00:21:13,600
we can get out of the circular lighting

609
00:21:12,159 --> 00:21:15,840
system that's what we go with because

610
00:21:13,599 --> 00:21:17,439
that way it's nice and fast

611
00:21:15,839 --> 00:21:19,038
and i know this one kind of seems fast

612
00:21:17,440 --> 00:21:21,120
but you can see that it's not really

613
00:21:19,038 --> 00:21:22,879
very good quality in order to get the

614
00:21:21,119 --> 00:21:24,639
quality up higher and to not have this

615
00:21:22,880 --> 00:21:26,480
being much lag it would be a lot of work

616
00:21:24,640 --> 00:21:28,000
or move to the gpu

617
00:21:26,480 --> 00:21:30,558
and we still don't really have a good

618
00:21:28,000 --> 00:21:32,079
story for flickr right so it's just we

619
00:21:30,558 --> 00:21:34,240
could do it

620
00:21:32,079 --> 00:21:35,918
but it's just gonna cost a lot right uh

621
00:21:34,240 --> 00:21:38,558
it's gonna cost a lot of effort and

622
00:21:35,919 --> 00:21:40,799
probably also gpu time

623
00:21:38,558 --> 00:21:42,079
moving it there uh and i just don't know

624
00:21:40,798 --> 00:21:44,240
that that makes sense for this game

625
00:21:42,079 --> 00:21:46,000
right it just seems like a bad decision

626
00:21:44,240 --> 00:21:47,679
so i think maybe we get rid of it and

627
00:21:46,000 --> 00:21:50,079
move to the circular lights it's it's a

628
00:21:47,679 --> 00:21:52,320
shame because i do it does look cool uh

629
00:21:50,079 --> 00:21:54,399
for sure uh but i'm just thinking maybe

630
00:21:52,319 --> 00:21:56,399
we can make it look uh equally i don't

631
00:21:54,400 --> 00:21:57,360
know as i'm saying all these words and

632
00:21:56,400 --> 00:21:58,640
i'm down here like playing in the

633
00:21:57,359 --> 00:22:00,479
dungeon and looking how cool the light

634
00:21:58,640 --> 00:22:02,640
sources are i'm kind of having second

635
00:22:00,480 --> 00:22:04,798
thoughts about that um

636
00:22:02,640 --> 00:22:05,759
but you know like i said i'm not really

637
00:22:04,798 --> 00:22:07,918
sure

638
00:22:05,759 --> 00:22:10,319
uh how we move forward from where we are

639
00:22:07,919 --> 00:22:12,400
right now that effectively uh i don't

640
00:22:10,319 --> 00:22:13,599
know maybe i'm being stupid

641
00:22:12,400 --> 00:22:16,000
that does look really cool though

642
00:22:13,599 --> 00:22:16,000
doesn't it

643
00:22:16,400 --> 00:22:18,960
um

644
00:22:17,359 --> 00:22:20,479
you know you get sort of this these

645
00:22:18,960 --> 00:22:22,960
these bad square effects as light

646
00:22:20,480 --> 00:22:24,558
falloff happens uh maybe we can fix

647
00:22:22,960 --> 00:22:26,240
those i don't know maybe i shouldn't be

648
00:22:24,558 --> 00:22:27,678
so quick to dismiss this it really looks

649
00:22:26,240 --> 00:22:30,000
incredibly cool

650
00:22:27,679 --> 00:22:30,000
um

651
00:22:30,960 --> 00:22:34,960
this is why it's so difficult um

652
00:22:36,400 --> 00:22:38,640
i don't know

653
00:22:37,519 --> 00:22:40,639
i don't know

654
00:22:38,640 --> 00:22:44,320
that really does look pretty darn cool

655
00:22:40,640 --> 00:22:44,320
to be completely honest um

656
00:22:47,839 --> 00:22:52,158
and you know this is on a five-year-old

657
00:22:49,759 --> 00:22:54,720
machine so you know it only gets faster

658
00:22:52,159 --> 00:22:56,159
with a modern machine

659
00:22:54,720 --> 00:22:58,880
run this on a thread ripper and the

660
00:22:56,159 --> 00:23:00,559
lighting would be quite good

661
00:22:58,880 --> 00:23:03,039
um

662
00:23:00,558 --> 00:23:03,038
i don't know

663
00:23:06,640 --> 00:23:10,640
gosh yeah for some reason i remembered

664
00:23:09,279 --> 00:23:11,519
the lighting looking a lot worse than

665
00:23:10,640 --> 00:23:13,759
this

666
00:23:11,519 --> 00:23:16,480
um

667
00:23:13,759 --> 00:23:19,960
so so that's

668
00:23:16,480 --> 00:23:19,960
part of it

669
00:23:24,400 --> 00:23:28,280
you know uh

670
00:23:36,640 --> 00:23:39,120
yeah i don't know i don't know what to

671
00:23:38,000 --> 00:23:40,240
make of that that's a much harder

672
00:23:39,119 --> 00:23:41,839
decision i thought it was going to be i

673
00:23:40,240 --> 00:23:43,278
thought the lighting looked worse than

674
00:23:41,839 --> 00:23:45,038
this like

675
00:23:43,278 --> 00:23:47,038
really mostly what i'm seeing is like

676
00:23:45,038 --> 00:23:48,879
the objectionable kind of square

677
00:23:47,038 --> 00:23:52,240
artifact here and a little bit of

678
00:23:48,880 --> 00:23:54,880
flickering which is really not that bad

679
00:23:52,240 --> 00:23:55,919
by comparison um to where i thought we

680
00:23:54,880 --> 00:23:59,200
were at

681
00:23:55,919 --> 00:24:01,600
lighting-wise um

682
00:23:59,200 --> 00:24:02,840
so that definitely makes it a more

683
00:24:01,599 --> 00:24:05,918
difficult

684
00:24:02,839 --> 00:24:05,918
decision um

685
00:24:17,359 --> 00:24:19,839
yuck

686
00:24:22,720 --> 00:24:26,079
well

687
00:24:23,759 --> 00:24:26,079
um

688
00:24:28,480 --> 00:24:30,640
i don't know

689
00:24:29,839 --> 00:24:33,278
uh

690
00:24:30,640 --> 00:24:35,679
maybe the answer is we actually leave it

691
00:24:33,278 --> 00:24:38,720
in here and and just try to do the

692
00:24:35,679 --> 00:24:40,159
square fall off try to fix fix that look

693
00:24:38,720 --> 00:24:41,519
i mean the reason that the square

694
00:24:40,159 --> 00:24:43,039
fall-off happens is because we're

695
00:24:41,519 --> 00:24:45,519
sampling

696
00:24:43,038 --> 00:24:47,519
um at you know there's light probes

697
00:24:45,519 --> 00:24:50,480
basically right like placed throughout

698
00:24:47,519 --> 00:24:53,359
uh the system

699
00:24:50,480 --> 00:24:56,000
place throughout the world and uh those

700
00:24:53,359 --> 00:24:57,599
those light probes they

701
00:24:56,000 --> 00:24:58,480
they interpolate sort of along the

702
00:24:57,599 --> 00:25:01,439
square

703
00:24:58,480 --> 00:25:04,159
and when you get outside of where a

704
00:25:01,440 --> 00:25:06,480
light is likely to be hitting ever uh

705
00:25:04,159 --> 00:25:08,080
you get square falloff because

706
00:25:06,480 --> 00:25:11,278
you don't have like negative light

707
00:25:08,079 --> 00:25:16,000
contribution you it might be possible

708
00:25:11,278 --> 00:25:17,599
um to eliminate that fall off

709
00:25:16,000 --> 00:25:18,558
gosh you know

710
00:25:17,599 --> 00:25:20,240
because

711
00:25:18,558 --> 00:25:22,158
one of the things that happens

712
00:25:20,240 --> 00:25:24,000
in that kind of a system

713
00:25:22,159 --> 00:25:26,240
is that because lighting is only

714
00:25:24,000 --> 00:25:28,880
strictly positive what you get is when

715
00:25:26,240 --> 00:25:31,038
you drop below uh when you drop down to

716
00:25:28,880 --> 00:25:32,480
zero it doesn't know how to interpolate

717
00:25:31,038 --> 00:25:34,079
this is a common problem with linear

718
00:25:32,480 --> 00:25:35,679
interpolation when you just have sample

719
00:25:34,079 --> 00:25:38,240
points that are clamped they have to be

720
00:25:35,679 --> 00:25:39,840
zero or above this is what you get

721
00:25:38,240 --> 00:25:41,919
um

722
00:25:39,839 --> 00:25:44,319
i guess i'm wondering now like if we

723
00:25:41,919 --> 00:25:47,120
look at the lighting

724
00:25:44,319 --> 00:25:47,839
uh and we go in here and uh

725
00:25:47,119 --> 00:25:50,319
and

726
00:25:47,839 --> 00:25:52,000
you know um

727
00:25:50,319 --> 00:25:54,639
if we look at the shader i guess is

728
00:25:52,000 --> 00:25:57,038
probably where we would look at it uh if

729
00:25:54,640 --> 00:25:58,960
we look at the shader for this where

730
00:25:57,038 --> 00:26:01,200
we're talking about how

731
00:25:58,960 --> 00:26:03,120
uh we're gonna sample the lighting i'm

732
00:26:01,200 --> 00:26:04,159
i'm curious to know

733
00:26:03,119 --> 00:26:05,199
in here

734
00:26:04,159 --> 00:26:06,720
what we do

735
00:26:05,200 --> 00:26:08,840
at the moment because we haven't looked

736
00:26:06,720 --> 00:26:11,038
at these particularly much like you can

737
00:26:08,839 --> 00:26:12,798
see um

738
00:26:11,038 --> 00:26:14,798
the the shader code in here i should

739
00:26:12,798 --> 00:26:16,158
probably you know let's add to our to-do

740
00:26:14,798 --> 00:26:18,558
list pull the shaders out into their own

741
00:26:16,159 --> 00:26:18,559
files

742
00:26:22,319 --> 00:26:26,480
unless i guess i have four coder people

743
00:26:24,400 --> 00:26:29,038
on the stream here

744
00:26:26,480 --> 00:26:30,960
is there any chance of four coder

745
00:26:29,038 --> 00:26:33,679
probably not so is there any chance of

746
00:26:30,960 --> 00:26:37,600
getting four coder to not to just

747
00:26:33,679 --> 00:26:38,480
continue to do code formatting inside a

748
00:26:37,599 --> 00:26:40,319
string

749
00:26:38,480 --> 00:26:41,839
because like what i actually want is the

750
00:26:40,319 --> 00:26:44,480
ability to just do

751
00:26:41,839 --> 00:26:47,038
the code directly in here right but this

752
00:26:44,480 --> 00:26:49,839
is not usable right i want it to just

753
00:26:47,038 --> 00:26:51,919
indent it like in dense c code as if it

754
00:26:49,839 --> 00:26:53,759
was starting like a new c program right

755
00:26:51,919 --> 00:26:57,278
i'm sure that's probably not possible at

756
00:26:53,759 --> 00:26:58,960
all uh but that is what i would want you

757
00:26:57,278 --> 00:27:00,558
know what i mean

758
00:26:58,960 --> 00:27:02,000
um so that you can keep your shaders in

759
00:27:00,558 --> 00:27:03,359
the same file as your rendering code is

760
00:27:02,000 --> 00:27:04,558
just kind of nice

761
00:27:03,359 --> 00:27:07,119
so you don't have to have these extra

762
00:27:04,558 --> 00:27:09,759
files for no reason um

763
00:27:07,119 --> 00:27:12,479
so you know there's that

764
00:27:09,759 --> 00:27:14,240
uh but what i was gonna say is anyway

765
00:27:12,480 --> 00:27:17,519
separate from from all this maybe move

766
00:27:14,240 --> 00:27:21,519
them to their own files uh unless

767
00:27:17,519 --> 00:27:23,519
for coder gets you know strings indent

768
00:27:21,519 --> 00:27:25,119
as code as a thing

769
00:27:23,519 --> 00:27:26,879
um

770
00:27:25,119 --> 00:27:30,479
but uh yeah i don't think it's possible

771
00:27:26,880 --> 00:27:32,159
either uh so you know

772
00:27:30,480 --> 00:27:35,038
if if somehow you could just tell

773
00:27:32,159 --> 00:27:38,000
forecoder to ignore this

774
00:27:35,038 --> 00:27:38,879
right like like somehow tell it that

775
00:27:38,000 --> 00:27:40,880
this

776
00:27:38,880 --> 00:27:42,799
this sort of thing isn't like add a

777
00:27:40,880 --> 00:27:43,760
token to 4coder that we know what it is

778
00:27:42,798 --> 00:27:45,440
it's like

779
00:27:43,759 --> 00:27:46,319
it's like that

780
00:27:45,440 --> 00:27:47,519
right

781
00:27:46,319 --> 00:27:49,519
um

782
00:27:47,519 --> 00:27:50,398
and and then whenever we do that just

783
00:27:49,519 --> 00:27:52,720
don't

784
00:27:50,398 --> 00:27:54,398
pretend it's an open bracket

785
00:27:52,720 --> 00:27:56,399
just treat that as an open like like

786
00:27:54,398 --> 00:28:00,558
just add that as

787
00:27:56,398 --> 00:28:03,119
this as open bracket and this as close

788
00:28:00,558 --> 00:28:05,119
bracket as tokens i think it would just

789
00:28:03,119 --> 00:28:06,639
work right

790
00:28:05,119 --> 00:28:07,918
um

791
00:28:06,640 --> 00:28:09,200
it's just something to think about right

792
00:28:07,919 --> 00:28:11,440
because that would be kind of cool if

793
00:28:09,200 --> 00:28:12,480
you could do that um

794
00:28:11,440 --> 00:28:13,759
anyway

795
00:28:12,480 --> 00:28:15,360
uh

796
00:28:13,759 --> 00:28:17,759
and i think it's literally just changing

797
00:28:15,359 --> 00:28:20,639
the tokenizer to recognize one extra

798
00:28:17,759 --> 00:28:21,679
thing as bracket right

799
00:28:20,640 --> 00:28:22,720
um

800
00:28:21,679 --> 00:28:24,320
like i don't think the rest of four

801
00:28:22,720 --> 00:28:26,319
coders stays the same it just thinks oh

802
00:28:24,319 --> 00:28:28,158
he opened a bracket here right like

803
00:28:26,319 --> 00:28:29,599
right i think

804
00:28:28,159 --> 00:28:31,039
anyway doesn't matter but i just think i

805
00:28:29,599 --> 00:28:33,439
think it's probably easier than you

806
00:28:31,038 --> 00:28:35,519
think it is i guess the only thing i was

807
00:28:33,440 --> 00:28:37,038
gonna point out there

808
00:28:35,519 --> 00:28:38,240
all right so anyway when we're sampling

809
00:28:37,038 --> 00:28:40,319
the lighting

810
00:28:38,240 --> 00:28:42,079
um what i was trying to say is that

811
00:28:40,319 --> 00:28:43,519
somewhere in this disgusting mess of

812
00:28:42,079 --> 00:28:44,798
code that we haven't really looked at

813
00:28:43,519 --> 00:28:46,558
and don't really

814
00:28:44,798 --> 00:28:48,240
care much about but when we do the

815
00:28:46,558 --> 00:28:50,879
sample lighting right we do these

816
00:28:48,240 --> 00:28:51,599
textile fetches and we compute lighting

817
00:28:50,880 --> 00:28:54,000
uh

818
00:28:51,599 --> 00:28:55,918
in this we have these octahedral light

819
00:28:54,000 --> 00:28:57,200
maps this is crazy complicated for

820
00:28:55,919 --> 00:28:58,399
someone who's not a graphics programmer

821
00:28:57,200 --> 00:28:59,600
which is me it's ridiculous that we

822
00:28:58,398 --> 00:29:00,959
don't know this stuff but you know

823
00:28:59,599 --> 00:29:02,639
that's just what happens on stream we're

824
00:29:00,960 --> 00:29:04,000
like let's try this and we tried it and

825
00:29:02,640 --> 00:29:05,520
this is what we got

826
00:29:04,000 --> 00:29:06,798
um

827
00:29:05,519 --> 00:29:10,079
what i was going to say is when we do

828
00:29:06,798 --> 00:29:11,440
these sums of of the light sources here

829
00:29:10,079 --> 00:29:12,960
you can see it doing like a bunch of

830
00:29:11,440 --> 00:29:14,558
sample lightings and then it basically

831
00:29:12,960 --> 00:29:16,640
like linearly interprets between them

832
00:29:14,558 --> 00:29:18,000
what happens is if you have a particular

833
00:29:16,640 --> 00:29:21,038
light source like the light source that

834
00:29:18,000 --> 00:29:23,200
is shining on the um character

835
00:29:21,038 --> 00:29:24,960
um obviously when it no longer sees any

836
00:29:23,200 --> 00:29:26,480
contributions that light source than um

837
00:29:24,960 --> 00:29:27,679
and so you know just just to bring it

838
00:29:26,480 --> 00:29:30,240
back to what's actually happening in

839
00:29:27,679 --> 00:29:32,559
here when you look at what's happening

840
00:29:30,240 --> 00:29:33,519
in the uh area right around the player

841
00:29:32,558 --> 00:29:35,839
the reason that you're getting that

842
00:29:33,519 --> 00:29:37,119
square fall off is you know because

843
00:29:35,839 --> 00:29:38,079
and it's worth pointing out for people

844
00:29:37,119 --> 00:29:39,519
who've never thought about this before

845
00:29:38,079 --> 00:29:42,000
because it's it's kind of tricky and

846
00:29:39,519 --> 00:29:43,839
it's it's not um intuitive

847
00:29:42,000 --> 00:29:45,278
um if you look at what happens you'll

848
00:29:43,839 --> 00:29:47,359
notice

849
00:29:45,278 --> 00:29:49,759
you know why why isn't it square in here

850
00:29:47,359 --> 00:29:52,319
right like why does it look radial right

851
00:29:49,759 --> 00:29:54,000
up until the point where the light stops

852
00:29:52,319 --> 00:29:54,960
right why does it look radial up till

853
00:29:54,000 --> 00:29:56,240
there

854
00:29:54,960 --> 00:29:59,679
um

855
00:29:56,240 --> 00:30:02,000
and the reason for that is because

856
00:29:59,679 --> 00:30:04,320
as long as linear interpolation has

857
00:30:02,000 --> 00:30:06,000
something to interpolate it will look

858
00:30:04,319 --> 00:30:08,480
radial linear interpolation actually

859
00:30:06,000 --> 00:30:10,480
reconstructs radial things just fine

860
00:30:08,480 --> 00:30:12,000
the problem is when you get to the point

861
00:30:10,480 --> 00:30:14,798
where the light source has no

862
00:30:12,000 --> 00:30:16,798
contribution so this vertex

863
00:30:14,798 --> 00:30:18,639
and it's not a literal vertex i'm just

864
00:30:16,798 --> 00:30:21,119
talking about this point of the lighting

865
00:30:18,640 --> 00:30:22,960
that's interpolating has no contribution

866
00:30:21,119 --> 00:30:24,798
from this light source basically so its

867
00:30:22,960 --> 00:30:28,000
contribution is zero

868
00:30:24,798 --> 00:30:31,679
when these have to interpolate to zero

869
00:30:28,000 --> 00:30:34,558
what happens is the radial nature is no

870
00:30:31,679 --> 00:30:37,919
longer preserved because it should have

871
00:30:34,558 --> 00:30:38,960
been less than zero here technically

872
00:30:37,919 --> 00:30:41,038
right

873
00:30:38,960 --> 00:30:42,880
and since it should have been less than

874
00:30:41,038 --> 00:30:45,440
zero it doesn't have any way to

875
00:30:42,880 --> 00:30:47,600
interpolate to that because it doesn't

876
00:30:45,440 --> 00:30:50,080
know how far below zero it should be it

877
00:30:47,599 --> 00:30:53,119
just sees zero so it's basically like

878
00:30:50,079 --> 00:30:55,038
clipping off the radial falloff and

879
00:30:53,119 --> 00:30:56,639
that's what makes things appear

880
00:30:55,038 --> 00:30:59,599
as a square

881
00:30:56,640 --> 00:31:02,320
so there's ways we can try to work

882
00:30:59,599 --> 00:31:04,319
around this uh certainly like one of

883
00:31:02,319 --> 00:31:06,558
them is you just reduce the lighting

884
00:31:04,319 --> 00:31:09,678
contribution

885
00:31:06,558 --> 00:31:13,119
um so that actually your fall off

886
00:31:09,679 --> 00:31:15,278
continues below zero if that makes sense

887
00:31:13,119 --> 00:31:19,839
um you can see us doing a little bit of

888
00:31:15,278 --> 00:31:19,839
that here so this this light floor value

889
00:31:21,278 --> 00:31:28,798
was designed to do that right so

890
00:31:24,558 --> 00:31:28,798
for example if i rebuild like this

891
00:31:29,359 --> 00:31:34,479
with the light floor value of 0.2 which

892
00:31:32,319 --> 00:31:36,398
basically like reduce you know it brings

893
00:31:34,480 --> 00:31:37,360
it down and again i don't know if this

894
00:31:36,398 --> 00:31:39,119
still

895
00:31:37,359 --> 00:31:42,319
works properly here we'll see

896
00:31:39,119 --> 00:31:44,639
um in a second but you can see that now

897
00:31:42,319 --> 00:31:47,678
everything kind of is

898
00:31:44,640 --> 00:31:48,799
that it has a lot less of that um effect

899
00:31:47,679 --> 00:31:51,120
to it right

900
00:31:48,798 --> 00:31:54,000
but it doesn't it it doesn't

901
00:31:51,119 --> 00:31:57,359
still pres it doesn't prevent this right

902
00:31:54,000 --> 00:31:58,159
because this is still above that level

903
00:31:57,359 --> 00:31:59,359
and

904
00:31:58,159 --> 00:32:02,480
you know obviously we don't want to do

905
00:31:59,359 --> 00:32:04,000
this because we we we end up with not uh

906
00:32:02,480 --> 00:32:06,000
we end up with no data out here because

907
00:32:04,000 --> 00:32:06,880
we we clamp the light level down

908
00:32:06,000 --> 00:32:08,640
so

909
00:32:06,880 --> 00:32:10,000
previously that is how we were doing it

910
00:32:08,640 --> 00:32:11,200
when we only had the one circle light

911
00:32:10,000 --> 00:32:13,038
star so you can see when it falls off to

912
00:32:11,200 --> 00:32:14,480
zero it works properly so the question

913
00:32:13,038 --> 00:32:16,879
is just well okay

914
00:32:14,480 --> 00:32:18,558
could we just do that

915
00:32:16,880 --> 00:32:20,799
per light source

916
00:32:18,558 --> 00:32:23,119
so when we're actually summing in our

917
00:32:20,798 --> 00:32:24,879
light sources can we make it so that

918
00:32:23,119 --> 00:32:26,879
they go down below zero in some other

919
00:32:24,880 --> 00:32:29,120
way right

920
00:32:26,880 --> 00:32:30,640
um and

921
00:32:29,119 --> 00:32:32,798
you know the reason i didn't do that at

922
00:32:30,640 --> 00:32:35,759
the time is because i can't really think

923
00:32:32,798 --> 00:32:36,960
of it offhand exactly at work meaning

924
00:32:35,759 --> 00:32:38,398
you know i can't just take each

925
00:32:36,960 --> 00:32:40,480
individual light source and have those

926
00:32:38,398 --> 00:32:42,158
light sources actually go below zero

927
00:32:40,480 --> 00:32:44,079
because if those light sources actually

928
00:32:42,159 --> 00:32:46,640
went below zero

929
00:32:44,079 --> 00:32:48,960
then i would end up not

930
00:32:46,640 --> 00:32:52,880
i would end up subtracting light as you

931
00:32:48,960 --> 00:32:53,840
got towards the the floor of them right

932
00:32:52,880 --> 00:32:56,720
now

933
00:32:53,839 --> 00:32:58,639
maybe there's some way to make the

934
00:32:56,720 --> 00:33:01,120
falloff

935
00:32:58,640 --> 00:33:02,159
just always continue into the negative

936
00:33:01,119 --> 00:33:05,278
space

937
00:33:02,159 --> 00:33:05,278
yeah i i just i'm not

938
00:33:05,919 --> 00:33:10,720
i'm not seeing how you take more than

939
00:33:08,159 --> 00:33:13,120
one light source and you combine them in

940
00:33:10,720 --> 00:33:14,000
such a way and still use that falloff

941
00:33:13,119 --> 00:33:15,038
trick

942
00:33:14,000 --> 00:33:17,278
right

943
00:33:15,038 --> 00:33:17,278
um

944
00:33:22,480 --> 00:33:26,079
like like i just don't quite see it and

945
00:33:24,640 --> 00:33:27,759
maybe what we should do is spend some

946
00:33:26,079 --> 00:33:29,678
time here thinking about that but that

947
00:33:27,759 --> 00:33:32,398
that's what happens and that's why like

948
00:33:29,679 --> 00:33:34,559
i said you know if you look at

949
00:33:32,398 --> 00:33:37,359
um this stuff and it looks all very

950
00:33:34,558 --> 00:33:40,240
square uh and then we but we change the

951
00:33:37,359 --> 00:33:41,278
the light floor value here uh to b2

952
00:33:40,240 --> 00:33:42,159
instead

953
00:33:41,278 --> 00:33:43,519
um

954
00:33:42,159 --> 00:33:46,080
you know

955
00:33:43,519 --> 00:33:48,640
when we when we make a change like that

956
00:33:46,079 --> 00:33:50,079
uh you can then see what happens in here

957
00:33:48,640 --> 00:33:53,679
you can see how you get this nice

958
00:33:50,079 --> 00:33:55,359
perfect circle at the zero point right

959
00:33:53,679 --> 00:33:58,159
at the zero point

960
00:33:55,359 --> 00:34:00,719
um and so the question is just can we do

961
00:33:58,159 --> 00:34:03,039
that somehow with the summation

962
00:34:00,720 --> 00:34:03,038
and

963
00:34:05,440 --> 00:34:07,840
um

964
00:34:10,480 --> 00:34:14,480
like

965
00:34:12,320 --> 00:34:16,639
i just don't see it i

966
00:34:14,480 --> 00:34:17,918
i probably should

967
00:34:16,639 --> 00:34:20,079
but i don't

968
00:34:17,918 --> 00:34:24,559
and so what we know we can do is we can

969
00:34:20,079 --> 00:34:26,399
ensure nice radial uh smooth edges

970
00:34:24,559 --> 00:34:28,799
as we go to xero

971
00:34:26,398 --> 00:34:30,000
but we can't i don't think for other

972
00:34:28,800 --> 00:34:32,480
things and

973
00:34:30,000 --> 00:34:34,398
maybe that's

974
00:34:32,480 --> 00:34:36,639
because yeah i don't know maybe if you

975
00:34:34,398 --> 00:34:38,878
do it purse well per sample is not going

976
00:34:36,639 --> 00:34:41,358
to help you like i said i don't think

977
00:34:38,878 --> 00:34:43,279
this part i don't think you'd just do it

978
00:34:41,358 --> 00:34:44,960
here because it's it's at the summation

979
00:34:43,280 --> 00:34:47,040
time that it would matter

980
00:34:44,960 --> 00:34:50,398
so you know

981
00:34:47,039 --> 00:34:52,480
uh i'm just not sure when we have uh the

982
00:34:50,398 --> 00:34:54,078
code that actually uh

983
00:34:52,480 --> 00:34:56,000
writes the lighting in so when it when

984
00:34:54,079 --> 00:34:58,320
it adds the samples

985
00:34:56,000 --> 00:34:58,320
um

986
00:34:58,880 --> 00:35:02,480
you know those samples aren't gonna pick

987
00:35:01,039 --> 00:35:04,719
up you know because it's ray casting

988
00:35:02,480 --> 00:35:06,480
right so those samples just aren't gonna

989
00:35:04,719 --> 00:35:06,899
pick up

990
00:35:06,480 --> 00:35:09,760
um

991
00:35:06,900 --> 00:35:10,880
[Music]

992
00:35:09,760 --> 00:35:12,880
they're not gonna pick up that

993
00:35:10,880 --> 00:35:15,358
information

994
00:35:12,880 --> 00:35:16,640
um it could be you know let's try it

995
00:35:15,358 --> 00:35:18,799
let's try a couple things first i don't

996
00:35:16,639 --> 00:35:20,319
want to give up quite yet

997
00:35:18,800 --> 00:35:22,880
um so

998
00:35:20,320 --> 00:35:24,000
yeah i assume that you know if you're if

999
00:35:22,880 --> 00:35:26,400
you're all of these are linear

1000
00:35:24,000 --> 00:35:28,559
combinations so in theory uh it

1001
00:35:26,400 --> 00:35:31,039
shouldn't matter where we do this right

1002
00:35:28,559 --> 00:35:33,599
um like if we do it up here it wouldn't

1003
00:35:31,039 --> 00:35:35,039
it wouldn't matter um because

1004
00:35:33,599 --> 00:35:36,880
in theory we should be able to subtract

1005
00:35:35,039 --> 00:35:39,279
it at the end subtracting it to all the

1006
00:35:36,880 --> 00:35:40,800
values we blend versus

1007
00:35:39,280 --> 00:35:42,320
um

1008
00:35:40,800 --> 00:35:45,839
just taking it out as a constant factor

1009
00:35:42,320 --> 00:35:48,559
shouldn't make a difference right so

1010
00:35:45,838 --> 00:35:48,559
yeah i just

1011
00:35:48,800 --> 00:35:51,920
i mean maybe one answer is if you

1012
00:35:50,639 --> 00:35:54,879
somehow

1013
00:35:51,920 --> 00:35:59,838
blur the edges of things

1014
00:35:54,880 --> 00:35:59,838
so that they smooth themselves out more

1015
00:36:02,110 --> 00:36:05,189
[Music]

1016
00:36:08,719 --> 00:36:13,679
but i don't know but yeah looking at it

1017
00:36:11,280 --> 00:36:16,000
you know it's something to think about

1018
00:36:13,679 --> 00:36:18,960
i don't know like i said uh i really

1019
00:36:16,000 --> 00:36:18,960
don't um

1020
00:36:19,760 --> 00:36:24,160
i don't have an opinion about it

1021
00:36:21,838 --> 00:36:26,320
uh other than if i look at the lighting

1022
00:36:24,159 --> 00:36:27,759
right now the primary thing that i think

1023
00:36:26,320 --> 00:36:30,320
needs to get fixed

1024
00:36:27,760 --> 00:36:32,960
um is the fact that the

1025
00:36:30,320 --> 00:36:35,359
uh the individual lights have that kind

1026
00:36:32,960 --> 00:36:37,119
of square fall off to them

1027
00:36:35,358 --> 00:36:38,838
and

1028
00:36:37,119 --> 00:36:41,680
i don't see

1029
00:36:38,838 --> 00:36:42,880
the cheap

1030
00:36:41,679 --> 00:36:44,000
fix

1031
00:36:42,880 --> 00:36:46,320
right

1032
00:36:44,000 --> 00:36:46,320
um

1033
00:36:48,960 --> 00:36:54,440
there might well be one and i just don't

1034
00:36:50,960 --> 00:36:54,440
know what it is

1035
00:36:54,639 --> 00:36:59,199
you know what i mean

1036
00:36:56,320 --> 00:37:00,880
um so that's again why i say like you

1037
00:36:59,199 --> 00:37:02,480
know i just don't know

1038
00:37:00,880 --> 00:37:04,720
i agree maybe leaving the lighting in is

1039
00:37:02,480 --> 00:37:06,880
a good idea looks actually quite nice

1040
00:37:04,719 --> 00:37:06,879
so

1041
00:37:06,960 --> 00:37:09,519
you know i don't know what to make of

1042
00:37:08,000 --> 00:37:10,320
that um

1043
00:37:09,519 --> 00:37:13,119
but

1044
00:37:10,320 --> 00:37:13,119
i guess like

1045
00:37:15,039 --> 00:37:18,079
you you'd have to just live with the

1046
00:37:16,800 --> 00:37:20,240
kind of ugly

1047
00:37:18,079 --> 00:37:22,160
square falloff lighting or come up with

1048
00:37:20,239 --> 00:37:23,199
a clever solution and i don't have one

1049
00:37:22,159 --> 00:37:25,920
right

1050
00:37:23,199 --> 00:37:27,759
so i don't really have much else to say

1051
00:37:25,920 --> 00:37:29,838
about that we also have the problem of

1052
00:37:27,760 --> 00:37:32,960
kind of the lagginess of it right

1053
00:37:29,838 --> 00:37:35,759
um so if we take a look at how slow the

1054
00:37:32,960 --> 00:37:38,000
lighting is

1055
00:37:35,760 --> 00:37:39,839
in terms of like the the

1056
00:37:38,000 --> 00:37:41,440
i i guess the bring up rate because you

1057
00:37:39,838 --> 00:37:43,039
know it computes the lighting using kind

1058
00:37:41,440 --> 00:37:45,358
of you can't really do that many samples

1059
00:37:43,039 --> 00:37:48,239
per frame it's on the cpu

1060
00:37:45,358 --> 00:37:50,159
um you can kind of see here we've got a

1061
00:37:48,239 --> 00:37:51,279
ratio that's just like how much updating

1062
00:37:50,159 --> 00:37:53,838
you want to do

1063
00:37:51,280 --> 00:37:56,720
and so like if we allowed it to update

1064
00:37:53,838 --> 00:37:58,239
sort of much uh much more rapidly you

1065
00:37:56,719 --> 00:37:59,679
would see the flicker is way more

1066
00:37:58,239 --> 00:38:02,239
pronounced right

1067
00:37:59,679 --> 00:38:05,440
um so like that's what happens if we

1068
00:38:02,239 --> 00:38:07,519
update you know if we update the

1069
00:38:05,440 --> 00:38:09,679
the lighting at a at a fast rate so it's

1070
00:38:07,519 --> 00:38:13,199
it's really closely pegged

1071
00:38:09,679 --> 00:38:16,719
so the way we're getting uh around that

1072
00:38:13,199 --> 00:38:18,000
fact right the way we're getting around

1073
00:38:16,719 --> 00:38:20,159
uh the fact that we have a lot of

1074
00:38:18,000 --> 00:38:22,159
flicker is just by tuning this value

1075
00:38:20,159 --> 00:38:24,879
right to something that's not that bad

1076
00:38:22,159 --> 00:38:26,239
so here's sampling it at half that rate

1077
00:38:24,880 --> 00:38:29,280
um

1078
00:38:26,239 --> 00:38:31,279
right uh and you can see now you have

1079
00:38:29,280 --> 00:38:33,119
you know a lot less flicker but still

1080
00:38:31,280 --> 00:38:35,359
pretty noticeable let me sorry make that

1081
00:38:33,119 --> 00:38:36,720
full screen a lot less flicker but still

1082
00:38:35,358 --> 00:38:39,358
pretty noticeable

1083
00:38:36,719 --> 00:38:41,039
and then if you you know drop it down

1084
00:38:39,358 --> 00:38:44,400
maybe a little bit further

1085
00:38:41,039 --> 00:38:46,559
um you get less flicker still

1086
00:38:44,400 --> 00:38:48,960
that's probably good enough right like

1087
00:38:46,559 --> 00:38:50,239
in terms of amount of flicker so you

1088
00:38:48,960 --> 00:38:51,280
know you could hover somewhere around

1089
00:38:50,239 --> 00:38:54,479
there

1090
00:38:51,280 --> 00:38:56,079
and uh again you can also increase it

1091
00:38:54,480 --> 00:38:59,440
you can increase the number of rays you

1092
00:38:56,079 --> 00:39:01,760
cast uh on on a more powerful machine

1093
00:38:59,440 --> 00:39:04,000
certainly um which currently we're not

1094
00:39:01,760 --> 00:39:05,599
really doing um so you know we could go

1095
00:39:04,000 --> 00:39:07,679
in here and you can make it slower and

1096
00:39:05,599 --> 00:39:10,480
just more you know

1097
00:39:07,679 --> 00:39:12,799
more rays i don't really remember

1098
00:39:10,480 --> 00:39:16,400
what we use for that control

1099
00:39:12,800 --> 00:39:18,320
to be completely honest with you um

1100
00:39:16,400 --> 00:39:19,200
i don't actually remember

1101
00:39:18,320 --> 00:39:23,838
uh

1102
00:39:19,199 --> 00:39:23,838
the number of rays cast is like

1103
00:39:24,559 --> 00:39:28,400
i don't remember

1104
00:39:26,800 --> 00:39:29,760
how many uh

1105
00:39:28,400 --> 00:39:32,240
[Music]

1106
00:39:29,760 --> 00:39:33,200
somewhere in here we set this number

1107
00:39:32,239 --> 00:39:35,279
right

1108
00:39:33,199 --> 00:39:37,279
um and you can see here it you know

1109
00:39:35,280 --> 00:39:38,400
generates this work count

1110
00:39:37,280 --> 00:39:39,440
which is

1111
00:39:38,400 --> 00:39:43,599
uh

1112
00:39:39,440 --> 00:39:45,599
you know just a number we we create

1113
00:39:43,599 --> 00:39:47,119
um

1114
00:39:45,599 --> 00:39:49,359
it looks like we're we break them into

1115
00:39:47,119 --> 00:39:50,480
like rows right

1116
00:39:49,358 --> 00:39:52,559
so

1117
00:39:50,480 --> 00:39:55,519
yeah i don't know i don't even remember

1118
00:39:52,559 --> 00:39:57,838
where we set that number you can see

1119
00:39:55,519 --> 00:39:57,838
uh

1120
00:39:58,480 --> 00:40:04,480
building the space partition

1121
00:40:01,119 --> 00:40:04,480
doing the grid walks

1122
00:40:07,119 --> 00:40:11,838
here's this looping over the

1123
00:40:09,039 --> 00:40:11,838
voxels

1124
00:40:14,000 --> 00:40:20,719
so full cast presumably could

1125
00:40:17,440 --> 00:40:20,720
say how many it wanted

1126
00:40:22,639 --> 00:40:27,199
it looks like it just always does one

1127
00:40:24,960 --> 00:40:27,199
right

1128
00:40:31,838 --> 00:40:34,960
here's grid raycast

1129
00:40:35,679 --> 00:40:39,519
oh no it's eight

1130
00:40:37,679 --> 00:40:41,838
i take it back

1131
00:40:39,519 --> 00:40:43,679
um

1132
00:40:41,838 --> 00:40:44,880
although that's probably just eight

1133
00:40:43,679 --> 00:40:46,318
because

1134
00:40:44,880 --> 00:40:48,720
that is the

1135
00:40:46,318 --> 00:40:49,599
number it adds per row

1136
00:40:48,719 --> 00:40:50,639
right

1137
00:40:49,599 --> 00:40:52,880
yeah

1138
00:40:50,639 --> 00:40:55,279
so that's that's probably not it's it's

1139
00:40:52,880 --> 00:40:57,358
not eight rays it's the it's eight rays

1140
00:40:55,280 --> 00:40:59,680
because it's an octahedron right so it

1141
00:40:57,358 --> 00:41:02,000
does one cast out of each face of the

1142
00:40:59,679 --> 00:41:04,159
octahedral sampling that it's doing

1143
00:41:02,000 --> 00:41:05,838
that's all that is right

1144
00:41:04,159 --> 00:41:07,679
um you can see this it looking up the

1145
00:41:05,838 --> 00:41:08,960
sample direction

1146
00:41:07,679 --> 00:41:10,480
um

1147
00:41:08,960 --> 00:41:11,920
so you know

1148
00:41:10,480 --> 00:41:13,920
i think that's that's all that actually

1149
00:41:11,920 --> 00:41:16,240
does right

1150
00:41:13,920 --> 00:41:18,159
so you know like i said it's very

1151
00:41:16,239 --> 00:41:19,759
complicated code there's just a lot

1152
00:41:18,159 --> 00:41:22,719
happening in here and i'm just not sure

1153
00:41:19,760 --> 00:41:24,880
that the payoff actually is worth it i

1154
00:41:22,719 --> 00:41:27,279
think we can do you know if i wanted to

1155
00:41:24,880 --> 00:41:29,200
spend a year of my actual full time

1156
00:41:27,280 --> 00:41:31,760
making the best possible lighting thing

1157
00:41:29,199 --> 00:41:34,159
you definitely can like this is not the

1158
00:41:31,760 --> 00:41:35,200
best we can do by far but just in terms

1159
00:41:34,159 --> 00:41:37,279
of

1160
00:41:35,199 --> 00:41:39,199
you know cost benefit analysis i'm just

1161
00:41:37,280 --> 00:41:40,960
not sure uh

1162
00:41:39,199 --> 00:41:43,279
i'm just not sure it's there

1163
00:41:40,960 --> 00:41:44,480
um

1164
00:41:43,280 --> 00:41:48,079
let me look

1165
00:41:44,480 --> 00:41:49,199
why can i not search for full cast

1166
00:41:48,079 --> 00:41:51,519
there we go

1167
00:41:49,199 --> 00:41:51,519
um

1168
00:41:54,800 --> 00:41:58,960
so like i don't know can we for example

1169
00:41:57,358 --> 00:42:03,318
just do this twice

1170
00:41:58,960 --> 00:42:03,318
and double the number of rays cast

1171
00:42:08,318 --> 00:42:11,679
it looks like the answer is yes

1172
00:42:15,039 --> 00:42:18,960
although actually

1173
00:42:16,960 --> 00:42:21,440
that might not sum

1174
00:42:18,960 --> 00:42:23,519
because full cast

1175
00:42:21,440 --> 00:42:25,039
i think doesn't actually yeah so that

1176
00:42:23,519 --> 00:42:27,119
that's actually not quite right because

1177
00:42:25,039 --> 00:42:28,159
i think it just does a cold write not an

1178
00:42:27,119 --> 00:42:30,800
ad

1179
00:42:28,159 --> 00:42:33,199
so i think full cast

1180
00:42:30,800 --> 00:42:34,160
twice actually isn't

1181
00:42:33,199 --> 00:42:36,960
useful

1182
00:42:34,159 --> 00:42:40,960
grid raycast

1183
00:42:36,960 --> 00:42:43,960
um i think just writes directly i think

1184
00:42:40,960 --> 00:42:43,960
um

1185
00:42:51,519 --> 00:42:55,039
so yeah like this code would have to be

1186
00:42:53,358 --> 00:42:57,279
modified slightly because it needs to

1187
00:42:55,039 --> 00:42:59,358
call it with a different

1188
00:42:57,280 --> 00:43:00,480
like set of directions

1189
00:42:59,358 --> 00:43:02,639
right because otherwise they'll sample

1190
00:43:00,480 --> 00:43:05,838
the same direction twice

1191
00:43:02,639 --> 00:43:08,000
and you know it would have to do it

1192
00:43:05,838 --> 00:43:09,920
yeah it would have to like

1193
00:43:08,000 --> 00:43:13,838
sum the values which i don't think it

1194
00:43:09,920 --> 00:43:13,838
currently does or maybe it does

1195
00:43:16,159 --> 00:43:21,039
load yeah no it does it does a load and

1196
00:43:19,039 --> 00:43:24,400
then it does an add

1197
00:43:21,039 --> 00:43:24,400
right it does the blend

1198
00:43:24,838 --> 00:43:31,679
right so so it actually does

1199
00:43:28,960 --> 00:43:34,720
so grid raycast doing the blend it

1200
00:43:31,679 --> 00:43:37,039
should work if you do it twice i think

1201
00:43:34,719 --> 00:43:37,039
um

1202
00:43:37,119 --> 00:43:42,160
the only question is how do we actually

1203
00:43:39,039 --> 00:43:45,279
get to how do we get a separate set

1204
00:43:42,159 --> 00:43:47,519
of sample directions out of it right

1205
00:43:45,280 --> 00:43:49,920
uh because you know we

1206
00:43:47,519 --> 00:43:52,920
we load both of these here right

1207
00:43:49,920 --> 00:43:52,920
uh

1208
00:43:54,639 --> 00:43:59,358
so you would want to do this basically

1209
00:43:56,559 --> 00:44:02,239
twice where entropy index

1210
00:43:59,358 --> 00:44:02,239
gets updated

1211
00:44:02,800 --> 00:44:05,800
um

1212
00:44:10,480 --> 00:44:14,559
and you know we probably really should

1213
00:44:12,480 --> 00:44:16,000
because if you look at how long it takes

1214
00:44:14,559 --> 00:44:17,599
to do that

1215
00:44:16,000 --> 00:44:19,599
it looks like it's not really the

1216
00:44:17,599 --> 00:44:20,480
majority of the cost

1217
00:44:19,599 --> 00:44:23,119
so

1218
00:44:20,480 --> 00:44:25,039
probably would want to actually do this

1219
00:44:23,119 --> 00:44:26,800
where we in here

1220
00:44:25,039 --> 00:44:29,519
we would sample

1221
00:44:26,800 --> 00:44:31,280
the lighting twice

1222
00:44:29,519 --> 00:44:34,079
right

1223
00:44:31,280 --> 00:44:36,960
so yeah i might

1224
00:44:34,079 --> 00:44:39,920
i might suggest that we actually do do

1225
00:44:36,960 --> 00:44:42,880
that um i'd be curious to know if we

1226
00:44:39,920 --> 00:44:43,680
were at four frames of lag

1227
00:44:42,880 --> 00:44:45,519
um

1228
00:44:43,679 --> 00:44:47,759
which is not that bad

1229
00:44:45,519 --> 00:44:51,039
i would be interested to know how

1230
00:44:47,760 --> 00:44:52,960
limited the flicker could be by just

1231
00:44:51,039 --> 00:44:54,400
increasing the sampling because i think

1232
00:44:52,960 --> 00:44:55,838
it might be good

1233
00:44:54,400 --> 00:44:58,079
actually

1234
00:44:55,838 --> 00:44:58,078
um

1235
00:44:59,599 --> 00:45:04,559
that might actually be fine and just

1236
00:45:01,280 --> 00:45:05,680
don't update the diffuse map each time

1237
00:45:04,559 --> 00:45:07,440
so

1238
00:45:05,679 --> 00:45:09,358
i don't know i don't know this is a

1239
00:45:07,440 --> 00:45:11,679
really tough call i'm sorry i just don't

1240
00:45:09,358 --> 00:45:14,679
have the answer i don't know

1241
00:45:11,679 --> 00:45:14,679
um

1242
00:45:19,599 --> 00:45:24,318
ah that's really tough question

1243
00:45:22,000 --> 00:45:24,318
um

1244
00:45:25,760 --> 00:45:29,920
that's just a really tough question

1245
00:45:27,760 --> 00:45:32,560
so if we put in like

1246
00:45:29,920 --> 00:45:34,079
like full one second of lag

1247
00:45:32,559 --> 00:45:36,318
you can see

1248
00:45:34,079 --> 00:45:38,560
what the lighting looks like probably as

1249
00:45:36,318 --> 00:45:41,039
best it would right

1250
00:45:38,559 --> 00:45:42,559
um this is like the nice super smooth

1251
00:45:41,039 --> 00:45:44,559
version of the lighting

1252
00:45:42,559 --> 00:45:46,159
and i think we could get there

1253
00:45:44,559 --> 00:45:47,199
uh just by casting a few more arrays

1254
00:45:46,159 --> 00:45:49,440
because actually i think we're pretty

1255
00:45:47,199 --> 00:45:51,279
good so again

1256
00:45:49,440 --> 00:45:52,720
honestly i'm kind of worried now because

1257
00:45:51,280 --> 00:45:54,880
i'm like i guess i don't want to rip out

1258
00:45:52,719 --> 00:45:57,039
the lighting it's quite nice

1259
00:45:54,880 --> 00:45:59,358
maybe it just stays the way it is

1260
00:45:57,039 --> 00:46:01,199
the only thing i'd like to know is is

1261
00:45:59,358 --> 00:46:03,199
there some way

1262
00:46:01,199 --> 00:46:06,639
to get

1263
00:46:03,199 --> 00:46:06,639
less of that squariness

1264
00:46:07,358 --> 00:46:10,519
you know

1265
00:46:18,559 --> 00:46:21,559
um

1266
00:46:30,719 --> 00:46:33,679
because i think we could basically have

1267
00:46:32,079 --> 00:46:36,400
it be roughly this quality by just

1268
00:46:33,679 --> 00:46:38,559
casting like four times more

1269
00:46:36,400 --> 00:46:39,440
rays per second

1270
00:46:38,559 --> 00:46:41,599
uh

1271
00:46:39,440 --> 00:46:43,358
which i think we could easily get

1272
00:46:41,599 --> 00:46:45,200
is not that hard

1273
00:46:43,358 --> 00:46:46,960
um and then it would look like this

1274
00:46:45,199 --> 00:46:48,559
which is basically perfect so i don't

1275
00:46:46,960 --> 00:46:52,079
know i think we just cast a few more

1276
00:46:48,559 --> 00:46:56,170
rays and call it a day and then yeah the

1277
00:46:52,079 --> 00:46:59,219
the square fall off is really the bummer

1278
00:46:56,170 --> 00:46:59,219
[Music]

1279
00:47:12,079 --> 00:47:16,720
anyone

1280
00:47:13,838 --> 00:47:20,679
does anyone have any clever ideas about

1281
00:47:16,719 --> 00:47:20,679
the square fall off

1282
00:47:36,480 --> 00:47:40,000
yeah the other light sources are

1283
00:47:38,000 --> 00:47:41,519
probably less bright so you notice them

1284
00:47:40,000 --> 00:47:43,440
less i mean it could also just be the

1285
00:47:41,519 --> 00:47:45,199
height i mean that that light in

1286
00:47:43,440 --> 00:47:47,599
particular

1287
00:47:45,199 --> 00:47:49,118
that's floating above the hero

1288
00:47:47,599 --> 00:47:50,720
you know technically that light really

1289
00:47:49,119 --> 00:47:53,519
shouldn't be there because the hero is

1290
00:47:50,719 --> 00:47:54,639
not really lit although maybe the glove

1291
00:47:53,519 --> 00:47:56,960
would be

1292
00:47:54,639 --> 00:47:58,879
um

1293
00:47:56,960 --> 00:48:00,639
so that's kind of hard to say

1294
00:47:58,880 --> 00:48:02,318
but i think that's the debug light

1295
00:48:00,639 --> 00:48:03,920
actually is technically what that is i

1296
00:48:02,318 --> 00:48:05,358
don't i don't think that's actually

1297
00:48:03,920 --> 00:48:07,838
supposed to be

1298
00:48:05,358 --> 00:48:07,838
um

1299
00:48:08,400 --> 00:48:12,639
yeah that's just the entity

1300
00:48:10,559 --> 00:48:14,880
you know that's just off the entity so i

1301
00:48:12,639 --> 00:48:16,960
think it could be that maybe just it's

1302
00:48:14,880 --> 00:48:19,119
the the height off the ground is part of

1303
00:48:16,960 --> 00:48:21,199
why it looks squarier because it's kind

1304
00:48:19,119 --> 00:48:23,519
of more uh

1305
00:48:21,199 --> 00:48:25,759
in that position i don't know though uh

1306
00:48:23,519 --> 00:48:28,400
that's a good question

1307
00:48:25,760 --> 00:48:28,400
and uh

1308
00:48:28,719 --> 00:48:32,239
let me try moving it up more i think

1309
00:48:30,719 --> 00:48:34,000
it's the debug light don't quote me on

1310
00:48:32,239 --> 00:48:37,519
that

1311
00:48:34,000 --> 00:48:37,519
yeah i think that's the debug light

1312
00:48:38,079 --> 00:48:42,400
so yeah if the if you know if it's not

1313
00:48:40,079 --> 00:48:44,160
so low to the ground right or if it's

1314
00:48:42,400 --> 00:48:46,400
not so bright

1315
00:48:44,159 --> 00:48:47,519
it's not as much of a problem

1316
00:48:46,400 --> 00:48:49,838
right

1317
00:48:47,519 --> 00:48:49,838
um

1318
00:48:51,760 --> 00:48:55,520
so maybe it's okay i mean you can still

1319
00:48:54,000 --> 00:48:57,199
see the squariness right like you can

1320
00:48:55,519 --> 00:48:58,800
see it on the other lights too it's

1321
00:48:57,199 --> 00:49:00,879
always there

1322
00:48:58,800 --> 00:49:03,359
uh and it's just an artifact of the fact

1323
00:49:00,880 --> 00:49:05,599
that the interpolation is per you know

1324
00:49:03,358 --> 00:49:08,318
is on a square grid

1325
00:49:05,599 --> 00:49:10,880
and so you get that artifact as a light

1326
00:49:08,318 --> 00:49:15,400
ceases to contribute you get that sort

1327
00:49:10,880 --> 00:49:15,400
of vague fall off right

1328
00:49:18,559 --> 00:49:21,760
so i don't know like maybe we just leave

1329
00:49:20,239 --> 00:49:24,159
it this way maybe this is just what the

1330
00:49:21,760 --> 00:49:26,960
lighting looks like i don't know

1331
00:49:24,159 --> 00:49:28,799
um because i do think this is fine uh

1332
00:49:26,960 --> 00:49:30,880
and then we just need to cast more rays

1333
00:49:28,800 --> 00:49:33,119
because it's now the there's too much

1334
00:49:30,880 --> 00:49:35,599
lag on filling in the lighting

1335
00:49:33,119 --> 00:49:37,440
right um and so that's obviously

1336
00:49:35,599 --> 00:49:39,760
something that you want to fix

1337
00:49:37,440 --> 00:49:41,440
but uh i do think like because you can

1338
00:49:39,760 --> 00:49:45,040
see how long it takes to like actually

1339
00:49:41,440 --> 00:49:46,559
like light up the region right um

1340
00:49:45,039 --> 00:49:48,318
but i think we could fix that by just

1341
00:49:46,559 --> 00:49:50,640
casting a few more rays which i don't

1342
00:49:48,318 --> 00:49:51,440
think is that expensive in the system

1343
00:49:50,639 --> 00:49:54,239
um

1344
00:49:51,440 --> 00:49:58,039
so i think maybe we'll just do that

1345
00:49:54,239 --> 00:49:58,039
and that'll just be the lighting

1346
00:50:18,159 --> 00:50:23,039
so uh maybe get it up like maybe cast

1347
00:50:21,199 --> 00:50:25,279
four times as many rays that's a lot of

1348
00:50:23,039 --> 00:50:26,880
rays uh additional to cast but i think

1349
00:50:25,280 --> 00:50:28,720
we could do it because again a lot of

1350
00:50:26,880 --> 00:50:31,358
the time right now is actually not spent

1351
00:50:28,719 --> 00:50:33,439
in the raycast it's actually spent

1352
00:50:31,358 --> 00:50:35,598
uh in the

1353
00:50:33,440 --> 00:50:37,358
um

1354
00:50:35,599 --> 00:50:39,200
it's spent in like the dif converting

1355
00:50:37,358 --> 00:50:40,400
from specular to diffuse

1356
00:50:39,199 --> 00:50:42,960
right

1357
00:50:40,400 --> 00:50:45,200
so so maybe not

1358
00:50:42,960 --> 00:50:45,199
um

1359
00:50:47,039 --> 00:50:51,119
so i guess maybe we'll just do that

1360
00:50:49,838 --> 00:50:52,639
and i'll leave the lighting the way it

1361
00:50:51,119 --> 00:50:54,480
is maybe

1362
00:50:52,639 --> 00:50:55,519
i mean we could

1363
00:50:54,480 --> 00:50:57,440
um

1364
00:50:55,519 --> 00:50:58,318
looking at other things that i'd like to

1365
00:50:57,440 --> 00:51:01,200
fix

1366
00:50:58,318 --> 00:51:03,599
so i one question i have and i don't

1367
00:51:01,199 --> 00:51:06,000
know so this is kind of a broad question

1368
00:51:03,599 --> 00:51:08,240
and i'm not sure what the answer is so

1369
00:51:06,000 --> 00:51:10,159
it's it's kind of pretty tricky to think

1370
00:51:08,239 --> 00:51:12,000
through i don't know

1371
00:51:10,159 --> 00:51:14,159
um

1372
00:51:12,000 --> 00:51:16,318
one question i have is how much are we

1373
00:51:14,159 --> 00:51:18,960
actually getting out of the three

1374
00:51:16,318 --> 00:51:19,920
dennis of the levels

1375
00:51:18,960 --> 00:51:22,079
meaning

1376
00:51:19,920 --> 00:51:24,720
you know there's a lot of stuff in there

1377
00:51:22,079 --> 00:51:28,480
that would get faster if everything was

1378
00:51:24,719 --> 00:51:30,799
always 2d right meaning you couldn't

1379
00:51:28,480 --> 00:51:32,079
uh have things like these stairs where

1380
00:51:30,800 --> 00:51:34,000
people exist

1381
00:51:32,079 --> 00:51:35,920
in between because for example the

1382
00:51:34,000 --> 00:51:37,358
collision detection currently has to run

1383
00:51:35,920 --> 00:51:39,280
in 3d

1384
00:51:37,358 --> 00:51:41,920
it could switch to 2d

1385
00:51:39,280 --> 00:51:43,280
um we wouldn't need to have the lighting

1386
00:51:41,920 --> 00:51:45,920
would get faster because it would only

1387
00:51:43,280 --> 00:51:47,680
be one flat plate instead of actually a

1388
00:51:45,920 --> 00:51:49,200
three-dimensional

1389
00:51:47,679 --> 00:51:51,759
thing that has to extend downward to

1390
00:51:49,199 --> 00:51:54,480
lower surfaces right

1391
00:51:51,760 --> 00:51:56,160
so you know it's hard to say but there's

1392
00:51:54,480 --> 00:51:59,599
definite cost in having that

1393
00:51:56,159 --> 00:52:01,679
dimensionality right

1394
00:51:59,599 --> 00:52:04,000
so i do think that's a tough call

1395
00:52:01,679 --> 00:52:05,118
i don't know what the best call is there

1396
00:52:04,000 --> 00:52:07,440
um

1397
00:52:05,119 --> 00:52:07,440
but

1398
00:52:08,318 --> 00:52:12,318
you know we could just say that it's

1399
00:52:10,239 --> 00:52:13,919
just if there's only one plane of

1400
00:52:12,318 --> 00:52:16,159
existence right

1401
00:52:13,920 --> 00:52:18,000
and you know the way that that the main

1402
00:52:16,159 --> 00:52:20,000
difference the the thing we would see

1403
00:52:18,000 --> 00:52:21,358
differently uh pretty is pretty much the

1404
00:52:20,000 --> 00:52:22,880
only thing we would see different

1405
00:52:21,358 --> 00:52:25,838
differently right

1406
00:52:22,880 --> 00:52:27,838
is this wouldn't happen

1407
00:52:25,838 --> 00:52:29,279
right

1408
00:52:27,838 --> 00:52:31,199
we wouldn't do that

1409
00:52:29,280 --> 00:52:33,359
so there would just be a thing like a

1410
00:52:31,199 --> 00:52:34,879
square you hop on and then you suddenly

1411
00:52:33,358 --> 00:52:36,400
are down here

1412
00:52:34,880 --> 00:52:38,640
and you know when i think about it first

1413
00:52:36,400 --> 00:52:41,440
of all i really like this it's kind of

1414
00:52:38,639 --> 00:52:43,759
cool to be able to hop down but when i

1415
00:52:41,440 --> 00:52:44,838
think about the cost

1416
00:52:43,760 --> 00:52:47,520
you know what i

1417
00:52:44,838 --> 00:52:51,119
mean um

1418
00:52:47,519 --> 00:52:52,800
the cost just seems way too high for

1419
00:52:51,119 --> 00:52:54,720
just that

1420
00:52:52,800 --> 00:52:55,760
right

1421
00:52:54,719 --> 00:52:58,159
um

1422
00:52:55,760 --> 00:53:01,200
and so i think maybe a better

1423
00:52:58,159 --> 00:53:02,239
thing here would be regress to just a 2d

1424
00:53:01,199 --> 00:53:03,118
plane

1425
00:53:02,239 --> 00:53:04,799
for

1426
00:53:03,119 --> 00:53:06,720
you know what i'm saying

1427
00:53:04,800 --> 00:53:08,318
and so everything stays the same like it

1428
00:53:06,719 --> 00:53:12,318
all looks exactly the same but you just

1429
00:53:08,318 --> 00:53:12,318
can't do that you know what i mean

1430
00:53:12,480 --> 00:53:15,760
it also gets us out of the business of

1431
00:53:13,760 --> 00:53:17,680
trying to tune that alpha fade which is

1432
00:53:15,760 --> 00:53:19,040
a thing we have to manage right because

1433
00:53:17,679 --> 00:53:20,399
now you're just you're always drawing

1434
00:53:19,039 --> 00:53:24,318
everything there's no alpha fade there

1435
00:53:20,400 --> 00:53:24,318
it's just it is what it is you know

1436
00:53:24,800 --> 00:53:28,400
um

1437
00:53:26,239 --> 00:53:30,558
so that seems kind of compelling it just

1438
00:53:28,400 --> 00:53:32,079
simplifies the code a lot and and then

1439
00:53:30,559 --> 00:53:33,519
again yeah you get you get faster

1440
00:53:32,079 --> 00:53:34,720
lighting as well because you just have a

1441
00:53:33,519 --> 00:53:38,199
ton less probes because you only have

1442
00:53:34,719 --> 00:53:38,199
one flat plate

1443
00:53:48,400 --> 00:53:51,838
so i think maybe we'll we'll put that on

1444
00:53:50,079 --> 00:53:53,119
the list because i just it's not that i

1445
00:53:51,838 --> 00:53:55,358
don't think you could do cool things

1446
00:53:53,119 --> 00:53:57,280
there you obviously can

1447
00:53:55,358 --> 00:53:59,199
it's just that the amount of work it

1448
00:53:57,280 --> 00:54:02,240
would take to do the cool things there

1449
00:53:59,199 --> 00:54:03,919
we would save we don't have to do it and

1450
00:54:02,239 --> 00:54:06,000
we also get a bunch of

1451
00:54:03,920 --> 00:54:07,920
of free performance back in things like

1452
00:54:06,000 --> 00:54:10,318
the collision detector and the and the

1453
00:54:07,920 --> 00:54:12,720
lighting because now we only have one

1454
00:54:10,318 --> 00:54:15,279
plane to think about um and it just

1455
00:54:12,719 --> 00:54:17,199
seems like that's a win right so like i

1456
00:54:15,280 --> 00:54:18,800
would say remove z

1457
00:54:17,199 --> 00:54:21,358
um from

1458
00:54:18,800 --> 00:54:23,359
world construction

1459
00:54:21,358 --> 00:54:24,960
like optimized

1460
00:54:23,358 --> 00:54:26,318
lighting

1461
00:54:24,960 --> 00:54:28,800
optimized

1462
00:54:26,318 --> 00:54:29,599
collision detection that we get for that

1463
00:54:28,800 --> 00:54:31,440
right

1464
00:54:29,599 --> 00:54:32,800
because things just can't be vertical

1465
00:54:31,440 --> 00:54:34,159
now

1466
00:54:32,800 --> 00:54:36,000
um

1467
00:54:34,159 --> 00:54:37,519
i think that would be good and i think

1468
00:54:36,000 --> 00:54:39,679
that's kind of an obvious choice for

1469
00:54:37,519 --> 00:54:41,119
this game because we just we wouldn't be

1470
00:54:39,679 --> 00:54:43,199
making much use of it there's just

1471
00:54:41,119 --> 00:54:44,960
occasional things that you'd see down to

1472
00:54:43,199 --> 00:54:46,159
below you or something it's like yeah

1473
00:54:44,960 --> 00:54:48,000
they're cool

1474
00:54:46,159 --> 00:54:49,039
but they're not enough cool for what we

1475
00:54:48,000 --> 00:54:50,880
pay

1476
00:54:49,039 --> 00:54:52,670
right it's just not a good cost benefit

1477
00:54:50,880 --> 00:54:55,739
analysis i think

1478
00:54:52,670 --> 00:54:55,739
[Music]

1479
00:55:01,280 --> 00:55:03,599
okay

1480
00:55:03,920 --> 00:55:08,400
[Music]

1481
00:55:05,199 --> 00:55:08,399
so i guess i would say

1482
00:55:17,920 --> 00:55:22,318
space naming just trying to stretch the

1483
00:55:19,440 --> 00:55:24,480
hammer yeah i know i know i know i know

1484
00:55:22,318 --> 00:55:26,558
the more stuff i have to do the longer

1485
00:55:24,480 --> 00:55:28,798
we keep this show on so

1486
00:55:26,559 --> 00:55:30,240
there's a natural kind of uh

1487
00:55:28,798 --> 00:55:32,239
thing there but at some point i would

1488
00:55:30,239 --> 00:55:34,078
like to stop right i can't just keep

1489
00:55:32,239 --> 00:55:35,439
making engines on the stream forever i

1490
00:55:34,079 --> 00:55:37,039
know people would prefer that because

1491
00:55:35,440 --> 00:55:38,720
they just like

1492
00:55:37,039 --> 00:55:41,599
the show and i appreciate that you like

1493
00:55:38,719 --> 00:55:43,838
the show i'm glad it's rare that 500

1494
00:55:41,599 --> 00:55:44,559
people show up every week for anything

1495
00:55:43,838 --> 00:55:46,159
so

1496
00:55:44,559 --> 00:55:47,920
you know

1497
00:55:46,159 --> 00:55:50,159
i appreciate it but at some point it's

1498
00:55:47,920 --> 00:55:52,639
just like

1499
00:55:50,159 --> 00:55:54,239
you know i want to move on to something

1500
00:55:52,639 --> 00:55:55,679
else so

1501
00:55:54,239 --> 00:55:57,759
you know

1502
00:55:55,679 --> 00:56:00,078
but anyway uh so i do think that would

1503
00:55:57,760 --> 00:56:02,480
be good i also think like uh simplified

1504
00:56:00,079 --> 00:56:05,280
arenas

1505
00:56:02,480 --> 00:56:07,280
so right now we are doing arenas in a

1506
00:56:05,280 --> 00:56:11,040
kind of a way that's not that useful uh

1507
00:56:07,280 --> 00:56:12,319
so just like uh base pointers and grow

1508
00:56:11,039 --> 00:56:13,838
um

1509
00:56:12,318 --> 00:56:15,440
basically is what i think we should

1510
00:56:13,838 --> 00:56:18,798
switch to because we don't really need

1511
00:56:15,440 --> 00:56:20,400
anything else for the stuff we do

1512
00:56:18,798 --> 00:56:21,679
uh so i think that would actually be

1513
00:56:20,400 --> 00:56:24,880
fine

1514
00:56:21,679 --> 00:56:27,519
um so i think this is most of the stuff

1515
00:56:24,880 --> 00:56:28,720
i guess one thing i don't know is like

1516
00:56:27,519 --> 00:56:30,480
uh

1517
00:56:28,719 --> 00:56:33,039
i probably like to to take a quick look

1518
00:56:30,480 --> 00:56:34,798
over at the asset builds

1519
00:56:33,039 --> 00:56:37,279
um i think they're still too complicated

1520
00:56:34,798 --> 00:56:39,920
we did simplify them a bit um but

1521
00:56:37,280 --> 00:56:43,440
they're still like there's just too much

1522
00:56:39,920 --> 00:56:46,159
right uh and i do think you know

1523
00:56:43,440 --> 00:56:46,159
it would be like

1524
00:56:52,880 --> 00:56:57,280
the asset stuff

1525
00:56:55,280 --> 00:56:58,400
just still seems a bit too complicated

1526
00:56:57,280 --> 00:57:00,480
right

1527
00:56:58,400 --> 00:57:02,720
um and uh

1528
00:57:00,480 --> 00:57:04,240
i think so maybe part of that is just

1529
00:57:02,719 --> 00:57:06,239
that

1530
00:57:04,239 --> 00:57:08,159
when we are loading these files uh when

1531
00:57:06,239 --> 00:57:10,078
we when we do like the build

1532
00:57:08,159 --> 00:57:11,679
uh i don't remember exactly what that

1533
00:57:10,079 --> 00:57:13,920
file was called it's like there's a

1534
00:57:11,679 --> 00:57:17,598
processor for the asset stuff

1535
00:57:13,920 --> 00:57:20,079
uh i think it's i think it's in import

1536
00:57:17,599 --> 00:57:22,559
um in import i feel like we've got a lot

1537
00:57:20,079 --> 00:57:24,079
of stuff with like grid tags you know

1538
00:57:22,559 --> 00:57:27,359
and all this stuff we import things when

1539
00:57:24,079 --> 00:57:29,359
we extract them and then we tag them

1540
00:57:27,358 --> 00:57:31,199
i just wonder if maybe we can switch to

1541
00:57:29,358 --> 00:57:32,798
a system that's like way less

1542
00:57:31,199 --> 00:57:34,318
complicated than this one where we

1543
00:57:32,798 --> 00:57:35,759
basically just treat it as like a basic

1544
00:57:34,318 --> 00:57:36,880
sprite sheet where we say look when you

1545
00:57:35,760 --> 00:57:38,160
render something you just say what the

1546
00:57:36,880 --> 00:57:39,838
sprite sheet is and which cell of the

1547
00:57:38,159 --> 00:57:41,920
sprite sheet and that's it like you

1548
00:57:39,838 --> 00:57:43,920
don't actually have like tags with that

1549
00:57:41,920 --> 00:57:45,760
are actually like picked for anything

1550
00:57:43,920 --> 00:57:47,599
it's like we just define that stuff in

1551
00:57:45,760 --> 00:57:49,839
code and off we go

1552
00:57:47,599 --> 00:57:49,838
um

1553
00:57:50,159 --> 00:57:53,838
i don't know if that makes a lot of

1554
00:57:52,159 --> 00:57:55,519
sense or not it could be that this is

1555
00:57:53,838 --> 00:57:56,960
already simple enough but i don't know

1556
00:57:55,519 --> 00:57:59,119
it still feels like it's a little too

1557
00:57:56,960 --> 00:58:00,159
complicated like when i look

1558
00:57:59,119 --> 00:58:02,400
um

1559
00:58:00,159 --> 00:58:04,639
at those tag files they just seem like

1560
00:58:02,400 --> 00:58:07,039
it's too much for what we get again

1561
00:58:04,639 --> 00:58:08,558
uh so i look at over here like the space

1562
00:58:07,039 --> 00:58:10,558
game stuff and it's like all these

1563
00:58:08,559 --> 00:58:12,640
things are are here

1564
00:58:10,559 --> 00:58:14,400
and like it's just too much

1565
00:58:12,639 --> 00:58:15,679
right it just seems like it's too much

1566
00:58:14,400 --> 00:58:17,920
stuff

1567
00:58:15,679 --> 00:58:20,000
and i don't think it should be necessary

1568
00:58:17,920 --> 00:58:21,440
to have quite so much stuff in quite so

1569
00:58:20,000 --> 00:58:22,960
much markup

1570
00:58:21,440 --> 00:58:23,320
you know what i mean

1571
00:58:22,960 --> 00:58:24,480
um

1572
00:58:23,320 --> 00:58:26,559
[Music]

1573
00:58:24,480 --> 00:58:28,400
so like i just wonder if we can simplify

1574
00:58:26,559 --> 00:58:30,880
the system down to something that's just

1575
00:58:28,400 --> 00:58:32,480
completely automated

1576
00:58:30,880 --> 00:58:35,358
where basically the code just puts in

1577
00:58:32,480 --> 00:58:37,440
the index and it just looks it up by

1578
00:58:35,358 --> 00:58:38,798
that directly

1579
00:58:37,440 --> 00:58:39,920
and i don't know

1580
00:58:38,798 --> 00:58:43,519
you know

1581
00:58:39,920 --> 00:58:43,519
i don't know how plausible that would be

1582
00:58:46,639 --> 00:58:51,679
the main problem that you get

1583
00:58:49,358 --> 00:58:54,880
pretty much all the time

1584
00:58:51,679 --> 00:58:58,000
is the stupid the fact that like

1585
00:58:54,880 --> 00:59:00,559
there's no easy way to mark up things

1586
00:58:58,000 --> 00:59:03,119
for sprites right like there's no easy

1587
00:59:00,559 --> 00:59:06,000
way in like photoshop for an artist

1588
00:59:03,119 --> 00:59:07,838
to say here's the like alignment point

1589
00:59:06,000 --> 00:59:08,798
of the sprite

1590
00:59:07,838 --> 00:59:10,480
for

1591
00:59:08,798 --> 00:59:12,400
no particular reason like they could

1592
00:59:10,480 --> 00:59:14,159
create those but it's kind of hard for

1593
00:59:12,400 --> 00:59:15,519
them to do because even if they put

1594
00:59:14,159 --> 00:59:16,960
something in that lets you know what it

1595
00:59:15,519 --> 00:59:18,400
is it's hard for them to see it because

1596
00:59:16,960 --> 00:59:20,400
they don't see it in the game

1597
00:59:18,400 --> 00:59:22,000
you know and so there's just all this

1598
00:59:20,400 --> 00:59:24,400
kind of nastiness there so i don't know

1599
00:59:22,000 --> 00:59:26,000
so maybe that's not that easy but like

1600
00:59:24,400 --> 00:59:28,480
right now this is just a pain in the

1601
00:59:26,000 --> 00:59:30,079
butt right like you have to go in here

1602
00:59:28,480 --> 00:59:33,519
um and you have like the hero or

1603
00:59:30,079 --> 00:59:37,280
something like hopping around uh and you

1604
00:59:33,519 --> 00:59:37,280
know you have to go into this thing

1605
00:59:37,358 --> 00:59:41,759
uh and you can like pick stuff

1606
00:59:39,599 --> 00:59:42,559
like uh i don't even remember how to do

1607
00:59:41,760 --> 00:59:43,920
this

1608
00:59:42,559 --> 00:59:47,359
i don't know why it's picking those

1609
00:59:43,920 --> 00:59:49,119
things is our is this broken somehow

1610
00:59:47,358 --> 00:59:50,798
maybe we broke it like that's not what

1611
00:59:49,119 --> 00:59:53,119
those are

1612
00:59:50,798 --> 00:59:56,400
um

1613
00:59:53,119 --> 00:59:58,480
oh i was on the wrong thing

1614
00:59:56,400 --> 01:00:00,880
so apparently there's two things here i

1615
00:59:58,480 --> 01:00:02,639
don't know what this one is

1616
01:00:00,880 --> 01:00:04,160
all right doesn't matter anyway the

1617
01:00:02,639 --> 01:00:06,159
point is if we look at one of these

1618
01:00:04,159 --> 01:00:09,118
things right it's got these alignment

1619
01:00:06,159 --> 01:00:11,118
points on there uh and we have to adjust

1620
01:00:09,119 --> 01:00:13,039
those like right to say like where

1621
01:00:11,119 --> 01:00:15,358
roughly the head goes relative to other

1622
01:00:13,039 --> 01:00:17,920
things um

1623
01:00:15,358 --> 01:00:19,759
i don't know like is that really the

1624
01:00:17,920 --> 01:00:20,960
best way to do this it just seems over

1625
01:00:19,760 --> 01:00:23,040
complicated like we needed this whole

1626
01:00:20,960 --> 01:00:25,599
editor and stuff for it

1627
01:00:23,039 --> 01:00:27,599
and i just don't know like i just don't

1628
01:00:25,599 --> 01:00:29,920
know a better way to do it uh the way

1629
01:00:27,599 --> 01:00:32,960
that we do it at mali for things that

1630
01:00:29,920 --> 01:00:35,280
are more like professional like you know

1631
01:00:32,960 --> 01:00:37,440
art process kinds of things is we just

1632
01:00:35,280 --> 01:00:40,160
do it all in photoshop right

1633
01:00:37,440 --> 01:00:41,920
um and then

1634
01:00:40,159 --> 01:00:43,519
we import the photoshop layers and stuff

1635
01:00:41,920 --> 01:00:45,519
like that

1636
01:00:43,519 --> 01:00:46,798
uh and i think that might be a bit much

1637
01:00:45,519 --> 01:00:49,440
for this game

1638
01:00:46,798 --> 01:00:51,358
so i don't know like what the simpler

1639
01:00:49,440 --> 01:00:53,119
solution is here where we can just

1640
01:00:51,358 --> 01:00:55,440
have that stuff come through any more

1641
01:00:53,119 --> 01:00:57,119
easily than what we've got uh so i don't

1642
01:00:55,440 --> 01:00:58,240
know maybe it is just as simple as it

1643
01:00:57,119 --> 01:01:02,318
can be

1644
01:00:58,239 --> 01:01:02,318
but it would be nice um

1645
01:01:04,880 --> 01:01:11,318
it would be nice

1646
01:01:06,880 --> 01:01:11,318
if we could simplify that somewhat

1647
01:01:17,920 --> 01:01:21,159
so like

1648
01:01:31,920 --> 01:01:37,119
so maybe like the code just directly

1649
01:01:33,679 --> 01:01:38,639
refers to grid squares in import so you

1650
01:01:37,119 --> 01:01:40,640
say like i'm doing this thing and this

1651
01:01:38,639 --> 01:01:42,239
is the grid square i want and then that

1652
01:01:40,639 --> 01:01:43,838
way we just get rid of the whole tagging

1653
01:01:42,239 --> 01:01:45,118
process which simplifies that a little

1654
01:01:43,838 --> 01:01:46,480
bit

1655
01:01:45,119 --> 01:01:47,838
um

1656
01:01:46,480 --> 01:01:49,920
i just there's i don't think there's any

1657
01:01:47,838 --> 01:01:53,838
way to get rid of the hotspot stuff so i

1658
01:01:49,920 --> 01:01:53,838
think that just has to stay

1659
01:01:57,199 --> 01:02:02,480
so i don't know

1660
01:01:58,639 --> 01:02:02,480
that there's much to do about that

1661
01:02:04,079 --> 01:02:07,680
you know it's possible that we just

1662
01:02:05,760 --> 01:02:10,880
require the

1663
01:02:07,679 --> 01:02:13,199
art to be aligned when it comes in

1664
01:02:10,880 --> 01:02:13,200
um

1665
01:02:17,440 --> 01:02:20,240
because like we could just say look the

1666
01:02:19,199 --> 01:02:21,919
way we're going to do it we're going to

1667
01:02:20,239 --> 01:02:23,358
change the way the art is and the art

1668
01:02:21,920 --> 01:02:25,440
just has to be aligned when it comes in

1669
01:02:23,358 --> 01:02:27,358
and we don't

1670
01:02:25,440 --> 01:02:29,889
allow any adjustment right it just comes

1671
01:02:27,358 --> 01:02:33,099
in stacked the way it's stacked

1672
01:02:29,889 --> 01:02:33,099
[Music]

1673
01:02:33,519 --> 01:02:37,519
and and i don't know

1674
01:02:35,280 --> 01:02:37,519
right

1675
01:02:39,119 --> 01:02:41,358
so

1676
01:02:45,920 --> 01:02:50,159
i don't know

1677
01:02:47,358 --> 01:02:51,519
so so that may be roughly it uh let me

1678
01:02:50,159 --> 01:02:53,519
see what else is there anything else i

1679
01:02:51,519 --> 01:02:57,199
think we might be mostly done i don't

1680
01:02:53,519 --> 01:02:59,358
think there's many other things um

1681
01:02:57,199 --> 01:03:01,519
the brain stuff

1682
01:02:59,358 --> 01:03:03,358
may be a little too complicated

1683
01:03:01,519 --> 01:03:04,960
um

1684
01:03:03,358 --> 01:03:06,719
i don't know we may want to take a look

1685
01:03:04,960 --> 01:03:08,720
at that and just see

1686
01:03:06,719 --> 01:03:11,679
like can we simplify the brain stuff

1687
01:03:08,719 --> 01:03:12,959
down a little bit

1688
01:03:11,679 --> 01:03:14,239
um

1689
01:03:12,960 --> 01:03:16,159
the way it works right now is like

1690
01:03:14,239 --> 01:03:17,759
brains gather up collections of entities

1691
01:03:16,159 --> 01:03:19,279
that they operate on

1692
01:03:17,760 --> 01:03:21,680
uh and i don't know if that's like too

1693
01:03:19,280 --> 01:03:23,920
complicated or not like we could see

1694
01:03:21,679 --> 01:03:23,919
like

1695
01:03:26,480 --> 01:03:32,079
and you know the way that it does that

1696
01:03:28,559 --> 01:03:33,680
is that an entity is itself like each of

1697
01:03:32,079 --> 01:03:35,280
the entities kind of like forms the

1698
01:03:33,679 --> 01:03:37,118
brain by

1699
01:03:35,280 --> 01:03:38,640
a brain like gathers up a series of

1700
01:03:37,119 --> 01:03:40,640
entities like you know like all the

1701
01:03:38,639 --> 01:03:42,558
parts of a snake or something

1702
01:03:40,639 --> 01:03:44,159
and then operates on them and it seems

1703
01:03:42,559 --> 01:03:45,599
pretty good but i don't know might be

1704
01:03:44,159 --> 01:03:47,920
over complicated

1705
01:03:45,599 --> 01:03:49,119
um

1706
01:03:47,920 --> 01:03:51,440
but i don't know that there's a lot of

1707
01:03:49,119 --> 01:03:54,160
other ways to deal with it uh because

1708
01:03:51,440 --> 01:03:56,720
you know entities

1709
01:03:54,159 --> 01:03:58,960
we could start treat i guess okay

1710
01:03:56,719 --> 01:04:00,318
we could start thinking of entities as

1711
01:03:58,960 --> 01:04:01,760
having multiple components because they

1712
01:04:00,318 --> 01:04:04,558
sort of already do

1713
01:04:01,760 --> 01:04:07,599
and so maybe we need to do this like

1714
01:04:04,559 --> 01:04:12,200
look at brains versus entities

1715
01:04:07,599 --> 01:04:12,200
uh versus what is it parts

1716
01:04:16,000 --> 01:04:18,480
pieces

1717
01:04:21,519 --> 01:04:28,880
like can we just make entities plus

1718
01:04:24,838 --> 01:04:32,480
pieces um and the pieces

1719
01:04:28,880 --> 01:04:35,440
are what uh you know

1720
01:04:32,480 --> 01:04:40,318
and like the entire bounding box of the

1721
01:04:35,440 --> 01:04:42,079
pieces is what we pack unpack right

1722
01:04:40,318 --> 01:04:43,920
so basically could we make it so that

1723
01:04:42,079 --> 01:04:46,318
entities are just they don't need to

1724
01:04:43,920 --> 01:04:48,720
gather anything like an entity is just a

1725
01:04:46,318 --> 01:04:50,318
thing that has parts to it and it can

1726
01:04:48,719 --> 01:04:53,279
move its parts independently if it

1727
01:04:50,318 --> 01:04:54,719
wishes to but in general like you know

1728
01:04:53,280 --> 01:04:56,559
that's considered one entity you know do

1729
01:04:54,719 --> 01:04:58,558
we need the brain envy pieces can we

1730
01:04:56,559 --> 01:04:59,680
just do entity plus pieces and call it a

1731
01:04:58,559 --> 01:05:01,760
day

1732
01:04:59,679 --> 01:05:03,679
um

1733
01:05:01,760 --> 01:05:05,839
i guess that'd be the one other thing i

1734
01:05:03,679 --> 01:05:08,000
think that's it for the things that i

1735
01:05:05,838 --> 01:05:10,000
wanted to think about in the engine that

1736
01:05:08,000 --> 01:05:12,318
i think we should probably fix

1737
01:05:10,000 --> 01:05:12,318
um

1738
01:05:18,798 --> 01:05:24,880
i don't know that there's much more here

1739
01:05:22,960 --> 01:05:27,880
to worry about

1740
01:05:24,880 --> 01:05:27,880
um

1741
01:05:37,599 --> 01:05:41,680
so let's talk about world gen

1742
01:05:42,000 --> 01:05:46,639
i think we can definitely simplify that

1743
01:05:44,559 --> 01:05:48,480
so i think world gen we could just go

1744
01:05:46,639 --> 01:05:49,598
with a much simpler layout scheme like

1745
01:05:48,480 --> 01:05:50,960
maybe just something that plops these

1746
01:05:49,599 --> 01:05:52,880
dungeons down

1747
01:05:50,960 --> 01:05:53,760
and then connects them right

1748
01:05:52,880 --> 01:05:55,280
um

1749
01:05:53,760 --> 01:05:58,079
would probably be a lot simpler than

1750
01:05:55,280 --> 01:05:59,839
what we have right now which is like

1751
01:05:58,079 --> 01:06:01,359
doing this kind of weird like two pass

1752
01:05:59,838 --> 01:06:02,558
thing

1753
01:06:01,358 --> 01:06:04,239
you know there's a lot of cool stuff you

1754
01:06:02,559 --> 01:06:05,359
could do there but realistically

1755
01:06:04,239 --> 01:06:06,959
speaking you know this is a game where

1756
01:06:05,358 --> 01:06:09,119
you're supposed to go into rooms

1757
01:06:06,960 --> 01:06:10,798
battle the room then go to the next room

1758
01:06:09,119 --> 01:06:13,039
it's unclear that we get very much from

1759
01:06:10,798 --> 01:06:14,159
this uh

1760
01:06:13,039 --> 01:06:16,000
you know like i just don't know that

1761
01:06:14,159 --> 01:06:18,318
there's much point to having something

1762
01:06:16,000 --> 01:06:20,000
more complicated happening so like uh

1763
01:06:18,318 --> 01:06:22,558
simplify

1764
01:06:20,000 --> 01:06:25,760
uh dramatically like

1765
01:06:22,559 --> 01:06:30,000
try to get down to single pass

1766
01:06:25,760 --> 01:06:33,839
uh or at least single pass

1767
01:06:30,000 --> 01:06:36,000
after broad layout um

1768
01:06:33,838 --> 01:06:36,880
so i think we could condense that down

1769
01:06:36,000 --> 01:06:38,239
uh

1770
01:06:36,880 --> 01:06:39,838
quite a bit

1771
01:06:38,239 --> 01:06:42,479
uh

1772
01:06:39,838 --> 01:06:43,838
just just untangling that code path so i

1773
01:06:42,480 --> 01:06:44,838
do think that was probably probably

1774
01:06:43,838 --> 01:06:48,159
worth it as

1775
01:06:44,838 --> 01:06:48,159
well um

1776
01:06:50,079 --> 01:06:53,760
i think most of the other stuff is fine

1777
01:06:52,000 --> 01:06:54,798
i assume the cutscene stuff is still

1778
01:06:53,760 --> 01:06:57,119
fine

1779
01:06:54,798 --> 01:06:58,400
um i don't remember if there's anything

1780
01:06:57,119 --> 01:07:00,160
here

1781
01:06:58,400 --> 01:07:02,240
that we needed to do i think it all

1782
01:07:00,159 --> 01:07:04,078
still works pretty well uh maybe it

1783
01:07:02,239 --> 01:07:06,399
doesn't i don't know uh we haven't

1784
01:07:04,079 --> 01:07:08,960
really looked at it in a long time

1785
01:07:06,400 --> 01:07:12,680
um but it looks like the cutscene stuff

1786
01:07:08,960 --> 01:07:12,679
still works just fine

1787
01:07:21,280 --> 01:07:24,000
yeah

1788
01:07:22,239 --> 01:07:28,118
i mean this all seems like

1789
01:07:24,000 --> 01:07:28,119
it's all working properly right

1790
01:07:36,798 --> 01:07:40,480
uh and yeah i do i do do big picture

1791
01:07:38,960 --> 01:07:42,000
revision from time to time it's just

1792
01:07:40,480 --> 01:07:44,000
usually it's not as bad as handmade hero

1793
01:07:42,000 --> 01:07:45,838
because usually i'm doing it kind of

1794
01:07:44,000 --> 01:07:48,000
continuously because it's kind of in my

1795
01:07:45,838 --> 01:07:49,038
head all the time so it's maybe not as

1796
01:07:48,000 --> 01:07:50,159
bad

1797
01:07:49,039 --> 01:07:52,319
these days

1798
01:07:50,159 --> 01:07:53,358
right

1799
01:07:52,318 --> 01:07:57,038
um

1800
01:07:53,358 --> 01:08:00,838
but like you know i

1801
01:07:57,039 --> 01:08:00,839
i definitely do it

1802
01:08:10,480 --> 01:08:14,960
here's santa claus being a dick as he

1803
01:08:12,400 --> 01:08:14,960
always is

1804
01:08:22,319 --> 01:08:26,480
yes the idea is that this would have

1805
01:08:23,838 --> 01:08:27,920
voice over to it um

1806
01:08:26,479 --> 01:08:29,919
and uh

1807
01:08:27,920 --> 01:08:32,319
you know

1808
01:08:29,920 --> 01:08:34,079
i don't have voiceover yet for it but

1809
01:08:32,319 --> 01:08:37,080
eventually we would just have the voice

1810
01:08:34,079 --> 01:08:37,079
over

1811
01:08:46,560 --> 01:08:51,400
maybe i could record some voice over for

1812
01:08:48,399 --> 01:08:51,399
it

1813
01:09:05,439 --> 01:09:09,039
how's doing sgg informed decisions no

1814
01:09:07,600 --> 01:09:10,719
the other way around like i'm mostly

1815
01:09:09,039 --> 01:09:13,039
trying to inform starco galaxy by

1816
01:09:10,719 --> 01:09:15,759
handmade hero

1817
01:09:13,039 --> 01:09:17,600
that's not a goat monster it's krampus

1818
01:09:15,759 --> 01:09:19,198
don't you know who krampus is come on

1819
01:09:17,600 --> 01:09:22,000
man

1820
01:09:19,198 --> 01:09:25,198
or confus as i believe is more

1821
01:09:22,000 --> 01:09:25,198
properly pronounced

1822
01:09:25,759 --> 01:09:31,198
krampus comes

1823
01:09:28,238 --> 01:09:34,639
right before christmas

1824
01:09:31,198 --> 01:09:36,879
like the 14th or the 15th not the 25th

1825
01:09:34,640 --> 01:09:38,880
it comes before christmas for like the

1826
01:09:36,880 --> 01:09:41,039
naughty children

1827
01:09:38,880 --> 01:09:42,798
and like he dismembers them and puts

1828
01:09:41,039 --> 01:09:44,399
them in a bag

1829
01:09:42,798 --> 01:09:45,838
i think

1830
01:09:44,399 --> 01:09:48,238
um

1831
01:09:45,838 --> 01:09:50,079
is what happens normally so he like cuts

1832
01:09:48,238 --> 01:09:52,000
off their limbs and he puts them in a

1833
01:09:50,079 --> 01:09:53,359
bag and then they're never heard they're

1834
01:09:52,000 --> 01:09:55,520
just taken away

1835
01:09:53,359 --> 01:09:56,880
that's that's like actually what people

1836
01:09:55,520 --> 01:09:58,880
i think it gots i think that's what

1837
01:09:56,880 --> 01:10:00,880
krampus is supposedly actually does

1838
01:09:58,880 --> 01:10:02,880
that's what they tell children

1839
01:10:00,880 --> 01:10:07,239
krampus does i think

1840
01:10:02,880 --> 01:10:07,239
in places where they celebrate krampus

1841
01:10:16,800 --> 01:10:21,360
i don't know if it's german it's it's

1842
01:10:18,960 --> 01:10:24,000
definitely like northern european or

1843
01:10:21,359 --> 01:10:25,439
northeastern european that kind of area

1844
01:10:24,000 --> 01:10:27,039
i think

1845
01:10:25,439 --> 01:10:28,238
it might be german

1846
01:10:27,039 --> 01:10:30,238
um

1847
01:10:28,238 --> 01:10:32,639
but i think it's kind of more regional

1848
01:10:30,238 --> 01:10:36,759
than that it's not just german it's like

1849
01:10:32,640 --> 01:10:36,760
kind of in a lot of places

1850
01:10:48,479 --> 01:10:51,759
um

1851
01:10:49,279 --> 01:10:53,599
all right so yeah i think that's what i

1852
01:10:51,760 --> 01:10:55,360
would like to do

1853
01:10:53,600 --> 01:10:57,199
um and so this is just gonna be a

1854
01:10:55,359 --> 01:10:58,719
simplification pass to get everything

1855
01:10:57,198 --> 01:10:59,678
ready uh

1856
01:10:58,719 --> 01:11:01,439
and

1857
01:10:59,679 --> 01:11:04,640
um

1858
01:11:01,439 --> 01:11:06,319
like i said i probably wanna blitz it so

1859
01:11:04,640 --> 01:11:08,000
what i probably will do i don't know

1860
01:11:06,319 --> 01:11:10,840
about this week

1861
01:11:08,000 --> 01:11:14,399
but like maybe next week

1862
01:11:10,840 --> 01:11:15,440
um i might do like eight hours a day of

1863
01:11:14,399 --> 01:11:17,839
street well eight hours a day is

1864
01:11:15,439 --> 01:11:20,000
probably too much for my voice but like

1865
01:11:17,840 --> 01:11:24,039
you know four hours a day of streams

1866
01:11:20,000 --> 01:11:24,039
every day for a while

1867
01:11:30,560 --> 01:11:33,560
so

1868
01:11:40,238 --> 01:11:44,000
uh so i think that's what we'll do

1869
01:11:42,319 --> 01:11:45,599
and uh

1870
01:11:44,000 --> 01:11:47,198
you know like i said i don't exactly

1871
01:11:45,600 --> 01:11:48,239
when i'll start that but uh when i start

1872
01:11:47,198 --> 01:11:49,359
that i think i want to do it kind of

1873
01:11:48,238 --> 01:11:51,359
concentrated because i don't think you

1874
01:11:49,359 --> 01:11:52,880
can do this kind of revision work

1875
01:11:51,359 --> 01:11:54,960
piecemeal you kind of have to just sit

1876
01:11:52,880 --> 01:11:56,800
down and do it and keep it in your head

1877
01:11:54,960 --> 01:11:59,439
properly because if you don't

1878
01:11:56,800 --> 01:12:00,719
you're just going to screw it up

1879
01:11:59,439 --> 01:12:02,319
and that's not going to be particularly

1880
01:12:00,719 --> 01:12:04,239
useful so we'll probably do a fairly

1881
01:12:02,319 --> 01:12:06,319
dense series of streams

1882
01:12:04,238 --> 01:12:08,879
for that starting soon

1883
01:12:06,319 --> 01:12:10,238
but yeah until then

1884
01:12:08,880 --> 01:12:11,119
um

1885
01:12:10,238 --> 01:12:12,959
yeah

1886
01:12:11,119 --> 01:12:15,039
that's the list

1887
01:12:12,960 --> 01:12:16,960
that's the list

1888
01:12:15,039 --> 01:12:17,920
all right so thanks everyone for joining

1889
01:12:16,960 --> 01:12:18,960
me

1890
01:12:17,920 --> 01:12:20,960
um

1891
01:12:18,960 --> 01:12:23,119
we will pick that up when we decide to

1892
01:12:20,960 --> 01:12:24,960
actually start as always if you do want

1893
01:12:23,119 --> 01:12:27,840
to follow along at home of course you

1894
01:12:24,960 --> 01:12:30,158
can go to handmadehero

1895
01:12:27,840 --> 01:12:31,520
dot org

1896
01:12:30,158 --> 01:12:32,639
pre-orders the game come the source code

1897
01:12:31,520 --> 01:12:34,480
if you want to follow along with what

1898
01:12:32,640 --> 01:12:36,320
i'm doing you can try to do the engine

1899
01:12:34,479 --> 01:12:38,479
rewrite yourself if you want to let's

1900
01:12:36,319 --> 01:12:39,599
not really rewrite uh cleanup i guess is

1901
01:12:38,479 --> 01:12:41,119
what it is

1902
01:12:39,600 --> 01:12:42,640
simplification

1903
01:12:41,119 --> 01:12:44,399
um

1904
01:12:42,640 --> 01:12:47,039
and uh yeah

1905
01:12:44,399 --> 01:12:47,799
that's about it for today i'll be back

1906
01:12:47,039 --> 01:12:50,640
here

1907
01:12:47,800 --> 01:12:52,480
probably next sunday maybe to kick

1908
01:12:50,640 --> 01:12:54,320
things off again i don't know exactly

1909
01:12:52,479 --> 01:12:55,759
what the schedule will be but

1910
01:12:54,319 --> 01:12:57,198
i

1911
01:12:55,760 --> 01:12:58,400
probably be back here next sunday to

1912
01:12:57,198 --> 01:12:59,678
talk about what we're going to do and

1913
01:12:58,399 --> 01:13:00,879
when we're going to do it or maybe just

1914
01:12:59,679 --> 01:13:03,359
to start doing it then and we'll just

1915
01:13:00,880 --> 01:13:05,600
continue through the week we'll see

1916
01:13:03,359 --> 01:13:08,158
until then have fun programming everyone

1917
01:13:05,600 --> 01:13:11,560
and i will see you on the internet take

1918
01:13:08,158 --> 01:13:11,559
it easy everybody

