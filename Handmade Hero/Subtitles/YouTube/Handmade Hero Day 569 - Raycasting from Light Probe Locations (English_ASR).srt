1
00:00:02,149 --> 00:00:06,150
alright hello everyone and welcome to

2
00:00:04,500 --> 00:00:10,559
handmade Hiro sure we could a complete

3
00:00:06,150 --> 00:00:13,289
game live on stream we are going to try

4
00:00:10,558 --> 00:00:15,928
to do some more useful stuff with our

5
00:00:13,289 --> 00:00:17,939
lighting today if you remember from

6
00:00:15,929 --> 00:00:20,129
yesterday we were taking a look at the

7
00:00:17,940 --> 00:00:22,859
ray caster and we think we've got it a

8
00:00:20,129 --> 00:00:24,448
little cleaner now we just hadn't used

9
00:00:22,859 --> 00:00:25,949
it in a while and we hadn't we had made

10
00:00:24,449 --> 00:00:27,090
a bunch of changes to it so we had to

11
00:00:25,949 --> 00:00:30,330
kind of make sure it was still running

12
00:00:27,089 --> 00:00:32,519
okay and it seems like it's at least

13
00:00:30,329 --> 00:00:33,750
functional now and we probably still

14
00:00:32,520 --> 00:00:36,719
have some more debugging to do because

15
00:00:33,750 --> 00:00:38,399
you know we didn't really do much to

16
00:00:36,719 --> 00:00:41,370
ensure that it was working properly but

17
00:00:38,399 --> 00:00:42,808
we did get it basically to the point

18
00:00:41,369 --> 00:00:46,078
where we think it's it's sort of doing

19
00:00:42,808 --> 00:00:48,328
something reasonable and so before we go

20
00:00:46,079 --> 00:00:49,950
any further we want to try doing the

21
00:00:48,329 --> 00:00:51,058
next thing you can notice we're still

22
00:00:49,950 --> 00:00:52,320
getting all these clock marks here but I

23
00:00:51,058 --> 00:00:55,109
think a lot of that has to do with the

24
00:00:52,320 --> 00:00:57,058
way that we're doing the placement of

25
00:00:55,109 --> 00:00:58,469
the Ray casting and the way we're doing

26
00:00:57,058 --> 00:01:00,000
interpolation so I'm pretty sure that

27
00:00:58,469 --> 00:01:01,920
that's not really a concern at the

28
00:01:00,000 --> 00:01:05,188
moment so what I'd like to do now is

29
00:01:01,920 --> 00:01:07,950
take a look at doing the ray casting

30
00:01:05,188 --> 00:01:10,048
from actual proper locations and then

31
00:01:07,950 --> 00:01:14,189
after that's sort of working more

32
00:01:10,049 --> 00:01:16,350
correctly to my satisfaction then we

33
00:01:14,188 --> 00:01:18,298
will move on to debugging the Ray

34
00:01:16,349 --> 00:01:20,728
casting further assuming that we see

35
00:01:18,299 --> 00:01:22,220
evidence of further errors because at

36
00:01:20,728 --> 00:01:25,950
that point I think we'll be able to see

37
00:01:22,219 --> 00:01:28,798
errors more cleanly so what I'm going to

38
00:01:25,950 --> 00:01:30,299
do I'm gonna start with is I want an

39
00:01:28,799 --> 00:01:31,290
pivot I probably shouldn't close that

40
00:01:30,299 --> 00:01:34,530
because I do want to mention one thing

41
00:01:31,290 --> 00:01:37,829
so what I want to do now is if you look

42
00:01:34,530 --> 00:01:39,810
at these you know these these little

43
00:01:37,828 --> 00:01:42,269
cubes that we've placed throughout the

44
00:01:39,810 --> 00:01:44,820
environment here those cubes are the

45
00:01:42,269 --> 00:01:46,408
light probes they're not placed in any

46
00:01:44,819 --> 00:01:50,188
particularly interesting way at the

47
00:01:46,409 --> 00:01:53,159
moment we're just putting two per for

48
00:01:50,188 --> 00:01:55,529
room cell and all I really want to do

49
00:01:53,159 --> 00:01:58,290
here is I want to take those light

50
00:01:55,530 --> 00:02:02,159
probes and I want to use those as the

51
00:01:58,290 --> 00:02:03,750
source locations for our lighting ray

52
00:02:02,159 --> 00:02:05,790
casts right that's all we're really

53
00:02:03,750 --> 00:02:07,109
trying to do here and the reason I want

54
00:02:05,790 --> 00:02:09,060
to do that is because if you think about

55
00:02:07,109 --> 00:02:12,689
the way that we're actually creating our

56
00:02:09,060 --> 00:02:13,890
lighting we have a voxel grid that we're

57
00:02:12,689 --> 00:02:16,829
interpolating the

58
00:02:13,889 --> 00:02:19,619
results on and we really don't want to

59
00:02:16,830 --> 00:02:21,990
cast like this test program this test

60
00:02:19,620 --> 00:02:23,759
version right here is casting from the

61
00:02:21,990 --> 00:02:25,319
Centers of the voxels and you can see

62
00:02:23,759 --> 00:02:26,909
that if i zoom in here you can actually

63
00:02:25,318 --> 00:02:29,729
see we drew this out you could see those

64
00:02:26,909 --> 00:02:31,620
lines all fall over there right so you

65
00:02:29,729 --> 00:02:33,329
can see like it casting from here and oh

66
00:02:31,620 --> 00:02:35,189
it can hit the light source so over here

67
00:02:33,330 --> 00:02:38,280
it will write like okay there's there's

68
00:02:35,189 --> 00:02:39,599
light here right but in other places it

69
00:02:38,280 --> 00:02:41,849
can't hit the light source so for

70
00:02:39,599 --> 00:02:43,709
example if you look like this one down

71
00:02:41,849 --> 00:02:46,109
here is coming from beneath the floor

72
00:02:43,709 --> 00:02:47,250
right so down here it's gonna say that

73
00:02:46,110 --> 00:02:49,739
it can't hit the light source or

74
00:02:47,250 --> 00:02:52,080
whatever right and the problem that you

75
00:02:49,739 --> 00:02:53,189
have so just thinking about right if

76
00:02:52,080 --> 00:02:55,950
you're if you're looking at how this is

77
00:02:53,189 --> 00:02:59,280
going to work the problem that you have

78
00:02:55,949 --> 00:03:00,689
is that if you place these things such

79
00:02:59,280 --> 00:03:03,180
that they're underneath the floor or

80
00:03:00,689 --> 00:03:05,129
whatever and you have like one above the

81
00:03:03,180 --> 00:03:07,409
floor and one below the floor like is

82
00:03:05,129 --> 00:03:10,079
what will happen in this case then you

83
00:03:07,409 --> 00:03:13,409
will get this irregular pattern and

84
00:03:10,080 --> 00:03:15,900
again if we had actually run the full

85
00:03:13,409 --> 00:03:18,959
lighting bounce stuff this wouldn't be

86
00:03:15,900 --> 00:03:21,659
as bad because you would have things

87
00:03:18,959 --> 00:03:23,519
probably diffusing more but it's still a

88
00:03:21,659 --> 00:03:26,459
problem because basically you're taking

89
00:03:23,519 --> 00:03:28,590
samples from places that are inside

90
00:03:26,459 --> 00:03:31,319
geometry and that will always make our

91
00:03:28,590 --> 00:03:33,299
lighting solution worse because it means

92
00:03:31,319 --> 00:03:34,799
that will be interpolating to black in a

93
00:03:33,299 --> 00:03:37,620
bunch of places where we shouldn't have

94
00:03:34,799 --> 00:03:39,329
been right and there's things that we

95
00:03:37,620 --> 00:03:40,980
can do to try to mitigate that but what

96
00:03:39,329 --> 00:03:45,420
we'd rather do is just never have that

97
00:03:40,979 --> 00:03:49,679
problem so what we want to do instead is

98
00:03:45,419 --> 00:03:52,379
say yes we are interpolating lighting at

99
00:03:49,680 --> 00:03:56,209
voxel centers but we don't actually want

100
00:03:52,379 --> 00:03:59,549
to take the the shadowing and

101
00:03:56,209 --> 00:04:02,519
transmission vectors from those centers

102
00:03:59,549 --> 00:04:04,860
we want to take those from places in the

103
00:04:02,519 --> 00:04:10,500
actual world that we know are valid and

104
00:04:04,860 --> 00:04:12,390
then spread them out to the actual voxel

105
00:04:10,500 --> 00:04:14,879
centers for interpolation later that's

106
00:04:12,389 --> 00:04:17,399
what we actually wanted to have happen

107
00:04:14,879 --> 00:04:19,889
and so that's what we need to start

108
00:04:17,399 --> 00:04:21,988
working with here and we're gonna start

109
00:04:19,889 --> 00:04:24,478
doing that now by by trying to take

110
00:04:21,988 --> 00:04:27,388
these light probe locations and using

111
00:04:24,478 --> 00:04:29,699
those as the places that we cast lights

112
00:04:27,389 --> 00:04:32,158
from so in the lighting solution itself

113
00:04:29,699 --> 00:04:34,560
what we need to start doing is when we

114
00:04:32,158 --> 00:04:35,998
do our compute light propagation well

115
00:04:34,560 --> 00:04:39,240
although I guess it's not technically in

116
00:04:35,999 --> 00:04:41,009
here because we're sort of doing the non

117
00:04:39,240 --> 00:04:42,749
propagation version right now we're just

118
00:04:41,009 --> 00:04:44,968
kind of got a hard-coded one cure that

119
00:04:42,749 --> 00:04:46,080
we're working with and that's because we

120
00:04:44,968 --> 00:04:47,759
don't want to actually have to do

121
00:04:46,079 --> 00:04:50,878
propagation yet we're just trying to do

122
00:04:47,759 --> 00:04:52,528
single single ray check and this is

123
00:04:50,879 --> 00:04:53,908
again for debugging purposes before we

124
00:04:52,528 --> 00:04:55,259
start convecting light around and it

125
00:04:53,908 --> 00:04:56,998
becomes really hard to tell if things

126
00:04:55,259 --> 00:05:03,000
are working we want to get it working in

127
00:04:56,999 --> 00:05:04,469
a more easy to to spot case right so if

128
00:05:03,000 --> 00:05:06,180
we now go to the rate caster and we take

129
00:05:04,468 --> 00:05:07,319
a look at what's happening here you can

130
00:05:06,180 --> 00:05:08,908
see here that we're ray casting from

131
00:05:07,319 --> 00:05:11,098
voxel centers and that's not what we

132
00:05:08,908 --> 00:05:13,199
want to do and so what I'd like to do is

133
00:05:11,098 --> 00:05:15,329
take this right here which is you know

134
00:05:13,199 --> 00:05:17,788
this thing that sort of ray casts from

135
00:05:15,329 --> 00:05:20,550
the voxel Center separately I want that

136
00:05:17,788 --> 00:05:22,468
to sort of go away now that needs to now

137
00:05:20,550 --> 00:05:25,829
be just test code and we need something

138
00:05:22,468 --> 00:05:29,158
that's going to do a loop over the the

139
00:05:25,829 --> 00:05:32,370
actual light probes instead and so if

140
00:05:29,158 --> 00:05:34,800
you take a look at what we've got here I

141
00:05:32,370 --> 00:05:37,079
believe we can just get this this is

142
00:05:34,800 --> 00:05:38,430
just something that we pick up as part

143
00:05:37,079 --> 00:05:41,310
of the initialization procedure so I

144
00:05:38,430 --> 00:05:43,348
believe we do begin lighting computation

145
00:05:41,310 --> 00:05:45,209
I believe we need to store that and I

146
00:05:43,348 --> 00:05:48,300
don't know if we're storing it yet right

147
00:05:45,209 --> 00:05:49,500
I don't know I'm just looking here it

148
00:05:48,300 --> 00:05:51,360
doesn't look like we're actually putting

149
00:05:49,500 --> 00:05:53,908
anything in there yet right so if we go

150
00:05:51,360 --> 00:05:55,949
in here and we look for light probe P or

151
00:05:53,908 --> 00:05:58,348
light probe count I don't actually know

152
00:05:55,949 --> 00:06:02,270
if anyone's doing anything with that so

153
00:05:58,348 --> 00:06:12,209
if I go through and I do light probe

154
00:06:02,269 --> 00:06:14,549
count so we are okay so right here we do

155
00:06:12,209 --> 00:06:16,348
we do grab it so this is what we need

156
00:06:14,550 --> 00:06:18,419
we've got a count of the light trips in

157
00:06:16,348 --> 00:06:21,180
the system we have their locations and

158
00:06:18,418 --> 00:06:22,500
that's all we need eventually we won't

159
00:06:21,180 --> 00:06:24,838
even really need to do it this way

160
00:06:22,500 --> 00:06:27,360
because eventually the light probes but

161
00:06:24,838 --> 00:06:28,889
we'll just be stacked in here because

162
00:06:27,360 --> 00:06:30,838
previously we thought we were gonna have

163
00:06:28,889 --> 00:06:33,449
to save them and actually communicate

164
00:06:30,838 --> 00:06:35,668
about them across frames and to their to

165
00:06:33,449 --> 00:06:37,560
the GPU we don't need that anymore we're

166
00:06:35,668 --> 00:06:40,109
just using them as ray cast locations

167
00:06:37,560 --> 00:06:41,788
and so we're gonna it's gonna get even

168
00:06:40,110 --> 00:06:43,139
nicer than this in the future but it

169
00:06:41,788 --> 00:06:44,579
will still boil down to the same thing

170
00:06:43,139 --> 00:06:47,098
which is account in a P it just they

171
00:06:44,579 --> 00:06:50,189
won't have to come from an expanding

172
00:06:47,098 --> 00:06:52,908
buffer with pre-assigned indices if you

173
00:06:50,189 --> 00:06:55,800
remember correctly back in the worlds

174
00:06:52,908 --> 00:06:58,500
import code we got a bunch of nonsense

175
00:06:55,800 --> 00:07:02,038
going on now that's this this stuff

176
00:06:58,500 --> 00:07:03,750
right this will hopefully if I'm right

177
00:07:02,038 --> 00:07:06,088
and we get the lighting working the way

178
00:07:03,750 --> 00:07:08,310
that we're trying to now if this works

179
00:07:06,088 --> 00:07:09,449
well that can go away which is great

180
00:07:08,310 --> 00:07:13,019
it's a whole bunch of bookkeeping that

181
00:07:09,449 --> 00:07:14,490
goes away less possibility for bugs less

182
00:07:13,019 --> 00:07:16,949
runtime costs and everything so it's

183
00:07:14,490 --> 00:07:18,538
just just a unalloyed win if we can

184
00:07:16,949 --> 00:07:25,199
actually make it work without stable

185
00:07:18,538 --> 00:07:26,550
indices across frames I mean generally

186
00:07:25,199 --> 00:07:28,259
speaking anything you can make work

187
00:07:26,550 --> 00:07:33,240
without stable indices across frames

188
00:07:28,259 --> 00:07:35,699
accelerates it usually usually so anyway

189
00:07:33,240 --> 00:07:37,348
going through here taking a look at this

190
00:07:35,699 --> 00:07:40,889
so what I want to do is I want to loop

191
00:07:37,348 --> 00:07:42,658
over these so we kind of want to take

192
00:07:40,889 --> 00:07:44,370
this out of the equation here and

193
00:07:42,658 --> 00:07:47,009
because we're kind of starting to stock

194
00:07:44,370 --> 00:07:48,899
stack up a little bit too much in here

195
00:07:47,009 --> 00:07:51,538
I'm gonna start pulling these out just

196
00:07:48,899 --> 00:07:52,848
because as you know I like having things

197
00:07:51,538 --> 00:07:56,128
written in line

198
00:07:52,848 --> 00:07:58,620
certainly but I don't like it when I've

199
00:07:56,129 --> 00:08:00,269
got too many things turned off right

200
00:07:58,620 --> 00:08:02,639
because then it's hard for me to read

201
00:08:00,269 --> 00:08:05,180
the code so what I'd like to do here is

202
00:08:02,639 --> 00:08:08,098
just grab this whole bit which is all

203
00:08:05,180 --> 00:08:10,680
stuff we were using to compute that

204
00:08:08,098 --> 00:08:14,069
lighting and I'm just gonna go ahead and

205
00:08:10,680 --> 00:08:16,110
pull that out into a function here and I

206
00:08:14,069 --> 00:08:20,389
don't really care about it at the moment

207
00:08:16,110 --> 00:08:20,389
so I'm just gonna have this be like

208
00:08:22,470 --> 00:08:31,590
something like this big yeah from

209
00:08:27,089 --> 00:08:33,179
building that seems good as opposed

210
00:08:31,589 --> 00:08:36,120
to gobbledygook it's tremble - you

211
00:08:33,179 --> 00:08:37,589
know makes perfect sense so anyway in

212
00:08:36,120 --> 00:08:39,509
here I'm just gonna say look there's

213
00:08:37,590 --> 00:08:40,918
some stuff and we don't care about it

214
00:08:39,509 --> 00:08:42,899
right now but I want to save this

215
00:08:40,918 --> 00:08:44,460
routine in case we ever want to rerun

216
00:08:42,899 --> 00:08:47,730
just that version of it where we're

217
00:08:44,460 --> 00:08:49,710
casting from the voxel centers right so

218
00:08:47,730 --> 00:08:51,269
then I want to do another version of

219
00:08:49,710 --> 00:08:53,129
this where we're gonna sort of do

220
00:08:51,269 --> 00:08:56,279
similar codes I'm going to copy it but

221
00:08:53,129 --> 00:08:58,590
we're gonna gut most of it and and do it

222
00:08:56,279 --> 00:08:59,699
sort of a little bit differently so

223
00:08:58,590 --> 00:09:01,649
we're gonna come through here and

224
00:08:59,700 --> 00:09:03,629
instead of looping over the voxel with

225
00:09:01,649 --> 00:09:05,429
these X Y Z and Z's I'm instead gonna

226
00:09:03,629 --> 00:09:10,439
take this and I'm just gonna loop over

227
00:09:05,429 --> 00:09:12,359
the light probes like this so we're

228
00:09:10,440 --> 00:09:15,600
gonna say for every light probe that we

229
00:09:12,360 --> 00:09:23,220
know is in the system like so we're

230
00:09:15,600 --> 00:09:25,920
gonna do some some stuff right so we're

231
00:09:23,220 --> 00:09:29,100
gonna take our light probe we're gonna

232
00:09:25,919 --> 00:09:32,240
do the the test casting here we don't

233
00:09:29,100 --> 00:09:37,320
care about the Vox Center P anymore

234
00:09:32,240 --> 00:09:39,509
right that's not a thing we do maybe

235
00:09:37,320 --> 00:09:43,310
want to do this stuff still so we'll see

236
00:09:39,509 --> 00:09:45,689
so this will maybe be probe P here right

237
00:09:43,309 --> 00:09:47,729
so we are gonna still do the rest of

238
00:09:45,690 --> 00:09:54,930
this stuff and maybe we even do all of

239
00:09:47,730 --> 00:09:58,710
this the same way right but but

240
00:09:54,929 --> 00:10:02,579
otherwise now and then yeah like in here

241
00:09:58,710 --> 00:10:04,410
our is test cast is probably not really

242
00:10:02,580 --> 00:10:07,080
gonna be able to do quite exactly what

243
00:10:04,409 --> 00:10:09,838
it was doing here but we probably do

244
00:10:07,080 --> 00:10:11,040
want an is test cast thing so I'm gonna

245
00:10:09,839 --> 00:10:14,220
get rid of these for now but I'm gonna

246
00:10:11,039 --> 00:10:16,379
leave that is test cast concept in place

247
00:10:14,220 --> 00:10:18,450
we're just gonna say it's not a test

248
00:10:16,379 --> 00:10:19,950
cast all the time and the future we're

249
00:10:18,450 --> 00:10:22,560
gonna do stuff like maybe isolate by

250
00:10:19,950 --> 00:10:24,960
index or by distance from the light

251
00:10:22,559 --> 00:10:26,519
source or who knows what so we're still

252
00:10:24,960 --> 00:10:28,500
gonna do this but now instead of Vox

253
00:10:26,519 --> 00:10:32,220
Center we're gonna be able to we're

254
00:10:28,500 --> 00:10:34,200
gonna do like probe P and ever gonna go

255
00:10:32,220 --> 00:10:37,160
through and do all this nonsense

256
00:10:34,200 --> 00:10:37,160
exactly the same

257
00:10:38,929 --> 00:10:45,179
and we're still gonna want to do all

258
00:10:40,889 --> 00:10:53,759
this don't ask you I didn't just search

259
00:10:45,179 --> 00:10:57,269
and replace that I didn't so here is our

260
00:10:53,759 --> 00:10:59,549
thing for ray casting the light probe

261
00:10:57,269 --> 00:11:01,169
and then we know you know what what we

262
00:10:59,549 --> 00:11:03,539
actually think the light probe did and

263
00:11:01,169 --> 00:11:05,099
then when we get into here we can still

264
00:11:03,539 --> 00:11:10,769
compute all this stuff effectively the

265
00:11:05,100 --> 00:11:12,360
same way but then the problem that we're

266
00:11:10,769 --> 00:11:13,679
gonna have and the part that's the

267
00:11:12,360 --> 00:11:15,960
actual new code that we have to write

268
00:11:13,679 --> 00:11:17,879
because the probe P will be very easy

269
00:11:15,960 --> 00:11:22,350
for us to compute right we know that the

270
00:11:17,879 --> 00:11:25,230
probe P is really trivial because we

271
00:11:22,350 --> 00:11:26,730
have an array of probe P's so if we look

272
00:11:25,230 --> 00:11:29,970
at what's happening here right it's just

273
00:11:26,730 --> 00:11:34,320
that for whichever one of these things

274
00:11:29,970 --> 00:11:36,720
were looking at so we can pretty much

275
00:11:34,320 --> 00:11:39,720
run the exact same ray casting code to

276
00:11:36,720 --> 00:11:41,220
Ray cast from each one of those probes

277
00:11:39,720 --> 00:11:43,200
and the problem that we're gonna have at

278
00:11:41,220 --> 00:11:46,710
that point is just we don't know what to

279
00:11:43,200 --> 00:11:49,320
do with this so the x y&amp;z locations

280
00:11:46,710 --> 00:11:52,019
inside the voxel that pertained in this

281
00:11:49,320 --> 00:11:55,110
particular probe we have absolutely no

282
00:11:52,019 --> 00:12:00,990
idea what the heck would actually be

283
00:11:55,110 --> 00:12:02,570
here right so we don't know the answer

284
00:12:00,990 --> 00:12:04,320
to this particular question and

285
00:12:02,570 --> 00:12:05,820
furthermore there's a couple other

286
00:12:04,320 --> 00:12:07,590
things that we don't really know so if

287
00:12:05,820 --> 00:12:09,000
you take a look in here there's I mean

288
00:12:07,590 --> 00:12:10,230
not don't really know but there's some

289
00:12:09,000 --> 00:12:12,029
other things that we might not really

290
00:12:10,230 --> 00:12:14,279
want to have happen so for example if

291
00:12:12,029 --> 00:12:17,100
you take a look here there's the light

292
00:12:14,279 --> 00:12:18,659
normal which is this thing but if we're

293
00:12:17,100 --> 00:12:20,730
imagining that these lights have like a

294
00:12:18,659 --> 00:12:22,139
radial fall off or anything else that we

295
00:12:20,730 --> 00:12:28,710
might want to including into the

296
00:12:22,139 --> 00:12:30,000
lighting computation that takes distance

297
00:12:28,710 --> 00:12:31,410
into account when I say lighting of

298
00:12:30,000 --> 00:12:32,789
course here I mean artistic lighting

299
00:12:31,409 --> 00:12:35,939
this has nothing to do with real light

300
00:12:32,789 --> 00:12:38,699
real light doesn't really have distance

301
00:12:35,940 --> 00:12:40,590
fall-off what it has instead is an

302
00:12:38,700 --> 00:12:42,840
inverse square law that has to do with

303
00:12:40,590 --> 00:12:45,570
the diffuse reflection and that's just

304
00:12:42,840 --> 00:12:47,040
based on how the photons spread across

305
00:12:45,570 --> 00:12:49,500
whatever is going to bounce off of

306
00:12:47,039 --> 00:12:51,929
so technically for a specular reflection

307
00:12:49,500 --> 00:12:53,190
there would be no distance fall-off for

308
00:12:51,929 --> 00:12:56,819
a diffuse reflection derby

309
00:12:53,190 --> 00:12:58,380
inverse-square fall-off this game is not

310
00:12:56,820 --> 00:13:00,120
about simulating realistic light so

311
00:12:58,379 --> 00:13:02,399
we're probably gonna want what would

312
00:13:00,120 --> 00:13:03,450
amount to be a programmable fall-off

313
00:13:02,399 --> 00:13:05,159
right we're probably going to want to

314
00:13:03,450 --> 00:13:08,430
have something that an artist Tunes or

315
00:13:05,159 --> 00:13:10,649
in this case we're gonna tune it and so

316
00:13:08,429 --> 00:13:16,069
on and so what we want to do here is we

317
00:13:10,649 --> 00:13:19,470
want to go and we want to basically

318
00:13:16,070 --> 00:13:21,839
produce something usable not something

319
00:13:19,470 --> 00:13:23,370
physical right so we don't care too much

320
00:13:21,839 --> 00:13:25,470
about physical stimulation of the light

321
00:13:23,370 --> 00:13:27,990
here what we care about is us getting

322
00:13:25,470 --> 00:13:30,089
good results out of it so we do want

323
00:13:27,990 --> 00:13:31,409
some fall-off equation in there we don't

324
00:13:30,089 --> 00:13:33,390
necessarily know what it is but what we

325
00:13:31,409 --> 00:13:34,919
do know is that if we're putting an

326
00:13:33,389 --> 00:13:38,490
interpolator down at a particular point

327
00:13:34,919 --> 00:13:41,729
we probably want this distance function

328
00:13:38,490 --> 00:13:46,680
here that we're using to be based

329
00:13:41,730 --> 00:13:49,709
instead on something based on the voxel

330
00:13:46,679 --> 00:13:51,838
center we right - even though we're ray

331
00:13:49,708 --> 00:13:53,549
casting from a different location right

332
00:13:51,839 --> 00:13:55,980
which I realize is a little bit weird

333
00:13:53,549 --> 00:13:58,409
but so things like the light normal

334
00:13:55,980 --> 00:14:00,810
might want to be recomputed

335
00:13:58,409 --> 00:14:04,969
if that makes sense and things like this

336
00:14:00,809 --> 00:14:07,979
light d/f maybe want to be recomputed so

337
00:14:04,970 --> 00:14:11,700
there's that right so I'm going to

338
00:14:07,980 --> 00:14:13,950
change this around a little bit and do

339
00:14:11,700 --> 00:14:15,959
it slightly differently in the future

340
00:14:13,950 --> 00:14:19,110
what we're gonna do here is we're gonna

341
00:14:15,958 --> 00:14:21,028
move this down here right and this stuff

342
00:14:19,110 --> 00:14:24,149
is going to be computed in in probably a

343
00:14:21,028 --> 00:14:30,689
very different way and we're maybe gonna

344
00:14:24,149 --> 00:14:33,449
use the shadow as a boolean to like

345
00:14:30,690 --> 00:14:35,490
modify it or something right so we're

346
00:14:33,450 --> 00:14:38,520
gonna just get yourself in the mindset

347
00:14:35,490 --> 00:14:41,100
of what we output to the voxel maybe

348
00:14:38,519 --> 00:14:44,278
computed at voxel centers to improve our

349
00:14:41,100 --> 00:14:46,139
interpolation quality even though the

350
00:14:44,278 --> 00:14:48,208
Ray casting that we do that controls

351
00:14:46,139 --> 00:14:52,169
whether or not things were shadowed is

352
00:14:48,208 --> 00:14:53,819
not going to work that way right so

353
00:14:52,169 --> 00:14:56,549
these are gonna be separate things and

354
00:14:53,820 --> 00:14:58,770
so if we take a look at light end here I

355
00:14:56,549 --> 00:15:02,399
probably want to separate this stuff out

356
00:14:58,769 --> 00:15:02,759
again like I was saying so this stuff

357
00:15:02,399 --> 00:15:04,350
might

358
00:15:02,759 --> 00:15:06,419
come down here and be computed in a

359
00:15:04,350 --> 00:15:09,180
different way so we would compute the

360
00:15:06,419 --> 00:15:11,279
light end and this probe P here might

361
00:15:09,179 --> 00:15:13,529
actually be Vox entropy still right so

362
00:15:11,279 --> 00:15:15,480
this might happen the same way and this

363
00:15:13,529 --> 00:15:17,850
stuff might be based completely

364
00:15:15,480 --> 00:15:19,889
differently so for example we don't need

365
00:15:17,850 --> 00:15:21,720
to normalize this here because the light

366
00:15:19,889 --> 00:15:25,379
well actually no we do we do

367
00:15:21,720 --> 00:15:27,090
nevermind that's happening here right so

368
00:15:25,379 --> 00:15:28,980
we do want to compute this stuff and

369
00:15:27,090 --> 00:15:30,930
then we want to stuff the voxel here and

370
00:15:28,980 --> 00:15:33,240
this is going to be inside some kind of

371
00:15:30,929 --> 00:15:34,769
a thing that works with the foxhole but

372
00:15:33,240 --> 00:15:36,629
what we're actually gonna do for the

373
00:15:34,769 --> 00:15:38,970
casting is we're gonna have a separate

374
00:15:36,629 --> 00:15:40,620
set of things so here we've got the

375
00:15:38,970 --> 00:15:42,779
probe P which is not going to be about

376
00:15:40,620 --> 00:15:45,419
the voxel Center we're gonna have the

377
00:15:42,779 --> 00:15:48,299
like you know the cast Direction or

378
00:15:45,419 --> 00:15:50,339
something happening here and I don't

379
00:15:48,299 --> 00:15:52,199
actually know if there's any reason why

380
00:15:50,340 --> 00:15:54,000
that have to be normalized or completely

381
00:15:52,200 --> 00:15:55,500
honest with you I don't think that it

382
00:15:54,000 --> 00:15:57,929
does since we're not actually doing

383
00:15:55,500 --> 00:15:59,909
something there I may normalize it here

384
00:15:57,929 --> 00:16:02,370
just to start with but we'll probably

385
00:15:59,909 --> 00:16:05,850
pull that out and the light distance

386
00:16:02,370 --> 00:16:07,289
stuff here is really just to figure out

387
00:16:05,850 --> 00:16:09,060
whether we could anything and we

388
00:16:07,289 --> 00:16:11,969
wouldn't really need the length we could

389
00:16:09,059 --> 00:16:13,859
just take the inner product right so we

390
00:16:11,970 --> 00:16:15,360
can do a lot of stuff here that would

391
00:16:13,860 --> 00:16:18,509
make this cleaner than it's going to be

392
00:16:15,360 --> 00:16:21,509
right now or not cleaner but simpler

393
00:16:18,509 --> 00:16:23,700
faster we just don't care about that at

394
00:16:21,509 --> 00:16:25,980
the moment right so what we want to do

395
00:16:23,700 --> 00:16:28,950
here is say like you know this is

396
00:16:25,980 --> 00:16:31,370
basically a teen max value so when we

397
00:16:28,950 --> 00:16:31,370
take this

398
00:16:34,620 --> 00:16:38,100
when we take all this stuff we're really

399
00:16:36,299 --> 00:16:39,990
producing here as a team maxvalue when

400
00:16:38,100 --> 00:16:43,740
we come through here and we place the

401
00:16:39,990 --> 00:16:45,419
task D in there and maybe these should

402
00:16:43,740 --> 00:16:48,750
be written the other way maybe I should

403
00:16:45,419 --> 00:16:54,209
write this as like that right so this is

404
00:16:48,750 --> 00:16:58,559
the casting location so we have a place

405
00:16:54,210 --> 00:17:00,870
for casting from this is the place for

406
00:16:58,559 --> 00:17:03,119
casting to and this is the direction

407
00:17:00,870 --> 00:17:04,380
that we need to cast in right so then we

408
00:17:03,120 --> 00:17:06,420
come down and we're going to do our ray

409
00:17:04,380 --> 00:17:10,140
casting we have our probe p4 and our

410
00:17:06,420 --> 00:17:14,250
light n for this is going to be cast P

411
00:17:10,140 --> 00:17:15,449
this is going to be cast D and after

412
00:17:14,250 --> 00:17:17,430
we're done with that we get back our

413
00:17:15,449 --> 00:17:19,650
cast result this is going to be our

414
00:17:17,430 --> 00:17:21,539
maximum which is how far it took to get

415
00:17:19,650 --> 00:17:23,880
to the light source that's going to tell

416
00:17:21,539 --> 00:17:25,818
us whether or not we hit anything from

417
00:17:23,880 --> 00:17:29,400
then on out we're using the cast

418
00:17:25,818 --> 00:17:31,109
location to recompute this here this is

419
00:17:29,400 --> 00:17:33,450
if we didn't hit and we want to draw the

420
00:17:31,109 --> 00:17:35,699
thing anyway

421
00:17:33,450 --> 00:17:37,620
in fact this though you could just use

422
00:17:35,700 --> 00:17:38,340
the light piece so I'm not sure why we

423
00:17:37,619 --> 00:17:39,989
did that

424
00:17:38,339 --> 00:17:41,819
exactly but probably just for further

425
00:17:39,990 --> 00:17:43,170
testing the cases right but you can see

426
00:17:41,819 --> 00:17:45,710
that we wouldn't actually have to do

427
00:17:43,170 --> 00:17:45,710
that right

428
00:17:51,059 --> 00:18:08,129
this is not Casspi this is like result P

429
00:17:57,349 --> 00:18:10,079
right or hit P area hit P right so that

430
00:18:08,130 --> 00:18:13,950
produces the hit P that we actually want

431
00:18:10,079 --> 00:18:19,309
to use and then from here we would just

432
00:18:13,950 --> 00:18:28,049
yet this would all be cast P cast pig

433
00:18:19,309 --> 00:18:29,639
casting so that keeps that that keeps

434
00:18:28,049 --> 00:18:33,269
that piece of code is sort of doing

435
00:18:29,640 --> 00:18:35,520
something in a separate way this light

436
00:18:33,269 --> 00:18:37,920
end light c0 stuff that's going to get

437
00:18:35,519 --> 00:18:41,329
computed kind of down here instead so

438
00:18:37,920 --> 00:18:41,330
that's just going to be this stuff

439
00:18:45,690 --> 00:18:50,279
and now I think we've sort of cleaned

440
00:18:48,509 --> 00:18:52,079
ourselves up to the point where we could

441
00:18:50,279 --> 00:18:56,490
call with something right this is gonna

442
00:18:52,079 --> 00:18:57,869
be like test cast from probes right and

443
00:18:56,490 --> 00:19:02,150
we're gonna want to pass the lighting

444
00:18:57,869 --> 00:19:02,149
solution in here like so

445
00:19:03,720 --> 00:19:15,269
and then we're gonna have a few problems

446
00:19:05,460 --> 00:19:21,539
we also need the commands there so this

447
00:19:15,269 --> 00:19:23,910
stuff oh wait no we don't that already

448
00:19:21,539 --> 00:19:25,619
got it signed so all we really need now

449
00:19:23,910 --> 00:19:27,060
is to just to deal with the voxel stuff

450
00:19:25,619 --> 00:19:31,019
which is not going to be correct right

451
00:19:27,059 --> 00:19:32,759
oh and of course the light piece so that

452
00:19:31,019 --> 00:19:34,349
actually is a debug thing that we're

453
00:19:32,759 --> 00:19:37,079
specifying so that kind of has to come

454
00:19:34,349 --> 00:19:39,089
in to the equation I think it's just

455
00:19:37,079 --> 00:19:44,069
debug light P that we don't really

456
00:19:39,089 --> 00:19:46,169
adulterer that at all I don't think yeah

457
00:19:44,069 --> 00:19:47,399
so we don't really change that so I'm

458
00:19:46,170 --> 00:19:49,200
just gonna go ahead and say that that's

459
00:19:47,400 --> 00:19:54,500
just something we pull out here so okay

460
00:19:49,200 --> 00:19:54,500
that's the like test casting direction

461
00:19:55,309 --> 00:20:00,179
and then we have to have the dummy work

462
00:19:58,920 --> 00:20:02,070
order because we're not actually

463
00:20:00,180 --> 00:20:05,070
multi-threading this yet so we're really

464
00:20:02,069 --> 00:20:07,230
just doing sort of a nonsense rate cast

465
00:20:05,069 --> 00:20:08,700
version but because the ray caster is

466
00:20:07,230 --> 00:20:12,660
set up to run on multiple threads

467
00:20:08,700 --> 00:20:17,700
it needs some dummy work value to make

468
00:20:12,660 --> 00:20:19,830
it go all right so now if we clean up

469
00:20:17,700 --> 00:20:21,720
what we've got here this light this

470
00:20:19,829 --> 00:20:23,339
thing here this just Tmax is what I

471
00:20:21,720 --> 00:20:26,819
decided to call that when we actually do

472
00:20:23,339 --> 00:20:29,250
this stuff here this Vox entropy is what

473
00:20:26,819 --> 00:20:31,769
we now need to figure out and

474
00:20:29,250 --> 00:20:34,230
furthermore we actually need you know

475
00:20:31,769 --> 00:20:36,660
this stuff to work as well I think that

476
00:20:34,230 --> 00:20:38,519
though gets us down now to where we

477
00:20:36,660 --> 00:20:40,500
actually want to be the rest of the

478
00:20:38,519 --> 00:20:47,250
stuff is stuff we now have to actually

479
00:20:40,500 --> 00:20:50,880
fix and if we go and call this now we

480
00:20:47,250 --> 00:20:54,839
can insert that call right here where we

481
00:20:50,880 --> 00:20:56,580
were doing it before I also don't think

482
00:20:54,839 --> 00:20:57,139
this needs to be here because no one's

483
00:20:56,579 --> 00:21:00,289
break

484
00:20:57,140 --> 00:21:02,480
anymore so we should be able to just

485
00:21:00,289 --> 00:21:04,460
have now an entirely functional program

486
00:21:02,480 --> 00:21:08,240
that just needs some way of spreading

487
00:21:04,460 --> 00:21:09,620
this information out to nearby voxels

488
00:21:08,240 --> 00:21:15,740
and so that's the next thing that we

489
00:21:09,619 --> 00:21:18,379
have to do so well yeah so in order to

490
00:21:15,740 --> 00:21:20,630
do that we now need some way of figuring

491
00:21:18,380 --> 00:21:23,720
out where one of these things actually

492
00:21:20,630 --> 00:21:26,000
is right and if you look at our spatial

493
00:21:23,720 --> 00:21:27,950
index nonsense that we had before you

494
00:21:26,000 --> 00:21:32,329
know we sort of had ways of doing that

495
00:21:27,950 --> 00:21:33,950
we could say you know this this is

496
00:21:32,329 --> 00:21:36,460
exactly the sort of stuff we need where

497
00:21:33,950 --> 00:21:38,660
it's like tell me for a particular

498
00:21:36,460 --> 00:21:41,269
location you know where it was and we

499
00:21:38,660 --> 00:21:44,120
had a way to index into the voxel and

500
00:21:41,269 --> 00:21:46,548
all that good stuff right and that's

501
00:21:44,119 --> 00:21:49,489
pretty much what we actually need to do

502
00:21:46,548 --> 00:21:51,950
now is wreak you know this code is not

503
00:21:49,490 --> 00:21:53,870
necessary anymore we can delete all of

504
00:21:51,950 --> 00:21:56,990
it pretty much except for the mapping

505
00:21:53,869 --> 00:21:59,229
into the grid part right because this is

506
00:21:56,990 --> 00:22:02,210
exactly what we actually need to do now

507
00:21:59,230 --> 00:22:06,440
so what we want to do is have some way

508
00:22:02,210 --> 00:22:08,600
of reconstructing this part of the code

509
00:22:06,440 --> 00:22:11,720
that we sort of sketched out before but

510
00:22:08,599 --> 00:22:13,279
now using you know just our basic voxel

511
00:22:11,720 --> 00:22:16,279
information that we have and you can see

512
00:22:13,279 --> 00:22:19,339
we've got some information here about it

513
00:22:16,279 --> 00:22:21,319
like the enviros voxel cell dimension

514
00:22:19,339 --> 00:22:24,139
and stuff like that so we should be able

515
00:22:21,319 --> 00:22:26,269
to now have this go directly to the

516
00:22:24,140 --> 00:22:35,990
information that we need so let's say

517
00:22:26,269 --> 00:22:40,359
that we've got a v3 s here I don't know

518
00:22:35,990 --> 00:22:40,359
that we're gonna need that uvw

519
00:22:43,200 --> 00:22:50,910
I just don't think that's gonna be

520
00:22:49,259 --> 00:22:53,369
relevant because what we're gonna want

521
00:22:50,910 --> 00:22:58,070
to do is recompute the solutions at the

522
00:22:53,369 --> 00:22:58,069
voxel centers and just use the raycast

523
00:22:58,430 --> 00:23:12,200
so yeah anyway so what I want to do here

524
00:23:08,910 --> 00:23:15,150
is say look here's a lighting solution

525
00:23:12,200 --> 00:23:17,009
here's the p value that's like some

526
00:23:15,150 --> 00:23:20,310
point in space just any world space

527
00:23:17,009 --> 00:23:21,960
point detect a let's call it world P and

528
00:23:20,309 --> 00:23:25,710
what I want to do now is I want this

529
00:23:21,960 --> 00:23:27,960
thing to produce using this information

530
00:23:25,710 --> 00:23:29,789
right I want this thing to produce we're

531
00:23:27,960 --> 00:23:33,380
in the voxel this raycast

532
00:23:29,789 --> 00:23:37,319
actually is right so when we do that

533
00:23:33,380 --> 00:23:39,300
what we need to do is we need to do

534
00:23:37,319 --> 00:23:40,409
exactly the same steps the first thing

535
00:23:39,299 --> 00:23:43,619
we need to do is get the floating-point

536
00:23:40,410 --> 00:23:45,750
coordinates of this thing and to do that

537
00:23:43,619 --> 00:23:51,719
we need the inverse cell dimension which

538
00:23:45,750 --> 00:23:54,750
we have right and then we need to you

539
00:23:51,720 --> 00:23:56,880
know we've got how big the cells are but

540
00:23:54,750 --> 00:23:58,500
we need the corner to start so that

541
00:23:56,880 --> 00:24:00,150
we're relative to the box in the first

542
00:23:58,500 --> 00:24:04,109
place so we need to take the world

543
00:24:00,150 --> 00:24:09,570
position and we need to take the the the

544
00:24:04,109 --> 00:24:12,419
world corner of our voxel and now we've

545
00:24:09,569 --> 00:24:14,129
mapped it into that space right we

546
00:24:12,420 --> 00:24:16,920
didn't take the floor and that gives us

547
00:24:14,130 --> 00:24:19,470
the actual coordinates we don't care

548
00:24:16,920 --> 00:24:22,190
about this at all right this is just not

549
00:24:19,470 --> 00:24:22,190
relevant to us

550
00:24:27,150 --> 00:24:33,490
not sure what that means exactly that Oh

551
00:24:31,150 --> 00:24:34,900
because yeah sure and so then what we

552
00:24:33,490 --> 00:24:37,750
need to do is we need to clamp the

553
00:24:34,900 --> 00:24:39,730
results so that we're always snapped

554
00:24:37,750 --> 00:24:41,410
into the voxel even for things that are

555
00:24:39,730 --> 00:24:45,190
outside the voxel oh because we don't

556
00:24:41,410 --> 00:24:47,200
want to ever have a bad look up right so

557
00:24:45,190 --> 00:24:50,140
in order to clamp it we take our cell

558
00:24:47,200 --> 00:24:53,769
cords right and these are just going to

559
00:24:50,140 --> 00:25:03,370
be that in fact we could just call it

560
00:24:53,769 --> 00:25:04,869
that and these coordinates that we

561
00:25:03,369 --> 00:25:06,548
actually produce like they can be

562
00:25:04,869 --> 00:25:08,229
negative now so we need to clamp them

563
00:25:06,548 --> 00:25:11,220
and they also could be greater than the

564
00:25:08,230 --> 00:25:14,860
maximum value so we need to clamp these

565
00:25:11,220 --> 00:25:17,440
to what the actual values can be and in

566
00:25:14,859 --> 00:25:20,709
order to do that we need to know like

567
00:25:17,440 --> 00:25:23,380
what the maximum size of our voxel is

568
00:25:20,710 --> 00:25:26,769
and we have that here right it's this

569
00:25:23,380 --> 00:25:34,840
value so we just need to say oh well you

570
00:25:26,769 --> 00:25:38,529
know however big the voxel is that's

571
00:25:34,839 --> 00:25:40,000
what it you know has to clamp to once we

572
00:25:38,529 --> 00:25:42,160
have that information we can look up

573
00:25:40,000 --> 00:25:44,650
into the voxel using this and find out

574
00:25:42,160 --> 00:25:46,750
exactly what's in there at that point

575
00:25:44,650 --> 00:25:48,850
and so we kind of now have the ability

576
00:25:46,750 --> 00:25:51,160
to do exactly what we wanted to do in

577
00:25:48,849 --> 00:25:52,959
the inverse mapping so taking a point

578
00:25:51,160 --> 00:25:55,779
and finding out which voxel it

579
00:25:52,960 --> 00:25:57,970
corresponds to so we've got that what we

580
00:25:55,779 --> 00:26:00,849
don't have is the opposite so some way

581
00:25:57,970 --> 00:26:02,019
of taking a voxel when we're going to

582
00:26:00,849 --> 00:26:04,298
want this right to find out what the

583
00:26:02,019 --> 00:26:07,000
voxel center is so what we want to do is

584
00:26:04,298 --> 00:26:09,069
have some reverse of this which is like

585
00:26:07,000 --> 00:26:11,289
get voxel Center P or something like

586
00:26:09,069 --> 00:26:16,178
that that takes the lighting solution

587
00:26:11,289 --> 00:26:18,690
and one of the indexes and then produces

588
00:26:16,179 --> 00:26:23,740
the center point of the voxel from that

589
00:26:18,690 --> 00:26:27,669
so in order to do that we need to do

590
00:26:23,740 --> 00:26:31,569
exactly the opposite right so this exact

591
00:26:27,669 --> 00:26:33,840
thing has to go in reverse right we have

592
00:26:31,569 --> 00:26:37,418
to take the voxel cell dimension and

593
00:26:33,839 --> 00:26:39,009
multiply it by the index here right and

594
00:26:37,419 --> 00:26:43,090
so this has to get lofted

595
00:26:39,009 --> 00:26:45,579
- a v3 that makes our space out

596
00:26:43,089 --> 00:26:48,220
correctly to be spaced the amount that

597
00:26:45,579 --> 00:26:53,529
the voxel cell dim is right and then we

598
00:26:48,220 --> 00:26:56,829
need to add the minimum corner into it

599
00:26:53,529 --> 00:26:58,839
now that'll give us the corner of the

600
00:26:56,829 --> 00:27:02,019
voxel but if we actually want to know

601
00:26:58,839 --> 00:27:05,139
the center of the voxel we need to add

602
00:27:02,019 --> 00:27:09,309
an offset right so in addition to doing

603
00:27:05,140 --> 00:27:12,250
the Hadamard product on the you know

604
00:27:09,309 --> 00:27:16,480
hole indices we kind of want an offset

605
00:27:12,250 --> 00:27:18,990
here of half of the index value so that

606
00:27:16,480 --> 00:27:22,210
we get to the middle of the voxel

607
00:27:18,990 --> 00:27:24,730
instead of the corner this gives us a

608
00:27:22,210 --> 00:27:27,130
way to go in and out of voxel space

609
00:27:24,730 --> 00:27:32,289
pretty cleanly so this should allow us

610
00:27:27,130 --> 00:27:35,440
to do a basic fill of our voxel grid to

611
00:27:32,289 --> 00:27:38,319
start with right so we're gonna we're

612
00:27:35,440 --> 00:27:42,490
gonna do just some basic work with that

613
00:27:38,319 --> 00:27:45,639
now in here this provides us our ability

614
00:27:42,490 --> 00:27:48,069
to solve this problem here not knowing

615
00:27:45,640 --> 00:27:49,720
with the x y&amp;z are so what I should be

616
00:27:48,069 --> 00:27:52,329
able to do at the start here is say

617
00:27:49,720 --> 00:27:56,170
alright let's find out what the voxel

618
00:27:52,329 --> 00:28:00,789
center is and the coordinates so here's

619
00:27:56,170 --> 00:28:10,990
the voxel let's call this box will index

620
00:28:00,789 --> 00:28:12,700
or box I may be so for the cast P this

621
00:28:10,990 --> 00:28:16,980
is the location we cast from this is the

622
00:28:12,700 --> 00:28:16,980
voxel right and so then the box entropy

623
00:28:22,180 --> 00:28:27,320
it's just to look up on that so now when

624
00:28:26,058 --> 00:28:30,889
we do this we have all the information

625
00:28:27,319 --> 00:28:36,169
we need so this now instead of z Y X is

626
00:28:30,890 --> 00:28:45,530
gonna be just Vox I dot Z right box I

627
00:28:36,170 --> 00:28:47,330
got Y Vox I got X now we can't choose to

628
00:28:45,529 --> 00:28:50,660
do some other things here we can choose

629
00:28:47,329 --> 00:28:53,389
if we want to this get voxel index we

630
00:28:50,660 --> 00:28:54,980
could actually change this and you know

631
00:28:53,390 --> 00:28:57,170
maybe we should I don't know exactly we

632
00:28:54,980 --> 00:28:59,360
want to do this but we can do here is

633
00:28:57,170 --> 00:29:01,880
say if we wanted to we could make this

634
00:28:59,359 --> 00:29:05,629
so that this thing would not record

635
00:29:01,880 --> 00:29:08,900
results for people outside of the usable

636
00:29:05,630 --> 00:29:10,760
area right in other words if we wanted

637
00:29:08,900 --> 00:29:12,650
to we could make it so that only like

638
00:29:10,759 --> 00:29:14,990
the hot region was considered or

639
00:29:12,650 --> 00:29:17,929
whatever else we want so we can pretty

640
00:29:14,990 --> 00:29:19,190
easily put an if in here and limit it at

641
00:29:17,929 --> 00:29:21,650
the moment I'm not gonna do that because

642
00:29:19,190 --> 00:29:22,820
I don't really care but when we actually

643
00:29:21,650 --> 00:29:23,990
started to think about this for real

644
00:29:22,819 --> 00:29:25,159
there's gonna be other things we're

645
00:29:23,990 --> 00:29:30,319
gonna want to do there that are not the

646
00:29:25,160 --> 00:29:32,210
same alright so now we've actually got

647
00:29:30,319 --> 00:29:34,879
this coded it's probably totally wrong

648
00:29:32,210 --> 00:29:37,670
but at least we can start getting things

649
00:29:34,880 --> 00:29:40,670
going here right so let's see what

650
00:29:37,670 --> 00:29:42,289
happens there okay so off we go right

651
00:29:40,670 --> 00:29:44,720
and you can see we've got some weird

652
00:29:42,289 --> 00:29:47,779
stuff happening here but oddly enough

653
00:29:44,720 --> 00:29:51,140
it's not totally wrong so it's sort of

654
00:29:47,779 --> 00:29:54,259
doing something at the moment and it's

655
00:29:51,140 --> 00:29:56,270
actually producing a little bounded

656
00:29:54,259 --> 00:29:59,179
light thing which is pretty great right

657
00:29:56,269 --> 00:30:01,609
so we're we're off to a start if not

658
00:29:59,179 --> 00:30:04,040
particularly good start but that's

659
00:30:01,609 --> 00:30:08,599
totally fine right it's our job to now

660
00:30:04,039 --> 00:30:12,500
kind of get get this get this into some

661
00:30:08,599 --> 00:30:14,558
better shape right so we'd take a look

662
00:30:12,500 --> 00:30:17,509
at like what we're seeing here you know

663
00:30:14,558 --> 00:30:18,619
there's there's enough like curiosity in

664
00:30:17,509 --> 00:30:19,940
any one of these there's enough

665
00:30:18,619 --> 00:30:22,159
weirdness like you can see there's like

666
00:30:19,940 --> 00:30:23,870
kind of weird like hard lines going

667
00:30:22,160 --> 00:30:26,240
through that for no apparent reason like

668
00:30:23,869 --> 00:30:28,459
what's that about I have no idea right

669
00:30:26,240 --> 00:30:31,370
and so we kind of want to start looking

670
00:30:28,460 --> 00:30:32,620
at the actual casting now and figuring

671
00:30:31,369 --> 00:30:35,049
out what we're getting

672
00:30:32,619 --> 00:30:36,909
and why we're seeing what we're seeing

673
00:30:35,049 --> 00:30:39,039
right and the first thing I want to do

674
00:30:36,910 --> 00:30:41,410
is find out like did I do any of this

675
00:30:39,039 --> 00:30:46,359
right at all like are any of these

676
00:30:41,410 --> 00:30:50,370
castes happening properly right so the

677
00:30:46,359 --> 00:30:52,959
first thing I'd like to do is take these

678
00:30:50,369 --> 00:30:57,279
these light probe casts that we're doing

679
00:30:52,960 --> 00:30:59,980
I'd like to go ahead and and just see if

680
00:30:57,279 --> 00:31:04,720
those casts look reasonable at all right

681
00:30:59,980 --> 00:31:08,789
so I'm gonna set is test case two one

682
00:31:04,720 --> 00:31:11,740
will probably need to restrict it more

683
00:31:08,789 --> 00:31:15,309
than we are currently in order to

684
00:31:11,740 --> 00:31:18,069
actually get usable results what I could

685
00:31:15,309 --> 00:31:20,470
do is take the distance from the light

686
00:31:18,069 --> 00:31:23,649
for example so this so I'll say like the

687
00:31:20,470 --> 00:31:27,579
test case is if T max is less than you

688
00:31:23,650 --> 00:31:30,220
know 10 or something then that's a test

689
00:31:27,579 --> 00:31:32,980
case anything greater than that is not

690
00:31:30,220 --> 00:31:34,990
right and so that's just me attempting

691
00:31:32,980 --> 00:31:36,880
to bound the number of things that would

692
00:31:34,990 --> 00:31:41,259
be considered test cases in this case

693
00:31:36,880 --> 00:31:44,020
and if I look now honestly it's a bit

694
00:31:41,259 --> 00:31:50,109
weird it seems like it's doing the

695
00:31:44,019 --> 00:31:53,769
opposite of what I asked for if the

696
00:31:50,109 --> 00:31:55,899
length of the cast is less than 10 how

697
00:31:53,769 --> 00:31:59,579
are these less than 10 but those aren't

698
00:31:55,900 --> 00:31:59,580
did I do something stranger

699
00:32:11,869 --> 00:32:20,609
might turn off that's a bit peculiar

700
00:32:17,430 --> 00:32:22,670
wouldn't you say I would have expected

701
00:32:20,609 --> 00:32:25,409
to see the exact opposite thing happen

702
00:32:22,670 --> 00:32:27,560
so I must be going a little bit crazy

703
00:32:25,410 --> 00:32:27,560
here

704
00:32:32,289 --> 00:32:35,190
oops

705
00:32:39,500 --> 00:32:54,140
I mean that's very strange Oh am I just

706
00:32:44,569 --> 00:32:57,710
not drawing things that don't hit yeah

707
00:32:54,140 --> 00:33:01,340
maybe that's all could be that's all

708
00:32:57,710 --> 00:33:09,769
that's happening all right let's take a

709
00:33:01,339 --> 00:33:11,509
look so it looks like I should be

710
00:33:09,769 --> 00:33:14,900
drawing things even if they don't hit

711
00:33:11,509 --> 00:33:16,339
right because here's hit right and we're

712
00:33:14,900 --> 00:33:18,048
setting the line color based on it but

713
00:33:16,339 --> 00:33:20,750
then I do do this

714
00:33:18,048 --> 00:33:23,900
I guess this part here may be wrong so

715
00:33:20,750 --> 00:33:30,169
hit P is T max times cast D

716
00:33:23,900 --> 00:33:32,840
oh yeah that's totally wrong that's

717
00:33:30,169 --> 00:33:35,259
that's the problem so no I was I was

718
00:33:32,839 --> 00:33:39,019
just coding poorly just coding poorly

719
00:33:35,259 --> 00:33:40,970
all right so here's our casting

720
00:33:39,019 --> 00:33:42,200
information and I'll be honest it looks

721
00:33:40,970 --> 00:33:46,519
great

722
00:33:42,200 --> 00:33:48,080
that looks exactly right to me I mean

723
00:33:46,519 --> 00:33:50,839
you can kind of see it connecting up to

724
00:33:48,079 --> 00:33:53,019
all the points we actually wanted to you

725
00:33:50,839 --> 00:33:56,629
can see that points that appear to be

726
00:33:53,019 --> 00:33:57,980
you know probes pros that are like in

727
00:33:56,630 --> 00:33:59,900
weird positions like I don't know what

728
00:33:57,980 --> 00:34:01,610
the heck that cast is doing down there

729
00:33:59,900 --> 00:34:05,019
if they're actually a light probe down

730
00:34:01,609 --> 00:34:05,019
there like what is that doing there I

731
00:34:05,619 --> 00:34:09,799
don't really want to know

732
00:34:07,519 --> 00:34:13,009
that seems busted I wonder if we have a

733
00:34:09,800 --> 00:34:14,929
bogus light probe that might just be

734
00:34:13,010 --> 00:34:16,879
like zero zero zero and we'll have to

735
00:34:14,929 --> 00:34:18,559
address that later but if you take a

736
00:34:16,878 --> 00:34:19,940
look at what's going on here I mean this

737
00:34:18,559 --> 00:34:21,320
looks great

738
00:34:19,940 --> 00:34:23,418
you can see like as I'm going through

739
00:34:21,320 --> 00:34:26,000
the store wake here you can look at the

740
00:34:23,418 --> 00:34:27,648
visibility of these light probes and you

741
00:34:26,000 --> 00:34:30,739
can see that like these are blocked by

742
00:34:27,648 --> 00:34:36,918
the door these are not right and so

743
00:34:30,739 --> 00:34:38,959
everybody is is very very consistent in

744
00:34:36,918 --> 00:34:40,730
my opinion even this one here who can

745
00:34:38,960 --> 00:34:45,199
just barely see over it you know that

746
00:34:40,730 --> 00:34:48,440
was correct right uh so that all seems

747
00:34:45,199 --> 00:34:51,500
pretty good to me so I'm gonna go ahead

748
00:34:48,440 --> 00:34:53,240
and say it looks like our voxel fill is

749
00:34:51,500 --> 00:34:54,800
really the only problem and they're mean

750
00:34:53,239 --> 00:34:56,838
really be a problem with it made us not

751
00:34:54,800 --> 00:34:58,849
be complete enough yet and I'll explain

752
00:34:56,838 --> 00:35:01,579
what I mean by that in a second

753
00:34:58,849 --> 00:35:04,490
what that means really what I kind of

754
00:35:01,579 --> 00:35:06,949
need to see is not the casting anymore

755
00:35:04,489 --> 00:35:09,649
the casting is not the important part

756
00:35:06,949 --> 00:35:13,460
it's the voxel flood so basically the

757
00:35:09,650 --> 00:35:16,160
thing that that fills this voxel in I

758
00:35:13,460 --> 00:35:20,420
want to know which voxels we're filling

759
00:35:16,159 --> 00:35:21,799
that's the important part now and so we

760
00:35:20,420 --> 00:35:25,510
kind of have to get that going a little

761
00:35:21,800 --> 00:35:25,510
bit more I don't know

762
00:35:37,130 --> 00:35:42,660
to be completely honest with you I also

763
00:35:39,179 --> 00:35:46,649
don't want a hundred percent know if

764
00:35:42,659 --> 00:35:49,619
this so we're using the cast starting

765
00:35:46,650 --> 00:35:52,470
location to produce the index which

766
00:35:49,619 --> 00:35:56,400
seems right to me we're then taking the

767
00:35:52,469 --> 00:35:59,489
the distance the light source distance

768
00:35:56,400 --> 00:36:03,240
from the voxel center and that all seems

769
00:35:59,489 --> 00:36:07,259
right and then we're just saying if we

770
00:36:03,239 --> 00:36:14,099
hit we don't fill it and that all seems

771
00:36:07,260 --> 00:36:15,720
right to me yeah yeah yeah so that all

772
00:36:14,099 --> 00:36:17,130
seems pretty good the only thing that

773
00:36:15,719 --> 00:36:19,289
we're not doing it right is these are

774
00:36:17,130 --> 00:36:21,059
these are need to be kind of weighted

775
00:36:19,289 --> 00:36:22,650
additions right these these need to be

776
00:36:21,059 --> 00:36:35,400
blended together and they're currently

777
00:36:22,650 --> 00:36:37,730
not being blended together right so the

778
00:36:35,400 --> 00:36:39,990
main thing that we're really not

779
00:36:37,730 --> 00:36:42,480
handling at the moment is the fact that

780
00:36:39,989 --> 00:36:44,489
we have multiple things writing into the

781
00:36:42,480 --> 00:36:45,719
same location and we're not doing

782
00:36:44,489 --> 00:36:46,769
anything about that I don't think that

783
00:36:45,719 --> 00:36:47,759
has anything to do with the problem

784
00:36:46,769 --> 00:36:48,840
we're looking at now but that is

785
00:36:47,760 --> 00:36:51,510
something that we're gonna have to do

786
00:36:48,840 --> 00:36:55,350
going forward all right so what I want

787
00:36:51,510 --> 00:36:59,970
to do now is we have in our ray caster a

788
00:36:55,349 --> 00:37:02,039
way of drawing a debug box right using

789
00:36:59,969 --> 00:37:05,399
using debug lines we can draw a debug

790
00:37:02,039 --> 00:37:08,070
box I don't really remember where I put

791
00:37:05,400 --> 00:37:11,160
that here it is so what I want to do is

792
00:37:08,070 --> 00:37:17,940
have that be this push debug line

793
00:37:11,159 --> 00:37:20,219
I want like internal void push debug box

794
00:37:17,940 --> 00:37:23,960
and what I want to do is just take this

795
00:37:20,219 --> 00:37:28,739
code this whole that nonsense here I

796
00:37:23,960 --> 00:37:31,019
want that to be callable elsewhere so

797
00:37:28,739 --> 00:37:34,409
that I can draw debug boxes in the debug

798
00:37:31,019 --> 00:37:36,210
system really easily right so this just

799
00:37:34,409 --> 00:37:42,929
needs the letting solution and then it

800
00:37:36,210 --> 00:37:46,340
needs box min box max and then it just

801
00:37:42,929 --> 00:37:46,339
needs a color value I think is all

802
00:37:47,050 --> 00:38:00,620
and then it draws the box right all

803
00:37:57,050 --> 00:38:04,340
right so the Box min/max in color here

804
00:38:00,619 --> 00:38:05,599
those kind of want to be extracted if

805
00:38:04,340 --> 00:38:08,030
you look at how they're being extracted

806
00:38:05,599 --> 00:38:09,349
here we kind of need to do an extract

807
00:38:08,030 --> 00:38:11,120
component on them so that we don't have

808
00:38:09,349 --> 00:38:13,610
to pass them but they can be passed as

809
00:38:11,119 --> 00:38:16,549
v3s and not as these sort of composite

810
00:38:13,610 --> 00:38:29,269
versions right so we want to do like a

811
00:38:16,550 --> 00:38:31,700
get component on these like that and

812
00:38:29,269 --> 00:38:35,000
then I think that should give us

813
00:38:31,699 --> 00:38:37,969
everything we need now this routine now

814
00:38:35,000 --> 00:38:38,420
needs to be like getting rid of the

815
00:38:37,969 --> 00:38:41,539
Docky

816
00:38:38,420 --> 00:38:47,420
right in fact I guess I can just sort of

817
00:38:41,539 --> 00:38:49,579
I think I can just yeah so I can just

818
00:38:47,420 --> 00:38:53,230
remove that entirely because it should

819
00:38:49,579 --> 00:38:53,230
just do that

820
00:38:54,079 --> 00:38:58,420
so now we can call that from anywhere as

821
00:38:56,269 --> 00:39:01,639
soon as I get rid of the compiler errors

822
00:38:58,420 --> 00:39:03,380
that there aren't any so now instead of

823
00:39:01,639 --> 00:39:05,389
just being able to draw boxes inside the

824
00:39:03,380 --> 00:39:08,150
raycast I can draw boxes anywhere it's

825
00:39:05,389 --> 00:39:10,400
exactly what I actually need now to to

826
00:39:08,150 --> 00:39:13,010
debug the next step which is the voxels

827
00:39:10,400 --> 00:39:14,539
sort of filling which may or may not be

828
00:39:13,010 --> 00:39:16,190
operating correctly right now it may be

829
00:39:14,539 --> 00:39:18,170
correct and just incomplete because we

830
00:39:16,190 --> 00:39:19,940
haven't like bloomed out to neighboring

831
00:39:18,170 --> 00:39:22,639
voxels which is something I need to be

832
00:39:19,940 --> 00:39:24,470
able to do but I want to just get the

833
00:39:22,639 --> 00:39:26,329
simple straightforward version and know

834
00:39:24,469 --> 00:39:29,419
that it's working properly first before

835
00:39:26,329 --> 00:39:31,340
we go down that road so the first thing

836
00:39:29,420 --> 00:39:32,869
I want to do yes just verify that we're

837
00:39:31,340 --> 00:39:36,980
filling the voxels that we think we're

838
00:39:32,869 --> 00:39:38,779
filling and so I'm gonna have an if test

839
00:39:36,980 --> 00:39:40,579
case around here and then I'm gonna draw

840
00:39:38,780 --> 00:39:43,880
it so in here I'm going to say like look

841
00:39:40,579 --> 00:39:45,230
if this is a test case so what are the

842
00:39:43,880 --> 00:39:48,670
ones that we were trying to do here I'm

843
00:39:45,230 --> 00:39:51,349
gonna push debug lines on for the box

844
00:39:48,670 --> 00:39:53,480
and I'm gonna use this right here so

845
00:39:51,349 --> 00:39:56,589
I've got my Vox Center P so I'm just

846
00:39:53,480 --> 00:39:56,590
gonna say like alright

847
00:40:07,739 --> 00:40:11,259
not sure what color I should draw this

848
00:40:09,760 --> 00:40:18,040
in but maybe you like something like

849
00:40:11,260 --> 00:40:20,110
this and if we look at what I'm doing

850
00:40:18,039 --> 00:40:22,809
here right all I'm trying to do is say

851
00:40:20,110 --> 00:40:24,700
when I break a storm eyes light probes

852
00:40:22,809 --> 00:40:27,219
show me which voxels are actually

853
00:40:24,699 --> 00:40:29,079
getting hit right because I want to make

854
00:40:27,219 --> 00:40:31,959
sure that that placement scheme is

855
00:40:29,079 --> 00:40:33,429
actually working so the box radius in

856
00:40:31,960 --> 00:40:36,420
this case is pretty easy for us to

857
00:40:33,429 --> 00:40:39,219
figure out right it's just the voxel dim

858
00:40:36,420 --> 00:40:40,690
/ - right

859
00:40:39,219 --> 00:40:42,639
that's all I have to do because I know

860
00:40:40,690 --> 00:40:44,559
that that's the radius of the box so

861
00:40:42,639 --> 00:40:46,389
that's from the center I would just go

862
00:40:44,559 --> 00:40:48,190
half in either direction and then that

863
00:40:46,389 --> 00:40:50,529
gives me my my box right

864
00:40:48,190 --> 00:40:51,490
it's completing about something that's

865
00:40:50,530 --> 00:40:55,870
true

866
00:40:51,489 --> 00:40:57,489
it's a v4 uh and so now I think we're

867
00:40:55,869 --> 00:41:00,460
good that should draw what I wanted it

868
00:40:57,489 --> 00:41:04,809
to draw and so let's go ahead and run

869
00:41:00,460 --> 00:41:07,539
that see it looks like maybe I'm

870
00:41:04,809 --> 00:41:13,269
overflowing maybe let's make this a

871
00:41:07,539 --> 00:41:15,250
little bit less sprawling I have a

872
00:41:13,269 --> 00:41:16,809
pretty small buffer for debug lines and

873
00:41:15,250 --> 00:41:19,800
not to mention the fact that we don't

874
00:41:16,809 --> 00:41:22,799
draw them particularly quickly so

875
00:41:19,800 --> 00:41:22,800
seriously

876
00:41:29,750 --> 00:41:33,420
is that really true do I have a

877
00:41:32,099 --> 00:41:36,110
different bug I wonder if I have a

878
00:41:33,420 --> 00:41:36,110
different bug here

879
00:41:46,199 --> 00:41:59,689
all right so let's start by saying t max

880
00:41:50,550 --> 00:41:59,690
listen to all right

881
00:42:08,619 --> 00:42:16,760
so somehow that seems to be creating a

882
00:42:13,210 --> 00:42:18,440
overflow really early and I feel like

883
00:42:16,760 --> 00:42:21,890
that means I've done something stupid

884
00:42:18,440 --> 00:42:34,068
because it really shouldn't I don't

885
00:42:21,889 --> 00:42:36,170
think that feels really wrong to me I

886
00:42:34,068 --> 00:42:40,550
feel like we need to take a look at that

887
00:42:36,170 --> 00:42:43,010
we're on my debug lines so I don't feel

888
00:42:40,550 --> 00:42:46,700
like we could possibly be drawing 4096

889
00:42:43,010 --> 00:42:49,900
debug lines there that didn't look that

890
00:42:46,699 --> 00:42:49,899
didn't look plausible to me

891
00:42:57,150 --> 00:43:03,480
I mean it's only like what 12 lines per

892
00:43:00,960 --> 00:43:06,630
box so I should be able to draw like

893
00:43:03,480 --> 00:43:09,710
easily a hundred boxes before anyone

894
00:43:06,630 --> 00:43:12,720
thinks anything weird is going on right

895
00:43:09,710 --> 00:43:16,588
so is there some weird thing happening

896
00:43:12,719 --> 00:43:17,788
there let's let's let me I want to take

897
00:43:16,588 --> 00:43:25,998
a look at this a little more carefully

898
00:43:17,789 --> 00:43:28,430
here oh hey Molly being the puss arrived

899
00:43:25,998 --> 00:43:30,719
she's just mousing around right now

900
00:43:28,429 --> 00:43:33,179
she's not doing nothing she's just like

901
00:43:30,719 --> 00:43:36,088
looking see what the status of the world

902
00:43:33,179 --> 00:43:40,618
is you know how cats like to patrol what

903
00:43:36,088 --> 00:43:43,528
you do in puss mm-hmm you want to help

904
00:43:40,619 --> 00:43:50,130
us debug the lighting you want to help

905
00:43:43,528 --> 00:43:52,528
us to bug the lighting at all do you you

906
00:43:50,130 --> 00:43:53,329
want to play with the paperclip what are

907
00:43:52,528 --> 00:43:55,440
you doing

908
00:43:53,329 --> 00:44:01,160
all right that's coffee you don't want

909
00:43:55,440 --> 00:44:04,950
that caffeine is bad for cats all right

910
00:44:01,159 --> 00:44:06,808
so yeah let me just run this in debug

911
00:44:04,949 --> 00:44:08,699
mode and and I want to see like what

912
00:44:06,809 --> 00:44:10,289
that crash is about because I don't

913
00:44:08,699 --> 00:44:13,048
really understand who is drawing so many

914
00:44:10,289 --> 00:44:14,789
lines here so first of all I wanted to

915
00:44:13,048 --> 00:44:16,619
verify that was a case but you can see

916
00:44:14,789 --> 00:44:18,989
that it is right so it's looking at says

917
00:44:16,619 --> 00:44:21,450
like the debug line count is less than

918
00:44:18,989 --> 00:44:24,659
the size of this thing right so if we

919
00:44:21,449 --> 00:44:26,699
look at the the debug line how many of

920
00:44:24,659 --> 00:44:29,639
these there are it looks like it

921
00:44:26,699 --> 00:44:33,719
actually got to 4096 and my question is

922
00:44:29,639 --> 00:44:37,288
you know how is it getting there given

923
00:44:33,719 --> 00:44:40,858
how little there actually is in theory

924
00:44:37,289 --> 00:44:44,489
of drawing these debug lines the number

925
00:44:40,858 --> 00:44:49,489
of debug lines we should be drawing is

926
00:44:44,489 --> 00:44:52,849
it's just not just not that high right

927
00:44:49,489 --> 00:44:55,769
so I'm a little confused about that and

928
00:44:52,849 --> 00:44:57,749
in theory the debug line count should

929
00:44:55,768 --> 00:45:02,508
have been set to zero here so like if we

930
00:44:57,748 --> 00:45:02,509
actually kind of go through here

931
00:45:03,920 --> 00:45:15,548
I want to see

932
00:45:17,289 --> 00:45:28,059
that value specifically so coming into

933
00:45:25,989 --> 00:45:31,269
this routine we have not drawn anything

934
00:45:28,059 --> 00:45:35,349
and so presumably just just running that

935
00:45:31,269 --> 00:45:36,880
is enough to draw 4,096 lines now what's

936
00:45:35,349 --> 00:45:38,559
weird about that is it just didn't seem

937
00:45:36,880 --> 00:45:40,210
like there were but maybe there actually

938
00:45:38,559 --> 00:45:43,480
are I'm gonna go ahead and up that

939
00:45:40,210 --> 00:45:46,960
number just because that's really true

940
00:45:43,480 --> 00:45:48,670
we just need more of them and yeah maybe

941
00:45:46,960 --> 00:45:50,849
it'll bog down our renderer hugely and

942
00:45:48,670 --> 00:46:03,409
it's a disaster but you know what

943
00:45:50,849 --> 00:46:09,118
not my problem all right

944
00:46:03,409 --> 00:46:11,879
so let's see here is supposedly us

945
00:46:09,119 --> 00:46:17,460
drawing 4096 lines that seems totally

946
00:46:11,880 --> 00:46:20,970
crazy to me I mean I guess each one of

947
00:46:17,460 --> 00:46:26,579
these is three and each one of these is

948
00:46:20,969 --> 00:46:28,799
12 but like seriously what do you do

949
00:46:26,579 --> 00:46:41,430
push debug lines is it somehow like add

950
00:46:28,800 --> 00:46:43,318
more than it should all right I'm gonna

951
00:46:41,429 --> 00:46:44,149
do one more check cuz it just doesn't

952
00:46:43,318 --> 00:46:46,769
look right

953
00:46:44,150 --> 00:46:48,740
doesn't look like there's 4096 lines

954
00:46:46,769 --> 00:46:54,119
even with those multiples in there

955
00:46:48,739 --> 00:46:56,699
doesn't feel right to me I mean to be

956
00:46:54,119 --> 00:47:00,180
fair drawing the same box on top of

957
00:46:56,699 --> 00:47:02,368
itself multiple times would you know

958
00:47:00,179 --> 00:47:06,348
increase the count and we are doing that

959
00:47:02,369 --> 00:47:10,920
but like 12 times

960
00:47:06,349 --> 00:47:12,298
you know what 2 300 would have to be

961
00:47:10,920 --> 00:47:14,700
before we really were able to get up

962
00:47:12,298 --> 00:47:15,869
that high it just doesn't seem right so

963
00:47:14,699 --> 00:47:17,669
much watch check to make sure there's

964
00:47:15,869 --> 00:47:20,210
nothing else weird going on this is me

965
00:47:17,670 --> 00:47:20,210
just being paranoid

966
00:47:23,389 --> 00:47:27,940
but sometimes when programming it pays

967
00:47:25,369 --> 00:47:27,940
to be paranoid

968
00:47:57,880 --> 00:48:13,880
hmm that's a little suspicious don't you

969
00:48:02,719 --> 00:48:15,379
think are we doing something where we

970
00:48:13,880 --> 00:48:19,030
have like a ton of light probes that are

971
00:48:15,380 --> 00:48:19,030
all set to the same value or something

972
00:48:19,269 --> 00:48:32,809
yeah that is exactly what's happening so

973
00:48:30,920 --> 00:48:35,539
this could also be just because the

974
00:48:32,809 --> 00:48:40,279
light probe stuff is putting the things

975
00:48:35,539 --> 00:48:46,699
in there at particular locations so

976
00:48:40,280 --> 00:48:49,190
that's what's happening so here's my

977
00:48:46,699 --> 00:48:52,069
proposal I think that means I would like

978
00:48:49,190 --> 00:48:55,909
to get rid of the usage of the

979
00:48:52,070 --> 00:48:59,059
assignment slots at the moment so here's

980
00:48:55,909 --> 00:49:07,909
what we're gonna do instead I'm gonna go

981
00:48:59,059 --> 00:49:10,840
into the renderer here I want to look at

982
00:49:07,909 --> 00:49:10,839
the light probe stuff

983
00:49:15,250 --> 00:49:20,980
and inset light probe position what

984
00:49:18,909 --> 00:49:24,069
we're gonna do is we're gonna nuke this

985
00:49:20,980 --> 00:49:28,030
out here this is not what's going to

986
00:49:24,070 --> 00:49:41,170
happen here instead we're gonna have

987
00:49:28,030 --> 00:49:43,180
like a push a push golf of that so we

988
00:49:41,170 --> 00:49:45,400
don't want any of this light probe clear

989
00:49:43,179 --> 00:49:48,579
we want none of this stuff right so

990
00:49:45,400 --> 00:49:53,490
we're gonna say no to this and instead

991
00:49:48,579 --> 00:49:53,489
what we're gonna do is we're gonna say

992
00:49:56,280 --> 00:50:07,390
push light probe render group entity P

993
00:50:04,050 --> 00:50:10,390
and all this is the only thing this will

994
00:50:07,389 --> 00:50:15,699
do is basically ensured that there is a

995
00:50:10,389 --> 00:50:17,049
light probe at that location right so

996
00:50:15,699 --> 00:50:20,319
then we're gonna take the set light

997
00:50:17,050 --> 00:50:22,600
probe position and we're gonna leave

998
00:50:20,320 --> 00:50:24,280
that in there in case I end up needing

999
00:50:22,599 --> 00:50:27,429
it you know in case it turns out that

1000
00:50:24,280 --> 00:50:28,570
this whole thing doesn't work and

1001
00:50:27,429 --> 00:50:32,429
instead what we're going to do here is

1002
00:50:28,570 --> 00:50:32,430
instead of all this we're just gonna say

1003
00:50:34,829 --> 00:50:42,299
assuming that we have room for it then

1004
00:50:37,929 --> 00:50:42,299
it goes in here

1005
00:50:46,429 --> 00:50:56,088
and that's good right so now we should

1006
00:50:52,498 --> 00:50:56,088
get our light probes

1007
00:50:59,329 --> 00:51:10,109
did we not so now we should get our

1008
00:51:07,409 --> 00:51:13,889
light probes being like a clean compact

1009
00:51:10,108 --> 00:51:17,489
set and we should not be having any two

1010
00:51:13,889 --> 00:51:19,078
in the same location anymore right now

1011
00:51:17,489 --> 00:51:21,749
unless there's something else screwed up

1012
00:51:19,079 --> 00:51:24,210
which for all I know there might be but

1013
00:51:21,748 --> 00:51:26,068
I want to yeah

1014
00:51:24,210 --> 00:51:27,480
that's what I would have expected so

1015
00:51:26,068 --> 00:51:28,619
basically we just had a crap ton of

1016
00:51:27,480 --> 00:51:30,539
light probes that really weren't doing

1017
00:51:28,619 --> 00:51:32,940
anything and that was kind of to be

1018
00:51:30,539 --> 00:51:34,680
expected with the way we're doing it but

1019
00:51:32,940 --> 00:51:40,048
now you can sort of see like okay

1020
00:51:34,679 --> 00:51:43,768
everything's fine right and what you can

1021
00:51:40,048 --> 00:51:49,380
see here too is looking at the way that

1022
00:51:43,768 --> 00:51:51,988
this stuff is working you can see how

1023
00:51:49,380 --> 00:51:53,789
the lighting information is is getting

1024
00:51:51,989 --> 00:51:57,088
placed right so there's a couple things

1025
00:51:53,789 --> 00:51:58,829
that are kind of nasty about this our

1026
00:51:57,088 --> 00:52:00,358
great is not really centered the way

1027
00:51:58,829 --> 00:52:02,068
that I probably would have hoped like so

1028
00:52:00,358 --> 00:52:05,818
we probably want to adjust the way our

1029
00:52:02,068 --> 00:52:07,768
grid is working so that it's offset a

1030
00:52:05,818 --> 00:52:10,768
little bit but that's that's a separate

1031
00:52:07,768 --> 00:52:14,729
issue that we can deal with later what

1032
00:52:10,768 --> 00:52:16,979
we really want to do here is figure out

1033
00:52:14,730 --> 00:52:18,869
why we're getting the weird pockmarking

1034
00:52:16,980 --> 00:52:21,498
that we were getting right so when we

1035
00:52:18,869 --> 00:52:21,499
look at this

1036
00:52:22,429 --> 00:52:27,719
boy you know what are we actually

1037
00:52:24,778 --> 00:52:29,869
filling and I kind of want to shrink

1038
00:52:27,719 --> 00:52:32,818
these I think what I want to do here is

1039
00:52:29,869 --> 00:52:34,108
you see it was hard to see like once you

1040
00:52:32,818 --> 00:52:35,579
get enough in an area it's hard to see

1041
00:52:34,108 --> 00:52:37,498
which one's getting filled I want to

1042
00:52:35,579 --> 00:52:39,329
just use a very simple technique to make

1043
00:52:37,498 --> 00:52:42,118
it that visualization easier for us to

1044
00:52:39,329 --> 00:52:47,759
understand so inside the lighting when

1045
00:52:42,119 --> 00:52:49,829
we draw that box I want to shrink it

1046
00:52:47,759 --> 00:52:52,170
just a little so basically what that's

1047
00:52:49,829 --> 00:52:55,140
gonna do is let me see which ones are

1048
00:52:52,170 --> 00:52:56,849
actually getting filled instead of what

1049
00:52:55,139 --> 00:52:58,858
was kind of happening for where it was

1050
00:52:56,849 --> 00:52:59,680
very hard to see oh and by the way we

1051
00:52:58,858 --> 00:53:01,960
don't really need to be

1052
00:52:59,679 --> 00:53:03,789
debug mode anymore but so now what you

1053
00:53:01,960 --> 00:53:05,710
can see is we can we can easily see

1054
00:53:03,789 --> 00:53:09,159
which boxes are actually getting hit and

1055
00:53:05,710 --> 00:53:15,220
which ones aren't right and that's you

1056
00:53:09,159 --> 00:53:17,409
know pretty useful right so what you can

1057
00:53:15,219 --> 00:53:19,929
see here is it's pretty obvious why our

1058
00:53:17,409 --> 00:53:22,299
pockmarking is happening and it's just

1059
00:53:19,929 --> 00:53:24,339
because these are right on the boundary

1060
00:53:22,300 --> 00:53:27,430
so these middles ones never get filled

1061
00:53:24,340 --> 00:53:29,590
with any information now obviously our

1062
00:53:27,429 --> 00:53:32,649
sampling scheme is pretty crappy if

1063
00:53:29,590 --> 00:53:34,390
that's what's happening but it's okay

1064
00:53:32,650 --> 00:53:35,860
because actually we want to solve that

1065
00:53:34,389 --> 00:53:38,109
problem anyway for separate reasons

1066
00:53:35,860 --> 00:53:44,260
which is that when we actually fill a

1067
00:53:38,110 --> 00:53:50,890
voxel we want to fill sort of a you know

1068
00:53:44,260 --> 00:53:55,870
a swath of nine probably a swath of nine

1069
00:53:50,889 --> 00:53:57,369
around the voxel and that's something

1070
00:53:55,869 --> 00:53:59,650
that we kind of want to do is a separate

1071
00:53:57,369 --> 00:54:03,849
as a separate pass and that's pretty

1072
00:53:59,650 --> 00:54:09,970
crucial for you know just for allowing

1073
00:54:03,849 --> 00:54:11,739
this thing to work sort of at edges I

1074
00:54:09,969 --> 00:54:14,859
guess is what I would say right where

1075
00:54:11,739 --> 00:54:17,289
the light probes stop and so in order to

1076
00:54:14,860 --> 00:54:18,610
do that what I'd like to do is just go

1077
00:54:17,289 --> 00:54:21,849
in there and add a little loop that

1078
00:54:18,610 --> 00:54:23,800
spams out to neighboring areas right and

1079
00:54:21,849 --> 00:54:26,170
then we're going to very quickly get

1080
00:54:23,800 --> 00:54:28,990
into the fact that this is not properly

1081
00:54:26,170 --> 00:54:32,530
handling sort of summation like

1082
00:54:28,989 --> 00:54:37,089
contribution right but let's go ahead

1083
00:54:32,530 --> 00:54:44,080
and do that that part first so when we

1084
00:54:37,090 --> 00:54:46,170
get Molly beam where's that was that was

1085
00:54:44,079 --> 00:54:49,739
the sad me house

1086
00:54:46,170 --> 00:54:49,740
Molly where are you at

1087
00:54:51,139 --> 00:54:55,519
come here come here please come on

1088
00:54:53,730 --> 00:54:59,608
what's wrong

1089
00:54:55,519 --> 00:55:02,250
come on up come on up what's wrong

1090
00:54:59,608 --> 00:55:03,449
do you want to code with us do you want

1091
00:55:02,250 --> 00:55:04,019
to cope with this do you wanna say hi to

1092
00:55:03,449 --> 00:55:07,769
the camera

1093
00:55:04,019 --> 00:55:10,880
come on say hi to the camera hey you

1094
00:55:07,769 --> 00:55:14,250
want to see the camera that's the camera

1095
00:55:10,880 --> 00:55:15,539
yeah there's a bunch of people there's a

1096
00:55:14,250 --> 00:55:18,838
couple hundred people watching you right

1097
00:55:15,539 --> 00:55:20,759
now did you know that yeah

1098
00:55:18,838 --> 00:55:21,838
what's wrong did you want someone to

1099
00:55:20,760 --> 00:55:26,430
play with you and no one was playing

1100
00:55:21,838 --> 00:55:33,449
with you is that what happened yeah is

1101
00:55:26,429 --> 00:55:35,009
that what happened okay do you wanted to

1102
00:55:33,449 --> 00:55:36,480
sit with me or do you want to what do

1103
00:55:35,010 --> 00:55:37,020
you want to do I don't know what you're

1104
00:55:36,480 --> 00:55:39,179
up to

1105
00:55:37,019 --> 00:55:40,800
you were mousing around before so I have

1106
00:55:39,179 --> 00:55:42,509
a feeling you don't want to sit I have a

1107
00:55:40,800 --> 00:55:44,099
feeling you want to play but I can't

1108
00:55:42,510 --> 00:55:48,780
play with you right now when the stream

1109
00:55:44,099 --> 00:55:55,109
is over we can play well look okay is

1110
00:55:48,780 --> 00:56:00,019
that okay is that all right maybe what

1111
00:55:55,108 --> 00:56:06,358
do you think what do you think kiddo

1112
00:56:00,019 --> 00:56:08,400
maybe all right well you can decide but

1113
00:56:06,358 --> 00:56:10,529
I just can't play right now that's all

1114
00:56:08,400 --> 00:56:12,329
but you can say it if you want you can

1115
00:56:10,530 --> 00:56:18,349
sit on my lap if you want we got room

1116
00:56:12,329 --> 00:56:21,088
for you here we do if you're up for it

1117
00:56:18,349 --> 00:56:23,280
you looking at get your in a play mode

1118
00:56:21,088 --> 00:56:25,799
though yeah this is the problem you're

1119
00:56:23,280 --> 00:56:32,369
not in a sitting mode I know you're not

1120
00:56:25,800 --> 00:56:34,800
I can see you looking over there here

1121
00:56:32,369 --> 00:56:36,690
you want to play go ahead down go ahead

1122
00:56:34,800 --> 00:56:42,119
down there you go and we'll play later

1123
00:56:36,690 --> 00:56:43,380
okay all right so anyway what I want to

1124
00:56:42,119 --> 00:56:46,140
do is just kind of span this out to

1125
00:56:43,380 --> 00:56:48,088
nearby voxels as well so I want this to

1126
00:56:46,139 --> 00:56:51,659
kind of be a little bit of a four I loop

1127
00:56:48,088 --> 00:56:55,980
right and so I want this to you know do

1128
00:56:51,659 --> 00:56:58,559
this kind of thing right so we do want

1129
00:56:55,980 --> 00:57:00,210
our kind of like XYZ thing in here and

1130
00:56:58,559 --> 00:57:01,920
to be honest I don't know if I really

1131
00:57:00,210 --> 00:57:03,929
want it to look like a four I loop

1132
00:57:01,920 --> 00:57:05,820
though and the reeds

1133
00:57:03,929 --> 00:57:07,919
for that is just because I don't really

1134
00:57:05,820 --> 00:57:09,450
want to spin up an entire set of like

1135
00:57:07,920 --> 00:57:10,920
loops and jumps and unpredictable

1136
00:57:09,449 --> 00:57:11,460
branches and crap like this for no

1137
00:57:10,920 --> 00:57:13,950
reason

1138
00:57:11,460 --> 00:57:16,980
so what I'd rather do is something more

1139
00:57:13,949 --> 00:57:18,239
like this maybe so you know maybe

1140
00:57:16,980 --> 00:57:22,199
something that looks a little bit like

1141
00:57:18,239 --> 00:57:26,219
this where I do like you know spam voxel

1142
00:57:22,199 --> 00:57:30,869
or something like this and that's gonna

1143
00:57:26,219 --> 00:57:38,519
take that voxel I do all this garbage on

1144
00:57:30,869 --> 00:57:41,309
it and then spam out to the voxel and so

1145
00:57:38,519 --> 00:57:44,400
what I need here is I just need I don't

1146
00:57:41,309 --> 00:57:46,559
really need this part here because I can

1147
00:57:44,400 --> 00:57:49,950
just not do the right so this is

1148
00:57:46,559 --> 00:57:52,110
probably fine but what I do need is I

1149
00:57:49,949 --> 00:57:54,629
need the light position right and of

1150
00:57:52,110 --> 00:57:56,430
course since we have that here I can yes

1151
00:57:54,630 --> 00:57:57,960
you know this is test code so we don't

1152
00:57:56,429 --> 00:57:59,699
have to be pretty very specific about

1153
00:57:57,960 --> 00:58:02,329
where that's coming from

1154
00:57:59,699 --> 00:58:07,259
but so we can do this stuff just fine

1155
00:58:02,329 --> 00:58:13,590
and the is test case part we can just

1156
00:58:07,260 --> 00:58:17,160
sort of inherit from our caller I'm

1157
00:58:13,590 --> 00:58:20,250
sorry if test cast and then I really

1158
00:58:17,159 --> 00:58:24,179
just need to make this stuff get called

1159
00:58:20,250 --> 00:58:26,190
with the correct set of voxel eyes so

1160
00:58:24,179 --> 00:58:28,559
the problem that we're gonna have here

1161
00:58:26,190 --> 00:58:30,590
is just that we could be outside the

1162
00:58:28,559 --> 00:58:35,730
voxel now so we kind of need some

1163
00:58:30,590 --> 00:58:39,630
ability to clamp this thing and so we

1164
00:58:35,730 --> 00:58:42,929
need this to support that sort of spam

1165
00:58:39,630 --> 00:58:44,849
radius in a sense right and when we do

1166
00:58:42,929 --> 00:58:46,589
that clamp you know we could just clamp

1167
00:58:44,849 --> 00:58:49,500
it to the interior and then do the

1168
00:58:46,590 --> 00:58:51,300
spamming I don't know if that's a

1169
00:58:49,500 --> 00:58:53,460
particularly good idea but you know I'm

1170
00:58:51,300 --> 00:58:55,080
just saying we could do it that way but

1171
00:58:53,460 --> 00:58:58,380
point being what we need here is

1172
00:58:55,079 --> 00:59:03,409
basically like a set of these so we need

1173
00:58:58,380 --> 00:59:03,410
like you know this sort of thing

1174
00:59:14,750 --> 00:59:35,809
so all I want to do here is just spam a

1175
00:59:17,639 --> 00:59:35,809
predictable set of these like so and

1176
00:59:46,559 --> 00:59:55,049
I feel like there should only be oh wait

1177
00:59:50,969 --> 00:59:57,179
no there's way more of them so no it's

1178
00:59:55,050 --> 00:59:59,250
just three by three by three so there's

1179
00:59:57,179 --> 01:00:04,589
actually 27 things that touches

1180
00:59:59,250 --> 01:00:14,550
that's too many it feels like we really

1181
01:00:04,590 --> 01:00:16,740
do want to not have to do this well in

1182
01:00:14,550 --> 01:00:18,810
for a penny in for a pound anyway so

1183
01:00:16,739 --> 01:00:19,919
this is gonna be expensive for us we're

1184
01:00:18,809 --> 01:00:24,360
gonna probably have to figure out ways

1185
01:00:19,920 --> 01:00:26,639
to make this work better to be

1186
01:00:24,360 --> 01:00:29,820
completely honest because this is gonna

1187
01:00:26,639 --> 01:00:32,489
be pretty nasty in terms of the amount

1188
01:00:29,820 --> 01:00:35,220
of work that's involved in in sort of

1189
01:00:32,489 --> 01:00:36,959
blooming the voxel so we may have to do

1190
01:00:35,219 --> 01:00:41,279
something more clever than what I'm

1191
01:00:36,960 --> 01:00:43,320
doing here and yeah so if we look at

1192
01:00:41,280 --> 01:00:51,810
like how this works so let's suppose we

1193
01:00:43,320 --> 01:00:55,920
did it this way we would have to repeat

1194
01:00:51,809 --> 01:01:00,019
this for each one of these right and so

1195
01:00:55,920 --> 01:01:00,019
maybe we do have like one four I loop

1196
01:01:07,719 --> 01:01:27,949
and then we just spam the nine case so

1197
01:01:23,360 --> 01:01:30,170
something like this is basically what

1198
01:01:27,949 --> 01:01:31,429
we're looking at and the problem that

1199
01:01:30,170 --> 01:01:34,670
we're gonna have is this is gonna be out

1200
01:01:31,429 --> 01:01:37,629
of bounds now right and so what we could

1201
01:01:34,670 --> 01:01:41,530
do is say well when we do map into voxel

1202
01:01:37,630 --> 01:01:45,110
we'll just get rid of the clamp

1203
01:01:41,530 --> 01:01:49,100
completely right so this part here will

1204
01:01:45,110 --> 01:01:50,630
just be like good luck right so when you

1205
01:01:49,099 --> 01:01:52,909
get that Fox index that could be just

1206
01:01:50,630 --> 01:01:55,340
totally out of bounds and then when we

1207
01:01:52,909 --> 01:01:57,649
do like our offsetting of it you know

1208
01:01:55,340 --> 01:02:06,740
this this will actually happen here so

1209
01:01:57,650 --> 01:02:11,329
we'll do a like if in large voxel off we

1210
01:02:06,739 --> 01:02:20,419
go otherwise don't do anything and then

1211
01:02:11,329 --> 01:02:26,019
we just have you know something like

1212
01:02:20,420 --> 01:02:26,019
this they can test

1213
01:02:34,070 --> 01:02:47,570
for like inside nests and then we'll

1214
01:02:41,789 --> 01:02:47,570
just not fill if we're not inside so

1215
01:02:47,780 --> 01:03:02,030
then we've got solution sigh and I think

1216
01:02:54,389 --> 01:03:02,029
at that point we're good to go

1217
01:03:08,510 --> 01:03:21,900
no all right I now want to see like what

1218
01:03:18,449 --> 01:03:23,339
I'm actually filling hopefully we're

1219
01:03:21,900 --> 01:03:27,329
feeling a lot more stuff and it looks

1220
01:03:23,340 --> 01:03:29,250
like we are right and so now I want to

1221
01:03:27,329 --> 01:03:32,789
see if that kind of takes care of the

1222
01:03:29,250 --> 01:03:37,250
issue we were having with the you know

1223
01:03:32,789 --> 01:03:40,230
the fill not not spreading out properly

1224
01:03:37,250 --> 01:03:42,300
so if we you know if we do that spamming

1225
01:03:40,230 --> 01:03:45,090
to the things around the voxel let's go

1226
01:03:42,300 --> 01:03:47,490
ahead and see what the actual Z biased

1227
01:03:45,090 --> 01:03:51,300
program result looks like at that point

1228
01:03:47,489 --> 01:03:56,639
and so I'm gonna turn off the letting

1229
01:03:51,300 --> 01:04:00,360
disabled and turn on the non debug build

1230
01:03:56,639 --> 01:04:02,839
there and just see what kind of results

1231
01:04:00,360 --> 01:04:02,840
were getting

1232
01:04:09,900 --> 01:04:15,079
so now it looks like we're more or less

1233
01:04:12,179 --> 01:04:15,079
getting what I would expect

1234
01:04:22,690 --> 01:04:31,450
and what you can see is the only issue

1235
01:04:29,079 --> 01:04:33,609
now right is that we fill things that

1236
01:04:31,449 --> 01:04:36,578
that aren't really visible right so

1237
01:04:33,608 --> 01:04:39,400
we're spamming kind of out to things

1238
01:04:36,579 --> 01:04:41,349
that aren't quite visible and I think

1239
01:04:39,400 --> 01:04:43,358
that that actually can be taken care of

1240
01:04:41,349 --> 01:04:46,539
by a slightly different thing we can do

1241
01:04:43,358 --> 01:04:47,949
as well although actually you know what

1242
01:04:46,539 --> 01:04:49,420
the only thing is that may actually

1243
01:04:47,949 --> 01:04:50,710
because there's are some of those are

1244
01:04:49,420 --> 01:04:52,599
visible let's let's turn that off for us

1245
01:04:50,710 --> 01:04:56,710
to get a fair result so I'm gonna set

1246
01:04:52,599 --> 01:04:58,930
the light source to be lower now so if

1247
01:04:56,710 --> 01:05:00,429
we so that it'll actually be blocked by

1248
01:04:58,929 --> 01:05:04,000
walls because it's kind of clears it

1249
01:05:00,429 --> 01:05:05,558
clears over the walls a bunch of times

1250
01:05:04,000 --> 01:05:08,318
now I just want to get rid of that while

1251
01:05:05,559 --> 01:05:14,829
we're testing this so if we go into what

1252
01:05:08,318 --> 01:05:16,630
is it debug light yeah so what I want to

1253
01:05:14,829 --> 01:05:19,240
do here is take the camera NDP I want to

1254
01:05:16,630 --> 01:05:21,608
drop that light down a significant

1255
01:05:19,239 --> 01:05:23,739
amount so that's it's much lower down

1256
01:05:21,608 --> 01:05:27,639
maybe even lower down than then plus one

1257
01:05:23,739 --> 01:05:29,858
but we'll see in a second so that's like

1258
01:05:27,639 --> 01:05:33,129
right about the heroes head level yeah

1259
01:05:29,858 --> 01:05:36,159
so now it can't really clear walls so

1260
01:05:33,130 --> 01:05:39,490
that flood filling presumably is coming

1261
01:05:36,159 --> 01:05:41,528
from well you know I'll be honest I'm

1262
01:05:39,489 --> 01:05:45,459
not sure who that's coming from how is

1263
01:05:41,528 --> 01:05:47,849
there a like valid light that's hitting

1264
01:05:45,460 --> 01:05:47,849
that

1265
01:05:57,929 --> 01:06:02,440
so I'm not really sure what what's going

1266
01:06:00,969 --> 01:06:04,509
on there

1267
01:06:02,440 --> 01:06:06,190
because even that shouldn't quite have

1268
01:06:04,510 --> 01:06:10,560
the light leaking bug that I'm thinking

1269
01:06:06,190 --> 01:06:12,970
of at the moment um let me hmm

1270
01:06:10,559 --> 01:06:14,440
so let me take a look and see because

1271
01:06:12,969 --> 01:06:15,848
I'm not really sure what we're what

1272
01:06:14,440 --> 01:06:17,559
we're dealing with there before I before

1273
01:06:15,849 --> 01:06:19,599
I start mouthing off about what I wanted

1274
01:06:17,559 --> 01:06:26,829
to do about it because I'm not really

1275
01:06:19,599 --> 01:06:29,140
sure where that's going cuz yeah like if

1276
01:06:26,829 --> 01:06:31,960
you look at the like that doesn't

1277
01:06:29,139 --> 01:06:35,348
propagate through the wall right like

1278
01:06:31,960 --> 01:06:42,159
the the light probe here is not gonna

1279
01:06:35,349 --> 01:06:43,930
write into that so I'm not sure why you

1280
01:06:42,159 --> 01:06:50,108
would ever be getting any light leaking

1281
01:06:43,929 --> 01:06:52,710
through there right I need a way to

1282
01:06:50,108 --> 01:06:55,269
visit to see these both at the same time

1283
01:06:52,710 --> 01:06:58,539
so we're gonna have to that's not what I

1284
01:06:55,269 --> 01:07:00,099
wanted at all so we're gonna have to do

1285
01:06:58,539 --> 01:07:01,509
some work on our debug setup maybe

1286
01:07:00,099 --> 01:07:03,670
that's what we'll do next weekend in

1287
01:07:01,510 --> 01:07:05,859
preparation for like doing the final

1288
01:07:03,670 --> 01:07:07,900
white coat as will improve the debug vis

1289
01:07:05,858 --> 01:07:10,960
on the lighting because right now it's

1290
01:07:07,900 --> 01:07:13,500
crappy I just need a bunch of ways to

1291
01:07:10,960 --> 01:07:16,240
switch things on and off so I can see

1292
01:07:13,500 --> 01:07:19,510
yeah so so I don't get that like I don't

1293
01:07:16,239 --> 01:07:22,239
get who's actually filling that there

1294
01:07:19,510 --> 01:07:24,640
I'm gonna set the radius a little higher

1295
01:07:22,239 --> 01:07:28,118
so I can see some of those test cases

1296
01:07:24,639 --> 01:07:33,118
and what they're actually returning so

1297
01:07:28,119 --> 01:07:33,119
if I go into

1298
01:07:43,108 --> 01:07:47,409
the front with a routine was the

1299
01:07:45,579 --> 01:07:48,249
easiest thing to do there so it's what's

1300
01:07:47,409 --> 01:07:53,048
the actual name

1301
01:07:48,248 --> 01:07:54,518
it's like test-case castro probes so

1302
01:07:53,048 --> 01:07:57,159
what I want to do here is maybe to

1303
01:07:54,518 --> 01:07:58,748
spread this out a little more so we can

1304
01:07:57,159 --> 01:08:01,048
see like a little more what's going on

1305
01:07:58,748 --> 01:08:01,048
in there

1306
01:08:13,630 --> 01:08:23,470
Oh duh we never put in the the hip case

1307
01:08:19,319 --> 01:08:29,889
so yeah that was all just not even a

1308
01:08:23,470 --> 01:08:31,090
thing boy that's that's almost an ALICE

1309
01:08:29,890 --> 01:08:31,500
shame thankfully I thought of it right

1310
01:08:31,090 --> 01:08:34,470
away

1311
01:08:31,500 --> 01:08:37,840
that was that was almost a now of shame

1312
01:08:34,470 --> 01:08:40,230
all right so let's now figure out what

1313
01:08:37,840 --> 01:08:46,720
the heck is going on here so you can see

1314
01:08:40,229 --> 01:08:50,559
here that for some reason well no we're

1315
01:08:46,720 --> 01:08:55,329
still getting some weird interpolation

1316
01:08:50,560 --> 01:08:58,180
there oh I see why that's because we're

1317
01:08:55,329 --> 01:08:59,800
not clearing the voxel that's all right

1318
01:08:58,180 --> 01:09:02,530
so you can see we're not actually

1319
01:08:59,800 --> 01:09:06,539
updating the voxel in those regions and

1320
01:09:02,529 --> 01:09:09,099
that's because we don't actually clear

1321
01:09:06,539 --> 01:09:10,029
I'll just all this cleared the voxel we

1322
01:09:09,100 --> 01:09:12,870
don't actually want to do that

1323
01:09:10,029 --> 01:09:17,139
eventually but I think now we're getting

1324
01:09:12,869 --> 01:09:21,430
more more accurate results right what is

1325
01:09:17,140 --> 01:09:25,180
this looks like we've got too many too

1326
01:09:21,430 --> 01:09:27,310
many quads getting pushed down all right

1327
01:09:25,180 --> 01:09:33,940
so I think we're better now I think

1328
01:09:27,310 --> 01:09:35,890
we're in in more reasonable shape I'm

1329
01:09:33,939 --> 01:09:40,289
not too turned that test caster down so

1330
01:09:35,890 --> 01:09:40,289
we're not drawn so many boxes back

1331
01:09:42,389 --> 01:09:49,289
okay so what I want to do now is just

1332
01:09:47,548 --> 01:09:51,689
clear the voxel before we do anything

1333
01:09:49,289 --> 01:09:53,639
else and the reason for that is just

1334
01:09:51,689 --> 01:09:59,339
because right now we're not really doing

1335
01:09:53,639 --> 01:10:01,409
anything sensible in terms of like

1336
01:09:59,340 --> 01:10:02,789
averaging over frames or anything so

1337
01:10:01,408 --> 01:10:05,039
stuff that goes into the voxel just

1338
01:10:02,789 --> 01:10:07,889
stays in the voxel and it sort of

1339
01:10:05,039 --> 01:10:09,658
Bogart's our results right so I want to

1340
01:10:07,889 --> 01:10:11,100
loop over the entire voxel which

1341
01:10:09,658 --> 01:10:14,219
honestly I don't know if we have code

1342
01:10:11,100 --> 01:10:21,090
that does that yeah we do so in in from

1343
01:10:14,219 --> 01:10:22,739
the Gok we can go ahead in here and just

1344
01:10:21,090 --> 01:10:24,389
clear the voxel first which is not

1345
01:10:22,738 --> 01:10:32,599
something we would ordinarily do but

1346
01:10:24,389 --> 01:10:35,429
it's going to be something we do now and

1347
01:10:32,600 --> 01:10:39,389
so I'm just gonna literally clear

1348
01:10:35,429 --> 01:10:41,789
everything in the voxel all of the

1349
01:10:39,389 --> 01:10:43,710
lights and turn them off that way if you

1350
01:10:41,789 --> 01:10:48,658
don't actually see one on a particular

1351
01:10:43,710 --> 01:10:57,300
frame then you don't that doesn't

1352
01:10:48,658 --> 01:11:08,460
actually work that should show us a

1353
01:10:57,300 --> 01:11:10,170
fairer estimate of the lighting and you

1354
01:11:08,460 --> 01:11:11,460
can see like when we hop up sometimes it

1355
01:11:10,170 --> 01:11:13,260
clears it so I should probably still

1356
01:11:11,460 --> 01:11:16,969
move the light down just a little bit

1357
01:11:13,260 --> 01:11:16,969
more right

1358
01:11:30,658 --> 01:11:34,670
but as you can see like it's starting to

1359
01:11:32,279 --> 01:11:34,670
look pretty good

1360
01:11:44,618 --> 01:11:49,149
so I think we're now correctly sort of

1361
01:11:47,050 --> 01:11:52,179
doing roughly what we should I still

1362
01:11:49,149 --> 01:11:53,589
think it's a little too high to move it

1363
01:11:52,179 --> 01:11:55,949
down because when we hop up it's still

1364
01:11:53,590 --> 01:11:55,949
kind of

1365
01:12:12,529 --> 01:12:19,219
what's going on there oh wow so that's

1366
01:12:17,090 --> 01:12:21,699
that's too low then it can't quite clear

1367
01:12:19,219 --> 01:12:21,698
the floor

1368
01:12:27,310 --> 01:12:31,390
all of this will be not really a huge

1369
01:12:29,710 --> 01:12:34,569
issue once we're actually doing bounce

1370
01:12:31,390 --> 01:12:36,610
lighting obviously but okay so basically

1371
01:12:34,569 --> 01:12:44,009
now we more or less have like fog of war

1372
01:12:36,609 --> 01:12:46,509
right like you know you can't really see

1373
01:12:44,010 --> 01:12:47,739
until you actually get there I'm curious

1374
01:12:46,510 --> 01:12:50,590
to know what happens if we increase the

1375
01:12:47,739 --> 01:12:57,250
fall-off right so if I actually change

1376
01:12:50,590 --> 01:12:59,110
the fall-off of the light which is you

1377
01:12:57,250 --> 01:13:01,720
know just a nonsense thing that's

1378
01:12:59,109 --> 01:13:04,299
happening in here right now it's just

1379
01:13:01,720 --> 01:13:06,640
this this garbage here right so if I

1380
01:13:04,300 --> 01:13:09,220
decided to do this as something more

1381
01:13:06,640 --> 01:13:15,070
like that so now the light falls off

1382
01:13:09,220 --> 01:13:17,500
more slowly that radius gets larger what

1383
01:13:15,069 --> 01:13:20,049
you should see is like you know kind of

1384
01:13:17,500 --> 01:13:21,880
just basically fog of war right the Ray

1385
01:13:20,050 --> 01:13:24,760
caster is sort of telling us now like

1386
01:13:21,880 --> 01:13:26,440
what you can see right so again not

1387
01:13:24,760 --> 01:13:30,880
really something we want to use for

1388
01:13:26,439 --> 01:13:35,979
lighting per se right because it's not

1389
01:13:30,880 --> 01:13:38,319
actually telling us any kind of a good

1390
01:13:35,979 --> 01:13:39,879
lighting solution right it's not telling

1391
01:13:38,319 --> 01:13:43,479
us anything about like how the light

1392
01:13:39,880 --> 01:13:45,190
bounces around and so you know it's it's

1393
01:13:43,479 --> 01:13:46,989
it's not what we want for any of that

1394
01:13:45,189 --> 01:13:50,429
stuff but if we go ahead and turn off

1395
01:13:46,989 --> 01:13:50,429
the test cast thing

1396
01:14:04,630 --> 01:14:09,170
then you can see that we basically have

1397
01:14:06,710 --> 01:14:12,079
a little fog of war solver right which

1398
01:14:09,170 --> 01:14:14,449
is exactly what a red caster does right

1399
01:14:12,079 --> 01:14:19,550
it doesn't really give us lighting but

1400
01:14:14,448 --> 01:14:21,769
it gives us some you know sort of it's

1401
01:14:19,550 --> 01:14:23,600
it's a visibility query right and what

1402
01:14:21,770 --> 01:14:25,370
we happen to be asking for is the

1403
01:14:23,600 --> 01:14:27,410
visibility from the light source and

1404
01:14:25,369 --> 01:14:30,649
since I put the light source at the

1405
01:14:27,409 --> 01:14:34,789
player unsurprisingly you know that's

1406
01:14:30,649 --> 01:14:36,619
what we get right and see our kind of

1407
01:14:34,789 --> 01:14:40,279
weird specular thing that we did they're

1408
01:14:36,619 --> 01:14:43,789
having an effect so I'm going to call

1409
01:14:40,279 --> 01:14:46,819
that good for today for sure because the

1410
01:14:43,789 --> 01:14:52,000
next step is now we have to kind of move

1411
01:14:46,819 --> 01:14:54,439
on to kind of a whole nother ballgame of

1412
01:14:52,000 --> 01:14:57,469
convecting light sources around and then

1413
01:14:54,439 --> 01:14:59,599
merging samples as well which is really

1414
01:14:57,469 --> 01:15:00,829
not something that's gonna be simple

1415
01:14:59,600 --> 01:15:03,469
right that's gonna be a whole another

1416
01:15:00,829 --> 01:15:07,039
sort of set of things we've got to do

1417
01:15:03,469 --> 01:15:09,020
and you know what can I use the ground

1418
01:15:07,039 --> 01:15:16,430
point of the entity by the way and so it

1419
01:15:09,020 --> 01:15:26,380
doesn't where's the debug light key

1420
01:15:16,430 --> 01:15:26,380
thing there like a ground point nonsense

1421
01:15:29,920 --> 01:15:34,630
this is supposed to be more stable I

1422
01:15:32,149 --> 01:15:34,629
think

1423
01:15:39,529 --> 01:15:42,159
yeah

1424
01:15:51,168 --> 01:15:55,029
so we're getting there slowly but surely

1425
01:16:07,760 --> 01:16:11,300
and I think that Rea casters working

1426
01:16:09,560 --> 01:16:14,120
pretty reliably now from the light like

1427
01:16:11,300 --> 01:16:15,470
that seems all seems pretty good we

1428
01:16:14,119 --> 01:16:18,949
still have a ton of problems with the

1429
01:16:15,470 --> 01:16:22,579
sort of the I don't like the flicker

1430
01:16:18,949 --> 01:16:24,409
that you get I mean the lighting

1431
01:16:22,579 --> 01:16:26,869
obviously is making most of the problem

1432
01:16:24,409 --> 01:16:29,420
here but the fact that you kind of blend

1433
01:16:26,869 --> 01:16:31,640
things in and out based like you want

1434
01:16:29,420 --> 01:16:33,409
the ground P to actually be a plane so

1435
01:16:31,640 --> 01:16:35,930
when you're hopping over uneven terrain

1436
01:16:33,409 --> 01:16:38,000
you want things like the Alpha to stay

1437
01:16:35,930 --> 01:16:40,210
the same that's kind of a separate issue

1438
01:16:38,000 --> 01:16:43,119
that we're gonna have to do before I

1439
01:16:40,210 --> 01:16:45,170
really consider the graphics to be solid

1440
01:16:43,119 --> 01:16:50,869
but the lighting is more important at

1441
01:16:45,170 --> 01:16:55,970
the moment right so I would consider

1442
01:16:50,869 --> 01:16:57,079
that pretty much working and we now have

1443
01:16:55,970 --> 01:16:59,510
the other two things we have the

1444
01:16:57,079 --> 01:17:02,359
blending and the convection now we got

1445
01:16:59,510 --> 01:17:05,650
to start working on but that's fine so I

1446
01:17:02,359 --> 01:17:05,649
think we're I think we're pretty good

1447
01:17:07,569 --> 01:17:11,779
right I mean that that's working very

1448
01:17:09,680 --> 01:17:16,340
well considering how we've really done

1449
01:17:11,779 --> 01:17:19,399
nothing but a single ray cast so I think

1450
01:17:16,340 --> 01:17:20,750
we're in good shape like I'm not I'm not

1451
01:17:19,399 --> 01:17:26,269
too worried about this now I think this

1452
01:17:20,750 --> 01:17:30,710
is coming along also unlike before like

1453
01:17:26,270 --> 01:17:33,380
this is running completely fine very

1454
01:17:30,710 --> 01:17:35,119
stable and per pixel right we're getting

1455
01:17:33,380 --> 01:17:37,699
full lighting on everything including

1456
01:17:35,119 --> 01:17:39,470
characters and stuff like that that we

1457
01:17:37,699 --> 01:17:40,699
can now go in and like tune their

1458
01:17:39,470 --> 01:17:43,159
normals and stuff but you can see like

1459
01:17:40,699 --> 01:17:44,809
it's even working here like if I because

1460
01:17:43,159 --> 01:17:47,689
the normals on that person are just

1461
01:17:44,810 --> 01:17:49,220
pointing directly away from me it gets

1462
01:17:47,689 --> 01:17:51,229
no light and when I come on the other

1463
01:17:49,220 --> 01:17:53,390
side of it does right so we now have

1464
01:17:51,229 --> 01:17:55,699
like that ability to sample lighting per

1465
01:17:53,390 --> 01:17:58,220
pixel on all the sprites as well so that

1466
01:17:55,699 --> 01:17:59,899
that'll give us a lot of flexibility to

1467
01:17:58,220 --> 01:18:00,980
I mean we have to decide what we want to

1468
01:17:59,899 --> 01:18:05,119
do there because it's kind of confusing

1469
01:18:00,979 --> 01:18:06,739
how you want to light stuff like that

1470
01:18:05,119 --> 01:18:08,989
but you know it gives us a lot of

1471
01:18:06,739 --> 01:18:14,559
flexibility on how we can choose to

1472
01:18:08,989 --> 01:18:14,559
light our sprites as well which is nice

1473
01:18:14,899 --> 01:18:20,869
okay let's go the QA

1474
01:19:22,439 --> 01:19:27,859
isn't there an hour left I don't think

1475
01:19:24,210 --> 01:19:27,859
so the stream started at 12:30 right

1476
01:19:53,519 --> 01:19:58,639
with the particle system be affected by

1477
01:19:55,498 --> 01:19:58,639
the shadows yes

1478
01:20:05,319 --> 01:20:19,359
just take care so I believe it already

1479
01:20:16,069 --> 01:20:29,750
actually is as well

1480
01:20:19,359 --> 01:20:31,489
so I don't really know but everything as

1481
01:20:29,750 --> 01:20:33,199
far as I know including the particles go

1482
01:20:31,489 --> 01:20:35,090
through the same shaders so it should be

1483
01:20:33,199 --> 01:20:37,539
totally yeah you can actually see that

1484
01:20:35,090 --> 01:20:37,539
there right

1485
01:20:40,329 --> 01:20:50,300
so the normals are probably set wrong on

1486
01:20:44,359 --> 01:20:51,920
the particles at the moment so we we'd

1487
01:20:50,300 --> 01:20:53,539
have to set the normals but you can see

1488
01:20:51,920 --> 01:20:55,970
they are affected by the lighting right

1489
01:20:53,539 --> 01:20:59,210
so all we really have to do is make sure

1490
01:20:55,970 --> 01:21:05,750
for each particle we set the normal to

1491
01:20:59,210 --> 01:21:07,760
something right and then we're good so

1492
01:21:05,750 --> 01:21:10,250
so the particles should all work just

1493
01:21:07,760 --> 01:21:12,350
fine in fact everything will work just

1494
01:21:10,250 --> 01:21:16,039
fine so mostly what we have to do now is

1495
01:21:12,350 --> 01:21:19,039
is make like a real lighting convection

1496
01:21:16,039 --> 01:21:22,119
and then sample blending right because

1497
01:21:19,039 --> 01:21:24,710
all right now and you can kind of see

1498
01:21:22,119 --> 01:21:26,029
it's just discrete either you can see

1499
01:21:24,710 --> 01:21:28,489
the light source or you can so you

1500
01:21:26,029 --> 01:21:29,539
basically it goes on one frame from

1501
01:21:28,489 --> 01:21:30,889
being able to see it to not being able

1502
01:21:29,539 --> 01:21:34,880
to see it and that's what changes the

1503
01:21:30,890 --> 01:21:37,670
lighting so that's not what we want at

1504
01:21:34,880 --> 01:21:39,800
all right and also we don't get any

1505
01:21:37,670 --> 01:21:42,230
bounces right so that's not what we want

1506
01:21:39,800 --> 01:21:44,810
so this is just ray casting testing so

1507
01:21:42,229 --> 01:21:46,939
we gotta go and you know actually do

1508
01:21:44,810 --> 01:21:50,630
that part which is what we'll start on

1509
01:21:46,939 --> 01:21:52,579
next weekend but other than that I think

1510
01:21:50,630 --> 01:21:55,699
we're good because now any sprite that

1511
01:21:52,579 --> 01:21:59,600
we want can can totally have that happen

1512
01:21:55,699 --> 01:22:04,010
I should also take out the like there's

1513
01:21:59,600 --> 01:22:07,630
there's no reason for the light probes

1514
01:22:04,010 --> 01:22:07,630
to be drawn at the moment

1515
01:22:27,269 --> 01:22:29,869
yeah

1516
01:22:39,479 --> 01:22:42,929
there's some issues with the smoothness

1517
01:22:41,309 --> 01:22:47,630
and that has to do with blending as well

1518
01:22:42,929 --> 01:22:47,630
I think I suspect

1519
01:22:59,810 --> 01:23:14,030
and I'm I guess I'm not 100% sure of it

1520
01:23:04,010 --> 01:23:15,650
though so I'm not 100% sure what a

1521
01:23:14,029 --> 01:23:16,909
little of that flicker is coming from so

1522
01:23:15,649 --> 01:23:19,009
we may have to investigate that a little

1523
01:23:16,909 --> 01:23:32,899
further that may just have to do with

1524
01:23:19,010 --> 01:23:35,140
the blending not being in there I'm not

1525
01:23:32,899 --> 01:23:35,139
positive

1526
01:23:43,529 --> 01:23:49,469
can we enable life the debaters we could

1527
01:23:45,969 --> 01:23:49,469
see the impact of the code

1528
01:24:01,359 --> 01:24:04,029
again probably don't want to do that

1529
01:24:02,800 --> 01:24:11,230
till next dream because I think that's a

1530
01:24:04,029 --> 01:24:12,429
fairly big thing am i procrastinate

1531
01:24:11,229 --> 01:24:14,859
engine games like I didn't invent

1532
01:24:12,429 --> 01:24:16,270
problems to solve yes I mean as I've

1533
01:24:14,859 --> 01:24:18,609
said many times I really don't want to

1534
01:24:16,270 --> 01:24:19,690
have to do any gameplay code I'm going

1535
01:24:18,609 --> 01:24:24,158
to run out of things to do eventually

1536
01:24:19,689 --> 01:24:25,658
but I will make that I will make that be

1537
01:24:24,158 --> 01:24:29,019
as far away as possible because that is

1538
01:24:25,658 --> 01:24:32,729
really not my thing right and I don't

1539
01:24:29,020 --> 01:24:32,730
really I'm not looking forward to it

1540
01:24:37,170 --> 01:24:41,139
that is why I'm an engine programmer and

1541
01:24:39,670 --> 01:24:43,029
not a gameplay programmer I would much

1542
01:24:41,139 --> 01:24:45,159
rather sit around and proving lighting

1543
01:24:43,029 --> 01:24:48,609
quality than having a code like what

1544
01:24:45,158 --> 01:24:50,939
happens when you like punch a dude you

1545
01:24:48,609 --> 01:24:50,939
know what I mean

1546
01:24:56,520 --> 01:25:01,650
I feel like our lighting is gonna look

1547
01:24:58,020 --> 01:25:03,469
really really baller once we get the

1548
01:25:01,649 --> 01:25:07,219
bounce in there

1549
01:25:03,469 --> 01:25:07,219
it seems you look sweet

1550
01:25:23,328 --> 01:25:26,679
yeah I'm excited for that

1551
01:25:39,300 --> 01:25:51,029
just if the camp code is an assignment

1552
01:25:42,359 --> 01:25:55,619
to John yeah John doesn't have much to

1553
01:25:51,029 --> 01:25:59,840
do why are the debug liens of fixed size

1554
01:25:55,619 --> 01:26:03,649
buffer just cuz it's throwaway code um

1555
01:25:59,840 --> 01:26:06,960
yeah I mean it just doesn't matter right

1556
01:26:03,649 --> 01:26:10,920
also kind of for the reason that we just

1557
01:26:06,960 --> 01:26:12,689
saw like I want it to complain if I draw

1558
01:26:10,920 --> 01:26:16,079
too many debug lines that probably means

1559
01:26:12,689 --> 01:26:19,199
something weird is happening and it was

1560
01:26:16,079 --> 01:26:21,689
so you know sometimes you want some hard

1561
01:26:19,199 --> 01:26:23,069
limits in your code especially if it's

1562
01:26:21,689 --> 01:26:24,869
not something that the user interacts

1563
01:26:23,069 --> 01:26:27,829
with because it lets you know that

1564
01:26:24,869 --> 01:26:27,829
something went wrong

1565
01:26:42,210 --> 01:26:45,970
you have any thoughts on the trade us of

1566
01:26:44,439 --> 01:26:47,859
making your data structures directly

1567
01:26:45,970 --> 01:26:50,380
serializable versus having intermediate

1568
01:26:47,859 --> 01:26:51,939
serialize to serialize steps ie data

1569
01:26:50,380 --> 01:26:58,390
structures containing pointers being

1570
01:26:51,939 --> 01:26:59,409
converted to offsets or indices so I

1571
01:26:58,390 --> 01:27:00,640
guess what I would say is I don't

1572
01:26:59,409 --> 01:27:06,130
normally think of it that way

1573
01:27:00,640 --> 01:27:08,700
serialization it's usually not that big

1574
01:27:06,130 --> 01:27:11,500
of a deal to me

1575
01:27:08,699 --> 01:27:15,220
because usually if your stuff is working

1576
01:27:11,500 --> 01:27:21,520
well in at runtime it is usually trivial

1577
01:27:15,220 --> 01:27:24,130
to serialize it is my experience so for

1578
01:27:21,520 --> 01:27:27,160
example you know typically you don't

1579
01:27:24,130 --> 01:27:29,789
really want pointers anyway in your data

1580
01:27:27,159 --> 01:27:34,809
structures like if you have pointers in

1581
01:27:29,789 --> 01:27:39,130
your like world code it usually means

1582
01:27:34,810 --> 01:27:41,830
something bad is happening right it

1583
01:27:39,130 --> 01:27:43,659
usually means that like you're using a

1584
01:27:41,829 --> 01:27:45,189
lot more space to store something than

1585
01:27:43,659 --> 01:27:49,389
you probably should which is gonna make

1586
01:27:45,189 --> 01:27:54,839
it inefficient right and so most of the

1587
01:27:49,390 --> 01:27:54,840
time I find it's not really an issue

1588
01:27:55,199 --> 01:27:59,670
so the question doesn't usually come up

1589
01:28:00,359 --> 01:28:04,000
another way to say it would be that

1590
01:28:02,409 --> 01:28:05,859
usually you've already converted things

1591
01:28:04,000 --> 01:28:09,300
to offsets or indices for other

1592
01:28:05,859 --> 01:28:11,409
performance or compactness reasons

1593
01:28:09,300 --> 01:28:13,570
before you even have to worry about the

1594
01:28:11,409 --> 01:28:19,329
serialization part of things at least

1595
01:28:13,569 --> 01:28:21,009
the way I write things 0l PBM says are

1596
01:28:19,329 --> 01:28:26,380
the bounces going to be computed also

1597
01:28:21,010 --> 01:28:27,670
with the ray tracer absolutely that is

1598
01:28:26,380 --> 01:28:29,890
exactly what's going to be happening

1599
01:28:27,670 --> 01:28:31,449
that's why we did it this way first it

1600
01:28:29,890 --> 01:28:33,310
so I could verify that direct lighting

1601
01:28:31,449 --> 01:28:35,170
worked properly because that's easy for

1602
01:28:33,310 --> 01:28:37,300
me to inspect like I can tell that this

1603
01:28:35,170 --> 01:28:39,069
is doing what it's supposed to be doing

1604
01:28:37,300 --> 01:28:40,989
to the for the most part right and that

1605
01:28:39,069 --> 01:28:45,429
the rheya caster isn't you know confused

1606
01:28:40,989 --> 01:28:47,949
about something and we can test it some

1607
01:28:45,430 --> 01:28:49,000
more using this as an example right you

1608
01:28:47,949 --> 01:28:54,039
can see there's some weirdness there

1609
01:28:49,000 --> 01:28:55,149
where like we clip off the the

1610
01:28:54,039 --> 01:28:55,529
Lighting's getting like clipped off

1611
01:28:55,149 --> 01:28:58,500
there

1612
01:28:55,529 --> 01:29:03,630
I don't know why maybe because of the

1613
01:28:58,500 --> 01:29:06,229
close enough filtering fact I can check

1614
01:29:03,630 --> 01:29:06,230
that right now

1615
01:29:19,270 --> 01:29:30,050
yes so if inside the raycast we are

1616
01:29:25,399 --> 01:29:31,849
still doing that which we are yeah I'm

1617
01:29:30,050 --> 01:29:34,159
kind of wondering if this is nonsense

1618
01:29:31,850 --> 01:29:35,300
right so the close enough filtering I've

1619
01:29:34,159 --> 01:29:36,439
already said it's kind of it to do

1620
01:29:35,300 --> 01:29:37,670
because that don't think it's very good

1621
01:29:36,439 --> 01:29:44,629
I just want to see if that's what's

1622
01:29:37,670 --> 01:29:47,210
happening here yep

1623
01:29:44,630 --> 01:29:56,150
so that close enough filtering is like

1624
01:29:47,210 --> 01:29:58,460
garbage and that's unfortunate but yeah

1625
01:29:56,149 --> 01:29:59,779
that's where we're at so that close

1626
01:29:58,460 --> 01:30:02,779
enough filtering probably needs to be

1627
01:29:59,779 --> 01:30:06,170
done differently however just increasing

1628
01:30:02,779 --> 01:30:07,579
the the total distance was enough to fix

1629
01:30:06,170 --> 01:30:09,199
it here so I suppose it's not an

1630
01:30:07,579 --> 01:30:12,430
immediate concern but I do think it's

1631
01:30:09,199 --> 01:30:12,429
just generally kind of wrong

1632
01:30:33,349 --> 01:30:40,099
can we add for a test the second bounce

1633
01:30:35,510 --> 01:30:47,960
or would it require more work for a test

1634
01:30:40,099 --> 01:30:50,029
we could add a second bounce it would

1635
01:30:47,960 --> 01:31:01,099
not be being done the way we will do it

1636
01:30:50,029 --> 01:31:02,328
in the future though right I'm trying to

1637
01:31:01,099 --> 01:31:04,960
think if really it would even do

1638
01:31:02,328 --> 01:31:04,960
anything at all

1639
01:31:12,899 --> 01:31:25,500
I mean so if we were literally just

1640
01:31:19,680 --> 01:31:29,850
hacking that in right to the way that

1641
01:31:25,500 --> 01:31:31,170
it's working currently and the problem

1642
01:31:29,850 --> 01:31:33,420
is we don't have blending either so I

1643
01:31:31,170 --> 01:31:35,039
really don't think this would be an

1644
01:31:33,420 --> 01:31:37,250
interesting test to be completely honest

1645
01:31:35,039 --> 01:31:37,250
with you

1646
01:31:44,840 --> 01:31:51,810
oops like I don't think this is gonna be

1647
01:31:49,800 --> 01:31:53,610
useful but if you needed to hack it in

1648
01:31:51,810 --> 01:31:56,550
this way what you would have to do is

1649
01:31:53,609 --> 01:32:00,000
basically right here where we find out

1650
01:31:56,550 --> 01:32:04,320
that we got a hit we then have to like

1651
01:32:00,000 --> 01:32:05,909
recast to see if there is an an on hit

1652
01:32:04,319 --> 01:32:08,489
from the other point and then we have to

1653
01:32:05,909 --> 01:32:10,500
decide like how much to attenuate which

1654
01:32:08,489 --> 01:32:13,649
I don't actually know exactly how we

1655
01:32:10,500 --> 01:32:20,310
would do I guess we just take the total

1656
01:32:13,649 --> 01:32:22,170
distance or something of travel but yeah

1657
01:32:20,310 --> 01:32:24,060
I mean I don't know like this is not at

1658
01:32:22,170 --> 01:32:26,399
all right but that's what you would do

1659
01:32:24,060 --> 01:32:31,340
you'd go like all right you know if we

1660
01:32:26,399 --> 01:32:31,339
hit do it again

1661
01:32:37,699 --> 01:32:43,010
where we would basically say like yeah

1662
01:32:40,250 --> 01:32:44,390
you know where the hit I don't know why

1663
01:32:43,010 --> 01:32:48,110
there's an if one around this anymore

1664
01:32:44,390 --> 01:32:51,530
it's just kind of stupid but so we'd say

1665
01:32:48,109 --> 01:32:57,289
yeah alright you know the the place that

1666
01:32:51,529 --> 01:33:00,590
we actually hit we need to produce a new

1667
01:32:57,289 --> 01:33:02,750
caste for that that's gonna come from

1668
01:33:00,590 --> 01:33:04,130
like the direction the new direction to

1669
01:33:02,750 --> 01:33:08,390
the light source right so you'd have to

1670
01:33:04,130 --> 01:33:10,869
do this whole stupid thing again right

1671
01:33:08,390 --> 01:33:14,289
so you'd say like alright

1672
01:33:10,869 --> 01:33:18,739
the secondary caste direction is like

1673
01:33:14,289 --> 01:33:24,289
the direction from the hit P and the

1674
01:33:18,739 --> 01:33:44,059
secondary caste Tmax right just this or

1675
01:33:24,289 --> 01:33:45,800
that who knows right so you would do

1676
01:33:44,060 --> 01:33:47,390
that and then you would have a secondary

1677
01:33:45,800 --> 01:33:53,510
caste that would tell you whether or not

1678
01:33:47,390 --> 01:33:57,520
you hit if you didn't hit so if like you

1679
01:33:53,510 --> 01:33:57,520
did this right

1680
01:34:05,750 --> 01:34:13,849
or rather that so if you cast you didn't

1681
01:34:11,510 --> 01:34:21,710
hit anything then you could undo the hit

1682
01:34:13,849 --> 01:34:23,300
and say like no it's not and the problem

1683
01:34:21,710 --> 01:34:25,819
would be that we would need to be

1684
01:34:23,300 --> 01:34:28,520
passing to the spam voxel the fact that

1685
01:34:25,819 --> 01:34:35,149
that it should be dimmer because it had

1686
01:34:28,520 --> 01:34:37,520
to bounce right so I I don't really know

1687
01:34:35,149 --> 01:34:40,789
that this is gonna do anything that we

1688
01:34:37,520 --> 01:34:46,070
want done why am I not able to build my

1689
01:34:40,789 --> 01:34:54,349
code what's going on here

1690
01:34:46,069 --> 01:34:58,219
oh no we just building the code so you

1691
01:34:54,349 --> 01:34:59,810
know in theory I guess that maybe is

1692
01:34:58,219 --> 01:35:01,130
doing a secondary bounce now I mean now

1693
01:34:59,810 --> 01:35:05,810
again I don't really know how to even

1694
01:35:01,130 --> 01:35:06,980
verify that in any particular way but it

1695
01:35:05,810 --> 01:35:08,570
kind of does look like it's doing

1696
01:35:06,979 --> 01:35:10,729
something slightly different I mean we

1697
01:35:08,569 --> 01:35:13,789
can certainly test at least whether or

1698
01:35:10,729 --> 01:35:16,339
not the thing works you know whether it

1699
01:35:13,789 --> 01:35:19,029
does anything so if I guess zero this

1700
01:35:16,340 --> 01:35:19,029
out here

1701
01:35:25,139 --> 01:35:31,590
I can't see anything I if it in and like

1702
01:35:30,118 --> 01:35:40,469
those things can see the secondary

1703
01:35:31,590 --> 01:35:42,690
bounce right but it's like I mean it

1704
01:35:40,469 --> 01:35:45,329
just means like someone you know like

1705
01:35:42,689 --> 01:35:47,579
someone over here hit that and then

1706
01:35:45,329 --> 01:35:49,109
could like or someone over here like hit

1707
01:35:47,579 --> 01:35:53,368
that and was able to get there or

1708
01:35:49,109 --> 01:35:57,868
something right for whatever reason but

1709
01:35:53,368 --> 01:35:59,759
it's not it's not a true secondary it's

1710
01:35:57,868 --> 01:36:01,349
not secondary light distribution because

1711
01:35:59,760 --> 01:36:03,060
it doesn't take into account the fact

1712
01:36:01,350 --> 01:36:05,190
that like all of these services got some

1713
01:36:03,060 --> 01:36:06,389
light like like these services could get

1714
01:36:05,189 --> 01:36:08,219
some light or something and then they

1715
01:36:06,389 --> 01:36:10,529
could spread it out you know in all

1716
01:36:08,219 --> 01:36:14,840
directions so it's it's just a specular

1717
01:36:10,529 --> 01:36:14,840
bounce so it doesn't mean anything right

1718
01:36:15,500 --> 01:36:21,000
it's just not useful I don't think it

1719
01:36:18,779 --> 01:36:21,719
doesn't improve the quality in any

1720
01:36:21,000 --> 01:36:24,029
meaningful way

1721
01:36:21,719 --> 01:36:25,560
right whereas the distribution system we

1722
01:36:24,029 --> 01:36:27,889
have from before when we turn that on I

1723
01:36:25,560 --> 01:36:35,070
think that'll be a big difference right

1724
01:36:27,889 --> 01:36:37,350
because it actually it actually is

1725
01:36:35,069 --> 01:36:39,238
taking account infinite bounces

1726
01:36:37,350 --> 01:36:44,750
basically and proper like spreading of

1727
01:36:39,238 --> 01:36:48,229
the light around so make sure I didn't

1728
01:36:44,750 --> 01:36:48,229
screw anything up there

1729
01:37:03,729 --> 01:37:08,259
do you plan any details and have spray

1730
01:37:05,829 --> 01:37:10,510
charlet yeah I'm not sure what we want

1731
01:37:08,260 --> 01:37:12,850
to do with sprite lighting but once we

1732
01:37:10,510 --> 01:37:15,159
have the lighting solution correct for

1733
01:37:12,850 --> 01:37:16,390
the 3d geometry since we can sample it

1734
01:37:15,159 --> 01:37:17,590
per pixel now I don't think it's gonna

1735
01:37:16,390 --> 01:37:20,289
be particularly hard to come up with a

1736
01:37:17,590 --> 01:37:22,989
reasonable sort of hacked function that

1737
01:37:20,289 --> 01:37:25,960
gives us the lighting we want you know

1738
01:37:22,989 --> 01:37:27,819
and we can we can sort of play with what

1739
01:37:25,960 --> 01:37:29,560
that means it's not gonna be something

1740
01:37:27,819 --> 01:37:31,529
physically realistic at all but it will

1741
01:37:29,560 --> 01:37:33,640
be probably something around like

1742
01:37:31,529 --> 01:37:35,500
interpolating the normals such that they

1743
01:37:33,640 --> 01:37:46,869
capture kind of roughly the lighting we

1744
01:37:35,500 --> 01:37:48,159
want it's my second year programming it

1745
01:37:46,869 --> 01:37:49,869
feels like there's endless stuff to

1746
01:37:48,159 --> 01:37:51,699
catch up before I can be a competent

1747
01:37:49,869 --> 01:37:55,090
game programmer what might I do to help

1748
01:37:51,699 --> 01:37:58,059
with that yeah I mean that's just that's

1749
01:37:55,090 --> 01:38:00,190
just true right it takes a lot of work

1750
01:37:58,060 --> 01:38:04,120
before you can be a game engine

1751
01:38:00,189 --> 01:38:07,149
programmer and that's okay right it

1752
01:38:04,119 --> 01:38:08,529
takes a while when you first start

1753
01:38:07,149 --> 01:38:10,239
working in the industry you're not gonna

1754
01:38:08,529 --> 01:38:12,429
know everything you know and that's fine

1755
01:38:10,239 --> 01:38:14,590
it takes several years to kind of get up

1756
01:38:12,430 --> 01:38:16,810
to speed on all that stuff so you just

1757
01:38:14,590 --> 01:38:18,869
want to focus on one thing at first you

1758
01:38:16,810 --> 01:38:21,490
know you know maybe you start by doing

1759
01:38:18,869 --> 01:38:22,689
you know I'm just doing some physics or

1760
01:38:21,489 --> 01:38:24,460
I'm just doing some graphics or I'm just

1761
01:38:22,689 --> 01:38:27,219
doing some this or that or architecture

1762
01:38:24,460 --> 01:38:28,539
stuff or entities work or game play

1763
01:38:27,220 --> 01:38:30,850
programming work right and you just

1764
01:38:28,539 --> 01:38:32,170
build outward you know you one thing at

1765
01:38:30,850 --> 01:38:35,110
a time and take it easy

1766
01:38:32,170 --> 01:38:37,449
you know nobody knows everything day one

1767
01:38:35,109 --> 01:38:38,949
it takes many many years and that's fine

1768
01:38:37,449 --> 01:38:42,760
and you're not gonna expect it to know

1769
01:38:38,949 --> 01:38:45,880
everything the first day you show up at

1770
01:38:42,760 --> 01:38:47,650
your first game permit job so you know I

1771
01:38:45,880 --> 01:38:50,529
wouldn't stress too much about it but

1772
01:38:47,649 --> 01:38:53,979
always be programming ABC right always

1773
01:38:50,529 --> 01:38:56,079
be coding uh-huh and if you're always

1774
01:38:53,979 --> 01:38:58,769
working eventually that knowledge will

1775
01:38:56,079 --> 01:38:58,769
just build over time

1776
01:39:12,609 --> 01:39:22,630
oops tonight sorry Elvis did I mess

1777
01:39:15,279 --> 01:39:24,609
something up there maybe I didn't do a

1778
01:39:22,630 --> 01:39:27,520
fair test of that I mean I still don't

1779
01:39:24,609 --> 01:39:31,589
it's just not useful but was there

1780
01:39:27,520 --> 01:39:31,590
something messed up in here oh yeah I

1781
01:39:33,810 --> 01:39:45,780
did

1782
01:39:34,989 --> 01:39:45,779
sorry I think that's right now

1783
01:39:51,179 --> 01:39:57,000
again I mean not really testing it I

1784
01:39:53,908 --> 01:39:59,849
don't know to what extent it's actually

1785
01:39:57,000 --> 01:40:07,260
doing it properly but in theory that's a

1786
01:39:59,850 --> 01:40:09,620
secondary bounce I don't really know if

1787
01:40:07,260 --> 01:40:09,619
it is

1788
01:40:25,529 --> 01:40:32,329
doesn't seem to actually be doing

1789
01:40:27,180 --> 01:40:32,329
anything oops

1790
01:40:37,599 --> 01:40:45,039
so there's without the quote-unquote

1791
01:40:40,029 --> 01:40:50,319
secondary bounce kind of does what you

1792
01:40:45,039 --> 01:40:53,130
expect here's with the not very good

1793
01:40:50,319 --> 01:40:53,130
secondary bounce

1794
01:41:00,969 --> 01:41:05,659
and you would want some dimming in there

1795
01:41:03,260 --> 01:41:08,270
right I mean so to make it even remotely

1796
01:41:05,659 --> 01:41:13,809
an interesting test you would need to

1797
01:41:08,270 --> 01:41:13,810
sort of have the total distance so like

1798
01:41:14,289 --> 01:41:19,010
you would have to have something that

1799
01:41:16,819 --> 01:41:21,079
let it know what the mitigation distance

1800
01:41:19,010 --> 01:41:24,710
was like and I don't you'd have to like

1801
01:41:21,079 --> 01:41:26,569
basically fake the light information so

1802
01:41:24,710 --> 01:41:30,199
this would have to update like the light

1803
01:41:26,569 --> 01:41:34,789
P right so you know an example would be

1804
01:41:30,199 --> 01:41:39,590
like so inside spam voxel this stuff

1805
01:41:34,789 --> 01:41:42,469
here so light P and also light C right

1806
01:41:39,590 --> 01:41:44,600
so this these would have to be things

1807
01:41:42,469 --> 01:41:52,760
that come in like so we'd have to do

1808
01:41:44,600 --> 01:41:59,150
this like v3 light P and B 3 light C so

1809
01:41:52,760 --> 01:42:01,940
basically you'd be doing this and then

1810
01:41:59,149 --> 01:42:13,429
when you do spam voxel you're actually

1811
01:42:01,939 --> 01:42:15,199
passing down like like this and again I

1812
01:42:13,430 --> 01:42:16,880
really don't think this is even remotely

1813
01:42:15,199 --> 01:42:18,139
related to what we should be doing and

1814
01:42:16,880 --> 01:42:20,690
we're not gonna do anything like this

1815
01:42:18,140 --> 01:42:22,579
next weekend but just you know for a

1816
01:42:20,689 --> 01:42:24,169
sake of completeness if we were gonna

1817
01:42:22,579 --> 01:42:25,939
update the light beam the light C right

1818
01:42:24,170 --> 01:42:27,949
then what we would do is say okay when

1819
01:42:25,939 --> 01:42:30,529
we come through here the light P is

1820
01:42:27,949 --> 01:42:34,899
gonna get read out of this right and the

1821
01:42:30,529 --> 01:42:34,899
light C is just going to be a generic

1822
01:42:35,439 --> 01:42:40,460
light and then when we come through here

1823
01:42:38,359 --> 01:42:43,099
we're gonna do is say all right if we

1824
01:42:40,460 --> 01:42:44,960
have a secondary hit so we need to like

1825
01:42:43,100 --> 01:42:47,180
update this light source it's something

1826
01:42:44,960 --> 01:42:49,039
else then we're gonna say the light is

1827
01:42:47,180 --> 01:42:51,230
actually now technically coming from a

1828
01:42:49,039 --> 01:42:53,000
different location so the actual

1829
01:42:51,229 --> 01:42:54,799
location the light is coming from now is

1830
01:42:53,000 --> 01:42:57,350
the hit P right so where we actually

1831
01:42:54,800 --> 01:42:59,960
bounced off of that's the new light and

1832
01:42:57,350 --> 01:43:01,910
the light color is actually going to be

1833
01:42:59,960 --> 01:43:05,300
whatever the attenuation would have been

1834
01:43:01,909 --> 01:43:09,559
at that point right so that means the

1835
01:43:05,300 --> 01:43:12,980
actual like this crap here right this

1836
01:43:09,560 --> 01:43:15,489
thing needs to be computed for fall off

1837
01:43:12,979 --> 01:43:18,198
like this

1838
01:43:15,488 --> 01:43:21,558
based on the distance of the original

1839
01:43:18,198 --> 01:43:23,808
cast so this thing right

1840
01:43:21,559 --> 01:43:25,760
so the original cast distance that we

1841
01:43:23,809 --> 01:43:27,829
actually traveled whatever that was

1842
01:43:25,760 --> 01:43:29,989
needs to attenuate the attenuate the

1843
01:43:27,828 --> 01:43:35,359
light source first and then that's the

1844
01:43:29,988 --> 01:43:38,118
actual color that you get right and

1845
01:43:35,359 --> 01:43:39,618
that's a totally hacked in nonsense

1846
01:43:38,118 --> 01:43:43,069
thing I don't even know if I typed it in

1847
01:43:39,618 --> 01:43:47,389
right but you get the idea right and so

1848
01:43:43,069 --> 01:43:49,250
that like that like dimming step wants

1849
01:43:47,389 --> 01:43:50,539
to be there as well and and now you can

1850
01:43:49,250 --> 01:43:53,920
kind of see what that looks like and

1851
01:43:50,539 --> 01:43:53,920
it's quite a bit different right

1852
01:43:54,460 --> 01:43:58,960
especially like out here right

1853
01:44:09,738 --> 01:44:13,308
so it's probably super buggy right look

1854
01:44:11,599 --> 01:44:23,659
I don't like I don't know this is

1855
01:44:13,309 --> 01:44:26,320
probably not really correct but it's

1856
01:44:23,658 --> 01:44:26,319
something like that

1857
01:44:28,789 --> 01:44:31,420
right

1858
01:44:40,279 --> 01:44:43,670
how you gonna handle bouncing up

1859
01:44:42,079 --> 01:44:45,289
different materials so we have

1860
01:44:43,670 --> 01:44:46,670
parameters in there right now that sort

1861
01:44:45,289 --> 01:44:48,649
of allow you to say some things about

1862
01:44:46,670 --> 01:44:54,770
the trails but what we don't have is any

1863
01:44:48,649 --> 01:44:56,089
way of like doing multi textured stuff

1864
01:44:54,770 --> 01:44:57,860
and I think I'm not going to do that

1865
01:44:56,090 --> 01:45:00,199
just for Speed purposes so probably what

1866
01:44:57,859 --> 01:45:01,729
we'll do is cubes will just have a color

1867
01:45:00,199 --> 01:45:04,399
per face and we'll just use whatever

1868
01:45:01,729 --> 01:45:08,019
color face you bump off of or we may

1869
01:45:04,399 --> 01:45:08,019
even not do that we may just say look

1870
01:45:08,800 --> 01:45:13,340
cubes have a general attenuation and

1871
01:45:11,300 --> 01:45:14,750
that's all you get so you basically just

1872
01:45:13,340 --> 01:45:17,900
have you know here's the rough

1873
01:45:14,750 --> 01:45:19,760
attenuation is brown is it green or

1874
01:45:17,899 --> 01:45:22,359
whatever we're not gonna really do

1875
01:45:19,760 --> 01:45:22,360
anything more than that

1876
01:45:29,510 --> 01:45:44,409
which type of engine programming do you

1877
01:45:31,550 --> 01:45:47,000
think the industry needs the most boy I

1878
01:45:44,409 --> 01:45:51,319
mean I don't know I couldn't say for

1879
01:45:47,000 --> 01:45:54,699
like the industry as a whole I would say

1880
01:45:51,319 --> 01:45:57,409
based on what I see the need for

1881
01:45:54,699 --> 01:45:59,090
definitely need graphics programmers you

1882
01:45:57,409 --> 01:46:00,800
pretty much never run out of need for

1883
01:45:59,090 --> 01:46:04,239
graphics programmers there's always so

1884
01:46:00,800 --> 01:46:06,560
much fricking graphics work to do

1885
01:46:04,238 --> 01:46:09,079
pipeline programmers so people who know

1886
01:46:06,560 --> 01:46:09,950
how to like do like processing of assets

1887
01:46:09,079 --> 01:46:12,649
and world

1888
01:46:09,949 --> 01:46:14,689
elodie generation chunking things ups

1889
01:46:12,649 --> 01:46:18,339
constructive solid geometry so base like

1890
01:46:14,689 --> 01:46:18,339
people who geometry processing people

1891
01:46:18,640 --> 01:46:23,570
tools construction people so people who

1892
01:46:21,770 --> 01:46:28,190
can make like little tools to do stuff

1893
01:46:23,569 --> 01:46:32,259
or like user interfaces for things need

1894
01:46:28,189 --> 01:46:32,259
a lot of that there's just so much stuff

1895
01:46:32,439 --> 01:46:37,639
optimizer people are typically very

1896
01:46:34,550 --> 01:46:38,989
useful you know who can analyze the

1897
01:46:37,640 --> 01:46:40,610
system find out what's causing the

1898
01:46:38,988 --> 01:46:41,589
problems and go in and fix them so that

1899
01:46:40,609 --> 01:46:46,569
the thing runs smoothly

1900
01:46:41,590 --> 01:46:49,100
everyone needs those people generalists

1901
01:46:46,569 --> 01:46:51,439
are useful everywhere I mean there's

1902
01:46:49,100 --> 01:46:53,329
just there's so much any-anything if you

1903
01:46:51,439 --> 01:46:54,619
can do any game programming game engine

1904
01:46:53,329 --> 01:46:56,119
programming there's probably a place for

1905
01:46:54,619 --> 01:46:58,840
you because there's so few there's just

1906
01:46:56,119 --> 01:46:58,840
nobody does it

1907
01:47:02,998 --> 01:47:11,448
so I mean that's just just how it is

1908
01:47:42,670 --> 01:47:51,039
yeah the answer is everything everywhere

1909
01:47:45,520 --> 01:47:54,370
yes kind of yeah I mean for example

1910
01:47:51,039 --> 01:47:59,279
right now I am trying to fill at least

1911
01:47:54,369 --> 01:48:03,099
four requests from friends of mine

1912
01:47:59,279 --> 01:48:08,469
looking for low-level I mean you know

1913
01:48:03,100 --> 01:48:12,870
engine programmer quality people and so

1914
01:48:08,470 --> 01:48:12,869
far I I have failed to to find it

1915
01:48:22,359 --> 01:48:25,779
profession our engine programmers really

1916
01:48:23,890 --> 01:48:27,039
as in-demand as you say I see the most

1917
01:48:25,779 --> 01:48:28,869
Triple A games or releasing with

1918
01:48:27,039 --> 01:48:33,039
hundreds of employees but only like four

1919
01:48:28,869 --> 01:48:34,989
to six engine programmers um so here's

1920
01:48:33,039 --> 01:48:38,649
what I would say I can't tell you

1921
01:48:34,989 --> 01:48:42,069
industry-wide because I don't know how

1922
01:48:38,649 --> 01:48:45,219
to get that statistic but I'll say two

1923
01:48:42,069 --> 01:48:48,340
things one just personally I can never

1924
01:48:45,220 --> 01:48:51,579
find enough like is that literally right

1925
01:48:48,340 --> 01:48:53,230
now if I had for high-quality engine

1926
01:48:51,579 --> 01:48:55,899
programmer people I could place them all

1927
01:48:53,229 --> 01:48:58,359
in jobs immediately I have no idea where

1928
01:48:55,899 --> 01:49:03,579
to find them none whatsoever

1929
01:48:58,359 --> 01:49:05,500
right as for the statistic of like

1930
01:49:03,579 --> 01:49:07,300
Triple A games releasing with hundreds

1931
01:49:05,500 --> 01:49:08,350
of employees but only like 46 engine

1932
01:49:07,300 --> 01:49:13,300
programmers first of all I think that's

1933
01:49:08,350 --> 01:49:14,710
not actually accurate but in general I

1934
01:49:13,300 --> 01:49:16,180
would suspect that most of the time the

1935
01:49:14,710 --> 01:49:17,289
reason there are only four to six engine

1936
01:49:16,180 --> 01:49:25,329
programmers anywhere is because that's

1937
01:49:17,289 --> 01:49:26,529
all they could find I mean I don't know

1938
01:49:25,329 --> 01:49:28,359
where I'd go to find more than six

1939
01:49:26,529 --> 01:49:33,899
engine programmers period like to hire

1940
01:49:28,359 --> 01:49:38,649
right now I can't even find four right

1941
01:49:33,899 --> 01:49:40,839
so I mean I'm just going by what I can't

1942
01:49:38,649 --> 01:49:42,339
find whereas if you just want some

1943
01:49:40,840 --> 01:49:43,960
random person who can write a script in

1944
01:49:42,340 --> 01:49:45,369
unity I mean I think you can just walk

1945
01:49:43,960 --> 01:49:48,420
onto the internet and you'll trip over

1946
01:49:45,369 --> 01:49:48,420
one right

1947
01:49:57,809 --> 01:50:05,340
how much do games he has hurt interns I

1948
01:50:03,738 --> 01:50:14,759
don't really know

1949
01:50:05,340 --> 01:50:17,520
I feel like Ryan Fleury that the the

1950
01:50:14,760 --> 01:50:24,230
person who now runs handmade Network who

1951
01:50:17,520 --> 01:50:24,230
took over for Abner I feel like he has

1952
01:50:24,500 --> 01:50:30,179
interned at a couple game companies or

1953
01:50:27,270 --> 01:50:32,340
at least one Internet insomniac I think

1954
01:50:30,179 --> 01:50:34,368
he might you maybe want to post on the

1955
01:50:32,340 --> 01:50:36,719
handmade network discord or something I

1956
01:50:34,368 --> 01:50:45,149
don't know how you get those set up

1957
01:50:36,719 --> 01:50:48,029
exactly but along with the theme what do

1958
01:50:45,149 --> 01:50:50,000
you define as the minimum requirement to

1959
01:50:48,029 --> 01:50:53,429
be a good engine programmer

1960
01:50:50,000 --> 01:50:55,469
so the the requirements for being a you

1961
01:50:53,429 --> 01:50:59,670
know someone who's really useful on an

1962
01:50:55,469 --> 01:51:01,230
engine programming team I would say I'd

1963
01:50:59,670 --> 01:51:03,090
have to think about how to define it

1964
01:51:01,229 --> 01:51:07,968
specifically but it probably is sort of

1965
01:51:03,090 --> 01:51:12,270
a three-pronged test for me one would be

1966
01:51:07,969 --> 01:51:14,520
gets a lot of work done right and this

1967
01:51:12,270 --> 01:51:16,199
can fall into one of two categories if

1968
01:51:14,520 --> 01:51:18,659
you're an architecture guy it means

1969
01:51:16,198 --> 01:51:20,250
getting a lot of code actually done

1970
01:51:18,658 --> 01:51:21,479
because like writes and rewrites are

1971
01:51:20,250 --> 01:51:23,488
your bread and butter and you need to

1972
01:51:21,479 --> 01:51:25,678
get a lot of this done but if you're not

1973
01:51:23,488 --> 01:51:27,299
if you're an optimization guy it may be

1974
01:51:25,679 --> 01:51:29,038
a lot more targeted so maybe you don't

1975
01:51:27,300 --> 01:51:31,020
get a lot of code done but you do do a

1976
01:51:29,038 --> 01:51:33,710
lot of work analyzing figuring out

1977
01:51:31,020 --> 01:51:40,349
problems and you get through that

1978
01:51:33,710 --> 01:51:42,960
cognitive work a lot right and so either

1979
01:51:40,349 --> 01:51:45,119
way you're producing a lot of very

1980
01:51:42,960 --> 01:51:47,158
usable work frequently either a lot of

1981
01:51:45,118 --> 01:51:48,420
analysis or a lot of actual code but

1982
01:51:47,158 --> 01:51:49,710
you're producing a lot you're not just

1983
01:51:48,420 --> 01:51:52,020
sitting around talking all the time or

1984
01:51:49,710 --> 01:51:54,510
hanging out on Twitter right so that's

1985
01:51:52,020 --> 01:51:56,070
super important that's the most

1986
01:51:54,510 --> 01:51:58,110
important requirement really for any

1987
01:51:56,069 --> 01:52:00,288
programmer is you get a lot of work done

1988
01:51:58,109 --> 01:52:04,710
every day

1989
01:52:00,288 --> 01:52:08,670
number two would be comfortable with

1990
01:52:04,710 --> 01:52:10,949
doing programming in C or C++ or

1991
01:52:08,670 --> 01:52:13,960
assembly language

1992
01:52:10,949 --> 01:52:17,409
routinely and you do it clean and well

1993
01:52:13,960 --> 01:52:20,649
without a lot of fuss not a lot of STD :

1994
01:52:17,409 --> 01:52:24,989
: nonsense none of this like modern C++

1995
01:52:20,649 --> 01:52:28,210
Rai nonsense like none of that right

1996
01:52:24,989 --> 01:52:30,849
just actual sensible code that's simple

1997
01:52:28,210 --> 01:52:34,449
easy to read you know like you see on

1998
01:52:30,850 --> 01:52:37,350
handmade hero just basic stuff does what

1999
01:52:34,449 --> 01:52:39,639
it's supposed to do not all this

2000
01:52:37,350 --> 01:52:41,470
ridiculous nonsense where somehow it

2001
01:52:39,640 --> 01:52:46,390
takes you ten thousand lines of code to

2002
01:52:41,470 --> 01:52:49,560
like you know copy you know a field from

2003
01:52:46,390 --> 01:52:49,560
one place to another right

2004
01:52:50,079 --> 01:52:56,699
and third would be and this is the

2005
01:52:52,899 --> 01:52:59,439
biggest difference I suppose between

2006
01:52:56,699 --> 01:53:01,239
game engine programmer and just good

2007
01:52:59,439 --> 01:53:05,349
programmer because the other two things

2008
01:53:01,239 --> 01:53:08,260
were a good programmer part that is

2009
01:53:05,350 --> 01:53:12,480
being comfortable researching and

2010
01:53:08,260 --> 01:53:16,090
exploring new areas in sort of

2011
01:53:12,479 --> 01:53:18,219
technology right so like what you see me

2012
01:53:16,090 --> 01:53:19,869
doing with the lighting I need you to be

2013
01:53:18,220 --> 01:53:21,250
able to do experimentation and be

2014
01:53:19,869 --> 01:53:22,779
comfortable like going reading some

2015
01:53:21,250 --> 01:53:24,880
research papers on something like

2016
01:53:22,779 --> 01:53:27,939
integrating that knowledge in like right

2017
01:53:24,880 --> 01:53:31,170
being comfortable being given tasks you

2018
01:53:27,939 --> 01:53:34,509
don't already know how to do right

2019
01:53:31,170 --> 01:53:41,940
that's really what I would say defines a

2020
01:53:34,510 --> 01:53:46,289
good engine programmer for the most part

2021
01:53:41,939 --> 01:53:46,289
would be mostly those three things right

2022
01:53:57,118 --> 01:54:00,210
why aren't most studios willing to

2023
01:53:58,770 --> 01:54:01,770
compensate a perfectly in spite of the

2024
01:54:00,210 --> 01:54:05,908
seemingly short supply of graphics

2025
01:54:01,770 --> 01:54:10,080
programmers I guess what do you mean by

2026
01:54:05,908 --> 01:54:12,000
compensate appropriately I mean these

2027
01:54:10,079 --> 01:54:14,309
are positions where you get paid well

2028
01:54:12,000 --> 01:54:15,689
over $100,000 a year I'm not not sure

2029
01:54:14,310 --> 01:54:23,789
what you mean by compensate

2030
01:54:15,689 --> 01:54:25,919
appropriately but I mean graphics engine

2031
01:54:23,789 --> 01:54:27,840
programmers or leak like the positions

2032
01:54:25,920 --> 01:54:31,039
that I would be thinking of filling

2033
01:54:27,840 --> 01:54:38,069
would be positions where you you know

2034
01:54:31,039 --> 01:54:41,039
would that would be paid a lot more

2035
01:54:38,069 --> 01:54:42,779
money then you know this is not a

2036
01:54:41,039 --> 01:54:45,439
$50,000 a year position that we're

2037
01:54:42,779 --> 01:54:45,439
talking about Ray

2038
01:54:56,850 --> 01:55:03,060
have you heard about valves ACO Mesa

2039
01:54:59,520 --> 01:55:04,770
shader compiler for AMD GPUs apparently

2040
01:55:03,060 --> 01:55:07,350
it is replacing LVM it's a great thing

2041
01:55:04,770 --> 01:55:08,660
for Linux gaming I have no idea what

2042
01:55:07,350 --> 01:55:13,039
that means

2043
01:55:08,659 --> 01:55:16,789
LLVM what does that have to do with

2044
01:55:13,039 --> 01:55:16,789
shader compilation

2045
01:55:24,560 --> 01:55:27,980
an animal relative to other positions on

2046
01:55:26,840 --> 01:55:32,060
the team that may not require his

2047
01:55:27,979 --> 01:55:33,859
extensive knowledge III mean yeah can I

2048
01:55:32,060 --> 01:55:36,170
just say is that true that doesn't sound

2049
01:55:33,859 --> 01:55:38,479
right to me I mean at least you know

2050
01:55:36,170 --> 01:55:40,310
maybe my knowledge is old but the

2051
01:55:38,479 --> 01:55:41,659
difference between like a unityscript ER

2052
01:55:40,310 --> 01:55:43,250
and a person who knows how to do

2053
01:55:41,659 --> 01:55:48,139
graphics engine programming is like you

2054
01:55:43,250 --> 01:55:54,199
know over 2x salary in my experience

2055
01:55:48,140 --> 01:55:56,210
right I mean none of this makes I mean

2056
01:55:54,199 --> 01:56:00,019
if you're wondering why compensation

2057
01:55:56,210 --> 01:56:01,819
doesn't make sense across companies then

2058
01:56:00,020 --> 01:56:03,920
that's a sort of a separate issue and

2059
01:56:01,819 --> 01:56:05,179
probably the broader question it's

2060
01:56:03,920 --> 01:56:09,619
because games don't make enough money

2061
01:56:05,180 --> 01:56:12,409
right you can be the you could be the

2062
01:56:09,619 --> 01:56:15,739
very stupidest least good person on your

2063
01:56:12,409 --> 01:56:18,380
game on your on a game development team

2064
01:56:15,739 --> 01:56:20,869
and be like the smartest person best

2065
01:56:18,380 --> 01:56:26,289
programmer at like on a Google team

2066
01:56:20,869 --> 01:56:28,760
right the you know the the level of

2067
01:56:26,289 --> 01:56:32,420
expectation of being able to do stuff is

2068
01:56:28,760 --> 01:56:37,039
like not there's an arbitrage thing

2069
01:56:32,420 --> 01:56:38,600
there right so those salaries are

2070
01:56:37,039 --> 01:56:40,550
definitely not commensurate you can

2071
01:56:38,600 --> 01:56:42,289
definitely leave your game job and go

2072
01:56:40,550 --> 01:56:43,970
get a Google job and be paid vastly more

2073
01:56:42,289 --> 01:56:48,260
money for the same level of skill that's

2074
01:56:43,970 --> 01:56:50,570
just true and that's just because I mean

2075
01:56:48,260 --> 01:56:52,270
games have to actually compete on

2076
01:56:50,569 --> 01:56:54,649
something whereas you know if you're

2077
01:56:52,270 --> 01:56:57,590
monopoly and you're unregulated by the

2078
01:56:54,649 --> 01:56:59,000
government its unsurprisingly not hard

2079
01:56:57,590 --> 01:57:01,720
to extract a lot of money from an

2080
01:56:59,000 --> 01:57:04,670
economy right so that's just like

2081
01:57:01,720 --> 01:57:06,590
unfortunate sign of the times I don't

2082
01:57:04,670 --> 01:57:09,670
think that'll be true in 20 years right

2083
01:57:06,590 --> 01:57:09,670
but for now it is

2084
01:57:22,729 --> 01:57:26,699
yes so I'm gonna I'm probably gonna wrap

2085
01:57:25,350 --> 01:57:38,310
it through now but yeah sorry I don't

2086
01:57:26,699 --> 01:57:41,069
understand that ACO ACO thing so I don't

2087
01:57:38,310 --> 01:57:42,240
know I mean like yeah I guess what it

2088
01:57:41,069 --> 01:57:43,799
what does that have to do with Linux

2089
01:57:42,239 --> 01:57:45,539
gaming is that just because the drivers

2090
01:57:43,800 --> 01:57:47,159
on Linux are bad so if you have a better

2091
01:57:45,539 --> 01:57:53,029
shader compiler like the games get

2092
01:57:47,159 --> 01:57:55,170
better or something I just I don't quite

2093
01:57:53,029 --> 01:57:57,479
understand the concept that maybe you

2094
01:57:55,170 --> 01:57:59,940
you can use LLVM to compile shaders or

2095
01:57:57,479 --> 01:58:00,809
you know I mean I don't I don't really

2096
01:57:59,939 --> 01:58:01,739
know what you're talking about exactly

2097
01:58:00,810 --> 01:58:03,180
but like I just don't have seen what

2098
01:58:01,739 --> 01:58:04,619
this has to do with Linux gaming right

2099
01:58:03,180 --> 01:58:11,490
that's the part that's throwing me for a

2100
01:58:04,619 --> 01:58:14,250
loop is it just because like the drivers

2101
01:58:11,489 --> 01:58:15,929
on Linux can't compile shaders well so

2102
01:58:14,250 --> 01:58:18,270
they like they perform poorly I guess

2103
01:58:15,930 --> 01:58:21,289
maybe an animal as if example take

2104
01:58:18,270 --> 01:58:23,670
Bethesda they pay gameplay programmers

2105
01:58:21,289 --> 01:58:26,819
80 to 110 K but the graphics engine

2106
01:58:23,670 --> 01:58:28,500
programmer is 90 to 130 K obviously

2107
01:58:26,819 --> 01:58:30,509
those numbers are from pay scale faster

2108
01:58:28,500 --> 01:58:33,689
etc but most like you represent a decent

2109
01:58:30,510 --> 01:58:36,030
sample size so I would say two things

2110
01:58:33,689 --> 01:58:39,839
about that one is I don't know much

2111
01:58:36,029 --> 01:58:41,579
about Bethesda obviously but what I

2112
01:58:39,840 --> 01:58:44,039
would say is it also depends on what you

2113
01:58:41,579 --> 01:58:45,239
mean by gameplay programmer so if we're

2114
01:58:44,039 --> 01:58:48,329
talking about someone who's actually

2115
01:58:45,239 --> 01:58:50,039
programming real gameplay code not in

2116
01:58:48,329 --> 01:58:51,800
like a scripting language that actually

2117
01:58:50,039 --> 01:58:53,819
involves a bunch of like tech stuff

2118
01:58:51,800 --> 01:58:55,230
they're not that different from a

2119
01:58:53,819 --> 01:58:58,529
graphics programmer so I wouldn't expect

2120
01:58:55,229 --> 01:59:03,029
those two things to be really all that

2121
01:58:58,529 --> 01:59:03,960
different right so it really depends on

2122
01:59:03,029 --> 01:59:05,729
what you're talking about there the

2123
01:59:03,960 --> 01:59:08,039
other thing I would say is that salary

2124
01:59:05,729 --> 01:59:10,019
range for a good engine programmer seems

2125
01:59:08,039 --> 01:59:13,229
pretty low so it may just be that

2126
01:59:10,020 --> 01:59:15,570
Bethesda doesn't care much about engines

2127
01:59:13,229 --> 01:59:19,919
for all I know or maybe that's not

2128
01:59:15,569 --> 01:59:22,889
really what that means right so you have

2129
01:59:19,920 --> 01:59:25,560
to kind of be careful about looking at

2130
01:59:22,890 --> 01:59:28,860
those numbers and what do they actually

2131
01:59:25,560 --> 01:59:31,470
mean similarly if you look at that range

2132
01:59:28,859 --> 01:59:33,299
if you if gameplay programmers are

2133
01:59:31,470 --> 01:59:35,310
making 80k if they're scripters and

2134
01:59:33,300 --> 01:59:35,969
engine programmers are making 130 K if

2135
01:59:35,310 --> 01:59:37,519
they're good

2136
01:59:35,969 --> 01:59:41,179
that actually is a very large difference

2137
01:59:37,519 --> 01:59:45,900
right that's a 50% salary increase

2138
01:59:41,179 --> 01:59:50,578
between the it's more like a 60% one

2139
01:59:45,899 --> 01:59:53,728
right so again don't really know what

2140
01:59:50,578 --> 01:59:55,710
that even means it's hard to compare but

2141
01:59:53,729 --> 01:59:57,869
I would say like good engine programmers

2142
01:59:55,710 --> 01:59:59,819
can make a lot more than 130 K depending

2143
01:59:57,868 --> 02:00:01,348
on where you go and Bethesda may be a

2144
01:59:59,819 --> 02:00:04,920
bad place to go for that because maybe

2145
02:00:01,349 --> 02:00:10,010
they just don't care about getting more

2146
02:00:04,920 --> 02:00:12,059
people with those skills I don't know I

2147
02:00:10,010 --> 02:00:14,929
don't really have much insight into

2148
02:00:12,059 --> 02:00:14,929
their process right

2149
02:00:20,689 --> 02:00:25,639
all right I'm gonna wrap it up

2150
02:00:22,590 --> 02:00:25,640
[Music]

2151
02:00:35,359 --> 02:00:39,619
and also just to give some more data in

2152
02:00:37,130 --> 02:00:40,940
there like I said before I mean I've had

2153
02:00:39,619 --> 02:00:42,619
people who are trying to staff up

2154
02:00:40,939 --> 02:00:45,500
studios right now literally tell me that

2155
02:00:42,619 --> 02:00:48,069
you know engine programmers they have

2156
02:00:45,500 --> 02:00:50,329
tried to hire end up getting jobs at

2157
02:00:48,069 --> 02:00:52,099
Google which is their biggest problem

2158
02:00:50,329 --> 02:00:54,409
right now or Facebook and they get paid

2159
02:00:52,100 --> 02:00:56,990
absurd amounts of money apparently like

2160
02:00:54,409 --> 02:00:58,670
a hundred and thirty thousand dollars is

2161
02:00:56,989 --> 02:01:00,679
a laughable amount compared to the

2162
02:00:58,670 --> 02:01:02,449
mounts that I heard quoted and like I

2163
02:01:00,680 --> 02:01:05,329
said I don't know I don't study this

2164
02:01:02,449 --> 02:01:06,920
stuff but I guess I would say I would I

2165
02:01:05,329 --> 02:01:09,470
would think of it more as a problem in

2166
02:01:06,920 --> 02:01:11,119
that direction it does seem like there's

2167
02:01:09,470 --> 02:01:12,740
gonna be some leaching going on there

2168
02:01:11,119 --> 02:01:14,960
because apparently game programmers are

2169
02:01:12,739 --> 02:01:16,939
somewhat in demand because they know how

2170
02:01:14,960 --> 02:01:23,300
to actually write stuff instead of just

2171
02:01:16,939 --> 02:01:28,369
like writing in PHP or something or

2172
02:01:23,300 --> 02:01:30,650
Python I should say if it's Google all

2173
02:01:28,369 --> 02:01:31,909
right thank you everyone for joining me

2174
02:01:30,649 --> 02:01:33,739
for those sort of handmade hero its what

2175
02:01:31,909 --> 02:01:35,000
a pleasure coding with you as always if

2176
02:01:33,739 --> 02:01:36,800
you would like to follow in the series

2177
02:01:35,000 --> 02:01:38,510
you can always pre-order the game on

2178
02:01:36,800 --> 02:01:40,489
handmade hero org and it comes with a

2179
02:01:38,510 --> 02:01:43,850
source code so you can follow along with

2180
02:01:40,489 --> 02:01:48,439
it I will be back here next week

2181
02:01:43,850 --> 02:01:50,420
next weekend to try putting in a more

2182
02:01:48,439 --> 02:01:52,129
real lighting solution we already kind

2183
02:01:50,420 --> 02:01:54,890
of have code that does that but we

2184
02:01:52,130 --> 02:01:59,750
haven't really gone the extra step and

2185
02:01:54,890 --> 02:02:01,460
made that code sort of run on top of our

2186
02:01:59,750 --> 02:02:03,470
new voxel system so now that we sort of

2187
02:02:01,460 --> 02:02:05,930
have some confidence that our voxel

2188
02:02:03,470 --> 02:02:08,360
system is interpolating properly and we

2189
02:02:05,930 --> 02:02:09,950
have some confidence that our ray

2190
02:02:08,359 --> 02:02:11,599
casting is working properly we can now

2191
02:02:09,949 --> 02:02:14,989
combine those two things together and

2192
02:02:11,600 --> 02:02:16,970
start to produce a system that will

2193
02:02:14,989 --> 02:02:19,099
actually give us more subtle more

2194
02:02:16,970 --> 02:02:20,869
interesting lighting and there's two

2195
02:02:19,100 --> 02:02:22,460
steps to that well I don't know which

2196
02:02:20,869 --> 02:02:23,930
order we'll do them in one is we got to

2197
02:02:22,460 --> 02:02:25,670
come up with a good blending solution

2198
02:02:23,930 --> 02:02:29,180
for how do we actually output the

2199
02:02:25,670 --> 02:02:30,170
lighting in a reasonable way but the

2200
02:02:29,180 --> 02:02:33,140
other thing that we're gonna have to do

2201
02:02:30,170 --> 02:02:36,350
is then re-enable the bounce and caching

2202
02:02:33,140 --> 02:02:38,720
of the results over frames both of those

2203
02:02:36,350 --> 02:02:41,960
things we have to do so we'll take a

2204
02:02:38,720 --> 02:02:43,789
crack at one of the next weekend and

2205
02:02:41,960 --> 02:02:44,239
we'll go from there that's it for this

2206
02:02:43,789 --> 02:02:46,159
week

2207
02:02:44,239 --> 02:02:48,529
hopes everyone has fun programming this

2208
02:02:46,159 --> 02:02:49,550
week and I'll see you on the Internet

2209
02:02:48,529 --> 02:02:51,609
take it easy everybody

2210
02:02:49,550 --> 02:02:51,610
you

