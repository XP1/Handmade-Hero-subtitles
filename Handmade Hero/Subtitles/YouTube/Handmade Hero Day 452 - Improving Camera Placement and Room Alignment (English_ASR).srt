1
00:00:00,000 --> 00:00:02,759
hello everyone and welcome to hand made

2
00:00:01,469 --> 00:00:07,919
here oh sure we code a complete game

3
00:00:02,759 --> 00:00:10,919
live on stream we are so yesterday we

4
00:00:07,918 --> 00:00:12,599
did sort of one half of a thing and

5
00:00:10,919 --> 00:00:13,919
tomorrow we're gonna do the today we're

6
00:00:12,599 --> 00:00:15,330
gonna do the other half of the thing in

7
00:00:13,919 --> 00:00:18,059
a sense like the forwards and backwards

8
00:00:15,330 --> 00:00:20,879
versions because what we found yesterday

9
00:00:18,059 --> 00:00:23,070
was we wanted to get our camera frustum

10
00:00:20,879 --> 00:00:24,268
sort of stuff working properly frustums

11
00:00:23,070 --> 00:00:25,679
the wrong word in this case is we're not

12
00:00:24,268 --> 00:00:28,198
really using that we're just trying to

13
00:00:25,679 --> 00:00:29,518
get a rectangle in sort of level space

14
00:00:28,199 --> 00:00:31,650
that corresponds with the camera can see

15
00:00:29,518 --> 00:00:32,640
so we fixed our unprotect call we went

16
00:00:31,649 --> 00:00:34,619
through the math there and fix the

17
00:00:32,640 --> 00:00:35,820
problems with it that we had had because

18
00:00:34,619 --> 00:00:38,519
remember we changed everything around

19
00:00:35,820 --> 00:00:39,869
and we had never really gone back and

20
00:00:38,520 --> 00:00:42,149
made that thing really work right so we

21
00:00:39,869 --> 00:00:44,459
do now so he fixed that part and that

22
00:00:42,149 --> 00:00:47,160
part was important for fixing stuff like

23
00:00:44,460 --> 00:00:49,739
knowing what to query for the lighting

24
00:00:47,159 --> 00:00:52,828
and stuff like that because we need we

25
00:00:49,738 --> 00:00:54,750
need boundary regions for a bunch of

26
00:00:52,829 --> 00:00:56,579
computational stuff that we do in

27
00:00:54,750 --> 00:00:59,399
handmade Hiro and so what we need to

28
00:00:56,579 --> 00:01:02,039
know there right is we need to know the

29
00:00:59,399 --> 00:01:04,558
bounds of what the camera can see so

30
00:01:02,039 --> 00:01:06,540
that we make sure that we never like

31
00:01:04,558 --> 00:01:08,368
don't for example don't compute lighting

32
00:01:06,540 --> 00:01:09,570
for something that the camera can't see

33
00:01:08,368 --> 00:01:10,920
because if we don't compute the

34
00:01:09,569 --> 00:01:12,688
Lighting's in the camera can see it will

35
00:01:10,920 --> 00:01:14,280
show up as an obvious visual glitch so

36
00:01:12,688 --> 00:01:16,139
we fixed that part of it but now today

37
00:01:14,280 --> 00:01:17,609
we do the opposite of that because what

38
00:01:16,140 --> 00:01:21,359
we the other thing that I said I want to

39
00:01:17,609 --> 00:01:22,769
fix in the sort of system to sort of get

40
00:01:21,359 --> 00:01:24,929
things into a more smooth state and I'll

41
00:01:22,769 --> 00:01:28,590
show you what I mean actually right now

42
00:01:24,930 --> 00:01:33,210
as well let me go ahead and do a build

43
00:01:28,590 --> 00:01:35,670
here there we go so the other thing that

44
00:01:33,209 --> 00:01:36,959
I said that I wanna fix is okay we got

45
00:01:35,670 --> 00:01:39,659
the lighting stuff and you can see now

46
00:01:36,959 --> 00:01:41,759
if I you can see the the bounds are nice

47
00:01:39,659 --> 00:01:43,340
and tight to where the camera was and as

48
00:01:41,759 --> 00:01:45,659
we move you can see the lighting

49
00:01:43,340 --> 00:01:47,820
computation move with it so that if

50
00:01:45,659 --> 00:01:50,909
you're here you never really see any

51
00:01:47,819 --> 00:01:52,769
lighting glitches you you always have

52
00:01:50,909 --> 00:01:54,719
everything that's within the camera view

53
00:01:52,769 --> 00:01:56,640
being sent to the lighting solution

54
00:01:54,719 --> 00:01:58,890
which is exactly what we wanted in that

55
00:01:56,640 --> 00:02:01,109
fix is the bug now the other thing that

56
00:01:58,890 --> 00:02:02,879
I want to fix was the camera right now

57
00:02:01,109 --> 00:02:04,500
we have not really gone in and got the

58
00:02:02,879 --> 00:02:07,019
camera working properly now that we kind

59
00:02:04,500 --> 00:02:08,939
of know exactly what we're doing here

60
00:02:07,019 --> 00:02:10,378
there's no excuse for not making the

61
00:02:08,939 --> 00:02:12,780
camera work properly so that's why I

62
00:02:10,378 --> 00:02:13,879
want to do in order to get that working

63
00:02:12,780 --> 00:02:16,099
properly

64
00:02:13,879 --> 00:02:17,689
what we're going to have to do is we're

65
00:02:16,099 --> 00:02:20,060
going have to do the opposite of what we

66
00:02:17,689 --> 00:02:23,389
did yesterday yesterday we were asking

67
00:02:20,060 --> 00:02:25,490
the fundamental question if I take a

68
00:02:23,389 --> 00:02:28,729
given camera position which is where the

69
00:02:25,490 --> 00:02:30,980
camera is right now how much of the

70
00:02:28,729 --> 00:02:32,569
level can I see so I know how much of it

71
00:02:30,979 --> 00:02:34,099
to light that was the question we were

72
00:02:32,569 --> 00:02:35,479
asking right and in addition to lighting

73
00:02:34,099 --> 00:02:37,250
we might want to do other things right

74
00:02:35,479 --> 00:02:38,659
now we're going to be asking the

75
00:02:37,250 --> 00:02:41,060
question is we want the camera to start

76
00:02:38,659 --> 00:02:43,250
working more properly we're going to be

77
00:02:41,060 --> 00:02:46,819
asking the opposite question which is if

78
00:02:43,250 --> 00:02:50,629
I specify a given area of the level like

79
00:02:46,819 --> 00:02:52,879
for example I'm in this hallway or I'm

80
00:02:50,629 --> 00:02:54,530
in this room or that room or somewhere

81
00:02:52,879 --> 00:02:58,340
out here in the dungeon or who knows

82
00:02:54,530 --> 00:03:00,830
what if I decide to do those things and

83
00:02:58,340 --> 00:03:02,930
I want to always know that when I'm in a

84
00:03:00,830 --> 00:03:05,600
particular room I want to be able to see

85
00:03:02,930 --> 00:03:07,550
everything that is in that room

86
00:03:05,599 --> 00:03:09,259
then I put myself in a position where I

87
00:03:07,550 --> 00:03:12,230
need to ask the opposite question and

88
00:03:09,259 --> 00:03:15,319
the opposite question is given a region

89
00:03:12,229 --> 00:03:18,619
of the game that I'm telling you a

90
00:03:15,319 --> 00:03:21,229
prairie I want to see completely how do

91
00:03:18,620 --> 00:03:24,939
I make sure that I pick a camera

92
00:03:21,229 --> 00:03:29,419
location that does see it completely

93
00:03:24,939 --> 00:03:32,419
right so that's what I'm trying to do

94
00:03:29,419 --> 00:03:34,039
effectively is is the opposite thing one

95
00:03:32,419 --> 00:03:36,799
was camera location

96
00:03:34,039 --> 00:03:39,919
give me the region that can be seen so

97
00:03:36,800 --> 00:03:42,380
like this white box right is the region

98
00:03:39,919 --> 00:03:45,649
that the camera can see so we just know

99
00:03:42,379 --> 00:03:49,819
that's what the camera can see for on a

100
00:03:45,650 --> 00:03:55,459
given slice of on a given so I'm looking

101
00:03:49,819 --> 00:03:56,719
for for a given like area so the camera

102
00:03:55,459 --> 00:03:58,099
has a certain distance that we're

103
00:03:56,719 --> 00:04:00,080
looking at and we know that we're

104
00:03:58,099 --> 00:04:02,509
looking at this you know slice of the

105
00:04:00,080 --> 00:04:03,920
world at that distance what is the

106
00:04:02,509 --> 00:04:06,560
rectangle the camera can see was the

107
00:04:03,919 --> 00:04:08,629
question we were asking and that was the

108
00:04:06,560 --> 00:04:11,120
forward question from a camera to a

109
00:04:08,629 --> 00:04:13,789
rectangle and so now we want to ask the

110
00:04:11,120 --> 00:04:16,819
reverse question if I feed in a

111
00:04:13,789 --> 00:04:20,569
rectangle and say at this distance if a

112
00:04:16,819 --> 00:04:23,509
rectangle was this big how far back from

113
00:04:20,569 --> 00:04:27,290
the rectangle would I have to go before

114
00:04:23,509 --> 00:04:36,409
I can see the whole thing right

115
00:04:27,290 --> 00:04:38,090
that's what I need to know now and so

116
00:04:36,410 --> 00:04:40,939
it's not exactly the reverse question

117
00:04:38,089 --> 00:04:43,429
but it's a very similar it's the reverse

118
00:04:40,939 --> 00:04:47,079
question semantically it's just not the

119
00:04:43,430 --> 00:04:51,079
inverse mathematically in any real sense

120
00:04:47,079 --> 00:04:52,490
so it's kind of I'm not sure what you

121
00:04:51,079 --> 00:04:55,009
would call it but it's definitely the

122
00:04:52,490 --> 00:04:57,050
opposite question in terms of semantics

123
00:04:55,009 --> 00:04:58,789
one of the thing that you'll note so you

124
00:04:57,050 --> 00:05:01,939
notice when I hop from here to here to

125
00:04:58,790 --> 00:05:03,920
big room big room to big room you'll

126
00:05:01,939 --> 00:05:06,110
notice how well if for example if I let

127
00:05:03,920 --> 00:05:08,150
the camera settle in here like so and

128
00:05:06,110 --> 00:05:10,460
then I hop out you see how part of the

129
00:05:08,149 --> 00:05:11,810
level just appears first definitely cuz

130
00:05:10,459 --> 00:05:13,579
it's falling out of the simulation

131
00:05:11,810 --> 00:05:16,339
region there really quickly as the

132
00:05:13,579 --> 00:05:18,379
simulation just kind of snaps over one

133
00:05:16,339 --> 00:05:21,859
thing we can do there is we can include

134
00:05:18,379 --> 00:05:24,139
we can force the inclusion of the old

135
00:05:21,860 --> 00:05:26,060
simulation region until the camera move

136
00:05:24,139 --> 00:05:28,219
finishes and that's something that we'll

137
00:05:26,060 --> 00:05:30,589
also want to do again to avoid visual

138
00:05:28,220 --> 00:05:33,800
glitches because we don't really want to

139
00:05:30,589 --> 00:05:36,769
allow we don't want to have anything

140
00:05:33,800 --> 00:05:39,920
that sort of for lack of a better term

141
00:05:36,769 --> 00:05:42,169
breaks the illusion of permanence of the

142
00:05:39,920 --> 00:05:45,110
world you know we know because we wrote

143
00:05:42,170 --> 00:05:48,590
the game that the game only exists right

144
00:05:45,110 --> 00:05:49,730
where you are you know and and well and

145
00:05:48,589 --> 00:05:51,619
we also have the ability to simulate

146
00:05:49,730 --> 00:05:53,900
sort of things on background threads and

147
00:05:51,620 --> 00:05:56,000
stuff like that so but we know that

148
00:05:53,899 --> 00:05:58,699
there's a subset of the actual world

149
00:05:56,000 --> 00:06:01,069
that's ever really being looked at here

150
00:05:58,699 --> 00:06:03,079
and what we want to do as much as

151
00:06:01,069 --> 00:06:05,149
possible when we're making the engine is

152
00:06:03,079 --> 00:06:08,689
limit the degree to which the player

153
00:06:05,149 --> 00:06:11,659
feels that lip that limitation right we

154
00:06:08,689 --> 00:06:12,829
would like them to sort of believe for

155
00:06:11,660 --> 00:06:14,960
the most part like part of the

156
00:06:12,829 --> 00:06:17,240
suspension of disbelief there we would

157
00:06:14,959 --> 00:06:20,779
like them to believe that the entire

158
00:06:17,240 --> 00:06:22,490
game is in existence at all times and so

159
00:06:20,779 --> 00:06:24,529
things like having part of the world

160
00:06:22,490 --> 00:06:28,160
drop out when you switch the simulation

161
00:06:24,529 --> 00:06:30,289
to from room to room isn't easy it's

162
00:06:28,160 --> 00:06:32,600
something we want to have happen and so

163
00:06:30,290 --> 00:06:36,350
what I'd like to do is again like make

164
00:06:32,600 --> 00:06:39,290
sure that that sort of thing is is never

165
00:06:36,350 --> 00:06:40,120
really precede perceptible to the to the

166
00:06:39,290 --> 00:06:43,090
player

167
00:06:40,120 --> 00:06:45,340
now what you can see what you can see

168
00:06:43,089 --> 00:06:47,888
happening is this purple region here

169
00:06:45,339 --> 00:06:49,959
when I move like that the purple region

170
00:06:47,889 --> 00:06:52,300
is just cutting it off right that's

171
00:06:49,959 --> 00:06:54,459
what's happening so we have two choices

172
00:06:52,300 --> 00:06:55,990
there one is we can enlarge the purple

173
00:06:54,459 --> 00:06:57,849
region but not really want to enlarge

174
00:06:55,990 --> 00:07:00,280
the purple region because the larger the

175
00:06:57,850 --> 00:07:02,470
purple region cost us more resources so

176
00:07:00,279 --> 00:07:05,948
rather what I do is what I'd rather do

177
00:07:02,470 --> 00:07:07,660
is say look let's assume that the purple

178
00:07:05,949 --> 00:07:10,060
region from the last room you're in

179
00:07:07,660 --> 00:07:12,700
maybe we assume that that region is

180
00:07:10,060 --> 00:07:14,918
merged with the new region temporarily

181
00:07:12,699 --> 00:07:16,539
while the camera transitions and then

182
00:07:14,918 --> 00:07:18,819
once the camera has successfully

183
00:07:16,540 --> 00:07:21,370
transitioned out you know we will then

184
00:07:18,819 --> 00:07:26,829
drop that region from consideration or

185
00:07:21,370 --> 00:07:29,228
something right another thing we can do

186
00:07:26,829 --> 00:07:31,810
is can do a continuous slide like we can

187
00:07:29,228 --> 00:07:33,788
sort of slide the region slowly away we

188
00:07:31,810 --> 00:07:35,800
do have reasons why we might not want to

189
00:07:33,788 --> 00:07:37,990
do that there's a lot of different

190
00:07:35,800 --> 00:07:39,639
concerns that play here but there's a

191
00:07:37,990 --> 00:07:41,680
lot things we could do so one thing we

192
00:07:39,639 --> 00:07:43,360
could do is merge them so for example a

193
00:07:41,680 --> 00:07:44,860
really simple way and there's some

194
00:07:43,360 --> 00:07:46,479
reasons why we might not want to do this

195
00:07:44,860 --> 00:07:47,650
we can get in those reasons later and

196
00:07:46,478 --> 00:07:49,599
I'll put it through in there to look at

197
00:07:47,649 --> 00:07:54,370
it but just really quickly I can show

198
00:07:49,600 --> 00:07:56,470
you what I mean is we can take we

199
00:07:54,370 --> 00:07:59,918
because we know where the camera is

200
00:07:56,470 --> 00:08:02,620
right we can take the camera rectangle

201
00:07:59,918 --> 00:08:05,560
and we can use that as part of the

202
00:08:02,620 --> 00:08:08,379
simulation region automatically to make

203
00:08:05,560 --> 00:08:11,610
sure that it's always in right so if we

204
00:08:08,379 --> 00:08:15,098
take a look here when we're doing our

205
00:08:11,610 --> 00:08:16,870
our simulation region determination we

206
00:08:15,098 --> 00:08:18,699
have this info information here like

207
00:08:16,870 --> 00:08:20,918
camera bounds and meters and and world

208
00:08:18,699 --> 00:08:24,219
camera rectum and that kind of junk

209
00:08:20,918 --> 00:08:26,589
there so when we produce the sim bounds

210
00:08:24,220 --> 00:08:28,750
like we do here what we can do is merge

211
00:08:26,589 --> 00:08:31,719
the camera rec in so what I could do is

212
00:08:28,750 --> 00:08:34,269
say sim bounds equals you know the union

213
00:08:31,720 --> 00:08:35,918
of these two rectangles like the world

214
00:08:34,269 --> 00:08:37,778
camera rect and the simulation bounds I

215
00:08:35,918 --> 00:08:40,120
can Union those two together and that

216
00:08:37,778 --> 00:08:43,240
was sure that I always have at least

217
00:08:40,120 --> 00:08:46,360
that part there so now what you can see

218
00:08:43,240 --> 00:08:47,860
is even the the world itself kind of

219
00:08:46,360 --> 00:08:50,079
still continues to be in play at that

220
00:08:47,860 --> 00:08:53,529
point and so now what you can see is as

221
00:08:50,078 --> 00:08:55,299
I move around you you no longer get

222
00:08:53,529 --> 00:08:58,029
same glitch where everything drops out

223
00:08:55,299 --> 00:09:00,549
now we probably need a little bit of a

224
00:08:58,029 --> 00:09:02,350
safety apron there I'm not sure I'm not

225
00:09:00,549 --> 00:09:03,909
seeing any glitching at there it is you

226
00:09:02,350 --> 00:09:06,730
see do you see that glitching right if

227
00:09:03,909 --> 00:09:09,039
the thing that's because again the

228
00:09:06,730 --> 00:09:11,320
bounds are sort of like an inner out

229
00:09:09,039 --> 00:09:13,990
thing and an entity has a bigger radius

230
00:09:11,320 --> 00:09:16,240
than the bounds so really in here you

231
00:09:13,990 --> 00:09:21,039
know you would want to enlarge the sim

232
00:09:16,240 --> 00:09:24,340
bounce slightly in two to account for

233
00:09:21,039 --> 00:09:27,579
that apron so you know if we wanted to

234
00:09:24,340 --> 00:09:30,700
we could do also this in fact I suppose

235
00:09:27,580 --> 00:09:37,889
the the world camera rect here could

236
00:09:30,700 --> 00:09:45,640
have an ADD radius to applied to it and

237
00:09:37,889 --> 00:09:49,360
so inside radius to here we could just

238
00:09:45,639 --> 00:09:51,639
say look let's say we add you know you

239
00:09:49,360 --> 00:09:54,639
know five meters on on either side of

240
00:09:51,639 --> 00:09:58,088
that just to give it a little bit of

241
00:09:54,639 --> 00:10:01,149
extra coverage there or something and

242
00:09:58,089 --> 00:10:03,130
then once we have that then I think we

243
00:10:01,149 --> 00:10:04,629
would know for certain that we would not

244
00:10:03,129 --> 00:10:07,059
see that glitch because now we've got a

245
00:10:04,629 --> 00:10:09,580
little bit of a safety apron and now we

246
00:10:07,059 --> 00:10:11,379
would know that we would never allow

247
00:10:09,580 --> 00:10:13,960
stuff to drop kind of out of the

248
00:10:11,379 --> 00:10:16,480
simulation region if the camera can see

249
00:10:13,960 --> 00:10:20,460
it right so it's just an extra let left

250
00:10:16,480 --> 00:10:23,259
like added level of protection there

251
00:10:20,460 --> 00:10:25,300
that's just good for for it's just good

252
00:10:23,259 --> 00:10:28,838
for business there right and so now you

253
00:10:25,299 --> 00:10:31,029
can see if I hop around here you can see

254
00:10:28,839 --> 00:10:33,970
that as we slide around you can see that

255
00:10:31,029 --> 00:10:37,120
safety apron making sure that the purple

256
00:10:33,970 --> 00:10:40,000
region never contracts too early and

257
00:10:37,120 --> 00:10:41,620
that keeps that glitch from happening so

258
00:10:40,000 --> 00:10:43,539
you know like I said that's an easy fix

259
00:10:41,620 --> 00:10:46,990
for now there's reasons why we may not

260
00:10:43,539 --> 00:10:50,219
want to do it and and I'll just put

261
00:10:46,990 --> 00:10:50,220
briefly in here

262
00:11:19,309 --> 00:11:24,149
so one of the things that we did was we

263
00:11:22,019 --> 00:11:26,159
have these sort of notions of collected

264
00:11:24,149 --> 00:11:27,870
entities right that we call brains which

265
00:11:26,159 --> 00:11:29,519
are when you have entities that maybe

266
00:11:27,870 --> 00:11:31,580
want to be made up of multiple parts so

267
00:11:29,519 --> 00:11:33,569
for example let's suppose that we have

268
00:11:31,580 --> 00:11:35,670
one of our little snake entities is

269
00:11:33,570 --> 00:11:37,379
going around one of the problems that

270
00:11:35,669 --> 00:11:39,779
you would get with a sliding simulation

271
00:11:37,379 --> 00:11:43,169
region like that is part of the snake

272
00:11:39,779 --> 00:11:44,970
might be moved out of the simulation

273
00:11:43,169 --> 00:11:47,789
region while another part is still in

274
00:11:44,970 --> 00:11:53,210
and the problem with that that you would

275
00:11:47,789 --> 00:11:53,209
see again is just that it doesn't allow

276
00:11:54,860 --> 00:12:02,250
it doesn't it could lead to bugs where

277
00:12:00,480 --> 00:12:03,600
entities get separated by that window

278
00:12:02,250 --> 00:12:08,129
and then you end up with a snake that's

279
00:12:03,600 --> 00:12:11,820
in two halves for no reason right we did

280
00:12:08,129 --> 00:12:14,070
add some protection for that and I just

281
00:12:11,820 --> 00:12:16,020
again I just want to flag it as saying

282
00:12:14,070 --> 00:12:17,820
cuz that's a fairly complex part of this

283
00:12:16,019 --> 00:12:20,519
system it's the hardest part really I

284
00:12:17,820 --> 00:12:22,620
think that we'll have to get right and

285
00:12:20,519 --> 00:12:24,689
so I just want to be aware of it as we

286
00:12:22,620 --> 00:12:27,299
go forwards to make sure that we don't

287
00:12:24,690 --> 00:12:30,090
have a problem with that but I believe

288
00:12:27,299 --> 00:12:31,889
we did add some protection to that I

289
00:12:30,090 --> 00:12:35,220
think I don't know why we still have

290
00:12:31,889 --> 00:12:41,029
that move entity call we gotta get rid

291
00:12:35,220 --> 00:12:45,509
of some of that but I do think there was

292
00:12:41,029 --> 00:12:52,678
something in here that we did

293
00:12:45,509 --> 00:12:52,678
[Music]

294
00:12:53,139 --> 00:13:03,080
and I just I don't quite remember but I

295
00:12:56,570 --> 00:13:05,750
do remember a sort of I do remember a

296
00:13:03,080 --> 00:13:28,339
sort of like hemming and hawing about

297
00:13:05,750 --> 00:13:41,750
that I just don't remember it's been a

298
00:13:28,339 --> 00:13:44,260
while yes I mean I'm sorry I don't

299
00:13:41,750 --> 00:13:46,549
remember this very well I just I

300
00:13:44,259 --> 00:13:48,620
probably don't really want to go down

301
00:13:46,549 --> 00:13:51,949
this rathole at the moment cuz it's

302
00:13:48,620 --> 00:13:53,480
really just not relevant but hopefully

303
00:13:51,950 --> 00:13:55,790
those of you who watch the show

304
00:13:53,480 --> 00:14:11,959
regularly will remember what I'm talking

305
00:13:55,789 --> 00:14:14,449
about and maybe we didn't do it and I

306
00:14:11,958 --> 00:14:18,528
just am forgetting but I'm pretty sure

307
00:14:14,450 --> 00:14:21,980
we did where we sort of had a thing that

308
00:14:18,528 --> 00:14:24,439
we'd go oh yeah like you know if you

309
00:14:21,980 --> 00:14:27,379
unpacked the brain of this thing then

310
00:14:24,440 --> 00:14:32,870
unpack all of it or stuff like that

311
00:14:27,379 --> 00:14:36,370
there was some kind of thing that tried

312
00:14:32,870 --> 00:14:36,370
to do that

313
00:15:21,480 --> 00:15:26,230
so yeah sorry I mean I'm apologize for

314
00:15:24,458 --> 00:15:27,909
not know exactly where that is we'll

315
00:15:26,230 --> 00:15:29,769
have to go back and look it up again I'm

316
00:15:27,909 --> 00:15:32,078
pretty sure there was something that we

317
00:15:29,769 --> 00:15:35,019
at least tried and maybe we decided that

318
00:15:32,078 --> 00:15:37,388
that just wasn't really something that

319
00:15:35,019 --> 00:15:38,470
we were going to pursue and I deleted it

320
00:15:37,389 --> 00:15:41,230
or something like that but I'm pretty

321
00:15:38,470 --> 00:15:43,569
sure we did something where we tried to

322
00:15:41,230 --> 00:15:45,459
make it so that brains would get a

323
00:15:43,568 --> 00:15:47,860
little bit preferential treatment so

324
00:15:45,458 --> 00:15:50,138
that as entities got packed or unpacked

325
00:15:47,860 --> 00:15:51,909
they tried to pack into the same chunks

326
00:15:50,139 --> 00:15:55,448
even perhaps unnecessarily or weird

327
00:15:51,909 --> 00:16:00,490
things like this and I just don't quite

328
00:15:55,448 --> 00:16:01,568
remember what we did for that I think it

329
00:16:00,490 --> 00:16:05,438
had to do with the fact that if

330
00:16:01,568 --> 00:16:10,028
something was in the apron it would pull

331
00:16:05,438 --> 00:16:12,808
it into the active set Eve so I I don't

332
00:16:10,028 --> 00:16:16,448
really remember

333
00:16:12,808 --> 00:16:17,980
so anyway point being when we go to look

334
00:16:16,448 --> 00:16:19,719
at that code again at some point it's

335
00:16:17,980 --> 00:16:23,079
just something that I wanted to make

336
00:16:19,720 --> 00:16:26,740
sure that we were aware of and you know

337
00:16:23,078 --> 00:16:29,649
that's just neither here nor there

338
00:16:26,740 --> 00:16:31,659
so anyway getting back to what I wanted

339
00:16:29,649 --> 00:16:35,438
the rest of the topic of today to be is

340
00:16:31,659 --> 00:16:39,578
now what I want to do is make sort of a

341
00:16:35,438 --> 00:16:42,698
dynamic camera zoom level if you will if

342
00:16:39,578 --> 00:16:46,269
you remember how we were doing this in

343
00:16:42,698 --> 00:16:50,049
the camera code where we just have a

344
00:16:46,269 --> 00:16:53,019
very basic update bit camera for enemy

345
00:16:50,049 --> 00:16:55,808
movement code what we did here is we

346
00:16:53,019 --> 00:16:58,929
sort of said look we're just gonna hard

347
00:16:55,808 --> 00:17:02,409
code what the target offset Z is unless

348
00:16:58,929 --> 00:17:05,588
we see some kind of an override from

349
00:17:02,409 --> 00:17:07,209
like a camera volume that's that's you

350
00:17:05,588 --> 00:17:10,538
know telling us that we want to focus on

351
00:17:07,209 --> 00:17:13,779
something else so that's a totally

352
00:17:10,538 --> 00:17:15,099
reasonable thing to do and we can sort

353
00:17:13,779 --> 00:17:16,928
of leave that system in place and just

354
00:17:15,099 --> 00:17:19,029
improve it you can see we've got also

355
00:17:16,929 --> 00:17:19,929
room boundary problems here so I don't

356
00:17:19,029 --> 00:17:22,389
know if you can see what's happening

357
00:17:19,929 --> 00:17:23,649
there so what's happening there is we

358
00:17:22,390 --> 00:17:26,049
didn't set our room boundaries up

359
00:17:23,648 --> 00:17:28,509
properly so the hero when he's on the

360
00:17:26,048 --> 00:17:31,599
square in between two rooms it can't

361
00:17:28,509 --> 00:17:32,619
decide which camera to pick right so we

362
00:17:31,599 --> 00:17:34,779
want to fix that as well and that's

363
00:17:32,619 --> 00:17:37,449
pretty easy to fix as well but

364
00:17:34,779 --> 00:17:39,579
separate issue so anyway ignoring that

365
00:17:37,450 --> 00:17:43,720
temporarily just getting back to my

366
00:17:39,579 --> 00:17:46,569
stalking out so what we want to do here

367
00:17:43,720 --> 00:17:48,460
is we want to say all right let's start

368
00:17:46,569 --> 00:17:51,069
making sure that we always have that

369
00:17:48,460 --> 00:17:52,630
camera information so this which is what

370
00:17:51,069 --> 00:17:54,789
we're using before which says how high

371
00:17:52,630 --> 00:17:56,950
up you want to be just to give you an

372
00:17:54,789 --> 00:17:58,450
example what I'm talking about so if I

373
00:17:56,950 --> 00:18:01,720
recompile the game here you can see me

374
00:17:58,450 --> 00:18:04,930
zoom in this is the appropriate level of

375
00:18:01,720 --> 00:18:06,339
zoom for this room perhaps now maybe we

376
00:18:04,930 --> 00:18:08,230
don't ever want to be that close so

377
00:18:06,339 --> 00:18:10,629
maybe there's a minimum that's like here

378
00:18:08,230 --> 00:18:12,430
or something so even though we really

379
00:18:10,630 --> 00:18:14,620
could be closer in that room we won't be

380
00:18:12,430 --> 00:18:16,390
we'll just be this as a minimum this is

381
00:18:14,619 --> 00:18:19,029
the level of zoom that we want for this

382
00:18:16,390 --> 00:18:21,220
room but when we come to this room right

383
00:18:19,029 --> 00:18:23,589
it's not quite sufficient

384
00:18:21,220 --> 00:18:25,930
so we could do one of two things and

385
00:18:23,589 --> 00:18:29,559
again this is really up to us when we're

386
00:18:25,930 --> 00:18:33,100
designing the levels in the generator

387
00:18:29,559 --> 00:18:34,419
it's logic that puts out this room can

388
00:18:33,099 --> 00:18:37,269
make a decision about which one it wants

389
00:18:34,420 --> 00:18:39,670
either we want the camera to scroll

390
00:18:37,269 --> 00:18:43,329
which is something we want to specify

391
00:18:39,670 --> 00:18:44,910
here right or we want it to zoom out but

392
00:18:43,329 --> 00:18:47,500
we want it to do one of those two things

393
00:18:44,910 --> 00:18:49,240
so probably you know what I would want

394
00:18:47,500 --> 00:18:52,059
to do most of time is just zoom out so

395
00:18:49,240 --> 00:18:54,339
the player can see the whole room and so

396
00:18:52,059 --> 00:18:57,490
that requires a zoom level of something

397
00:18:54,339 --> 00:19:02,679
you know quite a bit substantially wider

398
00:18:57,490 --> 00:19:05,650
here like so like something like that

399
00:19:02,680 --> 00:19:11,200
right and so we need the camera to be

400
00:19:05,650 --> 00:19:13,660
able to to understand that when the room

401
00:19:11,200 --> 00:19:16,120
gets bigger it needs the bigger zoom

402
00:19:13,660 --> 00:19:18,460
level right so what we want to do is

403
00:19:16,119 --> 00:19:20,439
really one of two things and I don't

404
00:19:18,460 --> 00:19:27,370
know which one of these two things we

405
00:19:20,440 --> 00:19:28,840
actually want it may be that we really

406
00:19:27,369 --> 00:19:30,669
don't want to go the math route on this

407
00:19:28,839 --> 00:19:32,109
one and the reason I say we might not

408
00:19:30,670 --> 00:19:34,990
want to go the math on this one is it

409
00:19:32,109 --> 00:19:36,519
may just be more about tuning so it may

410
00:19:34,990 --> 00:19:38,920
just be more about the fact that you

411
00:19:36,519 --> 00:19:44,200
know we want to set whatever this value

412
00:19:38,920 --> 00:19:46,570
is and yeah we just want that to be

413
00:19:44,200 --> 00:19:47,590
whatever it is now you can see we got

414
00:19:46,569 --> 00:19:48,730
another thing we want we're going to

415
00:19:47,589 --> 00:19:50,889
want to fix when we do this is

416
00:19:48,730 --> 00:19:53,798
well which is that right now the fog

417
00:19:50,890 --> 00:19:55,450
level is hard-coded so eventually if I

418
00:19:53,798 --> 00:19:57,009
get far enough out like let's say I

419
00:19:55,450 --> 00:19:59,830
wanted to set this as the zoom level

420
00:19:57,009 --> 00:20:02,798
well that it'll everything will fog out

421
00:19:59,829 --> 00:20:08,048
right you can kind of see how everything

422
00:20:02,798 --> 00:20:10,298
is is is beginning to get reduced color

423
00:20:08,048 --> 00:20:11,798
wise and eventually I get far enough out

424
00:20:10,298 --> 00:20:15,369
it'll actually fall out of the clip

425
00:20:11,798 --> 00:20:16,629
plane even right not to mention the fact

426
00:20:15,369 --> 00:20:17,979
that will blow out our lighting buffers

427
00:20:16,630 --> 00:20:21,490
here but that's the sort of separate

428
00:20:17,980 --> 00:20:23,710
issue right so one of the other things

429
00:20:21,490 --> 00:20:29,019
we have to do is if we want to support

430
00:20:23,710 --> 00:20:31,419
zoom levels that are you know more that

431
00:20:29,019 --> 00:20:34,509
allow those those bigger rooms to all be

432
00:20:31,419 --> 00:20:36,610
in view then what we need to be able to

433
00:20:34,509 --> 00:20:39,460
do is we need to be able to set the

434
00:20:36,609 --> 00:20:42,308
fogging so that the fogging correctly

435
00:20:39,460 --> 00:20:44,980
adapts right the fog can't just be at a

436
00:20:42,308 --> 00:20:48,639
hard-coded level the fog has to kind of

437
00:20:44,980 --> 00:20:51,490
be more reasonable now I don't know if

438
00:20:48,640 --> 00:20:53,770
we ever really want this kind of a zoom

439
00:20:51,490 --> 00:20:55,900
level is the other problem so I'm

440
00:20:53,769 --> 00:20:57,639
thinking maybe you know the zoom has to

441
00:20:55,900 --> 00:20:59,679
top out at some point not sure where

442
00:20:57,640 --> 00:21:02,470
that point is so it may be like this is

443
00:20:59,679 --> 00:21:04,900
where the zoom tops out like this is how

444
00:21:02,470 --> 00:21:07,660
far about out we go anyway and what we

445
00:21:04,900 --> 00:21:10,240
may do is just allow scrolling inside

446
00:21:07,660 --> 00:21:13,029
rooms that are this big right and the

447
00:21:10,240 --> 00:21:15,700
normal room is one that just fits in

448
00:21:13,029 --> 00:21:21,789
here right the normal rooms that will be

449
00:21:15,700 --> 00:21:23,470
about this size and then you know and

450
00:21:21,789 --> 00:21:26,349
then we'll go from there

451
00:21:23,470 --> 00:21:30,370
so that's my thinking on this anyway at

452
00:21:26,349 --> 00:21:33,058
in so much as I've I've done it that's

453
00:21:30,369 --> 00:21:33,058
what I'm thinking

454
00:21:35,179 --> 00:21:46,570
oh excuse me all right

455
00:21:51,219 --> 00:21:55,460
so I think what I want to do here is I

456
00:21:53,868 --> 00:21:58,699
think I just want to stick with the with

457
00:21:55,460 --> 00:22:01,219
the hand coded option I think I want to

458
00:21:58,700 --> 00:22:02,838
just go ahead and have a table which is

459
00:22:01,219 --> 00:22:04,909
it like four different kinds of rooms

460
00:22:02,838 --> 00:22:07,148
that my generator generates I want them

461
00:22:04,909 --> 00:22:12,969
to just have something that I specified

462
00:22:07,148 --> 00:22:12,968
where I said specifically this is how

463
00:22:13,960 --> 00:22:18,798
this is how far the camera should be

464
00:22:16,190 --> 00:22:21,080
away a way for a room of this size and I

465
00:22:18,798 --> 00:22:23,479
tuned it manually

466
00:22:21,079 --> 00:22:25,189
to what I wanted because I think it's

467
00:22:23,479 --> 00:22:26,989
just a preference issue and I don't

468
00:22:25,190 --> 00:22:28,219
think the math is gonna help us here

469
00:22:26,989 --> 00:22:30,649
like the math will just give us an

470
00:22:28,219 --> 00:22:33,019
approximate answer that's like whatever

471
00:22:30,648 --> 00:22:34,968
the exact bounds would be that's a an

472
00:22:33,019 --> 00:22:37,190
approximate answer for what a human

473
00:22:34,969 --> 00:22:38,479
might want to see but a human might want

474
00:22:37,190 --> 00:22:40,129
it tuned a little out or a little in

475
00:22:38,479 --> 00:22:41,440
from there or whatever and the math is

476
00:22:40,128 --> 00:22:43,819
not going to tell us that I don't think

477
00:22:41,440 --> 00:22:48,519
so I think it's not really worth doing

478
00:22:43,819 --> 00:22:52,058
that math it's my assumption anyway

479
00:22:48,519 --> 00:22:52,058
don't quote me on that

480
00:23:21,420 --> 00:23:26,230
alright I'll stop marveling at the

481
00:23:23,140 --> 00:23:28,120
profile now ok so what we want to do

482
00:23:26,230 --> 00:23:32,380
here is we want to go ahead and just

483
00:23:28,119 --> 00:23:35,589
actually start looking at the the camera

484
00:23:32,380 --> 00:23:39,790
stuff here you can see the the room

485
00:23:35,589 --> 00:23:44,109
volume information effectively what I

486
00:23:39,789 --> 00:23:47,980
want to do I think is maybe make the

487
00:23:44,109 --> 00:23:50,049
room volume I mean I think what we want

488
00:23:47,980 --> 00:23:53,440
to do is those room volumes want to be

489
00:23:50,049 --> 00:23:56,319
always have the camera offset in them

490
00:23:53,440 --> 00:23:59,080
right because you can see here the only

491
00:23:56,319 --> 00:24:02,919
time that we do take a target offset Z

492
00:23:59,079 --> 00:24:05,379
from the from the data is when there's a

493
00:24:02,920 --> 00:24:08,440
special camera but I don't think we

494
00:24:05,380 --> 00:24:10,440
actually want to do it that way I think

495
00:24:08,440 --> 00:24:16,660
we want to take it from the room always

496
00:24:10,440 --> 00:24:19,120
and then and then have the the special

497
00:24:16,660 --> 00:24:22,779
camera just be additional things that

498
00:24:19,119 --> 00:24:26,789
can be specified but that's about it

499
00:24:22,779 --> 00:24:29,799
so in here where we do type brain room

500
00:24:26,789 --> 00:24:35,259
that probably wants to get that

501
00:24:29,799 --> 00:24:36,849
information directly out of there so so

502
00:24:35,259 --> 00:24:39,420
I'm gonna say we want something more

503
00:24:36,849 --> 00:24:39,419
like this

504
00:24:47,029 --> 00:24:52,349
so just in general whenever there's a

505
00:24:50,009 --> 00:25:00,329
room that room should specify an offset

506
00:24:52,349 --> 00:25:03,059
to Z and that is just a property of the

507
00:25:00,329 --> 00:25:06,230
of the entity itself now we've already

508
00:25:03,059 --> 00:25:10,730
got that in there for special cameras I

509
00:25:06,230 --> 00:25:10,730
believe you see here

510
00:25:15,410 --> 00:25:18,400
don't quote me on that

511
00:25:22,000 --> 00:25:32,359
so I guess we could just use like a

512
00:25:23,839 --> 00:25:35,659
camera offset Z and for that matter I

513
00:25:32,359 --> 00:25:39,589
suppose the X Y could be specified as

514
00:25:35,660 --> 00:25:41,990
well I don't really want to do that part

515
00:25:39,589 --> 00:25:46,159
yet and this may want to get this this

516
00:25:41,990 --> 00:25:55,609
may want to get sort of upgraded a

517
00:25:46,160 --> 00:25:57,169
little bit too but yeah so this okay so

518
00:25:55,609 --> 00:25:58,038
I feel like we've got base of the

519
00:25:57,169 --> 00:25:59,390
building box we need here I'm gonna

520
00:25:58,038 --> 00:26:01,730
start with this one and I think we will

521
00:25:59,390 --> 00:26:02,960
also do is we'll put we can roll all of

522
00:26:01,730 --> 00:26:07,298
this I think together a little bit

523
00:26:02,960 --> 00:26:09,829
better and specify whether we want

524
00:26:07,298 --> 00:26:13,038
whether we want there to be scrolling I

525
00:26:09,829 --> 00:26:18,529
think that could come in here as well so

526
00:26:13,038 --> 00:26:20,960
we'll see we'll see so if I go back in

527
00:26:18,529 --> 00:26:22,220
now to my world the world generator I

528
00:26:20,960 --> 00:26:23,900
mean one of things that should happen

529
00:26:22,220 --> 00:26:26,569
immediately is if I specify this we

530
00:26:23,900 --> 00:26:28,130
should immediately sort of suck directly

531
00:26:26,569 --> 00:26:29,710
in because that'll be set to zero

532
00:26:28,130 --> 00:26:33,799
normally and so we will just go like bra

533
00:26:29,710 --> 00:26:37,640
and it'll just be a nightmare right I'm

534
00:26:33,798 --> 00:26:39,408
guessing so yeah like we're zero away

535
00:26:37,640 --> 00:26:43,460
and I feel like that's a degenerate

536
00:26:39,409 --> 00:26:46,820
condition right so you pretty much never

537
00:26:43,460 --> 00:26:49,340
want this to be set to that what we can

538
00:26:46,819 --> 00:26:50,720
do in the world gen code then is just

539
00:26:49,339 --> 00:26:52,908
make sure we always set it to something

540
00:26:50,720 --> 00:26:55,220
if that's the room gencode actually make

541
00:26:52,909 --> 00:27:00,140
sure we always set it to something and

542
00:26:55,220 --> 00:27:03,950
so in here where we where we do camera

543
00:27:00,140 --> 00:27:12,909
room like this what we want to do is

544
00:27:03,950 --> 00:27:12,909
just specify here cam room camera offset

545
00:27:13,569 --> 00:27:22,730
Z that would set it to 16 is what we had

546
00:27:17,690 --> 00:27:24,470
it before for all rooms right and so now

547
00:27:22,730 --> 00:27:27,140
whenever you move around it'll set it

548
00:27:24,470 --> 00:27:28,909
right but what we want to do now is have

549
00:27:27,140 --> 00:27:34,849
a table that sort of decide

550
00:27:28,909 --> 00:27:38,090
it's based on the dimensions of the room

551
00:27:34,848 --> 00:27:39,558
what's going to happen right and so in

552
00:27:38,089 --> 00:27:41,089
order to do that I'm just gonna sort of

553
00:27:39,558 --> 00:27:45,108
create a little formula here and then

554
00:27:41,089 --> 00:27:47,209
tweak it to my preferences and we'll go

555
00:27:45,108 --> 00:27:50,769
from there so what I want to do is is

556
00:27:47,210 --> 00:27:53,419
say look I know how big we made the room

557
00:27:50,769 --> 00:27:56,058
I've got X count in Y count and those

558
00:27:53,419 --> 00:27:58,489
pretty much tell me and so what I want

559
00:27:56,058 --> 00:28:00,499
to do is I want to here sort of figure

560
00:27:58,489 --> 00:28:03,798
out what the zoom level is so maybe I'll

561
00:28:00,499 --> 00:28:08,808
do something like get off set a get

562
00:28:03,798 --> 00:28:11,538
camera off set Z for dimensions and I'll

563
00:28:08,808 --> 00:28:14,329
pass the X count and the Y count and

564
00:28:11,538 --> 00:28:18,158
I'll just say that this thing has to you

565
00:28:14,329 --> 00:28:21,978
know has to have a way of determining

566
00:28:18,159 --> 00:28:27,499
for a given x and y dimension what

567
00:28:21,979 --> 00:28:29,869
should it actually produce right and so

568
00:28:27,499 --> 00:28:33,348
I sort of said well like maybe 12 is

569
00:28:29,868 --> 00:28:37,339
like the answer in all situations that

570
00:28:33,348 --> 00:28:40,538
aren't handled some other way so like

571
00:28:37,339 --> 00:28:41,988
for example maybe this is just the

572
00:28:40,538 --> 00:28:46,308
default

573
00:28:41,989 --> 00:28:49,669
right and then we adjust things a little

574
00:28:46,308 --> 00:28:51,678
bit depending on what else it is so I

575
00:28:49,669 --> 00:28:54,440
don't know maybe this is like as far out

576
00:28:51,679 --> 00:28:56,778
as we get but then when we come into

577
00:28:54,440 --> 00:28:58,580
something like this maybe we zoom in a

578
00:28:56,778 --> 00:29:00,739
little bit and and so on and so forth

579
00:28:58,579 --> 00:29:02,509
right so I'm not sure about that maybe I

580
00:29:00,739 --> 00:29:04,028
want it a little bit bigger maybe I

581
00:29:02,509 --> 00:29:05,749
don't

582
00:29:04,028 --> 00:29:07,999
again this is something that can be

583
00:29:05,749 --> 00:29:11,149
tweaked all throughout the game design

584
00:29:07,999 --> 00:29:14,179
process and also since I'm not a game

585
00:29:11,148 --> 00:29:16,008
designer I a priori absolve myself for

586
00:29:14,179 --> 00:29:17,720
making any good decisions but point

587
00:29:16,009 --> 00:29:18,919
being architectural II speaking I think

588
00:29:17,720 --> 00:29:20,569
it's the right decision to put it in

589
00:29:18,919 --> 00:29:21,979
here because that way if you one was a

590
00:29:20,569 --> 00:29:23,989
game designer and did have an idea of

591
00:29:21,979 --> 00:29:24,859
what they were doing you would be able

592
00:29:23,989 --> 00:29:29,720
to do it

593
00:29:24,858 --> 00:29:31,970
just fine okay so let's suppose that

594
00:29:29,720 --> 00:29:34,339
we're going to do that here then what we

595
00:29:31,970 --> 00:29:38,058
want to do I think is determine sort of

596
00:29:34,339 --> 00:29:40,220
an X version in a Y version and then

597
00:29:38,058 --> 00:29:41,778
take whichever one is greater because

598
00:29:40,220 --> 00:29:42,720
remember what we're going to do is say

599
00:29:41,778 --> 00:29:44,130
well we've

600
00:29:42,720 --> 00:29:46,409
a certain way we might want to do the

601
00:29:44,130 --> 00:29:47,580
camera based on widths of things in a

602
00:29:46,409 --> 00:29:50,520
certain way we might wanna do the camera

603
00:29:47,579 --> 00:29:53,639
based on heights of things in terms of

604
00:29:50,519 --> 00:29:57,720
rooms with some height or I should say

605
00:29:53,640 --> 00:29:59,460
maybe X&amp;Y dimension in the plane and so

606
00:29:57,720 --> 00:30:00,929
I want to have a formula for each of

607
00:29:59,460 --> 00:30:02,819
those and then I want to take whatever

608
00:30:00,929 --> 00:30:04,530
one wants to be further out because our

609
00:30:02,819 --> 00:30:06,720
preference will always be to go further

610
00:30:04,529 --> 00:30:08,339
out so if you if you'd want to be a

611
00:30:06,720 --> 00:30:10,019
certain distance to see this width and a

612
00:30:08,339 --> 00:30:11,519
certain just see this height well we'll

613
00:30:10,019 --> 00:30:13,259
take whichever one is maximum because

614
00:30:11,519 --> 00:30:15,119
that's the one that would be preferred

615
00:30:13,259 --> 00:30:16,798
right we don't want to if you said you

616
00:30:15,119 --> 00:30:17,939
wanted to be this far out to see one of

617
00:30:16,798 --> 00:30:21,349
these two things we don't want to move

618
00:30:17,940 --> 00:30:25,500
you in closer than that certainly right

619
00:30:21,349 --> 00:30:28,859
so we'll do something like X dist and

620
00:30:25,500 --> 00:30:33,720
widest here right and those will both be

621
00:30:28,859 --> 00:30:35,250
at 0 or maybe we'll make this at the

622
00:30:33,720 --> 00:30:38,038
minimum so I don't know what the minimum

623
00:30:35,250 --> 00:30:39,419
would be maybe the minimum what what is

624
00:30:38,038 --> 00:30:44,900
the minimum that we'd want to be let's

625
00:30:39,419 --> 00:30:44,900
find out it's at like 8 state to close

626
00:30:51,909 --> 00:30:59,069
so you know I don't know maybe it's a

627
00:30:54,338 --> 00:30:59,068
little too close maybe it's more like 10

628
00:31:07,380 --> 00:31:14,170
maybe you know I don't know how much

629
00:31:12,059 --> 00:31:22,750
variability there's gonna be here

630
00:31:14,170 --> 00:31:26,140
exactly but that seems like you know so

631
00:31:22,750 --> 00:31:29,230
this room is what like 1 2 3 4 5 6 7 8 9

632
00:31:26,140 --> 00:31:36,130
10 what is this like that's good

633
00:31:29,230 --> 00:31:36,849
counting Casey 1 2 3 so this is a 13

634
00:31:36,130 --> 00:31:42,610
wide room

635
00:31:36,849 --> 00:31:51,549
I think sent right yeah it's a 13 wide

636
00:31:42,609 --> 00:31:53,819
room so given them that's a 13 that

637
00:31:51,549 --> 00:31:57,579
that's a room that has 13 squares in it

638
00:31:53,819 --> 00:32:01,419
you know for 13 squares I think 10 would

639
00:31:57,579 --> 00:32:06,669
would be good 10 was a good one right so

640
00:32:01,420 --> 00:32:14,860
I'm gonna go ahead and say that like if

641
00:32:06,670 --> 00:32:16,960
the X count is less than 13 I would

642
00:32:14,859 --> 00:32:18,699
leave it at 10 right so basically what

643
00:32:16,960 --> 00:32:23,350
we're talking about if it's greater than

644
00:32:18,700 --> 00:32:26,620
13 that's when we would actually start

645
00:32:23,349 --> 00:32:30,459
to care so looking at this maybe what

646
00:32:26,619 --> 00:32:32,969
I'll say is like okay the x disk tops

647
00:32:30,460 --> 00:32:35,380
out at like 14 or whatever we said that

648
00:32:32,970 --> 00:32:35,890
large amount is going to be somewhere

649
00:32:35,380 --> 00:32:46,660
else

650
00:32:35,890 --> 00:32:49,440
so if the X count is greater than yeah

651
00:32:46,660 --> 00:32:51,580
if the X count is greater than like some

652
00:32:49,440 --> 00:32:54,130
remember we want they're not sure what

653
00:32:51,579 --> 00:32:57,299
that number would be but let's say we

654
00:32:54,130 --> 00:32:57,300
have a couple ones here

655
00:33:08,440 --> 00:33:14,538
so we do something like say well assume

656
00:33:10,969 --> 00:33:23,749
it's ten if for anything over one of

657
00:33:14,538 --> 00:33:26,028
these then we'll then we'll set it to

658
00:33:23,749 --> 00:33:27,499
something more specific I'm not sure

659
00:33:26,028 --> 00:33:29,329
what that has to be but like somewhere

660
00:33:27,499 --> 00:33:31,579
in here we end up getting to a room

661
00:33:29,329 --> 00:33:35,348
that's the biggest we want and after

662
00:33:31,579 --> 00:33:41,329
that it's just working all the way right

663
00:33:35,348 --> 00:33:43,668
so I don't know we set this to something

664
00:33:41,329 --> 00:33:45,019
randomly like that you know this is all

665
00:33:43,669 --> 00:33:46,759
we're kind of talking about here and we

666
00:33:45,019 --> 00:33:58,669
can make a more convenient function for

667
00:33:46,759 --> 00:34:00,200
this later and then at the end we just

668
00:33:58,669 --> 00:34:10,940
say like the result of servers is the

669
00:34:00,200 --> 00:34:13,429
larger those two so what's the y count

670
00:34:10,940 --> 00:34:15,740
it's gonna be quite a bit less I would

671
00:34:13,429 --> 00:34:18,318
say just because of the eccentricity the

672
00:34:15,739 --> 00:34:19,969
difference between those two right so

673
00:34:18,318 --> 00:34:28,538
maybe this is more like this sort of

674
00:34:19,969 --> 00:34:28,538
thing again I'm not really sure oops

675
00:34:33,869 --> 00:34:39,279
so now if I run it you know like in this

676
00:34:36,639 --> 00:34:41,349
room which is sort of the smallest room

677
00:34:39,280 --> 00:34:43,990
I would expect and I think I can even

678
00:34:41,349 --> 00:34:47,019
look right because we we have the Delta

679
00:34:43,989 --> 00:34:49,299
oh no that was the build from sim I

680
00:34:47,019 --> 00:34:56,590
should I should just write out what that

681
00:34:49,300 --> 00:35:00,190
is so for example inside world's mode in

682
00:34:56,590 --> 00:35:03,130
here we've got I specify the Delta from

683
00:35:00,190 --> 00:35:06,070
sim there let me also just specify the

684
00:35:03,130 --> 00:35:11,380
camera offset that we're using and so

685
00:35:06,070 --> 00:35:15,910
that's right here and that kind of tells

686
00:35:11,380 --> 00:35:26,650
us what this room ended up getting set

687
00:35:15,909 --> 00:35:30,460
to right so if I look through here and I

688
00:35:26,650 --> 00:35:31,930
say like okay here's the offset Z it

689
00:35:30,460 --> 00:35:34,780
should be set to ten for the smallest

690
00:35:31,929 --> 00:35:37,539
rooms right and it is that's what that's

691
00:35:34,780 --> 00:35:40,480
approaching there when I move out to a

692
00:35:37,539 --> 00:35:42,880
larger room in theory it should get

693
00:35:40,480 --> 00:35:45,519
larger if it needs to this room still

694
00:35:42,880 --> 00:35:48,039
fits entirely so that it doesn't

695
00:35:45,519 --> 00:35:49,570
actually have to but let's say I go to

696
00:35:48,039 --> 00:35:52,539
the room to the right that room would

697
00:35:49,570 --> 00:35:54,910
probably get bigger right and so there

698
00:35:52,539 --> 00:35:59,019
we've zoomed out now we haven't quite

699
00:35:54,909 --> 00:36:00,699
zoomed out big enough but that's the

700
00:35:59,019 --> 00:36:04,960
maximum sort of that we were saying we

701
00:36:00,699 --> 00:36:09,519
would do right so you know that's why it

702
00:36:04,960 --> 00:36:12,400
didn't is because we don't want to let

703
00:36:09,519 --> 00:36:18,759
it go over 14 and I think that's

704
00:36:12,400 --> 00:36:20,260
reasonable anyway you can see this is

705
00:36:18,760 --> 00:36:21,880
working nice and smooth now right it

706
00:36:20,260 --> 00:36:23,830
just picks the right size for various

707
00:36:21,880 --> 00:36:26,800
rooms the only thing that we have now is

708
00:36:23,829 --> 00:36:28,630
we may want to do something about the

709
00:36:26,800 --> 00:36:30,730
scrolling right so we may want to make

710
00:36:28,630 --> 00:36:33,940
it so that large rooms like this don't

711
00:36:30,730 --> 00:36:36,940
actually zoom out they just stay at 14

712
00:36:33,940 --> 00:36:39,239
and and scroll around slightly depending

713
00:36:36,940 --> 00:36:41,528
on

714
00:36:39,239 --> 00:36:44,499
you know depending on where the player

715
00:36:41,528 --> 00:36:46,599
is inside the room so that's about the

716
00:36:44,498 --> 00:36:48,158
only thing we'd have to do now before I

717
00:36:46,599 --> 00:36:52,359
do that because I would like to do that

718
00:36:48,159 --> 00:36:55,568
but before I do that what I would like

719
00:36:52,358 --> 00:36:57,848
to do is yeah and you know you could see

720
00:36:55,568 --> 00:37:01,838
- do you see it what a nice feeling that

721
00:36:57,849 --> 00:37:04,298
gives the game already right it's really

722
00:37:01,838 --> 00:37:08,398
nice to have that sort of quiet zoom in

723
00:37:04,298 --> 00:37:11,048
it just feels nice when you're doing it

724
00:37:08,398 --> 00:37:13,538
right it's just getting smaller and

725
00:37:11,048 --> 00:37:15,759
bigger just it's again it adds visual

726
00:37:13,539 --> 00:37:18,189
interest to the game and it's just it's

727
00:37:15,759 --> 00:37:23,438
kind of a pleasant right it's just kind

728
00:37:18,188 --> 00:37:24,969
of a pleasant thing so I think that's

729
00:37:23,438 --> 00:37:27,578
great and that's just something that we

730
00:37:24,969 --> 00:37:29,259
want to just keep in mind like little

731
00:37:27,579 --> 00:37:31,239
things like that they make a game the

732
00:37:29,259 --> 00:37:33,608
more of those you have in a game just

733
00:37:31,239 --> 00:37:34,958
it's just a pleasant graphical thing and

734
00:37:33,608 --> 00:37:37,719
that's why people are playing a game

735
00:37:34,958 --> 00:37:39,489
right you know if you if you didn't care

736
00:37:37,719 --> 00:37:41,739
about graphics we didn't care about

737
00:37:39,489 --> 00:37:44,619
audio visual feedback you wouldn't

738
00:37:41,739 --> 00:37:46,449
bother playing a video game you could

739
00:37:44,619 --> 00:37:48,759
just play something pen and paper right

740
00:37:46,449 --> 00:37:50,469
so there's a reason that you're playing

741
00:37:48,759 --> 00:37:53,139
a video game and it's stuff like that

742
00:37:50,469 --> 00:37:56,168
right you want the game designed to be

743
00:37:53,139 --> 00:37:59,469
good obviously but you want that game

744
00:37:56,168 --> 00:38:03,518
designed to be backed up by nice good

745
00:37:59,469 --> 00:38:05,438
feeling audio and visual reinforcement

746
00:38:03,518 --> 00:38:08,498
because that's the whole point of the

747
00:38:05,438 --> 00:38:10,898
game being on a computer right is to

748
00:38:08,498 --> 00:38:13,448
have that sort of thing so let's go

749
00:38:10,898 --> 00:38:14,858
ahead and look at this bug now like I

750
00:38:13,449 --> 00:38:18,309
said I believe this is just because we

751
00:38:14,858 --> 00:38:20,619
need overlap we can't have the rooms

752
00:38:18,309 --> 00:38:26,709
being divided on a boundary we want the

753
00:38:20,619 --> 00:38:27,969
thing to be in between the two we just

754
00:38:26,708 --> 00:38:29,828
need this to be conveyed more accurately

755
00:38:27,969 --> 00:38:32,469
right it's not being calculated properly

756
00:38:29,829 --> 00:38:34,959
right now and so we end up splitting a

757
00:38:32,469 --> 00:38:36,519
tile instead of keeping the tiles in the

758
00:38:34,958 --> 00:38:39,548
rooms themselves right so that's just

759
00:38:36,518 --> 00:38:41,198
it's just wrong so we want to fix that

760
00:38:39,548 --> 00:38:42,969
first before we go any further because

761
00:38:41,199 --> 00:38:48,309
that's where the main part of the bug is

762
00:38:42,969 --> 00:38:51,269
coming from is that this is wrong that's

763
00:38:48,309 --> 00:38:51,269
just not correct

764
00:38:58,260 --> 00:39:02,040
all right so

765
00:39:11,380 --> 00:39:17,860
so if we look at this the problem is

766
00:39:14,119 --> 00:39:22,389
that these are sort of off by a half

767
00:39:17,860 --> 00:39:25,220
right Mint I'll X should be a half

768
00:39:22,389 --> 00:39:28,639
include a half extra because every just

769
00:39:25,219 --> 00:39:30,679
look at what the bounds are here you can

770
00:39:28,639 --> 00:39:32,750
see what I'm talking about it runs right

771
00:39:30,679 --> 00:39:34,969
down the middle and that's you know

772
00:39:32,750 --> 00:39:36,920
correct what we were computing there was

773
00:39:34,969 --> 00:39:40,549
an accurate computation it was computing

774
00:39:36,920 --> 00:39:43,039
the Centers of tiles right and the

775
00:39:40,550 --> 00:39:48,380
problem is that we've got it off

776
00:39:43,039 --> 00:39:50,570
so instead of computing the boundary of

777
00:39:48,380 --> 00:39:52,849
the room what we computed is the center

778
00:39:50,570 --> 00:39:55,460
of the tile that we're on and then the

779
00:39:52,849 --> 00:39:57,049
width of the room correctly but what

780
00:39:55,460 --> 00:39:59,269
that does is it puts us on the center of

781
00:39:57,050 --> 00:40:02,600
the next rooms tile so this whole thing

782
00:39:59,269 --> 00:40:07,059
needs to be shifted back by half a tile

783
00:40:02,599 --> 00:40:10,519
in right in order to get the correct

784
00:40:07,059 --> 00:40:12,860
address there so when we do this we're

785
00:40:10,519 --> 00:40:16,880
producing a correct size that's not

786
00:40:12,860 --> 00:40:18,410
actually the problem size is correct the

787
00:40:16,880 --> 00:40:21,710
problem is the volume that we're

788
00:40:18,409 --> 00:40:25,399
actually producing is offset incorrectly

789
00:40:21,710 --> 00:40:27,740
right so for example when we do this

790
00:40:25,400 --> 00:40:29,900
place entity here and we've got the

791
00:40:27,739 --> 00:40:32,179
chain Center that's the problem that

792
00:40:29,900 --> 00:40:34,160
we're seeing this this is is gonna be

793
00:40:32,179 --> 00:40:35,960
skewed I believe so now we're not really

794
00:40:34,159 --> 00:40:37,909
looking at this we're looking at this

795
00:40:35,960 --> 00:40:41,179
this we're not actually drawing at the

796
00:40:37,909 --> 00:40:46,599
moment we should probably draw this in

797
00:40:41,179 --> 00:40:46,599
fact I guess I can draw that

798
00:40:59,449 --> 00:41:06,088
so this will draw probably way too many

799
00:41:03,260 --> 00:41:09,569
of these things but it should also draw

800
00:41:06,088 --> 00:41:12,269
the room boundary and so there you can

801
00:41:09,568 --> 00:41:14,639
see the room boundary one interesting

802
00:41:12,269 --> 00:41:16,949
thing you can see about that is and this

803
00:41:14,639 --> 00:41:18,598
I believe is also because of the way we

804
00:41:16,949 --> 00:41:21,179
compute the change volume so again all

805
00:41:18,599 --> 00:41:22,829
this stuff is nice to go get right what

806
00:41:21,179 --> 00:41:26,489
you can see is that it's actually

807
00:41:22,829 --> 00:41:28,410
aligned okay on one axis but not on the

808
00:41:26,489 --> 00:41:30,838
other and you might feel like well how

809
00:41:28,409 --> 00:41:33,719
did that happen the answer is because of

810
00:41:30,838 --> 00:41:35,039
the way we computed the chain Center so

811
00:41:33,719 --> 00:41:39,480
all these things are relative of the

812
00:41:35,039 --> 00:41:45,809
chain Center here and here we go into

813
00:41:39,480 --> 00:41:48,358
that code do you see this so what ends

814
00:41:45,809 --> 00:41:50,909
up happening is if the X count is even

815
00:41:48,358 --> 00:41:52,318
you will get it aligned one way and if

816
00:41:50,909 --> 00:41:54,059
it's odd you'll get it aligned the other

817
00:41:52,318 --> 00:41:56,429
way because of the rounding on there

818
00:41:54,059 --> 00:41:57,869
because this integer right um

819
00:41:56,429 --> 00:42:00,419
so what we want to do is just make that

820
00:41:57,869 --> 00:42:03,030
be more rigorous and actually align it

821
00:42:00,420 --> 00:42:04,950
up with where the room actually is but

822
00:42:03,030 --> 00:42:07,470
what we would see is certain rooms will

823
00:42:04,949 --> 00:42:09,179
align differently if I if it had an even

824
00:42:07,469 --> 00:42:11,338
number it would align one axis if it has

825
00:42:09,179 --> 00:42:12,899
an odd number of line I'm if it's an

826
00:42:11,338 --> 00:42:14,460
even number it will align the center of

827
00:42:12,900 --> 00:42:15,990
the odd number aligned to the boundary

828
00:42:14,460 --> 00:42:17,670
or vice versa and quite think of through

829
00:42:15,989 --> 00:42:19,009
which one would be which but that's

830
00:42:17,670 --> 00:42:20,849
exactly what we're seeing is that

831
00:42:19,010 --> 00:42:22,920
difference there and that's why some are

832
00:42:20,849 --> 00:42:24,690
aligned and some are so now our job is

833
00:42:22,920 --> 00:42:29,460
just to go ahead and get those collision

834
00:42:24,690 --> 00:42:30,809
volumes to be lined up correctly and so

835
00:42:29,460 --> 00:42:38,010
that's what we'll go ahead and do here

836
00:42:30,809 --> 00:42:40,789
right okay so when we talk about the

837
00:42:38,010 --> 00:42:40,790
chain Center

838
00:42:48,739 --> 00:42:56,689
so just looking at how this works right

839
00:42:52,860 --> 00:43:00,809
the change rectangle on the chain Center

840
00:42:56,690 --> 00:43:04,220
they're gonna be round into a tile and I

841
00:43:00,809 --> 00:43:08,960
think that's probably what we want so

842
00:43:04,219 --> 00:43:08,959
right like we want to

843
00:43:25,019 --> 00:43:31,019
yeah so so we don't I guess now I think

844
00:43:28,920 --> 00:43:33,329
about it since all of the entities are

845
00:43:31,019 --> 00:43:37,699
created really agnostic of the change

846
00:43:33,329 --> 00:43:40,440
center because that you can see here

847
00:43:37,699 --> 00:43:42,899
everything is done with a place entity

848
00:43:40,440 --> 00:43:44,369
call with an absolute position right so

849
00:43:42,900 --> 00:43:46,829
we're sort of placing all of our

850
00:43:44,369 --> 00:43:48,780
entities correctly either way so really

851
00:43:46,829 --> 00:43:50,969
this change center could do whatever we

852
00:43:48,780 --> 00:43:52,740
want right we we don't really have to

853
00:43:50,969 --> 00:43:55,139
have this being aligned in any

854
00:43:52,739 --> 00:43:58,469
particularly good way it doesn't really

855
00:43:55,139 --> 00:44:01,049
matter right so in a sense this can be

856
00:43:58,469 --> 00:44:06,059
whatever it wants the problem comes when

857
00:44:01,050 --> 00:44:07,980
we come down here to the room placement

858
00:44:06,059 --> 00:44:10,320
what were the problem really is that

859
00:44:07,980 --> 00:44:12,150
we're using the chain Center as where

860
00:44:10,320 --> 00:44:14,519
the room is but that's not where the

861
00:44:12,150 --> 00:44:16,920
room actually is what we need to do is

862
00:44:14,519 --> 00:44:19,949
compute the actual center for real about

863
00:44:16,920 --> 00:44:23,130
where the room really is in reality

864
00:44:19,949 --> 00:44:25,829
right and that has to include if there

865
00:44:23,130 --> 00:44:28,680
is a half tile offset in here that has

866
00:44:25,829 --> 00:44:30,929
to be respected right so we can't the

867
00:44:28,679 --> 00:44:33,239
chain Center has been rounded we don't

868
00:44:30,929 --> 00:44:36,899
want it to be rounded right we don't

869
00:44:33,239 --> 00:44:40,709
want this rounding to be happening that

870
00:44:36,900 --> 00:44:42,809
way so that's the part that we need to

871
00:44:40,710 --> 00:44:44,190
fix is this place entity call has to

872
00:44:42,809 --> 00:44:46,590
take the collision volume for the room

873
00:44:44,190 --> 00:44:48,510
and line it up right and while we're at

874
00:44:46,590 --> 00:44:50,340
it we'd like to fix this one too because

875
00:44:48,510 --> 00:44:52,320
this sort of thing that we'll use for

876
00:44:50,340 --> 00:44:54,358
mapping later I think I'm not sure what

877
00:44:52,320 --> 00:44:55,830
we're gonna do the mapping that's why we

878
00:44:54,358 --> 00:45:00,569
have that ad world room thing in there

879
00:44:55,829 --> 00:45:02,279
is just for that purpose that's that's

880
00:45:00,570 --> 00:45:03,930
the other part of that that we want to

881
00:45:02,280 --> 00:45:05,670
be able to do right so we want that to

882
00:45:03,929 --> 00:45:07,230
be accurate as well it doesn't really

883
00:45:05,670 --> 00:45:08,608
matter if it's accurate but we would

884
00:45:07,230 --> 00:45:11,329
like it to be accurate because why not

885
00:45:08,608 --> 00:45:11,329
right

886
00:45:13,608 --> 00:45:17,269
so yeah

887
00:45:20,760 --> 00:45:29,620
so this size is correct this is off by a

888
00:45:25,900 --> 00:45:31,930
half tile potentially in either

889
00:45:29,619 --> 00:45:36,039
direction and the question is how do we

890
00:45:31,929 --> 00:45:37,839
actually figure out where it is in that

891
00:45:36,039 --> 00:45:42,159
sense right how do we figure out what

892
00:45:37,840 --> 00:45:45,910
the center of it actually is well what I

893
00:45:42,159 --> 00:45:48,549
assume we want to do here is say look we

894
00:45:45,909 --> 00:45:51,670
know whether or not each of these

895
00:45:48,550 --> 00:46:01,690
dimensions was odd or even and so we

896
00:45:51,670 --> 00:46:06,130
sort of know well you know what I would

897
00:46:01,690 --> 00:46:10,840
say maybe we just just compute the

898
00:46:06,130 --> 00:46:14,980
center maybe more directly right so if

899
00:46:10,840 --> 00:46:17,500
we want to these two things are the

900
00:46:14,980 --> 00:46:19,599
these are the two positions of the min

901
00:46:17,500 --> 00:46:22,059
tile and the max tile right so I think

902
00:46:19,599 --> 00:46:35,920
what we could do is say let's just go

903
00:46:22,059 --> 00:46:38,920
ahead and get these two because if we

904
00:46:35,920 --> 00:46:41,639
get these two values the min P and the

905
00:46:38,920 --> 00:46:41,639
Max be here

906
00:46:51,920 --> 00:46:56,309
if we get those two values and I think

907
00:46:54,690 --> 00:47:13,950
this world room this this doesn't really

908
00:46:56,309 --> 00:47:15,088
need to be in here by the way since

909
00:47:13,949 --> 00:47:19,049
we're gonna do the canvas with the

910
00:47:15,088 --> 00:47:20,489
standard what volume stuff if we have

911
00:47:19,050 --> 00:47:22,769
these two values then what I can do is

912
00:47:20,489 --> 00:47:26,759
actually just take their their centroid

913
00:47:22,769 --> 00:47:28,380
and be done with it right so we know

914
00:47:26,760 --> 00:47:30,359
this is the center of the tile and we

915
00:47:28,380 --> 00:47:32,760
want these to really be based on the min

916
00:47:30,358 --> 00:47:35,009
and the max of the tile so what we want

917
00:47:32,760 --> 00:47:39,180
to do here is we want to like map these

918
00:47:35,010 --> 00:47:41,339
in and then also offset them right and

919
00:47:39,179 --> 00:47:44,608
what we could do in fact when we have

920
00:47:41,338 --> 00:47:49,380
chunk position from tile position we can

921
00:47:44,608 --> 00:47:53,578
offset that I don't know if if this

922
00:47:49,380 --> 00:47:55,740
takes an offset it does so when we do

923
00:47:53,579 --> 00:47:58,380
chunk position from tile position there

924
00:47:55,739 --> 00:48:03,479
what we can do is specify negative half

925
00:47:58,380 --> 00:48:06,660
tile offset and positive half tile or

926
00:48:03,480 --> 00:48:09,679
something like that right so we can pull

927
00:48:06,659 --> 00:48:13,679
out to the to the tile dimensions there

928
00:48:09,679 --> 00:48:16,230
in either direction all we want and so

929
00:48:13,679 --> 00:48:21,029
all we need is to know how much half a

930
00:48:16,230 --> 00:48:23,789
tile is and that is something that

931
00:48:21,030 --> 00:48:26,869
should be specified right

932
00:48:23,789 --> 00:48:26,869
[Music]

933
00:48:40,818 --> 00:48:49,858
so the way this actually does it is like

934
00:48:45,480 --> 00:48:51,750
this right and is that's kind of a

935
00:48:49,858 --> 00:48:54,568
little ad hoc with the tile side and

936
00:48:51,750 --> 00:48:56,818
meters thing it kind of feels like

937
00:48:54,568 --> 00:49:04,528
that's something that wants to be more

938
00:48:56,818 --> 00:49:06,690
of a generative situation I'm curious so

939
00:49:04,528 --> 00:49:08,159
yet what you can see here and this is

940
00:49:06,690 --> 00:49:09,778
sort of again starting to clean up

941
00:49:08,159 --> 00:49:12,989
something that always bugged me which is

942
00:49:09,778 --> 00:49:14,480
the tile information so I don't know why

943
00:49:12,989 --> 00:49:16,409
I can't quite do this too in right there

944
00:49:14,480 --> 00:49:19,949
so one of the things that we might want

945
00:49:16,409 --> 00:49:21,808
to do there say look now we can kind of

946
00:49:19,949 --> 00:49:23,460
finally see where that information

947
00:49:21,809 --> 00:49:25,200
should go

948
00:49:23,460 --> 00:49:27,599
so like chunk position from tile

949
00:49:25,199 --> 00:49:29,669
position at this point I would say is

950
00:49:27,599 --> 00:49:32,970
something that should rely on the

951
00:49:29,670 --> 00:49:35,940
generator actually less the world more

952
00:49:32,969 --> 00:49:45,389
of the generator right so I would like

953
00:49:35,940 --> 00:49:49,259
to see this turn into this bizarre there

954
00:49:45,389 --> 00:49:54,588
it is I would like to see this turn into

955
00:49:49,259 --> 00:50:00,960
this and I would like to see this be

956
00:49:54,588 --> 00:50:04,230
something that comes from here because

957
00:50:00,960 --> 00:50:06,960
really our entire world system cares not

958
00:50:04,230 --> 00:50:09,539
all about tiles right nothing cares

959
00:50:06,960 --> 00:50:11,190
about tiles at all the only thing that

960
00:50:09,539 --> 00:50:13,019
cares about tiles is the generator

961
00:50:11,190 --> 00:50:15,630
because it wants to place things in a

962
00:50:13,018 --> 00:50:17,429
grid sometimes right and so when it's

963
00:50:15,630 --> 00:50:18,960
doing that it wants to know about tiles

964
00:50:17,429 --> 00:50:22,259
everybody else doesn't care about tiles

965
00:50:18,960 --> 00:50:25,798
so that's the right place finally after

966
00:50:22,259 --> 00:50:28,230
so much of us playing around we finally

967
00:50:25,798 --> 00:50:31,829
see emergently where tiles should live

968
00:50:28,230 --> 00:50:35,338
they should live there so now this goes

969
00:50:31,829 --> 00:50:37,470
into the world generation code right

970
00:50:35,338 --> 00:50:43,730
where we know that at a startup time

971
00:50:37,469 --> 00:50:48,078
here when we actually go to begin this

972
00:50:43,730 --> 00:50:53,269
that's begin world gym this is where

973
00:50:48,079 --> 00:51:00,410
that gets set like so this information

974
00:50:53,268 --> 00:51:13,758
now the tile sided meters that finally

975
00:51:00,409 --> 00:51:24,889
can get rid of that to do and then the

976
00:51:13,759 --> 00:51:28,568
tile depth and meters again should

977
00:51:24,889 --> 00:51:30,920
always come from the generator so really

978
00:51:28,568 --> 00:51:35,719
these things are making me grumpy

979
00:51:30,920 --> 00:51:37,309
probably my ears are clogged so really

980
00:51:35,719 --> 00:51:43,969
all we want to do here is just say this

981
00:51:37,309 --> 00:51:46,180
also now always comes from the generator

982
00:51:43,969 --> 00:51:46,179
as well

983
00:52:00,710 --> 00:52:08,759
and I think the world would then get

984
00:52:04,829 --> 00:52:11,989
passed in here as something we should

985
00:52:08,759 --> 00:52:18,420
always have oddly enough

986
00:52:11,989 --> 00:52:21,119
over sim region it's there but I I'm

987
00:52:18,420 --> 00:52:39,088
gonna hoist the world out because it's

988
00:52:21,119 --> 00:52:41,608
always going to have one yeah so that

989
00:52:39,088 --> 00:52:44,248
all looks good to me I don't know that

990
00:52:41,608 --> 00:52:47,009
we really want that at the end of the

991
00:52:44,248 --> 00:52:48,569
day we may change how that gets

992
00:52:47,009 --> 00:52:51,659
specified at some point

993
00:52:48,570 --> 00:52:51,659
[Music]

994
00:53:04,019 --> 00:53:11,159
but that's roughly what we want there

995
00:53:05,610 --> 00:53:13,050
and if I take a look at who else was

996
00:53:11,159 --> 00:53:27,389
interested in that then I can start to

997
00:53:13,050 --> 00:53:28,950
yet yeah then I can start to just clean

998
00:53:27,389 --> 00:53:31,109
this coat up and just finally get that

999
00:53:28,949 --> 00:53:34,829
stuff done so let's go ahead and finish

1000
00:53:31,110 --> 00:53:40,920
this I know that I want the tile

1001
00:53:34,829 --> 00:53:43,500
dimension to be in there I know the

1002
00:53:40,920 --> 00:53:47,240
world can come out of the generator

1003
00:53:43,500 --> 00:53:47,239
easily could so it's gonna be there I

1004
00:53:47,929 --> 00:53:54,690
know that these all need to be calling

1005
00:53:50,820 --> 00:53:58,769
Jen instead worlds but that's fine sighs

1006
00:53:54,690 --> 00:54:01,019
have that this stuff here again is the

1007
00:53:58,769 --> 00:54:04,259
tile dim this is great cuz now this

1008
00:54:01,019 --> 00:54:07,440
stuff can go away right that never

1009
00:54:04,260 --> 00:54:14,570
happens anymore and this can just be Jen

1010
00:54:07,440 --> 00:54:17,730
or this can just be tiled MX talented Y

1011
00:54:14,570 --> 00:54:19,559
talboom Z and tile dim can just be

1012
00:54:17,730 --> 00:54:24,570
pulled out here

1013
00:54:19,559 --> 00:54:38,029
that's the outset and that's all great

1014
00:54:24,570 --> 00:54:42,500
and that's Jen Calvin X Y childhood Z

1015
00:54:38,030 --> 00:54:45,410
and half tile Jim is now just that and

1016
00:54:42,500 --> 00:54:48,780
that's awesome and I love all of that

1017
00:54:45,409 --> 00:54:50,250
because that totally now finally answers

1018
00:54:48,780 --> 00:54:55,320
the question of where that stuff belongs

1019
00:54:50,250 --> 00:54:58,440
it belongs right there and now we can

1020
00:54:55,320 --> 00:55:04,320
just say for once and for all we're done

1021
00:54:58,440 --> 00:55:06,630
with that right so that's good okay so

1022
00:55:04,320 --> 00:55:09,809
now we go back to what we were doing

1023
00:55:06,630 --> 00:55:11,280
before which is let's go ahead and try

1024
00:55:09,809 --> 00:55:15,599
to make sure these things are aligned

1025
00:55:11,280 --> 00:55:19,999
properly so what I was doing first there

1026
00:55:15,599 --> 00:55:23,489
trying to make sure that I aligned the

1027
00:55:19,998 --> 00:55:32,068
the the a dream call and what you can

1028
00:55:23,489 --> 00:55:34,559
see here is I accidentally screwed up we

1029
00:55:32,068 --> 00:55:37,380
want to shift it back by the same amount

1030
00:55:34,559 --> 00:55:39,809
in both cases and I actually expanded it

1031
00:55:37,380 --> 00:55:44,818
by an entire tile so this should not

1032
00:55:39,809 --> 00:55:47,999
have been a plus right that was supposed

1033
00:55:44,818 --> 00:55:49,259
to be a minus so my bad there but

1034
00:55:47,998 --> 00:55:51,959
otherwise I think we had everything

1035
00:55:49,259 --> 00:55:54,719
roughly correct and now you can see that

1036
00:55:51,960 --> 00:55:58,499
those bounds correctly encompass the

1037
00:55:54,719 --> 00:56:01,048
room now what I don't know is how we

1038
00:55:58,498 --> 00:56:03,719
want to deal with Z so that's a little

1039
00:56:01,048 --> 00:56:07,889
bit confusing like it's in terms of how

1040
00:56:03,719 --> 00:56:10,288
far down or up these rooms should extend

1041
00:56:07,889 --> 00:56:12,478
that part I don't know I think that's

1042
00:56:10,289 --> 00:56:15,749
off and I think the reason that that's

1043
00:56:12,478 --> 00:56:19,858
off is because if you look at what

1044
00:56:15,748 --> 00:56:24,449
happens inside the world gen chunk thing

1045
00:56:19,858 --> 00:56:29,960
there there it is you can see that we do

1046
00:56:24,449 --> 00:56:32,669
like an offset automatically on

1047
00:56:29,960 --> 00:56:35,369
everything to make sure that it kind of

1048
00:56:32,670 --> 00:56:39,719
lines up with how we were thinking about

1049
00:56:35,369 --> 00:56:42,619
tiles so I don't know what we want to do

1050
00:56:39,719 --> 00:56:42,619
about that

1051
00:56:58,840 --> 00:57:01,939
[Music]

1052
00:57:12,050 --> 00:57:23,030
so the reason that that was in there is

1053
00:57:17,389 --> 00:57:25,579
because the floor information we yeah

1054
00:57:23,030 --> 00:57:27,320
like I don't think we really thought it

1055
00:57:25,579 --> 00:57:28,610
through very much we kind of just were

1056
00:57:27,320 --> 00:57:35,510
always hand wavey a little bit about

1057
00:57:28,610 --> 00:57:39,410
that stuff so you know the centers of

1058
00:57:35,510 --> 00:57:41,150
things I feel like like I feel like we

1059
00:57:39,409 --> 00:57:42,619
just don't really want that to be

1060
00:57:41,150 --> 00:57:45,680
happening I feel like we want to treat

1061
00:57:42,619 --> 00:57:48,289
all these things uniformly to a certain

1062
00:57:45,679 --> 00:57:52,579
degree and you know so you know I'm

1063
00:57:48,289 --> 00:57:57,050
tempted to just say oops I'm tempted to

1064
00:57:52,579 --> 00:58:00,019
just say we want that and then we want

1065
00:57:57,050 --> 00:58:02,630
our rooms to just be aligned however we

1066
00:58:00,019 --> 00:58:05,809
want to align them right so when we look

1067
00:58:02,630 --> 00:58:12,320
at women's up happening there we want to

1068
00:58:05,809 --> 00:58:14,150
just make sure that we align the rooms

1069
00:58:12,320 --> 00:58:16,490
properly based on the half table outer

1070
00:58:14,150 --> 00:58:19,880
so we would like move everything down

1071
00:58:16,489 --> 00:58:21,589
and that in theory would also solve the

1072
00:58:19,880 --> 00:58:26,900
other problem I'm not sure about that

1073
00:58:21,590 --> 00:58:35,870
and we should probably draw the chunk

1074
00:58:26,900 --> 00:58:37,670
boundaries in here as well either way

1075
00:58:35,869 --> 00:58:41,179
it's something we want to get correct so

1076
00:58:37,670 --> 00:58:43,789
I don't really know how we want to go

1077
00:58:41,179 --> 00:58:45,259
about doing that part but now is as good

1078
00:58:43,789 --> 00:58:48,380
time as any to make sure that we get

1079
00:58:45,260 --> 00:58:50,480
this stuff right let me finish what I

1080
00:58:48,380 --> 00:58:53,329
was doing here and then let's go tackle

1081
00:58:50,480 --> 00:58:54,829
that alignment problem by drawing the

1082
00:58:53,329 --> 00:58:55,460
chunks and figuring out whether we want

1083
00:58:54,829 --> 00:58:57,099
this anymore

1084
00:58:55,460 --> 00:59:03,590
and figuring out how those are gonna

1085
00:58:57,099 --> 00:59:07,069
break down into room boundaries so if we

1086
00:59:03,590 --> 00:59:09,740
take this where we have them in room in

1087
00:59:07,070 --> 00:59:11,809
the P and the maximum P when we go to

1088
00:59:09,739 --> 00:59:14,779
places entity we can create a room

1089
00:59:11,809 --> 00:59:16,940
center here and the room center would

1090
00:59:14,780 --> 00:59:23,930
just be the difference between these two

1091
00:59:16,940 --> 00:59:24,920
right so if you imagine a room center

1092
00:59:23,929 --> 00:59:25,699
here

1093
00:59:24,920 --> 00:59:33,460
what we

1094
00:59:25,699 --> 00:59:39,619
want to do is let's see where we have

1095
00:59:33,460 --> 00:59:40,880
well code so we want to do here is take

1096
00:59:39,619 --> 00:59:43,670
the difference between these two things

1097
00:59:40,880 --> 00:59:46,340
right so we want to say look if we have

1098
00:59:43,670 --> 00:59:48,200
the min room P and the max room P and we

1099
00:59:46,340 --> 00:59:49,670
took the difference between them that

1100
00:59:48,199 --> 00:59:52,639
would tell us how to get from one to the

1101
00:59:49,670 --> 00:59:56,210
other so then we can just do look we

1102
00:59:52,639 --> 00:59:58,940
just want to map that into one of our

1103
00:59:56,210 --> 01:00:07,309
canonical coordinates from the min room

1104
00:59:58,940 --> 01:00:08,900
P back and that's it right so that

1105
01:00:07,309 --> 01:00:11,029
should give us an actual room center

1106
01:00:08,900 --> 01:00:13,430
based on the bounds we actually computed

1107
01:00:11,030 --> 01:00:15,140
and furthermore the simple collision

1108
01:00:13,429 --> 01:00:16,460
volume here now no longer would have to

1109
01:00:15,139 --> 01:00:19,250
do it that way we could just use the

1110
01:00:16,460 --> 01:00:23,900
subtract so for example what we could do

1111
01:00:19,250 --> 01:00:29,750
here is say rim dimension so there's a

1112
01:00:23,900 --> 01:00:31,970
room dimension or you know room

1113
01:00:29,750 --> 01:00:36,679
dimension in meters intervention in

1114
01:00:31,969 --> 01:00:40,879
meters room dimension in meters you know

1115
01:00:36,679 --> 01:00:42,440
I'm saying so the room demand meters in

1116
01:00:40,880 --> 01:00:44,960
the room Center now I'll give us that

1117
01:00:42,440 --> 01:00:47,119
information that we actually wanted and

1118
01:00:44,960 --> 01:00:49,429
in theory that would give us so that the

1119
01:00:47,119 --> 01:00:51,469
room in both cases is placed on the same

1120
01:00:49,429 --> 01:00:55,849
rectangle in both systems so everyone

1121
01:00:51,469 --> 01:00:59,480
knows where everything is the only thing

1122
01:00:55,849 --> 01:01:13,940
I don't know is is this ampersand it it

1123
01:00:59,480 --> 01:01:15,440
is this takes not a v3 I guess the

1124
01:01:13,940 --> 01:01:16,909
collision volume stuff probably is going

1125
01:01:15,440 --> 01:01:18,920
to want to get a little bit better soon

1126
01:01:16,909 --> 01:01:21,730
too as well as we move forward but now

1127
01:01:18,920 --> 01:01:26,889
is not the time to to dive into that

1128
01:01:21,730 --> 01:01:26,889
situation oops so I broke something

1129
01:01:33,909 --> 01:01:48,179
I'm just not sure what let's take a look

1130
01:01:50,940 --> 01:02:09,159
somebody gonna jump into that room Jen

1131
01:01:53,170 --> 01:02:11,250
call there and I'm gonna go see what's

1132
01:02:09,159 --> 01:02:17,289
up

1133
01:02:11,250 --> 01:02:23,199
there's our tyldum which looks fine

1134
01:02:17,289 --> 01:02:29,610
here's arm in room P max room P also

1135
01:02:23,199 --> 01:02:29,609
looks fine here's our room gym in metres

1136
01:02:29,969 --> 01:02:36,029
looks good and what about our own Center

1137
01:02:45,730 --> 01:02:54,159
so I guess I don't really know what this

1138
01:02:49,639 --> 01:02:54,159
coven does I should probably work

1139
01:03:06,630 --> 01:03:14,039
ah okay so yes so some of this stuff is

1140
01:03:12,000 --> 01:03:22,798
a little bit borked right you can kind

1141
01:03:14,039 --> 01:03:29,400
of see yeah we don't we don't really

1142
01:03:22,798 --> 01:03:32,849
want that anyway so this collision

1143
01:03:29,400 --> 01:03:47,130
volume is the collision volume really

1144
01:03:32,849 --> 01:03:48,869
just a rectangle I'm confused because I

1145
01:03:47,130 --> 01:03:52,650
thought we were allowed to have like

1146
01:03:48,869 --> 01:03:54,539
multiple pieces of collision or

1147
01:03:52,650 --> 01:03:57,389
something like that maybe we deleted

1148
01:03:54,539 --> 01:04:00,599
that in that case this is just forget it

1149
01:03:57,389 --> 01:04:01,858
like why do we why did I even bother we

1150
01:04:00,599 --> 01:04:10,349
know what the room dimension is in

1151
01:04:01,858 --> 01:04:15,598
meters so you know in fact we don't even

1152
01:04:10,349 --> 01:04:17,190
have to do any of that this this week we

1153
01:04:15,599 --> 01:04:30,778
could just avoid the subtract altogether

1154
01:04:17,190 --> 01:04:33,079
we could really do is just say something

1155
01:04:30,778 --> 01:04:33,079
like this

1156
01:04:39,090 --> 01:04:44,280
what was that call

1157
01:04:53,309 --> 01:04:57,849
get some relative position we really

1158
01:04:56,380 --> 01:04:59,860
should if we call it map into chunks

1159
01:04:57,849 --> 01:05:11,699
face this should probably call map into

1160
01:04:59,860 --> 01:05:14,320
sim space could be symmetric there and

1161
01:05:11,699 --> 01:05:16,419
then when we set the collision volume

1162
01:05:14,320 --> 01:05:19,300
for the Senate II since we're placing

1163
01:05:16,420 --> 01:05:21,730
manatee at the room center then the

1164
01:05:19,300 --> 01:05:35,980
collision volume should just be the

1165
01:05:21,730 --> 01:05:40,300
volume from the min to the max right and

1166
01:05:35,980 --> 01:05:57,039
that'd be bad so that's what I think we

1167
01:05:40,300 --> 01:05:57,400
want this gunfire to look like there we

1168
01:05:57,039 --> 01:06:03,779
go

1169
01:05:57,400 --> 01:06:03,780
so map into some space I just need the

1170
01:06:20,679 --> 01:06:40,599
start creation region his region just

1171
01:06:27,159 --> 01:06:43,599
yes it is and in fact when does that get

1172
01:06:40,599 --> 01:06:43,599
set

1173
01:06:51,880 --> 01:07:04,970
so that's dead code as well alright so

1174
01:07:02,380 --> 01:07:09,680
if we know the main room P and the

1175
01:07:04,969 --> 01:07:13,909
maximum P here right we could just find

1176
01:07:09,679 --> 01:07:16,009
those in in sim space and then just say

1177
01:07:13,909 --> 01:07:19,759
that the entity is placed at the chain

1178
01:07:16,010 --> 01:07:20,660
Center and then we'd be done right of

1179
01:07:19,760 --> 01:07:23,510
course

1180
01:07:20,659 --> 01:07:28,190
placing the entity might be important I

1181
01:07:23,510 --> 01:07:32,140
don't know if it is or not so that

1182
01:07:28,190 --> 01:07:32,139
part's a little bit dicey

1183
01:07:33,099 --> 01:07:38,199
I don't know how I feel about that one

1184
01:07:35,750 --> 01:07:38,199
way or the other

1185
01:07:38,230 --> 01:07:54,619
choose me but point being we can just do

1186
01:07:51,139 --> 01:07:58,940
that and then I think it's it would just

1187
01:07:54,619 --> 01:08:01,179
be accurate I think let me actually see

1188
01:07:58,940 --> 01:08:01,179
here

1189
01:08:10,380 --> 01:08:17,159
so now you can see everything lining up

1190
01:08:12,239 --> 01:08:27,689
nicely let me go back to the optimized

1191
01:08:17,159 --> 01:08:38,159
build and I also don't 100% know if that

1192
01:08:27,689 --> 01:08:41,309
fixes our problem or not I think we want

1193
01:08:38,159 --> 01:08:42,720
this to not be based on the head we want

1194
01:08:41,310 --> 01:08:44,840
it to be based on the body since the

1195
01:08:42,720 --> 01:08:52,260
body's the thing that moves discretely

1196
01:08:44,840 --> 01:08:57,890
so that's kind of another can see our

1197
01:08:52,260 --> 01:09:00,300
near plane is also kind of busted there

1198
01:08:57,890 --> 01:09:01,829
so I think really what we want to do now

1199
01:09:00,300 --> 01:09:03,690
just focus on the Z because these rooms

1200
01:09:01,829 --> 01:09:05,699
are not aligned properly they want to be

1201
01:09:03,689 --> 01:09:11,189
up more and so we want to talk about the

1202
01:09:05,699 --> 01:09:13,979
tile placement a little bit more

1203
01:09:11,189 --> 01:09:15,719
carefully so that has to happen because

1204
01:09:13,979 --> 01:09:18,899
otherwise our camera stuff is off right

1205
01:09:15,720 --> 01:09:20,820
these need to be offset up and and you

1206
01:09:18,899 --> 01:09:22,559
can see - it's it's because it's going

1207
01:09:20,819 --> 01:09:25,559
to be placed down at the bottom of the

1208
01:09:22,560 --> 01:09:27,510
world here right and that's just wrong

1209
01:09:25,560 --> 01:09:30,240
so we've got a lot of issues we got to

1210
01:09:27,510 --> 01:09:31,440
address there so we need to focus on the

1211
01:09:30,239 --> 01:09:34,739
Z and get that right everything else

1212
01:09:31,439 --> 01:09:39,179
seems okay except that when we come to

1213
01:09:34,739 --> 01:09:42,449
this the head can can peek right into

1214
01:09:39,180 --> 01:09:45,030
the next room over maybe we want that I

1215
01:09:42,449 --> 01:09:48,108
don't know to think about that maybe we

1216
01:09:45,029 --> 01:09:48,108
want to be able to do that

1217
01:09:56,229 --> 01:10:00,229
like maybe that's just kind of nice to

1218
01:09:58,430 --> 01:10:10,610
be able to sort of look into the next

1219
01:10:00,229 --> 01:10:11,809
room I don't know maybe I'll keep that

1220
01:10:10,609 --> 01:10:13,519
for now that's kind of fun it's like

1221
01:10:11,810 --> 01:10:18,920
what's in there do I really want to go

1222
01:10:13,520 --> 01:10:20,450
in there so maybe if that yeah I don't

1223
01:10:18,920 --> 01:10:24,859
know but that would only be if there was

1224
01:10:20,449 --> 01:10:26,359
an open door there you know if it's like

1225
01:10:24,859 --> 01:10:36,859
a closed door or you got to walk through

1226
01:10:26,359 --> 01:10:38,659
it maybe I don't know so I don't know

1227
01:10:36,859 --> 01:10:41,559
maybe we really just do want it to be on

1228
01:10:38,659 --> 01:10:41,559
the body

1229
01:10:54,630 --> 01:11:07,079
ya couldn't tell you if we wanted to be

1230
01:10:58,140 --> 01:11:08,130
on the body instead of on the if we

1231
01:11:07,079 --> 01:11:11,789
wanted to do it that way

1232
01:11:08,130 --> 01:11:17,520
right if we wanted to track it I believe

1233
01:11:11,789 --> 01:11:19,769
when we when we set that what the

1234
01:11:17,520 --> 01:11:22,620
following entity is we can just choose

1235
01:11:19,770 --> 01:11:24,570
to set some other following entity right

1236
01:11:22,619 --> 01:11:26,159
so we could if we wanted to just say the

1237
01:11:24,569 --> 01:11:28,259
body is what the cameras following and

1238
01:11:26,159 --> 01:11:29,729
then it just will follow that so it's

1239
01:11:28,260 --> 01:11:32,820
not particularly hard for us to make a

1240
01:11:29,729 --> 01:11:35,639
decision either way and if we did that

1241
01:11:32,819 --> 01:11:37,559
then it's much clearer and we don't get

1242
01:11:35,640 --> 01:11:40,230
the sort of ambiguous hovering the head

1243
01:11:37,560 --> 01:11:42,600
over so you know for now let's leave it

1244
01:11:40,229 --> 01:11:43,919
like that we may want to play with it a

1245
01:11:42,600 --> 01:11:45,539
little bit more later because it was the

1246
01:11:43,920 --> 01:11:47,460
idea of peeking into a room is kind of

1247
01:11:45,539 --> 01:11:48,600
interesting I don't know it may be

1248
01:11:47,460 --> 01:11:54,420
nothing but it's just kind of

1249
01:11:48,600 --> 01:11:56,039
interesting and then we've kind of got

1250
01:11:54,420 --> 01:11:58,560
rid of that glitch so now I think we

1251
01:11:56,039 --> 01:12:00,930
just want to focus on the Z because now

1252
01:11:58,560 --> 01:12:02,370
that's clearly wrong now and causing us

1253
01:12:00,930 --> 01:12:06,090
some problems so we need to sort of fix

1254
01:12:02,369 --> 01:12:09,199
that Z problem and then we can sort of

1255
01:12:06,090 --> 01:12:09,199
go from there right

1256
01:12:17,329 --> 01:12:24,750
okay the other thing that would be nice

1257
01:12:21,810 --> 01:12:27,840
would be to add some lights you know I'm

1258
01:12:24,750 --> 01:12:36,289
saying at the moment we sort of have

1259
01:12:27,840 --> 01:12:39,270
this idea that the the there's like a

1260
01:12:36,289 --> 01:12:44,010
big blocky light thing that follows the

1261
01:12:39,270 --> 01:12:47,510
human it follows the play around there

1262
01:12:44,010 --> 01:13:00,510
and also I think we've got kind of like

1263
01:12:47,510 --> 01:13:03,960
there's the snake thing add add snake

1264
01:13:00,510 --> 01:13:06,869
segment thing this guy right and there's

1265
01:13:03,960 --> 01:13:09,270
this add piece light it probably would

1266
01:13:06,869 --> 01:13:22,739
be good to do a thing that was just like

1267
01:13:09,270 --> 01:13:27,230
hey you know here's a lamp and I can

1268
01:13:22,739 --> 01:13:27,229
just put a lamp somewhere you know

1269
01:13:34,378 --> 01:13:54,179
and maybe with a color I don't know just

1270
01:13:48,599 --> 01:13:59,399
making this up as I go but maybe there's

1271
01:13:54,179 --> 01:14:02,010
a way to add a lamp and that way we can

1272
01:13:59,399 --> 01:14:06,869
sort of have the brooms have lamps in

1273
01:14:02,010 --> 01:14:08,668
them like so for example in here you

1274
01:14:06,868 --> 01:14:12,148
could just say well you know whatever

1275
01:14:08,668 --> 01:14:17,448
the center tile the room is you know

1276
01:14:12,149 --> 01:14:27,809
maybe we add a lamp there so we just say

1277
01:14:17,448 --> 01:14:41,428
alright let's put a white lamp into the

1278
01:14:27,809 --> 01:14:45,929
sim region at you know some location

1279
01:14:41,429 --> 01:14:47,939
that's like mint aisle X plus X counter

1280
01:14:45,929 --> 01:14:51,389
or to like the center of the room

1281
01:14:47,939 --> 01:14:53,249
or maybe we do like the corners of the

1282
01:14:51,389 --> 01:14:56,639
room in the center of the room I don't

1283
01:14:53,248 --> 01:15:00,438
know but you know just to see if it

1284
01:14:56,639 --> 01:15:00,439
works something like this

1285
01:15:08,010 --> 01:15:12,909
and just place that in and you know

1286
01:15:11,498 --> 01:15:19,328
these things should be up a little bit

1287
01:15:12,908 --> 01:15:28,348
probably so you know maybe just place it

1288
01:15:19,328 --> 01:15:28,349
towards the top of the thing so it's

1289
01:15:32,729 --> 01:15:52,208
just maybe that kind of thing think

1290
01:15:45,698 --> 01:15:58,629
that's anyway version from double like

1291
01:15:52,208 --> 01:15:59,948
that and then you know there's just like

1292
01:15:58,630 --> 01:16:02,439
lamps in the rooms

1293
01:15:59,948 --> 01:16:07,118
I guess maybe if I didn't screw that up

1294
01:16:02,439 --> 01:16:08,409
which I might have so you can see

1295
01:16:07,118 --> 01:16:10,478
there's like a big lamp in every room

1296
01:16:08,408 --> 01:16:15,819
now it looks like maybe they're a little

1297
01:16:10,479 --> 01:16:19,809
too bright so that's probably not the

1298
01:16:15,819 --> 01:16:20,978
best thing in the world to have and I

1299
01:16:19,809 --> 01:16:24,610
admit that

1300
01:16:20,979 --> 01:16:27,099
so maybe back off on the light level a

1301
01:16:24,609 --> 01:16:29,799
little bit but then I could also get rid

1302
01:16:27,099 --> 01:16:31,479
of the fact that there's a thing here

1303
01:16:29,800 --> 01:16:35,708
around cuz that was like Freddie bugging

1304
01:16:31,479 --> 01:16:38,139
and like I don't intend the hero to be

1305
01:16:35,708 --> 01:16:39,368
holding a light in any circumstance

1306
01:16:38,139 --> 01:16:41,050
other than the circumstance where he is

1307
01:16:39,368 --> 01:16:44,708
holding a light for some reason whatever

1308
01:16:41,050 --> 01:16:48,369
the light is right so that was you know

1309
01:16:44,708 --> 01:16:50,800
not something that was ever supposed to

1310
01:16:48,368 --> 01:16:54,058
actually be happening so this this here

1311
01:16:50,800 --> 01:16:54,059
like what's just not

1312
01:16:57,430 --> 01:17:04,810
it's not half at all right so now at

1313
01:17:02,289 --> 01:17:07,210
least we've got those lamps there that

1314
01:17:04,810 --> 01:17:09,430
are hanging around we probably want them

1315
01:17:07,210 --> 01:17:11,619
to actually be visible like the lamps

1316
01:17:09,430 --> 01:17:13,869
should probably actually be actual

1317
01:17:11,619 --> 01:17:17,500
objects in the scene eventually at the

1318
01:17:13,869 --> 01:17:19,899
moment they're not and that's fine but

1319
01:17:17,500 --> 01:17:22,000
you know eventually we want them to be

1320
01:17:19,899 --> 01:17:25,569
actual like lamps somewhere placed

1321
01:17:22,000 --> 01:17:27,340
somewhere you know and we probably also

1322
01:17:25,569 --> 01:17:28,630
don't want them to be quite so bright as

1323
01:17:27,340 --> 01:17:31,930
they are that that may have been a

1324
01:17:28,630 --> 01:17:35,710
little bit excessive and I admit that so

1325
01:17:31,930 --> 01:17:43,950
you know maybe this is something more

1326
01:17:35,710 --> 01:17:43,949
like you know half half that brightness

1327
01:17:47,789 --> 01:17:54,329
it's a little bit more reasonable you

1328
01:17:52,300 --> 01:17:54,329
know

1329
01:18:01,239 --> 01:18:04,840
so yeah

1330
01:18:13,078 --> 01:18:17,978
all right so if I maybe take that a

1331
01:18:15,578 --> 01:18:21,788
little bit further so suppose I don't

1332
01:18:17,979 --> 01:18:24,668
really want to white do it that way what

1333
01:18:21,788 --> 01:18:25,509
if I just say you know it's gonna be

1334
01:18:24,668 --> 01:18:26,979
placed like this

1335
01:18:25,510 --> 01:18:29,619
I'm just curious here what's gonna

1336
01:18:26,979 --> 01:18:33,369
happen because I kind of accidentally

1337
01:18:29,618 --> 01:18:35,139
got myself distracted so again what we

1338
01:18:33,368 --> 01:18:37,988
want to do is fix that Z stuff for a

1339
01:18:35,139 --> 01:18:40,840
number of reasons but until I do that

1340
01:18:37,988 --> 01:18:44,408
let me just kind of mess a little bit

1341
01:18:40,840 --> 01:18:49,179
with this light situation and then we'll

1342
01:18:44,408 --> 01:18:52,118
fix it later so if I go into room Jen

1343
01:18:49,179 --> 01:18:53,590
and look at that add lamp call I want to

1344
01:18:52,118 --> 01:18:55,478
make it so that it's maybe more

1345
01:18:53,590 --> 01:18:57,909
reasonably sized like a lamp actually it

1346
01:18:55,479 --> 01:18:59,409
would be you know and then maybe I want

1347
01:18:57,908 --> 01:19:02,828
to place them like in the world as if

1348
01:18:59,408 --> 01:19:06,009
they're actual objects right so you know

1349
01:19:02,828 --> 01:19:08,349
they they go in to the world in some

1350
01:19:06,010 --> 01:19:11,530
reasonable fashion so looking at like

1351
01:19:08,349 --> 01:19:13,900
where the lamps will be placed

1352
01:19:11,529 --> 01:19:17,380
maybe there's also it prevents things

1353
01:19:13,899 --> 01:19:18,908
from being placed at that location so

1354
01:19:17,380 --> 01:19:21,309
like maybe there isn't a traversable

1355
01:19:18,908 --> 01:19:24,549
there like you can't actually stand on

1356
01:19:21,309 --> 01:19:29,099
that square or something like this so if

1357
01:19:24,550 --> 01:19:32,199
you imagine maybe that they're like

1358
01:19:29,099 --> 01:19:34,510
point four up the tile dim and maybe

1359
01:19:32,198 --> 01:19:37,868
there's a couple of them in the corners

1360
01:19:34,510 --> 01:19:47,530
of the room so maybe we do something a

1361
01:19:37,868 --> 01:19:51,359
little bit different like something like

1362
01:19:47,529 --> 01:19:51,359
say this

1363
01:20:00,659 --> 01:20:04,720
this is not really how I want to do this

1364
01:20:02,949 --> 01:20:09,429
long term so we should probably hold off

1365
01:20:04,720 --> 01:20:11,230
on anything like this until until I

1366
01:20:09,430 --> 01:20:13,420
actually start writing more real room

1367
01:20:11,229 --> 01:20:17,039
generation code but let's say in here we

1368
01:20:13,420 --> 01:20:22,270
just said okay you know if the X index

1369
01:20:17,039 --> 01:20:42,519
equals 1 and the Y index equals 1 place

1370
01:20:22,270 --> 01:20:44,830
a lamp there and then I can say like

1371
01:20:42,520 --> 01:20:53,080
okay if x equals 1 and the y and x

1372
01:20:44,829 --> 01:20:55,500
equals y count - just putting it in the

1373
01:20:53,079 --> 01:20:55,500
corners

1374
01:21:05,118 --> 01:21:15,198
so that's all I was thinking then it'll

1375
01:21:08,420 --> 01:21:18,489
add a lamp to their and in that case it

1376
01:21:15,198 --> 01:21:18,488
will also say like

1377
01:21:41,640 --> 01:21:47,789
so in this case we'll always set the

1378
01:21:44,060 --> 01:21:49,940
whoops we don't really need to do quite

1379
01:21:47,789 --> 01:21:55,109
that I guess so what we would say is

1380
01:21:49,939 --> 01:21:57,829
just if not on lamp because I don't want

1381
01:21:55,109 --> 01:22:00,719
you to walk where the lamp is I guess

1382
01:21:57,829 --> 01:22:05,069
so that's just kind of super crappy and

1383
01:22:00,720 --> 01:22:07,289
random but that's just what we're going

1384
01:22:05,069 --> 01:22:09,299
with at the moment again I just wanted

1385
01:22:07,289 --> 01:22:15,420
to kind of put some lights in there for

1386
01:22:09,300 --> 01:22:19,619
fun and we'll try to make that work okay

1387
01:22:15,420 --> 01:22:23,720
so now I actually just instead of all of

1388
01:22:19,619 --> 01:22:27,019
this I just used the actual position

1389
01:22:23,720 --> 01:22:27,020
there we go

1390
01:22:33,559 --> 01:22:40,610
yeah and then we should be good to go

1391
01:22:37,189 --> 01:22:43,158
I need to when we add the lamp I need to

1392
01:22:40,609 --> 01:22:47,920
sort of offset it so that it is the

1393
01:22:43,158 --> 01:22:47,920
correct distance off the ground I

1394
01:22:48,279 --> 01:22:53,779
suppose for now I'll bake that into this

1395
01:22:52,090 --> 01:22:56,000
maybe I don't

1396
01:22:53,779 --> 01:22:58,158
again really we kind of want to get the

1397
01:22:56,000 --> 01:23:02,538
Z under control now it's not really sure

1398
01:22:58,158 --> 01:23:04,219
what I want to do here I kind of need to

1399
01:23:02,538 --> 01:23:06,559
like think it through and get a little

1400
01:23:04,219 --> 01:23:09,319
bit more serious about it before we go

1401
01:23:06,559 --> 01:23:11,389
much further so anyway it's trying to

1402
01:23:09,319 --> 01:23:15,460
place these for now as temporary things

1403
01:23:11,389 --> 01:23:17,109
in the world that will be usable

1404
01:23:15,460 --> 01:23:20,859
[Music]

1405
01:23:17,109 --> 01:23:20,859
probably want to be a little higher

1406
01:23:25,649 --> 01:23:32,228
all right so now we've got lights at the

1407
01:23:28,149 --> 01:23:35,469
corners of rooms so when we walk around

1408
01:23:32,229 --> 01:23:40,420
we should see yeah and we do kind of

1409
01:23:35,469 --> 01:23:42,158
always have lights there again they're

1410
01:23:40,420 --> 01:23:43,960
not very good in this case because

1411
01:23:42,158 --> 01:23:45,609
they're kind of too low to the ground so

1412
01:23:43,960 --> 01:23:49,469
I think we want them to be a little bit

1413
01:23:45,609 --> 01:23:49,469
higher ups even still than they are

1414
01:24:00,789 --> 01:24:04,000
there we go

1415
01:24:07,470 --> 01:24:11,369
and so now we just need to fix that Z so

1416
01:24:09,510 --> 01:24:14,840
that's really all I wanted was yet there

1417
01:24:11,369 --> 01:24:14,840
we go we got our kind of lamps in there

1418
01:24:16,250 --> 01:24:20,579
and ideally there'd be other sort of

1419
01:24:18,720 --> 01:24:24,900
some lamps around the room as well maybe

1420
01:24:20,579 --> 01:24:27,260
some lamps in in the actual in the

1421
01:24:24,899 --> 01:24:27,259
center

1422
01:24:34,729 --> 01:24:39,679
all right so now let's figure out what's

1423
01:24:37,970 --> 01:24:42,260
going on with our Z we have a lot of

1424
01:24:39,680 --> 01:24:44,840
annoying Z stuff in here that we really

1425
01:24:42,260 --> 01:24:46,400
should just now take the time to clean

1426
01:24:44,840 --> 01:24:48,170
up because like as we're going through

1427
01:24:46,399 --> 01:24:51,289
cleaning up everything it's just it's

1428
01:24:48,170 --> 01:24:53,029
important to like once you know how

1429
01:24:51,289 --> 01:24:55,430
things work to actually go in and kind

1430
01:24:53,029 --> 01:24:56,960
of make them more systemic right and and

1431
01:24:55,430 --> 01:25:01,480
try to get try to actually have

1432
01:24:56,960 --> 01:25:04,399
everything be working properly there so

1433
01:25:01,479 --> 01:25:06,079
yeah all of that looks fine oh you know

1434
01:25:04,399 --> 01:25:09,799
what else I should do sorry to keep

1435
01:25:06,079 --> 01:25:11,600
tweaking there one thing we probably

1436
01:25:09,800 --> 01:25:14,199
should do is just add some randomization

1437
01:25:11,600 --> 01:25:14,200
there

1438
01:25:30,569 --> 01:25:41,819
and yeah I don't remember what the

1439
01:25:37,130 --> 01:25:51,260
random Sirius was entropy say let's

1440
01:25:41,819 --> 01:25:51,259
pretend it's entropy hey it is alright

1441
01:25:54,380 --> 01:25:59,850
so then there should be a little

1442
01:25:56,279 --> 01:26:03,199
variability of the light color I'll be

1443
01:25:59,850 --> 01:26:03,200
honest I don't see any

1444
01:26:21,409 --> 01:26:25,979
because I would have expected to see

1445
01:26:23,609 --> 01:26:35,130
some I don't know if are we not using

1446
01:26:25,979 --> 01:26:37,429
that we are there we go now we're

1447
01:26:35,130 --> 01:26:37,430
getting it

1448
01:26:43,399 --> 01:26:47,239
now maybe we don't really want that and

1449
01:26:45,140 --> 01:26:49,250
again we don't have exposure control so

1450
01:26:47,239 --> 01:26:51,619
it's yeah I mean until we have a little

1451
01:26:49,250 --> 01:26:55,010
bit more in terms of the lighting output

1452
01:26:51,619 --> 01:26:56,510
it maybe is not sensible to have that

1453
01:26:55,010 --> 01:26:58,100
variability in there but I figured I'd

1454
01:26:56,510 --> 01:26:59,360
put it in anyway just ring it for a

1455
01:26:58,100 --> 01:27:01,490
little bit so you can see a little bit

1456
01:26:59,359 --> 01:27:02,479
of difference between the lights right

1457
01:27:01,489 --> 01:27:03,829
you can see that one's a little bit

1458
01:27:02,479 --> 01:27:11,859
cooler that one's a little bit warmer

1459
01:27:03,829 --> 01:27:11,859
right so that seems pretty good

1460
01:27:17,170 --> 01:27:24,850
all right um so now I want to take a

1461
01:27:23,140 --> 01:27:30,100
look at the Z stuff how much time do I

1462
01:27:24,850 --> 01:27:31,630
have left I've got I don't know how much

1463
01:27:30,100 --> 01:27:36,030
time I've got left

1464
01:27:31,630 --> 01:27:36,029
let's ask because in Tabata knows oh

1465
01:27:39,149 --> 01:27:54,659
four minutes into the Q&amp;A I don't think

1466
01:27:44,319 --> 01:27:57,279
that's true I'm not sure about that

1467
01:27:54,659 --> 01:28:01,599
maybe in sohbats wrong about that I'm I

1468
01:27:57,279 --> 01:28:03,219
should add a time part to this I never

1469
01:28:01,600 --> 01:28:11,470
really use it so I never really think to

1470
01:28:03,220 --> 01:28:13,300
do so yeah I'm not sure anyway we'll

1471
01:28:11,470 --> 01:28:15,010
just let that tell us when it's done but

1472
01:28:13,300 --> 01:28:16,329
I want to just get the Z stuff working

1473
01:28:15,010 --> 01:28:18,909
now because the cameras in the wrong

1474
01:28:16,329 --> 01:28:22,390
place at the moment and so I want to fix

1475
01:28:18,909 --> 01:28:25,720
that right and I'd like to make it so

1476
01:28:22,390 --> 01:28:27,430
that the cameras in the wrong place

1477
01:28:25,720 --> 01:28:28,869
pacifically because the center of the

1478
01:28:27,430 --> 01:28:30,909
room is down here and that's what it's

1479
01:28:28,869 --> 01:28:35,130
focusing on it should not be focusing on

1480
01:28:30,909 --> 01:28:39,250
that right it should be focusing on the

1481
01:28:35,130 --> 01:28:41,650
this area of the floor and so this needs

1482
01:28:39,250 --> 01:28:44,020
to be shifted up by a half and the

1483
01:28:41,649 --> 01:28:47,710
problem that I have is I don't really

1484
01:28:44,020 --> 01:28:49,450
know why right so we kind of played it

1485
01:28:47,710 --> 01:28:51,130
fast and loose with a number of Z things

1486
01:28:49,449 --> 01:28:52,659
as we were going through there because

1487
01:28:51,130 --> 01:28:54,730
we didn't really know how things really

1488
01:28:52,659 --> 01:28:57,369
going on but now that we actually are

1489
01:28:54,729 --> 01:29:00,909
making everything lockdown and concrete

1490
01:28:57,369 --> 01:29:03,250
one of the problems we get is now we

1491
01:29:00,909 --> 01:29:04,899
need to make these policies be correct

1492
01:29:03,250 --> 01:29:07,539
now we already made a really nice big

1493
01:29:04,899 --> 01:29:09,219
step forwards already by figuring out

1494
01:29:07,539 --> 01:29:10,510
where the tile information supposed to

1495
01:29:09,220 --> 01:29:12,579
go and that was great because that's

1496
01:29:10,510 --> 01:29:15,940
finally it kind of the end of a of a

1497
01:29:12,579 --> 01:29:18,430
long time of not really knowing exactly

1498
01:29:15,939 --> 01:29:20,019
where that should go but now if we look

1499
01:29:18,430 --> 01:29:24,210
at what we're dealing with here when

1500
01:29:20,020 --> 01:29:27,070
we're creating these tile things and

1501
01:29:24,210 --> 01:29:28,180
creating the span of the room I think we

1502
01:29:27,069 --> 01:29:29,559
now need to think about this a little

1503
01:29:28,180 --> 01:29:31,630
bit more in terms of where

1504
01:29:29,560 --> 01:29:33,430
everything is the first thing that I

1505
01:29:31,630 --> 01:29:37,539
think is pretty crappy and that we're

1506
01:29:33,430 --> 01:29:39,159
gonna have to immediately fix and I'll

1507
01:29:37,539 --> 01:29:39,939
just start with it because I know it I

1508
01:29:39,159 --> 01:29:43,569
don't like it

1509
01:29:39,939 --> 01:29:47,409
is we asymmetrically treat the sizes of

1510
01:29:43,569 --> 01:29:49,719
cubes right and that's just bad so you

1511
01:29:47,409 --> 01:29:51,639
can see it here and it says it right in

1512
01:29:49,720 --> 01:29:54,400
the to do so let's just do it

1513
01:29:51,640 --> 01:29:58,090
we're in Z correction mode let's stop

1514
01:29:54,399 --> 01:29:59,199
that nonsense it's just just no just bad

1515
01:29:58,090 --> 01:30:04,090
right

1516
01:29:59,199 --> 01:30:07,869
incorrect false wrong no don't do not do

1517
01:30:04,090 --> 01:30:09,550
right so when we push a cube let's just

1518
01:30:07,869 --> 01:30:12,460
force everyone to update we're just

1519
01:30:09,550 --> 01:30:14,560
gonna pass the v3 radius for the cube

1520
01:30:12,460 --> 01:30:17,050
and now it's like that's what you have

1521
01:30:14,560 --> 01:30:26,080
to do so just do it and shut up

1522
01:30:17,050 --> 01:30:30,880
right now that'll break everyone's code

1523
01:30:26,079 --> 01:30:36,840
so now we're in happy code land copy

1524
01:30:30,880 --> 01:30:39,310
code code Ville code Ness happy and so

1525
01:30:36,840 --> 01:30:42,310
we just have to now follow those changes

1526
01:30:39,310 --> 01:30:46,660
out and fix them all right so fix

1527
01:30:42,310 --> 01:30:48,730
everywhere that was you know it was

1528
01:30:46,659 --> 01:30:51,609
doing this wrong we want to fix all of

1529
01:30:48,729 --> 01:30:54,250
that so let's go ahead and do that first

1530
01:30:51,609 --> 01:30:58,899
thing here is I guess when we call push

1531
01:30:54,250 --> 01:31:05,039
cube what are we complaining about do we

1532
01:30:58,899 --> 01:31:05,039
have a push cube lofted out somewhere

1533
01:31:05,670 --> 01:31:12,029
pv3

1534
01:31:06,909 --> 01:31:12,029
radius radius

1535
01:31:13,350 --> 01:31:23,880
be three radius so what are you

1536
01:31:19,859 --> 01:31:30,059
complaining about nanotubes Kruger types

1537
01:31:23,880 --> 01:31:35,390
could be push cube V 3 V 3 while trying

1538
01:31:30,060 --> 01:31:44,280
to match the argument render group

1539
01:31:35,390 --> 01:31:46,880
loaded bitmap V 3 V 3 F 32 lighting

1540
01:31:44,279 --> 01:31:46,880
point state

1541
01:31:56,689 --> 01:32:03,879
so that's this one right here and it

1542
01:31:59,180 --> 01:32:03,880
does do that doesn't it

1543
01:32:11,219 --> 01:32:14,429
what am I missing

1544
01:32:21,529 --> 01:32:45,539
this does group bitmapped PE radius ah I

1545
01:32:35,939 --> 01:32:48,679
forgot to lead height sorry there we go

1546
01:32:45,539 --> 01:32:51,239
so now in this one this was already

1547
01:32:48,680 --> 01:32:53,280
correcting for that you can see it doing

1548
01:32:51,239 --> 01:32:55,409
it right here right it was correcting

1549
01:32:53,279 --> 01:32:57,059
for the fact that it wasn't symmetric so

1550
01:32:55,409 --> 01:33:00,779
now we can just get rid of that and make

1551
01:32:57,060 --> 01:33:09,930
sure that it is right passing it's

1552
01:33:00,779 --> 01:33:14,939
symmetric so that's great and so now all

1553
01:33:09,930 --> 01:33:18,000
we have to do is just V 3fi this so when

1554
01:33:14,939 --> 01:33:20,989
we're just passing the Dimension X but

1555
01:33:18,000 --> 01:33:20,989
here we can pass

1556
01:33:28,659 --> 01:33:42,590
no sure I was passing the dimension why

1557
01:33:33,529 --> 01:33:45,429
is the emission okay that's you one way

1558
01:33:42,590 --> 01:33:49,610
to do it that's packing that in there

1559
01:33:45,430 --> 01:33:50,770
clever mr. mr. clever man I don't really

1560
01:33:49,609 --> 01:33:59,839
want to do that anymore

1561
01:33:50,770 --> 01:34:02,630
so let's go ahead and not do that let's

1562
01:33:59,840 --> 01:34:06,409
go ahead and do that properly so I

1563
01:34:02,630 --> 01:34:12,949
snuggled this in there for the entity

1564
01:34:06,409 --> 01:34:16,369
visible piece I put in that in that

1565
01:34:12,949 --> 01:34:21,170
dimension there I was putting for the

1566
01:34:16,369 --> 01:34:26,809
light I was because you know there's two

1567
01:34:21,170 --> 01:34:28,159
values for gym in there I was sort of

1568
01:34:26,810 --> 01:34:32,660
cheating and putting the emission level

1569
01:34:28,159 --> 01:34:35,739
in there for whatever reason now why I

1570
01:34:32,659 --> 01:34:39,380
would do that I have absolutely no idea

1571
01:34:35,739 --> 01:34:43,609
because if it's a light then it doesn't

1572
01:34:39,380 --> 01:34:48,550
have a color alpha anyway so the right

1573
01:34:43,609 --> 01:34:48,549
place to put that would have been here

1574
01:34:49,750 --> 01:34:58,779
so who knows what I was thinking at that

1575
01:34:53,270 --> 01:35:01,220
time probably I just wasn't but you know

1576
01:34:58,779 --> 01:35:05,659
some days you've got it some days you

1577
01:35:01,220 --> 01:35:09,170
don't in programming right and that day

1578
01:35:05,659 --> 01:35:12,619
I probably didn't so yeah when we come

1579
01:35:09,170 --> 01:35:16,039
through here and do an ad piece like all

1580
01:35:12,619 --> 01:35:20,380
I think AB piece light is not that this

1581
01:35:16,039 --> 01:35:24,810
is not right that should do something

1582
01:35:20,380 --> 01:35:27,998
like this and then

1583
01:35:24,810 --> 01:35:27,999
[Music]

1584
01:35:28,489 --> 01:35:37,319
that I think unless I'm missing

1585
01:35:32,189 --> 01:35:39,689
something so yeah then we push the light

1586
01:35:37,319 --> 01:35:42,299
down this here what we really want to do

1587
01:35:39,689 --> 01:35:45,119
is just make that be the radius of the

1588
01:35:42,300 --> 01:35:48,960
light in general and then I think we're

1589
01:35:45,119 --> 01:35:52,619
fine the push cube call it now needs to

1590
01:35:48,960 --> 01:35:55,170
be able to specify a dimension in a more

1591
01:35:52,619 --> 01:35:57,180
sort of sane way the problem here that

1592
01:35:55,170 --> 01:35:58,890
we have is that again we don't specify

1593
01:35:57,180 --> 01:36:01,320
more than one of those that's okay

1594
01:35:58,890 --> 01:36:04,050
because we know that this is what we

1595
01:36:01,319 --> 01:36:05,880
meant anyway in this case of the

1596
01:36:04,050 --> 01:36:06,750
encoding we should probably just upgrade

1597
01:36:05,880 --> 01:36:10,770
that to just be a regular

1598
01:36:06,750 --> 01:36:14,220
three-dimensional shape though so that's

1599
01:36:10,770 --> 01:36:17,910
kind of a separate situation so anyway

1600
01:36:14,220 --> 01:36:19,560
now what you can see is everything is a

1601
01:36:17,909 --> 01:36:21,930
little bit off because since we changed

1602
01:36:19,560 --> 01:36:23,640
the way the Z is encoded now everyone

1603
01:36:21,930 --> 01:36:25,640
was used to specify height they're

1604
01:36:23,640 --> 01:36:28,680
actually specifying a radius now right

1605
01:36:25,640 --> 01:36:31,560
and so since we're specify radius

1606
01:36:28,680 --> 01:36:33,420
numbers are now twice as large as they

1607
01:36:31,560 --> 01:36:35,580
should be because pre before the height

1608
01:36:33,420 --> 01:36:38,850
only everything else was still specified

1609
01:36:35,579 --> 01:36:40,500
as radius so we want to probably go

1610
01:36:38,850 --> 01:36:41,880
ahead and correct that now granted it's

1611
01:36:40,500 --> 01:36:44,069
kind of nice with the super high walls

1612
01:36:41,880 --> 01:36:47,100
it's it's a little bit fun it makes it

1613
01:36:44,069 --> 01:36:48,479
feel more like a real room actually so

1614
01:36:47,100 --> 01:36:51,150
who knows maybe it's actually a good

1615
01:36:48,479 --> 01:36:55,379
idea I don't know all I might just leave

1616
01:36:51,149 --> 01:36:57,269
it that way for now but regardless of

1617
01:36:55,380 --> 01:36:58,829
all of that we still want to do the one

1618
01:36:57,270 --> 01:37:00,900
important part that we were talking

1619
01:36:58,829 --> 01:37:02,819
about before which is now we need

1620
01:37:00,899 --> 01:37:04,789
everything to be centered around the

1621
01:37:02,819 --> 01:37:06,960
actual tile area a little bit more

1622
01:37:04,789 --> 01:37:09,600
correctly right because we're still

1623
01:37:06,960 --> 01:37:11,220
totally borked in terms of where this

1624
01:37:09,600 --> 01:37:13,200
stuff is supposed to be and there's two

1625
01:37:11,220 --> 01:37:14,520
things you want to line up with one is

1626
01:37:13,199 --> 01:37:16,139
we want to line up with the chunk

1627
01:37:14,520 --> 01:37:17,700
boundaries properly so we're aren't

1628
01:37:16,140 --> 01:37:20,460
constantly processing more entities than

1629
01:37:17,699 --> 01:37:23,819
we need to inside the pull loop and then

1630
01:37:20,460 --> 01:37:25,260
the other thing that we want to do is we

1631
01:37:23,819 --> 01:37:29,219
want to make sure that we're a little

1632
01:37:25,260 --> 01:37:30,780
bit more sane about how it lines up with

1633
01:37:29,220 --> 01:37:33,020
just the room boundaries in general

1634
01:37:30,779 --> 01:37:36,359
right so everything these kind of shift

1635
01:37:33,020 --> 01:37:38,790
downward so why is that happening well

1636
01:37:36,359 --> 01:37:40,799
first of all I think that's happening

1637
01:37:38,789 --> 01:37:41,429
partially because you know change the

1638
01:37:40,800 --> 01:37:42,840
hiding code

1639
01:37:41,429 --> 01:37:44,539
means that everybody need to sort of

1640
01:37:42,840 --> 01:37:47,369
think about what their height should be

1641
01:37:44,539 --> 01:37:49,649
relative differently than they used to

1642
01:37:47,369 --> 01:37:50,819
so for example inside room Jen where

1643
01:37:49,649 --> 01:37:53,219
we're adding these pieces and we're

1644
01:37:50,819 --> 01:37:55,049
specifying offsets and dimensions and

1645
01:37:53,219 --> 01:37:57,090
these sorts of things a lot of these

1646
01:37:55,050 --> 01:37:58,409
things are now offset in a way that

1647
01:37:57,090 --> 01:38:05,159
wouldn't necessarily be appropriate

1648
01:37:58,408 --> 01:38:08,729
right so like the when we add like floor

1649
01:38:05,158 --> 01:38:14,609
tiles for example and and we're in here

1650
01:38:08,729 --> 01:38:17,639
adding adding this piece type cube we

1651
01:38:14,609 --> 01:38:19,019
add the height again that that's a if

1652
01:38:17,640 --> 01:38:21,750
that's the height right it should be

1653
01:38:19,020 --> 01:38:25,320
half of the height and then we've got

1654
01:38:21,750 --> 01:38:27,960
sort of the radius level here when we

1655
01:38:25,319 --> 01:38:30,269
pick what the center should be if that's

1656
01:38:27,960 --> 01:38:33,300
the point if zero zero zero the tile

1657
01:38:30,270 --> 01:38:36,210
location is supposed to be the top of

1658
01:38:33,300 --> 01:38:38,909
the thing then we would need to subtract

1659
01:38:36,210 --> 01:38:40,679
this away right so it actually needs to

1660
01:38:38,908 --> 01:38:43,979
go down by that amount

1661
01:38:40,679 --> 01:38:45,899
for the actual point for the traversable

1662
01:38:43,979 --> 01:38:47,339
to line up right there now I'm not

1663
01:38:45,899 --> 01:38:49,920
saying that's what we want it to be

1664
01:38:47,340 --> 01:38:51,659
necessarily I'm just saying if we want

1665
01:38:49,920 --> 01:38:52,260
it to actually do the thing it was doing

1666
01:38:51,658 --> 01:38:54,988
before

1667
01:38:52,260 --> 01:38:59,520
that's the offset we would have to apply

1668
01:38:54,988 --> 01:39:02,519
right so now you can see it reverted to

1669
01:38:59,520 --> 01:39:05,969
the old way it used to be lined up which

1670
01:39:02,520 --> 01:39:09,570
again is still wrong for a separate

1671
01:39:05,969 --> 01:39:12,060
reason but it's now not it now doesn't

1672
01:39:09,569 --> 01:39:14,729
have the additional bug introduced by

1673
01:39:12,060 --> 01:39:16,380
the Z encoding right so now we've

1674
01:39:14,729 --> 01:39:18,569
restored things back to the way they

1675
01:39:16,380 --> 01:39:21,150
used to be and now we just need to ask

1676
01:39:18,569 --> 01:39:23,609
ourselves what's going on in terms of

1677
01:39:21,149 --> 01:39:30,839
the Z and code here right so let's talk

1678
01:39:23,609 --> 01:39:32,189
about that and one other thing we should

1679
01:39:30,840 --> 01:39:33,600
do by the way is then we want to also

1680
01:39:32,189 --> 01:39:36,839
look at the chunk boundaries and make

1681
01:39:33,600 --> 01:39:39,060
sure our rooms are aligned to the trunk

1682
01:39:36,840 --> 01:39:40,140
boundaries in Z properly there's no way

1683
01:39:39,060 --> 01:39:42,060
to get them to the line the next

1684
01:39:40,140 --> 01:39:44,310
properly that's not gonna happen because

1685
01:39:42,060 --> 01:39:47,870
since we have variable size rooms there

1686
01:39:44,310 --> 01:39:52,530
are no there's no meaning to that right

1687
01:39:47,869 --> 01:39:55,368
x and y doesn't happen on a regular grid

1688
01:39:52,529 --> 01:39:58,189
in any meaningful way that we care about

1689
01:39:55,368 --> 01:39:59,988
in terms of reducing and identity

1690
01:39:58,189 --> 01:40:03,049
processing so that's really just

1691
01:39:59,988 --> 01:40:05,329
irrelevant but the part that is relevant

1692
01:40:03,050 --> 01:40:08,630
to us is that floors in general in the

1693
01:40:05,329 --> 01:40:10,819
game are always relatively consistent

1694
01:40:08,630 --> 01:40:18,529
and so we want to make sure that that

1695
01:40:10,819 --> 01:40:21,319
part is you know we is not forcing the

1696
01:40:18,529 --> 01:40:23,000
system that gathers entities to do more

1697
01:40:21,319 --> 01:40:28,599
work than it should strictly for that

1698
01:40:23,000 --> 01:40:28,600
reason right and so that's kind of nice

1699
01:40:29,500 --> 01:40:35,238
well it's kind of nice if we do that

1700
01:40:31,639 --> 01:40:41,480
right all right so what we want to do

1701
01:40:35,238 --> 01:40:44,689
here is go we know that a tile that the

1702
01:40:41,479 --> 01:40:46,849
tile Z is like a stack that's like

1703
01:40:44,689 --> 01:40:49,669
pretty large right it's the height of a

1704
01:40:46,850 --> 01:40:52,670
floor and what we're trying to do is

1705
01:40:49,670 --> 01:40:58,639
align the world to that in some sort of

1706
01:40:52,670 --> 01:41:01,279
smart way now what we want is we want

1707
01:40:58,639 --> 01:41:03,500
the entities to generally extend no

1708
01:41:01,279 --> 01:41:05,118
further than the bottom of the floor and

1709
01:41:03,500 --> 01:41:08,179
then we want them to end probably

1710
01:41:05,118 --> 01:41:10,750
somewhere in the middle right so if we

1711
01:41:08,179 --> 01:41:14,210
look at how this is actually positioned

1712
01:41:10,750 --> 01:41:16,310
what we end up getting is this shame

1713
01:41:14,210 --> 01:41:18,350
center here where we're placing or

1714
01:41:16,310 --> 01:41:21,230
rather the tile location that replacing

1715
01:41:18,350 --> 01:41:23,510
right at that zero zero we really want

1716
01:41:21,229 --> 01:41:27,439
probably the room boundaries and the

1717
01:41:23,510 --> 01:41:31,940
world chunks to be offset like probably

1718
01:41:27,439 --> 01:41:33,439
a half from that so in much the same way

1719
01:41:31,939 --> 01:41:36,349
that we were sort of doing this half

1720
01:41:33,439 --> 01:41:41,928
tile dim offset here right where we

1721
01:41:36,350 --> 01:41:45,010
offset we probably want just trying to

1722
01:41:41,929 --> 01:41:45,010
think of how this is going to go

1723
01:41:48,130 --> 01:41:56,539
so I just want to try something real

1724
01:41:50,359 --> 01:41:59,799
quick here so if we don't offset the Z

1725
01:41:56,539 --> 01:42:05,329
at all when we correct for the alignment

1726
01:41:59,800 --> 01:42:07,579
here's what we get right and the reason

1727
01:42:05,329 --> 01:42:11,750
that we get that is again because we

1728
01:42:07,579 --> 01:42:16,850
extend downward and upward from a single

1729
01:42:11,750 --> 01:42:22,159
Z tile right the same amount so we sort

1730
01:42:16,850 --> 01:42:30,110
of pre-baked that notion in and so as a

1731
01:42:22,159 --> 01:42:32,470
result actually I should say that

1732
01:42:30,109 --> 01:42:32,469
differently

1733
01:42:47,260 --> 01:42:59,170
when we look back at this code here what

1734
01:42:56,390 --> 01:43:02,710
we're saying is we know that we want

1735
01:42:59,170 --> 01:43:02,710
zero zero zero

1736
01:43:18,119 --> 01:43:31,890
Chung said mrs. right we know that we

1737
01:43:25,810 --> 01:43:31,890
pre stated that we want zero zero zero

1738
01:43:32,880 --> 01:43:41,020
relative to the position of the entity

1739
01:43:36,369 --> 01:43:44,019
to be where the traversable czar placed

1740
01:43:41,020 --> 01:43:47,230
so this is the floor is that zero zero

1741
01:43:44,020 --> 01:43:53,730
zero relative to the entity we then said

1742
01:43:47,229 --> 01:43:57,909
the entity right is the wall height up

1743
01:43:53,729 --> 01:44:02,709
from the bottom in this line of code

1744
01:43:57,909 --> 01:44:08,739
right so we pre we basically pre said

1745
01:44:02,710 --> 01:44:10,359
that however high this thing is the

1746
01:44:08,739 --> 01:44:12,819
bottom of it will always be at the

1747
01:44:10,359 --> 01:44:14,859
bottom of the grid and the middle of it

1748
01:44:12,819 --> 01:44:18,899
therefore will be right roughly in the

1749
01:44:14,859 --> 01:44:23,380
middle so unlike the rest of the system

1750
01:44:18,899 --> 01:44:25,599
we don't want to offset the room

1751
01:44:23,380 --> 01:44:27,550
position at that point because we've

1752
01:44:25,600 --> 01:44:31,720
already sort of said that we weren't

1753
01:44:27,550 --> 01:44:33,699
going to go below there we didn't if we

1754
01:44:31,720 --> 01:44:35,980
had centered everything right at that

1755
01:44:33,699 --> 01:44:40,769
then we'd want to do that same offset

1756
01:44:35,979 --> 01:44:45,879
but we didn't do that right so I think

1757
01:44:40,770 --> 01:44:50,910
not offsetting by the half tile is what

1758
01:44:45,880 --> 01:44:50,909
we would want there I think

1759
01:44:56,420 --> 01:45:10,109
and when we do our chunk space mapping I

1760
01:45:05,000 --> 01:45:12,600
think we don't really want to do this

1761
01:45:10,109 --> 01:45:13,349
offset baked into it for any particular

1762
01:45:12,600 --> 01:45:15,750
reason

1763
01:45:13,350 --> 01:45:20,460
because I think it will still line up

1764
01:45:15,750 --> 01:45:22,289
correctly now I don't know because we

1765
01:45:20,460 --> 01:45:24,750
haven't done this in a while so the only

1766
01:45:22,289 --> 01:45:30,989
way I can really be sure is to draw the

1767
01:45:24,750 --> 01:45:32,550
chunk locations explicitly now I think

1768
01:45:30,989 --> 01:45:33,899
we had code to do that at one point but

1769
01:45:32,550 --> 01:45:38,640
I think we've long since gotten rid of

1770
01:45:33,899 --> 01:45:52,439
it we don't draw a chunk boundaries

1771
01:45:38,640 --> 01:45:56,760
anywhere here I don't think yeah so you

1772
01:45:52,439 --> 01:46:00,899
know let's say that we did draw a chunk

1773
01:45:56,760 --> 01:46:03,300
boundaries I so let's say that I want to

1774
01:46:00,899 --> 01:46:07,139
push a volume outline and I want to just

1775
01:46:03,300 --> 01:46:10,920
say like chunk boundary and I'm gonna

1776
01:46:07,140 --> 01:46:17,520
set that to some kind of a saucy

1777
01:46:10,920 --> 01:46:21,840
rectangle and then I can compute the

1778
01:46:17,520 --> 01:46:24,990
chunk boundary quite easily right once I

1779
01:46:21,840 --> 01:46:29,000
know for example where my simulation

1780
01:46:24,989 --> 01:46:34,109
center is going to be or really any

1781
01:46:29,000 --> 01:46:38,250
world position that we've got so like

1782
01:46:34,109 --> 01:46:40,649
for example this the cameras location or

1783
01:46:38,250 --> 01:46:41,970
something doesn't matter which one

1784
01:46:40,649 --> 01:46:45,000
anyone at all

1785
01:46:41,970 --> 01:46:46,409
that will have one bound I can use and

1786
01:46:45,000 --> 01:46:49,529
then I can create another bound I can

1787
01:46:46,409 --> 01:46:51,630
use out of that right so for example if

1788
01:46:49,529 --> 01:46:54,449
I want to create the chunk boundary here

1789
01:46:51,630 --> 01:46:58,079
what I could do is say all right here's

1790
01:46:54,449 --> 01:47:03,029
the world camera P so this is like min

1791
01:46:58,079 --> 01:47:04,590
chunk P and the max junk P is just the

1792
01:47:03,029 --> 01:47:08,399
min chunk P

1793
01:47:04,590 --> 01:47:16,260
with the plus right so if I go in here

1794
01:47:08,399 --> 01:47:24,599
to look at the world position not that

1795
01:47:16,260 --> 01:47:28,650
this so if I just add one to each chunk

1796
01:47:24,600 --> 01:47:33,660
position and furthermore I zero the

1797
01:47:28,649 --> 01:47:36,659
offset I've effectively created a one

1798
01:47:33,659 --> 01:47:41,010
chunk rectangle out of two of these

1799
01:47:36,659 --> 01:47:43,559
things right so if I then map those into

1800
01:47:41,010 --> 01:47:49,579
sim space I can then make exactly that

1801
01:47:43,560 --> 01:47:56,370
thing that I wanted by doing a rectum in

1802
01:47:49,579 --> 01:47:58,579
max-width map into some space and be

1803
01:47:56,369 --> 01:47:58,579
done

1804
01:48:03,590 --> 01:48:07,279
where's my sim region

1805
01:48:23,170 --> 01:48:27,969
and I think that's all we would really

1806
01:48:25,689 --> 01:48:31,988
need to draw it that would just show us

1807
01:48:27,969 --> 01:48:35,649
how big one chunk would be and so when

1808
01:48:31,988 --> 01:48:37,868
you look out here right now you can see

1809
01:48:35,649 --> 01:48:40,238
where the chunk boundaries are so

1810
01:48:37,868 --> 01:48:42,789
there's a chunk boundary and what I

1811
01:48:40,238 --> 01:48:45,519
trying to say is I want that to line up

1812
01:48:42,789 --> 01:48:48,368
with a floor so that the entities fit

1813
01:48:45,520 --> 01:48:50,860
properly within it so like I said I

1814
01:48:48,368 --> 01:48:53,319
think now the correct way to do that you

1815
01:48:50,859 --> 01:48:56,469
can see it's not lined up the floor is

1816
01:48:53,319 --> 01:48:58,840
to get rid of the offsetting that's

1817
01:48:56,469 --> 01:49:03,730
going on there so that when we create

1818
01:48:58,840 --> 01:49:06,279
the world it's lined up properly and so

1819
01:49:03,729 --> 01:49:08,649
now you can see that it does line up so

1820
01:49:06,279 --> 01:49:12,550
now that offsets gone and everything's

1821
01:49:08,649 --> 01:49:17,979
fine and we're just done with a series

1822
01:49:12,550 --> 01:49:24,239
as well so you know so now if I turn

1823
01:49:17,979 --> 01:49:27,158
everything off here and get to sort of a

1824
01:49:24,238 --> 01:49:29,199
more reasonable situation so now I think

1825
01:49:27,158 --> 01:49:30,368
everything is pretty reasonable

1826
01:49:29,199 --> 01:49:32,529
[Music]

1827
01:49:30,368 --> 01:49:35,408
you know we're hopping around we've got

1828
01:49:32,529 --> 01:49:37,509
our lights we've got our rooms there's

1829
01:49:35,408 --> 01:49:39,848
not a lot of glitching our camera is not

1830
01:49:37,510 --> 01:49:40,869
does not have a good interpolator and

1831
01:49:39,849 --> 01:49:43,300
that's something that we're gonna want

1832
01:49:40,868 --> 01:49:44,439
to do the camera has doesn't have a real

1833
01:49:43,300 --> 01:49:47,289
interpolator at the moment it's kind of

1834
01:49:44,439 --> 01:49:48,908
busted but now we can sort of hop around

1835
01:49:47,289 --> 01:49:52,929
didn't have some lights and have

1836
01:49:48,908 --> 01:49:55,238
whatever and and you know this now feels

1837
01:49:52,929 --> 01:49:58,060
like a proper I'm going around exploring

1838
01:49:55,238 --> 01:50:00,729
game so the next things that we need to

1839
01:49:58,060 --> 01:50:02,139
do are to the camera and maybe we'll do

1840
01:50:00,729 --> 01:50:06,279
those a little bit before doing the art

1841
01:50:02,139 --> 01:50:07,449
maybe we'll do this on next Saturday and

1842
01:50:06,279 --> 01:50:10,840
we'll start the art on Sunday or

1843
01:50:07,448 --> 01:50:12,399
something but what I'd like to do there

1844
01:50:10,840 --> 01:50:14,199
is just add something that allows

1845
01:50:12,399 --> 01:50:15,759
scrolling around the larger rooms

1846
01:50:14,198 --> 01:50:19,118
because I don't really want to zoom out

1847
01:50:15,760 --> 01:50:20,889
further I don't think so add something

1848
01:50:19,118 --> 01:50:23,348
that allows scrolling around the larger

1849
01:50:20,889 --> 01:50:26,699
rooms and just add a more like Seine

1850
01:50:23,349 --> 01:50:26,699
interpolator to

1851
01:50:27,659 --> 01:50:32,729
to the mix so that's good for today

1852
01:50:34,350 --> 01:50:48,280
let me also turn off our room boundary

1853
01:50:37,229 --> 01:51:00,279
coat here you don't need that and we

1854
01:50:48,279 --> 01:51:02,739
don't do this and there we go so there's

1855
01:51:00,279 --> 01:51:05,889
a happy hero hopping around with

1856
01:51:02,739 --> 01:51:07,840
lighting and stuff and no art and the

1857
01:51:05,890 --> 01:51:09,130
cameras tracking him nicely and then the

1858
01:51:07,840 --> 01:51:11,020
only problem he really has is you get to

1859
01:51:09,130 --> 01:51:13,150
a room that's too big so the camera

1860
01:51:11,020 --> 01:51:14,440
doesn't want to pull out any further you

1861
01:51:13,149 --> 01:51:16,269
can't see the whole room and so that's

1862
01:51:14,439 --> 01:51:18,129
where we would want that scrolling and

1863
01:51:16,270 --> 01:51:20,380
you can also see that the interpolation

1864
01:51:18,130 --> 01:51:21,850
isn't great and so those are the two

1865
01:51:20,380 --> 01:51:24,940
things I think that really need fixing

1866
01:51:21,850 --> 01:51:27,150
there right and so that all feels pretty

1867
01:51:24,939 --> 01:51:27,149
good

1868
01:52:01,439 --> 01:52:06,099
is there any particular reason why the

1869
01:52:03,609 --> 01:52:08,049
sim region and or lighting region are

1870
01:52:06,100 --> 01:52:10,690
based on world space rather than

1871
01:52:08,050 --> 01:52:12,039
connected rooms I know that's how it was

1872
01:52:10,689 --> 01:52:13,659
originally put together but are there

1873
01:52:12,039 --> 01:52:15,760
any benefits its advantages either way

1874
01:52:13,659 --> 01:52:18,340
also if you place the lighting boundary

1875
01:52:15,760 --> 01:52:20,020
right before a lamp and then move so it

1876
01:52:18,340 --> 01:52:22,000
enters the light region doesn't it kind

1877
01:52:20,020 --> 01:52:22,930
of pop in a little it's more of a fade

1878
01:52:22,000 --> 01:52:24,609
but hopefully you know what I mean

1879
01:52:22,930 --> 01:52:28,240
entering the big square room does what I

1880
01:52:24,609 --> 01:52:30,569
mean with the lamps at the top um yes so

1881
01:52:28,239 --> 01:52:36,819
there's kind of two questions in there

1882
01:52:30,569 --> 01:52:38,799
so the there is no particular reason to

1883
01:52:36,819 --> 01:52:40,689
use world space rather than connected

1884
01:52:38,800 --> 01:52:44,140
rooms we could choose to use Keck dreams

1885
01:52:40,689 --> 01:52:50,439
the future I don't have a strong opinion

1886
01:52:44,140 --> 01:52:52,240
about it yet so we'll see a little

1887
01:52:50,439 --> 01:52:54,789
further on what we want to do there we

1888
01:52:52,239 --> 01:53:01,929
may want to do connected rooms and we

1889
01:52:54,789 --> 01:53:04,149
may not so we'll see there's advantages

1890
01:53:01,930 --> 01:53:06,430
and disadvantages the advantages to

1891
01:53:04,149 --> 01:53:08,289
doing connected rooms is that you know

1892
01:53:06,430 --> 01:53:11,590
you're using one discrete like chunk of

1893
01:53:08,289 --> 01:53:13,630
world that makes semantic sense to the

1894
01:53:11,590 --> 01:53:15,159
game design the advance of using world

1895
01:53:13,630 --> 01:53:16,659
spaces it's a constant amount no matter

1896
01:53:15,159 --> 01:53:19,599
where you are so it doesn't matter how

1897
01:53:16,659 --> 01:53:21,250
many rooms how many how big the rooms

1898
01:53:19,600 --> 01:53:22,690
connected to you are you aren't like

1899
01:53:21,250 --> 01:53:24,729
taking a variable-length hit there so

1900
01:53:22,689 --> 01:53:28,059
there's there's some differences but you

1901
01:53:24,729 --> 01:53:30,189
know as for placing the lighting

1902
01:53:28,060 --> 01:53:31,060
boundary yeah there's different ways you

1903
01:53:30,189 --> 01:53:34,809
can do that

1904
01:53:31,060 --> 01:53:37,510
so I actually am okay with fade in I

1905
01:53:34,810 --> 01:53:39,160
think it's kind of nice actually so I

1906
01:53:37,510 --> 01:53:42,310
would probably leave it the way it is

1907
01:53:39,159 --> 01:53:44,319
now if you don't want the light to fade

1908
01:53:42,310 --> 01:53:47,320
in like that then what you can do is

1909
01:53:44,319 --> 01:53:50,049
just enlarge those boundaries right so

1910
01:53:47,319 --> 01:53:53,500
make the lighting boundary bigger and

1911
01:53:50,050 --> 01:53:57,820
then you just cost more CPU time or GPU

1912
01:53:53,500 --> 01:53:59,470
time a friend up using a GPU right so

1913
01:53:57,819 --> 01:54:01,299
I'm actually okay with that we may

1914
01:53:59,470 --> 01:54:03,400
enlarge it slightly more than it is

1915
01:54:01,300 --> 01:54:07,020
right now right so it may be that the

1916
01:54:03,399 --> 01:54:07,019
optimal is actually a little bit bigger

1917
01:54:07,460 --> 01:54:13,230
and maybe we want the you know one thing

1918
01:54:11,369 --> 01:54:16,800
we could do is say the active room

1919
01:54:13,229 --> 01:54:19,589
should always be entirely included in

1920
01:54:16,800 --> 01:54:21,500
the light boundary right so maybe not

1921
01:54:19,590 --> 01:54:23,789
connected rooms but just the active room

1922
01:54:21,500 --> 01:54:26,069
and so some of those things we will

1923
01:54:23,789 --> 01:54:28,289
address later on as we go and since we

1924
01:54:26,069 --> 01:54:32,449
have the ability to specify either in

1925
01:54:28,289 --> 01:54:32,449
any way we have the freedom to sort of

1926
01:54:32,510 --> 01:54:45,840
tune that I think there were two typos

1927
01:54:42,840 --> 01:54:50,970
get camera offset Z for dim had X count

1928
01:54:45,840 --> 01:54:53,480
type of tone ii get camera offset z for

1929
01:54:50,970 --> 01:54:53,480
gym

1930
01:55:01,270 --> 01:55:04,899
[Music]

1931
01:55:13,988 --> 01:55:19,079
ah you are right there's one right there

1932
01:55:19,738 --> 01:55:30,459
and push later push like cook cubed x ik

1933
01:55:24,010 --> 01:55:41,890
see ya that's intentional life think are

1934
01:55:30,460 --> 01:55:47,369
you sure it wasn't XXY I think that when

1935
01:55:41,890 --> 01:55:47,369
you're talking about maybe intentional

1936
01:56:11,719 --> 01:56:15,029
so I think it's the push piece one

1937
01:56:13,859 --> 01:56:18,079
probably that you're talking about are

1938
01:56:15,029 --> 01:56:18,079
you talking about

1939
01:56:23,239 --> 01:56:31,639
this one because that one is intentional

1940
01:56:28,899 --> 01:56:34,759
because it only starts a two dimension

1941
01:56:31,640 --> 01:56:46,760
it stores just the radius for X&amp;Y the

1942
01:56:34,760 --> 01:56:48,199
same so it duplicates that out I really

1943
01:56:46,760 --> 01:56:50,090
thought much but are those static light

1944
01:56:48,199 --> 01:56:51,229
stimulated if yes would it be good to

1945
01:56:50,090 --> 01:56:54,199
make they're letting peacock a to

1946
01:56:51,229 --> 01:56:56,419
improve forints but so no I don't want

1947
01:56:54,199 --> 01:56:59,630
them to be precomputed because as soon

1948
01:56:56,420 --> 01:57:05,029
as we add in we have to do a little bit

1949
01:56:59,630 --> 01:57:07,909
of stuff in the pipeline to allow the

1950
01:57:05,029 --> 01:57:09,979
moving objects to interact with the

1951
01:57:07,909 --> 01:57:11,720
lights just by add that we just need to

1952
01:57:09,979 --> 01:57:14,659
add light volumes for them and then

1953
01:57:11,720 --> 01:57:19,490
extract the lighting for when we light

1954
01:57:14,659 --> 01:57:20,779
the sprites so it won't be static right

1955
01:57:19,489 --> 01:57:23,899
when someone moves in front of the light

1956
01:57:20,779 --> 01:57:25,399
it'll block the light from getting

1957
01:57:23,899 --> 01:57:27,259
passed in that direction

1958
01:57:25,399 --> 01:57:30,799
so we don't really want any static

1959
01:57:27,260 --> 01:57:31,640
lighting in the game well up facing

1960
01:57:30,800 --> 01:57:33,920
sprite cars to effect about lighting

1961
01:57:31,640 --> 01:57:36,550
feature yes after we do exactly what I

1962
01:57:33,920 --> 01:57:36,550
just said

1963
01:57:54,939 --> 01:57:59,859
and in the up facing spray cards bit is

1964
01:57:57,698 --> 01:58:03,658
a little bit dicey just because we don't

1965
01:57:59,859 --> 01:58:03,658
really have normal maps for the sprites

1966
01:58:04,408 --> 01:58:11,049
so we do shadow maps no I don't really

1967
01:58:08,380 --> 01:58:13,569
want any hard edges in the game it's

1968
01:58:11,050 --> 01:58:16,360
should be like softer so there won't be

1969
01:58:13,569 --> 01:58:26,139
any shadow mapping there's just general

1970
01:58:16,359 --> 01:58:27,759
light transmission I also don't really

1971
01:58:26,139 --> 01:58:30,159
know how you would even do shadow

1972
01:58:27,760 --> 01:58:32,139
mapping with sprite cards because you

1973
01:58:30,158 --> 01:58:34,059
would need to know what the sprite

1974
01:58:32,139 --> 01:58:38,050
looked like from the perspective of the

1975
01:58:34,060 --> 01:58:40,750
light which you don't know now I guess

1976
01:58:38,050 --> 01:58:44,650
you could just guess like always make

1977
01:58:40,750 --> 01:58:46,270
the sprite face the light maybe but I

1978
01:58:44,649 --> 01:58:47,979
don't know that that would cast a very

1979
01:58:46,270 --> 01:58:51,790
good shadow it might catch some really

1980
01:58:47,979 --> 01:59:01,539
wrong looking shadows fairly often so

1981
01:58:51,789 --> 01:59:03,810
that part I also don't really want among

1982
01:59:01,539 --> 01:59:03,810
other things

1983
01:59:17,350 --> 01:59:22,120
I need to make stairwells happen here

1984
01:59:20,260 --> 01:59:27,600
because we can't the dungeon is beneath

1985
01:59:22,119 --> 01:59:27,599
us and we can't we can't get down there

1986
01:59:27,750 --> 01:59:33,090
because the rooms current regenerate

1987
01:59:30,069 --> 01:59:33,090
doesn't ever do that

1988
02:00:04,500 --> 02:00:15,220
do we have any questions yes so rooms

1989
02:00:12,970 --> 02:00:17,949
below us so here's a something that we

1990
02:00:15,220 --> 02:00:20,440
will probably want to do I don't ever

1991
02:00:17,949 --> 02:00:21,789
want to compute lighting for a bigger

1992
02:00:20,439 --> 02:00:23,979
region than I have to

1993
02:00:21,789 --> 02:00:27,090
so when you look at something in

1994
02:00:23,979 --> 02:00:30,579
perspective things that are lower down

1995
02:00:27,090 --> 02:00:33,819
you would have to like light much bigger

1996
02:00:30,579 --> 02:00:37,059
areas I don't want to do that so what we

1997
02:00:33,819 --> 02:00:41,109
will probably do is I will probably

1998
02:00:37,060 --> 02:00:45,430
write the shader such that the fog will

1999
02:00:41,109 --> 02:00:47,920
now be computed enough in a frustum that

2000
02:00:45,430 --> 02:00:50,310
goes straight down from the light so

2001
02:00:47,920 --> 02:00:53,500
this stuff will be outfit out entirely

2002
02:00:50,310 --> 02:00:56,050
it's what I'll probably do so I I don't

2003
02:00:53,500 --> 02:00:58,180
I definitely don't want to have to

2004
02:00:56,050 --> 02:01:01,840
expand the light volume out to size it's

2005
02:00:58,180 --> 02:01:07,989
just too much so I anticipate when I get

2006
02:01:01,840 --> 02:01:10,300
down to fixing those problems to be much

2007
02:01:07,988 --> 02:01:12,519
more conservative and like so that

2008
02:01:10,300 --> 02:01:15,670
basically the light volume narrows down

2009
02:01:12,520 --> 02:01:18,640
to a point like that and everything

2010
02:01:15,670 --> 02:01:20,529
alphas out because I don't want to have

2011
02:01:18,640 --> 02:01:23,160
to dump more things into the lighting

2012
02:01:20,529 --> 02:01:23,159
routine

2013
02:02:22,090 --> 02:02:27,440
Seve Asher I'm cleaning up the color

2014
02:02:24,859 --> 02:02:29,630
handling to track down rendering

2015
02:02:27,439 --> 02:02:32,139
differences between my OpenGL and metal

2016
02:02:29,630 --> 02:02:35,699
backends

2017
02:02:32,140 --> 02:02:35,699
[Music]

2018
02:02:40,420 --> 02:02:44,389
okay are you talking about liking a

2019
02:02:43,158 --> 02:02:46,809
handmade hero

2020
02:02:44,389 --> 02:02:50,179
fork or something orange your own

2021
02:02:46,810 --> 02:02:52,099
renderer anyway is there a generally

2022
02:02:50,179 --> 02:02:53,868
accepted way to past our colors in the

2023
02:02:52,099 --> 02:02:55,670
pipeline ie pre convert everything in

2024
02:02:53,868 --> 02:02:57,198
the asset Packer to linear or widest

2025
02:02:55,670 --> 02:02:59,050
color space the roll generate code is

2026
02:02:57,198 --> 02:03:01,250
currently linearizing the srgb color

2027
02:02:59,050 --> 02:03:03,349
input so that they can then be

2028
02:03:01,250 --> 02:03:12,920
reconverted to srgb by OpenGL during

2029
02:03:03,349 --> 02:03:18,469
blending this seems inefficient so I

2030
02:03:12,920 --> 02:03:21,949
guess what I would say is it really

2031
02:03:18,469 --> 02:03:24,889
depends on what you're doing so when you

2032
02:03:21,948 --> 02:03:27,589
store something if you can store it in

2033
02:03:24,889 --> 02:03:30,170
srgb you generally want to because it

2034
02:03:27,590 --> 02:03:32,510
will be smaller than storing it in

2035
02:03:30,170 --> 02:03:35,239
actual linear color space that's the

2036
02:03:32,510 --> 02:03:37,579
whole reason why we have srgb right if

2037
02:03:35,238 --> 02:03:39,348
we didn't have to worry about storage

2038
02:03:37,579 --> 02:03:40,579
space we would just always store

2039
02:03:39,349 --> 02:03:42,710
everything it's like a floating-point

2040
02:03:40,579 --> 02:03:44,899
number that was in linear light because

2041
02:03:42,710 --> 02:03:47,840
why not it just everything works and

2042
02:03:44,899 --> 02:03:48,979
then you don't care but generally

2043
02:03:47,840 --> 02:03:50,569
speaking you don't want to do that

2044
02:03:48,979 --> 02:03:53,209
because like especially for bitmaps

2045
02:03:50,569 --> 02:03:55,609
which are very large you want to be able

2046
02:03:53,210 --> 02:03:57,260
to store like 8-bit color data and have

2047
02:03:55,609 --> 02:03:58,880
that just work and the only way to do

2048
02:03:57,260 --> 02:04:03,670
that is in a color space that actually

2049
02:03:58,880 --> 02:04:09,109
has a better Gama than that right um so

2050
02:04:03,670 --> 02:04:11,569
I guess what I would say is you know you

2051
02:04:09,109 --> 02:04:13,368
have to be judicious with it sometimes

2052
02:04:11,569 --> 02:04:14,960
you want things in srgb sometimes you

2053
02:04:13,368 --> 02:04:16,609
want things in linear anytime you're

2054
02:04:14,960 --> 02:04:19,939
doing math on it it needs to be in

2055
02:04:16,609 --> 02:04:21,589
linear period you can't do math on srgb

2056
02:04:19,939 --> 02:04:24,469
directly and have good results unless

2057
02:04:21,590 --> 02:04:26,119
you're really careful and have all kinds

2058
02:04:24,469 --> 02:04:30,230
of special stuff in there to make sure

2059
02:04:26,118 --> 02:04:38,868
it's right so basically what I would say

2060
02:04:30,229 --> 02:04:41,000
is you know make sure you you know make

2061
02:04:38,868 --> 02:04:42,920
make sure you think about where in the

2062
02:04:41,000 --> 02:04:44,988
pipeline you are doing any kind of math

2063
02:04:42,920 --> 02:04:47,010
like even like making something brighter

2064
02:04:44,988 --> 02:04:49,198
by multiplying by two or

2065
02:04:47,010 --> 02:04:52,400
making it dimmer by multiplying on half

2066
02:04:49,198 --> 02:04:52,399
or something right

2067
02:04:56,059 --> 02:05:02,369
that's what I would say so in terms of

2068
02:05:00,510 --> 02:05:05,329
the way we're doing it I think it's

2069
02:05:02,368 --> 02:05:07,078
probably the case that we're mostly

2070
02:05:05,328 --> 02:05:08,819
reasonable about where we do it but

2071
02:05:07,078 --> 02:05:11,130
there's probably some places where maybe

2072
02:05:08,819 --> 02:05:13,049
we should just keep things in srgb

2073
02:05:11,130 --> 02:05:18,059
because we don't really need to modify

2074
02:05:13,050 --> 02:05:19,440
them much but generally speaking I don't

2075
02:05:18,059 --> 02:05:20,400
know that there's that many of the

2076
02:05:19,439 --> 02:05:22,319
places that we're actually doing that I

2077
02:05:20,399 --> 02:05:26,069
think we're probably doing it roughly

2078
02:05:22,319 --> 02:05:27,299
right there maybe one or two places

2079
02:05:26,069 --> 02:05:30,899
where we could just leave something as

2080
02:05:27,300 --> 02:05:39,750
srgb and save some space but otherwise I

2081
02:05:30,899 --> 02:05:40,589
think we're doing it mostly right so we

2082
02:05:39,750 --> 02:05:41,729
change the code of the hero's fate

2083
02:05:40,590 --> 02:05:43,349
depend on the surrounding like he looks

2084
02:05:41,729 --> 02:05:45,419
too bright in the darker but well yes

2085
02:05:43,349 --> 02:05:47,489
the sprite the sprites will actually be

2086
02:05:45,420 --> 02:05:51,118
added to the lighting solution when we

2087
02:05:47,488 --> 02:05:55,799
go back to do the final lighting point

2088
02:05:51,118 --> 02:06:00,889
placement stuff so they will actually

2089
02:05:55,800 --> 02:06:00,889
get lit properly if that makes sense

2090
02:06:03,239 --> 02:06:12,250
but yeah so it's kind of weird how your

2091
02:06:10,000 --> 02:06:14,229
brain kind of ignores most of it and it

2092
02:06:12,250 --> 02:06:16,359
kind of looks okay anyway but it in

2093
02:06:14,229 --> 02:06:22,049
general yeah we want the sprites to be

2094
02:06:16,359 --> 02:06:25,149
lit so that will actually happen when we

2095
02:06:22,050 --> 02:06:27,400
when we actually finish the lighting

2096
02:06:25,149 --> 02:06:30,569
pipeline stuff because remember we've

2097
02:06:27,399 --> 02:06:30,569
got more work to do there

2098
02:07:12,920 --> 02:07:17,750
Jackson Benin is that a question doesn't

2099
02:07:16,158 --> 02:07:18,799
look like one it has a cute cone in

2100
02:07:17,750 --> 02:07:23,389
front of it but it's not really a

2101
02:07:18,800 --> 02:07:26,630
question shouldn't lights behave as

2102
02:07:23,389 --> 02:07:35,139
other entities in regard to the sim

2103
02:07:26,630 --> 02:07:39,699
region mm-hmm what do you mean by that

2104
02:07:35,139 --> 02:07:39,699
behave in what sense

2105
02:07:50,609 --> 02:07:56,729
yeah what do you mean by behave in that

2106
02:07:54,189 --> 02:07:56,729
sentence

2107
02:08:04,170 --> 02:08:11,630
I thought they are visible when outside

2108
02:08:15,260 --> 02:08:19,010
well let me just go ahead and show you

2109
02:08:17,279 --> 02:08:22,259
what's going on and then you can tell me

2110
02:08:19,010 --> 02:08:25,110
what's happening so here is the

2111
02:08:22,260 --> 02:08:26,940
simulation region right everything

2112
02:08:25,109 --> 02:08:29,009
that's drawn here is the simulation

2113
02:08:26,939 --> 02:08:31,409
region now obviously there's a lot more

2114
02:08:29,010 --> 02:08:32,550
stuff in the game but this is the only

2115
02:08:31,409 --> 02:08:35,309
part that's in the simulation region

2116
02:08:32,550 --> 02:08:38,310
right now so if we hop to the next area

2117
02:08:35,310 --> 02:08:42,390
right you can see the simulation region

2118
02:08:38,310 --> 02:08:43,650
shift over time to now be here right and

2119
02:08:42,390 --> 02:08:48,090
that's the only part that's getting

2120
02:08:43,649 --> 02:08:50,099
simulated now right now the lights they

2121
02:08:48,090 --> 02:08:51,869
get pulled in because they're normal

2122
02:08:50,100 --> 02:08:53,730
entities just like anything else they

2123
02:08:51,869 --> 02:08:56,430
get pulled in as far as the simulation

2124
02:08:53,729 --> 02:08:58,589
region is concerned but they don't

2125
02:08:56,430 --> 02:09:00,810
participate in the lighting solution

2126
02:08:58,590 --> 02:09:03,060
until they're actually in the lighting

2127
02:09:00,810 --> 02:09:05,310
bound and the reason for that is because

2128
02:09:03,060 --> 02:09:07,800
lighting is very expensive right it's

2129
02:09:05,310 --> 02:09:09,780
the most expensive thing that you can do

2130
02:09:07,800 --> 02:09:14,940
is lighting typically unless you've got

2131
02:09:09,779 --> 02:09:18,569
some crazy physics happening uh and so

2132
02:09:14,939 --> 02:09:21,059
we just don't actually allow them to do

2133
02:09:18,569 --> 02:09:27,210
anything besides just sit there until

2134
02:09:21,060 --> 02:09:28,980
they actually come in and hopefully that

2135
02:09:27,210 --> 02:09:33,420
just give hopefully that explains what's

2136
02:09:28,979 --> 02:09:35,369
happening there but maybe not hopefully

2137
02:09:33,420 --> 02:09:37,319
you you sort of can see now what what

2138
02:09:35,369 --> 02:09:39,809
those two regions are and again the

2139
02:09:37,319 --> 02:09:41,429
reason for that I would be happy to run

2140
02:09:39,810 --> 02:09:43,440
the lighting on everything in the sim

2141
02:09:41,430 --> 02:09:44,940
Region that'd be great I just don't know

2142
02:09:43,439 --> 02:09:47,069
that we're ever gonna get the lighting

2143
02:09:44,939 --> 02:09:51,089
up to a level of performance where that

2144
02:09:47,069 --> 02:09:52,439
would be feasible because lighting is

2145
02:09:51,090 --> 02:09:54,239
one of those things that just wants as

2146
02:09:52,439 --> 02:09:58,949
much horsepower as you can throw at it

2147
02:09:54,239 --> 02:10:00,809
so even if we can do if we could do the

2148
02:09:58,949 --> 02:10:02,909
whole sim region lighting wise the

2149
02:10:00,810 --> 02:10:05,190
lighting solution would be worse quality

2150
02:10:02,909 --> 02:10:07,079
than if we just did a smaller region

2151
02:10:05,189 --> 02:10:09,419
because we could spend that same amount

2152
02:10:07,079 --> 02:10:11,250
of flops producing better lighting

2153
02:10:09,420 --> 02:10:13,710
solutions for a smaller region that we

2154
02:10:11,250 --> 02:10:16,199
actually can see so I want to make sure

2155
02:10:13,710 --> 02:10:19,520
we only ever light the part that's

2156
02:10:16,199 --> 02:10:19,519
actually going to give us

2157
02:10:20,369 --> 02:10:30,319
useful visual effects right so all right

2158
02:10:39,020 --> 02:10:49,860
don't know what that was complaining

2159
02:10:41,579 --> 02:10:54,920
about all right - will you call them

2160
02:10:49,859 --> 02:10:57,059
lighting bugs that's a very good idea

2161
02:10:54,920 --> 02:10:58,050
all right thank you for joining me for

2162
02:10:57,060 --> 02:10:59,700
the episode of handmade hear out

2163
02:10:58,050 --> 02:11:01,920
sometimes recording with you as always

2164
02:10:59,699 --> 02:11:04,260
we will be back here next week when we

2165
02:11:01,920 --> 02:11:06,539
will go ahead and add a few more touches

2166
02:11:04,260 --> 02:11:09,930
to the camera and then we'll start

2167
02:11:06,539 --> 02:11:12,239
working on art stuff because again I

2168
02:11:09,930 --> 02:11:17,490
want to get the lighting kind of squared

2169
02:11:12,239 --> 02:11:20,099
away before we go too much further into

2170
02:11:17,489 --> 02:11:21,840
world generation stuff because I want

2171
02:11:20,100 --> 02:11:26,010
the lighting in the world Jen to work

2172
02:11:21,840 --> 02:11:27,900
together closely and be good so I really

2173
02:11:26,010 --> 02:11:30,000
want the to have some art in there so we

2174
02:11:27,899 --> 02:11:31,649
can see how the lighting affects the

2175
02:11:30,000 --> 02:11:34,590
artwork and vice versa so we'll just be

2176
02:11:31,649 --> 02:11:36,029
working on that a little bit so that's

2177
02:11:34,590 --> 02:11:37,650
what's coming up next weekend hope see

2178
02:11:36,029 --> 02:11:39,719
here for that until then have fun

2179
02:11:37,649 --> 02:11:40,439
programming everyone and I'll see you

2180
02:11:39,720 --> 02:11:43,100
all on the Internet

2181
02:11:40,439 --> 02:11:43,099
take it easy everybody

