1
00:00:01,730 --> 00:00:06,000
hello everyone and welcome to handmade

2
00:00:04,080 --> 00:00:09,539
hero show recode a complete-game live on

3
00:00:06,000 --> 00:00:13,048
stream today we are going to have to do

4
00:00:09,539 --> 00:00:14,579
some serious work actually or aggressive

5
00:00:13,048 --> 00:00:19,198
side get started on some serious work

6
00:00:14,580 --> 00:00:22,230
that we will probably do a couple days

7
00:00:19,199 --> 00:00:24,449
on it is something that we probably

8
00:00:22,230 --> 00:00:29,399
won't pursue to the enth degree because

9
00:00:24,449 --> 00:00:32,219
you can get really really invested or

10
00:00:29,399 --> 00:00:35,579
involved in this kind of problem it's a

11
00:00:32,219 --> 00:00:38,640
it's a very hard problem it's a computer

12
00:00:35,579 --> 00:00:40,079
science II sort of problem and it could

13
00:00:38,640 --> 00:00:43,219
be something you could spend a great

14
00:00:40,079 --> 00:00:45,989
deal of time on so we probably will try

15
00:00:43,219 --> 00:00:49,109
to take some shortcuts and not do a

16
00:00:45,988 --> 00:00:52,109
complete full solution to it just for

17
00:00:49,109 --> 00:00:54,570
brevity's sake but it is gonna be

18
00:00:52,109 --> 00:00:57,840
difficult regardless even with some with

19
00:00:54,570 --> 00:00:59,579
some cheating and short cutting and that

20
00:00:57,840 --> 00:01:02,070
is specifically we would like to lay out

21
00:00:59,579 --> 00:01:03,719
some rooms for our game and we would

22
00:01:02,070 --> 00:01:06,750
like to maybe do this in an automated

23
00:01:03,719 --> 00:01:10,650
way or semi-automated way so that we can

24
00:01:06,750 --> 00:01:13,079
create random dungeons and random worlds

25
00:01:10,650 --> 00:01:14,760
and things that get laid out according

26
00:01:13,079 --> 00:01:17,090
to certain things we need to be true

27
00:01:14,760 --> 00:01:19,920
like what's connected to what and so on

28
00:01:17,090 --> 00:01:21,478
so I'm gonna go ahead and show you what

29
00:01:19,920 --> 00:01:22,920
I'm talking about and then we're because

30
00:01:21,478 --> 00:01:25,079
we basically did all the work to set

31
00:01:22,920 --> 00:01:28,259
everything up and we even put in a

32
00:01:25,079 --> 00:01:30,060
little version of the code that doesn't

33
00:01:28,259 --> 00:01:32,790
really work it's like sort of a just a

34
00:01:30,060 --> 00:01:34,618
placeholder that just slaps things down

35
00:01:32,790 --> 00:01:36,810
sequentially instead of actually obeying

36
00:01:34,618 --> 00:01:38,640
the instructions that it was given so

37
00:01:36,810 --> 00:01:40,769
we're we're basically all the way done

38
00:01:38,640 --> 00:01:44,239
with ever all of the surrounding stuff

39
00:01:40,769 --> 00:01:47,069
that we need and now we just need to

40
00:01:44,239 --> 00:01:49,709
implement the the sort of core routine

41
00:01:47,069 --> 00:01:53,099
that does the real work for this

42
00:01:49,709 --> 00:01:55,828
particular part of the problem so if you

43
00:01:53,099 --> 00:01:57,539
look at what we've got in handmade

44
00:01:55,828 --> 00:02:00,239
worlds in here you can actually see if

45
00:01:57,540 --> 00:02:03,000
we have a create orphanage call that's

46
00:02:00,239 --> 00:02:05,250
an example of user kind of code and by

47
00:02:03,000 --> 00:02:07,170
user I mean sort of the game design side

48
00:02:05,250 --> 00:02:08,909
of things obviously we are both the

49
00:02:07,170 --> 00:02:11,098
implementers and the users of all the

50
00:02:08,909 --> 00:02:13,289
code in handmade hero so it's not like I

51
00:02:11,098 --> 00:02:13,769
mean some external party that we're

52
00:02:13,289 --> 00:02:17,310
shipping it

53
00:02:13,770 --> 00:02:20,040
- but you can see here that I've sort of

54
00:02:17,310 --> 00:02:22,140
laid out the stuff that I want it to do

55
00:02:20,039 --> 00:02:24,569
I want to make some specifications for

56
00:02:22,139 --> 00:02:25,739
how rooms are we haven't gotten into

57
00:02:24,569 --> 00:02:27,060
that yet because that's sort of when we

58
00:02:25,740 --> 00:02:29,370
get to room generation which is a

59
00:02:27,060 --> 00:02:31,170
different thing we've said the rooms

60
00:02:29,370 --> 00:02:33,180
that we want and then we said at what

61
00:02:31,169 --> 00:02:35,849
connections we want between those rooms

62
00:02:33,180 --> 00:02:38,189
you can kind of see that here we've

63
00:02:35,849 --> 00:02:42,599
we've created these connections that

64
00:02:38,189 --> 00:02:43,590
leaves us with a graph and it is a you

65
00:02:42,599 --> 00:02:45,960
know a lot of times you hear different

66
00:02:43,590 --> 00:02:49,319
terms like directed acyclic graph things

67
00:02:45,960 --> 00:02:52,230
like that we do not have one of those

68
00:02:49,319 --> 00:02:54,449
what we have is actually an undirected

69
00:02:52,229 --> 00:02:56,939
graph the reason I say that is because

70
00:02:54,449 --> 00:02:58,889
in our world things are spatially

71
00:02:56,939 --> 00:03:00,659
connected so that means that if you can

72
00:02:58,889 --> 00:03:04,619
get from A to B you can get from B back

73
00:03:00,659 --> 00:03:06,359
to a generally speaking and so when we

74
00:03:04,620 --> 00:03:09,590
talk about connections in that way we're

75
00:03:06,360 --> 00:03:12,240
talking usually 99% of the time about

76
00:03:09,590 --> 00:03:15,030
bi-directional edges in the graph two

77
00:03:12,240 --> 00:03:16,830
rooms that are connected can are

78
00:03:15,030 --> 00:03:17,580
connected in both directions so if

79
00:03:16,830 --> 00:03:19,440
you're thinking about something like a

80
00:03:17,580 --> 00:03:22,020
directed acyclic graph that you may have

81
00:03:19,439 --> 00:03:25,859
heard that first term directed we are

82
00:03:22,020 --> 00:03:27,120
not directed furthermore a cyclic is

83
00:03:25,860 --> 00:03:28,620
talking about the fact that you don't

84
00:03:27,120 --> 00:03:30,150
have cycles in the graph you don't have

85
00:03:28,620 --> 00:03:32,580
any points to be points to see points to

86
00:03:30,150 --> 00:03:34,349
D then points back to a write that is

87
00:03:32,580 --> 00:03:36,150
also not true of our graphs we're

88
00:03:34,349 --> 00:03:37,799
talking about graphs that can have loops

89
00:03:36,150 --> 00:03:39,900
in them that can do all sorts of things

90
00:03:37,800 --> 00:03:43,020
so we are not directed we are not a

91
00:03:39,900 --> 00:03:46,020
cyclic we are just a graph in all of its

92
00:03:43,020 --> 00:03:48,360
glory and what we want to do is try to

93
00:03:46,020 --> 00:03:52,469
create spatial structures for these

94
00:03:48,360 --> 00:03:54,510
rooms organizations in actual space that

95
00:03:52,469 --> 00:03:57,689
will obey the same connectivity that

96
00:03:54,509 --> 00:04:00,090
we've requested in semantic space in

97
00:03:57,689 --> 00:04:02,329
just the sort of idea of the graph that

98
00:04:00,090 --> 00:04:04,620
room a texture and B corrects Durham C

99
00:04:02,330 --> 00:04:06,330
connects back to room a or whatever we

100
00:04:04,620 --> 00:04:12,270
just want it to try and lay something

101
00:04:06,330 --> 00:04:15,540
out where that can be true right so

102
00:04:12,270 --> 00:04:16,799
that's what we're trying to do here now

103
00:04:15,539 --> 00:04:18,269
if you look at where we're at we

104
00:04:16,798 --> 00:04:20,039
actually like I said did all the support

105
00:04:18,269 --> 00:04:22,889
code so actually we've kind of got

106
00:04:20,040 --> 00:04:24,479
everything working and if you look at

107
00:04:22,889 --> 00:04:26,939
sort of what we've got here in terms of

108
00:04:24,478 --> 00:04:27,519
rooms you can see the room we're in is

109
00:04:26,939 --> 00:04:29,469
the one that's

110
00:04:27,519 --> 00:04:31,120
running the lighting right now and then

111
00:04:29,470 --> 00:04:32,680
we've kind of got just rooms laid out

112
00:04:31,120 --> 00:04:33,728
and these are all the rooms that we

113
00:04:32,680 --> 00:04:35,410
created all those rooms through our

114
00:04:33,728 --> 00:04:36,819
furniture and what you can see happening

115
00:04:35,410 --> 00:04:39,220
right now is that the layout routine

116
00:04:36,819 --> 00:04:41,168
instead of actually laying this out the

117
00:04:39,220 --> 00:04:42,610
way that we requested it's just hard

118
00:04:41,168 --> 00:04:44,019
coded to just stamp the rooms out in

119
00:04:42,610 --> 00:04:45,580
series and again we did that just to

120
00:04:44,019 --> 00:04:48,099
make sure that this whole pipeline was

121
00:04:45,579 --> 00:04:49,779
working the creation of the rooms and

122
00:04:48,100 --> 00:04:51,220
slapping them down once we said where

123
00:04:49,779 --> 00:04:52,508
they were we want to make sure all

124
00:04:51,220 --> 00:04:55,060
that's working because then we can just

125
00:04:52,509 --> 00:04:56,590
focus on specifically the task of

126
00:04:55,060 --> 00:05:00,069
figuring out how they should be laid out

127
00:04:56,589 --> 00:05:07,418
right so that's what we want to do now

128
00:05:00,069 --> 00:05:10,389
now in order to do that we need to come

129
00:05:07,418 --> 00:05:12,189
up with some strategy for how we're

130
00:05:10,389 --> 00:05:14,710
going to actually make that work and

131
00:05:12,189 --> 00:05:17,889
this is going to be really difficult

132
00:05:14,709 --> 00:05:19,899
obviously because let's take a look at

133
00:05:17,889 --> 00:05:22,389
sort of why this becomes I'm gonna go

134
00:05:19,899 --> 00:05:23,829
over to the blackboard now and we'll

135
00:05:22,389 --> 00:05:29,079
talk about sort of first steps and

136
00:05:23,829 --> 00:05:30,639
things we can start to try obviously one

137
00:05:29,079 --> 00:05:33,519
thing we can do is try to just look

138
00:05:30,639 --> 00:05:34,840
online for layout algorithms I'm not

139
00:05:33,519 --> 00:05:35,889
gonna do that and the reason I'm not

140
00:05:34,839 --> 00:05:38,379
going to do that is the same reason that

141
00:05:35,889 --> 00:05:40,329
I don't do it on streem generally

142
00:05:38,379 --> 00:05:42,129
speaking until after we've poked at

143
00:05:40,329 --> 00:05:44,199
things a bit and that's that I like to

144
00:05:42,129 --> 00:05:46,360
try and show how you attack problems

145
00:05:44,199 --> 00:05:48,639
when you don't know the solution to them

146
00:05:46,360 --> 00:05:50,080
or can't find a solution because that's

147
00:05:48,639 --> 00:05:51,879
a very important part of engine

148
00:05:50,079 --> 00:05:53,370
programming if you're just gonna program

149
00:05:51,879 --> 00:05:56,228
things that people already did before

150
00:05:53,370 --> 00:05:58,209
that's a separate thing it's still

151
00:05:56,228 --> 00:06:00,189
valuable to do and doing research is

152
00:05:58,209 --> 00:06:02,129
very useful I always research a problem

153
00:06:00,189 --> 00:06:04,360
before I actually go implement something

154
00:06:02,129 --> 00:06:05,800
but a lot of times I find that the

155
00:06:04,360 --> 00:06:07,360
things that I'm researching are not

156
00:06:05,800 --> 00:06:09,699
sufficient and then I have to go develop

157
00:06:07,360 --> 00:06:10,930
my own solutions so on handmade here

158
00:06:09,699 --> 00:06:12,400
we're probably not going to encounter a

159
00:06:10,930 --> 00:06:15,459
lot of things that have no known

160
00:06:12,399 --> 00:06:17,500
solutions to them because we're trying

161
00:06:15,459 --> 00:06:19,959
not to get into that kind of

162
00:06:17,500 --> 00:06:21,788
super-advanced technology but I do want

163
00:06:19,959 --> 00:06:23,348
to mostly teach people how they would

164
00:06:21,788 --> 00:06:25,689
start pushing in those directions when

165
00:06:23,348 --> 00:06:27,610
they do want to do new technology or if

166
00:06:25,689 --> 00:06:29,110
they simply want to have the fun of

167
00:06:27,610 --> 00:06:31,030
developing their own algorithm which is

168
00:06:29,110 --> 00:06:33,009
you know programming is supposed to be

169
00:06:31,029 --> 00:06:34,689
fun at least it used to be before there

170
00:06:33,009 --> 00:06:37,509
were 12 layers of you know nodejs

171
00:06:34,689 --> 00:06:38,680
running on top of god-knows-what in you

172
00:06:37,509 --> 00:06:41,139
know spamming all throughout the cloud

173
00:06:38,680 --> 00:06:44,379
and who knows what's happening so

174
00:06:41,139 --> 00:06:46,930
I want to take a crack at this first and

175
00:06:44,379 --> 00:06:47,919
then when we sort of think we understand

176
00:06:46,930 --> 00:06:49,509
the problem a little bit and we've

177
00:06:47,918 --> 00:06:51,399
played with it a little bit if we are

178
00:06:49,509 --> 00:06:54,520
unable to see good solutions that we can

179
00:06:51,399 --> 00:06:56,378
do then we can go take a look look at

180
00:06:54,519 --> 00:06:58,508
the literature and see what's there

181
00:06:56,379 --> 00:07:00,550
but again normally just to draw the

182
00:06:58,509 --> 00:07:03,610
distinction there I probably would read

183
00:07:00,550 --> 00:07:05,560
the literature first in most cases there

184
00:07:03,610 --> 00:07:06,848
are plenty of programmers who don't so

185
00:07:05,560 --> 00:07:10,360
I'm not suggesting that you have to do

186
00:07:06,848 --> 00:07:11,769
that I generally do and then I generally

187
00:07:10,360 --> 00:07:13,300
go write my own algorithm anyway because

188
00:07:11,769 --> 00:07:15,278
I want to do something slightly

189
00:07:13,300 --> 00:07:17,319
different but you know I was informed

190
00:07:15,278 --> 00:07:18,759
typically by what's happened previously

191
00:07:17,319 --> 00:07:20,348
because usually you can least benefit

192
00:07:18,759 --> 00:07:22,330
from seeing what other people have

193
00:07:20,348 --> 00:07:25,560
experimented with even if it doesn't end

194
00:07:22,329 --> 00:07:27,688
up being something that you wanted so

195
00:07:25,560 --> 00:07:30,939
here's the problem that we have

196
00:07:27,689 --> 00:07:33,669
specifically because you can think about

197
00:07:30,939 --> 00:07:43,569
this layout problem and I'll just say

198
00:07:33,668 --> 00:07:49,859
this is well actually I should say let's

199
00:07:43,569 --> 00:07:52,629
call this specifically inter room layout

200
00:07:49,860 --> 00:07:54,278
because later we'll talk about intra

201
00:07:52,629 --> 00:07:55,990
room layout which will be different

202
00:07:54,278 --> 00:07:58,180
that'll be like what happens inside a

203
00:07:55,990 --> 00:08:00,699
room and so we need some way to talk

204
00:07:58,180 --> 00:08:03,370
about those two separately so maybe we

205
00:08:00,699 --> 00:08:05,860
could call this also you know world way

206
00:08:03,370 --> 00:08:08,019
out as opposed to room layout I don't

207
00:08:05,860 --> 00:08:10,569
know but you know what I'm talking about

208
00:08:08,019 --> 00:08:13,959
not placing things inside a room but

209
00:08:10,569 --> 00:08:15,879
placing rooms relative to each other so

210
00:08:13,959 --> 00:08:17,438
the problem that we have is you could

211
00:08:15,879 --> 00:08:19,149
imagine a layout algorithm that worked

212
00:08:17,439 --> 00:08:21,490
perfectly fine for certain types of

213
00:08:19,149 --> 00:08:24,069
graphs with certain types of constraints

214
00:08:21,490 --> 00:08:26,639
on them that just took whatever the

215
00:08:24,069 --> 00:08:30,189
first room was right this is room one

216
00:08:26,639 --> 00:08:31,838
and then when it found room two it just

217
00:08:30,189 --> 00:08:32,740
said well actually we wouldn't even go

218
00:08:31,838 --> 00:08:34,838
that way

219
00:08:32,740 --> 00:08:36,070
we'd start with just some room actually

220
00:08:34,839 --> 00:08:37,570
we could pick it at random whichever

221
00:08:36,070 --> 00:08:38,919
room we wanted now I think about isn't a

222
00:08:37,570 --> 00:08:41,289
three room one right but whatever the

223
00:08:38,918 --> 00:08:43,528
refreshments put down we then loop over

224
00:08:41,288 --> 00:08:46,269
all of the connections to the room and

225
00:08:43,528 --> 00:08:48,189
we say what real predictor it says oh

226
00:08:46,269 --> 00:08:50,980
there are three rooms connected to it so

227
00:08:48,190 --> 00:08:52,060
it just says ok start here put the first

228
00:08:50,980 --> 00:08:54,100
connection here

229
00:08:52,059 --> 00:08:54,579
the second connection here and the third

230
00:08:54,100 --> 00:08:56,830
connection

231
00:08:54,580 --> 00:08:58,870
they're right and that's how it lays out

232
00:08:56,830 --> 00:09:01,210
the rooms then it moves to these and it

233
00:08:58,870 --> 00:09:03,340
says okay I know I've used this side but

234
00:09:01,210 --> 00:09:05,590
these two sides are free so tell me

235
00:09:03,340 --> 00:09:07,450
where my connections are okay here here

236
00:09:05,590 --> 00:09:09,759
you know in here if there's three again

237
00:09:07,450 --> 00:09:11,710
whatever and then when this guy goes

238
00:09:09,759 --> 00:09:13,509
special care has to be taken to make

239
00:09:11,710 --> 00:09:15,550
sure that if I put it this way it

240
00:09:13,509 --> 00:09:16,870
wouldn't intersect this room and so we'd

241
00:09:15,549 --> 00:09:20,529
probably end up with a system that just

242
00:09:16,870 --> 00:09:22,090
literally started placing rooms based on

243
00:09:20,529 --> 00:09:24,189
connections and the only thing it would

244
00:09:22,090 --> 00:09:26,110
do is not place a room off of an edge

245
00:09:24,190 --> 00:09:27,340
where it determined there was already

246
00:09:26,110 --> 00:09:31,200
something there that was blocking it

247
00:09:27,340 --> 00:09:34,660
right now that would get us pretty far

248
00:09:31,200 --> 00:09:37,720
okay that allows us to lay out rooms

249
00:09:34,659 --> 00:09:39,519
that are not particularly complicated or

250
00:09:37,720 --> 00:09:41,230
that don't have a lot of cycles in them

251
00:09:39,519 --> 00:09:44,980
and things like this it would work for

252
00:09:41,230 --> 00:09:47,590
basic things so what we need to focus on

253
00:09:44,980 --> 00:09:50,050
most of the time is when does that break

254
00:09:47,590 --> 00:09:52,180
right why do we need a better algorithm

255
00:09:50,049 --> 00:09:53,409
than something that just simply goes in

256
00:09:52,179 --> 00:09:55,539
order and doesn't do anything more

257
00:09:53,409 --> 00:09:58,419
complicated well there's a couple ways

258
00:09:55,539 --> 00:10:01,240
that can break the first way is the

259
00:09:58,419 --> 00:10:03,370
simplest way and that is that if I say

260
00:10:01,240 --> 00:10:08,759
that this room right here has 12

261
00:10:03,370 --> 00:10:12,090
connections it's like okay 1 2 3 4 oh I

262
00:10:08,759 --> 00:10:15,100
can't put any more in I failed right and

263
00:10:12,090 --> 00:10:19,120
so there's a notion that we may need to

264
00:10:15,100 --> 00:10:23,019
dynamically grow you know we may need to

265
00:10:19,120 --> 00:10:26,169
dynamically resize a room to make more

266
00:10:23,019 --> 00:10:28,720
ability to connect things so there's

267
00:10:26,169 --> 00:10:31,389
sort of an implication here that we

268
00:10:28,720 --> 00:10:34,540
probably want to allow the layout

269
00:10:31,389 --> 00:10:37,710
routines to grow rooms when they need to

270
00:10:34,539 --> 00:10:40,929
put more exits on them now we could also

271
00:10:37,710 --> 00:10:43,330
make that be manual right this could be

272
00:10:40,929 --> 00:10:44,859
a manual process and it's just a bug if

273
00:10:43,330 --> 00:10:48,550
you don't do it if you don't provide

274
00:10:44,860 --> 00:10:50,289
enough room size to connect things but

275
00:10:48,549 --> 00:10:52,839
you know it may just be a more robust

276
00:10:50,289 --> 00:10:54,339
algorithm if we allow it to resize rooms

277
00:10:52,840 --> 00:10:56,860
so that if they need more X's they can

278
00:10:54,340 --> 00:11:00,340
get them so that we don't accidentally

279
00:10:56,860 --> 00:11:02,200
create you know bad worlds or mistakes

280
00:11:00,340 --> 00:11:05,649
or errors in there that we then have to

281
00:11:02,200 --> 00:11:07,379
recover from so one simple way we can

282
00:11:05,649 --> 00:11:09,720
fail is just we can't fit any

283
00:11:07,379 --> 00:11:13,558
things on a room right and the diner

284
00:11:09,720 --> 00:11:16,859
sizing closer to that so that's like I'm

285
00:11:13,558 --> 00:11:21,149
just gonna list them here rooms too

286
00:11:16,859 --> 00:11:23,038
small that's the simplest kind that's

287
00:11:21,149 --> 00:11:24,808
pretty easy to solve we just go oh if we

288
00:11:23,038 --> 00:11:26,158
need more we can just we can see how

289
00:11:24,808 --> 00:11:29,488
many exits it has and make the room

290
00:11:26,158 --> 00:11:34,308
bigger right closely related but much

291
00:11:29,489 --> 00:11:40,019
more difficult to solve is no space for

292
00:11:34,308 --> 00:11:42,928
rooms right and now this can be caused

293
00:11:40,019 --> 00:11:47,028
in all sorts of ways I put down a room

294
00:11:42,928 --> 00:11:50,698
right I start connecting rooms to it and

295
00:11:47,028 --> 00:11:52,528
then I find that something about these

296
00:11:50,698 --> 00:11:55,469
rooms let's say there's already room

297
00:11:52,528 --> 00:11:56,849
here already room here this room is

298
00:11:55,470 --> 00:12:00,418
supposed to have connections well

299
00:11:56,849 --> 00:12:03,209
there's nowhere to put right there's

300
00:12:00,418 --> 00:12:06,478
literally no way to put anything there

301
00:12:03,208 --> 00:12:09,358
any rooms there so what we would have to

302
00:12:06,479 --> 00:12:11,309
do in that case is rethink how this was

303
00:12:09,359 --> 00:12:12,839
laid out right we would need to stop

304
00:12:11,308 --> 00:12:14,399
putting it there and start putting it

305
00:12:12,839 --> 00:12:17,069
here or something

306
00:12:14,399 --> 00:12:20,548
so that it could continue to grow right

307
00:12:17,068 --> 00:12:23,338
and you can see that that's a very

308
00:12:20,548 --> 00:12:26,158
complicated problem because you don't

309
00:12:23,339 --> 00:12:28,649
know ahead of time when you're laying

310
00:12:26,158 --> 00:12:32,038
out rooms what will eventually create

311
00:12:28,649 --> 00:12:35,220
these sort of problematic regions for

312
00:12:32,038 --> 00:12:37,979
you and so it's very hard for you to

313
00:12:35,220 --> 00:12:41,399
guess as an algorithm what you should do

314
00:12:37,979 --> 00:12:43,889
and you get into things where I believe

315
00:12:41,399 --> 00:12:52,259
these are were traditionally called rip

316
00:12:43,889 --> 00:12:53,369
up and replace routers let me to see if

317
00:12:52,259 --> 00:12:57,889
that's true I remember this from

318
00:12:53,369 --> 00:13:03,649
literally back in like this eighty

319
00:12:57,889 --> 00:13:07,220
for my dad used to work on chip layout

320
00:13:03,649 --> 00:13:08,509
stuff when I was a little kid and he

321
00:13:07,220 --> 00:13:11,449
worked at Digital Equipment Corporation

322
00:13:08,509 --> 00:13:14,000
and they were the people who made like

323
00:13:11,448 --> 00:13:15,409
the deck alpha for example which was the

324
00:13:14,000 --> 00:13:19,250
fastest processor in the world at the

325
00:13:15,409 --> 00:13:20,750
time actually I think well it was it was

326
00:13:19,250 --> 00:13:22,669
the highest megahertz processor in the

327
00:13:20,750 --> 00:13:25,278
world at the time and I'm not I think

328
00:13:22,669 --> 00:13:27,549
maybe I don't know it was a CPU that

329
00:13:25,278 --> 00:13:30,049
broke the gigahertz barrier I think

330
00:13:27,549 --> 00:13:32,750
really early or was very high I don't

331
00:13:30,049 --> 00:13:34,778
remember much about them but they were

332
00:13:32,750 --> 00:13:36,769
like super super high clock rates like

333
00:13:34,778 --> 00:13:38,509
they I don't know it might have been too

334
00:13:36,769 --> 00:13:40,278
early for gigahertz but it was like you

335
00:13:38,509 --> 00:13:42,050
know PC processors were running at

336
00:13:40,278 --> 00:13:44,389
pretty low clock rates like 133

337
00:13:42,049 --> 00:13:47,120
megahertz at that time and these things

338
00:13:44,389 --> 00:13:50,060
would run out like 700 or something and

339
00:13:47,120 --> 00:13:52,549
you know it was it was a pretty cool

340
00:13:50,059 --> 00:13:53,809
processor but because Digital Equipment

341
00:13:52,549 --> 00:13:55,818
Corporation is kind of on the way out

342
00:13:53,809 --> 00:14:00,169
and it wasn't really pc compatibl it

343
00:13:55,818 --> 00:14:01,370
didn't really go anywhere you can look

344
00:14:00,169 --> 00:14:05,149
it up here if you want more information

345
00:14:01,370 --> 00:14:06,948
about it I don't remember much about

346
00:14:05,149 --> 00:14:10,970
them other than they were like

347
00:14:06,948 --> 00:14:12,289
supposedly pretty good at the time you

348
00:14:10,970 --> 00:14:15,730
know compared to the other things you

349
00:14:12,289 --> 00:14:18,708
could get and yeah you could see here

350
00:14:15,730 --> 00:14:21,860
there's the V's sixes and sevens

351
00:14:18,708 --> 00:14:26,359
breaking the gigahertz barrier that was

352
00:14:21,860 --> 00:14:28,449
in 2001 I don't know if any other

353
00:14:26,360 --> 00:14:32,389
desktop CPUs had done that at the time

354
00:14:28,448 --> 00:14:33,799
AMD your Hertz chip was well after

355
00:14:32,389 --> 00:14:35,389
because it was the it was actually I

356
00:14:33,799 --> 00:14:36,979
think people from the duct alpha team

357
00:14:35,389 --> 00:14:38,419
that went over there and actually did

358
00:14:36,980 --> 00:14:43,579
the gigahertz version I think or were

359
00:14:38,419 --> 00:14:46,068
involved in it so anyway he did that had

360
00:14:43,578 --> 00:14:48,138
nothing to do with what he was doing he

361
00:14:46,068 --> 00:14:50,419
was not in the prostitution proper he

362
00:14:48,139 --> 00:14:52,759
was actually in a division that made

363
00:14:50,419 --> 00:14:55,250
tools for chip layout which digital

364
00:14:52,759 --> 00:14:57,078
cooper corporation used and one of the

365
00:14:55,250 --> 00:14:58,610
things that you want tools to do is to

366
00:14:57,078 --> 00:15:01,338
lay things out for you because you know

367
00:14:58,610 --> 00:15:03,589
you you make these gates like processor

368
00:15:01,339 --> 00:15:06,980
gates like you would think of oh here's

369
00:15:03,589 --> 00:15:08,630
an ad adding circuit or you know here's

370
00:15:06,980 --> 00:15:10,610
the thing that does a floating point

371
00:15:08,629 --> 00:15:11,120
multiplier right or whatever and then

372
00:15:10,610 --> 00:15:12,980
you want

373
00:15:11,120 --> 00:15:14,778
these things to be laid out sort of

374
00:15:12,980 --> 00:15:16,159
automatically that's some level there's

375
00:15:14,778 --> 00:15:18,679
too many of them and you don't want to

376
00:15:16,159 --> 00:15:20,059
lay them out by hand at first anyway a

377
00:15:18,679 --> 00:15:21,739
lot of times people do go back and

378
00:15:20,059 --> 00:15:24,699
manually lay them out by hand apparently

379
00:15:21,740 --> 00:15:27,019
sometimes to get better performance but

380
00:15:24,700 --> 00:15:31,400
there's machine algorithms for doing it

381
00:15:27,019 --> 00:15:33,049
and I believe at some point they had

382
00:15:31,399 --> 00:15:36,799
this thing called rip up and replace

383
00:15:33,049 --> 00:15:42,289
routing I don't remember what the actual

384
00:15:36,799 --> 00:15:53,199
terminology for it was it's not that

385
00:15:42,289 --> 00:15:57,399
kind of routing it's this term right and

386
00:15:53,200 --> 00:15:59,629
and they used to use that term a lot I

387
00:15:57,399 --> 00:16:01,970
was too young to understand what was

388
00:15:59,629 --> 00:16:03,740
going on back then but the problem is

389
00:16:01,970 --> 00:16:08,480
basically the same as the problem that

390
00:16:03,740 --> 00:16:11,210
we have here actually we are basically

391
00:16:08,480 --> 00:16:13,670
just doing ship layout that's what this

392
00:16:11,210 --> 00:16:15,769
problem is and the chip layout people

393
00:16:13,669 --> 00:16:17,689
just got to it a lot sooner than then a

394
00:16:15,769 --> 00:16:20,208
game designer would because game design

395
00:16:17,690 --> 00:16:23,089
back then in those days you know there

396
00:16:20,208 --> 00:16:25,250
were 20 30 40 50 rooms or something like

397
00:16:23,089 --> 00:16:27,350
this and games like it's work or

398
00:16:25,250 --> 00:16:28,610
something right maybe dungeon would have

399
00:16:27,350 --> 00:16:30,620
been bigger ran on the mainframe I don't

400
00:16:28,610 --> 00:16:32,539
know a hundred rooms I have no idea how

401
00:16:30,620 --> 00:16:35,750
many interactive fiction games had at

402
00:16:32,539 --> 00:16:39,588
that time I should know I just have

403
00:16:35,750 --> 00:16:41,208
forgotten and you know those things were

404
00:16:39,589 --> 00:16:42,350
designed by hand and there was no need

405
00:16:41,208 --> 00:16:44,629
for automated layout when you're talking

406
00:16:42,350 --> 00:16:45,830
about laying out a hundred rooms and

407
00:16:44,629 --> 00:16:47,389
those rooms are not procedurally

408
00:16:45,830 --> 00:16:48,350
generated there's no reason why you

409
00:16:47,389 --> 00:16:51,049
wouldn't just put them on graph paper

410
00:16:48,350 --> 00:16:53,180
and type them in right that's how things

411
00:16:51,049 --> 00:16:55,278
were done back then but people designing

412
00:16:53,179 --> 00:16:56,870
chips on these sort of high-end

413
00:16:55,278 --> 00:16:59,028
workstations and all this other sorts of

414
00:16:56,870 --> 00:17:01,850
stuff at that time we're dealing with

415
00:16:59,028 --> 00:17:04,279
you know way more stuff and they have

416
00:17:01,850 --> 00:17:07,068
the same problem they have circuits and

417
00:17:04,279 --> 00:17:09,078
those circuits have connections that

418
00:17:07,068 --> 00:17:11,209
need to be obeyed and they need to get

419
00:17:09,078 --> 00:17:12,558
them all laid out on to a piece of

420
00:17:11,209 --> 00:17:16,400
silicon it's fundamentally

421
00:17:12,558 --> 00:17:19,250
two-dimensional and every time you need

422
00:17:16,400 --> 00:17:21,650
to cross over something to get to

423
00:17:19,250 --> 00:17:23,059
something else that's costly right

424
00:17:21,650 --> 00:17:25,040
that's something you don't want to do

425
00:17:23,059 --> 00:17:28,069
ideally all of your trace

426
00:17:25,039 --> 00:17:30,529
just flow and nothing hops to hop over

427
00:17:28,069 --> 00:17:33,289
something else to get to some other part

428
00:17:30,529 --> 00:17:36,680
of the chip so when you're doing layout

429
00:17:33,289 --> 00:17:38,960
you're trying fundamentally to solve the

430
00:17:36,680 --> 00:17:40,789
same sort of problem as close together

431
00:17:38,960 --> 00:17:42,860
as possible for the things that you're

432
00:17:40,789 --> 00:17:44,539
trying to connect the connections go

433
00:17:42,859 --> 00:17:46,129
direct they don't have to hop over other

434
00:17:44,539 --> 00:17:49,190
things they don't they don't take huge

435
00:17:46,130 --> 00:17:52,490
long circuitous trips through the

436
00:17:49,190 --> 00:17:54,049
silicon etc etc right and so their

437
00:17:52,490 --> 00:17:55,549
problem is a little bit different from

438
00:17:54,049 --> 00:17:57,139
ours the reason they're problems a

439
00:17:55,549 --> 00:17:58,849
little bit different from ours is that

440
00:17:57,140 --> 00:18:01,190
we're talking about probably

441
00:17:58,849 --> 00:18:02,929
fundamentally less connections and those

442
00:18:01,190 --> 00:18:06,559
connections are abutment style

443
00:18:02,930 --> 00:18:08,269
connections they're not traces and so

444
00:18:06,559 --> 00:18:10,039
they are talking about you know dealing

445
00:18:08,269 --> 00:18:12,650
with way more connections and those

446
00:18:10,039 --> 00:18:14,329
connections can go long ways and cross

447
00:18:12,650 --> 00:18:16,310
you're just trying to minimize the

448
00:18:14,329 --> 00:18:18,250
amount that's happening right really

449
00:18:16,309 --> 00:18:22,220
long traces are just bad for performance

450
00:18:18,250 --> 00:18:23,509
you don't want to have to have these

451
00:18:22,220 --> 00:18:25,940
really long traces running through the

452
00:18:23,509 --> 00:18:28,910
silicon that's just a waste right and

453
00:18:25,940 --> 00:18:30,799
slows the chip down reduces the the

454
00:18:28,910 --> 00:18:32,570
maximum clock rate and all these other

455
00:18:30,799 --> 00:18:33,980
sorts of things because the distance

456
00:18:32,569 --> 00:18:35,889
that the electrons have to go through

457
00:18:33,980 --> 00:18:38,240
the substrate is at the end of the day

458
00:18:35,890 --> 00:18:40,280
going to be a problem for you and so on

459
00:18:38,240 --> 00:18:41,599
right although nowadays I guess it's

460
00:18:40,279 --> 00:18:42,769
mostly heat but I don't know not a

461
00:18:41,599 --> 00:18:50,329
hardware designer so I can't speak to

462
00:18:42,769 --> 00:18:53,869
that so fundamentally speaking what

463
00:18:50,329 --> 00:18:55,639
we're talking about here is something if

464
00:18:53,869 --> 00:18:57,829
we want to start addressing those kind

465
00:18:55,640 --> 00:19:01,570
of problems we need something probably

466
00:18:57,829 --> 00:19:04,220
that can try to do layout specularly and

467
00:19:01,569 --> 00:19:05,809
when it finds that it cannot lay

468
00:19:04,220 --> 00:19:09,650
something out in a way that's chosen

469
00:19:05,809 --> 00:19:11,839
tries again right we want something

470
00:19:09,650 --> 00:19:13,910
smart enough to go oh you know what I

471
00:19:11,839 --> 00:19:15,799
couldn't quite get this thing to work so

472
00:19:13,910 --> 00:19:19,220
I'm gonna like stop trying that and I'll

473
00:19:15,799 --> 00:19:20,659
try something else right and that's

474
00:19:19,220 --> 00:19:22,549
pretty complicated that's the most

475
00:19:20,660 --> 00:19:25,180
complicated kinds of things to write

476
00:19:22,549 --> 00:19:29,839
typically in software are things that

477
00:19:25,180 --> 00:19:32,900
understand trial and error in a way that

478
00:19:29,839 --> 00:19:35,269
cannot be directly brute forced now what

479
00:19:32,900 --> 00:19:37,280
do I mean by that well brute force

480
00:19:35,269 --> 00:19:38,139
sometimes it's like hey I'll tell you

481
00:19:37,279 --> 00:19:40,420
what why don't you

482
00:19:38,140 --> 00:19:47,170
tell me what two numbers when multiplied

483
00:19:40,420 --> 00:19:49,539
together equals 536 right justjust I

484
00:19:47,170 --> 00:19:51,519
just want to know what it is

485
00:19:49,539 --> 00:19:54,009
and so there's elegant solutions to this

486
00:19:51,519 --> 00:19:55,930
problem or more elegant solutions to the

487
00:19:54,009 --> 00:19:57,220
problem right certainly one of them

488
00:19:55,930 --> 00:19:58,720
would be just recognizing that it's even

489
00:19:57,220 --> 00:20:01,089
in dividing by two and telling you two

490
00:19:58,720 --> 00:20:02,769
and the other number but another way to

491
00:20:01,089 --> 00:20:04,750
do it would be like okay there's a brute

492
00:20:02,769 --> 00:20:08,500
force solution to that problem and it is

493
00:20:04,750 --> 00:20:11,589
easy to write right it's for right all

494
00:20:08,500 --> 00:20:12,910
the numbers here for all the numbers

495
00:20:11,589 --> 00:20:18,250
here up to that number

496
00:20:12,910 --> 00:20:20,410
you know if they multiply together to

497
00:20:18,250 --> 00:20:23,920
equal the number that I wanted whatever

498
00:20:20,410 --> 00:20:26,680
the target is you know that's it that's

499
00:20:23,920 --> 00:20:28,960
the result and so two for loops that

500
00:20:26,680 --> 00:20:31,420
loop over all the numbers produces an

501
00:20:28,960 --> 00:20:34,240
extremely inefficient and completely

502
00:20:31,420 --> 00:20:36,160
unnecessary how rhythm but it is obvious

503
00:20:34,240 --> 00:20:37,089
how to write the brute for a solver that

504
00:20:36,160 --> 00:20:42,310
solves it

505
00:20:37,089 --> 00:20:46,359
it is wasteful but it works right once

506
00:20:42,309 --> 00:20:49,569
you get into sort of two-dimensional

507
00:20:46,359 --> 00:20:51,429
style problems like this it becomes

508
00:20:49,569 --> 00:20:53,589
almost impossible to figure out how you

509
00:20:51,430 --> 00:20:56,410
would write such a brute for a solver in

510
00:20:53,589 --> 00:20:59,889
such a trivial fashion because any room

511
00:20:56,410 --> 00:21:03,340
can be laid out anywhere right so there

512
00:20:59,890 --> 00:21:05,500
is no 2 for loop kind of a version of

513
00:21:03,339 --> 00:21:08,529
this thing because there's an infinite

514
00:21:05,500 --> 00:21:10,660
number of places for every room so

515
00:21:08,529 --> 00:21:14,740
there's not really anything could do

516
00:21:10,660 --> 00:21:17,320
about that right but it doesn't mean we

517
00:21:14,740 --> 00:21:19,900
can't try to go down that road it just

518
00:21:17,319 --> 00:21:23,339
means we need to introduce new ways of

519
00:21:19,900 --> 00:21:26,650
discretizing into brute forcible pieces

520
00:21:23,339 --> 00:21:29,259
the things that were previously infinite

521
00:21:26,650 --> 00:21:31,259
right so for example like we were saying

522
00:21:29,259 --> 00:21:33,339
before we could say all right

523
00:21:31,259 --> 00:21:35,230
everything's aligned to a grid that

524
00:21:33,339 --> 00:21:36,789
discret eise's things quite nicely which

525
00:21:35,230 --> 00:21:38,319
we've already started to do and we know

526
00:21:36,789 --> 00:21:42,089
we want the flick anyway that's a good

527
00:21:38,319 --> 00:21:44,829
first step to we could say oh rooms have

528
00:21:42,089 --> 00:21:47,980
certain configurations of exits in them

529
00:21:44,829 --> 00:21:50,759
and can grow in either direction in a

530
00:21:47,980 --> 00:21:53,038
very predictable way so when we go to

531
00:21:50,759 --> 00:21:55,709
a room we know we're iterating over a

532
00:21:53,038 --> 00:21:59,190
finite number of understandable things

533
00:21:55,709 --> 00:22:01,409
that can happen here right and then we

534
00:21:59,190 --> 00:22:03,929
can start to build up the equivalent of

535
00:22:01,409 --> 00:22:06,059
those brute force for loops for the

536
00:22:03,929 --> 00:22:07,949
layout now the problem that we then will

537
00:22:06,058 --> 00:22:11,819
run into is the same problem we would

538
00:22:07,949 --> 00:22:13,739
run into for the other case once we can

539
00:22:11,819 --> 00:22:18,078
get it down to something as discrete and

540
00:22:13,739 --> 00:22:21,538
clear as that which is it will be slow

541
00:22:18,078 --> 00:22:24,690
but that's probably okay because once we

542
00:22:21,538 --> 00:22:26,788
have a slow functioning algorithm for

543
00:22:24,690 --> 00:22:29,489
the layout we can probably look at ways

544
00:22:26,788 --> 00:22:32,638
of making it faster within the context

545
00:22:29,489 --> 00:22:35,489
that we've received right and one of the

546
00:22:32,638 --> 00:22:37,828
things about that that we can you know

547
00:22:35,489 --> 00:22:40,919
start to look at right is there's tons

548
00:22:37,828 --> 00:22:43,440
of ways that this problem might be able

549
00:22:40,919 --> 00:22:45,690
to be partitioned so for example when we

550
00:22:43,440 --> 00:22:47,999
start to look at certain things here we

551
00:22:45,690 --> 00:22:51,288
may know certain things about like say a

552
00:22:47,999 --> 00:22:53,159
dungeon a dungeon may have certain

553
00:22:51,288 --> 00:22:55,858
characteristics that we just know are

554
00:22:53,159 --> 00:22:57,989
true for the way that we design them and

555
00:22:55,858 --> 00:22:59,968
then we can start to like talk about

556
00:22:57,989 --> 00:23:03,149
floors of a dungeon being laid out say

557
00:22:59,969 --> 00:23:04,379
separately right so each floor of the

558
00:23:03,148 --> 00:23:06,148
dungeon gets laid out separately and

559
00:23:04,378 --> 00:23:08,009
then they get like attached together or

560
00:23:06,148 --> 00:23:09,328
something like this and then that

561
00:23:08,009 --> 00:23:12,598
dungeon gets placed in the world

562
00:23:09,328 --> 00:23:14,459
somewhere and then that gets it right by

563
00:23:12,598 --> 00:23:17,458
breaking the problem down into chunks

564
00:23:14,459 --> 00:23:20,369
like that we can greatly reduce the

565
00:23:17,459 --> 00:23:22,318
number of brute force permutations that

566
00:23:20,368 --> 00:23:24,778
need to happen to lay any one thing out

567
00:23:22,318 --> 00:23:26,999
and furthermore every time we gasket

568
00:23:24,778 --> 00:23:30,298
eyes something like that into pieces we

569
00:23:26,999 --> 00:23:32,669
also reduce the necessity for the brute

570
00:23:30,298 --> 00:23:35,009
forcing to iterate because if it just

571
00:23:32,669 --> 00:23:36,479
can work on the first time out there's a

572
00:23:35,009 --> 00:23:38,098
lot less route for it cycles to go

573
00:23:36,479 --> 00:23:40,318
through so not only are we reducing the

574
00:23:38,098 --> 00:23:42,958
space of searching we're also increasing

575
00:23:40,318 --> 00:23:44,519
the chances that one run through it will

576
00:23:42,959 --> 00:23:47,419
actually just work without having to

577
00:23:44,519 --> 00:23:51,118
brute-force very much in the first place

578
00:23:47,419 --> 00:23:53,459
so when I'm thinking about this problem

579
00:23:51,118 --> 00:23:55,978
of how to layout these rooms I'm

580
00:23:53,459 --> 00:23:58,709
appreciating how complex it is and then

581
00:23:55,979 --> 00:24:00,479
I'm sort of looking at okay first step

582
00:23:58,709 --> 00:24:03,058
can I turn it into a brute-force problem

583
00:24:00,479 --> 00:24:04,890
because that lets me understand the

584
00:24:03,058 --> 00:24:06,389
problem right

585
00:24:04,890 --> 00:24:08,610
get a functioning version that just

586
00:24:06,390 --> 00:24:11,190
takes too long to run and that's a good

587
00:24:08,609 --> 00:24:14,879
that you know don't let that scare you

588
00:24:11,190 --> 00:24:17,059
that's a great place to be right because

589
00:24:14,880 --> 00:24:20,640
having something that works but too slow

590
00:24:17,059 --> 00:24:22,769
that changes the problem too and I don't

591
00:24:20,640 --> 00:24:24,240
know how to solve this problem too and I

592
00:24:22,769 --> 00:24:25,230
know how to solve this problem but I

593
00:24:24,240 --> 00:24:28,410
don't know how to solve it efficiently

594
00:24:25,230 --> 00:24:30,660
and that's a great first step so never

595
00:24:28,410 --> 00:24:33,620
be scared about that never be scared of

596
00:24:30,660 --> 00:24:36,330
writing an algorithm that you know sucks

597
00:24:33,619 --> 00:24:39,750
right don't be scared of that if the

598
00:24:36,329 --> 00:24:41,970
only algorithm you know is crap get that

599
00:24:39,750 --> 00:24:44,519
working anyway because once we have the

600
00:24:41,970 --> 00:24:46,289
crap algorithm working we can we can

601
00:24:44,519 --> 00:24:49,349
start to set our sights on how we're

602
00:24:46,289 --> 00:24:52,049
gonna make it not crap right and again

603
00:24:49,349 --> 00:24:53,969
that moves the problem from a harder

604
00:24:52,049 --> 00:24:55,799
domain to an easier domain making

605
00:24:53,970 --> 00:24:58,529
something faster is easier than making

606
00:24:55,799 --> 00:25:00,269
it at all right because we at least know

607
00:24:58,529 --> 00:25:02,190
we've got something to fall back on and

608
00:25:00,269 --> 00:25:04,410
we know that we at least understand the

609
00:25:02,190 --> 00:25:06,930
problem to produce some solution you

610
00:25:04,410 --> 00:25:10,080
know even problems that are incredibly

611
00:25:06,930 --> 00:25:13,710
hard np-complete problems or np-hard

612
00:25:10,079 --> 00:25:16,379
problems even those problems you can

613
00:25:13,710 --> 00:25:18,180
usually implement solvers for because

614
00:25:16,380 --> 00:25:20,550
usually the problems you're giving

615
00:25:18,180 --> 00:25:23,970
inside those contexts don't fall into

616
00:25:20,549 --> 00:25:26,069
the actual np-hard cases and so again

617
00:25:23,970 --> 00:25:28,319
just implementing something that works

618
00:25:26,069 --> 00:25:30,269
lets you start to gain that intuition

619
00:25:28,319 --> 00:25:33,240
and see what's actually happening for

620
00:25:30,269 --> 00:25:34,650
the inputs you care about and are

621
00:25:33,240 --> 00:25:36,809
actually using and then at that point

622
00:25:34,650 --> 00:25:38,370
you can tune the algorithms to figure

623
00:25:36,809 --> 00:25:40,559
out how to actually run fast enough to

624
00:25:38,369 --> 00:25:43,559
do something you want traveling salesmen

625
00:25:40,559 --> 00:25:47,329
impossible to solve technically right

626
00:25:43,559 --> 00:25:52,919
and I think polynomial time well I

627
00:25:47,329 --> 00:25:55,859
should say that we know of right but we

628
00:25:52,920 --> 00:25:58,730
still do it all the time right we still

629
00:25:55,859 --> 00:26:00,809
we still write things like bus

630
00:25:58,730 --> 00:26:02,009
algorithms that say we need to pick up

631
00:26:00,809 --> 00:26:04,230
this many people and drop them off this

632
00:26:02,009 --> 00:26:07,170
many places we still write solvers that

633
00:26:04,230 --> 00:26:09,509
do it why because we can always do

634
00:26:07,170 --> 00:26:11,310
something usually right when we look at

635
00:26:09,509 --> 00:26:13,049
the actual problems we need to solve in

636
00:26:11,309 --> 00:26:15,779
those spaces we can usually write

637
00:26:13,049 --> 00:26:18,299
something that gives us reasonable

638
00:26:15,779 --> 00:26:19,889
answers we can use and so

639
00:26:18,299 --> 00:26:21,690
again you just have to understand that

640
00:26:19,890 --> 00:26:23,370
no matter how hard the problem seems if

641
00:26:21,690 --> 00:26:25,920
you're just willing to take it in those

642
00:26:23,369 --> 00:26:30,149
baby steps you can start to be in good

643
00:26:25,920 --> 00:26:36,300
shape okay

644
00:26:30,150 --> 00:26:40,519
but all that being said I want to move

645
00:26:36,299 --> 00:26:44,759
on to actually working on this year

646
00:26:40,519 --> 00:26:48,440
pardon my allergies and given what I

647
00:26:44,759 --> 00:26:50,460
just said just to give you some

648
00:26:48,440 --> 00:26:54,029
perspective on the mindset I'm going to

649
00:26:50,460 --> 00:26:55,230
with I want to try and figure out some

650
00:26:54,029 --> 00:26:56,849
ways to turn this into a brute-force

651
00:26:55,230 --> 00:27:00,450
algorithm but that will generally work

652
00:26:56,849 --> 00:27:03,929
and then what I want to do well I should

653
00:27:00,450 --> 00:27:05,789
say will work for any input that can

654
00:27:03,930 --> 00:27:07,830
technically be laid out right it might

655
00:27:05,789 --> 00:27:10,559
be possible to create something that

656
00:27:07,829 --> 00:27:12,119
literally couldn't be laid out so I want

657
00:27:10,559 --> 00:27:13,889
to create something that will work for

658
00:27:12,119 --> 00:27:15,269
anything that could technically be laid

659
00:27:13,890 --> 00:27:17,820
out you know assuming that that's

660
00:27:15,269 --> 00:27:21,720
possible and then the other thing that I

661
00:27:17,819 --> 00:27:23,549
want to do is I want to focus on making

662
00:27:21,720 --> 00:27:28,259
sure that as I'm building it I have an

663
00:27:23,549 --> 00:27:30,930
eye towards impermanence right because I

664
00:27:28,259 --> 00:27:34,769
know ahead of time even just looking at

665
00:27:30,930 --> 00:27:36,539
the basics of this problem I know that

666
00:27:34,769 --> 00:27:39,710
this will not be the kind of problem

667
00:27:36,539 --> 00:27:42,059
that one-pass will solve so I know

668
00:27:39,710 --> 00:27:45,630
fundamentally speaking I am NOT going to

669
00:27:42,059 --> 00:27:48,179
just have this thing that lays out in

670
00:27:45,630 --> 00:27:50,790
one pass and there's the map I know it

671
00:27:48,180 --> 00:27:53,549
will encounter struggles and it will

672
00:27:50,789 --> 00:27:56,279
have to backtrack it will have to say

673
00:27:53,549 --> 00:27:57,649
oops that didn't work erase what I just

674
00:27:56,279 --> 00:28:00,569
tried and try again

675
00:27:57,650 --> 00:28:04,530
and so I am fundamentally going to need

676
00:28:00,569 --> 00:28:07,619
some fungibility there to allow the

677
00:28:04,529 --> 00:28:10,139
algorithm to try multiple solutions to

678
00:28:07,619 --> 00:28:11,729
various parts of the layout problem and

679
00:28:10,140 --> 00:28:13,680
since I know that that's gonna be the

680
00:28:11,730 --> 00:28:15,690
case I know I can't structure my

681
00:28:13,680 --> 00:28:18,360
algorithm as a simple input to output

682
00:28:15,690 --> 00:28:20,460
sort of path it's got to have an

683
00:28:18,359 --> 00:28:23,789
intermediate representation that's

684
00:28:20,460 --> 00:28:25,170
fungible and that can be queried against

685
00:28:23,789 --> 00:28:28,379
and stuff like that right so we're

686
00:28:25,170 --> 00:28:30,570
talking about a very rich I are here for

687
00:28:28,380 --> 00:28:31,830
what this thing is working on where it

688
00:28:30,569 --> 00:28:33,929
has to be able to say

689
00:28:31,829 --> 00:28:35,609
let's try a room layout let's try

690
00:28:33,930 --> 00:28:37,110
another one did that room layout

691
00:28:35,609 --> 00:28:38,549
interest like this layout could I put

692
00:28:37,109 --> 00:28:40,799
these two room layouts together blah

693
00:28:38,549 --> 00:28:41,970
blah blah blah blah blah blah that's

694
00:28:40,799 --> 00:28:43,200
what we're talking about here so it's

695
00:28:41,970 --> 00:28:44,759
gonna be something it looks more like

696
00:28:43,200 --> 00:28:46,769
the internals of an optimizing compiler

697
00:28:44,759 --> 00:28:48,750
or something where it needs to be able

698
00:28:46,769 --> 00:28:50,309
to kind of like fuss with the tree in a

699
00:28:48,750 --> 00:28:52,980
couple different passes and things like

700
00:28:50,309 --> 00:28:55,589
that it can't be something that it just

701
00:28:52,980 --> 00:28:57,150
expects to read in the inputs and write

702
00:28:55,589 --> 00:28:59,490
out the outputs because that's not going

703
00:28:57,150 --> 00:29:02,550
to cut it for what we're asking it to do

704
00:28:59,490 --> 00:29:04,799
I'm quite certain so that's what I'm

705
00:29:02,549 --> 00:29:06,869
looking at as I'm going into this as you

706
00:29:04,799 --> 00:29:09,539
can see we already have this sort of

707
00:29:06,869 --> 00:29:11,399
layout function here that is the layout

708
00:29:09,539 --> 00:29:14,099
function that doesn't work it's not good

709
00:29:11,400 --> 00:29:15,750
we don't want to use it so now what we

710
00:29:14,099 --> 00:29:18,899
need to do is sort of figure out how we

711
00:29:15,750 --> 00:29:21,390
can start to convert this into the thing

712
00:29:18,900 --> 00:29:22,980
that I was talking about which is going

713
00:29:21,390 --> 00:29:27,210
to be able to do sort of the brute force

714
00:29:22,980 --> 00:29:32,370
the kinds of kinds of operations that it

715
00:29:27,210 --> 00:29:35,670
wants to do all right uh so let's talk

716
00:29:32,369 --> 00:29:37,829
about this we know that as we loop

717
00:29:35,670 --> 00:29:40,769
through our rooms here and we're laying

718
00:29:37,829 --> 00:29:43,769
them out I know a couple different

719
00:29:40,769 --> 00:29:46,920
things about this game first of all I

720
00:29:43,769 --> 00:29:49,079
know that I can count on the generator

721
00:29:46,920 --> 00:29:54,060
for the game to give me completely

722
00:29:49,079 --> 00:29:56,039
connected spaces or a set of completely

723
00:29:54,059 --> 00:30:00,690
connected spaces now what do I mean by

724
00:29:56,039 --> 00:30:04,379
that well there is no point for this

725
00:30:00,690 --> 00:30:07,440
game to ever create anything that isn't

726
00:30:04,380 --> 00:30:09,780
connected to the game right in some

727
00:30:07,440 --> 00:30:11,430
sense this resembles the concept of

728
00:30:09,779 --> 00:30:14,009
garbage collection if you've ever read

729
00:30:11,430 --> 00:30:15,330
about that you've got all these pointers

730
00:30:14,009 --> 00:30:16,829
to things different structures that

731
00:30:15,329 --> 00:30:19,559
point to each other and the garbage

732
00:30:16,829 --> 00:30:22,919
collector looks at it and says Oh from

733
00:30:19,559 --> 00:30:23,579
the code I can't ever reach this set of

734
00:30:22,920 --> 00:30:25,440
data anymore

735
00:30:23,579 --> 00:30:28,740
therefore it's garbage therefore I can

736
00:30:25,440 --> 00:30:30,870
recycle it right that same concept is

737
00:30:28,740 --> 00:30:33,210
true of our room connections if this

738
00:30:30,869 --> 00:30:34,709
layout routine is handed something it's

739
00:30:33,210 --> 00:30:36,600
got a bunch of room connections and it

740
00:30:34,710 --> 00:30:38,549
creates sort of some islands where the

741
00:30:36,599 --> 00:30:40,139
player starts over here and there's

742
00:30:38,549 --> 00:30:42,839
literally no connections to this other

743
00:30:40,140 --> 00:30:45,509
set of rooms well we know that that is

744
00:30:42,839 --> 00:30:47,459
just never going to happen right

745
00:30:45,509 --> 00:30:50,548
so we know that from any room we start

746
00:30:47,460 --> 00:30:53,340
from when we do our layout we will be

747
00:30:50,548 --> 00:30:55,319
able to get to every other room that's

748
00:30:53,339 --> 00:30:58,558
just otherwise there'd be no point in

749
00:30:55,319 --> 00:31:00,019
creating it now there are some cases

750
00:30:58,558 --> 00:31:02,759
where we might not want that to be true

751
00:31:00,019 --> 00:31:05,668
let's suppose we have some kind of a

752
00:31:02,759 --> 00:31:07,019
teleportation that happens where there

753
00:31:05,669 --> 00:31:09,000
is no connection between the rooms but

754
00:31:07,019 --> 00:31:12,808
you can like step on teleporter and it

755
00:31:09,000 --> 00:31:15,509
warps you there right then we know the

756
00:31:12,808 --> 00:31:17,789
same thing that I just said is true but

757
00:31:15,509 --> 00:31:19,319
there are a couple different starting

758
00:31:17,789 --> 00:31:22,639
locations everywhere there is a

759
00:31:19,319 --> 00:31:25,589
teleporter is a seed potentially right

760
00:31:22,640 --> 00:31:29,400
so what we know is when we start the

761
00:31:25,589 --> 00:31:32,699
layout we can just say that our layout

762
00:31:29,400 --> 00:31:34,860
starts from a few specified starting

763
00:31:32,700 --> 00:31:36,870
locations and then everything else is

764
00:31:34,859 --> 00:31:38,939
reachable from there so we don't really

765
00:31:36,869 --> 00:31:41,729
need to do much else in terms of

766
00:31:38,940 --> 00:31:43,200
analysis beyond just saying start it at

767
00:31:41,730 --> 00:31:45,240
the room you tell me to start on and

768
00:31:43,200 --> 00:31:48,808
I'll lay it out right that's all we

769
00:31:45,240 --> 00:31:50,880
really need to do so I'm gonna go ahead

770
00:31:48,808 --> 00:31:52,200
and just give zero this out because we

771
00:31:50,880 --> 00:31:53,700
don't really need it anymore and I'm

772
00:31:52,200 --> 00:31:56,009
gonna go with something that starts the

773
00:31:53,700 --> 00:31:58,410
way that I just said I'm going to start

774
00:31:56,009 --> 00:32:02,339
with a room that says like okay

775
00:31:58,410 --> 00:32:03,779
laying out room and I'm going to say

776
00:32:02,339 --> 00:32:05,399
that I'm starting with whatever this

777
00:32:03,779 --> 00:32:07,139
room is here that I'm trying to lay out

778
00:32:05,400 --> 00:32:10,679
is going to be just the first room in

779
00:32:07,140 --> 00:32:15,140
the series and while I have a room to

780
00:32:10,679 --> 00:32:18,809
lay out I'm going to lay it out right

781
00:32:15,140 --> 00:32:21,120
that's about all there is to it and I

782
00:32:18,808 --> 00:32:24,389
always want to kind of spread out from

783
00:32:21,119 --> 00:32:33,359
where I am now I'm gonna probably not

784
00:32:24,390 --> 00:32:35,840
want to do this honestly I don't really

785
00:32:33,359 --> 00:32:37,740
think I want a recursive function

786
00:32:35,839 --> 00:32:39,178
normally when you're doing this sort of

787
00:32:37,740 --> 00:32:40,589
thing you might make it easier on

788
00:32:39,179 --> 00:32:43,048
yourself by creating a recursive

789
00:32:40,589 --> 00:32:47,480
function and a recursive function right

790
00:32:43,048 --> 00:32:49,259
is just it's not magic a lot of people

791
00:32:47,480 --> 00:32:51,779
think that there's sort of this

792
00:32:49,259 --> 00:32:53,519
difference between recursive functions

793
00:32:51,779 --> 00:32:56,009
and non recursive functions but there

794
00:32:53,519 --> 00:32:57,960
isn't they're the same I all that's

795
00:32:56,009 --> 00:32:58,859
different is that the compiler happens

796
00:32:57,960 --> 00:33:03,750
to have in it

797
00:32:58,859 --> 00:33:05,579
a way of managing a stock right and so a

798
00:33:03,750 --> 00:33:07,890
recursive function is just a weight I'll

799
00:33:05,579 --> 00:33:10,319
be using the compiler stock management

800
00:33:07,890 --> 00:33:12,540
instead of your own stack management

801
00:33:10,319 --> 00:33:15,210
right that's the only difference between

802
00:33:12,539 --> 00:33:17,339
those two things it's not like recursive

803
00:33:15,210 --> 00:33:20,850
functions magically let you do something

804
00:33:17,339 --> 00:33:22,259
without a stack it's still there so the

805
00:33:20,849 --> 00:33:24,539
only difference between the two is to

806
00:33:22,259 --> 00:33:27,240
lean on the compiler stock generation

807
00:33:24,539 --> 00:33:29,639
for you now I don't think I want to do

808
00:33:27,240 --> 00:33:32,069
that and the reason that I don't want to

809
00:33:29,640 --> 00:33:33,690
do that is be for the exact same reason

810
00:33:32,069 --> 00:33:35,399
that it's easy to use a recursive

811
00:33:33,690 --> 00:33:36,990
function to lean on the compiler stack

812
00:33:35,400 --> 00:33:41,400
because it's already there for you and

813
00:33:36,990 --> 00:33:45,089
it's implicit it also kind of limits you

814
00:33:41,400 --> 00:33:47,419
because that stack only obeys the kinds

815
00:33:45,089 --> 00:33:50,759
of operations that the compiler

816
00:33:47,419 --> 00:33:52,950
understands so the compiler just only

817
00:33:50,759 --> 00:33:53,700
understands call a new function or

818
00:33:52,950 --> 00:33:55,919
return

819
00:33:53,700 --> 00:33:57,840
that's all it knows but I don't

820
00:33:55,919 --> 00:33:59,759
necessarily want to limit myself to that

821
00:33:57,839 --> 00:34:01,289
I may want to do things like check

822
00:33:59,759 --> 00:34:03,269
pointing parts of the stack and

823
00:34:01,289 --> 00:34:05,490
rewinding directly to them to try new

824
00:34:03,269 --> 00:34:08,369
things and undoing things along the way

825
00:34:05,490 --> 00:34:10,829
and all these other sorts of things and

826
00:34:08,369 --> 00:34:12,358
I'll be honest I just don't want to deal

827
00:34:10,829 --> 00:34:14,429
with the complexity that I think that

828
00:34:12,358 --> 00:34:17,460
will introduce if I tried to make a

829
00:34:14,429 --> 00:34:20,250
recursive function have that happen in

830
00:34:17,460 --> 00:34:22,019
the sort of return path by setting some

831
00:34:20,250 --> 00:34:24,300
variables to tell it what to do on the

832
00:34:22,019 --> 00:34:27,300
way back up and you know you couldn't

833
00:34:24,300 --> 00:34:29,519
implement it I don't want to I'd rather

834
00:34:27,300 --> 00:34:31,980
just go with something that I implement

835
00:34:29,519 --> 00:34:35,219
myself um so what I'm gonna do instead

836
00:34:31,980 --> 00:34:37,590
is I'm gonna create my own stack and

837
00:34:35,219 --> 00:34:40,529
that way I can operate on that stack

838
00:34:37,590 --> 00:34:42,929
myself what I'm gonna do here is just

839
00:34:40,530 --> 00:34:47,450
say that I've got something like a Gen

840
00:34:42,929 --> 00:34:47,450
layout or gen room stack or something

841
00:34:50,019 --> 00:34:55,070
and all this is gonna be is like a

842
00:34:52,940 --> 00:34:57,170
linked list for now that just points

843
00:34:55,070 --> 00:34:58,850
back to whatever the previous one was

844
00:34:57,170 --> 00:35:02,510
and then what I'm gonna do is I'm just

845
00:34:58,849 --> 00:35:05,420
gonna sort of allocate on right as I go

846
00:35:02,510 --> 00:35:08,020
I'm gonna have this sort of like thing

847
00:35:05,420 --> 00:35:10,340
where I just add to what I've got and

848
00:35:08,019 --> 00:35:12,199
you know if you look on here we've got

849
00:35:10,340 --> 00:35:14,390
this temp memory and I'm just gonna use

850
00:35:12,199 --> 00:35:27,169
the temp memory I know it gets cleaned

851
00:35:14,389 --> 00:35:29,329
up and you know where's my um I'm using

852
00:35:27,170 --> 00:35:30,769
this for world Jen right for the room

853
00:35:29,329 --> 00:35:32,210
generator I'm gonna use it here as well

854
00:35:30,769 --> 00:35:34,519
so I'm gonna say let's start the

855
00:35:32,210 --> 00:35:38,990
temporary memory situation happening

856
00:35:34,519 --> 00:35:41,059
here at the end I'll clean it up like so

857
00:35:38,989 --> 00:35:42,589
and then everything in here can just

858
00:35:41,059 --> 00:35:44,539
allocate to its heart content on that

859
00:35:42,590 --> 00:35:49,730
stack and off we go

860
00:35:44,539 --> 00:35:51,769
right so what I want to do is I'm gonna

861
00:35:49,730 --> 00:35:59,030
make a very simple little thing here

862
00:35:51,769 --> 00:36:02,199
that just says gin room stack and what

863
00:35:59,030 --> 00:36:11,930
I'm gonna do is I'm going to allocate

864
00:36:02,199 --> 00:36:14,809
one of these off of the temp memory I'm

865
00:36:11,929 --> 00:36:18,019
just gonna get myself an initial thing

866
00:36:14,809 --> 00:36:19,969
on the stack actually you know what I

867
00:36:18,019 --> 00:36:20,449
don't even need to do that now I think

868
00:36:19,969 --> 00:36:23,500
about it

869
00:36:20,449 --> 00:36:23,500
I can do this in here

870
00:36:25,668 --> 00:36:29,688
and what I want to do is I want to make

871
00:36:27,108 --> 00:36:32,768
it so that I can just create stuff off

872
00:36:29,688 --> 00:36:35,268
of this stack all I want in fact I could

873
00:36:32,768 --> 00:36:42,818
you know I might just go full pull here

874
00:36:35,268 --> 00:36:42,818
and say let's just make this a thing

875
00:36:52,059 --> 00:36:56,329
something like this and then I'll just

876
00:36:54,679 --> 00:36:57,798
let this thing I can just push and pop

877
00:36:56,329 --> 00:37:04,719
these on so that when I'm walking around

878
00:36:57,798 --> 00:37:04,719
rooms I just can deal with it right I

879
00:37:08,588 --> 00:37:12,438
think that's pretty much all I want so

880
00:37:11,329 --> 00:37:25,849
I'm just gonna go ahead and make one of

881
00:37:12,438 --> 00:37:29,018
those I think the in it for this really

882
00:37:25,849 --> 00:37:32,028
doesn't need to be here but just for

883
00:37:29,018 --> 00:37:33,408
clarity sake I'm making one

884
00:37:32,028 --> 00:37:35,630
you basically just give it the stack

885
00:37:33,409 --> 00:37:37,219
that you're trying to initialize you

886
00:37:35,630 --> 00:37:40,519
know what I don't I don't even care

887
00:37:37,219 --> 00:37:48,829
about that the entire initialization for

888
00:37:40,518 --> 00:37:50,238
this thing is just this right because

889
00:37:48,829 --> 00:37:51,739
the only thing it needs is memory and

890
00:37:50,239 --> 00:37:53,778
everything else is zero so it's pretty

891
00:37:51,739 --> 00:37:55,668
simple that's just how you initialize

892
00:37:53,778 --> 00:37:56,889
one of these and you're done so I'm

893
00:37:55,668 --> 00:37:58,848
happy to leave it that way

894
00:37:56,889 --> 00:38:00,438
again the simpler the better for

895
00:37:58,849 --> 00:38:02,749
everything and clear to zero is always

896
00:38:00,438 --> 00:38:05,478
the initialization I would prefer and

897
00:38:02,748 --> 00:38:08,748
that's pretty close to that so then what

898
00:38:05,478 --> 00:38:10,989
I can do is say all right what I want to

899
00:38:08,748 --> 00:38:14,509
do here is just have my room stack

900
00:38:10,989 --> 00:38:17,389
essentially be like utility functions

901
00:38:14,509 --> 00:38:19,099
that let me walk my rooms easily so you

902
00:38:17,389 --> 00:38:19,938
know I shouldn't deleted that yet

903
00:38:19,099 --> 00:38:21,739
because I want to talk about it

904
00:38:19,938 --> 00:38:23,868
so this Jen first room here that's the

905
00:38:21,739 --> 00:38:25,969
first room that we've got in our set of

906
00:38:23,869 --> 00:38:30,079
rims so what I'm gonna do here is just

907
00:38:25,969 --> 00:38:31,909
say like push room onto my stack and say

908
00:38:30,079 --> 00:38:33,199
I want to you know edit this room like

909
00:38:31,909 --> 00:38:37,309
herb not edit this room but I'm gonna

910
00:38:33,199 --> 00:38:39,070
start looking from this room so we'll

911
00:38:37,309 --> 00:38:41,380
take the stack and push it on

912
00:38:39,070 --> 00:38:44,320
right and then what I want to do is

913
00:38:41,380 --> 00:38:45,970
while we're laying out room rooms here I

914
00:38:44,320 --> 00:38:47,920
could I could have my while loop

915
00:38:45,969 --> 00:38:52,389
effectively have some kind of call that

916
00:38:47,920 --> 00:38:56,440
says you know hey as long as my stack

917
00:38:52,389 --> 00:38:59,319
has things on it I'm gonna keep doing

918
00:38:56,440 --> 00:39:04,840
stuff and so I'll pop a room from the

919
00:38:59,320 --> 00:39:06,880
stack here and that'll give me the room

920
00:39:04,840 --> 00:39:08,110
that we're talking about and I don't

921
00:39:06,880 --> 00:39:10,030
know that I necessarily want to do it

922
00:39:08,110 --> 00:39:11,829
that way I may want it to pop a room

923
00:39:10,030 --> 00:39:14,650
stock entry because there may be

924
00:39:11,829 --> 00:39:16,179
additional information on there so you

925
00:39:14,650 --> 00:39:25,510
know there's a couple different ways we

926
00:39:16,179 --> 00:39:30,069
could do that right that would be

927
00:39:25,510 --> 00:39:32,200
another way to do it right in that way

928
00:39:30,070 --> 00:39:34,510
if we want to put data in here that's

929
00:39:32,199 --> 00:39:38,589
more than just a room we can so I might

930
00:39:34,510 --> 00:39:43,990
leave it that way for now and we'll see

931
00:39:38,590 --> 00:39:46,360
but I don't know hope springs eternal so

932
00:39:43,989 --> 00:39:49,149
maybe we just do that so when we pop

933
00:39:46,360 --> 00:39:50,590
this room off of the stack what I want

934
00:39:49,150 --> 00:40:00,039
to do then is I want to say all right

935
00:39:50,590 --> 00:40:01,870
push connections for this room so or

936
00:40:00,039 --> 00:40:04,449
push connected rooms or something like

937
00:40:01,869 --> 00:40:07,299
that right so what I want to do is say

938
00:40:04,449 --> 00:40:09,549
look every time I pop every time you

939
00:40:07,300 --> 00:40:11,530
look at a room I know that I'm gonna

940
00:40:09,550 --> 00:40:15,120
want to look at all the rooms that are

941
00:40:11,530 --> 00:40:15,120
connected to that room right

942
00:40:17,909 --> 00:40:22,049
and so what I'm doing here is just

943
00:40:20,340 --> 00:40:24,440
saying let's go ahead and do that we're

944
00:40:22,050 --> 00:40:27,450
gonna lay out these rooms and off we go

945
00:40:24,440 --> 00:40:29,760
now when I'm laying out these rooms I

946
00:40:27,449 --> 00:40:32,009
have a fundamental problem which is that

947
00:40:29,760 --> 00:40:33,510
this will loop forever because if rooms

948
00:40:32,010 --> 00:40:35,010
are connected to each other then I'm

949
00:40:33,510 --> 00:40:36,480
just gonna push the room and then I'll

950
00:40:35,010 --> 00:40:38,040
look at the next room and push we push

951
00:40:36,480 --> 00:40:39,179
the room I just left and then I'll go

952
00:40:38,039 --> 00:40:40,739
back to look at that room and we push

953
00:40:39,179 --> 00:40:42,750
through I went to and I'll just keep

954
00:40:40,739 --> 00:40:45,119
pushing each other forever so I need

955
00:40:42,750 --> 00:40:47,219
some if statement here that's when I go

956
00:40:45,119 --> 00:40:50,309
to look at a room that's on the stack I

957
00:40:47,219 --> 00:40:52,169
don't want to do any press I don't want

958
00:40:50,309 --> 00:40:54,509
to lay it out and I don't want to push

959
00:40:52,170 --> 00:40:56,760
on its connections if it's a room I've

960
00:40:54,510 --> 00:40:58,830
already said I'm done with right so I

961
00:40:56,760 --> 00:41:01,050
only want to look at new rooms that I

962
00:40:58,829 --> 00:41:05,130
haven't looked at yet and then I can

963
00:41:01,050 --> 00:41:06,600
connect those rooms up right and so what

964
00:41:05,130 --> 00:41:11,190
I'm gonna do here is I'm gonna say all

965
00:41:06,599 --> 00:41:14,730
right let's go ahead and see when we're

966
00:41:11,190 --> 00:41:17,849
doing this when we're doing this work

967
00:41:14,730 --> 00:41:20,130
here let's go ahead and tag rooms that

968
00:41:17,849 --> 00:41:22,079
we've processed with something that lets

969
00:41:20,130 --> 00:41:25,140
us know that they have been processed

970
00:41:22,079 --> 00:41:27,150
right and so what I'm gonna do is

971
00:41:25,139 --> 00:41:30,239
something that we've done many times

972
00:41:27,150 --> 00:41:32,970
before I'm just gonna have a concept in

973
00:41:30,239 --> 00:41:35,849
here called a generation index and that

974
00:41:32,969 --> 00:41:38,549
generation index is just a tag that lets

975
00:41:35,849 --> 00:41:41,460
me know whether I have visited this room

976
00:41:38,550 --> 00:41:44,160
in a particular pass of something right

977
00:41:41,460 --> 00:41:46,139
and so what I want to do here is say you

978
00:41:44,159 --> 00:41:48,960
know whatever my generation index is

979
00:41:46,139 --> 00:41:51,150
here let's say it's one I want to know

980
00:41:48,960 --> 00:41:54,000
if this room's generation index is equal

981
00:41:51,150 --> 00:41:56,760
to my generation index if it is then I'm

982
00:41:54,000 --> 00:42:01,920
don't need to process it if it isn't

983
00:41:56,760 --> 00:42:03,420
then I do so I will set it as having

984
00:42:01,920 --> 00:42:05,880
process and then I will push this

985
00:42:03,420 --> 00:42:08,369
connections on now normally I would make

986
00:42:05,880 --> 00:42:10,200
this thing push connected rooms I would

987
00:42:08,369 --> 00:42:14,670
make that be a thing that we actually

988
00:42:10,199 --> 00:42:16,529
have on this room stack I'm not actually

989
00:42:14,670 --> 00:42:18,329
gonna do that the reason I'm not gonna

990
00:42:16,530 --> 00:42:20,250
do that is because we need to look at

991
00:42:18,329 --> 00:42:22,650
those connections first and have some

992
00:42:20,250 --> 00:42:24,960
idea about whether or not we need to

993
00:42:22,650 --> 00:42:26,280
grow the size of this room and there's

994
00:42:24,960 --> 00:42:29,490
going to be stuff that we need to sort

995
00:42:26,280 --> 00:42:32,740
of figure out here right so this is a

996
00:42:29,489 --> 00:42:34,059
little bit confusing potential

997
00:42:32,739 --> 00:42:37,629
and the reason it's a little bit

998
00:42:34,059 --> 00:42:39,940
confusing is connections for a room we

999
00:42:37,630 --> 00:42:42,610
sort of need to know where they are and

1000
00:42:39,940 --> 00:42:44,950
whether our room can sort of obey them

1001
00:42:42,610 --> 00:42:46,720
well or not and other things like this

1002
00:42:44,949 --> 00:42:49,179
and again this is where we start to get

1003
00:42:46,719 --> 00:42:51,429
into the real complexity of it and it's

1004
00:42:49,179 --> 00:42:53,649
gonna be very difficult right because

1005
00:42:51,429 --> 00:42:55,089
whenever we layout rooms we know that we

1006
00:42:53,650 --> 00:42:56,740
have connections between the rooms but

1007
00:42:55,090 --> 00:42:58,030
we don't really know how the room should

1008
00:42:56,739 --> 00:43:01,659
be placed in order to make those

1009
00:42:58,030 --> 00:43:05,670
connections all line up fundamentally

1010
00:43:01,659 --> 00:43:08,649
speaking you know the challenge of

1011
00:43:05,670 --> 00:43:10,750
laying out the rooms is specifically

1012
00:43:08,650 --> 00:43:13,630
figuring out where the connections go

1013
00:43:10,750 --> 00:43:15,519
that's like the whole problem right and

1014
00:43:13,630 --> 00:43:17,200
we've also said that one other thing

1015
00:43:15,519 --> 00:43:20,559
that we want to do here is make it so

1016
00:43:17,199 --> 00:43:23,829
that we might get make rooms larger if

1017
00:43:20,559 --> 00:43:25,230
they need more connections right so

1018
00:43:23,829 --> 00:43:28,119
rooms that have tons of connections

1019
00:43:25,230 --> 00:43:33,400
probably need to be bigger rooms that

1020
00:43:28,119 --> 00:43:34,779
don't don't right so that's that's the

1021
00:43:33,400 --> 00:43:37,570
fundamental problem that we're looking

1022
00:43:34,780 --> 00:43:39,340
at here and so now the reason that I say

1023
00:43:37,570 --> 00:43:40,539
that this probably doesn't want to be a

1024
00:43:39,340 --> 00:43:41,950
function is because I know I'm gonna

1025
00:43:40,539 --> 00:43:44,440
have to loop over the connections here a

1026
00:43:41,949 --> 00:43:46,659
bunch of times anyway I don't probably

1027
00:43:44,440 --> 00:43:50,079
need to have this be utility function

1028
00:43:46,659 --> 00:43:56,440
because I can just do the pushing in one

1029
00:43:50,079 --> 00:43:58,719
of those loops okay so this right here

1030
00:43:56,440 --> 00:44:00,820
will walk all of our rooms and if we

1031
00:43:58,719 --> 00:44:04,029
wanted to we could still do this this

1032
00:44:00,820 --> 00:44:06,580
sort of layout here that we're doing but

1033
00:44:04,030 --> 00:44:09,130
yeah this will walk all of our rooms and

1034
00:44:06,579 --> 00:44:11,319
mark them and then terminate right so

1035
00:44:09,130 --> 00:44:12,760
this will like mark all the rooms if we

1036
00:44:11,320 --> 00:44:15,070
wanted to like I said we could just kind

1037
00:44:12,760 --> 00:44:17,560
of put a you know create some space for

1038
00:44:15,070 --> 00:44:19,090
the room in there but again that's not

1039
00:44:17,559 --> 00:44:23,759
really something that we can do quite

1040
00:44:19,090 --> 00:44:23,760
yet be it would just be another sort of

1041
00:44:24,090 --> 00:44:29,140
incorrect layout pass that we'd be doing

1042
00:44:26,590 --> 00:44:32,789
so now we need to start to get to the

1043
00:44:29,139 --> 00:44:34,900
logic of this where we're gonna sort of

1044
00:44:32,789 --> 00:44:39,969
look at the room connected to figure out

1045
00:44:34,900 --> 00:44:42,639
where this room should go alright so

1046
00:44:39,969 --> 00:44:44,709
we've got this genuine connection and we

1047
00:44:42,639 --> 00:44:47,500
know that for every room we

1048
00:44:44,710 --> 00:44:50,318
which connections are in it and in fact

1049
00:44:47,500 --> 00:44:52,449
we've already kind of done that here you

1050
00:44:50,318 --> 00:44:55,838
can see looking at the first connection

1051
00:44:52,449 --> 00:44:58,029
of a room or whatever so I don't know do

1052
00:44:55,838 --> 00:44:59,230
we loop through connector we don't um

1053
00:44:58,030 --> 00:45:00,490
since the first time we're doing this

1054
00:44:59,230 --> 00:45:04,780
but it's basically just the same as this

1055
00:45:00,489 --> 00:45:13,389
code here right all we want to do here

1056
00:45:04,780 --> 00:45:17,109
is say for everything that's connected

1057
00:45:13,389 --> 00:45:18,848
to this room we want to do something now

1058
00:45:17,108 --> 00:45:22,259
the simplest thing like I said was like

1059
00:45:18,849 --> 00:45:31,390
okay we're just gonna push whatever the

1060
00:45:22,260 --> 00:45:33,040
room on like other room right and we

1061
00:45:31,389 --> 00:45:35,759
probably want utility function of this

1062
00:45:33,039 --> 00:45:37,929
because if you look at how this goes you

1063
00:45:35,760 --> 00:45:39,400
can see that the general connection

1064
00:45:37,929 --> 00:45:41,828
points to a connection there's an A and

1065
00:45:39,400 --> 00:45:44,619
a B we don't know which one of those we

1066
00:45:41,829 --> 00:45:47,710
are so we point to a connection it's got

1067
00:45:44,619 --> 00:45:50,200
a location right and then it's got an A

1068
00:45:47,710 --> 00:45:55,389
and a B and that a and a B basically

1069
00:45:50,199 --> 00:45:57,669
says oh you know I'm I'm these I'm a

1070
00:45:55,389 --> 00:45:58,318
connection of these two rooms which room

1071
00:45:57,670 --> 00:46:01,510
were you

1072
00:45:58,318 --> 00:46:03,909
who's asking me I'll give you the other

1073
00:46:01,510 --> 00:46:05,980
one that's who you're connected to right

1074
00:46:03,909 --> 00:46:09,848
so we need a thing that basically says

1075
00:46:05,980 --> 00:46:12,039
oh if you're coming from room a then

1076
00:46:09,849 --> 00:46:14,530
this connection goes through and B but

1077
00:46:12,039 --> 00:46:21,130
if you're asking me from room B then it

1078
00:46:14,530 --> 00:46:23,490
goes to room a that's a really simple

1079
00:46:21,130 --> 00:46:23,490
function

1080
00:46:28,429 --> 00:46:48,659
so from a particular connection we just

1081
00:46:31,829 --> 00:46:53,190
want to know let's say okay if

1082
00:46:48,659 --> 00:47:02,670
connection a equals from room or maybe

1083
00:46:53,190 --> 00:47:07,099
I'll say B that's a otherwise B and for

1084
00:47:02,670 --> 00:47:11,010
good measure I am going to assert that

1085
00:47:07,099 --> 00:47:13,920
one or the other was true you know I'm

1086
00:47:11,010 --> 00:47:28,589
saying so in fact you know maybe I will

1087
00:47:13,920 --> 00:47:29,760
do it this way so basically I'm saying

1088
00:47:28,588 --> 00:47:32,670
okay

1089
00:47:29,760 --> 00:47:35,040
I'll assume the result is a but in the

1090
00:47:32,670 --> 00:47:36,000
case where the connection a is the one

1091
00:47:35,039 --> 00:47:37,980
I'm talking about

1092
00:47:36,000 --> 00:47:41,068
then I will say the result is actually P

1093
00:47:37,980 --> 00:47:42,838
but what I do want to do is say that in

1094
00:47:41,068 --> 00:47:43,318
the case we're catching a is not the

1095
00:47:42,838 --> 00:47:46,409
from room

1096
00:47:43,318 --> 00:47:49,440
I want to assert the connection B is and

1097
00:47:46,409 --> 00:47:52,170
that's just a way of saying look I don't

1098
00:47:49,440 --> 00:47:57,170
want people calling this function on a

1099
00:47:52,170 --> 00:47:59,519
room that on a connection and a room

1100
00:47:57,170 --> 00:48:02,068
where that room doesn't appear in the

1101
00:47:59,519 --> 00:48:03,659
connection that's just a bug right so we

1102
00:48:02,068 --> 00:48:05,159
want to be warned about that and that's

1103
00:48:03,659 --> 00:48:06,420
why I wrote it this way instead of the

1104
00:48:05,159 --> 00:48:08,818
more simple way because we actually want

1105
00:48:06,420 --> 00:48:10,798
to do something in that case and I want

1106
00:48:08,818 --> 00:48:13,230
to make it clear what was happening

1107
00:48:10,798 --> 00:48:16,318
there so we'll assume that we're

1108
00:48:13,230 --> 00:48:17,608
connection B if we are then we just

1109
00:48:16,318 --> 00:48:19,798
return any and everything's fine but we

1110
00:48:17,608 --> 00:48:21,690
want to assert that we were if we're not

1111
00:48:19,798 --> 00:48:23,159
if we're actually connection a then we

1112
00:48:21,690 --> 00:48:24,720
override it and we don't need to assert

1113
00:48:23,159 --> 00:48:26,429
in that case because we just did the

1114
00:48:24,719 --> 00:48:33,419
check so we know that we are one of the

1115
00:48:26,429 --> 00:48:34,739
two rooms right and off we go so I mean

1116
00:48:33,420 --> 00:48:37,470
we could do another assertion here we

1117
00:48:34,739 --> 00:48:39,479
could say assert connection B is not

1118
00:48:37,469 --> 00:48:40,649
equal to from room and that would only

1119
00:48:39,480 --> 00:48:43,170
be the case

1120
00:48:40,650 --> 00:48:45,150
if the connection was was fully porked

1121
00:48:43,170 --> 00:48:48,000
like it's like a connection from room a

1122
00:48:45,150 --> 00:48:49,860
to remain but hey it can never hurt to

1123
00:48:48,000 --> 00:48:53,550
having a surgeon in there worst case is

1124
00:48:49,860 --> 00:49:07,890
it doesn't fire so anyway and I could

1125
00:48:53,550 --> 00:49:10,080
note that here so when we're looping

1126
00:49:07,889 --> 00:49:12,839
through these connections we can do this

1127
00:49:10,079 --> 00:49:14,610
get other room call here I I know I want

1128
00:49:12,840 --> 00:49:22,980
to take a look at the connection so I've

1129
00:49:14,610 --> 00:49:25,500
got a gen connection and then the other

1130
00:49:22,980 --> 00:49:29,940
room is just get other room on that

1131
00:49:25,500 --> 00:49:31,139
connection from the room that I'm in and

1132
00:49:29,940 --> 00:49:34,170
then I could push that other room so

1133
00:49:31,139 --> 00:49:36,119
this will crawl out like a spider web

1134
00:49:34,170 --> 00:49:40,320
all of the rooms connected to the first

1135
00:49:36,119 --> 00:49:42,779
room that's in the set right and again

1136
00:49:40,320 --> 00:49:44,550
we may want to have multiple starting

1137
00:49:42,780 --> 00:49:46,500
rooms for the crawls that could happen

1138
00:49:44,550 --> 00:49:53,910
it doesn't really matter we'll talk

1139
00:49:46,500 --> 00:49:56,940
about that a little later so once we do

1140
00:49:53,909 --> 00:49:59,519
this now what we're faced with is the

1141
00:49:56,940 --> 00:50:01,590
fact that we're doing crawl but we still

1142
00:49:59,519 --> 00:50:04,619
don't know where to put the rooms right

1143
00:50:01,590 --> 00:50:06,329
and what we want to do here is say okay

1144
00:50:04,619 --> 00:50:08,880
when we're coming through these

1145
00:50:06,329 --> 00:50:10,889
connections all of the connections that

1146
00:50:08,880 --> 00:50:14,360
don't currently have a location have to

1147
00:50:10,889 --> 00:50:17,190
get placed somewhere on to my room and

1148
00:50:14,360 --> 00:50:20,309
we need again this is where the brute

1149
00:50:17,190 --> 00:50:22,800
force stuff has to start to come in in

1150
00:50:20,309 --> 00:50:25,590
the case of a simple layout that can't

1151
00:50:22,800 --> 00:50:27,570
help but succeed then we would just

1152
00:50:25,590 --> 00:50:29,220
always place connections down and we'd

1153
00:50:27,570 --> 00:50:31,230
always work like if it was just a long

1154
00:50:29,219 --> 00:50:32,639
chain of room a connect strand B

1155
00:50:31,230 --> 00:50:36,570
connects dream see connects to MT

1156
00:50:32,639 --> 00:50:38,400
connects from e f g h i j k then just

1157
00:50:36,570 --> 00:50:41,400
placing the connection in a brute force

1158
00:50:38,400 --> 00:50:45,269
place every time would just work right

1159
00:50:41,400 --> 00:50:46,800
and we'd be fine but we're not gonna

1160
00:50:45,269 --> 00:50:49,530
have that we know we're gonna have more

1161
00:50:46,800 --> 00:50:52,380
complicated room connection to apologies

1162
00:50:49,530 --> 00:50:54,130
there and because of that what we needed

1163
00:50:52,380 --> 00:50:58,329
to do is we have to have

1164
00:50:54,130 --> 00:51:03,818
way of trying different permutations for

1165
00:50:58,329 --> 00:51:05,740
where the connections are so we need to

1166
00:51:03,818 --> 00:51:07,659
be able to try put this country on the

1167
00:51:05,739 --> 00:51:09,578
left side put it on the right side put

1168
00:51:07,659 --> 00:51:13,239
it on the top put it on the bottom right

1169
00:51:09,579 --> 00:51:16,568
and if we only wanted to have rooms that

1170
00:51:13,239 --> 00:51:18,788
would have four connections to them that

1171
00:51:16,568 --> 00:51:22,119
would be the entirety of it and we could

1172
00:51:18,789 --> 00:51:25,150
start there right we could totally start

1173
00:51:22,119 --> 00:51:27,160
there if we wanted to and I think maybe

1174
00:51:25,150 --> 00:51:29,608
we should start there right we should

1175
00:51:27,159 --> 00:51:34,058
start with something that just does that

1176
00:51:29,608 --> 00:51:35,588
right and then what we could do is move

1177
00:51:34,059 --> 00:51:38,829
from there to something more complicated

1178
00:51:35,588 --> 00:51:41,349
that allows rooms to grow and have more

1179
00:51:38,829 --> 00:51:44,890
connections as necessary and also allows

1180
00:51:41,349 --> 00:51:46,630
rooms to grow too to make a connection

1181
00:51:44,889 --> 00:51:50,199
work that would not have otherwise to

1182
00:51:46,630 --> 00:51:51,789
work right and again those are going to

1183
00:51:50,199 --> 00:51:53,739
be really complicated operations to do

1184
00:51:51,789 --> 00:51:57,250
so starting with something simpler than

1185
00:51:53,739 --> 00:51:59,199
that I think is obviously best but you

1186
00:51:57,250 --> 00:52:01,659
know that's that's just how it goes

1187
00:51:59,199 --> 00:52:03,969
sometimes so here on the jhen room

1188
00:52:01,659 --> 00:52:06,788
connection with the room con stuff we're

1189
00:52:03,969 --> 00:52:08,528
reliefing over the rims again so what we

1190
00:52:06,789 --> 00:52:10,720
want to kind of do here is take a look

1191
00:52:08,528 --> 00:52:12,068
at those connections and figure out

1192
00:52:10,719 --> 00:52:14,318
whether or not they've been set yet

1193
00:52:12,068 --> 00:52:19,710
I'm gonna do the same thing on the

1194
00:52:14,318 --> 00:52:23,199
connections so now we've kind of got

1195
00:52:19,710 --> 00:52:25,240
this data about the the connections

1196
00:52:23,199 --> 00:52:31,419
don't ask me why this is in the wrong

1197
00:52:25,239 --> 00:52:36,038
place paired to this one that's a little

1198
00:52:31,420 --> 00:52:38,349
bit better there right should probably

1199
00:52:36,039 --> 00:52:39,970
look more like that

1200
00:52:38,349 --> 00:52:41,380
so if you've got a volume in a

1201
00:52:39,969 --> 00:52:44,500
generation index on each connection and

1202
00:52:41,380 --> 00:52:45,849
so every connection we can also know

1203
00:52:44,500 --> 00:52:50,349
whether or not someone has tried to

1204
00:52:45,849 --> 00:52:52,900
place it put it down somewhere yet or

1205
00:52:50,349 --> 00:52:55,269
not right and again we may on to use it

1206
00:52:52,900 --> 00:52:57,369
maybe we don't need it maybe we do we'll

1207
00:52:55,269 --> 00:52:58,690
see as we start to go through it it

1208
00:52:57,369 --> 00:53:00,699
might be that we can just look at

1209
00:52:58,690 --> 00:53:03,340
whether or not the other room has been

1210
00:53:00,699 --> 00:53:05,219
processed yet or not because that would

1211
00:53:03,340 --> 00:53:11,200
tell us I don't know

1212
00:53:05,219 --> 00:53:18,429
so looking at this I think maybe we do

1213
00:53:11,199 --> 00:53:19,960
want this because you know no I you know

1214
00:53:18,429 --> 00:53:21,669
I think I'm I think I don't need to get

1215
00:53:19,960 --> 00:53:26,740
I think let's just let's just leave that

1216
00:53:21,670 --> 00:53:30,099
out here's my proposal so what we do is

1217
00:53:26,739 --> 00:53:32,279
we'll put down the room and then we will

1218
00:53:30,099 --> 00:53:35,489
wait to put the connection in place

1219
00:53:32,280 --> 00:53:37,780
until we go to place the other room and

1220
00:53:35,489 --> 00:53:40,059
when we go to place the other room if

1221
00:53:37,780 --> 00:53:42,400
both rooms are placed then we put the

1222
00:53:40,059 --> 00:53:44,920
connection somewhere in there a button

1223
00:53:42,400 --> 00:53:48,360
right because that's all we really need

1224
00:53:44,920 --> 00:53:48,360
to do in this case

1225
00:53:59,769 --> 00:54:11,139
so that seems good to me yeah I'm fine

1226
00:54:05,409 --> 00:54:12,849
with that uh okay so now what I want to

1227
00:54:11,139 --> 00:54:16,118
be able to do is I want to be able to

1228
00:54:12,849 --> 00:54:17,650
say when I'm going through these rooms I

1229
00:54:16,119 --> 00:54:19,539
want to be able to check to see whether

1230
00:54:17,650 --> 00:54:20,590
I can place a room summer or not I want

1231
00:54:19,539 --> 00:54:22,570
to be able to do some unioning

1232
00:54:20,590 --> 00:54:24,579
operations so things are gonna get a

1233
00:54:22,570 --> 00:54:25,930
little bit hairier but that's okay

1234
00:54:24,579 --> 00:54:27,639
and I don't mean hairier like Space

1235
00:54:25,929 --> 00:54:35,319
Harrier like I don't mean like this kind

1236
00:54:27,639 --> 00:54:36,759
of hairier right I'm not doing about

1237
00:54:35,320 --> 00:54:37,240
this kind of hairier because that would

1238
00:54:36,760 --> 00:54:42,460
be awesome

1239
00:54:37,239 --> 00:54:45,399
I'm talking about hairier like like when

1240
00:54:42,460 --> 00:54:48,809
something is hairier like that kind of

1241
00:54:45,400 --> 00:54:48,809
hairier like something has more hair

1242
00:54:49,980 --> 00:55:04,389
like this right so what I want to do is

1243
00:54:58,659 --> 00:55:07,809
I want to figure out like when I go to

1244
00:55:04,389 --> 00:55:11,108
place this room I want to look to see if

1245
00:55:07,809 --> 00:55:16,358
the connection to the next room has been

1246
00:55:11,108 --> 00:55:18,849
placed yet so so when I get other room

1247
00:55:16,358 --> 00:55:22,349
I want to fundamentally talk about two

1248
00:55:18,849 --> 00:55:22,349
different things here

1249
00:55:27,409 --> 00:55:32,399
if the generation index for this room

1250
00:55:30,570 --> 00:55:34,500
that I'm talking about that's on the

1251
00:55:32,400 --> 00:55:37,289
other side of the connection if I've

1252
00:55:34,500 --> 00:55:39,030
already placed that room then I'm gonna

1253
00:55:37,289 --> 00:55:42,869
go ahead and deal with this connection

1254
00:55:39,030 --> 00:55:44,730
and place my room if I have not placed

1255
00:55:42,869 --> 00:55:46,530
the room yet then I'm just gonna push it

1256
00:55:44,730 --> 00:55:48,990
on for further I'm just gonna push on

1257
00:55:46,530 --> 00:55:56,250
that room as a further consideration but

1258
00:55:48,989 --> 00:56:02,129
that's it right and in so doing I will

1259
00:55:56,250 --> 00:56:04,139
try to work out like so honestly I might

1260
00:56:02,130 --> 00:56:09,210
not even do that here I might say that's

1261
00:56:04,139 --> 00:56:19,009
gonna happen in another pass so I might

1262
00:56:09,210 --> 00:56:19,010
actually do it like this yeah

1263
00:56:24,769 --> 00:56:28,489
and now that I've said it I guess it was

1264
00:56:27,019 --> 00:56:29,750
it was a little curse there now that

1265
00:56:28,489 --> 00:56:31,039
I've said it looks like this can just be

1266
00:56:29,750 --> 00:56:32,989
a utility function because I'm going to

1267
00:56:31,039 --> 00:56:34,400
want to do it this way anyway

1268
00:56:32,989 --> 00:56:35,569
and in fact I don't even really need to

1269
00:56:34,400 --> 00:56:36,889
do this because I'm gonna check it when

1270
00:56:35,570 --> 00:56:38,480
we actually go through on the stack so

1271
00:56:36,889 --> 00:56:41,599
it's not like a big deal whether I push

1272
00:56:38,480 --> 00:56:44,300
it or not really it would save a little

1273
00:56:41,599 --> 00:56:48,319
work to check it here but that's about

1274
00:56:44,300 --> 00:56:51,389
it so I guess I'm I'm wrong about that

1275
00:56:48,320 --> 00:56:51,389
[Music]

1276
00:56:56,280 --> 00:57:25,980
so I think I will just make that a

1277
00:56:57,750 --> 00:57:28,260
utility function so here all I'm going

1278
00:57:25,980 --> 00:57:29,880
to do is going to take these room this

1279
00:57:28,260 --> 00:57:31,320
this function right here and just make

1280
00:57:29,880 --> 00:57:33,840
this a little utility function so that

1281
00:57:31,320 --> 00:57:36,059
people who use the room stack can just

1282
00:57:33,840 --> 00:57:37,950
do this so from a room it'll go through

1283
00:57:36,059 --> 00:57:40,650
it'll figure out what it was going to do

1284
00:57:37,949 --> 00:57:41,879
and which rooms are connected to it that

1285
00:57:40,650 --> 00:57:43,530
are not already in part of that

1286
00:57:41,880 --> 00:57:46,980
Generation X it'll push all those rooms

1287
00:57:43,530 --> 00:57:53,250
on and then it's done so I do want to do

1288
00:57:46,980 --> 00:57:56,460
that now you may ask and rightfully so

1289
00:57:53,250 --> 00:57:59,070
why bother why bother checking the

1290
00:57:56,460 --> 00:58:01,170
connection index in in one of these two

1291
00:57:59,070 --> 00:58:04,680
places couldn't we only check it in one

1292
00:58:01,170 --> 00:58:07,680
the generation index the answer is not

1293
00:58:04,679 --> 00:58:10,799
exactly so if we didn't check the one

1294
00:58:07,679 --> 00:58:12,839
here then it would never cause a bug

1295
00:58:10,800 --> 00:58:15,330
because we'd always be checking that

1296
00:58:12,840 --> 00:58:17,280
room before we process it but it is

1297
00:58:15,329 --> 00:58:19,769
inefficient because it will lead us to

1298
00:58:17,280 --> 00:58:21,810
push many more things like five six more

1299
00:58:19,769 --> 00:58:24,449
things on the stack every room every

1300
00:58:21,809 --> 00:58:26,340
time you process a room then really need

1301
00:58:24,449 --> 00:58:28,469
to be pushed right depending on how many

1302
00:58:26,340 --> 00:58:30,630
connections there are so it's just

1303
00:58:28,469 --> 00:58:33,329
wasteful and it makes our stack have to

1304
00:58:30,630 --> 00:58:35,610
be much larger because again we're gonna

1305
00:58:33,329 --> 00:58:38,819
do that and you have to understand the

1306
00:58:35,610 --> 00:58:40,769
way that a stack works when I push five

1307
00:58:38,820 --> 00:58:43,320
connections on to a stack I'm then going

1308
00:58:40,769 --> 00:58:45,179
to process the last one as the next

1309
00:58:43,320 --> 00:58:48,840
thing I do that may push five more

1310
00:58:45,179 --> 00:58:51,719
things so this stack actually is having

1311
00:58:48,840 --> 00:58:54,510
lots of fat pushed on it if we don't

1312
00:58:51,719 --> 00:58:56,159
cull by the generation that's early so

1313
00:58:54,510 --> 00:58:57,750
we're just wasting a lot of space and a

1314
00:58:56,159 --> 00:59:00,329
lot of effort pushing things on the

1315
00:58:57,750 --> 00:59:03,420
stack for no reason so it's better to

1316
00:59:00,329 --> 00:59:07,980
call it here for performance and modesty

1317
00:59:03,420 --> 00:59:09,590
honestly and then here we need to always

1318
00:59:07,980 --> 00:59:10,849
check it because even though you would

1319
00:59:09,590 --> 00:59:11,690
saying well if you're chucking it here

1320
00:59:10,849 --> 00:59:13,549
you don't need to chug it here because

1321
00:59:11,690 --> 00:59:16,250
everything that's on the stack obviously

1322
00:59:13,550 --> 00:59:18,980
hasn't been processed yet but that's not

1323
00:59:16,250 --> 00:59:21,139
true either because remember as we go

1324
00:59:18,980 --> 00:59:24,889
through the things on the stack popping

1325
00:59:21,139 --> 00:59:27,559
them off we are processing rooms and so

1326
00:59:24,889 --> 00:59:30,079
two different rooms that got processed

1327
00:59:27,559 --> 00:59:31,789
may have both pushed the same room to

1328
00:59:30,079 --> 00:59:35,029
which they are connected onto the stack

1329
00:59:31,789 --> 00:59:37,429
and then that room got processed once

1330
00:59:35,030 --> 00:59:39,170
and will then come up again and we don't

1331
00:59:37,429 --> 00:59:41,389
want to process it twice that'd be a

1332
00:59:39,170 --> 00:59:44,090
huge mistake because we put the room in

1333
00:59:41,389 --> 00:59:45,769
place now and now we're over placing it

1334
00:59:44,090 --> 00:59:47,720
we're putting it moving it again and

1335
00:59:45,769 --> 00:59:51,559
possibly breaking the layout we had

1336
00:59:47,719 --> 00:59:54,409
before and that all kinds of problems

1337
00:59:51,559 --> 00:59:56,630
come with that right so we need them in

1338
00:59:54,409 --> 01:00:06,829
both places really to have a reasonable

1339
00:59:56,630 --> 01:00:09,079
routine I would say so off we go so if

1340
01:00:06,829 --> 01:00:14,199
we know when we're in here that this

1341
01:00:09,079 --> 01:00:14,199
room is on our generation

1342
01:00:28,739 --> 01:00:36,750
and so what we can sort of do here is

1343
01:00:30,780 --> 01:00:39,990
ask ourselves the question for all of

1344
01:00:36,750 --> 01:00:41,659
the connections to rooms that have been

1345
01:00:39,989 --> 01:00:45,000
placed

1346
01:00:41,659 --> 01:00:50,069
what would the shape of this room have

1347
01:00:45,000 --> 01:00:54,570
to be in order to contain all of those

1348
01:00:50,070 --> 01:00:58,349
connections right I mean that's

1349
01:00:54,570 --> 01:01:00,030
fundamentally what we're saying here I

1350
01:00:58,349 --> 01:01:02,300
realize that maybe a little meat you

1351
01:01:00,030 --> 01:01:05,940
know I'm working this out in my head

1352
01:01:02,300 --> 01:01:08,099
visually right and you you may not be at

1353
01:01:05,940 --> 01:01:09,420
the same place right now when you're

1354
01:01:08,099 --> 01:01:11,599
thinking about it especially because you

1355
01:01:09,420 --> 01:01:14,579
don't have to actually type in the code

1356
01:01:11,599 --> 01:01:17,160
it's you're allowed to be more lazy than

1357
01:01:14,579 --> 01:01:21,059
I because you can just go ah okay seal

1358
01:01:17,159 --> 01:01:23,039
type it in I don't have um but what I'm

1359
01:01:21,059 --> 01:01:25,769
saying here is well okay I've got two

1360
01:01:23,039 --> 01:01:28,829
rooms they both got placed they both

1361
01:01:25,769 --> 01:01:29,699
have connections to this other room that

1362
01:01:28,829 --> 01:01:32,400
hasn't been placed yet

1363
01:01:29,699 --> 01:01:36,449
now that room comes up the question is

1364
01:01:32,400 --> 01:01:39,240
what is the minimal shape that will

1365
01:01:36,449 --> 01:01:41,730
satisfy these connections and the answer

1366
01:01:39,239 --> 01:01:44,338
is just an infinitely thin room that

1367
01:01:41,730 --> 01:01:46,349
goes from there to there right that's

1368
01:01:44,338 --> 01:01:48,480
the information I want to start with

1369
01:01:46,349 --> 01:01:49,920
similarly let's say there was another

1370
01:01:48,480 --> 01:01:53,130
room here that said it had a connection

1371
01:01:49,920 --> 01:01:55,349
what is the minimal shape of room that

1372
01:01:53,130 --> 01:02:03,480
would fit these connections well it's

1373
01:01:55,349 --> 01:02:08,130
this right so I want to know what that

1374
01:02:03,480 --> 01:02:12,079
shape is before I start guessing what

1375
01:02:08,130 --> 01:02:12,079
the shape of this room should be

1376
01:02:14,159 --> 01:02:21,549
see I'm done with this right so

1377
01:02:19,409 --> 01:02:25,359
fundamentally what my brute-force

1378
01:02:21,550 --> 01:02:31,120
algorithm will break down to and I think

1379
01:02:25,360 --> 01:02:35,950
this is kind of cool right is the thing

1380
01:02:31,119 --> 01:02:39,789
that tries to enumerate all of the

1381
01:02:35,949 --> 01:02:43,359
places that the connection could go on

1382
01:02:39,789 --> 01:02:47,469
the rooms that are connected to the room

1383
01:02:43,360 --> 01:02:53,050
I'm working on so this would be really

1384
01:02:47,469 --> 01:02:59,379
simple to say the least if all I had to

1385
01:02:53,050 --> 01:03:01,750
think about was what if all I had think

1386
01:02:59,380 --> 01:03:04,180
about was specific connections on these

1387
01:03:01,750 --> 01:03:07,269
rooms but that's that's not true

1388
01:03:04,179 --> 01:03:11,679
I actually know that I can place a

1389
01:03:07,269 --> 01:03:14,349
connection anywhere on a room and so the

1390
01:03:11,679 --> 01:03:16,419
only limitation on where I place those

1391
01:03:14,349 --> 01:03:19,869
connections is if this room will

1392
01:03:16,420 --> 01:03:27,130
intersect like other rooms right so it's

1393
01:03:19,869 --> 01:03:29,289
actually this I don't know anything

1394
01:03:27,130 --> 01:03:32,710
about this other than let's say I have

1395
01:03:29,289 --> 01:03:37,000
these three connections a B and C and so

1396
01:03:32,710 --> 01:03:41,070
my algorithm has choices it can make it

1397
01:03:37,000 --> 01:03:45,820
could create a room that looks like this

1398
01:03:41,070 --> 01:03:50,350
to connect these rooms right it could

1399
01:03:45,820 --> 01:03:52,630
create a room that looks like that to

1400
01:03:50,349 --> 01:03:54,069
connect these rooms right that B here

1401
01:03:52,630 --> 01:03:58,510
here and here

1402
01:03:54,070 --> 01:04:00,250
instead of here here and here so one

1403
01:03:58,510 --> 01:04:01,980
would be the same but but these would be

1404
01:04:00,250 --> 01:04:05,440
different right

1405
01:04:01,980 --> 01:04:07,659
it could even again still like let's

1406
01:04:05,440 --> 01:04:12,220
assume a more creative arrangement of

1407
01:04:07,659 --> 01:04:15,309
these rooms right now it has the option

1408
01:04:12,219 --> 01:04:17,439
of doing other sorts of weird kinds of

1409
01:04:15,309 --> 01:04:18,909
room connections I suppose possibly

1410
01:04:17,440 --> 01:04:23,170
however this has to be a little bit

1411
01:04:18,909 --> 01:04:25,239
closer I suppose for those right you

1412
01:04:23,170 --> 01:04:27,369
know we could create rooms that look

1413
01:04:25,239 --> 01:04:29,319
like that

1414
01:04:27,369 --> 01:04:37,000
if we wanted to satisfy this or whatever

1415
01:04:29,320 --> 01:04:40,390
right so I think what this boils down to

1416
01:04:37,000 --> 01:04:44,889
here is in numerating shapes of rooms

1417
01:04:40,389 --> 01:04:47,319
that touch other rooms and having a

1418
01:04:44,889 --> 01:04:49,599
bunch of trial and error as we try out

1419
01:04:47,320 --> 01:04:52,990
different room shapes to make that work

1420
01:04:49,599 --> 01:04:57,639
okay because the only parameter in the

1421
01:04:52,989 --> 01:05:05,709
system really is the shape of each room

1422
01:04:57,639 --> 01:05:08,559
and where those rooms touch you know you

1423
01:05:05,710 --> 01:05:13,119
even for a given room shape it can slide

1424
01:05:08,559 --> 01:05:14,799
a little bit but that's probably

1425
01:05:13,119 --> 01:05:18,339
arguably the least interesting part of

1426
01:05:14,800 --> 01:05:20,230
it right so we're really just talking

1427
01:05:18,340 --> 01:05:22,809
about how do we want to shape these

1428
01:05:20,230 --> 01:05:24,760
rooms and that's almost the only thing

1429
01:05:22,809 --> 01:05:27,489
we really need to brute force is the

1430
01:05:24,760 --> 01:05:29,050
shapes of the rooms and then once we

1431
01:05:27,489 --> 01:05:32,500
know the shapes of the rooms we kind of

1432
01:05:29,050 --> 01:05:34,900
just know what's going on right so what

1433
01:05:32,500 --> 01:05:37,389
we want to do is basically have a number

1434
01:05:34,900 --> 01:05:39,910
of places on a room that we could

1435
01:05:37,389 --> 01:05:42,039
consider putting a connection and then

1436
01:05:39,909 --> 01:05:44,349
we want to sort of iterate over the

1437
01:05:42,039 --> 01:05:54,009
shapes of the rooms that we could then

1438
01:05:44,349 --> 01:05:55,839
have now we actually have more we can

1439
01:05:54,010 --> 01:05:58,720
play with during a given placement phase

1440
01:05:55,840 --> 01:06:00,370
because actually we're not restricted to

1441
01:05:58,719 --> 01:06:02,529
just changing the shape of the current

1442
01:06:00,369 --> 01:06:06,009
room we can actually change the shape of

1443
01:06:02,530 --> 01:06:07,840
any room that we want to as long as it

1444
01:06:06,010 --> 01:06:09,310
doesn't violate any of the previous

1445
01:06:07,840 --> 01:06:13,809
things that we said we were going to do

1446
01:06:09,309 --> 01:06:18,059
so for example it is always free to grow

1447
01:06:13,809 --> 01:06:21,159
an existing room into empty space right

1448
01:06:18,059 --> 01:06:25,840
I mean we just we can just do that there

1449
01:06:21,159 --> 01:06:28,239
is no it will not violate any previously

1450
01:06:25,840 --> 01:06:34,510
placed rooms and connections to grow a

1451
01:06:28,239 --> 01:06:39,069
room into space that is unoccupied so

1452
01:06:34,510 --> 01:06:41,060
that's kind of cool as well again I am

1453
01:06:39,070 --> 01:06:43,880
interested in discretizing the

1454
01:06:41,059 --> 01:06:46,400
problem I don't want a really continuous

1455
01:06:43,880 --> 01:06:50,150
version of it so one thing I might say

1456
01:06:46,400 --> 01:06:52,970
is maybe to start with at least we will

1457
01:06:50,150 --> 01:06:55,309
talk about rooms only being able to grow

1458
01:06:52,969 --> 01:06:59,480
in a very controlled very specific

1459
01:06:55,309 --> 01:07:04,099
fashion so for example we could just say

1460
01:06:59,480 --> 01:07:08,030
that rooms are always a multiple of some

1461
01:07:04,099 --> 01:07:13,730
fundamental room size so for example the

1462
01:07:08,030 --> 01:07:17,830
Zelda room I think is 17 by 9 is the

1463
01:07:13,730 --> 01:07:17,829
tradition am I wrong about that

1464
01:07:40,119 --> 01:07:49,960
just gonna go ahead and look at one of

1465
01:07:41,980 --> 01:07:58,179
these things here so you can see like

1466
01:07:49,960 --> 01:08:00,460
one of the screens here it's like that

1467
01:07:58,179 --> 01:08:03,869
this doesn't actually have one you know

1468
01:08:00,460 --> 01:08:03,869
what I guess I need a screenshot

1469
01:08:09,679 --> 01:08:14,269
we did this before didn't I write this

1470
01:08:11,849 --> 01:08:14,269
down somewhere

1471
01:08:17,729 --> 01:08:27,358
so you can sort of see here 1 2 3 4 5 6

1472
01:08:20,909 --> 01:08:35,880
7 8 9 10 11 12 13 14 15 looks like 1 2 3

1473
01:08:27,359 --> 01:08:40,050
4 5 6 7 8 9 10 11 maybe so maybe 11 by

1474
01:08:35,880 --> 01:08:42,900
15 something like that right um and you

1475
01:08:40,050 --> 01:08:45,659
know we can sort of figure in our world

1476
01:08:42,899 --> 01:08:48,000
we will do something similar to this

1477
01:08:45,659 --> 01:08:51,449
like there's sort of a fundamental room

1478
01:08:48,000 --> 01:08:54,000
size ish block doesn't really matter

1479
01:08:51,449 --> 01:08:56,670
what it is but maybe it's something I

1480
01:08:54,000 --> 01:08:58,739
don't know I said I said like 15 by 11

1481
01:08:56,670 --> 01:09:02,909
so maybe we might say something like

1482
01:08:58,739 --> 01:09:05,550
okay let's just say 5 by 5 is like the

1483
01:09:02,909 --> 01:09:08,069
minimum block size and so all we're

1484
01:09:05,550 --> 01:09:11,270
really gonna do here is we're gonna talk

1485
01:09:08,069 --> 01:09:14,099
about growing things in a 5 by 5 fashion

1486
01:09:11,270 --> 01:09:16,740
so when you talk about a room you're

1487
01:09:14,100 --> 01:09:23,070
talking about a 5 by 5 block and you can

1488
01:09:16,739 --> 01:09:25,550
grow the room you know in some

1489
01:09:23,069 --> 01:09:29,399
controlled fashion

1490
01:09:25,550 --> 01:09:32,369
right so I can add five by five blocks

1491
01:09:29,399 --> 01:09:34,049
to my room and I can add them anytime

1492
01:09:32,369 --> 01:09:37,079
there's empty space next to the room so

1493
01:09:34,050 --> 01:09:39,869
if I want to make a connection and I'm

1494
01:09:37,079 --> 01:09:41,699
having trouble doing so I can just add

1495
01:09:39,869 --> 01:09:43,500
five by five blocks to my room to add

1496
01:09:41,699 --> 01:09:47,639
more space for connections if that helps

1497
01:09:43,500 --> 01:09:48,630
me right so let's just say we do

1498
01:09:47,640 --> 01:09:50,760
something like that where we have a

1499
01:09:48,630 --> 01:09:53,400
fundamental block size and we just only

1500
01:09:50,760 --> 01:09:59,640
grow based on that size and you know

1501
01:09:53,399 --> 01:10:02,729
that's just that's that's life right so

1502
01:09:59,640 --> 01:10:04,680
that is you know a reasonable starting

1503
01:10:02,729 --> 01:10:06,809
place for that again we're still gonna

1504
01:10:04,680 --> 01:10:09,600
have a really hard job to do in a second

1505
01:10:06,810 --> 01:10:10,950
here because the problem that we're

1506
01:10:09,600 --> 01:10:12,360
gonna have is how do we figure out how

1507
01:10:10,949 --> 01:10:16,109
to backtrack in the case where we can't

1508
01:10:12,359 --> 01:10:19,469
figure out a solution so I'm gonna

1509
01:10:16,109 --> 01:10:22,799
ignore that part for now and we're just

1510
01:10:19,470 --> 01:10:26,690
going to try to work with the part that

1511
01:10:22,800 --> 01:10:26,690
we don't where that isn't the case

1512
01:10:26,710 --> 01:10:30,699
okay so again we push your connected

1513
01:10:29,260 --> 01:10:32,079
rooms and now we're looking at the rooms

1514
01:10:30,699 --> 01:10:34,079
and we're trying to figure out which

1515
01:10:32,079 --> 01:10:39,850
connections we actually need to maintain

1516
01:10:34,079 --> 01:10:41,769
so here is the case for connections

1517
01:10:39,850 --> 01:10:43,600
we'll deal with and what we want to do

1518
01:10:41,770 --> 01:10:47,580
is sort of look at where those

1519
01:10:43,600 --> 01:10:50,440
connections sort of minimally have to be

1520
01:10:47,579 --> 01:10:53,439
sort of the space in that we're looking

1521
01:10:50,439 --> 01:10:58,569
at right so I'm going to do something

1522
01:10:53,439 --> 01:11:02,769
really simple here to get me started and

1523
01:10:58,569 --> 01:11:05,049
what that is is I'm going to do a union

1524
01:11:02,770 --> 01:11:06,310
and then an intersection I probably

1525
01:11:05,050 --> 01:11:08,710
flipped away a little bit to serving

1526
01:11:06,310 --> 01:11:10,690
staff to explain this but if these are

1527
01:11:08,710 --> 01:11:15,449
the three rooms that I need to connect

1528
01:11:10,689 --> 01:11:15,449
I'm first going to Union them together

1529
01:11:17,520 --> 01:11:27,130
right like so and then I'm going to clip

1530
01:11:23,949 --> 01:11:30,789
them out so I'm going to create this

1531
01:11:27,130 --> 01:11:33,579
outer rectangle here and then I'm going

1532
01:11:30,789 --> 01:11:38,140
to clip that rectangle so that it does

1533
01:11:33,579 --> 01:11:44,069
not actually contain these rooms so I

1534
01:11:38,140 --> 01:11:47,850
will then clip it off here here here

1535
01:11:44,069 --> 01:11:50,590
there and I'll just be left with this

1536
01:11:47,850 --> 01:11:54,039
and you can see why I'm doing that right

1537
01:11:50,590 --> 01:12:00,610
because that tells me a location I can

1538
01:11:54,039 --> 01:12:03,369
place the room makes sense it gets me a

1539
01:12:00,609 --> 01:12:06,699
starting location a reasonable area I

1540
01:12:03,369 --> 01:12:08,939
might want to place the room here I'm

1541
01:12:06,699 --> 01:12:08,939
saying

1542
01:12:14,529 --> 01:12:21,189
trying to think if I need to something

1543
01:12:15,729 --> 01:12:21,909
more complicated than that but don't

1544
01:12:21,189 --> 01:12:25,439
think I do

1545
01:12:21,909 --> 01:12:25,439
at least not the moment

1546
01:12:32,179 --> 01:12:40,010
yeah so I'm gonna do that and

1547
01:12:36,710 --> 01:12:42,439
furthermore what I'm gonna do is when I

1548
01:12:40,010 --> 01:12:45,469
do the initial unioning I'm actually

1549
01:12:42,439 --> 01:12:47,149
going to include an apron and the reason

1550
01:12:45,469 --> 01:12:49,819
I'm going to include an apron is because

1551
01:12:47,149 --> 01:12:52,460
what I want to also kind of get out of

1552
01:12:49,819 --> 01:12:57,948
this for free is let's say the only room

1553
01:12:52,460 --> 01:12:59,739
that I have at all is one one room

1554
01:12:57,948 --> 01:13:02,419
that's in place that I'm connected to

1555
01:12:59,738 --> 01:13:05,238
well when I do a union intersection on

1556
01:13:02,420 --> 01:13:09,079
that I'm gonna get no area back like

1557
01:13:05,238 --> 01:13:11,689
it's not I'm gonna nothing if I instead

1558
01:13:09,079 --> 01:13:18,319
include an apron when I do the Union so

1559
01:13:11,689 --> 01:13:22,488
it's actually like that then when I clip

1560
01:13:18,319 --> 01:13:25,519
the room out I will actually be able to

1561
01:13:22,488 --> 01:13:29,299
see that there's room around my

1562
01:13:25,520 --> 01:13:33,790
rectangle right and I don't again know

1563
01:13:29,300 --> 01:13:33,789
exactly how I want to do this because I

1564
01:13:33,850 --> 01:13:40,400
don't know if I yeah it's pretty it's

1565
01:13:37,488 --> 01:13:42,259
pretty tricky if I was to do a complete

1566
01:13:40,399 --> 01:13:44,689
clip I would end up with a set of

1567
01:13:42,260 --> 01:13:46,789
rectangles right like let's say I took

1568
01:13:44,689 --> 01:13:57,158
this case I'd end up with a set of

1569
01:13:46,789 --> 01:13:57,158
rectangles so here's the Union

1570
01:14:00,050 --> 01:14:07,670
and I know that if I produce a complete

1571
01:14:05,069 --> 01:14:07,670
clip of it

1572
01:14:18,779 --> 01:14:26,719
I would get something like this right so

1573
01:14:22,350 --> 01:14:26,720
I just get tons of rectangles out of it

1574
01:14:33,719 --> 01:14:39,029
right tons and tons of them way too many

1575
01:14:36,979 --> 01:14:41,339
and that's not gonna help me that much

1576
01:14:39,029 --> 01:14:45,569
right but that's what happens if I do a

1577
01:14:41,340 --> 01:14:50,430
complete clip so what I really want is I

1578
01:14:45,569 --> 01:14:55,049
more want just what happens with the the

1579
01:14:50,430 --> 01:15:00,420
largest possible rectangle that doesn't

1580
01:14:55,050 --> 01:15:01,469
intersect any of those you know what I

1581
01:15:00,420 --> 01:15:04,170
mean

1582
01:15:01,469 --> 01:15:07,829
so what I'm looking for here is I really

1583
01:15:04,170 --> 01:15:10,500
don't want the complete clip technically

1584
01:15:07,829 --> 01:15:18,390
what I want to do is I want to make a

1585
01:15:10,500 --> 01:15:23,010
rectangle that will include the largest

1586
01:15:18,390 --> 01:15:24,690
portion of the clipped region or that's

1587
01:15:23,010 --> 01:15:28,199
not really true I want to create a

1588
01:15:24,689 --> 01:15:32,669
rectangle that touches still touches all

1589
01:15:28,198 --> 01:15:35,969
three of the of the rooms that I'm

1590
01:15:32,670 --> 01:15:37,710
talking about but that still forms an

1591
01:15:35,969 --> 01:15:39,060
actual coherent rectangle right that's

1592
01:15:37,710 --> 01:15:42,600
the thing I'm actually looking for and

1593
01:15:39,060 --> 01:15:47,850
that's harder to do the reason that's

1594
01:15:42,600 --> 01:15:51,060
hard to do is because it's highly order

1595
01:15:47,850 --> 01:15:53,280
dependent and I'm not sure I immediately

1596
01:15:51,060 --> 01:16:02,989
see how you jump right to that

1597
01:15:53,279 --> 01:16:05,300
conclusion right it made me the case and

1598
01:16:02,988 --> 01:16:07,319
and let me just show you what I mean in

1599
01:16:05,300 --> 01:16:11,039
case you're having trouble visualizing

1600
01:16:07,319 --> 01:16:13,710
that so let's suppose I start like I

1601
01:16:11,039 --> 01:16:15,210
said knowing that the area that encloses

1602
01:16:13,710 --> 01:16:19,020
all of the rooms I'm trying to connect

1603
01:16:15,210 --> 01:16:21,510
is this big rectangle right and here are

1604
01:16:19,020 --> 01:16:27,989
the three rooms that are occupying that

1605
01:16:21,510 --> 01:16:30,630
space well if I look at say this room

1606
01:16:27,988 --> 01:16:32,039
first and I say well okay I gotta make

1607
01:16:30,630 --> 01:16:35,159
sure that I don't intersect this room

1608
01:16:32,039 --> 01:16:37,229
well there's three different ways I

1609
01:16:35,159 --> 01:16:37,710
could make myself not intersect that

1610
01:16:37,229 --> 01:16:41,099
room

1611
01:16:37,710 --> 01:16:44,600
one is I pick this edge and I clip to

1612
01:16:41,100 --> 01:16:46,890
that edge that produces this rectangle

1613
01:16:44,600 --> 01:16:49,680
one is I clip to this

1614
01:16:46,890 --> 01:16:52,020
and that produces this angle rectangle

1615
01:16:49,680 --> 01:16:55,530
and one is I clipped to this edge and

1616
01:16:52,020 --> 01:17:02,700
that produces this rectangle only that

1617
01:16:55,529 --> 01:17:06,630
one is the one that I want right now

1618
01:17:02,699 --> 01:17:14,550
what I'm guessing here is that this is

1619
01:17:06,630 --> 01:17:18,600
part of our brute force each one of

1620
01:17:14,550 --> 01:17:22,350
these has four sides that I could clip

1621
01:17:18,600 --> 01:17:26,190
to if the brute force iterates over

1622
01:17:22,350 --> 01:17:31,880
those sides I get four times four times

1623
01:17:26,189 --> 01:17:31,879
four possibilities right

1624
01:17:40,649 --> 01:17:47,128
that's 64 possible ways I could produce

1625
01:17:43,679 --> 01:17:50,489
this rectangle only some of those ways

1626
01:17:47,128 --> 01:17:57,868
will connect the rooms in fact it may be

1627
01:17:50,488 --> 01:18:00,768
the case that like if with three it may

1628
01:17:57,868 --> 01:18:04,078
be the case that only like one or two

1629
01:18:00,769 --> 01:18:05,550
possibly can you can see that there's

1630
01:18:04,078 --> 01:18:09,538
like let's say we were doing with only

1631
01:18:05,550 --> 01:18:14,128
two you can see that there's two ways

1632
01:18:09,538 --> 01:18:16,078
you can do it that way and that way or

1633
01:18:14,128 --> 01:18:19,918
that way so it's at least three ways you

1634
01:18:16,078 --> 01:18:23,128
can do it four ways you can do it so

1635
01:18:19,918 --> 01:18:24,689
there's four possible rooms that would

1636
01:18:23,128 --> 01:18:29,998
still obey those two connections that

1637
01:18:24,689 --> 01:18:33,329
are rectangular right and so you can see

1638
01:18:29,998 --> 01:18:35,760
that that gives us that's actually not a

1639
01:18:33,328 --> 01:18:39,538
problem now think about that's a good

1640
01:18:35,760 --> 01:18:44,070
thing that gives us four tries if you

1641
01:18:39,538 --> 01:18:47,819
will to lay this out each one leaving

1642
01:18:44,069 --> 01:18:50,458
different space open each one possibly

1643
01:18:47,819 --> 01:18:52,668
creating a solution to the problem of

1644
01:18:50,458 --> 01:18:53,849
not being able to lay it out because of

1645
01:18:52,668 --> 01:19:00,618
self-intersection

1646
01:18:53,849 --> 01:19:04,639
with other rooms on the map right so

1647
01:19:00,618 --> 01:19:08,219
this is part of our brute force

1648
01:19:04,639 --> 01:19:12,288
specifically what we want to do is have

1649
01:19:08,219 --> 01:19:12,288
some number right

1650
01:19:16,489 --> 01:19:24,389
some trying number that gets plugged in

1651
01:19:20,340 --> 01:19:27,449
here so that of the valid options that

1652
01:19:24,390 --> 01:19:29,820
we have there we will take the first one

1653
01:19:27,449 --> 01:19:32,639
the first time we try laying this out

1654
01:19:29,819 --> 01:19:36,630
and then if it doesn't work we take the

1655
01:19:32,640 --> 01:19:39,420
next one and we use our try number to

1656
01:19:36,630 --> 01:19:44,279
sort of advance us through those

1657
01:19:39,420 --> 01:19:50,130
possibilities right this is a really

1658
01:19:44,279 --> 01:19:52,319
nasty kind of a thing I remember so

1659
01:19:50,130 --> 01:19:55,380
there's a set of algorithms called

1660
01:19:52,319 --> 01:19:57,000
metropolis algorithms because for some

1661
01:19:55,380 --> 01:19:58,949
reason they're named after the manager

1662
01:19:57,000 --> 01:19:59,880
of the group of people who actually did

1663
01:19:58,949 --> 01:20:02,069
it

1664
01:19:59,880 --> 01:20:04,380
so actually metropolis I think was like

1665
01:20:02,069 --> 01:20:06,960
the least involved person in terms of

1666
01:20:04,380 --> 01:20:10,760
making the algorithm nevertheless it's

1667
01:20:06,960 --> 01:20:10,760
called the metropolis algorithm anyway

1668
01:20:11,029 --> 01:20:15,679
we actually try to figure out who

1669
01:20:12,899 --> 01:20:15,679
actually invented it

1670
01:20:29,229 --> 01:20:35,488
there's any one of these things of PDF

1671
01:20:30,969 --> 01:20:38,460
oh yeah right here

1672
01:20:35,488 --> 01:20:42,149
there you go

1673
01:20:38,460 --> 01:20:54,159
wait no no no that's that's a tutorial

1674
01:20:42,149 --> 01:21:05,889
where's the original all right Thank You

1675
01:20:54,159 --> 01:21:14,409
caps lock you're killing me you are

1676
01:21:05,890 --> 01:21:16,869
killing me here people all right I have

1677
01:21:14,409 --> 01:21:18,550
the original paper on my machine I don't

1678
01:21:16,869 --> 01:21:21,130
know where to find it I'm sure it's out

1679
01:21:18,550 --> 01:21:22,270
there you can go find it the fact that

1680
01:21:21,130 --> 01:21:24,489
they called the metropolis Hastings

1681
01:21:22,270 --> 01:21:26,380
algorithm on Wikipedia suggests to me

1682
01:21:24,488 --> 01:21:29,019
that probably Hastings is the guy who

1683
01:21:26,380 --> 01:21:30,369
actually did the work if you find the

1684
01:21:29,020 --> 01:21:32,410
actual paper you can see who else's

1685
01:21:30,369 --> 01:21:35,500
names on it anyway point being it's

1686
01:21:32,409 --> 01:21:36,909
called metropolis Arum but it doesn't

1687
01:21:35,500 --> 01:21:38,170
actually involve a guy named metropolis

1688
01:21:36,909 --> 01:21:39,609
other than the fact that I think he was

1689
01:21:38,170 --> 01:21:45,029
the manager of the group or something

1690
01:21:39,609 --> 01:21:47,789
like that anyway so in that algorithm

1691
01:21:45,029 --> 01:21:50,969
you're trying to iterate over

1692
01:21:47,789 --> 01:21:53,319
possibilities and you use some things

1693
01:21:50,969 --> 01:21:54,789
involving probability to determine which

1694
01:21:53,319 --> 01:21:56,738
ones you should try first and then you

1695
01:21:54,789 --> 01:21:58,960
accept things on a randomized basis it's

1696
01:21:56,738 --> 01:22:00,399
a long story but point being it's a very

1697
01:21:58,960 --> 01:22:03,579
effective algorithm for very hard

1698
01:22:00,399 --> 01:22:06,670
problems that's all you really know

1699
01:22:03,579 --> 01:22:10,659
about it the case may be but what I find

1700
01:22:06,670 --> 01:22:12,250
hardest about it to implement and what I

1701
01:22:10,659 --> 01:22:15,119
suspect we will find hardest implement

1702
01:22:12,250 --> 01:22:18,429
as we work on this algorithm is very

1703
01:22:15,119 --> 01:22:22,210
specifically the fact that as you deal

1704
01:22:18,429 --> 01:22:25,230
with a changing world structure as you

1705
01:22:22,210 --> 01:22:29,198
try to brute force ways of laying it out

1706
01:22:25,229 --> 01:22:32,109
it's hard to understand which what the

1707
01:22:29,198 --> 01:22:36,579
state space is of possible trial and

1708
01:22:32,109 --> 01:22:39,339
error in a case where you only have one

1709
01:22:36,579 --> 01:22:42,789
world config and you're just pigeonhole

1710
01:22:39,340 --> 01:22:43,210
trying say these 64 things well it's

1711
01:22:42,789 --> 01:22:46,210
very

1712
01:22:43,210 --> 01:22:49,329
easy to understand that stay space it's

1713
01:22:46,210 --> 01:22:51,789
64 possibilities out of which say seven

1714
01:22:49,329 --> 01:22:55,149
actually work so you know you have a

1715
01:22:51,789 --> 01:22:57,819
sort of try number of seven zero one two

1716
01:22:55,149 --> 01:22:59,710
three four five and six are the six ways

1717
01:22:57,819 --> 01:23:04,479
we have seven ways you can lay this

1718
01:22:59,710 --> 01:23:07,600
thing out and you're done it gets much

1719
01:23:04,479 --> 01:23:11,229
harder when you start talking about well

1720
01:23:07,600 --> 01:23:14,289
when I make some other change now if I

1721
01:23:11,229 --> 01:23:16,659
revisit this room it's caz other

1722
01:23:14,289 --> 01:23:21,189
possible layouts because things

1723
01:23:16,659 --> 01:23:24,880
different things have moved right and so

1724
01:23:21,189 --> 01:23:28,539
it becomes much harder to understand how

1725
01:23:24,880 --> 01:23:31,960
to generate and manage permutations when

1726
01:23:28,539 --> 01:23:33,609
you don't have a stable way of talking

1727
01:23:31,960 --> 01:23:36,550
about what those permutations are

1728
01:23:33,609 --> 01:23:38,799
because those permutations are dependent

1729
01:23:36,550 --> 01:23:43,500
on the arrangement of other things in

1730
01:23:38,800 --> 01:23:48,070
the system that are themselves changing

1731
01:23:43,500 --> 01:23:50,890
that's one of the reasons why you

1732
01:23:48,069 --> 01:23:53,139
eventually usually use randomization to

1733
01:23:50,890 --> 01:23:56,590
help get you out of a bind because hey

1734
01:23:53,140 --> 01:23:58,900
if I just pick a random one and this is

1735
01:23:56,590 --> 01:24:03,640
metropolis algorithm relies heavily on

1736
01:23:58,899 --> 01:24:07,779
randomization for this very reason and

1737
01:24:03,640 --> 01:24:10,060
other reasons if we can't talk about a

1738
01:24:07,779 --> 01:24:12,670
stable distribution well we can still

1739
01:24:10,060 --> 01:24:14,860
talk about a randomized distribution so

1740
01:24:12,670 --> 01:24:16,480
we just say look we know there's seven

1741
01:24:14,859 --> 01:24:18,849
ways this could be laid out at this

1742
01:24:16,479 --> 01:24:22,479
particular time I'll randomly pick one

1743
01:24:18,850 --> 01:24:24,400
of them and I'll just trust that next

1744
01:24:22,479 --> 01:24:26,739
time if I happen in the same bind my

1745
01:24:24,399 --> 01:24:29,259
randomizer probably won't pick the same

1746
01:24:26,739 --> 01:24:32,229
one so we will try something different

1747
01:24:29,260 --> 01:24:33,789
or maybe we'll pick the same one but we

1748
01:24:32,229 --> 01:24:38,769
wanted to try the same one this time

1749
01:24:33,789 --> 01:24:40,140
because hey we know that sometimes

1750
01:24:38,770 --> 01:24:45,330
things move and this becomes different

1751
01:24:40,140 --> 01:24:45,329
what that really boils down to for us

1752
01:24:50,109 --> 01:24:56,988
he's really just saying look when we go

1753
01:24:54,649 --> 01:24:59,210
to bleep for its brute force this and we

1754
01:24:56,988 --> 01:25:01,669
try a bunch of stuff we probably don't

1755
01:24:59,210 --> 01:25:04,788
want to just accept the first thing we

1756
01:25:01,670 --> 01:25:07,489
find we want to accept the nth thing we

1757
01:25:04,788 --> 01:25:09,198
find and in the case where we only find

1758
01:25:07,488 --> 01:25:11,269
one thing obviously that's the one we

1759
01:25:09,198 --> 01:25:12,769
will always accept but in the case where

1760
01:25:11,270 --> 01:25:14,869
we find multiple things we want to

1761
01:25:12,770 --> 01:25:18,679
randomly probably randomly pick between

1762
01:25:14,868 --> 01:25:20,058
them I don't suppose that was a very

1763
01:25:18,679 --> 01:25:21,559
good explanation of what I was trying to

1764
01:25:20,059 --> 01:25:28,550
say I'll try to say it better a little

1765
01:25:21,559 --> 01:25:32,538
bit later when we get to it I think I

1766
01:25:28,550 --> 01:25:36,340
could say it better now recall those two

1767
01:25:32,538 --> 01:25:38,840
four loops I was talking about right

1768
01:25:36,340 --> 01:25:40,400
that's the traditional definition of

1769
01:25:38,840 --> 01:25:42,679
brute force where you can enumerate all

1770
01:25:40,399 --> 01:25:44,629
possibilities we're already saying we

1771
01:25:42,679 --> 01:25:45,800
can't enumerate all possibilities so

1772
01:25:44,630 --> 01:25:49,489
what we're doing is we're eliminating

1773
01:25:45,800 --> 01:25:52,099
certain possibilities right the problem

1774
01:25:49,488 --> 01:25:55,069
we have is that we don't even really

1775
01:25:52,099 --> 01:25:57,770
know how to stable e iterate over all

1776
01:25:55,069 --> 01:25:59,840
possibilities we know how to make

1777
01:25:57,770 --> 01:26:02,829
changes and then iterate over

1778
01:25:59,840 --> 01:26:06,590
possibilities within those changes right

1779
01:26:02,828 --> 01:26:09,078
but once we make changes to some part of

1780
01:26:06,590 --> 01:26:10,670
a layout then the brute force search

1781
01:26:09,078 --> 01:26:12,288
that was trying to search all the

1782
01:26:10,670 --> 01:26:15,139
possibilities for some other part of the

1783
01:26:12,288 --> 01:26:17,509
layout now can find different things so

1784
01:26:15,139 --> 01:26:20,150
we can't even remember what things we

1785
01:26:17,510 --> 01:26:23,239
tried on this part because they may not

1786
01:26:20,149 --> 01:26:26,089
be the same anymore so it's really hard

1787
01:26:23,238 --> 01:26:28,129
to do a real brute force test when you

1788
01:26:26,090 --> 01:26:30,020
have such a large state space because

1789
01:26:28,130 --> 01:26:32,359
you're actually talking about things

1790
01:26:30,020 --> 01:26:38,480
that change what possibilities are

1791
01:26:32,359 --> 01:26:42,589
available as you go hopefully that helps

1792
01:26:38,479 --> 01:26:44,618
clarify it a little bit alright so what

1793
01:26:42,590 --> 01:26:47,480
I want to do now is I want to go through

1794
01:26:44,618 --> 01:26:51,109
all of my rooms I'm going to Union them

1795
01:26:47,479 --> 01:26:52,879
together to produce a room geometry area

1796
01:26:51,109 --> 01:26:55,929
that helps me understand what I'm

1797
01:26:52,880 --> 01:26:55,929
looking at here right

1798
01:27:00,399 --> 01:27:06,309
and so what I want to do is is generate

1799
01:27:04,270 --> 01:27:08,020
that Union volume right I want to

1800
01:27:06,310 --> 01:27:17,080
generate a thing that sort of unions

1801
01:27:08,020 --> 01:27:19,300
this that this this stuff up so I'm

1802
01:27:17,079 --> 01:27:20,769
gonna create a Union volume and you've

1803
01:27:19,300 --> 01:27:22,719
seen me use this guy many times before

1804
01:27:20,770 --> 01:27:25,510
he's coming back he's making a big

1805
01:27:22,719 --> 01:27:31,600
comeback all of a sudden which is the

1806
01:27:25,510 --> 01:27:33,190
inverted infinity volume it's has such a

1807
01:27:31,600 --> 01:27:37,710
great name for such a simple concept

1808
01:27:33,189 --> 01:27:37,710
that's something that includes nothing

1809
01:27:37,920 --> 01:27:42,340
but it includes nothing in an infinite

1810
01:27:40,600 --> 01:27:44,260
way so that as soon as you try to

1811
01:27:42,340 --> 01:27:46,000
include something you just get that one

1812
01:27:44,260 --> 01:27:47,909
something and you'll see how that works

1813
01:27:46,000 --> 01:27:49,840
in a second here you've never saw the

1814
01:27:47,909 --> 01:27:52,000
previous episodes where I talked about

1815
01:27:49,840 --> 01:27:54,670
it I'm going to start with the nfinity

1816
01:27:52,000 --> 01:27:56,500
volume I'm going to go into here where

1817
01:27:54,670 --> 01:27:58,480
we talk about these rooms connections

1818
01:27:56,500 --> 01:28:00,670
and I'm gonna say every time we find one

1819
01:27:58,479 --> 01:28:09,309
that's already been laid out I'm going

1820
01:28:00,670 --> 01:28:11,649
to include it and so here we can sort of

1821
01:28:09,310 --> 01:28:14,440
say look here's the two rooms I want you

1822
01:28:11,649 --> 01:28:19,509
to Union these two for me give me back a

1823
01:28:14,439 --> 01:28:21,399
union that we've got and and off we go

1824
01:28:19,510 --> 01:28:24,130
I could make this because we know this

1825
01:28:21,399 --> 01:28:27,069
is sort of the kind of way we use this I

1826
01:28:24,130 --> 01:28:28,510
could you know I'm not gonna bother the

1827
01:28:27,069 --> 01:28:30,909
optimizer will take care of it famous

1828
01:28:28,510 --> 01:28:32,440
last words I'll do it like that so I'm

1829
01:28:30,909 --> 01:28:35,198
gonna Union these two together and get

1830
01:28:32,439 --> 01:28:37,448
back a result so then I know that I've

1831
01:28:35,198 --> 01:28:39,609
got this I also kind of want to do a

1832
01:28:37,448 --> 01:28:41,619
grow operation on this here and not the

1833
01:28:39,609 --> 01:28:43,960
kind where the feds come because you're

1834
01:28:41,619 --> 01:28:46,840
using UV lights I'm talking about a

1835
01:28:43,960 --> 01:28:49,359
thing where I can expand one of these so

1836
01:28:46,840 --> 01:28:52,079
I want to like do one of our our add

1837
01:28:49,359 --> 01:28:57,429
radiuses or something or like you know

1838
01:28:52,079 --> 01:28:59,590
row by radius and what I want to do here

1839
01:28:57,430 --> 01:29:01,989
is just say look I want to take this

1840
01:28:59,590 --> 01:29:05,469
volume and I want to grow it out by one

1841
01:29:01,988 --> 01:29:10,259
in all directions okay so I want to

1842
01:29:05,469 --> 01:29:11,730
basically say hey I want an apron of one

1843
01:29:10,260 --> 01:29:18,070
pie

1844
01:29:11,729 --> 01:29:19,659
everywhere around this thing that I want

1845
01:29:18,069 --> 01:29:22,119
to make that expansion so that when I do

1846
01:29:19,659 --> 01:29:24,729
the union I'm again even in the case

1847
01:29:22,119 --> 01:29:29,229
where there was nothing to union I get a

1848
01:29:24,729 --> 01:29:30,819
little thin one layer sort of apron

1849
01:29:29,229 --> 01:29:37,569
around the room that I can then process

1850
01:29:30,819 --> 01:29:42,479
right okay so now what I want to do is

1851
01:29:37,569 --> 01:29:42,479
talk about that clipping procedure right

1852
01:29:42,600 --> 01:29:48,550
so once I have a union volume what I

1853
01:29:46,510 --> 01:29:50,710
want to do is I want to go through all

1854
01:29:48,550 --> 01:29:54,430
of the possible permutations of clipping

1855
01:29:50,710 --> 01:29:56,500
this thing and that will give me where I

1856
01:29:54,430 --> 01:30:00,670
might be able to place it potentially

1857
01:29:56,500 --> 01:30:03,640
right it's hard to know exactly but

1858
01:30:00,670 --> 01:30:07,359
we'll see so let's say I go ahead and

1859
01:30:03,640 --> 01:30:10,090
start clipping this thing so again like

1860
01:30:07,359 --> 01:30:13,119
I said for any given room that volume

1861
01:30:10,090 --> 01:30:15,130
will be able to clip it and technically

1862
01:30:13,119 --> 01:30:17,829
we're 3d so really that volume will be

1863
01:30:15,130 --> 01:30:20,289
able to clip it on any of six sides so

1864
01:30:17,829 --> 01:30:23,170
we actually have a choice of one in six

1865
01:30:20,289 --> 01:30:26,560
for each of these clippings that we're

1866
01:30:23,170 --> 01:30:28,930
doing and so yeah that gives us six

1867
01:30:26,560 --> 01:30:30,730
possibilities for how we might layout

1868
01:30:28,930 --> 01:30:35,770
the room and each of those six

1869
01:30:30,729 --> 01:30:38,139
possibilities again compounds with other

1870
01:30:35,770 --> 01:30:40,600
possibilities that we might have and so

1871
01:30:38,140 --> 01:30:46,750
we may need to do like I said multiple

1872
01:30:40,600 --> 01:30:49,990
tries on this so in order to do this way

1873
01:30:46,750 --> 01:30:52,060
we sort of have a cascade of connections

1874
01:30:49,989 --> 01:30:53,829
in the rim that we have to process I'm

1875
01:30:52,060 --> 01:31:01,930
not sure how I want to structure that

1876
01:30:53,829 --> 01:31:05,430
loop exactly I might just write the

1877
01:31:01,930 --> 01:31:05,430
brute force version first

1878
01:31:12,500 --> 01:31:25,909
and I suppose one thing that's probably

1879
01:31:17,430 --> 01:31:25,909
true so

1880
01:31:26,930 --> 01:31:32,369
connections are going to have some

1881
01:31:29,039 --> 01:31:34,170
information on them that requires them

1882
01:31:32,369 --> 01:31:37,500
to be a certain type of connection I

1883
01:31:34,170 --> 01:31:39,239
would suspect so

1884
01:31:37,500 --> 01:31:43,470
each connection is going to say

1885
01:31:39,239 --> 01:31:46,859
something like I can be up or down left

1886
01:31:43,470 --> 01:31:48,090
or right forwards or back or you know

1887
01:31:46,859 --> 01:31:54,839
north-south-east-west

1888
01:31:48,090 --> 01:31:57,510
up or down right and I that connection

1889
01:31:54,840 --> 01:32:00,600
will not be allowed to be in certain

1890
01:31:57,510 --> 01:32:02,369
configurations a very large number of

1891
01:32:00,600 --> 01:32:04,680
our connections for example won't be

1892
01:32:02,369 --> 01:32:06,539
allowed to be up down connections up

1893
01:32:04,680 --> 01:32:08,310
down connections have a special semantic

1894
01:32:06,539 --> 01:32:10,710
meaning usually I'm going deeper into a

1895
01:32:08,310 --> 01:32:14,250
dungeon I'm going upstairs to a bedroom

1896
01:32:10,710 --> 01:32:17,520
I'm doing whatever so typically speaking

1897
01:32:14,250 --> 01:32:19,739
connections that can be up and down will

1898
01:32:17,520 --> 01:32:22,140
often either be required to be up and

1899
01:32:19,739 --> 01:32:23,789
down or just very rare if they're

1900
01:32:22,140 --> 01:32:27,260
included in something that could also be

1901
01:32:23,789 --> 01:32:29,279
sideways so I think to a certain extent

1902
01:32:27,260 --> 01:32:32,210
we know that it's not really gonna be

1903
01:32:29,279 --> 01:32:34,829
six it's usually going to be two or four

1904
01:32:32,210 --> 01:32:36,510
for the vast majority of things because

1905
01:32:34,829 --> 01:32:39,779
we're just not gonna allow things to be

1906
01:32:36,510 --> 01:32:44,550
all six directions almost ever would be

1907
01:32:39,779 --> 01:32:47,729
mice thought about that right but let's

1908
01:32:44,550 --> 01:32:50,610
suppose that we are going to do this

1909
01:32:47,729 --> 01:32:52,919
part and go through all of the

1910
01:32:50,609 --> 01:32:55,289
brute-force iterations I don't know

1911
01:32:52,920 --> 01:32:58,730
exactly how I want to do this but what I

1912
01:32:55,289 --> 01:32:58,729
might say is

1913
01:33:06,198 --> 01:33:14,979
I might do a really cheesy version of

1914
01:33:08,960 --> 01:33:14,980
this first just real just real garbage I

1915
01:33:20,409 --> 01:33:27,170
might do something like this where we

1916
01:33:23,359 --> 01:33:29,420
just say yeah okay let's place this room

1917
01:33:27,170 --> 01:33:33,800
we'll just recurse down and do the brute

1918
01:33:29,420 --> 01:33:41,230
force on each of the connections so you

1919
01:33:33,800 --> 01:33:41,230
know we'll say the first connection and

1920
01:33:47,800 --> 01:34:01,760
we're gonna place this room I'm gonna do

1921
01:33:58,100 --> 01:34:05,929
it recursively here and what we'll say

1922
01:34:01,760 --> 01:34:09,079
is like yeah let's just return when

1923
01:34:05,929 --> 01:34:12,130
we've actually been able to place it so

1924
01:34:09,079 --> 01:34:15,409
in the event that we can place the room

1925
01:34:12,130 --> 01:34:17,529
we'll just return true or something you

1926
01:34:15,409 --> 01:34:17,529
know

1927
01:34:29,270 --> 01:34:35,550
so what this boils down to is we're

1928
01:34:32,279 --> 01:34:58,259
gonna take sort of all the junk we had

1929
01:34:35,550 --> 01:35:01,079
before this is going to be okay so we're

1930
01:34:58,260 --> 01:35:04,289
gonna get a given connection here and so

1931
01:35:01,079 --> 01:35:08,789
we sort of have two possibilities one

1932
01:35:04,289 --> 01:35:10,800
possibility is that we are trying to

1933
01:35:08,789 --> 01:35:13,920
place this room in this volume and there

1934
01:35:10,800 --> 01:35:15,270
is no more connection to process there's

1935
01:35:13,920 --> 01:35:17,279
no more connections to process at all

1936
01:35:15,270 --> 01:35:19,950
right so if there are no more

1937
01:35:17,279 --> 01:35:23,340
connections to process then we just can

1938
01:35:19,949 --> 01:35:25,289
place the room in the volume meaning one

1939
01:35:23,340 --> 01:35:26,940
legal placement for the room would be

1940
01:35:25,289 --> 01:35:28,829
the whole volume that we're given and

1941
01:35:26,939 --> 01:35:30,509
you know what we're just screwing around

1942
01:35:28,829 --> 01:35:35,600
at this point trying to make some basic

1943
01:35:30,510 --> 01:35:35,600
thing that's just what we'll do right

1944
01:35:36,649 --> 01:35:41,670
now we want to do one thing beyond this

1945
01:35:39,510 --> 01:35:43,920
probably because otherwise the rooms may

1946
01:35:41,670 --> 01:35:46,770
end up being too tiny up in the simple

1947
01:35:43,920 --> 01:35:49,890
case like I said when we have that apron

1948
01:35:46,770 --> 01:35:52,920
right we sort of know that when we have

1949
01:35:49,890 --> 01:35:58,440
that apron if we only grow up I went you

1950
01:35:52,920 --> 01:36:00,090
know we could there's other stuff we

1951
01:35:58,439 --> 01:36:01,979
could do here that would make this

1952
01:36:00,090 --> 01:36:08,340
happen I'm gonna go ahead and say let's

1953
01:36:01,979 --> 01:36:12,209
try it this time if we just made like

1954
01:36:08,340 --> 01:36:17,550
the size of a room be the size of the

1955
01:36:12,210 --> 01:36:20,520
apron that we add to the room that might

1956
01:36:17,550 --> 01:36:23,840
be a cheesy way to do this at first so

1957
01:36:20,520 --> 01:36:23,840
I'm just going to do that instead

1958
01:36:29,930 --> 01:36:34,560
yeah

1959
01:36:32,189 --> 01:36:37,169
so what we want to do here is say look

1960
01:36:34,560 --> 01:36:43,010
let's take a look at the the volume for

1961
01:36:37,170 --> 01:36:43,010
this rim you know what no I talked about

1962
01:36:44,659 --> 01:36:50,479
so I'm just trying to think here when we

1963
01:36:47,520 --> 01:36:50,480
do the apron thing

1964
01:36:55,149 --> 01:37:00,469
it's a pretty it's not quite as it's not

1965
01:36:58,760 --> 01:37:02,269
as nice as I was hoping it would be what

1966
01:37:00,469 --> 01:37:05,750
I wanted to do is just end up with just

1967
01:37:02,269 --> 01:37:08,170
a shape that is something we can just

1968
01:37:05,750 --> 01:37:11,269
use the problem is you don't really know

1969
01:37:08,170 --> 01:37:14,658
once you've gotten down to it you don't

1970
01:37:11,269 --> 01:37:18,199
really know what part of that volume you

1971
01:37:14,658 --> 01:37:20,750
do and don't care about using so for

1972
01:37:18,198 --> 01:37:22,518
example let's suppose that I just even

1973
01:37:20,750 --> 01:37:24,649
even just one by one by one is not

1974
01:37:22,519 --> 01:37:28,489
really good enough because let's say

1975
01:37:24,649 --> 01:37:30,679
that you have the top and bottom parts

1976
01:37:28,488 --> 01:37:33,259
of the room there that you've expanded

1977
01:37:30,679 --> 01:37:36,380
to one you have one you know looking

1978
01:37:33,260 --> 01:37:37,099
basically a room above the U and a room

1979
01:37:36,380 --> 01:37:42,170
below you

1980
01:37:37,099 --> 01:37:44,150
size-wise when you then get down to the

1981
01:37:42,170 --> 01:37:46,420
very end you're going to have a room

1982
01:37:44,149 --> 01:37:50,538
volume that's actually three rooms high

1983
01:37:46,420 --> 01:37:51,769
even if you you know probably and you

1984
01:37:50,538 --> 01:37:54,439
don't want to create one that's three

1985
01:37:51,769 --> 01:37:56,510
rooms high but you don't know whether

1986
01:37:54,439 --> 01:37:57,979
you actually may be needed to be three

1987
01:37:56,510 --> 01:38:01,909
rooms high in order to connect the rooms

1988
01:37:57,979 --> 01:38:05,689
that you're talking about so the apron

1989
01:38:01,908 --> 01:38:06,948
thing doesn't really work so I think we

1990
01:38:05,689 --> 01:38:12,859
need to talk about it a little bit

1991
01:38:06,948 --> 01:38:15,888
differently I think we need to just do

1992
01:38:12,859 --> 01:38:17,479
it this way where we say all right we're

1993
01:38:15,889 --> 01:38:18,980
gonna Union the volumes and then we're

1994
01:38:17,479 --> 01:38:21,828
going to intersect the volumes and

1995
01:38:18,979 --> 01:38:25,189
that's it and then we have to do the

1996
01:38:21,828 --> 01:38:27,288
growth at the end to try and put forth a

1997
01:38:25,189 --> 01:38:32,469
room that grows out to some reasonable

1998
01:38:27,288 --> 01:38:35,859
size as we go or something right so we

1999
01:38:32,469 --> 01:38:38,689
we will go ahead and say place the room

2000
01:38:35,859 --> 01:38:41,029
using that volume and so then when we

2001
01:38:38,689 --> 01:38:44,839
get to the end here this volume very

2002
01:38:41,029 --> 01:38:47,840
well almost in all cases needs to be

2003
01:38:44,840 --> 01:38:54,230
grown somewhat because it may be zero

2004
01:38:47,840 --> 01:38:56,300
with zero height and so on right and and

2005
01:38:54,229 --> 01:38:58,538
we need to account for that

2006
01:38:56,300 --> 01:38:58,538
right

2007
01:39:08,859 --> 01:39:17,539
in the case of rooms that well really in

2008
01:39:13,939 --> 01:39:20,269
any case we also don't really know what

2009
01:39:17,539 --> 01:39:24,250
amount of room we really need there

2010
01:39:20,270 --> 01:39:34,910
either and so there's sort of this other

2011
01:39:24,250 --> 01:39:37,460
kind of minimum requirement feature that

2012
01:39:34,909 --> 01:39:41,059
we want to pass down that I'm not sure I

2013
01:39:37,460 --> 01:39:45,850
fully understand so what what I mean by

2014
01:39:41,060 --> 01:39:51,289
that is when we look at a particular

2015
01:39:45,850 --> 01:39:55,420
room option and we say here's where the

2016
01:39:51,289 --> 01:39:58,159
room will connect to this other room

2017
01:39:55,420 --> 01:40:00,649
there's sort of an interval there that

2018
01:39:58,159 --> 01:40:09,739
says well it could be anywhere from here

2019
01:40:00,649 --> 01:40:15,170
to here and that interval is non-viable

2020
01:40:09,739 --> 01:40:20,779
right so to give you a clearer picture

2021
01:40:15,170 --> 01:40:21,949
of that what I mean to say is when we're

2022
01:40:20,779 --> 01:40:24,170
trying to track this piece of

2023
01:40:21,949 --> 01:40:27,470
information and I want to lay out

2024
01:40:24,170 --> 01:40:29,300
another rectangle that lines up in a

2025
01:40:27,470 --> 01:40:33,619
nice way with whatever this thing is

2026
01:40:29,300 --> 01:40:36,050
here that I'm trying to line up then

2027
01:40:33,619 --> 01:40:39,349
what I'm saying is when I go to place

2028
01:40:36,050 --> 01:40:41,210
the next room I know that I could place

2029
01:40:39,350 --> 01:40:44,270
the next room

2030
01:40:41,210 --> 01:40:46,909
such that anywhere that still touches

2031
01:40:44,270 --> 01:40:48,500
this side can connect to this side so

2032
01:40:46,909 --> 01:40:51,199
let's say the first place I can place a

2033
01:40:48,500 --> 01:40:53,119
door is here and the last place I can

2034
01:40:51,199 --> 01:40:54,889
place a door is here well that means

2035
01:40:53,119 --> 01:40:58,939
that anywhere that overlaps this

2036
01:40:54,890 --> 01:41:01,789
interval is acceptable so the room could

2037
01:40:58,939 --> 01:41:04,869
be this wide but it could be as little

2038
01:41:01,789 --> 01:41:07,670
as that right so let's say I'm here and

2039
01:41:04,869 --> 01:41:10,729
I want you know maybe there's another

2040
01:41:07,670 --> 01:41:12,710
room here I know that I don't have to go

2041
01:41:10,729 --> 01:41:13,118
this far I could only go that far so

2042
01:41:12,710 --> 01:41:14,800
it's

2043
01:41:13,118 --> 01:41:16,268
still would work to place the room here

2044
01:41:14,800 --> 01:41:22,989
and I just wouldn't grow it out into

2045
01:41:16,269 --> 01:41:26,769
that region so when we are clipping the

2046
01:41:22,988 --> 01:41:29,678
room we need to understand minimum

2047
01:41:26,769 --> 01:41:33,610
boundaries as well as maximum boundaries

2048
01:41:29,679 --> 01:41:39,699
because those things are important as we

2049
01:41:33,609 --> 01:41:41,168
go down and I'm just not sure it sounds

2050
01:41:39,698 --> 01:41:43,839
like the kind of case that we really

2051
01:41:41,168 --> 01:41:45,878
want an interval for so we want to

2052
01:41:43,840 --> 01:41:47,949
basically say the maximum is this the

2053
01:41:45,878 --> 01:41:50,408
minimum is this so once we clip it if it

2054
01:41:47,948 --> 01:41:53,109
goes below the minimum we're out of luck

2055
01:41:50,408 --> 01:41:55,478
right meaning if somebody else came

2056
01:41:53,109 --> 01:41:57,938
along and said well the furthest down

2057
01:41:55,479 --> 01:42:00,579
you can go is here then it's like that's

2058
01:41:57,939 --> 01:42:02,320
not a legal configuration because it

2059
01:42:00,578 --> 01:42:04,509
will no longer touch this side which

2060
01:42:02,319 --> 01:42:06,248
means that the permutation that had it

2061
01:42:04,510 --> 01:42:19,449
connecting on this side is no longer

2062
01:42:06,248 --> 01:42:24,010
valid well excuse me so that suggests to

2063
01:42:19,448 --> 01:42:28,408
me that we yeah we need that sort of

2064
01:42:24,010 --> 01:42:28,409
minimum and maximum bounding rectangle

2065
01:42:39,119 --> 01:42:45,829
and it seems like that's just okay

2066
01:43:04,909 --> 01:43:10,599
what that does sort of suggest to me

2067
01:43:08,310 --> 01:43:13,770
however

2068
01:43:10,600 --> 01:43:13,770
[Music]

2069
01:43:23,149 --> 01:43:28,549
what that actually suggests to me is we

2070
01:43:25,800 --> 01:43:36,720
don't really need the Union in phase

2071
01:43:28,550 --> 01:43:41,640
however it's simply not necessary so

2072
01:43:36,720 --> 01:43:48,180
when we come through here this is just

2073
01:43:41,640 --> 01:43:50,789
not necessary when we go to place the

2074
01:43:48,180 --> 01:43:53,670
room we can simply talk about the

2075
01:43:50,789 --> 01:43:56,819
constraints on that room so we can

2076
01:43:53,670 --> 01:44:14,730
simply say look we're gonna start with

2077
01:43:56,819 --> 01:44:16,469
two volumes and what we really just need

2078
01:44:14,729 --> 01:44:17,849
to do here is go through the connections

2079
01:44:16,470 --> 01:44:24,060
and clip the volumes to those

2080
01:44:17,850 --> 01:44:28,740
connections right and we're just going

2081
01:44:24,060 --> 01:44:34,170
to permute how many of those we actually

2082
01:44:28,739 --> 01:44:36,689
want to do each time through so in this

2083
01:44:34,170 --> 01:44:39,239
case here we're gonna say alright the

2084
01:44:36,689 --> 01:44:42,899
minimum volume the minimum dimensions

2085
01:44:39,239 --> 01:44:49,309
for each of these along each of these I

2086
01:44:42,899 --> 01:44:49,309
don't know if I may actually want a

2087
01:44:51,890 --> 01:44:57,410
struct for this I'm not sure but I'm

2088
01:44:55,319 --> 01:44:59,819
gonna think I think that I probably do

2089
01:44:57,409 --> 01:45:01,619
so what we want to do is say here's the

2090
01:44:59,819 --> 01:45:06,210
minimum X and here's the maximum X

2091
01:45:01,619 --> 01:45:09,569
values that we are allowed to have and I

2092
01:45:06,210 --> 01:45:11,069
suppose that informs my Gen volume thing

2093
01:45:09,569 --> 01:45:13,849
a little bit actually now that I think

2094
01:45:11,069 --> 01:45:13,849
about it because

2095
01:45:18,788 --> 01:45:22,840
we could just make the Jen volume be

2096
01:45:21,309 --> 01:45:30,429
mins and maxes and then this would just

2097
01:45:22,840 --> 01:45:31,599
kind of work right and I think we

2098
01:45:30,429 --> 01:45:34,149
probably want to do that because then we

2099
01:45:31,599 --> 01:45:35,349
can make all of this be nice and the

2100
01:45:34,149 --> 01:45:38,679
reason I said is because if you think

2101
01:45:35,349 --> 01:45:40,328
about what happens X can't Y count Z

2102
01:45:38,679 --> 01:45:42,190
count those sort of things the problems

2103
01:45:40,328 --> 01:45:44,349
is when you start to talk about those

2104
01:45:42,189 --> 01:45:45,819
it's weird if they become negative which

2105
01:45:44,349 --> 01:45:46,779
is what would have to happen in cases

2106
01:45:45,819 --> 01:45:49,029
where you're talking about it's like

2107
01:45:46,779 --> 01:45:57,420
mins and maxes are a lot clearer to talk

2108
01:45:49,029 --> 01:45:57,420
about in those cases I should think so

2109
01:45:58,618 --> 01:46:06,210
let me just think this through a little

2110
01:46:00,698 --> 01:46:09,189
bit more I'll see how I want to do this

2111
01:46:06,210 --> 01:46:12,609
so in the police room context here

2112
01:46:09,189 --> 01:46:16,029
assuming that I have a connection what I

2113
01:46:12,609 --> 01:46:18,158
want to do is I then want to say for all

2114
01:46:16,029 --> 01:46:20,139
of the possible ways this thing can be

2115
01:46:18,158 --> 01:46:23,698
connected right

2116
01:46:20,139 --> 01:46:27,010
and I can just say there's a direction

2117
01:46:23,698 --> 01:46:30,578
we know there's six directions that we

2118
01:46:27,010 --> 01:46:32,739
can connect the thing you know and so

2119
01:46:30,578 --> 01:46:35,529
for each of those six directions I'm

2120
01:46:32,738 --> 01:46:39,549
just going to say you know if the mask

2121
01:46:35,529 --> 01:46:45,759
value works and so what that'll be is

2122
01:46:39,550 --> 01:46:50,710
like connection direction mask and you

2123
01:46:45,760 --> 01:46:54,090
know this sort of thing and I can make

2124
01:46:50,710 --> 01:46:54,090
that a utility function so it's clearer

2125
01:47:03,649 --> 01:47:13,409
something like that so if it can go in

2126
01:47:11,310 --> 01:47:34,860
that direction then we will try

2127
01:47:13,409 --> 01:47:41,670
constraining it and continuing no it's

2128
01:47:34,859 --> 01:47:46,380
going to be reference this here so

2129
01:47:41,670 --> 01:47:53,430
assuming that I can do that in this case

2130
01:47:46,380 --> 01:47:55,650
here you can sort of see I just want to

2131
01:47:53,430 --> 01:47:58,920
look and see if it's legal to go in that

2132
01:47:55,649 --> 01:48:10,079
direction and if it is then I need to do

2133
01:47:58,920 --> 01:48:11,789
some work here if not that I don't see

2134
01:48:10,079 --> 01:48:13,739
that second um

2135
01:48:11,789 --> 01:48:15,210
so assuming I can go in a direction what

2136
01:48:13,739 --> 01:48:18,149
I need to do once I know I can go in

2137
01:48:15,210 --> 01:48:22,470
that direction is clip the legal

2138
01:48:18,149 --> 01:48:26,939
possible places for the room to that

2139
01:48:22,470 --> 01:48:29,699
particular direction right and what that

2140
01:48:26,939 --> 01:48:33,359
means like I said is twofold

2141
01:48:29,699 --> 01:48:38,609
it means first of all the min and the

2142
01:48:33,359 --> 01:48:42,359
max of the direction in question

2143
01:48:38,609 --> 01:48:44,819
whatever the the dimension in question

2144
01:48:42,359 --> 01:48:47,099
is has to be clipped and this is you can

2145
01:48:44,819 --> 01:48:48,269
sort of see now why I'm saying I kind of

2146
01:48:47,100 --> 01:48:50,220
want my gen vine to be a little

2147
01:48:48,270 --> 01:48:53,660
different I think what I want to do here

2148
01:48:50,220 --> 01:48:53,659
is I want this to look more like this

2149
01:48:58,658 --> 01:49:03,288
because that way we can make this be

2150
01:49:01,488 --> 01:49:06,558
something that just happens a little bit

2151
01:49:03,288 --> 01:49:09,849
more automated with the mins and maxes

2152
01:49:06,559 --> 01:49:12,260
right but but we'll get to that second

2153
01:49:09,849 --> 01:49:14,000
so once we know a particular direction

2154
01:49:12,260 --> 01:49:17,440
we know that we want to set the mins and

2155
01:49:14,000 --> 01:49:20,149
maxes to line up with that particular

2156
01:49:17,439 --> 01:49:31,879
rooms thing furthermore I may actually

2157
01:49:20,149 --> 01:49:45,948
want to do it like this oh and you know

2158
01:49:31,880 --> 01:49:49,270
what else I could do here if we do

2159
01:49:45,948 --> 01:49:49,269
something a little bit creative here

2160
01:49:49,779 --> 01:49:57,009
right you can see how we can get

2161
01:49:53,809 --> 01:49:57,010
arbitrarily fancy

2162
01:50:07,500 --> 01:50:12,399
and so that allows us to have the volume

2163
01:50:09,970 --> 01:50:14,470
be pretty expressive there and I think

2164
01:50:12,399 --> 01:50:21,939
we probably want to look more like that

2165
01:50:14,470 --> 01:50:25,090
and less like the count XY thing hard to

2166
01:50:21,939 --> 01:50:26,679
say now because this is discrete we also

2167
01:50:25,090 --> 01:50:28,750
have to make that decision of does the

2168
01:50:26,680 --> 01:50:30,909
max is it inclusive of the max or

2169
01:50:28,750 --> 01:50:33,189
exclusive of the max my guess is we want

2170
01:50:30,909 --> 01:50:35,399
to be exclusive of the max so a min and

2171
01:50:33,189 --> 01:50:39,759
Max is the same value is actually a zero

2172
01:50:35,399 --> 01:50:40,989
sized room not a one unit sized room but

2173
01:50:39,760 --> 01:50:42,489
again that's something that will shake

2174
01:50:40,989 --> 01:50:44,409
out I just when you're starting to talk

2175
01:50:42,489 --> 01:50:46,059
about things like clipping clipping

2176
01:50:44,409 --> 01:50:48,189
becomes a real pain in the butt if you

2177
01:50:46,060 --> 01:50:49,330
usually have all these like ones in

2178
01:50:48,189 --> 01:50:52,179
there where you wouldn't normally want

2179
01:50:49,329 --> 01:50:53,949
them to be if you don't take some pains

2180
01:50:52,180 --> 01:50:56,289
to make sure that you say you're

2181
01:50:53,949 --> 01:50:58,720
exclusive of one of your dimensions one

2182
01:50:56,289 --> 01:51:00,510
of your direction one of your Maxima

2183
01:50:58,720 --> 01:51:06,100
either the the minimum or the maximum

2184
01:51:00,510 --> 01:51:08,860
what if your extremum put that way so

2185
01:51:06,100 --> 01:51:09,940
that seems pretty good so assuming that

2186
01:51:08,859 --> 01:51:12,219
we had a gem phoneme that looking more

2187
01:51:09,939 --> 01:51:13,839
like that instead of like this then this

2188
01:51:12,220 --> 01:51:15,909
can also be automated to a certain

2189
01:51:13,840 --> 01:51:18,100
degree here so that as you come through

2190
01:51:15,909 --> 01:51:20,529
the directions we can actually say

2191
01:51:18,100 --> 01:51:23,320
something more like oh yeah the number

2192
01:51:20,529 --> 01:51:26,439
of German let's actually talk about this

2193
01:51:23,319 --> 01:51:28,750
instead as like a dimension and we're

2194
01:51:26,439 --> 01:51:33,299
going to talk about three dimensions and

2195
01:51:28,750 --> 01:51:33,300
then we're gonna do min max or something

2196
01:51:38,890 --> 01:51:44,110
so we may be able to automate this a

2197
01:51:41,300 --> 01:51:44,110
little bit better right

2198
01:51:48,579 --> 01:51:51,819
who knows

2199
01:51:52,010 --> 01:51:56,390
but anyway regardless of how we do that

2200
01:51:54,380 --> 01:51:58,220
the process is still the same what I

2201
01:51:56,390 --> 01:52:00,860
want to do here is say that the volume

2202
01:51:58,220 --> 01:52:04,190
in which the room can now exist again

2203
01:52:00,859 --> 01:52:06,170
needs to be clipped further so what I

2204
01:52:04,189 --> 01:52:08,419
want to do is say all right once we know

2205
01:52:06,170 --> 01:52:11,659
what this is we know for the room that

2206
01:52:08,420 --> 01:52:13,909
we're talking about which is to say the

2207
01:52:11,659 --> 01:52:15,849
room the students or the room turn out

2208
01:52:13,909 --> 01:52:19,519
not the room we're placing but the room

2209
01:52:15,850 --> 01:52:22,550
whose connection were we care about we

2210
01:52:19,520 --> 01:52:30,740
know that if that room is currently

2211
01:52:22,550 --> 01:52:32,750
present that we have to clip to the

2212
01:52:30,739 --> 01:52:34,760
right so we want to do here is look and

2213
01:52:32,750 --> 01:52:36,680
see we want to do this exact process

2214
01:52:34,760 --> 01:52:38,900
that we're doing before where we get the

2215
01:52:36,680 --> 01:52:41,659
other room that exists there so I'm

2216
01:52:38,899 --> 01:52:48,769
gonna come through here and say 10 room

2217
01:52:41,659 --> 01:52:52,819
other room keep this moving get other

2218
01:52:48,770 --> 01:52:55,220
room connection so I know I in this room

2219
01:52:52,819 --> 01:52:57,319
I want to know what the other room is so

2220
01:52:55,220 --> 01:52:59,810
I'm going to get that other room if the

2221
01:52:57,319 --> 01:53:02,799
other room generation index equals the

2222
01:52:59,810 --> 01:53:05,539
generation index that were on which

2223
01:53:02,800 --> 01:53:08,180
actually since we mark ourselves as we

2224
01:53:05,539 --> 01:53:10,250
come through here right right here it's

2225
01:53:08,180 --> 01:53:13,070
just to say the same generation index

2226
01:53:10,250 --> 01:53:14,270
meaning I just want to know that the

2227
01:53:13,069 --> 01:53:15,889
other room is the same generation

2228
01:53:14,270 --> 01:53:18,170
indexes me that means it's been placed

2229
01:53:15,890 --> 01:53:19,970
if it hasn't been placed I don't care

2230
01:53:18,170 --> 01:53:21,230
about this connection because it it's

2231
01:53:19,970 --> 01:53:23,030
just not a room that we even know where

2232
01:53:21,229 --> 01:53:24,589
it is yet so we don't really have to

2233
01:53:23,029 --> 01:53:25,819
worry about it in some sense maybe if

2234
01:53:24,590 --> 01:53:27,199
we're looking algorithm would think

2235
01:53:25,819 --> 01:53:28,279
about whether or not it has extra rooms

2236
01:53:27,199 --> 01:53:29,359
it has to place and maybe do something

2237
01:53:28,279 --> 01:53:33,319
with them there but we're not gonna get

2238
01:53:29,359 --> 01:53:34,670
go down that route yet so if we know

2239
01:53:33,319 --> 01:53:36,019
that this other room is a room that we

2240
01:53:34,670 --> 01:53:38,390
actually have to deal with then what we

2241
01:53:36,020 --> 01:53:41,570
know is it's gonna have to clip up to

2242
01:53:38,390 --> 01:53:44,780
this room and we have six ways we can

2243
01:53:41,569 --> 01:53:47,210
clip it to sides in each of three

2244
01:53:44,779 --> 01:53:48,979
dimensions right now we only have to do

2245
01:53:47,210 --> 01:53:50,630
that if this connection was marked as

2246
01:53:48,979 --> 01:53:52,909
being legal in any of those directions

2247
01:53:50,630 --> 01:54:01,039
so that's a help certainly

2248
01:53:52,909 --> 01:54:02,869
but what we want to do is once we get

2249
01:54:01,039 --> 01:54:05,149
down here and know that we do want to

2250
01:54:02,869 --> 01:54:07,340
clip we need to clip that portion of it

2251
01:54:05,149 --> 01:54:09,500
so let's say that we're talking about

2252
01:54:07,340 --> 01:54:11,690
the zero dimension which is X and we're

2253
01:54:09,500 --> 01:54:14,510
talking about the zero side which is min

2254
01:54:11,689 --> 01:54:28,069
right that's what I wrote down here

2255
01:54:14,510 --> 01:54:32,180
right this is right I so when we're

2256
01:54:28,069 --> 01:54:34,519
talking about the min side when we're

2257
01:54:32,180 --> 01:54:37,070
connecting to that side

2258
01:54:34,520 --> 01:54:39,320
we know that that means the maximum of

2259
01:54:37,069 --> 01:54:42,549
this route of the room we're trying to

2260
01:54:39,319 --> 01:54:47,899
place the volume in which it's legal

2261
01:54:42,550 --> 01:54:53,600
cannot exceed that minimum right so we

2262
01:54:47,899 --> 01:54:56,869
have to do a clip operation here where

2263
01:54:53,600 --> 01:54:58,520
we say if the in vol that we're talking

2264
01:54:56,869 --> 01:55:00,649
about here and and I guess we should

2265
01:54:58,520 --> 01:55:13,450
like I said we want to sort of generate

2266
01:55:00,649 --> 01:55:13,449
a new one here if the new volumes

2267
01:55:14,260 --> 01:55:23,000
maximum in the dimension we're talking

2268
01:55:17,659 --> 01:55:27,010
about exceeds for some reason the

2269
01:55:23,000 --> 01:55:31,659
minimum for any reason the minimum of

2270
01:55:27,010 --> 01:55:31,659
the dimension of the room or clipping to

2271
01:55:32,260 --> 01:55:39,890
right so the thing we're placing it's

2272
01:55:37,159 --> 01:55:46,069
got to stop at that minimum so let's

2273
01:55:39,890 --> 01:55:48,980
just clip it like so and now we know

2274
01:55:46,069 --> 01:55:51,219
that volume is is done right it's been

2275
01:55:48,979 --> 01:55:51,219
clipped

2276
01:55:56,600 --> 01:56:01,469
now we can short-circuit this process as

2277
01:55:59,219 --> 01:56:03,960
well by making sure we don't continue

2278
01:56:01,469 --> 01:56:08,069
down a road when we don't have any

2279
01:56:03,960 --> 01:56:10,408
volume left we could also make this

2280
01:56:08,069 --> 01:56:12,689
simpler by saying look we don't allow

2281
01:56:10,408 --> 01:56:15,839
rooms smaller than four by four or

2282
01:56:12,689 --> 01:56:20,279
something anyway four by four by one so

2283
01:56:15,840 --> 01:56:23,449
we could say more is minimum volume for

2284
01:56:20,279 --> 01:56:23,448
a room right

2285
01:56:24,529 --> 01:56:29,099
something like that

2286
01:56:26,670 --> 01:56:31,020
and so that could just say look if we

2287
01:56:29,100 --> 01:56:32,850
end up in a situation where this thing

2288
01:56:31,020 --> 01:56:38,219
is just too small then we're just not

2289
01:56:32,850 --> 01:56:44,039
going to do it right so here we just say

2290
01:56:38,219 --> 01:56:47,908
the result is well the new volume mid

2291
01:56:44,039 --> 01:56:50,069
max X minus the new volume in X right

2292
01:56:47,908 --> 01:56:51,569
something like that the difference

2293
01:56:50,069 --> 01:56:53,219
between these two things has to be

2294
01:56:51,569 --> 01:57:08,840
greater than or equal to four or

2295
01:56:53,219 --> 01:57:08,840
something another those attractiveness

2296
01:57:12,479 --> 01:57:21,609
so we can just say look if it's not at

2297
01:57:18,609 --> 01:57:25,509
least one high and 4x4 wide then it's

2298
01:57:21,609 --> 01:57:36,599
just not you know a room we are going to

2299
01:57:25,510 --> 01:57:41,130
allow right and that's fine so off we go

2300
01:57:36,600 --> 01:57:41,130
don't ask me why this for Nexus they are

2301
01:57:43,770 --> 01:57:50,170
so now we lift your okay we clip the

2302
01:57:47,199 --> 01:57:53,050
room to it and then we also need to make

2303
01:57:50,170 --> 01:57:55,989
sure that the room understands that the

2304
01:57:53,050 --> 01:57:57,250
opposite thing is also true so this was

2305
01:57:55,989 --> 01:57:58,599
the part I wanted to get to to see

2306
01:57:57,250 --> 01:57:59,770
whether we need additional information

2307
01:57:58,600 --> 01:58:00,910
in here because I wasn't quite being

2308
01:57:59,770 --> 01:58:02,650
able to think it through probably

2309
01:58:00,909 --> 01:58:06,220
because uh talking coding at the same

2310
01:58:02,649 --> 01:58:08,460
time is somewhat difficult but what I

2311
01:58:06,220 --> 01:58:12,400
wanted you there is just say okay look

2312
01:58:08,460 --> 01:58:14,079
if I have a room and I'm saying that

2313
01:58:12,399 --> 01:58:16,569
this is the site I'm going to try a

2314
01:58:14,079 --> 01:58:20,649
connection on what I want to do is say

2315
01:58:16,569 --> 01:58:23,979
well the legal volume for this here it

2316
01:58:20,649 --> 01:58:29,369
had better in it had better know that it

2317
01:58:23,979 --> 01:58:32,619
can't go below here or or it can't go

2318
01:58:29,369 --> 01:58:36,489
the minimum can't go past here and the

2319
01:58:32,619 --> 01:58:46,710
maximum can't go past here further down

2320
01:58:36,489 --> 01:58:46,710
the line right and so I think that's

2321
01:58:54,369 --> 01:58:59,899
like I said I think that just requires

2322
01:58:57,140 --> 01:59:03,020
an interval I think that requires for

2323
01:58:59,899 --> 01:59:07,429
each of them having a min and a max for

2324
01:59:03,020 --> 01:59:09,490
the entire volume right meaning once I

2325
01:59:07,430 --> 01:59:13,100
have to say that the maximum has to be

2326
01:59:09,489 --> 01:59:17,929
can't go below this other value I think

2327
01:59:13,100 --> 01:59:20,600
I just have to do that there's really no

2328
01:59:17,930 --> 01:59:24,130
other way to record it right so this is

2329
01:59:20,600 --> 01:59:28,520
fine for that first part which is to say

2330
01:59:24,130 --> 01:59:31,310
clip the room to being above here but

2331
01:59:28,520 --> 01:59:35,150
that's not sufficient for the rest of

2332
01:59:31,310 --> 01:59:41,180
the process right so if we have this gen

2333
01:59:35,149 --> 01:59:50,979
volume we need to effectively pass two

2334
01:59:41,180 --> 01:59:50,980
of these I think

2335
01:59:52,939 --> 01:59:57,509
so there has to be a min vault in a max

2336
01:59:55,319 --> 01:59:58,829
wall and the min vol and the Maxwell are

2337
01:59:57,510 --> 02:00:02,820
based is saying what are the minimum

2338
01:59:58,829 --> 02:00:05,220
values and maximum values of the actual

2339
02:00:02,819 --> 02:00:06,779
volume itself which itself is minimum

2340
02:00:05,220 --> 02:00:12,570
max I guess but we need essentially

2341
02:00:06,779 --> 02:00:14,699
regions for each of them right and so

2342
02:00:12,569 --> 02:00:17,969
what we could say instead is what is the

2343
02:00:14,699 --> 02:00:20,039
volume of space that the min can occupy

2344
02:00:17,970 --> 02:00:23,190
and what is the volume of space that the

2345
02:00:20,039 --> 02:00:25,859
maximum can occupy right and we can do

2346
02:00:23,189 --> 02:00:27,509
that which is a little it's I know it's

2347
02:00:25,859 --> 02:00:30,119
a little confusing but I think we can

2348
02:00:27,510 --> 02:00:43,710
just do that and that's all we need to

2349
02:00:30,119 --> 02:00:45,210
do so in this case what we would say and

2350
02:00:43,710 --> 02:00:46,980
we have to be careful about how we name

2351
02:00:45,210 --> 02:00:48,300
these because again we have to actually

2352
02:00:46,979 --> 02:00:50,369
think it through what we actually mean

2353
02:00:48,300 --> 02:00:52,560
by them but assuming we say that the

2354
02:00:50,369 --> 02:00:54,269
minimum volume is where we want the

2355
02:00:52,560 --> 02:00:56,640
minimum to go and the maximum volume is

2356
02:00:54,270 --> 02:00:58,170
where we want the maximum to go I think

2357
02:00:56,640 --> 02:01:00,750
we can just say it that way and that's

2358
02:00:58,170 --> 02:01:02,670
fine so meaning the maximum value we end

2359
02:01:00,750 --> 02:01:10,489
up using has to go in between min and

2360
02:01:02,670 --> 02:01:10,489
Max of the max volume right okay

2361
02:01:14,760 --> 02:01:22,260
so then what we need to do is we need to

2362
02:01:16,960 --> 02:01:22,260
do this on both of them

2363
02:01:27,060 --> 02:01:34,300
so both the min and the max volume must

2364
02:01:30,699 --> 02:01:39,819
be clipped nothing can go beyond these

2365
02:01:34,300 --> 02:01:42,310
values now right they have to stop so

2366
02:01:39,819 --> 02:01:45,579
the maximum value of both the min and

2367
02:01:42,310 --> 02:01:46,570
the max cannot go beyond the room in the

2368
02:01:45,579 --> 02:01:53,050
one we're talking about

2369
02:01:46,569 --> 02:01:55,420
then we must further clip the min and

2370
02:01:53,050 --> 02:01:59,070
the max more specifically each of them

2371
02:01:55,420 --> 02:02:01,569
very carefully so now instead of

2372
02:01:59,069 --> 02:02:02,829
comparing them to the same value we will

2373
02:02:01,569 --> 02:02:05,889
actually compare them to different

2374
02:02:02,829 --> 02:02:08,949
values so the minimum volume is the

2375
02:02:05,890 --> 02:02:12,039
place where the min can go we know that

2376
02:02:08,949 --> 02:02:19,359
the min is now no longer allowed to go

2377
02:02:12,039 --> 02:02:23,340
past the maximum volume value of this

2378
02:02:19,359 --> 02:02:23,339
guy possibly with an apron right

2379
02:02:23,369 --> 02:02:28,739
possibly so there might be some you know

2380
02:02:42,479 --> 02:02:49,539
so we probably need to leave space for

2381
02:02:45,699 --> 02:02:51,369
walls right if I guess what I'm saying

2382
02:02:49,539 --> 02:02:55,119
and so we can't in fact you know we can

2383
02:02:51,369 --> 02:02:57,579
just do it you know there's a there sort

2384
02:02:55,119 --> 02:03:00,789
of like a interior apron I guess you

2385
02:02:57,579 --> 02:03:03,519
would say and we could just say look you

2386
02:03:00,789 --> 02:03:05,739
can't any connection has to be at least

2387
02:03:03,520 --> 02:03:07,810
two in from the outside or something

2388
02:03:05,739 --> 02:03:15,550
right like that's just what we're saying

2389
02:03:07,810 --> 02:03:19,780
or even just one right so if by chance

2390
02:03:15,550 --> 02:03:23,800
the maximum value here has exceeded you

2391
02:03:19,779 --> 02:03:24,729
know the interior apron right you know

2392
02:03:23,800 --> 02:03:27,820
you've got a problem or something with

2393
02:03:24,729 --> 02:03:29,769
that okay so let's just talk about what

2394
02:03:27,819 --> 02:03:33,609
this has to mean so for this connection

2395
02:03:29,770 --> 02:03:42,730
again we these are not the correct it's

2396
02:03:33,609 --> 02:03:43,689
not these it's not dim sisterly but we

2397
02:03:42,729 --> 02:03:46,379
know we're going to be looking at things

2398
02:03:43,689 --> 02:03:46,379
that look like this

2399
02:04:09,189 --> 02:04:13,759
so what you can see here is right I

2400
02:04:12,649 --> 02:04:19,009
would just be setting up saying that

2401
02:04:13,760 --> 02:04:20,360
says the minimum value cannot go past

2402
02:04:19,010 --> 02:04:22,280
the place where I would have been able

2403
02:04:20,359 --> 02:04:24,949
to make a connection and the maximum

2404
02:04:22,279 --> 02:04:25,819
value cannot underflow the place where I

2405
02:04:24,949 --> 02:04:32,539
would have been able to make a

2406
02:04:25,819 --> 02:04:34,069
connection and I can if I want to be a

2407
02:04:32,539 --> 02:04:39,710
little bit more specific about how this

2408
02:04:34,069 --> 02:04:44,710
is going right so when we talk about the

2409
02:04:39,710 --> 02:04:48,289
sidedness here again that's actually

2410
02:04:44,710 --> 02:04:50,859
something that we have to obey because

2411
02:04:48,289 --> 02:04:54,430
these will go the opposite way we will

2412
02:04:50,859 --> 02:04:57,979
do the opposite of these two things

2413
02:04:54,430 --> 02:05:02,860
based on the side right so I'm really

2414
02:04:57,979 --> 02:05:05,989
gonna need to talk about dim brackets

2415
02:05:02,859 --> 02:05:07,460
like that the sense of this operation

2416
02:05:05,989 --> 02:05:09,679
has to switch depending on which side

2417
02:05:07,460 --> 02:05:10,970
we're talking about and I don't know if

2418
02:05:09,680 --> 02:05:15,440
I'll be able to quite drive that

2419
02:05:10,970 --> 02:05:17,659
entirely based off of the based off of

2420
02:05:15,439 --> 02:05:21,769
the index or not but yeah it's a little

2421
02:05:17,659 --> 02:05:24,439
bit nasty but that's what I have to do

2422
02:05:21,770 --> 02:05:25,850
right and then when I come down here I'm

2423
02:05:24,439 --> 02:05:28,339
going to have to do this for the other

2424
02:05:25,850 --> 02:05:31,370
dimensions the one that we didn't do

2425
02:05:28,340 --> 02:05:32,840
this operation on right so this

2426
02:05:31,369 --> 02:05:34,970
operation is done on the actual

2427
02:05:32,840 --> 02:05:37,789
dimension this one is effectively done

2428
02:05:34,970 --> 02:05:39,860
on the other dimensions right it's what

2429
02:05:37,789 --> 02:05:43,420
we're going to do here and so

2430
02:05:39,859 --> 02:05:43,420
essentially there's like an other gym

2431
02:05:50,739 --> 02:06:18,649
happening here so we don't do it in the

2432
02:06:10,579 --> 02:06:20,539
case where we are the dimension that

2433
02:06:18,649 --> 02:06:22,009
we're trying to do the connection on and

2434
02:06:20,539 --> 02:06:24,920
the reason for that is because that one

2435
02:06:22,010 --> 02:06:27,530
actually gets clipped we do do it on all

2436
02:06:24,920 --> 02:06:30,079
the rest of them because now we know

2437
02:06:27,529 --> 02:06:32,840
that we have to fit that aperture which

2438
02:06:30,079 --> 02:06:34,100
is how whatever the sort of facing side

2439
02:06:32,840 --> 02:06:37,340
of the room is that we're trying to

2440
02:06:34,100 --> 02:06:39,460
connect to we've got to keep our room so

2441
02:06:37,340 --> 02:06:42,350
that it can touch it right and

2442
02:06:39,460 --> 02:06:45,350
furthermore we probably have more work

2443
02:06:42,350 --> 02:06:47,480
to do there we'll think about that a

2444
02:06:45,350 --> 02:06:49,640
little bit later but it may be the case

2445
02:06:47,479 --> 02:06:51,949
that Z always has to be handled

2446
02:06:49,640 --> 02:06:56,539
specially because maybe we can't really

2447
02:06:51,949 --> 02:06:59,029
you know if two rooms abut like this we

2448
02:06:56,539 --> 02:07:01,340
may not have stairs and stuff that do

2449
02:06:59,029 --> 02:07:02,809
whatever that is so we may not be able

2450
02:07:01,340 --> 02:07:04,190
to create cracks like that it may be

2451
02:07:02,810 --> 02:07:07,940
that if Q things connect on the side

2452
02:07:04,189 --> 02:07:11,210
there's Z minimums have to coincide like

2453
02:07:07,939 --> 02:07:12,919
that just has to happen so there may be

2454
02:07:11,210 --> 02:07:14,899
a lot less flexibility in terms of

2455
02:07:12,920 --> 02:07:18,409
placing rooms if there is a room that's

2456
02:07:14,899 --> 02:07:20,149
high maybe we never have rooms that are

2457
02:07:18,409 --> 02:07:22,970
high and it doesn't matter but if we do

2458
02:07:20,149 --> 02:07:23,269
then that's you know something to think

2459
02:07:22,970 --> 02:07:29,630
about

2460
02:07:23,270 --> 02:07:32,060
I so this part now needs to get worked

2461
02:07:29,630 --> 02:07:38,869
out so in the case where we're talking

2462
02:07:32,060 --> 02:07:40,520
about the in the case where we're

2463
02:07:38,869 --> 02:07:42,949
talking about the minimum sign of

2464
02:07:40,520 --> 02:07:44,210
something then we know that this is the

2465
02:07:42,949 --> 02:07:46,189
value that we're using but if we're

2466
02:07:44,210 --> 02:07:48,590
talking about the maximum side then we

2467
02:07:46,189 --> 02:07:50,509
have to do the opposite clip so really

2468
02:07:48,590 --> 02:07:54,819
what we're talking about here is two

2469
02:07:50,510 --> 02:07:54,820
different ways of doing this check

2470
02:07:59,380 --> 02:08:03,310
and so in the case where we're talking

2471
02:08:01,149 --> 02:08:04,539
about side zero that's what we want here

2472
02:08:03,310 --> 02:08:08,410
in the case where we're talking about

2473
02:08:04,539 --> 02:08:10,329
that side one we actually want this and

2474
02:08:08,409 --> 02:08:18,340
in this case again it's it's the

2475
02:08:10,329 --> 02:08:22,449
opposite sense of the check right so if

2476
02:08:18,340 --> 02:08:25,420
we were clipping to the far side Master

2477
02:08:22,449 --> 02:08:31,149
and Commander style then we need to sort

2478
02:08:25,420 --> 02:08:33,159
of say let's let's clip to the max that

2479
02:08:31,149 --> 02:08:34,989
of the men and of course we're clipping

2480
02:08:33,159 --> 02:08:36,670
the min so we're moving the min up so

2481
02:08:34,989 --> 02:08:38,529
that it's got to be past the max of the

2482
02:08:36,670 --> 02:08:41,020
other room that we're clipping depending

2483
02:08:38,529 --> 02:08:43,090
on which of the sightedness once we do

2484
02:08:41,020 --> 02:08:50,650
there once we do that then we can

2485
02:08:43,090 --> 02:08:53,079
continue to place the room and and so in

2486
02:08:50,649 --> 02:08:56,199
here again yeah we sort of have the min

2487
02:08:53,079 --> 02:08:59,140
and the max are starting out being

2488
02:08:56,199 --> 02:09:02,529
allowed to be anywhere they want to so

2489
02:08:59,140 --> 02:09:07,030
this is an infinity volume it just

2490
02:09:02,529 --> 02:09:13,479
contains everything and then and in fact

2491
02:09:07,029 --> 02:09:16,899
I suppose we can simplify that procedure

2492
02:09:13,479 --> 02:09:19,079
a little bit and then we can go from

2493
02:09:16,899 --> 02:09:19,079
there

2494
02:09:21,000 --> 02:09:25,739
so once we have

2495
02:09:29,569 --> 02:09:34,488
one of these working we can just say all

2496
02:09:32,578 --> 02:09:40,460
right the MINIX

2497
02:09:34,488 --> 02:09:44,189
and the min Y and the Minzy all of those

2498
02:09:40,460 --> 02:09:51,389
will just be equal to x3 2's 32 min and

2499
02:09:44,189 --> 02:09:53,609
all of these are Sri max so the infinity

2500
02:09:51,389 --> 02:09:55,199
volume just contains everything you

2501
02:09:53,609 --> 02:10:05,759
could go as far as you want in either

2502
02:09:55,198 --> 02:10:13,408
direction and then we can do that clip

2503
02:10:05,760 --> 02:10:17,810
volume there and I'm not sure exactly

2504
02:10:13,408 --> 02:10:17,809
how we want to do that

2505
02:10:30,460 --> 02:10:51,600
maybe we just returned a volume I'm not

2506
02:10:44,500 --> 02:10:51,600
sure I don't think we're gonna do that

2507
02:10:53,279 --> 02:10:57,389
I'm gonna leave this place room for now

2508
02:11:00,539 --> 02:11:08,220
we'll probably change it later but I'm

2509
02:11:02,500 --> 02:11:12,840
gonna leave it that way for now but so

2510
02:11:08,220 --> 02:11:12,840
I'm also gonna just pass pointers here

2511
02:11:18,810 --> 02:11:28,480
let's keep going behind my head fine

2512
02:11:20,949 --> 02:11:31,029
I'll just go over here okay and so when

2513
02:11:28,479 --> 02:11:32,679
I pass down those two sort of room

2514
02:11:31,029 --> 02:11:34,329
interval areas that sort of figure out

2515
02:11:32,680 --> 02:11:35,800
where I could go I assume all this stuff

2516
02:11:34,329 --> 02:11:37,869
you know we've gotta have to debug that

2517
02:11:35,800 --> 02:11:41,190
and make sure that it actually works but

2518
02:11:37,869 --> 02:11:43,840
then once I'm done with that then we can

2519
02:11:41,189 --> 02:11:45,969
know that we've got the completely clip

2520
02:11:43,840 --> 02:11:47,710
thing and off we go

2521
02:11:45,970 --> 02:11:53,260
what we're gonna be able to do at that

2522
02:11:47,710 --> 02:11:57,119
point is just say well once we get down

2523
02:11:53,260 --> 02:12:01,300
here we know we finally had a way to

2524
02:11:57,119 --> 02:12:07,300
possibly place this room so what we can

2525
02:12:01,300 --> 02:12:10,449
now do is say and doing this clip here

2526
02:12:07,300 --> 02:12:14,770
this is a little bit hard what we want

2527
02:12:10,449 --> 02:12:18,149
to be able to do is say if we were to

2528
02:12:14,770 --> 02:12:20,650
create a volume from the min and Max

2529
02:12:18,149 --> 02:12:22,929
what would it end up being so we need to

2530
02:12:20,649 --> 02:12:26,339
basically say like something in here if

2531
02:12:22,930 --> 02:12:26,340
it's of the form

2532
02:12:30,130 --> 02:12:46,130
[Music]

2533
02:12:32,800 --> 02:12:48,860
get maximum volume for and so when we go

2534
02:12:46,130 --> 02:12:50,270
to do the room placement thing what

2535
02:12:48,859 --> 02:12:53,509
we're going to do is say look for this

2536
02:12:50,270 --> 02:12:56,300
test volume here this is the maximum

2537
02:12:53,510 --> 02:13:01,119
volume you can have so far given what

2538
02:12:56,300 --> 02:13:01,119
we've got and we'll go from there

2539
02:13:19,380 --> 02:13:23,599
trying to think of how

2540
02:13:36,829 --> 02:13:43,159
we're gonna play with this a little bit

2541
02:13:40,409 --> 02:13:48,000
[Music]

2542
02:13:43,159 --> 02:13:49,949
yeah all right anyway hmm when we do get

2543
02:13:48,000 --> 02:13:51,270
maximum volume for here we're gonna say

2544
02:13:49,949 --> 02:13:52,710
like all right here's the places where

2545
02:13:51,270 --> 02:13:54,300
the minimum can be here's places where

2546
02:13:52,710 --> 02:13:56,369
the maximum be what's the biggest room

2547
02:13:54,300 --> 02:13:59,970
we could do and then we're gonna say all

2548
02:13:56,369 --> 02:14:02,340
right if the biggest room we can do is

2549
02:13:59,970 --> 02:14:03,600
still too small this is a dead end we're

2550
02:14:02,340 --> 02:14:04,890
not gonna be able to place of volume so

2551
02:14:03,600 --> 02:14:07,829
just stop

2552
02:14:04,890 --> 02:14:09,420
if it is big enough keep going and then

2553
02:14:07,829 --> 02:14:10,680
finally we'll get down to the place

2554
02:14:09,420 --> 02:14:12,480
where we're like oh hey we've got no

2555
02:14:10,680 --> 02:14:13,980
connections left we have room for we

2556
02:14:12,479 --> 02:14:15,899
have what we could place three minutes

2557
02:14:13,979 --> 02:14:17,369
let's place the room all right so when

2558
02:14:15,899 --> 02:14:20,670
we do minimum directions room I realized

2559
02:14:17,369 --> 02:14:24,630
too that this is not quite right if this

2560
02:14:20,670 --> 02:14:27,180
was zero and this was zero you would end

2561
02:14:24,630 --> 02:14:29,819
up with absorbing shows right let's say

2562
02:14:27,180 --> 02:14:33,000
that it was on zero and that was on 4

2563
02:14:29,819 --> 02:14:34,979
that's 0 1 2 3 that's 4 10 minutes or so

2564
02:14:33,000 --> 02:14:38,699
that okay so that's fine so this would

2565
02:14:34,979 --> 02:14:40,589
all be correct so now I need to actually

2566
02:14:38,699 --> 02:14:45,809
implement this function to get maximum

2567
02:14:40,590 --> 02:14:47,340
volume 4 and I think I'm only gonna

2568
02:14:45,810 --> 02:14:54,930
really use that in the early out case

2569
02:14:47,340 --> 02:14:57,090
but we'll see in a second so if I know

2570
02:14:54,930 --> 02:14:58,920
the min has to can go anywhere in the

2571
02:14:57,090 --> 02:15:01,500
min and the max can go anywhere in the

2572
02:14:58,920 --> 02:15:03,659
max then making the biggest volume is

2573
02:15:01,500 --> 02:15:05,909
actually really easy it's really easy

2574
02:15:03,659 --> 02:15:08,069
because that means that well I just want

2575
02:15:05,909 --> 02:15:10,319
to pick the most minimum minimum and the

2576
02:15:08,069 --> 02:15:12,569
most maximum maximum and that will be

2577
02:15:10,319 --> 02:15:17,880
the biggest volume right so the min X

2578
02:15:12,569 --> 02:15:19,859
should come from the min X the min Y

2579
02:15:17,880 --> 02:15:25,319
from the min Y and the Minzy from the

2580
02:15:19,859 --> 02:15:30,899
Minzy and the same is true of the max I

2581
02:15:25,319 --> 02:15:35,039
just take the maximum oops from the max

2582
02:15:30,899 --> 02:15:37,619
volume and there we go and that's the

2583
02:15:35,039 --> 02:15:39,899
biggest volume that I could have right

2584
02:15:37,619 --> 02:15:41,939
and if that volume the biggest possible

2585
02:15:39,899 --> 02:15:44,250
volume that I could possibly have if

2586
02:15:41,939 --> 02:15:46,529
that is not big enough to make a room we

2587
02:15:44,250 --> 02:15:49,619
know we failed if it is we know we can

2588
02:15:46,529 --> 02:15:50,500
place a room there right now the problem

2589
02:15:49,619 --> 02:15:52,899
is we

2590
02:15:50,500 --> 02:15:55,750
want to go placing a room in the entire

2591
02:15:52,899 --> 02:15:58,899
volume why because that volume may be

2592
02:15:55,750 --> 02:16:00,520
the whole entire space right let's say

2593
02:15:58,899 --> 02:16:02,439
we're talking about the first room well

2594
02:16:00,520 --> 02:16:04,930
there's nothing to clip so the first

2595
02:16:02,439 --> 02:16:07,449
room will be the whole space the second

2596
02:16:04,930 --> 02:16:09,490
room will be half the whole space

2597
02:16:07,449 --> 02:16:11,949
because the only place that we can't use

2598
02:16:09,489 --> 02:16:14,649
is the place that like one side of the

2599
02:16:11,949 --> 02:16:17,019
other room clipped right so we place a

2600
02:16:14,649 --> 02:16:18,489
giant room right and we don't want to do

2601
02:16:17,020 --> 02:16:22,270
that we want to place rooms that are

2602
02:16:18,489 --> 02:16:24,609
only as big as reasonably necessary for

2603
02:16:22,270 --> 02:16:26,170
what that room is supposed to do so

2604
02:16:24,609 --> 02:16:27,819
we'll probably have some information

2605
02:16:26,170 --> 02:16:30,100
coming from the room spec a little later

2606
02:16:27,819 --> 02:16:32,260
on that lets us know how room big this

2607
02:16:30,100 --> 02:16:33,880
room wants to be in general we'll use

2608
02:16:32,260 --> 02:16:37,450
that for now what we want to do is say

2609
02:16:33,879 --> 02:16:42,609
look place a room in the maximum volume

2610
02:16:37,450 --> 02:16:45,460
if the maximum volume is too big let's

2611
02:16:42,610 --> 02:16:51,819
shrink it down right so that's sort of

2612
02:16:45,459 --> 02:16:54,339
what we want to do all right but it's

2613
02:16:51,819 --> 02:16:56,739
not as easy as it sounds because we know

2614
02:16:54,340 --> 02:16:58,840
that the min and the max volumes have to

2615
02:16:56,739 --> 02:17:02,260
exist inside an integral so we can't

2616
02:16:58,840 --> 02:17:04,989
just change them arbitrarily what we

2617
02:17:02,260 --> 02:17:06,969
want to do here is we want to go through

2618
02:17:04,989 --> 02:17:08,619
those intervals and say okay we know the

2619
02:17:06,968 --> 02:17:11,079
min can be between here and here we know

2620
02:17:08,620 --> 02:17:13,360
the max can be between here and here so

2621
02:17:11,079 --> 02:17:16,090
as long as we're picking legal values in

2622
02:17:13,360 --> 02:17:19,510
there let's figure out what we can

2623
02:17:16,090 --> 02:17:21,340
actually use and so like I said it gets

2624
02:17:19,510 --> 02:17:23,469
a little bit harder then because what we

2625
02:17:21,340 --> 02:17:26,049
want to do is shrink the min and the max

2626
02:17:23,468 --> 02:17:28,329
down to a size that's reasonable without

2627
02:17:26,049 --> 02:17:32,409
allowing either of them to go past where

2628
02:17:28,329 --> 02:17:34,479
they would ordinarily be where they're

2629
02:17:32,409 --> 02:17:37,539
sort of boundaries would prevent them

2630
02:17:34,479 --> 02:17:40,299
from going and so we don't really know

2631
02:17:37,540 --> 02:17:44,889
offhand what the right way to select

2632
02:17:40,299 --> 02:17:48,718
that value is but we can sort of start

2633
02:17:44,888 --> 02:17:48,718
to figure it out right

2634
02:17:54,179 --> 02:18:11,579
we know how should I put this so we know

2635
02:18:05,530 --> 02:18:11,579
that we can try some different locations

2636
02:18:12,058 --> 02:18:22,409
that we have I'm going to draw up the

2637
02:18:18,340 --> 02:18:22,409
cases here these are

2638
02:18:36,750 --> 02:18:41,968
so let's suppose that we have min and

2639
02:18:39,659 --> 02:18:45,478
Max intervals that say where are min and

2640
02:18:41,968 --> 02:18:47,459
Max values can be if we have already

2641
02:18:45,478 --> 02:18:49,528
determined that this is a legal way of

2642
02:18:47,459 --> 02:18:51,839
placing your room then there is one

2643
02:18:49,529 --> 02:18:55,950
thing that we are sure of and that is

2644
02:18:51,840 --> 02:18:59,969
that the minimum minimum is less than

2645
02:18:55,950 --> 02:19:02,460
the maximum maximum why because if it

2646
02:18:59,968 --> 02:19:05,339
wasn't there would be no volume in this

2647
02:19:02,459 --> 02:19:07,589
volume at all meaning if I have an

2648
02:19:05,340 --> 02:19:08,849
interval that contains the minimum and I

2649
02:19:07,590 --> 02:19:10,889
have an interval that contains the

2650
02:19:08,849 --> 02:19:13,170
maximum it had better look like this

2651
02:19:10,888 --> 02:19:15,329
because even if they're overlapping it

2652
02:19:13,170 --> 02:19:17,700
still better look like this because this

2653
02:19:15,329 --> 02:19:21,779
part and this part cannot cross if they

2654
02:19:17,700 --> 02:19:23,849
do there is no range at all so I know

2655
02:19:21,779 --> 02:19:26,750
that I'm fundamentally looking at either

2656
02:19:23,849 --> 02:19:31,109
something that looks like this

2657
02:19:26,750 --> 02:19:32,579
something that looks like this or

2658
02:19:31,109 --> 02:19:39,510
something that looks like this where

2659
02:19:32,579 --> 02:19:43,129
they're just coincident right so in the

2660
02:19:39,510 --> 02:19:46,500
case where these things are coincident

2661
02:19:43,129 --> 02:19:47,728
then it's pretty simple any answer is

2662
02:19:46,500 --> 02:19:50,340
okay right

2663
02:19:47,728 --> 02:19:52,260
I can pick the center I can pick the

2664
02:19:50,340 --> 02:19:54,630
side I can pick this side doesn't matter

2665
02:19:52,260 --> 02:19:56,818
any answer is okay if I just want to

2666
02:19:54,629 --> 02:19:59,670
make a smaller thing inside that

2667
02:19:56,818 --> 02:20:01,769
interval I'm done right but in these

2668
02:19:59,670 --> 02:20:03,719
other cases it's a little bit harder why

2669
02:20:01,770 --> 02:20:05,189
is it a little bit harder well because

2670
02:20:03,719 --> 02:20:07,858
when I go to pick the length of this

2671
02:20:05,189 --> 02:20:09,329
thing if the length of this thing you

2672
02:20:07,859 --> 02:20:11,399
know looks like that that's how big I

2673
02:20:09,329 --> 02:20:15,840
want it to be well that is not a legal

2674
02:20:11,398 --> 02:20:18,778
place to put it but that is right so we

2675
02:20:15,840 --> 02:20:20,370
have to pay more attention to where we

2676
02:20:18,779 --> 02:20:23,250
place the thing that we're trying to

2677
02:20:20,370 --> 02:20:25,979
place in order to make sure that when we

2678
02:20:23,250 --> 02:20:27,689
restrict its length right we don't

2679
02:20:25,978 --> 02:20:31,108
restrict its length in a way that makes

2680
02:20:27,689 --> 02:20:36,720
it impossible for it to actually still

2681
02:20:31,109 --> 02:20:37,790
satisfy its constraints okay so let's

2682
02:20:36,719 --> 02:20:40,079
think about how that's gonna happen

2683
02:20:37,790 --> 02:20:44,930
what's gonna happen here is we're going

2684
02:20:40,079 --> 02:20:46,109
to be passing in essentially a max size

2685
02:20:44,930 --> 02:20:48,359
okay

2686
02:20:46,109 --> 02:20:49,850
and that max size is going to be the

2687
02:20:48,359 --> 02:20:54,170
size of the thing that

2688
02:20:49,850 --> 02:20:57,079
trying to to put in here now we can

2689
02:20:54,170 --> 02:20:59,689
detect these cases by looking to see

2690
02:20:57,079 --> 02:21:05,059
whether or not there are gaps in between

2691
02:20:59,689 --> 02:21:08,029
these things right and what we can do is

2692
02:21:05,059 --> 02:21:11,090
we can have different strategies for how

2693
02:21:08,029 --> 02:21:12,290
we want to align them so for example one

2694
02:21:11,090 --> 02:21:15,170
way we could do this that would be

2695
02:21:12,290 --> 02:21:17,239
pretty cheesy but would work and maybe

2696
02:21:15,170 --> 02:21:18,500
isn't exactly how we would want to do it

2697
02:21:17,238 --> 02:21:21,829
but I don't know maybe it is

2698
02:21:18,500 --> 02:21:28,430
who's to say is we could just use a like

2699
02:21:21,829 --> 02:21:30,709
min preference so what we do is we'd say

2700
02:21:28,430 --> 02:21:33,889
all right place it here to start with

2701
02:21:30,709 --> 02:21:36,349
check to see whether the maximum still

2702
02:21:33,889 --> 02:21:38,209
falls in the region if it doesn't then

2703
02:21:36,350 --> 02:21:44,390
just move it as far as would be

2704
02:21:38,209 --> 02:21:46,669
necessary to make it do so right done

2705
02:21:44,389 --> 02:21:50,658
because I know if I could place this

2706
02:21:46,670 --> 02:21:53,600
thing at all then that would have to be

2707
02:21:50,658 --> 02:21:57,670
the case right if I can't do that then I

2708
02:21:53,600 --> 02:22:00,439
really can't place this thing and so I'm

2709
02:21:57,670 --> 02:22:02,210
kind of done right at that point I just

2710
02:22:00,439 --> 02:22:06,648
have to say that the room placement

2711
02:22:02,209 --> 02:22:08,898
didn't work right so what I can do here

2712
02:22:06,648 --> 02:22:11,408
is say look I'm not gonna use this part

2713
02:22:08,898 --> 02:22:13,519
here this part isn't necessary right

2714
02:22:11,408 --> 02:22:15,170
instead what I'm gonna do is I'm going

2715
02:22:13,520 --> 02:22:17,029
to go through each dimension in my room

2716
02:22:15,170 --> 02:22:22,398
and see whether or not I can actually

2717
02:22:17,029 --> 02:22:28,399
place it fairly or not right so I'm

2718
02:22:22,398 --> 02:22:30,260
gonna say let's start with a volume this

2719
02:22:28,398 --> 02:22:33,228
is the final volume for the room that

2720
02:22:30,260 --> 02:22:36,398
I'm going to be working with maybe I do

2721
02:22:33,228 --> 02:22:39,469
call get max volume maybe I don't I

2722
02:22:36,398 --> 02:22:40,488
think in this case I don't need to so

2723
02:22:39,469 --> 02:22:43,068
I'm gonna start with the final volume

2724
02:22:40,488 --> 02:22:45,079
and I'm gonna go over each dimension in

2725
02:22:43,068 --> 02:22:46,969
series because the code for each

2726
02:22:45,079 --> 02:22:49,100
dimension is the same right I don't need

2727
02:22:46,969 --> 02:22:50,959
to do anything differently at least not

2728
02:22:49,100 --> 02:22:52,250
at the moment like I said it may be in

2729
02:22:50,959 --> 02:22:54,169
the future that we actually need to

2730
02:22:52,250 --> 02:22:55,908
treat the Z dimension especially in

2731
02:22:54,170 --> 02:22:58,309
which case we got to change the way

2732
02:22:55,908 --> 02:23:00,978
we're doing it and off we go

2733
02:22:58,309 --> 02:23:03,500
but so let me get down here to the final

2734
02:23:00,978 --> 02:23:08,119
volume we need to set the min

2735
02:23:03,500 --> 02:23:11,600
for a particular dimension and the max

2736
02:23:08,120 --> 02:23:13,040
for a particular dimension and so what I

2737
02:23:11,600 --> 02:23:15,500
want to do is I want to say alright

2738
02:23:13,040 --> 02:23:16,790
let's set the min for a particular

2739
02:23:15,500 --> 02:23:22,790
dimension and maybe you know what I'll

2740
02:23:16,790 --> 02:23:25,130
just do these with some variables that

2741
02:23:22,790 --> 02:23:33,620
are easier first so we've got our min

2742
02:23:25,129 --> 02:23:35,719
volume our max volume that again is the

2743
02:23:33,620 --> 02:23:38,600
largest it could possibly be right the

2744
02:23:35,719 --> 02:23:39,679
room cannot be any bigger than that and

2745
02:23:38,600 --> 02:23:42,950
so then what I want to do is I want to

2746
02:23:39,680 --> 02:23:44,930
see how big is that volume is it too big

2747
02:23:42,950 --> 02:23:48,170
is within the range of legal volumes for

2748
02:23:44,930 --> 02:23:50,029
the room etc right so then I can say all

2749
02:23:48,170 --> 02:23:58,809
right let's say the max minus the

2750
02:23:50,029 --> 02:23:58,810
minimum is that greater than the max dim

2751
02:24:01,659 --> 02:24:11,539
that I want and I'm just gonna say here

2752
02:24:08,988 --> 02:24:14,600
look I don't want rooms that are bigger

2753
02:24:11,540 --> 02:24:18,170
than one unit high at the moment I don't

2754
02:24:14,600 --> 02:24:24,579
want rooms are bigger than let's say I

2755
02:24:18,170 --> 02:24:27,770
don't know thirty in either direction

2756
02:24:24,579 --> 02:24:29,719
maybe 60 and 30 cuz we tend to be wider

2757
02:24:27,770 --> 02:24:30,350
this way probably not quite that but you

2758
02:24:29,719 --> 02:24:32,299
know something like that

2759
02:24:30,350 --> 02:24:35,180
so as we could do like hey since it's

2760
02:24:32,299 --> 02:24:37,488
probably a sixteen by nine display maybe

2761
02:24:35,180 --> 02:24:39,680
I want things that aren't any more than

2762
02:24:37,488 --> 02:24:43,909
three of that in any direction I don't

2763
02:24:39,680 --> 02:24:47,029
know but something like this so then I

2764
02:24:43,909 --> 02:24:50,389
see look what's this what's the status

2765
02:24:47,029 --> 02:24:52,220
here right well okay if I can't make

2766
02:24:50,389 --> 02:24:54,829
that work then I'm gonna say all right

2767
02:24:52,219 --> 02:24:57,079
let's set the minimum equal to the min

2768
02:24:54,829 --> 02:24:59,299
wall well they are dias let's set the

2769
02:24:57,079 --> 02:25:02,450
maximum equal to the min plus the max

2770
02:24:59,299 --> 02:25:04,938
allowed Tim so now I know that I'm I'm

2771
02:25:02,450 --> 02:25:09,380
compliant because I'm the largest the

2772
02:25:04,939 --> 02:25:11,238
rim could be and so I'm gonna shrink it

2773
02:25:09,379 --> 02:25:12,920
down from there right

2774
02:25:11,238 --> 02:25:15,379
I could also check here to make sure

2775
02:25:12,920 --> 02:25:16,380
that I'm bigger than the minimum but

2776
02:25:15,379 --> 02:25:19,619
we'll do that in a little

2777
02:25:16,380 --> 02:25:21,510
in a second so now I set it to the max

2778
02:25:19,620 --> 02:25:24,200
allowed dim and then I got a check all

2779
02:25:21,511 --> 02:25:27,301
right am I still within the legal area

2780
02:25:24,200 --> 02:25:29,581
so then I say like okay is the max

2781
02:25:27,300 --> 02:25:31,710
greater than or equal to the maximum of

2782
02:25:29,581 --> 02:25:35,610
all use minimum location that's allowed

2783
02:25:31,710 --> 02:25:37,380
to be and is the maximum less than the

2784
02:25:35,610 --> 02:25:41,280
maximum volumes maximum it's allowed to

2785
02:25:37,380 --> 02:25:47,189
be and if it's both of those things

2786
02:25:41,280 --> 02:25:50,909
right then I'm okay so this is like you

2787
02:25:47,190 --> 02:25:57,331
know a legal location to be so I

2788
02:25:50,909 --> 02:25:59,190
probably should do is this I'm really

2789
02:25:57,331 --> 02:26:01,050
looking for the chain condition so I

2790
02:25:59,190 --> 02:26:04,739
want to say okay if the max is less than

2791
02:26:01,050 --> 02:26:06,869
the minimum it could be or the max is

2792
02:26:04,739 --> 02:26:09,060
greater than the max could be you know

2793
02:26:06,870 --> 02:26:10,620
it can't really be that because we're

2794
02:26:09,060 --> 02:26:13,319
already saying that we're we were bigger

2795
02:26:10,620 --> 02:26:15,631
than that so it's really just this this

2796
02:26:13,319 --> 02:26:17,251
is the only one we can really be so

2797
02:26:15,630 --> 02:26:20,159
assuming that that ends up being the

2798
02:26:17,251 --> 02:26:22,171
problem where so the max has now dropped

2799
02:26:20,159 --> 02:26:24,390
below what it can be what we can do

2800
02:26:22,171 --> 02:26:26,791
instead is say all right the max equals

2801
02:26:24,390 --> 02:26:29,819
maxval max dim let's reset it I'm sorry

2802
02:26:26,790 --> 02:26:31,470
at the minimum let's make it that

2803
02:26:29,819 --> 02:26:33,479
minimum and then we'll just set the

2804
02:26:31,470 --> 02:26:37,140
minimum equal to be the max minus the

2805
02:26:33,479 --> 02:26:39,930
max allowed in then we'll say all right

2806
02:26:37,140 --> 02:26:43,710
if the minimum is now greater than or

2807
02:26:39,931 --> 02:26:47,751
equal to whatever the we set it it's

2808
02:26:43,710 --> 02:26:47,751
range could be this is illegal

2809
02:26:54,260 --> 02:27:02,180
because that's just result so the result

2810
02:27:00,770 --> 02:27:04,069
tells us whether the room is valid we'll

2811
02:27:02,180 --> 02:27:06,559
assume it's valid and we go through all

2812
02:27:04,068 --> 02:27:08,478
of these tests we may find that actually

2813
02:27:06,559 --> 02:27:09,738
we can't really do it if that's the case

2814
02:27:08,478 --> 02:27:12,248
all bets are off

2815
02:27:09,738 --> 02:27:14,629
once we figure out what we've got here

2816
02:27:12,248 --> 02:27:20,059
when we get down to the bottom I'm gonna

2817
02:27:14,629 --> 02:27:24,349
set the final volume min and Max here

2818
02:27:20,059 --> 02:27:25,728
like so once we actually know if we did

2819
02:27:24,350 --> 02:27:29,899
get a valid room out of it we can

2820
02:27:25,728 --> 02:27:32,510
actually set the room like so and then

2821
02:27:29,898 --> 02:27:34,189
we're actually done and so at that point

2822
02:27:32,510 --> 02:27:36,738
I've just sketched out the routine that

2823
02:27:34,189 --> 02:27:40,248
does that work of trying out all those

2824
02:27:36,738 --> 02:27:41,898
possible different things and again this

2825
02:27:40,248 --> 02:27:43,459
is just the start it's pretty

2826
02:27:41,898 --> 02:27:44,420
complicated obviously and we're gonna

2827
02:27:43,459 --> 02:27:46,488
have to debug it because there's

2828
02:27:44,420 --> 02:27:48,619
probably bugs in here given all the

2829
02:27:46,488 --> 02:27:50,930
ridiculousness I just did but that's the

2830
02:27:48,619 --> 02:27:54,498
basic idea of brute forcing all the

2831
02:27:50,930 --> 02:27:58,488
different attempts at creating like sort

2832
02:27:54,498 --> 02:28:01,520
of connections for the four connected

2833
02:27:58,488 --> 02:28:04,010
regions for those rooms one part of the

2834
02:28:01,520 --> 02:28:07,010
strategy and again we're not done yet

2835
02:28:04,010 --> 02:28:09,139
because this is only trying to find a

2836
02:28:07,010 --> 02:28:12,139
possibility given what we're going

2837
02:28:09,139 --> 02:28:15,288
through when it can't find one at all

2838
02:28:12,139 --> 02:28:22,238
for a room we have no backup right so

2839
02:28:15,289 --> 02:28:22,239
basically you know in here

2840
02:28:27,920 --> 02:28:33,658
this will fire because we will create a

2841
02:28:31,920 --> 02:28:35,670
topology and the order in which it

2842
02:28:33,658 --> 02:28:38,699
happens to lay them out won't work and

2843
02:28:35,670 --> 02:28:40,439
then it will fail right and so what

2844
02:28:38,699 --> 02:28:42,239
we're gonna have to build as we go is

2845
02:28:40,439 --> 02:28:43,050
now the thing that happens when a room

2846
02:28:42,238 --> 02:28:45,420
placement fails

2847
02:28:43,049 --> 02:28:50,459
figures out a strategy for backing up

2848
02:28:45,420 --> 02:28:52,949
and trying other things right what I'm

2849
02:28:50,459 --> 02:28:54,658
gonna do right now because we're at way

2850
02:28:52,949 --> 02:28:58,020
out of time I took way too much time

2851
02:28:54,658 --> 02:29:00,359
there apologize for that is I want to go

2852
02:28:58,020 --> 02:29:02,279
ahead and do an if here where I just if

2853
02:29:00,359 --> 02:29:05,790
deaf that out and go back to the

2854
02:29:02,279 --> 02:29:07,920
original really quick because now that I

2855
02:29:05,790 --> 02:29:10,710
know I definitely want a parametric way

2856
02:29:07,920 --> 02:29:11,969
of talking about room volumes I don't

2857
02:29:10,709 --> 02:29:14,009
want this anymore

2858
02:29:11,969 --> 02:29:16,528
so what I want to do is I want to go

2859
02:29:14,010 --> 02:29:21,960
through the code here and get myself

2860
02:29:16,529 --> 02:29:25,408
back to sorry about that get myself back

2861
02:29:21,959 --> 02:29:28,259
I call the cursors in my internal code

2862
02:29:25,408 --> 02:29:32,309
base that's why I accidentally typed

2863
02:29:28,260 --> 02:29:35,219
cursor there so in what I want to do is

2864
02:29:32,309 --> 02:29:37,109
get myself back to the same working code

2865
02:29:35,219 --> 02:29:40,559
I had before because I want that test

2866
02:29:37,109 --> 02:29:42,930
code to be known good I want to go ahead

2867
02:29:40,559 --> 02:29:45,568
and make it so that I can use the new

2868
02:29:42,930 --> 02:29:48,408
vert the new format for the room volume

2869
02:29:45,568 --> 02:29:48,408
right

2870
02:30:04,680 --> 02:30:16,000
and it looks like we don't have mins and

2871
02:30:07,840 --> 02:30:18,880
maxes for these yeah so we have s 32 max

2872
02:30:16,000 --> 02:30:35,529
we don't have s 32 min but we know what

2873
02:30:18,879 --> 02:30:44,818
it is right right oh no that's that's

2874
02:30:35,529 --> 02:30:48,399
not true it is it's actually that right

2875
02:30:44,818 --> 02:30:55,869
it's gonna be the maximum value I mean

2876
02:30:48,398 --> 02:31:00,670
it's it's the max plus one right so it

2877
02:30:55,870 --> 02:31:02,319
would roll it so so this is you've got

2878
02:31:00,670 --> 02:31:04,930
all the way up to the point where you

2879
02:31:02,318 --> 02:31:10,420
would have rolled the value right and so

2880
02:31:04,930 --> 02:31:14,189
then the minimum is that roll over so

2881
02:31:10,420 --> 02:31:17,408
I'm pretty sure that's it's correct I

2882
02:31:14,189 --> 02:31:22,510
hope that it interprets that value

2883
02:31:17,408 --> 02:31:25,750
correctly and doesn't sign extend it but

2884
02:31:22,510 --> 02:31:27,639
I don't know if it will or not so we'll

2885
02:31:25,750 --> 02:31:29,408
have to double check that that actually

2886
02:31:27,639 --> 02:31:31,988
produces a very large negative number

2887
02:31:29,408 --> 02:31:33,488
the way I wanted it to and and not the

2888
02:31:31,988 --> 02:31:37,090
other way around but that's sort of the

2889
02:31:33,488 --> 02:31:41,859
definition all right um I keep going

2890
02:31:37,090 --> 02:31:45,250
here okay so yet here we just have min X

2891
02:31:41,859 --> 02:31:48,399
min Y min Z and here we're gonna have

2892
02:31:45,250 --> 02:31:54,790
max X and to do that really we just have

2893
02:31:48,398 --> 02:31:57,930
to do title X plus ty y plus write tile

2894
02:31:54,790 --> 02:31:57,930
Z plus 1

2895
02:32:00,930 --> 02:32:24,729
so that's you know really very very

2896
02:32:04,420 --> 02:32:32,639
simple and we can make fancier versions

2897
02:32:24,729 --> 02:32:32,639
of this as we go

2898
02:32:54,479 --> 02:33:02,850
all right

2899
02:32:57,239 --> 02:33:10,180
and so Title X just now actually equals

2900
02:33:02,850 --> 02:33:11,860
the max X right and then is in volume

2901
02:33:10,180 --> 02:33:17,110
now just needs to know its greater than

2902
02:33:11,860 --> 02:33:23,489
the min and less than the max and it

2903
02:33:17,110 --> 02:33:23,489
doesn't need to do any plussing anymore

2904
02:33:30,479 --> 02:33:42,609
and I'm not sure that you care too much

2905
02:33:41,020 --> 02:33:45,010
about this stuff but I'm gonna make it

2906
02:33:42,610 --> 02:33:47,250
happen anyway just so we can run it

2907
02:33:45,010 --> 02:33:47,250
again

2908
02:34:06,360 --> 02:34:10,291
and so now what I want to do is before I

2909
02:34:08,040 --> 02:34:12,800
end for the day is I just want to make

2910
02:34:10,290 --> 02:34:19,350
sure that we can still use that version

2911
02:34:12,800 --> 02:34:23,790
and produce actual the same sort of

2912
02:34:19,351 --> 02:34:26,341
stuff we were producing before that's

2913
02:34:23,790 --> 02:34:28,409
all I was trying to do there and so just

2914
02:34:26,341 --> 02:34:31,620
making sure that still works looks like

2915
02:34:28,409 --> 02:34:37,369
it does so I think we're good there

2916
02:34:31,620 --> 02:34:37,370
hopefully and now we'll go to brief Q&amp;A

2917
02:35:15,350 --> 02:35:26,069
mmm-hmm long boolean thinks he caught a

2918
02:35:21,750 --> 02:35:29,879
type though and probably did because I

2919
02:35:26,069 --> 02:35:32,930
typed in that stuff pretty fast he

2920
02:35:29,879 --> 02:35:32,929
thought it was a round line when he

2921
02:35:39,898 --> 02:35:46,648
mm you're probably not there right

2922
02:35:47,699 --> 02:36:06,340
you're probably talking about like here

2923
02:35:50,859 --> 02:36:07,658
or something oh I know what you're

2924
02:36:06,340 --> 02:36:08,829
talking about the world yeah we're in

2925
02:36:07,658 --> 02:36:12,988
the wrong code that's what we're in the

2926
02:36:08,829 --> 02:36:16,059
wrong file there we go

2927
02:36:12,988 --> 02:36:17,318
let's see so yeah this part I mean like

2928
02:36:16,059 --> 02:36:19,118
I said this part we're gonna have to go

2929
02:36:17,318 --> 02:36:20,829
over again but I might as well do it now

2930
02:36:19,119 --> 02:36:22,359
if you want to look at it there weren't

2931
02:36:20,829 --> 02:36:23,680
any other questions that when I just

2932
02:36:22,359 --> 02:36:31,140
looked there

2933
02:36:23,680 --> 02:36:40,920
so the minimum locations maximum value

2934
02:36:31,139 --> 02:36:40,920
that and that that looks right

2935
02:36:51,149 --> 02:36:54,239
[Music]

2936
02:37:00,000 --> 02:37:04,469
I mean you might be right

2937
02:37:03,029 --> 02:37:06,988
I'm just not thinking through but that

2938
02:37:04,469 --> 02:37:10,398
looks like what I had intended to write

2939
02:37:06,988 --> 02:37:10,398
is this the code you're talking about

2940
02:37:14,180 --> 02:37:18,648
did I just did I miss one or something

2941
02:37:19,520 --> 02:37:23,640
it looks right to me

2942
02:37:22,049 --> 02:37:25,079
assuming I'm thinking it through

2943
02:37:23,639 --> 02:37:28,439
properly which you know with this kind

2944
02:37:25,079 --> 02:37:30,148
of code it's very it's very like obvious

2945
02:37:28,439 --> 02:37:31,950
geometrically what's going on but it's

2946
02:37:30,148 --> 02:37:33,988
like one of those cases where typing

2947
02:37:31,950 --> 02:37:36,180
into code doesn't work at all like code

2948
02:37:33,988 --> 02:37:38,180
does not represent these problems well

2949
02:37:36,180 --> 02:37:40,559
at all because they're visual and

2950
02:37:38,180 --> 02:37:42,210
geometric and so it could be that I was

2951
02:37:40,559 --> 02:37:44,100
thinking it wrong but what I was trying

2952
02:37:42,209 --> 02:37:47,299
to do it looks like I mean that looks

2953
02:37:44,100 --> 02:37:49,350
like what I was trying to do to me but

2954
02:37:47,299 --> 02:37:53,309
when we actually go to debug it we'll

2955
02:37:49,350 --> 02:37:56,100
find out right you might also been

2956
02:37:53,309 --> 02:37:59,010
thinking about this code let's look at

2957
02:37:56,100 --> 02:38:06,590
this code if the max is greater than the

2958
02:37:59,010 --> 02:38:06,590
max that it has to be truncated

2959
02:38:16,049 --> 02:38:23,340
this needs the minimum there as well

2960
02:38:19,909 --> 02:38:23,340
[Music]

2961
02:38:31,170 --> 02:38:40,540
so this really I think this should

2962
02:38:33,398 --> 02:38:42,489
happen for the max and the minimum so

2963
02:38:40,540 --> 02:38:45,520
this this is actually wrong I mean it's

2964
02:38:42,489 --> 02:38:56,920
not wrong it's incomplete which makes it

2965
02:38:45,520 --> 02:39:05,670
wrong am I am I right about that

2966
02:38:56,920 --> 02:39:08,648
so both volumes have to be clipped and

2967
02:39:05,670 --> 02:39:12,270
they have to be clipped to both the min

2968
02:39:08,648 --> 02:39:12,269
and the max right

2969
02:39:26,591 --> 02:39:30,399
I'm pretty sure

2970
02:39:47,479 --> 02:39:50,469
yeah

2971
02:40:00,360 --> 02:40:02,420
you

2972
02:40:12,719 --> 02:40:14,778
you

2973
02:40:16,069 --> 02:40:22,129
so this code yeah we need to fix a

2974
02:40:18,799 --> 02:40:28,549
little bit so this should be if the max

2975
02:40:22,129 --> 02:40:30,529
is greater than equal to the max it

2976
02:40:28,549 --> 02:40:33,439
needs to be pulled back

2977
02:40:30,530 --> 02:40:36,980
[Music]

2978
02:40:33,440 --> 02:40:39,860
I think only if it exceeds right and

2979
02:40:36,979 --> 02:40:43,340
then if the max in the other case is

2980
02:40:39,860 --> 02:40:52,640
less than or equal to the men then it

2981
02:40:43,340 --> 02:40:54,979
needs to be pulled in right and then the

2982
02:40:52,639 --> 02:41:06,799
same thing goes for the mins if the min

2983
02:40:54,979 --> 02:41:14,859
is going to exceed that maximum it's got

2984
02:41:06,799 --> 02:41:18,319
to do that right and if then if the min

2985
02:41:14,860 --> 02:41:20,120
is going to drop below the minimum then

2986
02:41:18,319 --> 02:41:22,360
it's going to have to come up to the

2987
02:41:20,120 --> 02:41:22,360
minimum

2988
02:41:27,139 --> 02:41:31,859
so I think that's but we'll debug that

2989
02:41:29,819 --> 02:41:43,079
tomorrow I mean we'll step through that

2990
02:41:31,860 --> 02:41:44,370
with a fine-toothed comb tomorrow big

2991
02:41:43,079 --> 02:41:46,620
muff of one

2992
02:41:44,370 --> 02:41:48,479
why didn't you place important rooms

2993
02:41:46,620 --> 02:41:49,710
randomly then generate rooms to join

2994
02:41:48,478 --> 02:41:51,090
them this seems more efficient than

2995
02:41:49,709 --> 02:41:55,019
generating all the rooms up front before

2996
02:41:51,090 --> 02:41:56,639
placing them we can do that right but at

2997
02:41:55,020 --> 02:41:59,850
first I don't think we really want to

2998
02:41:56,639 --> 02:42:01,889
because that's suggesting that the most

2999
02:41:59,850 --> 02:42:04,350
important thing is making the layout

3000
02:42:01,889 --> 02:42:06,090
algorithm easy not the most important

3001
02:42:04,350 --> 02:42:09,420
thing is having the gameplay determined

3002
02:42:06,090 --> 02:42:17,100
by a room placement a room series that

3003
02:42:09,420 --> 02:42:19,228
is good for gameplay right so I guess

3004
02:42:17,100 --> 02:42:22,079
the Pat answer that question is why

3005
02:42:19,228 --> 02:42:23,129
isn't every room important why are you

3006
02:42:22,079 --> 02:42:26,639
making the player walkthrough

3007
02:42:23,129 --> 02:42:30,299
unimportant rooms right so if we have to

3008
02:42:26,639 --> 02:42:31,769
generate connective tissue we will but I

3009
02:42:30,299 --> 02:42:33,809
would like to avoid generating

3010
02:42:31,770 --> 02:42:38,130
connective tissue unless it's necessary

3011
02:42:33,809 --> 02:42:40,559
so the best possible layout for a set of

3012
02:42:38,129 --> 02:42:42,679
rooms is to only put the rooms in there

3013
02:42:40,559 --> 02:42:46,260
that the player actually needs to be in

3014
02:42:42,680 --> 02:42:47,819
right and for every room you have to

3015
02:42:46,260 --> 02:42:49,290
generate that the player didn't really

3016
02:42:47,819 --> 02:42:50,930
need to be in but we're just doing it to

3017
02:42:49,290 --> 02:42:53,880
make the layout work that's actually bad

3018
02:42:50,930 --> 02:42:55,350
so in my mind I would rather have a

3019
02:42:53,879 --> 02:42:57,389
layout algorithm that gets as close as

3020
02:42:55,350 --> 02:42:59,460
possible to only using the rooms that

3021
02:42:57,389 --> 02:43:05,789
the gameplay generation actually thought

3022
02:42:59,459 --> 02:43:08,959
should be there right at least to me

3023
02:43:05,790 --> 02:43:12,410
that's fairly self-explanatory you know

3024
02:43:08,959 --> 02:43:12,409
if that makes sense

3025
02:44:09,309 --> 02:44:13,469
looks like we are good on questions yeah

3026
02:44:44,700 --> 02:44:58,890
all right so I think we're good on

3027
02:44:47,319 --> 02:45:00,940
questions so I can wrap it up all right

3028
02:44:58,889 --> 02:45:02,020
thanks everyone for joining me for the

3029
02:45:00,940 --> 02:45:03,909
upside of handmade hero it's been a

3030
02:45:02,021 --> 02:45:05,409
pleasure coding with you as always if

3031
02:45:03,909 --> 02:45:06,579
you want to follow along the series at

3032
02:45:05,409 --> 02:45:08,649
home you can always peer out of the game

3033
02:45:06,579 --> 02:45:11,049
on handmade hero Oregon of course it

3034
02:45:08,649 --> 02:45:13,329
comes with the source code so you could

3035
02:45:11,049 --> 02:45:14,049
do your own experimentation on it and so

3036
02:45:13,329 --> 02:45:18,370
on

3037
02:45:14,049 --> 02:45:21,459
maybe you over tonight before I do it

3038
02:45:18,370 --> 02:45:24,780
tomorrow we'll want to run in debug the

3039
02:45:21,459 --> 02:45:27,069
first steps of the room layout solver I

3040
02:45:24,780 --> 02:45:28,090
certainly would be good practice and you

3041
02:45:27,069 --> 02:45:30,610
know that all the code is kind of

3042
02:45:28,090 --> 02:45:33,340
sketched out there and maybe if you're

3043
02:45:30,610 --> 02:45:36,130
feeling really frisky you could go ahead

3044
02:45:33,340 --> 02:45:39,579
and start putting in a thing that does

3045
02:45:36,129 --> 02:45:40,929
retries when it cannot place a room so

3046
02:45:39,579 --> 02:45:42,370
it knows it's reached a dead end

3047
02:45:40,930 --> 02:45:47,380
some way of trying a different room

3048
02:45:42,370 --> 02:45:51,960
placement right we could do could do so

3049
02:45:47,379 --> 02:45:54,670
yeah think about it give it a try

3050
02:45:51,959 --> 02:45:57,729
until tomorrow I'll be back here same

3051
02:45:54,670 --> 02:45:59,229
time same place until then have fun

3052
02:45:57,729 --> 02:46:02,340
programming on whatever you choose

3053
02:45:59,229 --> 02:46:06,000
program on and I'll see everyone on the

3054
02:46:02,340 --> 02:46:06,000
Internet take it easy everybody

