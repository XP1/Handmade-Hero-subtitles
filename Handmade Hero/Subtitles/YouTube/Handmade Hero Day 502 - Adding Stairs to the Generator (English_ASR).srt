1
00:00:00,199 --> 00:00:04,049
hello everyone and welcome to hand made

2
00:00:02,790 --> 00:00:10,080
here oh sure we could a complete game

3
00:00:04,049 --> 00:00:11,580
live on stream this is going to be yeah

4
00:00:10,080 --> 00:00:12,599
I mean we're kind of the point where

5
00:00:11,580 --> 00:00:14,250
there's just tons of things to do is

6
00:00:12,599 --> 00:00:15,210
talking about this in the pre stream we

7
00:00:14,250 --> 00:00:16,528
don't really know exactly what we're

8
00:00:15,210 --> 00:00:18,480
doing today because we got tons of stuff

9
00:00:16,528 --> 00:00:20,009
we could do on the game now pretty much

10
00:00:18,480 --> 00:00:22,949
everything is available we've got some

11
00:00:20,010 --> 00:00:25,140
bugs we can look at we've got a bunch of

12
00:00:22,949 --> 00:00:26,609
features we can start adding now there's

13
00:00:25,140 --> 00:00:29,939
just there's tons of things we can do

14
00:00:26,609 --> 00:00:31,669
and so one of the things that I think

15
00:00:29,939 --> 00:00:34,250
maybe I'll start with because it's it's

16
00:00:31,669 --> 00:00:39,628
sort of what we had been working on a

17
00:00:34,250 --> 00:00:42,299
little bit beforehand is like getting

18
00:00:39,628 --> 00:00:44,128
the camera back into a place where all

19
00:00:42,299 --> 00:00:46,199
of the features that I want her in there

20
00:00:44,128 --> 00:00:47,640
in fact I shouldn't say getting it back

21
00:00:46,200 --> 00:00:49,109
to a place I should say getting it to a

22
00:00:47,640 --> 00:00:51,659
place because we never really had all

23
00:00:49,109 --> 00:00:56,219
the features I wanted possessed a render

24
00:00:51,659 --> 00:01:00,569
test made here um

25
00:00:56,219 --> 00:01:04,500
and so yeah you know if you take a look

26
00:01:00,570 --> 00:01:06,269
at what we did with the camera you know

27
00:01:04,500 --> 00:01:08,640
you you can hop around now and we

28
00:01:06,269 --> 00:01:12,478
totally fixed all of the problems with

29
00:01:08,640 --> 00:01:14,159
the camera interpolation being incorrect

30
00:01:12,478 --> 00:01:15,868
from frame to frame we had we had just

31
00:01:14,159 --> 00:01:17,490
written it poorly the first time I think

32
00:01:15,868 --> 00:01:18,868
we didn't really think it through right

33
00:01:17,489 --> 00:01:20,250
or something I don't know what happened

34
00:01:18,868 --> 00:01:21,509
it was very simple when I went back and

35
00:01:20,250 --> 00:01:24,780
looked out I was like oh we just have

36
00:01:21,509 --> 00:01:28,319
some very simple stuff to do um and so I

37
00:01:24,780 --> 00:01:31,290
would like now to go in and because the

38
00:01:28,319 --> 00:01:33,269
camera is working nicely in this you

39
00:01:31,290 --> 00:01:35,009
know for the interpolation I would like

40
00:01:33,269 --> 00:01:37,739
to maybe say like let's continue going

41
00:01:35,009 --> 00:01:39,269
on with the camera and let's try to get

42
00:01:37,739 --> 00:01:40,589
the camera to a place where it's like

43
00:01:39,269 --> 00:01:42,030
you know it maybe isn't shippable

44
00:01:40,590 --> 00:01:45,450
because we don't know exactly what we

45
00:01:42,030 --> 00:01:47,399
need in its entirety for shipping but an

46
00:01:45,450 --> 00:01:49,140
arguably shippable camera meaning it

47
00:01:47,399 --> 00:01:51,239
doesn't have obvious problems so for

48
00:01:49,140 --> 00:01:52,649
example let's get scrolling in there

49
00:01:51,239 --> 00:01:54,239
like I shouldn't be able to do that

50
00:01:52,649 --> 00:01:56,009
right this was a room that was opposed

51
00:01:54,239 --> 00:01:57,750
to scroll so and we never added

52
00:01:56,009 --> 00:02:00,780
scrolling the camera so let's get

53
00:01:57,750 --> 00:02:02,790
scrolling working let's also make it so

54
00:02:00,780 --> 00:02:06,659
that for example we've got our specials

55
00:02:02,790 --> 00:02:08,069
working nicely and our room highly

56
00:02:06,659 --> 00:02:10,560
working like so so for example let's say

57
00:02:08,068 --> 00:02:13,348
I go up and hop on this square

58
00:02:10,560 --> 00:02:14,998
maybe it's oom Zin when I'm talking

59
00:02:13,348 --> 00:02:17,340
you know if this is a talk to this

60
00:02:14,998 --> 00:02:20,248
person square for example let's make it

61
00:02:17,340 --> 00:02:21,930
so we can do a zoom in on that so stuff

62
00:02:20,248 --> 00:02:25,049
like that that's what I'm looking for

63
00:02:21,930 --> 00:02:28,170
and then finally and very importantly as

64
00:02:25,049 --> 00:02:30,150
we go to start working on our like

65
00:02:28,169 --> 00:02:33,000
polishing up how the art is rendered and

66
00:02:30,150 --> 00:02:34,289
so on like fixed like we're gonna want

67
00:02:33,000 --> 00:02:35,729
to work on our Z bias stuff and our

68
00:02:34,289 --> 00:02:38,280
sprite layering and all that kind of

69
00:02:35,729 --> 00:02:39,840
stuff as we're polishing that up we need

70
00:02:38,280 --> 00:02:42,419
that debug camera to be back and right

71
00:02:39,840 --> 00:02:46,650
now the debug camera is not there right

72
00:02:42,419 --> 00:02:49,560
we don't have a debug camera setup right

73
00:02:46,650 --> 00:02:52,859
now and so we need some way of doing

74
00:02:49,560 --> 00:02:56,340
that and like as far as the debug camera

75
00:02:52,859 --> 00:02:57,810
is concerned I probably I don't know if

76
00:02:56,340 --> 00:03:04,259
I really like the way that it works

77
00:02:57,810 --> 00:03:06,209
right now like it's a little weird but

78
00:03:04,259 --> 00:03:07,590
I've had it for this whole time on like

79
00:03:06,209 --> 00:03:09,569
you right click the button and it went

80
00:03:07,590 --> 00:03:11,218
into debug camera mode and it was weird

81
00:03:09,568 --> 00:03:14,068
it like stored a separate thing so I

82
00:03:11,218 --> 00:03:16,348
think we've also want to in addition to

83
00:03:14,068 --> 00:03:17,818
implementing sort of like a good debug

84
00:03:16,348 --> 00:03:20,488
camera where we can move all around and

85
00:03:17,818 --> 00:03:23,638
focus on whatever we want I think we

86
00:03:20,489 --> 00:03:30,359
also want some kind of like you know a

87
00:03:23,639 --> 00:03:32,790
feature that that some kind of a good

88
00:03:30,359 --> 00:03:33,329
idea of how we get in and out of it you

89
00:03:32,789 --> 00:03:37,108
know

90
00:03:33,329 --> 00:03:38,849
and and what it's supposed to do so you

91
00:03:37,109 --> 00:03:40,139
know we'll kind of like talk about that

92
00:03:38,848 --> 00:03:42,840
a little bit and figure out what we

93
00:03:40,139 --> 00:03:46,739
actually want there and and how we want

94
00:03:42,840 --> 00:03:50,819
that to work um so let's try to figure

95
00:03:46,739 --> 00:03:52,680
out like scrolling for example for

96
00:03:50,818 --> 00:03:55,469
scrolling I think what we want to do is

97
00:03:52,680 --> 00:03:57,959
maybe think about just setting the

98
00:03:55,469 --> 00:04:01,228
location of the camera based on the

99
00:03:57,959 --> 00:04:06,329
position of the entity that that it is

100
00:04:01,229 --> 00:04:08,250
following and so you know in if we look

101
00:04:06,329 --> 00:04:10,669
at where the camera is like update

102
00:04:08,250 --> 00:04:12,509
camera for MV movement in this code here

103
00:04:10,669 --> 00:04:14,219
I'll move it over here so it's not

104
00:04:12,508 --> 00:04:18,389
behind ahead one of things you can see

105
00:04:14,218 --> 00:04:23,939
is in here we talked about the room that

106
00:04:18,389 --> 00:04:27,028
we found that we're inside and you can

107
00:04:23,939 --> 00:04:27,269
kind of see that happening here and if

108
00:04:27,028 --> 00:04:30,750
we

109
00:04:27,269 --> 00:04:34,139
look at that room function what we kind

110
00:04:30,750 --> 00:04:38,908
of see here is that the we set the

111
00:04:34,139 --> 00:04:43,319
target PE of the camera based on where

112
00:04:38,908 --> 00:04:46,500
the room center is and I think what we

113
00:04:43,319 --> 00:04:50,069
want to do here is specify some idea

114
00:04:46,500 --> 00:04:53,399
about what the maximum size of a room is

115
00:04:50,069 --> 00:04:55,620
that we want to focus on and then if the

116
00:04:53,399 --> 00:05:00,538
room is any bigger than that size then

117
00:04:55,620 --> 00:05:03,538
we actually take the center of a sub

118
00:05:00,538 --> 00:05:06,269
room size that can slide around inside

119
00:05:03,538 --> 00:05:10,019
the larger room right so we're just

120
00:05:06,269 --> 00:05:12,689
saying look we know that rooms are any

121
00:05:10,019 --> 00:05:16,228
size we want like we want the game to be

122
00:05:12,689 --> 00:05:18,569
able to generate any size room where

123
00:05:16,228 --> 00:05:22,949
room in this case can be any thing

124
00:05:18,569 --> 00:05:25,580
really and so we want there to be a

125
00:05:22,949 --> 00:05:28,468
notion of like free-roaming or not and

126
00:05:25,579 --> 00:05:30,508
so there's you know now and now that I

127
00:05:28,468 --> 00:05:32,908
think about it too you know another way

128
00:05:30,509 --> 00:05:35,550
to look at it would be the room itself

129
00:05:32,908 --> 00:05:37,560
could also tell us that so if we wanted

130
00:05:35,550 --> 00:05:41,009
to set it into sort of a free scrolling

131
00:05:37,560 --> 00:05:43,288
mode maybe that just is the way it is

132
00:05:41,009 --> 00:05:44,669
and and let's let's look at what would

133
00:05:43,288 --> 00:05:47,668
happen if we did that because I don't

134
00:05:44,668 --> 00:05:49,129
really know if I like that or not and so

135
00:05:47,668 --> 00:05:52,408
it might be interesting to kind of see

136
00:05:49,129 --> 00:05:55,050
what would happen there so for example

137
00:05:52,408 --> 00:05:56,218
if we look in here you know we've got

138
00:05:55,050 --> 00:05:59,639
this

139
00:05:56,218 --> 00:06:01,800
this entity coming coming in you know

140
00:05:59,639 --> 00:06:05,189
what I mean and that's like here's the

141
00:06:01,800 --> 00:06:07,770
person you're following and so in here

142
00:06:05,189 --> 00:06:09,478
we kind of pull out and say oh well you

143
00:06:07,769 --> 00:06:12,240
know we've got the simulation center and

144
00:06:09,478 --> 00:06:15,240
so on you know blah blah blah if we were

145
00:06:12,240 --> 00:06:18,389
gonna follow an entity directly what

146
00:06:15,240 --> 00:06:21,509
would we do and if we look here you know

147
00:06:18,389 --> 00:06:23,218
the target P for example we've got this

148
00:06:21,509 --> 00:06:26,218
target offset Z and the camera Z right

149
00:06:23,218 --> 00:06:29,038
the target offset Z could remain set for

150
00:06:26,218 --> 00:06:31,319
the room but what we could do is say you

151
00:06:29,038 --> 00:06:34,439
know in the case where we're scrolling

152
00:06:31,319 --> 00:06:37,800
right if we were scrolling and you know

153
00:06:34,439 --> 00:06:40,610
special camera maybe is maybe even

154
00:06:37,800 --> 00:06:42,620
special camera could could be

155
00:06:40,610 --> 00:06:45,770
oh you know what it looks like we

156
00:06:42,620 --> 00:06:48,800
already do this cam review player there

157
00:06:45,769 --> 00:06:50,269
you go so it looks like when we create

158
00:06:48,800 --> 00:06:53,978
this room you know we can set up a

159
00:06:50,269 --> 00:06:56,359
special camera that's you know

160
00:06:53,978 --> 00:06:59,508
intentionally set up to handle this if

161
00:06:56,360 --> 00:07:00,889
we just set that we would scroll so

162
00:06:59,509 --> 00:07:06,500
let's see what that looks like

163
00:07:00,889 --> 00:07:17,180
so if we set view player up inside the

164
00:07:06,500 --> 00:07:20,990
gen room code here's our room creation

165
00:07:17,180 --> 00:07:23,449
and when we set this up we've got the

166
00:07:20,990 --> 00:07:26,750
ability to set these flags right so you

167
00:07:23,449 --> 00:07:30,650
can see here you know we've got camera

168
00:07:26,750 --> 00:07:33,620
behavior as a thing that we can set and

169
00:07:30,649 --> 00:07:35,839
so if we want to we could say like cam

170
00:07:33,620 --> 00:07:40,009
room camera behavior equals something

171
00:07:35,839 --> 00:07:42,348
and so when we actually specify this

172
00:07:40,009 --> 00:07:47,840
stuff it seems like we would want to say

173
00:07:42,348 --> 00:07:51,259
well when we say get camera offset Z for

174
00:07:47,839 --> 00:07:56,318
dim you know we might want to say like

175
00:07:51,259 --> 00:08:00,020
that this function here can look and see

176
00:07:56,319 --> 00:08:03,860
if the thing is bigger you know if it's

177
00:08:00,019 --> 00:08:06,019
if the the X count gets up above a

178
00:08:03,860 --> 00:08:08,900
certain amount which is whatever we can

179
00:08:06,019 --> 00:08:11,538
thought you know actually find maybe we

180
00:08:08,899 --> 00:08:14,929
set some flags here to say what that

181
00:08:11,538 --> 00:08:17,568
should be you know what it should do you

182
00:08:14,930 --> 00:08:19,129
know something like this and so we could

183
00:08:17,569 --> 00:08:27,110
just say all right you know set the

184
00:08:19,129 --> 00:08:28,759
camera behavior here in that case and so

185
00:08:27,110 --> 00:08:30,620
when you go generating a room of this

186
00:08:28,759 --> 00:08:33,500
size we would just say like oh you know

187
00:08:30,620 --> 00:08:42,879
or in that's that special behavior you

188
00:08:33,500 --> 00:08:42,879
know the the like view player

189
00:08:45,110 --> 00:08:49,519
and so in either of those two you know

190
00:08:47,509 --> 00:08:52,550
we just say look follow the player along

191
00:08:49,519 --> 00:08:55,039
I think we actually want a view player X

192
00:08:52,549 --> 00:08:56,958
and a view player Y a separate so I

193
00:08:55,039 --> 00:09:00,798
don't really think we want to do it

194
00:08:56,958 --> 00:09:02,928
exactly that way but let's just see what

195
00:09:00,798 --> 00:09:06,860
that does at first make sure that code

196
00:09:02,928 --> 00:09:15,889
is actually like working at all and so

197
00:09:06,860 --> 00:09:17,959
if I hop out here and I leave yeah so

198
00:09:15,889 --> 00:09:22,639
you can see now like I'm able to kind of

199
00:09:17,958 --> 00:09:24,919
like I can I can smoothly hop around and

200
00:09:22,639 --> 00:09:27,048
it will follow me it's a little bit bad

201
00:09:24,919 --> 00:09:29,928
because it's actually like following the

202
00:09:27,048 --> 00:09:32,239
hop and so we probably don't you know we

203
00:09:29,928 --> 00:09:37,100
don't really want exactly what this is

204
00:09:32,239 --> 00:09:40,819
doing which is following with no

205
00:09:37,100 --> 00:09:42,678
hysteresis like so we want probably we

206
00:09:40,818 --> 00:09:44,979
want a way to make this a little more

207
00:09:42,678 --> 00:09:44,980
stable

208
00:09:45,369 --> 00:09:53,449
I'm guessing than it is right because

209
00:09:50,600 --> 00:09:54,470
that that nonlinear movement is not

210
00:09:53,448 --> 00:09:56,659
gonna be fabulous

211
00:09:54,470 --> 00:09:58,699
you know it's just a little nauseating

212
00:09:56,659 --> 00:09:59,990
in my opinion so we'd like it more

213
00:09:58,698 --> 00:10:03,498
stable than that but that's basically

214
00:09:59,990 --> 00:10:07,669
the right thing and we probably want

215
00:10:03,499 --> 00:10:10,249
here also to say well like I said we

216
00:10:07,669 --> 00:10:15,139
want x and y so like a hallway can be

217
00:10:10,249 --> 00:10:17,659
tracked along Y and and not X or vice

218
00:10:15,139 --> 00:10:21,079
versa so you know I think we probably

219
00:10:17,659 --> 00:10:24,948
want something like this where we're

220
00:10:21,078 --> 00:10:30,248
just saying like take specific elements

221
00:10:24,948 --> 00:10:32,958
and use those don't you know don't

222
00:10:30,249 --> 00:10:35,480
scroll or not scroll scroll or not

223
00:10:32,958 --> 00:10:40,219
scroll based on a particular like a

224
00:10:35,480 --> 00:10:43,399
specific axis that you're looking for so

225
00:10:40,220 --> 00:10:44,869
here's the cam that camera behavior so

226
00:10:43,399 --> 00:10:48,230
if I do a view player X and if you

227
00:10:44,869 --> 00:10:52,970
player Y instead I'm just gonna change

228
00:10:48,230 --> 00:10:55,778
these flags here that seems like better

229
00:10:52,970 --> 00:10:55,778
right

230
00:11:00,019 --> 00:11:04,048
so there we go

231
00:11:01,669 --> 00:11:05,338
we're already set up inside room Jenna

232
00:11:04,048 --> 00:11:07,259
deal with that because you can see we

233
00:11:05,339 --> 00:11:11,220
were already checking the X count and

234
00:11:07,259 --> 00:11:14,699
the Y count anyway so it seems like

235
00:11:11,220 --> 00:11:17,339
that's what we want we may also want it

236
00:11:14,698 --> 00:11:21,719
to be tracked earlier than that like the

237
00:11:17,339 --> 00:11:27,569
13 might be already something where we

238
00:11:21,720 --> 00:11:30,389
want to scroll it not entirely sure but

239
00:11:27,568 --> 00:11:32,988
let's say we come out here right you

240
00:11:30,389 --> 00:11:39,178
know this this kind of wants to scroll

241
00:11:32,989 --> 00:11:46,859
how big is that room 1 2 3 4 5 6 7 8 9

242
00:11:39,178 --> 00:11:54,480
10 11 12 13 so that's actually Wow okay

243
00:11:46,859 --> 00:11:57,449
so I guess I guess these are just kind

244
00:11:54,480 --> 00:12:06,928
of not really quite as far out as they

245
00:11:57,448 --> 00:12:10,278
probably should have been I don't really

246
00:12:06,928 --> 00:12:10,278
know what I want to do here

247
00:12:16,440 --> 00:12:21,370
I'm not sure what we want that ramp to

248
00:12:19,090 --> 00:12:25,649
be I also don't know why we did this

249
00:12:21,370 --> 00:12:25,649
this way but I guess it's because

250
00:12:28,799 --> 00:12:33,509
there's sort of different levels of zoom

251
00:12:34,860 --> 00:12:44,289
it's gonna play around this a little bit

252
00:12:37,149 --> 00:12:46,679
and see we also already had a multiplier

253
00:12:44,289 --> 00:12:46,679
in there

254
00:12:52,809 --> 00:12:55,869
[Music]

255
00:13:00,600 --> 00:13:09,600
I do think maybe we want to be able to

256
00:13:07,708 --> 00:13:18,739
be further out than that so I'm actually

257
00:13:09,600 --> 00:13:21,690
fine with that I'm going to continue

258
00:13:18,740 --> 00:13:23,789
boosting these numbers a little here we

259
00:13:21,690 --> 00:13:27,149
probably want to tune each of these I'm

260
00:13:23,789 --> 00:13:29,419
guessing eventually to be pretty

261
00:13:27,149 --> 00:13:29,419
specific

262
00:13:41,330 --> 00:13:44,960
that seems better

263
00:13:54,360 --> 00:13:58,950
and the thing I like about this is this

264
00:13:57,000 --> 00:14:01,320
would allow us to create large open

265
00:13:58,950 --> 00:14:04,710
areas where the player can freely move

266
00:14:01,320 --> 00:14:06,570
around and that aren't room based and so

267
00:14:04,710 --> 00:14:08,759
we would have the freedom to do both

268
00:14:06,570 --> 00:14:10,140
things right we can have room because I

269
00:14:08,759 --> 00:14:12,210
want room based encounters

270
00:14:10,139 --> 00:14:15,960
we're like the doors lock you know in

271
00:14:12,210 --> 00:14:18,480
standard fashion and so it's kind of

272
00:14:15,960 --> 00:14:20,810
nice like this this feels really good

273
00:14:18,480 --> 00:14:23,399
actually

274
00:14:20,809 --> 00:14:25,739
when you come out to the hallway you

275
00:14:23,399 --> 00:14:27,659
know you're moving kind of through here

276
00:14:25,740 --> 00:14:31,080
and then when you come into rooms that

277
00:14:27,659 --> 00:14:33,029
are shorter it locks in on it and that

278
00:14:31,080 --> 00:14:35,670
feels like really good and here it feels

279
00:14:33,029 --> 00:14:43,730
good to to be locked in the center but

280
00:14:35,669 --> 00:14:47,250
you know but you don't actually have a

281
00:14:43,730 --> 00:14:51,899
locked vertical so it can scroll here

282
00:14:47,250 --> 00:14:56,970
and I mean so that actually feels pretty

283
00:14:51,899 --> 00:14:59,759
good too so the only thing I would say

284
00:14:56,970 --> 00:15:01,860
is that it seems like I don't know I

285
00:14:59,759 --> 00:15:05,580
don't know how many across we really

286
00:15:01,860 --> 00:15:10,409
want to have one two three four five six

287
00:15:05,580 --> 00:15:15,180
seven eight nine ten eleven so you know

288
00:15:10,409 --> 00:15:17,069
it might be something where the X

289
00:15:15,179 --> 00:15:22,439
distance is a little less than I was

290
00:15:17,070 --> 00:15:25,160
saying you know maybe maybe it's more

291
00:15:22,440 --> 00:15:25,160
like this

292
00:15:47,830 --> 00:15:52,560
this dude is super in our way right here

293
00:15:54,090 --> 00:16:07,180
I'm gonna say that the main hall can't

294
00:15:56,409 --> 00:16:08,519
have a person in it until we fix that so

295
00:16:07,179 --> 00:16:11,739
if you look at what we were doing there

296
00:16:08,519 --> 00:16:14,079
inside create orphanage right we place

297
00:16:11,740 --> 00:16:15,789
we allowed things to be placed in

298
00:16:14,080 --> 00:16:17,580
various rooms and we said that the main

299
00:16:15,789 --> 00:16:20,110
room could have an orphan placed in it

300
00:16:17,580 --> 00:16:23,080
and then it went ahead and placed an

301
00:16:20,110 --> 00:16:25,300
orphan in the doorway because we don't

302
00:16:23,080 --> 00:16:26,590
really have any intelligent placement

303
00:16:25,299 --> 00:16:28,179
code it just starts looking for empty

304
00:16:26,590 --> 00:16:33,269
squares and puts things in there and so

305
00:16:28,179 --> 00:16:36,519
that you know blocked our entrance right

306
00:16:33,269 --> 00:16:38,439
so now like the main room there yeah you

307
00:16:36,519 --> 00:16:41,559
can tell that works really nicely to see

308
00:16:38,440 --> 00:16:46,210
its roles and why right I'm just like it

309
00:16:41,559 --> 00:16:47,439
should and you know we could hop in here

310
00:16:46,210 --> 00:16:50,879
and then it kind of zooms in on that

311
00:16:47,440 --> 00:16:53,590
area and then you know we're outside now

312
00:16:50,879 --> 00:16:56,019
and I can walk around through there and

313
00:16:53,590 --> 00:16:57,700
you can see one really interesting thing

314
00:16:56,019 --> 00:17:02,019
like I sang one of the things I really

315
00:16:57,700 --> 00:17:09,789
like about this is as I'm hopping around

316
00:17:02,019 --> 00:17:12,490
here my like my I'm actually crossing a

317
00:17:09,789 --> 00:17:15,970
room boundary there so this is actually

318
00:17:12,490 --> 00:17:18,279
two rooms but you know they're they're

319
00:17:15,970 --> 00:17:21,160
seamless as far as the as it would

320
00:17:18,279 --> 00:17:23,410
appear because when we set the scrolling

321
00:17:21,160 --> 00:17:26,800
to be arbitrary like that you can just

322
00:17:23,410 --> 00:17:28,630
hop around a non room based world so

323
00:17:26,799 --> 00:17:30,639
even though you know we can create

324
00:17:28,630 --> 00:17:32,140
things still thinking in terms of rooms

325
00:17:30,640 --> 00:17:35,220
because that's how we like to do it in

326
00:17:32,140 --> 00:17:37,540
the code for like placing different

327
00:17:35,220 --> 00:17:40,230
elements and welding together and all

328
00:17:37,539 --> 00:17:47,980
that we don't actually have to do that

329
00:17:40,230 --> 00:17:49,990
and as far as like we don't have to

330
00:17:47,980 --> 00:17:51,940
actually do that as far as like outdoor

331
00:17:49,990 --> 00:17:55,120
regions up here to the player they can

332
00:17:51,940 --> 00:18:00,220
feel like their large open expanses if

333
00:17:55,119 --> 00:18:00,979
we want right now what we want to do in

334
00:18:00,220 --> 00:18:03,019
terms of

335
00:18:00,980 --> 00:18:07,759
rendering stuff that's below us is still

336
00:18:03,019 --> 00:18:09,200
pretty tricky right if we look at how

337
00:18:07,759 --> 00:18:11,929
much stuff is on the screen right now

338
00:18:09,200 --> 00:18:13,789
it's quite a bit and you know in the

339
00:18:11,929 --> 00:18:15,048
future there wouldn't probably be a lot

340
00:18:13,789 --> 00:18:17,569
of that I mean maybe if there was a

341
00:18:15,048 --> 00:18:18,918
cliff or something but generally

342
00:18:17,569 --> 00:18:20,599
speaking you know you only kind of

343
00:18:18,919 --> 00:18:23,049
really see like if there's a hole down

344
00:18:20,599 --> 00:18:28,609
to the the next level or something there

345
00:18:23,048 --> 00:18:30,829
but yeah like if we look and just say

346
00:18:28,609 --> 00:18:32,798
what's what's our what's our damage here

347
00:18:30,829 --> 00:18:35,480
you know like how bad is the situation

348
00:18:32,798 --> 00:18:38,119
what you can kind of see is that like

349
00:18:35,480 --> 00:18:42,048
you know like let's look at our our

350
00:18:38,119 --> 00:18:44,000
thread view right you can see that that

351
00:18:42,048 --> 00:18:46,279
it's all just the lighting so really if

352
00:18:44,000 --> 00:18:47,900
we just and maybe we need to back off on

353
00:18:46,279 --> 00:18:50,058
our lighting complexity too and just do

354
00:18:47,900 --> 00:18:51,620
simpler stuff you know who knows but if

355
00:18:50,058 --> 00:18:54,410
you look at what's going on there if we

356
00:18:51,619 --> 00:18:56,569
just weren't lighting we wouldn't really

357
00:18:54,410 --> 00:18:57,860
have a problem still even with stuff

358
00:18:56,569 --> 00:19:01,490
like this where there's tons of things

359
00:18:57,859 --> 00:19:02,959
in here and so you know as entity sim

360
00:19:01,490 --> 00:19:04,730
gets added to the mix we're gonna have

361
00:19:02,960 --> 00:19:06,650
to do some better work to make sure that

362
00:19:04,730 --> 00:19:09,980
stays opto but that's not that hard

363
00:19:06,650 --> 00:19:12,259
that's gonna be pretty easy I think so

364
00:19:09,980 --> 00:19:14,660
my opinion there is that like we just

365
00:19:12,259 --> 00:19:16,700
have to address the lighting and make

366
00:19:14,660 --> 00:19:19,160
the lighting do the right thing there

367
00:19:16,700 --> 00:19:22,250
you know what I mean and and I think

368
00:19:19,160 --> 00:19:24,798
that's most of what we gotta do we

369
00:19:22,250 --> 00:19:26,119
certainly can can shoot less Ray's right

370
00:19:24,798 --> 00:19:29,210
like you know we can always make the

371
00:19:26,119 --> 00:19:32,359
lighting crappier for the moment or

372
00:19:29,210 --> 00:19:34,220
something but you know we really need to

373
00:19:32,359 --> 00:19:35,990
just come up with a better solution to

374
00:19:34,220 --> 00:19:37,819
the lighting long term and I'm not sure

375
00:19:35,990 --> 00:19:40,730
what that is and it may require moving

376
00:19:37,819 --> 00:19:44,139
it to a GPU based solution as well you

377
00:19:40,730 --> 00:19:44,140
know I really couldn't tell you

378
00:20:05,450 --> 00:20:11,120
so here's where we're doing our ray

379
00:20:08,029 --> 00:20:12,559
count and we're sending 16 of those I'm

380
00:20:11,119 --> 00:20:14,419
wondering like what happens if we just

381
00:20:12,559 --> 00:20:16,909
use super crappy lighting for now just

382
00:20:14,420 --> 00:20:19,370
to avoid having any problems with with

383
00:20:16,910 --> 00:20:24,080
speed based on lighting it would look

384
00:20:19,369 --> 00:20:26,119
horrible right it's super flickery but

385
00:20:24,079 --> 00:20:28,730
then we don't really have any issues

386
00:20:26,119 --> 00:20:30,649
with with the frame timing anymore and

387
00:20:28,730 --> 00:20:35,319
we can make that larger it looks like a

388
00:20:30,650 --> 00:20:35,320
disco doesn't it kind of

389
00:20:43,809 --> 00:20:52,690
it's like disco time discotheque pun

390
00:20:49,180 --> 00:20:54,029
intended um so yeah I mean we just

391
00:20:52,690 --> 00:20:56,470
really need to get better lighting

392
00:20:54,029 --> 00:20:59,039
solutions in there and I don't know

393
00:20:56,470 --> 00:21:01,259
exactly what that you know will entail

394
00:20:59,039 --> 00:21:03,849
but something better than we've got

395
00:21:01,259 --> 00:21:06,099
because again like we're not even

396
00:21:03,849 --> 00:21:08,619
simulating the lighting all the way like

397
00:21:06,099 --> 00:21:13,539
you can see we're kind of getting that

398
00:21:08,619 --> 00:21:14,709
like we would have to simulate the

399
00:21:13,539 --> 00:21:16,539
lighting all out through there if we

400
00:21:14,710 --> 00:21:18,579
wanted to draw this and it's just just

401
00:21:16,539 --> 00:21:21,639
wait we just don't have the capability

402
00:21:18,579 --> 00:21:23,409
of doing that you know and so that's

403
00:21:21,640 --> 00:21:25,480
really you know that's that's really our

404
00:21:23,410 --> 00:21:30,610
issue and I don't know when we're gonna

405
00:21:25,480 --> 00:21:37,210
address that or how excuse me

406
00:21:30,609 --> 00:21:41,459
so let's figure this out here let's do a

407
00:21:37,210 --> 00:21:44,650
couple a couple things let's go in and

408
00:21:41,460 --> 00:21:47,170
make our room Jen also allow us to

409
00:21:44,650 --> 00:21:50,140
access everywhere in the game at the

410
00:21:47,170 --> 00:21:55,120
moment like right now for example we

411
00:21:50,140 --> 00:21:58,060
don't have like there are transition

412
00:21:55,119 --> 00:22:00,099
points that we don't properly handle

413
00:21:58,059 --> 00:22:04,839
that like we don't handle boundaries

414
00:22:00,099 --> 00:22:09,339
going downward you know what I mean so

415
00:22:04,839 --> 00:22:12,279
the connection system here it just all

416
00:22:09,339 --> 00:22:17,289
it does is say we don't you know we're

417
00:22:12,279 --> 00:22:19,899
we're going to not put a wall if there

418
00:22:17,289 --> 00:22:24,279
was supposed to be a boundary connection

419
00:22:19,900 --> 00:22:26,140
there but we don't actually have a way

420
00:22:24,279 --> 00:22:29,410
of doing if we were supposed to go down

421
00:22:26,140 --> 00:22:35,770
and so in the set in the case where a

422
00:22:29,410 --> 00:22:42,509
connection goes down I would like to put

423
00:22:35,769 --> 00:22:45,579
in a stairwell so like when we did that

424
00:22:42,509 --> 00:22:48,250
and granted this code is you know I

425
00:22:45,579 --> 00:22:52,089
haven't worked on it much so it's kind

426
00:22:48,250 --> 00:22:55,420
of janky but when we actually place the

427
00:22:52,089 --> 00:22:57,579
room along the edges we do you know we

428
00:22:55,420 --> 00:23:03,970
do have

429
00:22:57,579 --> 00:23:06,788
the up-and-down concept in there so you

430
00:23:03,970 --> 00:23:11,230
know we do have a way of saying that

431
00:23:06,788 --> 00:23:15,819
that should happen and it is being

432
00:23:11,230 --> 00:23:22,179
picked and then when we create one of

433
00:23:15,819 --> 00:23:32,970
those Delta's like when we create the

434
00:23:22,179 --> 00:23:42,820
the connection we check to see if it's I

435
00:23:32,970 --> 00:23:43,778
guess we check to see whether yeah we're

436
00:23:42,819 --> 00:23:45,608
really not do anything particularly

437
00:23:43,778 --> 00:23:47,798
interesting here we just check to see

438
00:23:45,608 --> 00:23:51,058
where we're gonna connect and then we

439
00:23:47,798 --> 00:23:51,058
connect for Zee

440
00:23:57,400 --> 00:24:06,380
here it is we say intersect these two

441
00:24:02,119 --> 00:24:10,159
volumes then take the halfway point

442
00:24:06,380 --> 00:24:13,309
between them right so it would have been

443
00:24:10,160 --> 00:24:20,660
placed in the middle of the room if

444
00:24:13,308 --> 00:24:23,660
there was a downward thing and so I

445
00:24:20,660 --> 00:24:37,190
don't know exactly how I want that to

446
00:24:23,660 --> 00:24:39,920
work but I guess like I mean I guess I

447
00:24:37,190 --> 00:24:41,750
want a hole there so in here I'm

448
00:24:39,920 --> 00:24:44,570
thinking we kind of want this to be

449
00:24:41,750 --> 00:24:52,640
expanded for when we do a connection we

450
00:24:44,569 --> 00:24:56,210
would like it to be expanded by by one

451
00:24:52,640 --> 00:24:59,990
all the way rounds I want to do and we

452
00:24:56,210 --> 00:25:01,880
have this in there before so when we

453
00:24:59,990 --> 00:25:04,700
create this entity and we take the

454
00:25:01,880 --> 00:25:07,610
visible piece we've got this color

455
00:25:04,700 --> 00:25:11,509
setting right and we set them all to

456
00:25:07,609 --> 00:25:13,789
something arbitrary here but I'm going

457
00:25:11,509 --> 00:25:15,619
to turn that off so that we can see like

458
00:25:13,789 --> 00:25:19,639
essentially a color coding of what

459
00:25:15,619 --> 00:25:22,879
everything in the world is walls and

460
00:25:19,640 --> 00:25:25,280
floors and connections and so on and so

461
00:25:22,880 --> 00:25:30,470
I think that if I do that and I come out

462
00:25:25,279 --> 00:25:32,389
to the outside here we should be able to

463
00:25:30,470 --> 00:25:34,670
see when we get to the place where these

464
00:25:32,390 --> 00:25:36,830
are connected we should be able to see

465
00:25:34,670 --> 00:25:41,630
the connection and we can right so

466
00:25:36,829 --> 00:25:45,799
here's that room and and you know

467
00:25:41,630 --> 00:25:47,450
there's a connection I believe and

468
00:25:45,799 --> 00:25:50,058
there's the connection between these two

469
00:25:47,450 --> 00:25:54,019
rooms so I think that that's like the

470
00:25:50,058 --> 00:25:58,000
down you know the the passageway that

471
00:25:54,019 --> 00:25:58,000
goes down and

472
00:26:03,298 --> 00:26:09,490
there's a few things about stairwells

473
00:26:06,130 --> 00:26:10,630
that make them a little bit tricky well

474
00:26:09,490 --> 00:26:14,920
there's a few things about this in

475
00:26:10,630 --> 00:26:16,929
general that make it tricky so I don't

476
00:26:14,920 --> 00:26:19,420
really know what we want to have for

477
00:26:16,929 --> 00:26:21,309
stairwells in general I suspect we want

478
00:26:19,420 --> 00:26:23,140
stairwells to be like any other door you

479
00:26:21,308 --> 00:26:27,308
can just you go up or down in them and

480
00:26:23,140 --> 00:26:29,350
it's fine I don't know if we want the

481
00:26:27,308 --> 00:26:33,339
concept of falling through something but

482
00:26:29,349 --> 00:26:35,619
either way if we want to have to like an

483
00:26:33,339 --> 00:26:40,240
up and down connection that's on the

484
00:26:35,619 --> 00:26:42,939
same room we would have to be careful so

485
00:26:40,240 --> 00:26:44,470
that the stairwells don't like overlap

486
00:26:42,940 --> 00:26:46,590
each other in some kind of bad way or

487
00:26:44,470 --> 00:26:47,789
things like that

488
00:26:46,589 --> 00:26:50,889
[Music]

489
00:26:47,789 --> 00:26:52,720
but I don't know I mean so anyway if we

490
00:26:50,890 --> 00:26:55,660
were gonna put in a stairwell it needs

491
00:26:52,720 --> 00:26:58,900
to be a little bit more thoughtfully

492
00:26:55,660 --> 00:27:00,660
arranged and maybe you know I guess what

493
00:26:58,900 --> 00:27:03,400
I'm saying is when I actually go to

494
00:27:00,660 --> 00:27:05,080
place one of these stairwells I think

495
00:27:03,400 --> 00:27:08,080
maybe what I would want to do is hollow

496
00:27:05,079 --> 00:27:09,369
out the stuff around it so when we

497
00:27:08,079 --> 00:27:11,379
actually create one of the downward

498
00:27:09,369 --> 00:27:13,389
connections like I might want to say

499
00:27:11,380 --> 00:27:16,570
something like if this is an up or a

500
00:27:13,390 --> 00:27:18,790
down connection meaning you know like if

501
00:27:16,569 --> 00:27:21,250
it's a box index up for a box index down

502
00:27:18,789 --> 00:27:23,289
kind of a thing I might want to have

503
00:27:21,250 --> 00:27:26,169
essentially a way to do like a Minkowski

504
00:27:23,289 --> 00:27:28,928
sum on here essentially to expand it out

505
00:27:26,169 --> 00:27:30,610
just to grow it a little bit so it's

506
00:27:28,929 --> 00:27:33,759
like a little bit bigger and occupies

507
00:27:30,609 --> 00:27:36,699
more area so for example like maybe I

508
00:27:33,759 --> 00:27:40,000
would say something like you know add

509
00:27:36,700 --> 00:27:43,558
radius here and in most cases you don't

510
00:27:40,000 --> 00:27:46,990
have any add radius so the connection

511
00:27:43,558 --> 00:27:49,480
most the time doesn't do anything but in

512
00:27:46,990 --> 00:27:52,210
the case of an add radius here we would

513
00:27:49,480 --> 00:27:54,819
do you know that so up and down

514
00:27:52,210 --> 00:27:57,519
connections would grow by a certain

515
00:27:54,819 --> 00:28:00,399
amount so after you create what the door

516
00:27:57,519 --> 00:28:07,119
would be we would say add radius to and

517
00:28:00,400 --> 00:28:08,530
we would say you know that now I don't

518
00:28:07,119 --> 00:28:09,969
know that we haven't had radius true for

519
00:28:08,529 --> 00:28:12,730
these but I think these are actually

520
00:28:09,970 --> 00:28:14,350
these are rectangle threes that don't

521
00:28:12,730 --> 00:28:19,099
have

522
00:28:14,349 --> 00:28:22,009
they need to implement sort of non

523
00:28:19,099 --> 00:28:25,009
floating-point versions of what we were

524
00:28:22,009 --> 00:28:27,079
doing with rectangles before so I think

525
00:28:25,009 --> 00:28:29,089
in terms of the world Jen you know

526
00:28:27,079 --> 00:28:33,428
there's there's a I think there's a

527
00:28:29,089 --> 00:28:35,839
rectangle type that we use in here I

528
00:28:33,429 --> 00:28:43,100
don't remember what it is though

529
00:28:35,839 --> 00:28:51,740
where's door Jen volume I don't know

530
00:28:43,099 --> 00:28:56,629
where Jen volume is so Jen volume is in

531
00:28:51,740 --> 00:28:59,120
Jen math and you can see that it's got

532
00:28:56,630 --> 00:29:03,320
some basics here but doesn't have the

533
00:28:59,119 --> 00:29:11,449
ability to add right so if I just have a

534
00:29:03,319 --> 00:29:14,029
gen William add radius to and I've got I

535
00:29:11,450 --> 00:29:17,660
guess I would need to actually pass this

536
00:29:14,029 --> 00:29:24,319
in as an sort of a gem like it's a it's

537
00:29:17,660 --> 00:29:25,970
a gem v3 right it's the radius and so in

538
00:29:24,319 --> 00:29:28,480
here it's right it's pretty simple

539
00:29:25,970 --> 00:29:34,279
here's the results it just equals

540
00:29:28,480 --> 00:29:39,589
whatever this is I guess we're doing

541
00:29:34,279 --> 00:29:41,990
this like this so when we pass this in

542
00:29:39,589 --> 00:29:44,089
we would just say okay the result in

543
00:29:41,990 --> 00:29:48,200
this case is going to get expanded in

544
00:29:44,089 --> 00:29:51,220
exactly this way so the min0 equals the

545
00:29:48,200 --> 00:29:51,220
radius zero

546
00:29:58,490 --> 00:30:13,798
and then the max has the same thing so

547
00:30:08,460 --> 00:30:16,289
it just puffs it by that much all right

548
00:30:13,798 --> 00:30:19,940
so to create one of those Jen VIII's I

549
00:30:16,289 --> 00:30:19,940
don't remember what we've got for that

550
00:30:20,420 --> 00:30:38,548
looks like we would want something like

551
00:30:22,650 --> 00:30:42,000
this so here I can say that and this is

552
00:30:38,548 --> 00:30:43,230
really just a you know a simple utility

553
00:30:42,000 --> 00:30:46,859
function to make sure those can be

554
00:30:43,230 --> 00:30:48,269
bundled together so I think that's all

555
00:30:46,859 --> 00:30:50,548
we would really need there and so in

556
00:30:48,269 --> 00:30:58,289
here we would say that add radius

557
00:30:50,548 --> 00:31:06,740
function is a gen b3 and in here we

558
00:30:58,289 --> 00:31:10,168
would just say okay except that way um

559
00:31:06,740 --> 00:31:14,400
so that's all I'm really talking about

560
00:31:10,169 --> 00:31:17,120
there I don't think we need to do

561
00:31:14,400 --> 00:31:19,559
anything else to it other than that and

562
00:31:17,119 --> 00:31:21,959
I'm gonna go ahead and run the code now

563
00:31:19,558 --> 00:31:23,759
and make sure that that created a larger

564
00:31:21,960 --> 00:31:31,069
door for me

565
00:31:23,759 --> 00:31:31,069
oops why did I accidentally set the

566
00:31:36,470 --> 00:31:48,589
all right so going up here now again I

567
00:31:41,640 --> 00:31:48,590
should be able to verify that the I

568
00:31:48,920 --> 00:31:54,480
should be able to verify that the

569
00:31:51,150 --> 00:31:56,340
location here is it's now large see see

570
00:31:54,480 --> 00:32:01,440
how it's like a square now you know I

571
00:31:56,339 --> 00:32:06,329
mean and so I want that to be I would

572
00:32:01,440 --> 00:32:09,360
like that Square to be the downward

573
00:32:06,329 --> 00:32:11,839
motion now you know one thing is it's

574
00:32:09,359 --> 00:32:14,519
not centered it looks like it added it

575
00:32:11,839 --> 00:32:16,799
for some reason it looks like it it's

576
00:32:14,519 --> 00:32:18,779
shifted backwards a bit I don't know if

577
00:32:16,799 --> 00:32:21,450
that's that maybe because of where it

578
00:32:18,779 --> 00:32:25,200
shows to align them in terms of where

579
00:32:21,450 --> 00:32:27,569
the underlying level is so I guess I

580
00:32:25,200 --> 00:32:29,519
don't really know that that's wrong but

581
00:32:27,569 --> 00:32:31,950
when we play with the generator more

582
00:32:29,519 --> 00:32:34,500
seriously later we'll have to make sure

583
00:32:31,950 --> 00:32:36,059
that's actually something that happened

584
00:32:34,500 --> 00:32:39,299
correct like I'm not sure if it actually

585
00:32:36,059 --> 00:32:41,789
is or not so what I would like to do now

586
00:32:39,299 --> 00:32:45,990
is just have some way inside the rim

587
00:32:41,789 --> 00:32:49,139
generator of detecting whether you're on

588
00:32:45,990 --> 00:32:52,950
a stairwell or not and so you know I

589
00:32:49,140 --> 00:32:55,110
need some way of of having of looking at

590
00:32:52,950 --> 00:32:57,360
one of these connections and knowing

591
00:32:55,109 --> 00:33:00,719
that it is or isn't a downward

592
00:32:57,359 --> 00:33:10,889
connection so the derp mask

593
00:33:00,720 --> 00:33:12,509
I assume the derp mask though so looking

594
00:33:10,890 --> 00:33:14,940
at this it's the dermis is just gonna

595
00:33:12,509 --> 00:33:16,710
tell us which ways it could have

596
00:33:14,940 --> 00:33:18,720
connected but it's not gonna tell us

597
00:33:16,710 --> 00:33:20,430
necessarily which way it did connect I

598
00:33:18,720 --> 00:33:24,900
don't think I don't know if we update

599
00:33:20,430 --> 00:33:27,110
that to actually say which direction it

600
00:33:24,900 --> 00:33:27,110
goes

601
00:33:38,119 --> 00:33:45,889
so when we finalize a connection yeah do

602
00:33:43,019 --> 00:33:45,889
we set that

603
00:33:56,720 --> 00:34:12,329
hmm not really you can see us doing the

604
00:34:10,110 --> 00:34:19,559
room connection here you can see us

605
00:34:12,329 --> 00:34:21,360
saying get the other room it's basically

606
00:34:19,559 --> 00:34:30,840
saying if the room if the other room was

607
00:34:21,360 --> 00:34:33,179
placed then we can place us and if you

608
00:34:30,840 --> 00:34:36,870
could go the direction then it looks

609
00:34:33,179 --> 00:34:41,668
like you kind of do and so then we do

610
00:34:36,869 --> 00:34:43,469
this place room it seems like at that

611
00:34:41,668 --> 00:34:45,000
point we want to like lock the

612
00:34:43,469 --> 00:34:48,509
connection down to the direction it

613
00:34:45,000 --> 00:34:50,750
actually went you know so we can say

614
00:34:48,510 --> 00:34:55,820
look this is the way this direction went

615
00:34:50,750 --> 00:34:55,820
and I guess I don't know

616
00:35:08,719 --> 00:35:11,719
hmm

617
00:35:19,090 --> 00:35:27,519
I guess I don't really know what I want

618
00:35:23,050 --> 00:35:29,019
to do there but it seems like in here so

619
00:35:27,519 --> 00:35:31,780
so here's what I guess I would say

620
00:35:29,019 --> 00:35:34,239
inside world Jen

621
00:35:31,780 --> 00:35:36,190
we've got Jen room connection and it

622
00:35:34,239 --> 00:35:39,009
seems like that's probably where I want

623
00:35:36,190 --> 00:35:42,610
to put that so essentially what I want

624
00:35:39,010 --> 00:35:46,620
to say is we've got the directions in

625
00:35:42,610 --> 00:35:49,720
that box thing so we've got like the

626
00:35:46,619 --> 00:35:52,779
west east north south up and down you

627
00:35:49,719 --> 00:35:55,179
know and so it seems like I want to say

628
00:35:52,780 --> 00:35:57,760
which direction is this going

629
00:35:55,179 --> 00:36:00,549
so in general neck ssin we would say

630
00:35:57,760 --> 00:36:03,190
like placed direction or something and

631
00:36:00,550 --> 00:36:05,019
when we actually put something down we

632
00:36:03,190 --> 00:36:09,610
would shove into the room connection the

633
00:36:05,019 --> 00:36:13,769
direction it actually went right so we

634
00:36:09,610 --> 00:36:16,829
would say something like okay you know

635
00:36:13,769 --> 00:36:16,829
[Music]

636
00:36:18,840 --> 00:36:28,090
when we do could go direction and we

637
00:36:22,929 --> 00:36:30,519
pass it you know this nonsense here and

638
00:36:28,090 --> 00:36:32,590
we do the like get der masse from room

639
00:36:30,519 --> 00:36:34,179
and the result equals der bassant s mass

640
00:36:32,590 --> 00:36:36,460
so there's like the test mass there and

641
00:36:34,179 --> 00:36:40,769
we get the surface mass from the DIMM in

642
00:36:36,460 --> 00:36:40,769
the side that gets passed in here right

643
00:36:50,190 --> 00:37:04,298
we want to then write this back in so

644
00:36:56,440 --> 00:37:06,220
this here is the direction mask I guess

645
00:37:04,298 --> 00:37:13,750
I really just want just the direction

646
00:37:06,219 --> 00:37:16,989
though I don't really want this you know

647
00:37:13,750 --> 00:37:20,739
what I mean so what I really want to

648
00:37:16,989 --> 00:37:26,078
know is what's the what's the surface

649
00:37:20,739 --> 00:37:27,669
index so I want this right so I think

650
00:37:26,079 --> 00:37:30,160
what I want to do is say look look if we

651
00:37:27,670 --> 00:37:33,720
placed this room we know that we placed

652
00:37:30,159 --> 00:37:37,028
it along a particular connection a

653
00:37:33,719 --> 00:37:38,889
particular room connection and so we

654
00:37:37,028 --> 00:37:40,778
want to actually go back and rewrite

655
00:37:38,889 --> 00:37:43,058
that room connection so you get this

656
00:37:40,778 --> 00:37:45,579
room con here right is the thing we're

657
00:37:43,059 --> 00:37:49,869
looking at so we want to actually take

658
00:37:45,579 --> 00:37:56,710
room con and when we place the room we

659
00:37:49,869 --> 00:37:58,630
want to set room cons waist direction we

660
00:37:56,710 --> 00:38:02,318
want that to be equal to the surface

661
00:37:58,630 --> 00:38:09,250
index value in question right so like

662
00:38:02,318 --> 00:38:14,699
dim inside and that should be one of

663
00:38:09,250 --> 00:38:18,119
those box index things you know I mean

664
00:38:14,699 --> 00:38:18,118
it's one of these

665
00:38:24,289 --> 00:38:34,130
uh why it doesn't return one of those

666
00:38:27,409 --> 00:38:36,019
I'm not sure seems a bit weird but the

667
00:38:34,130 --> 00:38:38,720
only thing that doesn't really work here

668
00:38:36,019 --> 00:38:42,039
is that the opposite side of our room so

669
00:38:38,719 --> 00:38:48,379
the the room that we branched off from

670
00:38:42,039 --> 00:38:49,759
we don't actually know who we'd never

671
00:38:48,380 --> 00:38:53,180
looked at the room connection on that

672
00:38:49,760 --> 00:38:55,760
room and we didn't do the opposite one

673
00:38:53,179 --> 00:38:59,089
of these so we really need to do like

674
00:38:55,760 --> 00:39:01,250
other room con once we've placed it like

675
00:38:59,090 --> 00:39:04,039
it's the other way round

676
00:39:01,250 --> 00:39:06,980
and it's not- side because I think side

677
00:39:04,039 --> 00:39:11,059
is just zero and one so it's it's really

678
00:39:06,980 --> 00:39:14,780
not side here so it's like it's like we

679
00:39:11,059 --> 00:39:18,739
whatever the other thing of side is the

680
00:39:14,780 --> 00:39:29,030
side is either zero or it's one so it's

681
00:39:18,739 --> 00:39:31,039
you know it's that I don't know if we've

682
00:39:29,030 --> 00:39:32,750
got a function to do that already we

683
00:39:31,039 --> 00:39:36,400
probably should so there should probably

684
00:39:32,750 --> 00:39:36,400
be a function in here that's like

685
00:39:44,659 --> 00:39:52,679
it's interesting that surface index is

686
00:39:48,420 --> 00:40:02,119
an S 32 but mask is at U 32 not sure why

687
00:39:52,679 --> 00:40:02,118
that would be but anyway this is that

688
00:40:10,969 --> 00:40:14,298
you know what I mean

689
00:40:14,849 --> 00:40:20,240
so the problem now that we have is just

690
00:40:17,039 --> 00:40:23,640
how do we you know how do we talk about

691
00:40:20,239 --> 00:40:27,358
that other room how do we get the other

692
00:40:23,639 --> 00:40:30,150
room connection and so you know if we

693
00:40:27,358 --> 00:40:32,429
look at what we've got here there's a

694
00:40:30,150 --> 00:40:37,980
bunch of stuff going on here's how we

695
00:40:32,429 --> 00:40:39,899
add those in right and and here's how we

696
00:40:37,980 --> 00:40:42,980
connect them right we create all these

697
00:40:39,900 --> 00:40:46,710
and so what we don't really have

698
00:40:42,980 --> 00:40:50,400
anywhere here is something you can you

699
00:40:46,710 --> 00:40:52,710
can see us even here we will look at

700
00:40:50,400 --> 00:40:55,289
like the connection and get the other

701
00:40:52,710 --> 00:40:58,260
room what we don't have is something

702
00:40:55,289 --> 00:41:00,740
that spins over the connections to find

703
00:40:58,260 --> 00:41:03,270
the one that goes to a particular room

704
00:41:00,739 --> 00:41:06,959
right you can see we don't really have

705
00:41:03,269 --> 00:41:10,500
anything in here that that wants to do

706
00:41:06,960 --> 00:41:13,108
that so we never you know we never get

707
00:41:10,500 --> 00:41:18,298
there we never get to that type of stage

708
00:41:13,108 --> 00:41:22,048
but it's pretty easy right so if we go

709
00:41:18,298 --> 00:41:24,298
to get other room here and we just have

710
00:41:22,048 --> 00:41:27,019
something that's like get room

711
00:41:24,298 --> 00:41:27,019
connection

712
00:41:30,239 --> 00:41:37,169
and we say all right you know from this

713
00:41:33,329 --> 00:41:39,809
room to this other room get me the

714
00:41:37,170 --> 00:41:43,588
connection that was linking them

715
00:41:39,809 --> 00:41:44,969
together that's a pretty easy thing to

716
00:41:43,588 --> 00:41:46,829
do because either there is or there

717
00:41:44,969 --> 00:41:50,669
isn't one we just have to loop over and

718
00:41:46,829 --> 00:41:54,179
see whether there is so we would just

719
00:41:50,670 --> 00:41:59,358
say okay here's the test connection we

720
00:41:54,179 --> 00:41:59,358
would do from room first room connection

721
00:42:00,440 --> 00:42:08,730
test testicles test next and then in

722
00:42:05,699 --> 00:42:14,088
here we would say well you know if this

723
00:42:08,730 --> 00:42:17,599
test and you know we've got inside the

724
00:42:14,088 --> 00:42:21,119
definition here for each one of these

725
00:42:17,599 --> 00:42:23,160
room where is it room connections right

726
00:42:21,119 --> 00:42:26,160
we've got the Jen connection and then

727
00:42:23,159 --> 00:42:29,489
the next value there so for each one of

728
00:42:26,159 --> 00:42:36,170
these things we would just say if the

729
00:42:29,489 --> 00:42:38,809
test connections has the two room in it

730
00:42:36,170 --> 00:42:45,710
then we're good then we're good to go

731
00:42:38,809 --> 00:42:45,710
right so we can just do it this way

732
00:42:56,159 --> 00:43:03,000
and that's really it so that allows us

733
00:42:58,829 --> 00:43:05,279
to get from a room to the connection

734
00:43:03,000 --> 00:43:08,250
like which connection would would have

735
00:43:05,280 --> 00:43:11,460
linked it to some other room that we

736
00:43:08,250 --> 00:43:14,820
know it's connected to so when we're

737
00:43:11,460 --> 00:43:17,699
inside world gen and replacing rooms now

738
00:43:14,820 --> 00:43:19,619
when we do that room placement here we

739
00:43:17,699 --> 00:43:23,939
can get the other room connection pretty

740
00:43:19,619 --> 00:43:27,059
easily because now we know once we

741
00:43:23,940 --> 00:43:29,579
placed it we can say here's the room

742
00:43:27,059 --> 00:43:31,949
that we placed we know we want to be

743
00:43:29,579 --> 00:43:36,239
going to this other room right and it's

744
00:43:31,949 --> 00:43:41,389
it's specified already because we've

745
00:43:36,239 --> 00:43:41,389
we've done this this work here where

746
00:43:42,139 --> 00:43:47,579
we've we've picked that what that other

747
00:43:44,519 --> 00:43:52,530
room actually is already so I should be

748
00:43:47,579 --> 00:43:55,440
able to just say other room and once

749
00:43:52,530 --> 00:43:57,030
I've got that we're done now that's

750
00:43:55,440 --> 00:43:58,950
actually constant throughout the routine

751
00:43:57,030 --> 00:44:02,369
so assuming that we want to actually

752
00:43:58,949 --> 00:44:11,039
make that happen we should be able to do

753
00:44:02,369 --> 00:44:13,920
do this you and I mean and I think

754
00:44:11,039 --> 00:44:16,019
that's it so at that point we can now

755
00:44:13,920 --> 00:44:18,300
set these so that each person knows what

756
00:44:16,019 --> 00:44:20,099
direction they're going and they can

757
00:44:18,300 --> 00:44:24,480
look at their side of the link to see

758
00:44:20,099 --> 00:44:27,300
which direction the exit is for them I

759
00:44:24,480 --> 00:44:29,338
don't remember whether the which way

760
00:44:27,300 --> 00:44:31,200
these go but I think we're talking about

761
00:44:29,338 --> 00:44:33,539
the opposite way so I think I've got the

762
00:44:31,199 --> 00:44:36,929
sides reversed there potentially it's

763
00:44:33,539 --> 00:44:39,659
ready to stretch there we go

764
00:44:36,929 --> 00:44:41,219
so in here for example when we say could

765
00:44:39,659 --> 00:44:44,909
I go this direction here's the

766
00:44:41,219 --> 00:44:46,769
connection here's the other room and

767
00:44:44,909 --> 00:44:48,299
here's the side so that's the the

768
00:44:46,769 --> 00:44:51,389
direction I would be going from this

769
00:44:48,300 --> 00:44:53,519
room I assume so I think if I'm not

770
00:44:51,389 --> 00:44:56,519
mistaken that that means that this and

771
00:44:53,519 --> 00:44:59,099
this are like backwards right like side

772
00:44:56,519 --> 00:45:04,949
is actually talking about which way we

773
00:44:59,099 --> 00:45:05,480
would go from the other room not us so I

774
00:45:04,949 --> 00:45:08,098
think

775
00:45:05,480 --> 00:45:12,059
this is the way that they're getting

776
00:45:08,099 --> 00:45:14,700
used side is how we would be coming from

777
00:45:12,059 --> 00:45:16,588
the other room to us not how we would go

778
00:45:14,699 --> 00:45:17,939
from us to the other room but I don't

779
00:45:16,588 --> 00:45:21,358
know we'll double-check that because

780
00:45:17,940 --> 00:45:23,400
there's a lot of information flowing in

781
00:45:21,358 --> 00:45:29,848
here and it'd be easy for me to get that

782
00:45:23,400 --> 00:45:39,780
wrong I guess I could look at this and

783
00:45:29,849 --> 00:45:43,320
see it says that the connections door at

784
00:45:39,780 --> 00:45:46,980
which is the max value the max value is

785
00:45:43,320 --> 00:45:50,580
going to be the minimum of our room if

786
00:45:46,980 --> 00:45:52,829
it is positive and it's going to be the

787
00:45:50,579 --> 00:45:58,949
minimum of the other room if it's the

788
00:45:52,829 --> 00:46:01,440
negative direction is that right so if

789
00:45:58,949 --> 00:46:04,439
we were going this way right if we were

790
00:46:01,440 --> 00:46:08,940
going towards if we were going to the

791
00:46:04,440 --> 00:46:16,440
left then we're saying that we would use

792
00:46:08,940 --> 00:46:22,740
our there minimum as the maximum value

793
00:46:16,440 --> 00:46:27,570
of the door and if we were going to the

794
00:46:22,739 --> 00:46:31,289
right then we would use our minimum as

795
00:46:27,570 --> 00:46:36,210
the maximum value so yes the the side

796
00:46:31,289 --> 00:46:39,588
appears to be saying if I was going from

797
00:46:36,210 --> 00:46:43,349
the other room it's that direction

798
00:46:39,588 --> 00:46:47,639
that's what it seems to be saying inside

799
00:46:43,349 --> 00:46:48,660
box I so I want to know why this gets

800
00:46:47,639 --> 00:46:51,598
surface index

801
00:46:48,659 --> 00:46:54,149
why isn't get surface index returning a

802
00:46:51,599 --> 00:46:58,190
box surface index I want to know like

803
00:46:54,150 --> 00:46:58,190
what would be the problem if I did that

804
00:47:03,070 --> 00:47:09,370
can someone tell me because I don't see

805
00:47:05,449 --> 00:47:09,369
why I don't know why it was that way

806
00:47:24,940 --> 00:47:30,829
so I think it should be that way because

807
00:47:27,469 --> 00:47:32,299
that that is a known indexable value and

808
00:47:30,829 --> 00:47:34,219
if you wanted to stick it into you 32

809
00:47:32,300 --> 00:47:35,840
you could just go right ahead but we

810
00:47:34,219 --> 00:47:37,669
know it's coming out as one of those and

811
00:47:35,840 --> 00:47:39,620
we've asserted it as well so we kind of

812
00:47:37,670 --> 00:47:41,329
know what we're guaranteeing to the

813
00:47:39,619 --> 00:47:44,019
external code so I feel like calling it

814
00:47:41,329 --> 00:47:47,269
a box surface index makes perfect sense

815
00:47:44,019 --> 00:47:49,489
all right so now inside rim Jen we have

816
00:47:47,269 --> 00:47:51,500
a lot more information we should in here

817
00:47:49,489 --> 00:47:57,259
be able to say like you know this is a

818
00:47:51,500 --> 00:48:04,159
stairwell and in here I could say like

819
00:47:57,260 --> 00:48:18,590
stairwell equals room con placed

820
00:48:04,159 --> 00:48:21,019
Direction equals box up or down and now

821
00:48:18,590 --> 00:48:22,370
we would know if there's a stairwell I

822
00:48:21,019 --> 00:48:26,389
just don't want to place anything

823
00:48:22,369 --> 00:48:28,909
probably at the moment so if it's not a

824
00:48:26,389 --> 00:48:32,769
stairwell so I'm gonna like if this

825
00:48:28,909 --> 00:48:32,769
whole block out

826
00:48:39,579 --> 00:48:46,528
uh we would we would do well to have a

827
00:48:43,298 --> 00:48:50,170
way of remembering our last position and

828
00:48:46,528 --> 00:48:52,568
just starting there you know what I mean

829
00:48:50,170 --> 00:48:54,278
because it's gonna get really tiresome

830
00:48:52,568 --> 00:48:56,259
if we want to debug things in the

831
00:48:54,278 --> 00:48:59,469
generator to like have to hop all the

832
00:48:56,259 --> 00:49:00,998
way out every time you're in I mean like

833
00:48:59,469 --> 00:49:04,119
I have to do that whole hop and like it

834
00:49:00,998 --> 00:49:07,238
didn't work right and so now I gotta hop

835
00:49:04,119 --> 00:49:11,400
out here every time so I feel like that

836
00:49:07,239 --> 00:49:11,400
would be a nice feature to have as well

837
00:49:12,389 --> 00:49:54,879
like I feel like we would want something

838
00:49:15,039 --> 00:49:58,019
like this thing right here so if we

839
00:49:54,880 --> 00:50:03,400
imagined having a magical camera editor

840
00:49:58,018 --> 00:50:10,258
which I think we can all imagine and I

841
00:50:03,400 --> 00:50:10,259
wanted to just have like you know

842
00:50:16,760 --> 00:50:33,230
this something like this you know what I

843
00:50:31,050 --> 00:50:33,230
mean

844
00:50:33,500 --> 00:50:39,690
you know I don't know what that should

845
00:50:36,210 --> 00:50:45,530
look like exactly but you know but

846
00:50:39,690 --> 00:50:48,750
something like that it would be cool and

847
00:50:45,530 --> 00:50:50,940
so let's just put some stuff in there as

848
00:50:48,750 --> 00:50:57,920
a reminder that we want this and then

849
00:50:50,940 --> 00:50:57,920
maybe I'll do it seems plausible right

850
00:51:00,079 --> 00:51:11,279
so maybe in here we have like devmode

851
00:51:04,699 --> 00:51:13,579
what did I call it maybe something like

852
00:51:11,280 --> 00:51:16,530
that and so maybe that's the f2 key

853
00:51:13,579 --> 00:51:22,139
actually and editing assets is maybe the

854
00:51:16,530 --> 00:51:27,060
f4 key or something I don't know trying

855
00:51:22,139 --> 00:51:30,150
to think of what else we want there yeah

856
00:51:27,059 --> 00:51:31,949
I don't know anyway so if we imagine we

857
00:51:30,150 --> 00:51:34,860
had some magical camera editor thing

858
00:51:31,949 --> 00:51:36,569
there then that would be cool and we

859
00:51:34,860 --> 00:51:39,300
could bind that to an F key so it's easy

860
00:51:36,570 --> 00:51:42,930
to get to it's like a quick access

861
00:51:39,300 --> 00:51:45,200
situation and so you know something like

862
00:51:42,929 --> 00:51:45,199
this

863
00:51:59,619 --> 00:52:02,400
that's weird

864
00:52:08,780 --> 00:52:28,130
I wonder why it's having trouble getting

865
00:52:10,789 --> 00:52:29,690
a asset ID all right maybe not so for

866
00:52:28,130 --> 00:52:35,990
some reason dev mode camera didn't show

867
00:52:29,690 --> 00:52:38,000
me anything why not we should come down

868
00:52:35,989 --> 00:52:41,239
here to camera editor oh right we've got

869
00:52:38,000 --> 00:52:44,989
sort of a you know is it an editor

870
00:52:41,239 --> 00:52:47,959
function thing that happens here will be

871
00:52:44,989 --> 00:52:50,869
nice to just bracket that and I suppose

872
00:52:47,960 --> 00:53:12,829
I could I suppose I could do something

873
00:52:50,869 --> 00:53:17,449
like this if I wanted to it's not the

874
00:53:12,829 --> 00:53:21,699
prettiest thing in the world but it

875
00:53:17,449 --> 00:53:21,699
would work and then we just say this

876
00:53:29,590 --> 00:53:44,000
um so yeah and I guess in some sense to

877
00:53:40,400 --> 00:53:48,200
this stuff can kind of be moved a little

878
00:53:44,000 --> 00:53:50,989
bit into because we don't really have

879
00:53:48,199 --> 00:53:57,230
undo and redo for the camera per se

880
00:53:50,989 --> 00:53:59,989
although maybe we will want to that's

881
00:53:57,230 --> 00:54:03,380
kind of a little bit a little bit

882
00:53:59,989 --> 00:54:05,599
weirder but in terms of the asset editor

883
00:54:03,380 --> 00:54:07,579
as far as yeah like you just look at

884
00:54:05,599 --> 00:54:10,219
some of the stuff and I'm like gosh what

885
00:54:07,579 --> 00:54:11,900
sort of stuff should this be so I'm kind

886
00:54:10,219 --> 00:54:13,989
of thinking maybe what I did there was

887
00:54:11,900 --> 00:54:17,329
kind of dumb

888
00:54:13,989 --> 00:54:21,409
maybe we actually don't want that at the

889
00:54:17,329 --> 00:54:24,619
moment anyway you know maybe we do want

890
00:54:21,409 --> 00:54:28,670
to do that just for editing assets and

891
00:54:24,619 --> 00:54:32,679
then the camera is actually we wouldn't

892
00:54:28,670 --> 00:54:32,680
do that here you know it would be here

893
00:54:40,309 --> 00:54:50,029
or something along those lines I mean

894
00:54:42,679 --> 00:54:53,089
you can't quite do that because yeah

895
00:54:50,030 --> 00:54:56,500
gosh I really I really don't know what

896
00:54:53,090 --> 00:54:56,500
the right way to do that is

897
00:55:01,239 --> 00:55:08,250
I guess I'll keep it the way it was I

898
00:55:05,469 --> 00:55:10,779
guess I'll keep it the way it was

899
00:55:08,250 --> 00:55:33,880
because I could imagine putting in undo

900
00:55:10,780 --> 00:55:40,240
for the camera you know there we go all

901
00:55:33,880 --> 00:55:42,070
right so if we do it like this

902
00:55:40,239 --> 00:55:44,439
all I really want to do here say well

903
00:55:42,070 --> 00:55:48,360
the HHA stuff probably needs to go down

904
00:55:44,440 --> 00:55:51,820
into the asset editor though right

905
00:55:48,360 --> 00:55:52,630
because that stuff is not applicable in

906
00:55:51,820 --> 00:55:58,740
this case

907
00:55:52,630 --> 00:55:58,740
so that would want to go in here I think

908
00:55:58,769 --> 00:56:02,009
like so

909
00:56:13,010 --> 00:56:19,460
and some of these things that are that

910
00:56:17,358 --> 00:56:25,250
we're actually down here probably want

911
00:56:19,460 --> 00:56:30,369
to get moved up because they're kind of

912
00:56:25,250 --> 00:56:30,369
more general Yakubu generally applicable

913
00:56:34,179 --> 00:56:41,199
and then yep so I don't know exactly

914
00:56:38,300 --> 00:56:41,200
what we want to do there

915
00:57:01,768 --> 00:57:13,298
see how that goes so now we should be

916
00:57:11,619 --> 00:57:14,920
able to have like a camera UI there

917
00:57:13,298 --> 00:57:16,690
which I really don't know what we

918
00:57:14,920 --> 00:57:19,539
exactly we're going to do with but we're

919
00:57:16,690 --> 00:57:22,690
gonna do something with it probably so

920
00:57:19,539 --> 00:57:29,470
that's the camera that's the editor that

921
00:57:22,690 --> 00:57:31,269
hij editing right and you know we may

922
00:57:29,469 --> 00:57:33,939
want to kind of break that out too so

923
00:57:31,268 --> 00:57:40,419
that like the HHA stuff has has two

924
00:57:33,940 --> 00:57:41,889
things like I don't know we got a lot

925
00:57:40,420 --> 00:57:43,838
work we could do on the editor to make

926
00:57:41,889 --> 00:57:45,368
that better but I'm just saying I want

927
00:57:43,838 --> 00:57:47,170
to remind myself that I want some of

928
00:57:45,369 --> 00:57:49,568
this here so we can save and load our

929
00:57:47,170 --> 00:57:51,009
start up locations easily so that we

930
00:57:49,568 --> 00:57:52,748
don't have to hop all the way out there

931
00:57:51,009 --> 00:57:54,400
every time because that's gonna get old

932
00:57:52,748 --> 00:57:57,368
real quick so that needs to happen when

933
00:57:54,400 --> 00:57:59,019
we do the camera stuff so inside here I

934
00:57:57,369 --> 00:58:02,318
want to know why I didn't get a

935
00:57:59,018 --> 00:58:07,629
stairwell like I want to know why this

936
00:58:02,318 --> 00:58:10,538
didn't happen and because we sort of

937
00:58:07,630 --> 00:58:13,210
know we know that this must have been

938
00:58:10,539 --> 00:58:18,400
happening because we were getting that

939
00:58:13,210 --> 00:58:20,289
color change right so we had to we had

940
00:58:18,400 --> 00:58:21,430
to have been on a connection or we

941
00:58:20,289 --> 00:58:24,099
wouldn't have been getting the color

942
00:58:21,429 --> 00:58:27,338
change that we were seeing here and so

943
00:58:24,099 --> 00:58:30,489
the fact that we're not that it's not

944
00:58:27,338 --> 00:58:33,219
selecting this we must be getting this

945
00:58:30,489 --> 00:58:38,699
hit properly but for some reason the

946
00:58:33,219 --> 00:58:42,399
stairwell term is never evaluating right

947
00:58:38,699 --> 00:58:46,868
but we should be evaluating it and I

948
00:58:42,400 --> 00:58:49,480
don't know why we're not when we go look

949
00:58:46,869 --> 00:58:52,298
at the world gem here and we see what we

950
00:58:49,480 --> 00:58:55,769
were setting it to so when we do our get

951
00:58:52,298 --> 00:58:59,018
box service index we use dimension here

952
00:58:55,768 --> 00:59:01,568
and it's it's the direction we're going

953
00:58:59,018 --> 00:59:04,588
right for that it is the direction the

954
00:59:01,568 --> 00:59:07,599
connection is going so it should

955
00:59:04,588 --> 00:59:10,748
evaluate to box index upper box index

956
00:59:07,599 --> 00:59:13,660
down I would argue it doesn't appear to

957
00:59:10,748 --> 00:59:14,480
be or something else is happening but

958
00:59:13,659 --> 00:59:15,980
because there's an

959
00:59:14,480 --> 00:59:17,960
enough stuff going on in that code I'm

960
00:59:15,980 --> 00:59:19,579
not gonna try and guess what's wrong I'm

961
00:59:17,960 --> 00:59:21,800
just gonna step into it and see if

962
00:59:19,579 --> 00:59:23,690
there's something I can see in there

963
00:59:21,800 --> 00:59:27,920
that that lets me know what we did wrong

964
00:59:23,690 --> 00:59:29,780
so inside world Jen what I'm going to

965
00:59:27,920 --> 00:59:33,710
look for is when we go to lay out that

966
00:59:29,780 --> 00:59:35,540
room there is a clear-cut case when we

967
00:59:33,710 --> 00:59:38,690
do this so I'm just going to say let's

968
00:59:35,539 --> 00:59:41,329
look at the downward directional one and

969
00:59:38,690 --> 00:59:44,929
the upward directional one we know that

970
00:59:41,329 --> 00:59:47,750
those should both produce a result that

971
00:59:44,929 --> 00:59:49,879
has box index up or or down set and

972
00:59:47,750 --> 00:59:52,730
we're not getting either of those

973
00:59:49,880 --> 00:59:55,340
working properly so let's see why so

974
00:59:52,730 --> 00:59:57,139
when we set one of those and we come

975
00:59:55,340 --> 01:00:01,550
through here we should be able to place

976
00:59:57,139 --> 01:00:13,460
the room in theory right it looks like

977
01:00:01,550 --> 01:00:20,480
here we did yeah so we place the room

978
01:00:13,460 --> 01:00:26,110
along the edge here oh wait so we have

979
01:00:20,480 --> 01:00:26,110
two ways that we place the room

980
01:00:35,599 --> 01:00:38,200
whoa

981
01:00:46,579 --> 01:00:55,889
so we have a place room and a place room

982
01:00:50,250 --> 01:01:01,760
along edge and I guess place room along

983
01:00:55,889 --> 01:01:11,549
edge hold on a second

984
01:01:01,760 --> 01:01:14,160
well that explains it we have a place

985
01:01:11,550 --> 01:01:16,560
room in volume which just puts a rim

986
01:01:14,159 --> 01:01:30,569
somewhere we have a place room along

987
01:01:16,559 --> 01:01:35,579
edge but it looks like we actually don't

988
01:01:30,570 --> 01:01:42,390
ever call a place room so that's why

989
01:01:35,579 --> 01:01:45,840
this was just in the wrong code right it

990
01:01:42,389 --> 01:01:47,339
needed to be in place room along edge so

991
01:01:45,840 --> 01:01:48,840
here's our place room along edge code

992
01:01:47,340 --> 01:01:50,220
because remember we were playing with

993
01:01:48,840 --> 01:01:53,070
different ways of placing rooms so we

994
01:01:50,219 --> 01:01:55,559
only actually ever use this one so when

995
01:01:53,070 --> 01:01:57,950
we do add radius to here's where we

996
01:01:55,559 --> 01:02:01,679
would actually need to do the work of

997
01:01:57,949 --> 01:02:04,619
place in one of these things when we get

998
01:02:01,679 --> 01:02:12,500
here we know a couple things so we know

999
01:02:04,619 --> 01:02:12,500
the connection and we do know

1000
01:02:17,150 --> 01:02:21,920
so we do know the direction we're going

1001
01:02:24,920 --> 01:02:33,420
so it seems like everything's fine

1002
01:02:30,510 --> 01:02:39,859
so in here it does seem like if we got

1003
01:02:33,420 --> 01:02:43,108
the two connections we would be okay so

1004
01:02:39,858 --> 01:02:45,000
the rooms place direction and the room

1005
01:02:43,108 --> 01:02:47,190
other rooms place direction right

1006
01:02:45,000 --> 01:02:50,420
they're going to be these we need to

1007
01:02:47,190 --> 01:02:50,420
know which direction we were going

1008
01:03:07,960 --> 01:03:14,139
and looking at the relative x-axis here

1009
01:03:12,670 --> 01:03:16,960
and that's tough it looks like that

1010
01:03:14,139 --> 01:03:24,489
would tell us what the direction we were

1011
01:03:16,960 --> 01:03:28,900
talking about was going to be all right

1012
01:03:24,489 --> 01:03:30,939
so rels e axis is the axis of travel you

1013
01:03:28,900 --> 01:03:38,829
can see that here because we do max door

1014
01:03:30,940 --> 01:03:45,519
and min door right these are not

1015
01:03:38,829 --> 01:03:51,910
directions of travel they are just you

1016
01:03:45,519 --> 01:03:53,920
know the where along the edge you are so

1017
01:03:51,909 --> 01:03:58,808
it looks like we should be able to say

1018
01:03:53,920 --> 01:04:04,088
like rel z axis is the axis in question

1019
01:03:58,809 --> 01:04:12,940
here and then the sidedness of its form

1020
01:04:04,088 --> 01:04:16,119
in door and max door I'm not sure it

1021
01:04:12,940 --> 01:04:18,338
doesn't look like we know that like all

1022
01:04:16,119 --> 01:04:22,190
we do here is we just intersect the two

1023
01:04:18,338 --> 01:04:25,239
volumes to find out

1024
01:04:22,190 --> 01:04:25,239
[Music]

1025
01:04:28,440 --> 01:04:31,920
where they should go

1026
01:04:37,989 --> 01:04:43,299
to be completely honest with you since

1027
01:04:40,349 --> 01:04:51,250
room volumes don't overlap

1028
01:04:43,300 --> 01:04:54,430
why does intersect get called there that

1029
01:04:51,250 --> 01:04:57,429
doesn't make any sense

1030
01:04:54,429 --> 01:05:02,049
shouldn't that produce nothing like

1031
01:04:57,429 --> 01:05:03,368
shouldn't the intersection be for the

1032
01:05:02,050 --> 01:05:06,930
min and Max of the door should be

1033
01:05:03,369 --> 01:05:06,930
nothing right

1034
01:05:29,690 --> 01:05:40,170
that doesn't make any sense so if I have

1035
01:05:37,409 --> 01:05:47,399
two rooms and I intersect them and then

1036
01:05:40,170 --> 01:05:49,980
I get yeah and then I get eight actual

1037
01:05:47,400 --> 01:05:53,340
volume back for the door I have no idea

1038
01:05:49,980 --> 01:06:05,210
why that would happen the intersection

1039
01:05:53,340 --> 01:06:05,210
along yeah that's that's just puzzling

1040
01:06:11,880 --> 01:06:18,000
so I would like to see what's going on

1041
01:06:15,460 --> 01:06:18,000
there

1042
01:06:24,650 --> 01:06:33,670
I got I got no no idea how we wrote that

1043
01:06:29,528 --> 01:06:33,670
so what happens in intersect

1044
01:06:40,230 --> 01:06:44,369
it does exactly what you would expect

1045
01:06:45,000 --> 01:06:51,039
and presumably these rooms are

1046
01:06:49,000 --> 01:06:53,530
non-overlapping so when you get that

1047
01:06:51,039 --> 01:07:01,029
back you should get nothing so when you

1048
01:06:53,530 --> 01:07:07,599
set the dorm in and door max ah it flips

1049
01:07:01,030 --> 01:07:09,220
it perfect wow we were clever I'm like

1050
01:07:07,599 --> 01:07:11,080
why did we do that that makes perfect

1051
01:07:09,219 --> 01:07:12,399
sense I thought I looked for that I was

1052
01:07:11,079 --> 01:07:15,489
like maybe they flip it and then I

1053
01:07:12,400 --> 01:07:17,769
thought they didn't but they do okay so

1054
01:07:15,489 --> 01:07:20,289
that's all good so the fact that we flip

1055
01:07:17,769 --> 01:07:22,059
it there again means that so we don't

1056
01:07:20,289 --> 01:07:25,269
really know what direction we're going

1057
01:07:22,059 --> 01:07:28,000
is the problem so we must have that

1058
01:07:25,269 --> 01:07:32,230
information up here so in the surface

1059
01:07:28,000 --> 01:07:35,889
index where we're doing this like you

1060
01:07:32,230 --> 01:07:37,990
know r LZ axis min is the thing that

1061
01:07:35,889 --> 01:07:42,579
tells us which direction we're going it

1062
01:07:37,989 --> 01:07:45,029
looks like and I think we don't get any

1063
01:07:42,579 --> 01:07:51,039
other information so in the case where

1064
01:07:45,030 --> 01:07:52,890
we're going from the base room and we're

1065
01:07:51,039 --> 01:07:56,588
going from the base room to us right

1066
01:07:52,889 --> 01:07:59,759
then if we're going west then that would

1067
01:07:56,588 --> 01:08:05,380
be negative so min rel z-axis min is

1068
01:07:59,760 --> 01:08:14,589
actually the one for us it looks like so

1069
01:08:05,380 --> 01:08:18,130
it looks like it's it's this that

1070
01:08:14,588 --> 01:08:21,399
appears to be the case so we'll have to

1071
01:08:18,130 --> 01:08:23,048
double check that but what we now need

1072
01:08:21,399 --> 01:08:24,338
is the these two room connections

1073
01:08:23,048 --> 01:08:32,189
because I don't think we have any room

1074
01:08:24,338 --> 01:08:35,380
connections here yeah we don't

1075
01:08:32,189 --> 01:08:40,088
so what we need to do is we need to call

1076
01:08:35,380 --> 01:08:42,699
this function get rim connection - and

1077
01:08:40,088 --> 01:08:45,189
we're gonna have to use that to generate

1078
01:08:42,698 --> 01:08:47,678
the these two so you know we're gonna

1079
01:08:45,189 --> 01:08:49,169
have to do room con and I guess

1080
01:08:47,679 --> 01:08:53,319
shouldn't believe that and other rim con

1081
01:08:49,170 --> 01:08:55,480
and so for the room con that's us we

1082
01:08:53,319 --> 01:09:00,519
need to do from our room to the base

1083
01:08:55,479 --> 01:09:02,229
room and then we need the opposite and

1084
01:09:00,519 --> 01:09:06,190
we need both of those and then we can

1085
01:09:02,229 --> 01:09:10,629
set their place two directions so I

1086
01:09:06,189 --> 01:09:12,210
think that's what we need there and and

1087
01:09:10,630 --> 01:09:17,710
we should be good to go

1088
01:09:12,210 --> 01:09:19,828
in theory but I don't actually know it

1089
01:09:17,710 --> 01:09:22,389
helps to edit the right function right

1090
01:09:19,828 --> 01:09:23,828
it's not surprising that we didn't get

1091
01:09:22,389 --> 01:09:27,909
what we wanted when we didn't actually

1092
01:09:23,828 --> 01:09:31,719
edit the right function so let's go

1093
01:09:27,908 --> 01:09:33,929
ahead and move out there and see what's

1094
01:09:31,719 --> 01:09:33,929
up

1095
01:09:43,670 --> 01:09:50,239
so now we have the you know the hole

1096
01:09:47,119 --> 01:09:53,210
there that's what I wanted and I want to

1097
01:09:50,238 --> 01:09:54,919
be able to like go down right I want to

1098
01:09:53,210 --> 01:09:58,130
be able to go down to the lower level

1099
01:09:54,920 --> 01:09:59,960
stuff and so I was gonna what I was

1100
01:09:58,130 --> 01:10:02,659
gonna do here is just place some stairs

1101
01:09:59,960 --> 01:10:06,109
in there when you were inside that

1102
01:10:02,658 --> 01:10:10,339
doorway I don't know how useful that's

1103
01:10:06,109 --> 01:10:18,319
gonna really be but we'll see so I'm

1104
01:10:10,340 --> 01:10:21,260
gonna get rid of this now and put this

1105
01:10:18,319 --> 01:10:23,750
back in there and I'm gonna look and say

1106
01:10:21,260 --> 01:10:27,110
well I probably want to place people on

1107
01:10:23,750 --> 01:10:29,090
stairwells for the moment so I'm gonna

1108
01:10:27,109 --> 01:10:32,059
prevent you from adding things to the

1109
01:10:29,090 --> 01:10:35,539
stairwell but I am going to look here

1110
01:10:32,060 --> 01:10:38,030
and say okay if it's something that it

1111
01:10:35,539 --> 01:10:41,869
should have been on a stair then I'm

1112
01:10:38,029 --> 01:10:44,238
gonna move it down you know so on here

1113
01:10:41,869 --> 01:10:46,340
we say like wall height blah blah blah

1114
01:10:44,238 --> 01:10:49,638
right and we're putting the P offset in

1115
01:10:46,340 --> 01:10:51,469
there I want this to actually be done

1116
01:10:49,639 --> 01:10:54,679
differently so you know if it's a

1117
01:10:51,469 --> 01:10:57,439
stairwell it's one thing otherwise it's

1118
01:10:54,679 --> 01:11:00,670
another thing you know and so the

1119
01:10:57,439 --> 01:11:03,888
stairwells I think I'll do where we have

1120
01:11:00,670 --> 01:11:08,300
we probably still want the unilateral in

1121
01:11:03,889 --> 01:11:11,029
here maybe you know maybe maybe I even

1122
01:11:08,300 --> 01:11:12,710
do that and then I'll say okay if it's a

1123
01:11:11,029 --> 01:11:17,569
stairwell I'm gonna do some nonsense

1124
01:11:12,710 --> 01:11:21,679
here so I'm gonna like move it down by

1125
01:11:17,569 --> 01:11:23,779
some proportion to where it is in the

1126
01:11:21,679 --> 01:11:25,609
stair so like there's a tee stair value

1127
01:11:23,779 --> 01:11:26,929
and I'm gonna move it down based on like

1128
01:11:25,609 --> 01:11:30,019
what your tees their value is or

1129
01:11:26,929 --> 01:11:31,730
something and so you know we'll move it

1130
01:11:30,020 --> 01:11:34,100
up to a meter downward or two meters

1131
01:11:31,729 --> 01:11:37,629
down I don't know what our floor to

1132
01:11:34,100 --> 01:11:41,020
floor distances even are in the world

1133
01:11:37,630 --> 01:11:41,020
because it's been a while

1134
01:11:43,800 --> 01:11:47,270
what's the floor height

1135
01:11:52,488 --> 01:12:04,149
so AB style Z gets modified by the

1136
01:11:59,909 --> 01:12:06,099
tyldum so it actually is set up in here

1137
01:12:04,149 --> 01:12:12,369
right like we're actually setting it up

1138
01:12:06,100 --> 01:12:17,950
here it's tile depth in meters so it's a

1139
01:12:12,369 --> 01:12:20,920
1.4 so you know that's the most you

1140
01:12:17,949 --> 01:12:24,460
would go downward and so T stair

1141
01:12:20,920 --> 01:12:26,680
probably wants to top out before one so

1142
01:12:24,460 --> 01:12:29,880
you know in here we would say all right

1143
01:12:26,680 --> 01:12:40,510
the stairwell thing if it is a stairwell

1144
01:12:29,880 --> 01:12:43,109
the T stair is gonna take and I could

1145
01:12:40,510 --> 01:12:43,110
even do this

1146
01:12:47,079 --> 01:12:55,059
in here we're gonna say t stare equals

1147
01:12:51,100 --> 01:12:57,520
zero and we would say that the T stare

1148
01:12:55,060 --> 01:13:00,190
equals you know this in this volume it

1149
01:12:57,520 --> 01:13:02,980
can map ourselves into it so we can

1150
01:13:00,189 --> 01:13:09,909
essentially say well the tile Y value

1151
01:13:02,979 --> 01:13:16,299
you know that we are - the the minimum Y

1152
01:13:09,909 --> 01:13:21,130
of that divided by the Y range is what

1153
01:13:16,300 --> 01:13:23,560
we need for our T value right so if I

1154
01:13:21,130 --> 01:13:27,569
said you know here's the Y range okay

1155
01:13:23,560 --> 01:13:34,140
I'll keep that caps I that's just the

1156
01:13:27,569 --> 01:13:40,649
Conville max Y minus the convo min Y and

1157
01:13:34,140 --> 01:13:40,650
off to go should absolutely do that

1158
01:13:45,060 --> 01:13:47,870
okay

1159
01:13:53,869 --> 01:13:57,819
left of dot why

1160
01:14:06,170 --> 01:14:23,539
ohso volumes are dim aren't they so this

1161
01:14:09,840 --> 01:14:23,539
is actually easier it's just this right

1162
01:14:25,899 --> 01:14:42,170
what's the problem here so the volume

1163
01:14:38,179 --> 01:14:59,840
has a min and a max OS oh I see so it's

1164
01:14:42,170 --> 01:15:00,679
just I will say having a dim there seems

1165
01:14:59,840 --> 01:15:03,078
pretty weird

1166
01:15:00,679 --> 01:15:05,658
we don't actually ever store the dim

1167
01:15:03,078 --> 01:15:08,840
it's just min and Max so shouldn't that

1168
01:15:05,658 --> 01:15:14,988
just be II probably that's a really

1169
01:15:08,840 --> 01:15:16,998
weird way to write that if you ask me I

1170
01:15:14,988 --> 01:15:23,948
also don't know why these aren't gen

1171
01:15:16,998 --> 01:15:23,948
VIII's like shouldn't this be this I

1172
01:15:28,988 --> 01:15:35,529
mean that's how you should do it and

1173
01:15:31,698 --> 01:15:35,529
this seems bad let's fix that

1174
01:15:49,170 --> 01:15:59,788
so everywhere in here I'm just gonna do

1175
01:15:50,819 --> 01:16:05,969
like min X it's gonna be min x-men X X

1176
01:15:59,788 --> 01:16:10,969
is gonna be maxed out X min Y is gonna

1177
01:16:05,969 --> 01:16:10,969
be MnDOT y oops

1178
01:16:20,118 --> 01:16:29,868
okay max wise we matched that Y and

1179
01:16:26,868 --> 01:16:29,868
Maxie

1180
01:16:33,250 --> 01:16:44,719
yes I forgot Minzy all right so let's

1181
01:16:42,710 --> 01:16:50,118
see what else we got here

1182
01:16:44,719 --> 01:16:52,760
and Wiseman got why what the I keep

1183
01:16:50,118 --> 01:16:55,308
hitting the T button which opens the to

1184
01:16:52,760 --> 01:17:00,409
do thing I wish that didn't work inside

1185
01:16:55,309 --> 01:17:03,500
there hold on a second I got to make

1186
01:17:00,408 --> 01:17:04,670
that not work inside there cuz it

1187
01:17:03,500 --> 01:17:11,389
happens to me all the time

1188
01:17:04,670 --> 01:17:13,368
then why because min got why okay all

1189
01:17:11,389 --> 01:17:16,699
right so in here these are just gonna be

1190
01:17:13,368 --> 01:17:20,558
dot YZ so like if you have a min bracket

1191
01:17:16,698 --> 01:17:23,689
it's just a min dot u bracket and I mean

1192
01:17:20,559 --> 01:17:26,360
and then if you have a max brackett it's

1193
01:17:23,689 --> 01:17:29,238
just a max dot u bracket so now those

1194
01:17:26,359 --> 01:17:32,118
are accessible properly and and they

1195
01:17:29,238 --> 01:17:32,839
match the way we do our vectors which is

1196
01:17:32,118 --> 01:17:40,210
what I wanted

1197
01:17:32,840 --> 01:17:50,989
so again max in this case is that and

1198
01:17:40,210 --> 01:17:53,269
min is the same so I'd also like to get

1199
01:17:50,988 --> 01:17:55,729
rid of dim so we'll do that at some

1200
01:17:53,269 --> 01:17:57,679
point here I really wish I had the way

1201
01:17:55,729 --> 01:17:59,238
to just like all the replacements I just

1202
01:17:57,679 --> 01:18:01,969
did in the other file I want to execute

1203
01:17:59,238 --> 01:18:07,009
them now right and I've been waiting to

1204
01:18:01,969 --> 01:18:10,130
update my for coder till we have the so

1205
01:18:07,010 --> 01:18:11,869
we have the ability to use jump and it's

1206
01:18:10,130 --> 01:18:14,659
almost there but it's not quite there

1207
01:18:11,868 --> 01:18:15,859
yet and so I'm hoping that happens to

1208
01:18:14,658 --> 01:18:18,138
him because there's a lot of features

1209
01:18:15,859 --> 01:18:20,000
that I kind of want to add and I just

1210
01:18:18,139 --> 01:18:23,469
have been putting it off because I want

1211
01:18:20,000 --> 01:18:30,309
them to be based around having a jump

1212
01:18:23,469 --> 01:18:30,309
ability which doesn't quite work yet and

1213
01:18:31,899 --> 01:18:39,879
so I don't know when the next for coders

1214
01:18:34,099 --> 01:18:39,880
coming but I'm hoping it's soon oops

1215
01:18:40,010 --> 01:18:43,940
got those capitalized on

1216
01:18:57,349 --> 01:19:08,878
so I think we're good now and so this

1217
01:19:06,179 --> 01:19:12,179
part here like the dim again just it

1218
01:19:08,878 --> 01:19:14,069
seems really weird and so that I feel

1219
01:19:12,179 --> 01:19:16,498
like there must be some reason we did

1220
01:19:14,069 --> 01:19:21,078
that and I want to make sure we don't

1221
01:19:16,498 --> 01:19:21,078
keep doing that so I'm gonna delete that

1222
01:19:28,010 --> 01:19:33,659
so yeah we'll see

1223
01:19:31,069 --> 01:19:37,198
so I want to let me make sure I didn't

1224
01:19:33,658 --> 01:19:38,759
destroy everything by doing that okay so

1225
01:19:37,198 --> 01:19:41,488
I want to go in here and and I don't

1226
01:19:38,760 --> 01:19:43,289
really want that dim value in there cuz

1227
01:19:41,488 --> 01:19:47,218
I feel like that would be easy to make a

1228
01:19:43,288 --> 01:19:48,748
mistake this should just be an e right -

1229
01:19:47,219 --> 01:19:51,719
that's how we've been doing it so you

1230
01:19:48,748 --> 01:19:53,429
just access the elements if you want so

1231
01:19:51,719 --> 01:19:55,739
that dim value okay so no one was using

1232
01:19:53,429 --> 01:19:57,059
it so that's good so this is really what

1233
01:19:55,738 --> 01:19:58,558
it should have looked like and

1234
01:19:57,059 --> 01:20:05,300
furthermore once it looks like that

1235
01:19:58,559 --> 01:20:12,389
right it should just look like this and

1236
01:20:05,300 --> 01:20:22,128
the same is true up here there's no need

1237
01:20:12,389 --> 01:20:25,889
for the extra level so now we should be

1238
01:20:22,128 --> 01:20:27,389
basically done with that and I just

1239
01:20:25,889 --> 01:20:29,849
wanted to make it so we could hop around

1240
01:20:27,389 --> 01:20:31,949
down there so like I said as we start to

1241
01:20:29,849 --> 01:20:33,599
work on the camera more we need to be

1242
01:20:31,948 --> 01:20:37,018
able to check what happens if you go

1243
01:20:33,599 --> 01:20:41,369
downward or upward and so I wanted some

1244
01:20:37,019 --> 01:20:43,050
way of doing that you can see it sort of

1245
01:20:41,368 --> 01:20:45,708
goes down a little bit there but not

1246
01:20:43,050 --> 01:20:45,708
quite enough

1247
01:20:45,828 --> 01:20:52,738
so yeah part of that is just that this

1248
01:20:49,078 --> 01:20:57,658
should start like +1 right so it would

1249
01:20:52,738 --> 01:21:02,518
be that and then the max minus the min

1250
01:20:57,658 --> 01:21:04,558
is inclusive which means that you know 3

1251
01:21:02,519 --> 01:21:06,590
&amp; 2 would just be a span of 1 so even

1252
01:21:04,559 --> 01:21:06,590
just

1253
01:21:08,119 --> 01:21:22,010
this also like both of these need to be

1254
01:21:11,510 --> 01:21:23,449
plus one in a sense I mean maybe we

1255
01:21:22,010 --> 01:21:30,920
don't really want to talk about that way

1256
01:21:23,449 --> 01:21:32,210
so maybe we want to do this and then

1257
01:21:30,920 --> 01:21:35,109
when we're doing the T stare

1258
01:21:32,210 --> 01:21:41,420
displacement maybe it's something like

1259
01:21:35,109 --> 01:21:45,829
well it's it's really one stair step

1260
01:21:41,420 --> 01:21:47,180
down yeah I don't know I don't know how

1261
01:21:45,829 --> 01:21:49,909
I really don't know how we want to

1262
01:21:47,180 --> 01:21:51,619
parameterize this I think the way we I

1263
01:21:49,909 --> 01:21:56,300
think we do want to do it this way so we

1264
01:21:51,619 --> 01:21:58,159
essentially say look it's a uniform set

1265
01:21:56,300 --> 01:22:01,400
of steps so you want to start on the

1266
01:21:58,159 --> 01:22:04,159
first wing and you don't want it to

1267
01:22:01,399 --> 01:22:06,439
finish so you want it to look like that

1268
01:22:04,159 --> 01:22:08,809
I'm pretty sure that's what you want and

1269
01:22:06,439 --> 01:22:11,029
then you just say what's the total

1270
01:22:08,810 --> 01:22:24,350
height you want to do and that's what

1271
01:22:11,029 --> 01:22:26,329
you get yeah that seems good and that

1272
01:22:24,350 --> 01:22:27,530
would allow us to connect like we just

1273
01:22:26,329 --> 01:22:29,029
need to make sure that actually allows

1274
01:22:27,529 --> 01:22:30,289
us to hop all the way down which I'm not

1275
01:22:29,029 --> 01:22:31,750
sure if it will or not we may need a

1276
01:22:30,289 --> 01:22:33,859
stairwell to be a little longer

1277
01:22:31,750 --> 01:22:38,180
vertically as well in order to actually

1278
01:22:33,859 --> 01:22:39,559
hop down them um and looking that I

1279
01:22:38,180 --> 01:22:47,890
don't know why that doesn't go down

1280
01:22:39,560 --> 01:22:47,890
further as well it seems like it's

1281
01:22:58,389 --> 01:23:02,739
so I don't know if the tile dimension

1282
01:23:00,908 --> 01:23:04,750
yeah I feel like the tolerance isn't a

1283
01:23:02,738 --> 01:23:12,718
radius so I feel like this t stair value

1284
01:23:04,750 --> 01:23:15,969
should give us a value that's properly

1285
01:23:12,719 --> 01:23:19,090
goes up to 1.4 as a downward

1286
01:23:15,969 --> 01:23:20,649
displacement which would bring us to the

1287
01:23:19,090 --> 01:23:22,449
next floor height right I mean that's

1288
01:23:20,649 --> 01:23:24,969
what should happen because when we

1289
01:23:22,448 --> 01:23:28,329
actually go to get where this thing is

1290
01:23:24,969 --> 01:23:30,100
it should in theory right I mean there's

1291
01:23:28,329 --> 01:23:31,539
the tile dim I mean I could just say

1292
01:23:30,100 --> 01:23:31,989
look that's the tile dim it's right

1293
01:23:31,539 --> 01:23:34,810
there

1294
01:23:31,988 --> 01:23:36,968
so whatever the downward distance is in

1295
01:23:34,810 --> 01:23:43,330
general that's what you would use with

1296
01:23:36,969 --> 01:23:49,868
the T stair value and then this T star

1297
01:23:43,329 --> 01:23:52,559
value should be smoothly should be

1298
01:23:49,868 --> 01:23:52,559
smoothly varying

1299
01:23:58,078 --> 01:24:04,759
so I want to know why it's not see what

1300
01:24:01,859 --> 01:24:04,759
our to stare values are

1301
01:24:12,899 --> 01:24:20,409
so that's exactly what I would have

1302
01:24:15,340 --> 01:24:24,390
thought they should have been so why are

1303
01:24:20,409 --> 01:24:24,389
we getting such little displacement

1304
01:24:37,470 --> 01:24:43,260
I mean that just seems really strange

1305
01:24:40,500 --> 01:24:45,739
right I mean that's I would have thought

1306
01:24:43,260 --> 01:24:53,789
we would have seen a much more dramatic

1307
01:24:45,739 --> 01:25:00,559
downward motion for such a big

1308
01:24:53,789 --> 01:25:00,560
displacement but for some reason we are

1309
01:25:02,819 --> 01:25:19,558
and and that that doesn't really make a

1310
01:25:04,649 --> 01:25:26,759
lot of sense um all right so we've got

1311
01:25:19,559 --> 01:25:35,010
some figuring out to do I don't really

1312
01:25:26,760 --> 01:25:38,760
know oh so at that time it did work

1313
01:25:35,010 --> 01:25:47,309
correctly for some unknown reason and it

1314
01:25:38,760 --> 01:25:48,599
did create a stairwell down all right I

1315
01:25:47,309 --> 01:25:52,500
must have run it prematurely

1316
01:25:48,599 --> 01:25:54,929
that's weird so looking at this when I

1317
01:25:52,500 --> 01:25:59,849
want to go down there right I need now

1318
01:25:54,929 --> 01:26:03,510
some way of making it so that the when I

1319
01:25:59,849 --> 01:26:06,319
hop down the stairwell I can I could hop

1320
01:26:03,510 --> 01:26:10,590
till things that are that low below me

1321
01:26:06,319 --> 01:26:14,279
and I at the moment can't like the the

1322
01:26:10,590 --> 01:26:19,519
restriction on the hop distance is I

1323
01:26:14,279 --> 01:26:19,518
think too much there let me see what the

1324
01:26:22,969 --> 01:26:28,349
let me see what what we're actually

1325
01:26:25,380 --> 01:26:31,250
looking at there in terms of how we

1326
01:26:28,349 --> 01:26:31,250
decide to do that

1327
01:26:46,979 --> 01:26:55,199
so here we see get closest traversable

1328
01:26:51,090 --> 01:26:55,199
with the hop target

1329
01:27:08,270 --> 01:27:11,270
hmm

1330
01:27:18,389 --> 01:27:22,420
so I guess I'm not sure why that

1331
01:27:20,288 --> 01:27:26,559
wouldn't let us hop there are we for

1332
01:27:22,420 --> 01:27:33,670
some reason not placing a traversable

1333
01:27:26,559 --> 01:27:36,340
location on it I mean in theory we

1334
01:27:33,670 --> 01:27:41,368
should be here right so when we come in

1335
01:27:36,340 --> 01:27:44,099
here and we add the floor tag

1336
01:27:41,368 --> 01:27:48,689
we're presumably going to add that

1337
01:27:44,099 --> 01:27:48,690
traversable because you know

1338
01:27:57,579 --> 01:28:01,279
so I'm not sure why that's not working

1339
01:27:59,750 --> 01:28:13,060
let's take a look at get closest

1340
01:28:01,279 --> 01:28:13,059
reversible and see so looking in here

1341
01:28:13,329 --> 01:28:25,179
that's a long Rey here's the one we'd

1342
01:28:19,850 --> 01:28:25,179
actually be be looking at here

1343
01:28:35,380 --> 01:28:45,739
sooo you can see here we sort of have

1344
01:28:42,829 --> 01:28:51,880
the problem of we want to be able to

1345
01:28:45,738 --> 01:28:57,309
pick what the closest reversible is and

1346
01:28:51,880 --> 01:29:05,750
we don't really want to we do want this

1347
01:28:57,310 --> 01:29:08,840
to be in effect right we want to be able

1348
01:29:05,750 --> 01:29:13,189
to hop to lower traversable x' assuming

1349
01:29:08,840 --> 01:29:18,920
that they are not too far outside of our

1350
01:29:13,189 --> 01:29:22,000
range so once we create this two-point

1351
01:29:18,920 --> 01:29:26,840
structure you know we do want this to be

1352
01:29:22,000 --> 01:29:28,909
set probably this way for things that

1353
01:29:26,840 --> 01:29:31,460
can go up and down like that and we

1354
01:29:28,909 --> 01:29:36,099
would say well you know you you can't go

1355
01:29:31,460 --> 01:29:36,100
more than like half a meter or something

1356
01:29:36,369 --> 01:29:41,840
you know what I mean so we'd say well

1357
01:29:38,988 --> 01:29:48,069
alright however much this thing is

1358
01:29:41,840 --> 01:29:58,730
however far away it is we're gonna clamp

1359
01:29:48,069 --> 01:30:02,238
why we were um I'm not really sure why

1360
01:29:58,729 --> 01:30:04,039
we decided to do it quite that way with

1361
01:30:02,238 --> 01:30:05,089
clamp above zero there's a lot of ways

1362
01:30:04,039 --> 01:30:06,738
we could have done this but we're

1363
01:30:05,090 --> 01:30:09,470
basically saying look once we take the

1364
01:30:06,738 --> 01:30:12,829
delta between these two things we want

1365
01:30:09,470 --> 01:30:15,050
to say let's not worry about the Z as

1366
01:30:12,829 --> 01:30:18,289
much we want the closest thing in x and

1367
01:30:15,050 --> 01:30:24,079
y but the Z as long as it's within like

1368
01:30:18,289 --> 01:30:28,609
a general range that's allowed we're

1369
01:30:24,079 --> 01:30:30,859
gonna we're gonna let you hop there so

1370
01:30:28,609 --> 01:30:39,079
we kind of want to take that to Point C

1371
01:30:30,859 --> 01:30:42,609
and just say look it's yeah it's it's

1372
01:30:39,079 --> 01:30:46,850
that far that's how far the Z is and

1373
01:30:42,609 --> 01:30:48,710
we'll just say like

1374
01:30:46,850 --> 01:30:55,670
this is not a closest distance this is

1375
01:30:48,710 --> 01:30:59,060
just a straight-up requirement it's got

1376
01:30:55,670 --> 01:31:07,069
to be within this within this bracket so

1377
01:30:59,060 --> 01:31:10,250
if the two point Z is less than whatever

1378
01:31:07,069 --> 01:31:12,500
our bracket size is like half a unit or

1379
01:31:10,250 --> 01:31:16,310
something then we go and you know not

1380
01:31:12,500 --> 01:31:20,300
exactly sure how we want to do that but

1381
01:31:16,310 --> 01:31:22,370
it's something like that so you know you

1382
01:31:20,300 --> 01:31:24,260
can you should be able to go to one of

1383
01:31:22,369 --> 01:31:26,630
these if it's within that bracket now I

1384
01:31:24,260 --> 01:31:37,539
don't know how far that bracket actually

1385
01:31:26,630 --> 01:31:37,539
should be why I can't hop there

1386
01:31:42,750 --> 01:31:47,600
must be some other bug here

1387
01:32:08,948 --> 01:32:14,259
what am I doing wrong there when we're

1388
01:32:12,368 --> 01:32:16,630
searching for the Z we should be able to

1389
01:32:14,260 --> 01:32:17,860
bound the region in which we're testing

1390
01:32:16,630 --> 01:32:21,069
the Z and that should have still

1391
01:32:17,859 --> 01:32:22,899
included wherever that traversable was

1392
01:32:21,069 --> 01:32:25,929
right we shouldn't have had any problem

1393
01:32:22,899 --> 01:32:47,198
with that so I'm not sure why it didn't

1394
01:32:25,929 --> 01:32:48,819
why it didn't like that it seems to

1395
01:32:47,198 --> 01:32:50,228
really not want to go on those stairs

1396
01:32:48,819 --> 01:32:51,998
and I'm not sure why cuz they should

1397
01:32:50,229 --> 01:32:53,440
have traversable x' and in fact if I

1398
01:32:51,998 --> 01:32:55,569
drew them I would be able to see them

1399
01:32:53,439 --> 01:32:56,768
right I mean if we basically said I want

1400
01:32:55,569 --> 01:33:04,899
to see the traversable x'

1401
01:32:56,769 --> 01:33:08,769
you know show me the traversals you know

1402
01:33:04,899 --> 01:33:11,939
I can see that they're there and I know

1403
01:33:08,769 --> 01:33:11,940
I can hop around down here

1404
01:33:16,738 --> 01:33:24,819
but I'm not sure why I can't get up onto

1405
01:33:20,979 --> 01:33:34,530
that I said why I couldn't get on to any

1406
01:33:24,819 --> 01:33:36,488
of these stairs I I don't know why gosh

1407
01:33:34,529 --> 01:33:41,978
so there's a bunch of weird things going

1408
01:33:36,488 --> 01:33:46,198
on there let's let's go debug that so

1409
01:33:41,979 --> 01:33:50,739
when we search through all of these

1410
01:33:46,198 --> 01:33:53,228
queries we are testing all of the

1411
01:33:50,738 --> 01:33:55,178
entities you can see our to do here of

1412
01:33:53,229 --> 01:33:56,979
like we probably shouldn't do that but

1413
01:33:55,179 --> 01:34:00,849
we're testing all of the entities to see

1414
01:33:56,979 --> 01:34:02,679
which ones closest and in theory we

1415
01:34:00,849 --> 01:34:05,979
should be able to bias it to always use

1416
01:34:02,679 --> 01:34:07,538
x and y closeness primarily and then Z

1417
01:34:05,979 --> 01:34:09,760
is just more like a clipping like we'll

1418
01:34:07,538 --> 01:34:15,969
clip out anything that's not you know

1419
01:34:09,760 --> 01:34:17,619
within a certain range of us right so in

1420
01:34:15,969 --> 01:34:19,779
theory we should have been able to say

1421
01:34:17,618 --> 01:34:21,569
like you know in fact we don't even

1422
01:34:19,779 --> 01:34:28,469
really need that we can just say

1423
01:34:21,569 --> 01:34:30,210
look if you know to point Z is you know

1424
01:34:28,469 --> 01:34:33,000
greater than or equal to some negative

1425
01:34:30,210 --> 01:34:35,908
bound and less than or equal to some

1426
01:34:33,000 --> 01:34:36,810
positive bounds then we know we can take

1427
01:34:35,908 --> 01:34:40,589
the distance

1428
01:34:36,810 --> 01:34:42,989
not counting the Z right so then when we

1429
01:34:40,590 --> 01:34:45,050
do our test distance squared when we

1430
01:34:42,988 --> 01:34:48,448
take the length squared of to point here

1431
01:34:45,050 --> 01:34:50,190
it should just give us the XY distance

1432
01:34:48,448 --> 01:34:52,828
not counting the pitch downward so it

1433
01:34:50,189 --> 01:34:55,710
won't be favored hopping down a stair

1434
01:34:52,828 --> 01:34:59,908
just because it's further to go you know

1435
01:34:55,710 --> 01:35:03,328
to go Z downward then it would be to not

1436
01:34:59,908 --> 01:35:07,138
and so I have no idea why it doesn't

1437
01:35:03,328 --> 01:35:09,109
like that you know what I mean that

1438
01:35:07,139 --> 01:35:12,960
doesn't really make a lot of sense and

1439
01:35:09,109 --> 01:35:16,170
so I would like to know why we're having

1440
01:35:12,960 --> 01:35:20,969
that problem and you know what I could

1441
01:35:16,170 --> 01:35:22,980
do to to save ourselves the agony inside

1442
01:35:20,969 --> 01:35:26,550
world Jen I can just put us in a

1443
01:35:22,979 --> 01:35:28,559
different location outset so when we do

1444
01:35:26,550 --> 01:35:34,050
all this generation and I'm like what's

1445
01:35:28,560 --> 01:35:42,320
the start room or where's the hero get

1446
01:35:34,050 --> 01:35:49,260
placed or whatever right the result here

1447
01:35:42,319 --> 01:35:56,759
for initial camera P we can change the

1448
01:35:49,260 --> 01:36:00,000
hero placement for that right so I think

1449
01:35:56,760 --> 01:36:07,369
what I would do there is say let's take

1450
01:36:00,000 --> 01:36:11,698
a look at the forest so you know in the

1451
01:36:07,368 --> 01:36:16,969
orphanage forest entrance

1452
01:36:11,698 --> 01:36:16,969
I can't probably just say this

1453
01:36:22,949 --> 01:36:36,179
and then force the placements to be

1454
01:36:28,329 --> 01:36:36,180
there instead right or maybe not

1455
01:36:40,409 --> 01:37:01,170
can I not do that we are generating a

1456
01:36:50,829 --> 01:37:01,170
forced entrance are we not yeah

1457
01:37:06,569 --> 01:37:17,289
so we should be able to set the initial

1458
01:37:08,949 --> 01:37:19,420
camera P here to be the hero room like

1459
01:37:17,289 --> 01:37:26,800
this right I mean there's no reason we

1460
01:37:19,420 --> 01:37:29,500
can't do that but for some reason it

1461
01:37:26,800 --> 01:37:31,770
doesn't want us to do that let's find

1462
01:37:29,500 --> 01:37:31,770
out why

1463
01:37:41,739 --> 01:37:47,510
so it looks like it couldn't actually

1464
01:37:44,899 --> 01:37:50,059
add our entity for some reason like it

1465
01:37:47,510 --> 01:37:59,180
wasn't able to actually put the hero in

1466
01:37:50,060 --> 01:38:00,620
which is interesting I wonder why not so

1467
01:37:59,180 --> 01:38:11,869
here's the place where we actually do

1468
01:38:00,619 --> 01:38:15,079
that oh well I mean that's why get

1469
01:38:11,869 --> 01:38:22,849
closest traversable in this case I guess

1470
01:38:15,079 --> 01:38:29,050
we we need a way of telling it in here

1471
01:38:22,850 --> 01:38:29,050
not to do this clip if that makes sense

1472
01:38:33,649 --> 01:38:39,949
so I'm curious this get closest

1473
01:38:36,229 --> 01:38:41,979
reversible where it's st. reversible

1474
01:38:39,949 --> 01:38:45,159
search unoccupied

1475
01:38:41,979 --> 01:38:49,209
interesting enough we don't obey it

1476
01:38:45,159 --> 01:38:49,210
do we or I guess we do

1477
01:38:51,579 --> 01:39:02,779
but nobody passes that in does the other

1478
01:39:01,130 --> 01:39:04,520
person who calls us pass it in there's

1479
01:39:02,779 --> 01:39:05,809
two places where it's called I was like

1480
01:39:04,520 --> 01:39:07,990
if there's a couple of places where it's

1481
01:39:05,810 --> 01:39:07,990
called

1482
01:39:16,510 --> 01:39:19,510
weird

1483
01:39:28,109 --> 01:39:34,199
so in here where we say traversable

1484
01:39:30,779 --> 01:39:36,539
search unoccupied we say if the

1485
01:39:34,199 --> 01:39:41,519
traversable search on occupied occupied

1486
01:39:36,539 --> 01:39:44,159
flag is not set we can do this or if the

1487
01:39:41,520 --> 01:39:49,230
occupier is zero meaning there's no one

1488
01:39:44,159 --> 01:39:51,859
on it we can do it so that means in

1489
01:39:49,229 --> 01:39:54,119
general where we when we search

1490
01:39:51,859 --> 01:39:55,380
interesting so yeah we don't search for

1491
01:39:54,119 --> 01:39:58,069
that interesting interesting interesting

1492
01:39:55,380 --> 01:40:02,069
so normally we check after the fact

1493
01:39:58,069 --> 01:40:06,569
right you can see them check in like the

1494
01:40:02,069 --> 01:40:14,579
brain for the the various things hereit

1495
01:40:06,569 --> 01:40:17,039
they check afterwards ok so really I

1496
01:40:14,579 --> 01:40:19,380
feel like that should have been set that

1497
01:40:17,039 --> 01:40:21,090
this flag should have been set on me on

1498
01:40:19,380 --> 01:40:28,890
the other one but I guess that's neither

1499
01:40:21,090 --> 01:40:41,039
here nor there anyway so I'm gonna say

1500
01:40:28,890 --> 01:40:45,300
something like if we're gonna clip Z

1501
01:40:41,039 --> 01:40:47,579
then we do this otherwise we don't so we

1502
01:40:45,300 --> 01:40:49,440
say you know if this was not set we can

1503
01:40:47,579 --> 01:40:54,090
just do it if it was that we have to

1504
01:40:49,439 --> 01:40:55,229
look here right and I probably don't

1505
01:40:54,090 --> 01:40:58,710
want to do this

1506
01:40:55,229 --> 01:41:01,349
in that case either you know what I mean

1507
01:40:58,710 --> 01:41:03,930
so the two point dot Z equals zero that

1508
01:41:01,350 --> 01:41:07,370
probably shouldn't happen unless we're

1509
01:41:03,930 --> 01:41:07,369
gonna clip the Z

1510
01:41:10,680 --> 01:41:20,890
so we'll do that and off we go

1511
01:41:17,369 --> 01:41:23,170
all right so in say I would argue in

1512
01:41:20,890 --> 01:41:37,000
here this this really should have been

1513
01:41:23,170 --> 01:41:39,250
passing that I feel like yeah so I think

1514
01:41:37,000 --> 01:41:41,350
we're good now that's just a little bit

1515
01:41:39,250 --> 01:41:44,470
of a weird thing that was happening

1516
01:41:41,350 --> 01:41:53,410
there and so then inside the geckos

1517
01:41:44,470 --> 01:41:55,449
traversable for these inside the brain

1518
01:41:53,409 --> 01:42:01,300
when we ask for a hop I think that's

1519
01:41:55,449 --> 01:42:03,880
where we want to do the handmade clips

1520
01:42:01,300 --> 01:42:05,470
e-version and I want to know why it's

1521
01:42:03,880 --> 01:42:07,359
not working because I have no idea why

1522
01:42:05,470 --> 01:42:09,280
it's not working it should that should

1523
01:42:07,359 --> 01:42:13,689
have been something very unintuitive

1524
01:42:09,279 --> 01:42:16,479
what's happening here because I should

1525
01:42:13,689 --> 01:42:18,819
be able to hop to that one so why can't

1526
01:42:16,479 --> 01:42:21,369
I you know what I mean

1527
01:42:18,819 --> 01:42:24,519
so I want to see what's going on there

1528
01:42:21,369 --> 01:42:29,409
cuz something's messed up severely if I

1529
01:42:24,520 --> 01:42:34,840
can't hop to there because like at some

1530
01:42:29,409 --> 01:42:36,729
point if I set the if I set this large

1531
01:42:34,840 --> 01:42:39,760
enough

1532
01:42:36,729 --> 01:42:44,799
there should be no way I could possibly

1533
01:42:39,760 --> 01:42:46,750
not and cap it like capture the distance

1534
01:42:44,800 --> 01:42:48,820
between this one in the next one

1535
01:42:46,750 --> 01:42:50,439
right so the fact that I can't still

1536
01:42:48,819 --> 01:42:54,069
can't hop down there is absurd

1537
01:42:50,439 --> 01:42:56,049
something's totally busted so let's take

1538
01:42:54,069 --> 01:43:00,549
a look at let me just switch to debug

1539
01:42:56,050 --> 01:43:02,880
mode now and let me see what's going on

1540
01:43:00,550 --> 01:43:02,880
there

1541
01:43:08,059 --> 01:43:15,838
so in this case now I'm like forced

1542
01:43:10,859 --> 01:43:23,069
going that way right and I could I think

1543
01:43:15,838 --> 01:43:24,748
here's a question can I do this if I

1544
01:43:23,069 --> 01:43:32,780
want to turn on loop live code editing

1545
01:43:24,748 --> 01:43:32,779
can I just do like l-l yeah maybe now

1546
01:43:41,600 --> 01:43:51,560
is the frame temporary arena not marked

1547
01:43:44,270 --> 01:44:00,830
as unrestored I think it might it might

1548
01:43:51,560 --> 01:44:02,720
not be yeah it's not so the frame arena

1549
01:44:00,829 --> 01:44:05,329
probably in order to make loop life Co

1550
01:44:02,720 --> 01:44:10,070
didn't be okay the frame arena probably

1551
01:44:05,329 --> 01:44:12,289
has to do that because it's actually you

1552
01:44:10,069 --> 01:44:13,759
know persisting across and so it

1553
01:44:12,289 --> 01:44:15,710
shouldn't probably be restored because

1554
01:44:13,760 --> 01:44:18,409
the temporary it can't reload it's

1555
01:44:15,710 --> 01:44:19,760
temporary at that point at least that

1556
01:44:18,409 --> 01:44:21,050
would be my assumption I can't think of

1557
01:44:19,760 --> 01:44:24,500
any reason why you would want the frame

1558
01:44:21,050 --> 01:44:29,720
arena to not do that so I think in here

1559
01:44:24,500 --> 01:44:31,630
we want that frame arena here we want

1560
01:44:29,720 --> 01:44:43,760
the frame arena to be set to that mode

1561
01:44:31,630 --> 01:44:46,730
so gamestate frame arena Flags actually

1562
01:44:43,760 --> 01:44:54,550
don't remember what the flag is but it's

1563
01:44:46,729 --> 01:44:54,549
something like do not restore is

1564
01:44:55,149 --> 01:44:59,289
actually that's in the platform isn't it

1565
01:45:11,219 --> 01:45:20,198
it's the non restored memory pool that I

1566
01:45:15,310 --> 01:45:23,170
want to emulate here it's yes so when

1567
01:45:20,198 --> 01:45:35,888
you do when you create it you do a non

1568
01:45:23,170 --> 01:45:38,590
restored arena so it's really this I'm

1569
01:45:35,889 --> 01:45:41,289
assuming I can just set that I don't see

1570
01:45:38,590 --> 01:45:45,520
any reason why I couldn't so inside the

1571
01:45:41,289 --> 01:45:49,510
arena where you've got the allocation

1572
01:45:45,520 --> 01:45:52,239
flags I think I can just set that so

1573
01:45:49,510 --> 01:45:54,639
like that memories not restored so let

1574
01:45:52,238 --> 01:45:57,178
me see if I can make sure that that

1575
01:45:54,639 --> 01:45:57,179
works properly

1576
01:46:12,319 --> 01:46:20,630
oh but you know what the gamestate is

1577
01:46:17,300 --> 01:46:26,270
gonna get restored so that temporary

1578
01:46:20,630 --> 01:46:32,680
free lasting outside the frame is is not

1579
01:46:26,270 --> 01:46:32,680
great right because the gamestate

1580
01:46:42,670 --> 01:46:57,469
yeah the gamestate has to line up with

1581
01:46:46,219 --> 01:46:59,539
the arena temporary that's tricky so

1582
01:46:57,469 --> 01:47:03,050
here's what I'll say I think what I want

1583
01:46:59,539 --> 01:47:05,658
to do there is make it not do that so I

1584
01:47:03,050 --> 01:47:07,789
think what I'd rather do is just set it

1585
01:47:05,658 --> 01:47:12,789
that way and instead of n temporary

1586
01:47:07,789 --> 01:47:19,340
memory like instead of this I would say

1587
01:47:12,789 --> 01:47:21,109
let's just clear it every frame because

1588
01:47:19,340 --> 01:47:23,270
that way we can just say cuz we don't

1589
01:47:21,109 --> 01:47:29,118
really want that participating in save

1590
01:47:23,270 --> 01:47:36,889
restore ever that would just be bad so

1591
01:47:29,118 --> 01:47:38,210
we'd rather just do this I think because

1592
01:47:36,889 --> 01:47:40,510
everything else seems to work just fine

1593
01:47:38,210 --> 01:47:40,510
there

1594
01:47:49,590 --> 01:47:59,069
all right so why would that be unhappy

1595
01:47:54,738 --> 01:48:02,218
and also we don't care now whether it's

1596
01:47:59,069 --> 01:48:08,908
restored or not so shouldn't this be

1597
01:48:02,219 --> 01:48:17,399
okay now I guess I'd have to think about

1598
01:48:08,908 --> 01:48:20,158
that so since it's in the game state and

1599
01:48:17,399 --> 01:48:23,939
we will restore its pointer maybe this

1600
01:48:20,158 --> 01:48:25,259
has to happen we'll see but I feel like

1601
01:48:23,939 --> 01:48:26,879
now we should be able to get this to

1602
01:48:25,260 --> 01:48:29,880
work but because that is a sticking

1603
01:48:26,880 --> 01:48:34,710
point I'm not sure how we would have

1604
01:48:29,880 --> 01:48:37,350
that happen so it doesn't want to do the

1605
01:48:34,710 --> 01:48:40,479
clear right

1606
01:48:37,350 --> 01:48:40,479
[Music]

1607
01:48:47,208 --> 01:48:54,618
but I'm not sure why let's debug that

1608
01:48:49,219 --> 01:48:56,118
too so free marina's we I do think we

1609
01:48:54,618 --> 01:48:59,018
want them to be non restored because I

1610
01:48:56,118 --> 01:49:02,929
don't see why you would want that right

1611
01:48:59,019 --> 01:49:10,610
and it's cleared always at the outset so

1612
01:49:02,929 --> 01:49:15,979
that's just how that happens so I just

1613
01:49:10,609 --> 01:49:20,748
want to know why I want to know why it's

1614
01:49:15,979 --> 01:49:23,570
having trouble with that restoration the

1615
01:49:20,748 --> 01:49:30,639
gamestate structure itself will have its

1616
01:49:23,569 --> 01:49:30,639
state restored right meaning like

1617
01:49:39,380 --> 01:49:51,170
when we come in here the frame arena

1618
01:49:42,979 --> 01:49:55,439
this game state struct so you know this

1619
01:49:51,170 --> 01:49:57,810
will have its state restored and for

1620
01:49:55,439 --> 01:50:05,809
some reason the current block pointer

1621
01:49:57,810 --> 01:50:05,810
gets borked there when we go to clear it

1622
01:50:06,800 --> 01:50:13,829
you know this memory is garbage but I'm

1623
01:50:10,470 --> 01:50:16,380
not sure why it was because it should

1624
01:50:13,829 --> 01:50:18,800
just be set to whatever it was on that

1625
01:50:16,380 --> 01:50:18,800
frame

1626
01:50:37,179 --> 01:50:53,260
I guess one question is what happens

1627
01:50:41,439 --> 01:50:57,639
when we what happens when we rewind our

1628
01:50:53,260 --> 01:51:01,030
arenas here so when we're reloading the

1629
01:50:57,639 --> 01:51:07,599
process when we're reloading the state

1630
01:51:01,029 --> 01:51:09,998
for replay we do have a problem where if

1631
01:51:07,599 --> 01:51:14,788
we free a block what's gonna happen to

1632
01:51:09,998 --> 01:51:14,788
that block when we reload it later so

1633
01:51:19,590 --> 01:51:28,929
here we go when we begin recording we

1634
01:51:27,399 --> 01:51:31,719
come through here and we look at all of

1635
01:51:28,929 --> 01:51:34,078
the source blocks that we've got and we

1636
01:51:31,719 --> 01:51:42,639
write them all out and then we finish

1637
01:51:34,078 --> 01:51:48,759
right when we need to play it back we

1638
01:51:42,639 --> 01:51:55,840
load them all and we load them at their

1639
01:51:48,760 --> 01:51:58,019
locations why is that that is what this

1640
01:51:55,840 --> 01:52:01,439
is isn't it

1641
01:51:58,019 --> 01:52:01,439
why does it say that

1642
01:52:08,300 --> 01:52:13,909
so it seems like that should be fine

1643
01:52:33,800 --> 01:52:50,329
what I would say there is it is a little

1644
01:52:37,618 --> 01:52:54,139
bit weird do we just never deallocate

1645
01:52:50,328 --> 01:52:54,139
locks or something

1646
01:53:05,599 --> 01:53:09,050
because there is a little bit of

1647
01:53:07,219 --> 01:53:11,000
weirdness there like in terms of like

1648
01:53:09,050 --> 01:53:14,300
watching what gets allocated during

1649
01:53:11,000 --> 01:53:16,460
looping and what doesn't so when we

1650
01:53:14,300 --> 01:53:18,199
begin recording our input here you know

1651
01:53:16,460 --> 01:53:19,819
we're saying like okay go through all of

1652
01:53:18,198 --> 01:53:22,729
these and look at what the memory blocks

1653
01:53:19,819 --> 01:53:25,599
were at that particular time and you

1654
01:53:22,729 --> 01:53:25,598
know we saved them out

1655
01:53:45,109 --> 01:53:50,838
hmm I'm also not sure what that final I

1656
01:53:48,769 --> 01:53:52,939
guess that final null is just what lets

1657
01:53:50,838 --> 01:53:54,439
us know we're done so here we keep

1658
01:53:52,939 --> 01:54:03,019
reading till we get a base pointer of

1659
01:53:54,439 --> 01:54:05,030
zero yeah I don't know I mean that seems

1660
01:54:03,019 --> 01:54:07,958
like that would be fine the win32 clear

1661
01:54:05,029 --> 01:54:07,958
blocks by mask

1662
01:54:25,109 --> 01:54:30,269
I guess what I would say is when we're

1663
01:54:28,109 --> 01:54:32,488
loading these back in how do we do the

1664
01:54:30,270 --> 01:54:33,929
mapping so when we come in here and we

1665
01:54:32,488 --> 01:54:39,839
say like here's the saved memory block

1666
01:54:33,929 --> 01:54:44,149
so to get that thing how does this even

1667
01:54:39,840 --> 01:54:52,920
work because do we just prevent all

1668
01:54:44,149 --> 01:54:56,420
memory block memory block freeing during

1669
01:54:52,920 --> 01:54:56,420
that process I guess we do

1670
01:55:12,750 --> 01:55:22,510
so what happens when I do a winter it's

1671
01:55:15,399 --> 01:55:24,969
your allocate so in here we presumably

1672
01:55:22,510 --> 01:55:26,440
set yeah allocated during looping right

1673
01:55:24,970 --> 01:55:30,340
so we know whether this thing was

1674
01:55:26,439 --> 01:55:33,099
allocated during looping or not I'm

1675
01:55:30,340 --> 01:55:37,060
gonna go ahead and say that this creates

1676
01:55:33,100 --> 01:55:41,470
sort of a problem for us because if the

1677
01:55:37,060 --> 01:55:47,710
looping flag is sets this but we are an

1678
01:55:41,470 --> 01:55:51,730
on restored piece of memory then this

1679
01:55:47,710 --> 01:55:55,510
should really not be set because it's

1680
01:55:51,729 --> 01:56:04,859
gonna be allocated or freed during

1681
01:55:55,510 --> 01:56:04,860
looping but it doesn't matter

1682
01:56:07,079 --> 01:56:13,920
right so where's the non restored memory

1683
01:56:21,329 --> 01:56:38,409
curious like what are the what are the

1684
01:56:31,930 --> 01:56:45,460
memory flags we can set they're not

1685
01:56:38,409 --> 01:56:47,229
restored so when we record the input if

1686
01:56:45,460 --> 01:56:50,850
something is not restored then it

1687
01:56:47,229 --> 01:56:54,129
doesn't get written here right but

1688
01:56:50,850 --> 01:57:00,789
what's kind of busted is that when we do

1689
01:56:54,130 --> 01:57:05,440
a free by mask this is not good

1690
01:57:00,789 --> 01:57:08,579
right I mean I guess we I guess it's

1691
01:57:05,439 --> 01:57:20,879
okay cuz non restored would be set there

1692
01:57:08,579 --> 01:57:24,519
maybe but those are looping Flags only

1693
01:57:20,880 --> 01:57:27,250
so it seems like you really don't want

1694
01:57:24,520 --> 01:57:30,040
to actually do this because if something

1695
01:57:27,250 --> 01:57:34,180
was a non restored block then you really

1696
01:57:30,039 --> 01:57:36,430
don't want it to be cleared right so I

1697
01:57:34,180 --> 01:57:39,670
feel like that's just a bug in this

1698
01:57:36,430 --> 01:57:42,430
system where we want to make sure that

1699
01:57:39,670 --> 01:57:44,170
when we're recording you know we play

1700
01:57:42,430 --> 01:57:47,110
back what was supposed to happen and

1701
01:57:44,170 --> 01:57:53,829
that's all fine but when we go to

1702
01:57:47,109 --> 01:57:56,519
cleared the allocated blocks we need to

1703
01:57:53,829 --> 01:57:59,229
make sure that anything that was not

1704
01:57:56,520 --> 01:58:03,790
supposed to be restored should not get

1705
01:57:59,229 --> 01:58:06,969
cleared you know what I mean so I feel

1706
01:58:03,789 --> 01:58:09,869
like this has to respect that flag or

1707
01:58:06,970 --> 01:58:09,869
something

1708
01:58:20,159 --> 01:58:22,220
you

1709
01:58:23,329 --> 01:58:29,939
I'm also not sure when we call win32 end

1710
01:58:26,399 --> 01:58:31,529
input playback why we would anything

1711
01:58:29,939 --> 01:58:36,569
that was freed during living we don't

1712
01:58:31,529 --> 01:58:44,750
know that we're actually at the end so

1713
01:58:36,569 --> 01:58:44,750
this seems questionable to me

1714
01:59:04,998 --> 01:59:10,349
no it's it's okay because we're not

1715
01:59:08,609 --> 01:59:12,058
talking about future ones it will just

1716
01:59:10,349 --> 01:59:14,399
free the ones that have been yeah okay

1717
01:59:12,059 --> 01:59:16,439
now that's fine so I think the problem

1718
01:59:14,399 --> 01:59:18,599
here is just yet like that freed during

1719
01:59:16,439 --> 01:59:21,619
looping and the allocated during looping

1720
01:59:18,599 --> 01:59:29,369
Flags I feel like that has to be

1721
01:59:21,618 --> 01:59:31,759
respected it has to respect it has to

1722
01:59:29,368 --> 01:59:38,819
respect the non restored part of things

1723
01:59:31,760 --> 01:59:40,199
right so if the memory type here you

1724
01:59:38,819 --> 01:59:55,228
know I think we want to do something

1725
01:59:40,198 --> 02:00:05,998
more like this where we say if we're in

1726
01:59:55,229 --> 02:00:08,130
the loop and we say that this is

1727
02:00:05,998 --> 02:00:11,639
supposed to be restored then we're gonna

1728
02:00:08,130 --> 02:00:13,469
do a looping allocate but otherwise

1729
02:00:11,639 --> 02:00:16,469
we're not because it's a non restored

1730
02:00:13,469 --> 02:00:19,979
memory and then in here it would be the

1731
02:00:16,469 --> 02:00:23,489
same way so if the memory block in

1732
02:00:19,979 --> 02:00:26,668
question has flags that indicate that we

1733
02:00:23,488 --> 02:00:34,259
wouldn't restore it then we don't want

1734
02:00:26,668 --> 02:00:44,359
to do that so win32 block flags or it's

1735
02:00:34,260 --> 02:00:44,360
block block Flags I guess I think

1736
02:00:45,470 --> 02:00:55,070
it's that I think that's what we

1737
02:00:50,460 --> 02:00:58,170
actually want to have happen there and

1738
02:00:55,069 --> 02:01:02,369
so that should happen and then now I

1739
02:00:58,170 --> 02:01:05,640
argue as I said before this should be a

1740
02:01:02,369 --> 02:01:10,380
non restored memory piece right so I'm

1741
02:01:05,640 --> 02:01:12,030
not sure about that because that's a

1742
02:01:10,380 --> 02:01:15,359
fairly complex system now we should

1743
02:01:12,029 --> 02:01:22,050
probably pull it out and get it a little

1744
02:01:15,359 --> 02:01:23,759
bit more tested but yeah so now that

1745
02:01:22,050 --> 02:01:25,739
frame arena is not causing us problems

1746
02:01:23,760 --> 02:01:29,119
which is good I also want to make sure

1747
02:01:25,739 --> 02:01:31,590
we're not getting a memory leak in there

1748
02:01:29,119 --> 02:01:34,019
because that's pretty tricky now because

1749
02:01:31,590 --> 02:01:39,960
it's like doing sort of this behind the

1750
02:01:34,020 --> 02:01:43,080
scenes saver store stuff so that looks

1751
02:01:39,960 --> 02:01:46,529
leaky right to me

1752
02:01:43,079 --> 02:01:48,630
so I I think we're still I think that's

1753
02:01:46,529 --> 02:01:52,619
still bad in that I think that memory is

1754
02:01:48,630 --> 02:01:54,329
still not quite right so let's see here

1755
02:01:52,619 --> 02:01:56,010
yeah you know that frame arena is

1756
02:01:54,329 --> 02:01:58,739
supposed to have sonication flags set to

1757
02:01:56,010 --> 02:02:01,400
not restored it's supposed to be able to

1758
02:01:58,739 --> 02:02:01,399
clear itself

1759
02:02:09,328 --> 02:02:13,868
and I guess the other thing that I'm not

1760
02:02:12,189 --> 02:02:18,879
sure about is sewn on was the other

1761
02:02:13,868 --> 02:02:23,380
problem with non restored memory he's

1762
02:02:18,880 --> 02:02:29,050
like guess you really can't the arena

1763
02:02:23,380 --> 02:02:32,409
itself has to have its stuff restored or

1764
02:02:29,050 --> 02:02:35,500
not restored as well and that's another

1765
02:02:32,408 --> 02:02:43,089
part that seems busted like we would

1766
02:02:35,500 --> 02:02:55,029
need some way of we would need some way

1767
02:02:43,090 --> 02:02:57,069
there of having the arena get like we

1768
02:02:55,029 --> 02:03:01,179
would need the arena's actual data

1769
02:02:57,069 --> 02:03:04,210
itself to not be restored to you know

1770
02:03:01,179 --> 02:03:09,969
what I mean so if you look at what would

1771
02:03:04,210 --> 02:03:14,340
have to happen here like this needs to

1772
02:03:09,969 --> 02:03:14,340
be that and it needs to be bootstrapped

1773
02:03:16,559 --> 02:03:25,300
so they its allocated in itself right if

1774
02:03:24,520 --> 02:03:28,360
that makes sense

1775
02:03:25,300 --> 02:03:30,849
because otherwise like you wouldn't yeah

1776
02:03:28,359 --> 02:03:35,198
like it just wouldn't work so we kind of

1777
02:03:30,849 --> 02:03:40,510
need to do something where the frame

1778
02:03:35,198 --> 02:03:42,488
arena itself is put into the non

1779
02:03:40,510 --> 02:03:48,039
restored memory so that it can always

1780
02:03:42,488 --> 02:03:49,539
actually be like non restored I know

1781
02:03:48,039 --> 02:03:52,118
that sounds weird but there's no other

1782
02:03:49,539 --> 02:03:55,420
way to do it because otherwise the data

1783
02:03:52,118 --> 02:03:57,279
for which blocks are in it is getting

1784
02:03:55,420 --> 02:03:59,408
restored but the blocks aren't getting

1785
02:03:57,279 --> 02:04:02,078
restored and we want the whole thing to

1786
02:03:59,408 --> 02:04:04,299
be non restored it's just it's running

1787
02:04:02,078 --> 02:04:08,460
along with the frames and it's just

1788
02:04:04,300 --> 02:04:08,460
supposed to be that way you know

1789
02:04:11,420 --> 02:04:19,980
so inside the memory system it's where

1790
02:04:17,399 --> 02:04:26,099
we do a bootstrap off roots right on

1791
02:04:19,979 --> 02:04:37,589
that so inside here where we do a

1792
02:04:26,100 --> 02:04:44,760
bootstrap push struct this we should be

1793
02:04:37,590 --> 02:04:47,190
able to call directly and the struct

1794
02:04:44,760 --> 02:04:53,640
size is just going to be the size of the

1795
02:04:47,189 --> 02:04:57,319
memory know the offsets zero the params

1796
02:04:53,640 --> 02:04:57,320
are non restored arena

1797
02:04:59,869 --> 02:05:05,779
what's the sort of bootstrap trims

1798
02:05:06,710 --> 02:05:18,480
dime-store arena I think that's all we

1799
02:05:09,689 --> 02:05:24,689
need right so I think that's good and

1800
02:05:18,479 --> 02:05:27,389
then in here right we just need the

1801
02:05:24,689 --> 02:05:29,069
frame arena is now pointer always so you

1802
02:05:27,390 --> 02:05:38,280
don't need to take the address of it but

1803
02:05:29,069 --> 02:05:40,319
everything else is fine so that keeps

1804
02:05:38,279 --> 02:05:41,789
everything in non restored memory and so

1805
02:05:40,319 --> 02:05:43,349
I feel like that should work and we

1806
02:05:41,789 --> 02:05:50,279
should be able to verify that no one is

1807
02:05:43,350 --> 02:05:54,660
touching that memory don't really know

1808
02:05:50,279 --> 02:05:59,609
what Chuck arena does I don't remember

1809
02:05:54,659 --> 02:06:03,948
writing that all right that's a nonsense

1810
02:05:59,609 --> 02:06:03,948
call so we just cleared it

1811
02:06:09,550 --> 02:06:20,930
so let's see here moving on let's see if

1812
02:06:18,829 --> 02:06:22,729
we can make that a little more stable

1813
02:06:20,930 --> 02:06:25,070
now and it should I want to be able to

1814
02:06:22,729 --> 02:06:31,039
actually have it so it doesn't leak that

1815
02:06:25,069 --> 02:06:34,159
memory - so when we are see here so

1816
02:06:31,039 --> 02:06:47,210
frame arena why isn't that getting

1817
02:06:34,159 --> 02:06:50,239
initialized so in here frame arena

1818
02:06:47,210 --> 02:06:52,730
that's supposed to be allocated here so

1819
02:06:50,239 --> 02:06:57,469
if not game state oh that needs to be

1820
02:06:52,729 --> 02:07:00,879
set up right away so as soon as we get

1821
02:06:57,470 --> 02:07:00,880
one of those we need one of these

1822
02:07:15,448 --> 02:07:37,299
and why are we not

1823
02:07:19,769 --> 02:07:51,510
initializing that so here's the game

1824
02:07:37,300 --> 02:07:51,510
state here's a bootstrapping it

1825
02:07:55,380 --> 02:08:04,719
there's destruct

1826
02:07:58,380 --> 02:08:08,340
there's the frame arena nope Wow

1827
02:08:04,719 --> 02:08:08,340
that's kind of dangerous

1828
02:08:10,420 --> 02:08:20,710
that's just zeroed out the memory of

1829
02:08:12,368 --> 02:08:23,069
that thing okay so if we clear a memory

1830
02:08:20,710 --> 02:08:23,069
arena

1831
02:08:28,869 --> 02:08:39,059
oh wait no that that is what should be

1832
02:08:36,729 --> 02:08:41,349
doing right so it should be calling this

1833
02:08:39,060 --> 02:08:46,870
all right so what was the problem

1834
02:08:41,350 --> 02:08:49,510
yes that wasn't so dangerous so what was

1835
02:08:46,869 --> 02:08:54,720
the problem here come down here sit

1836
02:08:49,510 --> 02:08:54,720
clear the marina's fine

1837
02:09:01,899 --> 02:09:09,549
oh so in this case if we were the one we

1838
02:09:04,899 --> 02:09:13,359
really don't want to clear up to that

1839
02:09:09,550 --> 02:09:16,600
point so I guess now we really do want

1840
02:09:13,359 --> 02:09:25,380
the temp them to right so here we would

1841
02:09:16,600 --> 02:09:25,380
want to do n temporary memory all right

1842
02:09:38,760 --> 02:09:43,300
so this is kind of tricky to get

1843
02:09:41,109 --> 02:09:46,139
something that allocates across the

1844
02:09:43,300 --> 02:09:50,800
frame boundary when you do your restore

1845
02:09:46,140 --> 02:09:52,210
not so simple there might have been a

1846
02:09:50,800 --> 02:09:54,039
better way to do this if we added

1847
02:09:52,210 --> 02:10:01,090
support in the system for it more

1848
02:09:54,039 --> 02:10:02,948
directly I suppose so there is that so

1849
02:10:01,090 --> 02:10:11,140
we need to make sure we don't free the

1850
02:10:02,948 --> 02:10:14,859
actual storage for the arena itself that

1851
02:10:11,140 --> 02:10:16,750
seems okay and so I want to make sure to

1852
02:10:14,859 --> 02:10:18,880
let me let it run in optimize note I

1853
02:10:16,750 --> 02:10:20,649
want to make sure that that's not leaky

1854
02:10:18,880 --> 02:10:22,630
like I want to make sure that that we

1855
02:10:20,649 --> 02:10:25,420
didn't like mess up how we're managing

1856
02:10:22,630 --> 02:10:28,810
that memory pool there because it's very

1857
02:10:25,420 --> 02:10:35,920
subtle much much more subtle than

1858
02:10:28,810 --> 02:10:37,750
anything else we are ever doing so it

1859
02:10:35,920 --> 02:10:39,219
looks like that's loaded everything and

1860
02:10:37,750 --> 02:10:42,399
that's gonna load I don't see any

1861
02:10:39,219 --> 02:10:47,920
leakiness there so let me just see what

1862
02:10:42,399 --> 02:10:50,460
happens if we do this okay so now we're

1863
02:10:47,920 --> 02:10:50,460
super stable

1864
02:10:52,539 --> 02:11:00,159
so that's good all right so that's good

1865
02:10:57,909 --> 02:11:03,130
so now I can actually do the thing I

1866
02:11:00,159 --> 02:11:07,149
wanted which is to see what was going on

1867
02:11:03,130 --> 02:11:08,710
with that error there and so maybe we

1868
02:11:07,149 --> 02:11:12,339
can even do a thing where all right so

1869
02:11:08,710 --> 02:11:13,720
if I do loop live code editing here so

1870
02:11:12,340 --> 02:11:14,980
we were just stuck in this loop we're

1871
02:11:13,720 --> 02:11:15,520
constantly trying to search for that

1872
02:11:14,979 --> 02:11:17,109
thing

1873
02:11:15,520 --> 02:11:18,130
so I find I want to do the debugger

1874
02:11:17,109 --> 02:11:24,000
action a lot to do so I'm going to

1875
02:11:18,130 --> 02:11:27,279
recompile live code edit into debug mode

1876
02:11:24,000 --> 02:11:31,659
so now I think that's what's being run

1877
02:11:27,279 --> 02:11:34,539
right and now going to sim region and

1878
02:11:31,659 --> 02:11:37,559
then check forget closest reversible in

1879
02:11:34,539 --> 02:11:42,640
debug mode and see why it's not finding

1880
02:11:37,560 --> 02:11:45,190
a traversable in this case right so I

1881
02:11:42,640 --> 02:11:47,530
want to see inside execute brain here oh

1882
02:11:45,189 --> 02:11:50,949
this is what's gonna happen

1883
02:11:47,529 --> 02:11:52,630
we're gonna search for the hop target so

1884
02:11:50,949 --> 02:11:54,789
if we look at where the where we're

1885
02:11:52,630 --> 02:12:00,970
looking to go like this is where we're

1886
02:11:54,789 --> 02:12:04,539
looking to go right I want to know why

1887
02:12:00,970 --> 02:12:06,820
we're not properly considering the Z

1888
02:12:04,539 --> 02:12:08,949
values there or like what's happening

1889
02:12:06,819 --> 02:12:12,279
right look what what's going on inside

1890
02:12:08,949 --> 02:12:16,119
get closest reversible such that we

1891
02:12:12,279 --> 02:12:23,769
never get there you know what I mean so

1892
02:12:16,119 --> 02:12:28,720
two points is the you know target under

1893
02:12:23,770 --> 02:12:31,420
consideration and in theory right like

1894
02:12:28,720 --> 02:12:35,789
these Z's we should get to a point where

1895
02:12:31,420 --> 02:12:35,789
these Z's are more reasonable right

1896
02:12:42,420 --> 02:12:47,859
so there's one with like a really steep

1897
02:12:45,479 --> 02:13:00,069
like these these are all like wickedly

1898
02:12:47,859 --> 02:13:02,799
far we kinda feel like we're gonna need

1899
02:13:00,069 --> 02:13:06,058
something to narrow this down for us

1900
02:13:02,800 --> 02:13:06,059
like does it ever get here

1901
02:13:14,840 --> 02:13:18,010
that's kind of weird

1902
02:13:31,470 --> 02:13:38,560
so we do get in here and if we look at

1903
02:13:36,159 --> 02:13:41,439
what the two-point value is so it is a

1904
02:13:38,560 --> 02:13:44,920
value that's that's close you know in Z

1905
02:13:41,439 --> 02:13:49,169
it's close enough so what happens here

1906
02:13:44,920 --> 02:13:51,880
when we do that we zero out the Z value

1907
02:13:49,170 --> 02:13:54,069
we do the length squared of this thing

1908
02:13:51,880 --> 02:13:56,680
so that's just going to be the X and the

1909
02:13:54,069 --> 02:13:58,029
y values and so we look at what that

1910
02:13:56,680 --> 02:13:59,260
distance square it is and we look at

1911
02:13:58,029 --> 02:14:02,849
what the closest just to the square it

1912
02:13:59,260 --> 02:14:02,850
is right so we're going to take that one

1913
02:14:08,430 --> 02:14:13,840
you know and that that looks like it's

1914
02:14:11,890 --> 02:14:22,020
operating basically how I would have

1915
02:14:13,840 --> 02:14:22,020
thought it would be operating you know

1916
02:14:28,738 --> 02:14:35,678
so I look at the test distance squared

1917
02:14:31,118 --> 02:14:39,029
there you know there's an even closer

1918
02:14:35,679 --> 02:14:39,029
one right

1919
02:14:50,750 --> 02:14:55,600
if that's the hop target what's the

1920
02:14:56,590 --> 02:15:13,310
actual target so this is slightly higher

1921
02:15:01,939 --> 02:15:16,250
than the target anyway this should end

1922
02:15:13,310 --> 02:15:18,650
up being something like like we should

1923
02:15:16,250 --> 02:15:32,560
end up having one here that's really

1924
02:15:18,649 --> 02:15:36,859
close let's see which one's get closer

1925
02:15:32,560 --> 02:15:44,750
so there's a zero that's still quite a

1926
02:15:36,859 --> 02:15:47,659
bit far away and why here's one that's

1927
02:15:44,750 --> 02:15:50,960
like lower down than it and we are

1928
02:15:47,659 --> 02:15:53,809
accepting that move so that's like to

1929
02:15:50,960 --> 02:15:55,640
the left a little right

1930
02:15:53,810 --> 02:15:59,870
I'm also going to set a breakpoint down

1931
02:15:55,640 --> 02:16:03,860
here so here's one that's right in front

1932
02:15:59,869 --> 02:16:11,359
of us I mean that looks pretty good

1933
02:16:03,859 --> 02:16:16,579
right however it's z-value oddly enough

1934
02:16:11,359 --> 02:16:22,279
is the same as the hop target so that

1935
02:16:16,579 --> 02:16:25,329
would suggest that it is it actually how

1936
02:16:22,279 --> 02:16:25,329
is that possible

1937
02:16:28,979 --> 02:16:33,559
that that seems like it should be

1938
02:16:31,140 --> 02:16:33,559
impossible

1939
02:16:43,478 --> 02:16:53,269
are we accidentally searching from like

1940
02:16:48,370 --> 02:16:55,340
back some other location that's not

1941
02:16:53,269 --> 02:17:00,710
where we're actually hopping from or

1942
02:16:55,340 --> 02:17:11,469
something I mean we were taking the body

1943
02:17:00,709 --> 02:17:14,659
position and we're adding the target why

1944
02:17:11,468 --> 02:17:21,799
how was there one with a Z that matched

1945
02:17:14,659 --> 02:17:29,000
our search Z like that just doesn't add

1946
02:17:21,799 --> 02:17:31,218
up for me right because what we saw

1947
02:17:29,000 --> 02:17:36,079
there was that the traversable was like

1948
02:17:31,218 --> 02:17:39,169
at the same place something's fishy

1949
02:17:36,079 --> 02:17:41,029
there's something we're kitten we're

1950
02:17:39,170 --> 02:17:43,370
getting closer here but something's

1951
02:17:41,029 --> 02:17:48,349
weird is good III don't know what's

1952
02:17:43,370 --> 02:17:53,479
going on but it's not good right I turn

1953
02:17:48,349 --> 02:17:57,340
off the loop so something is happening

1954
02:17:53,478 --> 02:18:02,349
where it actually thinks those points

1955
02:17:57,340 --> 02:18:02,349
are at the same Z level

1956
02:18:08,889 --> 02:18:18,129
also there's some weird stuff happening

1957
02:18:11,239 --> 02:18:18,129
with Z as well the actual like C bias

1958
02:18:30,179 --> 02:18:44,229
that's a real puzzler and I have no idea

1959
02:18:37,270 --> 02:18:46,239
what's going on there because we

1960
02:18:44,229 --> 02:18:48,520
shouldn't have seen like that debt was a

1961
02:18:46,239 --> 02:18:50,979
totally bogus value it says if there was

1962
02:18:48,520 --> 02:18:53,440
a traversable right there and we know

1963
02:18:50,979 --> 02:18:55,209
that there isn't because we're drawing

1964
02:18:53,440 --> 02:18:57,130
the traversals as the purple squares

1965
02:18:55,209 --> 02:19:02,968
there so if there was one there we

1966
02:18:57,129 --> 02:19:06,339
should have seen it and I don't get why

1967
02:19:02,968 --> 02:19:08,109
so how is what's going on

1968
02:19:06,340 --> 02:19:10,059
I'm super stumped right now and I don't

1969
02:19:08,110 --> 02:19:11,739
have any way to debug this so I'm gonna

1970
02:19:10,059 --> 02:19:17,799
have to do something to simplify this

1971
02:19:11,739 --> 02:19:19,690
down I guess what I can do is only add

1972
02:19:17,799 --> 02:19:21,959
traversable x' in just those two

1973
02:19:19,690 --> 02:19:26,950
locations and nowhere else in the world

1974
02:19:21,959 --> 02:19:29,619
so like you know I could change this to

1975
02:19:26,950 --> 02:19:35,950
only allow traversable schemes just that

1976
02:19:29,620 --> 02:19:39,019
one room and only just in that location

1977
02:19:35,950 --> 02:19:39,019
[Music]

1978
02:19:41,250 --> 02:19:46,840
maybe so here's the one other thing I

1979
02:19:44,440 --> 02:19:50,771
want try so let's suppose I didn't move

1980
02:19:46,840 --> 02:19:54,340
the stairs at all there's not moved I'm

1981
02:19:50,771 --> 02:20:00,670
assuming I can still hop on them right

1982
02:19:54,340 --> 02:20:02,530
is that true so I can still have a cross

1983
02:20:00,670 --> 02:20:05,489
them just fine

1984
02:20:02,530 --> 02:20:12,180
if in here I set them to some smaller

1985
02:20:05,489 --> 02:20:12,180
amount so they're just gradual

1986
02:20:20,060 --> 02:20:40,369
that's allowed if I set it to slightly

1987
02:20:25,909 --> 02:20:42,709
more now I can so it's like the values

1988
02:20:40,370 --> 02:20:45,311
that we think we're multiplying by are

1989
02:20:42,709 --> 02:20:49,220
not actually the values or something

1990
02:20:45,310 --> 02:20:54,681
you know what I mean it's like it's like

1991
02:20:49,220 --> 02:20:58,789
we're somehow setting like this stuff is

1992
02:20:54,681 --> 02:21:01,851
not actually in the same space as we

1993
02:20:58,790 --> 02:21:04,311
think it is right because the difference

1994
02:21:01,851 --> 02:21:05,989
in Z between these if it was one point

1995
02:21:04,310 --> 02:21:08,949
out the entire difference here of the

1996
02:21:05,989 --> 02:21:11,949
entire stairwell is only one point four

1997
02:21:08,950 --> 02:21:11,950
right

1998
02:21:22,408 --> 02:21:30,180
so how we could actually have this not

1999
02:21:26,620 --> 02:21:30,180
pick that up I'm not sure

2000
02:21:41,949 --> 02:21:45,129
and there didn't seem to be anything we

2001
02:21:43,809 --> 02:21:47,639
could set this to that would make it

2002
02:21:45,129 --> 02:21:47,640
work either

2003
02:21:52,680 --> 02:21:58,380
that's just really really weird so

2004
02:21:56,340 --> 02:22:16,860
what's the value that we actually have

2005
02:21:58,379 --> 02:22:21,810
to do before it can't do it that's just

2006
02:22:16,860 --> 02:22:24,870
so bizarre and like that's right at the

2007
02:22:21,810 --> 02:22:29,159
edge where the random the amount of

2008
02:22:24,870 --> 02:22:32,040
randomness involved actually makes it so

2009
02:22:29,159 --> 02:22:37,021
I can't hop on these two stairs but I

2010
02:22:32,040 --> 02:22:39,840
can on this one so is ours stair height

2011
02:22:37,021 --> 02:22:42,450
way higher than we like how is this

2012
02:22:39,840 --> 02:22:45,810
possible it doesn't make any sense this

2013
02:22:42,450 --> 02:22:50,190
value here we know what it is look we

2014
02:22:45,810 --> 02:22:54,029
know it's 1.4 how is this happening this

2015
02:22:50,190 --> 02:22:57,750
is so bizarre it's like complete

2016
02:22:54,030 --> 02:22:59,730
ludicrousness something really just

2017
02:22:57,750 --> 02:23:05,790
absolutely bonkers it's happening here

2018
02:22:59,729 --> 02:23:10,549
and I have no idea what it is that's

2019
02:23:05,790 --> 02:23:10,550
gonna drive me nuts so

2020
02:23:24,760 --> 02:23:38,620
a value of 0.25 is how much we are

2021
02:23:34,750 --> 02:23:42,250
saying we're moving by all of the tiles

2022
02:23:38,620 --> 02:23:48,040
in dim Z which is supposed to be 1.4

2023
02:23:42,250 --> 02:23:52,090
that's point three five right it moves

2024
02:23:48,040 --> 02:23:54,250
up and down by another point five so if

2025
02:23:52,090 --> 02:24:00,370
you pick the absolute maximum you could

2026
02:23:54,250 --> 02:24:08,770
do it would be I guess it would be 0.35

2027
02:24:00,370 --> 02:24:11,740
plus well even that think about that for

2028
02:24:08,770 --> 02:24:14,229
a second how is that that's almost the

2029
02:24:11,739 --> 02:24:16,809
entire floor mat I must just have the

2030
02:24:14,228 --> 02:24:19,568
floor I must be this value must be much

2031
02:24:16,809 --> 02:24:21,600
larger than I think it is what did I do

2032
02:24:19,568 --> 02:24:31,079
wrong there

2033
02:24:21,600 --> 02:24:31,079
so tyldum Z what's what's going on here

2034
02:24:50,850 --> 02:24:55,988
so when we actually set this oh I'm in

2035
02:24:54,670 --> 02:24:58,329
room John I'm like why can't I find

2036
02:24:55,988 --> 02:25:02,398
anything um so when we actually do this

2037
02:24:58,329 --> 02:25:02,398
here then we say typical floor height

2038
02:25:04,379 --> 02:25:07,858
what does that do

2039
02:25:25,380 --> 02:25:33,029
so inside begin world Jenna's presumably

2040
02:25:28,140 --> 02:25:36,841
where we would set this up I looked at

2041
02:25:33,030 --> 02:25:39,181
the wrong value this entire thing could

2042
02:25:36,841 --> 02:25:45,300
have been avoided if we just looked at

2043
02:25:39,181 --> 02:25:50,791
that so really this is probably some

2044
02:25:45,300 --> 02:25:57,979
other larger value for the tile depth in

2045
02:25:50,790 --> 02:25:57,979
meters okay so what is this value

2046
02:26:21,130 --> 02:26:27,939
when do we actually set that pass it in

2047
02:26:39,540 --> 02:26:48,100
so the typical fluoride is 5 this entire

2048
02:26:43,540 --> 02:26:52,780
time so I just misread that value I

2049
02:26:48,100 --> 02:26:54,579
don't know why all right well that was a

2050
02:26:52,780 --> 02:26:56,680
waste of time although I guess we fixed

2051
02:26:54,579 --> 02:27:00,939
them the loop live coding so I'm happy

2052
02:26:56,680 --> 02:27:04,630
that we did that but ok so when we want

2053
02:27:00,939 --> 02:27:07,409
to do the Z range there inside sim

2054
02:27:04,629 --> 02:27:11,379
region this should really be more like -

2055
02:27:07,409 --> 02:27:24,069
right my lord

2056
02:27:11,379 --> 02:27:27,129
ok that was just unfortunate all right

2057
02:27:24,069 --> 02:27:29,680
so since that was a bit of a disaster

2058
02:27:27,129 --> 02:27:32,529
there I'm gonna go ahead and say let's

2059
02:27:29,680 --> 02:27:38,350
also do one more thing which is let's

2060
02:27:32,530 --> 02:27:41,920
find out why are we not is there a

2061
02:27:38,350 --> 02:27:45,970
reason that we we don't go down and kind

2062
02:27:41,920 --> 02:27:48,969
of zoom further in to like is that

2063
02:27:45,969 --> 02:27:55,148
actually how far away we should be from

2064
02:27:48,969 --> 02:27:57,670
here you know I guess maybe it is but I

2065
02:27:55,148 --> 02:28:00,670
can't quite tell if we should be or not

2066
02:27:57,670 --> 02:28:02,379
and we need to set our alpha clipping so

2067
02:28:00,670 --> 02:28:06,460
that when we come down here it clips

2068
02:28:02,379 --> 02:28:08,739
away as well so I'm not sure what we

2069
02:28:06,459 --> 02:28:12,398
want that to be set to exactly but like

2070
02:28:08,739 --> 02:28:18,780
our clip or Alpha clip your clip plane

2071
02:28:12,398 --> 02:28:18,779
here needs to match that

2072
02:28:21,521 --> 02:28:24,239
you know

2073
02:28:28,969 --> 02:28:33,469
how far out is that stuff now

2074
02:28:39,101 --> 02:28:43,201
seems like the answer is very far out

2075
02:28:54,449 --> 02:29:01,949
so the Alpha clip here is based on what

2076
02:29:13,050 --> 02:29:21,109
and that's a little strange cuz

2077
02:29:16,819 --> 02:29:26,310
shouldn't the Alpha clip value be now

2078
02:29:21,110 --> 02:29:30,739
we'll see so is the Alpha clip stuff

2079
02:29:26,310 --> 02:29:33,751
it's based on the same setting as this

2080
02:29:30,739 --> 02:29:35,909
or not look I'm not sure what the Alpha

2081
02:29:33,751 --> 02:29:40,470
clip params actually refer to there in

2082
02:29:35,909 --> 02:29:44,190
terms of when they kick in so yeah I'm

2083
02:29:40,470 --> 02:29:45,960
not sure but it does seem like those

2084
02:29:44,190 --> 02:29:47,251
should have been parameterised off of

2085
02:29:45,960 --> 02:29:49,170
the near clip plane but doesn't look

2086
02:29:47,251 --> 02:29:52,681
like they were so I'm not sure if that's

2087
02:29:49,171 --> 02:29:54,659
like actually just something that kicks

2088
02:29:52,681 --> 02:29:56,810
in in some other way you know what I

2089
02:29:54,659 --> 02:29:56,810
mean

2090
02:30:03,560 --> 02:30:13,890
and it seems like that's also wants to

2091
02:30:07,319 --> 02:30:18,000
be measured in pure Z as well kind of a

2092
02:30:13,890 --> 02:30:21,289
separate issue but this is pretty good

2093
02:30:18,000 --> 02:30:24,750
now I can actually explore down here and

2094
02:30:21,290 --> 02:30:26,641
so you know to that I think that leaves

2095
02:30:24,750 --> 02:30:28,261
me in good shape for tomorrow because

2096
02:30:26,640 --> 02:30:31,470
then I can go do the camera stuff now

2097
02:30:28,261 --> 02:30:33,989
which is what I wanted and I can work on

2098
02:30:31,470 --> 02:30:36,930
the clip see the fog and the debug

2099
02:30:33,989 --> 02:30:40,500
camera and get that all looking proper

2100
02:30:36,931 --> 02:30:42,030
but this is much better now and I can go

2101
02:30:40,500 --> 02:30:43,950
up and down the stairs and like you can

2102
02:30:42,030 --> 02:30:47,909
see that look we want the clip C to clip

2103
02:30:43,950 --> 02:30:49,710
things in a the the near clip plane in

2104
02:30:47,909 --> 02:30:56,130
the Alpha clip those should actually be

2105
02:30:49,709 --> 02:30:58,649
measured off of the camera Z this is

2106
02:30:56,130 --> 02:31:02,220
actually should be measured off of a Z

2107
02:30:58,649 --> 02:31:06,261
of the world Z and this should be

2108
02:31:02,220 --> 02:31:09,630
measured off of the world Z - probably

2109
02:31:06,261 --> 02:31:13,229
so this is probably not what we actually

2110
02:31:09,630 --> 02:31:15,600
want similarly I don't know to what

2111
02:31:13,229 --> 02:31:17,159
extent we care about this it's like this

2112
02:31:15,601 --> 02:31:18,721
should really be doing like there's

2113
02:31:17,159 --> 02:31:21,601
there's a bunch of stuff we want to hear

2114
02:31:18,720 --> 02:31:23,939
so in terms of getting the camera Z I

2115
02:31:21,601 --> 02:31:26,851
don't think we want a fog based on the

2116
02:31:23,940 --> 02:31:36,271
camera Z I think we actually want a fog

2117
02:31:26,851 --> 02:31:38,250
based on the world Z I think and the

2118
02:31:36,271 --> 02:31:45,811
Alpha clip we would want to do the same

2119
02:31:38,250 --> 02:31:49,860
thing I think I don't really know but I

2120
02:31:45,810 --> 02:31:51,479
think this stuff is busted like we want

2121
02:31:49,860 --> 02:31:54,301
to change that measurement in the actual

2122
02:31:51,479 --> 02:31:56,569
shader and get that stuff to work

2123
02:31:54,300 --> 02:31:56,569
properly

2124
02:32:20,189 --> 02:32:26,880
I also think it seems like maybe we

2125
02:32:24,719 --> 02:32:29,609
should be like the camera doesn't seem

2126
02:32:26,879 --> 02:32:32,599
to be moving very far down in here and

2127
02:32:29,610 --> 02:32:35,250
so it seems like maybe it's a little bit

2128
02:32:32,600 --> 02:32:38,880
as far as Z is concerned it seems like

2129
02:32:35,250 --> 02:32:42,978
it's just confused about how far off set

2130
02:32:38,879 --> 02:32:45,809
it should be and I don't know if that I

2131
02:32:42,978 --> 02:32:47,519
don't know if that's because when we do

2132
02:32:45,809 --> 02:32:49,170
the room Jen and we get how far away

2133
02:32:47,520 --> 02:32:51,600
we're supposed to be like maybe this is

2134
02:32:49,170 --> 02:32:56,309
doing something dumb they're like we

2135
02:32:51,600 --> 02:32:59,579
shouldn't really let it get set to such

2136
02:32:56,309 --> 02:33:05,069
high values ever I'm not super certain

2137
02:32:59,579 --> 02:33:07,799
about that and it looks like that would

2138
02:33:05,069 --> 02:33:09,029
be more of an X count thing that's

2139
02:33:07,799 --> 02:33:12,529
happening there so it looks like it'd be

2140
02:33:09,030 --> 02:33:12,530
one of wear one of these

2141
02:33:13,040 --> 02:33:28,229
then one of these but so I'm not sure I

2142
02:33:22,228 --> 02:33:30,179
want to see 1 2 3 4 5 ok so that is

2143
02:33:28,228 --> 02:33:32,369
gonna be a larger than 15 room so I'm

2144
02:33:30,180 --> 02:33:34,860
wondering if maybe these should still

2145
02:33:32,370 --> 02:33:43,320
like this maybe got up too high too fast

2146
02:33:34,860 --> 02:33:46,739
you know what I mean so I want to take a

2147
02:33:43,319 --> 02:33:48,510
look at that I think maybe the the

2148
02:33:46,739 --> 02:33:50,930
displacement of the camera was a little

2149
02:33:48,510 --> 02:33:50,930
too much

2150
02:33:58,409 --> 02:34:02,250
because that still seems like like

2151
02:34:00,030 --> 02:34:09,030
that's still a little too far away I

2152
02:34:02,250 --> 02:34:10,799
feel like so I wonder if you know maybe

2153
02:34:09,030 --> 02:34:20,880
this should have been like this I don't

2154
02:34:10,799 --> 02:34:25,500
know it seems like those values are just

2155
02:34:20,879 --> 02:34:28,199
not right because especially because

2156
02:34:25,500 --> 02:34:31,920
this room at this scale doesn't even

2157
02:34:28,200 --> 02:34:33,320
really need to scroll much right so it's

2158
02:34:31,920 --> 02:34:37,500
kind of weird

2159
02:34:33,319 --> 02:34:38,939
the way that was set up sorry I keep

2160
02:34:37,500 --> 02:34:42,228
going here I know I'm supposed to be

2161
02:34:38,939 --> 02:34:48,659
finishing this dream but just you know

2162
02:34:42,228 --> 02:34:52,079
sometimes it's easy to get obsessive so

2163
02:34:48,659 --> 02:34:53,939
I think for the Alpha clip here I guess

2164
02:34:52,079 --> 02:34:56,700
I don't know what that distance wants to

2165
02:34:53,939 --> 02:35:00,360
be exactly in terms of where we start

2166
02:34:56,700 --> 02:35:06,829
clipping but I guess we want to clip

2167
02:35:00,360 --> 02:35:06,829
something like I don't know

2168
02:35:22,398 --> 02:35:25,398
almost

2169
02:35:38,059 --> 02:35:44,299
um so that seems really nice and let me

2170
02:35:41,478 --> 02:35:47,049
turn off the movement points to because

2171
02:35:44,299 --> 02:35:47,049
we don't really need those

2172
02:35:56,681 --> 02:36:11,620
and so yeah seems like that works pretty

2173
02:36:07,090 --> 02:36:14,280
seamlessly now first I don't really know

2174
02:36:11,620 --> 02:36:14,280
what happened there

2175
02:36:19,770 --> 02:36:25,738
so it looks like that range needs to be

2176
02:36:21,689 --> 02:36:27,238
maybe a little tighter we probably also

2177
02:36:25,738 --> 02:36:29,068
want to make it so it's the camera

2178
02:36:27,238 --> 02:36:41,548
follows someone up and down the stairs

2179
02:36:29,068 --> 02:36:54,778
so you don't get that problem but yeah

2180
02:36:41,549 --> 02:36:57,629
that seems pretty good right um let's go

2181
02:36:54,779 --> 02:37:02,988
ahead and do brief Q&amp;A and then I'm

2182
02:36:57,629 --> 02:37:02,989
gonna bow out until tomorrow

2183
02:37:25,318 --> 02:37:29,100
I mean if we really want to make this

2184
02:37:27,148 --> 02:37:32,088
spooky we could turn off the moonlight

2185
02:37:29,100 --> 02:37:32,088
too right like

2186
02:38:16,560 --> 02:38:21,729
trying to load the complete set of v0h

2187
02:38:19,569 --> 02:38:25,300
SAS data set with the latest github

2188
02:38:21,729 --> 02:38:28,000
handmade hero cope it doesn't work so

2189
02:38:25,300 --> 02:38:32,350
did you did you actually use the HSA

2190
02:38:28,000 --> 02:38:36,101
editor right did you actually do HHA

2191
02:38:32,351 --> 02:38:40,540
edit - rewrite and move them all - v2s

2192
02:38:36,101 --> 02:38:43,360
like I did like you got to do this those

2193
02:38:40,540 --> 02:38:47,370
are v-0 so you got to do rewrite and

2194
02:38:43,360 --> 02:38:54,431
then the HHA in question like you know

2195
02:38:47,370 --> 02:38:57,341
that and then you have to do to update

2196
02:38:54,431 --> 02:38:58,721
them will ship a complete version as

2197
02:38:57,341 --> 02:39:00,250
soon as I'm done with this but we're

2198
02:38:58,720 --> 02:39:02,500
kind of in the middle of that now so I'm

2199
02:39:00,250 --> 02:39:04,500
not going to constantly update those

2200
02:39:02,500 --> 02:39:08,171
files if that makes sense

2201
02:39:04,500 --> 02:39:11,800
but so you need to use HHA edit to bring

2202
02:39:08,171 --> 02:39:14,681
them in I will probably soon try to get

2203
02:39:11,800 --> 02:39:17,591
to the point where we rebuild all of our

2204
02:39:14,681 --> 02:39:24,131
assets with one call because we can do

2205
02:39:17,591 --> 02:39:27,790
that now but what's the status on the

2206
02:39:24,130 --> 02:39:35,890
Rattler ask Alan I have no idea I

2207
02:39:27,790 --> 02:39:37,030
haven't seen it had just clipped into

2208
02:39:35,890 --> 02:39:38,319
the wall for sell corrected you plan

2209
02:39:37,030 --> 02:39:39,489
doing a z-buffer tricks to keep sprites

2210
02:39:38,319 --> 02:39:43,270
from being hidden by three of John -

2211
02:39:39,489 --> 02:39:46,030
yeah we already actually did that but we

2212
02:39:43,271 --> 02:39:47,860
had like when we updated our sprite code

2213
02:39:46,030 --> 02:39:52,391
I'm kind of holding off on that to

2214
02:39:47,860 --> 02:40:03,131
decide exactly what goes on here so if

2215
02:39:52,390 --> 02:40:06,609
you look inside the entity code here we

2216
02:40:03,130 --> 02:40:09,279
do our computation of where everything

2217
02:40:06,610 --> 02:40:13,750
is and then we do the push bright call

2218
02:40:09,280 --> 02:40:17,891
here on these the scaled axes and then

2219
02:40:13,750 --> 02:40:21,011
if you go into the push bright call you

2220
02:40:17,890 --> 02:40:24,250
can see that it doesn't use an easy bias

2221
02:40:21,011 --> 02:40:28,271
right now if we did use some Z bias it

2222
02:40:24,250 --> 02:40:29,620
would work temporarily anyway so for

2223
02:40:28,271 --> 02:40:32,140
example if we just

2224
02:40:29,620 --> 02:40:34,329
you know said that and and allowed there

2225
02:40:32,139 --> 02:40:36,100
to be some Z bias and there we could set

2226
02:40:34,329 --> 02:40:39,940
that value to something that would fix

2227
02:40:36,101 --> 02:40:42,130
it right but you can see like there's a

2228
02:40:39,940 --> 02:40:45,220
bunch of stuff we have to account for in

2229
02:40:42,129 --> 02:40:47,649
this case we have we want these to be

2230
02:40:45,219 --> 02:40:50,229
proportional to how much is actually

2231
02:40:47,649 --> 02:40:52,539
going on and we need to like set them

2232
02:40:50,229 --> 02:40:56,319
per sprite so that sprites stack on each

2233
02:40:52,540 --> 02:41:00,010
other and other kinds of stuff like this

2234
02:40:56,319 --> 02:41:07,000
right we also don't want to use that for

2235
02:41:00,010 --> 02:41:08,950
fogging probably hard to say but you can

2236
02:41:07,000 --> 02:41:09,790
you can see we sort of already did solve

2237
02:41:08,950 --> 02:41:11,860
the problem

2238
02:41:09,790 --> 02:41:14,561
in a certain sense but we haven't gone

2239
02:41:11,860 --> 02:41:16,450
and spent the time to tune all that to

2240
02:41:14,560 --> 02:41:19,449
work properly but the renderer does know

2241
02:41:16,450 --> 02:41:24,780
how to do it so it already has the

2242
02:41:19,450 --> 02:41:24,780
ability to work with that code

2243
02:41:40,569 --> 02:41:53,110
ooh oh I forgot we got it we gotta get

2244
02:41:44,680 --> 02:41:54,610
rid of the head thing there oh man we

2245
02:41:53,110 --> 02:42:19,090
actually have an area that would have

2246
02:41:54,610 --> 02:42:22,771
more than 4,000 ice enemies mm-hmm we're

2247
02:42:19,090 --> 02:42:25,771
getting into beef beef territory I guess

2248
02:42:22,771 --> 02:42:25,771
ouch

2249
02:42:29,370 --> 02:42:35,560
but anyway yes so that that's what's

2250
02:42:32,530 --> 02:42:37,210
happening in there um so what we want to

2251
02:42:35,559 --> 02:42:38,590
do eventually when we go to clean that

2252
02:42:37,209 --> 02:42:41,259
coat up is we're going to decide like

2253
02:42:38,590 --> 02:42:45,420
how this stuff is actually gonna get set

2254
02:42:41,260 --> 02:42:45,420
and we're gonna pass it in from outside

2255
02:42:53,840 --> 02:42:58,670
can you explain a between keep alec in

2256
02:42:56,090 --> 02:43:04,399
virtual AK and for what scenario they

2257
02:42:58,670 --> 02:43:09,110
are appropriate yeah so I guess I

2258
02:43:04,399 --> 02:43:22,039
couldn't really tell you why Hiep alec

2259
02:43:09,110 --> 02:43:24,319
exists really so here's the function

2260
02:43:22,040 --> 02:43:28,851
that's are being asked about you've seen

2261
02:43:24,319 --> 02:43:32,629
virtual lock we don't call this one and

2262
02:43:28,851 --> 02:43:38,030
I wish I knew what the point of it was I

2263
02:43:32,629 --> 02:43:45,260
really don't it's basically giving you

2264
02:43:38,030 --> 02:43:47,271
access to a malloc style thing you can

2265
02:43:45,261 --> 02:43:51,229
do heap Alec and you can do heap free

2266
02:43:47,271 --> 02:43:52,971
and it will actually try to handle

2267
02:43:51,229 --> 02:43:58,819
allocating and freeing memory for you

2268
02:43:52,970 --> 02:44:01,840
and I have never really used them every

2269
02:43:58,819 --> 02:44:05,779
process in Windows has one of these and

2270
02:44:01,840 --> 02:44:07,851
I just I don't know what the point of it

2271
02:44:05,780 --> 02:44:10,190
is I'm assuming that the point of it is

2272
02:44:07,851 --> 02:44:12,261
maybe for the operating system to be

2273
02:44:10,190 --> 02:44:14,710
able to interchange memory with you on

2274
02:44:12,261 --> 02:44:18,069
the heap but it never really does that

2275
02:44:14,709 --> 02:44:20,209
there probably are some calls that do

2276
02:44:18,069 --> 02:44:21,799
but this is basically like a little

2277
02:44:20,209 --> 02:44:26,899
memory allocator that runs in there

2278
02:44:21,799 --> 02:44:28,879
backed by virtual Alec right so this is

2279
02:44:26,899 --> 02:44:32,000
kind of like a utility you could almost

2280
02:44:28,879 --> 02:44:34,279
think of it that allows you to do Alex

2281
02:44:32,000 --> 02:44:35,810
and freeze on top of a virtual Alec that

2282
02:44:34,280 --> 02:44:39,550
you didn't have to call yourself that

2283
02:44:35,810 --> 02:44:41,899
the process actually manages for you and

2284
02:44:39,549 --> 02:44:46,850
to be honest I don't know what the point

2285
02:44:41,899 --> 02:44:48,890
of it is I really don't I wish I could

2286
02:44:46,851 --> 02:44:50,271
talk more intelligently to the reason

2287
02:44:48,890 --> 02:44:52,190
why windows thought it should be in

2288
02:44:50,271 --> 02:44:55,870
there I'm sure they had a good reason I

2289
02:44:52,190 --> 02:44:57,920
don't know what it was at the time

2290
02:44:55,870 --> 02:44:59,391
virtual Alec on the other hand is

2291
02:44:57,920 --> 02:45:01,101
actually the thing that interfaces with

2292
02:44:59,390 --> 02:45:03,261
the memory page table for your process

2293
02:45:01,101 --> 02:45:07,431
and that's what you actually need to use

2294
02:45:03,261 --> 02:45:10,791
to allocate memory so

2295
02:45:07,431 --> 02:45:12,771
when you call Heep a lock and keep free

2296
02:45:10,790 --> 02:45:14,930
you're not actually gonna be mapping

2297
02:45:12,771 --> 02:45:16,700
memory pages in you're gonna be going

2298
02:45:14,931 --> 02:45:21,021
through an intermediary who old map

2299
02:45:16,700 --> 02:45:22,881
pages or not so it's like a 1 removed

2300
02:45:21,021 --> 02:45:24,591
right you're gonna say allocate some

2301
02:45:22,880 --> 02:45:27,140
memory it's gonna say okay do I need to

2302
02:45:24,591 --> 02:45:30,229
virtual alt or not if I do I will if I

2303
02:45:27,140 --> 02:45:31,729
don't then I won't right I might just

2304
02:45:30,229 --> 02:45:34,489
give you a portion of memory are already

2305
02:45:31,729 --> 02:45:37,370
mapped so for our purposes we don't need

2306
02:45:34,489 --> 02:45:39,649
that really so because we do these calls

2307
02:45:37,370 --> 02:45:41,029
very infrequently so we use virtual a

2308
02:45:39,649 --> 02:45:47,149
lot directly because that's the thing

2309
02:45:41,030 --> 02:45:48,921
that actually sets up there we go that's

2310
02:45:47,149 --> 02:45:50,810
the thing that actually maps memory

2311
02:45:48,921 --> 02:45:53,001
pages in your process so it's the actual

2312
02:45:50,810 --> 02:45:55,761
memory allocator in some sense you could

2313
02:45:53,001 --> 02:45:58,251
say that gives you a page directly or

2314
02:45:55,761 --> 02:46:00,560
set up pages so this is really a thing

2315
02:45:58,251 --> 02:46:01,460
that this is what actually maps pages in

2316
02:46:00,560 --> 02:46:02,931
the virtual address space of your

2317
02:46:01,460 --> 02:46:05,029
process and says I'm actually use of

2318
02:46:02,931 --> 02:46:07,640
memory now virtual acts like a utility

2319
02:46:05,030 --> 02:46:09,440
that would work on top of that and I

2320
02:46:07,640 --> 02:46:13,880
don't really know why you would want to

2321
02:46:09,440 --> 02:46:15,530
use it you'd want to use it if the OS if

2322
02:46:13,880 --> 02:46:18,680
in order to interact with a particular

2323
02:46:15,530 --> 02:46:20,751
OS function it was going to want to take

2324
02:46:18,681 --> 02:46:27,411
a keep Alex page that they can free or

2325
02:46:20,751 --> 02:46:30,291
something right what kind of allocation

2326
02:46:27,411 --> 02:46:32,091
to use for assets well there's a couple

2327
02:46:30,290 --> 02:46:34,340
kinds so there's texture memory that

2328
02:46:32,091 --> 02:46:40,399
gets allocated for assets and we move it

2329
02:46:34,341 --> 02:46:44,331
into there then we use for the storage

2330
02:46:40,399 --> 02:46:47,479
of the actual like things that don't go

2331
02:46:44,331 --> 02:46:51,860
into texture memory like sound we just

2332
02:46:47,479 --> 02:46:54,081
use a you know we have a set of virtual

2333
02:46:51,860 --> 02:46:55,581
Alex that allocate pages for us and we

2334
02:46:54,081 --> 02:46:57,771
put them in there so they're just

2335
02:46:55,581 --> 02:47:01,280
virtually a locked and then pushed on as

2336
02:46:57,771 --> 02:47:05,091
like a stack what is the on lamp very

2337
02:47:01,280 --> 02:47:10,581
I'll represent so we have like I turned

2338
02:47:05,091 --> 02:47:12,950
off the the putting of lights in the

2339
02:47:10,581 --> 02:47:14,989
world so it doesn't do that right now

2340
02:47:12,950 --> 02:47:16,221
like there are no other lights in the

2341
02:47:14,989 --> 02:47:20,840
world besides the one that you're

2342
02:47:16,220 --> 02:47:22,869
carrying and the moon but

2343
02:47:20,840 --> 02:47:28,969
if you actually looked at the code for

2344
02:47:22,870 --> 02:47:31,970
rooms you can see that like we had some

2345
02:47:28,969 --> 02:47:35,809
code to set up some lamps in the corners

2346
02:47:31,969 --> 02:47:40,219
of rooms and so if you actually like

2347
02:47:35,809 --> 02:47:43,189
turn that back on then each of the rooms

2348
02:47:40,219 --> 02:47:45,829
has like a lamp a bright spot in the

2349
02:47:43,189 --> 02:47:48,260
corner where there is a lamp that's just

2350
02:47:45,829 --> 02:47:50,359
putting light in there right so now when

2351
02:47:48,260 --> 02:47:53,989
we walk down here it's not dark like

2352
02:47:50,359 --> 02:47:55,819
there's lamps in the corners they're

2353
02:47:53,989 --> 02:47:58,430
just there's no point to it I mean we

2354
02:47:55,819 --> 02:48:00,260
were just playing around and so that's

2355
02:47:58,430 --> 02:48:01,909
all that is and the lamps were like

2356
02:48:00,260 --> 02:48:03,590
variably colored you can see how some of

2357
02:48:01,909 --> 02:48:07,840
them are like more green or more red or

2358
02:48:03,590 --> 02:48:13,219
whatever right that that was it

2359
02:48:07,840 --> 02:48:14,540
it doesn't do anything else and so you

2360
02:48:13,219 --> 02:48:17,358
know it turned out that just wasn't very

2361
02:48:14,540 --> 02:48:19,510
interesting so I kind of turned it off

2362
02:48:17,359 --> 02:48:23,620
and forgot about it

2363
02:48:19,510 --> 02:48:23,620
yeah and that and that was it

2364
02:48:28,810 --> 02:48:35,341
all right close down

2365
02:48:35,851 --> 02:48:38,829
thank you everyone join me for an

2366
02:48:37,751 --> 02:48:40,659
episode of hand made here it's been a

2367
02:48:38,829 --> 02:48:41,800
pleasure coding with you as always if

2368
02:48:40,659 --> 02:48:43,360
you would like to follow along the

2369
02:48:41,800 --> 02:48:45,279
series at home you can always play the

2370
02:48:43,360 --> 02:48:46,721
game on handmade hero org and it comes

2371
02:48:45,280 --> 02:48:49,961
with a source code so you can play

2372
02:48:46,720 --> 02:48:52,210
around with it yourself I will be back

2373
02:48:49,960 --> 02:48:54,340
here tomorrow and I think we'll play

2374
02:48:52,210 --> 02:48:55,659
with the camera a bit tomorrow that's

2375
02:48:54,341 --> 02:48:56,829
what I wanted you today but we kind of

2376
02:48:55,659 --> 02:48:58,119
had a bunch of other stuff that kind of

2377
02:48:56,829 --> 02:48:59,501
came up and so I wanted to go I was

2378
02:48:58,120 --> 02:49:01,181
marching and doing some of those other

2379
02:48:59,501 --> 02:49:02,710
things and also setting it up so we

2380
02:49:01,181 --> 02:49:04,360
could walk downstairs and stuff so that

2381
02:49:02,710 --> 02:49:06,040
way we can look at the like camera alpha

2382
02:49:04,360 --> 02:49:10,301
and other things like that that we might

2383
02:49:06,040 --> 02:49:12,760
want to edit so we'll be back to do that

2384
02:49:10,300 --> 02:49:14,949
and we'll probably also want to start

2385
02:49:12,761 --> 02:49:18,341
down the road of doing the text files

2386
02:49:14,950 --> 02:49:19,841
for asset metadata too so we've got

2387
02:49:18,341 --> 02:49:21,521
plenty to do this weekend hope see you

2388
02:49:19,841 --> 02:49:23,261
back here for that until then have fun

2389
02:49:21,521 --> 02:49:26,159
programming everyone and I'll see you on

2390
02:49:23,261 --> 02:49:26,159
the Internet take it easy everybody

