1
00:00:03,120 --> 00:00:08,240
okay so today we're going to start off

2
00:00:06,559 --> 00:00:10,160
by talking a little bit about the light

3
00:00:08,240 --> 00:00:12,320
transport that's going in hand going on

4
00:00:10,160 --> 00:00:15,120
in handmade here right now because

5
00:00:12,320 --> 00:00:17,118
i i think you know i don't work on

6
00:00:15,119 --> 00:00:18,719
handmade hero at any time other than on

7
00:00:17,118 --> 00:00:20,399
stream right so although people

8
00:00:18,719 --> 00:00:21,919
apparently think i do which is very

9
00:00:20,399 --> 00:00:24,159
interesting i've noticed there are

10
00:00:21,920 --> 00:00:26,000
threads on things like hacker news where

11
00:00:24,160 --> 00:00:27,518
uh you know people post ridiculous

12
00:00:26,000 --> 00:00:29,278
theories that are like no no casey works

13
00:00:27,518 --> 00:00:31,198
on all the time literally you've watched

14
00:00:29,278 --> 00:00:32,799
me do the whole thing on stream and

15
00:00:31,199 --> 00:00:34,239
anybody who's been here every day knows

16
00:00:32,799 --> 00:00:36,000
there's literally no change to the code

17
00:00:34,238 --> 00:00:38,640
base and you can even go to github and

18
00:00:36,000 --> 00:00:41,039
see each change with the days marked on

19
00:00:38,640 --> 00:00:42,480
it but you know uh yeah that that's too

20
00:00:41,039 --> 00:00:43,920
much work for people on hacker news

21
00:00:42,479 --> 00:00:45,919
they'd rather just post their idiotic

22
00:00:43,920 --> 00:00:47,440
opinions to a giant thread full of

23
00:00:45,920 --> 00:00:48,480
nonsense so anyway today we're going to

24
00:00:47,439 --> 00:00:50,878
look at

25
00:00:48,479 --> 00:00:52,718
light transport in handmade hero since i

26
00:00:50,878 --> 00:00:54,718
don't work on it during the week at all

27
00:00:52,719 --> 00:00:56,719
and we only have you know

28
00:00:54,719 --> 00:00:58,558
two hours or three hours on sundays to

29
00:00:56,719 --> 00:01:00,640
do it um

30
00:00:58,558 --> 00:01:02,959
in general i find that sometimes during

31
00:01:00,640 --> 00:01:04,640
the week like my brain will be thinking

32
00:01:02,960 --> 00:01:06,159
about it though like i'll be like oh

33
00:01:04,640 --> 00:01:08,000
yeah like you know

34
00:01:06,159 --> 00:01:09,840
uh last sunday we did this thing and i'm

35
00:01:08,000 --> 00:01:10,959
like i just realized i screwed something

36
00:01:09,840 --> 00:01:12,079
up right

37
00:01:10,959 --> 00:01:13,839
uh you've seen me do that and hand it

38
00:01:12,079 --> 00:01:15,118
here before we'll start and i'll be like

39
00:01:13,840 --> 00:01:17,118
you know i was thinking about x and i

40
00:01:15,118 --> 00:01:20,400
think we did a stupid thing or whatever

41
00:01:17,118 --> 00:01:22,640
um and so uh last week we got the

42
00:01:20,400 --> 00:01:24,240
lighting to a really good place it looks

43
00:01:22,640 --> 00:01:26,079
really awesome right now but it's still

44
00:01:24,239 --> 00:01:27,920
got some bugs in it i'm you know i'm

45
00:01:26,079 --> 00:01:29,759
quite sure that we've got some bugs in

46
00:01:27,920 --> 00:01:31,680
it we gotta fix uh some of them are

47
00:01:29,759 --> 00:01:33,840
obvious some are probably not so obvious

48
00:01:31,680 --> 00:01:35,759
uh and so what i wanted to do here was

49
00:01:33,840 --> 00:01:37,680
kind of go over something i was thinking

50
00:01:35,759 --> 00:01:39,599
about during the week i was like i don't

51
00:01:37,680 --> 00:01:41,680
think our light transport is actually

52
00:01:39,599 --> 00:01:42,959
correct right now our thinking about

53
00:01:41,680 --> 00:01:44,960
light transport isn't correct and i

54
00:01:42,959 --> 00:01:47,118
think that's where the like blossoming

55
00:01:44,959 --> 00:01:48,879
bug is coming from we fixed some of the

56
00:01:47,118 --> 00:01:50,239
egregious errors in the blossoming bug

57
00:01:48,879 --> 00:01:52,158
those were because you were able to

58
00:01:50,239 --> 00:01:53,438
transport light um

59
00:01:52,159 --> 00:01:55,600
in ways that you shouldn't have because

60
00:01:53,438 --> 00:01:57,679
we we lost the z bounds you saw me fix

61
00:01:55,599 --> 00:01:59,359
that uh on last week's stream we kind of

62
00:01:57,680 --> 00:02:01,439
discovered that's what was going on and

63
00:01:59,359 --> 00:02:03,359
that's all fine but i think we still

64
00:02:01,438 --> 00:02:05,919
have a fundamental error in how the

65
00:02:03,359 --> 00:02:07,840
light transport is working and i think

66
00:02:05,920 --> 00:02:09,679
that's what causes that sort of if you

67
00:02:07,840 --> 00:02:11,680
put a powerful light in a place you get

68
00:02:09,679 --> 00:02:13,039
this like blossoming effect i think

69
00:02:11,680 --> 00:02:16,719
that's actually

70
00:02:13,039 --> 00:02:20,159
not a bug in our code i think that's a

71
00:02:16,719 --> 00:02:22,878
bug in our actual like equations meaning

72
00:02:20,159 --> 00:02:23,919
the code is correctly simulating what we

73
00:02:22,878 --> 00:02:26,239
told it to

74
00:02:23,919 --> 00:02:27,919
and we like there's not like a typo or a

75
00:02:26,239 --> 00:02:30,239
missing minus or that kind of thing like

76
00:02:27,919 --> 00:02:33,598
a bug in the code implementation there's

77
00:02:30,239 --> 00:02:37,200
a bug in the concept like the way we are

78
00:02:33,598 --> 00:02:38,719
doing things has a missing piece to it i

79
00:02:37,199 --> 00:02:40,318
think and again this is just what i

80
00:02:38,719 --> 00:02:42,080
thought this week kind of as it was

81
00:02:40,318 --> 00:02:43,439
kicking around in my head so i haven't

82
00:02:42,080 --> 00:02:45,040
actually looked at it i could be wrong

83
00:02:43,439 --> 00:02:46,079
but i wanted to go over what i was

84
00:02:45,039 --> 00:02:48,239
thinking of

85
00:02:46,080 --> 00:02:50,400
uh and explain it and and sort of also

86
00:02:48,239 --> 00:02:52,080
work through it myself

87
00:02:50,400 --> 00:02:53,439
so that i could see if i if i think i'm

88
00:02:52,080 --> 00:02:55,760
right or not right because it was just

89
00:02:53,439 --> 00:02:58,959
kind of kicking around in my head

90
00:02:55,759 --> 00:03:01,120
so right now in handmade hero i want to

91
00:02:58,959 --> 00:03:02,878
go over the first part of the light

92
00:03:01,120 --> 00:03:05,519
transport which is what happens when you

93
00:03:02,878 --> 00:03:07,919
throw a light source in a scene

94
00:03:05,519 --> 00:03:09,439
and why i think that's roughly correct

95
00:03:07,919 --> 00:03:12,318
and then i want to go over the second

96
00:03:09,439 --> 00:03:14,479
part of light transport and explain why

97
00:03:12,318 --> 00:03:16,399
i think it's roughly wrong

98
00:03:14,479 --> 00:03:18,959
so what happens in handmade hero right

99
00:03:16,400 --> 00:03:21,039
now is that if you imagine like a

100
00:03:18,959 --> 00:03:22,878
top-down view what chan made hero kind

101
00:03:21,039 --> 00:03:24,479
of is it's you know it's a bit uh

102
00:03:22,878 --> 00:03:25,199
three-quarters or whatever but you know

103
00:03:24,479 --> 00:03:26,560
it's

104
00:03:25,199 --> 00:03:28,000
you can sort of see it's mostly meant

105
00:03:26,560 --> 00:03:29,840
for kind of looking down on things like

106
00:03:28,000 --> 00:03:31,360
a doll's house kind of a well doll's

107
00:03:29,840 --> 00:03:34,319
house is probably more straight on so uh

108
00:03:31,360 --> 00:03:36,799
maybe more like a yeah old school

109
00:03:34,318 --> 00:03:38,958
uh you know ultima style kind of a thing

110
00:03:36,799 --> 00:03:41,040
anyway uh when you look at what happens

111
00:03:38,959 --> 00:03:42,640
we don't have really a concept of light

112
00:03:41,039 --> 00:03:44,000
sources in handmade hero because the

113
00:03:42,639 --> 00:03:45,759
idea was we wanted the lighting to be

114
00:03:44,000 --> 00:03:46,959
very diffuse and and sort of like

115
00:03:45,759 --> 00:03:49,759
expressive

116
00:03:46,959 --> 00:03:51,920
uh and soft so we don't specifically

117
00:03:49,759 --> 00:03:53,759
earmark light sources and treat them

118
00:03:51,919 --> 00:03:55,119
differently than anything else uh

119
00:03:53,759 --> 00:03:56,560
anything in the world can be a light

120
00:03:55,120 --> 00:03:58,239
source and it's fully globally

121
00:03:56,560 --> 00:04:00,318
illuminated but

122
00:03:58,239 --> 00:04:02,878
there still is the concept that light

123
00:04:00,318 --> 00:04:05,438
has to come from somewhere so you know

124
00:04:02,878 --> 00:04:07,199
if nothing in the world was emitting

125
00:04:05,438 --> 00:04:08,799
photons it would be completely dark

126
00:04:07,199 --> 00:04:10,878
right something has to start by emitting

127
00:04:08,799 --> 00:04:13,120
the photons so we do have the constant

128
00:04:10,878 --> 00:04:15,280
handmade hero of setting and a thing to

129
00:04:13,120 --> 00:04:17,519
have an emissive material right to be

130
00:04:15,280 --> 00:04:19,120
able to emit photons and that's where

131
00:04:17,519 --> 00:04:21,280
the lighting starts so even though we

132
00:04:19,120 --> 00:04:22,639
don't like specifically say oh let's

133
00:04:21,279 --> 00:04:23,839
count the light sources how many there

134
00:04:22,639 --> 00:04:25,840
are because that's one way to do a

135
00:04:23,839 --> 00:04:27,439
system right like systems that are less

136
00:04:25,839 --> 00:04:30,079
global illumination based we'll

137
00:04:27,439 --> 00:04:32,800
oftentimes talk about okay we allow like

138
00:04:30,079 --> 00:04:34,639
50 light sources per voxel cell you know

139
00:04:32,800 --> 00:04:36,160
that we illuminate and we do we do the

140
00:04:34,639 --> 00:04:38,240
equations for all of them inside a

141
00:04:36,160 --> 00:04:40,160
shader there's ways you can think about

142
00:04:38,240 --> 00:04:41,918
light sources as a first class citizen

143
00:04:40,160 --> 00:04:42,880
we just don't do that at handmade hero

144
00:04:41,918 --> 00:04:44,319
but

145
00:04:42,879 --> 00:04:45,279
the fundamental concept that light has

146
00:04:44,319 --> 00:04:46,800
to come from somewhere is still

147
00:04:45,279 --> 00:04:49,679
obviously going to be inherent in the

148
00:04:46,800 --> 00:04:52,160
system and so if you put something in

149
00:04:49,680 --> 00:04:53,199
like a block uh that has an emissive

150
00:04:52,160 --> 00:04:55,919
property

151
00:04:53,199 --> 00:04:57,199
then that is going to shine light into

152
00:04:55,918 --> 00:04:59,758
the environment and how does that

153
00:04:57,199 --> 00:05:00,879
actually work well we have light probes

154
00:04:59,759 --> 00:05:03,680
right

155
00:05:00,879 --> 00:05:05,279
scattered throughout the environment

156
00:05:03,680 --> 00:05:07,120
um at the moment they're regularly

157
00:05:05,279 --> 00:05:09,359
spaced the reason they're regularly

158
00:05:07,120 --> 00:05:11,038
spaced is because we wanted it to be

159
00:05:09,360 --> 00:05:11,919
relatively straightforward to sample

160
00:05:11,038 --> 00:05:14,240
them

161
00:05:11,918 --> 00:05:17,120
in the shader so when we do our actual

162
00:05:14,240 --> 00:05:19,840
pixel shading uh we wanted there to be a

163
00:05:17,120 --> 00:05:22,079
pretty clean simple way for us to

164
00:05:19,839 --> 00:05:24,478
interpolate the lighting in the world so

165
00:05:22,079 --> 00:05:25,839
we have you know regularly spaced light

166
00:05:24,478 --> 00:05:27,680
probes

167
00:05:25,839 --> 00:05:30,399
and the way that the light would be

168
00:05:27,680 --> 00:05:32,478
gathered from this emitter here

169
00:05:30,399 --> 00:05:34,719
is that any given one of these light

170
00:05:32,478 --> 00:05:37,360
probes will be sending out a series of

171
00:05:34,720 --> 00:05:38,880
sample rays on every frame right and

172
00:05:37,360 --> 00:05:41,120
these sample arrays are distributed

173
00:05:38,879 --> 00:05:42,879
across a sphere

174
00:05:41,120 --> 00:05:45,120
and they're they're relatively

175
00:05:42,879 --> 00:05:47,120
stochastic so it's actually white noise

176
00:05:45,120 --> 00:05:49,439
sampling right now which is not the best

177
00:05:47,120 --> 00:05:50,720
sampling we had blue noise in there but

178
00:05:49,439 --> 00:05:52,319
we actually changed the dynamically

179
00:05:50,720 --> 00:05:54,080
generating samples and we haven't tried

180
00:05:52,319 --> 00:05:56,478
to do something where we can quickly

181
00:05:54,079 --> 00:05:58,079
dynamically generate blue noise uh we

182
00:05:56,478 --> 00:06:00,000
probably should that's like something

183
00:05:58,079 --> 00:06:01,199
that would improve our sampling so at

184
00:06:00,000 --> 00:06:02,639
some point we probably should do that

185
00:06:01,199 --> 00:06:03,840
but right now we're not actually doing

186
00:06:02,639 --> 00:06:06,079
that

187
00:06:03,839 --> 00:06:07,279
and i think that adds more noise so when

188
00:06:06,079 --> 00:06:09,199
we're looking at kind of the final

189
00:06:07,279 --> 00:06:10,799
cleanup pass after we get all these bugs

190
00:06:09,199 --> 00:06:12,720
worked out uh that would be a good thing

191
00:06:10,800 --> 00:06:14,639
to add but again all that's going to do

192
00:06:12,720 --> 00:06:15,840
is add some extra noise using white

193
00:06:14,639 --> 00:06:18,079
noise instead of blue noise is going to

194
00:06:15,839 --> 00:06:20,239
mean our sampling is a little bit less

195
00:06:18,079 --> 00:06:21,599
clean probably but other than that

196
00:06:20,240 --> 00:06:23,519
there's no difference between white

197
00:06:21,600 --> 00:06:25,199
noise and blue noise in terms of like

198
00:06:23,519 --> 00:06:26,959
bugs like the light transport equation

199
00:06:25,199 --> 00:06:28,400
should still work with white or blue

200
00:06:26,959 --> 00:06:30,239
noise you shouldn't end up with like

201
00:06:28,399 --> 00:06:31,839
dramatically different results in the

202
00:06:30,240 --> 00:06:32,800
actual answer

203
00:06:31,839 --> 00:06:34,399
it's just going to be a little more

204
00:06:32,800 --> 00:06:36,560
noisy so

205
00:06:34,399 --> 00:06:38,560
when we send out a ray

206
00:06:36,560 --> 00:06:41,759
sometimes one of these rays hits the

207
00:06:38,560 --> 00:06:43,839
emitter and that will add that light uh

208
00:06:41,759 --> 00:06:46,960
proportional to how many rays we cast it

209
00:06:43,839 --> 00:06:49,279
will add that light into that sample

210
00:06:46,959 --> 00:06:50,959
of our outgoing light map so we have a

211
00:06:49,279 --> 00:06:53,279
light you know basically that light

212
00:06:50,959 --> 00:06:55,598
probe has some number of samples that

213
00:06:53,279 --> 00:06:57,279
it's keeping for lighting and out of

214
00:06:55,598 --> 00:06:59,439
each one of those sample regions it

215
00:06:57,279 --> 00:07:01,439
sends lots of rays and then it sums

216
00:06:59,439 --> 00:07:03,199
those up and divides by the total number

217
00:07:01,439 --> 00:07:04,319
of rays set to figure out how many are

218
00:07:03,199 --> 00:07:05,840
in there and again that's not

219
00:07:04,319 --> 00:07:07,360
particularly great sampling either

220
00:07:05,839 --> 00:07:08,879
there's

221
00:07:07,360 --> 00:07:10,000
potentially ways we could improve that

222
00:07:08,879 --> 00:07:12,159
as well

223
00:07:10,000 --> 00:07:14,240
to get less noise i'm not really very

224
00:07:12,160 --> 00:07:15,680
knowledgeable about sampling theory so

225
00:07:14,240 --> 00:07:17,360
that's why we haven't rolled anything in

226
00:07:15,680 --> 00:07:19,199
there yet is because i don't know you

227
00:07:17,360 --> 00:07:20,720
know i really don't even know

228
00:07:19,199 --> 00:07:22,639
how much better it could be or if it's

229
00:07:20,720 --> 00:07:23,919
worth it or anything like that uh people

230
00:07:22,639 --> 00:07:26,639
who are really good at sampling would

231
00:07:23,918 --> 00:07:27,839
kind of know just right off the bat uh

232
00:07:26,639 --> 00:07:29,360
you know what they should probably do in

233
00:07:27,839 --> 00:07:31,598
there but you know i don't i don't have

234
00:07:29,360 --> 00:07:32,879
any expertise in that area so that's why

235
00:07:31,598 --> 00:07:34,240
we're just kind of randomly just

236
00:07:32,879 --> 00:07:35,519
averaging them right

237
00:07:34,240 --> 00:07:36,400
but you could probably do better things

238
00:07:35,519 --> 00:07:38,478
than that

239
00:07:36,399 --> 00:07:40,000
uh based on knowledge of of certain

240
00:07:38,478 --> 00:07:41,439
probabilities and things like that you

241
00:07:40,000 --> 00:07:42,800
know if you go look at high-end

242
00:07:41,439 --> 00:07:44,319
rendering papers

243
00:07:42,800 --> 00:07:46,160
uh they're typically not going to do

244
00:07:44,319 --> 00:07:47,360
something like averaging they're

245
00:07:46,160 --> 00:07:49,520
typically going to use some kind of

246
00:07:47,360 --> 00:07:50,879
probability distributions to reduce the

247
00:07:49,519 --> 00:07:53,198
amount of noise in the system or who

248
00:07:50,879 --> 00:07:54,400
knows what right so you know again

249
00:07:53,199 --> 00:07:56,400
just pointing out that there's things in

250
00:07:54,399 --> 00:07:57,918
here that aren't fantastic but they're

251
00:07:56,399 --> 00:07:59,439
not necessarily buggy like they're still

252
00:07:57,918 --> 00:08:00,878
going to produce reasonable answers

253
00:07:59,439 --> 00:08:02,160
they're just not maybe going to be as

254
00:08:00,879 --> 00:08:04,960
noise-free as they should be with the

255
00:08:02,160 --> 00:08:08,560
number of samples that have been taken

256
00:08:04,959 --> 00:08:10,000
um now you may wonder well how does this

257
00:08:08,560 --> 00:08:11,439
you know if we're just sending out these

258
00:08:10,000 --> 00:08:12,639
samples and then we're basically just

259
00:08:11,439 --> 00:08:14,079
writing this light back in their

260
00:08:12,639 --> 00:08:16,400
averaged

261
00:08:14,079 --> 00:08:18,878
is that reasonable light transport and

262
00:08:16,399 --> 00:08:20,638
my argument is for this first step it

263
00:08:18,879 --> 00:08:22,319
actually is reasonable light transport

264
00:08:20,639 --> 00:08:25,680
and the reason that i say that is

265
00:08:22,319 --> 00:08:28,400
because these actually these sample rays

266
00:08:25,680 --> 00:08:30,720
if you notice they do exactly what you

267
00:08:28,399 --> 00:08:32,958
would expect photons to do if they were

268
00:08:30,720 --> 00:08:35,440
going in the reverse direction so for

269
00:08:32,958 --> 00:08:37,038
example if we were going to try to shoot

270
00:08:35,440 --> 00:08:38,479
photons out of here and we're talking

271
00:08:37,038 --> 00:08:40,399
about you know fundamentally when we're

272
00:08:38,479 --> 00:08:42,080
talking about light transport what we

273
00:08:40,399 --> 00:08:43,679
want to think about or at least one way

274
00:08:42,080 --> 00:08:45,278
to think about it is

275
00:08:43,679 --> 00:08:46,799
if we're shooting all these photons out

276
00:08:45,278 --> 00:08:49,278
of a light source

277
00:08:46,799 --> 00:08:51,199
the results that we get for lighting

278
00:08:49,278 --> 00:08:53,600
should roughly match what we expect to

279
00:08:51,200 --> 00:08:55,200
happen if we had tons of particles

280
00:08:53,600 --> 00:08:56,320
leaving this light source we shouldn't

281
00:08:55,200 --> 00:08:58,560
end up with answers that are

282
00:08:56,320 --> 00:09:00,320
fundamentally different from what would

283
00:08:58,559 --> 00:09:02,079
happen if we shot out particles from

284
00:09:00,320 --> 00:09:03,519
this light source

285
00:09:02,080 --> 00:09:04,800
so if we shot out particles from this

286
00:09:03,519 --> 00:09:06,879
light source what we would expect to

287
00:09:04,799 --> 00:09:08,879
happen is they would land at these

288
00:09:06,879 --> 00:09:11,679
sample points right they would arrive at

289
00:09:08,879 --> 00:09:13,838
these sample points proportional to some

290
00:09:11,679 --> 00:09:16,159
kind of an inverse square law right

291
00:09:13,839 --> 00:09:17,839
because as you send particles out in

292
00:09:16,159 --> 00:09:20,159
random directions from a light source

293
00:09:17,839 --> 00:09:23,040
like a light emission photon like like

294
00:09:20,159 --> 00:09:26,079
photons from a light emitter would do

295
00:09:23,039 --> 00:09:28,799
we expect them to get less concentrated

296
00:09:26,080 --> 00:09:30,160
as they get further away so in a ring

297
00:09:28,799 --> 00:09:32,319
right around the light source the

298
00:09:30,159 --> 00:09:34,799
photons are very concentrated on that

299
00:09:32,320 --> 00:09:37,120
surface as that ring gets further out

300
00:09:34,799 --> 00:09:40,000
the photons will be less concentrated

301
00:09:37,120 --> 00:09:42,959
why because for any two randomly picked

302
00:09:40,000 --> 00:09:45,519
directions the further out i look at

303
00:09:42,958 --> 00:09:47,599
where the photons go the more gap there

304
00:09:45,519 --> 00:09:49,919
is between them right

305
00:09:47,600 --> 00:09:51,040
so no matter how dense they are at the

306
00:09:49,919 --> 00:09:52,799
emitter

307
00:09:51,039 --> 00:09:54,399
as i get out to one ring well they're

308
00:09:52,799 --> 00:09:56,319
less dense now as i get out to another

309
00:09:54,399 --> 00:09:58,000
ring they're less dense now right and

310
00:09:56,320 --> 00:10:00,080
they're going to be less dense in three

311
00:09:58,000 --> 00:10:03,120
dimensions based on the inverse square

312
00:10:00,080 --> 00:10:04,720
law why because they are actually going

313
00:10:03,120 --> 00:10:07,600
you know a surface of a sphere is

314
00:10:04,720 --> 00:10:10,160
two-dimensional so any paths on that

315
00:10:07,600 --> 00:10:13,040
sphere will get bigger as a proportion

316
00:10:10,159 --> 00:10:15,679
to the square of the radius because the

317
00:10:13,039 --> 00:10:17,599
the the uh surface area of the sphere

318
00:10:15,679 --> 00:10:18,958
gets bigger as portugal to the square of

319
00:10:17,600 --> 00:10:22,560
the radius

320
00:10:18,958 --> 00:10:24,799
so this convection process here

321
00:10:22,559 --> 00:10:27,119
where we're pulling light is going to

322
00:10:24,799 --> 00:10:30,000
work exactly the same way because the

323
00:10:27,120 --> 00:10:32,639
rays diverge as they get further apart

324
00:10:30,000 --> 00:10:34,559
in exactly the same way that the

325
00:10:32,639 --> 00:10:35,600
outgoing rays would diverge from the

326
00:10:34,559 --> 00:10:38,239
emitter

327
00:10:35,600 --> 00:10:41,519
we're going to get a naturally inverse

328
00:10:38,240 --> 00:10:45,039
square falloff of light arriving at any

329
00:10:41,519 --> 00:10:47,360
given point for the exact same reason so

330
00:10:45,039 --> 00:10:51,278
the inverse square law is actually

331
00:10:47,360 --> 00:10:53,839
already captured in our light reception

332
00:10:51,278 --> 00:10:57,039
in exactly the way that it should be

333
00:10:53,839 --> 00:11:00,320
meaning any particular direction will

334
00:10:57,039 --> 00:11:03,039
simply have less light contributing to

335
00:11:00,320 --> 00:11:06,720
that as it gets further away because the

336
00:11:03,039 --> 00:11:09,360
rays will be less likely to hit right

337
00:11:06,720 --> 00:11:11,920
um so it's naturally going to capture

338
00:11:09,360 --> 00:11:14,240
inverse squared fall off from that and

339
00:11:11,919 --> 00:11:16,958
furthermore it's better to do it that

340
00:11:14,240 --> 00:11:19,680
way because if you happen to have a

341
00:11:16,958 --> 00:11:22,639
large light source right

342
00:11:19,679 --> 00:11:25,278
for which all of these you know all of

343
00:11:22,639 --> 00:11:27,919
the rays going out of one you know

344
00:11:25,278 --> 00:11:29,120
little region if they all would have hit

345
00:11:27,919 --> 00:11:30,958
that

346
00:11:29,120 --> 00:11:33,120
you don't want to do something like

347
00:11:30,958 --> 00:11:35,838
apply the inverse square law manually

348
00:11:33,120 --> 00:11:37,600
because light doesn't itself fall off

349
00:11:35,839 --> 00:11:39,760
with an inverse square meaning an

350
00:11:37,600 --> 00:11:42,480
individual photon carries exactly as

351
00:11:39,759 --> 00:11:44,720
much energy across the entire line

352
00:11:42,480 --> 00:11:47,680
as it did when it left right it doesn't

353
00:11:44,720 --> 00:11:49,680
change its energy amount so you the

354
00:11:47,679 --> 00:11:52,159
reason you get an inverse square law

355
00:11:49,679 --> 00:11:55,039
fall off from light ever is strictly

356
00:11:52,159 --> 00:11:57,360
because you there's less area

357
00:11:55,039 --> 00:12:00,879
that the photons are falling on as you

358
00:11:57,360 --> 00:12:02,000
get further away but if you actually do

359
00:12:00,879 --> 00:12:04,000
have

360
00:12:02,000 --> 00:12:05,919
you know a light source so large that

361
00:12:04,000 --> 00:12:07,120
you know all of the photons are dense

362
00:12:05,919 --> 00:12:08,639
enough that they're all still going to

363
00:12:07,120 --> 00:12:10,480
hit

364
00:12:08,639 --> 00:12:13,278
you should still capture the the full

365
00:12:10,480 --> 00:12:16,159
energy of uh the light source in that

366
00:12:13,278 --> 00:12:18,240
patch so you don't want to artificially

367
00:12:16,159 --> 00:12:20,000
apply some kind of weird like inverse

368
00:12:18,240 --> 00:12:22,639
square law falloff that you just pulled

369
00:12:20,000 --> 00:12:26,320
out of uh thin air right because you

370
00:12:22,639 --> 00:12:27,919
really do want to to measure how much of

371
00:12:26,320 --> 00:12:29,600
the light source you're actually seeing

372
00:12:27,919 --> 00:12:31,679
and that's how much energy you should be

373
00:12:29,600 --> 00:12:33,600
getting you don't want some additional

374
00:12:31,679 --> 00:12:35,838
uh inverse squared falloff that's just

375
00:12:33,600 --> 00:12:38,159
based on distance because it's not

376
00:12:35,839 --> 00:12:40,560
really the distance it's the it's the

377
00:12:38,159 --> 00:12:43,519
surface area of the projection of the

378
00:12:40,559 --> 00:12:46,799
light that's causing that uh

379
00:12:43,519 --> 00:12:47,100
uh which the that uh that um

380
00:12:46,799 --> 00:12:48,399
uh

381
00:12:47,100 --> 00:12:49,920
[Music]

382
00:12:48,399 --> 00:12:52,720
feature i don't wanna say anomaly it's

383
00:12:49,919 --> 00:12:56,719
not weird that uh yeah it's that's

384
00:12:52,720 --> 00:12:59,440
causing that aspect of lighting yeah

385
00:12:56,720 --> 00:13:01,200
so in my opinion i don't think we have a

386
00:12:59,440 --> 00:13:03,600
problem here that is generally what

387
00:13:01,200 --> 00:13:06,480
should happen the only thing i would say

388
00:13:03,600 --> 00:13:08,800
is right now we don't have any real

389
00:13:06,480 --> 00:13:11,680
understanding of what our light sources

390
00:13:08,799 --> 00:13:14,719
value actually is we just say stuff like

391
00:13:11,679 --> 00:13:15,919
oh the emission of this thing is 5.0

392
00:13:14,720 --> 00:13:19,519
right

393
00:13:15,919 --> 00:13:21,199
um and we don't know what that value is

394
00:13:19,519 --> 00:13:23,200
now it's okay that we don't know what

395
00:13:21,200 --> 00:13:24,639
that value is because we're not trying

396
00:13:23,200 --> 00:13:26,639
to simulate

397
00:13:24,639 --> 00:13:28,720
a particular real environment like if

398
00:13:26,639 --> 00:13:30,720
you were doing you know

399
00:13:28,720 --> 00:13:32,639
some kind of architectural rendering it

400
00:13:30,720 --> 00:13:34,720
may be very important for you to

401
00:13:32,639 --> 00:13:37,120
actually know like okay this is going to

402
00:13:34,720 --> 00:13:38,959
be in candelas or looms or whatever you

403
00:13:37,120 --> 00:13:41,600
know however we're specifying we get

404
00:13:38,958 --> 00:13:43,518
some manufacturers like explanation of

405
00:13:41,600 --> 00:13:44,800
how their fluorescent light bulbs work

406
00:13:43,519 --> 00:13:46,639
and we know that we're going to put

407
00:13:44,799 --> 00:13:48,639
those into this house and we want to see

408
00:13:46,639 --> 00:13:51,519
how the lighting actually works so we

409
00:13:48,639 --> 00:13:53,759
need to know right like

410
00:13:51,519 --> 00:13:55,440
exactly how much light is being put in

411
00:13:53,759 --> 00:13:57,198
here and we need to simulate that light

412
00:13:55,440 --> 00:13:59,120
you know things like maxwell render or

413
00:13:57,198 --> 00:14:01,120
those kind of things they're designed to

414
00:13:59,120 --> 00:14:03,039
give you accurate results for

415
00:14:01,120 --> 00:14:05,278
architectural previews you know they

416
00:14:03,039 --> 00:14:06,958
shouldn't be using a value like 5.0

417
00:14:05,278 --> 00:14:09,198
because it doesn't mean anything right

418
00:14:06,958 --> 00:14:10,559
like they can't correspond it to

419
00:14:09,198 --> 00:14:12,240
something in the real world that they're

420
00:14:10,559 --> 00:14:15,359
actually trying to simulate

421
00:14:12,240 --> 00:14:17,039
um but it's fine for us to say 5.0

422
00:14:15,360 --> 00:14:19,278
because we only have to tune things

423
00:14:17,039 --> 00:14:22,159
relative we might

424
00:14:19,278 --> 00:14:24,480
want to make that more um

425
00:14:22,159 --> 00:14:26,719
concrete in the future if our goal is to

426
00:14:24,480 --> 00:14:28,320
make it easier for us to sort of specify

427
00:14:26,720 --> 00:14:29,920
real world lighting conditions like okay

428
00:14:28,320 --> 00:14:32,000
the sun's this bright a light bulb's

429
00:14:29,919 --> 00:14:33,439
this bright and we correspond those to

430
00:14:32,000 --> 00:14:35,039
some real world values so that it's

431
00:14:33,440 --> 00:14:36,959
easier for us to balance

432
00:14:35,039 --> 00:14:39,759
you might want to do that in a game for

433
00:14:36,958 --> 00:14:41,439
our game it's doesn't seem like we're

434
00:14:39,759 --> 00:14:43,759
you know it's a very fanciful game the

435
00:14:41,440 --> 00:14:46,399
art is like kind of hand drawn

436
00:14:43,759 --> 00:14:48,159
and cartoony so you know we probably

437
00:14:46,399 --> 00:14:51,039
never need to move past this

438
00:14:48,159 --> 00:14:51,759
understanding of lighting but the point

439
00:14:51,039 --> 00:14:53,519
is

440
00:14:51,759 --> 00:14:55,198
we don't know what that value is it's

441
00:14:53,519 --> 00:14:57,440
just an arbitrary value that we plucked

442
00:14:55,198 --> 00:14:58,559
out of thin air and we can keep going

443
00:14:57,440 --> 00:15:00,480
with that we don't have to but it's

444
00:14:58,559 --> 00:15:01,599
worth noting that nobody has spent any

445
00:15:00,480 --> 00:15:03,120
time

446
00:15:01,600 --> 00:15:04,879
determining what that value actually

447
00:15:03,120 --> 00:15:06,399
means so we don't have a way to tie it

448
00:15:04,879 --> 00:15:08,078
back to anything and that's one issue

449
00:15:06,399 --> 00:15:09,120
you might want to address depending on

450
00:15:08,078 --> 00:15:11,679
what you were doing i don't think we

451
00:15:09,120 --> 00:15:12,560
need to but you know you could

452
00:15:11,679 --> 00:15:15,198
um

453
00:15:12,559 --> 00:15:16,399
so this entire thing i think is fine i

454
00:15:15,198 --> 00:15:17,838
don't actually think there's any

455
00:15:16,399 --> 00:15:19,519
problems in here and i don't think that

456
00:15:17,839 --> 00:15:21,360
we would have any real issues with it

457
00:15:19,519 --> 00:15:22,879
going forward because i think we could

458
00:15:21,360 --> 00:15:24,639
just tune these values once we put in

459
00:15:22,879 --> 00:15:25,439
maybe an exposure equation on the back

460
00:15:24,639 --> 00:15:27,198
end

461
00:15:25,440 --> 00:15:29,279
the exposure equation and this can just

462
00:15:27,198 --> 00:15:30,958
be arbitrary and we tune them with each

463
00:15:29,278 --> 00:15:32,559
other and then we're good right it's

464
00:15:30,958 --> 00:15:34,000
just a tuning process to get a look that

465
00:15:32,559 --> 00:15:35,758
we want when we're happy with the

466
00:15:34,000 --> 00:15:38,078
exposure equation and the lighting

467
00:15:35,759 --> 00:15:39,680
values we just call it that's what it is

468
00:15:38,078 --> 00:15:42,319
and then we know oh our bright lights

469
00:15:39,679 --> 00:15:44,399
are 10 our dim lights are two and we

470
00:15:42,320 --> 00:15:46,320
just that's it right so that's totally

471
00:15:44,399 --> 00:15:47,839
fine for an artistic process we don't

472
00:15:46,320 --> 00:15:49,360
need to correspond these to real world

473
00:15:47,839 --> 00:15:51,199
values because we're not actually trying

474
00:15:49,360 --> 00:15:53,199
to produce anything that matches

475
00:15:51,198 --> 00:15:54,559
something in the real world so it's not

476
00:15:53,198 --> 00:15:56,479
going to really be much of a hindrance

477
00:15:54,559 --> 00:15:58,319
to us unless we just find that tuning

478
00:15:56,480 --> 00:16:00,240
them is too difficult and we'd rather

479
00:15:58,320 --> 00:16:02,000
you know pull some real world values out

480
00:16:00,240 --> 00:16:04,159
uh so that we can just put them in

481
00:16:02,000 --> 00:16:06,000
directly and you know not have to tune

482
00:16:04,159 --> 00:16:07,679
right that's another thing that you can

483
00:16:06,000 --> 00:16:09,039
get but i don't even know if that would

484
00:16:07,679 --> 00:16:11,519
work because when you're talking about

485
00:16:09,039 --> 00:16:13,360
cartoonish art you wouldn't necessarily

486
00:16:11,519 --> 00:16:14,480
know you're like you put in these values

487
00:16:13,360 --> 00:16:15,919
that are from the real world it might

488
00:16:14,480 --> 00:16:18,000
look terrible right because you know

489
00:16:15,919 --> 00:16:20,399
it's artistic and the lighting's gonna

490
00:16:18,000 --> 00:16:22,078
have to be not that real because it's

491
00:16:20,399 --> 00:16:24,320
gonna have to go with the you know the

492
00:16:22,078 --> 00:16:25,359
sort of cartoony feel

493
00:16:24,320 --> 00:16:28,800
all right

494
00:16:25,360 --> 00:16:31,919
um so that i think is fine uh but i

495
00:16:28,799 --> 00:16:33,679
think we have uh a problem in the other

496
00:16:31,919 --> 00:16:36,559
part of the way we're doing light

497
00:16:33,679 --> 00:16:38,799
transport and so that you know

498
00:16:36,559 --> 00:16:41,119
fairly comfortable uh that we're not

499
00:16:38,799 --> 00:16:43,120
doing something dumb with that light

500
00:16:41,120 --> 00:16:46,078
sampling when it comes from an actual

501
00:16:43,120 --> 00:16:48,078
light source it feels about right um and

502
00:16:46,078 --> 00:16:50,958
furthermore i think that would be true

503
00:16:48,078 --> 00:16:52,559
for anything else meaning in other words

504
00:16:50,958 --> 00:16:55,359
if you're pulling light from just

505
00:16:52,559 --> 00:16:57,359
reflective surfaces i think that that

506
00:16:55,360 --> 00:16:59,440
inverse square part works just fine as

507
00:16:57,360 --> 00:17:01,278
well but

508
00:16:59,440 --> 00:17:03,120
let's talk about the part that i think

509
00:17:01,278 --> 00:17:07,919
is not correct here

510
00:17:03,120 --> 00:17:10,880
so let's suppose uh that we

511
00:17:07,919 --> 00:17:14,720
that we talk about a uh reflective

512
00:17:10,880 --> 00:17:14,720
surface instead okay

513
00:17:14,959 --> 00:17:20,318
um because we have other cases excuse me

514
00:17:18,720 --> 00:17:22,798
in the world where you can gather light

515
00:17:20,318 --> 00:17:24,959
like i said we actually don't treat

516
00:17:22,798 --> 00:17:26,879
light sources any differently from

517
00:17:24,959 --> 00:17:29,440
anything else in handmade hero

518
00:17:26,880 --> 00:17:31,679
everything is basically capable of

519
00:17:29,440 --> 00:17:33,600
reflecting light it's just

520
00:17:31,679 --> 00:17:36,000
it's straightforward unbiased global

521
00:17:33,599 --> 00:17:38,719
illumination it everything

522
00:17:36,000 --> 00:17:40,400
just is able to send light so

523
00:17:38,720 --> 00:17:42,079
we don't have any kind of concept of

524
00:17:40,400 --> 00:17:43,919
something being a light source or not

525
00:17:42,079 --> 00:17:45,519
other than when you hit it it's able to

526
00:17:43,919 --> 00:17:47,200
generate photons out of thin air it

527
00:17:45,519 --> 00:17:48,639
doesn't have to reflect them that's the

528
00:17:47,200 --> 00:17:51,200
only thing that differentiates an

529
00:17:48,640 --> 00:17:54,000
emitter in our system what that means is

530
00:17:51,200 --> 00:17:55,840
that when you look

531
00:17:54,000 --> 00:17:59,480
um at

532
00:17:55,839 --> 00:17:59,480
our light probes

533
00:18:00,798 --> 00:18:05,519
uh yes we have an emitter

534
00:18:04,160 --> 00:18:07,679
like so

535
00:18:05,519 --> 00:18:09,599
um and what will happen is

536
00:18:07,679 --> 00:18:11,360
when you are looking at the first time

537
00:18:09,599 --> 00:18:13,599
that emitter has ever been hit by

538
00:18:11,359 --> 00:18:15,439
anything uh the inverse square law

539
00:18:13,599 --> 00:18:18,159
applies so you know we get this sort of

540
00:18:15,440 --> 00:18:21,600
thing uh happening here uh and

541
00:18:18,160 --> 00:18:24,000
proportionally less of the rays you know

542
00:18:21,599 --> 00:18:25,918
from here will hit than here so the

543
00:18:24,000 --> 00:18:28,480
light will be dimmer here than here for

544
00:18:25,919 --> 00:18:30,480
that reason right less light

545
00:18:28,480 --> 00:18:32,640
will be captured in this light probe so

546
00:18:30,480 --> 00:18:36,319
it will naturally have an inverse square

547
00:18:32,640 --> 00:18:36,320
fall off as it goes but

548
00:18:37,279 --> 00:18:42,558
what we do not do right now is

549
00:18:40,160 --> 00:18:44,880
differentiate between an emitter and a

550
00:18:42,558 --> 00:18:46,480
reflector in terms of the energy that's

551
00:18:44,880 --> 00:18:47,840
being provided

552
00:18:46,480 --> 00:18:49,038
so

553
00:18:47,839 --> 00:18:51,759
if we

554
00:18:49,038 --> 00:18:54,319
look at something like a surface in the

555
00:18:51,759 --> 00:18:57,119
world and we say okay

556
00:18:54,319 --> 00:18:59,200
what happens when we have a surface

557
00:18:57,119 --> 00:19:01,839
like this

558
00:18:59,200 --> 00:19:03,679
and somebody hits that surface as a

559
00:19:01,839 --> 00:19:06,480
sample point

560
00:19:03,679 --> 00:19:09,120
yes the inverse square law will apply

561
00:19:06,480 --> 00:19:11,599
meaning i am less likely to hit that

562
00:19:09,119 --> 00:19:13,839
point on the surface with rays you know

563
00:19:11,599 --> 00:19:16,000
or that small region of the surface with

564
00:19:13,839 --> 00:19:17,599
rays as they go further out

565
00:19:16,000 --> 00:19:21,919
that's true

566
00:19:17,599 --> 00:19:24,558
but what happens when i sample from here

567
00:19:21,919 --> 00:19:26,640
is i take the reflectance of this

568
00:19:24,558 --> 00:19:29,200
surface which is something right like

569
00:19:26,640 --> 00:19:31,000
we'll have a reflectance number of you

570
00:19:29,200 --> 00:19:33,679
know

571
00:19:31,000 --> 00:19:36,720
0.7.7.7 or something for like a sort of

572
00:19:33,679 --> 00:19:38,960
diffuse but fairly reflective surface it

573
00:19:36,720 --> 00:19:41,679
just has some we're literally in there

574
00:19:38,960 --> 00:19:42,960
just multiplying by a modulation right

575
00:19:41,679 --> 00:19:45,679
um

576
00:19:42,960 --> 00:19:49,038
so we hit this thing what we do is we

577
00:19:45,679 --> 00:19:50,559
sample from the nearby uh light probes

578
00:19:49,038 --> 00:19:52,079
so let's just say that this one is

579
00:19:50,558 --> 00:19:54,079
mostly dominant here because we're close

580
00:19:52,079 --> 00:19:56,639
to it you know it doesn't really matter

581
00:19:54,079 --> 00:19:58,319
what we get is we look at okay

582
00:19:56,640 --> 00:20:01,120
we're trying to figure out this

583
00:19:58,319 --> 00:20:04,079
particular light probe how much exits in

584
00:20:01,119 --> 00:20:05,599
this direction from this light probe uh

585
00:20:04,079 --> 00:20:07,439
because we're like blending a bunch of

586
00:20:05,599 --> 00:20:10,399
these together right

587
00:20:07,440 --> 00:20:11,600
uh and we send that amount back right

588
00:20:10,400 --> 00:20:12,960
we're basically just saying like look

589
00:20:11,599 --> 00:20:13,759
this is how much

590
00:20:12,960 --> 00:20:15,600
um

591
00:20:13,759 --> 00:20:17,759
this is how much light would go out in

592
00:20:15,599 --> 00:20:19,839
that direction

593
00:20:17,759 --> 00:20:22,400
so the thing that i was thinking is

594
00:20:19,839 --> 00:20:26,879
probably wrong here

595
00:20:22,400 --> 00:20:29,280
is that at no point do we ever actually

596
00:20:26,880 --> 00:20:32,880
try to differentiate

597
00:20:29,279 --> 00:20:34,960
between light that's being reflected in

598
00:20:32,880 --> 00:20:38,640
light that's being emitted

599
00:20:34,960 --> 00:20:40,400
what i mean by that is that the emitter

600
00:20:38,640 --> 00:20:43,120
is itself

601
00:20:40,400 --> 00:20:46,400
something that generates photons

602
00:20:43,119 --> 00:20:49,678
so anybody who is looking directly at

603
00:20:46,400 --> 00:20:52,000
the emitter obviously is going to get

604
00:20:49,679 --> 00:20:54,320
some number of photons given by that

605
00:20:52,000 --> 00:20:56,319
brightness level right like 5.0 whatever

606
00:20:54,319 --> 00:20:57,119
that is we don't know what that is but

607
00:20:56,319 --> 00:20:58,558
it's

608
00:20:57,119 --> 00:21:01,519
abstractly

609
00:20:58,558 --> 00:21:03,918
some measure of the density of photons

610
00:21:01,519 --> 00:21:07,759
that are going out right

611
00:21:03,919 --> 00:21:08,720
per unit area on that you know on that

612
00:21:07,759 --> 00:21:10,879
uh

613
00:21:08,720 --> 00:21:13,519
on the on the emission of photons in a

614
00:21:10,880 --> 00:21:15,440
in a sphere as they you know go out into

615
00:21:13,519 --> 00:21:18,319
the world

616
00:21:15,440 --> 00:21:20,240
anyone who hits it we don't have any i

617
00:21:18,319 --> 00:21:22,079
we don't have any concept of like bias

618
00:21:20,240 --> 00:21:24,319
in light direction we could introduce it

619
00:21:22,079 --> 00:21:26,720
but we don't right now so the entire

620
00:21:24,319 --> 00:21:30,158
sphere is just covered with

621
00:21:26,720 --> 00:21:32,558
this density of photons and i think

622
00:21:30,159 --> 00:21:34,240
that's sampled roughly correctly because

623
00:21:32,558 --> 00:21:36,720
of that inverse square falloff of the

624
00:21:34,240 --> 00:21:39,759
sampling rays you will naturally get

625
00:21:36,720 --> 00:21:41,679
less as you go further out

626
00:21:39,759 --> 00:21:44,400
so you'll be less likely to hit the

627
00:21:41,679 --> 00:21:46,640
light source as you go further out

628
00:21:44,400 --> 00:21:48,240
so that seems fine

629
00:21:46,640 --> 00:21:50,960
but

630
00:21:48,240 --> 00:21:53,440
what doesn't seem fine is that when you

631
00:21:50,960 --> 00:21:56,319
get those results so i hit this thing

632
00:21:53,440 --> 00:22:00,400
and i say oh i you know i sampled this

633
00:21:56,319 --> 00:22:01,839
and uh you know what i see is that in in

634
00:22:00,400 --> 00:22:03,280
coming out this direction right i'm

635
00:22:01,839 --> 00:22:04,798
gonna look back in the opposite

636
00:22:03,279 --> 00:22:06,558
direction and see how much stuff that i

637
00:22:04,798 --> 00:22:07,679
hit so you know maybe this is not quite

638
00:22:06,558 --> 00:22:08,879
right maybe i should be talking about

639
00:22:07,679 --> 00:22:10,400
this so that it would be hitting this

640
00:22:08,880 --> 00:22:13,679
more directly

641
00:22:10,400 --> 00:22:16,798
what i will get is basically that

642
00:22:13,679 --> 00:22:19,120
the inverse squared fall off from this

643
00:22:16,798 --> 00:22:22,240
light at this point

644
00:22:19,119 --> 00:22:24,839
will be sent completely along this ray

645
00:22:22,240 --> 00:22:28,400
again like a repeater

646
00:22:24,839 --> 00:22:30,798
right because at no point did anything

647
00:22:28,400 --> 00:22:33,038
other than this

648
00:22:30,798 --> 00:22:34,879
reduce the light amount

649
00:22:33,038 --> 00:22:37,759
does that make sense

650
00:22:34,880 --> 00:22:38,799
at no point did we ever say oh by the

651
00:22:37,759 --> 00:22:42,319
way

652
00:22:38,798 --> 00:22:45,119
the light that falls incident to this

653
00:22:42,319 --> 00:22:48,639
has to be radiated out

654
00:22:45,119 --> 00:22:50,798
without adding energy right meaning all

655
00:22:48,640 --> 00:22:53,360
of the light that we're going to receive

656
00:22:50,798 --> 00:22:56,558
at a particular point we can't radiate

657
00:22:53,359 --> 00:22:59,759
out more than we actually got

658
00:22:56,558 --> 00:23:02,960
so let's say for example that at this

659
00:22:59,759 --> 00:23:04,720
particular point right

660
00:23:02,960 --> 00:23:06,960
when we cast in you know in these

661
00:23:04,720 --> 00:23:09,839
directions we got a certain amount of

662
00:23:06,960 --> 00:23:12,640
light energy well everybody who roughly

663
00:23:09,839 --> 00:23:15,519
hits from that area will be getting that

664
00:23:12,640 --> 00:23:16,799
same light energy sent to them

665
00:23:15,519 --> 00:23:20,000
but that

666
00:23:16,798 --> 00:23:22,400
and again this is i i'm i'm really not

667
00:23:20,000 --> 00:23:24,240
knowledgeable in this area uh i i

668
00:23:22,400 --> 00:23:25,919
think i tweeted as when i tweeted out i

669
00:23:24,240 --> 00:23:28,720
was like uh it's too bad don mitchell is

670
00:23:25,919 --> 00:23:31,520
not here to explain this to us because

671
00:23:28,720 --> 00:23:33,839
you know i i just i just fundamentally

672
00:23:31,519 --> 00:23:35,279
don't really get light very well i think

673
00:23:33,839 --> 00:23:37,199
one of these days i probably should

674
00:23:35,279 --> 00:23:38,720
write like a full like photorealistic

675
00:23:37,200 --> 00:23:39,679
ray tracer

676
00:23:38,720 --> 00:23:41,519
uh

677
00:23:39,679 --> 00:23:43,038
to get my head

678
00:23:41,519 --> 00:23:45,200
fully around

679
00:23:43,038 --> 00:23:46,480
how you actually think about light uh

680
00:23:45,200 --> 00:23:48,400
you know

681
00:23:46,480 --> 00:23:51,120
the phrase watts per staridian right

682
00:23:48,400 --> 00:23:53,120
should be coming up here and uh i should

683
00:23:51,119 --> 00:23:56,239
have a lot more of a handle on like

684
00:23:53,119 --> 00:23:58,000
what's actually happening quantity wise

685
00:23:56,240 --> 00:23:59,599
so i don't pretend to be very good at

686
00:23:58,000 --> 00:24:01,119
this stuff because i simply never have

687
00:23:59,599 --> 00:24:02,480
worked with it long enough to really get

688
00:24:01,119 --> 00:24:04,000
good at it

689
00:24:02,480 --> 00:24:05,599
and so it's a bummer and one of these

690
00:24:04,000 --> 00:24:07,679
days i need to fix that that's for sure

691
00:24:05,599 --> 00:24:09,038
before i'm you know 60 or whatever i

692
00:24:07,679 --> 00:24:10,080
need to sit down and actually do that

693
00:24:09,038 --> 00:24:12,000
but

694
00:24:10,079 --> 00:24:14,158
uh in lieu of actually having someone

695
00:24:12,000 --> 00:24:16,480
with really hardcore rendering expertise

696
00:24:14,159 --> 00:24:17,840
uh or ray tracing expertise

697
00:24:16,480 --> 00:24:18,960
i'm simply going to try and point out

698
00:24:17,839 --> 00:24:21,519
that

699
00:24:18,960 --> 00:24:23,200
i don't think we are properly accounting

700
00:24:21,519 --> 00:24:26,720
for the fact

701
00:24:23,200 --> 00:24:29,120
that a given surface can only reflect

702
00:24:26,720 --> 00:24:30,159
the amount of energy it received in

703
00:24:29,119 --> 00:24:32,479
total

704
00:24:30,159 --> 00:24:34,880
uh less its modulation meaning like

705
00:24:32,480 --> 00:24:36,880
after it it takes away the 30 or

706
00:24:34,880 --> 00:24:38,799
whatever of light that it's absorbing

707
00:24:36,880 --> 00:24:41,760
right

708
00:24:38,798 --> 00:24:46,319
the remaining 70 of the light that it

709
00:24:41,759 --> 00:24:48,480
captured that light has to go out

710
00:24:46,319 --> 00:24:51,200
based on some distribution

711
00:24:48,480 --> 00:24:53,200
it can't have every direction receive

712
00:24:51,200 --> 00:24:55,840
the entire amount of light that it

713
00:24:53,200 --> 00:24:58,080
received from the opposite direction

714
00:24:55,839 --> 00:25:00,879
right because if you allow that to

715
00:24:58,079 --> 00:25:03,678
happen then what you're going to get is

716
00:25:00,880 --> 00:25:06,480
exactly the i think exactly the bug that

717
00:25:03,679 --> 00:25:08,880
we see which is that on the first frame

718
00:25:06,480 --> 00:25:10,480
everything's fine because you only are

719
00:25:08,880 --> 00:25:12,559
sampling from these light sources and

720
00:25:10,480 --> 00:25:15,200
each probe just got the distribution

721
00:25:12,558 --> 00:25:16,399
from the light source and that's fine

722
00:25:15,200 --> 00:25:18,319
but

723
00:25:16,400 --> 00:25:19,440
if you keep the light source in one

724
00:25:18,319 --> 00:25:22,079
place

725
00:25:19,440 --> 00:25:24,080
it will then basically contaminate as it

726
00:25:22,079 --> 00:25:26,720
spreads outward

727
00:25:24,079 --> 00:25:29,038
because each reflector is basically

728
00:25:26,720 --> 00:25:30,960
capable of reflecting the total energy

729
00:25:29,038 --> 00:25:34,480
of the light source again

730
00:25:30,960 --> 00:25:37,519
so yes it inverse squared fall off right

731
00:25:34,480 --> 00:25:39,360
when it got from here to here but then

732
00:25:37,519 --> 00:25:41,679
on the next frame

733
00:25:39,359 --> 00:25:44,158
this is capable of picking up basically

734
00:25:41,679 --> 00:25:47,519
the entire light source again and moving

735
00:25:44,159 --> 00:25:49,200
it one probe forward right

736
00:25:47,519 --> 00:25:51,440
because we're not accounting for the

737
00:25:49,200 --> 00:25:53,600
fact that it shouldn't be able to

738
00:25:51,440 --> 00:25:56,320
distribute that entire light that it

739
00:25:53,599 --> 00:25:57,918
received it should only be able to to

740
00:25:56,319 --> 00:26:00,240
distribute

741
00:25:57,919 --> 00:26:01,600
that light proportional you know like it

742
00:26:00,240 --> 00:26:03,679
should only be able to redistribute that

743
00:26:01,599 --> 00:26:05,038
area across the entire hemisphere which

744
00:26:03,679 --> 00:26:06,559
means some of it goes back in the other

745
00:26:05,038 --> 00:26:08,158
direction right

746
00:26:06,558 --> 00:26:09,759
uh and so on

747
00:26:08,159 --> 00:26:12,640
so i think what's basically happening

748
00:26:09,759 --> 00:26:14,879
right now is our light probes are

749
00:26:12,640 --> 00:26:18,000
functioning like mirrors they're like

750
00:26:14,880 --> 00:26:20,000
one frame delay mirror so rather than

751
00:26:18,000 --> 00:26:22,159
the light itself

752
00:26:20,000 --> 00:26:25,759
actually getting distributed and sent

753
00:26:22,159 --> 00:26:27,919
along it's actually kept uh and

754
00:26:25,759 --> 00:26:29,759
propagated entirely

755
00:26:27,919 --> 00:26:32,240
from light source to light from probe to

756
00:26:29,759 --> 00:26:33,919
probe as we go

757
00:26:32,240 --> 00:26:35,519
uh and and calling the mirrors is wrong

758
00:26:33,919 --> 00:26:38,000
it's not even they're replicators right

759
00:26:35,519 --> 00:26:40,319
because not only are the mirror would

760
00:26:38,000 --> 00:26:41,759
just send it on its way and not keep it

761
00:26:40,319 --> 00:26:43,918
uh they're worse than mirrors right

762
00:26:41,759 --> 00:26:46,240
they're mirrors that send all the light

763
00:26:43,919 --> 00:26:48,159
uh out in the same direction again so

764
00:26:46,240 --> 00:26:50,400
it's just like bucket brigade but also

765
00:26:48,159 --> 00:26:52,400
they keep it so they show up bright as

766
00:26:50,400 --> 00:26:55,200
well you know what i'm saying

767
00:26:52,400 --> 00:26:57,679
um and so it's this lack of a

768
00:26:55,200 --> 00:27:00,640
reflectance equation happening at the

769
00:26:57,679 --> 00:27:03,278
point that distributes the energy fairly

770
00:27:00,640 --> 00:27:04,840
and without adding energy that i think

771
00:27:03,278 --> 00:27:07,278
is our

772
00:27:04,839 --> 00:27:10,959
problem um

773
00:27:07,278 --> 00:27:13,440
i hope that makes some sense that's just

774
00:27:10,960 --> 00:27:17,519
that's just my way of saying why in my

775
00:27:13,440 --> 00:27:19,600
head i think the behavior we're seeing

776
00:27:17,519 --> 00:27:22,398
of that light contamination is exactly

777
00:27:19,599 --> 00:27:26,079
what we actually should expect because

778
00:27:22,398 --> 00:27:28,239
of the way that we are sampling right um

779
00:27:26,079 --> 00:27:30,398
we are we are not sampling the

780
00:27:28,240 --> 00:27:32,240
reflectance in a way that actually

781
00:27:30,398 --> 00:27:35,359
conserves the energy

782
00:27:32,240 --> 00:27:38,399
uh that is incident to

783
00:27:35,359 --> 00:27:39,918
the point right

784
00:27:38,398 --> 00:27:42,158
um

785
00:27:39,919 --> 00:27:44,559
so that's my assumption and i could be

786
00:27:42,159 --> 00:27:46,559
wrong uh but that's my assumption

787
00:27:44,558 --> 00:27:49,440
and so i think what we're doing wrong

788
00:27:46,558 --> 00:27:51,278
here is we are doing something uh ev

789
00:27:49,440 --> 00:27:52,480
when we actually go to sample so you

790
00:27:51,278 --> 00:27:53,839
know i'll draw it down here because we

791
00:27:52,480 --> 00:27:56,000
you know i've drawn too much crap up

792
00:27:53,839 --> 00:27:56,000
there

793
00:27:56,079 --> 00:28:00,960
um so imagine we have like some close

794
00:27:58,398 --> 00:28:02,479
samples like this we don't really in the

795
00:28:00,960 --> 00:28:04,558
game have this but i just want to make

796
00:28:02,480 --> 00:28:07,440
it a little simpler on us

797
00:28:04,558 --> 00:28:09,759
um so suppose we have some samples here

798
00:28:07,440 --> 00:28:12,320
and uh we are going to do something

799
00:28:09,759 --> 00:28:13,200
where we say okay we're sampling from

800
00:28:12,319 --> 00:28:16,720
this

801
00:28:13,200 --> 00:28:18,080
ray so this guy uh you know is is

802
00:28:16,720 --> 00:28:19,519
sampling basically the light that's

803
00:28:18,079 --> 00:28:21,839
coming in this direction so it can

804
00:28:19,519 --> 00:28:23,440
update this light probe and let's

805
00:28:21,839 --> 00:28:26,398
suppose you know so that's going to send

806
00:28:23,440 --> 00:28:28,558
out a a probe you know in this direction

807
00:28:26,398 --> 00:28:30,639
or something and so let's say there's a

808
00:28:28,558 --> 00:28:33,759
wall you know here

809
00:28:30,640 --> 00:28:35,679
and this is gonna hit that wall right

810
00:28:33,759 --> 00:28:37,038
and so we're gonna have something like

811
00:28:35,679 --> 00:28:38,480
this

812
00:28:37,038 --> 00:28:39,919
or maybe let's make it even simpler this

813
00:28:38,480 --> 00:28:41,919
is an emitter so we'll just do one

814
00:28:39,919 --> 00:28:45,120
bounce right

815
00:28:41,919 --> 00:28:47,600
um so what we would say is okay this

816
00:28:45,119 --> 00:28:50,079
emitter right we have some density that

817
00:28:47,599 --> 00:28:51,839
we sampled at this emitter and out of

818
00:28:50,079 --> 00:28:53,678
this direction which is the direction

819
00:28:51,839 --> 00:28:56,839
we're going to sample we have some

820
00:28:53,679 --> 00:29:00,399
amount of emission coming in here

821
00:28:56,839 --> 00:29:03,678
right now for this surface what we want

822
00:29:00,398 --> 00:29:06,239
to say is if it's you know what whatever

823
00:29:03,679 --> 00:29:08,240
this surface's value is we're expecting

824
00:29:06,240 --> 00:29:11,038
to send light back out into the

825
00:29:08,240 --> 00:29:13,440
environment at like a 70 rate

826
00:29:11,038 --> 00:29:15,200
so we know that whatever comes in here

827
00:29:13,440 --> 00:29:17,200
we have some total amount of energy

828
00:29:15,200 --> 00:29:19,038
that's sampled out of this you know

829
00:29:17,200 --> 00:29:23,759
particular thing and we know that we're

830
00:29:19,038 --> 00:29:26,720
going to send 70 of it back out right

831
00:29:23,759 --> 00:29:28,960
so i would assume although i guess i

832
00:29:26,720 --> 00:29:28,960
don't

833
00:29:29,759 --> 00:29:32,798
and this is the part where it's very

834
00:29:30,880 --> 00:29:33,520
tricky for me to think through

835
00:29:32,798 --> 00:29:36,000
so

836
00:29:33,519 --> 00:29:39,278
if we're going to send 70 of it back out

837
00:29:36,000 --> 00:29:41,200
in this direction and keep 30 of it here

838
00:29:39,278 --> 00:29:43,759
right

839
00:29:41,200 --> 00:29:46,080
uh the 30 is just gone this this just

840
00:29:43,759 --> 00:29:47,759
disappears right uh it can't be seen

841
00:29:46,079 --> 00:29:49,839
it's just absorbed to the material as

842
00:29:47,759 --> 00:29:51,839
heat or i don't even who the heck knows

843
00:29:49,839 --> 00:29:53,278
that's that's actually like you know

844
00:29:51,839 --> 00:29:54,558
welcome to material science i have no

845
00:29:53,278 --> 00:29:56,960
idea what's going on there right but

846
00:29:54,558 --> 00:30:00,319
some amount of the photons are just like

847
00:29:56,960 --> 00:30:02,240
absorbed and do quantum things and

848
00:30:00,319 --> 00:30:03,278
convert to ir or i don't know what they

849
00:30:02,240 --> 00:30:04,159
do

850
00:30:03,278 --> 00:30:06,000
um

851
00:30:04,159 --> 00:30:08,000
so some amount of the photons are just

852
00:30:06,000 --> 00:30:10,398
absorbed 70 percent of them have to go

853
00:30:08,000 --> 00:30:13,278
back out into the environment and so you

854
00:30:10,398 --> 00:30:14,558
know 70 of them are going to go out in

855
00:30:13,278 --> 00:30:16,159
you know in

856
00:30:14,558 --> 00:30:18,079
some kind of a

857
00:30:16,159 --> 00:30:20,000
of a ring

858
00:30:18,079 --> 00:30:21,199
the problem that we're having here is

859
00:30:20,000 --> 00:30:23,119
when they

860
00:30:21,200 --> 00:30:24,159
look when they hit other light probes

861
00:30:23,119 --> 00:30:26,558
like these light probes in the

862
00:30:24,159 --> 00:30:26,559
environment

863
00:30:26,798 --> 00:30:31,679
what i don't quite understand is should

864
00:30:29,278 --> 00:30:34,960
these light probes like how should these

865
00:30:31,679 --> 00:30:38,000
light probes react to capturing that 70

866
00:30:34,960 --> 00:30:39,759
percent right

867
00:30:38,000 --> 00:30:42,720
that's the part that's very confusing to

868
00:30:39,759 --> 00:30:45,839
me so we do want seventy percent to go

869
00:30:42,720 --> 00:30:47,919
out here but we don't want like this

870
00:30:45,839 --> 00:30:50,480
these we don't want all three of these

871
00:30:47,919 --> 00:30:53,759
for example if they all happen to fall

872
00:30:50,480 --> 00:30:56,159
within the texel of that octahedral map

873
00:30:53,759 --> 00:30:58,000
we don't want all three of these to all

874
00:30:56,159 --> 00:30:58,880
have 70

875
00:30:58,000 --> 00:30:59,759
right

876
00:30:58,880 --> 00:31:03,120
um

877
00:30:59,759 --> 00:31:04,398
they each would need to get a proportion

878
00:31:03,119 --> 00:31:06,319
of the 70

879
00:31:04,398 --> 00:31:07,759
i think

880
00:31:06,319 --> 00:31:10,639
meaning that

881
00:31:07,759 --> 00:31:12,640
the photons that come in here

882
00:31:10,640 --> 00:31:15,360
however many you got

883
00:31:12,640 --> 00:31:17,200
they can't all go to each

884
00:31:15,359 --> 00:31:20,158
right

885
00:31:17,200 --> 00:31:22,480
each light probe has to capture

886
00:31:20,159 --> 00:31:23,519
exactly a third

887
00:31:22,480 --> 00:31:25,038
or

888
00:31:23,519 --> 00:31:27,519
maybe these would capture less because

889
00:31:25,038 --> 00:31:28,640
they're further off angle

890
00:31:27,519 --> 00:31:30,319
i don't know

891
00:31:28,640 --> 00:31:32,960
but the total light energy that comes in

892
00:31:30,319 --> 00:31:35,119
here on that on that arc

893
00:31:32,960 --> 00:31:37,278
that's the reflected angle that you know

894
00:31:35,119 --> 00:31:39,199
that uh solid angle

895
00:31:37,278 --> 00:31:40,960
the outgoing solid angle has to

896
00:31:39,200 --> 00:31:42,720
distribute that i would think fairly so

897
00:31:40,960 --> 00:31:44,000
it should have to do something like you

898
00:31:42,720 --> 00:31:46,399
know 20

899
00:31:44,000 --> 00:31:48,798
20 30 right

900
00:31:46,398 --> 00:31:50,959
and right now i think it'll just get

901
00:31:48,798 --> 00:31:53,119
70-70-70

902
00:31:50,960 --> 00:31:56,240
which which is i think where our light

903
00:31:53,119 --> 00:31:57,439
contamination comes from

904
00:31:56,240 --> 00:31:59,679
uh

905
00:31:57,440 --> 00:32:01,200
my naivete and the reason that i'm

906
00:31:59,679 --> 00:32:02,480
saying that i'm not comfortable with

907
00:32:01,200 --> 00:32:05,200
this stuff but i don't really understand

908
00:32:02,480 --> 00:32:07,038
it is that although i'm saying that i

909
00:32:05,200 --> 00:32:08,240
don't really have a solid understanding

910
00:32:07,038 --> 00:32:10,000
for

911
00:32:08,240 --> 00:32:10,960
how you'd actually write the equations

912
00:32:10,000 --> 00:32:13,119
for that

913
00:32:10,960 --> 00:32:16,000
partially because light probes are weird

914
00:32:13,119 --> 00:32:17,759
they're not surfaces they're

915
00:32:16,000 --> 00:32:19,278
kind of just things floating in space

916
00:32:17,759 --> 00:32:21,519
that measure the light that goes through

917
00:32:19,278 --> 00:32:21,519
them

918
00:32:22,079 --> 00:32:28,519
so i'm not sure exactly how that would

919
00:32:24,720 --> 00:32:28,519
work i

920
00:32:29,759 --> 00:32:34,240
because these do have inverse squared

921
00:32:31,839 --> 00:32:36,000
fall off because of the way they back

922
00:32:34,240 --> 00:32:38,399
sample right

923
00:32:36,000 --> 00:32:41,440
uh they're sending out samples and that

924
00:32:38,398 --> 00:32:44,079
averaging process will knock down uh the

925
00:32:41,440 --> 00:32:47,200
amount based on how many hit

926
00:32:44,079 --> 00:32:49,119
and like so would that

927
00:32:47,200 --> 00:32:50,000
should that naturally produce the 20 20

928
00:32:49,119 --> 00:32:51,278
30

929
00:32:50,000 --> 00:32:54,278
right

930
00:32:51,278 --> 00:32:54,278
um

931
00:33:09,119 --> 00:33:13,278
and right i i don't know maybe i'm not

932
00:33:11,119 --> 00:33:16,398
maybe not explaining my confusion very

933
00:33:13,278 --> 00:33:18,880
well uh so i apologize but

934
00:33:16,398 --> 00:33:20,719
if my argument is correct that just like

935
00:33:18,880 --> 00:33:22,399
by sampling this you're going to get

936
00:33:20,720 --> 00:33:23,600
less sampling as it gets further away

937
00:33:22,398 --> 00:33:25,518
you would expect that to have the

938
00:33:23,599 --> 00:33:26,480
inverse square coverage tells you what's

939
00:33:25,519 --> 00:33:28,159
coming in

940
00:33:26,480 --> 00:33:30,319
uh the same argument should sort of

941
00:33:28,159 --> 00:33:32,559
apply here i mean shouldn't it but i

942
00:33:30,319 --> 00:33:34,558
guess i don't know i don't know if there

943
00:33:32,558 --> 00:33:38,240
should also be uh

944
00:33:34,558 --> 00:33:40,558
what you know this particular thing when

945
00:33:38,240 --> 00:33:42,798
we sample in the reverse direction

946
00:33:40,558 --> 00:33:45,599
i don't know if we should divide

947
00:33:42,798 --> 00:33:47,359
by the surface area again

948
00:33:45,599 --> 00:33:49,759
like like i don't know whether we would

949
00:33:47,359 --> 00:33:51,519
divide a second time

950
00:33:49,759 --> 00:33:54,650
maybe i need to try and think about this

951
00:33:51,519 --> 00:33:57,769
in terms of like individual photons

952
00:33:54,650 --> 00:33:57,769
[Music]

953
00:34:05,519 --> 00:34:09,760
uh because you know it could be that

954
00:34:07,599 --> 00:34:12,878
actually this number because there's

955
00:34:09,760 --> 00:34:15,760
some number here that this already has

956
00:34:12,878 --> 00:34:17,918
that surface area division effectively

957
00:34:15,760 --> 00:34:20,000
baked into it meaning because we can set

958
00:34:17,918 --> 00:34:22,239
this to whatever we want it's just an

959
00:34:20,000 --> 00:34:25,679
arbitrary brightness value it could be

960
00:34:22,239 --> 00:34:28,158
that actually no when you hit here you

961
00:34:25,679 --> 00:34:30,720
should have said how big

962
00:34:28,159 --> 00:34:32,079
of a you know how big does this ray

963
00:34:30,719 --> 00:34:34,158
actually represent

964
00:34:32,079 --> 00:34:36,079
and we're actually going to count that

965
00:34:34,159 --> 00:34:38,398
many photons right because it's sort of

966
00:34:36,079 --> 00:34:39,919
a sample that's a part of us you know

967
00:34:38,398 --> 00:34:41,358
that's that's sort of trying to

968
00:34:39,918 --> 00:34:43,679
reconstruct

969
00:34:41,358 --> 00:34:45,358
how many photons were actually incident

970
00:34:43,679 --> 00:34:48,240
and this could sort of just have that

971
00:34:45,358 --> 00:34:50,639
baked in implicitly in the number so you

972
00:34:48,239 --> 00:34:52,078
know you're never going to see that bug

973
00:34:50,639 --> 00:34:54,079
i mean it's not a bug but you're never

974
00:34:52,079 --> 00:34:56,320
going to see that aspect of your system

975
00:34:54,079 --> 00:34:58,320
you wouldn't think about it

976
00:34:56,320 --> 00:35:00,480
so it could be that in this case you

977
00:34:58,320 --> 00:35:04,240
actually do need to do that and maybe we

978
00:35:00,480 --> 00:35:04,240
can look uh and see

979
00:35:04,880 --> 00:35:08,160
let's think about this maybe we can look

980
00:35:06,880 --> 00:35:10,320
and see if we actually do a little

981
00:35:08,159 --> 00:35:12,719
photon counting exercise if we can

982
00:35:10,320 --> 00:35:14,400
convince ourselves uh one way or the

983
00:35:12,719 --> 00:35:15,519
other about that

984
00:35:14,400 --> 00:35:17,838
i'm gonna take a drink of water one

985
00:35:15,519 --> 00:35:17,838
second

986
00:35:58,480 --> 00:36:02,559
someday we're gonna have technology for

987
00:36:00,719 --> 00:36:04,239
this i mean we already have probably the

988
00:36:02,559 --> 00:36:05,759
technology it's just nobody's building

989
00:36:04,239 --> 00:36:08,399
them

990
00:36:05,760 --> 00:36:11,200
uh for instant erase light boards and

991
00:36:08,400 --> 00:36:13,920
that will be a very good day

992
00:36:11,199 --> 00:36:16,960
when these are just like lcds right

993
00:36:13,920 --> 00:36:19,358
and the pen is actually just like a

994
00:36:16,960 --> 00:36:21,440
uh like a wacom pen basically that

995
00:36:19,358 --> 00:36:24,719
lights that lights the surface you know

996
00:36:21,440 --> 00:36:26,960
that tells the lcd to like solidify

997
00:36:24,719 --> 00:36:29,358
their

998
00:36:26,960 --> 00:36:30,720
someday

999
00:36:29,358 --> 00:36:32,880
or we'll just all be in mark

1000
00:36:30,719 --> 00:36:35,279
zuckerberg's horrible metaverse or

1001
00:36:32,880 --> 00:36:36,640
something

1002
00:36:35,280 --> 00:36:38,400
but of course in that case none of this

1003
00:36:36,639 --> 00:36:40,319
stuff would work it'd all just be buggy

1004
00:36:38,400 --> 00:36:43,440
and showing you ads all the time so that

1005
00:36:40,320 --> 00:36:43,440
probably wouldn't solve the problem

1006
00:36:46,320 --> 00:36:48,640
all right

1007
00:36:53,358 --> 00:36:56,480
that didn't take too long

1008
00:36:57,199 --> 00:37:01,519
okay so let's just count

1009
00:36:59,280 --> 00:37:01,519
um

1010
00:37:02,400 --> 00:37:07,039
let's do some like basic photon counting

1011
00:37:04,639 --> 00:37:08,719
and again this is just for my own

1012
00:37:07,039 --> 00:37:10,719
purposes try and like

1013
00:37:08,719 --> 00:37:13,279
think through what's happening in this

1014
00:37:10,719 --> 00:37:16,399
situation uh so that i could figure out

1015
00:37:13,280 --> 00:37:19,440
like where in the equations you know we

1016
00:37:16,400 --> 00:37:21,039
have very simplistic equations right now

1017
00:37:19,440 --> 00:37:22,720
we're hardly doing anything during light

1018
00:37:21,039 --> 00:37:24,719
transport

1019
00:37:22,719 --> 00:37:27,358
and the question is like what would we

1020
00:37:24,719 --> 00:37:29,199
add if i'm right that this is

1021
00:37:27,358 --> 00:37:31,920
erroneous meaning

1022
00:37:29,199 --> 00:37:34,719
we're getting light replication

1023
00:37:31,920 --> 00:37:37,358
uh because we're missing a surface area

1024
00:37:34,719 --> 00:37:39,279
divide right like

1025
00:37:37,358 --> 00:37:40,639
uh and just to be clear

1026
00:37:39,280 --> 00:37:42,480
when you reflect things off of surface

1027
00:37:40,639 --> 00:37:44,400
you also have like a cosine falloff and

1028
00:37:42,480 --> 00:37:45,838
things like that i'm not talking about

1029
00:37:44,400 --> 00:37:48,320
that i'm not talking about trying to

1030
00:37:45,838 --> 00:37:51,358
condition the falloff uh i'm talking

1031
00:37:48,320 --> 00:37:52,960
about no matter what we do

1032
00:37:51,358 --> 00:37:55,119
how do we ensure that the energy

1033
00:37:52,960 --> 00:37:57,599
transfer is correct right

1034
00:37:55,119 --> 00:37:59,280
um so because any surface reflectance

1035
00:37:57,599 --> 00:38:01,119
function you might want

1036
00:37:59,280 --> 00:38:02,960
we should be able to

1037
00:38:01,119 --> 00:38:05,519
whatever the equation is we choose even

1038
00:38:02,960 --> 00:38:06,880
if it was just purely like it's perfect

1039
00:38:05,519 --> 00:38:09,119
like it's not even cosine fall if it's

1040
00:38:06,880 --> 00:38:11,200
just it's perfectly distributed if

1041
00:38:09,119 --> 00:38:12,480
that's what we for some reason wanted we

1042
00:38:11,199 --> 00:38:14,078
should still be able to condition the

1043
00:38:12,480 --> 00:38:15,838
equations so you don't get feedback

1044
00:38:14,079 --> 00:38:17,359
right we should be able to condition the

1045
00:38:15,838 --> 00:38:18,880
equation so that there isn't like an

1046
00:38:17,358 --> 00:38:21,519
energy

1047
00:38:18,880 --> 00:38:23,680
build up happening

1048
00:38:21,519 --> 00:38:24,639
so let's just try some photon counting

1049
00:38:23,679 --> 00:38:27,598
and see

1050
00:38:24,639 --> 00:38:29,118
uh if there's something to be said

1051
00:38:27,599 --> 00:38:32,559
about that

1052
00:38:29,119 --> 00:38:34,960
so let's suppose that we start uh with a

1053
00:38:32,559 --> 00:38:39,039
light source right

1054
00:38:34,960 --> 00:38:42,639
um so our emitter is going to emit uh

1055
00:38:39,039 --> 00:38:44,239
some number of photons uh out from uh

1056
00:38:42,639 --> 00:38:47,679
you know its surface

1057
00:38:44,239 --> 00:38:49,919
and we have our uh collection point so

1058
00:38:47,679 --> 00:38:52,399
here is our probe

1059
00:38:49,920 --> 00:38:56,000
this is going to be our probe p

1060
00:38:52,400 --> 00:38:57,280
and our probe is basically like going to

1061
00:38:56,000 --> 00:38:58,639
hit

1062
00:38:57,280 --> 00:39:02,480
like so

1063
00:38:58,639 --> 00:39:05,519
and let's suppose that we say that

1064
00:39:02,480 --> 00:39:08,079
what because you know

1065
00:39:05,519 --> 00:39:10,639
we're basically trying to simulate a

1066
00:39:08,079 --> 00:39:11,680
large number of photons with a few rays

1067
00:39:10,639 --> 00:39:15,598
right

1068
00:39:11,679 --> 00:39:19,519
so each one of these hits is going to be

1069
00:39:15,599 --> 00:39:22,160
some number of photons comes back right

1070
00:39:19,519 --> 00:39:24,960
and i guess i would say right now if we

1071
00:39:22,159 --> 00:39:27,759
had to categorize what our actual light

1072
00:39:24,960 --> 00:39:29,838
values are that's what they are they're

1073
00:39:27,760 --> 00:39:32,560
basically like a

1074
00:39:29,838 --> 00:39:32,559
one ray

1075
00:39:34,000 --> 00:39:37,838
photon count

1076
00:39:36,000 --> 00:39:40,800
so 5.0

1077
00:39:37,838 --> 00:39:44,320
is like the photon count

1078
00:39:40,800 --> 00:39:47,680
right so when we hit with one ray we're

1079
00:39:44,320 --> 00:39:49,200
basically getting five photons back

1080
00:39:47,679 --> 00:39:52,319
from that

1081
00:39:49,199 --> 00:39:53,838
that ray right

1082
00:39:52,320 --> 00:39:55,760
now we cast

1083
00:39:53,838 --> 00:39:58,000
i think eight or

1084
00:39:55,760 --> 00:39:59,680
we know we cast depending on how we tune

1085
00:39:58,000 --> 00:40:01,679
the parameter and how fast we make the

1086
00:39:59,679 --> 00:40:02,960
raycaster we can you know if we improve

1087
00:40:01,679 --> 00:40:04,960
the speed of the raycaster we could set

1088
00:40:02,960 --> 00:40:06,480
it up higher whatever we're casting some

1089
00:40:04,960 --> 00:40:07,920
number of rays

1090
00:40:06,480 --> 00:40:10,318
uh and then we're averaging them

1091
00:40:07,920 --> 00:40:14,880
together right uh so i guess i shouldn't

1092
00:40:10,318 --> 00:40:17,119
say uh per ray this this is for

1093
00:40:14,880 --> 00:40:19,519
uh all rays

1094
00:40:17,119 --> 00:40:19,519
i guess

1095
00:40:22,400 --> 00:40:27,200
so if all rays that went out

1096
00:40:26,400 --> 00:40:29,680
hit

1097
00:40:27,199 --> 00:40:32,078
the light source from one

1098
00:40:29,679 --> 00:40:34,639
you know one emission texel from from

1099
00:40:32,079 --> 00:40:36,318
one like uh texel that we're sending

1100
00:40:34,639 --> 00:40:38,559
raycasts out of for the light probe so

1101
00:40:36,318 --> 00:40:40,079
the octahedral map right is wrapped

1102
00:40:38,559 --> 00:40:42,960
around this

1103
00:40:40,079 --> 00:40:45,039
right we've got one texel we're sending

1104
00:40:42,960 --> 00:40:46,880
a ton of rays out here

1105
00:40:45,039 --> 00:40:48,960
and we're going to hit with some number

1106
00:40:46,880 --> 00:40:52,240
of them

1107
00:40:48,960 --> 00:40:55,599
so coming back the number of photons

1108
00:40:52,239 --> 00:40:58,399
that we received at this probe

1109
00:40:55,599 --> 00:41:00,800
uh is going to be the emitter's number

1110
00:40:58,400 --> 00:41:03,519
which is like the 5.0

1111
00:41:00,800 --> 00:41:07,599
divided by something based on how many

1112
00:41:03,519 --> 00:41:10,079
rays hit right so it's times um the hits

1113
00:41:07,599 --> 00:41:12,400
over the casts right so there's like an

1114
00:41:10,079 --> 00:41:16,000
h over c term here

1115
00:41:12,400 --> 00:41:17,920
so five photons are magical photons or

1116
00:41:16,000 --> 00:41:21,199
five billion photons or whatever you

1117
00:41:17,920 --> 00:41:24,000
want to call this five

1118
00:41:21,199 --> 00:41:26,000
if all the rays hit that's how much

1119
00:41:24,000 --> 00:41:30,639
energy would have come in through that

1120
00:41:26,000 --> 00:41:33,440
texel if some lower number of that

1121
00:41:30,639 --> 00:41:34,960
rays hit we get proportionally less

1122
00:41:33,440 --> 00:41:36,400
so we don't really even have to talk

1123
00:41:34,960 --> 00:41:37,920
about how many actually hit her we can

1124
00:41:36,400 --> 00:41:39,838
just say that's what happened but if we

1125
00:41:37,920 --> 00:41:42,559
wanted to put a concrete thing on it

1126
00:41:39,838 --> 00:41:44,639
let's just say that for some reason all

1127
00:41:42,559 --> 00:41:47,279
the rays hit

1128
00:41:44,639 --> 00:41:50,000
so like everything in this bundle

1129
00:41:47,280 --> 00:41:52,480
uh of rays that we sent they all hit the

1130
00:41:50,000 --> 00:41:53,599
light source so we got back the full

1131
00:41:52,480 --> 00:41:54,639
five

1132
00:41:53,599 --> 00:41:57,359
uh

1133
00:41:54,639 --> 00:41:58,000
magic photon quantity however much that

1134
00:41:57,358 --> 00:41:59,119
is

1135
00:41:58,000 --> 00:42:01,039
five

1136
00:41:59,119 --> 00:42:04,559
uh handmades

1137
00:42:01,039 --> 00:42:04,559
of photons right

1138
00:42:04,639 --> 00:42:10,159
so then what we're going to talk about

1139
00:42:06,960 --> 00:42:11,760
uh as the buggy part because i don't see

1140
00:42:10,159 --> 00:42:13,598
so i guess what i'd say is i don't see

1141
00:42:11,760 --> 00:42:14,960
how that can really be all that wrong

1142
00:42:13,599 --> 00:42:17,680
because we're setting this number to

1143
00:42:14,960 --> 00:42:19,199
whatever we want and that seems fine

1144
00:42:17,679 --> 00:42:20,000
like it's just

1145
00:42:19,199 --> 00:42:23,039
that's

1146
00:42:20,000 --> 00:42:24,800
that is just a measure of if every ray

1147
00:42:23,039 --> 00:42:27,279
hit this light source you would have

1148
00:42:24,800 --> 00:42:29,039
that much light energy and since we're

1149
00:42:27,280 --> 00:42:30,560
setting this value to whatever we want i

1150
00:42:29,039 --> 00:42:32,880
don't see how there can really be much

1151
00:42:30,559 --> 00:42:35,358
of a bug there if we were to claim that

1152
00:42:32,880 --> 00:42:38,960
this value was something else candelas

1153
00:42:35,358 --> 00:42:40,719
watts watts per staridian whatever

1154
00:42:38,960 --> 00:42:43,519
then we would have to think about

1155
00:42:40,719 --> 00:42:44,799
whether what we claimed the value was

1156
00:42:43,519 --> 00:42:47,358
measured in

1157
00:42:44,800 --> 00:42:50,160
was actually correct because it could be

1158
00:42:47,358 --> 00:42:53,119
if we said that it was for example uh

1159
00:42:50,159 --> 00:42:55,279
watts per steridian or straight watts or

1160
00:42:53,119 --> 00:42:57,599
whatever there might be a thing where

1161
00:42:55,280 --> 00:42:59,359
you have to divide based on the scale of

1162
00:42:57,599 --> 00:43:02,000
the light source in order to make the

1163
00:42:59,358 --> 00:43:04,639
units of that be true because they they

1164
00:43:02,000 --> 00:43:06,159
might be talking about per service uh

1165
00:43:04,639 --> 00:43:07,759
they might be normalized to surface area

1166
00:43:06,159 --> 00:43:09,920
or not normalized surface area and then

1167
00:43:07,760 --> 00:43:11,359
this could be wrong but because we

1168
00:43:09,920 --> 00:43:12,960
haven't even said what it is it's just

1169
00:43:11,358 --> 00:43:14,799
an abstract measure of brightness that

1170
00:43:12,960 --> 00:43:15,838
we turn up and down i don't think it can

1171
00:43:14,800 --> 00:43:17,519
actually be wrong because we haven't

1172
00:43:15,838 --> 00:43:18,960
made any claims about it we just claim

1173
00:43:17,519 --> 00:43:20,480
that when it gets larger the light gets

1174
00:43:18,960 --> 00:43:22,880
brighter and it gets less it gets less

1175
00:43:20,480 --> 00:43:24,880
so i think this first this is again me

1176
00:43:22,880 --> 00:43:26,559
just trying to reassure myself that i

1177
00:43:24,880 --> 00:43:29,440
think that we don't have any problems in

1178
00:43:26,559 --> 00:43:33,920
that first gather of light from an

1179
00:43:29,440 --> 00:43:33,920
emitter because that seems okay

1180
00:43:34,318 --> 00:43:38,639
uh but i don't know

1181
00:43:36,480 --> 00:43:41,280
now let's look at the next bounce and

1182
00:43:38,639 --> 00:43:43,598
here's where i think we have problems

1183
00:43:41,280 --> 00:43:46,240
so let's suppose that this is the only

1184
00:43:43,599 --> 00:43:48,160
light source in the scene and we've only

1185
00:43:46,239 --> 00:43:50,639
done one bounce

1186
00:43:48,159 --> 00:43:52,239
so meaning we haven't run this for many

1187
00:43:50,639 --> 00:43:54,960
frames and let the light like flow

1188
00:43:52,239 --> 00:43:57,358
around or anything so the only light in

1189
00:43:54,960 --> 00:43:59,760
the entire system let's say

1190
00:43:57,358 --> 00:44:03,039
is there

1191
00:43:59,760 --> 00:44:03,040
and now we have

1192
00:44:03,440 --> 00:44:06,318
more probes

1193
00:44:06,838 --> 00:44:10,799
right and what we're going to do is

1194
00:44:09,199 --> 00:44:13,439
we're going to

1195
00:44:10,800 --> 00:44:14,480
cast and some of these casts are going

1196
00:44:13,440 --> 00:44:16,480
to hit

1197
00:44:14,480 --> 00:44:18,800
right

1198
00:44:16,480 --> 00:44:18,800
now

1199
00:44:19,280 --> 00:44:25,119
some of these we could easily construct

1200
00:44:21,920 --> 00:44:27,920
a case where two of these probes are on

1201
00:44:25,119 --> 00:44:30,318
the same line directly into here

1202
00:44:27,920 --> 00:44:32,000
and i'm gonna like to make our lives

1203
00:44:30,318 --> 00:44:33,519
easier so that we know that the amount

1204
00:44:32,000 --> 00:44:37,679
coming back

1205
00:44:33,519 --> 00:44:39,358
will be exactly the same right

1206
00:44:37,679 --> 00:44:41,358
to make our lives easier here i'm going

1207
00:44:39,358 --> 00:44:43,598
to restrict our discussion to just those

1208
00:44:41,358 --> 00:44:43,598
two

1209
00:44:44,318 --> 00:44:48,880
because i think

1210
00:44:46,400 --> 00:44:49,838
that helps us understand part of the

1211
00:44:48,880 --> 00:44:51,200
problem

1212
00:44:49,838 --> 00:44:52,799
right

1213
00:44:51,199 --> 00:44:54,639
and or at least why i think this is

1214
00:44:52,800 --> 00:44:56,160
complicated

1215
00:44:54,639 --> 00:44:58,400
so let's suppose we're talking about

1216
00:44:56,159 --> 00:45:01,759
these two a and b

1217
00:44:58,400 --> 00:45:04,800
well we know that no matter what we do a

1218
00:45:01,760 --> 00:45:08,480
and b the light probes a and b will have

1219
00:45:04,800 --> 00:45:12,640
to produce the same values roughly right

1220
00:45:08,480 --> 00:45:15,039
um a is a little further away so it may

1221
00:45:12,639 --> 00:45:18,480
it will have some proportion of the

1222
00:45:15,039 --> 00:45:20,079
light that's flowing into b right

1223
00:45:18,480 --> 00:45:21,119
the ray bundle that comes out here is

1224
00:45:20,079 --> 00:45:23,599
tighter

1225
00:45:21,119 --> 00:45:25,039
so it let's say b hits

1226
00:45:23,599 --> 00:45:28,079
all just the part that would be

1227
00:45:25,039 --> 00:45:29,119
reflected directly out of here so b

1228
00:45:28,079 --> 00:45:30,079
in this

1229
00:45:29,119 --> 00:45:34,400
of its

1230
00:45:30,079 --> 00:45:36,800
texel would have the full 5.0 but a will

1231
00:45:34,400 --> 00:45:40,240
have less right because some of the rays

1232
00:45:36,800 --> 00:45:42,240
will miss so maybe a goes down to 4.0

1233
00:45:40,239 --> 00:45:43,759
like it just misses some not that you

1234
00:45:42,239 --> 00:45:46,399
can have 4.0 in a system where the

1235
00:45:43,760 --> 00:45:47,440
divisor is 16 but you know whatever

1236
00:45:46,400 --> 00:45:50,079
um

1237
00:45:47,440 --> 00:45:52,480
well maybe you could uh anyway uh but

1238
00:45:50,079 --> 00:45:55,280
point being

1239
00:45:52,480 --> 00:45:57,920
here is where i think we have

1240
00:45:55,280 --> 00:45:59,119
uh the issue right or our understanding

1241
00:45:57,920 --> 00:46:01,519
of what's happening with the light

1242
00:45:59,119 --> 00:46:03,358
probes is slightly wrong

1243
00:46:01,519 --> 00:46:06,880
so the light probes are just measuring

1244
00:46:03,358 --> 00:46:10,639
the light flow through that area and so

1245
00:46:06,880 --> 00:46:12,880
they by necessity have to basically

1246
00:46:10,639 --> 00:46:15,199
we have to have

1247
00:46:12,880 --> 00:46:16,559
the amount of photons that are flowing

1248
00:46:15,199 --> 00:46:18,879
through the area

1249
00:46:16,559 --> 00:46:21,199
has to basically be

1250
00:46:18,880 --> 00:46:21,200
um

1251
00:46:23,440 --> 00:46:27,079
wait i missed a step

1252
00:46:29,119 --> 00:46:33,200
i missed one step uh so

1253
00:46:31,440 --> 00:46:35,519
this is not quite

1254
00:46:33,199 --> 00:46:36,639
true of the five and the four but the

1255
00:46:35,519 --> 00:46:37,759
the point i was trying to illustrate

1256
00:46:36,639 --> 00:46:40,400
with the five and four will still be

1257
00:46:37,760 --> 00:46:42,800
true but let's let's not forget

1258
00:46:40,400 --> 00:46:44,559
so in order these have to hit something

1259
00:46:42,800 --> 00:46:47,119
a probe is not something you can hit so

1260
00:46:44,559 --> 00:46:50,559
you have to hit like a wall right and

1261
00:46:47,119 --> 00:46:52,720
the wall is nearby to the probe

1262
00:46:50,559 --> 00:46:56,159
and so we have a reflectance function of

1263
00:46:52,719 --> 00:46:58,480
what comes off of the wall right and

1264
00:46:56,159 --> 00:47:01,598
what comes off of the wall here is going

1265
00:46:58,480 --> 00:47:02,400
to be the the total number of photons

1266
00:47:01,599 --> 00:47:04,400
right

1267
00:47:02,400 --> 00:47:06,800
that hit the wall which in this case is

1268
00:47:04,400 --> 00:47:09,200
5.0

1269
00:47:06,800 --> 00:47:12,400
uh in terms of what comes out in this

1270
00:47:09,199 --> 00:47:14,639
direction we have to basically take

1271
00:47:12,400 --> 00:47:15,920
something that will distribute the 5.0

1272
00:47:14,639 --> 00:47:17,118
photons

1273
00:47:15,920 --> 00:47:18,318
evenly

1274
00:47:17,119 --> 00:47:20,000
uh meaning

1275
00:47:18,318 --> 00:47:21,838
5 came in

1276
00:47:20,000 --> 00:47:24,800
this way so

1277
00:47:21,838 --> 00:47:26,480
and if that's the entirety of it the 5.0

1278
00:47:24,800 --> 00:47:27,519
have to go out

1279
00:47:26,480 --> 00:47:30,480
some

1280
00:47:27,519 --> 00:47:31,358
proportion right

1281
00:47:30,480 --> 00:47:33,519
uh

1282
00:47:31,358 --> 00:47:34,960
they we can't send out more than five

1283
00:47:33,519 --> 00:47:36,800
right

1284
00:47:34,960 --> 00:47:38,720
uh we know that most of our services

1285
00:47:36,800 --> 00:47:40,480
will have some kind of a multiplier on

1286
00:47:38,719 --> 00:47:42,799
them and we should go check this just to

1287
00:47:40,480 --> 00:47:44,960
be sure uh but let's suppose there is

1288
00:47:42,800 --> 00:47:46,800
like the 0.7 or or maybe there's even

1289
00:47:44,960 --> 00:47:47,760
just a 0.5 to make it a little easier on

1290
00:47:46,800 --> 00:47:50,160
ourselves so we don't have to have

1291
00:47:47,760 --> 00:47:51,760
multiply by 0.7 not that it's that hard

1292
00:47:50,159 --> 00:47:53,279
in this case to do

1293
00:47:51,760 --> 00:47:54,960
but let's suppose that it's just like a

1294
00:47:53,280 --> 00:47:58,400
0.5

1295
00:47:54,960 --> 00:48:00,400
so we know that we have 2.5

1296
00:47:58,400 --> 00:48:02,160
of our magical like

1297
00:48:00,400 --> 00:48:04,400
photon count

1298
00:48:02,159 --> 00:48:06,000
going out of the surface

1299
00:48:04,400 --> 00:48:09,039
and we can distribute it over the

1300
00:48:06,000 --> 00:48:10,960
hemisphere however we want

1301
00:48:09,039 --> 00:48:14,960
right now i believe the way that it is

1302
00:48:10,960 --> 00:48:18,838
being uh distributed is we uh there's a

1303
00:48:14,960 --> 00:48:21,599
stage where we take the uh light probe

1304
00:48:18,838 --> 00:48:23,039
octahedron and we take the spec like

1305
00:48:21,599 --> 00:48:24,559
it's basically a specular one so it's

1306
00:48:23,039 --> 00:48:26,239
just got like the light it's got

1307
00:48:24,559 --> 00:48:28,160
literally like the texel that this went

1308
00:48:26,239 --> 00:48:31,519
out of is like at 5.0 and everything

1309
00:48:28,159 --> 00:48:33,598
else is at zero and we do a blur on that

1310
00:48:31,519 --> 00:48:36,400
that's based on the cosine falloff which

1311
00:48:33,599 --> 00:48:40,400
produces a cosine falloff diffuse

1312
00:48:36,400 --> 00:48:43,119
version of the light probe and that i

1313
00:48:40,400 --> 00:48:46,480
believe is the entirety of our like

1314
00:48:43,119 --> 00:48:49,119
transport equation right

1315
00:48:46,480 --> 00:48:51,920
i believe we made that energy preserving

1316
00:48:49,119 --> 00:48:54,640
meaning the total uh sum of the light in

1317
00:48:51,920 --> 00:48:57,039
there is the same uh the spec map and

1318
00:48:54,639 --> 00:48:58,639
the diffuse map now we can go check that

1319
00:48:57,039 --> 00:49:00,079
and in fact we should we should remember

1320
00:48:58,639 --> 00:49:03,118
to like check

1321
00:49:00,079 --> 00:49:04,240
uh diffuse

1322
00:49:03,119 --> 00:49:06,240
power

1323
00:49:04,239 --> 00:49:07,439
but i believe that we properly did that

1324
00:49:06,239 --> 00:49:09,759
because we knew when we did that we're

1325
00:49:07,440 --> 00:49:11,760
like we can't add energy to the system

1326
00:49:09,760 --> 00:49:13,599
so when we take the spec mac and map and

1327
00:49:11,760 --> 00:49:16,079
we produce the diffuse map we have to

1328
00:49:13,599 --> 00:49:17,519
make sure that it equals the amount of

1329
00:49:16,079 --> 00:49:20,318
the light that came in has to equal the

1330
00:49:17,519 --> 00:49:22,480
amount of light that goes out otherwise

1331
00:49:20,318 --> 00:49:24,079
we're basically uh adding energy to the

1332
00:49:22,480 --> 00:49:26,000
system

1333
00:49:24,079 --> 00:49:28,640
but we can recheck that

1334
00:49:26,000 --> 00:49:32,559
uh so then we get in here and we say

1335
00:49:28,639 --> 00:49:34,078
well okay so 2.5 are going out um and

1336
00:49:32,559 --> 00:49:36,079
you know this gets spread along the

1337
00:49:34,079 --> 00:49:38,400
hemisphere somehow so we don't know how

1338
00:49:36,079 --> 00:49:40,640
much it actually is uh but whatever it

1339
00:49:38,400 --> 00:49:42,880
is let's say 1.0

1340
00:49:40,639 --> 00:49:45,358
of it goes out in this direction

1341
00:49:42,880 --> 00:49:48,240
b all of the texels in that direction

1342
00:49:45,358 --> 00:49:50,960
all hit so it gets 1.0 here some of them

1343
00:49:48,239 --> 00:49:54,239
don't so it gets 0.5

1344
00:49:50,960 --> 00:49:54,240
right something like that

1345
00:49:54,719 --> 00:49:59,719
um

1346
00:49:55,920 --> 00:49:59,720
so i believe

1347
00:50:06,880 --> 00:50:10,318
so you can see the thing that i'm

1348
00:50:08,400 --> 00:50:12,240
concerned about here is that we've

1349
00:50:10,318 --> 00:50:14,880
duplicated how many tech like we've

1350
00:50:12,239 --> 00:50:17,039
duplicated photons right

1351
00:50:14,880 --> 00:50:18,480
meaning there are photons now at b and

1352
00:50:17,039 --> 00:50:19,679
at a

1353
00:50:18,480 --> 00:50:22,559
uh

1354
00:50:19,679 --> 00:50:23,679
b has all the photons and a has

1355
00:50:22,559 --> 00:50:26,480
half again

1356
00:50:23,679 --> 00:50:27,679
right it's got fifty 50 of the photons

1357
00:50:26,480 --> 00:50:29,358
but

1358
00:50:27,679 --> 00:50:30,879
the amount of photons we sent out isn't

1359
00:50:29,358 --> 00:50:33,519
conserved

1360
00:50:30,880 --> 00:50:35,119
now because these are light probes

1361
00:50:33,519 --> 00:50:36,318
i don't know that they should be

1362
00:50:35,119 --> 00:50:38,079
conserved

1363
00:50:36,318 --> 00:50:40,400
because we're talking about how many

1364
00:50:38,079 --> 00:50:43,359
photons are passing through that point

1365
00:50:40,400 --> 00:50:44,880
but it could be that that

1366
00:50:43,358 --> 00:50:46,719
but but how do we like do you see what

1367
00:50:44,880 --> 00:50:49,720
i'm saying like that's what we're

1368
00:50:46,719 --> 00:50:49,719
measuring

1369
00:50:57,920 --> 00:51:01,200
and and you know i i just don't quite

1370
00:51:00,079 --> 00:51:02,720
see

1371
00:51:01,199 --> 00:51:04,558
where the flaw in that thinking is

1372
00:51:02,719 --> 00:51:06,239
because it's like well the this is

1373
00:51:04,559 --> 00:51:08,160
talking about how many photons in

1374
00:51:06,239 --> 00:51:11,759
general

1375
00:51:08,159 --> 00:51:11,759
are going through this area

1376
00:51:12,239 --> 00:51:16,159
but you can see how this would produce a

1377
00:51:14,079 --> 00:51:18,160
problem potentially right

1378
00:51:16,159 --> 00:51:20,639
um or at least i think this could

1379
00:51:18,159 --> 00:51:23,279
potentially produce a problem right like

1380
00:51:20,639 --> 00:51:26,000
you would assume therefore

1381
00:51:23,280 --> 00:51:28,240
that if this sort of thing can happen

1382
00:51:26,000 --> 00:51:31,358
well if there's further bouncing that

1383
00:51:28,239 --> 00:51:33,358
happens like from here or from here

1384
00:51:31,358 --> 00:51:37,719
these will basically be bouncing more

1385
00:51:33,358 --> 00:51:37,719
than the total number of photons

1386
00:51:37,920 --> 00:51:40,159
right

1387
00:51:40,960 --> 00:51:45,119
i mean i don't see any way really around

1388
00:51:42,880 --> 00:51:45,119
that

1389
00:51:46,000 --> 00:51:49,679
and yeah they're going to get clipped

1390
00:51:47,519 --> 00:51:51,599
down quite a bit meaning this same

1391
00:51:49,679 --> 00:51:55,759
process will go again so you know it's

1392
00:51:51,599 --> 00:51:59,119
only going to send out a subset of them

1393
00:51:55,760 --> 00:52:01,119
but it's sending out a subset of them

1394
00:51:59,119 --> 00:52:02,960
based on a total number that didn't

1395
00:52:01,119 --> 00:52:05,838
actually occur

1396
00:52:02,960 --> 00:52:05,838
right

1397
00:52:14,880 --> 00:52:19,838
right so suppose yeah i mean suppose

1398
00:52:16,880 --> 00:52:19,838
this looks like this

1399
00:52:20,159 --> 00:52:24,159
well that wall in the way wouldn't be

1400
00:52:21,920 --> 00:52:24,159
good

1401
00:52:25,039 --> 00:52:27,759
so maybe this

1402
00:52:28,000 --> 00:52:32,838
suppose that it looks something like

1403
00:52:29,838 --> 00:52:32,838
this

1404
00:52:34,079 --> 00:52:38,640
um and we're talking about like the

1405
00:52:35,679 --> 00:52:42,639
reflectance from here and from here

1406
00:52:38,639 --> 00:52:45,039
it's both of these are going to be using

1407
00:52:42,639 --> 00:52:47,279
we're going to be computing those bounce

1408
00:52:45,039 --> 00:52:50,079
equations based on a hundred and fifty

1409
00:52:47,280 --> 00:52:52,480
percent of the light

1410
00:52:50,079 --> 00:52:54,800
and even though they'll be knocked down

1411
00:52:52,480 --> 00:52:57,280
quite a bit again you notice we don't

1412
00:52:54,800 --> 00:52:59,359
immediately get this it's very slow it's

1413
00:52:57,280 --> 00:53:03,280
like a slow creep

1414
00:52:59,358 --> 00:53:05,199
so that may be enough to just slowly

1415
00:53:03,280 --> 00:53:08,160
over time because the total number of

1416
00:53:05,199 --> 00:53:11,358
photons being used in the distribution

1417
00:53:08,159 --> 00:53:11,358
is not conserved

1418
00:53:11,760 --> 00:53:15,839
off we go

1419
00:53:12,960 --> 00:53:15,838
right

1420
00:53:16,480 --> 00:53:20,318
now the problem is i don't really know

1421
00:53:18,480 --> 00:53:22,240
how you would solve this i mean

1422
00:53:20,318 --> 00:53:24,639
obviously people must because light

1423
00:53:22,239 --> 00:53:27,639
probes are not weird

1424
00:53:24,639 --> 00:53:27,639
um

1425
00:53:30,079 --> 00:53:34,318
but i'd but when light probes can

1426
00:53:32,239 --> 00:53:35,838
collect light from other light probes

1427
00:53:34,318 --> 00:53:38,239
which you have to do

1428
00:53:35,838 --> 00:53:40,960
in a system like this where you know

1429
00:53:38,239 --> 00:53:42,959
it's it's real time so it can't just

1430
00:53:40,960 --> 00:53:44,720
take an infinite amount of time to run

1431
00:53:42,960 --> 00:53:46,639
where each light probe just does the

1432
00:53:44,719 --> 00:53:48,480
bounces itself and tries to hit the

1433
00:53:46,639 --> 00:53:50,719
light source

1434
00:53:48,480 --> 00:53:50,719
um

1435
00:53:51,358 --> 00:53:55,159
how do you fix that

1436
00:53:57,920 --> 00:54:01,599
see this is why we need don mitchell

1437
00:53:59,358 --> 00:54:01,598
here

1438
00:54:03,358 --> 00:54:06,719
where is don mitchell

1439
00:54:05,519 --> 00:54:08,838
probably has something better to do this

1440
00:54:06,719 --> 00:54:10,399
time than this

1441
00:54:08,838 --> 00:54:12,159
but

1442
00:54:10,400 --> 00:54:14,559
i mean i think

1443
00:54:12,159 --> 00:54:16,159
i think i've roughly like

1444
00:54:14,559 --> 00:54:17,440
i mean i'm fairly convinced that that's

1445
00:54:16,159 --> 00:54:19,440
a problem

1446
00:54:17,440 --> 00:54:22,400
that like our conceptualization of like

1447
00:54:19,440 --> 00:54:24,240
what the light probes are measuring

1448
00:54:22,400 --> 00:54:26,000
is fundamentally incompatible with

1449
00:54:24,239 --> 00:54:29,879
conserving the amount of energy that we

1450
00:54:26,000 --> 00:54:29,880
actually sample in the system

1451
00:54:38,960 --> 00:54:43,000
and and i don't know

1452
00:55:04,559 --> 00:55:07,839
i don't know how you fixed that

1453
00:55:10,798 --> 00:55:17,079
well

1454
00:55:12,559 --> 00:55:17,079
let's go back in and look at the chat

1455
00:55:27,199 --> 00:55:31,960
so

1456
00:55:28,000 --> 00:55:31,960
did that make some sense

1457
00:55:35,838 --> 00:55:39,440
thank you all right space naming maybe

1458
00:55:37,679 --> 00:55:42,440
we'll we'll set the light board down

1459
00:55:39,440 --> 00:55:42,440
slightly

1460
00:55:56,798 --> 00:55:59,798
so

1461
00:56:20,480 --> 00:56:23,719
so like

1462
00:56:32,559 --> 00:56:39,280
i'm just kind of fundamentally confused

1463
00:56:35,679 --> 00:56:39,279
about how to think about light probes

1464
00:56:39,599 --> 00:56:43,079
because of that

1465
00:57:04,559 --> 00:57:09,920
uh nikita97 that's

1466
00:57:07,599 --> 00:57:12,960
that's my

1467
00:57:09,920 --> 00:57:14,480
concern what you stated because i don't

1468
00:57:12,960 --> 00:57:16,079
feel like i'm very good at light

1469
00:57:14,480 --> 00:57:18,480
transport you know i just haven't worked

1470
00:57:16,079 --> 00:57:20,400
with it much

1471
00:57:18,480 --> 00:57:22,000
i don't want to say that that is

1472
00:57:20,400 --> 00:57:23,119
definitely true

1473
00:57:22,000 --> 00:57:25,280
um

1474
00:57:23,119 --> 00:57:26,559
but that's what

1475
00:57:25,280 --> 00:57:28,559
like based on

1476
00:57:26,559 --> 00:57:30,000
my thinking about the problem i don't

1477
00:57:28,559 --> 00:57:32,720
see

1478
00:57:30,000 --> 00:57:34,639
i don't see how it couldn't be true what

1479
00:57:32,719 --> 00:57:36,480
we just said

1480
00:57:34,639 --> 00:57:37,759
like fundamentally speaking if you

1481
00:57:36,480 --> 00:57:41,599
measure

1482
00:57:37,760 --> 00:57:43,520
flow of photons through a point

1483
00:57:41,599 --> 00:57:46,880
there's nothing to stop you from using

1484
00:57:43,519 --> 00:57:47,759
that flow in multiple places right

1485
00:57:46,880 --> 00:57:48,880
and

1486
00:57:47,760 --> 00:57:51,200
it's

1487
00:57:48,880 --> 00:57:52,880
it's an aspect of the discretization of

1488
00:57:51,199 --> 00:57:54,639
the problem if everything were

1489
00:57:52,880 --> 00:57:57,358
completely continuous you wouldn't have

1490
00:57:54,639 --> 00:57:58,639
this problem because nothing could

1491
00:57:57,358 --> 00:58:01,358
reflect

1492
00:57:58,639 --> 00:58:03,358
like no two surfaces can reflect the

1493
00:58:01,358 --> 00:58:04,798
same exact photon

1494
00:58:03,358 --> 00:58:06,838
if you're stimulating all the photons

1495
00:58:04,798 --> 00:58:08,639
but when you're simulating photons as

1496
00:58:06,838 --> 00:58:09,838
bundles

1497
00:58:08,639 --> 00:58:11,598
right

1498
00:58:09,838 --> 00:58:14,639
you have to use like

1499
00:58:11,599 --> 00:58:16,720
a sampling from the average of like some

1500
00:58:14,639 --> 00:58:19,118
from what direction you're talking about

1501
00:58:16,719 --> 00:58:22,639
and you're by definition not going to

1502
00:58:19,119 --> 00:58:24,559
get an exact occlusion of who's sampling

1503
00:58:22,639 --> 00:58:27,039
what from where right

1504
00:58:24,559 --> 00:58:30,160
so it seems

1505
00:58:27,039 --> 00:58:32,798
it seems to me that i i don't see how we

1506
00:58:30,159 --> 00:58:36,920
modify what we're doing like

1507
00:58:32,798 --> 00:58:36,920
i don't quite get it

1508
00:58:39,519 --> 00:58:46,759
like i don't quite understand

1509
00:58:42,318 --> 00:58:46,759
what we're supposed to do about that

1510
00:59:09,280 --> 00:59:12,880
we could calculate the amount emitted in

1511
00:59:11,280 --> 00:59:17,079
the amount received and artificially

1512
00:59:12,880 --> 00:59:17,079
dampen the emission the next frame

1513
00:59:18,079 --> 00:59:20,400
um

1514
00:59:21,119 --> 00:59:25,440
yeah yeah we i mean we could or suck

1515
00:59:23,920 --> 00:59:27,920
power out of the system like everything

1516
00:59:25,440 --> 00:59:30,079
gets that much dimmer right

1517
00:59:27,920 --> 00:59:32,639
like you sum the total

1518
00:59:30,079 --> 00:59:35,519
the total sampled amount

1519
00:59:32,639 --> 00:59:37,199
and you reduce it by enough to make sure

1520
00:59:35,519 --> 00:59:38,559
it stays under the total light level or

1521
00:59:37,199 --> 00:59:41,279
something like yeah you could do

1522
00:59:38,559 --> 00:59:41,280
something like that

1523
00:59:41,519 --> 00:59:44,838
i don't know

1524
01:00:00,480 --> 01:00:03,480
um

1525
01:00:26,639 --> 01:00:30,639
yeah i just don't know i i

1526
01:00:30,719 --> 01:00:33,598
i feel like this is probably something

1527
01:00:32,000 --> 01:00:35,358
that it would be good to go read about

1528
01:00:33,599 --> 01:00:37,200
right like i'm assuming that there's

1529
01:00:35,358 --> 01:00:38,480
somewhere that someone has written up

1530
01:00:37,199 --> 01:00:40,159
you know maybe when they were first

1531
01:00:38,480 --> 01:00:41,119
working on the concept of light probes

1532
01:00:40,159 --> 01:00:42,719
where they've

1533
01:00:41,119 --> 01:00:45,519
talked more about light probes that are

1534
01:00:42,719 --> 01:00:45,519
hanging in space

1535
01:00:49,039 --> 01:00:51,519
i don't know

1536
01:00:51,760 --> 01:00:54,760
um

1537
01:01:05,119 --> 01:01:08,798
i mean maybe the problem is that really

1538
01:01:07,280 --> 01:01:11,839
this is not the right way to think about

1539
01:01:08,798 --> 01:01:11,838
it because

1540
01:01:14,559 --> 01:01:19,040
because really the problem i'm talking

1541
01:01:16,318 --> 01:01:21,119
about is a problem everywhere

1542
01:01:19,039 --> 01:01:24,639
and so that's not really the problem the

1543
01:01:21,119 --> 01:01:26,000
problem is just the discretization like

1544
01:01:24,639 --> 01:01:27,519
you would have this problem no matter

1545
01:01:26,000 --> 01:01:29,039
what you did that's always true that

1546
01:01:27,519 --> 01:01:31,039
you're talking about the photons that

1547
01:01:29,039 --> 01:01:32,239
are flowing through an area or flowing

1548
01:01:31,039 --> 01:01:34,318
you know

1549
01:01:32,239 --> 01:01:36,239
that are bouncing off a surface and so

1550
01:01:34,318 --> 01:01:38,318
really the problem is just that we are

1551
01:01:36,239 --> 01:01:41,039
discretizing it so that when we sample

1552
01:01:38,318 --> 01:01:43,838
we could sample multiple things that all

1553
01:01:41,039 --> 01:01:47,039
are measuring the same flow

1554
01:01:43,838 --> 01:01:48,639
and because we are you know averaging

1555
01:01:47,039 --> 01:01:49,759
them together into

1556
01:01:48,639 --> 01:01:52,558
texels

1557
01:01:49,760 --> 01:01:55,119
that aggregate and are sampled as

1558
01:01:52,559 --> 01:01:57,039
aggregates we end up

1559
01:01:55,119 --> 01:02:00,240
allowing people to gather more light

1560
01:01:57,039 --> 01:02:03,240
than they should as a result right

1561
01:02:00,239 --> 01:02:03,239
um

1562
01:02:29,838 --> 01:02:34,078
because because like if you think about

1563
01:02:31,920 --> 01:02:36,159
it

1564
01:02:34,079 --> 01:02:38,318
you know yeah like i think there's not

1565
01:02:36,159 --> 01:02:40,399
really an there isn't really a problem

1566
01:02:38,318 --> 01:02:42,318
with it up until that point like up

1567
01:02:40,400 --> 01:02:44,160
until the point where it goes like oh

1568
01:02:42,318 --> 01:02:46,400
well i can sample from this light probe

1569
01:02:44,159 --> 01:02:48,879
and so can this other point but in

1570
01:02:46,400 --> 01:02:51,200
reality those two points would not have

1571
01:02:48,880 --> 01:02:53,838
been able to sample the flux because

1572
01:02:51,199 --> 01:02:55,759
they you know they're both kind of on

1573
01:02:53,838 --> 01:02:58,798
they're both offset from the line that

1574
01:02:55,760 --> 01:03:00,880
was that flow and only one of them would

1575
01:02:58,798 --> 01:03:02,559
have actually been able to like hit that

1576
01:03:00,880 --> 01:03:05,599
light source or whatever but now it

1577
01:03:02,559 --> 01:03:09,039
appears like two people can right uh and

1578
01:03:05,599 --> 01:03:11,599
so on so it may really be more about

1579
01:03:09,039 --> 01:03:13,520
that discretization that it is about the

1580
01:03:11,599 --> 01:03:14,838
fact that they are light probes for any

1581
01:03:13,519 --> 01:03:18,000
particular reason

1582
01:03:14,838 --> 01:03:18,000
right um

1583
01:03:23,039 --> 01:03:25,680
right because you can imagine getting

1584
01:03:24,318 --> 01:03:27,920
taking the light probes out of this

1585
01:03:25,679 --> 01:03:30,719
entirely and just talking about sample

1586
01:03:27,920 --> 01:03:33,039
points on like the wall

1587
01:03:30,719 --> 01:03:35,838
you have the same problem if you

1588
01:03:33,039 --> 01:03:37,599
just count like large

1589
01:03:35,838 --> 01:03:39,599
angles

1590
01:03:37,599 --> 01:03:41,440
and you say well if there's anything in

1591
01:03:39,599 --> 01:03:43,440
this angle then you get all the light

1592
01:03:41,440 --> 01:03:46,079
then that would be wrong too

1593
01:03:43,440 --> 01:03:46,079
you know what i mean

1594
01:03:46,719 --> 01:03:50,000
um

1595
01:03:48,798 --> 01:03:52,798
so

1596
01:03:50,000 --> 01:03:56,079
we need a way of

1597
01:03:52,798 --> 01:03:58,079
we need some way of saying that

1598
01:03:56,079 --> 01:04:00,798
the light gets distributed between these

1599
01:03:58,079 --> 01:04:02,240
two points you can't have all the light

1600
01:04:00,798 --> 01:04:05,719
go to both

1601
01:04:02,239 --> 01:04:05,719
you know what i mean

1602
01:04:15,358 --> 01:04:19,838
uh evan tech we don't do that we don't

1603
01:04:18,159 --> 01:04:21,118
propagate light info between light

1604
01:04:19,838 --> 01:04:23,599
probes

1605
01:04:21,119 --> 01:04:25,680
but when you send out a ray to sample

1606
01:04:23,599 --> 01:04:27,680
what's happening in the environment you

1607
01:04:25,679 --> 01:04:29,679
hit something the only way to know what

1608
01:04:27,679 --> 01:04:31,759
the inbound lighting at that location is

1609
01:04:29,679 --> 01:04:33,598
is to sample the light probes in in the

1610
01:04:31,760 --> 01:04:37,359
neighboring region right so you get

1611
01:04:33,599 --> 01:04:39,119
information sharing just from that

1612
01:04:37,358 --> 01:04:41,838
uh and there's nothing you can do about

1613
01:04:39,119 --> 01:04:44,000
it right um

1614
01:04:41,838 --> 01:04:44,000
so

1615
01:04:45,280 --> 01:04:49,440
the only solution to that problem that

1616
01:04:47,440 --> 01:04:51,440
that you know if you don't do that is

1617
01:04:49,440 --> 01:04:53,039
you have to do multi-bounce ray casting

1618
01:04:51,440 --> 01:04:55,838
which would never be fast enough in real

1619
01:04:53,039 --> 01:04:55,839
time right

1620
01:05:31,440 --> 01:05:35,200
i wish i had some better ideas here but

1621
01:05:33,280 --> 01:05:37,839
i don't

1622
01:05:35,199 --> 01:05:37,838
uh

1623
01:06:00,000 --> 01:06:04,239
i mean

1624
01:06:01,440 --> 01:06:06,720
let's so the original paper that we were

1625
01:06:04,239 --> 01:06:08,318
sort of basing the system on and to be

1626
01:06:06,719 --> 01:06:10,239
fair we didn't

1627
01:06:08,318 --> 01:06:11,759
really do it exactly

1628
01:06:10,239 --> 01:06:13,519
um

1629
01:06:11,760 --> 01:06:15,760
not exactly

1630
01:06:13,519 --> 01:06:15,759
um

1631
01:06:16,159 --> 01:06:20,318
did we save this paper on the hard drive

1632
01:06:18,400 --> 01:06:22,000
i don't remember if we did

1633
01:06:20,318 --> 01:06:24,558
um

1634
01:06:22,000 --> 01:06:27,920
did it was an nvidia paper uh talking

1635
01:06:24,559 --> 01:06:29,440
about some lighting stuff

1636
01:06:27,920 --> 01:06:30,318
i don't actually know

1637
01:06:29,440 --> 01:06:33,838
uh

1638
01:06:30,318 --> 01:06:36,318
if we saved it or not but

1639
01:06:33,838 --> 01:06:38,400
that's not gonna do it

1640
01:06:36,318 --> 01:06:40,079
um

1641
01:06:38,400 --> 01:06:42,160
but we should be able to go find it

1642
01:06:40,079 --> 01:06:43,200
probably

1643
01:06:42,159 --> 01:06:46,000
i don't know

1644
01:06:43,199 --> 01:06:49,199
you'd think we would save it but

1645
01:06:46,000 --> 01:06:49,199
we might never have

1646
01:06:50,719 --> 01:06:53,719
docs

1647
01:07:00,559 --> 01:07:05,400
it might be one of these

1648
01:07:15,679 --> 01:07:21,919
i think this is it

1649
01:07:17,599 --> 01:07:21,920
so this is the original uh paper

1650
01:07:22,400 --> 01:07:26,318
uh and we did

1651
01:07:24,400 --> 01:07:28,480
you know pretty s you know we did pretty

1652
01:07:26,318 --> 01:07:31,519
similar i don't think we quite did it uh

1653
01:07:28,480 --> 01:07:33,358
exactly the right way or exactly the way

1654
01:07:31,519 --> 01:07:36,239
they did it but it's similar

1655
01:07:33,358 --> 01:07:40,239
uh right we did a uniform 3d grid

1656
01:07:36,239 --> 01:07:42,959
uh we did octahedral maps

1657
01:07:40,239 --> 01:07:45,919
which is what this paper does

1658
01:07:42,960 --> 01:07:47,199
and so i wonder if there's

1659
01:07:45,920 --> 01:07:48,400
if there's something in here that we

1660
01:07:47,199 --> 01:07:50,239
were missing because we didn't really

1661
01:07:48,400 --> 01:07:51,519
look

1662
01:07:50,239 --> 01:07:51,969
at this

1663
01:07:51,519 --> 01:07:55,070
um

1664
01:07:51,969 --> 01:07:55,069
[Music]

1665
01:07:55,838 --> 01:08:03,000
part of it

1666
01:07:58,480 --> 01:08:03,000
i wonder if they discuss this anywhere

1667
01:08:30,479 --> 01:08:36,599
so we don't use screen space occlusion

1668
01:08:33,600 --> 01:08:36,600
obviously

1669
01:09:16,798 --> 01:09:19,838
hmm

1670
01:09:17,670 --> 01:09:21,920
[Music]

1671
01:09:19,838 --> 01:09:24,399
they don't really talk much about this

1672
01:09:21,920 --> 01:09:24,399
part though

1673
01:09:24,479 --> 01:09:29,959
okay this is probably mostly what we

1674
01:09:26,560 --> 01:09:29,960
care about here

1675
01:10:01,840 --> 01:10:03,920
you

1676
01:10:28,880 --> 01:10:34,800
so i don't think this talks very much

1677
01:10:31,119 --> 01:10:36,238
about that aspect of it

1678
01:10:34,800 --> 01:10:38,000
maybe we should go back to the mcguire

1679
01:10:36,238 --> 01:10:41,718
paper which we also have on here that

1680
01:10:38,000 --> 01:10:41,719
they reference a lot

1681
01:10:50,238 --> 01:10:53,238
um

1682
01:11:03,520 --> 01:11:06,320
let's just go over and make sure there's

1683
01:11:04,640 --> 01:11:07,840
nothing we were missing here generate

1684
01:11:06,319 --> 01:11:11,439
and trace n primary arrays from each of

1685
01:11:07,840 --> 01:11:13,840
the m active probes storing geometry

1686
01:11:11,439 --> 01:11:17,279
yeah we don't

1687
01:11:13,840 --> 01:11:17,279
really do this

1688
01:11:17,920 --> 01:11:24,000
uh they're doing it so you know i guess

1689
01:11:21,198 --> 01:11:26,960
it's possible that that is helping them

1690
01:11:24,000 --> 01:11:29,600
avoid this problem if they're actually

1691
01:11:26,960 --> 01:11:29,600
doing that

1692
01:11:31,279 --> 01:11:34,279
so

1693
01:11:48,880 --> 01:11:54,440
so it really doesn't say anything much

1694
01:11:51,039 --> 01:11:54,439
about it

1695
01:12:07,840 --> 01:12:09,920
you

1696
01:12:36,560 --> 01:12:38,960
um

1697
01:12:44,000 --> 01:12:48,760
so like this we're also doing

1698
01:12:50,158 --> 01:12:54,799
right

1699
01:12:52,158 --> 01:12:57,960
oh sorry i forgot to flip it on

1700
01:12:54,800 --> 01:12:57,960
my bad

1701
01:13:04,640 --> 01:13:08,640
um

1702
01:13:06,319 --> 01:13:11,119
the bad news is you didn't miss anything

1703
01:13:08,640 --> 01:13:12,239
i i didn't see anything in here

1704
01:13:11,119 --> 01:13:16,599
there is

1705
01:13:12,238 --> 01:13:16,599
a little bit this uh

1706
01:13:18,719 --> 01:13:21,600
so

1707
01:13:19,520 --> 01:13:23,600
yeah if you look at what's happening

1708
01:13:21,600 --> 01:13:25,440
here they talk a little bit about how

1709
01:13:23,600 --> 01:13:27,199
they're doing the shading

1710
01:13:25,439 --> 01:13:29,439
and they talk about

1711
01:13:27,198 --> 01:13:32,559
uh doing cosine lobe distribution which

1712
01:13:29,439 --> 01:13:34,719
is what i believe we do as well

1713
01:13:32,560 --> 01:13:37,039
so like

1714
01:13:34,719 --> 01:13:41,239
um if we go

1715
01:13:37,039 --> 01:13:41,238
let's open a command prompt

1716
01:13:49,198 --> 01:13:53,439
uh and open the code

1717
01:13:59,679 --> 01:14:03,319
so

1718
01:13:59,920 --> 01:14:03,319
[Music]

1719
01:14:05,679 --> 01:14:12,000
somewhere in here yeah uh so we do this

1720
01:14:09,760 --> 01:14:15,600
this step here right which is where we

1721
01:14:12,000 --> 01:14:17,760
convert from specular to diffuse

1722
01:14:15,600 --> 01:14:20,480
uh in in here

1723
01:14:17,760 --> 01:14:22,320
and when we do that

1724
01:14:20,479 --> 01:14:24,479
we

1725
01:14:22,319 --> 01:14:26,479
we've have it all

1726
01:14:24,479 --> 01:14:30,718
we use the

1727
01:14:26,479 --> 01:14:32,319
values we get from our like pre-computed

1728
01:14:30,719 --> 01:14:33,760
um

1729
01:14:32,319 --> 01:14:34,960
weight buffer which is like this

1730
01:14:33,760 --> 01:14:36,719
nonsense

1731
01:14:34,960 --> 01:14:39,119
right

1732
01:14:36,719 --> 01:14:39,119
and

1733
01:14:41,198 --> 01:14:46,238
so if i go

1734
01:14:42,560 --> 01:14:48,560
look at that where we build it's

1735
01:14:46,238 --> 01:14:48,559
like

1736
01:14:52,079 --> 01:14:56,640
yeah

1737
01:14:53,600 --> 01:14:57,840
so you can see here we do a cosine lobe

1738
01:14:56,640 --> 01:14:59,280
right like that's what this inner

1739
01:14:57,840 --> 01:15:00,960
product here right the inner product

1740
01:14:59,279 --> 01:15:03,519
between two vectors the incoming and the

1741
01:15:00,960 --> 01:15:05,039
outgoing vector

1742
01:15:03,520 --> 01:15:07,120
uh since they're both normal that's just

1743
01:15:05,039 --> 01:15:09,119
going to be equal to cosine theta

1744
01:15:07,119 --> 01:15:12,158
right the direction between them so this

1745
01:15:09,119 --> 01:15:13,279
is a cosine falloff weighting scheme

1746
01:15:12,158 --> 01:15:16,719
and

1747
01:15:13,279 --> 01:15:19,039
that's really all there is to it right

1748
01:15:16,719 --> 01:15:19,039
um

1749
01:15:22,960 --> 01:15:28,560
and and that's it we do it twice because

1750
01:15:25,840 --> 01:15:29,600
first we sum up how much it is going to

1751
01:15:28,560 --> 01:15:33,199
be

1752
01:15:29,600 --> 01:15:36,560
uh and then we write it out uh by making

1753
01:15:33,198 --> 01:15:39,039
sure that that total we we only ever sum

1754
01:15:36,560 --> 01:15:41,679
up to the total amount of power so the

1755
01:15:39,039 --> 01:15:44,640
entire thing is normal right

1756
01:15:41,679 --> 01:15:47,039
um so that we do that

1757
01:15:44,640 --> 01:15:47,039
um

1758
01:15:48,319 --> 01:15:52,439
right we we do

1759
01:15:53,198 --> 01:15:56,198
this

1760
01:16:17,679 --> 01:16:23,039
so they're talking about this

1761
01:16:20,479 --> 01:16:25,678
a lot uh and and it sounds like they're

1762
01:16:23,039 --> 01:16:26,560
deferring any discussion of it to this

1763
01:16:25,679 --> 01:16:29,440
uh

1764
01:16:26,560 --> 01:16:31,039
which is not great because this is

1765
01:16:29,439 --> 01:16:33,519
i don't know some kind of book that we

1766
01:16:31,039 --> 01:16:35,920
don't have

1767
01:16:33,520 --> 01:16:38,239
which is less good

1768
01:16:35,920 --> 01:16:38,239
um

1769
01:16:38,399 --> 01:16:41,359
we do have

1770
01:16:42,880 --> 01:16:49,039
the mcguire paper they were talking

1771
01:16:45,119 --> 01:16:50,479
about but we don't have this book

1772
01:16:49,039 --> 01:16:52,560
and

1773
01:16:50,479 --> 01:16:55,359
i don't think we can

1774
01:16:52,560 --> 01:16:55,360
get a book

1775
01:16:55,760 --> 01:16:59,280
can we

1776
01:16:57,679 --> 01:17:03,480
we would have to actually order this

1777
01:16:59,279 --> 01:17:03,479
book which will take a while

1778
01:17:06,319 --> 01:17:10,479
although

1779
01:17:07,279 --> 01:17:13,719
did they just put it online

1780
01:17:10,479 --> 01:17:13,718
hold on

1781
01:17:34,479 --> 01:17:38,238
wait so it doesn't suggest that the

1782
01:17:36,719 --> 01:17:41,198
entire thing is available for free but

1783
01:17:38,238 --> 01:17:43,279
then on there oh it's the preface

1784
01:17:41,198 --> 01:17:45,198
so it's only the prep this is the but

1785
01:17:43,279 --> 01:17:47,679
the preface this can't be the preface

1786
01:17:45,198 --> 01:17:47,678
it's huge

1787
01:17:47,920 --> 01:17:52,000
i guess it's just the preface and the

1788
01:17:49,198 --> 01:17:52,000
bibliography

1789
01:17:53,520 --> 01:17:57,679
um well so we can't really look at that

1790
01:17:56,158 --> 01:17:59,439
right now although i could order the

1791
01:17:57,679 --> 01:18:00,960
book and then i could try to read it

1792
01:17:59,439 --> 01:18:03,960
online

1793
01:18:00,960 --> 01:18:03,960
um

1794
01:18:21,840 --> 01:18:25,840
so i guess i'm not sure let's look at

1795
01:18:23,439 --> 01:18:27,599
the other paper that we do have because

1796
01:18:25,840 --> 01:18:29,039
hey maybe it's in there but i don't know

1797
01:18:27,600 --> 01:18:32,159
we could also just order the book and

1798
01:18:29,039 --> 01:18:34,238
wait is another option

1799
01:18:32,158 --> 01:18:35,920
um so let's take a look

1800
01:18:34,238 --> 01:18:38,799
a

1801
01:18:35,920 --> 01:18:40,719
light field probe structure

1802
01:18:38,800 --> 01:18:42,560
a scene's continuous light field encodes

1803
01:18:40,719 --> 01:18:44,158
a spatial angular distribution of

1804
01:18:42,560 --> 01:18:45,840
radians for all points and directions in

1805
01:18:44,158 --> 01:18:48,479
the scene

1806
01:18:45,840 --> 01:18:49,760
uh which is what we want we build an

1807
01:18:48,479 --> 01:18:50,799
augmented discrete resolution of this

1808
01:18:49,760 --> 01:18:52,079
distribution so we require

1809
01:18:50,800 --> 01:18:54,800
discrimination of positions in space

1810
01:18:52,079 --> 01:18:56,079
into the directions we discretize space

1811
01:18:54,800 --> 01:18:58,000
variation of the light field using a

1812
01:18:56,079 --> 01:19:00,319
regular grid inside the scene's bounding

1813
01:18:58,000 --> 01:19:01,840
box okay

1814
01:19:00,319 --> 01:19:04,799
while this regular structure allows us

1815
01:19:01,840 --> 01:19:06,880
to simplify our tracing algorithm

1816
01:19:04,800 --> 01:19:08,880
nothing prevents us from using spatial

1817
01:19:06,880 --> 01:19:10,560
samples jittered within each volumetric

1818
01:19:08,880 --> 01:19:11,520
grid cell during construction and query

1819
01:19:10,560 --> 01:19:12,880
time

1820
01:19:11,520 --> 01:19:15,199
sure

1821
01:19:12,880 --> 01:19:18,719
we we might consider that

1822
01:19:15,198 --> 01:19:21,119
that's not a bad idea right like inside

1823
01:19:18,719 --> 01:19:21,119
when we

1824
01:19:21,198 --> 01:19:27,198
our sampling from each probe we could

1825
01:19:23,520 --> 01:19:28,080
jitter the location of the sample right

1826
01:19:27,198 --> 01:19:31,559
uh

1827
01:19:28,079 --> 01:19:31,559
so that's fine

1828
01:19:38,640 --> 01:19:43,840
at each distributed sample position we

1829
01:19:39,920 --> 01:19:45,600
store a spherical light field probe yep

1830
01:19:43,840 --> 01:19:47,760
a discrete circle slice of the light

1831
01:19:45,600 --> 01:19:49,760
fields that corresponds to the local

1832
01:19:47,760 --> 01:19:50,800
incident radiance distribution at x from

1833
01:19:49,760 --> 01:19:53,679
surrounding scene geometry and light

1834
01:19:50,800 --> 01:19:55,279
sources yep

1835
01:19:53,679 --> 01:19:57,119
the surface normal

1836
01:19:55,279 --> 01:20:01,198
at points

1837
01:19:57,119 --> 01:20:05,319
x double prime closest to x prime

1838
01:20:01,198 --> 01:20:05,319
in outgoing direction

1839
01:20:05,359 --> 01:20:08,799
we

1840
01:20:06,399 --> 01:20:08,799
don't

1841
01:20:08,880 --> 01:20:12,639
have any idea what that is

1842
01:20:14,639 --> 01:20:19,119
so it they're actually storing some

1843
01:20:16,719 --> 01:20:21,359
geometry maybe this is what we're doing

1844
01:20:19,119 --> 01:20:21,359
wrong

1845
01:20:21,679 --> 01:20:25,359
we don't have anything like that

1846
01:20:26,000 --> 01:20:30,158
we populate the geometric information of

1847
01:20:28,319 --> 01:20:31,920
the probes using rasterization and the

1848
01:20:30,158 --> 01:20:33,920
spherical light field slice radiance

1849
01:20:31,920 --> 01:20:36,239
distribution yeah

1850
01:20:33,920 --> 01:20:36,239
um

1851
01:20:36,399 --> 01:20:40,399
uh yep all of our results through the

1852
01:20:38,639 --> 01:20:42,000
ladder okay

1853
01:20:40,399 --> 01:20:44,000
first bounce somebody contains the

1854
01:20:42,000 --> 01:20:45,198
emission profiles then we repeat the

1855
01:20:44,000 --> 01:20:46,399
shading to really populate with

1856
01:20:45,198 --> 01:20:48,799
additional light balances that's what

1857
01:20:46,399 --> 01:20:51,119
we're trying to do because the algorithm

1858
01:20:48,800 --> 01:20:53,199
can use rasterization to compute the

1859
01:20:51,119 --> 01:20:56,158
probes themselves we do not require a

1860
01:20:53,198 --> 01:20:57,519
separate geometric ray tracer sure

1861
01:20:56,158 --> 01:20:59,359
section four details are retracing

1862
01:20:57,520 --> 01:21:01,280
algorithm that allows to populate update

1863
01:20:59,359 --> 01:21:02,639
and query physically based

1864
01:21:01,279 --> 01:21:05,639
light transfers

1865
01:21:02,639 --> 01:21:05,639
so

1866
01:21:17,600 --> 01:21:20,600
uh

1867
01:21:32,639 --> 01:21:35,600
that's very interesting that they do

1868
01:21:34,319 --> 01:21:37,519
that

1869
01:21:35,600 --> 01:21:38,800
and i wonder if one of the reasons that

1870
01:21:37,520 --> 01:21:40,400
they do that because i can't think of

1871
01:21:38,800 --> 01:21:41,679
any other reason why they do that i

1872
01:21:40,399 --> 01:21:43,039
wonder if one of the reasons they do

1873
01:21:41,679 --> 01:21:45,039
that is specifically because of this

1874
01:21:43,039 --> 01:21:48,238
problem like they're trying to represent

1875
01:21:45,039 --> 01:21:49,760
the actual geometry in there because

1876
01:21:48,238 --> 01:21:51,678
if you don't represent the geometry you

1877
01:21:49,760 --> 01:21:55,480
get this i don't know that might not be

1878
01:21:51,679 --> 01:21:55,480
true this let's keep going

1879
01:22:00,719 --> 01:22:04,639
so this also uses an octahedron

1880
01:22:06,880 --> 01:22:10,279
and that's fine

1881
01:22:17,520 --> 01:22:21,760
all right

1882
01:22:19,520 --> 01:22:22,840
so i think i kind of understand what's

1883
01:22:21,760 --> 01:22:25,600
going on

1884
01:22:22,840 --> 01:22:30,159
here it sounds kind of like what they're

1885
01:22:25,600 --> 01:22:32,800
doing is they store the surface normal

1886
01:22:30,158 --> 01:22:35,198
of the things that they hit

1887
01:22:32,800 --> 01:22:37,119
when they store the light probe so that

1888
01:22:35,198 --> 01:22:38,479
when they then

1889
01:22:37,119 --> 01:22:39,599
you you know

1890
01:22:38,479 --> 01:22:42,079
uh

1891
01:22:39,600 --> 01:22:45,039
do the lighting computation they can use

1892
01:22:42,079 --> 01:22:47,439
that surface normal

1893
01:22:45,039 --> 01:22:50,719
to determine how much light would have

1894
01:22:47,439 --> 01:22:53,719
come from the target surface

1895
01:22:50,719 --> 01:22:53,719
in

1896
01:22:54,960 --> 01:22:59,439
relative to

1897
01:22:56,560 --> 01:23:01,920
the surface that they're illuminating

1898
01:22:59,439 --> 01:23:04,000
and again that might be part of this

1899
01:23:01,920 --> 01:23:05,760
part of how they avoid this problem

1900
01:23:04,000 --> 01:23:07,359
because there actually are

1901
01:23:05,760 --> 01:23:11,000
simulating the light transport more

1902
01:23:07,359 --> 01:23:11,000
exactly right

1903
01:23:45,279 --> 01:23:50,079
generally speaking every physical

1904
01:23:47,679 --> 01:23:51,520
yeah atop a ray tracer

1905
01:23:50,079 --> 01:23:53,359
where rays are used to resolve

1906
01:23:51,520 --> 01:23:56,639
visibility and a sample rate of quantity

1907
01:23:53,359 --> 01:23:58,319
sure concrete array is a half line

1908
01:23:56,639 --> 01:23:59,920
with points

1909
01:23:58,319 --> 01:24:02,920
yeah

1910
01:23:59,920 --> 01:24:02,920
sure

1911
01:24:11,198 --> 01:24:16,238
our light field ray tracer first selects

1912
01:24:13,679 --> 01:24:18,560
a probe then ins invokes a single probe

1913
01:24:16,238 --> 01:24:22,238
ray intersection routine to march across

1914
01:24:18,560 --> 01:24:22,239
the geometry defined by that probe

1915
01:24:22,960 --> 01:24:26,319
if the single probe routine is unable to

1916
01:24:24,560 --> 01:24:27,920
actually determine a hit or miss event

1917
01:24:26,319 --> 01:24:29,679
then the algorithm advances to the next

1918
01:24:27,920 --> 01:24:30,960
candidate probe and reapplies a single

1919
01:24:29,679 --> 01:24:33,359
probe routine

1920
01:24:30,960 --> 01:24:35,198
as such the single probe routine returns

1921
01:24:33,359 --> 01:24:36,880
one of three possible results a

1922
01:24:35,198 --> 01:24:40,238
definitive hit a definitive miss or an

1923
01:24:36,880 --> 01:24:40,239
unresolvable exit code

1924
01:24:41,840 --> 01:24:46,079
the latter occurs when the ray passes

1925
01:24:44,000 --> 01:24:48,960
into a 3d region

1926
01:24:46,079 --> 01:24:50,479
that is occluded from the probe's center

1927
01:24:48,960 --> 01:24:52,239
of projection

1928
01:24:50,479 --> 01:24:54,238
in other words when a probe knows that

1929
01:24:52,238 --> 01:24:55,359
it does not have the required visibility

1930
01:24:54,238 --> 01:24:58,079
information

1931
01:24:55,359 --> 01:24:59,839
at a region of space okay an

1932
01:24:58,079 --> 01:25:01,760
intersection for a ray that passes

1933
01:24:59,840 --> 01:25:04,319
through that region cannot be reliably

1934
01:25:01,760 --> 01:25:06,800
computed using only information from the

1935
01:25:04,319 --> 01:25:08,880
one probe note however that by

1936
01:25:06,800 --> 01:25:11,119
increasing the density of light probes

1937
01:25:08,880 --> 01:25:13,440
stored in the scene we are very quickly

1938
01:25:11,119 --> 01:25:15,599
able to guarantee accurate roll space

1939
01:25:13,439 --> 01:25:17,919
okay sure

1940
01:25:15,600 --> 01:25:17,920
um

1941
01:25:24,319 --> 01:25:28,319
the light field ray tracer selects a

1942
01:25:26,399 --> 01:25:30,359
probe traces within that single probe

1943
01:25:28,319 --> 01:25:34,439
then repeats the process until it

1944
01:25:30,359 --> 01:25:34,439
okay um

1945
01:25:43,279 --> 01:25:49,599
a line segment in r3 maps to a polyline

1946
01:25:45,679 --> 01:25:49,600
with at most four segments in r2

1947
01:25:50,079 --> 01:25:56,079
after spherical octahedral project okay

1948
01:25:53,840 --> 01:25:57,840
each polyline segment lies on a separate

1949
01:25:56,079 --> 01:25:59,679
octahedral face

1950
01:25:57,840 --> 01:26:02,159
and the 2d coordinates of the segment

1951
01:25:59,679 --> 01:26:04,639
endpoints are the 2d projections of the

1952
01:26:02,158 --> 01:26:06,399
intersections of the 3d line with the

1953
01:26:04,639 --> 01:26:08,400
three principal axis line planes that

1954
01:26:06,399 --> 01:26:10,319
pass through the probe center these

1955
01:26:08,399 --> 01:26:12,158
define eight quadrants that correspond

1956
01:26:10,319 --> 01:26:15,198
to the octahedral faces

1957
01:26:12,158 --> 01:26:15,198
after projection

1958
01:26:17,600 --> 01:26:20,800
wait

1959
01:26:18,560 --> 01:26:20,800
so

1960
01:26:21,520 --> 01:26:28,719
they're actually talking about tracing

1961
01:26:24,079 --> 01:26:28,719
the ray on an octahedral map

1962
01:26:29,359 --> 01:26:32,359
what

1963
01:26:36,639 --> 01:26:40,880
okay that's very different than what

1964
01:26:38,399 --> 01:26:40,879
we're doing

1965
01:26:41,920 --> 01:26:48,639
and very different to the other paper

1966
01:26:45,119 --> 01:26:51,210
okay so they basically are talking about

1967
01:26:48,639 --> 01:26:53,600
walking the actual packing

1968
01:26:51,210 --> 01:26:59,000
[Music]

1969
01:26:53,600 --> 01:26:59,000
i just i'm so confused but okay

1970
01:27:13,279 --> 01:27:16,880
um

1971
01:27:14,719 --> 01:27:18,158
so most of this won't really apply but

1972
01:27:16,880 --> 01:27:20,239
let's see what they do when they

1973
01:27:18,158 --> 01:27:22,479
actually get do they talk about what

1974
01:27:20,238 --> 01:27:26,519
they actually do

1975
01:27:22,479 --> 01:27:26,519
when they get a hit

1976
01:27:41,119 --> 01:27:44,319
we now describe three globalization

1977
01:27:42,639 --> 01:27:46,159
algorithms the latter two of which are

1978
01:27:44,319 --> 01:27:48,079
practical a brute force important

1979
01:27:46,158 --> 01:27:49,198
sampling minded color render

1980
01:27:48,079 --> 01:27:51,920
morph

1981
01:27:49,198 --> 01:27:53,759
and more efficient

1982
01:27:51,920 --> 01:27:57,520
a more efficient extension that reduces

1983
01:27:53,760 --> 01:27:57,520
the number of ray samples required

1984
01:27:57,840 --> 01:28:01,760
by post filtering an extremely fast but

1985
01:28:00,479 --> 01:28:03,678
biased solution that pre-filters

1986
01:28:01,760 --> 01:28:05,840
liberation reflection only traces rays

1987
01:28:03,679 --> 01:28:08,560
for glossary reflection which is also

1988
01:28:05,840 --> 01:28:10,560
push which sounds more like ours

1989
01:28:08,560 --> 01:28:12,239
and i wonder if the biased part is kind

1990
01:28:10,560 --> 01:28:14,480
of the same problem we have which is

1991
01:28:12,238 --> 01:28:16,638
that it's brighter it you know it feeds

1992
01:28:14,479 --> 01:28:18,399
back over time

1993
01:28:16,639 --> 01:28:21,400
um but let's see

1994
01:28:18,399 --> 01:28:21,399
um

1995
01:28:41,840 --> 01:28:43,920
you

1996
01:29:21,920 --> 01:29:25,840
so i'm not really sure

1997
01:29:32,800 --> 01:29:39,279
i'm still not really sure i see much

1998
01:29:35,679 --> 01:29:42,800
going on here so

1999
01:29:39,279 --> 01:29:42,800
i want to ask a few questions

2000
01:29:48,479 --> 01:29:53,519
um i think we left this yeah

2001
01:29:50,800 --> 01:29:55,679
um so you can see the light leaking that

2002
01:29:53,520 --> 01:29:56,480
we're talking about or the light uh sort

2003
01:29:55,679 --> 01:29:58,480
of

2004
01:29:56,479 --> 01:30:00,399
slow bleeding to everything in the scene

2005
01:29:58,479 --> 01:30:02,479
that we were talking about here

2006
01:30:00,399 --> 01:30:06,439
um

2007
01:30:02,479 --> 01:30:06,439
i'm curious to know

2008
01:30:07,520 --> 01:30:10,400
if we were to

2009
01:30:09,198 --> 01:30:12,238
when we

2010
01:30:10,399 --> 01:30:14,319
like let's say this light is only ever

2011
01:30:12,238 --> 01:30:16,559
at 1.0 so

2012
01:30:14,319 --> 01:30:18,639
you know it doesn't have any higher

2013
01:30:16,560 --> 01:30:21,440
value it can reach

2014
01:30:18,639 --> 01:30:24,000
does it still contaminate or is you know

2015
01:30:21,439 --> 01:30:25,119
how sensitive is this to the number

2016
01:30:24,000 --> 01:30:26,719
right

2017
01:30:25,119 --> 01:30:28,719
um

2018
01:30:26,719 --> 01:30:32,840
i'm just i don't know and i want to i

2019
01:30:28,719 --> 01:30:32,840
want to kind of know what's up here

2020
01:30:37,039 --> 01:30:41,920
we should uh we should

2021
01:30:39,039 --> 01:30:43,600
i wish we had decided to work on the the

2022
01:30:41,920 --> 01:30:45,600
light occlusion problem which you can

2023
01:30:43,600 --> 01:30:48,719
see here uh because that's a lot easier

2024
01:30:45,600 --> 01:30:50,239
for us to fix but unfortunately that's

2025
01:30:48,719 --> 01:30:51,279
uh

2026
01:30:50,238 --> 01:30:53,279
not

2027
01:30:51,279 --> 01:30:55,439
the problem we chose to work on today we

2028
01:30:53,279 --> 01:30:58,479
chose to work on the harder one this is

2029
01:30:55,439 --> 01:31:00,158
when you occlude a probe right when

2030
01:30:58,479 --> 01:31:02,399
something moves over a probe we don't

2031
01:31:00,158 --> 01:31:06,479
handle it right now we just write black

2032
01:31:02,399 --> 01:31:06,479
onto it so we can see that it's wrong

2033
01:31:06,800 --> 01:31:10,800
but

2034
01:31:08,399 --> 01:31:14,399
so it doesn't seem like we really get

2035
01:31:10,800 --> 01:31:14,400
that light contamination

2036
01:31:15,760 --> 01:31:20,480
you know

2037
01:31:17,760 --> 01:31:23,920
i just don't understand

2038
01:31:20,479 --> 01:31:26,799
if we set the light value for something

2039
01:31:23,920 --> 01:31:28,560
up to a certain amount it starts to have

2040
01:31:26,800 --> 01:31:30,639
that contamination effect

2041
01:31:28,560 --> 01:31:32,800
but maybe that's just it slowly

2042
01:31:30,639 --> 01:31:35,359
spreading its light around

2043
01:31:32,800 --> 01:31:37,760
and producing a correct value

2044
01:31:35,359 --> 01:31:39,359
i don't know right and like if you had

2045
01:31:37,760 --> 01:31:42,960
exposure in here

2046
01:31:39,359 --> 01:31:42,960
then this would just adjust

2047
01:31:43,119 --> 01:31:46,719
so i really just

2048
01:31:44,399 --> 01:31:50,719
i this is perplexing i feel like we need

2049
01:31:46,719 --> 01:31:50,719
someone who's an expert in this right

2050
01:31:51,039 --> 01:31:58,000
um but you can see how that that you can

2051
01:31:53,760 --> 01:31:59,039
see that anything over one has this slow

2052
01:31:58,000 --> 01:32:02,000
effect

2053
01:31:59,039 --> 01:32:03,600
where it you can see it go and anything

2054
01:32:02,000 --> 01:32:06,000
that's not

2055
01:32:03,600 --> 01:32:07,520
somehow oddly doesn't

2056
01:32:06,000 --> 01:32:10,800
which is

2057
01:32:07,520 --> 01:32:10,800
strange because it

2058
01:32:10,840 --> 01:32:17,319
should shouldn't it i mean why wouldn't

2059
01:32:14,319 --> 01:32:17,319
it

2060
01:32:41,840 --> 01:32:46,000
i'm not sure i understand why it

2061
01:32:44,479 --> 01:32:49,000
wouldn't do that

2062
01:32:46,000 --> 01:32:49,000
right

2063
01:33:19,600 --> 01:33:26,760
because if what i was saying was true

2064
01:33:22,000 --> 01:33:26,760
like why doesn't it happen here

2065
01:33:42,238 --> 01:33:47,519
it feels like we've got some you know

2066
01:33:44,639 --> 01:33:50,400
there's just some fundamental yeah uh dr

2067
01:33:47,520 --> 01:33:52,560
zul that's exactly kind of what's making

2068
01:33:50,399 --> 01:33:54,879
me concerned

2069
01:33:52,560 --> 01:33:55,760
right because if

2070
01:33:54,880 --> 01:33:57,920
there

2071
01:33:55,760 --> 01:34:00,400
there really shouldn't be that that

2072
01:33:57,920 --> 01:34:00,399
shouldn't be

2073
01:34:01,359 --> 01:34:06,319
the 1.1 times 1.1 is larger than the

2074
01:34:04,079 --> 01:34:08,880
original kind of thing

2075
01:34:06,319 --> 01:34:12,880
should not be a factor so i'm wondering

2076
01:34:08,880 --> 01:34:12,880
if maybe we really do just have a bug

2077
01:34:14,479 --> 01:34:18,000
somewhere

2078
01:34:15,520 --> 01:34:21,480
that is actually having that exact

2079
01:34:18,000 --> 01:34:21,479
feedback problem

2080
01:34:38,238 --> 01:34:41,638
although i suppose

2081
01:34:59,600 --> 01:35:02,480
we should probably go fix the occlusion

2082
01:35:01,439 --> 01:35:03,839
bug

2083
01:35:02,479 --> 01:35:05,118
i wonder if we should just do that first

2084
01:35:03,840 --> 01:35:09,480
so we don't have to keep looking at the

2085
01:35:05,118 --> 01:35:09,479
weird like blackout problem but

2086
01:35:43,198 --> 01:35:46,799
so that's just a real stump or

2087
01:35:45,760 --> 01:35:48,560
um

2088
01:35:46,800 --> 01:35:51,119
we know we're doing cosine lobe and we

2089
01:35:48,560 --> 01:35:53,199
know that it ends up summing

2090
01:35:51,118 --> 01:35:54,880
unless we screwed that up

2091
01:35:53,198 --> 01:35:57,529
we know that it ends up summing to the

2092
01:35:54,880 --> 01:36:00,670
correct value

2093
01:35:57,529 --> 01:36:00,670
[Music]

2094
01:36:02,960 --> 01:36:07,578
of course we are doing

2095
01:36:04,510 --> 01:36:07,579
[Music]

2096
01:36:08,960 --> 01:36:11,760
like we are

2097
01:36:10,479 --> 01:36:16,319
doing

2098
01:36:11,760 --> 01:36:16,320
by linear filtering

2099
01:36:17,920 --> 01:36:22,840
but i don't think that would have a

2100
01:36:21,359 --> 01:36:26,238
much of an effect

2101
01:36:22,840 --> 01:36:26,239
right um

2102
01:36:31,279 --> 01:36:36,359
this is the filtering code right here

2103
01:36:57,439 --> 01:36:59,759
what

2104
01:37:03,920 --> 01:37:11,000
so i will say this is a

2105
01:37:07,679 --> 01:37:11,000
bit odd

2106
01:37:22,960 --> 01:37:26,079
so we have the occlusion

2107
01:37:24,930 --> 01:37:28,560
[Music]

2108
01:37:26,079 --> 01:37:31,760
so that occlusion d value

2109
01:37:28,560 --> 01:37:33,840
what that is is it's saying that

2110
01:37:31,760 --> 01:37:36,079
you know we're gonna we're not gonna

2111
01:37:33,840 --> 01:37:37,679
want a sample from

2112
01:37:36,079 --> 01:37:40,238
light probes that are in the wrong

2113
01:37:37,679 --> 01:37:40,239
direction

2114
01:37:45,520 --> 01:37:51,440
so the prox one over

2115
01:37:49,279 --> 01:37:52,800
is just letting us know

2116
01:37:51,439 --> 01:37:56,079
like

2117
01:37:52,800 --> 01:37:59,279
we want our light sample to some

2118
01:37:56,079 --> 01:38:01,359
to properly like average across only the

2119
01:37:59,279 --> 01:38:03,840
samples that we're actually taking

2120
01:38:01,359 --> 01:38:03,839
right

2121
01:38:04,800 --> 01:38:08,880
which seems fine

2122
01:38:07,760 --> 01:38:11,199
uh

2123
01:38:08,880 --> 01:38:11,199
you know

2124
01:38:13,439 --> 01:38:17,839
i'm not too upset about that

2125
01:38:54,880 --> 01:38:58,279
i don't know

2126
01:39:00,079 --> 01:39:07,319
this is a real puzzler

2127
01:39:02,399 --> 01:39:07,319
i i really just don't quite know

2128
01:39:18,880 --> 01:39:25,520
what by the way are our surface colors

2129
01:39:23,039 --> 01:39:27,439
like in terms of our

2130
01:39:25,520 --> 01:39:29,040
you know occluders that were loading in

2131
01:39:27,439 --> 01:39:30,638
here

2132
01:39:29,039 --> 01:39:34,479
like

2133
01:39:30,639 --> 01:39:37,679
how much light do they generally absorb

2134
01:39:34,479 --> 01:39:38,638
would be my other question right

2135
01:39:37,679 --> 01:39:42,719
like

2136
01:39:38,639 --> 01:39:42,719
when we are actually adding

2137
01:39:44,079 --> 01:39:47,840
uh

2138
01:39:45,118 --> 01:39:47,839
occluders

2139
01:39:50,719 --> 01:39:54,359
what is the

2140
01:39:55,840 --> 01:40:03,319
what is the general reflectance

2141
01:39:58,079 --> 01:40:03,319
that we would expect to see so you know

2142
01:40:08,800 --> 01:40:13,199
it's this

2143
01:40:10,158 --> 01:40:13,198
um here

2144
01:40:15,198 --> 01:40:18,539
and here are all the places we add them

2145
01:40:18,319 --> 01:40:21,599
so

2146
01:40:18,539 --> 01:40:24,399
[Music]

2147
01:40:21,600 --> 01:40:26,719
color.rgb

2148
01:40:24,399 --> 01:40:27,089
so you know

2149
01:40:26,719 --> 01:40:30,140
um

2150
01:40:27,090 --> 01:40:30,140
[Music]

2151
01:40:30,319 --> 01:40:36,439
a dot 888 it takes out 20 of the light

2152
01:40:38,319 --> 01:40:42,559
um

2153
01:40:39,760 --> 01:40:42,560
in either case

2154
01:40:48,079 --> 01:40:53,198
i don't actually know if i guess that's

2155
01:40:49,520 --> 01:40:53,199
using the same color here

2156
01:40:58,079 --> 01:41:02,559
and then in the apron

2157
01:40:59,920 --> 01:41:05,118
it's darker it's half so we know that

2158
01:41:02,560 --> 01:41:07,679
there's a fair like

2159
01:41:05,118 --> 01:41:09,679
there's quite a bit of

2160
01:41:07,679 --> 01:41:11,199
dampening it's taking out 20 of the

2161
01:41:09,679 --> 01:41:13,600
light

2162
01:41:11,198 --> 01:41:16,559
on every bounce

2163
01:41:13,600 --> 01:41:19,440
in that case and it's taking out half

2164
01:41:16,560 --> 01:41:21,520
the light in this case right

2165
01:41:19,439 --> 01:41:24,238
so

2166
01:41:21,520 --> 01:41:27,760
is that actually happening here i guess

2167
01:41:24,238 --> 01:41:31,479
i don't know uh it should be because

2168
01:41:27,760 --> 01:41:31,480
yeah i'm pretty sure

2169
01:41:32,880 --> 01:41:34,960
that in the

2170
01:41:33,680 --> 01:41:37,119
[Music]

2171
01:41:34,960 --> 01:41:38,960
in here we are definitely using the ref

2172
01:41:37,118 --> 01:41:40,319
hit color right like that's definitely

2173
01:41:38,960 --> 01:41:42,639
happening

2174
01:41:40,319 --> 01:41:42,639
um

2175
01:41:44,079 --> 01:41:47,840
i don't know how that happened

2176
01:42:29,359 --> 01:42:33,839
so you can see here where we take the

2177
01:42:31,198 --> 01:42:35,599
probe normal

2178
01:42:33,840 --> 01:42:39,639
and

2179
01:42:35,600 --> 01:42:39,639
we have the hit ref color

2180
01:42:42,560 --> 01:42:46,719
and when we take the probe sample here

2181
01:42:47,760 --> 01:42:52,360
at the very least we are

2182
01:42:50,238 --> 01:42:56,439
multiplying by the hit ref color

2183
01:42:52,359 --> 01:42:56,439
right um

2184
01:43:07,439 --> 01:43:11,439
so i don't know

2185
01:43:09,840 --> 01:43:12,880
don't really see

2186
01:43:11,439 --> 01:43:16,638
i

2187
01:43:12,880 --> 01:43:16,639
i really don't see the error

2188
01:43:22,079 --> 01:43:26,158
i suppose that if it's just straight

2189
01:43:24,479 --> 01:43:27,678
feedback right then we should also be

2190
01:43:26,158 --> 01:43:29,759
able to predict that since most things

2191
01:43:27,679 --> 01:43:31,840
in the scene are 0.8

2192
01:43:29,760 --> 01:43:33,840
you would expect there to be no feedback

2193
01:43:31,840 --> 01:43:35,279
if we set the light

2194
01:43:33,840 --> 01:43:37,520
level

2195
01:43:35,279 --> 01:43:37,519
to

2196
01:43:37,600 --> 01:43:42,800
just enough

2197
01:43:39,840 --> 01:43:42,800
right like uh

2198
01:43:51,118 --> 01:43:58,079
so if you assume that we want to take

2199
01:43:54,479 --> 01:44:00,718
you know uh 0.8 times x

2200
01:43:58,079 --> 01:44:04,079
equals 1.0 right

2201
01:44:00,719 --> 01:44:08,079
so we're just saying look if we take 1.0

2202
01:44:04,079 --> 01:44:10,158
and divide by 0.8 we get 1.25 which

2203
01:44:08,079 --> 01:44:12,880
would be presumably like roughly the

2204
01:44:10,158 --> 01:44:14,799
steady state so if i set this light up

2205
01:44:12,880 --> 01:44:17,760
to 1.25

2206
01:44:14,800 --> 01:44:20,079
we would probably expect

2207
01:44:17,760 --> 01:44:24,560
that because every bounce will take out

2208
01:44:20,079 --> 01:44:24,559
at least 80 that this would not feedback

2209
01:44:24,719 --> 01:44:26,960
right

2210
01:44:28,639 --> 01:44:31,840
and it doesn't appear to

2211
01:44:33,279 --> 01:44:39,679
um but if we go above that to say uh

2212
01:44:37,439 --> 01:44:41,678
even just slightly above that

2213
01:44:39,679 --> 01:44:44,079
maybe to 1.3

2214
01:44:41,679 --> 01:44:46,000
we would now expect it to feedback on

2215
01:44:44,079 --> 01:44:49,118
the interior but not on the exterior

2216
01:44:46,000 --> 01:44:50,399
where things were set to 0.5

2217
01:44:49,118 --> 01:44:51,279
i don't know if that will actually

2218
01:44:50,399 --> 01:44:53,359
happen

2219
01:44:51,279 --> 01:44:55,599
maybe there's more getting taken on the

2220
01:44:53,359 --> 01:44:58,639
system this would be very slow but in

2221
01:44:55,600 --> 01:45:00,320
theory would eventually feedback right

2222
01:44:58,639 --> 01:45:03,840
um

2223
01:45:00,319 --> 01:45:03,840
doesn't really look like it though

2224
01:45:04,639 --> 01:45:08,800
again i'm just trying to gather clues to

2225
01:45:06,238 --> 01:45:13,638
what's happening here

2226
01:45:08,800 --> 01:45:13,639
we'll try a little bit more 1.5

2227
01:45:30,399 --> 01:45:34,799
i don't know so i i so i i can't really

2228
01:45:32,880 --> 01:45:36,719
construct a valid argument for why we

2229
01:45:34,800 --> 01:45:38,960
have to set the number to something

2230
01:45:36,719 --> 01:45:41,359
particular to feedback either

2231
01:45:38,960 --> 01:45:43,439
right again which is which is you know

2232
01:45:41,359 --> 01:45:46,960
kind of perplexing

2233
01:45:43,439 --> 01:45:46,960
unless i'm just like missing something

2234
01:45:47,439 --> 01:45:52,519
that looks like it might be feeding back

2235
01:45:49,198 --> 01:45:52,519
a little bit

2236
01:46:13,600 --> 01:46:20,520
yeah you can see that is feeding back

2237
01:46:17,118 --> 01:46:20,519
very slowly

2238
01:46:50,238 --> 01:46:54,519
it takes a very long time

2239
01:47:07,760 --> 01:47:12,560
is it possible that the color dampening

2240
01:47:10,079 --> 01:47:16,158
hits some negative values and adds to

2241
01:47:12,560 --> 01:47:16,159
the lighting instead

2242
01:47:19,198 --> 01:47:23,839
the color

2243
01:47:20,840 --> 01:47:26,319
dampening oh you mean like

2244
01:47:23,840 --> 01:47:26,319
these

2245
01:47:27,760 --> 01:47:30,079
um

2246
01:47:32,800 --> 01:47:36,560
well

2247
01:47:34,000 --> 01:47:39,118
i don't think so because they're all

2248
01:47:36,560 --> 01:47:39,119
clamped

2249
01:47:40,319 --> 01:47:43,840
um

2250
01:47:41,279 --> 01:47:43,840
i think

2251
01:47:48,719 --> 01:47:53,279
like these are both clamped

2252
01:47:51,760 --> 01:47:55,920
uh

2253
01:47:53,279 --> 01:47:59,719
i guess i don't know i'm not sure to

2254
01:47:55,920 --> 01:47:59,719
what extent those are clamped

2255
01:48:04,238 --> 01:48:08,079
one thing i do think we probably want to

2256
01:48:06,079 --> 01:48:10,479
do eventually is

2257
01:48:08,079 --> 01:48:12,479
rewrite this to be ray bundle based now

2258
01:48:10,479 --> 01:48:15,479
that we are always shooting ray bundles

2259
01:48:12,479 --> 01:48:15,479
but

2260
01:48:18,399 --> 01:48:22,000
yeah we did always have this problem i

2261
01:48:20,319 --> 01:48:25,039
believe

2262
01:48:22,000 --> 01:48:27,198
um it doesn't now that we are much

2263
01:48:25,039 --> 01:48:29,679
faster it spreads much quicker because

2264
01:48:27,198 --> 01:48:31,599
you have to remember like

2265
01:48:29,679 --> 01:48:33,039
it's very hard for this feedback to

2266
01:48:31,600 --> 01:48:34,400
happen

2267
01:48:33,039 --> 01:48:35,760
if the

2268
01:48:34,399 --> 01:48:38,000
total

2269
01:48:35,760 --> 01:48:41,360
like contamination number like the the

2270
01:48:38,000 --> 01:48:44,560
contamination speed is capped

2271
01:48:41,359 --> 01:48:46,479
so for example in here uh when we used

2272
01:48:44,560 --> 01:48:49,280
to say like this was going to be

2273
01:48:46,479 --> 01:48:53,198
much lower so let's say this was 1

2274
01:48:49,279 --> 01:48:55,279
out of 60 so there was a 1 second of lag

2275
01:48:53,198 --> 01:48:57,118
it takes a lot longer for contamination

2276
01:48:55,279 --> 01:48:59,840
to occur

2277
01:48:57,118 --> 01:49:02,559
so because the light is so laggy you

2278
01:48:59,840 --> 01:49:05,520
won't see this contamination

2279
01:49:02,560 --> 01:49:08,239
unless you hold a particular

2280
01:49:05,520 --> 01:49:10,560
location for a very long time

2281
01:49:08,238 --> 01:49:12,879
right and that's just because it takes

2282
01:49:10,560 --> 01:49:16,320
so freaking long we can probably set

2283
01:49:12,880 --> 01:49:19,359
this up so you know 2.0 was fairly fast

2284
01:49:16,319 --> 01:49:21,118
contamination before

2285
01:49:19,359 --> 01:49:22,000
i believe at six

2286
01:49:21,118 --> 01:49:23,759
um

2287
01:49:22,000 --> 01:49:26,079
it's it's simply

2288
01:49:23,760 --> 01:49:27,679
not going to be very fast uh when it's

2289
01:49:26,079 --> 01:49:30,158
got that dampening on it it takes a

2290
01:49:27,679 --> 01:49:31,920
really long time right

2291
01:49:30,158 --> 01:49:34,079
so before when the lighting was really

2292
01:49:31,920 --> 01:49:36,239
slow you wouldn't have this problem

2293
01:49:34,079 --> 01:49:38,639
later we upped it so it's six times

2294
01:49:36,238 --> 01:49:41,519
faster now

2295
01:49:38,639 --> 01:49:44,880
you get a tremendously

2296
01:49:41,520 --> 01:49:46,560
faster contamination right

2297
01:49:44,880 --> 01:49:48,639
so something that was not visible is

2298
01:49:46,560 --> 01:49:50,560
like very visible

2299
01:49:48,639 --> 01:49:52,079
at six times speed

2300
01:49:50,560 --> 01:49:53,840
and again that's just because now we can

2301
01:49:52,079 --> 01:49:55,519
just run it so much faster

2302
01:49:53,840 --> 01:49:57,760
so i don't think we actually had this

2303
01:49:55,520 --> 01:49:59,119
problem happening that often before and

2304
01:49:57,760 --> 01:50:01,119
part of the reason for that was the

2305
01:49:59,118 --> 01:50:03,359
lighting was too slow

2306
01:50:01,118 --> 01:50:03,359
right

2307
01:50:03,840 --> 01:50:06,560
um

2308
01:50:04,800 --> 01:50:09,039
now that the lighting is fast any

2309
01:50:06,560 --> 01:50:11,440
feedback effects we will always actually

2310
01:50:09,039 --> 01:50:13,679
see them uh whereas before they were

2311
01:50:11,439 --> 01:50:16,399
kind of like hidden from us right

2312
01:50:13,679 --> 01:50:18,960
uh so you know

2313
01:50:16,399 --> 01:50:20,960
uh getting better in a way made us get

2314
01:50:18,960 --> 01:50:23,520
worse right it made us made it harder

2315
01:50:20,960 --> 01:50:27,719
for us to you know

2316
01:50:23,520 --> 01:50:27,719
to get away with things like that

2317
01:50:46,479 --> 01:50:49,519
so i don't have

2318
01:50:49,679 --> 01:50:55,359
any idea how to progress here i feel

2319
01:50:51,840 --> 01:50:56,239
like what we need here is education

2320
01:50:55,359 --> 01:50:57,439
uh

2321
01:50:56,238 --> 01:51:01,559
and

2322
01:50:57,439 --> 01:51:01,559
we need like

2323
01:51:08,880 --> 01:51:14,800
we need to have a more solid idea about

2324
01:51:11,920 --> 01:51:16,560
how we're computing these equations so

2325
01:51:14,800 --> 01:51:18,800
that we have an argument for why they

2326
01:51:16,560 --> 01:51:21,039
wouldn't just feedback

2327
01:51:18,800 --> 01:51:22,239
you know

2328
01:51:21,039 --> 01:51:24,639
i also

2329
01:51:22,238 --> 01:51:27,359
would like to know how much feedback

2330
01:51:24,639 --> 01:51:29,760
there is in sort of the broader sense of

2331
01:51:27,359 --> 01:51:31,759
the term like if we had

2332
01:51:29,760 --> 01:51:35,679
like what would this look like if we

2333
01:51:31,760 --> 01:51:39,679
just had a exposure curve on here and

2334
01:51:35,679 --> 01:51:41,520
like maybe that's an easy thing to add

2335
01:51:39,679 --> 01:51:44,079
uh i don't really know what kind of

2336
01:51:41,520 --> 01:51:47,199
exposure curve we want to put on here

2337
01:51:44,079 --> 01:51:49,359
um because that's kind of a

2338
01:51:47,198 --> 01:51:51,039
tough call separately

2339
01:51:49,359 --> 01:51:54,000
but you know at the moment we don't

2340
01:51:51,039 --> 01:51:57,039
apply any exposure curve at all

2341
01:51:54,000 --> 01:51:59,920
and so if we were to go into like how

2342
01:51:57,039 --> 01:52:01,118
the lighting is sampled here right we

2343
01:51:59,920 --> 01:52:04,158
we do

2344
01:52:01,118 --> 01:52:05,679
uh one of these like surface reflect

2345
01:52:04,158 --> 01:52:08,079
things

2346
01:52:05,679 --> 01:52:09,520
uh i guess there's a fogging factor in

2347
01:52:08,079 --> 01:52:11,599
here still

2348
01:52:09,520 --> 01:52:14,000
for no real reason

2349
01:52:11,599 --> 01:52:15,440
we don't use that anymore

2350
01:52:14,000 --> 01:52:16,960
uh but we

2351
01:52:15,439 --> 01:52:18,158
we don't really apply there's like a

2352
01:52:16,960 --> 01:52:19,118
clamp

2353
01:52:18,158 --> 01:52:21,359
in here

2354
01:52:19,118 --> 01:52:23,679
right but we don't actually apply any

2355
01:52:21,359 --> 01:52:26,000
kind of

2356
01:52:23,679 --> 01:52:26,000
uh

2357
01:52:26,319 --> 01:52:29,439
i don't know why this is written out

2358
01:52:27,599 --> 01:52:32,400
manually either we don't reply any kind

2359
01:52:29,439 --> 01:52:32,399
of curve to it right

2360
01:52:32,880 --> 01:52:37,679
so we could

2361
01:52:35,039 --> 01:52:40,399
uh apply an exposure curve like a really

2362
01:52:37,679 --> 01:52:41,679
simple one like a brain dead one to see

2363
01:52:40,399 --> 01:52:42,638
what happens

2364
01:52:41,679 --> 01:52:44,480
um

2365
01:52:42,639 --> 01:52:45,520
like

2366
01:52:44,479 --> 01:52:49,439
a

2367
01:52:45,520 --> 01:52:52,000
simple exposure curve

2368
01:52:49,439 --> 01:52:52,000
oh no

2369
01:52:52,158 --> 01:52:55,359
no

2370
01:52:53,039 --> 01:52:55,359
um

2371
01:52:56,158 --> 01:53:01,359
shader

2372
01:52:57,840 --> 01:53:01,360
exposure curve

2373
01:53:09,118 --> 01:53:11,439
uh

2374
01:53:09,920 --> 01:53:14,480
yeah i mean sure

2375
01:53:11,439 --> 01:53:16,799
i like learn opengl

2376
01:53:14,479 --> 01:53:16,799
um

2377
01:53:23,039 --> 01:53:27,679
so that's reinhardt tone mapping would

2378
01:53:25,118 --> 01:53:29,118
be fine

2379
01:53:27,679 --> 01:53:30,560
and that's just the color of the color

2380
01:53:29,118 --> 01:53:32,079
plus one

2381
01:53:30,560 --> 01:53:35,360
uh it's not good

2382
01:53:32,079 --> 01:53:35,359
but that would be fine

2383
01:53:38,399 --> 01:53:43,920
that would be fine i'm fine with that um

2384
01:53:41,520 --> 01:53:45,840
let's let's just see what happens right

2385
01:53:43,920 --> 01:53:48,880
first of all can is there a reason why

2386
01:53:45,840 --> 01:53:51,760
this was written as three of these like

2387
01:53:48,880 --> 01:53:55,400
can we not just do this

2388
01:53:51,760 --> 01:53:55,400
does that not work

2389
01:53:59,520 --> 01:54:04,800
because i i don't

2390
01:54:01,679 --> 01:54:06,800
know why that wouldn't work

2391
01:54:04,800 --> 01:54:10,159
yeah so that that seems fine

2392
01:54:06,800 --> 01:54:12,159
um so i'm just curious so if we were to

2393
01:54:10,158 --> 01:54:15,679
clamp this

2394
01:54:12,158 --> 01:54:16,799
uh as it's it over itself

2395
01:54:15,679 --> 01:54:19,279
plus one

2396
01:54:16,800 --> 01:54:20,560
which again is like just just brain dead

2397
01:54:19,279 --> 01:54:23,279
you know

2398
01:54:20,560 --> 01:54:24,320
uh brain dead tone mapping

2399
01:54:23,279 --> 01:54:25,840
uh

2400
01:54:24,319 --> 01:54:29,158
what does that do

2401
01:54:25,840 --> 01:54:29,159
i'm just curious

2402
01:54:38,960 --> 01:54:42,719
uh it didn't like how i wrote that

2403
01:54:44,479 --> 01:54:48,399
well you know what when you don't close

2404
01:54:46,719 --> 01:54:50,239
your parentheses

2405
01:54:48,399 --> 01:54:53,039
that's uh that's a valid thing to

2406
01:54:50,238 --> 01:54:56,479
complain about i agree

2407
01:54:53,039 --> 01:54:56,479
i agree shader compiler

2408
01:54:56,719 --> 01:55:00,560
uh so here's a tone mapped version of

2409
01:54:58,639 --> 01:55:02,960
the output

2410
01:55:00,560 --> 01:55:04,880
uh just so we can kind of see but it

2411
01:55:02,960 --> 01:55:06,639
still looks completely feedback it's

2412
01:55:04,880 --> 01:55:09,440
still totally feedback

2413
01:55:06,639 --> 01:55:11,440
right to me like that's not producing

2414
01:55:09,439 --> 01:55:13,598
any actual

2415
01:55:11,439 --> 01:55:15,839
light

2416
01:55:13,599 --> 01:55:19,760
like it's totally not actually producing

2417
01:55:15,840 --> 01:55:21,840
lighting there it's totally feeding back

2418
01:55:19,760 --> 01:55:24,400
um

2419
01:55:21,840 --> 01:55:26,239
so i really think this is just wrong

2420
01:55:24,399 --> 01:55:28,238
like i really think we just have a

2421
01:55:26,238 --> 01:55:30,638
something wrong-headed about the way

2422
01:55:28,238 --> 01:55:32,479
that we're doing it it just it always

2423
01:55:30,639 --> 01:55:34,239
floods the scene with light and it

2424
01:55:32,479 --> 01:55:36,799
doesn't have anything to do with what

2425
01:55:34,238 --> 01:55:37,839
the actual overall values are that you

2426
01:55:36,800 --> 01:55:39,679
pick

2427
01:55:37,840 --> 01:55:43,159
um

2428
01:55:39,679 --> 01:55:43,158
it's just wrong

2429
01:55:48,079 --> 01:55:52,000
uh yes beginner questions are okay by

2430
01:55:50,158 --> 01:55:54,319
the way although we don't always take

2431
01:55:52,000 --> 01:55:55,118
questions while we're actually working

2432
01:55:54,319 --> 01:55:56,000
um

2433
01:55:55,118 --> 01:55:57,519
but

2434
01:55:56,000 --> 01:55:58,719
but beginner questions are definitely

2435
01:55:57,520 --> 01:56:00,480
okay

2436
01:55:58,719 --> 01:56:02,719
i i answer beginner questions all the

2437
01:56:00,479 --> 01:56:02,718
time

2438
01:56:03,198 --> 01:56:08,079
so we really do have some yeah and i

2439
01:56:06,560 --> 01:56:10,560
just don't feel like i have the

2440
01:56:08,079 --> 01:56:12,079
necessary like i haven't

2441
01:56:10,560 --> 01:56:13,679
figured out how to think through this

2442
01:56:12,079 --> 01:56:14,479
problem properly

2443
01:56:13,679 --> 01:56:17,359
so

2444
01:56:14,479 --> 01:56:18,959
like we're just not oh i forgot those

2445
01:56:17,359 --> 01:56:22,158
skull guys can go anywhere they wanted

2446
01:56:18,960 --> 01:56:22,158
to i'm gonna run away from that

2447
01:56:22,639 --> 01:56:26,880
um so we have issues here that we need

2448
01:56:25,520 --> 01:56:28,960
to address

2449
01:56:26,880 --> 01:56:30,480
that have to do with that over writing

2450
01:56:28,960 --> 01:56:33,359
that's happening there

2451
01:56:30,479 --> 01:56:36,079
and their problem with thinking uh in

2452
01:56:33,359 --> 01:56:36,079
terms of like

2453
01:56:38,800 --> 01:56:44,000
how we avoid using the same lighting in

2454
01:56:42,238 --> 01:56:46,079
multiple places such that it feeds back

2455
01:56:44,000 --> 01:56:46,960
on itself and i i literally just don't

2456
01:56:46,079 --> 01:56:49,118
have

2457
01:56:46,960 --> 01:56:51,118
any idea what it is that we're doing

2458
01:56:49,118 --> 01:56:55,960
differently

2459
01:56:51,118 --> 01:56:55,960
as far as sampling the light probes go

2460
01:56:56,000 --> 01:57:01,520
it could still be a bug but based on the

2461
01:56:58,880 --> 01:57:01,520
light board

2462
01:57:02,479 --> 01:57:06,718
i'm just not sure it actually is a bug i

2463
01:57:04,719 --> 01:57:08,560
mean it's a bug for sure but it's not a

2464
01:57:06,719 --> 01:57:11,279
bug of the form like we forgot a minus

2465
01:57:08,560 --> 01:57:13,119
sign right i'm still concerned that it's

2466
01:57:11,279 --> 01:57:14,559
a bug meaning that the strategy is

2467
01:57:13,118 --> 01:57:16,000
busted

2468
01:57:14,560 --> 01:57:17,520
we're missing something that's supposed

2469
01:57:16,000 --> 01:57:21,079
to happen here

2470
01:57:17,520 --> 01:57:21,080
that we're not doing

2471
01:57:25,198 --> 01:57:27,439
um

2472
01:57:27,599 --> 01:57:32,079
the

2473
01:57:29,198 --> 01:57:33,919
other thing i would say is maybe is it

2474
01:57:32,079 --> 01:57:36,399
possible that when we thought we turned

2475
01:57:33,920 --> 01:57:38,719
off probe to probe transmission that

2476
01:57:36,399 --> 01:57:41,679
somehow we didn't actually turn it off

2477
01:57:38,719 --> 01:57:43,760
like like maybe that is what's happening

2478
01:57:41,679 --> 01:57:45,520
and and so when we tested to see does it

2479
01:57:43,760 --> 01:57:46,960
still happen with that

2480
01:57:45,520 --> 01:57:48,480
we turned it off and then it turns out

2481
01:57:46,960 --> 01:57:50,399
we didn't actually turn it off i don't

2482
01:57:48,479 --> 01:57:51,279
know that's that's possible

2483
01:57:50,399 --> 01:57:52,960
um

2484
01:57:51,279 --> 01:57:54,960
i don't think that's likely but you know

2485
01:57:52,960 --> 01:57:58,000
it it's worth checking

2486
01:57:54,960 --> 01:57:58,000
so in here right

2487
01:57:58,479 --> 01:58:03,598
uh we have a thing we do where we say if

2488
01:58:02,719 --> 01:58:07,118
we

2489
01:58:03,599 --> 01:58:10,239
hit the uh apron or walked too far

2490
01:58:07,118 --> 01:58:12,238
without without finding an intersection

2491
01:58:10,238 --> 01:58:13,598
so like we don't hit anything

2492
01:58:12,238 --> 01:58:15,919
uh we have a thing here where we can

2493
01:58:13,599 --> 01:58:18,480
turn on like zeroing out the hit ref

2494
01:58:15,920 --> 01:58:21,199
color and the hit emission so that like

2495
01:58:18,479 --> 01:58:24,158
basically it just won't

2496
01:58:21,198 --> 01:58:26,158
like or the argument is

2497
01:58:24,158 --> 01:58:29,359
it won't be able to

2498
01:58:26,158 --> 01:58:30,879
uh sample anything if it doesn't hit a

2499
01:58:29,359 --> 01:58:32,839
surface

2500
01:58:30,880 --> 01:58:34,960
right

2501
01:58:32,840 --> 01:58:36,639
um and

2502
01:58:34,960 --> 01:58:38,800
i think we proved that the feedback

2503
01:58:36,639 --> 01:58:40,639
happens anyway right you can see it

2504
01:58:38,800 --> 01:58:41,520
still happening

2505
01:58:40,639 --> 01:58:43,760
uh

2506
01:58:41,520 --> 01:58:45,840
so

2507
01:58:43,760 --> 01:58:48,400
i'm pretty sure that that has nothing to

2508
01:58:45,840 --> 01:58:48,400
do with it

2509
01:58:53,679 --> 01:58:59,199
i mean similarly the grid walk iteration

2510
01:58:56,639 --> 01:59:01,279
part of things

2511
01:58:59,198 --> 01:59:03,919
we can just turn off

2512
01:59:01,279 --> 01:59:04,880
right we can just say

2513
01:59:03,920 --> 01:59:06,480
you know

2514
01:59:04,880 --> 01:59:07,679
equals eight and it will never equal

2515
01:59:06,479 --> 01:59:09,598
eight because we're not adding anything

2516
01:59:07,679 --> 01:59:12,079
to it so now we know this will only

2517
01:59:09,599 --> 01:59:15,599
happen at the apron all rays will be

2518
01:59:12,079 --> 01:59:16,800
cast as far as they need to get cast

2519
01:59:15,599 --> 01:59:18,400
right

2520
01:59:16,800 --> 01:59:19,679
and we still get exactly the same

2521
01:59:18,399 --> 01:59:22,879
problem

2522
01:59:19,679 --> 01:59:25,279
so i'm pretty sure that probe to probe

2523
01:59:22,880 --> 01:59:26,880
contributions just aren't an issue

2524
01:59:25,279 --> 01:59:29,880
actually

2525
01:59:26,880 --> 01:59:29,880
um

2526
01:59:32,158 --> 01:59:35,920
so probe to probe

2527
01:59:34,238 --> 01:59:37,359
and you know honestly it seems like we

2528
01:59:35,920 --> 01:59:39,679
don't really care about that anyway it

2529
01:59:37,359 --> 01:59:41,279
looks like we could just just

2530
01:59:39,679 --> 01:59:43,279
not have the grid walk iteration

2531
01:59:41,279 --> 01:59:47,039
terminator as well like i don't know

2532
01:59:43,279 --> 01:59:47,039
this part seems kind of irrelevant

2533
01:59:50,079 --> 01:59:55,800
so it's pretty rough it's pretty rough

2534
01:59:52,800 --> 01:59:55,800
um

2535
02:00:12,399 --> 02:00:16,879
uh valbus yeah

2536
02:00:15,039 --> 02:00:18,238
well i don't know that's i would call

2537
02:00:16,880 --> 02:00:20,159
them sampling errors but like i was

2538
02:00:18,238 --> 02:00:23,279
saying before the discretization of the

2539
02:00:20,158 --> 02:00:23,279
problem seems

2540
02:00:23,359 --> 02:00:29,920
like it could be part of it because you

2541
02:00:26,800 --> 02:00:32,079
can sort of get the same light probes

2542
02:00:29,920 --> 02:00:34,399
light the same

2543
02:00:32,079 --> 02:00:36,719
light flow reflected off multiple

2544
02:00:34,399 --> 02:00:40,519
surfaces

2545
02:00:36,719 --> 02:00:40,520
potentially erroneously

2546
02:00:41,279 --> 02:00:44,279
now

2547
02:01:04,960 --> 02:01:07,960
to

2548
02:01:12,800 --> 02:01:17,639
you know when we

2549
02:01:14,639 --> 02:01:17,639
sample

2550
02:01:25,118 --> 02:01:28,479
and and you know the like like we don't

2551
02:01:27,359 --> 02:01:31,118
keep

2552
02:01:28,479 --> 02:01:35,879
the normals which they do so we're not

2553
02:01:31,118 --> 02:01:35,880
using the like normal to normal

2554
02:01:36,079 --> 02:01:41,039
um

2555
02:01:38,158 --> 02:01:41,039
fall off

2556
02:01:42,639 --> 02:01:45,639
either

2557
02:02:04,479 --> 02:02:07,519
yeah i don't know

2558
02:02:13,520 --> 02:02:17,840
oh uh there was the copy past the

2559
02:02:15,840 --> 02:02:19,760
transfer pps accumulan can we peak

2560
02:02:17,840 --> 02:02:20,639
through again sure yeah of course uh is

2561
02:02:19,760 --> 02:02:22,239
this

2562
02:02:20,639 --> 02:02:24,960
which which one

2563
02:02:22,238 --> 02:02:27,198
so there's this one

2564
02:02:24,960 --> 02:02:27,198
uh

2565
02:02:27,439 --> 02:02:31,198
but about that may that may not be the

2566
02:02:29,039 --> 02:02:32,880
one you're talking about uh can you be

2567
02:02:31,198 --> 02:02:35,359
more specific about which one you want

2568
02:02:32,880 --> 02:02:36,719
to see i can scroll to it

2569
02:02:35,359 --> 02:02:39,279
um

2570
02:02:36,719 --> 02:02:41,039
but i don't know which one i

2571
02:02:39,279 --> 02:02:43,359
you're talking about like when it adds

2572
02:02:41,039 --> 02:02:46,359
or like like this one

2573
02:02:43,359 --> 02:02:46,359
here

2574
02:02:47,198 --> 02:02:51,359
zero as last args

2575
02:02:52,079 --> 02:02:55,699
um

2576
02:02:52,609 --> 02:02:55,699
[Music]

2577
02:02:58,840 --> 02:03:04,319
but i think that's

2578
02:03:01,760 --> 02:03:04,320
correct

2579
02:03:07,279 --> 02:03:10,399
right

2580
02:03:08,479 --> 02:03:12,238
um this is this

2581
02:03:10,399 --> 02:03:13,759
we probably want to rewrite this in

2582
02:03:12,238 --> 02:03:15,598
terms of ray bundles now that we're

2583
02:03:13,760 --> 02:03:17,599
doing things fairly differently so you

2584
02:03:15,599 --> 02:03:19,440
know this stuff is kind of inefficient

2585
02:03:17,599 --> 02:03:21,760
as you can see why some of these look

2586
02:03:19,439 --> 02:03:25,118
with some of these to do's and stuff

2587
02:03:21,760 --> 02:03:29,520
but uh the way this was doing it before

2588
02:03:25,118 --> 02:03:30,319
right is the shuffler was picking out

2589
02:03:29,520 --> 02:03:31,760
uh

2590
02:03:30,319 --> 02:03:33,359
you know one of the reasons i think now

2591
02:03:31,760 --> 02:03:34,719
we could switch it to that is is because

2592
02:03:33,359 --> 02:03:36,158
we simplified things so much i think we

2593
02:03:34,719 --> 02:03:38,319
could switch this to doing ray bundles

2594
02:03:36,158 --> 02:03:40,399
and they all cast out the same

2595
02:03:38,319 --> 02:03:42,000
before we were casting out one ray per

2596
02:03:40,399 --> 02:03:44,079
texel now we're casting out like at

2597
02:03:42,000 --> 02:03:46,000
least eight so going as a ray bundle

2598
02:03:44,079 --> 02:03:48,399
would make a tremendous amount of sense

2599
02:03:46,000 --> 02:03:51,039
probably i mean in some cases it it

2600
02:03:48,399 --> 02:03:53,198
wouldn't be fantastic maybe but

2601
02:03:51,039 --> 02:03:55,439
i i think it would be

2602
02:03:53,198 --> 02:03:57,439
plausible that we could do that

2603
02:03:55,439 --> 02:03:59,279
but the point is the way the shuffler

2604
02:03:57,439 --> 02:04:00,719
stuff worked

2605
02:03:59,279 --> 02:04:02,158
it's been a long time but just my

2606
02:04:00,719 --> 02:04:04,880
recollection of it

2607
02:04:02,158 --> 02:04:06,000
is the shuffler just picks out which one

2608
02:04:04,880 --> 02:04:08,239
was the

2609
02:04:06,000 --> 02:04:09,118
was the actual best hit

2610
02:04:08,238 --> 02:04:11,519
right

2611
02:04:09,118 --> 02:04:13,920
so when you pick out which one was the

2612
02:04:11,520 --> 02:04:15,920
actual best hit i believe it shuffles

2613
02:04:13,920 --> 02:04:18,158
the value that is the

2614
02:04:15,920 --> 02:04:18,158
um

2615
02:04:18,238 --> 02:04:22,638
the correct value

2616
02:04:20,000 --> 02:04:24,800
uh it shuffles that value to the front

2617
02:04:22,639 --> 02:04:26,560
so i believe this is supposed to be zero

2618
02:04:24,800 --> 02:04:27,760
everywhere

2619
02:04:26,560 --> 02:04:29,119
right

2620
02:04:27,760 --> 02:04:30,960
um

2621
02:04:29,118 --> 02:04:32,719
i i don't think that's copy pasta i

2622
02:04:30,960 --> 02:04:34,639
guess what i was saying i think that's

2623
02:04:32,719 --> 02:04:36,639
just correct

2624
02:04:34,639 --> 02:04:38,639
uh but you know

2625
02:04:36,639 --> 02:04:42,319
i i certainly could be wrong about that

2626
02:04:38,639 --> 02:04:44,560
but i don't think that's actually wrong

2627
02:04:42,319 --> 02:04:44,559
um

2628
02:04:44,960 --> 02:04:50,078
does does that

2629
02:04:47,520 --> 02:04:50,079
make sense

2630
02:04:50,960 --> 02:04:55,198
um but i'll i'll go you one further and

2631
02:04:53,520 --> 02:04:57,599
just say like let's suppose that that

2632
02:04:55,198 --> 02:05:00,559
even that that was wrong

2633
02:04:57,599 --> 02:05:02,639
uh then it's still probably fine because

2634
02:05:00,560 --> 02:05:04,960
the r g and the b for our services right

2635
02:05:02,639 --> 02:05:06,719
now are the same we don't actually have

2636
02:05:04,960 --> 02:05:08,880
any color

2637
02:05:06,719 --> 02:05:11,599
in the reflectance

2638
02:05:08,880 --> 02:05:12,480
you know we could we just don't right

2639
02:05:11,599 --> 02:05:16,000
now

2640
02:05:12,479 --> 02:05:18,158
so i you know

2641
02:05:16,000 --> 02:05:20,960
the second argument is just saying which

2642
02:05:18,158 --> 02:05:23,198
lane you wanted to pick out so basically

2643
02:05:20,960 --> 02:05:26,480
like if you were trying to extract the

2644
02:05:23,198 --> 02:05:26,479
first one here i'll show you

2645
02:05:27,198 --> 02:05:30,238
uh if you're trying to extract the first

2646
02:05:29,439 --> 02:05:30,989
one

2647
02:05:30,238 --> 02:05:32,238
uh you

2648
02:05:30,989 --> 02:05:34,000
[Music]

2649
02:05:32,238 --> 02:05:34,718
yeah i mean well you can see it here

2650
02:05:34,000 --> 02:05:37,679
right

2651
02:05:34,719 --> 02:05:39,279
you pass a zero to extract the first one

2652
02:05:37,679 --> 02:05:41,199
um

2653
02:05:39,279 --> 02:05:43,198
one to do the second two to do the third

2654
02:05:41,198 --> 02:05:45,198
three to do the fourth right and and

2655
02:05:43,198 --> 02:05:47,519
this is easier you don't have to do it

2656
02:05:45,198 --> 02:05:50,000
this way if you're not on sse there's

2657
02:05:47,520 --> 02:05:51,840
there's faster ways of doing it

2658
02:05:50,000 --> 02:05:53,599
on more modern

2659
02:05:51,840 --> 02:05:55,520
um

2660
02:05:53,599 --> 02:05:57,199
like on avx or whatever you've you've

2661
02:05:55,520 --> 02:06:01,239
got like extract

2662
02:05:57,198 --> 02:06:01,238
calls this is very inefficient

2663
02:06:02,238 --> 02:06:06,638
like i do think we could get

2664
02:06:04,560 --> 02:06:08,880
now at this point we could probably get

2665
02:06:06,639 --> 02:06:11,118
a pretty significant speed upgrade by

2666
02:06:08,880 --> 02:06:12,800
rewriting this code

2667
02:06:11,118 --> 02:06:15,359
to be brave

2668
02:06:12,800 --> 02:06:18,400
to be wide on raise

2669
02:06:15,359 --> 02:06:21,439
because then this entire code actually

2670
02:06:18,399 --> 02:06:24,319
unwinds into just its scalar equivalent

2671
02:06:21,439 --> 02:06:25,439
and it does four arrays at the same time

2672
02:06:24,319 --> 02:06:27,279
right

2673
02:06:25,439 --> 02:06:28,960
and that would probably be dramatically

2674
02:06:27,279 --> 02:06:31,599
faster

2675
02:06:28,960 --> 02:06:33,679
we would slow down a little in the grid

2676
02:06:31,599 --> 02:06:35,840
walk because the grid walk would get

2677
02:06:33,679 --> 02:06:38,639
slower

2678
02:06:35,840 --> 02:06:41,840
the reason for that being that uh rays

2679
02:06:38,639 --> 02:06:45,359
that early terminate uh

2680
02:06:41,840 --> 02:06:47,279
keep marching so you're but uh we don't

2681
02:06:45,359 --> 02:06:49,279
even that might not get that much slower

2682
02:06:47,279 --> 02:06:51,198
because you're coherently pulling

2683
02:06:49,279 --> 02:06:54,559
potentially this from the same

2684
02:06:51,198 --> 02:06:55,839
locations uh which might lead to better

2685
02:06:54,560 --> 02:06:58,239
um

2686
02:06:55,840 --> 02:06:59,840
cast behavior as well i'm not really

2687
02:06:58,238 --> 02:07:02,559
sold that that may not really be true

2688
02:06:59,840 --> 02:07:05,199
but um so so probably this wants to get

2689
02:07:02,560 --> 02:07:06,639
rewritten um but it probably doesn't

2690
02:07:05,198 --> 02:07:09,359
need to be written right now because

2691
02:07:06,639 --> 02:07:11,599
that's just largely speed it's not going

2692
02:07:09,359 --> 02:07:14,000
to change

2693
02:07:11,599 --> 02:07:16,159
the bug you saw the exact same bug after

2694
02:07:14,000 --> 02:07:17,840
we were done rewriting it so you know i

2695
02:07:16,158 --> 02:07:19,519
feel like we can just save that for but

2696
02:07:17,840 --> 02:07:21,520
it would clean up this routine a lot and

2697
02:07:19,520 --> 02:07:22,800
be less and it probably would run faster

2698
02:07:21,520 --> 02:07:24,320
as well

2699
02:07:22,800 --> 02:07:26,800
so we probably do want to do that at

2700
02:07:24,319 --> 02:07:26,799
some point

2701
02:07:28,238 --> 02:07:31,198
that would be my guess

2702
02:07:37,920 --> 02:07:41,359
so

2703
02:07:39,359 --> 02:07:43,439
we still would have to

2704
02:07:41,359 --> 02:07:44,719
at the very end we'd have to broadcast

2705
02:07:43,439 --> 02:07:47,118
out

2706
02:07:44,719 --> 02:07:48,560
uh we'd fl flatten down

2707
02:07:47,118 --> 02:07:50,559
it's not really broadcast we'd flatten

2708
02:07:48,560 --> 02:07:53,199
down and some

2709
02:07:50,560 --> 02:07:56,719
uh because we we probably don't want to

2710
02:07:53,198 --> 02:07:58,879
cast in the same wide as we're doing our

2711
02:07:56,719 --> 02:08:01,198
summations here

2712
02:07:58,880 --> 02:08:01,199
um

2713
02:08:01,840 --> 02:08:06,159
i mean maybe we do because it is rg and

2714
02:08:04,479 --> 02:08:07,759
b

2715
02:08:06,158 --> 02:08:09,598
it might be that we could even leave it

2716
02:08:07,760 --> 02:08:11,360
and then shuffle them i don't know

2717
02:08:09,599 --> 02:08:12,800
uh i don't want to talk about that right

2718
02:08:11,359 --> 02:08:14,719
now because that's all performance stuff

2719
02:08:12,800 --> 02:08:16,480
it's a lot simpler than the bug word you

2720
02:08:14,719 --> 02:08:17,599
know it's meticulous work but it's easy

2721
02:08:16,479 --> 02:08:19,359
to do

2722
02:08:17,599 --> 02:08:21,279
so we can do that at any time it's not a

2723
02:08:19,359 --> 02:08:23,598
big deal just a little bit of elbow

2724
02:08:21,279 --> 02:08:25,599
grease so really what i'd rather focus

2725
02:08:23,599 --> 02:08:27,840
on right now is our

2726
02:08:25,599 --> 02:08:29,920
like the bug right

2727
02:08:27,840 --> 02:08:31,039
this is a definite bug

2728
02:08:29,920 --> 02:08:34,480
and

2729
02:08:31,039 --> 02:08:36,479
it's just a lack of understanding like i

2730
02:08:34,479 --> 02:08:38,879
don't actually think what we're seeing

2731
02:08:36,479 --> 02:08:41,039
is wrong based on how we've defined

2732
02:08:38,880 --> 02:08:42,960
what's happening so it's like i feel

2733
02:08:41,039 --> 02:08:44,880
like it's our actual definition that

2734
02:08:42,960 --> 02:08:48,560
needs to be changed the problem is i

2735
02:08:44,880 --> 02:08:51,679
don't quite see how you change it

2736
02:08:48,560 --> 02:08:54,960
uh and and

2737
02:08:51,679 --> 02:08:54,960
so so that

2738
02:08:59,279 --> 02:09:03,238
that is the real puzzler

2739
02:09:05,279 --> 02:09:08,559
uh maybe we go back to the light board

2740
02:09:07,039 --> 02:09:11,198
and just see if we can figure something

2741
02:09:08,560 --> 02:09:13,039
out i don't know

2742
02:09:11,198 --> 02:09:16,559
maybe i go get some more pork skins

2743
02:09:13,039 --> 02:09:20,560
fried pork skins and i and i eat those

2744
02:09:16,560 --> 02:09:20,560
and i drown my sorrows and pork skins

2745
02:09:20,639 --> 02:09:25,599
uh but like i said i mean this is really

2746
02:09:23,039 --> 02:09:27,679
just a hole in my light transport

2747
02:09:25,599 --> 02:09:29,199
knowledge uh i'm just not comfortable

2748
02:09:27,679 --> 02:09:30,800
working with light

2749
02:09:29,198 --> 02:09:34,000
uh because i've never really spent the

2750
02:09:30,800 --> 02:09:36,400
time to do it uh if i had done a lot

2751
02:09:34,000 --> 02:09:38,319
more ray tracing work in my life this

2752
02:09:36,399 --> 02:09:40,078
would not like i'm sure we could work

2753
02:09:38,319 --> 02:09:42,479
through this problem very quickly right

2754
02:09:40,078 --> 02:09:44,639
so the main problem is just my like

2755
02:09:42,479 --> 02:09:47,279
relative in familiarity with the right

2756
02:09:44,639 --> 02:09:49,118
ways to think about light values

2757
02:09:47,279 --> 02:09:50,800
so there's probably just a very simple

2758
02:09:49,118 --> 02:09:53,279
thing that we're missing

2759
02:09:50,800 --> 02:09:54,320
uh when we're doing the sampling

2760
02:09:53,279 --> 02:09:55,039
and

2761
02:09:54,319 --> 02:09:55,979
uh

2762
02:09:55,039 --> 02:09:57,279
and i just don't know

2763
02:09:55,979 --> 02:09:59,439
[Music]

2764
02:09:57,279 --> 02:10:02,078
exactly what it is mind mark the thing

2765
02:09:59,439 --> 02:10:06,000
that the normal what the what the

2766
02:10:02,078 --> 02:10:08,078
uh light probe paper was talking about

2767
02:10:06,000 --> 02:10:09,840
with respect to storing normals is that

2768
02:10:08,078 --> 02:10:11,920
if you look at what we're actually

2769
02:10:09,840 --> 02:10:15,039
storing and we don't have unfortunately

2770
02:10:11,920 --> 02:10:17,840
a very good way of visualizing it but i

2771
02:10:15,039 --> 02:10:20,078
i can i can turn on

2772
02:10:17,840 --> 02:10:20,078
in

2773
02:10:23,679 --> 02:10:27,760
debug draw

2774
02:10:26,560 --> 02:10:28,880
so

2775
02:10:27,760 --> 02:10:31,920
here

2776
02:10:28,880 --> 02:10:35,199
so if i draw the actual what we're

2777
02:10:31,920 --> 02:10:37,118
sampling the octahedral values

2778
02:10:35,198 --> 02:10:38,879
that we store at each light probe uh

2779
02:10:37,118 --> 02:10:41,039
this is just a representation a visual

2780
02:10:38,880 --> 02:10:42,880
representation of them

2781
02:10:41,039 --> 02:10:45,039
and you can see right like each one of

2782
02:10:42,880 --> 02:10:46,400
those directions it's i'm just showing

2783
02:10:45,039 --> 02:10:48,560
the light and

2784
02:10:46,399 --> 02:10:49,759
that's you know that's flowing

2785
02:10:48,560 --> 02:10:52,000
uh

2786
02:10:49,760 --> 02:10:54,000
along those lines and you can kind of

2787
02:10:52,000 --> 02:10:56,000
see that you know until the light

2788
02:10:54,000 --> 02:10:58,399
contamination problem it's it's fairly

2789
02:10:56,000 --> 02:11:00,639
sane you can see our other bug here you

2790
02:10:58,399 --> 02:11:03,279
can see why that the reason that that is

2791
02:11:00,639 --> 02:11:05,359
black there's no light flowing in there

2792
02:11:03,279 --> 02:11:08,960
uh is because we currently don't handle

2793
02:11:05,359 --> 02:11:10,399
when a light source is uh occlude uh so

2794
02:11:08,960 --> 02:11:12,319
like a light source surrounds it so

2795
02:11:10,399 --> 02:11:14,238
there's a light source right here

2796
02:11:12,319 --> 02:11:16,078
uh that's basically like enclosing it

2797
02:11:14,238 --> 02:11:17,919
right so that's the other bug but that's

2798
02:11:16,078 --> 02:11:19,439
a much simpler bug because that's more

2799
02:11:17,920 --> 02:11:21,039
just us deciding how we're gonna handle

2800
02:11:19,439 --> 02:11:22,000
that it's not like a hole in our

2801
02:11:21,039 --> 02:11:23,118
knowledge

2802
02:11:22,000 --> 02:11:24,639
right

2803
02:11:23,118 --> 02:11:25,679
let me turn off the light contamination

2804
02:11:24,639 --> 02:11:29,039
for one second so i can finish

2805
02:11:25,679 --> 02:11:30,480
explaining what i was about to explain

2806
02:11:29,039 --> 02:11:32,158
uh as well

2807
02:11:30,479 --> 02:11:33,198
so oops

2808
02:11:32,158 --> 02:11:35,519
no

2809
02:11:33,198 --> 02:11:35,519
stop

2810
02:11:36,078 --> 02:11:39,279
there we go

2811
02:11:37,359 --> 02:11:42,078
uh so if we turn this back down to a

2812
02:11:39,279 --> 02:11:44,000
non-contaminating value like 1.0

2813
02:11:42,078 --> 02:11:46,479
and then i run it again

2814
02:11:44,000 --> 02:11:48,560
and we show those values again

2815
02:11:46,479 --> 02:11:50,959
uh so what the paper

2816
02:11:48,560 --> 02:11:53,119
uh what the papers actually do

2817
02:11:50,960 --> 02:11:54,560
is in addition to each one of these

2818
02:11:53,118 --> 02:11:57,118
normals

2819
02:11:54,560 --> 02:11:58,639
they also store the

2820
02:11:57,118 --> 02:12:00,238
in that direction

2821
02:11:58,639 --> 02:12:02,159
the last hit

2822
02:12:00,238 --> 02:12:03,919
uh that they had

2823
02:12:02,158 --> 02:12:07,598
well not the last hit the average of the

2824
02:12:03,920 --> 02:12:08,960
hits they store what the normal was

2825
02:12:07,599 --> 02:12:12,400
that they hit

2826
02:12:08,960 --> 02:12:15,198
so like for example in addition to that

2827
02:12:12,399 --> 02:12:18,319
we would also store well and in fact i

2828
02:12:15,198 --> 02:12:19,839
can even sort of show you uh i don't

2829
02:12:18,319 --> 02:12:24,039
remember if we

2830
02:12:19,840 --> 02:12:24,039
left this on or not but

2831
02:12:34,960 --> 02:12:40,800
doesn't look like we did

2832
02:12:37,279 --> 02:12:40,800
because i'm not seeing it anywhere

2833
02:12:42,319 --> 02:12:47,399
so

2834
02:12:43,039 --> 02:12:47,399
maybe we turned off the debugging

2835
02:13:01,520 --> 02:13:05,199
yeah i don't normally we would see the

2836
02:13:03,599 --> 02:13:07,440
little debugger on here but i don't

2837
02:13:05,198 --> 02:13:09,519
actually see

2838
02:13:07,439 --> 02:13:10,638
i don't actually see any

2839
02:13:09,520 --> 02:13:12,719
evidence

2840
02:13:10,639 --> 02:13:14,400
of the little debug of the little raid

2841
02:13:12,719 --> 02:13:17,840
debugger

2842
02:13:14,399 --> 02:13:17,839
um why is that

2843
02:13:26,000 --> 02:13:30,479
oh you know why grid raycast debugging

2844
02:13:27,840 --> 02:13:33,360
is probably just set to zero

2845
02:13:30,479 --> 02:13:33,359
to turn that back on

2846
02:13:37,599 --> 02:13:41,930
okay

2847
02:13:39,279 --> 02:13:43,759
so in the paper i should now be able to

2848
02:13:41,930 --> 02:13:47,039
[Music]

2849
02:13:43,760 --> 02:13:47,039
show you what i was talking about

2850
02:13:48,880 --> 02:13:52,279
um

2851
02:13:49,229 --> 02:13:52,279
[Music]

2852
02:13:56,639 --> 02:14:02,480
oh that's interesting so do we

2853
02:13:59,599 --> 02:14:02,480
do we not

2854
02:14:02,560 --> 02:14:06,320
oh right because it's white noise now so

2855
02:14:04,399 --> 02:14:07,198
it's kind of just random yeah all right

2856
02:14:06,319 --> 02:14:08,719
cool

2857
02:14:07,198 --> 02:14:10,319
we would probably have to put a pause on

2858
02:14:08,719 --> 02:14:12,480
that so that we could debug it if we

2859
02:14:10,319 --> 02:14:14,158
needed to debug it further but i forgot

2860
02:14:12,479 --> 02:14:16,078
we changed to white noise so that it

2861
02:14:14,158 --> 02:14:18,238
won't be a stable array it will be kind

2862
02:14:16,078 --> 02:14:20,719
of an arbitrary direction

2863
02:14:18,238 --> 02:14:23,039
so what you can see here right is one of

2864
02:14:20,719 --> 02:14:24,960
the samples that's getting taken out of

2865
02:14:23,039 --> 02:14:27,118
this part of the octahedral map that

2866
02:14:24,960 --> 02:14:28,560
sums into if we look you know kind of

2867
02:14:27,118 --> 02:14:29,920
straight down the barrel here you can

2868
02:14:28,560 --> 02:14:31,440
see it's that

2869
02:14:29,920 --> 02:14:33,279
this there's going to be like a texel

2870
02:14:31,439 --> 02:14:34,960
there that's being represented

2871
02:14:33,279 --> 02:14:36,639
uh and these are some of the sample

2872
02:14:34,960 --> 02:14:38,719
arrays that are getting cast and it's

2873
02:14:36,639 --> 02:14:40,800
white noise so it varies per frame

2874
02:14:38,719 --> 02:14:43,920
you can see the the

2875
02:14:40,800 --> 02:14:45,599
brown the darker brown line there is the

2876
02:14:43,920 --> 02:14:47,920
normal that we hit like the surface

2877
02:14:45,599 --> 02:14:51,440
normal at the point that we hit

2878
02:14:47,920 --> 02:14:53,359
now we do use that surface normal to

2879
02:14:51,439 --> 02:14:55,839
when we compute how much light we will

2880
02:14:53,359 --> 02:14:57,279
record as coming back into the light

2881
02:14:55,840 --> 02:14:58,880
probe here

2882
02:14:57,279 --> 02:15:00,238
we do

2883
02:14:58,880 --> 02:15:03,279
actually

2884
02:15:00,238 --> 02:15:03,279
have that value

2885
02:15:04,560 --> 02:15:08,960
used in the sampling

2886
02:15:06,639 --> 02:15:09,760
but we don't remember it

2887
02:15:08,960 --> 02:15:12,158
so

2888
02:15:09,760 --> 02:15:13,760
later when somebody samples from this

2889
02:15:12,158 --> 02:15:16,799
light probe they don't have any

2890
02:15:13,760 --> 02:15:18,560
information about what the actual

2891
02:15:16,800 --> 02:15:19,679
surface normal was the direction they

2892
02:15:18,560 --> 02:15:22,560
were going

2893
02:15:19,679 --> 02:15:24,319
i think what the paper does is the paper

2894
02:15:22,560 --> 02:15:25,840
assumes that

2895
02:15:24,319 --> 02:15:26,799
when you're going to sample the light

2896
02:15:25,840 --> 02:15:30,159
probe

2897
02:15:26,800 --> 02:15:31,199
they check to see if the surface normal

2898
02:15:30,158 --> 02:15:34,078
was

2899
02:15:31,198 --> 02:15:35,279
was mutually occlusive with the sampling

2900
02:15:34,078 --> 02:15:36,399
with the surface normal that you're

2901
02:15:35,279 --> 02:15:38,158
sampling from

2902
02:15:36,399 --> 02:15:40,479
right so the direction you're sampling

2903
02:15:38,158 --> 02:15:42,879
from couldn't possibly have hit that

2904
02:15:40,479 --> 02:15:44,238
surface normal then it doesn't use it

2905
02:15:42,880 --> 02:15:46,239
right

2906
02:15:44,238 --> 02:15:49,879
um

2907
02:15:46,238 --> 02:15:49,879
that's my guess anyway

2908
02:15:51,439 --> 02:15:55,919
so they they basically store that normal

2909
02:15:53,439 --> 02:15:59,359
so they can have more accurate

2910
02:15:55,920 --> 02:16:00,319
which you know does that

2911
02:15:59,359 --> 02:16:01,279
you know

2912
02:16:00,319 --> 02:16:03,359
i don't know

2913
02:16:01,279 --> 02:16:05,439
so the other thing i would say is like

2914
02:16:03,359 --> 02:16:07,359
maybe part of our problem you know is

2915
02:16:05,439 --> 02:16:09,919
part of our problem here just that the

2916
02:16:07,359 --> 02:16:12,238
numbers in this system have to all be

2917
02:16:09,920 --> 02:16:14,399
less than one always

2918
02:16:12,238 --> 02:16:16,000
um because of some aspect of the system

2919
02:16:14,399 --> 02:16:17,439
that i don't totally understand which

2920
02:16:16,000 --> 02:16:19,439
means that actually we don't really have

2921
02:16:17,439 --> 02:16:21,279
a bug we just need to change all of our

2922
02:16:19,439 --> 02:16:23,279
light values to be lower and then the

2923
02:16:21,279 --> 02:16:25,599
tone mapping curve to be higher and then

2924
02:16:23,279 --> 02:16:27,599
we and then it's just we call it a day

2925
02:16:25,599 --> 02:16:30,880
because one thing is like why aren't

2926
02:16:27,599 --> 02:16:30,880
these lights feeding back

2927
02:16:30,960 --> 02:16:37,519
right and and i have no idea so if for

2928
02:16:34,799 --> 02:16:40,000
example and i'm just gonna

2929
02:16:37,519 --> 02:16:40,000
like let's

2930
02:16:41,519 --> 02:16:45,359
let's just go down that route slightly

2931
02:16:44,558 --> 02:16:48,398
so

2932
02:16:45,359 --> 02:16:50,719
uh let's suppose

2933
02:16:48,398 --> 02:16:50,718
um

2934
02:16:58,079 --> 02:17:04,718
let's suppose that we oops

2935
02:17:01,439 --> 02:17:07,760
um i don't actually need this to be on

2936
02:17:04,718 --> 02:17:09,839
let's suppose that we did that so

2937
02:17:07,760 --> 02:17:13,679
when we have

2938
02:17:09,840 --> 02:17:15,840
when we've have it all

2939
02:17:13,679 --> 02:17:18,398
if we were to turn off the lighting

2940
02:17:15,840 --> 02:17:18,398
entirely

2941
02:17:24,079 --> 02:17:28,478
and so now you know the glove is the

2942
02:17:26,718 --> 02:17:31,039
only light in the scene

2943
02:17:28,478 --> 02:17:32,879
and you can see it and we have our bug

2944
02:17:31,040 --> 02:17:34,639
uh where it includes the light source

2945
02:17:32,879 --> 02:17:37,279
right you can kind of see it

2946
02:17:34,638 --> 02:17:38,799
literally doing that right

2947
02:17:37,280 --> 02:17:41,519
um

2948
02:17:38,799 --> 02:17:43,518
but other than that it looks correct and

2949
02:17:41,519 --> 02:17:44,398
it doesn't do any light contamination

2950
02:17:43,519 --> 02:17:46,719
but

2951
02:17:44,398 --> 02:17:48,000
maybe we want that to be pretty bright

2952
02:17:46,718 --> 02:17:50,879
right

2953
02:17:48,000 --> 02:17:53,519
and so what we would want to have here

2954
02:17:50,879 --> 02:17:56,398
is our exposure curve would treat that

2955
02:17:53,519 --> 02:17:58,398
lighting as pretty bright lighting

2956
02:17:56,398 --> 02:18:00,318
or something

2957
02:17:58,398 --> 02:18:02,079
right i don't know i mean this is kind

2958
02:18:00,318 --> 02:18:03,760
of

2959
02:18:02,079 --> 02:18:05,599
i'm definitely winging it here so i'm

2960
02:18:03,760 --> 02:18:07,200
not trying to say anything

2961
02:18:05,599 --> 02:18:11,040
as if i know what i'm talking about when

2962
02:18:07,200 --> 02:18:12,319
it comes to this kind of stuff

2963
02:18:11,040 --> 02:18:14,639
but

2964
02:18:12,318 --> 02:18:16,879
um so let's suppose like that was

2965
02:18:14,638 --> 02:18:18,558
supposed to be pretty bright and so what

2966
02:18:16,879 --> 02:18:20,159
we want to do is we want this to be

2967
02:18:18,558 --> 02:18:21,840
mapped to a curve

2968
02:18:20,159 --> 02:18:23,519
where uh

2969
02:18:21,840 --> 02:18:23,909
you know

2970
02:18:23,519 --> 02:18:27,139
you

2971
02:18:23,909 --> 02:18:27,138
[Music]

2972
02:18:27,200 --> 02:18:33,599
you assume that this light is quite a

2973
02:18:30,718 --> 02:18:34,398
bit brighter than it is so you know it's

2974
02:18:33,599 --> 02:18:37,920
like

2975
02:18:34,398 --> 02:18:40,239
yeah yeah like one is like 10 times the

2976
02:18:37,920 --> 02:18:42,478
brightness or something

2977
02:18:40,239 --> 02:18:44,318
right like it's just way brighter

2978
02:18:42,478 --> 02:18:45,679
uh lighting

2979
02:18:44,318 --> 02:18:47,119
than before i don't know what this is

2980
02:18:45,679 --> 02:18:49,519
gonna do but i'm just

2981
02:18:47,120 --> 02:18:50,319
throwing that out there right

2982
02:18:49,519 --> 02:18:53,040
um

2983
02:18:50,318 --> 02:18:55,679
so like that is like like the the glove

2984
02:18:53,040 --> 02:18:57,439
is like a very bright light um now

2985
02:18:55,679 --> 02:18:59,200
because 1.0 is extremely light maybe

2986
02:18:57,439 --> 02:19:02,960
it's even brighter than that maybe it's

2987
02:18:59,200 --> 02:19:05,359
like it's a hundred right so like 1.0 is

2988
02:19:02,959 --> 02:19:07,199
like a super freaking bright light the

2989
02:19:05,359 --> 02:19:08,479
brightest light you've ever seen in your

2990
02:19:07,200 --> 02:19:11,120
lifetime

2991
02:19:08,478 --> 02:19:12,558
it's so bright that we can't even handle

2992
02:19:11,120 --> 02:19:14,800
how bright it is

2993
02:19:12,558 --> 02:19:18,079
right

2994
02:19:14,799 --> 02:19:21,119
well we don't get the feedback problem

2995
02:19:18,079 --> 02:19:23,039
but we get the same output

2996
02:19:21,120 --> 02:19:24,399
right you see why i'm confused about

2997
02:19:23,040 --> 02:19:26,559
this right like it doesn't make good

2998
02:19:24,398 --> 02:19:27,840
intuitive sense but you can see

2999
02:19:26,558 --> 02:19:30,239
kind of where i'm going with it all

3000
02:19:27,840 --> 02:19:32,719
right and now let's suppose we add back

3001
02:19:30,239 --> 02:19:35,119
in our standard lighting

3002
02:19:32,718 --> 02:19:37,839
which is now going to be way too bright

3003
02:19:35,120 --> 02:19:41,280
uh for us

3004
02:19:37,840 --> 02:19:41,280
we don't want it to be so bright

3005
02:19:42,879 --> 02:19:47,679
uh so we're gonna have to bring those

3006
02:19:44,718 --> 02:19:49,438
lamp lights down quite a bit they're at

3007
02:19:47,679 --> 02:19:52,639
10

3008
02:19:49,439 --> 02:19:54,398
which is much too high right uh you know

3009
02:19:52,639 --> 02:19:56,559
so so i don't know what they should be

3010
02:19:54,398 --> 02:19:59,559
like let's say 0.1 or something i'm not

3011
02:19:56,559 --> 02:19:59,559
sure

3012
02:20:04,398 --> 02:20:07,119
something like this

3013
02:20:06,239 --> 02:20:09,359
um

3014
02:20:07,120 --> 02:20:11,120
we now get the same effect like you can

3015
02:20:09,359 --> 02:20:13,680
see why i'm confused right we get the

3016
02:20:11,120 --> 02:20:14,720
same effect that we wanted a very bright

3017
02:20:13,680 --> 02:20:16,239
glove

3018
02:20:14,719 --> 02:20:18,639
so bright that it's brighter than we

3019
02:20:16,239 --> 02:20:20,879
even would want right and i can remove

3020
02:20:18,639 --> 02:20:20,879
those

3021
02:20:29,120 --> 02:20:34,880
where the heck is my debug draw

3022
02:20:31,200 --> 02:20:34,880
octahedral uh there we go

3023
02:20:36,639 --> 02:20:39,680
um it's so bright that we probably

3024
02:20:38,239 --> 02:20:41,600
wouldn't even want it to be that bright

3025
02:20:39,680 --> 02:20:44,398
until we actually have some kind of a

3026
02:20:41,600 --> 02:20:46,880
tone mapping going on right um

3027
02:20:44,398 --> 02:20:48,478
but we have the exact same thing we had

3028
02:20:46,879 --> 02:20:50,159
before but now we don't get light

3029
02:20:48,478 --> 02:20:52,000
contamination

3030
02:20:50,159 --> 02:20:55,840
like it's massively bright right there

3031
02:20:52,000 --> 02:20:55,840
but it simply doesn't cause that problem

3032
02:20:56,840 --> 02:21:02,719
right so

3033
02:20:59,760 --> 02:21:04,559
something about

3034
02:21:02,719 --> 02:21:07,119
something about the fact that the

3035
02:21:04,559 --> 02:21:08,159
numbers have to be zero to one

3036
02:21:07,120 --> 02:21:09,439
is like

3037
02:21:08,159 --> 02:21:12,680
in

3038
02:21:09,439 --> 02:21:12,680
is like

3039
02:21:16,799 --> 02:21:20,639
there's something fundamental about the

3040
02:21:18,799 --> 02:21:23,279
fact that the numbers have to be zero to

3041
02:21:20,639 --> 02:21:24,398
one that we don't freaking understand

3042
02:21:23,280 --> 02:21:25,359
right

3043
02:21:24,398 --> 02:21:27,199
and

3044
02:21:25,359 --> 02:21:28,880
so

3045
02:21:27,200 --> 02:21:30,079
and and i mean the good news is that

3046
02:21:28,879 --> 02:21:32,079
means

3047
02:21:30,079 --> 02:21:34,239
we don't really have a bug

3048
02:21:32,079 --> 02:21:37,879
in the code but the bad news is it means

3049
02:21:34,239 --> 02:21:37,879
we have a bug in our brain

3050
02:21:44,559 --> 02:21:46,799
right

3051
02:21:47,200 --> 02:21:52,240
uh the bug is in the brain the bug is

3052
02:21:49,680 --> 02:21:54,639
coming from inside the brain

3053
02:21:52,239 --> 02:21:55,439
uh but

3054
02:21:54,639 --> 02:21:57,519
so

3055
02:21:55,439 --> 02:21:58,800
so yeah i mean we're kind of fine at

3056
02:21:57,520 --> 02:22:01,200
that point

3057
02:21:58,799 --> 02:22:04,000
uh no worries i mean the glove is now

3058
02:22:01,200 --> 02:22:06,000
too bright so we would want to tone the

3059
02:22:04,000 --> 02:22:08,318
glove down as well

3060
02:22:06,000 --> 02:22:10,559
uh obviously but you can see what i mean

3061
02:22:08,318 --> 02:22:12,239
like there's there's just a fundamental

3062
02:22:10,559 --> 02:22:14,478
thing about keeping the values between

3063
02:22:12,239 --> 02:22:16,719
zero and one for lighting

3064
02:22:14,478 --> 02:22:19,039
i obviously just don't understand that

3065
02:22:16,719 --> 02:22:20,559
like like i obviously wasn't

3066
02:22:19,040 --> 02:22:23,600
i wasn't thinking there would be a

3067
02:22:20,559 --> 02:22:25,920
difference between those things

3068
02:22:23,600 --> 02:22:28,318
but there's definitely a difference

3069
02:22:25,920 --> 02:22:29,200
between those two things

3070
02:22:28,318 --> 02:22:31,920
so

3071
02:22:29,200 --> 02:22:34,000
i'm very confused right i just i just

3072
02:22:31,920 --> 02:22:35,680
don't quite understand why

3073
02:22:34,000 --> 02:22:37,680
and so something like this basically

3074
02:22:35,680 --> 02:22:39,920
looks correct right like this looks like

3075
02:22:37,680 --> 02:22:42,159
a game that you would play and you would

3076
02:22:39,920 --> 02:22:44,239
buy on steam or whatever

3077
02:22:42,159 --> 02:22:46,079
um and we didn't change anything we just

3078
02:22:44,239 --> 02:22:47,760
remapped our values to be in the zero to

3079
02:22:46,079 --> 02:22:49,920
one range and applied boosting after the

3080
02:22:47,760 --> 02:22:51,439
fact now of course we have to reduce the

3081
02:22:49,920 --> 02:22:54,000
exterior lights as well i suppose i

3082
02:22:51,439 --> 02:22:56,960
should have done that

3083
02:22:54,000 --> 02:22:58,079
as well because we have like a moon

3084
02:22:56,959 --> 02:23:00,398
thing

3085
02:22:58,079 --> 02:23:00,398
um

3086
02:23:01,359 --> 02:23:05,120
that we like add

3087
02:23:03,280 --> 02:23:05,470
we generate the apron there's like a

3088
02:23:05,120 --> 02:23:06,880
moon

3089
02:23:05,469 --> 02:23:09,199
[Music]

3090
02:23:06,879 --> 02:23:12,079
light thing

3091
02:23:09,200 --> 02:23:14,720
uh here

3092
02:23:12,079 --> 02:23:16,959
that we did and that's like gonna be way

3093
02:23:14,719 --> 02:23:20,000
too bright now so i don't know

3094
02:23:16,959 --> 02:23:20,500
what that should be like 0.025 or

3095
02:23:20,000 --> 02:23:22,159
something

3096
02:23:20,500 --> 02:23:23,840
[Music]

3097
02:23:22,159 --> 02:23:26,318
i guess

3098
02:23:23,840 --> 02:23:26,318
i don't know

3099
02:23:26,799 --> 02:23:33,840
um still actually quite bright so i mean

3100
02:23:30,318 --> 02:23:35,590
maybe just 0.01

3101
02:23:33,840 --> 02:23:38,799
for exterior

3102
02:23:35,590 --> 02:23:38,799
[Music]

3103
02:23:39,600 --> 02:23:44,399
um and you know that's

3104
02:23:41,760 --> 02:23:46,000
maybe about right but it's really it

3105
02:23:44,398 --> 02:23:48,639
really should be pretty dim out there

3106
02:23:46,000 --> 02:23:50,879
because there's you know i don't know

3107
02:23:48,639 --> 02:23:52,639
uh but that's the moonlight outside that

3108
02:23:50,879 --> 02:23:55,839
we were adding um which is supposed to

3109
02:23:52,639 --> 02:23:57,920
be quite dim right as you can see

3110
02:23:55,840 --> 02:24:01,639
uh and that's fine

3111
02:23:57,920 --> 02:24:01,639
but uh

3112
02:24:02,398 --> 02:24:07,119
yeah i mean we just totally got the

3113
02:24:04,318 --> 02:24:08,559
effect we wanted

3114
02:24:07,120 --> 02:24:10,720
and and literally all we did was like

3115
02:24:08,559 --> 02:24:11,920
renormalize the values so all right so

3116
02:24:10,719 --> 02:24:13,438
there's something broken in our brain

3117
02:24:11,920 --> 02:24:14,398
there we should probably figure out what

3118
02:24:13,439 --> 02:24:15,520
it is

3119
02:24:14,398 --> 02:24:18,318
also

3120
02:24:15,520 --> 02:24:21,040
our square like light problem got a lot

3121
02:24:18,318 --> 02:24:23,439
better as well uh as part of that so

3122
02:24:21,040 --> 02:24:25,520
obviously like you know tone mapping

3123
02:24:23,439 --> 02:24:27,359
needs to be high on the list of things

3124
02:24:25,520 --> 02:24:29,520
we're going to do here

3125
02:24:27,359 --> 02:24:31,040
um

3126
02:24:29,520 --> 02:24:32,560
because getting that right does seem

3127
02:24:31,040 --> 02:24:33,680
like it's probably something we want to

3128
02:24:32,559 --> 02:24:34,879
do

3129
02:24:33,680 --> 02:24:37,120
but

3130
02:24:34,879 --> 02:24:38,719
uh either or

3131
02:24:37,120 --> 02:24:40,479
or or

3132
02:24:38,719 --> 02:24:43,840
um

3133
02:24:40,478 --> 02:24:43,840
yeah whatever

3134
02:24:44,318 --> 02:24:47,119
let's let that one

3135
02:24:45,760 --> 02:24:49,680
sit for a little bit i don't know what

3136
02:24:47,120 --> 02:24:51,680
time it is right now

3137
02:24:49,680 --> 02:24:53,920
it's two o'clock

3138
02:24:51,680 --> 02:24:53,920
um

3139
02:24:55,040 --> 02:24:58,640
yeah

3140
02:24:57,040 --> 02:25:01,920
gorgeous light that we don't understand

3141
02:24:58,639 --> 02:25:04,639
is a very way good way to describe it um

3142
02:25:01,920 --> 02:25:06,799
to be fair we understand a lot of it

3143
02:25:04,639 --> 02:25:09,279
there's just some

3144
02:25:06,799 --> 02:25:12,959
there's some

3145
02:25:09,280 --> 02:25:12,960
so let me phrase it this way

3146
02:25:14,639 --> 02:25:20,799
one of the values in our system

3147
02:25:18,159 --> 02:25:22,079
is clearly

3148
02:25:20,799 --> 02:25:24,000
clearly

3149
02:25:22,079 --> 02:25:26,398
either the lighting or something closely

3150
02:25:24,000 --> 02:25:27,359
related to the lighting is bait is a is

3151
02:25:26,398 --> 02:25:29,358
a

3152
02:25:27,359 --> 02:25:31,439
i'm i'm just going to say

3153
02:25:29,359 --> 02:25:35,040
the problem is that some portion of the

3154
02:25:31,439 --> 02:25:37,359
system is is inherently working as a

3155
02:25:35,040 --> 02:25:40,720
percentage

3156
02:25:37,359 --> 02:25:42,720
that we did not anticipate to be working

3157
02:25:40,719 --> 02:25:43,760
as a percentage

3158
02:25:42,719 --> 02:25:46,879
right

3159
02:25:43,760 --> 02:25:48,000
we've got a unitless value in our system

3160
02:25:46,879 --> 02:25:50,719
somewhere

3161
02:25:48,000 --> 02:25:53,359
that we didn't think was a percentage

3162
02:25:50,719 --> 02:25:55,438
but has to be a percentage and if that

3163
02:25:53,359 --> 02:25:56,800
percentage is 110

3164
02:25:55,439 --> 02:25:58,398
percent

3165
02:25:56,799 --> 02:26:01,679
then it just grows over time and if that

3166
02:25:58,398 --> 02:26:04,398
value is 90 it does not right

3167
02:26:01,680 --> 02:26:06,239
um so we we fundamentally have a a

3168
02:26:04,398 --> 02:26:08,079
unitless value in our system somewhere

3169
02:26:06,239 --> 02:26:10,079
that's screwed up

3170
02:26:08,079 --> 02:26:10,959
right

3171
02:26:10,079 --> 02:26:12,639
okay

3172
02:26:10,959 --> 02:26:15,119
uh but we still have another problem the

3173
02:26:12,639 --> 02:26:16,318
darkening uh we know what that is and we

3174
02:26:15,120 --> 02:26:17,600
have to kind of think about what we're

3175
02:26:16,318 --> 02:26:19,119
going to do to solve that problem

3176
02:26:17,600 --> 02:26:20,800
there's a number of ways we can solve

3177
02:26:19,120 --> 02:26:22,560
that problem we know exactly where it is

3178
02:26:20,799 --> 02:26:25,119
and what it comes from

3179
02:26:22,559 --> 02:26:28,639
there's a way we can mute that problem

3180
02:26:25,120 --> 02:26:30,720
like make that problem be less bad but

3181
02:26:28,639 --> 02:26:33,279
we want to actually fix it so where does

3182
02:26:30,719 --> 02:26:34,398
that come from let's turn on the debug

3183
02:26:33,280 --> 02:26:36,479
drawing again

3184
02:26:34,398 --> 02:26:38,079
i explained it before but let's explain

3185
02:26:36,478 --> 02:26:39,920
it again because we weren't working on

3186
02:26:38,079 --> 02:26:42,079
it before and and now we are

3187
02:26:39,920 --> 02:26:42,960
so if i debug draw the octahedral values

3188
02:26:42,079 --> 02:26:44,639
again

3189
02:26:42,959 --> 02:26:48,079
so you can actually see where all the

3190
02:26:44,639 --> 02:26:49,680
lighting is you know

3191
02:26:48,079 --> 02:26:51,760
and i take it one step further and i

3192
02:26:49,680 --> 02:26:54,318
draw the spatial grid as well

3193
02:26:51,760 --> 02:26:55,760
so if i go into debug draw spatial grid

3194
02:26:54,318 --> 02:26:57,920
uh there's just going to be a lot of

3195
02:26:55,760 --> 02:27:00,159
visual noise here i apologize for that

3196
02:26:57,920 --> 02:27:04,960
we don't have that greater debug vis in

3197
02:27:00,159 --> 02:27:04,959
the lighting system so um you know

3198
02:27:06,799 --> 02:27:10,799
if we if we take a look at this

3199
02:27:09,200 --> 02:27:12,800
uh what you can see is like there's a

3200
02:27:10,799 --> 02:27:14,478
big kind of fat light that we just added

3201
02:27:12,799 --> 02:27:16,239
here you know we haven't done much work

3202
02:27:14,478 --> 02:27:17,358
on world generations so we just threw in

3203
02:27:16,239 --> 02:27:19,280
a light

3204
02:27:17,359 --> 02:27:21,760
and the problem is that light that you

3205
02:27:19,280 --> 02:27:23,920
can sort of see here it's it's this you

3206
02:27:21,760 --> 02:27:25,359
know this um

3207
02:27:23,920 --> 02:27:27,120
interior set like these are ceiling

3208
02:27:25,359 --> 02:27:28,559
tiles here right which we don't draw

3209
02:27:27,120 --> 02:27:29,840
because we want to be able to just see

3210
02:27:28,559 --> 02:27:31,680
through them

3211
02:27:29,840 --> 02:27:33,920
so these are ceiling tiles

3212
02:27:31,680 --> 02:27:35,680
and then here this is the light source

3213
02:27:33,920 --> 02:27:36,879
right that right there is the light

3214
02:27:35,680 --> 02:27:38,639
source

3215
02:27:36,879 --> 02:27:41,759
um and you know what i could do too i

3216
02:27:38,639 --> 02:27:42,719
could uh try doing a thing where i draw

3217
02:27:41,760 --> 02:27:45,280
those

3218
02:27:42,719 --> 02:27:46,239
have you ever tried this debug

3219
02:27:45,280 --> 02:27:47,920
dross

3220
02:27:46,239 --> 02:27:51,119
spatial grid have you tried just like

3221
02:27:47,920 --> 02:27:52,478
using the color of the actual leaf node

3222
02:27:51,120 --> 02:27:54,720
um because

3223
02:27:52,478 --> 02:27:54,719
uh

3224
02:27:56,799 --> 02:28:00,000
we must have to store that because we

3225
02:27:58,559 --> 02:28:03,199
use it right

3226
02:28:00,000 --> 02:28:04,398
um so you know ref color here

3227
02:28:03,200 --> 02:28:07,200
uh that

3228
02:28:04,398 --> 02:28:10,398
you know that is what that is

3229
02:28:07,200 --> 02:28:12,800
and our is emission uh value we could

3230
02:28:10,398 --> 02:28:14,239
you know we could sort of put those two

3231
02:28:12,799 --> 02:28:17,039
together

3232
02:28:14,239 --> 02:28:20,559
uh and and try to make this actually

3233
02:28:17,040 --> 02:28:23,359
show more of what the actual system is

3234
02:28:20,559 --> 02:28:27,199
so i could do something like instead of

3235
02:28:23,359 --> 02:28:29,120
this being a checkerboard here

3236
02:28:27,200 --> 02:28:32,159
i could put a thing in here where we set

3237
02:28:29,120 --> 02:28:33,600
the color based on that so you know get

3238
02:28:32,159 --> 02:28:37,359
component

3239
02:28:33,600 --> 02:28:39,200
uh of this leaf ref color and we take e

3240
02:28:37,359 --> 02:28:42,159
out of that

3241
02:28:39,200 --> 02:28:45,439
that gives us uh the color value to draw

3242
02:28:42,159 --> 02:28:46,799
and we would need to use the emission

3243
02:28:45,439 --> 02:28:49,200
as well

3244
02:28:46,799 --> 02:28:52,199
but what's your complaint operator type

3245
02:28:49,200 --> 02:28:52,200
of

3246
02:28:54,159 --> 02:28:57,159
really

3247
02:28:57,520 --> 02:29:03,200
because that's a v4 that's why

3248
02:29:00,559 --> 02:29:03,199
can we do this

3249
02:29:03,760 --> 02:29:09,040
i think we added that

3250
02:29:05,600 --> 02:29:12,079
yep we did add that um

3251
02:29:09,040 --> 02:29:13,439
so if i draw the colors of things you

3252
02:29:12,079 --> 02:29:14,799
might be able to see them a little bit

3253
02:29:13,439 --> 02:29:16,720
better i don't know if you actually will

3254
02:29:14,799 --> 02:29:18,959
or not so let's try to make this work i

3255
02:29:16,719 --> 02:29:21,039
don't know why those are all white

3256
02:29:18,959 --> 02:29:23,839
though that doesn't seem right

3257
02:29:21,040 --> 02:29:23,840
um

3258
02:29:24,000 --> 02:29:27,600
well i guess they would kind of all be

3259
02:29:25,760 --> 02:29:29,439
white

3260
02:29:27,600 --> 02:29:31,520
that's sort of true i need to account

3261
02:29:29,439 --> 02:29:35,960
for the emission here

3262
02:29:31,520 --> 02:29:35,960
so if i account for the emission

3263
02:29:39,680 --> 02:29:44,159
uh let's give that a shot

3264
02:29:41,840 --> 02:29:44,159
um

3265
02:29:44,639 --> 02:29:48,879
that would show us where our light

3266
02:29:45,840 --> 02:29:50,799
sources are pretty cleanly i think

3267
02:29:48,879 --> 02:29:52,398
um

3268
02:29:50,799 --> 02:29:54,478
we don't have a get component for one of

3269
02:29:52,398 --> 02:29:56,719
these oh you know why because you can

3270
02:29:54,478 --> 02:30:00,000
literally just type

3271
02:29:56,719 --> 02:30:00,000
that probably

3272
02:30:03,600 --> 02:30:08,079
yeah

3273
02:30:04,959 --> 02:30:11,599
um so here you can see reflectors versus

3274
02:30:08,079 --> 02:30:14,000
light sources so black is reflectors

3275
02:30:11,600 --> 02:30:15,840
white is light sources

3276
02:30:14,000 --> 02:30:18,559
or rather the light sources are colored

3277
02:30:15,840 --> 02:30:20,318
based on what light they emit so you

3278
02:30:18,559 --> 02:30:21,840
know cyan because it's a cyan light

3279
02:30:20,318 --> 02:30:23,519
source white because it's a white light

3280
02:30:21,840 --> 02:30:27,359
source

3281
02:30:23,520 --> 02:30:31,920
uh so in the world what happens is if a

3282
02:30:27,359 --> 02:30:35,280
sample point starts out inside um of

3283
02:30:31,920 --> 02:30:37,439
anything like geometry whether that

3284
02:30:35,280 --> 02:30:39,520
geometry is a light source or not it

3285
02:30:37,439 --> 02:30:40,639
doesn't take any samples

3286
02:30:39,520 --> 02:30:41,439
right

3287
02:30:40,639 --> 02:30:43,599
and

3288
02:30:41,439 --> 02:30:45,120
instead what should probably happen is

3289
02:30:43,600 --> 02:30:47,280
it should just

3290
02:30:45,120 --> 02:30:50,240
that sample should not bother casting

3291
02:30:47,280 --> 02:30:50,239
array it should just write

3292
02:30:52,879 --> 02:30:57,279
the value back

3293
02:30:55,439 --> 02:30:59,520
right

3294
02:30:57,280 --> 02:31:01,520
and so

3295
02:30:59,520 --> 02:31:03,200
it's a really tough call i don't know

3296
02:31:01,520 --> 02:31:04,960
what we want to do here there's a lot of

3297
02:31:03,200 --> 02:31:06,399
ways we could tackle this problem and

3298
02:31:04,959 --> 02:31:07,599
i'm just not sure

3299
02:31:06,398 --> 02:31:10,559
which one

3300
02:31:07,600 --> 02:31:13,680
makes the most sense for us

3301
02:31:10,559 --> 02:31:15,760
currently the reason that we just stop

3302
02:31:13,680 --> 02:31:18,159
is because we do a pre-check to see

3303
02:31:15,760 --> 02:31:19,120
whether or not we're inside anything

3304
02:31:18,159 --> 02:31:22,318
right

3305
02:31:19,120 --> 02:31:22,319
so in here

3306
02:31:24,959 --> 02:31:28,679
once we go to

3307
02:31:33,359 --> 02:31:38,800
the full cast this code right here does

3308
02:31:36,239 --> 02:31:40,799
a pre-check on every place we're going

3309
02:31:38,799 --> 02:31:43,519
to cast from and the first thing that it

3310
02:31:40,799 --> 02:31:46,799
does is it says well if you're or if

3311
02:31:43,520 --> 02:31:48,000
you're entirely inside

3312
02:31:46,799 --> 02:31:50,879
one of

3313
02:31:48,000 --> 02:31:55,040
uh the piece of geometry

3314
02:31:50,879 --> 02:31:56,398
right now what we do is we just spam

3315
02:31:55,040 --> 02:31:58,160
black

3316
02:31:56,398 --> 02:31:59,599
into there

3317
02:31:58,159 --> 02:32:02,478
right

3318
02:31:59,600 --> 02:32:04,880
and we could do all sorts of things we

3319
02:32:02,478 --> 02:32:07,599
could do nothing right like we could

3320
02:32:04,879 --> 02:32:09,759
literally just leave it alone

3321
02:32:07,600 --> 02:32:13,600
um and that would avoid the flicker

3322
02:32:09,760 --> 02:32:13,600
problem so like if we just left it alone

3323
02:32:13,680 --> 02:32:17,359
uh that would mean that for example we

3324
02:32:15,600 --> 02:32:19,760
don't get the darkening as the glove

3325
02:32:17,359 --> 02:32:21,600
moves around right so that would quote

3326
02:32:19,760 --> 02:32:23,040
unquote solve

3327
02:32:21,600 --> 02:32:24,880
that uh

3328
02:32:23,040 --> 02:32:27,439
that part of the problem

3329
02:32:24,879 --> 02:32:28,959
but you'll notice we do

3330
02:32:27,439 --> 02:32:31,120
have sort of

3331
02:32:28,959 --> 02:32:32,159
we still do have a bug with the lighting

3332
02:32:31,120 --> 02:32:34,200
right

3333
02:32:32,159 --> 02:32:37,439
which is that we get

3334
02:32:34,200 --> 02:32:40,800
contributions from the glove when it is

3335
02:32:37,439 --> 02:32:43,359
like cleanly in between two of these but

3336
02:32:40,799 --> 02:32:46,559
as it like occludes them we don't get

3337
02:32:43,359 --> 02:32:48,479
much right so we we lose light that

3338
02:32:46,559 --> 02:32:50,959
should be showing up reflecting on the

3339
02:32:48,478 --> 02:32:52,959
floor is not going to be

3340
02:32:50,959 --> 02:32:56,959
so it feels like what we'd want to do

3341
02:32:52,959 --> 02:32:59,919
here is we'd want to actually you know

3342
02:32:56,959 --> 02:33:02,799
uh treat those samples more properly

3343
02:32:59,920 --> 02:33:05,040
now the slow way we the slowest way to

3344
02:33:02,799 --> 02:33:07,279
do this would be to actually run this

3345
02:33:05,040 --> 02:33:09,280
check on every

3346
02:33:07,280 --> 02:33:10,640
sample that we take

3347
02:33:09,280 --> 02:33:14,399
and

3348
02:33:10,639 --> 02:33:14,398
jitter the sample location

3349
02:33:14,799 --> 02:33:18,840
out to

3350
02:33:16,559 --> 02:33:22,639
the radius of the

3351
02:33:18,840 --> 02:33:25,680
voxel so we would just sample randomly

3352
02:33:22,639 --> 02:33:28,799
in the voxel and raycast randomly in the

3353
02:33:25,680 --> 02:33:28,800
voxel right

3354
02:33:29,040 --> 02:33:32,720
and we would

3355
02:33:30,639 --> 02:33:35,119
sum up the number of these that were

3356
02:33:32,719 --> 02:33:38,079
inside we would add that much light to

3357
02:33:35,120 --> 02:33:39,359
the actual outgoing spectacles

3358
02:33:38,079 --> 02:33:40,959
at that point

3359
02:33:39,359 --> 02:33:43,960
right

3360
02:33:40,959 --> 02:33:43,959
um

3361
02:34:08,879 --> 02:34:13,199
and i i just kind of feel like that's

3362
02:34:10,959 --> 02:34:16,358
going to be too noisy or too slow i

3363
02:34:13,200 --> 02:34:16,359
don't know

3364
02:34:19,680 --> 02:34:23,680
but i don't see a lot of ways around

3365
02:34:21,120 --> 02:34:26,880
that because as lights

3366
02:34:23,680 --> 02:34:26,880
move over

3367
02:34:26,959 --> 02:34:31,839
we we need that to be reflected

3368
02:34:44,318 --> 02:34:47,680
so i don't know that there's a lot of

3369
02:34:45,600 --> 02:34:49,680
ways around that i mean we could do

3370
02:34:47,680 --> 02:34:51,040
something where we add light into the

3371
02:34:49,680 --> 02:34:54,479
system here

3372
02:34:51,040 --> 02:34:54,479
with the forward pass

3373
02:34:54,799 --> 02:34:59,840
and that might be better actually

3374
02:35:18,478 --> 02:35:22,879
so let's ask a separate question so

3375
02:35:20,478 --> 02:35:26,478
what's let's suppose what happens if we

3376
02:35:22,879 --> 02:35:29,519
just turn this entire branch off so now

3377
02:35:26,478 --> 02:35:31,438
we let the things cast from inside

3378
02:35:29,520 --> 02:35:34,399
what does our caster do when you're

3379
02:35:31,439 --> 02:35:37,639
casting from inside

3380
02:35:34,398 --> 02:35:37,639
what happens

3381
02:35:40,079 --> 02:35:42,879
does it just hit the thing and that's

3382
02:35:41,760 --> 02:35:45,680
fine

3383
02:35:42,879 --> 02:35:48,000
because if so it's kind of cheese

3384
02:35:45,680 --> 02:35:50,479
but if that's cheese if that's the

3385
02:35:48,000 --> 02:35:52,159
cheese that we have in our lives like

3386
02:35:50,478 --> 02:35:53,760
what happens if i try to can i i don't

3387
02:35:52,159 --> 02:35:56,079
know i might not be able to really get

3388
02:35:53,760 --> 02:35:57,920
this positioned

3389
02:35:56,079 --> 02:36:02,000
in a way that

3390
02:35:57,920 --> 02:36:05,120
it quite occludes exactly

3391
02:36:02,000 --> 02:36:06,879
um but you know these light sources all

3392
02:36:05,120 --> 02:36:10,240
seem just fine

3393
02:36:06,879 --> 02:36:12,478
right um it's not correct because

3394
02:36:10,239 --> 02:36:14,318
they're casting out and actually having

3395
02:36:12,478 --> 02:36:16,799
to hit the thing

3396
02:36:14,318 --> 02:36:18,959
but maybe for like the purposes of real

3397
02:36:16,799 --> 02:36:20,799
time where we don't really want to add

3398
02:36:18,959 --> 02:36:24,239
more work

3399
02:36:20,799 --> 02:36:24,239
maybe that's just fine

3400
02:36:25,359 --> 02:36:30,239
like maybe we just cheese that out

3401
02:36:28,239 --> 02:36:33,439
and we just say look it's cheese time in

3402
02:36:30,239 --> 02:36:37,760
the cheese corral and everyone should

3403
02:36:33,439 --> 02:36:38,720
unbox the government cheese you know

3404
02:36:37,760 --> 02:36:41,040
so

3405
02:36:38,719 --> 02:36:43,679
i'm willing to do that for now

3406
02:36:41,040 --> 02:36:48,000
i would document this for sure

3407
02:36:43,680 --> 02:36:49,680
because you know it's totally wrong

3408
02:36:48,000 --> 02:36:51,600
but i just don't want to slow things

3409
02:36:49,680 --> 02:36:52,720
down too much because

3410
02:36:51,600 --> 02:36:56,479
uh

3411
02:36:52,719 --> 02:36:56,478
yeah i mean i i think that's

3412
02:36:59,200 --> 02:37:02,880
i think it could be very costly to do

3413
02:37:01,120 --> 02:37:05,439
something better there and so if we can

3414
02:37:02,879 --> 02:37:08,478
do something wrong but that works okay i

3415
02:37:05,439 --> 02:37:11,960
think that's probably fine

3416
02:37:08,478 --> 02:37:11,959
i'm just going to say

3417
02:37:25,520 --> 02:37:30,399
although yeah wait uh now i think about

3418
02:37:27,920 --> 02:37:32,239
though that's not quite true because you

3419
02:37:30,398 --> 02:37:34,318
know what else will happen we'll get

3420
02:37:32,239 --> 02:37:36,318
light leaking through walls

3421
02:37:34,318 --> 02:37:37,519
right in fact we probably already had

3422
02:37:36,318 --> 02:37:40,318
that happen we just didn't notice

3423
02:37:37,520 --> 02:37:43,359
because i wasn't paying attention to it

3424
02:37:40,318 --> 02:37:45,600
right so you see how like now the walls

3425
02:37:43,359 --> 02:37:47,200
are all like kind of lit uniformly the

3426
02:37:45,600 --> 02:37:49,040
reason for that is that in there they're

3427
02:37:47,200 --> 02:37:51,120
not they're actually able to collect

3428
02:37:49,040 --> 02:37:52,160
light

3429
02:37:51,120 --> 02:37:56,479
um

3430
02:37:52,159 --> 02:37:58,079
i would however ask why because we

3431
02:37:56,478 --> 02:38:01,559
i thought

3432
02:37:58,079 --> 02:38:01,559
were sort of

3433
02:38:02,079 --> 02:38:07,280
i thought we were saying that you

3434
02:38:03,760 --> 02:38:07,280
couldn't collect from a normal

3435
02:38:08,639 --> 02:38:14,119
that couldn't have reflected back to you

3436
02:38:14,239 --> 02:38:19,439
so actually that may mean that we're

3437
02:38:16,159 --> 02:38:19,439
missing a normal

3438
02:38:27,120 --> 02:38:31,439
ah no you know what probably we just

3439
02:38:29,280 --> 02:38:32,720
don't we just don't test against back

3440
02:38:31,439 --> 02:38:34,318
faces

3441
02:38:32,719 --> 02:38:35,438
so it probably just can soar out through

3442
02:38:34,318 --> 02:38:37,199
there okay

3443
02:38:35,439 --> 02:38:40,159
so yeah

3444
02:38:37,200 --> 02:38:42,399
we would at the very least have to check

3445
02:38:40,159 --> 02:38:43,760
to see whether the thing is an emitter

3446
02:38:42,398 --> 02:38:45,199
or not

3447
02:38:43,760 --> 02:38:48,239
right

3448
02:38:45,200 --> 02:38:50,240
we could let you do emitter casting and

3449
02:38:48,239 --> 02:38:52,959
force you not to do other kinds of

3450
02:38:50,239 --> 02:38:54,879
casting so let's see

3451
02:38:52,959 --> 02:38:57,039
what we think of that

3452
02:38:54,879 --> 02:38:58,879
again still cheese just trying a

3453
02:38:57,040 --> 02:39:00,960
different type of cheese

3454
02:38:58,879 --> 02:39:02,000
more like

3455
02:39:00,959 --> 02:39:04,398
um

3456
02:39:02,000 --> 02:39:08,239
maybe like a barnyard cheddar

3457
02:39:04,398 --> 02:39:11,439
as opposed to something like you know

3458
02:39:08,239 --> 02:39:12,239
a danish havarti or something like that

3459
02:39:11,439 --> 02:39:14,000
so

3460
02:39:12,239 --> 02:39:16,079
let's take a look at what we would do if

3461
02:39:14,000 --> 02:39:18,318
we were doing this inside mask here

3462
02:39:16,079 --> 02:39:21,280
where we did inbounds everywhere if we

3463
02:39:18,318 --> 02:39:23,359
basically said you can't do

3464
02:39:21,280 --> 02:39:25,520
um

3465
02:39:23,359 --> 02:39:26,960
occluders we would have i'm sorry you

3466
02:39:25,520 --> 02:39:29,359
can't do emitters

3467
02:39:26,959 --> 02:39:30,879
uh we could do is emitter equals leaf is

3468
02:39:29,359 --> 02:39:32,559
emission right

3469
02:39:30,879 --> 02:39:36,239
um

3470
02:39:32,559 --> 02:39:39,239
uh and then we would say uh that

3471
02:39:36,239 --> 02:39:39,239
value

3472
02:39:39,520 --> 02:39:42,960
if it's greater than zero

3473
02:39:43,040 --> 02:39:46,399
uh

3474
02:39:44,959 --> 02:39:48,478
yeah

3475
02:39:46,398 --> 02:39:50,318
we would say

3476
02:39:48,478 --> 02:39:56,318
and

3477
02:39:50,318 --> 02:39:56,318
not emitter we would say something like

3478
02:39:57,280 --> 02:40:03,280
not emitter equals

3479
02:39:59,680 --> 02:40:04,639
is emitter greater than zero

3480
02:40:03,280 --> 02:40:08,239
right

3481
02:40:04,639 --> 02:40:10,398
um and knotted which we may have an

3482
02:40:08,239 --> 02:40:13,359
operator for

3483
02:40:10,398 --> 02:40:13,769
i don't actually know

3484
02:40:13,359 --> 02:40:15,520
um

3485
02:40:13,770 --> 02:40:18,000
[Music]

3486
02:40:15,520 --> 02:40:21,600
that is not

3487
02:40:18,000 --> 02:40:23,840
the right variable declaration

3488
02:40:21,600 --> 02:40:25,359
uh

3489
02:40:23,840 --> 02:40:28,398
i might as well call this by the same

3490
02:40:25,359 --> 02:40:28,399
name as it was

3491
02:40:28,959 --> 02:40:34,639
so we don't have mr noddington

3492
02:40:33,040 --> 02:40:37,359
there unfortunately

3493
02:40:34,639 --> 02:40:37,358
uh which

3494
02:40:38,079 --> 02:40:40,799
is a bummer

3495
02:40:40,959 --> 02:40:45,599
let's find out why whose idea was it to

3496
02:40:43,920 --> 02:40:49,079
not have that or did we just call it

3497
02:40:45,600 --> 02:40:49,079
something else

3498
02:40:59,279 --> 02:41:03,040
like we obviously had an and operator

3499
02:41:01,600 --> 02:41:05,200
like you can see we've got all the rest

3500
02:41:03,040 --> 02:41:07,920
of them did we just cheese out and not

3501
02:41:05,200 --> 02:41:07,920
ever put in

3502
02:41:08,239 --> 02:41:12,000
oh you know why because it's not really

3503
02:41:10,079 --> 02:41:14,639
not like we're gonna be doing the entire

3504
02:41:12,000 --> 02:41:17,840
flip so it's it's really like a

3505
02:41:14,639 --> 02:41:19,358
you know it's a till day but

3506
02:41:17,840 --> 02:41:22,559
but we didn't implement that one either

3507
02:41:19,359 --> 02:41:25,559
so it's hardly an explanation

3508
02:41:22,559 --> 02:41:25,559
um

3509
02:41:38,159 --> 02:41:44,318
so that seems fine

3510
02:41:39,840 --> 02:41:45,680
so actually we can just do an and not

3511
02:41:44,318 --> 02:41:47,840
and

3512
02:41:45,680 --> 02:41:48,800
we don't have to

3513
02:41:47,840 --> 02:41:51,040
really

3514
02:41:48,799 --> 02:41:51,039
like

3515
02:41:51,120 --> 02:41:55,359
even do the not of it anyway

3516
02:41:57,439 --> 02:42:00,000
right

3517
02:41:58,559 --> 02:42:02,318
um

3518
02:42:00,000 --> 02:42:05,359
so i think that would produce the right

3519
02:42:02,318 --> 02:42:08,879
the right lane based equation for

3520
02:42:05,359 --> 02:42:09,840
emitters don't stop you but other things

3521
02:42:08,879 --> 02:42:10,719
too

3522
02:42:09,840 --> 02:42:14,398
right

3523
02:42:10,719 --> 02:42:15,358
so it's inbounds and not an emitter and

3524
02:42:14,398 --> 02:42:18,318
not

3525
02:42:15,359 --> 02:42:20,239
an emitter

3526
02:42:18,318 --> 02:42:21,920
um

3527
02:42:20,239 --> 02:42:24,799
we should now have

3528
02:42:21,920 --> 02:42:26,639
both of those things

3529
02:42:24,799 --> 02:42:28,239
maybe

3530
02:42:26,639 --> 02:42:30,799
um and

3531
02:42:28,239 --> 02:42:32,159
again slightly cheesy

3532
02:42:30,799 --> 02:42:34,398
but i think

3533
02:42:32,159 --> 02:42:35,069
that would probably

3534
02:42:34,398 --> 02:42:36,318
be fine

3535
02:42:35,069 --> 02:42:39,318
[Music]

3536
02:42:36,318 --> 02:42:39,318
um

3537
02:42:44,079 --> 02:42:49,680
so i don't know i mean it's not as good

3538
02:42:46,719 --> 02:42:51,278
because you want the

3539
02:42:49,680 --> 02:42:53,520
you know and maybe we could combine

3540
02:42:51,279 --> 02:42:56,239
these two right we could combine it with

3541
02:42:53,520 --> 02:42:58,159
a forward flood fill so we we look at

3542
02:42:56,239 --> 02:43:00,478
light surfaces

3543
02:42:58,159 --> 02:43:02,559
and we would

3544
02:43:00,478 --> 02:43:04,879
write the light surfaces into the light

3545
02:43:02,559 --> 02:43:08,600
probes

3546
02:43:04,879 --> 02:43:08,599
like at those locations

3547
02:43:28,799 --> 02:43:34,199
all right i mean fine

3548
02:43:31,200 --> 02:43:34,200
so

3549
02:43:39,680 --> 02:43:44,960
uh yeah we could i mean we could have

3550
02:43:41,120 --> 02:43:47,200
changed this to just equals right

3551
02:43:44,959 --> 02:43:48,239
um you know another way to write this if

3552
02:43:47,200 --> 02:43:51,840
someone was asking about this in the

3553
02:43:48,239 --> 02:43:51,840
chat we could write it the other way

3554
02:43:55,680 --> 02:43:59,359
right

3555
02:43:56,559 --> 02:43:59,359
you could do that

3556
02:44:00,079 --> 02:44:03,600
and that's just saying if you don't emit

3557
02:44:01,680 --> 02:44:05,840
light then you're a positive you know

3558
02:44:03,600 --> 02:44:07,760
you're a positive includer

3559
02:44:05,840 --> 02:44:09,840
um same

3560
02:44:07,760 --> 02:44:11,040
same same

3561
02:44:09,840 --> 02:44:13,040
right

3562
02:44:11,040 --> 02:44:15,760
um so maybe that's just

3563
02:44:13,040 --> 02:44:18,000
an easier way to read that anyway

3564
02:44:15,760 --> 02:44:20,478
um but you know you can still see the

3565
02:44:18,000 --> 02:44:22,879
problem uh so like if you take a look at

3566
02:44:20,478 --> 02:44:24,639
what happens in here

3567
02:44:22,879 --> 02:44:25,920
um

3568
02:44:24,639 --> 02:44:27,039
like

3569
02:44:25,920 --> 02:44:28,719
if i

3570
02:44:27,040 --> 02:44:30,240
punch

3571
02:44:28,719 --> 02:44:32,799
out to here

3572
02:44:30,239 --> 02:44:38,000
you can see that this should be having a

3573
02:44:32,799 --> 02:44:39,199
bunch of uh actual light in it um

3574
02:44:38,000 --> 02:44:42,239
it's kind of hard for me to hold down

3575
02:44:39,200 --> 02:44:45,279
enough keys at the same time here

3576
02:44:42,239 --> 02:44:47,680
but you can see like what this

3577
02:44:45,279 --> 02:44:49,439
light probe is showing right now i push

3578
02:44:47,680 --> 02:44:51,120
out the

3579
02:44:49,439 --> 02:44:53,520
um

3580
02:44:51,120 --> 02:44:54,560
the light and it's actually enclosing it

3581
02:44:53,520 --> 02:44:57,680
and yet

3582
02:44:54,559 --> 02:44:59,439
you don't see much contribution right

3583
02:44:57,680 --> 02:45:02,079
the reason for that is it can't hit this

3584
02:44:59,439 --> 02:45:03,600
thing right it's only able to pick it up

3585
02:45:02,079 --> 02:45:06,639
indirectly

3586
02:45:03,600 --> 02:45:08,880
and so i feel like we might also want it

3587
02:45:06,639 --> 02:45:08,879
to

3588
02:45:10,239 --> 02:45:13,680
to write the lighting into the probes

3589
02:45:12,799 --> 02:45:16,239
that it

3590
02:45:13,680 --> 02:45:21,279
is into the probe into the grid

3591
02:45:16,239 --> 02:45:21,279
locations where the light overlaps

3592
02:45:23,600 --> 02:45:26,600
um

3593
02:45:34,478 --> 02:45:38,398
so like a forward pass that writes

3594
02:45:37,279 --> 02:45:40,800
lights

3595
02:45:38,398 --> 02:45:40,799
into

3596
02:45:41,279 --> 02:45:45,159
things they overlap

3597
02:45:59,120 --> 02:46:04,319
i'm wondering if maybe that isn't just a

3598
02:46:01,200 --> 02:46:07,520
good idea in general

3599
02:46:04,318 --> 02:46:07,519
like suppose

3600
02:46:08,000 --> 02:46:11,840
i can turn off the spatial production

3601
02:46:12,239 --> 02:46:14,478
uh

3602
02:46:15,120 --> 02:46:20,720
the debug draw spatial grid thing

3603
02:46:18,719 --> 02:46:23,679
uh doesn't need to be on there

3604
02:46:20,719 --> 02:46:25,519
anymore obviously

3605
02:46:23,680 --> 02:46:26,639
um i might leave the octagonal values on

3606
02:46:25,520 --> 02:46:28,319
while we're looking at this particular

3607
02:46:26,639 --> 02:46:29,358
problem but

3608
02:46:28,318 --> 02:46:32,760
um

3609
02:46:29,359 --> 02:46:32,760
so like

3610
02:46:53,359 --> 02:46:58,000
these directions are also now bs by the

3611
02:46:55,520 --> 02:46:58,800
way because we're still using the

3612
02:46:58,000 --> 02:47:01,359
like

3613
02:46:58,799 --> 02:47:03,679
we're using the sphere right we're using

3614
02:47:01,359 --> 02:47:05,520
the sampling sphere

3615
02:47:03,680 --> 02:47:08,079
um

3616
02:47:05,520 --> 02:47:11,279
to draw them but they're casting white

3617
02:47:08,079 --> 02:47:14,478
noise so it's total nonsense that we're

3618
02:47:11,279 --> 02:47:17,479
drawing right like this is drawing

3619
02:47:14,478 --> 02:47:17,478
um

3620
02:47:21,840 --> 02:47:25,439
oh wait no it's using the vauxhall so

3621
02:47:23,840 --> 02:47:26,799
that's fine it's not that i take it back

3622
02:47:25,439 --> 02:47:28,318
that's nonsense i think it's using the

3623
02:47:26,799 --> 02:47:29,519
voxel so it's it's just showing the

3624
02:47:28,318 --> 02:47:30,879
direction of the box so that's totally

3625
02:47:29,520 --> 02:47:32,000
fine

3626
02:47:30,879 --> 02:47:36,398
um

3627
02:47:32,000 --> 02:47:39,600
so yeah uh gosh the question is just if

3628
02:47:36,398 --> 02:47:42,478
i was to do that so suppose i was to

3629
02:47:39,600 --> 02:47:44,640
write the light values into the grid as

3630
02:47:42,478 --> 02:47:46,318
a pre-pass so any when we're when we're

3631
02:47:44,639 --> 02:47:48,318
putting them in the space partition

3632
02:47:46,318 --> 02:47:52,559
anytime we see some of the missive value

3633
02:47:48,318 --> 02:47:55,600
we rasterize that into the uh

3634
02:47:52,559 --> 02:47:55,600
into the light probes

3635
02:47:56,879 --> 02:47:59,879
um

3636
02:48:11,520 --> 02:48:14,520
um

3637
02:48:18,559 --> 02:48:23,278
what does that do for us

3638
02:48:20,559 --> 02:48:23,278
does that do

3639
02:48:28,000 --> 02:48:31,840
how do we because i don't know

3640
02:48:35,520 --> 02:48:38,880
the total size of handmade hero is

3641
02:48:38,079 --> 02:48:39,760
uh

3642
02:48:38,879 --> 02:48:42,639
sorry what do you mean what does the

3643
02:48:39,760 --> 02:48:42,639
total size mean

3644
02:48:43,439 --> 02:48:46,880
doing like lines of code

3645
02:48:46,000 --> 02:48:47,920
or

3646
02:48:46,879 --> 02:48:50,478
uh

3647
02:48:47,920 --> 02:48:50,478
something else

3648
02:48:51,760 --> 02:48:55,439
because yeah i think we could get this a

3649
02:48:53,359 --> 02:48:57,040
little better by rasterizing the lights

3650
02:48:55,439 --> 02:48:58,318
as a pre-pass

3651
02:48:57,040 --> 02:49:00,319
i like the fact that with the collision

3652
02:48:58,318 --> 02:49:02,799
detector turned off we can punch through

3653
02:49:00,318 --> 02:49:05,799
and make a light outside the wall

3654
02:49:02,799 --> 02:49:05,799
um

3655
02:49:15,200 --> 02:49:19,520
because you can kind of see that you get

3656
02:49:17,120 --> 02:49:21,120
sort of a like a blinking effect too

3657
02:49:19,520 --> 02:49:23,279
like right so

3658
02:49:21,120 --> 02:49:25,279
there it would be worth it in the dark i

3659
02:49:23,279 --> 02:49:27,040
think we would get much better results

3660
02:49:25,279 --> 02:49:29,200
right if we did this because you

3661
02:49:27,040 --> 02:49:31,760
wouldn't get so much variance in the

3662
02:49:29,200 --> 02:49:33,680
brightness as this kind of bobs around

3663
02:49:31,760 --> 02:49:35,200
relative to light probes you get a much

3664
02:49:33,680 --> 02:49:37,120
more constant value which is i think

3665
02:49:35,200 --> 02:49:40,240
what we would want there so i do think

3666
02:49:37,120 --> 02:49:42,960
it would it would be a good idea

3667
02:49:40,239 --> 02:49:44,879
oh how big is the binary

3668
02:49:42,959 --> 02:49:47,278
oh gosh i don't know because we don't

3669
02:49:44,879 --> 02:49:48,719
really build in a small we don't build a

3670
02:49:47,279 --> 02:49:50,720
small version of the binary at the

3671
02:49:48,719 --> 02:49:52,478
moment so it's probably quite large

3672
02:49:50,719 --> 02:49:55,478
actually

3673
02:49:52,478 --> 02:49:55,478
um

3674
02:50:02,318 --> 02:50:05,760
so yeah it's

3675
02:50:06,318 --> 02:50:09,840
it's around a megabyte

3676
02:50:10,318 --> 02:50:15,439
we don't build a small binary at the

3677
02:50:11,920 --> 02:50:15,439
moment so it's around a megabyte

3678
02:50:17,680 --> 02:50:21,120
um it still includes a c runtime library

3679
02:50:19,520 --> 02:50:22,800
even though we only call like one thing

3680
02:50:21,120 --> 02:50:25,520
from it so that

3681
02:50:22,799 --> 02:50:26,799
also bloats us out

3682
02:50:25,520 --> 02:50:27,680
unfortunately

3683
02:50:26,799 --> 02:50:29,358
so

3684
02:50:27,680 --> 02:50:31,200
so it's fairly large

3685
02:50:29,359 --> 02:50:34,680
for no real reason

3686
02:50:31,200 --> 02:50:34,680
but about a megabyte

3687
02:50:39,520 --> 02:50:43,439
oh yeah without assets i mean we we have

3688
02:50:41,680 --> 02:50:45,520
like

3689
02:50:43,439 --> 02:50:48,000
tons of like assets are large in this

3690
02:50:45,520 --> 02:50:50,159
game they're fairly high res and bit 2d

3691
02:50:48,000 --> 02:50:52,159
bitmaps so they're that's no no way

3692
02:50:50,159 --> 02:50:55,920
that's fitting into megabyte unless you

3693
02:50:52,159 --> 02:50:55,920
do some demo scene coding right

3694
02:50:56,318 --> 02:50:59,920
uh which you could totally do and try to

3695
02:50:57,920 --> 02:51:02,559
get it down but uh right we don't do any

3696
02:50:59,920 --> 02:51:03,760
of that so yeah

3697
02:51:02,559 --> 02:51:05,359
but yeah it's about a megabyte

3698
02:51:03,760 --> 02:51:08,000
executable

3699
02:51:05,359 --> 02:51:09,040
um it could be much smaller than that i

3700
02:51:08,000 --> 02:51:11,920
think

3701
02:51:09,040 --> 02:51:14,160
that's kind of like very wasteful

3702
02:51:11,920 --> 02:51:16,000
size-wise um

3703
02:51:14,159 --> 02:51:19,840
we could be a lot smaller than that but

3704
02:51:16,000 --> 02:51:19,840
at the moment we're just not

3705
02:51:26,559 --> 02:51:30,879
so i think yeah i guess i would say i

3706
02:51:29,200 --> 02:51:33,600
think we should maybe try a light

3707
02:51:30,879 --> 02:51:35,519
rasterization pre-pass there because we

3708
02:51:33,600 --> 02:51:36,720
when we go through them we know when we

3709
02:51:35,520 --> 02:51:38,159
hit light sources because we have to

3710
02:51:36,719 --> 02:51:39,039
insert them into the spatial partition

3711
02:51:38,159 --> 02:51:40,719
anyway

3712
02:51:39,040 --> 02:51:42,960
and we know that they're not going to be

3713
02:51:40,719 --> 02:51:44,639
sampled correctly because when we sample

3714
02:51:42,959 --> 02:51:46,000
to them we you know we don't know what

3715
02:51:44,639 --> 02:51:48,239
to do when we're inside them we're not

3716
02:51:46,000 --> 02:51:50,000
sure how we would really gather that and

3717
02:51:48,239 --> 02:51:51,359
it seems like it'd be faster to do that

3718
02:51:50,000 --> 02:51:53,120
forward than it would be to do that

3719
02:51:51,359 --> 02:51:55,359
backward

3720
02:51:53,120 --> 02:51:55,359
so

3721
02:51:56,318 --> 02:52:00,000
what would that look like it would

3722
02:51:58,159 --> 02:52:02,159
basically be like for each light source

3723
02:52:00,000 --> 02:52:03,279
we step through the voxels and see how

3724
02:52:02,159 --> 02:52:05,200
much

3725
02:52:03,279 --> 02:52:07,040
uh voxel overlap there is and then we

3726
02:52:05,200 --> 02:52:08,000
add like that much of that light source

3727
02:52:07,040 --> 02:52:10,080
in but

3728
02:52:08,000 --> 02:52:12,959
but

3729
02:52:10,079 --> 02:52:15,840
what direction do we add it in

3730
02:52:12,959 --> 02:52:15,839
right um

3731
02:52:18,159 --> 02:52:20,959
what direction

3732
02:52:21,439 --> 02:52:23,840
you know

3733
02:52:25,760 --> 02:52:29,318
i ask you

3734
02:52:33,439 --> 02:52:36,479
it's 2 30.

3735
02:52:39,359 --> 02:52:43,840
do we try to do something with that

3736
02:52:41,359 --> 02:52:43,840
today

3737
02:52:46,559 --> 02:52:51,760
yeah

3738
02:52:48,639 --> 02:52:54,639
yes let's just add it to the left it the

3739
02:52:51,760 --> 02:52:57,200
light lights in handmade hero

3740
02:52:54,639 --> 02:52:59,599
lights go to the left that's it that's

3741
02:52:57,200 --> 02:53:03,359
the limitation artistic

3742
02:52:59,600 --> 02:53:04,800
it is a deliberate artistic choice

3743
02:53:03,359 --> 02:53:07,520
um

3744
02:53:04,799 --> 02:53:10,719
in handmade hero that lights

3745
02:53:07,520 --> 02:53:12,239
go leftward you you don't if you wanted

3746
02:53:10,719 --> 02:53:14,639
a light that went right

3747
02:53:12,239 --> 02:53:16,159
you gotta go use the unreal engine

3748
02:53:14,639 --> 02:53:18,799
that's just the rule

3749
02:53:16,159 --> 02:53:21,439
okay there are other engines available

3750
02:53:18,799 --> 02:53:25,119
if you wanted light sources that shine

3751
02:53:21,439 --> 02:53:27,359
rightward then that is why you know you

3752
02:53:25,120 --> 02:53:29,840
go use unreal engine or something

3753
02:53:27,359 --> 02:53:32,640
because they added support in unreal

3754
02:53:29,840 --> 02:53:34,639
five for lights that shine to the right

3755
02:53:32,639 --> 02:53:39,840
okay we're just not adding those in

3756
02:53:34,639 --> 02:53:39,840
handmade hero lights all go to the left

3757
02:53:40,719 --> 02:53:45,199
that's just an artistic choice

3758
02:53:43,439 --> 02:53:48,079
that we made

3759
02:53:45,200 --> 02:53:50,960
um where and we just think that left

3760
02:53:48,079 --> 02:53:52,799
lights that go left are inherently more

3761
02:53:50,959 --> 02:53:55,839
interesting

3762
02:53:52,799 --> 02:53:57,920
and and visually they're more visually

3763
02:53:55,840 --> 02:53:59,359
interesting than lights that go right

3764
02:53:57,920 --> 02:54:01,040
and i think

3765
02:53:59,359 --> 02:54:03,760
you know that's what differentiates

3766
02:54:01,040 --> 02:54:05,520
indie games from you know these big aaa

3767
02:54:03,760 --> 02:54:07,040
games

3768
02:54:05,520 --> 02:54:07,409
right

3769
02:54:07,040 --> 02:54:10,479
um

3770
02:54:07,409 --> 02:54:10,478
[Music]

3771
02:54:10,559 --> 02:54:15,119
so so that's good

3772
02:54:12,398 --> 02:54:17,199
no in all seriousness uh

3773
02:54:15,120 --> 02:54:18,960
what i mean to say is that if you look

3774
02:54:17,200 --> 02:54:21,680
at how a light is going to be

3775
02:54:18,959 --> 02:54:23,839
distributed so for example

3776
02:54:21,680 --> 02:54:25,439
we want a light you know we've got a

3777
02:54:23,840 --> 02:54:27,439
light centered on the glove and as i

3778
02:54:25,439 --> 02:54:29,120
move it around it moves but what we want

3779
02:54:27,439 --> 02:54:30,960
to do is make sure that it actually gets

3780
02:54:29,120 --> 02:54:33,359
more representation

3781
02:54:30,959 --> 02:54:35,119
uh in the light probes that it uh you

3782
02:54:33,359 --> 02:54:38,239
know is actually overlapping which at

3783
02:54:35,120 --> 02:54:40,240
the moment it really doesn't uh get

3784
02:54:38,239 --> 02:54:43,359
and so in order to do that what we want

3785
02:54:40,239 --> 02:54:44,478
to do is say well okay if we were to add

3786
02:54:43,359 --> 02:54:46,640
light

3787
02:54:44,478 --> 02:54:49,599
based on the volume of the light source

3788
02:54:46,639 --> 02:54:51,680
and how much it overlaps each of the

3789
02:54:49,600 --> 02:54:53,359
constituents here the the light probes

3790
02:54:51,680 --> 02:54:55,600
that are likely to see it

3791
02:54:53,359 --> 02:54:55,600
um

3792
02:54:56,398 --> 02:55:02,719
what what i assume we would want to do

3793
02:54:59,760 --> 02:55:05,120
is we would want to have the

3794
02:55:02,719 --> 02:55:05,119
light

3795
02:55:08,159 --> 02:55:12,959
you would want to add light proportional

3796
02:55:10,959 --> 02:55:15,278
to how much of the light

3797
02:55:12,959 --> 02:55:17,599
volume overlaps the

3798
02:55:15,279 --> 02:55:20,319
voxel volume

3799
02:55:17,600 --> 02:55:20,318
for the probe

3800
02:55:21,760 --> 02:55:25,359
and

3801
02:55:23,680 --> 02:55:27,439
if it

3802
02:55:25,359 --> 02:55:29,359
if it overlapped the entire thing you

3803
02:55:27,439 --> 02:55:33,840
just add it in all directions but what

3804
02:55:29,359 --> 02:55:35,760
if it like only overlaps this one half

3805
02:55:33,840 --> 02:55:39,079
you would expect it to

3806
02:55:35,760 --> 02:55:43,239
to not add light to the other side

3807
02:55:39,079 --> 02:55:43,239
right um

3808
02:55:48,159 --> 02:55:53,680
and and that really is the thing that

3809
02:55:50,719 --> 02:55:56,000
i'm not sure what i would do like like

3810
02:55:53,680 --> 02:55:57,600
it is what i'm saying logical

3811
02:55:56,000 --> 02:55:59,439
like like

3812
02:55:57,600 --> 02:56:02,720
am i correct in saying you would expect

3813
02:55:59,439 --> 02:56:04,318
it not to add to the other side or is is

3814
02:56:02,719 --> 02:56:06,000
that actually totally

3815
02:56:04,318 --> 02:56:08,159
false what i'm saying

3816
02:56:06,000 --> 02:56:10,478
and

3817
02:56:08,159 --> 02:56:12,000
and you wouldn't so it's the light that

3818
02:56:10,478 --> 02:56:13,679
passes through the area

3819
02:56:12,000 --> 02:56:15,760
light should not be passing through the

3820
02:56:13,680 --> 02:56:17,760
other direction right because

3821
02:56:15,760 --> 02:56:19,279
the the light itself is on the other

3822
02:56:17,760 --> 02:56:21,120
side of the volume so you should you

3823
02:56:19,279 --> 02:56:23,359
would only expect it to be kind of going

3824
02:56:21,120 --> 02:56:25,359
one way away from it you wouldn't expect

3825
02:56:23,359 --> 02:56:27,840
to be going the other direction

3826
02:56:25,359 --> 02:56:30,079
although you wouldn't probably care that

3827
02:56:27,840 --> 02:56:33,079
much if you were

3828
02:56:30,079 --> 02:56:33,079
right

3829
02:56:50,239 --> 02:56:58,639
so maybe we do something like this maybe

3830
02:56:53,279 --> 02:57:01,439
we say that we take the closest point on

3831
02:56:58,639 --> 02:57:03,439
the light source volume to the light

3832
02:57:01,439 --> 02:57:05,279
probe center

3833
02:57:03,439 --> 02:57:07,520
which will actually just be the light

3834
02:57:05,279 --> 02:57:09,439
probe itself if it's entirely enclosed

3835
02:57:07,520 --> 02:57:11,040
which means that it can just shine in

3836
02:57:09,439 --> 02:57:14,148
general

3837
02:57:11,040 --> 02:57:14,149
[Music]

3838
02:57:18,719 --> 02:57:23,398
or

3839
02:57:20,398 --> 02:57:23,398
or

3840
02:57:24,799 --> 02:57:29,039
no i've got it i've got it

3841
02:57:30,318 --> 02:57:36,159
what we instead do

3842
02:57:33,120 --> 02:57:38,399
is we basically see how much the light

3843
02:57:36,159 --> 02:57:41,600
overlaps the volume in each of the three

3844
02:57:38,398 --> 02:57:44,000
dimensions and we basically use

3845
02:57:41,600 --> 02:57:44,000
that

3846
02:57:47,439 --> 02:57:54,639
as

3847
02:57:48,840 --> 02:57:54,639
as how much we write into the octahedron

3848
02:58:01,040 --> 02:58:04,240
right

3849
02:58:01,840 --> 02:58:07,439
because we would know like we know the

3850
02:58:04,239 --> 02:58:09,840
overlap in x and the overlap in y

3851
02:58:07,439 --> 02:58:10,880
so at the very least we should be able

3852
02:58:09,840 --> 02:58:12,478
to do

3853
02:58:10,879 --> 02:58:14,799
like

3854
02:58:12,478 --> 02:58:17,438
that's the region of the octahedral map

3855
02:58:14,799 --> 02:58:18,559
we write into is those t x and t y

3856
02:58:17,439 --> 02:58:20,800
values

3857
02:58:18,559 --> 02:58:20,799
right

3858
02:58:27,279 --> 02:58:33,439
so there's probably a way to do that

3859
02:58:29,520 --> 02:58:35,600
like pretty cleverly right um

3860
02:58:33,439 --> 02:58:37,200
i probably want to start not trying to

3861
02:58:35,600 --> 02:58:39,040
not doing it that complicated because

3862
02:58:37,200 --> 02:58:43,319
that's a pretty

3863
02:58:39,040 --> 02:58:43,319
fancy that's some pretty fancy footwork

3864
02:58:48,639 --> 02:58:52,000
you know what else we could do is just

3865
02:58:49,840 --> 02:58:54,159
do this stochastically we could also

3866
02:58:52,000 --> 02:58:55,520
just generate random points inside the

3867
02:58:54,159 --> 02:58:58,639
light volume

3868
02:58:55,520 --> 02:59:00,399
and for a given point then you obviously

3869
02:58:58,639 --> 02:59:02,719
know which direction it is

3870
02:59:00,398 --> 02:59:04,239
because you can just literally do

3871
02:59:02,719 --> 02:59:06,000
the

3872
02:59:04,239 --> 02:59:07,840
you know the subtraction between the two

3873
02:59:06,000 --> 02:59:09,920
between the light probe

3874
02:59:07,840 --> 02:59:14,120
location and the light

3875
02:59:09,920 --> 02:59:14,120
the point on the light that you picked

3876
02:59:18,478 --> 02:59:21,840
so maybe let's go the stochastic route

3877
02:59:20,559 --> 02:59:23,439
first

3878
02:59:21,840 --> 02:59:24,880
where we just and it doesn't have to

3879
02:59:23,439 --> 02:59:26,800
necessarily be sarcastic it could

3880
02:59:24,879 --> 02:59:28,719
literally be regular like we could

3881
02:59:26,799 --> 02:59:31,599
literally just sample

3882
02:59:28,719 --> 02:59:33,760
regular points on the light source

3883
02:59:31,600 --> 02:59:35,840
but let's do that

3884
02:59:33,760 --> 02:59:39,478
first

3885
02:59:35,840 --> 02:59:39,478
which means

3886
02:59:43,040 --> 02:59:48,160
we leave everything as it is we don't

3887
02:59:45,279 --> 02:59:50,640
make any changes to this right now

3888
02:59:48,159 --> 02:59:53,439
but we do on our path through the light

3889
02:59:50,639 --> 02:59:54,959
source we generate a bunch of random

3890
02:59:53,439 --> 02:59:59,279
garbage

3891
02:59:54,959 --> 02:59:59,278
and we sum those into the light

3892
03:00:00,159 --> 03:00:02,478
um

3893
03:00:02,959 --> 03:00:07,679
we sum those into the light

3894
03:00:06,000 --> 03:00:08,879
specular

3895
03:00:07,680 --> 03:00:11,600
by the way

3896
03:00:08,879 --> 03:00:13,920
i have a question

3897
03:00:11,600 --> 03:00:15,920
does our lighting now by default also

3898
03:00:13,920 --> 03:00:17,680
i'm sorry i'm to get off topic here but

3899
03:00:15,920 --> 03:00:19,120
does our light basically also support

3900
03:00:17,680 --> 03:00:20,800
specular now because we compute the

3901
03:00:19,120 --> 03:00:22,880
specular map

3902
03:00:20,799 --> 03:00:25,759
and the diffuse map

3903
03:00:22,879 --> 03:00:27,358
and i don't know if we send the specular

3904
03:00:25,760 --> 03:00:29,680
map down or not

3905
03:00:27,359 --> 03:00:32,880
i i literally don't remember

3906
03:00:29,680 --> 03:00:36,720
um if anyone actually submits the spec

3907
03:00:32,879 --> 03:00:37,679
map or if we only ever submit

3908
03:00:36,719 --> 03:00:39,840
um

3909
03:00:37,680 --> 03:00:42,960
the

3910
03:00:39,840 --> 03:00:42,960
the diffuse map

3911
03:00:46,000 --> 03:00:50,279
light

3912
03:00:46,799 --> 03:00:50,278
depth sampler

3913
03:00:53,120 --> 03:00:57,439
we don't actually use that like we never

3914
03:00:55,200 --> 03:00:58,800
implemented that that was going to be so

3915
03:00:57,439 --> 03:00:59,840
we did actually even think about that

3916
03:00:58,799 --> 03:01:02,000
interesting

3917
03:00:59,840 --> 03:01:04,719
so the light color sampler is only

3918
03:01:02,000 --> 03:01:07,520
sampling the diffuse map we only we only

3919
03:01:04,719 --> 03:01:10,719
send the diffuse map down at the moment

3920
03:01:07,520 --> 03:01:14,520
but we have the spec

3921
03:01:10,719 --> 03:01:14,519
right so like

3922
03:01:23,359 --> 03:01:28,600
when we link the sampler here

3923
03:01:38,398 --> 03:01:42,159
so we update both of them

3924
03:01:44,719 --> 03:01:50,559
the diffuse atlas handle and the

3925
03:01:46,398 --> 03:01:50,559
specular light handle are both submitted

3926
03:01:57,600 --> 03:02:02,479
and both are bound

3927
03:02:00,879 --> 03:02:05,199
so we do have

3928
03:02:02,478 --> 03:02:05,199
both of them

3929
03:02:11,279 --> 03:02:16,319
but we just don't

3930
03:02:14,239 --> 03:02:17,920
use them this this old this code is so

3931
03:02:16,318 --> 03:02:19,119
nasty i really wish we had a way to read

3932
03:02:17,920 --> 03:02:20,639
this better we're going to have to move

3933
03:02:19,120 --> 03:02:22,800
these out to separate text files i think

3934
03:02:20,639 --> 03:02:24,239
is the only real answer i wanted to

3935
03:02:22,799 --> 03:02:27,438
avoid having to do that but it's

3936
03:02:24,239 --> 03:02:27,439
obviously not going to happen so

3937
03:02:28,000 --> 03:02:31,920
so that's fine i don't even think four

3938
03:02:29,760 --> 03:02:33,680
coder gets worked on anymore right

3939
03:02:31,920 --> 03:02:36,159
i assume at this point it's just not

3940
03:02:33,680 --> 03:02:38,000
it's just a non a non thing

3941
03:02:36,159 --> 03:02:39,359
uh so

3942
03:02:38,000 --> 03:02:41,120
we'll probably have to deal with that at

3943
03:02:39,359 --> 03:02:43,200
some point maybe someday we can switch

3944
03:02:41,120 --> 03:02:45,439
to that 10x ide thing that seemed like a

3945
03:02:43,200 --> 03:02:46,399
pretty good thing i don't know

3946
03:02:45,439 --> 03:02:47,760
um

3947
03:02:46,398 --> 03:02:49,199
we'll have to see how it comes along i'm

3948
03:02:47,760 --> 03:02:50,478
not sure how it's going at this point

3949
03:02:49,200 --> 03:02:53,120
but

3950
03:02:50,478 --> 03:02:54,398
anyway uh if we have

3951
03:02:53,120 --> 03:02:57,040
the

3952
03:02:54,398 --> 03:02:58,398
the light color sampler here

3953
03:02:57,040 --> 03:03:00,319
um

3954
03:02:58,398 --> 03:03:02,639
i guess i'm not sure where the light

3955
03:03:00,318 --> 03:03:04,239
depth sampler comes in like that was

3956
03:03:02,639 --> 03:03:05,599
something we used to be doing i guess

3957
03:03:04,239 --> 03:03:08,000
when we thought we were going to have to

3958
03:03:05,600 --> 03:03:10,640
implement the depth part of it but

3959
03:03:08,000 --> 03:03:12,398
you know we didn't actually do that

3960
03:03:10,639 --> 03:03:14,639
so the light depth sampler is the fourth

3961
03:03:12,398 --> 03:03:15,920
one i think that's just the specular map

3962
03:03:14,639 --> 03:03:18,879
though because if you look at what

3963
03:03:15,920 --> 03:03:21,200
happens here texture two and three

3964
03:03:18,879 --> 03:03:21,199
um

3965
03:03:23,680 --> 03:03:27,840
the depth is

3966
03:03:24,959 --> 03:03:30,719
is

3967
03:03:27,840 --> 03:03:32,880
it's not that like that's not

3968
03:03:30,719 --> 03:03:34,959
what that is

3969
03:03:32,879 --> 03:03:38,239
so i think light depth sampler is

3970
03:03:34,959 --> 03:03:40,398
actually the the spec map and i don't

3971
03:03:38,239 --> 03:03:42,799
know why it's called that i think we

3972
03:03:40,398 --> 03:03:43,599
thought we were gonna do that or i don't

3973
03:03:42,799 --> 03:03:46,318
know

3974
03:03:43,600 --> 03:03:49,600
why i guess i don't really know

3975
03:03:46,318 --> 03:03:49,600
um it doesn't get used

3976
03:03:52,840 --> 03:03:58,639
right i'm going to go ahead and say that

3977
03:03:55,760 --> 03:03:59,920
that is just specular

3978
03:03:58,639 --> 03:04:02,920
sampler

3979
03:03:59,920 --> 03:04:02,920
instead

3980
03:04:10,639 --> 03:04:14,799
um because i can because i wrote the

3981
03:04:13,760 --> 03:04:17,279
code

3982
03:04:14,799 --> 03:04:19,920
and i'm gonna just ask the question what

3983
03:04:17,279 --> 03:04:21,680
happens if you sample from the spec map

3984
03:04:19,920 --> 03:04:24,000
instead of the diffuse map

3985
03:04:21,680 --> 03:04:26,479
right i mean why not there's no

3986
03:04:24,000 --> 03:04:28,159
particular reason you can't do that uh

3987
03:04:26,478 --> 03:04:31,199
it's just at the moment everything

3988
03:04:28,159 --> 03:04:34,239
happens to be sampling from the diffuse

3989
03:04:31,200 --> 03:04:37,240
uh map now they're the same dimension

3990
03:04:34,239 --> 03:04:37,239
um

3991
03:04:41,520 --> 03:04:46,399
so this is actually sampling from

3992
03:04:44,049 --> 03:04:48,959
[Music]

3993
03:04:46,398 --> 03:04:53,719
what is this oct map interiov dim

3994
03:04:48,959 --> 03:04:53,719
specular vs uv dim diffuse

3995
03:05:07,920 --> 03:05:14,760
so we even compute the specular and then

3996
03:05:10,639 --> 03:05:14,760
we just don't use it

3997
03:05:18,719 --> 03:05:21,519
i guess so

3998
03:05:22,000 --> 03:05:27,760
so at the moment we actually s

3999
03:05:25,680 --> 03:05:32,559
compute

4000
03:05:27,760 --> 03:05:35,120
two of these but we only use one of them

4001
03:05:32,559 --> 03:05:35,119
i guess

4002
03:05:38,879 --> 03:05:42,719
we really need to clean this up i don't

4003
03:05:40,639 --> 03:05:44,159
know if what the right answer is i

4004
03:05:42,719 --> 03:05:45,760
really was hoping we could just keep all

4005
03:05:44,159 --> 03:05:46,639
the code in one thing

4006
03:05:45,760 --> 03:05:48,960
but

4007
03:05:46,639 --> 03:05:50,719
unless i guess i go modify for coder

4008
03:05:48,959 --> 03:05:52,559
myself i could modify the source code

4009
03:05:50,719 --> 03:05:54,398
for coder probably

4010
03:05:52,559 --> 03:05:56,478
to actually format this it's kind of

4011
03:05:54,398 --> 03:05:59,358
impossible to read a complex shader in

4012
03:05:56,478 --> 03:06:00,799
this way it's complete garbage right

4013
03:05:59,359 --> 03:06:02,159
like you don't get any indenting or

4014
03:06:00,799 --> 03:06:05,438
anything like that so it's pretty

4015
03:06:02,159 --> 03:06:08,079
impossible to actually use

4016
03:06:05,439 --> 03:06:11,120
and of course because c plus is designed

4017
03:06:08,079 --> 03:06:13,039
by people who have you know collectively

4018
03:06:11,120 --> 03:06:15,359
if you sum them all together 0.5 brain

4019
03:06:13,040 --> 03:06:17,760
cells there's no way to actually just

4020
03:06:15,359 --> 03:06:19,279
like use included here docs here i don't

4021
03:06:17,760 --> 03:06:21,120
think so we can't just put this in a

4022
03:06:19,279 --> 03:06:25,279
separate file and then say include this

4023
03:06:21,120 --> 03:06:26,960
as a string i think like people have

4024
03:06:25,279 --> 03:06:29,359
i know people have actually literally

4025
03:06:26,959 --> 03:06:31,199
even submitted proposals to do that and

4026
03:06:29,359 --> 03:06:32,800
i think it took them like many years to

4027
03:06:31,200 --> 03:06:34,479
decide on it and they ruined it or

4028
03:06:32,799 --> 03:06:36,639
something so i still don't know if we

4029
03:06:34,478 --> 03:06:40,000
ever actually got that after 40 years of

4030
03:06:36,639 --> 03:06:42,719
c plus specifications

4031
03:06:40,000 --> 03:06:43,680
maybe that's in there now i don't know

4032
03:06:42,719 --> 03:06:45,119
um

4033
03:06:43,680 --> 03:06:46,720
that would obviously be another solution

4034
03:06:45,120 --> 03:06:48,479
to this problem if you could just pound

4035
03:06:46,719 --> 03:06:49,679
include a string which is an obvious

4036
03:06:48,478 --> 03:06:51,679
thing you would do

4037
03:06:49,680 --> 03:06:53,200
in any language

4038
03:06:51,680 --> 03:06:55,279
but you know

4039
03:06:53,200 --> 03:06:57,760
heaven forbid the c standards committee

4040
03:06:55,279 --> 03:06:59,359
allows you to include binary data into a

4041
03:06:57,760 --> 03:07:00,398
freaking executable

4042
03:06:59,359 --> 03:07:02,000
anyway

4043
03:07:00,398 --> 03:07:03,358
um so i don't know that we have much of

4044
03:07:02,000 --> 03:07:04,799
a way around this and this is really

4045
03:07:03,359 --> 03:07:05,840
hard to read so i'm not sure what we

4046
03:07:04,799 --> 03:07:07,599
should do about that we could add

4047
03:07:05,840 --> 03:07:10,159
something that just loads these as text

4048
03:07:07,600 --> 03:07:11,760
files

4049
03:07:10,159 --> 03:07:14,079
or maybe someone can tell me if they

4050
03:07:11,760 --> 03:07:16,000
ever frickin got pound including strings

4051
03:07:14,079 --> 03:07:19,359
into the freaking language

4052
03:07:16,000 --> 03:07:20,559
but assuming they didn't were stuck here

4053
03:07:19,359 --> 03:07:23,600
and

4054
03:07:20,559 --> 03:07:25,840
uh i just wanted to know like

4055
03:07:23,600 --> 03:07:27,760
looking at

4056
03:07:25,840 --> 03:07:30,000
some of this we can probably cut out

4057
03:07:27,760 --> 03:07:30,000
like

4058
03:07:36,559 --> 03:07:40,639
like i don't know what this is supposed

4059
03:07:38,079 --> 03:07:40,639
to be but

4060
03:07:44,000 --> 03:07:49,239
this is a specular

4061
03:07:45,760 --> 03:07:49,239
mixing function

4062
03:07:53,680 --> 03:07:56,639
i just don't know that we

4063
03:08:01,920 --> 03:08:06,559
i i don't know how useful this would be

4064
03:08:04,239 --> 03:08:10,719
to us but it is

4065
03:08:06,559 --> 03:08:10,719
a mixing function light v

4066
03:08:14,079 --> 03:08:19,719
is the encoding of the

4067
03:08:16,318 --> 03:08:19,719
light brightness

4068
03:08:20,000 --> 03:08:23,680
light and encoding is yeah so this is we

4069
03:08:22,879 --> 03:08:25,599
don't

4070
03:08:23,680 --> 03:08:28,479
we can just rewrite this again like it's

4071
03:08:25,600 --> 03:08:32,239
just a reflection like let's get rid of

4072
03:08:28,478 --> 03:08:35,278
this just so we yeah we don't need that

4073
03:08:32,239 --> 03:08:36,719
um again just trying to like

4074
03:08:35,279 --> 03:08:39,120
clean this up a little bit so we can

4075
03:08:36,719 --> 03:08:39,119
read it

4076
03:08:41,520 --> 03:08:45,920
i think standard embed got just like

4077
03:08:43,600 --> 03:08:47,359
does anyone know how it's possible that

4078
03:08:45,920 --> 03:08:48,879
the c plus of certain committee is as

4079
03:08:47,359 --> 03:08:50,479
bad as it is do they have some kind of

4080
03:08:48,879 --> 03:08:52,398
pre-filter where they're like

4081
03:08:50,478 --> 03:08:53,519
we only allow programmers who literally

4082
03:08:52,398 --> 03:08:55,119
have no idea what they're doing to

4083
03:08:53,520 --> 03:08:57,359
contribute like is that some kind of

4084
03:08:55,120 --> 03:08:59,760
like did they work out a way to ensure

4085
03:08:57,359 --> 03:09:01,439
that nobody who ever actually got

4086
03:08:59,760 --> 03:09:02,880
something done in their life is on this

4087
03:09:01,439 --> 03:09:04,239
committee

4088
03:09:02,879 --> 03:09:06,159
i don't know how they manage it it's

4089
03:09:04,239 --> 03:09:08,719
like it's kind of amazing if you could

4090
03:09:06,159 --> 03:09:10,000
just figure out a way to

4091
03:09:08,719 --> 03:09:11,199
to

4092
03:09:10,000 --> 03:09:14,079
invert

4093
03:09:11,200 --> 03:09:15,279
the quality of this like most things

4094
03:09:14,079 --> 03:09:17,600
can't

4095
03:09:15,279 --> 03:09:20,720
be as good as the cpos committee is at

4096
03:09:17,600 --> 03:09:23,359
at being bad being that consistently

4097
03:09:20,719 --> 03:09:25,278
wrong in and of itself is hard because

4098
03:09:23,359 --> 03:09:27,200
it almost means you know what the right

4099
03:09:25,279 --> 03:09:29,040
answer is and then you intentionally not

4100
03:09:27,200 --> 03:09:30,399
do it because

4101
03:09:29,040 --> 03:09:31,600
nobody can

4102
03:09:30,398 --> 03:09:34,398
by

4103
03:09:31,600 --> 03:09:36,640
nobody can randomly be as bad as the

4104
03:09:34,398 --> 03:09:37,599
sibo suspect they're more rand they're

4105
03:09:36,639 --> 03:09:41,599
more

4106
03:09:37,600 --> 03:09:43,520
wrong than random would be wrong right

4107
03:09:41,600 --> 03:09:46,000
which means that they actually have a

4108
03:09:43,520 --> 03:09:48,319
process that ensures that correct

4109
03:09:46,000 --> 03:09:50,719
answers don't happen

4110
03:09:48,318 --> 03:09:51,519
right which is a different thing than

4111
03:09:50,719 --> 03:09:53,920
just

4112
03:09:51,520 --> 03:09:55,680
not having a process that ensures

4113
03:09:53,920 --> 03:09:58,159
correct things happen

4114
03:09:55,680 --> 03:10:01,040
it's really kind of insane and i don't

4115
03:09:58,159 --> 03:10:01,039
know how it's possible

4116
03:10:01,200 --> 03:10:05,439
so so they literally have some way

4117
03:10:04,318 --> 03:10:08,959
um

4118
03:10:05,439 --> 03:10:10,159
of ensuring that good ideas cannot be

4119
03:10:08,959 --> 03:10:12,799
added

4120
03:10:10,159 --> 03:10:14,318
as opposed to having

4121
03:10:12,799 --> 03:10:16,238
as opposed to just not having a

4122
03:10:14,318 --> 03:10:18,559
procedure that ensures that good ideas

4123
03:10:16,238 --> 03:10:21,680
do get adopted right

4124
03:10:18,559 --> 03:10:23,519
uh and and and that it's almost worth

4125
03:10:21,680 --> 03:10:25,680
studying because if you could just do

4126
03:10:23,520 --> 03:10:27,279
the opposite of what they do you would

4127
03:10:25,680 --> 03:10:30,079
have a committee that always makes the

4128
03:10:27,279 --> 03:10:32,399
right decision and so there is value

4129
03:10:30,079 --> 03:10:33,760
like there's value to studying the sibo

4130
03:10:32,398 --> 03:10:36,238
sanders committee because i feel like

4131
03:10:33,760 --> 03:10:38,318
nobody else in history has ever come up

4132
03:10:36,238 --> 03:10:40,719
with a system that guarantees that they

4133
03:10:38,318 --> 03:10:41,680
will never make a good decision

4134
03:10:40,719 --> 03:10:44,719
that

4135
03:10:41,680 --> 03:10:47,200
that's almost as hard as always making

4136
03:10:44,719 --> 03:10:49,278
good decision

4137
03:10:47,200 --> 03:10:51,120
it's terrible it's the worst possible

4138
03:10:49,279 --> 03:10:53,200
thing you could be but it's also

4139
03:10:51,120 --> 03:10:55,200
educational because no one's ever

4140
03:10:53,200 --> 03:10:56,560
figured out how to

4141
03:10:55,200 --> 03:10:59,120
how to do something like that before

4142
03:10:56,559 --> 03:11:00,639
that i know of like no one's ever been

4143
03:10:59,120 --> 03:11:02,720
able to make sure that they will never

4144
03:11:00,639 --> 03:11:05,199
make a good decision that's that's kind

4145
03:11:02,719 --> 03:11:05,199
of hard

4146
03:11:05,520 --> 03:11:09,720
in my mind you know

4147
03:11:22,079 --> 03:11:25,039
i don't know

4148
03:11:23,120 --> 03:11:26,319
i think like sam oburya or somebody

4149
03:11:25,040 --> 03:11:28,000
should do a study on the sleepos

4150
03:11:26,318 --> 03:11:30,398
committee and be like

4151
03:11:28,000 --> 03:11:32,478
well we we don't know who just

4152
03:11:30,398 --> 03:11:34,398
we we don't know who to study to find

4153
03:11:32,478 --> 03:11:36,079
out how to like

4154
03:11:34,398 --> 03:11:37,039
solve success successor the successor

4155
03:11:36,079 --> 03:11:38,238
problem

4156
03:11:37,040 --> 03:11:40,319
right

4157
03:11:38,238 --> 03:11:42,559
but we do know who to study who is

4158
03:11:40,318 --> 03:11:44,238
someone who has who has sort of solved

4159
03:11:42,559 --> 03:11:46,959
it in the inverse like they've

4160
03:11:44,238 --> 03:11:50,000
guaranteed that nobody ever

4161
03:11:46,959 --> 03:11:52,318
in the entire history no one has ever

4162
03:11:50,000 --> 03:11:55,439
succeeded in the cpus committee at

4163
03:11:52,318 --> 03:11:57,840
actually making a positive improvement

4164
03:11:55,439 --> 03:12:00,398
that's almost the same as solving the

4165
03:11:57,840 --> 03:12:02,159
successor problem because if it was just

4166
03:12:00,398 --> 03:12:04,799
random who was succeeding them they

4167
03:12:02,159 --> 03:12:07,119
would sometimes make a positive decision

4168
03:12:04,799 --> 03:12:07,119
right

4169
03:12:09,680 --> 03:12:14,398
another way to say it would be

4170
03:12:12,318 --> 03:12:17,119
if you could

4171
03:12:14,398 --> 03:12:19,519
you could use the sipa fuss committee

4172
03:12:17,120 --> 03:12:21,760
as part of your language design process

4173
03:12:19,520 --> 03:12:24,079
by asking them to pick the next set of

4174
03:12:21,760 --> 03:12:26,559
things to add and then removing those

4175
03:12:24,079 --> 03:12:27,439
from the things you consider adding

4176
03:12:26,559 --> 03:12:28,559
right

4177
03:12:27,439 --> 03:12:30,000
so

4178
03:12:28,559 --> 03:12:31,920
oh yes uh

4179
03:12:30,000 --> 03:12:33,520
youngster glenn just said exactly what i

4180
03:12:31,920 --> 03:12:35,920
was sort of formally he would got there

4181
03:12:33,520 --> 03:12:35,920
faster

4182
03:12:36,959 --> 03:12:40,639
if you had enough c plus plus standards

4183
03:12:38,959 --> 03:12:42,799
committees all you'd have to do is

4184
03:12:40,639 --> 03:12:45,199
design a language so exclusively out of

4185
03:12:42,799 --> 03:12:46,959
things they didn't use and your language

4186
03:12:45,200 --> 03:12:50,159
would be perfect because they're

4187
03:12:46,959 --> 03:12:53,438
guaranteed to only pick bad things

4188
03:12:50,159 --> 03:12:56,000
so if you know that all c plus right

4189
03:12:53,439 --> 03:12:58,000
like if you can so they really have

4190
03:12:56,000 --> 03:13:00,318
produced something very interesting the

4191
03:12:58,000 --> 03:13:01,920
sibo's a standard committee literally

4192
03:13:00,318 --> 03:13:04,318
has a way

4193
03:13:01,920 --> 03:13:06,799
of guaranteeing they will produce only

4194
03:13:04,318 --> 03:13:09,199
bad language features that in and of

4195
03:13:06,799 --> 03:13:11,599
itself is actually useful because it

4196
03:13:09,200 --> 03:13:14,399
means you can always just eliminate

4197
03:13:11,600 --> 03:13:16,399
those from what you are designing

4198
03:13:14,398 --> 03:13:17,278
and your design gets better they have

4199
03:13:16,398 --> 03:13:19,840
done

4200
03:13:17,279 --> 03:13:24,000
one thing for you which is produce an

4201
03:13:19,840 --> 03:13:24,000
entire spec of things not to do

4202
03:13:27,279 --> 03:13:29,840
right

4203
03:13:37,040 --> 03:13:41,520
uh inside constant pressure you can read

4204
03:13:38,559 --> 03:13:43,680
a file and return an array i mean maybe

4205
03:13:41,520 --> 03:13:46,000
i don't know that msvc supports that yet

4206
03:13:43,680 --> 03:13:47,600
but it's possible like compile time code

4207
03:13:46,000 --> 03:13:49,279
execution you could write something that

4208
03:13:47,600 --> 03:13:51,120
would do this right

4209
03:13:49,279 --> 03:13:54,640
but i don't know how far they are on

4210
03:13:51,120 --> 03:13:58,239
actually providing that implementation

4211
03:13:54,639 --> 03:13:58,238
i have no idea right

4212
03:14:00,000 --> 03:14:04,000
yeah like meta programming makes this

4213
03:14:02,398 --> 03:14:07,719
easy right if you can just do that it's

4214
03:14:04,000 --> 03:14:07,719
not a problem but

4215
03:14:21,600 --> 03:14:25,040
yeah all right anyway so let's take a

4216
03:14:23,279 --> 03:14:28,000
look at what's going on here and see if

4217
03:14:25,040 --> 03:14:29,200
i can answer my question though about uh

4218
03:14:28,000 --> 03:14:32,398
what we're doing

4219
03:14:29,200 --> 03:14:32,399
uh for for lighting

4220
03:14:33,279 --> 03:14:37,439
so here in the now properly formatted

4221
03:14:35,439 --> 03:14:40,000
lighting sampling call you can see that

4222
03:14:37,439 --> 03:14:41,439
we actually compute

4223
03:14:40,000 --> 03:14:43,840
um

4224
03:14:41,439 --> 03:14:46,079
like the same thing twice

4225
03:14:43,840 --> 03:14:47,680
that we don't really need to because we

4226
03:14:46,079 --> 03:14:49,439
don't change

4227
03:14:47,680 --> 03:14:50,720
the dimensions of these two things so

4228
03:14:49,439 --> 03:14:52,238
it's probably

4229
03:14:50,719 --> 03:14:54,238
stupid to bother doing that in the

4230
03:14:52,238 --> 03:14:56,478
shader we should just say

4231
03:14:54,238 --> 03:14:58,079
that the diffuse and specular always

4232
03:14:56,478 --> 03:14:58,879
have to be the same

4233
03:14:58,079 --> 03:15:00,879
um

4234
03:14:58,879 --> 03:15:02,559
but you know we still don't really know

4235
03:15:00,879 --> 03:15:04,639
if maybe we want one to be more than the

4236
03:15:02,559 --> 03:15:07,840
other you could see like

4237
03:15:04,639 --> 03:15:09,119
doing something different

4238
03:15:07,840 --> 03:15:12,238
um

4239
03:15:09,120 --> 03:15:13,359
right so you know hard to say

4240
03:15:12,238 --> 03:15:15,600
um

4241
03:15:13,359 --> 03:15:17,760
we we don't really use c bus plus uh net

4242
03:15:15,600 --> 03:15:19,600
builder we basically just use c

4243
03:15:17,760 --> 03:15:21,680
uh i'm more just complaining about the

4244
03:15:19,600 --> 03:15:24,000
fact that you would think c plus would

4245
03:15:21,680 --> 03:15:26,238
be better and i could go use it but it

4246
03:15:24,000 --> 03:15:28,000
never is so i don't right i just end up

4247
03:15:26,238 --> 03:15:29,840
programming in c because people's is so

4248
03:15:28,000 --> 03:15:32,719
freaking bad

4249
03:15:29,840 --> 03:15:35,279
but i would like an improved c it's just

4250
03:15:32,719 --> 03:15:37,278
you know no one's really made one and do

4251
03:15:35,279 --> 03:15:38,319
please do not suggest languages to me

4252
03:15:37,279 --> 03:15:40,238
now

4253
03:15:38,318 --> 03:15:41,760
i really don't want to have to have a

4254
03:15:40,238 --> 03:15:43,520
gigantic flame when someone says you

4255
03:15:41,760 --> 03:15:46,398
should check out x and then i have to go

4256
03:15:43,520 --> 03:15:49,279
out ranting about how bad x is

4257
03:15:46,398 --> 03:15:51,119
uh okay so when we

4258
03:15:49,279 --> 03:15:52,238
look at this we

4259
03:15:51,120 --> 03:15:55,040
have

4260
03:15:52,238 --> 03:15:55,920
basically computed both vectors

4261
03:15:55,040 --> 03:15:58,239
but

4262
03:15:55,920 --> 03:16:00,639
we only actually and you can see here

4263
03:15:58,238 --> 03:16:02,398
we're computing like the locations of

4264
03:16:00,639 --> 03:16:05,439
things

4265
03:16:02,398 --> 03:16:07,760
but we then need to do like a texal

4266
03:16:05,439 --> 03:16:07,760
fetch

4267
03:16:08,559 --> 03:16:10,879
and

4268
03:16:11,359 --> 03:16:14,559
we're actually

4269
03:16:12,799 --> 03:16:16,959
when we are interpreting these we're

4270
03:16:14,559 --> 03:16:19,600
actually interpreting the octahedral map

4271
03:16:16,959 --> 03:16:20,478
in a more fancy way than i thought

4272
03:16:19,600 --> 03:16:22,079
uh

4273
03:16:20,478 --> 03:16:25,119
interesting so you can see we're not

4274
03:16:22,079 --> 03:16:25,120
actually doing like a

4275
03:16:25,520 --> 03:16:30,399
uh a basic interpolation we're doing if

4276
03:16:28,799 --> 03:16:32,879
like a

4277
03:16:30,398 --> 03:16:34,079
a fancier like radial like semi-radial

4278
03:16:32,879 --> 03:16:36,719
hero

4279
03:16:34,079 --> 03:16:37,090
do you guys remember doing this

4280
03:16:36,719 --> 03:16:38,959
um

4281
03:16:37,090 --> 03:16:43,079
[Music]

4282
03:16:38,959 --> 03:16:43,079
i don't remember doing this

4283
03:16:50,719 --> 03:16:54,478
i don't remember doing this but all

4284
03:16:52,238 --> 03:16:54,478
right

4285
03:16:55,439 --> 03:16:58,439
um

4286
03:17:03,040 --> 03:17:07,920
so i guess we use something better than

4287
03:17:05,439 --> 03:17:10,398
we use something better than bilinear

4288
03:17:07,920 --> 03:17:11,920
i i don't remember that we did that but

4289
03:17:10,398 --> 03:17:13,358
we do that when we interpolate the

4290
03:17:11,920 --> 03:17:14,478
octahedral map

4291
03:17:13,359 --> 03:17:15,840
and

4292
03:17:14,478 --> 03:17:16,219
are all right

4293
03:17:15,840 --> 03:17:18,880
i mean

4294
03:17:16,219 --> 03:17:21,519
[Music]

4295
03:17:18,879 --> 03:17:23,119
i guess i'm proud of us

4296
03:17:21,520 --> 03:17:24,840
for that

4297
03:17:23,120 --> 03:17:27,600
am i though

4298
03:17:24,840 --> 03:17:31,200
so i'm kind of interested now because

4299
03:17:27,600 --> 03:17:31,200
now i don't even know um

4300
03:17:31,520 --> 03:17:36,880
what happens if we turn that off

4301
03:17:34,799 --> 03:17:38,719
because i i didn't even realize we were

4302
03:17:36,879 --> 03:17:40,079
doing that uh

4303
03:17:38,719 --> 03:17:41,920
we must have played around with it at

4304
03:17:40,079 --> 03:17:44,238
some point and then decided oh it's like

4305
03:17:41,920 --> 03:17:46,478
better if you do that right

4306
03:17:44,238 --> 03:17:46,478
um

4307
03:17:47,200 --> 03:17:52,079
and to be honest i really just don't

4308
03:17:48,719 --> 03:17:55,039
remember so if we were to

4309
03:17:52,079 --> 03:17:57,920
change that to using the old path so we

4310
03:17:55,040 --> 03:17:59,840
we just that's just the standard

4311
03:17:57,920 --> 03:18:03,520
um that looks like a standard bi-linear

4312
03:17:59,840 --> 03:18:03,520
path right um

4313
03:18:03,600 --> 03:18:07,279
does that actually matter to anybody

4314
03:18:05,760 --> 03:18:09,040
because i can't imagine that it would

4315
03:18:07,279 --> 03:18:11,200
and to be completely honest i

4316
03:18:09,040 --> 03:18:13,040
don't really see a difference

4317
03:18:11,200 --> 03:18:16,139
there right

4318
03:18:13,040 --> 03:18:16,139
[Music]

4319
03:18:18,478 --> 03:18:22,159
it looks like we can also just sample

4320
03:18:20,398 --> 03:18:24,799
once so this should give us like a

4321
03:18:22,159 --> 03:18:24,799
completely

4322
03:18:29,600 --> 03:18:34,479
so is it maybe maybe maybe we only

4323
03:18:32,000 --> 03:18:36,959
reload when we restart but i don't think

4324
03:18:34,478 --> 03:18:38,639
so so that means i can take one sample

4325
03:18:36,959 --> 03:18:39,839
are we is that my am i looking at a

4326
03:18:38,639 --> 03:18:40,959
totally different like path that we

4327
03:18:39,840 --> 03:18:42,639
don't call or something we should check

4328
03:18:40,959 --> 03:18:44,639
at this fader again because i don't see

4329
03:18:42,639 --> 03:18:47,278
any difference between any of those

4330
03:18:44,639 --> 03:18:49,119
like this does not look any different

4331
03:18:47,279 --> 03:18:51,840
than that really

4332
03:18:49,120 --> 03:18:51,840
um

4333
03:18:52,079 --> 03:18:55,359
you know not in a way that like i can

4334
03:18:53,760 --> 03:18:56,639
perceive like it's probably different in

4335
03:18:55,359 --> 03:18:59,200
some way

4336
03:18:56,639 --> 03:18:59,199
but um

4337
03:18:59,520 --> 03:19:02,960
so when we do sample lighting no it's

4338
03:19:01,359 --> 03:19:05,840
calling i mean that's that's the code

4339
03:19:02,959 --> 03:19:07,119
path but it looks like we were doing a

4340
03:19:05,840 --> 03:19:08,559
lot more work than we needed to because

4341
03:19:07,120 --> 03:19:10,560
it looks like if you literally just

4342
03:19:08,559 --> 03:19:12,639
sampled if you literally or just use

4343
03:19:10,559 --> 03:19:14,159
bilinear

4344
03:19:12,639 --> 03:19:16,079
this this would do this would just do

4345
03:19:14,159 --> 03:19:17,600
the bilinear sample right here's the

4346
03:19:16,079 --> 03:19:18,959
here's manually doing the bilinear

4347
03:19:17,600 --> 03:19:21,040
sample

4348
03:19:18,959 --> 03:19:22,559
here's doing something fancier than

4349
03:19:21,040 --> 03:19:24,960
bilinear

4350
03:19:22,559 --> 03:19:26,079
and i'll be honest i just i don't see

4351
03:19:24,959 --> 03:19:28,079
the point

4352
03:19:26,079 --> 03:19:31,079
um that looked

4353
03:19:28,079 --> 03:19:31,079
fine

4354
03:19:33,040 --> 03:19:36,840
right um

4355
03:19:56,478 --> 03:20:00,879
uh

4356
03:19:57,439 --> 03:20:03,200
so you know i i don't know that we need

4357
03:20:00,879 --> 03:20:05,119
uh any of that garbage in there i mean

4358
03:20:03,200 --> 03:20:07,040
maybe we do

4359
03:20:05,120 --> 03:20:09,520
but like

4360
03:20:07,040 --> 03:20:12,319
i mean once you actually get this stuff

4361
03:20:09,520 --> 03:20:14,159
going it just doesn't seem

4362
03:20:12,318 --> 03:20:17,119
i mean i can see that that's maybe a

4363
03:20:14,159 --> 03:20:17,119
little squarier

4364
03:20:17,359 --> 03:20:20,318
yeah i mean you know

4365
03:20:22,559 --> 03:20:26,478
but part of that extra square here is

4366
03:20:24,478 --> 03:20:28,398
because we haven't addressed the other

4367
03:20:26,478 --> 03:20:30,879
problem with the light

4368
03:20:28,398 --> 03:20:33,920
not being added to

4369
03:20:30,879 --> 03:20:35,519
the uh other elements right so like

4370
03:20:33,920 --> 03:20:37,439
these guys don't really have that

4371
03:20:35,520 --> 03:20:39,120
problem particularly much

4372
03:20:37,439 --> 03:20:43,200
so i'm not sure that once we fix it we

4373
03:20:39,120 --> 03:20:44,239
would even care about that all that much

4374
03:20:43,200 --> 03:20:45,760
you know

4375
03:20:44,238 --> 03:20:48,799
so i'm not sure

4376
03:20:45,760 --> 03:20:52,398
i'm not sure we give a crap

4377
03:20:48,799 --> 03:20:55,039
i'm not sure we give a crap about that

4378
03:20:52,398 --> 03:20:57,840
um but we can see i don't know can we

4379
03:20:55,040 --> 03:20:57,840
see any difference here

4380
03:21:02,719 --> 03:21:06,318
i don't see any difference there does

4381
03:21:04,238 --> 03:21:09,600
this actually work let's like i don't

4382
03:21:06,318 --> 03:21:11,840
even remember if we reload shaders like

4383
03:21:09,600 --> 03:21:14,479
let's suppose we said like oh yeah hey

4384
03:21:11,840 --> 03:21:14,478
by the way

4385
03:21:15,439 --> 03:21:19,600
um

4386
03:21:16,639 --> 03:21:21,358
everything is is like red

4387
03:21:19,600 --> 03:21:23,760
always that's just something that

4388
03:21:21,359 --> 03:21:23,760
happens

4389
03:21:23,920 --> 03:21:26,559
in the world

4390
03:21:26,879 --> 03:21:29,679
well we're reloading shaders i can tell

4391
03:21:28,719 --> 03:21:30,719
you that

4392
03:21:29,680 --> 03:21:31,760
um

4393
03:21:30,719 --> 03:21:33,599
so

4394
03:21:31,760 --> 03:21:34,639
i don't know i mean i don't see a

4395
03:21:33,600 --> 03:21:37,279
difference

4396
03:21:34,639 --> 03:21:39,278
between the bilinear and the non so you

4397
03:21:37,279 --> 03:21:40,399
know what we're just gonna say that

4398
03:21:39,279 --> 03:21:42,399
that's

4399
03:21:40,398 --> 03:21:43,680
that's it i think i think we're turning

4400
03:21:42,398 --> 03:21:46,879
that off

4401
03:21:43,680 --> 03:21:49,120
and i don't know like

4402
03:21:46,879 --> 03:21:53,519
it seems like it's just fine as just a

4403
03:21:49,120 --> 03:21:55,680
regular bilinear sample i don't

4404
03:21:53,520 --> 03:21:58,000
i think that's probably fine and this is

4405
03:21:55,680 --> 03:22:00,479
i think mostly again like i think we can

4406
03:21:58,000 --> 03:22:01,600
fix that that squariness in a different

4407
03:22:00,478 --> 03:22:03,438
way

4408
03:22:01,600 --> 03:22:05,359
so i'm gonna i'm gonna go ahead and say

4409
03:22:03,439 --> 03:22:07,840
like maybe we just don't care about this

4410
03:22:05,359 --> 03:22:07,840
stuff

4411
03:22:13,600 --> 03:22:17,359
like maybe we just don't care about this

4412
03:22:15,439 --> 03:22:20,318
stuff

4413
03:22:17,359 --> 03:22:22,238
so let's suppose we went here and we uh

4414
03:22:20,318 --> 03:22:25,439
grimbled this particular

4415
03:22:22,238 --> 03:22:25,439
gronkus here

4416
03:22:26,159 --> 03:22:29,680
and this just became

4417
03:22:28,159 --> 03:22:31,760
you know

4418
03:22:29,680 --> 03:22:33,439
something i don't know what the a value

4419
03:22:31,760 --> 03:22:34,370
is doing there i don't know why this is

4420
03:22:33,439 --> 03:22:35,439
even returning

4421
03:22:34,370 --> 03:22:37,600
[Music]

4422
03:22:35,439 --> 03:22:39,279
um an alpha value in the first place

4423
03:22:37,600 --> 03:22:40,399
that doesn't really make any sense i

4424
03:22:39,279 --> 03:22:43,359
don't know why

4425
03:22:40,398 --> 03:22:45,358
why any of this is a v4

4426
03:22:43,359 --> 03:22:46,840
um

4427
03:22:45,359 --> 03:22:48,800
it's just

4428
03:22:46,840 --> 03:22:51,359
stupid um

4429
03:22:48,799 --> 03:22:52,079
it don't make no sense anyhow

4430
03:22:51,359 --> 03:22:55,200
so

4431
03:22:52,079 --> 03:22:56,318
probably this should all be v3s

4432
03:22:55,200 --> 03:22:59,200
right

4433
03:22:56,318 --> 03:23:01,680
like like what would the a value

4434
03:22:59,200 --> 03:23:03,120
what's the alpha value there's no

4435
03:23:01,680 --> 03:23:06,159
point to that

4436
03:23:03,120 --> 03:23:08,319
so this should probably be all bv threes

4437
03:23:06,159 --> 03:23:10,000
right all the way down

4438
03:23:08,318 --> 03:23:14,639
um and

4439
03:23:10,000 --> 03:23:14,639
because i don't see any point to it

4440
03:23:14,840 --> 03:23:19,840
um because what what was what were you

4441
03:23:18,318 --> 03:23:21,760
doing with the what were you gonna do

4442
03:23:19,840 --> 03:23:24,000
with that alpha right like what was the

4443
03:23:21,760 --> 03:23:27,279
point of that there's no point

4444
03:23:24,000 --> 03:23:30,000
so let's change this to do a v3 because

4445
03:23:27,279 --> 03:23:32,399
we had to amplify it to not do that

4446
03:23:30,000 --> 03:23:34,639
which seems dumb

4447
03:23:32,398 --> 03:23:34,639
um

4448
03:23:34,879 --> 03:23:38,238
so let's go ahead and

4449
03:23:36,430 --> 03:23:40,559
[Music]

4450
03:23:38,238 --> 03:23:42,000
just remove all that garbage so that now

4451
03:23:40,559 --> 03:23:43,760
we just have this

4452
03:23:42,000 --> 03:23:45,600
uh and let's see we're probably going to

4453
03:23:43,760 --> 03:23:47,120
get a compiler because i probably

4454
03:23:45,600 --> 03:23:49,760
you know chunked something out there

4455
03:23:47,120 --> 03:23:49,760
accidentally

4456
03:23:49,840 --> 03:23:52,478
we'll probably end up at shader

4457
03:23:50,879 --> 03:23:55,199
validation failed

4458
03:23:52,478 --> 03:23:55,199
nope we didn't

4459
03:23:56,478 --> 03:23:59,559
all right

4460
03:23:59,600 --> 03:24:01,520
um

4461
03:24:00,559 --> 03:24:03,519
so

4462
03:24:01,520 --> 03:24:06,079
that's all fine and and

4463
03:24:03,520 --> 03:24:09,120
whatever and that's good

4464
03:24:06,079 --> 03:24:10,079
uh and if i clean up the indentation

4465
03:24:09,120 --> 03:24:13,520
here that

4466
03:24:10,079 --> 03:24:15,279
that four coder munged um

4467
03:24:13,520 --> 03:24:18,399
we can see

4468
03:24:15,279 --> 03:24:20,960
roughly what this code is doing as well

4469
03:24:18,398 --> 03:24:21,959
um which is again not

4470
03:24:20,959 --> 03:24:26,039
particularly

4471
03:24:21,959 --> 03:24:26,039
interesting um

4472
03:24:26,318 --> 03:24:32,398
this is just indented too far

4473
03:24:29,680 --> 03:24:34,800
for no reason

4474
03:24:32,398 --> 03:24:38,000
uh but but now we're good

4475
03:24:34,799 --> 03:24:41,679
so we can see the lighting sampling here

4476
03:24:38,000 --> 03:24:44,398
is just taking the light sample from the

4477
03:24:41,680 --> 03:24:48,238
uh from the eight neighbor

4478
03:24:44,398 --> 03:24:50,799
like light probes for any given pixel

4479
03:24:48,238 --> 03:24:54,600
uh and because gpus are so ridiculously

4480
03:24:50,799 --> 03:24:54,599
fast that's just fine

4481
03:24:54,879 --> 03:24:58,289
um

4482
03:24:55,239 --> 03:24:58,289
[Music]

4483
03:25:01,680 --> 03:25:05,760
uh well no more specifically in four

4484
03:25:03,760 --> 03:25:08,079
coder if i told it to indent it would

4485
03:25:05,760 --> 03:25:09,439
indent but the problem is it thinks this

4486
03:25:08,079 --> 03:25:11,760
is a string

4487
03:25:09,439 --> 03:25:14,479
so it's going to do things completely

4488
03:25:11,760 --> 03:25:16,719
wrong right that that was the entire

4489
03:25:14,478 --> 03:25:18,238
part of the problem normally it just

4490
03:25:16,719 --> 03:25:20,478
indents everything for you automatically

4491
03:25:18,238 --> 03:25:22,879
and you don't have to do anything right

4492
03:25:20,478 --> 03:25:24,318
but in here and we could add a function

4493
03:25:22,879 --> 03:25:25,358
that just like moved things around in

4494
03:25:24,318 --> 03:25:27,519
here but

4495
03:25:25,359 --> 03:25:29,120
really what i want is for to just indent

4496
03:25:27,520 --> 03:25:30,800
these as if they were code and

4497
03:25:29,120 --> 03:25:33,040
unfortunately there's no way to tell it

4498
03:25:30,799 --> 03:25:34,478
to do that at the moment

4499
03:25:33,040 --> 03:25:36,000
um

4500
03:25:34,478 --> 03:25:39,519
which is partly for code as well but

4501
03:25:36,000 --> 03:25:39,520
it's partly c plus pluses fault

4502
03:25:40,639 --> 03:25:43,840
for sucking

4503
03:25:42,318 --> 03:25:46,559
so anyway uh

4504
03:25:43,840 --> 03:25:47,760
when we do this sample we could uh in

4505
03:25:46,559 --> 03:25:49,119
addition

4506
03:25:47,760 --> 03:25:52,159
take a

4507
03:25:49,120 --> 03:25:54,800
uh we we now have the specular sampler

4508
03:25:52,159 --> 03:25:57,039
here uh and we could

4509
03:25:54,799 --> 03:25:58,559
uh call this instead of like color

4510
03:25:57,040 --> 03:26:01,040
sampler i could call this diffuse

4511
03:25:58,559 --> 03:26:01,039
sampler

4512
03:26:01,200 --> 03:26:05,840
so that it's clear what's actually

4513
03:26:02,478 --> 03:26:09,599
happening here right diffuse sampler

4514
03:26:05,840 --> 03:26:09,600
um and we would then

4515
03:26:10,318 --> 03:26:20,079
change this to defuse sampler like so

4516
03:26:15,920 --> 03:26:21,760
uh and i think uh that would give us

4517
03:26:20,079 --> 03:26:23,760
this exact same behaviors we had now

4518
03:26:21,760 --> 03:26:25,279
only the like nomenclature actually

4519
03:26:23,760 --> 03:26:27,120
lines up

4520
03:26:25,279 --> 03:26:28,960
so let's think about specular here

4521
03:26:27,120 --> 03:26:30,720
because i figured we can now actually

4522
03:26:28,959 --> 03:26:32,719
take the specular sample as well we

4523
03:26:30,719 --> 03:26:34,799
could instead like and let's just do it

4524
03:26:32,719 --> 03:26:39,199
directly

4525
03:26:34,799 --> 03:26:39,199
we can do a specular sampler

4526
03:26:39,760 --> 03:26:44,478
um

4527
03:26:41,760 --> 03:26:46,000
sample specular uv and and now that will

4528
03:26:44,478 --> 03:26:47,519
just overwrite our diffuse sampler with

4529
03:26:46,000 --> 03:26:49,279
a spec spec

4530
03:26:47,520 --> 03:26:51,200
specular sample

4531
03:26:49,279 --> 03:26:53,040
which would make everything unpleasant

4532
03:26:51,200 --> 03:26:54,239
and shiny if any of this works which it

4533
03:26:53,040 --> 03:26:56,560
might not

4534
03:26:54,238 --> 03:26:58,238
um but you can kind of see the the

4535
03:26:56,559 --> 03:27:00,159
difference there right

4536
03:26:58,238 --> 03:27:01,199
so everything is like very reflective

4537
03:27:00,159 --> 03:27:04,719
now

4538
03:27:01,200 --> 03:27:06,239
um and and nothing is smooth like it was

4539
03:27:04,719 --> 03:27:07,358
before

4540
03:27:06,238 --> 03:27:09,279
right

4541
03:27:07,359 --> 03:27:11,520
um

4542
03:27:09,279 --> 03:27:11,520
so

4543
03:27:11,600 --> 03:27:16,159
the spec sample is not going to be going

4544
03:27:14,000 --> 03:27:18,478
in the right direction right now

4545
03:27:16,159 --> 03:27:20,159
uh so we have to kind of change that a

4546
03:27:18,478 --> 03:27:21,679
little bit but i would like to change it

4547
03:27:20,159 --> 03:27:23,039
just so i can see what kind of specular

4548
03:27:21,680 --> 03:27:24,559
lighting we have because we actually

4549
03:27:23,040 --> 03:27:26,239
kind of have spec lighting that we're

4550
03:27:24,559 --> 03:27:27,600
not actually using it we probably should

4551
03:27:26,238 --> 03:27:29,680
right

4552
03:27:27,600 --> 03:27:32,720
um

4553
03:27:29,680 --> 03:27:34,720
so yeah so when we look here we've got

4554
03:27:32,719 --> 03:27:37,119
we're going to sample the lighting right

4555
03:27:34,719 --> 03:27:39,599
we do the lighting sample whatever blah

4556
03:27:37,120 --> 03:27:39,600
blah

4557
03:27:40,840 --> 03:27:46,880
um we need to take the light direction

4558
03:27:51,439 --> 03:27:57,680
which i guess is this

4559
03:27:55,040 --> 03:28:00,319
so that's

4560
03:27:57,680 --> 03:28:00,318
wrong

4561
03:28:01,359 --> 03:28:08,040
kind of is it i mean no i guess we would

4562
03:28:03,760 --> 03:28:08,040
sample them both from the same place

4563
03:28:11,680 --> 03:28:17,359
would we

4564
03:28:14,079 --> 03:28:17,359
that that's probably not true

4565
03:28:18,000 --> 03:28:21,359
so here's us mapping it into the

4566
03:28:19,840 --> 03:28:25,478
octahedron

4567
03:28:21,359 --> 03:28:25,479
where we're actually sampling

4568
03:28:27,359 --> 03:28:30,640
so the problem here is that you would

4569
03:28:29,439 --> 03:28:32,159
you would have two of these right

4570
03:28:30,639 --> 03:28:35,680
because one of those gonna be like the

4571
03:28:32,159 --> 03:28:36,799
uh gonna reflect off the i vector

4572
03:28:35,680 --> 03:28:39,800
right

4573
03:28:36,799 --> 03:28:39,799
um

4574
03:28:44,959 --> 03:28:47,199
uh

4575
03:28:47,840 --> 03:28:51,920
uh sarah croqueta uh you can do that if

4576
03:28:50,318 --> 03:28:53,840
you want in four forecoder you would

4577
03:28:51,920 --> 03:28:56,000
just have had to have

4578
03:28:53,840 --> 03:28:58,318
actually created that function right or

4579
03:28:56,000 --> 03:29:01,520
rather bound that function to something

4580
03:28:58,318 --> 03:29:05,359
i like manually created all the stuff

4581
03:29:01,520 --> 03:29:07,439
that is bound to the keys in my version

4582
03:29:05,359 --> 03:29:10,800
so

4583
03:29:07,439 --> 03:29:12,159
i don't actually have anything bound to

4584
03:29:10,799 --> 03:29:12,959
that

4585
03:29:12,159 --> 03:29:14,799
right

4586
03:29:12,959 --> 03:29:17,679
it would be very easy for me to add

4587
03:29:14,799 --> 03:29:19,599
something like that but but because

4588
03:29:17,680 --> 03:29:20,960
literally you never need that for any

4589
03:29:19,600 --> 03:29:24,079
reason

4590
03:29:20,959 --> 03:29:26,238
um i never added it i ever never added a

4591
03:29:24,079 --> 03:29:27,120
binding to do that

4592
03:29:26,238 --> 03:29:29,359
i

4593
03:29:27,120 --> 03:29:29,359
so

4594
03:29:29,680 --> 03:29:35,040
you know we end up in this situation i

4595
03:29:31,760 --> 03:29:37,520
could go add one but

4596
03:29:35,040 --> 03:29:39,520
really i think i i don't want that i

4597
03:29:37,520 --> 03:29:41,920
want to have this auto indented like

4598
03:29:39,520 --> 03:29:43,920
everything else so i probably will just

4599
03:29:41,920 --> 03:29:45,359
move them to separate files at some

4600
03:29:43,920 --> 03:29:47,359
point

4601
03:29:45,359 --> 03:29:49,840
probably

4602
03:29:47,359 --> 03:29:49,840
um

4603
03:29:51,040 --> 03:29:56,479
so you know i don't know but anyway uh

4604
03:29:54,000 --> 03:29:59,359
the point is so the specular version of

4605
03:29:56,478 --> 03:30:02,238
this uh i think now we would just need

4606
03:29:59,359 --> 03:30:04,399
to have the reflection vector the i

4607
03:30:02,238 --> 03:30:07,279
reflection vector

4608
03:30:04,398 --> 03:30:12,318
would have to be somewhere in there

4609
03:30:07,279 --> 03:30:17,680
right um so so at the moment

4610
03:30:12,318 --> 03:30:18,469
when we compute this we take

4611
03:30:17,680 --> 03:30:21,840
the

4612
03:30:18,469 --> 03:30:21,840
[Music]

4613
03:30:23,600 --> 03:30:26,479
yeah

4614
03:30:24,478 --> 03:30:28,398
right you can actually see it it's like

4615
03:30:26,478 --> 03:30:32,000
right here

4616
03:30:28,398 --> 03:30:33,358
that that for those of you who

4617
03:30:32,000 --> 03:30:36,719
know what you

4618
03:30:33,359 --> 03:30:40,399
are looking at um

4619
03:30:36,719 --> 03:30:40,398
that is literally the reflection

4620
03:30:42,238 --> 03:30:47,318
right um so if we change to using the

4621
03:30:45,760 --> 03:30:50,238
actual reflection

4622
03:30:47,318 --> 03:30:51,359
reflection vector

4623
03:30:50,238 --> 03:30:53,359
uh

4624
03:30:51,359 --> 03:30:56,479
we would get this

4625
03:30:53,359 --> 03:30:59,840
um which hey looks a lot

4626
03:30:56,478 --> 03:30:59,840
like specular lighting now

4627
03:31:00,318 --> 03:31:05,039
as you might expect

4628
03:31:02,719 --> 03:31:05,039
um

4629
03:31:05,279 --> 03:31:09,200
so

4630
03:31:06,398 --> 03:31:11,358
right you can see it travel upward you

4631
03:31:09,200 --> 03:31:12,640
can even see it smear out across the

4632
03:31:11,359 --> 03:31:14,880
surface there

4633
03:31:12,639 --> 03:31:16,639
right exactly like a wet surface would

4634
03:31:14,879 --> 03:31:18,000
do

4635
03:31:16,639 --> 03:31:22,238
um

4636
03:31:18,000 --> 03:31:22,238
so we certainly could

4637
03:31:24,799 --> 03:31:27,840
now have

4638
03:31:32,719 --> 03:31:35,039
um

4639
03:31:35,359 --> 03:31:39,600
we could now have lighting that had

4640
03:31:37,439 --> 03:31:42,079
actual surface properties meaning things

4641
03:31:39,600 --> 03:31:44,318
could be like part spec part diffuse if

4642
03:31:42,079 --> 03:31:47,120
you want you could blend

4643
03:31:44,318 --> 03:31:47,119
those two together

4644
03:31:50,159 --> 03:31:54,478
which seems valuable because you get

4645
03:31:51,760 --> 03:31:56,960
kind of some of those nice effects right

4646
03:31:54,478 --> 03:31:57,359
like that

4647
03:31:56,959 --> 03:32:00,458
um

4648
03:31:57,360 --> 03:32:00,459
[Music]

4649
03:32:04,559 --> 03:32:08,238
uh reese cyrillic i was wondering about

4650
03:32:06,559 --> 03:32:09,519
some of that so i no i would like to

4651
03:32:08,238 --> 03:32:10,959
know what you're talking about so let me

4652
03:32:09,520 --> 03:32:12,720
take a look you can use a macro like

4653
03:32:10,959 --> 03:32:15,119
pound defined shutter code a

4654
03:32:12,719 --> 03:32:17,599
pound a

4655
03:32:15,120 --> 03:32:21,120
and then on kerastar shader equals

4656
03:32:17,600 --> 03:32:21,120
shader code insert shader

4657
03:32:21,600 --> 03:32:26,960
here

4658
03:32:23,279 --> 03:32:26,960
the shader code

4659
03:32:30,159 --> 03:32:33,159
interesting

4660
03:32:37,279 --> 03:32:41,359
interesting um

4661
03:32:39,040 --> 03:32:42,960
that seems like a good trick that i

4662
03:32:41,359 --> 03:32:44,159
might try

4663
03:32:42,959 --> 03:32:46,559
uh

4664
03:32:44,159 --> 03:32:47,000
actually

4665
03:32:46,559 --> 03:32:49,039
um

4666
03:32:47,000 --> 03:32:50,799
[Music]

4667
03:32:49,040 --> 03:32:52,960
yeah no i would i would definitely try

4668
03:32:50,799 --> 03:32:52,959
that

4669
03:32:54,959 --> 03:32:59,679
so i'm interested in the um in

4670
03:32:57,760 --> 03:33:01,279
we might try that that's a good idea i

4671
03:32:59,680 --> 03:33:04,279
like that trick

4672
03:33:01,279 --> 03:33:04,279
um

4673
03:33:08,000 --> 03:33:12,478
so i don't really know

4674
03:33:09,920 --> 03:33:15,478
what to do about this exactly

4675
03:33:12,478 --> 03:33:15,478
um

4676
03:33:27,120 --> 03:33:30,800
so i think what we probably want to do

4677
03:33:28,959 --> 03:33:33,039
is be able to pass down the two

4678
03:33:30,799 --> 03:33:35,278
octahedral values here we want one for

4679
03:33:33,040 --> 03:33:36,880
each of them so we would want this to be

4680
03:33:35,279 --> 03:33:40,479
like the world end is one and the

4681
03:33:36,879 --> 03:33:43,599
reflection vector is another

4682
03:33:40,478 --> 03:33:45,679
uh and this function would want to be uh

4683
03:33:43,600 --> 03:33:47,680
able to be called for either so like

4684
03:33:45,680 --> 03:33:49,040
this would need to be a thing that you

4685
03:33:47,680 --> 03:33:50,238
could call

4686
03:33:49,040 --> 03:33:52,560
right

4687
03:33:50,238 --> 03:33:54,478
uh and you would want to be able to get

4688
03:33:52,559 --> 03:33:56,238
the v2 that you were using for sampling

4689
03:33:54,478 --> 03:33:58,398
here and you want to be able to pass

4690
03:33:56,238 --> 03:33:59,840
like both of those in

4691
03:33:58,398 --> 03:34:00,719
so you'd want to have a thing that was

4692
03:33:59,840 --> 03:34:02,159
like

4693
03:34:00,719 --> 03:34:04,398
oct from

4694
03:34:02,159 --> 03:34:06,079
or something

4695
03:34:04,398 --> 03:34:08,159
uh and we'll you know what after i'm

4696
03:34:06,079 --> 03:34:09,840
done with this real quick we should try

4697
03:34:08,159 --> 03:34:12,318
that uh

4698
03:34:09,840 --> 03:34:15,840
that pound defined trick i like that

4699
03:34:12,318 --> 03:34:15,840
solve it with uh

4700
03:34:16,799 --> 03:34:19,599
with a macro

4701
03:34:20,079 --> 03:34:22,398
um

4702
03:34:23,439 --> 03:34:28,960
so if you pass in a normal

4703
03:34:26,398 --> 03:34:32,318
i i guess we'll just use r here right

4704
03:34:28,959 --> 03:34:32,318
uh then you get oct out

4705
03:34:34,559 --> 03:34:37,119
like this

4706
03:34:36,238 --> 03:34:39,520
um

4707
03:34:37,120 --> 03:34:41,200
that seems fine

4708
03:34:39,520 --> 03:34:44,319
uh and then in here

4709
03:34:41,200 --> 03:34:46,239
we would just say like v2

4710
03:34:44,318 --> 03:34:48,318
oct

4711
03:34:46,238 --> 03:34:49,760
equals oct from

4712
03:34:48,318 --> 03:34:50,639
world n

4713
03:34:49,760 --> 03:34:51,680
right

4714
03:34:50,639 --> 03:34:53,119
or

4715
03:34:51,680 --> 03:34:54,238
r

4716
03:34:53,120 --> 03:34:58,880
right

4717
03:34:54,238 --> 03:34:58,879
um and so we could get both now

4718
03:35:04,639 --> 03:35:08,079
uh so that we could get both the

4719
03:35:06,159 --> 03:35:09,439
reflection vector and maybe i call this

4720
03:35:08,079 --> 03:35:11,359
reflected

4721
03:35:09,439 --> 03:35:14,318
uh so it's a little clear what what the

4722
03:35:11,359 --> 03:35:14,318
heck r is

4723
03:35:15,520 --> 03:35:18,880
um

4724
03:35:16,559 --> 03:35:22,840
and then we have like

4725
03:35:18,879 --> 03:35:27,199
uh the diffuse oct and the spec oct

4726
03:35:22,840 --> 03:35:27,200
right uh we pass them both

4727
03:35:30,879 --> 03:35:34,799
um

4728
03:35:31,920 --> 03:35:36,960
in here

4729
03:35:34,799 --> 03:35:39,278
so hard to edit anything as a string so

4730
03:35:36,959 --> 03:35:41,199
this is why i want to fix this if i can

4731
03:35:39,279 --> 03:35:42,800
it's really hard to edit when it's all a

4732
03:35:41,200 --> 03:35:44,560
big string and

4733
03:35:42,799 --> 03:35:45,840
four coder doesn't think it's a real

4734
03:35:44,559 --> 03:35:48,079
thing

4735
03:35:45,840 --> 03:35:48,079
um

4736
03:35:51,680 --> 03:35:56,559
there

4737
03:35:53,040 --> 03:35:58,160
so now we have both of the uh the two

4738
03:35:56,559 --> 03:36:02,478
octahedrals the reflected and the

4739
03:35:58,159 --> 03:36:02,478
diffuse and they would come in here as

4740
03:36:04,159 --> 03:36:08,719
uh dif spec and diff oct so that when we

4741
03:36:06,639 --> 03:36:09,840
look at where oct is actually happening

4742
03:36:08,719 --> 03:36:12,159
here

4743
03:36:09,840 --> 03:36:12,159
um

4744
03:36:18,799 --> 03:36:23,039
it's literally just that one

4745
03:36:23,279 --> 03:36:27,439
so i think it's just this

4746
03:36:29,040 --> 03:36:38,239
don't ask me why i wrote that backwards

4747
03:36:34,000 --> 03:36:39,920
um so maybe that does both samples

4748
03:36:38,238 --> 03:36:42,879
maybe

4749
03:36:39,920 --> 03:36:44,639
uh i ain't even know

4750
03:36:42,879 --> 03:36:47,519
uh but we'll find out

4751
03:36:44,639 --> 03:36:48,639
so if we look at you know our vague test

4752
03:36:47,520 --> 03:36:52,159
here it

4753
03:36:48,639 --> 03:36:54,799
kind of looks right i mean you know this

4754
03:36:52,159 --> 03:36:56,478
not particularly accurate uh testing

4755
03:36:54,799 --> 03:36:57,519
here but okay

4756
03:36:56,478 --> 03:37:00,959
you know

4757
03:36:57,520 --> 03:37:03,359
looks a little bit like something

4758
03:37:00,959 --> 03:37:04,639
uh not very good but it looks like

4759
03:37:03,359 --> 03:37:08,079
something

4760
03:37:04,639 --> 03:37:11,439
um so we can here take both samples so

4761
03:37:08,079 --> 03:37:11,439
here's the diffuse

4762
03:37:11,760 --> 03:37:18,639
uh here's the spec we have both of them

4763
03:37:15,840 --> 03:37:21,359
uh and we could use those to produce the

4764
03:37:18,639 --> 03:37:24,719
results so we could do like diffuse plus

4765
03:37:21,359 --> 03:37:27,439
specular to produce our our results

4766
03:37:24,719 --> 03:37:29,358
um and normally what you would do is

4767
03:37:27,439 --> 03:37:30,960
we'd have a material parameter here we

4768
03:37:29,359 --> 03:37:33,120
don't have one right now but you'd have

4769
03:37:30,959 --> 03:37:35,438
a material parameter

4770
03:37:33,120 --> 03:37:36,960
that would tell you uh

4771
03:37:35,439 --> 03:37:38,398
which you had

4772
03:37:36,959 --> 03:37:39,759
right like

4773
03:37:38,398 --> 03:37:42,959
whether a surface is particularly

4774
03:37:39,760 --> 03:37:44,880
diffuse whether it's particularly

4775
03:37:42,959 --> 03:37:46,079
um specular

4776
03:37:44,879 --> 03:37:48,959
right

4777
03:37:46,079 --> 03:37:52,398
and so for right now we'll just pretend

4778
03:37:48,959 --> 03:37:55,039
everything's like half and half

4779
03:37:52,398 --> 03:37:56,478
uh because we don't have a

4780
03:37:55,040 --> 03:37:59,040
you know we don't have a material

4781
03:37:56,478 --> 03:38:02,398
parameter but eventually

4782
03:37:59,040 --> 03:38:03,680
uh you know maybe we get a way to send

4783
03:38:02,398 --> 03:38:08,000
something in there

4784
03:38:03,680 --> 03:38:08,000
to you know say like you're gonna

4785
03:38:11,439 --> 03:38:14,079
you know put put those together i don't

4786
03:38:13,279 --> 03:38:16,079
know

4787
03:38:14,079 --> 03:38:17,920
uh so anyway like i'll just pretend we

4788
03:38:16,079 --> 03:38:21,120
have one i'll put it to do like it'll

4789
03:38:17,920 --> 03:38:24,478
just be like hey yeah there's like a

4790
03:38:21,120 --> 03:38:25,600
uh spec level spec

4791
03:38:24,478 --> 03:38:27,119
spec

4792
03:38:25,600 --> 03:38:29,279
shift

4793
03:38:27,120 --> 03:38:30,640
i don't know what this would be but like

4794
03:38:29,279 --> 03:38:32,479
material

4795
03:38:30,639 --> 03:38:34,799
it's called material

4796
03:38:32,478 --> 03:38:36,959
and for now it's like half and half so

4797
03:38:34,799 --> 03:38:38,478
we lurk between

4798
03:38:36,959 --> 03:38:41,919
these two

4799
03:38:38,478 --> 03:38:43,920
like that um and so this is just gonna

4800
03:38:41,920 --> 03:38:45,199
be like it's half and half there's no

4801
03:38:43,920 --> 03:38:46,238
rhyme or reason to it it's just that's

4802
03:38:45,199 --> 03:38:48,960
what it is

4803
03:38:46,238 --> 03:38:51,279
um and if we wanted to we could use that

4804
03:38:48,959 --> 03:38:52,799
to like control some aspect of what

4805
03:38:51,279 --> 03:38:54,880
these materials look like

4806
03:38:52,799 --> 03:38:56,719
as it is this just kind of makes it look

4807
03:38:54,879 --> 03:38:59,278
maybe a little bit better because you

4808
03:38:56,719 --> 03:39:01,840
get a little bit of a feel like that

4809
03:38:59,279 --> 03:39:04,319
just looks a little nicer it just gives

4810
03:39:01,840 --> 03:39:06,318
you know a little bit of character to it

4811
03:39:04,318 --> 03:39:07,600
um so i can't see that it hurts to just

4812
03:39:06,318 --> 03:39:09,039
turn that on everywhere and maybe that's

4813
03:39:07,600 --> 03:39:10,479
all we actually ever do maybe we don't

4814
03:39:09,040 --> 03:39:12,479
have material parameters because it's

4815
03:39:10,478 --> 03:39:14,079
not like it's real spec like it's not

4816
03:39:12,478 --> 03:39:15,599
like we're actually computing at higher

4817
03:39:14,079 --> 03:39:17,439
enough resolution for it to be like

4818
03:39:15,600 --> 03:39:19,040
bounce reflections right doesn't we

4819
03:39:17,439 --> 03:39:22,040
don't really do that

4820
03:39:19,040 --> 03:39:22,040
um

4821
03:39:22,238 --> 03:39:26,238
but it's all right so let's see um

4822
03:39:26,478 --> 03:39:28,079
the

4823
03:39:27,279 --> 03:39:29,520
the

4824
03:39:28,079 --> 03:39:32,079
shader code thing here that was

4825
03:39:29,520 --> 03:39:34,238
suggested uh

4826
03:39:32,079 --> 03:39:37,559
let's let's see what happens with the

4827
03:39:34,238 --> 03:39:37,559
shader code

4828
03:39:37,840 --> 03:39:40,159
trick

4829
03:39:43,199 --> 03:39:45,600
so

4830
03:39:43,920 --> 03:39:47,840
the select suggestion was to basically

4831
03:39:45,600 --> 03:39:49,199
do something like this like say hey

4832
03:39:47,840 --> 03:39:50,719
there's something called embed shader or

4833
03:39:49,199 --> 03:39:52,239
whatever

4834
03:39:50,719 --> 03:39:54,719
and you

4835
03:39:52,238 --> 03:39:57,439
include the code and it just puts the

4836
03:39:54,719 --> 03:39:59,198
code as a giant string

4837
03:39:57,439 --> 03:40:02,238
and then the idea here would be that you

4838
03:39:59,199 --> 03:40:04,640
would say well okay

4839
03:40:02,238 --> 03:40:06,478
instead of the hear doc version that

4840
03:40:04,639 --> 03:40:08,478
happens like this

4841
03:40:06,478 --> 03:40:09,278
uh the suggestion was well you just do

4842
03:40:08,478 --> 03:40:13,358
that

4843
03:40:09,279 --> 03:40:15,439
and you see if that works at all right

4844
03:40:13,359 --> 03:40:17,680
i'm not optimistic that'll work but who

4845
03:40:15,439 --> 03:40:19,840
the heck knows maybe it will and in

4846
03:40:17,680 --> 03:40:22,720
which case if it does work that would be

4847
03:40:19,840 --> 03:40:25,199
cool right so now this is our gigantic

4848
03:40:22,719 --> 03:40:27,119
shader um that is all included as actual

4849
03:40:25,199 --> 03:40:29,040
code and in theory i could come in here

4850
03:40:27,120 --> 03:40:31,199
maybe and indent it

4851
03:40:29,040 --> 03:40:33,199
um and it would indent although it looks

4852
03:40:31,199 --> 03:40:36,159
like it's kind of like far because it

4853
03:40:33,199 --> 03:40:38,560
indents to that as the as the margin

4854
03:40:36,159 --> 03:40:41,199
um but i could maybe do something like

4855
03:40:38,559 --> 03:40:43,119
this and that way it would pull it back

4856
03:40:41,199 --> 03:40:44,800
a little bit further and that would be

4857
03:40:43,120 --> 03:40:47,279
fine but then it all like indents

4858
03:40:44,799 --> 03:40:48,959
correctly which is what i want

4859
03:40:47,279 --> 03:40:50,399
so that's like it would be way better if

4860
03:40:48,959 --> 03:40:53,599
this actually compiles i don't know if

4861
03:40:50,398 --> 03:40:53,599
it will but we'll give it a shot

4862
03:40:55,359 --> 03:40:58,000
no errors

4863
03:40:58,719 --> 03:41:05,719
um shader validation failed did i

4864
03:41:01,680 --> 03:41:05,720
accidentally clip something out

4865
03:41:19,520 --> 03:41:23,159
let's look at the errors

4866
03:41:42,879 --> 03:41:45,198
um

4867
03:41:52,959 --> 03:41:54,719
i

4868
03:41:53,299 --> 03:41:56,639
[Music]

4869
03:41:54,719 --> 03:42:01,198
don't quite

4870
03:41:56,639 --> 03:42:01,198
follow what has gone wrong here

4871
03:42:05,040 --> 03:42:10,760
is it

4872
03:42:06,238 --> 03:42:10,760
this that it's complaining about

4873
03:42:15,920 --> 03:42:24,199
there's no other token pound in there

4874
03:42:19,199 --> 03:42:24,199
except on this depth peel

4875
03:42:24,318 --> 03:42:28,359
pound if

4876
03:42:39,920 --> 03:42:42,159
so

4877
03:42:51,840 --> 03:42:57,199
yeah the the pound ifs wouldn't come

4878
03:42:54,559 --> 03:42:57,198
through right

4879
03:43:04,799 --> 03:43:08,719
so so like that probably doesn't work i

4880
03:43:07,040 --> 03:43:11,520
mean i don't know what i don't know what

4881
03:43:08,719 --> 03:43:13,278
the spec for the the string eyes

4882
03:43:11,520 --> 03:43:16,238
operator which is that thing

4883
03:43:13,279 --> 03:43:18,800
i don't know what that does

4884
03:43:16,238 --> 03:43:18,799
with this

4885
03:43:18,879 --> 03:43:21,839
um

4886
03:43:24,079 --> 03:43:27,760
i i don't know

4887
03:43:25,680 --> 03:43:30,079
but it does look like it don't work

4888
03:43:27,760 --> 03:43:30,079
right

4889
03:43:31,040 --> 03:43:34,040
um

4890
03:43:35,760 --> 03:43:40,800
probably just because of those i mean

4891
03:43:38,238 --> 03:43:43,520
probably it would be fine without those

4892
03:43:40,799 --> 03:43:43,519
i guess

4893
03:43:44,879 --> 03:43:48,920
i mean we can do the test

4894
03:44:02,238 --> 03:44:05,920
like i'll have to undo those changes

4895
03:44:04,238 --> 03:44:07,520
because we we need we actually need

4896
03:44:05,920 --> 03:44:09,439
those pound diffs like i don't want to

4897
03:44:07,520 --> 03:44:11,120
get rid of them right but we can

4898
03:44:09,439 --> 03:44:16,199
certainly try

4899
03:44:11,120 --> 03:44:16,199
uh to see if it would work without that

4900
03:44:20,478 --> 03:44:25,039
so so it is actually the pro that is

4901
03:44:23,120 --> 03:44:27,600
actually the problem right you can't you

4902
03:44:25,040 --> 03:44:30,600
can't have poundifs in it

4903
03:44:27,600 --> 03:44:30,600
um

4904
03:44:31,040 --> 03:44:37,439
so like we could try to work around that

4905
03:44:34,719 --> 03:44:39,679
a different way

4906
03:44:37,439 --> 03:44:39,680
but

4907
03:44:42,398 --> 03:44:46,318
i mean we we do need

4908
03:44:46,559 --> 03:44:50,879
we we compile the shader in a couple of

4909
03:44:48,719 --> 03:44:52,879
different ways right and and like maybe

4910
03:44:50,879 --> 03:44:54,398
we could change kind of how we're doing

4911
03:44:52,879 --> 03:44:56,799
that

4912
03:44:54,398 --> 03:44:56,799
um

4913
03:44:57,600 --> 03:44:59,840
so

4914
03:45:00,879 --> 03:45:04,159
but for now i think the raw string

4915
03:45:02,398 --> 03:45:05,840
literals are all we really would have

4916
03:45:04,159 --> 03:45:07,279
and we we just have to go change the

4917
03:45:05,840 --> 03:45:09,359
four quarter source code to stop

4918
03:45:07,279 --> 03:45:11,680
treating them as strings

4919
03:45:09,359 --> 03:45:13,279
um

4920
03:45:11,680 --> 03:45:16,159
so

4921
03:45:13,279 --> 03:45:19,520
i think that's basically it

4922
03:45:16,159 --> 03:45:21,680
anyway um back to our story so i'm kind

4923
03:45:19,520 --> 03:45:23,760
of glad that we can put spec in there as

4924
03:45:21,680 --> 03:45:26,880
well that's pretty cool

4925
03:45:23,760 --> 03:45:28,318
um in my opinion i think maybe the

4926
03:45:26,879 --> 03:45:31,358
lighting is still a little too bright

4927
03:45:28,318 --> 03:45:33,760
right now for my tastes uh like i think

4928
03:45:31,359 --> 03:45:35,600
we might want it like it's not as spooky

4929
03:45:33,760 --> 03:45:38,478
as it should be

4930
03:45:35,600 --> 03:45:41,120
um like things are just too bright

4931
03:45:38,478 --> 03:45:44,159
at the moment

4932
03:45:41,120 --> 03:45:47,199
uh let me i'd like to

4933
03:45:44,159 --> 03:45:50,238
you know i i like to keep things spooky

4934
03:45:47,199 --> 03:45:51,920
uh i i think at some point if you

4935
03:45:50,238 --> 03:45:56,159
end up in a situation where you've

4936
03:45:51,920 --> 03:45:58,639
de-spooked things to a certain level

4937
03:45:56,159 --> 03:46:01,199
um of spookiness that is like

4938
03:45:58,639 --> 03:46:02,478
that is sub spook it's less spooky than

4939
03:46:01,199 --> 03:46:05,600
it should be

4940
03:46:02,478 --> 03:46:08,079
then you run the risk of

4941
03:46:05,600 --> 03:46:09,120
having completely unspooky game and that

4942
03:46:08,079 --> 03:46:12,159
you know i don't

4943
03:46:09,120 --> 03:46:16,239
ever want to really be in that zone

4944
03:46:12,159 --> 03:46:18,318
um so let's just try to

4945
03:46:16,238 --> 03:46:20,000
keep it a little spookier so first of

4946
03:46:18,318 --> 03:46:23,478
all i don't know what we're doing with

4947
03:46:20,000 --> 03:46:23,478
the outside

4948
03:46:25,120 --> 03:46:28,000
but

4949
03:46:26,238 --> 03:46:29,059
i guess

4950
03:46:28,000 --> 03:46:31,120
like the garden

4951
03:46:29,059 --> 03:46:32,959
[Music]

4952
03:46:31,120 --> 03:46:37,720
i don't know what any of this stuff even

4953
03:46:32,959 --> 03:46:37,719
is let's be honest um

4954
03:46:37,760 --> 03:46:41,439
i don't remember why we named certain of

4955
03:46:39,520 --> 03:46:43,920
these things what we named them but uh

4956
03:46:41,439 --> 03:46:46,159
i'm curious like okay so if i remove the

4957
03:46:43,920 --> 03:46:48,879
lighting from outside it still has like

4958
03:46:46,159 --> 03:46:52,000
the flat lighting from moonlight right

4959
03:46:48,879 --> 03:46:54,639
um which you know is is what we would

4960
03:46:52,000 --> 03:46:56,159
expect um that's probably a little too

4961
03:46:54,639 --> 03:46:58,799
bright

4962
03:46:56,159 --> 03:47:01,439
probably

4963
03:46:58,799 --> 03:47:04,129
uh would be my guess so so that probably

4964
03:47:01,439 --> 03:47:05,840
wants to get fixed

4965
03:47:04,129 --> 03:47:08,478
[Music]

4966
03:47:05,840 --> 03:47:08,478
as well

4967
03:47:12,238 --> 03:47:17,359
this looks proper like appropriately

4968
03:47:14,799 --> 03:47:17,358
spooky

4969
03:47:17,439 --> 03:47:21,279
these are maybe a little too bright

4970
03:47:20,159 --> 03:47:22,959
let's go

4971
03:47:21,279 --> 03:47:24,960
take a quick look sorry i know this is

4972
03:47:22,959 --> 03:47:26,719
not what i said i was gonna do but you

4973
03:47:24,959 --> 03:47:29,358
know so you gotta you gotta do things

4974
03:47:26,719 --> 03:47:29,358
when you do them

4975
03:47:31,120 --> 03:47:35,040
so when we're in

4976
03:47:33,439 --> 03:47:38,238
uh not indoors

4977
03:47:35,040 --> 03:47:40,720
when we're outdoors like this we add

4978
03:47:38,238 --> 03:47:43,920
this light in here uh and it should

4979
03:47:40,719 --> 03:47:44,219
probably be just a lot dimmer

4980
03:47:43,920 --> 03:47:45,600
um

4981
03:47:44,219 --> 03:47:47,438
[Music]

4982
03:47:45,600 --> 03:47:50,399
i don't know it should probably still be

4983
03:47:47,439 --> 03:47:52,720
like brighter than the apron maybe

4984
03:47:50,398 --> 03:47:56,879
or maybe we should just add some light a

4985
03:47:52,719 --> 03:47:59,879
light to it if we want um i don't know

4986
03:47:56,879 --> 03:47:59,879
uh

4987
03:48:02,159 --> 03:48:05,840
that seems better

4988
03:48:03,760 --> 03:48:07,279
so i think we're i think we're now just

4989
03:48:05,840 --> 03:48:09,120
down to

4990
03:48:07,279 --> 03:48:11,040
uh

4991
03:48:09,120 --> 03:48:13,920
to wanting this needing this to

4992
03:48:11,040 --> 03:48:16,000
rasterize more properly so that we don't

4993
03:48:13,920 --> 03:48:17,680
get the splotchiness

4994
03:48:16,000 --> 03:48:19,040
um i think it's the only other thing we

4995
03:48:17,680 --> 03:48:20,079
want to do and the question is just do i

4996
03:48:19,040 --> 03:48:22,800
want to do that now or do i want to do

4997
03:48:20,079 --> 03:48:22,799
that next weekend

4998
03:48:23,359 --> 03:48:25,760
i think i do that next weekend because

4999
03:48:24,639 --> 03:48:27,039
i'm going to want to make dinner and

5000
03:48:25,760 --> 03:48:29,120
stuff

5001
03:48:27,040 --> 03:48:31,359
so i think we're down to just that the

5002
03:48:29,120 --> 03:48:32,720
splotchiness of this we can fix and

5003
03:48:31,359 --> 03:48:34,479
should fix

5004
03:48:32,719 --> 03:48:36,079
um so i think we're going to want to do

5005
03:48:34,478 --> 03:48:38,639
that right

5006
03:48:36,079 --> 03:48:40,238
uh i also don't know where we are at on

5007
03:48:38,639 --> 03:48:42,959
flickeriness

5008
03:48:40,238 --> 03:48:44,559
so is it really necessary to be at six

5009
03:48:42,959 --> 03:48:46,478
right now or have things gotten to the

5010
03:48:44,559 --> 03:48:47,760
point where actually we don't need it to

5011
03:48:46,478 --> 03:48:50,159
be

5012
03:48:47,760 --> 03:48:53,279
at six right now and i don't know the

5013
03:48:50,159 --> 03:48:57,079
answer to that question

5014
03:48:53,279 --> 03:48:57,079
let's drop it to three

5015
03:49:06,238 --> 03:49:11,079
it doesn't look very flickery at three

5016
03:49:22,959 --> 03:49:26,959
what's it at one am i

5017
03:49:24,959 --> 03:49:28,159
seeing this right did we make some kind

5018
03:49:26,959 --> 03:49:31,438
of mistake where

5019
03:49:28,159 --> 03:49:31,439
like why is it not flickering

5020
03:49:32,559 --> 03:49:36,039
something's broken

5021
03:49:42,559 --> 03:49:49,079
oh right that i went the wrong way i'm

5022
03:49:45,279 --> 03:49:49,079
like it should be ugh

5023
03:49:53,040 --> 03:49:57,040
this is this will increase the

5024
03:49:54,559 --> 03:49:59,760
flickering there you go

5025
03:49:57,040 --> 03:50:02,640
i'm like god that was just weird

5026
03:49:59,760 --> 03:50:02,639
so um

5027
03:50:03,600 --> 03:50:06,880
so it seems like that is kind of our

5028
03:50:05,359 --> 03:50:07,920
flicker floor

5029
03:50:06,879 --> 03:50:10,799
right

5030
03:50:07,920 --> 03:50:12,478
is like around six so it's it's 10

5031
03:50:10,799 --> 03:50:13,679
frames flicker floor

5032
03:50:12,478 --> 03:50:16,799
you know

5033
03:50:13,680 --> 03:50:18,559
um which would suggest if we if we could

5034
03:50:16,799 --> 03:50:20,799
speed up the raycast a little we could

5035
03:50:18,559 --> 03:50:24,000
get

5036
03:50:20,799 --> 03:50:24,000
probably to this level

5037
03:50:24,559 --> 03:50:29,439
which is a little flickery

5038
03:50:27,040 --> 03:50:31,199
but is closer

5039
03:50:29,439 --> 03:50:33,199
to full speed

5040
03:50:31,199 --> 03:50:35,279
it responds a little bit better i think

5041
03:50:33,199 --> 03:50:39,120
this should probably be our target is to

5042
03:50:35,279 --> 03:50:41,359
de-flicker this which i think we can do

5043
03:50:39,120 --> 03:50:41,359
um

5044
03:50:43,520 --> 03:50:48,040
i think we can do i think we can manage

5045
03:50:45,040 --> 03:50:48,040
that

5046
03:50:48,959 --> 03:50:51,759
um so yeah we just need light

5047
03:50:50,478 --> 03:50:52,959
reservation i think i'll save that for

5048
03:50:51,760 --> 03:50:55,359
next week but i think we're in really

5049
03:50:52,959 --> 03:50:58,159
good shape the lighting is so darn good

5050
03:50:55,359 --> 03:51:00,159
right now uh and really we just need to

5051
03:50:58,159 --> 03:51:02,079
fix sort of the squariness of this like

5052
03:51:00,159 --> 03:51:03,840
the response with i think forward

5053
03:51:02,079 --> 03:51:05,359
rasterization of the lights is the right

5054
03:51:03,840 --> 03:51:07,600
way to start with that

5055
03:51:05,359 --> 03:51:09,040
we might need something else in there i

5056
03:51:07,600 --> 03:51:10,079
don't know

5057
03:51:09,040 --> 03:51:12,800
um

5058
03:51:10,079 --> 03:51:12,799
exactly

5059
03:51:13,279 --> 03:51:16,079
so i don't want to promise that's going

5060
03:51:14,959 --> 03:51:17,599
to fix it we may have to do a little

5061
03:51:16,079 --> 03:51:18,398
more work than that

5062
03:51:17,600 --> 03:51:20,159
um

5063
03:51:18,398 --> 03:51:22,000
but i think that's a large part of it

5064
03:51:20,159 --> 03:51:23,920
because one of the reasons

5065
03:51:22,000 --> 03:51:26,238
as i've mentioned before one of the

5066
03:51:23,920 --> 03:51:29,520
reasons you get these square artifacts

5067
03:51:26,238 --> 03:51:31,439
is when the light isn't properly

5068
03:51:29,520 --> 03:51:33,600
uh represented

5069
03:51:31,439 --> 03:51:36,880
when when you get it unnatural clamping

5070
03:51:33,600 --> 03:51:39,439
to zero on your linear interpolation

5071
03:51:36,879 --> 03:51:41,599
you get this kind of thing so i could

5072
03:51:39,439 --> 03:51:43,680
easily see just rasterizing the light

5073
03:51:41,600 --> 03:51:45,760
fixing this because right now we're not

5074
03:51:43,680 --> 03:51:48,159
it's not a smooth fall off like it

5075
03:51:45,760 --> 03:51:50,398
should be because we're not doing that

5076
03:51:48,159 --> 03:51:50,398
right

5077
03:51:50,719 --> 03:51:55,198
um so i don't think it's i don't think

5078
03:51:52,719 --> 03:51:56,719
we're far from from good uh this is this

5079
03:51:55,199 --> 03:51:58,800
is looking pretty awesome

5080
03:51:56,719 --> 03:52:00,719
uh to be honest

5081
03:51:58,799 --> 03:52:02,799
um

5082
03:52:00,719 --> 03:52:05,599
and and i think we'll get i think we can

5083
03:52:02,799 --> 03:52:07,198
deflicker this so right now uh our main

5084
03:52:05,600 --> 03:52:08,318
problem is if we know if we wanted to

5085
03:52:07,199 --> 03:52:10,479
crank the rate count up a little bit

5086
03:52:08,318 --> 03:52:12,879
more and don't forget we're on the cpu

5087
03:52:10,478 --> 03:52:15,198
moving this to the gpu

5088
03:52:12,879 --> 03:52:17,358
would get us a huge speed boost as well

5089
03:52:15,199 --> 03:52:20,159
so we we can always just target that as

5090
03:52:17,359 --> 03:52:22,399
something we do later as well uh to

5091
03:52:20,159 --> 03:52:23,840
solve the speed problem so we're very

5092
03:52:22,398 --> 03:52:25,680
conservative right now because we're

5093
03:52:23,840 --> 03:52:29,600
doing everything on the cpu side and the

5094
03:52:25,680 --> 03:52:29,600
gpu can do a lot more flops right

5095
03:52:31,120 --> 03:52:34,359
so yeah

5096
03:52:40,879 --> 03:52:43,278
excuse me

5097
03:52:42,079 --> 03:52:44,559
um

5098
03:52:43,279 --> 03:52:46,319
also you could just run on a faster

5099
03:52:44,559 --> 03:52:47,760
machine

5100
03:52:46,318 --> 03:52:48,559
you know run this on a thread ripper and

5101
03:52:47,760 --> 03:52:50,800
you could

5102
03:52:48,559 --> 03:52:53,600
get count or even just a modern machine

5103
03:52:50,799 --> 03:52:54,879
from today right

5104
03:52:53,600 --> 03:52:56,880
um

5105
03:52:54,879 --> 03:52:57,839
and it would it would totally stomp this

5106
03:52:56,879 --> 03:52:58,799
thing

5107
03:52:57,840 --> 03:53:00,079
um

5108
03:52:58,799 --> 03:53:02,000
for sure

5109
03:53:00,079 --> 03:53:04,639
so uh

5110
03:53:02,000 --> 03:53:06,639
yeah the

5111
03:53:04,639 --> 03:53:09,760
the ray

5112
03:53:06,639 --> 03:53:11,760
weight is the rate count here if i turn

5113
03:53:09,760 --> 03:53:14,719
that up to 16

5114
03:53:11,760 --> 03:53:19,040
uh the game will be slow but it should

5115
03:53:14,719 --> 03:53:21,519
be about as stable

5116
03:53:19,040 --> 03:53:22,880
lighting wise

5117
03:53:21,520 --> 03:53:24,880
right so

5118
03:53:22,879 --> 03:53:27,759
hopefully now we don't really see in the

5119
03:53:24,879 --> 03:53:28,879
flicker which i don't

5120
03:53:27,760 --> 03:53:31,520
um

5121
03:53:28,879 --> 03:53:33,759
even in here the flicker is pretty

5122
03:53:31,520 --> 03:53:35,359
minimal like you would not care about

5123
03:53:33,760 --> 03:53:37,199
that much flicker

5124
03:53:35,359 --> 03:53:39,920
so i do think if we can just double our

5125
03:53:37,199 --> 03:53:42,399
raycast which i think is probably doable

5126
03:53:39,920 --> 03:53:44,238
even on the cpu side definitely doable

5127
03:53:42,398 --> 03:53:48,760
on the gpu side

5128
03:53:44,238 --> 03:53:48,760
i think we would kind of just be done

5129
03:53:55,120 --> 03:53:59,319
i think we would kind of just be done

5130
03:54:18,238 --> 03:54:21,439
yeah i mean this lighting is just like

5131
03:54:19,680 --> 03:54:23,920
very good now

5132
03:54:21,439 --> 03:54:26,079
um i the only thing that's objectionable

5133
03:54:23,920 --> 03:54:27,439
is that rasterization artifact or that

5134
03:54:26,079 --> 03:54:30,318
lack of rasterization of the light

5135
03:54:27,439 --> 03:54:30,318
source artifact

5136
03:54:31,199 --> 03:54:35,040
i mean that's just really freaking good

5137
03:54:33,439 --> 03:54:36,639
i'm sorry but it is

5138
03:54:35,040 --> 03:54:38,239
uh okay

5139
03:54:36,639 --> 03:54:41,680
so

5140
03:54:38,238 --> 03:54:43,439
now we probably call it a day

5141
03:54:41,680 --> 03:54:46,238
and we tackle the

5142
03:54:43,439 --> 03:54:47,760
forward rasterization of the

5143
03:54:46,238 --> 03:54:49,920
into the light probes

5144
03:54:47,760 --> 03:54:52,398
to get a nice smooth distribution for

5145
03:54:49,920 --> 03:54:52,719
small moving light sources like that

5146
03:54:52,398 --> 03:54:54,879
um

5147
03:54:52,719 --> 03:54:59,119
[Music]

5148
03:54:54,879 --> 03:55:01,039
i think that's it and then we're good um

5149
03:54:59,120 --> 03:55:01,550
i do

5150
03:55:01,040 --> 03:55:03,359
want to see

5151
03:55:01,549 --> 03:55:05,599
[Music]

5152
03:55:03,359 --> 03:55:06,720
what happens if we turn off the lighting

5153
03:55:05,600 --> 03:55:09,720
again

5154
03:55:06,719 --> 03:55:09,719
now

5155
03:55:20,238 --> 03:55:23,520
i mean that's just really good

5156
03:55:26,000 --> 03:55:30,639
i mean right i mean that's just like

5157
03:55:28,079 --> 03:55:30,639
very good

5158
03:55:41,359 --> 03:55:44,800
yeah i mean i so i think we're basically

5159
03:55:43,120 --> 03:55:46,960
done i mean i really think we just have

5160
03:55:44,799 --> 03:55:49,119
to clean up that you know figuring out

5161
03:55:46,959 --> 03:55:50,719
how we get the probes for overlapping

5162
03:55:49,120 --> 03:55:52,880
probes like that we just got to fix that

5163
03:55:50,719 --> 03:55:55,840
and then i think maybe we just rewrite

5164
03:55:52,879 --> 03:55:57,278
that the cast to be based on array

5165
03:55:55,840 --> 03:55:59,040
bundles because i think it'll be a lot

5166
03:55:57,279 --> 03:56:01,600
faster we may be able to get our 2x

5167
03:55:59,040 --> 03:56:03,040
there actually

5168
03:56:01,600 --> 03:56:06,479
um

5169
03:56:03,040 --> 03:56:08,000
but that is just very responsive

5170
03:56:06,478 --> 03:56:11,920
not very much flickr except in the

5171
03:56:08,000 --> 03:56:12,879
really dark areas and i'm okay with that

5172
03:56:11,920 --> 03:56:16,159
and

5173
03:56:12,879 --> 03:56:16,159
just looks fantastic

5174
03:56:20,799 --> 03:56:22,398
um

5175
03:56:21,180 --> 03:56:24,880
[Music]

5176
03:56:22,398 --> 03:56:27,680
so you know like i also would wonder

5177
03:56:24,879 --> 03:56:30,478
like so where is our snake

5178
03:56:27,680 --> 03:56:30,479
where's where's

5179
03:56:32,959 --> 03:56:37,679
i don't

5180
03:56:34,000 --> 03:56:39,439
know how this is this this world gen is

5181
03:56:37,680 --> 03:56:41,439
stupid and bad

5182
03:56:39,439 --> 03:56:43,760
um

5183
03:56:41,439 --> 03:56:45,279
and that probably is the thing we'll be

5184
03:56:43,760 --> 03:56:46,398
cleaning up

5185
03:56:45,279 --> 03:56:47,760
right after we clean up the world

5186
03:56:46,398 --> 03:56:49,599
storage because now we know we don't

5187
03:56:47,760 --> 03:56:51,199
have 2d we can cut out a bunch of code

5188
03:56:49,600 --> 03:56:53,760
from that i mean you don't have 3d

5189
03:56:51,199 --> 03:56:56,000
stacking

5190
03:56:53,760 --> 03:56:57,760
um but where's the thing that creates

5191
03:56:56,000 --> 03:57:00,639
the like we have a thing that creates

5192
03:56:57,760 --> 03:57:01,680
snakes in dungeon areas

5193
03:57:00,639 --> 03:57:04,639
um

5194
03:57:01,680 --> 03:57:07,639
i guess it literally does it right here

5195
03:57:04,639 --> 03:57:07,639
um

5196
03:57:20,238 --> 03:57:25,760
so i guess if i wanted to i can just add

5197
03:57:23,520 --> 03:57:28,399
this to something else so if i wanted to

5198
03:57:25,760 --> 03:57:30,478
add this to

5199
03:57:28,398 --> 03:57:32,000
i don't know

5200
03:57:30,478 --> 03:57:36,159
like

5201
03:57:32,000 --> 03:57:36,159
bedroom a would that just work

5202
03:57:43,680 --> 03:57:49,559
and

5203
03:57:45,439 --> 03:57:49,559
the snake pattern

5204
03:57:51,040 --> 03:57:54,560
is

5205
03:57:52,079 --> 03:57:56,159
has a light on it

5206
03:57:54,559 --> 03:57:57,439
i think

5207
03:57:56,159 --> 03:57:59,039
doesn't it

5208
03:57:57,439 --> 03:58:00,559
or maybe it doesn't anymore but i

5209
03:57:59,040 --> 03:58:02,479
thought it did

5210
03:58:00,559 --> 03:58:05,278
at least at one point

5211
03:58:02,478 --> 03:58:05,278
add piece

5212
03:58:06,879 --> 03:58:11,198
add piece light

5213
03:58:08,639 --> 03:58:13,119
so if it's got a light on it that 1.0

5214
03:58:11,199 --> 03:58:16,239
light's going to be way too bright

5215
03:58:13,120 --> 03:58:18,479
we already know that

5216
03:58:16,238 --> 03:58:18,478
um

5217
03:58:25,680 --> 03:58:29,520
but does that add

5218
03:58:27,279 --> 03:58:33,319
a snake

5219
03:58:29,520 --> 03:58:33,319
somewhere yes

5220
03:58:51,600 --> 03:58:56,318
uh so like i said way too bright

5221
03:58:54,159 --> 03:58:56,318
but

5222
03:58:56,719 --> 03:58:59,840
we know how to fix that

5223
03:59:02,159 --> 03:59:09,079
imc best i agree with that

5224
03:59:06,079 --> 03:59:09,079
assessment

5225
03:59:18,719 --> 03:59:23,679
so the uh skeleton dude of course they

5226
03:59:21,359 --> 03:59:24,960
get stuck in the corners sorry skeleton

5227
03:59:23,680 --> 03:59:27,199
man

5228
03:59:24,959 --> 03:59:29,519
um

5229
03:59:27,199 --> 03:59:30,880
uh maybe maybe we should just make them

5230
03:59:29,520 --> 03:59:33,359
have less

5231
03:59:30,879 --> 03:59:33,358
pieces

5232
03:59:33,760 --> 03:59:36,800
um

5233
03:59:35,520 --> 03:59:39,800
anyway

5234
03:59:36,799 --> 03:59:39,799
uh

5235
03:59:46,318 --> 03:59:53,159
uh yeah like i mean i think this is just

5236
03:59:49,520 --> 03:59:53,159
this is pretty solid

5237
04:00:04,959 --> 04:00:09,869
we really have to get ourselves our poor

5238
04:00:06,879 --> 04:00:12,559
snakes they all lock up like immediately

5239
04:00:09,870 --> 04:00:14,399
[Laughter]

5240
04:00:12,559 --> 04:00:17,398
oh well

5241
04:00:14,398 --> 04:00:17,398
um

5242
04:00:30,639 --> 04:00:35,039
all right uh i'm pretty happy with all

5243
04:00:32,959 --> 04:00:38,079
this i think this is all great

5244
04:00:35,040 --> 04:00:40,399
uh i did maybe the standard lighting

5245
04:00:38,079 --> 04:00:42,079
when we add this back in now the

5246
04:00:40,398 --> 04:00:43,519
standard lighting pattern probably we

5247
04:00:42,079 --> 04:00:44,559
should just make those lights less

5248
04:00:43,520 --> 04:00:46,560
bright

5249
04:00:44,559 --> 04:00:48,079
uh again for because of the spookiness

5250
04:00:46,559 --> 04:00:50,719
issue

5251
04:00:48,079 --> 04:00:52,959
uh that i spoke about before

5252
04:00:50,719 --> 04:00:52,959
uh

5253
04:00:56,000 --> 04:01:02,639
and and we can return

5254
04:00:59,520 --> 04:01:03,520
to this nonsense here uh

5255
04:01:02,639 --> 04:01:06,159
let's

5256
04:01:03,520 --> 04:01:08,159
make things half as bright

5257
04:01:06,159 --> 04:01:10,159
and go from there

5258
04:01:08,159 --> 04:01:12,559
so i think we're all good now

5259
04:01:10,159 --> 04:01:14,238
and i think we'll call it a day here but

5260
04:01:12,559 --> 04:01:16,000
this this creates some like different

5261
04:01:14,238 --> 04:01:17,600
light colors which was just kind of a

5262
04:01:16,000 --> 04:01:19,199
nice touch

5263
04:01:17,600 --> 04:01:21,199
um

5264
04:01:19,199 --> 04:01:24,239
i think this looks fantastic i'm really

5265
04:01:21,199 --> 04:01:26,319
happy so basically we'll just fix the

5266
04:01:24,238 --> 04:01:29,359
we'll fix the occlusion problem here

5267
04:01:26,318 --> 04:01:30,639
which hopefully will get that light that

5268
04:01:29,359 --> 04:01:32,479
kind of light

5269
04:01:30,639 --> 04:01:33,278
looking a lot better

5270
04:01:32,478 --> 04:01:34,159
um

5271
04:01:33,279 --> 04:01:36,720
and

5272
04:01:34,159 --> 04:01:39,279
and then we'll just assess it might not

5273
04:01:36,719 --> 04:01:40,799
if it doesn't then we might have to take

5274
04:01:39,279 --> 04:01:43,199
some other steps to figure out what

5275
04:01:40,799 --> 04:01:44,478
we're going to do to solve that problem

5276
04:01:43,199 --> 04:01:47,040
um but

5277
04:01:44,478 --> 04:01:49,760
i think that may just be the bug

5278
04:01:47,040 --> 04:01:51,840
that may just be uh

5279
04:01:49,760 --> 04:01:53,920
that sort of skipping problem is because

5280
04:01:51,840 --> 04:01:55,279
of that bug

5281
04:01:53,920 --> 04:01:57,680
that we know about and so i think if we

5282
04:01:55,279 --> 04:02:00,880
just fix the bug we may just be done

5283
04:01:57,680 --> 04:02:03,359
uh and then and then we move on

5284
04:02:00,879 --> 04:02:04,559
so that's it

5285
04:02:03,359 --> 04:02:05,600
um

5286
04:02:04,559 --> 04:02:08,639
happy

5287
04:02:05,600 --> 04:02:09,680
happy fun day to everybody

5288
04:02:08,639 --> 04:02:11,680
uh

5289
04:02:09,680 --> 04:02:14,159
that's that's all there is

5290
04:02:11,680 --> 04:02:16,318
i'll be back here next week to

5291
04:02:14,159 --> 04:02:18,159
[Music]

5292
04:02:16,318 --> 04:02:19,039
fix that bug

5293
04:02:18,159 --> 04:02:20,719
and

5294
04:02:19,040 --> 04:02:22,160
we will cross our fingers

5295
04:02:20,719 --> 04:02:24,799
that that will basically be the end of

5296
04:02:22,159 --> 04:02:24,799
the lighting

5297
04:02:25,439 --> 04:02:29,680
debugging

5298
04:02:27,199 --> 04:02:32,479
we would like to probably rewrite that

5299
04:02:29,680 --> 04:02:36,479
routine to be ray bundle based so we may

5300
04:02:32,478 --> 04:02:36,478
want to spend another weekend on that

5301
04:02:39,120 --> 04:02:43,920
but but that i mean

5302
04:02:40,840 --> 04:02:45,600
hey that we we may actually now have

5303
04:02:43,920 --> 04:02:47,920
legit good lighting

5304
04:02:45,600 --> 04:02:47,920
um

5305
04:02:50,238 --> 04:02:54,719
so

5306
04:02:51,760 --> 04:02:57,279
uh so yeah at some point well mine mark

5307
04:02:54,719 --> 04:03:00,398
42 the feedback issue is because

5308
04:02:57,279 --> 04:03:02,960
something in there is is measured as a

5309
04:03:00,398 --> 04:03:02,959
proportion

5310
04:03:03,359 --> 04:03:06,880
and we just

5311
04:03:05,279 --> 04:03:09,439
weren't thinking about it that way for

5312
04:03:06,879 --> 04:03:10,879
some reason right

5313
04:03:09,439 --> 04:03:12,720
so setting all of our numbers to be

5314
04:03:10,879 --> 04:03:14,238
normalized between zero and one fixes

5315
04:03:12,719 --> 04:03:16,318
that issue and

5316
04:03:14,238 --> 04:03:17,600
it's really just a bug in our thinking i

5317
04:03:16,318 --> 04:03:18,879
don't think we actually have a bug in

5318
04:03:17,600 --> 04:03:20,238
the problem i don't think there is a bug

5319
04:03:18,879 --> 04:03:21,519
in the program

5320
04:03:20,238 --> 04:03:23,039
i don't think there is an actual

5321
04:03:21,520 --> 04:03:26,720
feedback book i think it's literally

5322
04:03:23,040 --> 04:03:27,760
just a bug in our thinking

5323
04:03:26,719 --> 04:03:30,478
right

5324
04:03:27,760 --> 04:03:31,359
uh the values are all percentages

5325
04:03:30,478 --> 04:03:34,000
and

5326
04:03:31,359 --> 04:03:35,439
i guess i just wasn't

5327
04:03:34,000 --> 04:03:37,120
i'm missing a place where that

5328
04:03:35,439 --> 04:03:38,800
propagates through somebody who knows

5329
04:03:37,120 --> 04:03:40,560
more about lighting would just know that

5330
04:03:38,799 --> 04:03:43,198
they just be like oh yeah like you

5331
04:03:40,559 --> 04:03:44,799
because you wrote this

5332
04:03:43,199 --> 04:03:47,279
part of it

5333
04:03:44,799 --> 04:03:49,438
this way it means you know the light

5334
04:03:47,279 --> 04:03:51,199
values have to all be percentage of the

5335
04:03:49,439 --> 04:03:53,840
maximum light value or whatever and i'm

5336
04:03:51,199 --> 04:03:55,600
like okay right

5337
04:03:53,840 --> 04:03:57,040
but as you can see we can get exactly

5338
04:03:55,600 --> 04:03:58,399
the same result just fine completely

5339
04:03:57,040 --> 04:04:00,080
stably

5340
04:03:58,398 --> 04:04:02,478
so i don't know

5341
04:04:00,079 --> 04:04:05,478
exactly where that percentage is

5342
04:04:02,478 --> 04:04:05,478
but

5343
04:04:08,559 --> 04:04:10,799
yeah

5344
04:04:11,279 --> 04:04:14,000
i don't think we have to do any work to

5345
04:04:12,719 --> 04:04:16,559
fix in other words i don't think there's

5346
04:04:14,000 --> 04:04:19,520
any problem the feedback is not there uh

5347
04:04:16,559 --> 04:04:21,439
it's just because of a units issue

5348
04:04:19,520 --> 04:04:24,079
um so we don't actually have to fix it

5349
04:04:21,439 --> 04:04:27,120
it would be nice to understand it

5350
04:04:24,079 --> 04:04:30,439
but but we don't actually have the bug

5351
04:04:27,120 --> 04:04:30,439
i don't think

5352
04:04:37,040 --> 04:04:41,359
uh while i'm i i don't know i don't

5353
04:04:39,439 --> 04:04:43,040
think it's that simple i think it's more

5354
04:04:41,359 --> 04:04:47,600
complicated than that

5355
04:04:43,040 --> 04:04:47,600
um because it would not explain

5356
04:04:47,680 --> 04:04:49,840
like

5357
04:04:50,719 --> 04:04:53,920
it doesn't really explain why simply

5358
04:04:52,559 --> 04:04:56,398
normalizing the values between zero and

5359
04:04:53,920 --> 04:04:57,920
one automatically fixes that or rather

5360
04:04:56,398 --> 04:04:59,680
it also doesn't explain why you could

5361
04:04:57,920 --> 04:05:03,199
set them to things that were higher like

5362
04:04:59,680 --> 04:05:05,279
1.3 and not have the problem right like

5363
04:05:03,199 --> 04:05:06,800
so there's it's probably slightly more

5364
04:05:05,279 --> 04:05:09,040
complicated than that but i mean that's

5365
04:05:06,799 --> 04:05:11,119
obviously part of it because we know

5366
04:05:09,040 --> 04:05:13,439
that because it it operates over several

5367
04:05:11,120 --> 04:05:15,680
frames it can have that kind of feedback

5368
04:05:13,439 --> 04:05:19,760
right so any bias in the system will

5369
04:05:15,680 --> 04:05:19,760
produce that but we don't really know

5370
04:05:19,840 --> 04:05:25,279
why it's sensitive to

5371
04:05:22,159 --> 04:05:25,279
the units in that way

5372
04:05:25,600 --> 04:05:29,600
because we now are essentially using the

5373
04:05:27,040 --> 04:05:30,960
same values we just multiply by 10

5374
04:05:29,600 --> 04:05:33,680
at the end

5375
04:05:30,959 --> 04:05:35,278
right so we're still you know we produce

5376
04:05:33,680 --> 04:05:36,479
the same kind of light values they just

5377
04:05:35,279 --> 04:05:37,680
don't feed back on each other because

5378
04:05:36,478 --> 04:05:39,119
they're normalizing zero and one to

5379
04:05:37,680 --> 04:05:41,040
begin with

5380
04:05:39,120 --> 04:05:42,319
it's not immediately intuitively obvious

5381
04:05:41,040 --> 04:05:45,120
to me why

5382
04:05:42,318 --> 04:05:47,119
that unit change y representing things

5383
04:05:45,120 --> 04:05:48,800
between 0 and 10

5384
04:05:47,120 --> 04:05:50,800
versus 0 and 1

5385
04:05:48,799 --> 04:05:53,039
has that behavior

5386
04:05:50,799 --> 04:05:55,119
obviously it's because

5387
04:05:53,040 --> 04:05:56,800
numbers significantly greater than 1 can

5388
04:05:55,120 --> 04:05:58,960
feed back

5389
04:05:56,799 --> 04:06:00,639
in some multiple multiplicative process

5390
04:05:58,959 --> 04:06:01,599
i just don't understand

5391
04:06:00,639 --> 04:06:03,198
what

5392
04:06:01,600 --> 04:06:06,720
that i don't understand exactly where

5393
04:06:03,199 --> 04:06:06,720
that is taking place right

5394
04:06:08,478 --> 04:06:12,079
so representing the the lighting but as

5395
04:06:10,478 --> 04:06:13,920
numbers being 0 and 1 instead of between

5396
04:06:12,079 --> 04:06:15,680
0 and 10

5397
04:06:13,920 --> 04:06:17,520
completely fixes the problem even if you

5398
04:06:15,680 --> 04:06:19,279
then multiply by 10 to get the exact

5399
04:06:17,520 --> 04:06:20,479
same values back

5400
04:06:19,279 --> 04:06:22,319
right

5401
04:06:20,478 --> 04:06:24,159
uh that's why i say like maybe we just

5402
04:06:22,318 --> 04:06:27,119
asked don mitchell

5403
04:06:24,159 --> 04:06:28,318
to come solve the problem for us right

5404
04:06:27,120 --> 04:06:31,359
um

5405
04:06:28,318 --> 04:06:33,600
because he would know and we don't

5406
04:06:31,359 --> 04:06:33,600
so

5407
04:06:34,318 --> 04:06:39,519
anyway that's it for today

5408
04:06:37,600 --> 04:06:41,760
uh thanks everyone

5409
04:06:39,520 --> 04:06:44,560
for joining me

5410
04:06:41,760 --> 04:06:47,920
i will be back next weekend

5411
04:06:44,559 --> 04:06:50,478
when we will try to fix

5412
04:06:47,920 --> 04:06:51,439
uh the problem with

5413
04:06:50,478 --> 04:06:52,639
lights

5414
04:06:51,439 --> 04:06:55,840
uh

5415
04:06:52,639 --> 04:06:57,599
inc occluding

5416
04:06:55,840 --> 04:06:59,279
uh sample probes

5417
04:06:57,600 --> 04:07:00,559
because we definitely have a problem

5418
04:06:59,279 --> 04:07:03,520
with that

5419
04:07:00,559 --> 04:07:05,760
so i will be back for that until then

5420
04:07:03,520 --> 04:07:07,680
have fun programming everyone

5421
04:07:05,760 --> 04:07:11,238
and i will see y'all on the internet

5422
04:07:07,680 --> 04:07:11,238
take it easy everybody

