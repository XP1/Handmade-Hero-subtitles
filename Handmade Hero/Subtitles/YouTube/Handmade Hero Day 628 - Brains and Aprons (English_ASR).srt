1
00:00:00,960 --> 00:00:04,879
hello everyone and welcome to handmade

2
00:00:02,879 --> 00:00:08,878
hero show we code a complete game

3
00:00:04,879 --> 00:00:08,878
live on stream i am going to

4
00:00:08,960 --> 00:00:16,080
well i am going to go ahead and

5
00:00:12,718 --> 00:00:19,759
see what we want to do today

6
00:00:16,079 --> 00:00:21,519
because i think mostly uh

7
00:00:19,760 --> 00:00:24,000
the only thing i wanted to look at that

8
00:00:21,519 --> 00:00:26,960
was a hangover from last week

9
00:00:24,000 --> 00:00:28,079
was just the fact that uh i wanted to

10
00:00:26,960 --> 00:00:31,118
make sure that

11
00:00:28,079 --> 00:00:31,598
we had a good answer for how brains

12
00:00:31,118 --> 00:00:32,960
would work

13
00:00:31,599 --> 00:00:35,119
in cases where we didn't want them to

14
00:00:32,960 --> 00:00:36,239
activate if only some of the parts of

15
00:00:35,119 --> 00:00:39,919
the brain

16
00:00:36,238 --> 00:00:41,839
were uh together and

17
00:00:39,920 --> 00:00:43,120
i guess like that's sort of the topic

18
00:00:41,840 --> 00:00:45,440
for today i

19
00:00:43,119 --> 00:00:46,558
don't know how much we want to do with

20
00:00:45,439 --> 00:00:48,238
that or don't want to do with that

21
00:00:46,558 --> 00:00:50,718
because it kind of depends

22
00:00:48,238 --> 00:00:51,679
um on how far we want to go with it so

23
00:00:50,719 --> 00:00:55,679
what i'm going to do

24
00:00:51,679 --> 00:00:55,679
is oh oops

25
00:00:56,479 --> 00:00:59,839
what i'm going to do first is run the

26
00:00:58,159 --> 00:01:03,279
shell

27
00:00:59,840 --> 00:01:06,478
there we go um so i

28
00:01:03,280 --> 00:01:08,000
i don't really know uh exactly what we

29
00:01:06,478 --> 00:01:10,239
want to do with it

30
00:01:08,000 --> 00:01:12,400
and really what i'm talking about here

31
00:01:10,239 --> 00:01:14,478
is just the part of the code

32
00:01:12,400 --> 00:01:16,478
where like if you look at at how we're

33
00:01:14,478 --> 00:01:18,640
doing doors right now

34
00:01:16,478 --> 00:01:20,000
so or well how we're doing anything so

35
00:01:18,640 --> 00:01:23,040
what happens is

36
00:01:20,000 --> 00:01:26,400
we gather up entities based on what

37
00:01:23,040 --> 00:01:28,960
to which brain they belong

38
00:01:26,400 --> 00:01:29,840
uh and then we run the code on them

39
00:01:28,959 --> 00:01:33,039
right

40
00:01:29,840 --> 00:01:36,320
and i don't know to what extent we want

41
00:01:33,040 --> 00:01:36,320
to do uh

42
00:01:36,478 --> 00:01:41,840
i don't know to what extent we actually

43
00:01:38,239 --> 00:01:41,839
want this to to happen

44
00:01:42,799 --> 00:01:49,240
but the problem that we're seeing is

45
00:01:46,159 --> 00:01:52,640
this means that things like

46
00:01:49,239 --> 00:01:55,679
multi-entity systems get constructed

47
00:01:52,640 --> 00:01:56,879
per frame and then disbanded right so in

48
00:01:55,680 --> 00:01:58,320
other words what happens is

49
00:01:56,879 --> 00:02:00,959
entities are the permanent thing that

50
00:01:58,319 --> 00:02:04,718
gets stored they get placed out into

51
00:02:00,959 --> 00:02:06,639
you know the world and

52
00:02:04,718 --> 00:02:08,478
when they get pulled in if the

53
00:02:06,640 --> 00:02:10,399
particular region that you're simulating

54
00:02:08,479 --> 00:02:12,640
only contains some of the entities that

55
00:02:10,399 --> 00:02:14,400
were part of a unified structure

56
00:02:12,639 --> 00:02:16,318
it doesn't actually matter the brain

57
00:02:14,400 --> 00:02:17,920
will still run and can do stuff to those

58
00:02:16,318 --> 00:02:19,919
entities

59
00:02:17,919 --> 00:02:21,280
now i don't know whether we want to

60
00:02:19,919 --> 00:02:23,119
change this design

61
00:02:21,280 --> 00:02:24,800
because we haven't really gone anywhere

62
00:02:23,120 --> 00:02:26,560
on it it just is what it is like it's

63
00:02:24,800 --> 00:02:28,239
you know there's not much code here

64
00:02:26,560 --> 00:02:30,719
right if we were to rewrite this code it

65
00:02:28,239 --> 00:02:32,319
would be hardly anything

66
00:02:30,719 --> 00:02:34,159
so there's really not much that we have

67
00:02:32,318 --> 00:02:37,598
to do uh

68
00:02:34,159 --> 00:02:38,000
and you can see here this uh mark brain

69
00:02:37,598 --> 00:02:40,639
and

70
00:02:38,000 --> 00:02:41,199
actives thing right you can see this

71
00:02:40,639 --> 00:02:43,359
thing

72
00:02:41,199 --> 00:02:44,560
is already designed to sweep over the

73
00:02:43,360 --> 00:02:47,920
brains and s

74
00:02:44,560 --> 00:02:50,400
and mark uh and and pull entities in

75
00:02:47,919 --> 00:02:50,958
from the inactive region if if there is

76
00:02:50,400 --> 00:02:52,800
a brain

77
00:02:50,959 --> 00:02:55,120
and there are entities that are active

78
00:02:52,800 --> 00:02:57,760
or not it will like activate entities

79
00:02:55,120 --> 00:02:59,200
that were not there that it will

80
00:02:57,759 --> 00:03:00,318
activate entities that were in the

81
00:02:59,199 --> 00:03:04,000
inactive region

82
00:03:00,318 --> 00:03:05,598
of the sim uh

83
00:03:04,000 --> 00:03:07,680
automatically right so we'll pull them

84
00:03:05,598 --> 00:03:07,679
in

85
00:03:08,318 --> 00:03:14,479
so the problem that i see

86
00:03:11,680 --> 00:03:15,840
is even with something like this it

87
00:03:14,479 --> 00:03:17,759
doesn't really help

88
00:03:15,840 --> 00:03:19,120
because no matter what you do there's

89
00:03:17,759 --> 00:03:21,120
always

90
00:03:19,120 --> 00:03:24,158
there's always going to be that regional

91
00:03:21,120 --> 00:03:26,400
split where you basically say

92
00:03:24,158 --> 00:03:27,759
all right if something is inside the

93
00:03:26,400 --> 00:03:29,760
active region

94
00:03:27,759 --> 00:03:32,560
then there will be things outside the

95
00:03:29,759 --> 00:03:34,959
active region wherever the split is

96
00:03:32,560 --> 00:03:36,080
and we're always going to have this

97
00:03:34,959 --> 00:03:37,598
happen

98
00:03:36,080 --> 00:03:39,280
i guess you could say well you know what

99
00:03:37,598 --> 00:03:42,560
now that i think about it

100
00:03:39,280 --> 00:03:44,840
this feels like though if you assume

101
00:03:42,560 --> 00:03:47,840
that one of them has to be

102
00:03:44,840 --> 00:03:47,840
active

103
00:03:48,080 --> 00:03:53,200
yeah so so if you assume that one of

104
00:03:51,280 --> 00:03:55,120
them has to be active which this does

105
00:03:53,199 --> 00:04:01,839
this looks and sees are any active

106
00:03:55,120 --> 00:04:01,840
then we make all of them active right

107
00:04:03,438 --> 00:04:07,120
so i guess my only question is does that

108
00:04:05,280 --> 00:04:07,680
just mean we needed to check to see if

109
00:04:07,120 --> 00:04:12,640
they were

110
00:04:07,680 --> 00:04:12,640
active first okay

111
00:04:13,519 --> 00:04:17,918
yeah you know what this may just work we

112
00:04:15,759 --> 00:04:18,959
may just have not really done the full

113
00:04:17,918 --> 00:04:21,918
code now that i

114
00:04:18,959 --> 00:04:21,918
think about it

115
00:04:23,680 --> 00:04:30,079
interesting interesting okay so let me

116
00:04:27,680 --> 00:04:30,879
run this by you real quick first of all

117
00:04:30,079 --> 00:04:33,439
i want to see

118
00:04:30,879 --> 00:04:35,360
where we actually do this is it in world

119
00:04:33,439 --> 00:04:38,478
or sim region or what

120
00:04:35,360 --> 00:04:40,639
because mark brain actives um

121
00:04:38,478 --> 00:04:41,519
has to be called by somebody in order to

122
00:04:40,639 --> 00:04:44,879
do something

123
00:04:41,519 --> 00:04:44,879
i don't see it being called here

124
00:04:50,800 --> 00:04:58,560
so all right so

125
00:04:55,040 --> 00:05:02,720
you riddle riddle me this batman

126
00:04:58,560 --> 00:05:04,720
um because i i think this

127
00:05:02,720 --> 00:05:06,240
maybe this this thing that we did maybe

128
00:05:04,720 --> 00:05:07,520
really did solve the problem now that i

129
00:05:06,240 --> 00:05:10,960
think about it

130
00:05:07,519 --> 00:05:14,319
uh and and maybe it's just a case

131
00:05:10,959 --> 00:05:16,638
of it of

132
00:05:14,319 --> 00:05:18,399
when we did it we didn't quite think it

133
00:05:16,639 --> 00:05:19,759
through all the way we we were like sort

134
00:05:18,399 --> 00:05:23,120
of thinking

135
00:05:19,759 --> 00:05:26,639
halfway about it um

136
00:05:23,120 --> 00:05:30,000
and we didn't quite like internalize uh

137
00:05:26,639 --> 00:05:34,639
what actually needed to happen right um

138
00:05:30,000 --> 00:05:38,800
and so it's entirely possible that

139
00:05:34,639 --> 00:05:40,160
we can actually

140
00:05:38,800 --> 00:05:42,560
use this system i'm trying to think of

141
00:05:40,160 --> 00:05:46,720
whether i should do a drawing here

142
00:05:42,560 --> 00:05:46,720
i probably should do a drawing um

143
00:05:46,959 --> 00:05:51,120
do y'all mind waiting one second because

144
00:05:49,519 --> 00:05:53,599
i think i can probably use

145
00:05:51,120 --> 00:05:54,240
the starco galaxy setting setup to do

146
00:05:53,600 --> 00:06:07,840
the drawing

147
00:05:54,240 --> 00:06:07,840
real quick hold on

148
00:06:48,959 --> 00:06:53,918
okay let me see if i can use the star

149
00:06:52,240 --> 00:06:55,199
code galaxy setting for the setup for

150
00:06:53,918 --> 00:07:00,159
this

151
00:06:55,199 --> 00:07:03,598
uh because i i probably can i don't know

152
00:07:00,160 --> 00:07:07,759
you might as well check it out

153
00:07:03,598 --> 00:07:07,759
let's take a look um

154
00:07:08,560 --> 00:07:17,839
all right

155
00:07:42,240 --> 00:07:45,280
so the only question is if i'm doing

156
00:07:44,240 --> 00:07:47,280
this here

157
00:07:45,279 --> 00:07:49,439
is this mic set up to hear me well

158
00:07:47,279 --> 00:07:51,598
enough so can you hear that okay

159
00:07:49,439 --> 00:07:53,839
let me go check because i haven't done

160
00:07:51,598 --> 00:07:55,680
level testing of this in obs

161
00:07:53,839 --> 00:07:57,598
when i record star code galaxy actually

162
00:07:55,680 --> 00:07:58,879
record quite differently

163
00:07:57,598 --> 00:08:13,839
than this setup but i think it can

164
00:07:58,879 --> 00:08:13,840
stream so let me check

165
00:08:32,080 --> 00:08:35,519
how's that audio is that audio any

166
00:08:33,759 --> 00:08:41,838
better hopefully that's a little that's

167
00:08:35,519 --> 00:08:41,839
i just boosted it a little bit

168
00:08:52,839 --> 00:08:55,839
okay

169
00:08:56,320 --> 00:08:59,360
all right so let me just explain really

170
00:08:58,799 --> 00:09:01,199
quickly

171
00:08:59,360 --> 00:09:02,639
what's going on here because this can be

172
00:09:01,200 --> 00:09:04,640
kind of confusing and

173
00:09:02,639 --> 00:09:06,319
again this is pretty experimental stuff

174
00:09:04,639 --> 00:09:08,159
all the entity system stuff we've done

175
00:09:06,320 --> 00:09:10,000
has just been entirely off the cuff like

176
00:09:08,159 --> 00:09:11,360
looking for interesting things to do

177
00:09:10,000 --> 00:09:12,720
because i feel like that's just an

178
00:09:11,360 --> 00:09:14,159
interesting thing and it's probably

179
00:09:12,720 --> 00:09:16,320
something that you know most people

180
00:09:14,159 --> 00:09:17,360
they just kind of do weird stuff like oh

181
00:09:16,320 --> 00:09:18,640
we implemented an

182
00:09:17,360 --> 00:09:20,159
entity component system and then we just

183
00:09:18,639 --> 00:09:21,600
shove everything through it but people

184
00:09:20,159 --> 00:09:22,319
don't generally think about like what

185
00:09:21,600 --> 00:09:24,560
they actually

186
00:09:22,320 --> 00:09:26,240
should be doing to try and make a good

187
00:09:24,559 --> 00:09:27,679
architecture for programming entities

188
00:09:26,240 --> 00:09:28,879
and so we're just trying some stuff out

189
00:09:27,679 --> 00:09:29,759
because we want to see if we find

190
00:09:28,879 --> 00:09:32,720
anything

191
00:09:29,759 --> 00:09:34,639
interesting as a result so here's what's

192
00:09:32,720 --> 00:09:37,040
actually happening right

193
00:09:34,639 --> 00:09:38,799
we have entities in the world and for

194
00:09:37,039 --> 00:09:40,719
example let's say we have the door

195
00:09:38,799 --> 00:09:42,719
like the stuff with the door so we'll

196
00:09:40,720 --> 00:09:46,480
have something where we have you know

197
00:09:42,720 --> 00:09:50,320
a a room let's say that's kind of out

198
00:09:46,480 --> 00:09:53,600
here maybe something like this

199
00:09:50,320 --> 00:09:55,360
right and then we have like one of these

200
00:09:53,600 --> 00:09:56,000
things has like a blocker so there's a

201
00:09:55,360 --> 00:09:59,120
door

202
00:09:56,000 --> 00:10:01,440
like this right here is a door

203
00:09:59,120 --> 00:10:03,600
you know what i'm saying so if you have

204
00:10:01,440 --> 00:10:06,240
a door here

205
00:10:03,600 --> 00:10:07,040
and you've got some stuff in here that's

206
00:10:06,240 --> 00:10:08,959
dependent

207
00:10:07,039 --> 00:10:10,639
that like opens the door so let's say

208
00:10:08,958 --> 00:10:12,479
there's the tiles like we kind of were

209
00:10:10,639 --> 00:10:15,199
making those tiles you hopped on

210
00:10:12,480 --> 00:10:15,519
and these are kind of wired to the door

211
00:10:15,200 --> 00:10:17,440
so

212
00:10:15,519 --> 00:10:19,759
when you you know when you step on all

213
00:10:17,440 --> 00:10:22,320
of these the door opens

214
00:10:19,759 --> 00:10:22,799
that itself is sort of that is what the

215
00:10:22,320 --> 00:10:26,240
brain

216
00:10:22,799 --> 00:10:27,120
is in terms of the actual like gather so

217
00:10:26,240 --> 00:10:30,240
there's a thing

218
00:10:27,120 --> 00:10:30,799
called a brain right and these are

219
00:10:30,240 --> 00:10:33,839
created

220
00:10:30,799 --> 00:10:34,639
every frame so on a particular frame if

221
00:10:33,839 --> 00:10:38,079
you have

222
00:10:34,639 --> 00:10:40,799
a door right a and then some tiles b

223
00:10:38,078 --> 00:10:41,838
c d or whatever then what happens is

224
00:10:40,799 --> 00:10:45,199
when

225
00:10:41,839 --> 00:10:48,079
on a particular frame each of these has

226
00:10:45,200 --> 00:10:50,240
a brain id in it that says i belong to

227
00:10:48,078 --> 00:10:51,919
brain 4976

228
00:10:50,240 --> 00:10:53,278
it's just a number it doesn't exist

229
00:10:51,919 --> 00:10:54,719
anywhere it's just a number

230
00:10:53,278 --> 00:10:58,078
in each entity that says this is the

231
00:10:54,720 --> 00:11:00,399
brain i belong to on a given frame

232
00:10:58,078 --> 00:11:01,278
when entities are gathered the entities

233
00:11:00,399 --> 00:11:03,360
are gathered

234
00:11:01,278 --> 00:11:05,759
based on their brain id and put into

235
00:11:03,360 --> 00:11:10,079
brains that only execute for that frame

236
00:11:05,759 --> 00:11:13,039
so a b c d get put in here into slots

237
00:11:10,078 --> 00:11:14,239
right and then on that frame just just

238
00:11:13,039 --> 00:11:16,559
on the frame the brain

239
00:11:14,240 --> 00:11:17,278
executes and it uses everything that's

240
00:11:16,559 --> 00:11:21,039
in there

241
00:11:17,278 --> 00:11:23,120
right that's what happens

242
00:11:21,039 --> 00:11:25,199
but the problem is since the world

243
00:11:23,120 --> 00:11:27,120
system is designed to handle literally

244
00:11:25,200 --> 00:11:28,480
arbitrarily large worlds so you could

245
00:11:27,120 --> 00:11:30,879
put worlds

246
00:11:28,480 --> 00:11:31,920
so vast into it that no one could ever

247
00:11:30,879 --> 00:11:33,600
play them because they would just take

248
00:11:31,919 --> 00:11:36,240
too long

249
00:11:33,600 --> 00:11:36,879
it's designed to handle that what that

250
00:11:36,240 --> 00:11:38,879
means

251
00:11:36,879 --> 00:11:41,759
is that we never simulate the whole

252
00:11:38,879 --> 00:11:43,039
world at once we only simulate a region

253
00:11:41,759 --> 00:11:45,120
that you're trying to update at any

254
00:11:43,039 --> 00:11:47,360
given particular time

255
00:11:45,120 --> 00:11:48,799
because there would be no way to even

256
00:11:47,360 --> 00:11:50,399
fit the entire world in memory

257
00:11:48,799 --> 00:11:51,679
potentially if you really wanted to

258
00:11:50,399 --> 00:11:53,120
scale it all the way out

259
00:11:51,679 --> 00:11:55,199
it's designed to literally be able to

260
00:11:53,120 --> 00:11:58,320
like page to disk if you wanted to

261
00:11:55,200 --> 00:12:00,639
right so uh

262
00:11:58,320 --> 00:12:02,240
this section here where we've got uh

263
00:12:00,639 --> 00:12:04,079
this room with the door

264
00:12:02,240 --> 00:12:05,919
well you know the player is going to

265
00:12:04,078 --> 00:12:06,479
approach that you know and they're going

266
00:12:05,919 --> 00:12:09,278
to be

267
00:12:06,480 --> 00:12:10,320
in some other room right and maybe

268
00:12:09,278 --> 00:12:14,958
they're coming through

269
00:12:10,320 --> 00:12:14,959
here so maybe the player is here right

270
00:12:15,360 --> 00:12:18,800
um that's not player player that says

271
00:12:18,320 --> 00:12:20,560
played

272
00:12:18,799 --> 00:12:21,919
okay so the player is here and they're

273
00:12:20,559 --> 00:12:24,000
coming through the door

274
00:12:21,919 --> 00:12:25,120
we're simulating a region around them

275
00:12:24,000 --> 00:12:27,759
and so when we

276
00:12:25,120 --> 00:12:29,120
do that gather maybe we do something

277
00:12:27,759 --> 00:12:32,319
right

278
00:12:29,120 --> 00:12:35,120
where we only gather part of

279
00:12:32,320 --> 00:12:36,959
uh the system and really i probably

280
00:12:35,120 --> 00:12:38,399
should draw it like this to show this

281
00:12:36,958 --> 00:12:40,879
particular bug

282
00:12:38,399 --> 00:12:42,159
so maybe let's pretend that actually

283
00:12:40,879 --> 00:12:45,519
instead of the door

284
00:12:42,159 --> 00:12:49,759
a being there maybe that's not the door

285
00:12:45,519 --> 00:12:53,120
right maybe the door is actually down

286
00:12:49,759 --> 00:12:54,078
here right so this is the actual door in

287
00:12:53,120 --> 00:12:55,759
question

288
00:12:54,078 --> 00:12:57,519
so instead of the dorbing up there the

289
00:12:55,759 --> 00:12:58,879
door is here it's still all part of the

290
00:12:57,519 --> 00:13:01,679
same brain though

291
00:12:58,879 --> 00:13:02,799
uh just like before so when the player

292
00:13:01,679 --> 00:13:04,958
comes in here

293
00:13:02,799 --> 00:13:06,078
the problem that we might have and that

294
00:13:04,958 --> 00:13:07,439
i think we were having

295
00:13:06,078 --> 00:13:09,759
although we didn't really try to track

296
00:13:07,440 --> 00:13:12,639
it down is that when we gather

297
00:13:09,759 --> 00:13:16,319
up our simulation region so this here is

298
00:13:12,639 --> 00:13:16,320
is the region we're going to simulate

299
00:13:16,480 --> 00:13:20,639
we always run the run the risk of

300
00:13:19,839 --> 00:13:24,399
gathering

301
00:13:20,639 --> 00:13:27,120
an entity whose components

302
00:13:24,399 --> 00:13:28,240
are on like some of whose components are

303
00:13:27,120 --> 00:13:30,240
on the other side

304
00:13:28,240 --> 00:13:32,839
because remember a brain is just a thing

305
00:13:30,240 --> 00:13:34,000
that gets assembled per frame to do

306
00:13:32,839 --> 00:13:36,240
activities

307
00:13:34,000 --> 00:13:37,120
and so what would happen is if you only

308
00:13:36,240 --> 00:13:39,039
gathered a

309
00:13:37,120 --> 00:13:40,879
then b c and d aren't there and of

310
00:13:39,039 --> 00:13:43,039
course brains don't exist in any

311
00:13:40,879 --> 00:13:44,159
capacity other than temporarily for that

312
00:13:43,039 --> 00:13:46,719
frame

313
00:13:44,159 --> 00:13:47,519
as a result it means that the brain

314
00:13:46,720 --> 00:13:50,399
itself

315
00:13:47,519 --> 00:13:51,198
only sees a and then goes oh i'm just a

316
00:13:50,399 --> 00:13:53,198
door that has

317
00:13:51,198 --> 00:13:54,958
no dependent tiles so i guess i should

318
00:13:53,198 --> 00:13:55,759
unlock because nothing is preventing me

319
00:13:54,958 --> 00:13:59,119
from unlocking

320
00:13:55,759 --> 00:14:02,240
right same thing would happen if say you

321
00:13:59,120 --> 00:14:03,919
got just a little bit different and so d

322
00:14:02,240 --> 00:14:05,440
and a were both there but b and c

323
00:14:03,919 --> 00:14:08,319
weren't then

324
00:14:05,440 --> 00:14:10,000
if d had been stepped on but b and c

325
00:14:08,320 --> 00:14:10,480
hadn't technically the door shouldn't

326
00:14:10,000 --> 00:14:11,679
open

327
00:14:10,480 --> 00:14:14,639
but it would because it would look and

328
00:14:11,679 --> 00:14:18,958
go oh i've got one plate the plate is d

329
00:14:14,639 --> 00:14:20,879
is it down yes okay then i'll open right

330
00:14:18,958 --> 00:14:22,638
so the problem that we have is this

331
00:14:20,879 --> 00:14:24,639
partial gather

332
00:14:22,639 --> 00:14:26,000
and we knew it was a problem before we

333
00:14:24,639 --> 00:14:27,600
weren't thinking about doors

334
00:14:26,000 --> 00:14:30,159
what we were thinking about is entities

335
00:14:27,600 --> 00:14:33,360
like snakes so for example let's suppose

336
00:14:30,159 --> 00:14:35,039
that in the exact same kind of scenario

337
00:14:33,360 --> 00:14:36,560
we have maybe a situation where there's

338
00:14:35,039 --> 00:14:38,480
a snake here right

339
00:14:36,559 --> 00:14:39,759
so there's a snake where we've got like

340
00:14:38,480 --> 00:14:42,879
a bunch of entities

341
00:14:39,759 --> 00:14:44,958
and they're cut by that sim region well

342
00:14:42,879 --> 00:14:47,360
what will happen is it'll move these two

343
00:14:44,958 --> 00:14:48,479
somewhere but these will stay behind

344
00:14:47,360 --> 00:14:51,039
right

345
00:14:48,480 --> 00:14:52,959
so same exact problem just a different

346
00:14:51,039 --> 00:14:54,958
way that it might manifest itself

347
00:14:52,958 --> 00:14:56,719
door that opens when it shouldn't open

348
00:14:54,958 --> 00:14:57,599
snake that moves its front half not its

349
00:14:56,720 --> 00:15:02,240
back half

350
00:14:57,600 --> 00:15:06,320
or vice versa right that is

351
00:15:02,240 --> 00:15:08,720
that is what we mean when we're saying

352
00:15:06,320 --> 00:15:10,399
uh that this partial gather creates this

353
00:15:08,720 --> 00:15:13,519
this problem of brains not being

354
00:15:10,399 --> 00:15:16,799
filled in right

355
00:15:13,519 --> 00:15:19,120
okay so if you imagine that and just

356
00:15:16,799 --> 00:15:20,399
keep that scenario in your head what we

357
00:15:19,120 --> 00:15:23,919
did to try and fix that

358
00:15:20,399 --> 00:15:26,399
is say oh okay instead of pulling things

359
00:15:23,919 --> 00:15:27,278
in in this way we already know that we

360
00:15:26,399 --> 00:15:29,839
kind of have

361
00:15:27,278 --> 00:15:31,519
an exterior region around the actual

362
00:15:29,839 --> 00:15:33,600
simulation region anyway

363
00:15:31,519 --> 00:15:34,720
for things like lighting and whatever

364
00:15:33,600 --> 00:15:36,560
because we need

365
00:15:34,720 --> 00:15:38,399
light to be able to propagate like into

366
00:15:36,559 --> 00:15:39,679
the region and stuff like that

367
00:15:38,399 --> 00:15:41,839
and we need to be able to see where the

368
00:15:39,679 --> 00:15:44,719
light sources are and furthermore

369
00:15:41,839 --> 00:15:45,279
we may need to like uh do some stuff

370
00:15:44,720 --> 00:15:47,839
where

371
00:15:45,278 --> 00:15:49,759
we know for example that someone who's

372
00:15:47,839 --> 00:15:52,160
trying to hop in this direction

373
00:15:49,759 --> 00:15:54,000
will or won't be able to hop so we need

374
00:15:52,159 --> 00:15:55,600
people to hop out of the simulation

375
00:15:54,000 --> 00:15:57,440
region and then just kind of freeze out

376
00:15:55,600 --> 00:15:58,879
there and stop being stimulated but they

377
00:15:57,440 --> 00:15:59,759
have to be able to cross it otherwise

378
00:15:58,879 --> 00:16:03,039
they'd all kind of

379
00:15:59,759 --> 00:16:05,120
be like pinned in by this weird border

380
00:16:03,039 --> 00:16:06,399
so it's possible to leave the region

381
00:16:05,120 --> 00:16:08,240
because we know there's stuff in the

382
00:16:06,399 --> 00:16:09,679
region and what we do is we basically

383
00:16:08,240 --> 00:16:12,879
have that region be marked as

384
00:16:09,679 --> 00:16:13,758
inactive and this region be marked as

385
00:16:12,879 --> 00:16:16,078
active

386
00:16:13,759 --> 00:16:17,839
so what happens is we actually know we

387
00:16:16,078 --> 00:16:20,078
will never really get a situation

388
00:16:17,839 --> 00:16:22,560
because snakes and doors and tiles

389
00:16:20,078 --> 00:16:23,198
can never be so long that they stretch

390
00:16:22,559 --> 00:16:26,000
across

391
00:16:23,198 --> 00:16:27,198
the active and inactive regions right

392
00:16:26,000 --> 00:16:31,120
nothing's ever going to go

393
00:16:27,198 --> 00:16:32,958
all the way off uh from inside active to

394
00:16:31,120 --> 00:16:35,039
inactive because we just set that size

395
00:16:32,958 --> 00:16:38,879
to be the size of our largest entity

396
00:16:35,039 --> 00:16:41,599
you know so what we did is we said oh

397
00:16:38,879 --> 00:16:42,078
okay well if there are some entities

398
00:16:41,600 --> 00:16:45,360
that are

399
00:16:42,078 --> 00:16:49,278
active right in the brain

400
00:16:45,360 --> 00:16:52,480
we will mark everything inside a brain

401
00:16:49,278 --> 00:16:54,399
as active if any of them were active

402
00:16:52,480 --> 00:16:56,320
right which makes sense because then

403
00:16:54,399 --> 00:16:57,679
it's like oh if these were inactive and

404
00:16:56,320 --> 00:16:59,680
these were active

405
00:16:57,679 --> 00:17:01,599
we'll just say oh make all these active

406
00:16:59,679 --> 00:17:04,000
so the brain is complete

407
00:17:01,600 --> 00:17:05,199
problem is as far as i can tell we never

408
00:17:04,000 --> 00:17:08,078
put in a check to say

409
00:17:05,199 --> 00:17:10,240
don't run a brain unless the brain

410
00:17:08,078 --> 00:17:11,918
itself had someone active in it

411
00:17:10,240 --> 00:17:13,120
the brains are just running all the time

412
00:17:11,919 --> 00:17:15,199
they're never looking to see whether

413
00:17:13,119 --> 00:17:17,279
their entities were active or inactive

414
00:17:15,199 --> 00:17:18,959
so what we did is we said well we

415
00:17:17,279 --> 00:17:20,558
guaranteed that everything in a brain

416
00:17:18,959 --> 00:17:22,240
would be active if anything was

417
00:17:20,558 --> 00:17:24,240
but then we never checked to see whether

418
00:17:22,240 --> 00:17:26,959
anything in the brain was active at all

419
00:17:24,240 --> 00:17:27,439
which means that even if all of the

420
00:17:26,959 --> 00:17:30,640
stuff

421
00:17:27,439 --> 00:17:32,000
is outside the region so even if we were

422
00:17:30,640 --> 00:17:34,400
going back to this case where

423
00:17:32,000 --> 00:17:37,038
a is here and the tiles are like going

424
00:17:34,400 --> 00:17:40,000
up off the region like that

425
00:17:37,038 --> 00:17:41,119
if they're all inactive we still run the

426
00:17:40,000 --> 00:17:42,880
brain

427
00:17:41,119 --> 00:17:45,359
so we actually know that we shouldn't

428
00:17:42,880 --> 00:17:46,799
run the brain we even looked and said oh

429
00:17:45,359 --> 00:17:48,798
it's all inactive

430
00:17:46,798 --> 00:17:50,079
but we never actually turned the brain

431
00:17:48,798 --> 00:17:52,558
off

432
00:17:50,079 --> 00:17:53,839
so i'm thinking the only bug we actually

433
00:17:52,558 --> 00:17:56,079
have here

434
00:17:53,839 --> 00:17:57,678
is that we're running brains on inactive

435
00:17:56,079 --> 00:17:59,199
entities and if we were only running

436
00:17:57,679 --> 00:18:01,200
them on active entities i think we

437
00:17:59,200 --> 00:18:04,240
wouldn't have the bug

438
00:18:01,200 --> 00:18:05,279
so my goal now is to just look and see

439
00:18:04,240 --> 00:18:06,880
if that's the case

440
00:18:05,279 --> 00:18:08,399
because if that's the case we really

441
00:18:06,880 --> 00:18:10,160
don't have a bug

442
00:18:08,400 --> 00:18:11,919
in our architecture we have a bug in the

443
00:18:10,160 --> 00:18:13,200
sense that this is happening

444
00:18:11,919 --> 00:18:14,880
but we wouldn't have a bug in our

445
00:18:13,200 --> 00:18:16,480
architecture we just have to fix that

446
00:18:14,880 --> 00:18:18,160
check and say don't run brains

447
00:18:16,480 --> 00:18:20,079
that are inactive they don't have at

448
00:18:18,160 --> 00:18:21,600
least one active entity because if they

449
00:18:20,079 --> 00:18:22,798
have one active entity then the brain

450
00:18:21,599 --> 00:18:25,038
itself is active

451
00:18:22,798 --> 00:18:26,000
right because all of them will be marked

452
00:18:25,038 --> 00:18:27,919
active

453
00:18:26,000 --> 00:18:43,839
that may just work so that's what i'm

454
00:18:27,919 --> 00:18:43,840
gonna go check

455
00:18:45,839 --> 00:18:52,798
okay how did that go was everyone able

456
00:18:50,079 --> 00:18:52,798
to follow that

457
00:18:54,839 --> 00:18:57,839
right

458
00:19:08,839 --> 00:19:11,839
okay

459
00:19:21,759 --> 00:19:25,839
all right yeah the light board is even

460
00:19:24,079 --> 00:19:27,279
more magic than you think it is you just

461
00:19:25,839 --> 00:19:29,759
haven't seen some of its advanced

462
00:19:27,279 --> 00:19:29,759
features

463
00:19:34,880 --> 00:19:38,640
uh why have more than one brain so the

464
00:19:37,200 --> 00:19:41,120
reason for that is because

465
00:19:38,640 --> 00:19:42,320
uh so let's suppose you have like

466
00:19:41,119 --> 00:19:44,879
multiple entities

467
00:19:42,319 --> 00:19:46,399
that are separate right or multiple

468
00:19:44,880 --> 00:19:48,799
creatures that are separate

469
00:19:46,400 --> 00:19:49,840
but they're actually multi-entity so for

470
00:19:48,798 --> 00:19:53,200
example

471
00:19:49,839 --> 00:19:54,079
you have like two monsters each of which

472
00:19:53,200 --> 00:19:55,840
has like

473
00:19:54,079 --> 00:19:57,279
a is a snake and has lots of little

474
00:19:55,839 --> 00:19:58,319
pieces

475
00:19:57,279 --> 00:20:00,160
so the brain is the thing that

476
00:19:58,319 --> 00:20:00,720
coordinates the motion of those pieces

477
00:20:00,160 --> 00:20:04,240
you want

478
00:20:00,720 --> 00:20:05,679
one brain per creature right

479
00:20:04,240 --> 00:20:07,279
because they're thinking and moving

480
00:20:05,679 --> 00:20:08,000
independently they're not related to

481
00:20:07,279 --> 00:20:11,119
each other

482
00:20:08,000 --> 00:20:11,919
so what we do is we create each one of

483
00:20:11,119 --> 00:20:14,719
those

484
00:20:11,919 --> 00:20:15,600
brains to handle each separate creature

485
00:20:14,720 --> 00:20:17,519
so they run

486
00:20:15,599 --> 00:20:19,199
as a unified creature that's that's all

487
00:20:17,519 --> 00:20:22,319
we're talking about

488
00:20:19,200 --> 00:20:26,000
and the bug is that we're allowing

489
00:20:22,319 --> 00:20:29,839
brains to run even if they're only

490
00:20:26,000 --> 00:20:30,480
if no thing in the uh brain is marked as

491
00:20:29,839 --> 00:20:34,000
active

492
00:20:30,480 --> 00:20:35,519
that means it could span outside of the

493
00:20:34,000 --> 00:20:36,960
inactive region and there could be

494
00:20:35,519 --> 00:20:38,400
entities missing

495
00:20:36,960 --> 00:20:39,919
what we need to do is just make sure we

496
00:20:38,400 --> 00:20:41,679
only run brains that have active

497
00:20:39,919 --> 00:20:42,720
entities and then they can never be

498
00:20:41,679 --> 00:20:44,720
partial because

499
00:20:42,720 --> 00:20:45,759
no entity can be long enough to extend

500
00:20:44,720 --> 00:20:48,960
from the active region

501
00:20:45,759 --> 00:20:52,158
to outside the inactive region

502
00:20:48,960 --> 00:20:52,159
i know it's a little confusing

503
00:20:55,038 --> 00:20:59,119
um okay so what i'm going to propose

504
00:20:57,119 --> 00:21:00,319
here is you see this mark brain actives

505
00:20:59,119 --> 00:21:02,079
thing

506
00:21:00,319 --> 00:21:03,519
so here's the thing that does execute

507
00:21:02,079 --> 00:21:05,119
brain and

508
00:21:03,519 --> 00:21:07,599
what i think we want to do is something

509
00:21:05,119 --> 00:21:07,599
like this

510
00:21:08,798 --> 00:21:12,720
right so each brain is either active or

511
00:21:11,839 --> 00:21:14,480
inactive

512
00:21:12,720 --> 00:21:16,240
and then what we would do is we'd say we

513
00:21:14,480 --> 00:21:19,679
go down here and say if

514
00:21:16,240 --> 00:21:19,679
the brain is active

515
00:21:20,400 --> 00:21:25,600
then we mark it as such if the brain is

516
00:21:23,119 --> 00:21:28,639
inactive

517
00:21:25,599 --> 00:21:28,639
then we mark it as such

518
00:21:29,200 --> 00:21:33,600
like that so i think that's what we want

519
00:21:32,798 --> 00:21:37,200
to do

520
00:21:33,599 --> 00:21:39,918
um you know don't quote me on that right

521
00:21:37,200 --> 00:21:41,038
but i think that's what we want to do so

522
00:21:39,919 --> 00:21:45,360
if we do that

523
00:21:41,038 --> 00:21:47,599
then we will never execute a brain that

524
00:21:45,359 --> 00:21:48,558
doesn't have all of its entities in it

525
00:21:47,599 --> 00:21:51,759
pretty much

526
00:21:48,558 --> 00:21:52,480
if i'm correct about that behavior and

527
00:21:51,759 --> 00:21:59,839
so

528
00:21:52,480 --> 00:21:59,839
in here we should then be able to

529
00:22:00,798 --> 00:22:03,599
just add

530
00:22:05,839 --> 00:22:08,158
that

531
00:22:11,519 --> 00:22:15,200
so i think that might work um what we

532
00:22:14,319 --> 00:22:17,519
need to do is

533
00:22:15,200 --> 00:22:19,360
probably construct a good test case or

534
00:22:17,519 --> 00:22:20,720
at least have some way of verifying

535
00:22:19,359 --> 00:22:22,639
whether it works or not

536
00:22:20,720 --> 00:22:23,919
i can go hop around right now and sort

537
00:22:22,640 --> 00:22:26,960
of like inspect

538
00:22:23,919 --> 00:22:29,840
whether if i can see the bug happen

539
00:22:26,960 --> 00:22:31,279
then i know that didn't fix it but

540
00:22:29,839 --> 00:22:32,000
that's not really particularly

541
00:22:31,279 --> 00:22:34,480
conclusive

542
00:22:32,000 --> 00:22:35,599
especially if i see if i don't see it

543
00:22:34,480 --> 00:22:38,319
happen

544
00:22:35,599 --> 00:22:39,439
because this is kind of a wonky bug uh

545
00:22:38,319 --> 00:22:42,000
to have so

546
00:22:39,440 --> 00:22:42,480
you know you don't really know if you've

547
00:22:42,000 --> 00:22:44,079
actually

548
00:22:42,480 --> 00:22:46,798
put it in a situation where it should

549
00:22:44,079 --> 00:22:48,960
happen um

550
00:22:46,798 --> 00:22:50,000
so we'll see so i think this one is

551
00:22:48,960 --> 00:22:53,440
correct because there

552
00:22:50,000 --> 00:22:54,880
are no there are no tiles so that one

553
00:22:53,440 --> 00:22:57,360
should open

554
00:22:54,880 --> 00:22:57,360
uh oh

555
00:22:58,159 --> 00:23:02,480
that dude just stepped on all of the

556
00:23:00,079 --> 00:23:02,480
tiles

557
00:23:02,640 --> 00:23:10,480
okay so no stop okay

558
00:23:06,000 --> 00:23:10,480
so that one is not down so that's good

559
00:23:10,640 --> 00:23:16,240
that one's down but that's because the

560
00:23:12,159 --> 00:23:18,080
dude these dudes open all of our doors

561
00:23:16,240 --> 00:23:19,919
so that looks like we still have a

562
00:23:18,079 --> 00:23:23,038
problem right because that

563
00:23:19,919 --> 00:23:25,520
that was not down but the door was

564
00:23:23,038 --> 00:23:27,279
so i think i'm gonna have to create some

565
00:23:25,519 --> 00:23:29,279
way of like constructively testing this

566
00:23:27,279 --> 00:23:33,119
so we can see what's going on

567
00:23:29,279 --> 00:23:35,599
um if that makes sense although i

568
00:23:33,119 --> 00:23:37,439
like i said it's pretty tough i don't

569
00:23:35,599 --> 00:23:39,199
really necessarily know

570
00:23:37,440 --> 00:23:41,278
if everything else is working properly

571
00:23:39,200 --> 00:23:42,720
so it may have also nothing to do

572
00:23:41,278 --> 00:23:44,798
with the thing that i was just talking

573
00:23:42,720 --> 00:23:50,480
about which i do think we definitely

574
00:23:44,798 --> 00:23:55,038
want um it's just a question of of uh

575
00:23:50,480 --> 00:23:55,038
of whether or not this

576
00:23:55,119 --> 00:23:58,239
we definitely need to solve that problem

577
00:23:56,720 --> 00:23:59,679
it's just a question of whether or not

578
00:23:58,240 --> 00:24:01,440
has anything to do with this particular

579
00:23:59,679 --> 00:24:02,840
problem of doors being open that

580
00:24:01,440 --> 00:24:06,640
shouldn't be open

581
00:24:02,839 --> 00:24:10,000
right all right so first things first

582
00:24:06,640 --> 00:24:12,799
let's remove these little hopping guys

583
00:24:10,000 --> 00:24:14,079
because they're triggering these doors

584
00:24:12,798 --> 00:24:17,599
for us which is not

585
00:24:14,079 --> 00:24:17,599
good like we don't actually want

586
00:24:17,679 --> 00:24:20,798
them to be doing that

587
00:24:22,798 --> 00:24:26,079
so in the play snake call here i'm just

588
00:24:25,440 --> 00:24:32,400
gonna

589
00:24:26,079 --> 00:24:33,759
just i'm just gonna turn that off right

590
00:24:32,400 --> 00:24:36,320
uh and then the other thing that i don't

591
00:24:33,759 --> 00:24:37,278
understand is i'm not sure if dora from

592
00:24:36,319 --> 00:24:39,439
a to b

593
00:24:37,278 --> 00:24:40,798
always has place tile pattern occur in

594
00:24:39,440 --> 00:24:42,480
it i'm not sure

595
00:24:40,798 --> 00:24:44,000
i understand how we're seeing some of

596
00:24:42,480 --> 00:24:44,798
the stuff that we're seeing so there's

597
00:24:44,000 --> 00:24:47,278
there's another

598
00:24:44,798 --> 00:24:48,558
sort of weird problem there that i'd

599
00:24:47,278 --> 00:24:50,240
like to address

600
00:24:48,558 --> 00:24:52,399
so we'll see so now there should be no

601
00:24:50,240 --> 00:24:54,720
hoppers so we should be able to see

602
00:24:52,400 --> 00:24:56,720
just raw what's going on like no one can

603
00:24:54,720 --> 00:24:58,240
open doors for us now

604
00:24:56,720 --> 00:25:00,558
they were like opening all the doors

605
00:24:58,240 --> 00:25:03,919
which was not what we had wanted

606
00:25:00,558 --> 00:25:06,558
so if we go in to here

607
00:25:03,919 --> 00:25:07,200
the first question i have is how is this

608
00:25:06,558 --> 00:25:09,839
door

609
00:25:07,200 --> 00:25:12,798
like what is going on with that door so

610
00:25:09,839 --> 00:25:16,158
what you can see here is there is a door

611
00:25:12,798 --> 00:25:19,359
and it's down which is right because

612
00:25:16,159 --> 00:25:21,360
there are no tiles in this room right

613
00:25:19,359 --> 00:25:24,000
there are no tiles

614
00:25:21,359 --> 00:25:24,879
the problem is i can't understand how we

615
00:25:24,000 --> 00:25:28,240
placed a door

616
00:25:24,880 --> 00:25:31,440
but no tiles so door from a to b

617
00:25:28,240 --> 00:25:33,440
is kind of busted i guess because you

618
00:25:31,440 --> 00:25:36,798
can see that the door

619
00:25:33,440 --> 00:25:42,400
uh that door is clearly

620
00:25:36,798 --> 00:25:44,400
these tiles here right

621
00:25:42,400 --> 00:25:47,919
there the door went down quote-unquote

622
00:25:44,400 --> 00:25:49,840
door the stand-in tree went down

623
00:25:47,919 --> 00:25:51,038
but you can see here there is a door

624
00:25:49,839 --> 00:25:54,639
that got placed but

625
00:25:51,038 --> 00:25:56,400
no tiles and so i don't understand how

626
00:25:54,640 --> 00:26:00,400
that's possible because

627
00:25:56,400 --> 00:26:04,559
door from a to b right is set to true

628
00:26:00,400 --> 00:26:11,840
in only that one place as far as i know

629
00:26:04,558 --> 00:26:11,839
and yet

630
00:26:12,480 --> 00:26:19,120
uh oh well

631
00:26:15,759 --> 00:26:23,119
well maybe that's correct because

632
00:26:19,119 --> 00:26:26,239
it goes from prevroom to room

633
00:26:23,119 --> 00:26:26,879
so if we're back if we're back placing

634
00:26:26,240 --> 00:26:29,839
it

635
00:26:26,880 --> 00:26:33,360
then i guess the problem is this

636
00:26:29,839 --> 00:26:33,359
actually needs to be that

637
00:26:38,720 --> 00:26:42,558
in other words if it goes from pre-room

638
00:26:40,880 --> 00:26:44,640
to room then draw from a to b

639
00:26:42,558 --> 00:26:45,678
means that the tile pattern should be

640
00:26:44,640 --> 00:26:48,960
placed actually

641
00:26:45,679 --> 00:26:50,240
in the in the previous room not this

642
00:26:48,960 --> 00:26:53,840
room

643
00:26:50,240 --> 00:26:56,000
right okay so that was just a bug

644
00:26:53,839 --> 00:26:57,519
in the request the room generator was

645
00:26:56,000 --> 00:27:00,960
operating i think

646
00:26:57,519 --> 00:27:03,359
uh exactly as as intended

647
00:27:00,960 --> 00:27:07,840
it was just telling it to place the

648
00:27:03,359 --> 00:27:07,839
tiles in the wrong room

649
00:27:09,599 --> 00:27:14,639
there we go so there's a door i hop and

650
00:27:12,480 --> 00:27:18,880
now it should be open

651
00:27:14,640 --> 00:27:20,240
and it is um this one has a door that's

652
00:27:18,880 --> 00:27:23,278
closed uh

653
00:27:20,240 --> 00:27:26,480
which is good and

654
00:27:23,278 --> 00:27:27,200
so now it's open and my goal here is

655
00:27:26,480 --> 00:27:29,519
just to see

656
00:27:27,200 --> 00:27:31,038
if i can find any evidence that doors

657
00:27:29,519 --> 00:27:34,798
open on their own

658
00:27:31,038 --> 00:27:37,119
right um so we don't know

659
00:27:34,798 --> 00:27:37,119
yet

660
00:27:40,079 --> 00:27:44,480
it looks so far so good and maybe that

661
00:27:43,038 --> 00:27:44,960
other bug had something to do with it

662
00:27:44,480 --> 00:27:48,240
maybe

663
00:27:44,960 --> 00:27:52,399
no here you go so here's one that is

664
00:27:48,240 --> 00:27:54,558
open but there is no

665
00:27:52,398 --> 00:27:55,918
right there there was no tile hopping

666
00:27:54,558 --> 00:27:59,678
that happened

667
00:27:55,919 --> 00:28:02,880
right um

668
00:27:59,679 --> 00:28:04,240
okay so that's very reliable as well

669
00:28:02,880 --> 00:28:07,679
that one has been wrong

670
00:28:04,240 --> 00:28:10,960
every time and so i

671
00:28:07,679 --> 00:28:11,600
assume we can take a look at what's

672
00:28:10,960 --> 00:28:17,840
happening

673
00:28:11,599 --> 00:28:17,839
to that particular door um

674
00:28:22,720 --> 00:28:30,159
i assume we can just step in and see

675
00:28:26,720 --> 00:28:33,759
right uh so i'm guessing

676
00:28:30,159 --> 00:28:35,760
that i should be able to just make a

677
00:28:33,759 --> 00:28:38,000
like i should be able to just set a

678
00:28:35,759 --> 00:28:42,240
break point where the door

679
00:28:38,000 --> 00:28:45,038
actually gets um opened

680
00:28:42,240 --> 00:28:45,679
and see why it triggered because i

681
00:28:45,038 --> 00:28:48,879
should

682
00:28:45,679 --> 00:28:51,200
i think be able to

683
00:28:48,880 --> 00:28:51,200
um

684
00:28:52,960 --> 00:28:57,200
i should be able to just look at least

685
00:28:55,119 --> 00:29:00,639
to see whether or not

686
00:28:57,200 --> 00:29:02,319
the whether or not that makes sense for

687
00:29:00,640 --> 00:29:05,440
the door to have opened

688
00:29:02,319 --> 00:29:09,599
so switch is set for example

689
00:29:05,440 --> 00:29:09,600
um i should be able to like

690
00:29:10,839 --> 00:29:13,839
uh

691
00:29:14,480 --> 00:29:22,319
i should be able to to stop right here

692
00:29:17,679 --> 00:29:27,278
right because that's what unlocks a door

693
00:29:22,319 --> 00:29:30,158
so if i switch to a debug build here

694
00:29:27,278 --> 00:29:30,159
i i think

695
00:29:36,880 --> 00:29:40,000
i think i should be able to like stop

696
00:29:39,119 --> 00:29:43,759
every time a door

697
00:29:40,000 --> 00:29:46,960
gets unlocked um and we should

698
00:29:43,759 --> 00:29:48,720
in theory trigger that should trigger at

699
00:29:46,960 --> 00:29:51,840
some point

700
00:29:48,720 --> 00:29:55,360
when i'm not doing anything meaning

701
00:29:51,839 --> 00:29:57,839
we'll we'll hop along uh

702
00:29:55,359 --> 00:29:59,038
on the tiles and we'll unlock the door

703
00:29:57,839 --> 00:30:00,240
and that should trigger

704
00:29:59,038 --> 00:30:03,038
and we should be able to watch that

705
00:30:00,240 --> 00:30:06,319
happen but then at some point

706
00:30:03,038 --> 00:30:08,480
if our theory is correct we

707
00:30:06,319 --> 00:30:10,398
will be doing nothing like that we'll

708
00:30:08,480 --> 00:30:12,880
just be hopping around in empty sp

709
00:30:10,398 --> 00:30:14,558
like on an empty set of tiles just

710
00:30:12,880 --> 00:30:19,120
moving around

711
00:30:14,558 --> 00:30:22,639
and we should have that situation occur

712
00:30:19,119 --> 00:30:26,398
uh sporadically right

713
00:30:22,640 --> 00:30:30,080
um that's the theory

714
00:30:26,398 --> 00:30:32,719
anyway uh and and i

715
00:30:30,079 --> 00:30:33,359
you know the only other thing that could

716
00:30:32,720 --> 00:30:35,038
happen is

717
00:30:33,359 --> 00:30:36,398
we it never triggers which means that

718
00:30:35,038 --> 00:30:38,879
somehow the door is getting

719
00:30:36,398 --> 00:30:40,479
created in the unlocked state which

720
00:30:38,880 --> 00:30:40,880
would be a totally different bug that

721
00:30:40,480 --> 00:30:43,759
has

722
00:30:40,880 --> 00:30:45,440
i guess nothing to do with what i'm

723
00:30:43,759 --> 00:30:46,960
talking about and we were looking at the

724
00:30:45,440 --> 00:30:49,600
wrong place

725
00:30:46,960 --> 00:30:50,079
so we'll see but if i hop down here you

726
00:30:49,599 --> 00:30:52,558
can see

727
00:30:50,079 --> 00:30:56,079
me kind of just you know hopping along

728
00:30:52,558 --> 00:30:58,879
and when we hit this third one right now

729
00:30:56,079 --> 00:30:59,678
um i'm sorry fourth one rather uh we

730
00:30:58,880 --> 00:31:03,120
should see this

731
00:30:59,679 --> 00:31:06,159
unlock run and you know uh

732
00:31:03,119 --> 00:31:09,678
it should only run once uh

733
00:31:06,159 --> 00:31:09,679
and so that's what we expect

734
00:31:10,319 --> 00:31:18,319
no issues so far uh everything

735
00:31:14,319 --> 00:31:21,599
that all looks according to plan

736
00:31:18,319 --> 00:31:24,319
so there that's wrong

737
00:31:21,599 --> 00:31:26,079
this is what we kind of wanted to see so

738
00:31:24,319 --> 00:31:27,599
we should not be unlocking a door here

739
00:31:26,079 --> 00:31:29,678
but we are

740
00:31:27,599 --> 00:31:31,359
uh and it looks like it did oops it

741
00:31:29,679 --> 00:31:35,519
looks like it did happen

742
00:31:31,359 --> 00:31:38,719
when it does look like it happened

743
00:31:35,519 --> 00:31:41,759
precisely when the region changed which

744
00:31:38,720 --> 00:31:43,440
seems to suggest that i'm right about

745
00:31:41,759 --> 00:31:45,519
the fact that it's the brain

746
00:31:43,440 --> 00:31:46,558
that's the problem so the first thing

747
00:31:45,519 --> 00:31:48,399
i'm going to do though

748
00:31:46,558 --> 00:31:50,079
is just take a look at the switches and

749
00:31:48,398 --> 00:31:52,319
see if any of that's true

750
00:31:50,079 --> 00:31:53,519
so you can see it does seem to be

751
00:31:52,319 --> 00:31:56,879
exactly what i said

752
00:31:53,519 --> 00:31:59,679
so it's the door is

753
00:31:56,880 --> 00:32:01,200
somehow inbounds or getting gathered

754
00:31:59,679 --> 00:32:05,200
right

755
00:32:01,200 --> 00:32:09,440
uh but there are no tiles being gathered

756
00:32:05,200 --> 00:32:14,319
for it if that makes sense

757
00:32:09,440 --> 00:32:17,278
um now how this is in the active

758
00:32:14,319 --> 00:32:17,918
region and the rest are not even in the

759
00:32:17,278 --> 00:32:21,200
inactive

760
00:32:17,919 --> 00:32:22,880
apron i don't know so i'm wondering if

761
00:32:21,200 --> 00:32:24,640
the active inactive thing

762
00:32:22,880 --> 00:32:28,559
is like not working properly or

763
00:32:24,640 --> 00:32:31,679
something let's take a quick look to see

764
00:32:28,558 --> 00:32:36,960
which flag is the entity active flag

765
00:32:31,679 --> 00:32:36,960
because maybe that is just broken right

766
00:32:40,839 --> 00:32:43,839
um

767
00:32:48,319 --> 00:32:55,439
so active would be set

768
00:32:52,000 --> 00:32:58,640
um to four

769
00:32:55,440 --> 00:32:59,759
which is set so it does think it's

770
00:32:58,640 --> 00:33:01,540
active

771
00:32:59,759 --> 00:33:03,200
right um

772
00:33:01,539 --> 00:33:06,000
[Music]

773
00:33:03,200 --> 00:33:06,000
so somehow

774
00:33:06,398 --> 00:33:09,678
that doesn't make any sense somehow it's

775
00:33:08,480 --> 00:33:13,038
included

776
00:33:09,679 --> 00:33:13,519
in the active region but the inactive

777
00:33:13,038 --> 00:33:16,720
region

778
00:33:13,519 --> 00:33:20,798
does not extend far enough

779
00:33:16,720 --> 00:33:25,759
to encompass the other elements

780
00:33:20,798 --> 00:33:27,278
that it depends on

781
00:33:25,759 --> 00:33:29,679
and i don't know if that just means we

782
00:33:27,278 --> 00:33:32,558
need it to be a slightly larger

783
00:33:29,679 --> 00:33:32,559
apron

784
00:33:35,278 --> 00:33:41,919
let's take a look

785
00:33:39,440 --> 00:33:42,720
another possibility is that we just

786
00:33:41,919 --> 00:33:46,080
don't handle

787
00:33:42,720 --> 00:33:49,519
entity flag active correctly

788
00:33:46,079 --> 00:33:49,519
at the moment right

789
00:33:50,398 --> 00:33:53,918
um so that's just the brain code that

790
00:33:52,640 --> 00:33:56,240
we're looking at before

791
00:33:53,919 --> 00:33:57,200
so here we can see a setting and

792
00:33:56,240 --> 00:34:00,640
clearing the flag

793
00:33:57,200 --> 00:34:05,278
as to whether or not uh the entity

794
00:34:00,640 --> 00:34:10,559
is is in the update bounds

795
00:34:05,278 --> 00:34:10,559
right so that's good

796
00:34:16,480 --> 00:34:24,000
that's all good so it looks good to me

797
00:34:20,878 --> 00:34:25,838
so the only question is like what is

798
00:34:24,000 --> 00:34:29,358
this

799
00:34:25,838 --> 00:34:31,519
how are we defining the updatable bounds

800
00:34:29,358 --> 00:34:33,199
so it may just be that those are not the

801
00:34:31,519 --> 00:34:36,480
right size

802
00:34:33,199 --> 00:34:40,078
um but what i what i might want to do

803
00:34:36,480 --> 00:34:41,199
there is have a way of seeing those

804
00:34:40,079 --> 00:34:42,909
bounds

805
00:34:41,199 --> 00:34:46,028
better

806
00:34:42,909 --> 00:34:46,028
[Music]

807
00:34:47,280 --> 00:34:51,119
so that i can visualize this uh so so

808
00:34:50,800 --> 00:34:54,240
like

809
00:34:51,119 --> 00:34:55,599
actually let's do that first um i i will

810
00:34:54,239 --> 00:35:00,239
look to see

811
00:34:55,599 --> 00:35:00,240
what those are uh real quick

812
00:35:00,838 --> 00:35:03,838
but

813
00:35:10,880 --> 00:35:13,599
i mean correct me if i'm wrong but it

814
00:35:12,079 --> 00:35:14,560
doesn't look like the updateable bounds

815
00:35:13,599 --> 00:35:17,760
are even

816
00:35:14,559 --> 00:35:19,519
any different

817
00:35:17,760 --> 00:35:21,359
right so we may have just kind of

818
00:35:19,519 --> 00:35:23,119
accidentally disabled that as we were

819
00:35:21,358 --> 00:35:24,799
doing stuff

820
00:35:23,119 --> 00:35:31,838
because it doesn't look it doesn't look

821
00:35:24,800 --> 00:35:31,839
like we actually do anything there

822
00:35:39,358 --> 00:35:44,400
so that's probably the issue

823
00:35:43,119 --> 00:35:46,880
is that we're just not doing that

824
00:35:44,400 --> 00:35:48,639
anymore um

825
00:35:46,880 --> 00:35:50,960
so let's take a look and see if we can

826
00:35:48,639 --> 00:35:51,859
draw that a little bit better

827
00:35:50,960 --> 00:35:54,880
so

828
00:35:51,860 --> 00:35:57,920
[Music]

829
00:35:54,880 --> 00:36:01,039
oh no i'm sorry we have to pause for a

830
00:35:57,920 --> 00:36:01,039
second i think i hear the puss

831
00:36:06,000 --> 00:36:13,199
hello puss come on in it's okay

832
00:36:09,519 --> 00:36:16,400
it's okay sorry i i closed the door

833
00:36:13,199 --> 00:36:22,000
it's okay puss it's cool

834
00:36:16,400 --> 00:36:27,838
it's cool you want to come up

835
00:36:22,000 --> 00:36:27,838
you can come up come on up

836
00:36:28,159 --> 00:36:34,159
the puss wanna the puss wanna come up

837
00:36:31,519 --> 00:36:37,759
she was outside come i mean out not

838
00:36:34,159 --> 00:36:37,759
outside in the world but outside

839
00:36:38,400 --> 00:36:43,920
uh the room do you want to say hi to

840
00:36:41,920 --> 00:36:45,760
everyone on the stream

841
00:36:43,920 --> 00:36:47,680
do you want to say hi or do you just

842
00:36:45,760 --> 00:36:49,760
want to cuddle what do you want to do

843
00:36:47,679 --> 00:36:53,039
here you can come up you can come up

844
00:36:49,760 --> 00:36:57,520
here there you go

845
00:36:53,039 --> 00:37:00,639
okay okay that's a good plus

846
00:36:57,519 --> 00:37:04,159
um so what we have

847
00:37:00,639 --> 00:37:05,759
now is uh

848
00:37:04,159 --> 00:37:07,199
fairly solid evidence that that the

849
00:37:05,760 --> 00:37:09,359
reason that our our

850
00:37:07,199 --> 00:37:11,439
uh solution wasn't working is because we

851
00:37:09,358 --> 00:37:14,639
don't actually use an apron anymore

852
00:37:11,440 --> 00:37:15,440
i don't know why um probably when we

853
00:37:14,639 --> 00:37:18,559
were just like

854
00:37:15,440 --> 00:37:19,920
doing the entity cache stuff

855
00:37:18,559 --> 00:37:21,679
we just stopped playing with the

856
00:37:19,920 --> 00:37:24,880
updatable bounds thing um

857
00:37:21,679 --> 00:37:27,598
and forgot to like put that back in

858
00:37:24,880 --> 00:37:29,838
so i don't know why we did that um

859
00:37:27,599 --> 00:37:33,519
that's just what happened

860
00:37:29,838 --> 00:37:37,679
and so we probably need to fix that by

861
00:37:33,519 --> 00:37:40,719
making sure those bounds are larger um

862
00:37:37,679 --> 00:37:43,039
and uh and we'll see what are you what

863
00:37:40,719 --> 00:37:45,838
are you doing puss

864
00:37:43,039 --> 00:37:47,599
what do you what are you what's wrong

865
00:37:45,838 --> 00:37:51,279
what's going on

866
00:37:47,599 --> 00:37:53,920
what's going on what's going on

867
00:37:51,280 --> 00:37:55,599
what do you want to come up do you want

868
00:37:53,920 --> 00:37:55,920
to come up just come up on the shoulder

869
00:37:55,599 --> 00:37:57,359
you

870
00:37:55,920 --> 00:38:01,280
you like being on the shoulder just go

871
00:37:57,358 --> 00:38:06,400
up there yeah yeah there you go

872
00:38:01,280 --> 00:38:06,400
go ahead um

873
00:38:07,039 --> 00:38:11,759
so i think mostly uh all we really need

874
00:38:10,800 --> 00:38:14,800
to do there

875
00:38:11,760 --> 00:38:18,000
is is draw that first

876
00:38:14,800 --> 00:38:20,079
and make sure that this appears to be a

877
00:38:18,000 --> 00:38:22,079
reasonable explanation for the problem

878
00:38:20,079 --> 00:38:23,200
first because i'm not sure if it really

879
00:38:22,079 --> 00:38:27,039
is

880
00:38:23,199 --> 00:38:28,960
um and then just enlarge that

881
00:38:27,039 --> 00:38:30,838
and deal with any issues that come from

882
00:38:28,960 --> 00:38:34,400
enlarging that

883
00:38:30,838 --> 00:38:35,358
um i think that's all we really need to

884
00:38:34,400 --> 00:38:36,880
do

885
00:38:35,358 --> 00:38:38,799
um it's going to be a little bit hard to

886
00:38:36,880 --> 00:38:41,440
visualize it because we need to draw

887
00:38:38,800 --> 00:38:44,400
entities that are outside it which we

888
00:38:41,440 --> 00:38:44,400
don't currently do

889
00:38:44,838 --> 00:38:47,838
um

890
00:38:49,119 --> 00:38:56,240
yeah let's do this first

891
00:38:52,880 --> 00:38:56,880
before i do anything else um it's okay

892
00:38:56,239 --> 00:39:00,000
puss

893
00:38:56,880 --> 00:39:02,400
it's okay no no

894
00:39:00,000 --> 00:39:03,519
no no just just stay calm you don't have

895
00:39:02,400 --> 00:39:06,880
to type right now

896
00:39:03,519 --> 00:39:11,199
uh casey's typing oh my gosh no

897
00:39:06,880 --> 00:39:15,200
oh boy no no stop

898
00:39:11,199 --> 00:39:20,159
puss no no

899
00:39:15,199 --> 00:39:22,960
that's my finger okay

900
00:39:20,159 --> 00:39:22,960
hold on a second

901
00:39:25,280 --> 00:39:29,119
the puss may have done some stuff all

902
00:39:26,880 --> 00:39:30,960
right i tried to close the editor and

903
00:39:29,119 --> 00:39:33,920
not save any changes so that the puss

904
00:39:30,960 --> 00:39:35,199
wouldn't uh add any code to the project

905
00:39:33,920 --> 00:39:37,440
she

906
00:39:35,199 --> 00:39:39,279
she likes to add code and she's not

907
00:39:37,440 --> 00:39:42,880
really great at it

908
00:39:39,280 --> 00:39:47,839
to be honest with you um

909
00:39:42,880 --> 00:39:47,838
just just not not fabulous um

910
00:39:49,760 --> 00:39:53,200
okay uh

911
00:39:54,639 --> 00:39:59,519
okay puss calm down please you're moving

912
00:39:57,920 --> 00:40:02,559
the microphone

913
00:39:59,519 --> 00:40:05,759
puss okay

914
00:40:02,559 --> 00:40:08,880
uh so i'm gonna switch back to

915
00:40:05,760 --> 00:40:11,520
release build and just use the uh

916
00:40:08,880 --> 00:40:25,039
debug camera to kind of pull out and see

917
00:40:11,519 --> 00:40:27,519
what's going on

918
00:40:25,039 --> 00:40:28,800
okay puss what are you doing you got to

919
00:40:27,519 --> 00:40:31,679
make a decision here we got to do some

920
00:40:28,800 --> 00:40:34,160
programming we're not done yet

921
00:40:31,679 --> 00:40:36,399
what do you want to do what do you want

922
00:40:34,159 --> 00:40:36,399
to do

923
00:40:37,119 --> 00:40:40,318
why don't you just sit down why don't

924
00:40:38,559 --> 00:40:41,599
you just sit you can sit on my lap while

925
00:40:40,318 --> 00:40:45,759
i'm programming

926
00:40:41,599 --> 00:40:45,760
why don't you do that what do you think

927
00:40:47,039 --> 00:40:50,159
unfortunately you can't stay on my

928
00:40:48,239 --> 00:40:50,879
shoulder because i don't actually have a

929
00:40:50,159 --> 00:40:52,078
way to type

930
00:40:50,880 --> 00:40:55,680
while you're on my shoulder because you

931
00:40:52,079 --> 00:40:58,400
tend to slide off you know

932
00:40:55,679 --> 00:40:59,039
and then i get scratched as you try to

933
00:40:58,400 --> 00:41:03,599
like

934
00:40:59,039 --> 00:41:06,960
hang on okay

935
00:41:03,599 --> 00:41:10,050
uh so if we

936
00:41:06,960 --> 00:41:10,050
[Music]

937
00:41:10,960 --> 00:41:18,480
use the debug camera to zoom out here um

938
00:41:15,519 --> 00:41:19,039
i just kind of want to see where this

939
00:41:18,480 --> 00:41:22,318
line

940
00:41:19,039 --> 00:41:27,039
occur like when this occurs

941
00:41:22,318 --> 00:41:27,039
does it seem plausible uh

942
00:41:27,599 --> 00:41:31,119
you can see this is the active region of

943
00:41:30,000 --> 00:41:34,400
stuff

944
00:41:31,119 --> 00:41:36,559
right um and

945
00:41:34,400 --> 00:41:37,519
if we kind of it's a little bit hard to

946
00:41:36,559 --> 00:41:41,039
see because the

947
00:41:37,519 --> 00:41:49,838
upper area is all filled in here

948
00:41:41,039 --> 00:41:49,838
um but

949
00:41:52,079 --> 00:41:57,039
so in theory when i hop across here that

950
00:41:55,119 --> 00:41:59,519
should have triggered the break point

951
00:41:57,039 --> 00:42:00,960
and the question is does that make sense

952
00:41:59,519 --> 00:42:04,639
that it did

953
00:42:00,960 --> 00:42:09,199
um and if you look

954
00:42:04,639 --> 00:42:12,239
at the actual setup for it

955
00:42:09,199 --> 00:42:12,639
it's hard to say because i it to be

956
00:42:12,239 --> 00:42:17,759
honest

957
00:42:12,639 --> 00:42:20,639
it doesn't really look

958
00:42:17,760 --> 00:42:21,119
like it should have um hold on a second

959
00:42:20,639 --> 00:42:24,239
let me

960
00:42:21,119 --> 00:42:25,760
really quickly just

961
00:42:24,239 --> 00:42:27,838
because it doesn't look like the door

962
00:42:25,760 --> 00:42:31,920
should have paged in quite yet

963
00:42:27,838 --> 00:42:33,279
at that point right

964
00:42:31,920 --> 00:42:35,680
looks like the door should have been

965
00:42:33,280 --> 00:42:45,200
slightly up from there

966
00:42:35,679 --> 00:42:50,000
you know what i'm saying

967
00:42:45,199 --> 00:42:50,000
it was almost there so so maybe

968
00:42:50,159 --> 00:42:54,399
i guess maybe i could believe that

969
00:42:52,800 --> 00:42:54,800
somehow that was there and just not

970
00:42:54,400 --> 00:42:56,639
being

971
00:42:54,800 --> 00:42:59,599
drawn but it didn't look like it was

972
00:42:56,639 --> 00:43:03,118
there it was right on the edge though

973
00:42:59,599 --> 00:43:09,119
so i mean i could believe it

974
00:43:03,119 --> 00:43:09,119
um but i don't know so let me take a

975
00:43:10,838 --> 00:43:15,519
look

976
00:43:12,960 --> 00:43:16,720
also that did brain break point did not

977
00:43:15,519 --> 00:43:19,280
trigger

978
00:43:16,719 --> 00:43:19,279
that time

979
00:43:20,159 --> 00:43:29,759
which was weird

980
00:43:26,159 --> 00:43:32,399
a little bit disquieting um

981
00:43:29,760 --> 00:43:33,520
so yeah i'm curious to know what happens

982
00:43:32,400 --> 00:43:38,240
if i change

983
00:43:33,519 --> 00:43:43,199
those uh bounds so

984
00:43:38,239 --> 00:43:43,199
where we actually do the um updatable

985
00:43:44,159 --> 00:43:51,039
bounds um i'm just curious what happens

986
00:43:47,679 --> 00:43:55,838
if this is actually an enlarged region

987
00:43:51,039 --> 00:43:55,838
right uh and and

988
00:44:14,000 --> 00:44:18,239
i guess the idea is the sim region

989
00:44:16,318 --> 00:44:20,239
bounds are the whole bounds

990
00:44:18,239 --> 00:44:23,759
and the updatable bounds are supposed to

991
00:44:20,239 --> 00:44:25,919
be a subset of those bounds

992
00:44:23,760 --> 00:44:28,400
right i mean i think that's what's

993
00:44:25,920 --> 00:44:37,838
supposed to be happening here

994
00:44:28,400 --> 00:44:37,838
so like

995
00:44:41,920 --> 00:44:50,240
so like i assume that the add radius 2

996
00:44:46,079 --> 00:45:05,839
part of things

997
00:44:50,239 --> 00:45:05,838
you know that should get shrunk down

998
00:45:07,599 --> 00:45:11,039
and maybe the bounds enlarge so it could

999
00:45:09,679 --> 00:45:11,679
actually be that what we would want to

1000
00:45:11,039 --> 00:45:18,400
do is

1001
00:45:11,679 --> 00:45:20,799
more like this

1002
00:45:18,400 --> 00:45:20,800
you know

1003
00:45:25,280 --> 00:45:31,200
and then the question is just how big uh

1004
00:45:28,400 --> 00:45:32,480
that should actually be you know what

1005
00:45:31,199 --> 00:45:35,759
i'm saying

1006
00:45:32,480 --> 00:45:40,318
but like if we imagine just temporarily

1007
00:45:35,760 --> 00:45:43,119
uh that we added something here

1008
00:45:40,318 --> 00:45:45,119
i don't know what it would be exactly

1009
00:45:43,119 --> 00:45:49,358
but we added something

1010
00:45:45,119 --> 00:45:52,559
uh substantial right

1011
00:45:49,358 --> 00:45:54,799
i'm just curious if this will work or

1012
00:45:52,559 --> 00:45:54,799
not

1013
00:45:58,838 --> 00:46:01,838
uh

1014
00:46:17,519 --> 00:46:21,440
so if we did something like this where

1015
00:46:19,599 --> 00:46:23,838
we take the updatable bounds

1016
00:46:21,440 --> 00:46:26,838
and then we we basically pull in like a

1017
00:46:23,838 --> 00:46:29,599
larger subset

1018
00:46:26,838 --> 00:46:32,880
um

1019
00:46:29,599 --> 00:46:34,240
i'm wondering if that would work

1020
00:46:32,880 --> 00:46:36,318
i don't know what it means but i can't

1021
00:46:34,239 --> 00:46:39,039
convert all the argument types because

1022
00:46:36,318 --> 00:46:43,838
they're rectangles right so it should

1023
00:46:39,039 --> 00:46:43,838
just work

1024
00:46:50,480 --> 00:46:57,838
it's good to do it that way

1025
00:46:58,880 --> 00:47:03,680
i'm not sure why it says two overloads

1026
00:47:01,519 --> 00:47:03,679
like

1027
00:47:04,000 --> 00:47:12,480
that's a rectangle three and that's a oh

1028
00:47:07,599 --> 00:47:12,480
right forgot not using integers

1029
00:47:13,358 --> 00:47:17,519
there we go so i'm not sure what this

1030
00:47:16,480 --> 00:47:21,119
would look like

1031
00:47:17,519 --> 00:47:22,800
um presumably it would stay the same

1032
00:47:21,119 --> 00:47:24,000
visually

1033
00:47:22,800 --> 00:47:25,920
it might get a little slower because it

1034
00:47:24,000 --> 00:47:27,679
has to unpack more entities although it

1035
00:47:25,920 --> 00:47:29,119
doesn't appear to have actually made any

1036
00:47:27,679 --> 00:47:33,118
frame rate difference whatsoever

1037
00:47:29,119 --> 00:47:36,400
so that's good um

1038
00:47:33,119 --> 00:47:38,640
and then like in theory

1039
00:47:36,400 --> 00:47:40,079
this now has the inactive apron now we

1040
00:47:38,639 --> 00:47:43,039
don't actually know

1041
00:47:40,079 --> 00:47:44,640
um because we again have to probably put

1042
00:47:43,039 --> 00:47:48,318
in something so we can actually see it

1043
00:47:44,639 --> 00:47:50,960
a little bit better um but in theory

1044
00:47:48,318 --> 00:47:52,400
this appears to just be fine so we can

1045
00:47:50,960 --> 00:47:54,720
enlarge that region we're going to have

1046
00:47:52,400 --> 00:47:56,079
to figure out how much larger we want it

1047
00:47:54,719 --> 00:47:59,679
to be

1048
00:47:56,079 --> 00:48:02,318
um here we're coming up on the door that

1049
00:47:59,679 --> 00:48:07,838
was broken

1050
00:48:02,318 --> 00:48:07,838
uh there's one more

1051
00:48:11,440 --> 00:48:14,480
yeah and and so now it's not broken

1052
00:48:13,119 --> 00:48:17,599
anymore

1053
00:48:14,480 --> 00:48:18,639
so my theory again is just that that's

1054
00:48:17,599 --> 00:48:21,119
all that was happening

1055
00:48:18,639 --> 00:48:23,440
is the brain you know the brains were

1056
00:48:21,119 --> 00:48:26,720
causing a problem there

1057
00:48:23,440 --> 00:48:28,079
i don't really have an iron cloud proof

1058
00:48:26,719 --> 00:48:30,719
that that's the case

1059
00:48:28,079 --> 00:48:31,519
but it looks like just having that apron

1060
00:48:30,719 --> 00:48:33,519
is what

1061
00:48:31,519 --> 00:48:34,800
fixed it right so it was exactly what i

1062
00:48:33,519 --> 00:48:49,838
thought it was

1063
00:48:34,800 --> 00:48:49,839
as far as i can tell um

1064
00:48:52,880 --> 00:48:56,480
all right so the question is how big

1065
00:48:54,639 --> 00:48:59,920
that apron should be

1066
00:48:56,480 --> 00:49:03,119
and i'm not really sure um

1067
00:48:59,920 --> 00:49:04,240
it it probably wants to be like one

1068
00:49:03,119 --> 00:49:08,960
room's worth

1069
00:49:04,239 --> 00:49:08,959
you know uh but i don't know

1070
00:49:09,039 --> 00:49:16,400
yeah so i think that's probably fine

1071
00:49:12,880 --> 00:49:18,800
you know i also think like let's let's

1072
00:49:16,400 --> 00:49:21,519
do a couple things here so first of all

1073
00:49:18,800 --> 00:49:23,359
let's make that apron size be like one

1074
00:49:21,519 --> 00:49:28,800
rooms worth

1075
00:49:23,358 --> 00:49:28,799
um which i believe we sort of have

1076
00:49:29,440 --> 00:49:32,400
the concept of

1077
00:49:42,960 --> 00:49:46,480
probably in world mode

1078
00:49:47,039 --> 00:49:51,440
so it's called standard room dimension

1079
00:49:51,519 --> 00:49:55,679
you know um

1080
00:49:56,159 --> 00:50:02,239
so i feel like what we want to do here

1081
00:49:58,318 --> 00:50:04,639
is like have that apron

1082
00:50:02,239 --> 00:50:06,639
be applied in here so when you go begin

1083
00:50:04,639 --> 00:50:09,920
world change

1084
00:50:06,639 --> 00:50:11,759
it can add a room to all sides

1085
00:50:09,920 --> 00:50:13,599
you know just to make sure it catches

1086
00:50:11,760 --> 00:50:17,040
everything

1087
00:50:13,599 --> 00:50:19,838
on the other side of it uh and standard

1088
00:50:17,039 --> 00:50:19,838
room dimension

1089
00:50:21,679 --> 00:50:27,838
is initialized somewhere

1090
00:50:30,400 --> 00:50:33,838
yeah you can see it here it's basically

1091
00:50:32,239 --> 00:50:36,558
just our like arbitrary

1092
00:50:33,838 --> 00:50:36,558
calculation

1093
00:50:37,760 --> 00:50:41,280
so i'm not sure like how if we want to

1094
00:50:40,000 --> 00:50:43,570
just feed that

1095
00:50:41,280 --> 00:50:45,200
forward i guess um

1096
00:50:43,570 --> 00:50:47,440
[Music]

1097
00:50:45,199 --> 00:50:49,519
what we could do is say begin world

1098
00:50:47,440 --> 00:50:52,800
change

1099
00:50:49,519 --> 00:50:56,400
takes that like

1100
00:50:52,800 --> 00:50:58,079
both sets you know it could take like

1101
00:50:56,400 --> 00:51:01,599
the simbounds

1102
00:50:58,079 --> 00:51:04,880
uh and the like

1103
00:51:01,599 --> 00:51:07,280
apron bounds or something where

1104
00:51:04,880 --> 00:51:08,400
you get both of those things and it just

1105
00:51:07,280 --> 00:51:12,559
sets them

1106
00:51:08,400 --> 00:51:15,599
both here so the sim bounds go in here

1107
00:51:12,559 --> 00:51:17,839
and the apron bounds go in here right

1108
00:51:15,599 --> 00:51:18,640
and then people just have to like update

1109
00:51:17,838 --> 00:51:22,639
this

1110
00:51:18,639 --> 00:51:24,159
to call the right thing

1111
00:51:22,639 --> 00:51:25,920
and i think that might be good the

1112
00:51:24,159 --> 00:51:29,679
reason for that is that like

1113
00:51:25,920 --> 00:51:32,960
this code doesn't need larger bounds

1114
00:51:29,679 --> 00:51:36,480
the editor code just uses that bounds so

1115
00:51:32,960 --> 00:51:36,480
i think this one

1116
00:51:37,440 --> 00:51:40,559
would be the thing you know begin sim

1117
00:51:40,079 --> 00:51:43,119
would

1118
00:51:40,559 --> 00:51:43,119
would take

1119
00:51:46,000 --> 00:51:49,679
would take two different ones and that

1120
00:51:47,920 --> 00:51:53,039
way they could they could each do

1121
00:51:49,679 --> 00:51:57,039
what they want to do rather than having

1122
00:51:53,039 --> 00:51:57,039
um yeah you get the idea

1123
00:51:58,159 --> 00:52:01,920
so you do simbounds and apron bounds on

1124
00:52:00,159 --> 00:52:06,000
that

1125
00:52:01,920 --> 00:52:11,200
and then i think uh

1126
00:52:06,000 --> 00:52:11,199
we would be in good shape so

1127
00:52:12,000 --> 00:52:16,838
this has the simbounds here and it would

1128
00:52:15,679 --> 00:52:19,838
also

1129
00:52:16,838 --> 00:52:19,838
create

1130
00:52:22,318 --> 00:52:26,318
the add radius 2

1131
00:52:26,480 --> 00:52:34,800
and here we would say work world mode

1132
00:52:30,838 --> 00:52:38,318
um standard room dimension

1133
00:52:34,800 --> 00:52:42,640
right so that just means like unpack

1134
00:52:38,318 --> 00:52:42,639
a much larger area than you would have

1135
00:52:45,760 --> 00:52:48,880
for the apron bounds

1136
00:52:49,838 --> 00:52:53,440
and again my main concern here is just

1137
00:52:52,960 --> 00:52:57,358
like

1138
00:52:53,440 --> 00:52:57,358
putting too much stress on the unpack

1139
00:52:58,838 --> 00:53:01,838
um

1140
00:53:15,519 --> 00:53:19,679
putting too much stress on the unpack is

1141
00:53:17,199 --> 00:53:22,639
mainly the problem

1142
00:53:19,679 --> 00:53:24,039
you know uh and and i and i don't really

1143
00:53:22,639 --> 00:53:26,838
know

1144
00:53:24,039 --> 00:53:28,960
[Music]

1145
00:53:26,838 --> 00:53:30,880
um

1146
00:53:28,960 --> 00:53:33,199
i don't really know like how bad that

1147
00:53:30,880 --> 00:53:33,200
would be

1148
00:53:34,000 --> 00:53:43,838
you know maybe it's always fine

1149
00:53:37,039 --> 00:53:43,838
maybe it's not uh

1150
00:53:49,199 --> 00:53:54,159
yeah so i don't know um that's that's a

1151
00:53:52,559 --> 00:53:56,640
tough call

1152
00:53:54,159 --> 00:53:58,879
and for now i guess we'll kind of say

1153
00:53:56,639 --> 00:54:02,159
like okay

1154
00:53:58,880 --> 00:54:02,160
you know um

1155
00:54:03,920 --> 00:54:08,838
let's just throw this in there at the

1156
00:54:06,559 --> 00:54:11,839
moment

1157
00:54:08,838 --> 00:54:11,838
um

1158
00:54:14,559 --> 00:54:20,160
oops i gotta fix my four coder

1159
00:54:17,679 --> 00:54:22,318
i i keep saying i'm gonna but i never do

1160
00:54:20,159 --> 00:54:25,838
um it's it does weird

1161
00:54:22,318 --> 00:54:27,759
deletion things so

1162
00:54:25,838 --> 00:54:28,880
i think that's all we would need to do

1163
00:54:27,760 --> 00:54:33,119
for this

1164
00:54:28,880 --> 00:54:33,119
uh again i just don't know

1165
00:54:33,440 --> 00:54:37,358
i i don't know to what extent we want to

1166
00:54:36,000 --> 00:54:40,798
standardize on this or

1167
00:54:37,358 --> 00:54:40,798
or what like

1168
00:54:40,880 --> 00:54:44,318
if we look at where simbounds is

1169
00:54:42,318 --> 00:54:47,519
computed here you know that's

1170
00:54:44,318 --> 00:54:49,199
this is it um doing its its dependent

1171
00:54:47,519 --> 00:54:50,719
calculations and you can see here like

1172
00:54:49,199 --> 00:54:51,439
we could say okay the apron bounds is

1173
00:54:50,719 --> 00:54:55,519
the thing

1174
00:54:51,440 --> 00:54:57,920
we can also have this be a

1175
00:54:55,519 --> 00:54:58,880
like a standard number so instead we

1176
00:54:57,920 --> 00:55:02,318
could do like

1177
00:54:58,880 --> 00:55:07,838
a apron radius

1178
00:55:02,318 --> 00:55:07,838
like that um

1179
00:55:14,000 --> 00:55:21,838
and then we can set that

1180
00:55:30,239 --> 00:55:33,279
where is that getting set

1181
00:55:33,519 --> 00:55:36,880
it's weird it's sometimes it's kind of

1182
00:55:34,960 --> 00:55:40,639
hard using two different editors

1183
00:55:36,880 --> 00:55:44,318
is hard to say the least

1184
00:55:40,639 --> 00:55:45,679
so standard apron radius is just gonna

1185
00:55:44,318 --> 00:55:48,000
be this

1186
00:55:45,679 --> 00:55:49,440
uh and i don't know what it should be i

1187
00:55:48,000 --> 00:55:49,920
don't know if it should be two times

1188
00:55:49,440 --> 00:55:52,720
this

1189
00:55:49,920 --> 00:55:54,318
potentially like it may be that we want

1190
00:55:52,719 --> 00:55:57,679
that to be doubled

1191
00:55:54,318 --> 00:55:59,920
right um

1192
00:55:57,679 --> 00:55:59,919
and

1193
00:56:00,798 --> 00:56:05,759
that like i said i'm just worried it's

1194
00:56:03,760 --> 00:56:07,280
free from a simulation standpoint

1195
00:56:05,760 --> 00:56:09,599
because none of that stuff gets

1196
00:56:07,280 --> 00:56:10,720
simulated it's it's just sitting there

1197
00:56:09,599 --> 00:56:13,760
not doing anything

1198
00:56:10,719 --> 00:56:16,879
so we don't add any actual cost

1199
00:56:13,760 --> 00:56:20,480
in that sense

1200
00:56:16,880 --> 00:56:24,880
um but what we do

1201
00:56:20,480 --> 00:56:24,880
is uh where's the world mode

1202
00:56:29,679 --> 00:56:33,838
shouldn't there be a world mode

1203
00:56:31,358 --> 00:56:33,838
structure

1204
00:56:34,079 --> 00:56:45,760
here or is it mode world

1205
00:56:37,920 --> 00:56:48,000
there it is um

1206
00:56:45,760 --> 00:56:49,040
so my problem is just i don't actually

1207
00:56:48,000 --> 00:56:52,480
know

1208
00:56:49,039 --> 00:56:54,480
whether we

1209
00:56:52,480 --> 00:56:56,880
are going to put too much stress on the

1210
00:56:54,480 --> 00:56:59,599
unpacking and repacking of the entities

1211
00:56:56,880 --> 00:57:02,079
every frame by forcing it to go through

1212
00:56:59,599 --> 00:57:05,200
this incredibly large list of entities

1213
00:57:02,079 --> 00:57:06,960
right um so i don't know

1214
00:57:05,199 --> 00:57:10,639
it doesn't seem to have a particularly

1215
00:57:06,960 --> 00:57:10,639
deleterious effect on anything

1216
00:57:10,838 --> 00:57:13,838
um

1217
00:57:20,239 --> 00:57:24,838
and you can see that it's not nothing

1218
00:57:21,760 --> 00:57:30,160
but man it's not even one percent

1219
00:57:24,838 --> 00:57:34,400
so and and it's single threaded

1220
00:57:30,159 --> 00:57:34,399
at one percent so you know i mean

1221
00:57:35,358 --> 00:57:38,798
yeah i don't know i i i guess we don't

1222
00:57:37,760 --> 00:57:40,640
have to really think about that

1223
00:57:38,798 --> 00:57:44,570
particularly hard

1224
00:57:40,639 --> 00:57:47,668
so i believe at this point now

1225
00:57:44,570 --> 00:57:47,669
[Music]

1226
00:57:52,239 --> 00:57:55,838
we should be in good shape

1227
00:57:56,000 --> 00:58:09,838
that'll is standardized now

1228
00:58:09,920 --> 00:58:12,240
um

1229
00:58:18,000 --> 00:58:23,358
yeah i think i think that's it i think

1230
00:58:20,000 --> 00:58:37,838
we're good

1231
00:58:23,358 --> 00:58:37,838
seems seems reasonable

1232
00:58:54,639 --> 00:59:05,838
okay um

1233
00:59:11,599 --> 00:59:19,838
that doesn't apply anymore right

1234
00:59:20,400 --> 00:59:24,559
because the game state is not in here

1235
00:59:22,159 --> 00:59:24,558
anymore

1236
00:59:24,639 --> 00:59:28,960
so i think that's all good um

1237
00:59:29,599 --> 00:59:34,079
so i think that's that's all good

1238
00:59:32,880 --> 00:59:37,838
wasn't the to do they're actually

1239
00:59:34,079 --> 00:59:37,839
describing the bug uh which to do

1240
00:59:43,039 --> 00:59:46,480
i'm not sure which to do you in which

1241
00:59:44,559 --> 00:59:48,480
which function are you talking about

1242
00:59:46,480 --> 00:59:52,480
i can check it out uh anyway so i think

1243
00:59:48,480 --> 00:59:52,480
that's all good uh what i would

1244
00:59:53,280 --> 00:59:59,519
like potentially

1245
00:59:56,400 --> 01:00:02,559
um i'd like to do one other

1246
00:59:59,519 --> 01:00:03,280
thing maybe

1247
01:00:02,559 --> 01:00:06,469
um

1248
01:00:03,280 --> 01:00:06,469
[Music]

1249
01:00:07,199 --> 01:00:15,838
which is that when we generate the world

1250
01:00:11,199 --> 01:00:15,838
uh handmade world mode around 300 okay

1251
01:00:23,920 --> 01:00:29,838
well you know what uh here in handmade

1252
01:00:25,838 --> 01:00:29,838
world mode i'll just look at the to do's

1253
01:00:57,679 --> 01:01:02,639
so i don't think that's actually true um

1254
01:01:03,358 --> 01:01:11,838
i think we're okay with that

1255
01:01:18,000 --> 01:01:22,000
okay so i think we're all good

1256
01:01:22,239 --> 01:01:28,159
um so what i wanted to do in the world

1257
01:01:25,280 --> 01:01:28,880
uh when we do the tile stuff so in well

1258
01:01:28,159 --> 01:01:32,960
first of all

1259
01:01:28,880 --> 01:01:36,480
let me also go ahead and in world mode

1260
01:01:32,960 --> 01:01:38,639
let's uh take a look at that uh

1261
01:01:36,480 --> 01:01:40,159
place snake call because now we should

1262
01:01:38,639 --> 01:01:43,679
be able to re-enable our snakes

1263
01:01:40,159 --> 01:01:46,879
i'm sorry not uh in world gen

1264
01:01:43,679 --> 01:01:46,879
in place snake

1265
01:01:48,880 --> 01:01:55,838
wasn't there a place nick

1266
01:01:52,079 --> 01:01:57,839
there it is um

1267
01:01:55,838 --> 01:02:00,558
we can continue dropping the snake down

1268
01:01:57,838 --> 01:02:04,078
also why don't our snakes have multiple

1269
01:02:00,559 --> 01:02:07,200
snake pieces um

1270
01:02:04,079 --> 01:02:11,039
we do now unlike before

1271
01:02:07,199 --> 01:02:14,798
we do allow uh multi-piece

1272
01:02:11,039 --> 01:02:17,839
entities so in like this

1273
01:02:14,798 --> 01:02:20,318
place tile pattern call for example uh

1274
01:02:17,838 --> 01:02:21,119
the same we could do the same thing that

1275
01:02:20,318 --> 01:02:24,400
we did

1276
01:02:21,119 --> 01:02:24,400
like this for example

1277
01:02:24,719 --> 01:02:31,598
um so in here we could do

1278
01:02:28,480 --> 01:02:35,358
like basically this and

1279
01:02:31,599 --> 01:02:38,480
we could just say like a

1280
01:02:35,358 --> 01:02:38,480
segment counts

1281
01:02:46,838 --> 01:02:49,838
and

1282
01:02:54,318 --> 01:02:58,000
i guess the only thing that i don't know

1283
01:02:57,199 --> 01:03:01,118
is

1284
01:02:58,000 --> 01:03:04,239
how this would like so these things may

1285
01:03:01,119 --> 01:03:08,079
need the ability to say

1286
01:03:04,239 --> 01:03:08,558
which index they were and and honestly

1287
01:03:08,079 --> 01:03:10,559
that's

1288
01:03:08,559 --> 01:03:13,359
probably should have been in here

1289
01:03:10,559 --> 01:03:17,839
instead of in the counting code

1290
01:03:13,358 --> 01:03:17,838
so we should probably fix that

1291
01:03:20,318 --> 01:03:27,599
as well which i'll do so

1292
01:03:23,599 --> 01:03:31,838
in here when we add the snake entity

1293
01:03:27,599 --> 01:03:31,838
we just need to now have a thing that

1294
01:03:42,838 --> 01:03:47,199
adds

1295
01:03:44,159 --> 01:03:48,159
adds the the like

1296
01:03:47,199 --> 01:03:50,798
i don't know what you want to call it

1297
01:03:48,159 --> 01:03:50,798
the um

1298
01:03:52,239 --> 01:03:58,078
the hopping part right

1299
01:03:56,079 --> 01:03:59,920
so in here i think what we would

1300
01:03:58,079 --> 01:04:03,440
probably do is say

1301
01:03:59,920 --> 01:04:07,280
okay so you know

1302
01:04:03,440 --> 01:04:08,480
the there's snake head and snake body

1303
01:04:07,280 --> 01:04:10,319
and we should be able to get that to

1304
01:04:08,480 --> 01:04:16,000
work now so

1305
01:04:10,318 --> 01:04:16,000
this would go when you do play snake

1306
01:04:19,838 --> 01:04:23,279
i assume you would do this

1307
01:04:24,838 --> 01:04:30,318
uh like that

1308
01:04:27,199 --> 01:04:31,598
so you add a brain for the snake it gets

1309
01:04:30,318 --> 01:04:35,279
the brain id

1310
01:04:31,599 --> 01:04:37,680
in the the gen entity right so in here

1311
01:04:35,280 --> 01:04:42,480
there's like a brain

1312
01:04:37,679 --> 01:04:42,480
id equals right

1313
01:04:42,719 --> 01:04:46,558
and it places the entity and then it

1314
01:04:45,199 --> 01:04:48,798
goes on

1315
01:04:46,559 --> 01:04:48,798
to

1316
01:04:52,318 --> 01:04:55,759
and maybe i'd differentiate this by

1317
01:04:54,000 --> 01:04:58,318
saying this is the head

1318
01:04:55,760 --> 01:04:58,319
of the snake

1319
01:05:04,239 --> 01:05:07,439
so this is the thing that adds the

1320
01:05:05,599 --> 01:05:10,720
snakehead you know

1321
01:05:07,440 --> 01:05:12,480
i'll be completely honest with you um

1322
01:05:10,719 --> 01:05:13,759
it's kind of annoying that these things

1323
01:05:12,480 --> 01:05:17,679
don't work

1324
01:05:13,760 --> 01:05:20,319
more directly but you know whatever

1325
01:05:17,679 --> 01:05:20,960
uh anyway so in here you know this says

1326
01:05:20,318 --> 01:05:23,358
okay

1327
01:05:20,960 --> 01:05:24,318
you know uh add the particular brain id

1328
01:05:23,358 --> 01:05:26,960
so i believe

1329
01:05:24,318 --> 01:05:29,119
we get the gen entity here in in the

1330
01:05:26,960 --> 01:05:33,358
genetic callback right

1331
01:05:29,119 --> 01:05:33,358
um no

1332
01:05:33,760 --> 01:05:37,440
yeah so so this like kind of sucks like

1333
01:05:36,318 --> 01:05:41,119
this thing should

1334
01:05:37,440 --> 01:05:44,480
get you should pass it the generator

1335
01:05:41,119 --> 01:05:47,599
thing right because it needs that

1336
01:05:44,480 --> 01:05:49,358
and when you if you call this directly

1337
01:05:47,599 --> 01:05:50,798
you should still have to probably pass

1338
01:05:49,358 --> 01:05:53,838
it

1339
01:05:50,798 --> 01:05:56,159
the data you know from one of these

1340
01:05:53,838 --> 01:05:56,159
things

1341
01:05:57,199 --> 01:06:05,838
that would make the most sense i think

1342
01:06:06,239 --> 01:06:19,838
at least that's what i think so maybe

1343
01:06:08,159 --> 01:06:19,838
you would do something like this

1344
01:06:22,798 --> 01:06:33,838
maybe that like here's the specification

1345
01:06:27,039 --> 01:06:33,839
um there's all this garbage

1346
01:06:40,798 --> 01:06:48,880
right um and

1347
01:06:44,880 --> 01:06:53,039
there's like the spec

1348
01:06:48,880 --> 01:06:53,039
has that and it has

1349
01:06:53,119 --> 01:07:01,838
the brain id um

1350
01:06:56,239 --> 01:07:01,838
and the brain in index or whatever

1351
01:07:03,119 --> 01:07:06,480
right so that stuff all just goes in

1352
01:07:06,000 --> 01:07:07,838
here

1353
01:07:06,480 --> 01:07:09,838
and then when you create one of these

1354
01:07:07,838 --> 01:07:11,440
entities uh

1355
01:07:09,838 --> 01:07:12,798
you know maybe that just gets assigned

1356
01:07:11,440 --> 01:07:15,119
automatically even you probably don't

1357
01:07:12,798 --> 01:07:16,480
even have to do it in here

1358
01:07:15,119 --> 01:07:18,720
in fact i guess now that i think about

1359
01:07:16,480 --> 01:07:21,039
it why pass it in maybe that was just

1360
01:07:18,719 --> 01:07:22,399
dumb because it can just get assigned

1361
01:07:21,039 --> 01:07:25,839
so i guess i don't really even need to

1362
01:07:22,400 --> 01:07:29,200
do that i can just put it in here

1363
01:07:25,838 --> 01:07:32,400
and say there's like the brain index

1364
01:07:29,199 --> 01:07:33,118
and the brain id right and those would

1365
01:07:32,400 --> 01:07:36,318
just get

1366
01:07:33,119 --> 01:07:40,000
set on the outside thing

1367
01:07:36,318 --> 01:07:43,838
so so you would never have to do uh

1368
01:07:40,000 --> 01:07:43,838
that stuff

1369
01:07:56,639 --> 01:08:04,000
right so maybe these just don't

1370
01:08:00,239 --> 01:08:10,078
work that way these get set up in here

1371
01:08:04,000 --> 01:08:14,880
and then that doesn't have to happen

1372
01:08:10,079 --> 01:08:18,480
that seems plausible to me

1373
01:08:14,880 --> 01:08:21,920
um so that way

1374
01:08:18,479 --> 01:08:21,919
inside like place

1375
01:08:22,838 --> 01:08:25,838
snake

1376
01:08:26,238 --> 01:08:29,039
that would happen

1377
01:08:30,640 --> 01:08:34,079
right uh and in any of these other

1378
01:08:33,600 --> 01:08:39,279
things

1379
01:08:34,079 --> 01:08:40,640
like there's there's a monstar here

1380
01:08:39,279 --> 01:08:43,120
i don't know if anyone actually ever

1381
01:08:40,640 --> 01:08:43,119
calls it

1382
01:08:43,679 --> 01:08:49,039
i don't think anyone does let's

1383
01:08:46,880 --> 01:08:53,039
let's if zero these out for now and

1384
01:08:49,039 --> 01:08:55,198
report them later um

1385
01:08:53,039 --> 01:08:56,640
and so i think it's just that and and

1386
01:08:55,198 --> 01:08:58,639
the player

1387
01:08:56,640 --> 01:09:00,560
or the orphans i guess none of these

1388
01:08:58,640 --> 01:09:03,920
have brains at the moment

1389
01:09:00,560 --> 01:09:07,440
so that's fine and in fact you wouldn't

1390
01:09:03,920 --> 01:09:08,560
actually need this or that

1391
01:09:07,439 --> 01:09:10,479
because they will now happen

1392
01:09:08,560 --> 01:09:11,759
automatically

1393
01:09:10,479 --> 01:09:14,479
and nobody else is doing anything with

1394
01:09:11,759 --> 01:09:18,838
brains anyway and okay so that's all

1395
01:09:14,479 --> 01:09:22,318
great ir i would argue

1396
01:09:18,838 --> 01:09:23,198
um and so then when we actually call

1397
01:09:22,319 --> 01:09:27,039
these

1398
01:09:23,198 --> 01:09:29,039
uh so when we call the actual entitygen

1399
01:09:27,039 --> 01:09:30,158
code all we have to do is is just

1400
01:09:29,039 --> 01:09:33,439
actually do

1401
01:09:30,158 --> 01:09:34,238
that work where we so you can see

1402
01:09:33,439 --> 01:09:37,599
there's like a gen

1403
01:09:34,238 --> 01:09:38,318
entity p and a gen entity at traversable

1404
01:09:37,600 --> 01:09:40,090
here

1405
01:09:38,319 --> 01:09:43,140
right um

1406
01:09:40,090 --> 01:09:43,140
[Music]

1407
01:09:47,119 --> 01:09:51,679
i want to say that this gets in space so

1408
01:09:50,158 --> 01:09:52,158
i want to say that this code kind of

1409
01:09:51,679 --> 01:09:55,199
sucks

1410
01:09:52,158 --> 01:09:58,639
because we probably always want to call

1411
01:09:55,198 --> 01:10:03,839
gen entity at p right

1412
01:09:58,640 --> 01:10:03,840
because then we can do this

1413
01:10:08,158 --> 01:10:12,639
oh well i right like i feel like this is

1414
01:10:10,960 --> 01:10:14,239
kind of

1415
01:10:12,640 --> 01:10:15,920
putting the cart before like there

1416
01:10:14,238 --> 01:10:17,519
should be a unified way to call this so

1417
01:10:15,920 --> 01:10:20,000
that it takes the gen entity thing

1418
01:10:17,520 --> 01:10:22,320
and does the assignment of the stuff

1419
01:10:20,000 --> 01:10:24,560
that needs to get assigned

1420
01:10:22,319 --> 01:10:24,559
so

1421
01:10:26,880 --> 01:10:30,640
i don't know we'll see in a second so if

1422
01:10:29,439 --> 01:10:33,039
we go down here

1423
01:10:30,640 --> 01:10:34,000
to the stuff that uses the gen entity in

1424
01:10:33,039 --> 01:10:37,198
in the room gen

1425
01:10:34,000 --> 01:10:39,359
anyways we can at least do it there

1426
01:10:37,198 --> 01:10:41,759
which i think would be correct so you

1427
01:10:39,359 --> 01:10:44,319
can see here like

1428
01:10:41,760 --> 01:10:44,720
if you say if it's a switch do this

1429
01:10:44,319 --> 01:10:45,920
extra

1430
01:10:44,720 --> 01:10:49,520
[Music]

1431
01:10:45,920 --> 01:10:51,760
uh stuff right

1432
01:10:49,520 --> 01:10:51,760
um

1433
01:10:52,560 --> 01:10:56,239
but actually we shouldn't have to do

1434
01:10:55,679 --> 01:10:58,399
that

1435
01:10:56,238 --> 01:10:59,359
so what we should be able to do is move

1436
01:10:58,399 --> 01:11:03,039
this now

1437
01:10:59,359 --> 01:11:07,359
down here right when we do

1438
01:11:03,039 --> 01:11:07,359
the place tile thing

1439
01:11:10,000 --> 01:11:13,840
in here

1440
01:11:14,479 --> 01:11:18,238
we would set those up as part of the gen

1441
01:11:17,679 --> 01:11:26,960
entity

1442
01:11:18,238 --> 01:11:30,399
so we'd say this right

1443
01:11:26,960 --> 01:11:33,119
like that so now all of that happens

1444
01:11:30,399 --> 01:11:33,599
nicely in there and this part just grabs

1445
01:11:33,119 --> 01:11:38,000
these

1446
01:11:33,600 --> 01:11:38,000
out of the gen entity itself

1447
01:11:39,920 --> 01:11:44,000
that is probably how this should have

1448
01:11:41,359 --> 01:11:46,960
worked because now everybody can have

1449
01:11:44,000 --> 01:11:49,359
the brain assignment thing work the way

1450
01:11:46,960 --> 01:11:49,359
it should

1451
01:11:49,920 --> 01:11:54,480
we would then just make this place

1452
01:11:52,238 --> 01:11:57,678
entity

1453
01:11:54,479 --> 01:11:57,678
bit happen out here

1454
01:12:01,679 --> 01:12:09,840
and then i think we're good yeah

1455
01:12:05,359 --> 01:12:09,839
so now

1456
01:12:12,079 --> 01:12:15,519
the room switch brain

1457
01:12:15,760 --> 01:12:22,560
just gets pulled out and the only

1458
01:12:19,198 --> 01:12:25,919
problem that we have

1459
01:12:22,560 --> 01:12:28,560
is we don't know

1460
01:12:25,920 --> 01:12:30,880
how the like i mean i guess we just do

1461
01:12:28,560 --> 01:12:30,880
this

1462
01:12:35,039 --> 01:12:40,238
it's kind of janky um

1463
01:12:42,880 --> 01:12:48,880
but we don't need switch index anymore

1464
01:12:46,319 --> 01:12:50,399
and so door index is the only thing that

1465
01:12:48,880 --> 01:12:52,719
we actually need

1466
01:12:50,399 --> 01:12:52,719
and

1467
01:13:00,560 --> 01:13:04,159
and so really you know what we would

1468
01:13:02,158 --> 01:13:06,639
prefer is if these things were part of

1469
01:13:04,158 --> 01:13:10,319
the pending entities that got placed

1470
01:13:06,640 --> 01:13:13,679
you know i mean that would be

1471
01:13:10,319 --> 01:13:17,439
nice um so

1472
01:13:13,679 --> 01:13:21,760
maybe we need to put this into

1473
01:13:17,439 --> 01:13:24,079
this part of the code here you know

1474
01:13:21,760 --> 01:13:24,079
um

1475
01:13:24,880 --> 01:13:28,159
so that it can correctly get the the

1476
01:13:27,279 --> 01:13:33,840
right wiring

1477
01:13:28,158 --> 01:13:33,839
right because it probably should be

1478
01:13:37,119 --> 01:13:42,000
but that's the only thing that's a

1479
01:13:38,399 --> 01:13:42,000
little bit weird right

1480
01:13:44,840 --> 01:13:48,000
um

1481
01:13:46,880 --> 01:13:50,480
that that's the only thing that's a

1482
01:13:48,000 --> 01:13:54,880
little bit weird so

1483
01:13:50,479 --> 01:13:54,879
uh and if we didn't do that

1484
01:13:59,359 --> 01:14:03,039
it's it's still actually pretty simple

1485
01:14:00,880 --> 01:14:08,400
to make this work even that way

1486
01:14:03,039 --> 01:14:08,399
so um when we do place tile pattern

1487
01:14:08,960 --> 01:14:13,439
you know we could do it the other way

1488
01:14:10,238 --> 01:14:15,599
around so we could just do this

1489
01:14:13,439 --> 01:14:18,000
when you do play style pattern you pass

1490
01:14:15,600 --> 01:14:20,159
in the room switch brain

1491
01:14:18,000 --> 01:14:21,760
you know what i mean uh and then when

1492
01:14:20,158 --> 01:14:24,799
you call place tile pattern

1493
01:14:21,760 --> 01:14:28,320
you just say like oh yeah

1494
01:14:24,800 --> 01:14:30,000
um there's like a brain that goes in

1495
01:14:28,319 --> 01:14:31,679
that slot

1496
01:14:30,000 --> 01:14:33,220
and the brain just goes here and then

1497
01:14:31,679 --> 01:14:34,480
this goes away uh

1498
01:14:33,220 --> 01:14:43,840
[Music]

1499
01:14:34,479 --> 01:14:43,839
i guess that is still there but

1500
01:14:48,238 --> 01:15:11,839
tour from a to b door from b to a

1501
01:14:57,840 --> 01:15:11,840
this doesn't

1502
01:15:12,238 --> 01:15:17,919
all right now i think that's fine um

1503
01:15:15,600 --> 01:15:19,280
and so when we do this we would just use

1504
01:15:17,920 --> 01:15:22,158
the brain

1505
01:15:19,279 --> 01:15:25,840
in question on from this connection

1506
01:15:22,158 --> 01:15:25,839
right um

1507
01:15:26,719 --> 01:15:29,920
maybe i want to do it this way

1508
01:15:36,319 --> 01:15:39,840
just to make it a little bit simpler on

1509
01:15:37,760 --> 01:15:39,840
us

1510
01:15:52,560 --> 01:15:57,440
so we just have that uh

1511
01:15:58,640 --> 01:16:02,400
we just have that set up and i think it

1512
01:16:01,600 --> 01:16:05,039
would just work

1513
01:16:02,399 --> 01:16:06,639
my only question there is like why this

1514
01:16:05,039 --> 01:16:09,279
probably wants to be

1515
01:16:06,640 --> 01:16:11,280
just off of the world not the grid

1516
01:16:09,279 --> 01:16:13,279
because there is no grid and we don't

1517
01:16:11,279 --> 01:16:16,479
need there to be one

1518
01:16:13,279 --> 01:16:21,840
so it's probably just that um would be

1519
01:16:16,479 --> 01:16:21,839
my guess

1520
01:16:25,359 --> 01:16:31,920
yeah right uh is is the

1521
01:16:29,000 --> 01:16:34,880
generator not have that

1522
01:16:31,920 --> 01:16:35,359
in there there is one what was the

1523
01:16:34,880 --> 01:16:38,400
problem

1524
01:16:35,359 --> 01:16:38,399
oh room switchbrain

1525
01:16:43,760 --> 01:16:47,199
i gotta fix my four quarter this is just

1526
01:16:46,079 --> 01:16:51,119
so annoying

1527
01:16:47,198 --> 01:16:53,839
okay so

1528
01:16:51,119 --> 01:16:56,158
it just takes forever to do anything um

1529
01:16:53,840 --> 01:16:59,440
at the moment which is really annoying

1530
01:16:56,158 --> 01:17:01,659
all right so if we you know

1531
01:16:59,439 --> 01:17:04,079
take care of the rest of this stuff

1532
01:17:01,659 --> 01:17:05,599
[Music]

1533
01:17:04,079 --> 01:17:08,880
this is going to be slightly different

1534
01:17:05,600 --> 01:17:08,880
so in here there's going to be

1535
01:17:09,520 --> 01:17:16,080
add snake body and add snake head

1536
01:17:12,960 --> 01:17:19,760
like so this

1537
01:17:16,079 --> 01:17:19,760
is just going to be head

1538
01:17:19,840 --> 01:17:23,520
and this is just going to be body

1539
01:17:26,800 --> 01:17:34,079
like so and

1540
01:17:30,319 --> 01:17:37,439
um that should really be the end of that

1541
01:17:34,079 --> 01:17:40,559
when we place the actual snake down um

1542
01:17:37,439 --> 01:17:45,839
i assume the brain goes into slot zero

1543
01:17:40,560 --> 01:17:45,840
although i don't actually know

1544
01:17:46,399 --> 01:17:50,399
yes i assume it just goes into slot zero

1545
01:17:49,359 --> 01:17:52,259
because i'm not sure

1546
01:17:50,399 --> 01:17:53,759
why it wouldn't um

1547
01:17:52,260 --> 01:17:56,480
[Music]

1548
01:17:53,760 --> 01:17:59,280
and so it's just gonna add the snakehead

1549
01:17:56,479 --> 01:18:03,039
in there

1550
01:17:59,279 --> 01:18:05,599
the brain id is what the brain id is

1551
01:18:03,039 --> 01:18:06,960
and it's going to place the entity then

1552
01:18:05,600 --> 01:18:12,159
it's going to go through here

1553
01:18:06,960 --> 01:18:14,880
and just do like a segment count

1554
01:18:12,158 --> 01:18:16,000
and i assume we want you know at least

1555
01:18:14,880 --> 01:18:19,199
one

1556
01:18:16,000 --> 01:18:21,920
of these but for now we'll oops

1557
01:18:19,198 --> 01:18:23,919
for now we'll just do four that's fine

1558
01:18:21,920 --> 01:18:25,679
we'll do a segment index zero segment

1559
01:18:23,920 --> 01:18:26,000
assess and segment count segment plus

1560
01:18:25,679 --> 01:18:29,679
plus

1561
01:18:26,000 --> 01:18:33,198
there uh so we'll add

1562
01:18:29,679 --> 01:18:35,520
some number of segments and here

1563
01:18:33,198 --> 01:18:36,719
the only thing we would change is that

1564
01:18:35,520 --> 01:18:40,159
now when we

1565
01:18:36,719 --> 01:18:42,640
uh when we create these like

1566
01:18:40,158 --> 01:18:42,639
segments

1567
01:18:43,840 --> 01:18:49,760
it's going to be the segment index plus

1568
01:18:45,760 --> 01:18:49,760
one right so it's everything after

1569
01:18:50,238 --> 01:18:54,799
i don't think we need to do anything

1570
01:18:53,439 --> 01:18:58,479
here

1571
01:18:54,800 --> 01:18:58,480
uh this

1572
01:19:00,399 --> 01:19:03,920
looks fine

1573
01:19:06,399 --> 01:19:11,559
i i think the append entity stuff sucked

1574
01:19:09,520 --> 01:19:13,040
if i remember correctly um

1575
01:19:11,560 --> 01:19:15,520
[Music]

1576
01:19:13,039 --> 01:19:18,079
you're always passing the previous one

1577
01:19:15,520 --> 01:19:18,880
so i kind of feel like we probably want

1578
01:19:18,079 --> 01:19:21,840
that to

1579
01:19:18,880 --> 01:19:24,400
not suck the way that it's sucking at

1580
01:19:21,840 --> 01:19:24,400
the moment

1581
01:19:25,600 --> 01:19:33,039
so we may want to fix that uh

1582
01:19:29,920 --> 01:19:37,840
as well like this is just a pain and

1583
01:19:33,039 --> 01:19:37,840
is not good right so

1584
01:19:38,238 --> 01:19:44,000
easiest way to do that i think would be

1585
01:19:41,198 --> 01:19:45,678
to change append entity slightly

1586
01:19:44,000 --> 01:19:48,840
um so i'm going to hack it for now and

1587
01:19:45,679 --> 01:19:51,840
then i want to replace this

1588
01:19:48,840 --> 01:19:51,840
so

1589
01:20:03,760 --> 01:20:07,679
i think that's what we're talking about

1590
01:20:05,439 --> 01:20:07,678
right

1591
01:20:09,920 --> 01:20:15,039
i also don't know if that makes any

1592
01:20:12,158 --> 01:20:15,039
difference either

1593
01:20:15,679 --> 01:20:19,279
okay so we need to look at that because

1594
01:20:18,000 --> 01:20:21,600
that's not great

1595
01:20:19,279 --> 01:20:21,599
um

1596
01:20:24,319 --> 01:20:27,359
but most of this stuff is kind of jank

1597
01:20:25,679 --> 01:20:29,359
anyway so maybe that's the next thing we

1598
01:20:27,359 --> 01:20:33,839
do maybe next weekend we'll start

1599
01:20:29,359 --> 01:20:33,839
improving our placement code

1600
01:20:43,840 --> 01:20:48,400
so now uh yeah we gotta have the

1601
01:20:46,719 --> 01:20:52,719
connection has to have that

1602
01:20:48,399 --> 01:20:52,719
gen connection has to have that um

1603
01:20:52,880 --> 01:20:56,560
room switch brain looks like room

1604
01:20:55,679 --> 01:20:59,039
connection

1605
01:20:56,560 --> 01:21:00,000
we accidentally added it to room

1606
01:20:59,039 --> 01:21:01,920
connection

1607
01:21:00,000 --> 01:21:04,399
which was not correct it's actually gen

1608
01:21:01,920 --> 01:21:08,480
connection that's supposed to have it

1609
01:21:04,399 --> 01:21:10,799
um like this

1610
01:21:08,479 --> 01:21:12,079
the thing about that is it's probably

1611
01:21:10,800 --> 01:21:14,960
the wrong

1612
01:21:12,079 --> 01:21:18,038
one though um

1613
01:21:14,960 --> 01:21:18,038
[Music]

1614
01:21:27,920 --> 01:21:31,920
so because you need actually both

1615
01:21:29,760 --> 01:21:33,440
directions

1616
01:21:31,920 --> 01:21:35,440
would would potentially have a different

1617
01:21:33,439 --> 01:21:36,960
one so i may have been right

1618
01:21:35,439 --> 01:21:39,519
like it may be that that's what you

1619
01:21:36,960 --> 01:21:39,520
actually want

1620
01:21:39,760 --> 01:21:44,800
you know what i mean um

1621
01:21:43,439 --> 01:21:47,519
and then you need to just pull out the

1622
01:21:44,800 --> 01:21:47,520
correct one

1623
01:21:48,960 --> 01:21:52,158
because it's you can't use the same one

1624
01:21:50,399 --> 01:21:57,839
for both you could

1625
01:21:52,158 --> 01:21:57,839
put it in here you know if you wanted to

1626
01:22:08,840 --> 01:22:11,840
um

1627
01:22:12,639 --> 01:22:17,359
and really that would make more sense

1628
01:22:15,679 --> 01:22:19,039
but like if you look at what happens in

1629
01:22:17,359 --> 01:22:21,359
connect it doesn't

1630
01:22:19,039 --> 01:22:25,840
return those to you you you know they're

1631
01:22:21,359 --> 01:22:25,839
both they're here

1632
01:22:30,800 --> 01:22:34,560
and and maybe answers yes so if you

1633
01:22:32,560 --> 01:22:37,600
think about how this would work right

1634
01:22:34,560 --> 01:22:38,639
it would go in here uh and you would say

1635
01:22:37,600 --> 01:22:42,239
look there's a door

1636
01:22:38,639 --> 01:22:42,239
and this is the brain for that door

1637
01:22:49,279 --> 01:22:53,920
like that

1638
01:22:52,479 --> 01:22:56,000
so if there's a door brain id you're

1639
01:22:53,920 --> 01:22:57,840
supposed to use it right and the problem

1640
01:22:56,000 --> 01:23:00,479
is these add room connections

1641
01:22:57,840 --> 01:23:01,199
we don't get those back so when we call

1642
01:23:00,479 --> 01:23:03,839
connect

1643
01:23:01,198 --> 01:23:04,799
we don't actually get back what those

1644
01:23:03,840 --> 01:23:08,400
room connections

1645
01:23:04,800 --> 01:23:10,560
actually are and we would need them

1646
01:23:08,399 --> 01:23:12,238
you know what i mean and it'd be really

1647
01:23:10,560 --> 01:23:14,080
easy for us to do that

1648
01:23:12,238 --> 01:23:16,879
we would just need connect to actually

1649
01:23:14,079 --> 01:23:20,238
return like a structured thing

1650
01:23:16,880 --> 01:23:24,159
that you get back right

1651
01:23:20,238 --> 01:23:26,000
and you know and or

1652
01:23:24,158 --> 01:23:28,719
gen connection just tells you what your

1653
01:23:26,000 --> 01:23:35,840
room connections are

1654
01:23:28,719 --> 01:23:35,840
is the other option i suppose um

1655
01:23:36,158 --> 01:23:40,479
but it seems to me like you probably

1656
01:23:38,079 --> 01:23:44,238
don't need that i don't know

1657
01:23:40,479 --> 01:23:44,238
i mean maybe you do maybe you just do

1658
01:23:46,840 --> 01:23:49,840
this

1659
01:23:55,039 --> 01:24:03,840
right uh and then when you do that

1660
01:23:58,960 --> 01:24:03,840
uh connect call it's it's literally just

1661
01:24:06,880 --> 01:24:09,359
like that

1662
01:24:12,560 --> 01:24:20,080
right that's the connection from a to b

1663
01:24:16,880 --> 01:24:24,319
that's the connection from b to a

1664
01:24:20,079 --> 01:24:26,639
and you just do that you know

1665
01:24:24,319 --> 01:24:28,960
and then things get a lot simpler if i'm

1666
01:24:26,639 --> 01:24:28,960
right

1667
01:24:29,359 --> 01:24:32,719
because then you just do this

1668
01:24:36,880 --> 01:24:42,159
uh and that should work right

1669
01:24:39,920 --> 01:24:42,158
uh

1670
01:24:43,279 --> 01:24:47,039
what did we call that doorbrain id

1671
01:24:47,439 --> 01:24:50,638
so you just say from a to b there's a

1672
01:24:48,960 --> 01:24:52,399
door brain now because we actually have

1673
01:24:50,639 --> 01:24:56,840
that connection and then in here

1674
01:24:52,399 --> 01:25:00,079
you don't actually do this at all

1675
01:24:56,840 --> 01:25:00,079
right um

1676
01:25:00,479 --> 01:25:07,198
instead you just say well

1677
01:25:04,158 --> 01:25:10,839
it's just is

1678
01:25:07,198 --> 01:25:13,839
the room con doorbrain id

1679
01:25:10,840 --> 01:25:15,039
there right and now we know

1680
01:25:13,840 --> 01:25:17,119
that it's going this direction because

1681
01:25:15,039 --> 01:25:19,039
we're looking at our rooms connections

1682
01:25:17,119 --> 01:25:20,960
so that's actually like way nicer

1683
01:25:19,039 --> 01:25:22,639
and it's way clearer what's happening

1684
01:25:20,960 --> 01:25:26,079
there

1685
01:25:22,639 --> 01:25:30,159
so that seems good um

1686
01:25:26,079 --> 01:25:30,158
do we not have an is valid on brains

1687
01:25:30,960 --> 01:25:33,679
so helpful

1688
01:25:38,840 --> 01:25:41,840
um

1689
01:25:46,479 --> 01:25:49,919
so whatever like

1690
01:25:50,319 --> 01:26:09,840
here's is valid and here's the

1691
01:25:54,079 --> 01:26:09,840
the brain id

1692
01:26:11,279 --> 01:26:14,319
i mean i guess it's just that

1693
01:26:18,560 --> 01:26:21,679
all right so that's a tremendous number

1694
01:26:20,000 --> 01:26:23,039
of changes and so i probably broke

1695
01:26:21,679 --> 01:26:26,158
everything

1696
01:26:23,039 --> 01:26:28,960
um but now we can start to actually

1697
01:26:26,158 --> 01:26:30,559
like go through this and and fuss around

1698
01:26:28,960 --> 01:26:34,000
with it right

1699
01:26:30,560 --> 01:26:36,960
uh and try to get that working so let me

1700
01:26:34,000 --> 01:26:37,439
first of all go to debug mode and we can

1701
01:26:36,960 --> 01:26:41,679
uh

1702
01:26:37,439 --> 01:26:41,678
start to pull apart what i just did

1703
01:26:42,560 --> 01:26:47,920
and we'll go from there all right so

1704
01:26:44,949 --> 01:26:51,679
[Music]

1705
01:26:47,920 --> 01:26:53,199
i'm not sure why i did not

1706
01:26:51,679 --> 01:26:54,880
for some reason it's not showing me

1707
01:26:53,198 --> 01:26:57,919
where we are actually

1708
01:26:54,880 --> 01:26:57,920
getting suspended

1709
01:26:58,719 --> 01:27:06,319
oh it just looks like looks like a call

1710
01:27:01,279 --> 01:27:06,319
to zero um

1711
01:27:09,198 --> 01:27:12,960
where did my call stack go

1712
01:27:16,238 --> 01:27:20,158
it went away um so it looks like we're

1713
01:27:19,760 --> 01:27:23,440
just

1714
01:27:20,158 --> 01:27:26,638
we're dispatching into a null handler

1715
01:27:23,439 --> 01:27:28,799
right um

1716
01:27:26,639 --> 01:27:30,239
it appears to be what's happening so a

1717
01:27:28,800 --> 01:27:32,079
callback

1718
01:27:30,238 --> 01:27:34,879
into something that did not get

1719
01:27:32,079 --> 01:27:37,439
initialized right

1720
01:27:34,880 --> 01:27:39,840
uh we should probably make it easier to

1721
01:27:37,439 --> 01:27:43,839
trap those

1722
01:27:39,840 --> 01:27:43,840
because like

1723
01:27:45,119 --> 01:27:48,238
once you jump into xero it's hard to

1724
01:27:47,119 --> 01:27:50,238
unwind the stack

1725
01:27:48,238 --> 01:27:52,559
sometimes uh if you don't have special

1726
01:27:50,238 --> 01:27:56,000
code in the debugger to do it

1727
01:27:52,560 --> 01:27:58,560
which i think remedy doesn't

1728
01:27:56,000 --> 01:28:00,399
so what we should probably do is guard

1729
01:27:58,560 --> 01:28:03,920
around the creator call

1730
01:28:00,399 --> 01:28:08,319
you know what i mean so when we actually

1731
01:28:03,920 --> 01:28:12,399
call uh let me actually see if i can

1732
01:28:08,319 --> 01:28:12,399
search this yeah okay

1733
01:28:13,279 --> 01:28:20,479
i wish yeah uh

1734
01:28:16,719 --> 01:28:20,480
boy so

1735
01:28:23,600 --> 01:28:30,639
i wish i had my editor right now but

1736
01:28:27,359 --> 01:28:34,399
we'll do what we can so in here we

1737
01:28:30,639 --> 01:28:35,760
uh we're almost certainly like

1738
01:28:34,399 --> 01:28:38,960
dispatching

1739
01:28:35,760 --> 01:28:41,840
like in here we're probably doing

1740
01:28:38,960 --> 01:28:45,039
something where we're not

1741
01:28:41,840 --> 01:28:46,400
uh specifying what the thing should be

1742
01:28:45,039 --> 01:28:48,000
or something like that so we're doing

1743
01:28:46,399 --> 01:28:49,920
it oh yeah right there i mean that's

1744
01:28:48,000 --> 01:28:52,479
what it is right

1745
01:28:49,920 --> 01:28:53,920
um and so you know the only thing i'm

1746
01:28:52,479 --> 01:28:55,839
saying is maybe we should have a thing

1747
01:28:53,920 --> 01:28:56,639
that asserts so that before we jump in

1748
01:28:55,840 --> 01:29:00,000
we can see

1749
01:28:56,639 --> 01:29:02,639
like what it was or something like that

1750
01:29:00,000 --> 01:29:05,279
um and so what i was thinking is like

1751
01:29:02,639 --> 01:29:08,239
inside room gen before it actually calls

1752
01:29:05,279 --> 01:29:09,198
uh the dispatch code when we're actually

1753
01:29:08,238 --> 01:29:11,439
looping through the

1754
01:29:09,198 --> 01:29:13,119
pending entities or something like that

1755
01:29:11,439 --> 01:29:14,319
when you call gen entity at traversal

1756
01:29:13,119 --> 01:29:16,880
that kind of thing

1757
01:29:14,319 --> 01:29:17,679
uh maybe we can put in a cert in here

1758
01:29:16,880 --> 01:29:20,319
that says

1759
01:29:17,679 --> 01:29:20,800
that the pending entities like creator

1760
01:29:20,319 --> 01:29:24,000
call

1761
01:29:20,800 --> 01:29:26,000
is not zero and again

1762
01:29:24,000 --> 01:29:28,079
the only reason for that is just to make

1763
01:29:26,000 --> 01:29:33,119
it oops

1764
01:29:28,079 --> 01:29:33,119
uh easier to debug right

1765
01:29:33,840 --> 01:29:37,679
so now if i run it i'm hoping that you

1766
01:29:35,920 --> 01:29:40,079
just write and so you can see

1767
01:29:37,679 --> 01:29:41,920
it's just a way to like help the person

1768
01:29:40,079 --> 01:29:44,880
who maybe like stumbles across that

1769
01:29:41,920 --> 01:29:46,719
later not knowing what you were doing

1770
01:29:44,880 --> 01:29:47,199
right then it was really easy for us to

1771
01:29:46,719 --> 01:29:48,960
debug

1772
01:29:47,198 --> 01:29:51,119
right then because it happens to be what

1773
01:29:48,960 --> 01:29:53,439
we were fussing around with but like you

1774
01:29:51,119 --> 01:29:55,840
can imagine if that just happened

1775
01:29:53,439 --> 01:29:57,359
out of the blue why that would be bad

1776
01:29:55,840 --> 01:30:00,079
because it would mean

1777
01:29:57,359 --> 01:30:01,279
uh that you would literally have no idea

1778
01:30:00,079 --> 01:30:02,719
who jumped in there and you'd have to

1779
01:30:01,279 --> 01:30:05,039
start doing a branch and

1780
01:30:02,719 --> 01:30:06,239
bound like debugging process to find out

1781
01:30:05,039 --> 01:30:09,119
who jumped

1782
01:30:06,238 --> 01:30:10,158
to zero and why right so it's just a

1783
01:30:09,119 --> 01:30:13,679
like

1784
01:30:10,158 --> 01:30:16,399
to help make that less painful

1785
01:30:13,679 --> 01:30:17,279
um for people who are you know doing

1786
01:30:16,399 --> 01:30:20,799
this

1787
01:30:17,279 --> 01:30:22,238
in the future right uh is all we're

1788
01:30:20,800 --> 01:30:25,199
talking about

1789
01:30:22,238 --> 01:30:26,879
so uh let's see where we're at okay so

1790
01:30:25,198 --> 01:30:27,599
we're running the placement code just

1791
01:30:26,880 --> 01:30:30,880
fine now

1792
01:30:27,600 --> 01:30:34,320
uh so you know we're good here

1793
01:30:30,880 --> 01:30:36,319
where are we at time we're we're about

1794
01:30:34,319 --> 01:30:38,238
15 minutes till the end of the stream i

1795
01:30:36,319 --> 01:30:40,238
want to say

1796
01:30:38,238 --> 01:30:41,919
i don't know if that's right uh but so

1797
01:30:40,238 --> 01:30:43,198
let's just take a quick look here and

1798
01:30:41,920 --> 01:30:46,399
see if that

1799
01:30:43,198 --> 01:30:49,439
um if that fussing

1800
01:30:46,399 --> 01:31:03,198
defest us and

1801
01:30:49,439 --> 01:31:05,439
and we'll see

1802
01:31:03,198 --> 01:31:05,439
okay

1803
01:31:09,119 --> 01:31:13,840
all right so i think that's all good

1804
01:31:14,840 --> 01:31:17,840
um

1805
01:31:24,719 --> 01:31:31,840
uh i gotta unlock this door real quick

1806
01:31:34,319 --> 01:31:39,759
uh so it looks like the body this

1807
01:31:38,000 --> 01:31:41,279
snake thing doesn't seem to have the

1808
01:31:39,760 --> 01:31:42,239
correct body like it looks like

1809
01:31:41,279 --> 01:31:45,359
everything worked

1810
01:31:42,238 --> 01:31:46,879
fine though like it placed the snake and

1811
01:31:45,359 --> 01:31:49,439
the snake is hopping around

1812
01:31:46,880 --> 01:31:51,920
uh so it's just an asset like we have to

1813
01:31:49,439 --> 01:31:55,500
label those assets properly

1814
01:31:51,920 --> 01:31:56,840
um looks like uh but otherwise we're

1815
01:31:55,500 --> 01:31:59,279
[Music]

1816
01:31:56,840 --> 01:32:02,000
good

1817
01:31:59,279 --> 01:32:02,800
that looks broken so somehow that let

1818
01:32:02,000 --> 01:32:07,520
someone hop

1819
01:32:02,800 --> 01:32:10,800
on there oh yeah okay cool

1820
01:32:07,520 --> 01:32:12,080
i see why that would be um so we want to

1821
01:32:10,800 --> 01:32:14,880
fix that bug

1822
01:32:12,079 --> 01:32:17,198
that's a definite bug and an interesting

1823
01:32:14,880 --> 01:32:17,199
bug

1824
01:32:19,600 --> 01:32:27,120
yeah oh that's very interesting okay

1825
01:32:23,119 --> 01:32:30,399
um so anyway uh all that seems fine

1826
01:32:27,119 --> 01:32:32,319
but uh other things we gotta fix uh and

1827
01:32:30,399 --> 01:32:34,879
so let's fix the asset problem first

1828
01:32:32,319 --> 01:32:39,599
because i don't really even know

1829
01:32:34,880 --> 01:32:42,319
um what even is getting set here so

1830
01:32:39,600 --> 01:32:43,360
i i need to really quickly just see even

1831
01:32:42,319 --> 01:32:47,359
what is the

1832
01:32:43,359 --> 01:32:47,359
body stuff for that snake

1833
01:32:47,439 --> 01:32:50,879
and i i don't i don't even know uh

1834
01:32:49,359 --> 01:32:51,439
because we haven't really looked at that

1835
01:32:50,880 --> 01:32:54,639
stuff

1836
01:32:51,439 --> 01:32:58,719
hardly ever um so if we look at

1837
01:32:54,639 --> 01:32:58,719
at the skeleton stuff

1838
01:32:59,039 --> 01:33:09,840
uh what is that even

1839
01:33:03,119 --> 01:33:09,840
i don't even know um

1840
01:33:15,359 --> 01:33:22,799
so it'd be character skeleton

1841
01:33:18,880 --> 01:33:27,199
um is what that actually

1842
01:33:22,800 --> 01:33:30,560
is and in terms of those pieces

1843
01:33:27,198 --> 01:33:31,039
like the snake body piece is just going

1844
01:33:30,560 --> 01:33:34,560
to be

1845
01:33:31,039 --> 01:33:38,079
whatever the other thing was so

1846
01:33:34,560 --> 01:33:41,199
when we place the snake it's gonna be

1847
01:33:38,079 --> 01:33:41,198
body and head

1848
01:33:42,639 --> 01:33:48,159
for oh so i think it all it was is that

1849
01:33:46,399 --> 01:33:53,119
we didn't ever

1850
01:33:48,158 --> 01:33:53,119
set these up right um

1851
01:33:53,760 --> 01:33:57,600
so it may just be that

1852
01:33:59,198 --> 01:34:06,960
setting those tags right

1853
01:34:05,198 --> 01:34:08,638
so i think that's all good uh we're

1854
01:34:06,960 --> 01:34:10,319
gonna have to add some stuff to quickly

1855
01:34:08,639 --> 01:34:11,679
teleport us to places in a dungeon

1856
01:34:10,319 --> 01:34:12,639
because pretty soon this is gonna get

1857
01:34:11,679 --> 01:34:15,679
really old

1858
01:34:12,639 --> 01:34:18,480
um we can use hot code reloading

1859
01:34:15,679 --> 01:34:18,800
which we have right to fix basic things

1860
01:34:18,479 --> 01:34:21,119
but

1861
01:34:18,800 --> 01:34:21,840
world generation you can't reload

1862
01:34:21,119 --> 01:34:23,920
because the world

1863
01:34:21,840 --> 01:34:25,360
was already generated right so reloading

1864
01:34:23,920 --> 01:34:26,719
that code doesn't help

1865
01:34:25,359 --> 01:34:28,880
so we're going to need ways to like

1866
01:34:26,719 --> 01:34:31,279
inspect the world more quickly

1867
01:34:28,880 --> 01:34:32,000
in the future all right so that appears

1868
01:34:31,279 --> 01:34:35,279
to be working

1869
01:34:32,000 --> 01:34:36,158
there's like little skeletons in there

1870
01:34:35,279 --> 01:34:39,759
now

1871
01:34:36,158 --> 01:34:39,759
right um

1872
01:34:40,560 --> 01:34:43,600
and the only question i have there is

1873
01:34:42,158 --> 01:34:44,399
they don't seem to be setting their

1874
01:34:43,600 --> 01:34:49,440
direction

1875
01:34:44,399 --> 01:34:49,439
which seems wrong um

1876
01:34:49,520 --> 01:34:53,600
which i don't actually know are they do

1877
01:34:51,920 --> 01:34:56,158
they even have

1878
01:34:53,600 --> 01:34:57,360
i think they do so i feel like they

1879
01:34:56,158 --> 01:34:58,638
should be setting their direction and

1880
01:34:57,359 --> 01:35:01,839
aren't that's the only thing

1881
01:34:58,639 --> 01:35:03,679
that i can immediately see

1882
01:35:01,840 --> 01:35:05,760
being weird and so let me just fix that

1883
01:35:03,679 --> 01:35:07,920
as well since we haven't looked at this

1884
01:35:05,760 --> 01:35:09,760
stuff in forever

1885
01:35:07,920 --> 01:35:14,158
so here's the snake code and i might

1886
01:35:09,760 --> 01:35:29,840
just pull that out real quick

1887
01:35:14,158 --> 01:35:29,839
just so it's easier to see

1888
01:35:37,760 --> 01:35:42,960
uh and i don't even know

1889
01:35:40,800 --> 01:35:45,199
like it doesn't need half of this stuff

1890
01:35:42,960 --> 01:35:47,439
probably

1891
01:35:45,198 --> 01:35:47,439
but

1892
01:35:54,840 --> 01:36:02,719
okay uh so there's our snake

1893
01:35:59,039 --> 01:36:05,118
code and so what does this thing even do

1894
01:36:02,719 --> 01:36:05,118
um

1895
01:36:06,719 --> 01:36:16,000
looks like it needs the entropy

1896
01:36:11,439 --> 01:36:16,000
how does the sim region not have entropy

1897
01:36:17,439 --> 01:36:22,719
why why would that

1898
01:36:23,439 --> 01:36:25,839
be the case

1899
01:36:28,158 --> 01:36:32,479
that's pretty weird because you would

1900
01:36:31,279 --> 01:36:34,079
think that all game

1901
01:36:32,479 --> 01:36:36,399
entropy would just come from the sim

1902
01:36:34,079 --> 01:36:36,399
region

1903
01:36:36,560 --> 01:36:44,400
that's pretty strange but okay for now

1904
01:36:41,118 --> 01:36:47,519
uh i'm i'm not upset about the fact that

1905
01:36:44,399 --> 01:36:53,279
that comes in off a separate pipe

1906
01:36:47,520 --> 01:36:54,800
but it's a little weird

1907
01:36:53,279 --> 01:36:57,439
all right so this thing does this little

1908
01:36:54,800 --> 01:36:58,070
hoppable nonsense

1909
01:36:57,439 --> 01:37:01,198
um

1910
01:36:58,069 --> 01:37:05,118
[Music]

1911
01:37:01,198 --> 01:37:07,839
and yeah it just doesn't it just never

1912
01:37:05,118 --> 01:37:07,839
does that

1913
01:37:12,479 --> 01:37:18,000
so yeah um so we need to set the facing

1914
01:37:16,399 --> 01:37:21,599
direction

1915
01:37:18,000 --> 01:37:22,479
of these guys and it looks like the way

1916
01:37:21,600 --> 01:37:25,280
that works

1917
01:37:22,479 --> 01:37:28,559
is like you would look at the delta

1918
01:37:25,279 --> 01:37:31,279
between these two

1919
01:37:28,560 --> 01:37:32,159
so yeah this could be done probably way

1920
01:37:31,279 --> 01:37:35,599
more efficiently

1921
01:37:32,158 --> 01:37:36,559
like blowing an atan ii per seems kind

1922
01:37:35,600 --> 01:37:42,000
of stupid

1923
01:37:36,560 --> 01:37:42,000
for that you know honestly

1924
01:37:46,840 --> 01:37:49,840
um

1925
01:37:54,639 --> 01:38:03,840
so that doesn't seem like it's necessary

1926
01:37:57,198 --> 01:38:03,839
but you know

1927
01:38:13,198 --> 01:38:16,638
so i don't think we want to be doing

1928
01:38:15,279 --> 01:38:19,840
that long term

1929
01:38:16,639 --> 01:38:21,440
because it's just dumb uh but it's fine

1930
01:38:19,840 --> 01:38:23,760
for the moment because there are so few

1931
01:38:21,439 --> 01:38:23,759
of them

1932
01:38:23,920 --> 01:38:27,199
so we really just need a segment delta

1933
01:38:26,479 --> 01:38:30,479
and

1934
01:38:27,198 --> 01:38:34,158
uh in this case the segment delta

1935
01:38:30,479 --> 01:38:38,718
uh is just going to be

1936
01:38:34,158 --> 01:38:41,839
like this this person's location

1937
01:38:38,719 --> 01:38:46,079
and the other person's location right

1938
01:38:41,840 --> 01:38:50,000
so we we already sort of have this

1939
01:38:46,079 --> 01:38:50,000
uh traversable reference thing

1940
01:38:51,439 --> 01:38:59,839
and there was the thing that like

1941
01:38:54,560 --> 01:38:59,840
tells us where it is

1942
01:39:05,920 --> 01:39:13,440
you can see it here right so when you do

1943
01:39:09,439 --> 01:39:17,118
get sim space traversible

1944
01:39:13,439 --> 01:39:20,319
um i

1945
01:39:17,118 --> 01:39:24,839
think that's all we would need

1946
01:39:20,319 --> 01:39:27,840
to do so if we did

1947
01:39:24,840 --> 01:39:27,840
this

1948
01:39:34,000 --> 01:39:37,679
we would just say okay there's the sim

1949
01:39:36,479 --> 01:39:40,718
region

1950
01:39:37,679 --> 01:39:42,800
in both cases and

1951
01:39:40,719 --> 01:39:45,279
all we're doing here is saying whatever

1952
01:39:42,800 --> 01:39:48,159
the like occupying and came from

1953
01:39:45,279 --> 01:39:49,599
things are that's how we would do the

1954
01:39:48,158 --> 01:39:52,719
delta

1955
01:39:49,600 --> 01:39:55,840
right so the delta's just

1956
01:39:52,719 --> 01:39:55,840
wherever we

1957
01:40:07,198 --> 01:40:14,479
wherever the last occupying thing is

1958
01:40:11,359 --> 01:40:17,279
yeah you can see this right so

1959
01:40:14,479 --> 01:40:18,079
we're just gonna say like okay we're

1960
01:40:17,279 --> 01:40:22,000
going

1961
01:40:18,079 --> 01:40:27,039
to the last occupying and we're coming

1962
01:40:22,000 --> 01:40:30,158
from the one we're on now

1963
01:40:27,039 --> 01:40:31,439
and i think that's all we would actually

1964
01:40:30,158 --> 01:40:37,839
need

1965
01:40:31,439 --> 01:40:37,839
keep doing that

1966
01:40:38,238 --> 01:40:45,039
i think that's all we would need um

1967
01:40:42,158 --> 01:40:51,839
and once again i've stupidly made it so

1968
01:40:45,039 --> 01:40:51,840
i have to hop all the way down there

1969
01:41:09,039 --> 01:41:12,399
okay so now they correctly like orient

1970
01:41:11,279 --> 01:41:14,639
themselves

1971
01:41:12,399 --> 01:41:16,960
in the direction that they should right

1972
01:41:14,639 --> 01:41:16,960
um

1973
01:41:17,439 --> 01:41:21,198
which is good they're they're a little

1974
01:41:20,079 --> 01:41:23,439
bit scaled

1975
01:41:21,198 --> 01:41:24,799
down but that's fine i mean they're not

1976
01:41:23,439 --> 01:41:26,638
really supposed to be used for this

1977
01:41:24,800 --> 01:41:26,960
they're not actually snake segments i

1978
01:41:26,639 --> 01:41:30,840
just

1979
01:41:26,960 --> 01:41:47,840
used a random skeleton thing for them

1980
01:41:30,840 --> 01:41:47,840
um so that's fine

1981
01:41:47,920 --> 01:41:55,840
okay um so i guess that's good for now

1982
01:41:52,960 --> 01:41:57,520
uh we have to fix some bugs and we have

1983
01:41:55,840 --> 01:41:58,840
some to do so there's some stuff we want

1984
01:41:57,520 --> 01:42:01,600
to do there and

1985
01:41:58,840 --> 01:42:03,520
uh we'll deal with it tomorrow or maybe

1986
01:42:01,600 --> 01:42:05,600
not tomorrow uh next weekend but i think

1987
01:42:03,520 --> 01:42:07,119
that's all good

1988
01:42:05,600 --> 01:42:09,199
and it's good to have the snakes back in

1989
01:42:07,118 --> 01:42:14,799
now as well

1990
01:42:09,198 --> 01:42:29,839
um all right so we'll do a brief q a

1991
01:42:14,800 --> 01:42:29,840
because i think we're right on time

1992
01:42:54,840 --> 01:42:57,840
um

1993
01:43:22,840 --> 01:43:25,840
ah

