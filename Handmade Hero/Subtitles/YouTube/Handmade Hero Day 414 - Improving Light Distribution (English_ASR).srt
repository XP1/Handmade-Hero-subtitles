1
00:00:00,030 --> 00:00:04,169
hello everyone and welcome to handmade

2
00:00:02,370 --> 00:00:07,350
Hero the show recode a complete game

3
00:00:04,169 --> 00:00:10,530
live on stream today we are going to be

4
00:00:07,349 --> 00:00:13,379
looking at debugging our situation with

5
00:00:10,529 --> 00:00:16,439
the lighting which we kind of put in

6
00:00:13,380 --> 00:00:19,320
some nice checks for yesterday that I'm

7
00:00:16,440 --> 00:00:22,020
interested in sort of using to improve

8
00:00:19,320 --> 00:00:23,100
the quality of the lighting solution

9
00:00:22,019 --> 00:00:25,858
because we know we got some bugs in

10
00:00:23,100 --> 00:00:27,510
there and I think we can we can get to

11
00:00:25,859 --> 00:00:29,039
some pretty good results by just kind of

12
00:00:27,510 --> 00:00:32,130
pushing through and fixing some of the

13
00:00:29,039 --> 00:00:33,329
problems what I do want to mention

14
00:00:32,130 --> 00:00:34,739
before we started yesterday I talked

15
00:00:33,329 --> 00:00:35,850
about the patreon situation the

16
00:00:34,738 --> 00:00:37,259
beginning of the stream so hopefully

17
00:00:35,850 --> 00:00:41,129
everyone's kind of aware of what went

18
00:00:37,259 --> 00:00:43,109
down there I wanted to say that I did

19
00:00:41,128 --> 00:00:44,820
spend some time yesterday putting up an

20
00:00:43,109 --> 00:00:48,929
alternative so we can close down the

21
00:00:44,820 --> 00:00:50,878
patreon as I suggested by Monday you'll

22
00:00:48,929 --> 00:00:54,299
notice now if you refresh the hand-made

23
00:00:50,878 --> 00:00:56,039
here a website actually here the patreon

24
00:00:54,299 --> 00:00:58,919
button has been replaced with a

25
00:00:56,039 --> 00:01:02,550
contribute button that has some patreon

26
00:00:58,920 --> 00:01:05,308
alternative options on it this page is

27
00:01:02,549 --> 00:01:06,780
just using send owl the same thing that

28
00:01:05,308 --> 00:01:08,158
you use to preorder the source code

29
00:01:06,780 --> 00:01:10,170
which has worked really well from us and

30
00:01:08,159 --> 00:01:13,049
we really haven't had pretty much any

31
00:01:10,170 --> 00:01:16,530
complaints from people using it

32
00:01:13,049 --> 00:01:18,540
unlike patreon and basically it's just a

33
00:01:16,530 --> 00:01:21,030
site that I took a look at what the

34
00:01:18,540 --> 00:01:22,799
common donation styles were on patreon

35
00:01:21,030 --> 00:01:25,079
because send-out doesn't support

36
00:01:22,799 --> 00:01:27,509
variable donation amounts you have to

37
00:01:25,079 --> 00:01:29,280
you have to have fixed ones and I just

38
00:01:27,509 --> 00:01:30,900
put a stack of them on here that are all

39
00:01:29,280 --> 00:01:32,549
the kinds of contributions that people

40
00:01:30,900 --> 00:01:34,829
were typically making on patreon

41
00:01:32,549 --> 00:01:36,299
plus some aggregated yearly ones because

42
00:01:34,828 --> 00:01:37,828
I noticed some people giving a dollar a

43
00:01:36,299 --> 00:01:40,079
month I thought it might be less fees

44
00:01:37,828 --> 00:01:42,118
for them credit card wise and stuff like

45
00:01:40,078 --> 00:01:43,709
that to just give 12 or 24 dollars a

46
00:01:42,118 --> 00:01:45,599
year rather than one or two dollars a

47
00:01:43,709 --> 00:01:47,039
month would probably save a bunch of

48
00:01:45,599 --> 00:01:50,280
money for them so I put those on there

49
00:01:47,040 --> 00:01:52,049
too I tested it out a couple of people

50
00:01:50,280 --> 00:01:54,060
have it seems to working pretty well I

51
00:01:52,049 --> 00:01:55,649
haven't done a blast out on patreon yet

52
00:01:54,060 --> 00:01:58,040
because cendol seems to be a little bit

53
00:01:55,649 --> 00:02:00,329
having a little trouble sending out the

54
00:01:58,040 --> 00:02:02,368
subscription management links they

55
00:02:00,328 --> 00:02:04,259
they're timed links and they come a

56
00:02:02,368 --> 00:02:06,328
little bit late and you have to ask for

57
00:02:04,259 --> 00:02:07,799
them to be recent so we're kind of

58
00:02:06,328 --> 00:02:10,288
working with them to get that process

59
00:02:07,799 --> 00:02:12,510
straightened out everything else seems

60
00:02:10,288 --> 00:02:13,559
that we're working well so I think by

61
00:02:12,509 --> 00:02:15,419
tomorrow

62
00:02:13,560 --> 00:02:17,280
be pretty much set to just get rid of

63
00:02:15,419 --> 00:02:19,559
patreon and anyone who wants to make

64
00:02:17,280 --> 00:02:21,719
pledges can just move their pledge

65
00:02:19,560 --> 00:02:24,539
straight from patreon here and never

66
00:02:21,719 --> 00:02:26,580
deal with patreon again so we should be

67
00:02:24,539 --> 00:02:28,679
on track to close the page tomorrow just

68
00:02:26,580 --> 00:02:30,660
as we had suggested and everything seems

69
00:02:28,680 --> 00:02:32,519
to be working cleanly thanks again to

70
00:02:30,659 --> 00:02:34,500
send owl for running such a great

71
00:02:32,519 --> 00:02:36,480
service hopefully they'll be able to

72
00:02:34,500 --> 00:02:40,370
help us iron out the the last little

73
00:02:36,479 --> 00:02:42,988
details but really that's about it and

74
00:02:40,370 --> 00:02:45,269
yeah and so that was easier than I

75
00:02:42,989 --> 00:02:47,759
thought it was going to be in order to

76
00:02:45,269 --> 00:02:50,250
encourage people to to make the switch I

77
00:02:47,759 --> 00:02:51,689
know it's a pain in the butt to have to

78
00:02:50,250 --> 00:02:53,189
go to patreon and like cancel your

79
00:02:51,689 --> 00:02:56,310
pledge and then go over here and make a

80
00:02:53,189 --> 00:02:58,259
new pledge or whatever I also decided

81
00:02:56,310 --> 00:03:00,719
that now that I could on send a lit was

82
00:02:58,259 --> 00:03:02,399
pretty easy to do I am gonna be

83
00:03:00,719 --> 00:03:04,318
including a little digital bonus pack

84
00:03:02,400 --> 00:03:06,420
with the with anyone who pledges and

85
00:03:04,318 --> 00:03:09,750
basically this is just a little zip file

86
00:03:06,419 --> 00:03:11,548
of goodies from me just to say thank you

87
00:03:09,750 --> 00:03:14,489
for taking the time to move your pledge

88
00:03:11,549 --> 00:03:16,080
over and it's something that I may

89
00:03:14,489 --> 00:03:20,099
update from time to time with new little

90
00:03:16,080 --> 00:03:21,810
goodies in it and those are always

91
00:03:20,099 --> 00:03:25,709
accessible to anyone who still has an

92
00:03:21,810 --> 00:03:27,090
active pledge so once you you know sign

93
00:03:25,709 --> 00:03:29,159
up for one of these recurring

94
00:03:27,090 --> 00:03:31,590
contributions no matter what level

95
00:03:29,159 --> 00:03:33,568
there's no diff you know difference it's

96
00:03:31,590 --> 00:03:33,920
it's not graded by tea or anything like

97
00:03:33,568 --> 00:03:36,119
this

98
00:03:33,919 --> 00:03:37,798
anyone who contributes there's just a

99
00:03:36,120 --> 00:03:39,689
thank you zip file that gets updated

100
00:03:37,799 --> 00:03:41,730
periodically as I put some things in it

101
00:03:39,689 --> 00:03:43,349
and you'll always be able to kind of

102
00:03:41,729 --> 00:03:45,298
download it download it

103
00:03:43,349 --> 00:03:47,638
the latest one just like you can with

104
00:03:45,299 --> 00:03:49,829
like the handmade hero source code so

105
00:03:47,639 --> 00:03:52,200
that's up please if you have any trouble

106
00:03:49,829 --> 00:03:54,090
with it or you know see anything that's

107
00:03:52,199 --> 00:03:56,789
amiss here are just like I said I rushed

108
00:03:54,090 --> 00:03:58,920
it together to address the patreon

109
00:03:56,789 --> 00:04:00,629
situation as it rapidly deteriorated and

110
00:03:58,919 --> 00:04:03,689
to make sure that these kind of projects

111
00:04:00,629 --> 00:04:05,549
that I'm really grateful for people in

112
00:04:03,689 --> 00:04:09,120
community for having done can still get

113
00:04:05,549 --> 00:04:11,340
funding so you know I tested as best I

114
00:04:09,120 --> 00:04:13,259
could but what it really needs this you

115
00:04:11,340 --> 00:04:14,849
folks out there who are it should and

116
00:04:13,259 --> 00:04:18,180
pledging to try it and send me feedback

117
00:04:14,849 --> 00:04:20,009
tell me if it works we can send this

118
00:04:18,180 --> 00:04:21,900
feedback to send out as well hopefully

119
00:04:20,009 --> 00:04:24,029
they can help us streamline the process

120
00:04:21,899 --> 00:04:25,560
I know this is not exactly what they

121
00:04:24,029 --> 00:04:27,388
were set up to do but it seems to work

122
00:04:25,560 --> 00:04:30,538
pretty well for it so hopefully we can

123
00:04:27,389 --> 00:04:33,740
them to spend a little time improving

124
00:04:30,538 --> 00:04:35,968
the process as well so when you when you

125
00:04:33,740 --> 00:04:37,918
go through the experience if you want to

126
00:04:35,968 --> 00:04:40,110
send me email or post on the handmade

127
00:04:37,918 --> 00:04:42,899
hero forums or anything else or even

128
00:04:40,110 --> 00:04:46,468
just send support sundale send alikom a

129
00:04:42,899 --> 00:04:47,998
direct email you can do that too but

130
00:04:46,468 --> 00:04:48,990
just anything that you want to do to

131
00:04:47,999 --> 00:04:50,520
help make the process better would be

132
00:04:48,990 --> 00:04:51,840
great because we just started this and

133
00:04:50,519 --> 00:04:53,549
we don't have a lot of insight into

134
00:04:51,839 --> 00:04:56,429
whether people are able to navigate it

135
00:04:53,550 --> 00:04:57,870
successfully whether you've got the

136
00:04:56,430 --> 00:05:00,990
options that you want here do you want

137
00:04:57,870 --> 00:05:02,490
different options than these and I've

138
00:05:00,990 --> 00:05:04,019
already asked send Al for the ability to

139
00:05:02,490 --> 00:05:06,240
customize so hopefully someday we can

140
00:05:04,019 --> 00:05:08,068
replace this with just a very simple do

141
00:05:06,240 --> 00:05:10,949
you want yearly or monthly contribution

142
00:05:08,069 --> 00:05:12,539
or one-time yearly or monthly and how

143
00:05:10,949 --> 00:05:15,689
much so that you can just completely

144
00:05:12,538 --> 00:05:17,399
customize whatever whatever you want to

145
00:05:15,689 --> 00:05:19,560
donate and then we will just take that

146
00:05:17,399 --> 00:05:20,638
money and give it out to the projects

147
00:05:19,560 --> 00:05:22,889
that are currently trying to make

148
00:05:20,639 --> 00:05:25,408
resources such as these or other ones we

149
00:05:22,889 --> 00:05:28,468
find that we think are doing a great job

150
00:05:25,408 --> 00:05:30,300
making things for people who like ham a

151
00:05:28,468 --> 00:05:32,728
hero that people like that would be

152
00:05:30,300 --> 00:05:34,918
interested in so thanks for checking

153
00:05:32,728 --> 00:05:37,318
that out and hopefully for those of you

154
00:05:34,918 --> 00:05:40,019
who donate on patreon this will be a

155
00:05:37,319 --> 00:05:42,120
nice solution you can move to that won't

156
00:05:40,019 --> 00:05:44,098
have any of the negative associations

157
00:05:42,120 --> 00:05:45,930
with patreon and that'll work nice and

158
00:05:44,098 --> 00:05:47,430
reliably like the source code stuff we

159
00:05:45,930 --> 00:05:50,189
use on sundial that we've never really

160
00:05:47,430 --> 00:05:54,389
had any problem with and send owl also

161
00:05:50,189 --> 00:05:56,789
takes no cut at all so they do its only

162
00:05:54,389 --> 00:05:58,710
credit card fees that you're paying and

163
00:05:56,788 --> 00:06:00,060
tax and it's only the government and the

164
00:05:58,709 --> 00:06:03,538
credit card companies that take money

165
00:06:00,060 --> 00:06:05,370
from you when you pledge here Sindel

166
00:06:03,538 --> 00:06:07,620
actually takes no cut they are just a

167
00:06:05,370 --> 00:06:10,918
subscription service that I pay to use

168
00:06:07,620 --> 00:06:13,199
every month so the the same thing that

169
00:06:10,918 --> 00:06:14,519
I'm paying for for being able to

170
00:06:13,199 --> 00:06:16,800
distribute the source code fight and

171
00:06:14,519 --> 00:06:21,088
take pre-orders is already paying for

172
00:06:16,800 --> 00:06:23,158
this as well so so it's even the 5% take

173
00:06:21,088 --> 00:06:25,500
that patreon was taking is now also gone

174
00:06:23,158 --> 00:06:28,800
so we were even able to give a little

175
00:06:25,500 --> 00:06:31,769
more of your contributions out to people

176
00:06:28,800 --> 00:06:35,189
doing good stuff because of this move so

177
00:06:31,769 --> 00:06:37,198
again really big thanks to send a low

178
00:06:35,189 --> 00:06:39,569
for being such a great service I think

179
00:06:37,199 --> 00:06:40,889
that once we iron out any kinks that

180
00:06:39,569 --> 00:06:44,039
might still be in here I think

181
00:06:40,889 --> 00:06:45,840
this will be just better all-around than

182
00:06:44,038 --> 00:06:48,598
what people were doing on the patreon

183
00:06:45,839 --> 00:06:50,369
anyway so just wanted to get that out

184
00:06:48,598 --> 00:06:54,509
there again I'll send a blast out to the

185
00:06:50,370 --> 00:06:56,788
patreon list tomorrow after I've at

186
00:06:54,509 --> 00:06:57,960
least had 24 hours with people using it

187
00:06:56,788 --> 00:06:59,550
and letting me know if there's anything

188
00:06:57,959 --> 00:07:00,688
critically broken or any problems that

189
00:06:59,550 --> 00:07:03,449
they're having just so I can make sure

190
00:07:00,689 --> 00:07:05,939
we don't have too many people using it

191
00:07:03,449 --> 00:07:07,110
before we we know that it's that no

192
00:07:05,939 --> 00:07:08,520
one's having trouble we have had people

193
00:07:07,110 --> 00:07:09,990
pledged with it and it seems to be

194
00:07:08,519 --> 00:07:12,418
working ok other than email delay

195
00:07:09,990 --> 00:07:14,038
problem so as far as I know it's one

196
00:07:12,418 --> 00:07:15,839
thing that we need to really look at and

197
00:07:14,038 --> 00:07:17,878
that was not a show stopper you can

198
00:07:15,839 --> 00:07:20,098
always just hit resend me my link and it

199
00:07:17,879 --> 00:07:21,270
works so presumably that's not shows our

200
00:07:20,098 --> 00:07:23,098
bug and I'd like to try and get some of

201
00:07:21,269 --> 00:07:24,359
that stuff iron out if there's any other

202
00:07:23,098 --> 00:07:26,759
problems please bring them to my

203
00:07:24,360 --> 00:07:28,639
attention Casey at Molly rocket comm you

204
00:07:26,759 --> 00:07:32,848
can always email me it's on my Twitter

205
00:07:28,639 --> 00:07:36,028
as well if you if you need to contact me

206
00:07:32,848 --> 00:07:40,498
directly or support at send alikom if

207
00:07:36,028 --> 00:07:41,908
you want to contact them directly or of

208
00:07:40,499 --> 00:07:44,550
course you can ask me something in the

209
00:07:41,908 --> 00:07:47,310
Q&amp;A as well ok

210
00:07:44,550 --> 00:07:50,038
that's about it for the preamble let's

211
00:07:47,310 --> 00:07:53,759
get started with the coding today is day

212
00:07:50,038 --> 00:07:56,878
414 and I am going to be debugging that

213
00:07:53,759 --> 00:08:00,930
lighting code you can for those of you

214
00:07:56,879 --> 00:08:03,360
maybe weren't with us yesterday we can

215
00:08:00,930 --> 00:08:07,889
give a brief recap and just get everyone

216
00:08:03,360 --> 00:08:11,759
in the in the mood in the context of

217
00:08:07,889 --> 00:08:13,560
what's going on here so what we did is

218
00:08:11,759 --> 00:08:16,889
we sort of drew the raw lighting

219
00:08:13,560 --> 00:08:21,180
iterations such that we can kind of come

220
00:08:16,889 --> 00:08:22,800
in here and if we if we run a lighting

221
00:08:21,180 --> 00:08:25,288
simulation right you can see that we're

222
00:08:22,800 --> 00:08:27,960
drawing the reflectors here but we added

223
00:08:25,288 --> 00:08:30,778
the ability to turn off the lighting

224
00:08:27,959 --> 00:08:33,269
right so I don't know where that was

225
00:08:30,778 --> 00:08:34,918
disabled right there and of course we

226
00:08:33,269 --> 00:08:37,979
probably should always turn off the

227
00:08:34,918 --> 00:08:39,149
lighting for the text when we turn on

228
00:08:37,979 --> 00:08:41,070
the lighting it's actually lighting the

229
00:08:39,149 --> 00:08:42,240
text too because we just haven't we

230
00:08:41,070 --> 00:08:43,379
didn't put a thing in the renderer to

231
00:08:42,240 --> 00:08:45,060
know the difference between those two

232
00:08:43,379 --> 00:08:48,000
that's like we hey we don't want

233
00:08:45,059 --> 00:08:49,799
lighting on text guys but we also did a

234
00:08:48,000 --> 00:08:52,589
thing where in here we can we could show

235
00:08:49,799 --> 00:08:54,328
the iteration camp what that means is we

236
00:08:52,589 --> 00:08:55,980
can kind of go through here and

237
00:08:54,328 --> 00:08:57,808
look at what happens if we run the

238
00:08:55,980 --> 00:09:02,249
lighting iteration at a single iteration

239
00:08:57,808 --> 00:09:05,219
right like so we can see what happens to

240
00:09:02,249 --> 00:09:08,009
the light as we iterate forwards that's

241
00:09:05,220 --> 00:09:10,290
the initial lighting solution when no

242
00:09:08,009 --> 00:09:12,808
bouncing has happened and you can see

243
00:09:10,289 --> 00:09:16,318
what we've got here is just the the one

244
00:09:12,808 --> 00:09:19,068
light that we have then after we do a

245
00:09:16,318 --> 00:09:21,899
single iteration we're taking that light

246
00:09:19,068 --> 00:09:24,058
and you can see that that light gets

247
00:09:21,899 --> 00:09:25,889
spread out to various services here

248
00:09:24,058 --> 00:09:29,428
right you can see that that light gets

249
00:09:25,889 --> 00:09:32,879
moved to various services we update

250
00:09:29,428 --> 00:09:34,948
again do the lighting a second time this

251
00:09:32,879 --> 00:09:36,539
is after the next bounce and you can

252
00:09:34,948 --> 00:09:38,039
already start to see there's a couple

253
00:09:36,539 --> 00:09:41,278
different things that you can already

254
00:09:38,039 --> 00:09:45,599
see just with this that our buggy right

255
00:09:41,278 --> 00:09:47,458
and what you can see is that we don't

256
00:09:45,600 --> 00:09:49,350
have any notion with the way this light

257
00:09:47,458 --> 00:09:50,698
is being transferred we don't have any

258
00:09:49,350 --> 00:09:52,019
notion of what really should be

259
00:09:50,698 --> 00:09:53,698
happening to these surfaces

260
00:09:52,019 --> 00:09:55,558
we're just randomly spreading light

261
00:09:53,698 --> 00:09:57,178
around like for example you can see

262
00:09:55,558 --> 00:09:59,938
there's or it's already made a mistake

263
00:09:57,178 --> 00:10:02,458
where this was the light this was the

264
00:09:59,938 --> 00:10:04,558
light source here and it's had one of

265
00:10:02,458 --> 00:10:07,048
these lights distribute light to one of

266
00:10:04,558 --> 00:10:08,850
its cells and it overwrote the light

267
00:10:07,048 --> 00:10:11,159
that was already there and obviously

268
00:10:08,850 --> 00:10:13,379
that's not what we want right like this

269
00:10:11,159 --> 00:10:16,230
the new lighting solution should not be

270
00:10:13,379 --> 00:10:18,389
that this is blue light right we so this

271
00:10:16,230 --> 00:10:20,399
is just kind of like showing us the bugs

272
00:10:18,389 --> 00:10:22,499
in our sort of simplistic light

273
00:10:20,399 --> 00:10:24,958
distribution we had started with so what

274
00:10:22,499 --> 00:10:26,819
we want to do today I think because this

275
00:10:24,958 --> 00:10:29,428
is a critical step of the process is

276
00:10:26,818 --> 00:10:31,318
that lighting bounce I think what we

277
00:10:29,428 --> 00:10:34,649
want to do today is try to figure out

278
00:10:31,318 --> 00:10:35,759
how to rewrite this routine in a way

279
00:10:34,649 --> 00:10:37,678
that makes more sense

280
00:10:35,759 --> 00:10:39,298
and we kind of have to think it through

281
00:10:37,678 --> 00:10:41,129
a little bit because again lighting is

282
00:10:39,298 --> 00:10:43,499
very complicated this is the one of the

283
00:10:41,129 --> 00:10:44,789
hardest things in games is lighting it's

284
00:10:43,499 --> 00:10:47,909
one of the things that's really still

285
00:10:44,789 --> 00:10:51,198
not solved you if you look at you know

286
00:10:47,909 --> 00:10:54,659
the major engines out there frostbite

287
00:10:51,198 --> 00:10:56,849
unreal unity whatever none of them have

288
00:10:54,659 --> 00:10:58,889
a coherent lighting solution it's all

289
00:10:56,850 --> 00:11:01,739
like lots of combinations of different

290
00:10:58,889 --> 00:11:03,269
sort of hacks there's a lot of

291
00:11:01,739 --> 00:11:05,189
pre-computation involved in a lot of

292
00:11:03,269 --> 00:11:07,409
cases there's all these sorts of things

293
00:11:05,188 --> 00:11:08,039
it's like it's one of those things that

294
00:11:07,409 --> 00:11:10,139
just not

295
00:11:08,039 --> 00:11:13,078
that clean even today because it's just

296
00:11:10,139 --> 00:11:14,339
a really nasty complex problem and so we

297
00:11:13,078 --> 00:11:16,979
got to think it through and we got to

298
00:11:14,339 --> 00:11:20,880
try and figure out a good way to get a

299
00:11:16,980 --> 00:11:22,589
nice solution that's not that does

300
00:11:20,879 --> 00:11:25,919
enough of what we need without being too

301
00:11:22,589 --> 00:11:27,600
expensive to implement so let's take a

302
00:11:25,919 --> 00:11:29,039
look at what's going on here and let's

303
00:11:27,600 --> 00:11:31,019
work it through on the whiteboard and

304
00:11:29,039 --> 00:11:36,328
then we'll try to improve what we've got

305
00:11:31,019 --> 00:11:38,669
there to not be so sort of a hacky your

306
00:11:36,328 --> 00:11:39,989
ad hoc or whatever you want to say it's

307
00:11:38,669 --> 00:11:41,429
a very simple routine right just this

308
00:11:39,990 --> 00:11:42,750
little routine right here oh we're all

309
00:11:41,429 --> 00:11:47,338
we're talking about is improving this

310
00:11:42,750 --> 00:11:50,759
guy right here so oh shoot Oh big yard

311
00:11:47,339 --> 00:11:53,610
so what you can see we're doing this

312
00:11:50,759 --> 00:11:57,169
compute like propagation here is that

313
00:11:53,610 --> 00:12:00,240
what we're doing is we're stepping over

314
00:11:57,169 --> 00:12:02,909
for for however many iterations of

315
00:12:00,240 --> 00:12:05,730
bounces we said we wanted we're stepping

316
00:12:02,909 --> 00:12:07,649
over actually the emitters right so

317
00:12:05,730 --> 00:12:09,720
we're looking at each one of the

318
00:12:07,649 --> 00:12:12,509
lighting elements of the scene and we're

319
00:12:09,720 --> 00:12:17,879
looking to see what kind which one's of

320
00:12:12,509 --> 00:12:19,588
those emit light right and already I

321
00:12:17,879 --> 00:12:22,379
think this is probably a stupid idea

322
00:12:19,589 --> 00:12:23,670
right I don't really know why I was

323
00:12:22,379 --> 00:12:24,838
thinking of it that way but it's

324
00:12:23,669 --> 00:12:28,259
probably a stupid idea

325
00:12:24,839 --> 00:12:30,660
I don't know because it sort of implies

326
00:12:28,259 --> 00:12:33,149
right that like we're going from emitter

327
00:12:30,659 --> 00:12:34,350
out which maybe I don't know you know

328
00:12:33,149 --> 00:12:35,698
what let me not call it stupid yet

329
00:12:34,350 --> 00:12:36,720
there's reasons why we might want to do

330
00:12:35,698 --> 00:12:37,828
it so let me let me just finished

331
00:12:36,720 --> 00:12:41,300
explaining it first then we can talk

332
00:12:37,828 --> 00:12:44,309
about so we're looping over all of these

333
00:12:41,299 --> 00:12:46,559
the the lighting elements in our in our

334
00:12:44,309 --> 00:12:50,869
solution we're looking to see whether or

335
00:12:46,559 --> 00:12:53,638
not any of those elements have emissive

336
00:12:50,870 --> 00:12:56,850
an emissive amount of light to give away

337
00:12:53,639 --> 00:12:58,438
at the moment right and if they do then

338
00:12:56,850 --> 00:13:00,269
what we're gonna do is shoot out some

339
00:12:58,438 --> 00:13:01,559
number of rays and right now that number

340
00:13:00,269 --> 00:13:03,600
of rays is set to eight we're just gonna

341
00:13:01,559 --> 00:13:07,948
pick eight random directions and we're

342
00:13:03,600 --> 00:13:11,189
gonna spread that light out right so

343
00:13:07,948 --> 00:13:13,769
then what we do is we say okay we now

344
00:13:11,188 --> 00:13:17,578
that we've spread this light out we're

345
00:13:13,769 --> 00:13:19,769
gonna go say you know if we hit somebody

346
00:13:17,578 --> 00:13:21,429
we're gonna see what the angle is that

347
00:13:19,769 --> 00:13:23,379
that it was hitting it at

348
00:13:21,429 --> 00:13:28,569
and we're going to attenuate the light

349
00:13:23,379 --> 00:13:30,159
by that amount right and we record a

350
00:13:28,570 --> 00:13:32,530
weight of how many of these things

351
00:13:30,159 --> 00:13:34,240
shined on the surface and then at the

352
00:13:32,529 --> 00:13:37,539
end we normalized that weight so we

353
00:13:34,240 --> 00:13:39,129
basically bounce the light out record

354
00:13:37,539 --> 00:13:50,169
how many of them we did so that we get

355
00:13:39,129 --> 00:13:52,450
average after right now I as you can see

356
00:13:50,169 --> 00:13:57,250
there's sort of a really bad problem

357
00:13:52,450 --> 00:14:02,110
with this right and that is that we

358
00:13:57,250 --> 00:14:05,019
overwrite on any given step we actually

359
00:14:02,110 --> 00:14:07,779
overwrite the emission that we're going

360
00:14:05,019 --> 00:14:10,659
to use on the next step with the thing

361
00:14:07,779 --> 00:14:13,259
that we calculated what that means is

362
00:14:10,659 --> 00:14:16,059
that a light source only has the first

363
00:14:13,259 --> 00:14:21,399
time it's got light to give it away

364
00:14:16,059 --> 00:14:24,519
right that just doesn't make a lot of

365
00:14:21,399 --> 00:14:31,600
sense like I'm not sure why we did that

366
00:14:24,519 --> 00:14:33,909
exactly it's just kind of weird right

367
00:14:31,600 --> 00:14:35,830
and so if you think about this we

368
00:14:33,909 --> 00:14:37,559
probably need to like really kind of

369
00:14:35,830 --> 00:14:40,360
think through how we want to deal with

370
00:14:37,559 --> 00:14:43,569
what what we're actually trying to do

371
00:14:40,360 --> 00:14:46,240
energy distribution wise and we probably

372
00:14:43,570 --> 00:14:49,870
want to make that work in a smarter way

373
00:14:46,240 --> 00:14:51,820
because lights are lights and every time

374
00:14:49,870 --> 00:14:53,769
we process a light it should probably be

375
00:14:51,820 --> 00:14:56,920
emitting however much it's emitting each

376
00:14:53,769 --> 00:14:58,569
step of the iteration maybe I mean or I

377
00:14:56,919 --> 00:14:59,500
don't know or maybe we wanted to think

378
00:14:58,570 --> 00:15:01,030
of it as there's a certain amount of

379
00:14:59,500 --> 00:15:04,240
photons that they bounce around I'm not

380
00:15:01,029 --> 00:15:09,129
sure how we really want to approach that

381
00:15:04,240 --> 00:15:11,049
problem but it's a bit weird right and

382
00:15:09,129 --> 00:15:12,730
it means things that our emitters are

383
00:15:11,049 --> 00:15:14,079
gonna be bouncing light and they're even

384
00:15:12,730 --> 00:15:15,639
going to bounce light that's not their

385
00:15:14,080 --> 00:15:19,920
color which is not really what would

386
00:15:15,639 --> 00:15:23,048
happen in the real world probably I mean

387
00:15:19,919 --> 00:15:23,048
[Music]

388
00:15:23,250 --> 00:15:28,750
you know especially because of the low

389
00:15:26,559 --> 00:15:30,459
sampling amount I'm just gonna draw for

390
00:15:28,750 --> 00:15:33,370
you an example of something that could

391
00:15:30,460 --> 00:15:34,840
happen here that I think is a pretty

392
00:15:33,370 --> 00:15:40,210
good indication of

393
00:15:34,840 --> 00:15:42,340
be why this is bad right so if we take a

394
00:15:40,210 --> 00:15:44,769
look at what could happen here let's

395
00:15:42,340 --> 00:15:50,379
suppose we have a light source right so

396
00:15:44,769 --> 00:15:56,409
maybe this is already bitter here and

397
00:15:50,379 --> 00:16:02,049
then we've got like a little reflector

398
00:15:56,409 --> 00:16:05,620
here and a reflector here so let's say

399
00:16:02,049 --> 00:16:11,409
this is white this is white but this is

400
00:16:05,620 --> 00:16:12,879
red right well remember we don't have an

401
00:16:11,409 --> 00:16:14,679
infinite number of samples we're not

402
00:16:12,879 --> 00:16:17,230
throwing around billions of photons like

403
00:16:14,679 --> 00:16:18,729
the real world is so well it might be a

404
00:16:17,230 --> 00:16:21,039
fine thing in the real world to say

405
00:16:18,730 --> 00:16:22,629
let's just shoot photons out of here and

406
00:16:21,039 --> 00:16:24,459
let them bounce around and if they

407
00:16:22,629 --> 00:16:26,049
bounce back and hit us again we'll let

408
00:16:24,460 --> 00:16:28,540
them bounce again and fine and whatever

409
00:16:26,049 --> 00:16:29,829
it just works right with billions of

410
00:16:28,539 --> 00:16:31,990
photons you converge on the right

411
00:16:29,830 --> 00:16:34,450
lighting solution in our case we're only

412
00:16:31,990 --> 00:16:36,549
sending out a few rays so it may be

413
00:16:34,450 --> 00:16:39,280
entirely possible that when we send out

414
00:16:36,549 --> 00:16:40,870
the a trays for this guy right we send

415
00:16:39,279 --> 00:16:44,919
that one and we hit this red surface

416
00:16:40,870 --> 00:16:46,750
right now this surface becomes black

417
00:16:44,919 --> 00:16:49,750
because it has not received any lighting

418
00:16:46,750 --> 00:16:50,590
incoming to it right this surface is

419
00:16:49,750 --> 00:16:52,539
black as well

420
00:16:50,590 --> 00:16:55,899
right but it reflects white and so does

421
00:16:52,539 --> 00:16:58,629
this right so now in the next iteration

422
00:16:55,899 --> 00:17:01,090
this is red so it's going to bounce

423
00:16:58,629 --> 00:17:04,480
exclusively red light out and let's say

424
00:17:01,090 --> 00:17:08,829
now it bounces right well I'll say let's

425
00:17:04,480 --> 00:17:10,809
say it bounces light to here right now

426
00:17:08,829 --> 00:17:13,240
this will become red and potentially

427
00:17:10,809 --> 00:17:15,429
bounce light to here and instead of this

428
00:17:13,240 --> 00:17:18,039
being mostly white from this guy's

429
00:17:15,430 --> 00:17:19,420
bounce it will actually be mostly red

430
00:17:18,039 --> 00:17:21,490
because this surface has now been

431
00:17:19,420 --> 00:17:23,320
overwritten with red but we know

432
00:17:21,490 --> 00:17:24,759
intuitively that if this thing is right

433
00:17:23,319 --> 00:17:26,529
next to the light source it should be

434
00:17:24,759 --> 00:17:29,559
mostly getting the light from the light

435
00:17:26,529 --> 00:17:32,200
source right so it doesn't really make

436
00:17:29,559 --> 00:17:37,210
sense to be overwriting overriding

437
00:17:32,200 --> 00:17:38,769
surfaces like that it's just not a

438
00:17:37,210 --> 00:17:42,549
particularly sensible

439
00:17:38,769 --> 00:17:46,420
I think approach to that problem where

440
00:17:42,549 --> 00:17:47,500
we're looking at at how surfaces evolve

441
00:17:46,420 --> 00:17:51,370
over time

442
00:17:47,500 --> 00:17:56,799
right so I guess the question is just

443
00:17:51,369 --> 00:18:01,989
what do we want to do you know to

444
00:17:56,799 --> 00:18:05,919
address this problem and I I'm not sure

445
00:18:01,990 --> 00:18:08,740
right one thing I would say that I'm

446
00:18:05,920 --> 00:18:10,269
kind of interested in in trying just off

447
00:18:08,740 --> 00:18:12,490
the bat and again there's a lot of stuff

448
00:18:10,269 --> 00:18:14,910
we want to try here but I'm interested

449
00:18:12,490 --> 00:18:17,319
in reducing the ray count progressively

450
00:18:14,910 --> 00:18:19,029
so I would be interested to know what

451
00:18:17,319 --> 00:18:23,919
would happen for example if we started

452
00:18:19,029 --> 00:18:25,930
out casting 256 rays but each time

453
00:18:23,920 --> 00:18:27,190
through we divided by two or something

454
00:18:25,930 --> 00:18:29,590
like that maybe that's a little

455
00:18:27,190 --> 00:18:31,180
aggressive let's say it was 64 rays or

456
00:18:29,589 --> 00:18:35,619
something like that but each time

457
00:18:31,180 --> 00:18:37,779
through we divided by 2 right so

458
00:18:35,619 --> 00:18:39,819
basically like at first we spread those

459
00:18:37,779 --> 00:18:41,859
initial light sources out very heavily

460
00:18:39,819 --> 00:18:44,200
you know I'm saying but then on the next

461
00:18:41,859 --> 00:18:46,089
one the secondary bounces is less and

462
00:18:44,200 --> 00:18:49,090
then the tertiary bounces is less and so

463
00:18:46,089 --> 00:18:51,669
on right I don't know I'm just gonna I

464
00:18:49,089 --> 00:18:54,000
just I'm just curious really honestly to

465
00:18:51,670 --> 00:18:56,620
see what that does because I'm not sure

466
00:18:54,000 --> 00:18:58,279
let me turn the lighting off and look at

467
00:18:56,619 --> 00:19:01,358
what what that will do renderer

468
00:18:58,279 --> 00:19:01,358
[Music]

469
00:19:13,140 --> 00:19:18,540
okay so if we take a look at what

470
00:19:16,440 --> 00:19:21,660
happens with the lighting here after our

471
00:19:18,539 --> 00:19:23,789
iteration count after each or iteration

472
00:19:21,660 --> 00:19:26,160
counts so here's after our first

473
00:19:23,789 --> 00:19:28,349
iteration count and what you can see is

474
00:19:26,160 --> 00:19:31,340
that we cover a lot more a lot more of

475
00:19:28,349 --> 00:19:33,959
the surfaces can see us which is good

476
00:19:31,339 --> 00:19:35,428
because of that increased bounce rate

477
00:19:33,960 --> 00:19:37,860
right we're getting a lot more of them

478
00:19:35,429 --> 00:19:39,269
here now for whatever reason and maybe

479
00:19:37,859 --> 00:19:41,819
this is just because of poor sampling

480
00:19:39,269 --> 00:19:44,400
I'm not sure what but you can also see

481
00:19:41,819 --> 00:19:46,769
some weirdness here and again this maybe

482
00:19:44,400 --> 00:19:50,190
is just about us being better about the

483
00:19:46,769 --> 00:19:54,929
debugging but it's really weird that no

484
00:19:50,190 --> 00:19:57,750
rays hit here right it's pretty strange

485
00:19:54,929 --> 00:20:02,009
that nothing was able to hit this at all

486
00:19:57,750 --> 00:20:04,169
and my guess and I could be very wrong

487
00:20:02,009 --> 00:20:06,119
about this but my guess is that's

488
00:20:04,169 --> 00:20:08,580
because we're not really shooting out of

489
00:20:06,119 --> 00:20:10,798
the hemisphere correctly and so maybe

490
00:20:08,579 --> 00:20:12,808
like we're getting something where the

491
00:20:10,798 --> 00:20:15,779
cone you can shoot out in in general

492
00:20:12,808 --> 00:20:18,210
tends to be like that here and like that

493
00:20:15,779 --> 00:20:20,819
here and this is a gap where it's very

494
00:20:18,210 --> 00:20:23,360
likely that the random generator the

495
00:20:20,819 --> 00:20:28,339
random perturbation just never hits

496
00:20:23,359 --> 00:20:28,339
that's my guess don't quote me on that

497
00:20:28,679 --> 00:20:34,559
but that is my guess so I think we've

498
00:20:32,160 --> 00:20:36,840
got some work to do there but let's keep

499
00:20:34,558 --> 00:20:39,509
going so after the second bounce right

500
00:20:36,839 --> 00:20:41,909
now this is a bounce that takes less

501
00:20:39,509 --> 00:20:44,910
it's going to do 32 bounces that you can

502
00:20:41,910 --> 00:20:46,919
see that bouncing around here and it

503
00:20:44,910 --> 00:20:48,750
looks pretty reasonable how it bounced I

504
00:20:46,919 --> 00:20:51,509
don't know about this that looks a

505
00:20:48,750 --> 00:20:54,990
little suspicious to me to be honest

506
00:20:51,509 --> 00:20:57,480
that that seems a bit odd so I'm not

507
00:20:54,990 --> 00:21:00,929
sure how we've got a blue light going

508
00:20:57,480 --> 00:21:04,048
over there probably a bug then we

509
00:21:00,929 --> 00:21:05,519
bounced one more time and again it

510
00:21:04,048 --> 00:21:08,190
continues to sort of spread that laid

511
00:21:05,519 --> 00:21:12,980
out a little bit and then the last time

512
00:21:08,190 --> 00:21:16,169
of our four iterations now we've got you

513
00:21:12,980 --> 00:21:19,890
know what is the the sort of final

514
00:21:16,169 --> 00:21:21,600
spread lighting solution if we take a

515
00:21:19,890 --> 00:21:25,060
look at what that actually looks like

516
00:21:21,599 --> 00:21:26,459
lighting wise I'm not sure

517
00:21:25,059 --> 00:21:33,629
[Music]

518
00:21:26,460 --> 00:21:45,809
how to actually did we make a way that

519
00:21:33,630 --> 00:21:47,010
we could actually see yeah so one of the

520
00:21:45,809 --> 00:21:49,799
things that I'm not totally sure about

521
00:21:47,009 --> 00:21:52,140
is if you take a look at what happens

522
00:21:49,799 --> 00:21:55,049
here this is supposedly the result of

523
00:21:52,140 --> 00:21:59,280
the final gather it doesn't really seem

524
00:21:55,049 --> 00:22:01,200
to reflect pun intended oh I know why

525
00:21:59,279 --> 00:22:02,579
it's because that's the reflectors

526
00:22:01,200 --> 00:22:04,529
that's the actual thing

527
00:22:02,579 --> 00:22:06,779
so anyway maybe that's a little bit more

528
00:22:04,529 --> 00:22:11,299
accurate but even so that doesn't seem

529
00:22:06,779 --> 00:22:13,920
to really reflect very well pun intended

530
00:22:11,299 --> 00:22:16,950
what the lighting solution actually said

531
00:22:13,920 --> 00:22:19,800
was going on so I'm not sure if our

532
00:22:16,950 --> 00:22:23,039
final gather is maybe not so good as

533
00:22:19,799 --> 00:22:25,470
well or it may just be that that's

534
00:22:23,039 --> 00:22:26,519
because since we have no ambient light

535
00:22:25,470 --> 00:22:28,559
here

536
00:22:26,519 --> 00:22:30,599
it's just that hey a lot of the Rays

537
00:22:28,559 --> 00:22:32,309
kind of go up and out and so they're

538
00:22:30,599 --> 00:22:34,109
just not gonna hit anything they're just

539
00:22:32,309 --> 00:22:37,019
gonna hit a skylight which is actually

540
00:22:34,109 --> 00:22:38,519
accurate right that's not wrong but it

541
00:22:37,019 --> 00:22:40,619
is just a little bit weird when you kind

542
00:22:38,519 --> 00:22:42,569
of look at the interpolation here I

543
00:22:40,619 --> 00:22:45,809
think part of that again is that because

544
00:22:42,569 --> 00:22:47,819
the voxels maybe don't have enough

545
00:22:45,809 --> 00:22:50,700
contributions in them just due to the

546
00:22:47,819 --> 00:22:52,139
reflect where the reflectors are it's

547
00:22:50,700 --> 00:22:54,090
hard to say like if you take a look at

548
00:22:52,140 --> 00:22:55,500
how big each of these reflectors are it

549
00:22:54,089 --> 00:22:58,439
could be that the voxels are just

550
00:22:55,500 --> 00:22:59,880
they're not we spread them out too much

551
00:22:58,440 --> 00:23:06,150
with the way that we ended up doing our

552
00:22:59,880 --> 00:23:12,690
voxels right you remember in platformer

553
00:23:06,150 --> 00:23:15,960
dot H here we've got sort of our light

554
00:23:12,690 --> 00:23:19,860
lookup levels right and previously you

555
00:23:15,960 --> 00:23:21,900
know we were using a much more sort of

556
00:23:19,859 --> 00:23:26,879
condensed voxel the elements of the

557
00:23:21,900 --> 00:23:29,100
voxel were quite a bit larger which

558
00:23:26,880 --> 00:23:31,440
allows more blending to happen inside

559
00:23:29,099 --> 00:23:33,089
each of them and so you know it could be

560
00:23:31,440 --> 00:23:36,059
that that's just mostly what's going on

561
00:23:33,089 --> 00:23:39,089
there but I'm not entirely sure right

562
00:23:36,059 --> 00:23:40,440
you can see how it gets much smoother as

563
00:23:39,089 --> 00:23:43,559
we sort of allow

564
00:23:40,440 --> 00:23:46,049
wider net to be cast in the voxel in

565
00:23:43,559 --> 00:23:47,609
terms of blending so yeah you know

566
00:23:46,049 --> 00:23:52,639
that's sort of a separate issue that we

567
00:23:47,609 --> 00:23:52,639
have to deal with but but that does look

568
00:23:53,990 --> 00:23:59,779
it does look somewhat reasonable let me

569
00:23:56,759 --> 00:23:59,779
see how we're doing here

570
00:24:07,690 --> 00:24:17,320
I mean it's actually again it's really

571
00:24:09,638 --> 00:24:24,908
not looking that bad I am again

572
00:24:17,319 --> 00:24:27,038
interested to know so in here where

573
00:24:24,909 --> 00:24:32,559
we've got that sort of like I'm pushing

574
00:24:27,038 --> 00:24:34,388
light to things this part is tough

575
00:24:32,558 --> 00:24:36,398
because we can't do light propagation

576
00:24:34,388 --> 00:24:37,928
yet should probably also talk about how

577
00:24:36,398 --> 00:24:39,548
do you light propagation from the

578
00:24:37,929 --> 00:24:41,440
skylight that's another reason why

579
00:24:39,548 --> 00:24:43,798
pushing from emitters is not great in my

580
00:24:41,440 --> 00:24:43,798
opinion

581
00:25:00,380 --> 00:25:06,350
because again that's we're starting to

582
00:25:04,130 --> 00:25:08,540
get to something that's pretty usable as

583
00:25:06,349 --> 00:25:11,539
a lighting solution and it actually has

584
00:25:08,539 --> 00:25:13,129
a lot of nice sort of like bounced

585
00:25:11,539 --> 00:25:15,289
lighting happening so I think we're

586
00:25:13,130 --> 00:25:21,110
actually not that far from being good

587
00:25:15,289 --> 00:25:22,849
here I think we really just have a few

588
00:25:21,109 --> 00:25:25,699
issues to address and then I think we're

589
00:25:22,849 --> 00:25:29,809
gonna be okay I'm liking the way this is

590
00:25:25,700 --> 00:25:31,700
looking actually right I mean that

591
00:25:29,809 --> 00:25:33,349
really does give you a nice feel of

592
00:25:31,700 --> 00:25:35,870
where the light is and so I think if we

593
00:25:33,349 --> 00:25:37,730
just fix some of these problems yeah

594
00:25:35,869 --> 00:25:47,799
it's not that far from a reasonable

595
00:25:37,730 --> 00:25:51,259
solution I think actually all right so I

596
00:25:47,799 --> 00:25:53,899
think part of the problem is that maybe

597
00:25:51,259 --> 00:25:58,579
this to past situation is just kind of

598
00:25:53,900 --> 00:26:00,410
dumb right so let's let's think about

599
00:25:58,579 --> 00:26:01,339
this a little bit more let's let's let

600
00:26:00,410 --> 00:26:02,990
me work through this because I've never

601
00:26:01,339 --> 00:26:04,789
really done an algorithm that does like

602
00:26:02,990 --> 00:26:06,799
this sort of like loose light

603
00:26:04,789 --> 00:26:11,869
propagation kind of a radiosity is sort

604
00:26:06,799 --> 00:26:15,759
of algorithm right let's think about

605
00:26:11,869 --> 00:26:24,500
this a little bit more in terms of

606
00:26:15,759 --> 00:26:28,789
where's my Milton at I have a mouse mat

607
00:26:24,500 --> 00:26:31,509
here and I need to there we go Dave for

608
00:26:28,789 --> 00:26:31,509
14

609
00:26:40,220 --> 00:26:46,200
so if you think about what happens with

610
00:26:42,599 --> 00:26:47,488
a raytracer for example which I

611
00:26:46,200 --> 00:26:52,200
understand better and have written more

612
00:26:47,489 --> 00:26:56,460
of right we've got sort of where we're

613
00:26:52,200 --> 00:27:00,028
looking from and we have surfaces out in

614
00:26:56,460 --> 00:27:01,858
the world and we randomly perturb rays

615
00:27:00,028 --> 00:27:03,509
that come out from the eye through a

616
00:27:01,858 --> 00:27:05,638
particular pixel right

617
00:27:03,509 --> 00:27:08,759
and those of you watch hand read read

618
00:27:05,638 --> 00:27:10,439
know about this we sum up a number of

619
00:27:08,759 --> 00:27:12,599
samples that bounce through the world

620
00:27:10,440 --> 00:27:14,369
and see what they hit

621
00:27:12,599 --> 00:27:18,719
right maybe this one hits the light

622
00:27:14,368 --> 00:27:20,970
source here right and so how we

623
00:27:18,720 --> 00:27:27,118
determine how much light comes along

624
00:27:20,970 --> 00:27:33,389
this ray is really based on that process

625
00:27:27,118 --> 00:27:36,898
of full chain discovery the reason that

626
00:27:33,388 --> 00:27:40,469
works really well is because each chain

627
00:27:36,898 --> 00:27:42,748
is like a uniquely satisfiable path of

628
00:27:40,470 --> 00:27:45,269
light from an emitter whose value is

629
00:27:42,749 --> 00:27:50,159
known through a series of bounces whose

630
00:27:45,269 --> 00:27:52,288
values are known right the problem with

631
00:27:50,159 --> 00:27:56,700
it is that it wastes a lot of

632
00:27:52,288 --> 00:28:03,569
computation potentially because for a

633
00:27:56,700 --> 00:28:06,090
particular surface right I may know a

634
00:28:03,569 --> 00:28:09,028
lot about the lighting coming on the

635
00:28:06,089 --> 00:28:11,158
surface because many pixel rays may have

636
00:28:09,028 --> 00:28:13,200
hit this surface from various angles and

637
00:28:11,159 --> 00:28:16,070
may have bounced out in various angles

638
00:28:13,200 --> 00:28:18,840
and found different light sources right

639
00:28:16,069 --> 00:28:21,148
so I may be wasting a lot of

640
00:28:18,839 --> 00:28:24,749
computational time with this path

641
00:28:21,148 --> 00:28:27,138
sampling by not reusing the knowledge

642
00:28:24,749 --> 00:28:29,669
that I already have about the surface

643
00:28:27,138 --> 00:28:31,589
what we're fundamentally trying to do in

644
00:28:29,669 --> 00:28:34,278
our algorithm inside handmade hero is

645
00:28:31,589 --> 00:28:36,749
sort of generate that knowledge meaning

646
00:28:34,278 --> 00:28:39,058
instead of ever thinking about an eye

647
00:28:36,749 --> 00:28:41,999
calculation we want to do a series of

648
00:28:39,058 --> 00:28:46,200
bounces that just tell us generally what

649
00:28:41,999 --> 00:28:49,759
is the incident light at each of these

650
00:28:46,200 --> 00:28:49,759
surfaces right

651
00:28:50,799 --> 00:28:54,849
and I believe generally this has a name

652
00:28:53,170 --> 00:28:59,560
I believe it's called an irradiance

653
00:28:54,849 --> 00:29:01,119
cache let me see if I'm right about that

654
00:28:59,559 --> 00:29:12,250
it's been a long time since I've worked

655
00:29:01,119 --> 00:29:14,679
with this sort of stuff don't suppose

656
00:29:12,250 --> 00:29:17,400
we're gonna have a Wikipedia page or

657
00:29:14,680 --> 00:29:17,400
anything there do we

658
00:29:29,940 --> 00:29:33,500
let's take a look

659
00:29:37,170 --> 00:29:41,900
well this is more of a

660
00:29:38,690 --> 00:29:41,900
[Music]

661
00:29:50,220 --> 00:29:54,919
yes so you can see this is basically

662
00:29:52,319 --> 00:29:57,658
what I'm talking about right

663
00:29:54,919 --> 00:30:00,210
compute on an as-needed basis the

664
00:29:57,659 --> 00:30:10,139
irradiance at particular points and then

665
00:30:00,210 --> 00:30:16,798
just interpolate them right so you can

666
00:30:10,138 --> 00:30:20,058
kind of see here I mean this is this is

667
00:30:16,798 --> 00:30:20,058
exactly what we're doing right

668
00:30:29,380 --> 00:30:32,260
and you can kind of see what they're

669
00:30:31,000 --> 00:30:33,940
doing is they're just rendering out a

670
00:30:32,259 --> 00:30:40,960
hemisphere from a particular point and

671
00:30:33,940 --> 00:30:43,740
then they're just like you know using

672
00:30:40,960 --> 00:30:43,740
those values

673
00:30:55,400 --> 00:31:00,580
so what I'm not seeing

674
00:31:12,359 --> 00:31:16,469
when I'm not seeing as the part that I

675
00:31:14,529 --> 00:31:19,720
was kind of more interested in is just

676
00:31:16,470 --> 00:31:27,730
how to render the irradiance cache using

677
00:31:19,720 --> 00:31:29,769
the irradiance cache right but that's

678
00:31:27,730 --> 00:31:32,110
the part that I you know anyway I got

679
00:31:29,769 --> 00:31:33,429
the answer I wanted which is is this

680
00:31:32,109 --> 00:31:34,990
called the irradiance cache yes

681
00:31:33,429 --> 00:31:36,970
basically that is exactly what we're

682
00:31:34,990 --> 00:31:38,950
doing right so we're trying to make

683
00:31:36,970 --> 00:31:40,419
inner radiance cache here and what we

684
00:31:38,950 --> 00:31:44,190
want to do because we're really

685
00:31:40,419 --> 00:31:47,559
concerned about the performance here

686
00:31:44,190 --> 00:31:51,190
what we're sort of trying to do is build

687
00:31:47,558 --> 00:31:53,500
an irradiance cache using the existing

688
00:31:51,190 --> 00:31:56,769
irradiance cache right what we want to

689
00:31:53,500 --> 00:31:59,500
do is say all right at every step of the

690
00:31:56,769 --> 00:32:02,769
evaluation try to refine an irradiance

691
00:31:59,500 --> 00:32:05,950
cache using its self so that we don't

692
00:32:02,769 --> 00:32:09,279
have to keep computing for every surface

693
00:32:05,950 --> 00:32:10,750
a complete view of the scene you know

694
00:32:09,279 --> 00:32:12,399
from that surface and this is just a

695
00:32:10,750 --> 00:32:16,779
natural thing that you're gonna have to

696
00:32:12,400 --> 00:32:18,610
deal with anyway right because if you're

697
00:32:16,779 --> 00:32:21,668
asking the question how do we speed up a

698
00:32:18,609 --> 00:32:22,928
Monte Carlo ray tracer and the answer is

699
00:32:21,669 --> 00:32:24,100
irradiance cache but in order to

700
00:32:22,929 --> 00:32:26,350
generate three readings cached you have

701
00:32:24,099 --> 00:32:27,730
to run a monte carlo ray tracer from a

702
00:32:26,349 --> 00:32:29,529
bunch of points in the scene

703
00:32:27,730 --> 00:32:31,390
the obvious answer will be well can we

704
00:32:29,529 --> 00:32:33,819
speed up those with an irradiance cache

705
00:32:31,390 --> 00:32:42,610
right so you want to be able to have

706
00:32:33,819 --> 00:32:45,069
this sort of way of understanding what

707
00:32:42,609 --> 00:32:46,928
you're actually representing that allows

708
00:32:45,069 --> 00:32:49,389
you to iterate over it and right now as

709
00:32:46,929 --> 00:32:51,460
you saw we don't the way we're storing

710
00:32:49,390 --> 00:32:56,650
it as just a single omission value I

711
00:32:51,460 --> 00:33:01,210
think may not be sufficient as something

712
00:32:56,650 --> 00:33:03,519
we can use to both compute the lighting

713
00:33:01,210 --> 00:33:04,058
and bounce the lighting because it's

714
00:33:03,519 --> 00:33:08,980
just

715
00:33:04,058 --> 00:33:11,859
it may not be I'm not trying to put this

716
00:33:08,980 --> 00:33:14,440
but it may not be a sufficiently rich

717
00:33:11,859 --> 00:33:17,469
representation to understand what to do

718
00:33:14,440 --> 00:33:22,659
in both those cases and so what do I

719
00:33:17,470 --> 00:33:25,569
mean by that well so if we treated this

720
00:33:22,659 --> 00:33:26,169
strictly as a photon tracing problem for

721
00:33:25,569 --> 00:33:29,168
something like

722
00:33:26,169 --> 00:33:32,799
that then we're more or less doing it

723
00:33:29,169 --> 00:33:33,879
correctly right I mean we there's some

724
00:33:32,798 --> 00:33:35,739
things we probably want to do

725
00:33:33,878 --> 00:33:38,439
differently but the way a photon tracer

726
00:33:35,739 --> 00:33:41,769
would work right is you've got the the

727
00:33:38,440 --> 00:33:43,929
light and it just sends out some number

728
00:33:41,769 --> 00:33:45,970
of rays and those are light

729
00:33:43,929 --> 00:33:49,119
you basically say how much power was

730
00:33:45,970 --> 00:33:51,429
there in it right you send out that much

731
00:33:49,118 --> 00:33:52,988
light in the form of individual rays

732
00:33:51,429 --> 00:33:55,570
that each have a certain amount of light

733
00:33:52,989 --> 00:33:57,460
power they're going to distribute and

734
00:33:55,569 --> 00:33:59,558
whenever one of those hits a surface it

735
00:33:57,460 --> 00:34:03,460
just writes that power in so it's like a

736
00:33:59,558 --> 00:34:05,528
plus of that power and specifically one

737
00:34:03,460 --> 00:34:09,429
thing we would not be doing for example

738
00:34:05,528 --> 00:34:11,409
is normalizing so that's not really an

739
00:34:09,429 --> 00:34:14,648
accurate part of this process if it was

740
00:34:11,409 --> 00:34:17,980
photon tracing this next emission weight

741
00:34:14,648 --> 00:34:20,529
for example would not be there what we

742
00:34:17,980 --> 00:34:23,918
would have instead is just hey the next

743
00:34:20,530 --> 00:34:29,319
emit C is is it adds whatever the light

744
00:34:23,918 --> 00:34:31,858
C is right and this would have some

745
00:34:29,318 --> 00:34:35,648
notion of the power associated with it

746
00:34:31,858 --> 00:34:37,598
that is based on however many rays we

747
00:34:35,648 --> 00:34:41,048
were sending out from that light source

748
00:34:37,599 --> 00:34:46,679
probably right so we would probably say

749
00:34:41,048 --> 00:34:46,679
okay one over the Ray counts right

750
00:34:51,460 --> 00:34:57,949
is how much power is getting dis is

751
00:34:54,320 --> 00:35:02,450
getting put out but to this particular

752
00:34:57,949 --> 00:35:05,269
element right and and off we go

753
00:35:02,449 --> 00:35:07,549
then inside here when we go to normalize

754
00:35:05,269 --> 00:35:11,030
we would no longer do that so the next

755
00:35:07,550 --> 00:35:13,850
emission weight would not occur right we

756
00:35:11,030 --> 00:35:16,100
would just take whatever the Hadamard

757
00:35:13,849 --> 00:35:18,139
product was and we would use the

758
00:35:16,099 --> 00:35:21,829
reflectance of the surface to modify it

759
00:35:18,139 --> 00:35:24,829
right so yeah all we would be doing is

760
00:35:21,829 --> 00:35:28,069
just just this part and that's that's

761
00:35:24,829 --> 00:35:32,329
all there is to it and then the next

762
00:35:28,070 --> 00:35:33,800
emission W part just isn't relevant now

763
00:35:32,329 --> 00:35:35,269
again I don't know that we I really want

764
00:35:33,800 --> 00:35:37,190
to do this in a photon tracing way but

765
00:35:35,269 --> 00:35:38,690
you could kind of see why that wasn't

766
00:35:37,190 --> 00:35:40,190
right that we were waiting those because

767
00:35:38,690 --> 00:35:42,110
we're just talking about spreading the

768
00:35:40,190 --> 00:35:45,460
light power out here so there really

769
00:35:42,110 --> 00:35:48,470
should not have been that waiting right

770
00:35:45,460 --> 00:35:49,789
um and even with just that change you

771
00:35:48,469 --> 00:35:51,859
can kind of see that it looks a little

772
00:35:49,789 --> 00:35:54,110
more correct to what we would have

773
00:35:51,860 --> 00:35:56,180
expected like the light is kind of more

774
00:35:54,110 --> 00:36:00,860
localized and bright where it is which

775
00:35:56,179 --> 00:36:03,019
is what we should be seeing right like

776
00:36:00,860 --> 00:36:05,660
that actually gives a better result than

777
00:36:03,019 --> 00:36:08,329
what we had in a lot of ways right I

778
00:36:05,659 --> 00:36:10,339
think and that's the more straight

779
00:36:08,329 --> 00:36:13,279
photon tracing method in fact that looks

780
00:36:10,340 --> 00:36:15,890
really good like that's that looks a lot

781
00:36:13,280 --> 00:36:17,690
better than what we had before let's

782
00:36:15,889 --> 00:36:20,889
turn off the ambient light I want to see

783
00:36:17,690 --> 00:36:20,889
what those bounces look like

784
00:36:41,119 --> 00:36:47,599
so there's there's the light and that

785
00:36:44,949 --> 00:36:50,210
really does feel a lot better without

786
00:36:47,599 --> 00:36:51,619
that normalization that feels more like

787
00:36:50,210 --> 00:36:54,800
what I would have expected to have

788
00:36:51,619 --> 00:36:57,739
happen however I do think we probably

789
00:36:54,800 --> 00:37:00,500
have we're not really getting much in

790
00:36:57,739 --> 00:37:02,569
the way of bounced light there I feel

791
00:37:00,500 --> 00:37:04,309
like so I would like to take a quick

792
00:37:02,570 --> 00:37:06,559
look at that let me let me see what's

793
00:37:04,309 --> 00:37:07,159
going on here renderer I also don't know

794
00:37:06,559 --> 00:37:13,480
about that

795
00:37:07,159 --> 00:37:13,480
those that light emit W part and it W

796
00:37:15,880 --> 00:37:20,780
what does this say should we switch to

797
00:37:18,230 --> 00:37:21,230
an integer here no we should just delete

798
00:37:20,780 --> 00:37:31,730
it

799
00:37:21,230 --> 00:37:40,070
oh that's why it's because there was a

800
00:37:31,730 --> 00:37:41,690
greater than zero there all right so

801
00:37:40,070 --> 00:37:43,190
this is more of a straight photon

802
00:37:41,690 --> 00:37:45,380
distribution right we're starting with a

803
00:37:43,190 --> 00:37:47,720
light source we scatter its photons out

804
00:37:45,380 --> 00:37:53,329
those photons are now gone from that so

805
00:37:47,719 --> 00:37:58,269
it becomes black until it gets a what's

806
00:37:53,329 --> 00:38:01,759
the right before it until it receives

807
00:37:58,269 --> 00:38:04,429
light again right and so let's take a

808
00:38:01,760 --> 00:38:07,270
look at how those bounces work out let's

809
00:38:04,429 --> 00:38:07,269
see here

810
00:38:14,309 --> 00:38:21,489
so let's drop it down to zero so there

811
00:38:18,728 --> 00:38:24,038
we can see that first bounce I mean that

812
00:38:21,489 --> 00:38:27,099
first initial seed which is what we

813
00:38:24,039 --> 00:38:29,439
expect here's our first bounce so here's

814
00:38:27,099 --> 00:38:31,929
where all of the light went from the

815
00:38:29,438 --> 00:38:34,208
initial light source and you can see

816
00:38:31,929 --> 00:38:36,639
like I said that light source is now

817
00:38:34,208 --> 00:38:38,978
black which is what we what it should be

818
00:38:36,639 --> 00:38:41,829
because it has distributed all of its

819
00:38:38,978 --> 00:38:43,298
photons to other people right it is sent

820
00:38:41,829 --> 00:38:45,189
them away

821
00:38:43,298 --> 00:38:49,088
now let's update that bounce one more

822
00:38:45,188 --> 00:38:51,728
time and see what we get

823
00:38:49,088 --> 00:38:53,918
and so what you can see now is the a lot

824
00:38:51,728 --> 00:38:59,378
of that light has now been dissipated

825
00:38:53,918 --> 00:39:01,838
out and you know this is the thing about

826
00:38:59,378 --> 00:39:03,909
this is that that is kind of what you

827
00:39:01,838 --> 00:39:07,208
would expect to happen because we have

828
00:39:03,909 --> 00:39:09,519
no absorption right now meaning we're

829
00:39:07,208 --> 00:39:13,538
not accounting for any light that may be

830
00:39:09,518 --> 00:39:15,098
sent back to the viewer right so

831
00:39:13,539 --> 00:39:16,839
basically we're just scattering photons

832
00:39:15,099 --> 00:39:18,338
around and eventually probably this

833
00:39:16,838 --> 00:39:20,889
exact what happens they all end up just

834
00:39:18,338 --> 00:39:23,889
flying off into space right because it's

835
00:39:20,889 --> 00:39:26,649
not a closed system and so you can kind

836
00:39:23,889 --> 00:39:29,588
of see that eventually yeah we just we

837
00:39:26,648 --> 00:39:32,018
dissipate all of our photons but this

838
00:39:29,588 --> 00:39:35,469
actually seems like a more sane set of

839
00:39:32,018 --> 00:39:37,118
bounces to me it seems like it's working

840
00:39:35,469 --> 00:39:40,199
a little better so now the question is

841
00:39:37,119 --> 00:39:43,358
well what do we do about remembering

842
00:39:40,199 --> 00:39:46,719
what the photons at each individual

843
00:39:43,358 --> 00:39:52,869
location actually you know saw or

844
00:39:46,719 --> 00:39:53,739
actually could emit back and that's a

845
00:39:52,869 --> 00:39:55,719
good question

846
00:39:53,739 --> 00:40:00,789
I don't know how we want to really

847
00:39:55,719 --> 00:40:03,358
record that piece of information every

848
00:40:00,789 --> 00:40:05,859
time we strike array with the surface

849
00:40:03,358 --> 00:40:08,978
we're sort of saying that light did get

850
00:40:05,858 --> 00:40:12,308
here at some point and when the photons

851
00:40:08,978 --> 00:40:14,858
bounce around it's hard to say like how

852
00:40:12,309 --> 00:40:16,569
much of them should stay one way of

853
00:40:14,858 --> 00:40:20,699
thinking of it is like hey let's keep

854
00:40:16,568 --> 00:40:23,469
half and send half or something I I

855
00:40:20,699 --> 00:40:24,048
don't know like I'm not a photon tracing

856
00:40:23,469 --> 00:40:25,670
expert so I'm

857
00:40:24,048 --> 00:40:27,318
not sure what the most logical thing is

858
00:40:25,670 --> 00:40:29,539
to do there but you can imagine going

859
00:40:27,318 --> 00:40:31,068
like hey let's just get rid of the final

860
00:40:29,539 --> 00:40:37,119
gather lighting all together right like

861
00:40:31,068 --> 00:40:39,318
what if we just said don't bother right

862
00:40:37,119 --> 00:40:41,959
instead here all we do is say all right

863
00:40:39,318 --> 00:40:44,389
well you know when when we have

864
00:40:41,958 --> 00:40:46,489
something what we'll say is here's what

865
00:40:44,389 --> 00:40:55,688
our emission would have been let's take

866
00:40:46,489 --> 00:40:59,358
what the let's take for the incident

867
00:40:55,688 --> 00:41:02,808
light and the average direction to light

868
00:40:59,358 --> 00:41:04,458
I guess that average direction to light

869
00:41:02,809 --> 00:41:05,839
parts a little bit tricky to do that was

870
00:41:04,458 --> 00:41:07,428
the nice part about the final gather as

871
00:41:05,838 --> 00:41:13,369
we kind of had an idea about where it

872
00:41:07,429 --> 00:41:16,429
was coming from we could just deposit

873
00:41:13,369 --> 00:41:18,349
some of that light in here right into

874
00:41:16,429 --> 00:41:21,739
the incident light and say we're gonna

875
00:41:18,349 --> 00:41:28,209
keep some of the photons to bounce back

876
00:41:21,739 --> 00:41:28,208
out I don't know it doesn't seem wise

877
00:41:38,139 --> 00:41:42,909
I mean another thing we could do is sort

878
00:41:40,838 --> 00:41:44,920
of say that we only add light to

879
00:41:42,909 --> 00:41:48,190
services so it just keeps getting

880
00:41:44,920 --> 00:41:53,710
brighter I'm kind of at a loss here

881
00:41:48,190 --> 00:41:57,460
folks I'm kind of at a loss I mean like

882
00:41:53,710 --> 00:41:59,650
for example there's that which is just

883
00:41:57,460 --> 00:42:01,449
adds light to the system I feel like I

884
00:41:59,650 --> 00:42:03,190
need to do a better job though figuring

885
00:42:01,449 --> 00:42:06,548
out how I'm really gonna do this because

886
00:42:03,190 --> 00:42:09,900
I it's kind of a little bit loose for me

887
00:42:06,548 --> 00:42:09,900
what did I it what happened there Oh

888
00:42:21,159 --> 00:42:25,298
so if we just allow it to keep getting

889
00:42:23,588 --> 00:42:27,190
brighter than this is what we get I

890
00:42:25,298 --> 00:42:30,400
don't remember what our light is

891
00:42:27,190 --> 00:42:35,980
currently set to in terms of its

892
00:42:30,400 --> 00:42:37,869
brightness something's a little wacky

893
00:42:35,980 --> 00:42:40,510
here though because that should be white

894
00:42:37,869 --> 00:42:52,858
it's not right because if we're always

895
00:42:40,510 --> 00:42:55,599
adding to the admit see that should have

896
00:42:52,858 --> 00:43:03,130
like this should stay white shouldn't it

897
00:42:55,599 --> 00:43:08,680
so something's weird there we go through

898
00:43:03,130 --> 00:43:09,880
all of the emitters we push out based on

899
00:43:08,679 --> 00:43:13,358
the emit seed then we're just gonna add

900
00:43:09,880 --> 00:43:14,588
to the admit see some more light that's

901
00:43:13,358 --> 00:43:22,659
the light be received

902
00:43:14,588 --> 00:43:24,369
oh no I take it back

903
00:43:22,659 --> 00:43:31,059
since the final gather just looks

904
00:43:24,369 --> 00:43:35,590
outward it would not do that

905
00:43:31,059 --> 00:43:37,840
so that's correct what are we doing is

906
00:43:35,590 --> 00:43:42,180
this what level of lighting is this is

907
00:43:37,840 --> 00:43:45,760
this a 1.0 light I don't remember yeah

908
00:43:42,179 --> 00:43:49,059
so this is a 1.0 light sitting up above

909
00:43:45,760 --> 00:43:51,600
us there right in our face see what

910
00:43:49,059 --> 00:43:51,599
happens here

911
00:44:06,920 --> 00:44:15,579
I tried going like Heinsohn this stuff

912
00:44:13,369 --> 00:44:15,579
here

913
00:44:28,088 --> 00:44:35,239
it does seem to work somewhat okay but

914
00:44:31,190 --> 00:44:38,389
it's a little odd like I'm not sure why

915
00:44:35,239 --> 00:44:40,608
we don't get much light thrown to

916
00:44:38,389 --> 00:44:43,338
further away it seems to be very

917
00:44:40,608 --> 00:44:44,719
localized but I'm not sure why I don't

918
00:44:43,338 --> 00:44:46,159
know if we have a distance attenuation

919
00:44:44,719 --> 00:44:50,679
term in there that's too aggressive or

920
00:44:46,159 --> 00:44:50,679
something like this something's up

921
00:44:59,409 --> 00:45:06,489
oh I guess that's because the giant

922
00:45:02,679 --> 00:45:12,098
sprite cards um I'm kind of interested

923
00:45:06,489 --> 00:45:15,429
to know if maybe this should be it would

924
00:45:12,099 --> 00:45:21,970
be nice if we could disable those to a

925
00:45:15,429 --> 00:45:23,980
certain extent for the time being cuz I

926
00:45:21,969 --> 00:45:26,649
don't really want those in there anyway

927
00:45:23,980 --> 00:45:30,909
like we probably don't want the hero to

928
00:45:26,650 --> 00:45:32,559
be an actual giant and he won't be once

929
00:45:30,909 --> 00:45:36,399
we get his sprite clipped a little bit

930
00:45:32,559 --> 00:45:38,109
more but he's not really supposed to be

931
00:45:36,400 --> 00:45:40,329
such a giant thing that's just because

932
00:45:38,108 --> 00:45:42,960
the bitmap wasn't was never properly

933
00:45:40,329 --> 00:45:47,160
conditioned for him it's just a giant

934
00:45:42,960 --> 00:45:49,929
BMP that was stuck in a directory right

935
00:45:47,159 --> 00:45:58,000
so he cuts out a lot more light than he

936
00:45:49,929 --> 00:46:02,429
should I wonder if we should really

937
00:45:58,000 --> 00:46:02,429
quick just take him out of here

938
00:46:22,690 --> 00:46:29,110
all right so now that I've got an actual

939
00:46:27,219 --> 00:46:38,009
block that I can push around here that's

940
00:46:29,110 --> 00:46:40,180
the light I'm interested to see what

941
00:46:38,010 --> 00:46:46,480
kinds to throw light around I still

942
00:46:40,179 --> 00:46:49,690
think I still think for some reason yeah

943
00:46:46,480 --> 00:46:52,179
not for some reason I guess I still

944
00:46:49,690 --> 00:46:54,309
think we have a pretty steep distance

945
00:46:52,179 --> 00:46:56,139
based attenuation there that might be

946
00:46:54,309 --> 00:46:57,880
just because of the way we're doing the

947
00:46:56,139 --> 00:47:00,429
Ray casting I mean basically the ray

948
00:46:57,880 --> 00:47:02,829
casting itself is what provides the

949
00:47:00,429 --> 00:47:04,719
distance attenuation because Ray's

950
00:47:02,829 --> 00:47:09,210
spread out so they're less likely to hit

951
00:47:04,719 --> 00:47:09,209
things when they get further away right

952
00:47:09,539 --> 00:47:14,130
so if I take a look here compute final

953
00:47:12,489 --> 00:47:18,069
lighting

954
00:47:14,130 --> 00:47:19,269
I'm sorry compute light propagation when

955
00:47:18,070 --> 00:47:22,210
we're doing our sampling in our

956
00:47:19,269 --> 00:47:24,610
hemisphere here you know we don't do a

957
00:47:22,210 --> 00:47:27,329
distance basic to attenuation but yeah I

958
00:47:24,610 --> 00:47:30,550
think just that the fact that the Rays

959
00:47:27,329 --> 00:47:34,630
tend to diminish quite a bit is largely

960
00:47:30,550 --> 00:47:38,440
what would end up making that happen so

961
00:47:34,630 --> 00:47:45,010
the lights just are able a lot more of

962
00:47:38,440 --> 00:47:46,630
the light samples hit things that are

963
00:47:45,010 --> 00:47:50,940
close by which is what makes it brighter

964
00:47:46,630 --> 00:47:50,940
I think

965
00:48:04,079 --> 00:48:09,150
yeah so there's thing I'd be interested

966
00:48:07,318 --> 00:48:14,009
to see is if we were to decide for

967
00:48:09,150 --> 00:48:17,599
example to not do things this way let's

968
00:48:14,009 --> 00:48:17,599
suppose we did something more like this

969
00:48:21,409 --> 00:48:25,739
you just said all right we're not going

970
00:48:23,248 --> 00:48:27,298
to do a final gather pass the average

971
00:48:25,739 --> 00:48:32,369
direction to ladies always the normal

972
00:48:27,298 --> 00:48:35,548
for whatever reason right and the

973
00:48:32,369 --> 00:48:37,920
incident light is always the emit

974
00:48:35,548 --> 00:48:42,538
whatever the final limit round said it

975
00:48:37,920 --> 00:48:44,249
was you know I mean I'm kind of

976
00:48:42,539 --> 00:48:48,119
interested to know what happens in that

977
00:48:44,248 --> 00:48:51,928
case right so here's the case where we

978
00:48:48,119 --> 00:48:57,329
just say look light is gonna be bounced

979
00:48:51,929 --> 00:48:58,739
around photon wise and we're not going

980
00:48:57,329 --> 00:49:06,150
to do a final gather for it

981
00:48:58,739 --> 00:49:12,858
that's just not happening this is what

982
00:49:06,150 --> 00:49:12,858
we end up with now I don't really know

983
00:49:13,278 --> 00:49:18,659
quite what to make of that but it

984
00:49:16,498 --> 00:49:24,088
actually looks quite a bit better right

985
00:49:18,659 --> 00:49:26,098
you get a lot more light thrown out it

986
00:49:24,088 --> 00:49:28,889
feels like that is just able to take

987
00:49:26,099 --> 00:49:31,739
into account a lot more of the light

988
00:49:28,889 --> 00:49:35,670
information that we have just looking at

989
00:49:31,739 --> 00:49:38,130
it right so we may want to do something

990
00:49:35,670 --> 00:49:44,278
that just does the photons and then

991
00:49:38,130 --> 00:49:46,229
calls it a day it skips the final gather

992
00:49:44,278 --> 00:49:47,818
so maybe we should concentrate on

993
00:49:46,228 --> 00:49:49,169
schemes that do it in one pass where

994
00:49:47,818 --> 00:49:51,028
they're just passing the light around

995
00:49:49,170 --> 00:49:52,709
now one problem is we don't really know

996
00:49:51,028 --> 00:49:54,929
where the lights coming from as much but

997
00:49:52,708 --> 00:49:57,808
we could start tracking that - right the

998
00:49:54,929 --> 00:50:01,499
we could we could track the incident

999
00:49:57,809 --> 00:50:03,559
direction so let's just go ahead and try

1000
00:50:01,498 --> 00:50:03,558
this

1001
00:50:08,469 --> 00:50:14,639
we could track the incident direction by

1002
00:50:12,099 --> 00:50:20,338
just tracking the photons that come in

1003
00:50:14,639 --> 00:50:20,338
right that's not that hard to do

1004
00:50:24,869 --> 00:50:30,990
suing here when we create for whatever

1005
00:50:28,449 --> 00:50:33,578
it is when we create the incident light

1006
00:50:30,989 --> 00:50:35,199
in fact I guess what we do is we still

1007
00:50:33,579 --> 00:50:37,300
could do this now I think about it in

1008
00:50:35,199 --> 00:50:39,309
the final gather where drink here isn't

1009
00:50:37,300 --> 00:50:44,740
really a final gather it's just a thing

1010
00:50:39,309 --> 00:50:46,179
that like bakes the average is down so

1011
00:50:44,739 --> 00:50:48,629
really this sort of thing would still

1012
00:50:46,179 --> 00:50:48,629
occur

1013
00:50:50,099 --> 00:50:54,900
the average direction the light would

1014
00:50:52,119 --> 00:50:57,550
just be the normalized version of

1015
00:50:54,900 --> 00:50:59,740
whatever the incident Direction was

1016
00:50:57,550 --> 00:51:03,339
which will just store in here as an

1017
00:50:59,739 --> 00:51:08,679
accumulator right and the incident light

1018
00:51:03,338 --> 00:51:11,469
is just whatever the emitter color was

1019
00:51:08,679 --> 00:51:13,750
right so the average direction to light

1020
00:51:11,469 --> 00:51:15,489
we would just say okay every time we get

1021
00:51:13,750 --> 00:51:17,500
one of these hits we just say like the

1022
00:51:15,489 --> 00:51:19,929
average direction of the light is just

1023
00:51:17,500 --> 00:51:29,099
going to be equal to let's take the

1024
00:51:19,929 --> 00:51:31,659
power value that we were using here and

1025
00:51:29,099 --> 00:51:35,800
we'll just say the average direction to

1026
00:51:31,659 --> 00:51:37,358
the light is modified by that but we

1027
00:51:35,800 --> 00:51:48,310
really should take how strong the light

1028
00:51:37,358 --> 00:51:53,639
was in fact I guess we just can let's

1029
00:51:48,309 --> 00:51:56,380
just take the length of the color right

1030
00:51:53,639 --> 00:51:56,650
so however much power there is behind

1031
00:51:56,380 --> 00:52:00,430
that

1032
00:51:56,650 --> 00:52:05,858
so we'll do wait times the the direction

1033
00:52:00,429 --> 00:52:09,239
out to where the hit was from because we

1034
00:52:05,858 --> 00:52:11,500
know what that was right we have the

1035
00:52:09,239 --> 00:52:20,489
emitters location and we have our

1036
00:52:11,500 --> 00:52:20,489
location so normal an emit D

1037
00:52:25,170 --> 00:52:40,630
so the omit D is the direction we went

1038
00:52:28,630 --> 00:52:44,789
in right so the direction to the light

1039
00:52:40,630 --> 00:52:44,789
is just going to be the negative of that

1040
00:52:45,389 --> 00:52:50,469
right the emitter direction is the

1041
00:52:48,429 --> 00:52:54,159
direction we had to go to get to the

1042
00:52:50,469 --> 00:52:56,429
thing so it's the it's coming back the

1043
00:52:54,159 --> 00:53:00,420
other way is the direction to the light

1044
00:52:56,429 --> 00:53:00,419
because we're spreading the light out

1045
00:53:03,690 --> 00:53:11,039
yeah so that should tell us the

1046
00:53:06,610 --> 00:53:11,039
direction to the light in theory right

1047
00:53:16,199 --> 00:53:24,159
yep so so that gives us that information

1048
00:53:20,619 --> 00:53:35,469
ooh what is happening I don't know why

1049
00:53:24,159 --> 00:53:41,199
that just happened so that lighting is

1050
00:53:35,469 --> 00:53:42,489
starting to look reasonable I mean I

1051
00:53:41,199 --> 00:53:46,689
would be pretty happy with that

1052
00:53:42,489 --> 00:53:48,339
right I think our voxel scheme is a

1053
00:53:46,690 --> 00:53:50,639
little janky right now it needs to get

1054
00:53:48,340 --> 00:53:50,640
fixed

1055
00:53:50,880 --> 00:53:56,710
just the way it that's interpolating

1056
00:53:53,650 --> 00:53:59,170
isn't fabulous like you can kind of see

1057
00:53:56,710 --> 00:54:00,789
a lot of it poking through and I don't

1058
00:53:59,170 --> 00:54:03,130
know how good that's going to be once we

1059
00:54:00,789 --> 00:54:05,739
actually transfer this to something that

1060
00:54:03,130 --> 00:54:08,410
runs on the GPU right because we're once

1061
00:54:05,739 --> 00:54:10,539
this runs in real time we've got we will

1062
00:54:08,409 --> 00:54:13,659
see artifacts that we're not seeing now

1063
00:54:10,539 --> 00:54:16,110
from the voxel interpolation I strongly

1064
00:54:13,659 --> 00:54:16,109
suspect

1065
00:54:35,739 --> 00:54:41,769
and I think our hemisphere sampling is

1066
00:54:38,608 --> 00:54:43,509
also pretty bad like I feel like we're

1067
00:54:41,769 --> 00:54:44,769
getting artifact because of that so I

1068
00:54:43,510 --> 00:54:54,250
feel like we should also improve our

1069
00:54:44,769 --> 00:54:55,869
hemisphere sampling but yeah so I would

1070
00:54:54,250 --> 00:54:58,559
say yeah the couple things we need to do

1071
00:54:55,869 --> 00:55:01,108
first of all we should probably try to

1072
00:54:58,559 --> 00:55:04,989
to improve that hemisphere sampling

1073
00:55:01,108 --> 00:55:06,429
second thing we should probably do is we

1074
00:55:04,989 --> 00:55:08,829
need to start addressing the sprite

1075
00:55:06,429 --> 00:55:10,659
cards issue because although the sprite

1076
00:55:08,829 --> 00:55:12,069
cards want to be drawn as sprites for

1077
00:55:10,659 --> 00:55:14,858
purposes of the lighting solution they

1078
00:55:12,070 --> 00:55:17,170
should probably be upright blocks right

1079
00:55:14,858 --> 00:55:18,579
because they want to catch the light as

1080
00:55:17,170 --> 00:55:23,260
if they were a little like blocks

1081
00:55:18,579 --> 00:55:26,230
standing there probably at least that's

1082
00:55:23,260 --> 00:55:28,960
my assumption so we probably want to do

1083
00:55:26,230 --> 00:55:31,599
something like that where everything is

1084
00:55:28,960 --> 00:55:34,179
probably a going to be a little bright

1085
00:55:31,599 --> 00:55:37,450
rectangular prism that we send down for

1086
00:55:34,179 --> 00:55:39,899
the lighting solution and then you know

1087
00:55:37,449 --> 00:55:42,639
yeah when we go to actually render it we

1088
00:55:39,900 --> 00:55:47,530
draw it as the sprite card with with the

1089
00:55:42,639 --> 00:55:56,049
lighting being with the lighting coming

1090
00:55:47,530 --> 00:55:57,490
from the computed samples right so we

1091
00:55:56,050 --> 00:56:03,789
kind of have some work to do there but I

1092
00:55:57,489 --> 00:56:06,250
think we're getting closer I think we're

1093
00:56:03,789 --> 00:56:07,900
getting closer there so the other thing

1094
00:56:06,250 --> 00:56:10,150
that we'd have to do is we don't have

1095
00:56:07,900 --> 00:56:11,920
any skylight rays right now just things

1096
00:56:10,150 --> 00:56:15,099
that kind of come in to propagate the

1097
00:56:11,920 --> 00:56:16,480
light inward and that's why I wonder if

1098
00:56:15,099 --> 00:56:21,940
we really want to do this backwards

1099
00:56:16,480 --> 00:56:24,219
right going from the light source

1100
00:56:21,940 --> 00:56:26,260
definitely has advantages in that it

1101
00:56:24,219 --> 00:56:28,629
sort of concentrates things where where

1102
00:56:26,260 --> 00:56:32,290
it's probably most important to do them

1103
00:56:28,630 --> 00:56:33,910
but you know because the skylight should

1104
00:56:32,289 --> 00:56:36,960
be illuminating everything I don't know

1105
00:56:33,909 --> 00:56:40,059
how exactly we want to account for that

1106
00:56:36,960 --> 00:56:41,559
we could allow the final gather to occur

1107
00:56:40,059 --> 00:56:44,199
or just have a separate sky lighting

1108
00:56:41,559 --> 00:56:48,210
pass right in other words we could say

1109
00:56:44,199 --> 00:56:48,210
like okay you know

1110
00:56:48,599 --> 00:56:52,589
do a bunch of raycast as a final thing

1111
00:56:51,059 --> 00:56:54,329
that we do is like the last step of the

1112
00:56:52,590 --> 00:56:56,400
process and that's you know that's

1113
00:56:54,329 --> 00:57:01,559
strictly there to sort of like wait the

1114
00:56:56,400 --> 00:57:06,119
skylight in I don't know how smart that

1115
00:57:01,559 --> 00:57:10,699
is that might just be dumb but what we

1116
00:57:06,119 --> 00:57:10,699
could do is say yeah right you know like

1117
00:57:14,210 --> 00:57:23,369
maybe just at each pass through this we

1118
00:57:16,980 --> 00:57:26,190
also do a little bit of skylight here so

1119
00:57:23,369 --> 00:57:38,279
we do something like okay when we're

1120
00:57:26,190 --> 00:57:43,500
raycasting we do something like this so

1121
00:57:38,280 --> 00:57:51,480
sample the hemisphere do a ray cast to

1122
00:57:43,500 --> 00:57:56,010
see what is it called hit index or done

1123
00:57:51,480 --> 00:57:59,699
I'd yeah if that I equals solution

1124
00:57:56,010 --> 00:58:01,350
element count so it's not if we don't

1125
00:57:59,699 --> 00:58:07,739
hit anything

1126
00:58:01,349 --> 00:58:11,279
then add the skylight right so that's

1127
00:58:07,739 --> 00:58:14,209
some power that comes from the sky that

1128
00:58:11,280 --> 00:58:14,210
has to be specified

1129
00:58:21,130 --> 00:58:25,990
and it should probably based on the sky

1130
00:58:23,170 --> 00:58:37,329
right account and the iterations so

1131
00:58:25,989 --> 00:58:39,369
whatever this is so that's gonna

1132
00:58:37,329 --> 00:58:40,869
diminish whatever the sky power is in

1133
00:58:39,369 --> 00:58:51,759
the sky power is something we can just

1134
00:58:40,869 --> 00:58:52,989
set right so then we could say it's like

1135
00:58:51,760 --> 00:58:55,000
alright if we want to add in some

1136
00:58:52,989 --> 00:59:00,129
skylight here then we could just say

1137
00:58:55,000 --> 00:59:04,539
take that sky color take the average

1138
00:59:00,130 --> 00:59:07,000
direction to light bit and maybe we

1139
00:59:04,539 --> 00:59:09,789
don't alter that maybe we let that not

1140
00:59:07,000 --> 00:59:14,079
be recorded I don't know how we want to

1141
00:59:09,789 --> 00:59:18,300
do that exactly but either way we would

1142
00:59:14,079 --> 00:59:18,299
just say like okay the next emit C

1143
00:59:20,579 --> 00:59:32,710
equals sky power kind of color I and

1144
00:59:28,659 --> 00:59:35,069
then we could still do this part if we

1145
00:59:32,710 --> 00:59:35,070
wanted to

1146
00:59:38,980 --> 00:59:57,139
all right like that and I don't know

1147
00:59:48,108 --> 01:00:00,250
that's pretty ad-hoc I admit that but

1148
00:59:57,139 --> 01:00:00,250
I'm just kind of playing with it all

1149
01:00:07,119 --> 01:00:20,410
right so let's see what happens if I put

1150
01:00:10,760 --> 01:00:20,410
that in there not much honestly

1151
01:00:22,179 --> 01:00:27,669
that did not really do anything I don't

1152
01:00:25,719 --> 01:00:43,899
know if that's because the sky power is

1153
01:00:27,670 --> 01:00:53,230
too weak oh I didn't actually do that

1154
01:00:43,900 --> 01:00:54,610
many and again this isn't really

1155
01:00:53,230 --> 01:00:56,170
necessary if we were to just sample

1156
01:00:54,610 --> 01:00:58,660
outward from services because we just

1157
01:00:56,170 --> 01:01:01,059
have that in line with with catching the

1158
01:00:58,659 --> 01:01:03,489
light sources or whatever but I I think

1159
01:01:01,059 --> 01:01:05,110
we may need to have since bimodal where

1160
01:01:03,489 --> 01:01:06,879
we do out from light sources and back

1161
01:01:05,110 --> 01:01:08,140
from services separately and I'm not

1162
01:01:06,880 --> 01:01:10,450
sure which should go where or how many

1163
01:01:08,139 --> 01:01:11,920
of each to do so we kind of need to like

1164
01:01:10,449 --> 01:01:17,289
feel around there a little bit and just

1165
01:01:11,920 --> 01:01:26,019
see like what's going on so we'll find

1166
01:01:17,289 --> 01:01:28,570
out I think we may also be double

1167
01:01:26,019 --> 01:01:32,170
counting the color here so if you take a

1168
01:01:28,570 --> 01:01:39,309
look at this emissions it's getting the

1169
01:01:32,170 --> 01:01:41,590
emission itself gets modified by it gets

1170
01:01:39,309 --> 01:01:47,079
multiplied by the reflection color we

1171
01:01:41,590 --> 01:01:51,910
don't really want that probably for our

1172
01:01:47,079 --> 01:01:55,119
light that we end up recording so that's

1173
01:01:51,909 --> 01:01:59,069
probably wrong as well we probably need

1174
01:01:55,119 --> 01:01:59,069
to record both of these two things

1175
01:02:04,599 --> 01:02:12,909
so we probably need for example the

1176
01:02:07,059 --> 01:02:15,610
incident light here probably we need to

1177
01:02:12,909 --> 01:02:20,559
be recorded here and it would probably

1178
01:02:15,610 --> 01:02:25,690
need to be that the incident light we

1179
01:02:20,559 --> 01:02:30,820
add without multiplying so the emission

1180
01:02:25,690 --> 01:02:32,740
amount we multiply by that ref C but the

1181
01:02:30,820 --> 01:02:34,960
other one we don't know we could store

1182
01:02:32,739 --> 01:02:36,579
those both is the same value because we

1183
01:02:34,960 --> 01:02:39,550
just multiplied by the reflection color

1184
01:02:36,579 --> 01:02:41,289
when we go to transmit the light so if

1185
01:02:39,550 --> 01:02:44,800
we decide on this scheme that's what we

1186
01:02:41,289 --> 01:02:48,070
would do I think probably that'd be my

1187
01:02:44,800 --> 01:02:50,830
guess anyway so there now we've got our

1188
01:02:48,070 --> 01:02:58,510
skylight in place and that's looking

1189
01:02:50,829 --> 01:02:59,590
pretty nice actually and again I think

1190
01:02:58,510 --> 01:03:03,150
there's a lot of bugs there with

1191
01:02:59,590 --> 01:03:03,150
hemisphere sampling that I don't love

1192
01:03:04,079 --> 01:03:07,079
but

1193
01:03:13,139 --> 01:03:22,868
and you can see that slower now probably

1194
01:03:16,210 --> 01:03:25,929
largely because of that all the services

1195
01:03:22,869 --> 01:03:27,608
or light sources now so you you know we

1196
01:03:25,929 --> 01:03:30,039
are we don't do rate casting out

1197
01:03:27,608 --> 01:03:36,489
services outward the outward iteration

1198
01:03:30,039 --> 01:03:37,900
on services that aren't light sources so

1199
01:03:36,489 --> 01:03:40,000
I think what I might want to do is

1200
01:03:37,900 --> 01:03:42,460
instead of having to split this idea

1201
01:03:40,000 --> 01:03:45,219
that we had before between like bouncing

1202
01:03:42,460 --> 01:03:47,019
the light and gathering the light I

1203
01:03:45,219 --> 01:03:49,179
think what I might want to do is

1204
01:03:47,019 --> 01:03:50,920
actually make those two just different

1205
01:03:49,179 --> 01:03:53,710
ways of iterating so there's a forward

1206
01:03:50,920 --> 01:03:58,510
iteration we can do that spreads light

1207
01:03:53,710 --> 01:04:01,358
out from emitters and there's a backward

1208
01:03:58,510 --> 01:04:04,990
iteration we can do that gathers light

1209
01:04:01,358 --> 01:04:07,469
from the protective services and so

1210
01:04:04,989 --> 01:04:10,328
maybe we just do one or two quick

1211
01:04:07,469 --> 01:04:13,500
forward iterations of the light to take

1212
01:04:10,329 --> 01:04:16,240
our light sources and scatter those out

1213
01:04:13,500 --> 01:04:19,210
to everything that they touch and then

1214
01:04:16,239 --> 01:04:23,588
everything else is a gather based update

1215
01:04:19,210 --> 01:04:31,329
from that on seems plausible to me maybe

1216
01:04:23,588 --> 01:04:33,250
sort of a little bit that seems like

1217
01:04:31,329 --> 01:04:35,800
something that could in theory be

1218
01:04:33,250 --> 01:04:40,199
something in theory that maybe happen

1219
01:04:35,800 --> 01:04:40,200
sometimes to someone somewhere right

1220
01:04:47,769 --> 01:05:01,579
let's try to go over here and see what

1221
01:04:54,650 --> 01:05:03,820
the lighting solution is it's kind of

1222
01:05:01,579 --> 01:05:03,819
weird

1223
01:05:11,929 --> 01:05:15,500
what's going on there

1224
01:05:35,010 --> 01:05:41,040
if I set this let me see what what I did

1225
01:05:39,210 --> 01:05:43,019
there when I when I move the incident

1226
01:05:41,039 --> 01:05:45,059
light in and it seems like I'm not sure

1227
01:05:43,019 --> 01:05:49,409
exactly what's happening there just

1228
01:05:45,059 --> 01:06:03,389
incident oh I know what it is incident

1229
01:05:49,409 --> 01:06:04,799
light is probably never cleared yeah so

1230
01:06:03,389 --> 01:06:22,469
in here where we extract reflectors from

1231
01:06:04,800 --> 01:06:24,269
quads we never clear that so that's that

1232
01:06:22,469 --> 01:06:34,559
was all that was that's gonna say that's

1233
01:06:24,269 --> 01:06:37,130
a bit weird skylight all right it's my

1234
01:06:34,559 --> 01:06:37,130
mistake

1235
01:06:46,900 --> 01:06:59,048
so now if I move over here hopefully I

1236
01:06:52,329 --> 01:07:02,640
should see the highlight move yeah so

1237
01:06:59,048 --> 01:07:02,639
that looks much more correct

1238
01:07:12,590 --> 01:07:17,950
so I think that that's working pretty

1239
01:07:16,070 --> 01:07:20,900
well

1240
01:07:17,949 --> 01:07:23,089
again needs some work but we're getting

1241
01:07:20,900 --> 01:07:24,650
there slowly but surely I mean from

1242
01:07:23,090 --> 01:07:25,309
where we started we're now at a pretty

1243
01:07:24,650 --> 01:07:27,650
good

1244
01:07:25,309 --> 01:07:33,110
we're in a pretty good place I would say

1245
01:07:27,650 --> 01:07:35,240
actually so let's maybe take a look at

1246
01:07:33,110 --> 01:07:37,450
just breaking this now down into the

1247
01:07:35,239 --> 01:07:39,799
ability to do a forward iteration and

1248
01:07:37,449 --> 01:07:43,609
something that does a backward iteration

1249
01:07:39,800 --> 01:07:45,110
and that way we can in prince who and

1250
01:07:43,610 --> 01:07:48,349
maybe let's look at sampling the

1251
01:07:45,110 --> 01:07:55,940
hemisphere better because right now we

1252
01:07:48,349 --> 01:08:02,139
definitely don't do that well right fast

1253
01:07:55,940 --> 01:08:02,139
generation of hemispherical samples

1254
01:08:02,320 --> 01:08:08,000
let's take a look what is this code it

1255
01:08:05,119 --> 01:08:13,309
now what what is this because this this

1256
01:08:08,000 --> 01:08:15,440
was the top hit on a previous search we

1257
01:08:13,309 --> 01:08:17,420
just did for irradiance cache as well is

1258
01:08:15,440 --> 01:08:20,890
this somebody who does a bunch of ray

1259
01:08:17,420 --> 01:08:20,890
tracing work I don't know

1260
01:08:27,909 --> 01:08:36,130
you can does anyone know who this is I

1261
01:08:32,619 --> 01:08:36,130
don't know who this is

1262
01:08:45,689 --> 01:08:58,710
there should be looking about button

1263
01:08:47,890 --> 01:09:01,359
somewhere there isn't Rory hello Rory

1264
01:08:58,710 --> 01:09:04,949
well I don't know it's someone named

1265
01:09:01,359 --> 01:09:04,950
Rory and there's the irradiance caching

1266
01:09:13,020 --> 01:09:21,640
that's a lot of transcendentals and that

1267
01:09:16,270 --> 01:09:23,080
one here's stratified sampling which is

1268
01:09:21,640 --> 01:09:28,600
probably what we want to do too which is

1269
01:09:23,079 --> 01:09:30,100
basically just like sampling in ways

1270
01:09:28,600 --> 01:09:32,740
that you think are probably more

1271
01:09:30,100 --> 01:09:36,400
reasonable for reconstructing the

1272
01:09:32,739 --> 01:09:39,449
function you're trying to sample let's

1273
01:09:36,399 --> 01:09:39,449
see here

1274
01:09:47,329 --> 01:09:56,670
so basically what's going on here right

1275
01:09:50,670 --> 01:09:59,130
is this generates points on a disk and

1276
01:09:56,670 --> 01:10:00,420
then puts them up on the hemisphere

1277
01:09:59,130 --> 01:10:09,980
where they should be

1278
01:10:00,420 --> 01:10:13,739
which basically samples sort of it it

1279
01:10:09,979 --> 01:10:16,589
spreads out the samples proportional to

1280
01:10:13,739 --> 01:10:18,210
the cosine of theta so what you could do

1281
01:10:16,590 --> 01:10:21,329
is you could then take the cosine of

1282
01:10:18,210 --> 01:10:23,130
theta out of your waiting term because

1283
01:10:21,329 --> 01:10:24,390
you know that you're just not sampling

1284
01:10:23,130 --> 01:10:28,760
as much in that direction and that

1285
01:10:24,390 --> 01:10:28,760
becomes the weight itself right

1286
01:10:28,850 --> 01:10:39,720
unfortunately yeah just a lot of

1287
01:10:31,500 --> 01:10:42,470
transcendentals there which you know is

1288
01:10:39,720 --> 01:10:46,650
not fantastic doing a cosine and a sine

1289
01:10:42,470 --> 01:10:53,250
just to generate one of those seems bad

1290
01:10:46,649 --> 01:10:55,769
to me but anyway so I'm going to take a

1291
01:10:53,250 --> 01:10:58,130
look at what we got here what does this

1292
01:10:55,770 --> 01:10:58,130
say

1293
01:11:03,229 --> 01:11:05,289
you

1294
01:11:15,329 --> 01:11:26,859
same problem right all those cosines and

1295
01:11:20,109 --> 01:11:32,109
sines here just stack overflow where you

1296
01:11:26,859 --> 01:11:34,109
think they say about it I do like the

1297
01:11:32,109 --> 01:11:36,759
rejection method that's basically like

1298
01:11:34,109 --> 01:11:38,409
one where you just kind of generate and

1299
01:11:36,760 --> 01:11:40,630
then repeat until you find one that

1300
01:11:38,409 --> 01:11:42,449
satisfies that ease inside a disk so

1301
01:11:40,630 --> 01:11:44,800
rather than using cosine sign you just

1302
01:11:42,449 --> 01:11:48,539
randomly pick one in a square and then

1303
01:11:44,800 --> 01:11:48,539
if it's tested against the circle

1304
01:12:20,948 --> 01:12:23,669
sooo

1305
01:12:29,179 --> 01:12:42,288
I guess one thing that I hadn't thought

1306
01:12:33,380 --> 01:12:45,670
of here's an interesting thought so

1307
01:12:42,288 --> 01:12:48,078
rather than trying to generate a random

1308
01:12:45,670 --> 01:12:50,538
hemispherical distribution right if we

1309
01:12:48,078 --> 01:12:54,219
did just generate a random spherical

1310
01:12:50,538 --> 01:12:57,828
distribution we could then dot product

1311
01:12:54,219 --> 01:12:59,809
with the normal and if it was pointing

1312
01:12:57,828 --> 01:13:01,698
in the opposite direction as the normal

1313
01:12:59,809 --> 01:13:06,498
we could just flip it and then it would

1314
01:13:01,698 --> 01:13:12,259
be in the hemisphere right so for

1315
01:13:06,498 --> 01:13:19,420
example this function here what we could

1316
01:13:12,260 --> 01:13:27,889
say is get rid of the 0.5 and the N plus

1317
01:13:19,420 --> 01:13:30,469
right just normalize your zero this that

1318
01:13:27,889 --> 01:13:33,920
would give us a random point on a sphere

1319
01:13:30,469 --> 01:13:39,279
now how its arranged I'm not sure but I

1320
01:13:33,920 --> 01:13:48,949
think it should be roughly randomly

1321
01:13:39,279 --> 01:13:50,958
distributed it's hard to say because it

1322
01:13:48,948 --> 01:13:53,419
might be that it bunches up some a bit

1323
01:13:50,958 --> 01:13:55,248
because you're projecting down onto the

1324
01:13:53,420 --> 01:13:57,979
sphere so it may not be perfectly

1325
01:13:55,248 --> 01:14:00,109
uniform I'd have to think about that but

1326
01:13:57,979 --> 01:14:04,729
then once you have one of these you

1327
01:14:00,109 --> 01:14:08,029
could then say like alright if the inner

1328
01:14:04,729 --> 01:14:10,099
you know do this if the inner product of

1329
01:14:08,029 --> 01:14:14,920
the result and the normal is less than

1330
01:14:10,099 --> 01:14:18,260
zero then the result just equals oops

1331
01:14:14,920 --> 01:14:19,639
the negative result that would give you

1332
01:14:18,260 --> 01:14:22,998
a hemisphere sample that covers the

1333
01:14:19,639 --> 01:14:24,859
entire hemisphere and that yeah I think

1334
01:14:22,998 --> 01:14:26,958
just works right

1335
01:14:24,859 --> 01:14:35,299
no transcendentals no cosines and sines

1336
01:14:26,958 --> 01:14:39,248
involved which is nice so that seems

1337
01:14:35,300 --> 01:14:39,248
kind of good right

1338
01:14:40,609 --> 01:14:47,479
so feel like that's a nice addition and

1339
01:14:43,899 --> 01:14:50,689
I don't know to what extent that

1340
01:14:47,479 --> 01:14:52,549
necessarily fixes anything for us but I

1341
01:14:50,689 --> 01:14:57,019
think that would get rid of the sort of

1342
01:14:52,550 --> 01:15:03,289
nasty sort of bias we had there with the

1343
01:14:57,020 --> 01:15:05,210
hemisphere sampling holes I'm not sure

1344
01:15:03,289 --> 01:15:10,488
why we get these breaks in the middle

1345
01:15:05,210 --> 01:15:12,489
here I don't know if that's just because

1346
01:15:10,488 --> 01:15:15,379
of the two sides of the light source

1347
01:15:12,488 --> 01:15:17,598
being a little bit odd or if that's more

1348
01:15:15,380 --> 01:15:19,460
just because this is where the two

1349
01:15:17,599 --> 01:15:23,389
elements are spread apart I don't know

1350
01:15:19,460 --> 01:15:24,948
if there's like a voxel boundary there

1351
01:15:23,389 --> 01:15:26,690
is something this is again where we kind

1352
01:15:24,948 --> 01:15:29,178
of want to it would be nice if we had a

1353
01:15:26,689 --> 01:15:30,529
way to sort of measure or show things a

1354
01:15:29,179 --> 01:15:36,529
little better we could use better

1355
01:15:30,529 --> 01:15:39,759
visualization here for sure also we may

1356
01:15:36,529 --> 01:15:39,759
want our skylight to

1357
01:15:46,479 --> 01:15:54,519
to only work if it actually hits someone

1358
01:15:49,800 --> 01:15:56,739
facing upwards right so or make our

1359
01:15:54,520 --> 01:15:58,870
skylight be proportional to the

1360
01:15:56,738 --> 01:16:01,779
direction it is right so we could do

1361
01:15:58,869 --> 01:16:06,460
something like hey the skylight gets

1362
01:16:01,779 --> 01:16:11,019
kind of less like maybe the skylight has

1363
01:16:06,460 --> 01:16:13,840
more of a color wash to it right so it

1364
01:16:11,020 --> 01:16:30,970
it's like we take the inner product of

1365
01:16:13,840 --> 01:16:32,230
the REA direction and like up we don't

1366
01:16:30,970 --> 01:16:34,960
which we don't even need to do that it's

1367
01:16:32,229 --> 01:16:41,169
just it's just whatever the Z coordinate

1368
01:16:34,960 --> 01:16:43,420
is right you know we could even sort of

1369
01:16:41,170 --> 01:16:45,579
make us sunlight is sort of a thing if

1370
01:16:43,420 --> 01:16:47,829
we wanted to there no think about it so

1371
01:16:45,579 --> 01:16:56,050
let's try that so let's say we've got a

1372
01:16:47,829 --> 01:16:59,380
Sun color which is just gonna be like I

1373
01:16:56,050 --> 01:17:02,760
don't know let's be ever I don't think I

1374
01:16:59,380 --> 01:17:02,760
ever installed color cop on this machine

1375
01:17:14,630 --> 01:17:17,800
I did not

1376
01:17:22,810 --> 01:17:26,430
but color cop is good

1377
01:17:32,590 --> 01:17:36,029
let's grab a little color cop

1378
01:17:58,670 --> 01:18:02,680
all right and

1379
01:18:08,909 --> 01:18:17,699
let's go ahead and pick some colors here

1380
01:18:11,600 --> 01:18:20,030
so if I wanted like a some kind of color

1381
01:18:17,699 --> 01:18:20,029
here

1382
01:18:27,238 --> 01:18:33,888
maybe it's something like that looks a

1383
01:18:31,198 --> 01:18:33,888
little bit too green

1384
01:18:49,340 --> 01:19:01,960
okay there's our quote-unquote Sun and

1385
01:18:59,180 --> 01:19:01,960
now let's do a sky

1386
01:19:20,510 --> 01:19:26,070
and the power level of these of course

1387
01:19:23,189 --> 01:19:29,189
should be related so what I might do is

1388
01:19:26,069 --> 01:19:30,988
I might make these f4 kind of things

1389
01:19:29,189 --> 01:19:37,159
here

1390
01:19:30,988 --> 01:19:39,599
I guess I'll still call that sky power

1391
01:19:37,159 --> 01:19:44,579
and I might do something here where we

1392
01:19:39,600 --> 01:19:46,590
say like okay so this is sky power but

1393
01:19:44,579 --> 01:19:52,829
there's a lot like the Sun is like much

1394
01:19:46,590 --> 01:19:58,920
more powerful right so maybe you know

1395
01:19:52,829 --> 01:20:01,500
this maybe the sky color is like point

1396
01:19:58,920 --> 01:20:04,980
two five and this is like ten or

1397
01:20:01,500 --> 01:20:07,350
something I don't know and so what we

1398
01:20:04,979 --> 01:20:12,089
could do there is say like okay so let's

1399
01:20:07,350 --> 01:20:28,289
suppose that we take some blend between

1400
01:20:12,090 --> 01:20:29,489
these two so we could say we we do that

1401
01:20:28,289 --> 01:20:31,760
sort of same thing where we've got the

1402
01:20:29,488 --> 01:20:35,250
the power is represented by the Alpha

1403
01:20:31,760 --> 01:20:47,119
and so then we can just say ok here is

1404
01:20:35,250 --> 01:20:49,140
our power value and off we go

1405
01:20:47,119 --> 01:20:51,029
so then we just have to have a blend

1406
01:20:49,140 --> 01:20:53,719
between these two right so we can lurk

1407
01:20:51,029 --> 01:20:58,948
between the Sun color and the sky color

1408
01:20:53,719 --> 01:21:01,710
argus sky color sun color and we just

1409
01:20:58,948 --> 01:21:04,049
need a T value that would give us like

1410
01:21:01,710 --> 01:21:06,210
how close to the Sun you're pointing so

1411
01:21:04,050 --> 01:21:07,770
maybe we've got like a Sun Direction in

1412
01:21:06,210 --> 01:21:12,960
here right

1413
01:21:07,770 --> 01:21:15,000
maybe the Sun Direction is just that and

1414
01:21:12,960 --> 01:21:18,300
so then I can take the inner product of

1415
01:21:15,000 --> 01:21:20,698
the raid erection and the Sun Direction

1416
01:21:18,300 --> 01:21:23,130
and that gives me the cosine between the

1417
01:21:20,698 --> 01:21:27,589
two of those right and maybe I just want

1418
01:21:23,130 --> 01:21:27,590
to clamp that like I want to map that

1419
01:21:29,069 --> 01:21:32,579
I don't remember what that math function

1420
01:21:31,409 --> 01:21:34,439
was called but it's like plant

1421
01:21:32,579 --> 01:21:36,769
normalized map to range or something

1422
01:21:34,439 --> 01:21:36,769
like that

1423
01:21:40,550 --> 01:21:50,820
where we do like min and Max with a T

1424
01:21:43,710 --> 01:21:54,329
value or whatever so I think that's what

1425
01:21:50,819 --> 01:21:56,699
we want so we can say hey that inner

1426
01:21:54,329 --> 01:21:57,960
products gonna be a full range of things

1427
01:21:56,699 --> 01:22:00,840
we want something that's really just

1428
01:21:57,960 --> 01:22:05,760
pointed very close to the Sun only to be

1429
01:22:00,840 --> 01:22:09,840
sunlight and whatnot and so what we're

1430
01:22:05,760 --> 01:22:12,539
gonna do there is say like yeah the

1431
01:22:09,840 --> 01:22:18,210
clamp 0 1 map to range is gonna go

1432
01:22:12,539 --> 01:22:22,949
between like 0.9 and 1.0 right and

1433
01:22:18,210 --> 01:22:27,000
that's the T value for the Sun or

1434
01:22:22,949 --> 01:22:28,579
something I'm totally just randomly

1435
01:22:27,000 --> 01:22:34,439
screwing around here I admit that

1436
01:22:28,579 --> 01:22:35,909
thank you color Cup but that was just

1437
01:22:34,439 --> 01:22:39,119
designed to sort of like have there be

1438
01:22:35,909 --> 01:22:42,389
some kind of a notion of like Sun

1439
01:22:39,119 --> 01:22:45,989
Direction versus a non Sun Direction in

1440
01:22:42,390 --> 01:22:50,460
the sky versus like a sky color versus

1441
01:22:45,989 --> 01:22:51,929
the Sun color I'm gonna take the let's

1442
01:22:50,460 --> 01:23:00,329
see if I can make that work I'm going to

1443
01:22:51,930 --> 01:23:02,130
take the current push light out just for

1444
01:23:00,329 --> 01:23:05,939
a second well I fuss with that a little

1445
01:23:02,130 --> 01:23:08,010
bit of course what I probably should

1446
01:23:05,939 --> 01:23:09,589
just put a sunlight up in there but

1447
01:23:08,010 --> 01:23:11,730
sometimes you want to handle things like

1448
01:23:09,590 --> 01:23:19,260
infinitely far directional light sources

1449
01:23:11,729 --> 01:23:24,899
like that in a special way all right

1450
01:23:19,260 --> 01:23:26,520
so here we've got our lighting and I'll

1451
01:23:24,899 --> 01:23:32,339
be honest I have no idea what that is

1452
01:23:26,520 --> 01:23:33,720
right there does anybody else I have no

1453
01:23:32,340 --> 01:23:38,300
idea what that's coming from which is

1454
01:23:33,720 --> 01:23:38,300
not great right not a good sign

1455
01:23:39,850 --> 01:23:47,860
unless that's people who happen to point

1456
01:23:45,159 --> 01:23:49,510
towards the sunlight right but we want

1457
01:23:47,859 --> 01:23:51,460
to start seeing is we want to see like a

1458
01:23:49,510 --> 01:23:53,020
brighter area in a darker area here

1459
01:23:51,460 --> 01:23:54,369
based on whether you're pointing towards

1460
01:23:53,020 --> 01:23:58,420
the Sun or not pointing towards the Sun

1461
01:23:54,369 --> 01:23:59,739
right and the Sun since it's one one one

1462
01:23:58,420 --> 01:24:04,149
should be kind of like up in this

1463
01:23:59,739 --> 01:24:06,489
direction right and you know we do have

1464
01:24:04,149 --> 01:24:09,009
a little bit of shadowing in here that

1465
01:24:06,489 --> 01:24:14,829
would seem to suggest that slightly but

1466
01:24:09,010 --> 01:24:24,340
again it's not it's not fabulous so I'll

1467
01:24:14,829 --> 01:24:27,699
play this a little bit here and to see

1468
01:24:24,340 --> 01:24:30,960
so since we're sort of slow since our

1469
01:24:27,699 --> 01:24:37,920
lighting solution is sort of slow anyway

1470
01:24:30,960 --> 01:24:37,920
let's maybe see here about doing like oh

1471
01:24:38,130 --> 01:24:49,210
I don't know maybe we could do some more

1472
01:24:44,710 --> 01:24:52,409
of these rays and let's make the Sun

1473
01:24:49,210 --> 01:24:52,409
look way more powerful

1474
01:25:11,609 --> 01:25:18,988
and one of the things that's you know

1475
01:25:13,810 --> 01:25:18,989
kind of wrong about this who my goodness

1476
01:25:19,529 --> 01:25:27,729
well we definitely got a more powerful

1477
01:25:21,550 --> 01:25:30,010
Sun so let's see so the Sun so we are

1478
01:25:27,729 --> 01:25:31,719
actually getting a bit of a Sun

1479
01:25:30,010 --> 01:25:33,640
Direction suggestion in there because

1480
01:25:31,720 --> 01:25:35,380
this is dark in here and this is very

1481
01:25:33,640 --> 01:25:38,860
bright right and it is coming from that

1482
01:25:35,380 --> 01:25:42,730
direction but it's still a little bit

1483
01:25:38,859 --> 01:25:44,139
wonky let me let me go ahead and calm

1484
01:25:42,729 --> 01:25:46,589
that down a little bit that may have

1485
01:25:44,140 --> 01:25:46,590
been overzealous

1486
01:26:06,109 --> 01:26:11,349
so yeah like if we take a look at what's

1487
01:26:08,899 --> 01:26:16,099
going on there I feel like there's a

1488
01:26:11,349 --> 01:26:17,929
certain degree of maybe the Sun is just

1489
01:26:16,099 --> 01:26:20,119
a little bit too easy to hit I mean

1490
01:26:17,929 --> 01:26:21,168
that's a pretty wide angle there and one

1491
01:26:20,118 --> 01:26:22,759
of the problems that we have is what we

1492
01:26:21,168 --> 01:26:31,578
really want to do is just see if you can

1493
01:26:22,760 --> 01:26:34,189
see the Sun right and actually this is

1494
01:26:31,578 --> 01:26:35,808
this lighting here as well is not using

1495
01:26:34,189 --> 01:26:38,929
the cosine attenuation which it should

1496
01:26:35,809 --> 01:26:40,929
be using so we kind of need to like

1497
01:26:38,929 --> 01:26:42,828
again make this a little bit more

1498
01:26:40,929 --> 01:26:44,779
standardized I feel like so it's

1499
01:26:42,828 --> 01:26:49,819
understandable what kind of light you're

1500
01:26:44,779 --> 01:26:53,018
hitting in what cases but yeah in this

1501
01:26:49,819 --> 01:26:57,349
case we would still also need to do here

1502
01:26:53,019 --> 01:27:00,349
when we compute the power look that used

1503
01:26:57,349 --> 01:27:05,599
color a we probably won't use color a to

1504
01:27:00,349 --> 01:27:10,939
be multiplied by the inner product of

1505
01:27:05,599 --> 01:27:17,088
the reference normal and the Ray

1506
01:27:10,939 --> 01:27:19,550
direction right again we probably just

1507
01:27:17,088 --> 01:27:21,319
want a sample in a biased fashion so

1508
01:27:19,550 --> 01:27:23,809
that we're already weighting them by

1509
01:27:21,319 --> 01:27:24,918
that amount but yeah this is one of

1510
01:27:23,809 --> 01:27:26,329
those things where we kind of have to go

1511
01:27:24,918 --> 01:27:29,628
through here with a fine-tooth comb and

1512
01:27:26,328 --> 01:27:31,099
make sure all of it's correct it's

1513
01:27:29,628 --> 01:27:33,519
actually pretty difficult to make sure

1514
01:27:31,099 --> 01:27:33,519
that you do

1515
01:27:38,770 --> 01:27:43,830
but otherwise I think that's okay

1516
01:27:47,779 --> 01:27:54,300
otherwise I think that's okay so yeah

1517
01:27:52,289 --> 01:27:55,948
and and like I said this parts a little

1518
01:27:54,300 --> 01:27:58,199
tricky cuz in general when you're

1519
01:27:55,948 --> 01:28:00,388
casting raise out words to find things

1520
01:27:58,198 --> 01:28:02,488
you typically intentionally sample the

1521
01:28:00,389 --> 01:28:07,590
sunlight Direction specifically to see

1522
01:28:02,488 --> 01:28:09,119
whether you you hit it or not and so

1523
01:28:07,590 --> 01:28:12,630
that's also something we should probably

1524
01:28:09,119 --> 01:28:15,149
do so the skylight really you don't need

1525
01:28:12,630 --> 01:28:17,279
to do this lip thing what you do

1526
01:28:15,149 --> 01:28:19,049
typically is is you just sample the Sun

1527
01:28:17,279 --> 01:28:23,399
Direction once and see whether you hit

1528
01:28:19,050 --> 01:28:25,350
it or not right and so probably that's

1529
01:28:23,399 --> 01:28:27,119
more what should happen here we should

1530
01:28:25,350 --> 01:28:30,780
probably just sample the Sun Direction

1531
01:28:27,119 --> 01:28:32,698
at some point and see whether or not we

1532
01:28:30,779 --> 01:28:35,689
hit it so for example you would do

1533
01:28:32,698 --> 01:28:35,689
something more like this

1534
01:28:36,319 --> 01:28:41,789
it would not be inside the loop you just

1535
01:28:38,670 --> 01:28:48,350
say like hey if there's only one

1536
01:28:41,789 --> 01:28:58,769
direction that can see the Sun like so

1537
01:28:48,350 --> 01:29:00,329
assuming that you can see it then the

1538
01:28:58,770 --> 01:29:07,469
color that you're going to use here it's

1539
01:29:00,329 --> 01:29:09,359
going to be the Sun color I will just go

1540
01:29:07,469 --> 01:29:10,889
ahead and do all of the summation here

1541
01:29:09,359 --> 01:29:12,269
for you and in this case then we don't

1542
01:29:10,889 --> 01:29:18,029
really have to do this anymore it's just

1543
01:29:12,270 --> 01:29:19,500
like use color equals sky color and what

1544
01:29:18,029 --> 01:29:21,179
we could do is like pull out those two

1545
01:29:19,500 --> 01:29:22,889
sample maybe like make a little thing

1546
01:29:21,179 --> 01:29:25,399
that like some samples for us which

1547
01:29:22,889 --> 01:29:25,400
would be nice

1548
01:29:30,289 --> 01:29:38,149
so that we can just easily call you know

1549
01:29:34,010 --> 01:29:38,150
something that does this sample for us

1550
01:29:46,710 --> 01:29:49,828
and so again I think part of the problem

1551
01:29:48,389 --> 01:29:52,409
here is that everyone can really see the

1552
01:29:49,828 --> 01:29:56,210
Sun we're kind of whiteout we're out in

1553
01:29:52,408 --> 01:29:59,098
the open here a little bit too much and

1554
01:29:56,210 --> 01:30:03,710
and of course in this case where we do

1555
01:29:59,099 --> 01:30:03,710
that that Sun power should not have the

1556
01:30:03,828 --> 01:30:10,679
the sky ray count included in it so here

1557
01:30:08,399 --> 01:30:15,769
for that we've actually got we actually

1558
01:30:10,679 --> 01:30:15,770
want to have something more like

1559
01:30:29,250 --> 01:30:33,479
so yeah so we've got about 15 minutes

1560
01:30:32,010 --> 01:30:35,820
left I think that's what I'll do I'll

1561
01:30:33,479 --> 01:30:37,619
just try and start to make this a little

1562
01:30:35,819 --> 01:30:39,559
bit more rigorous so we can start to

1563
01:30:37,619 --> 01:30:41,970
converge on a good lighting solution

1564
01:30:39,560 --> 01:30:43,980
what I think I'll probably do is pull

1565
01:30:41,970 --> 01:30:47,100
out that code that does a lighting

1566
01:30:43,979 --> 01:30:49,829
accumulation sample into something

1567
01:30:47,100 --> 01:30:53,730
saying and try to make that work a

1568
01:30:49,829 --> 01:30:57,529
little bit better right so this is

1569
01:30:53,729 --> 01:30:59,579
looking better here you can kind of see

1570
01:30:57,529 --> 01:31:03,059
you're starting to get a little bit more

1571
01:30:59,579 --> 01:31:04,439
of that sunlight feel in there right

1572
01:31:03,060 --> 01:31:06,350
like things in here but you can really

1573
01:31:04,439 --> 01:31:09,719
see the Sun easily or nice and bright

1574
01:31:06,350 --> 01:31:16,079
and things that can't aren't getting

1575
01:31:09,720 --> 01:31:17,730
darker there right which is nice again

1576
01:31:16,079 --> 01:31:19,409
we haven't really constructed a scene

1577
01:31:17,729 --> 01:31:20,879
that lends itself particularly well to

1578
01:31:19,409 --> 01:31:25,289
this because there's just not a lot of

1579
01:31:20,880 --> 01:31:27,210
blockades here and probably what we

1580
01:31:25,289 --> 01:31:29,609
would want to do is these trees like I

1581
01:31:27,210 --> 01:31:31,800
said we need to do something probably

1582
01:31:29,609 --> 01:31:33,389
what we should do next weekend is make

1583
01:31:31,800 --> 01:31:35,430
it so we now actually send down

1584
01:31:33,390 --> 01:31:38,579
something coherent for the lighting

1585
01:31:35,430 --> 01:31:40,260
where things like trees are represented

1586
01:31:38,579 --> 01:31:50,699
by little blocks so that they're not

1587
01:31:40,260 --> 01:31:54,530
just these cards right look UV and that

1588
01:31:50,699 --> 01:31:54,529
is probably what we would want to do

1589
01:31:58,208 --> 01:32:02,109
yeah so let me pull out that piece of

1590
01:32:00,939 --> 01:32:08,889
code and that can be the last thing that

1591
01:32:02,109 --> 01:32:12,719
we do today essentially this code here

1592
01:32:08,889 --> 01:32:12,719
kind of wants to just be a thing I think

1593
01:32:22,349 --> 01:32:28,929
or maybe like sample lights something

1594
01:32:25,569 --> 01:32:35,948
like this and so what we do there is we

1595
01:32:28,929 --> 01:32:44,769
would pass the lighting solution we

1596
01:32:35,948 --> 01:32:50,469
would pass the Ray well you know do we

1597
01:32:44,769 --> 01:32:53,699
want to call the ray cast or not well

1598
01:32:50,469 --> 01:32:53,698
let's do this in two phases

1599
01:33:03,340 --> 01:33:07,360
so let's try it this way

1600
01:33:04,930 --> 01:33:13,690
let's say that we have a lighting

1601
01:33:07,359 --> 01:33:17,889
element and what we're gonna do is we're

1602
01:33:13,689 --> 01:33:23,349
going to take light and the light has a

1603
01:33:17,890 --> 01:33:32,680
light color and a light power right and

1604
01:33:23,350 --> 01:33:35,980
it's got a direction maybe normal to

1605
01:33:32,680 --> 01:33:37,390
light something like that and then what

1606
01:33:35,979 --> 01:33:39,599
we could do is say well we know what

1607
01:33:37,390 --> 01:33:42,039
happens here right

1608
01:33:39,600 --> 01:33:45,160
we are currently saying we're going to

1609
01:33:42,039 --> 01:33:50,560
use the cosine fall-off law so what we

1610
01:33:45,159 --> 01:33:55,689
would say is the power equals the light

1611
01:33:50,560 --> 01:33:58,810
power times the inner products of the

1612
01:33:55,689 --> 01:34:05,319
normal to the light times the elements

1613
01:33:58,810 --> 01:34:08,280
normal it's the cosine fall-off term or

1614
01:34:05,319 --> 01:34:08,279
just the angular follow

1615
01:34:11,880 --> 01:34:17,369
and then in here we say alright we know

1616
01:34:15,569 --> 01:34:23,009
that the next emission color therefore

1617
01:34:17,369 --> 01:34:29,369
needs to be the power times the light

1618
01:34:23,010 --> 01:34:31,739
color and then the weight for summing

1619
01:34:29,369 --> 01:34:37,019
the light direction is going to be

1620
01:34:31,739 --> 01:34:43,199
whatever the length of the light color

1621
01:34:37,020 --> 01:34:46,890
is times the power and that will be the

1622
01:34:43,199 --> 01:34:49,819
normal to light weighting factor right

1623
01:34:46,890 --> 01:34:59,039
and so this is how you accumulate

1624
01:34:49,819 --> 01:35:00,869
samples of lighting yeah so in here

1625
01:34:59,039 --> 01:35:05,069
let's just double check that this is

1626
01:35:00,869 --> 01:35:09,439
what we think it should be so this power

1627
01:35:05,069 --> 01:35:15,509
value is always constant so we can just

1628
01:35:09,439 --> 01:35:25,319
compute it up here the angular fall-off

1629
01:35:15,510 --> 01:35:32,010
needs to be clamped so but other than

1630
01:35:25,319 --> 01:35:35,579
that this all looks correct so I think

1631
01:35:32,010 --> 01:35:40,260
then what we can do is say yeah all

1632
01:35:35,579 --> 01:35:42,119
right so let's do a cumulate sample we

1633
01:35:40,260 --> 01:35:45,030
know that we're accumulating sample into

1634
01:35:42,119 --> 01:35:48,630
this particular hit we know the color of

1635
01:35:45,029 --> 01:35:52,409
the light is the emitters emit color we

1636
01:35:48,630 --> 01:35:55,230
know the light power is the constant

1637
01:35:52,409 --> 01:35:59,489
light power value that we have there and

1638
01:35:55,229 --> 01:36:03,379
we know that the normal to the light is

1639
01:35:59,489 --> 01:36:07,979
going to be the emitter directions

1640
01:36:03,380 --> 01:36:09,960
inverse right because that was we went

1641
01:36:07,979 --> 01:36:11,849
from that direction from the emitter to

1642
01:36:09,960 --> 01:36:18,480
go so we'd go the other direction to go

1643
01:36:11,850 --> 01:36:21,230
back right so that is a one hit one

1644
01:36:18,479 --> 01:36:21,229
accumulation

1645
01:36:21,829 --> 01:36:28,250
for these other one here we would do

1646
01:36:25,158 --> 01:36:32,049
okay we want to accumulate a sample we

1647
01:36:28,250 --> 01:36:34,880
want to accumulate it into the reference

1648
01:36:32,050 --> 01:36:38,029
the reflector that were looming on that

1649
01:36:34,880 --> 01:36:42,130
reference the reflector that we're on we

1650
01:36:38,029 --> 01:36:45,099
want the sky color and the sky power

1651
01:36:42,130 --> 01:36:48,949
which in this case is just the sky color

1652
01:36:45,099 --> 01:36:52,869
alpha value and we know the direction is

1653
01:36:48,948 --> 01:36:52,868
whatever the direction is we looked at

1654
01:36:53,349 --> 01:37:01,010
for the Sun we know same thing it's the

1655
01:36:58,550 --> 01:37:02,900
Sun color RGB and the Sun color a and

1656
01:37:01,010 --> 01:37:13,570
then it's whatever the Sun Direction is

1657
01:37:02,899 --> 01:37:13,569
where it was that seems right to me

1658
01:37:42,630 --> 01:37:50,500
and of course the Sun is a bit bright

1659
01:37:46,390 --> 01:37:56,170
but you know Suns are bright that

1660
01:37:50,500 --> 01:37:57,579
something Suns do so yeah let's take a

1661
01:37:56,170 --> 01:38:00,149
look at what happens if we get rid of

1662
01:37:57,579 --> 01:38:00,149
the sunlight

1663
01:38:05,670 --> 01:38:11,980
so that's removing the sunlight don't

1664
01:38:09,010 --> 01:38:14,159
ask me why close the game down I don't

1665
01:38:11,979 --> 01:38:14,159
know

1666
01:38:24,789 --> 01:38:32,510
so there's just the diffused ilight and

1667
01:38:28,550 --> 01:38:36,909
that looks pretty good as well so I

1668
01:38:32,510 --> 01:38:36,909
think both of those are reasonable right

1669
01:38:38,350 --> 01:38:43,100
so that's fine I think now we could also

1670
01:38:41,090 --> 01:38:47,329
get rid of the incident light value

1671
01:38:43,100 --> 01:38:49,610
because the incident light value is just

1672
01:38:47,329 --> 01:38:51,350
the same as the emit value we just don't

1673
01:38:49,609 --> 01:38:54,710
have a marred by the reflected color

1674
01:38:51,350 --> 01:38:58,850
right so what we could do instead is

1675
01:38:54,710 --> 01:39:03,140
never actually do that instead just have

1676
01:38:58,850 --> 01:39:06,260
emit C is always the thing and up here

1677
01:39:03,140 --> 01:39:08,750
where we go to transfer color instead of

1678
01:39:06,260 --> 01:39:15,500
emit see here we do the Hadamard product

1679
01:39:08,750 --> 01:39:23,300
here of the emitter ref color so-called

1680
01:39:15,500 --> 01:39:25,930
ref C we could also just do like emit C

1681
01:39:23,300 --> 01:39:25,930
here

1682
01:39:29,770 --> 01:39:42,500
so we grab the emitter we compute it

1683
01:39:35,239 --> 01:39:45,979
this way so we know that's the emitted

1684
01:39:42,500 --> 01:39:49,609
light is whatever it's emit value is

1685
01:39:45,979 --> 01:39:55,250
modified by will how it transmits it we

1686
01:39:49,609 --> 01:39:58,099
would then look at that to test whether

1687
01:39:55,250 --> 01:39:59,899
that meets the minimum criteria assuming

1688
01:39:58,100 --> 01:40:02,750
it does we then use that as the color

1689
01:39:59,899 --> 01:40:08,029
all the way through then here we don't

1690
01:40:02,750 --> 01:40:09,680
bother with this ever right we just sum

1691
01:40:08,029 --> 01:40:12,139
up what the next emission is going to be

1692
01:40:09,680 --> 01:40:18,130
and that means we can just get rid of

1693
01:40:12,140 --> 01:40:18,130
the incident light bit entirely

1694
01:40:23,520 --> 01:40:31,960
and I think that's just done so then in

1695
01:40:29,949 --> 01:40:34,449
the final lighting gather we don't have

1696
01:40:31,960 --> 01:40:39,449
to do anything cept normalize and then

1697
01:40:34,449 --> 01:40:47,699
we can just go ahead and get rid of the

1698
01:40:39,449 --> 01:40:47,699
incident light oops

1699
01:40:50,289 --> 01:41:02,470
because we just don't care about it

1700
01:40:51,670 --> 01:41:04,180
anymore and so now the emit C is always

1701
01:41:02,470 --> 01:41:05,740
the value that we use there aren't two

1702
01:41:04,180 --> 01:41:07,240
values in the lighting propagation which

1703
01:41:05,739 --> 01:41:09,670
is good just because we're gonna have to

1704
01:41:07,239 --> 01:41:11,529
move this to the GP eventually so we

1705
01:41:09,670 --> 01:41:14,350
don't really want an orgy of you know

1706
01:41:11,529 --> 01:41:16,090
data flying around the more concise we

1707
01:41:14,350 --> 01:41:19,090
can make it the more simple we can make

1708
01:41:16,090 --> 01:41:20,619
it the better it will be for making sure

1709
01:41:19,090 --> 01:41:22,090
that it can work on like a small set of

1710
01:41:20,619 --> 01:41:28,119
subsets of textures or something like

1711
01:41:22,090 --> 01:41:33,730
this right so there we go

1712
01:41:28,119 --> 01:41:35,800
let's put back in our regular light and

1713
01:41:33,729 --> 01:41:36,819
take out our skylight and sunlight there

1714
01:41:35,800 --> 01:41:39,239
just to make sure that's all still

1715
01:41:36,819 --> 01:41:39,239
working

1716
01:41:44,158 --> 01:42:04,738
yeah so I take this out I should now

1717
01:41:56,639 --> 01:42:08,159
have no light at all and now if I go

1718
01:42:04,738 --> 01:42:10,369
into world mode and look for the push

1719
01:42:08,158 --> 01:42:10,369
light

1720
01:42:12,210 --> 01:42:23,000
I should be back to having my light

1721
01:42:14,908 --> 01:42:26,238
sources I can move around all right

1722
01:42:23,000 --> 01:42:26,238
slowly but surely

1723
01:42:36,000 --> 01:42:43,619
I don't know man that's starting to look

1724
01:42:39,329 --> 01:42:45,649
kind of nice I think we're getting

1725
01:42:43,619 --> 01:42:45,649
somewhere

1726
01:42:50,640 --> 01:42:56,670
all right I'm gonna leave it there and I

1727
01:42:54,960 --> 01:42:59,250
think the next thing like I said we want

1728
01:42:56,670 --> 01:43:02,579
to do is we probably have to change the

1729
01:42:59,250 --> 01:43:03,750
way we're sending things down because we

1730
01:43:02,579 --> 01:43:05,130
want to start sending things down that

1731
01:43:03,750 --> 01:43:07,470
are proper for the lighting solution

1732
01:43:05,130 --> 01:43:11,220
which means not giant weird cards that

1733
01:43:07,470 --> 01:43:13,010
aren't sized properly even though

1734
01:43:11,220 --> 01:43:14,909
eventually they will be sized properly

1735
01:43:13,010 --> 01:43:16,739
so that we can actually have those

1736
01:43:14,909 --> 01:43:21,930
lighting elements be a little bit more

1737
01:43:16,739 --> 01:43:25,639
sensible right all right so let's go

1738
01:43:21,930 --> 01:43:25,640
ahead and go to a QA here

1739
01:43:42,979 --> 01:43:46,849
why is there a dark horizontal band on

1740
01:43:45,079 --> 01:43:48,739
the red/blue voxels approximate the

1741
01:43:46,850 --> 01:43:50,690
height of the bottom of the push light

1742
01:43:48,739 --> 01:43:53,300
box note possibly fixed at the end of

1743
01:43:50,689 --> 01:43:55,069
the stream render so I don't know yet we

1744
01:43:53,300 --> 01:43:59,360
have I've mentioned that was we were

1745
01:43:55,069 --> 01:44:02,659
looking at it I'm pretty sure that we've

1746
01:43:59,359 --> 01:44:05,539
still got plenty of bugs in here so it's

1747
01:44:02,659 --> 01:44:07,130
probably just because hey yeah we have

1748
01:44:05,539 --> 01:44:12,560
to work on how we're interpolating those

1749
01:44:07,130 --> 01:44:15,230
samples better but I do think there's

1750
01:44:12,560 --> 01:44:18,110
some some issues there now it may be

1751
01:44:15,229 --> 01:44:20,619
because of the fact that that actually

1752
01:44:18,109 --> 01:44:25,009
is somewhat representative of this

1753
01:44:20,619 --> 01:44:26,720
angular emitter you know not being able

1754
01:44:25,010 --> 01:44:29,600
to shine the light as uniformly because

1755
01:44:26,720 --> 01:44:32,030
of that but it's probably not because if

1756
01:44:29,600 --> 01:44:35,000
you look at the way it's shaped this

1757
01:44:32,029 --> 01:44:39,649
should be kidding out here just fine

1758
01:44:35,000 --> 01:44:43,039
with regular throw samples I mean I

1759
01:44:39,649 --> 01:44:45,009
could try moving into well I can't

1760
01:44:43,039 --> 01:44:48,680
really move into the tree unfortunately

1761
01:44:45,010 --> 01:44:51,050
I need to turn off the collision

1762
01:44:48,680 --> 01:44:56,780
detection so I can move this light

1763
01:44:51,050 --> 01:44:58,250
anywhere I want but anyway I suspect if

1764
01:44:56,779 --> 01:45:00,729
that has more to do with the voxel

1765
01:44:58,250 --> 01:45:03,079
interpolation and problems with that

1766
01:45:00,729 --> 01:45:04,429
because we still haven't quite cleaned

1767
01:45:03,079 --> 01:45:07,850
that up to the point where it's really

1768
01:45:04,430 --> 01:45:09,800
what we need it's sort of really

1769
01:45:07,850 --> 01:45:13,550
sensitive to the boundaries of the voxel

1770
01:45:09,800 --> 01:45:18,350
like I mean you know we want some scheme

1771
01:45:13,550 --> 01:45:20,829
where it's not so sensitive to for

1772
01:45:18,350 --> 01:45:20,829
example

1773
01:45:23,130 --> 01:45:31,840
if I'd go into this and make my voxels

1774
01:45:28,770 --> 01:45:34,300
you know twice as dense in each

1775
01:45:31,840 --> 01:45:39,699
direction I want the scheme to still

1776
01:45:34,300 --> 01:45:42,010
work right and you know it doesn't right

1777
01:45:39,699 --> 01:45:46,750
because now the the samples are too

1778
01:45:42,010 --> 01:45:49,720
isolated so they don't blur with each

1779
01:45:46,750 --> 01:45:53,170
other properly and so what we're gonna

1780
01:45:49,720 --> 01:45:55,420
have to do is we're gonna and this is

1781
01:45:53,170 --> 01:45:57,670
what we should be doing anyway is when

1782
01:45:55,420 --> 01:45:59,980
you look at how we're subdividing up our

1783
01:45:57,670 --> 01:46:02,500
lighting samples what we want to do is

1784
01:45:59,979 --> 01:46:06,609
probably subdivide the lighting samples

1785
01:46:02,500 --> 01:46:09,520
based on voxel boundaries more so

1786
01:46:06,609 --> 01:46:12,009
instead of just blindly subdividing here

1787
01:46:09,520 --> 01:46:13,360
when we maybe don't even need to we

1788
01:46:12,010 --> 01:46:15,190
would want to do something where we look

1789
01:46:13,359 --> 01:46:17,170
at where the voxel boundaries are and

1790
01:46:15,189 --> 01:46:19,449
make sure that we've got lighting

1791
01:46:17,170 --> 01:46:22,359
samples spaced nicely throughout those

1792
01:46:19,449 --> 01:46:25,139
voxel boundaries so that they blend well

1793
01:46:22,359 --> 01:46:25,139
right

1794
01:46:31,390 --> 01:46:35,360
so what I would assume and we could take

1795
01:46:33,979 --> 01:46:37,369
a look but what I would assume is

1796
01:46:35,359 --> 01:46:39,409
there's actually a voxel boundary here

1797
01:46:37,369 --> 01:46:41,420
that's not interpolating properly or

1798
01:46:39,409 --> 01:46:44,059
something like this that is more the

1799
01:46:41,420 --> 01:46:46,100
cause of that then any than anything

1800
01:46:44,060 --> 01:46:49,789
with the actual lighting solution itself

1801
01:46:46,100 --> 01:46:53,230
I don't know if that makes sense but I

1802
01:46:49,789 --> 01:46:53,229
believe that's what's actually happening

1803
01:46:57,369 --> 01:47:01,760
is there a good tutorial for using

1804
01:46:59,300 --> 01:47:03,260
modern OpenGL in CAD like applications

1805
01:47:01,760 --> 01:47:06,920
where you need to draw many sharp and

1806
01:47:03,260 --> 01:47:09,909
precise lines and filled planes mostly

1807
01:47:06,920 --> 01:47:09,909
in 2d

1808
01:47:22,510 --> 01:47:37,480
I don't think so yeah I mean I've

1809
01:47:35,679 --> 01:47:38,769
pointed to this on the stream before and

1810
01:47:37,479 --> 01:47:41,129
I do think it's a good place to start

1811
01:47:38,769 --> 01:47:41,130
but

1812
01:48:07,750 --> 01:48:14,199
I've referenced this paper before on the

1813
01:48:10,869 --> 01:48:17,590
stream and it's probably a good place to

1814
01:48:14,199 --> 01:48:19,329
get started right what it is is just a

1815
01:48:17,590 --> 01:48:21,279
collection of shaders that show you how

1816
01:48:19,329 --> 01:48:25,769
to draw shapes that you might want to

1817
01:48:21,279 --> 01:48:28,529
draw right in a modern context with nice

1818
01:48:25,770 --> 01:48:32,800
quality filtering built into the shader

1819
01:48:28,529 --> 01:48:40,420
and I don't know if that's the kind of

1820
01:48:32,800 --> 01:48:42,900
thing you're looking for but you know if

1821
01:48:40,420 --> 01:48:44,980
you zoom in here you can kind of see

1822
01:48:42,899 --> 01:48:47,229
that these are all kind of a little bit

1823
01:48:44,979 --> 01:48:49,029
anti-aliased and everything and you know

1824
01:48:47,229 --> 01:48:51,099
that might be a good place for you to

1825
01:48:49,029 --> 01:48:54,699
start in terms of figuring out like oh

1826
01:48:51,100 --> 01:48:56,920
here are some ways that I can try to

1827
01:48:54,699 --> 01:49:06,369
improve the drawing quality of my

1828
01:48:56,920 --> 01:49:09,930
program using modern stuff but I don't

1829
01:49:06,369 --> 01:49:09,930
know that might not be what you mean but

1830
01:49:13,029 --> 01:49:16,809
has anyone tried to give you an actual

1831
01:49:15,279 --> 01:49:19,869
3d model of a cartoon spruce by now

1832
01:49:16,810 --> 01:49:25,780
uh-huh no but we don't use any 3d models

1833
01:49:19,869 --> 01:49:26,890
in the game anyway so I remember you

1834
01:49:25,779 --> 01:49:28,329
mentioning you didn't go to college how

1835
01:49:26,890 --> 01:49:29,920
did you learn see I'm actually there in

1836
01:49:28,329 --> 01:49:32,559
C long before I would have been able to

1837
01:49:29,920 --> 01:49:37,090
go to college anyway I was little when I

1838
01:49:32,560 --> 01:49:37,750
learned C I don't really remember how I

1839
01:49:37,090 --> 01:49:41,350
learned it

1840
01:49:37,750 --> 01:49:46,689
my dad taught me basic on the deck

1841
01:49:41,350 --> 01:49:50,260
rainbow and I think he may have taught

1842
01:49:46,689 --> 01:49:54,009
me Pascal after that or sori just gave

1843
01:49:50,260 --> 01:49:56,140
me like books on it or whatever so I

1844
01:49:54,010 --> 01:49:58,119
don't really remember but see I learned

1845
01:49:56,140 --> 01:50:01,660
I think mostly on my own probably out of

1846
01:49:58,119 --> 01:50:05,199
the Kernighan and Ritchie book because

1847
01:50:01,659 --> 01:50:07,449
once you kind of know like Pascal or

1848
01:50:05,199 --> 01:50:10,720
another language like that I mean any of

1849
01:50:07,449 --> 01:50:14,529
the languages c-sharp Java any of like

1850
01:50:10,720 --> 01:50:19,539
the C family of languages Pascal is sort

1851
01:50:14,529 --> 01:50:23,079
of really a close neighbor as well it's

1852
01:50:19,539 --> 01:50:26,909
really not hard to pick it up but I I

1853
01:50:23,079 --> 01:50:26,909
knew Pascal before I learned C

1854
01:50:29,479 --> 01:50:34,968
and how much time did you learn Game Dev

1855
01:50:32,289 --> 01:50:38,380
well I've been programming the first

1856
01:50:34,969 --> 01:50:41,659
program I wrote when I was 7 was a game

1857
01:50:38,380 --> 01:50:44,060
it was like a really crappy like basic

1858
01:50:41,659 --> 01:50:47,269
printf like it wasn't printed just print

1859
01:50:44,060 --> 01:50:52,250
and basic where you I think you could

1860
01:50:47,270 --> 01:50:55,640
enter a number and it did something and

1861
01:50:52,250 --> 01:50:58,399
so I've been programming games I'm 41

1862
01:50:55,640 --> 01:51:01,039
now so I've been programming games for

1863
01:50:58,399 --> 01:51:06,019
what is that 38 years

1864
01:51:01,039 --> 01:51:10,550
no sorry 30 so it's three before so 34

1865
01:51:06,020 --> 01:51:18,860
years and I still don't really know game

1866
01:51:10,550 --> 01:51:20,420
development I I'm constantly like I mean

1867
01:51:18,859 --> 01:51:25,609
you see what we do with the lighting

1868
01:51:20,420 --> 01:51:27,710
right that's game development like like

1869
01:51:25,609 --> 01:51:29,750
there's so many aspects of game

1870
01:51:27,710 --> 01:51:34,039
development that are just aren't done

1871
01:51:29,750 --> 01:51:35,810
well yet that nobody has learned it yet

1872
01:51:34,039 --> 01:51:39,679
right we're all still figuring it out

1873
01:51:35,810 --> 01:51:44,239
like it's it's really just that much of

1874
01:51:39,679 --> 01:51:52,190
an expansive space that I feel like I'm

1875
01:51:44,238 --> 01:51:55,849
constantly learning every day and so I

1876
01:51:52,189 --> 01:51:58,219
don't know the answer is somewhere over

1877
01:51:55,850 --> 01:52:03,650
thirty four years is how long it takes

1878
01:51:58,219 --> 01:52:05,779
to learn game development what's the

1879
01:52:03,649 --> 01:52:12,469
most poops I may have deleted the

1880
01:52:05,779 --> 01:52:14,329
database thing you have seen well

1881
01:52:12,469 --> 01:52:18,739
probably the one that I can remember in

1882
01:52:14,329 --> 01:52:23,630
most recent memory is I went to try to

1883
01:52:18,738 --> 01:52:25,729
risk to to update a backup drive and

1884
01:52:23,630 --> 01:52:28,550
when I plugged in the backup drive

1885
01:52:25,729 --> 01:52:31,189
windows decided spontaneously to

1886
01:52:28,550 --> 01:52:32,929
overwrite the master boot table of both

1887
01:52:31,189 --> 01:52:33,829
the backup drive and the drive I was

1888
01:52:32,929 --> 01:52:37,100
trying to back up

1889
01:52:33,829 --> 01:52:39,109
that's just what disk partition the disk

1890
01:52:37,100 --> 01:52:42,310
management thing decided to do which

1891
01:52:39,109 --> 01:52:42,309
knocked me down to only one

1892
01:52:42,710 --> 01:52:47,840
drive that still had the date on it I'll

1893
01:52:44,689 --> 01:52:50,210
uh I totally lost it I was so freaked

1894
01:52:47,840 --> 01:52:54,760
out but I was able to generate it back

1895
01:52:50,210 --> 01:52:54,760
from that but that was terrifying

1896
01:53:01,390 --> 01:53:07,780
anonymous to C++ 17 bring anything you

1897
01:53:04,119 --> 01:53:12,460
like not know I mean C++ is a way lost

1898
01:53:07,779 --> 01:53:14,229
cause forget about C++ right like it's

1899
01:53:12,460 --> 01:53:15,550
good to learn to program C I think

1900
01:53:14,229 --> 01:53:17,729
everyone should probably learn to

1901
01:53:15,550 --> 01:53:20,020
program and C in assembly language

1902
01:53:17,729 --> 01:53:23,409
because they teach you how to program

1903
01:53:20,020 --> 01:53:24,850
actual programs not things that are high

1904
01:53:23,409 --> 01:53:27,239
level constructs that maybe someday

1905
01:53:24,850 --> 01:53:30,730
eventually make a CPU do something right

1906
01:53:27,239 --> 01:53:32,500
but C++ is a waste of time I mean it

1907
01:53:30,729 --> 01:53:35,169
just it's it is it's a it's a lousy

1908
01:53:32,500 --> 01:53:39,609
language it's poorly designed everything

1909
01:53:35,170 --> 01:53:44,590
in it is broken it will not last like

1910
01:53:39,609 --> 01:53:46,239
C++ will not be the thing that games are

1911
01:53:44,590 --> 01:53:48,550
programmed in in the future there will

1912
01:53:46,239 --> 01:53:51,429
be a replacement language it will

1913
01:53:48,550 --> 01:53:54,400
probably retain a bunch of C thing like

1914
01:53:51,430 --> 01:53:57,430
things but I strongly suspect that if

1915
01:53:54,399 --> 01:53:59,139
all of the things that C++ does will be

1916
01:53:57,430 --> 01:54:01,110
jettisoned and they'll be replaced by

1917
01:53:59,140 --> 01:54:03,130
much better constructs that are sane and

1918
01:54:01,109 --> 01:54:04,799
designed by people who knew what they

1919
01:54:03,130 --> 01:54:07,900
were doing

1920
01:54:04,800 --> 01:54:09,579
so nocebo suppose 17 well I haven't read

1921
01:54:07,899 --> 01:54:11,979
up on much of it yet I'm sure it's an

1922
01:54:09,579 --> 01:54:14,559
epic disaster because literally every

1923
01:54:11,979 --> 01:54:16,059
time the C++ community tries to do

1924
01:54:14,560 --> 01:54:17,620
something they designed the worst

1925
01:54:16,060 --> 01:54:19,630
possible version of that thing and I do

1926
01:54:17,619 --> 01:54:23,710
not know how they are so consistently

1927
01:54:19,630 --> 01:54:24,670
that bad I really don't I think that's

1928
01:54:23,710 --> 01:54:27,310
just probably designed by committee

1929
01:54:24,670 --> 01:54:29,590
because you know that not everyone there

1930
01:54:27,310 --> 01:54:32,320
is an idiot I mean it that just can't be

1931
01:54:29,590 --> 01:54:36,010
true so it's like something about the

1932
01:54:32,319 --> 01:54:39,159
process or the tone of C++ just makes it

1933
01:54:36,010 --> 01:54:41,350
so that somehow they constantly make the

1934
01:54:39,159 --> 01:54:43,809
worst language decisions you can make I

1935
01:54:41,350 --> 01:54:45,100
don't know how I really don't you think

1936
01:54:43,810 --> 01:54:49,780
eventually they accidentally do

1937
01:54:45,100 --> 01:54:52,320
something right but they never do so I

1938
01:54:49,779 --> 01:54:52,319
don't know it's a

1939
01:54:56,850 --> 01:55:00,550
sneaky blahblah what's your favorite

1940
01:54:58,899 --> 01:55:04,448
game from your youth mule on the Atari

1941
01:55:00,550 --> 01:55:06,550
8-bit for me 100% agreed mule is

1942
01:55:04,448 --> 01:55:09,460
probably my favorite game from my youth

1943
01:55:06,550 --> 01:55:13,060
I it's probably one of the best games

1944
01:55:09,460 --> 01:55:15,579
ever made and certainly one of the very

1945
01:55:13,060 --> 01:55:17,350
few games from that era that you can

1946
01:55:15,579 --> 01:55:21,760
boot up right now and have a great time

1947
01:55:17,350 --> 01:55:23,620
with a lot of the other games i remember

1948
01:55:21,760 --> 01:55:24,880
playing as a child if i when i went back

1949
01:55:23,619 --> 01:55:27,929
to play them now they're just not very

1950
01:55:24,880 --> 01:55:30,310
good they were good for the time and

1951
01:55:27,929 --> 01:55:31,840
they were good for what we had and what

1952
01:55:30,310 --> 01:55:34,390
the machines could do and whatever but

1953
01:55:31,840 --> 01:55:36,069
mule was actually a legitimately great

1954
01:55:34,390 --> 01:55:37,360
game and one of the only ones from that

1955
01:55:36,069 --> 01:55:40,149
time period that really you can look

1956
01:55:37,359 --> 01:55:45,189
back on and go this design still is

1957
01:55:40,149 --> 01:55:46,899
fantastic look at this little been

1958
01:55:45,189 --> 01:55:48,339
coding games for scratches visual studio

1959
01:55:46,899 --> 01:55:52,448
and your opinion a good start thanks

1960
01:55:48,340 --> 01:55:53,770
yeah visual studio is fine I don't love

1961
01:55:52,448 --> 01:55:55,779
the editor so I use an external editor

1962
01:55:53,770 --> 01:55:58,120
but you know I use the compiler from

1963
01:55:55,779 --> 01:56:01,059
visual studio and it's fine the debugger

1964
01:55:58,119 --> 01:56:03,250
is decent there aren't really very many

1965
01:56:01,060 --> 01:56:05,410
good debuggers for windows so it's like

1966
01:56:03,250 --> 01:56:09,100
you know it's one of the better ones for

1967
01:56:05,409 --> 01:56:10,869
Windows the community editions available

1968
01:56:09,100 --> 01:56:14,320
for free so you can use it so that's

1969
01:56:10,869 --> 01:56:18,149
good if you're on Linux obviously LLVM

1970
01:56:14,319 --> 01:56:22,840
and clang right it's a good way to go

1971
01:56:18,149 --> 01:56:24,460
gdb is kind of but but it works and for

1972
01:56:22,840 --> 01:56:27,190
your editor well I don't know you know

1973
01:56:24,460 --> 01:56:29,109
there's lots of editors you can use like

1974
01:56:27,189 --> 01:56:34,359
QT creator it's an integrated idea as

1975
01:56:29,109 --> 01:56:38,259
well if you want did you have any input

1976
01:56:34,359 --> 01:56:42,339
on jii well John will often bring up

1977
01:56:38,260 --> 01:56:47,380
programming things related to ji with me

1978
01:56:42,340 --> 01:56:49,179
and discussed them when he wants to talk

1979
01:56:47,380 --> 01:56:52,569
through like an issue or something he's

1980
01:56:49,179 --> 01:56:54,819
trying to design so in that sense I

1981
01:56:52,569 --> 01:56:56,710
suppose I have some input on it but it's

1982
01:56:54,819 --> 01:56:58,689
really just that it's really most mostly

1983
01:56:56,710 --> 01:57:00,880
like as a sounding board for John is the

1984
01:56:58,689 --> 01:57:02,649
the extent to which I've had input on J

1985
01:57:00,880 --> 01:57:04,989
I don't participate in the design of it

1986
01:57:02,649 --> 01:57:06,789
really at all or and think that but

1987
01:57:04,988 --> 01:57:10,178
occasionally and this is true of a lot

1988
01:57:06,789 --> 01:57:13,328
of people John knows you know

1989
01:57:10,179 --> 01:57:14,859
he will just be like working on some

1990
01:57:13,328 --> 01:57:17,259
part of it he's not really sure exactly

1991
01:57:14,859 --> 01:57:19,208
what he thinks the right solution is so

1992
01:57:17,260 --> 01:57:20,170
he'll talk it out be like let's talk

1993
01:57:19,208 --> 01:57:22,359
about this you know how do you normally

1994
01:57:20,170 --> 01:57:24,658
do this when you're programming or what

1995
01:57:22,359 --> 01:57:27,219
do you think about this solution right

1996
01:57:24,658 --> 01:57:29,379
and so I've definitely done that several

1997
01:57:27,219 --> 01:57:32,590
times over the course of his work on J I

1998
01:57:29,380 --> 01:57:34,929
but but that's but that's all so it's I

1999
01:57:32,590 --> 01:57:38,288
would say it's less input and more just

2000
01:57:34,929 --> 01:57:41,408
as a sounding board for John which a lot

2001
01:57:38,288 --> 01:57:45,368
of programmers that he knows have you

2002
01:57:41,408 --> 01:57:51,279
know he does that to kind of get you

2003
01:57:45,368 --> 01:57:54,130
know some some additional perspective on

2004
01:57:51,279 --> 01:57:56,469
issues that he's not you know sure what

2005
01:57:54,130 --> 01:57:59,139
he thinks is the exact right solution

2006
01:57:56,469 --> 01:58:00,519
yet you know if he already knows exactly

2007
01:57:59,139 --> 01:58:02,078
what he thinks it should be then you

2008
01:58:00,519 --> 01:58:03,760
know yeah I think he just does that but

2009
01:58:02,078 --> 01:58:06,308
you know cases where he feels like it's

2010
01:58:03,760 --> 01:58:08,498
a little more ambiguous he'll kind of go

2011
01:58:06,309 --> 01:58:11,320
try to feel out what other people might

2012
01:58:08,498 --> 01:58:12,880
do in general and then he'll go back and

2013
01:58:11,319 --> 01:58:17,458
think about what language decisions

2014
01:58:12,880 --> 01:58:17,458
would you know comport with that nicely

2015
01:58:23,819 --> 01:58:28,329
every language in mind replaceable s not

2016
01:58:26,739 --> 01:58:31,359
particularly

2017
01:58:28,329 --> 01:58:33,640
you know ji is a great initiative that

2018
01:58:31,359 --> 01:58:38,409
John's doing and I'm excited to see what

2019
01:58:33,640 --> 01:58:39,640
ends up happening with it I think it's

2020
01:58:38,409 --> 01:58:42,579
the kind of thing that I will probably

2021
01:58:39,640 --> 01:58:44,200
work on in the future as well we already

2022
01:58:42,579 --> 01:58:45,850
have an internal language at Mali rocket

2023
01:58:44,199 --> 01:58:48,760
for stuff and I would probably consider

2024
01:58:45,850 --> 01:58:52,750
building that out more after our first

2025
01:58:48,760 --> 01:58:54,489
game you know at the very least I can

2026
01:58:52,750 --> 01:58:56,199
tell you I will not be programming C++

2027
01:58:54,489 --> 01:58:57,729
for very long like I am actively

2028
01:58:56,199 --> 01:58:59,170
programming less and less of it every

2029
01:58:57,729 --> 01:59:02,859
day and moving things over to different

2030
01:58:59,170 --> 01:59:04,779
ways of doing things and you know

2031
01:59:02,859 --> 01:59:06,849
because it's a it's a bum language it's

2032
01:59:04,779 --> 01:59:11,050
bad it's holding the industry back and

2033
01:59:06,850 --> 01:59:12,910
it's lousy and you know unfortunately

2034
01:59:11,050 --> 01:59:14,230
it's hard for us as an industry to

2035
01:59:12,909 --> 01:59:15,849
switch to other languages because most

2036
01:59:14,229 --> 01:59:18,399
other languages don't have performance

2037
01:59:15,850 --> 01:59:20,100
as a concern and don't allow access to

2038
01:59:18,399 --> 01:59:22,329
the kinds of things we need access to

2039
01:59:20,100 --> 01:59:25,150
you know you can't write a game in

2040
01:59:22,329 --> 01:59:28,769
Python unless you have a game engine

2041
01:59:25,149 --> 01:59:30,939
written in C underneath it right and

2042
01:59:28,770 --> 01:59:36,040
that's just because those foreigners

2043
01:59:30,939 --> 01:59:37,269
don't prioritize you know the important

2044
01:59:36,039 --> 01:59:39,930
things like direct memory management

2045
01:59:37,270 --> 01:59:43,870
really good ways of generating concise

2046
01:59:39,930 --> 01:59:45,130
performant code from you know kind of

2047
01:59:43,869 --> 01:59:47,710
just slightly above the assembly

2048
01:59:45,130 --> 01:59:49,539
language level things like that those

2049
01:59:47,710 --> 01:59:52,810
are never those languages priorities and

2050
01:59:49,539 --> 01:59:54,579
so only a few languages are really

2051
01:59:52,810 --> 01:59:56,970
capable of taking up the mantle of

2052
01:59:54,579 --> 02:00:01,359
high-performance programming like that

2053
01:59:56,970 --> 02:00:03,699
jei is targeting there but so maybe is

2054
02:00:01,359 --> 02:00:05,799
rust I think potentially targeting there

2055
02:00:03,699 --> 02:00:07,329
there's only a few language that are

2056
02:00:05,800 --> 02:00:08,470
doing it so a lot of the language is

2057
02:00:07,329 --> 02:00:10,180
that other people can switch for for

2058
02:00:08,470 --> 02:00:15,220
other purposes where performance is less

2059
02:00:10,180 --> 02:00:17,020
of a concern for them we just don't have

2060
02:00:15,220 --> 02:00:19,180
the option so that we've been saddled

2061
02:00:17,020 --> 02:00:20,920
with C++ for a long time because of that

2062
02:00:19,180 --> 02:00:22,720
and typically what we have to do in

2063
02:00:20,920 --> 02:00:26,279
games is write most of the important

2064
02:00:22,720 --> 02:00:29,470
stuff in C you're in C++ and then the

2065
02:00:26,279 --> 02:00:32,590
like less important code like scripts

2066
02:00:29,470 --> 02:00:34,150
can be written in other languages like

2067
02:00:32,590 --> 02:00:37,179
Java or Python or whatever

2068
02:00:34,149 --> 02:00:40,238
right if you want to if you feel like

2069
02:00:37,179 --> 02:00:42,609
those languages are an improvement but I

2070
02:00:40,238 --> 02:00:44,709
think that can change in the future like

2071
02:00:42,609 --> 02:00:45,939
I think if we just have a little bit

2072
02:00:44,710 --> 02:00:48,550
more of a concerted effort I think we

2073
02:00:45,939 --> 02:00:51,819
can make a new language for games that

2074
02:00:48,550 --> 02:00:54,909
would retain all of the low-level access

2075
02:00:51,819 --> 02:00:57,369
that C provides and good memory direct

2076
02:00:54,908 --> 02:00:59,319
memory management things like that but

2077
02:00:57,369 --> 02:01:00,729
that starts to layer on high the kinds

2078
02:00:59,319 --> 02:01:03,250
of high level constructs we'd like to

2079
02:01:00,729 --> 02:01:05,529
have without sacrificing that ability

2080
02:01:03,250 --> 02:01:11,819
right because that's what it's all about

2081
02:01:05,529 --> 02:01:15,158
it's basically like getting getting that

2082
02:01:11,819 --> 02:01:17,559
ability to high-level extend things and

2083
02:01:15,158 --> 02:01:19,719
mix things and edit things at a higher

2084
02:01:17,560 --> 02:01:22,539
level while still be able to drill down

2085
02:01:19,719 --> 02:01:26,460
to the real minutiae that's the key and

2086
02:01:22,539 --> 02:01:28,539
I think we can get there eventually I

2087
02:01:26,460 --> 02:01:32,408
don't have any experience with the cocoa

2088
02:01:28,539 --> 02:01:33,609
API I see you switch to for coder from

2089
02:01:32,408 --> 02:01:34,509
you max how do you like for code or

2090
02:01:33,609 --> 02:01:38,109
compared to you max I

2091
02:01:34,510 --> 02:01:39,789
it's basically for coder has a few

2092
02:01:38,109 --> 02:01:41,679
features from Emacs that it hasn't

2093
02:01:39,789 --> 02:01:45,908
implemented yet like keyboard macro

2094
02:01:41,679 --> 02:01:48,039
macro recording that I miss also jump to

2095
02:01:45,908 --> 02:01:51,009
function with autocomplete I missed

2096
02:01:48,039 --> 02:01:53,769
those two everything else it now does

2097
02:01:51,010 --> 02:01:56,199
and it does it so much better than Emacs

2098
02:01:53,770 --> 02:01:58,330
that when I have gone back to Emacs to

2099
02:01:56,198 --> 02:02:00,539
use a keyboard macro to do an edit that

2100
02:01:58,329 --> 02:02:03,279
was that I needed that for or something

2101
02:02:00,539 --> 02:02:05,649
it is so painful switching back to Emacs

2102
02:02:03,279 --> 02:02:09,149
now so for coder basically just like

2103
02:02:05,649 --> 02:02:13,029
flattened Emacs it's it's not even a

2104
02:02:09,149 --> 02:02:14,920
remotely close competition anymore for

2105
02:02:13,029 --> 02:02:17,050
coder is lightyears ahead of you max and

2106
02:02:14,920 --> 02:02:19,719
the only thing that holds for coder

2107
02:02:17,050 --> 02:02:21,909
backed by relation at all is a few

2108
02:02:19,719 --> 02:02:23,890
features that it doesn't quite have yet

2109
02:02:21,908 --> 02:02:26,289
but they are features that's on Allen's

2110
02:02:23,890 --> 02:02:32,130
roadmap so by the time he gets to those

2111
02:02:26,289 --> 02:02:32,130
I think Emacs is a complete non-issue Oh

2112
02:02:34,198 --> 02:02:37,750
anonymous do you agree with those who

2113
02:02:35,920 --> 02:02:38,920
say source code is text or do you think

2114
02:02:37,750 --> 02:02:40,630
we should push for more structure where

2115
02:02:38,920 --> 02:02:42,279
and centers and tools source code is

2116
02:02:40,630 --> 02:02:43,960
definitely not text it's a holdover from

2117
02:02:42,279 --> 02:02:44,380
the old days and it definitely holds us

2118
02:02:43,960 --> 02:02:47,920
back

2119
02:02:44,380 --> 02:02:50,739
Kri NSA B what will come next afterward

2120
02:02:47,920 --> 02:02:52,210
deflating probably some gameplay stuff

2121
02:02:50,738 --> 02:02:54,399
I'd like to get it more into game

2122
02:02:52,210 --> 02:02:57,429
situations so probably try to get art in

2123
02:02:54,399 --> 02:03:01,210
there upgrade our art path and get art

2124
02:02:57,429 --> 02:03:05,079
in there and make the game like easy to

2125
02:03:01,210 --> 02:03:07,000
move around and get controls good so

2126
02:03:05,079 --> 02:03:09,579
ever gonna be a hand made compiler no

2127
02:03:07,000 --> 02:03:10,659
I'm not really a compiler expert so I

2128
02:03:09,579 --> 02:03:13,779
don't know that I would ever make a

2129
02:03:10,659 --> 02:03:17,130
handmade compiler John said he would do

2130
02:03:13,779 --> 02:03:19,090
something like that but he has not yet

2131
02:03:17,130 --> 02:03:22,150
probably because he's too busy making

2132
02:03:19,090 --> 02:03:23,529
his own actual compiler so he hasn't

2133
02:03:22,149 --> 02:03:25,059
wanted to probably do a tutorial stream

2134
02:03:23,529 --> 02:03:31,000
of making a simple compiler you can

2135
02:03:25,060 --> 02:03:38,739
understand that all right I think that's

2136
02:03:31,000 --> 02:03:45,310
all the cue Colin's alrighty let's close

2137
02:03:38,738 --> 02:03:46,869
this down thank you everyone for joining

2138
02:03:45,310 --> 02:03:48,730
me for this sort of handmade here it's a

2139
02:03:46,869 --> 02:03:52,149
pleasure coding with you as always if

2140
02:03:48,729 --> 02:03:53,948
you would like to follow along with

2141
02:03:52,149 --> 02:03:55,329
series at home you can always pee order

2142
02:03:53,948 --> 02:03:57,279
the game and it comes with the source

2143
02:03:55,329 --> 02:04:02,738
code so you can do your own

2144
02:03:57,279 --> 02:04:04,479
experimentation with it we also have a

2145
02:04:02,738 --> 02:04:07,149
forum site you can go to ask questions a

2146
02:04:04,479 --> 02:04:11,919
new replacement for patreon because

2147
02:04:07,149 --> 02:04:14,259
patreon imploded we now have our own way

2148
02:04:11,920 --> 02:04:16,090
of making pledges that can be used to

2149
02:04:14,260 --> 02:04:18,579
support community projects like the

2150
02:04:16,090 --> 02:04:20,619
annotated episode guide and the forums

2151
02:04:18,579 --> 02:04:22,510
and stuff that are maintained by

2152
02:04:20,619 --> 02:04:25,840
community members on a mostly volunteer

2153
02:04:22,510 --> 02:04:28,239
basis we try to get the money for their

2154
02:04:25,840 --> 02:04:30,730
efforts so you can contribute now using

2155
02:04:28,238 --> 02:04:32,468
not patreon using just basic sundial

2156
02:04:30,729 --> 02:04:35,439
subscription which is kind of nice and a

2157
02:04:32,469 --> 02:04:36,310
lot cleaner actually we have a schedule

2158
02:04:35,439 --> 02:04:40,259
bot that tells you when we're going to

2159
02:04:36,310 --> 02:04:42,789
be live and an episode guide where we

2160
02:04:40,260 --> 02:04:44,650
sort of have this fantastic annotated

2161
02:04:42,789 --> 02:04:46,560
thing that may blow is done where you

2162
02:04:44,649 --> 02:04:49,359
can kind of go through and search for

2163
02:04:46,560 --> 02:04:50,710
topics you want to learn more about and

2164
02:04:49,359 --> 02:04:52,869
it'll jump you right to the episodes

2165
02:04:50,710 --> 02:04:55,179
where those things occur so definitely

2166
02:04:52,869 --> 02:04:56,769
check all that out the contribution page

2167
02:04:55,179 --> 02:04:58,840
is is something I put up just this

2168
02:04:56,770 --> 02:05:00,520
weekend so it's still kind of in beta if

2169
02:04:58,840 --> 02:05:01,960
you have any trouble with it please let

2170
02:05:00,520 --> 02:05:03,940
me know so I can fix it

2171
02:05:01,960 --> 02:05:06,430
and make it smoother for people again

2172
02:05:03,939 --> 02:05:08,649
it's a replacement for patreon so that

2173
02:05:06,430 --> 02:05:11,650
people don't have to use patreon anymore

2174
02:05:08,649 --> 02:05:16,119
since the consensus was that it had kind

2175
02:05:11,649 --> 02:05:17,920
of imploded all right that's it I will

2176
02:05:16,119 --> 02:05:21,430
be back next week for some more lighting

2177
02:05:17,920 --> 02:05:24,250
coding until then everyone thanks for

2178
02:05:21,430 --> 02:05:24,730
joining me and I will see y'all on the

2179
02:05:24,250 --> 02:05:27,479
Internet

2180
02:05:24,729 --> 02:05:27,479
take it easy everybody

