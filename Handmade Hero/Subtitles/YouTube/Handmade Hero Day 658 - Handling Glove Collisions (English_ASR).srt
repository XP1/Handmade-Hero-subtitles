1
00:00:00,560 --> 00:00:06,640
all right hello everybody and welcome to

2
00:00:02,720 --> 00:00:08,480
handmade hero today we are probably just

3
00:00:06,639 --> 00:00:10,960
going to do

4
00:00:08,480 --> 00:00:13,839
some experiments with collision

5
00:00:10,960 --> 00:00:17,440
uh we need to

6
00:00:13,839 --> 00:00:19,118
basically like we have uh we need to we

7
00:00:17,440 --> 00:00:20,880
did all weird stuff with the glove like

8
00:00:19,118 --> 00:00:22,719
you can see here a strange test case we

9
00:00:20,879 --> 00:00:24,239
made where you can put in patterns for

10
00:00:22,719 --> 00:00:26,479
the glove that have like

11
00:00:24,239 --> 00:00:27,358
different speeds depending on where they

12
00:00:26,480 --> 00:00:30,240
go

13
00:00:27,359 --> 00:00:33,520
um

14
00:00:30,239 --> 00:00:35,039
and uh that like we don't really know if

15
00:00:33,520 --> 00:00:37,040
this is something we're actually going

16
00:00:35,039 --> 00:00:38,960
to use but we were just playing around

17
00:00:37,039 --> 00:00:40,320
with like move cues and how they might

18
00:00:38,960 --> 00:00:41,520
work

19
00:00:40,320 --> 00:00:43,200
um

20
00:00:41,520 --> 00:00:44,879
this stuff's a little bit janky but we

21
00:00:43,200 --> 00:00:47,520
only just sort of started playing around

22
00:00:44,878 --> 00:00:48,799
with it uh and furthermore we don't have

23
00:00:47,520 --> 00:00:51,120
a few things in there that we need to

24
00:00:48,799 --> 00:00:53,599
have in there like for example when you

25
00:00:51,119 --> 00:00:55,038
do one of these crazy glove patterns the

26
00:00:53,600 --> 00:00:57,120
amount of time it takes the glove to

27
00:00:55,039 --> 00:01:00,079
return to you is always the same right

28
00:00:57,119 --> 00:01:02,000
now and i would assume that we

29
00:01:00,079 --> 00:01:03,520
while we may want something weird like

30
00:01:02,000 --> 00:01:04,640
that because you want it to feel a

31
00:01:03,520 --> 00:01:06,880
certain way

32
00:01:04,640 --> 00:01:08,079
um as we start to actually tune the

33
00:01:06,879 --> 00:01:09,759
motion of things like the glove i'm

34
00:01:08,079 --> 00:01:12,640
assuming we would want the return time

35
00:01:09,760 --> 00:01:14,478
to be at least somewhat proportional to

36
00:01:12,640 --> 00:01:16,159
how far away you are

37
00:01:14,478 --> 00:01:17,679
so that the glove takes longer to return

38
00:01:16,159 --> 00:01:20,479
if it's further away

39
00:01:17,680 --> 00:01:22,320
maybe we don't but i assume we do

40
00:01:20,478 --> 00:01:23,759
um

41
00:01:22,319 --> 00:01:25,679
so

42
00:01:23,759 --> 00:01:27,599
what i wanted to do today was make it so

43
00:01:25,680 --> 00:01:29,439
that we figure out how we want or at

44
00:01:27,599 --> 00:01:31,199
least get some

45
00:01:29,438 --> 00:01:34,879
semblance of a plan

46
00:01:31,200 --> 00:01:37,200
for how we want to do uh like the

47
00:01:34,879 --> 00:01:39,280
collision so you know we've got this

48
00:01:37,200 --> 00:01:40,320
situation here and we'd like to do we'd

49
00:01:39,280 --> 00:01:42,079
like to start making it so you can

50
00:01:40,319 --> 00:01:45,118
eliminate enemies

51
00:01:42,078 --> 00:01:45,118
when uh you

52
00:01:45,840 --> 00:01:50,000
when you hit an enemy we would like it

53
00:01:48,000 --> 00:01:52,239
to do like a point of damage or apply

54
00:01:50,000 --> 00:01:55,359
whatever random effects we want

55
00:01:52,239 --> 00:01:58,000
and because we want this to feel uh like

56
00:01:55,359 --> 00:02:00,959
tile based basically like we want it to

57
00:01:58,000 --> 00:02:02,718
feel like um

58
00:02:00,959 --> 00:02:04,798
we want it to feel like it's happening

59
00:02:02,718 --> 00:02:08,560
on the grid we need to figure out what

60
00:02:04,799 --> 00:02:12,080
we want our definition of hit to be uh

61
00:02:08,560 --> 00:02:13,598
it probably still just wants to be

62
00:02:12,080 --> 00:02:14,719
when the

63
00:02:13,598 --> 00:02:17,759
boxes

64
00:02:14,719 --> 00:02:20,318
of the two things touch

65
00:02:17,759 --> 00:02:22,560
but i don't know like it's hard to say

66
00:02:20,318 --> 00:02:24,639
so you know we we can do it in a lot of

67
00:02:22,560 --> 00:02:26,719
different ways but i don't know which

68
00:02:24,639 --> 00:02:29,199
way we actually want to do

69
00:02:26,719 --> 00:02:32,719
we could make it so that it's when the

70
00:02:29,199 --> 00:02:34,318
glove arrives at the square is actually

71
00:02:32,719 --> 00:02:35,199
the um

72
00:02:34,318 --> 00:02:37,439
like

73
00:02:35,199 --> 00:02:38,560
you know the the punt like just the

74
00:02:37,439 --> 00:02:39,519
punch

75
00:02:38,560 --> 00:02:40,800
uh

76
00:02:39,519 --> 00:02:42,560
that's when it does the damage so

77
00:02:40,800 --> 00:02:44,080
whenever it arrives at the squares when

78
00:02:42,560 --> 00:02:46,640
it does the damage

79
00:02:44,080 --> 00:02:48,319
we could also do when the two bounding

80
00:02:46,639 --> 00:02:51,439
boxes overlap is when it does the damage

81
00:02:48,318 --> 00:02:53,439
and i and i don't really know um

82
00:02:51,439 --> 00:02:55,519
i guess we'll just start with the when

83
00:02:53,439 --> 00:02:58,000
the glove arrives at the square is when

84
00:02:55,519 --> 00:02:59,759
it does damage so so if

85
00:02:58,000 --> 00:03:01,759
if somebody's leaving a square and the

86
00:02:59,759 --> 00:03:02,878
glove arrives at that square it does not

87
00:03:01,759 --> 00:03:05,199
count

88
00:03:02,878 --> 00:03:08,000
um

89
00:03:05,199 --> 00:03:12,158
i guess i don't know i'm really not sure

90
00:03:08,000 --> 00:03:12,158
how we want to do it i suspect we don't

91
00:03:13,280 --> 00:03:15,759
there's just so many ways you could do

92
00:03:14,560 --> 00:03:17,120
this and i really don't know what you

93
00:03:15,759 --> 00:03:19,679
want so i think we just have to try them

94
00:03:17,120 --> 00:03:22,158
and see what feels good because i i just

95
00:03:19,680 --> 00:03:25,280
have no idea like for example

96
00:03:22,158 --> 00:03:27,679
uh let's suppose that you have somebody

97
00:03:25,280 --> 00:03:29,280
uh who's hopping from one square to the

98
00:03:27,680 --> 00:03:30,080
next square

99
00:03:29,280 --> 00:03:32,400
um

100
00:03:30,080 --> 00:03:34,000
in that scenario when they're hopping

101
00:03:32,400 --> 00:03:35,760
from one square to another and maybe

102
00:03:34,000 --> 00:03:37,120
i'll turn this dude into like a thing

103
00:03:35,759 --> 00:03:38,639
that hops from one square to another for

104
00:03:37,120 --> 00:03:41,120
example just so we can

105
00:03:38,639 --> 00:03:43,598
play around with it

106
00:03:41,120 --> 00:03:45,599
um if you hop from one square to the

107
00:03:43,598 --> 00:03:48,238
next square then

108
00:03:45,598 --> 00:03:51,679
when are you considered in this square

109
00:03:48,239 --> 00:03:53,759
if the rule is that the glove arrives at

110
00:03:51,680 --> 00:03:55,040
the square it does the damage you know

111
00:03:53,759 --> 00:03:58,039
what i mean

112
00:03:55,039 --> 00:03:58,039
um

113
00:04:01,199 --> 00:04:04,000
i just don't know

114
00:04:04,639 --> 00:04:07,919
i don't know

115
00:04:06,080 --> 00:04:10,239
uh

116
00:04:07,919 --> 00:04:11,919
and i feel like that's something that

117
00:04:10,239 --> 00:04:13,438
should have a a

118
00:04:11,919 --> 00:04:15,598
smart answer to it but i don't know what

119
00:04:13,438 --> 00:04:16,560
it is because i don't do game design

120
00:04:15,598 --> 00:04:19,039
so

121
00:04:16,560 --> 00:04:22,079
my guess is that we probably want

122
00:04:19,040 --> 00:04:24,560
something like there's the halfway

123
00:04:22,079 --> 00:04:26,000
transition point when you are considered

124
00:04:24,560 --> 00:04:29,680
in the square

125
00:04:26,000 --> 00:04:32,160
and at the halfway transition point like

126
00:04:29,680 --> 00:04:35,160
that's

127
00:04:32,160 --> 00:04:35,160
when

128
00:04:46,319 --> 00:04:51,839
like something like at the halfway

129
00:04:48,079 --> 00:04:53,599
transition point that's when you

130
00:04:51,839 --> 00:04:56,799
become in that square

131
00:04:53,600 --> 00:04:59,280
and on the halfway exit point so like at

132
00:04:56,800 --> 00:05:01,280
point five on enter and point five on

133
00:04:59,279 --> 00:05:02,399
exit kind of a thing you know what i

134
00:05:01,279 --> 00:05:05,679
mean

135
00:05:02,399 --> 00:05:05,679
so we could do it that way

136
00:05:06,399 --> 00:05:10,879
i think that's just yeah i think that's

137
00:05:08,959 --> 00:05:13,279
probably going to be not what we want

138
00:05:10,879 --> 00:05:15,439
long term i think maybe just if the

139
00:05:13,279 --> 00:05:17,198
bounding boxes overlap is what we're

140
00:05:15,439 --> 00:05:18,399
going to probably want

141
00:05:17,199 --> 00:05:20,319
i'm guessing

142
00:05:18,399 --> 00:05:22,560
um so like you

143
00:05:20,319 --> 00:05:24,959
you know you

144
00:05:22,560 --> 00:05:27,120
you just look at when the old-school

145
00:05:24,959 --> 00:05:31,038
collision like if the two bounding boxes

146
00:05:27,120 --> 00:05:31,038
happen overlap then that's a strike

147
00:05:31,478 --> 00:05:35,560
probably um

148
00:05:39,759 --> 00:05:42,720
and the reason i say that is just

149
00:05:41,120 --> 00:05:44,478
because that's what the player sees

150
00:05:42,720 --> 00:05:46,880
visually right

151
00:05:44,478 --> 00:05:48,719
so it should match what the player sees

152
00:05:46,879 --> 00:05:51,120
visually because that's what they are

153
00:05:48,720 --> 00:05:53,840
going to be most able to time if they

154
00:05:51,120 --> 00:05:56,000
have to time something that's not really

155
00:05:53,839 --> 00:05:57,099
like that like if they have to time

156
00:05:56,000 --> 00:06:00,160
something that's more

157
00:05:57,100 --> 00:06:00,160
[Music]

158
00:06:00,720 --> 00:06:04,800
that's it's more like abstract like what

159
00:06:03,120 --> 00:06:05,759
square you're in like that then i feel

160
00:06:04,800 --> 00:06:07,600
like it's just gonna feel less

161
00:06:05,759 --> 00:06:09,759
satisfying

162
00:06:07,600 --> 00:06:12,080
um so i think we just kind of want the

163
00:06:09,759 --> 00:06:14,960
old-school version of of that where we

164
00:06:12,079 --> 00:06:16,800
basically say look

165
00:06:14,959 --> 00:06:18,799
check for collision against some things

166
00:06:16,800 --> 00:06:21,840
in the nearby area and if you if

167
00:06:18,800 --> 00:06:21,840
anything overlaps

168
00:06:22,160 --> 00:06:26,400
that's just what happens so it's it's

169
00:06:24,399 --> 00:06:29,198
we'll be very akin to something like a

170
00:06:26,399 --> 00:06:31,279
street fighter right so we define like a

171
00:06:29,199 --> 00:06:32,400
hit box

172
00:06:31,279 --> 00:06:33,439
and

173
00:06:32,399 --> 00:06:37,279
we

174
00:06:33,439 --> 00:06:39,199
just say that if hitboxes overlap then

175
00:06:37,279 --> 00:06:41,439
then that's when it's a strike

176
00:06:39,199 --> 00:06:41,439
right

177
00:06:41,680 --> 00:06:46,079
i think that's basically it

178
00:06:44,160 --> 00:06:47,360
uh so let's just do that

179
00:06:46,079 --> 00:06:51,120
and

180
00:06:47,360 --> 00:06:53,280
we'll call it a day um i don't

181
00:06:51,120 --> 00:06:55,680
i don't know why we have a ray intersex

182
00:06:53,279 --> 00:06:55,679
box

183
00:06:55,918 --> 00:07:02,359
call

184
00:06:57,918 --> 00:07:02,359
does anyone know what that is here for

185
00:07:04,879 --> 00:07:09,598
it is here for hit testing

186
00:07:07,420 --> 00:07:11,360
[Music]

187
00:07:09,598 --> 00:07:12,800
okay so it's it's literally just for

188
00:07:11,360 --> 00:07:14,800
debug we probably should have labeled

189
00:07:12,800 --> 00:07:17,759
that debug it looks like it's it's

190
00:07:14,800 --> 00:07:19,199
strictly for um like picking entities

191
00:07:17,759 --> 00:07:20,160
with the mouse

192
00:07:19,199 --> 00:07:21,439
right

193
00:07:20,160 --> 00:07:24,560
because i was like what the heck we

194
00:07:21,439 --> 00:07:26,800
don't use that anywhere um

195
00:07:24,560 --> 00:07:28,160
so it was a little weirded out about why

196
00:07:26,800 --> 00:07:29,759
i was there

197
00:07:28,160 --> 00:07:31,919
um anyway

198
00:07:29,759 --> 00:07:34,479
it doesn't matter point being

199
00:07:31,918 --> 00:07:36,959
uh entities basically all move

200
00:07:34,478 --> 00:07:38,719
and they can all always move because the

201
00:07:36,959 --> 00:07:39,918
only restrictions we have currently on

202
00:07:38,720 --> 00:07:40,800
moving

203
00:07:39,918 --> 00:07:43,598
is

204
00:07:40,800 --> 00:07:44,639
that if you are somebody who's an actual

205
00:07:43,598 --> 00:07:45,680
like

206
00:07:44,639 --> 00:07:47,120
uh

207
00:07:45,680 --> 00:07:49,439
who takes up

208
00:07:47,120 --> 00:07:52,160
physical space

209
00:07:49,439 --> 00:07:54,399
then you had to use transactional occupy

210
00:07:52,160 --> 00:07:56,879
to get there so no two people can occupy

211
00:07:54,399 --> 00:07:59,839
the same square in that sense

212
00:07:56,879 --> 00:08:01,759
but

213
00:07:59,839 --> 00:08:04,079
for anything else for things that are

214
00:08:01,759 --> 00:08:05,759
just moving uh that do not use

215
00:08:04,079 --> 00:08:07,120
transactional occupy they can just move

216
00:08:05,759 --> 00:08:10,479
wherever they want

217
00:08:07,120 --> 00:08:12,720
and so then at the end i suspect we

218
00:08:10,478 --> 00:08:14,318
just at the very end after everything

219
00:08:12,720 --> 00:08:17,280
has moved

220
00:08:14,319 --> 00:08:19,598
uh then we could go in and

221
00:08:17,279 --> 00:08:20,719
do a hit test

222
00:08:19,598 --> 00:08:22,240
uh

223
00:08:20,720 --> 00:08:24,080
you know

224
00:08:22,240 --> 00:08:25,598
not this hit test this is for cursor

225
00:08:24,079 --> 00:08:27,359
picking um

226
00:08:25,598 --> 00:08:29,598
but we should go in and just do a thing

227
00:08:27,360 --> 00:08:32,800
where we go all right now we'll check

228
00:08:29,598 --> 00:08:35,200
any bounding boxes versus each other

229
00:08:32,799 --> 00:08:37,038
now again we would rather have an

230
00:08:35,200 --> 00:08:40,320
explicit grid here the fact that we

231
00:08:37,038 --> 00:08:41,838
don't have one is lame uh we had done it

232
00:08:40,320 --> 00:08:44,560
in a very generic way so that you could

233
00:08:41,839 --> 00:08:47,120
do worlds that weren't grid based

234
00:08:44,559 --> 00:08:49,599
uh and we just don't need that so a lot

235
00:08:47,120 --> 00:08:51,120
of stuff is over complicated now uh

236
00:08:49,600 --> 00:08:54,159
things that we don't

237
00:08:51,120 --> 00:08:56,080
you know we we easily should have

238
00:08:54,159 --> 00:08:57,439
probably just put down that constraint

239
00:08:56,080 --> 00:08:59,680
at the beginning

240
00:08:57,440 --> 00:09:02,320
to make things simpler but we didn't so

241
00:08:59,679 --> 00:09:04,799
it means that we kind of have a worse go

242
00:09:02,320 --> 00:09:04,800
of it here

243
00:09:06,320 --> 00:09:09,839
and so probably what we want to do is

244
00:09:07,839 --> 00:09:11,519
collapse things back down to a grid but

245
00:09:09,839 --> 00:09:13,200
i'm going to save that i think i've said

246
00:09:11,519 --> 00:09:15,360
a couple times i'm going to save that

247
00:09:13,200 --> 00:09:17,200
maybe just a little longer

248
00:09:15,360 --> 00:09:18,639
um because

249
00:09:17,200 --> 00:09:20,560
it's kind of something we can comb

250
00:09:18,639 --> 00:09:22,639
through a lot of code and delete a lot

251
00:09:20,559 --> 00:09:23,439
of code from the code base when we do

252
00:09:22,639 --> 00:09:25,919
that

253
00:09:23,440 --> 00:09:27,920
uh it will sort of massively simplify a

254
00:09:25,919 --> 00:09:29,919
ton of things

255
00:09:27,919 --> 00:09:32,000
uh but like kind of like how our

256
00:09:29,919 --> 00:09:33,759
lighting got massively simpler and

257
00:09:32,000 --> 00:09:36,879
faster when we

258
00:09:33,759 --> 00:09:38,159
switched it to planar right

259
00:09:36,879 --> 00:09:41,360
planar

260
00:09:38,159 --> 00:09:43,519
uh is simpler than volumetric always and

261
00:09:41,360 --> 00:09:44,560
grid based is simpler than planar oh

262
00:09:43,519 --> 00:09:47,120
pretty much

263
00:09:44,559 --> 00:09:49,359
um sometimes that's not entirely true if

264
00:09:47,120 --> 00:09:50,959
the things you're doing are very sparse

265
00:09:49,360 --> 00:09:54,080
but you know

266
00:09:50,958 --> 00:09:56,319
anyway um so after we loop over all of

267
00:09:54,080 --> 00:09:57,680
these entities then i think we just want

268
00:09:56,320 --> 00:09:59,120
to do

269
00:09:57,679 --> 00:10:00,239
a check for

270
00:09:59,120 --> 00:10:02,159
collision

271
00:10:00,240 --> 00:10:03,519
and the way that we would probably do

272
00:10:02,159 --> 00:10:06,719
this in the future

273
00:10:03,519 --> 00:10:07,679
is we would do it more based on the grid

274
00:10:06,720 --> 00:10:09,839
right

275
00:10:07,679 --> 00:10:13,120
but since we're not doing that here we

276
00:10:09,839 --> 00:10:14,959
could do a second loop over entities

277
00:10:13,120 --> 00:10:17,120
the problem with doing a second loop

278
00:10:14,958 --> 00:10:19,838
over entities is that that's going gonna

279
00:10:17,120 --> 00:10:23,200
touch literally everything a second time

280
00:10:19,839 --> 00:10:26,720
which means that we kind of like

281
00:10:23,200 --> 00:10:28,480
we'd end up in a situation where we're

282
00:10:26,720 --> 00:10:30,560
pulling everything back into the cache

283
00:10:28,480 --> 00:10:32,079
again right we've swept through it once

284
00:10:30,559 --> 00:10:33,359
and now we're sweeping through it a

285
00:10:32,078 --> 00:10:34,159
second time

286
00:10:33,360 --> 00:10:35,839
and

287
00:10:34,159 --> 00:10:37,759
it's just kind of

288
00:10:35,839 --> 00:10:39,839
wasteful right

289
00:10:37,759 --> 00:10:42,879
so my guess is that what we would

290
00:10:39,839 --> 00:10:44,880
probably prefer here is that if we had

291
00:10:42,879 --> 00:10:46,480
some way of just tracking what

292
00:10:44,879 --> 00:10:49,439
projectiles

293
00:10:46,480 --> 00:10:50,560
were active at a given time

294
00:10:49,440 --> 00:10:51,519
that would be

295
00:10:50,559 --> 00:10:53,838
the

296
00:10:51,519 --> 00:10:56,000
more efficient way to do it so i'm going

297
00:10:53,839 --> 00:10:57,279
to put this i'm just going to mark this

298
00:10:56,000 --> 00:10:59,519
down because

299
00:10:57,278 --> 00:11:02,240
this is something that we want to

300
00:10:59,519 --> 00:11:05,600
think about more long-term and just say

301
00:11:02,240 --> 00:11:05,600
like okay you know

302
00:11:05,679 --> 00:11:11,519
this needs to become

303
00:11:07,759 --> 00:11:12,799
a loop over just projectiles

304
00:11:11,519 --> 00:11:15,039
and

305
00:11:12,799 --> 00:11:17,199
grid accesses

306
00:11:15,039 --> 00:11:19,120
once the grid is here

307
00:11:17,200 --> 00:11:20,959
because really this is so i'm going to

308
00:11:19,120 --> 00:11:23,759
do it in like the worst possible way

309
00:11:20,958 --> 00:11:26,078
i'll do an n-squared loop here

310
00:11:23,759 --> 00:11:28,639
and then this wants to be replaced with

311
00:11:26,078 --> 00:11:31,199
inside here we track things that are

312
00:11:28,639 --> 00:11:34,078
actually going to do damage and then we

313
00:11:31,200 --> 00:11:36,480
resolve the damage here after everyone's

314
00:11:34,078 --> 00:11:38,958
moved so this will just be a loop over

315
00:11:36,480 --> 00:11:40,959
active projectiles and thus this will

316
00:11:38,958 --> 00:11:42,319
just be a check for the grid squares

317
00:11:40,958 --> 00:11:44,719
immediately surrounding those

318
00:11:42,320 --> 00:11:46,320
projectiles

319
00:11:44,720 --> 00:11:48,079
but

320
00:11:46,320 --> 00:11:50,720
prior to that

321
00:11:48,078 --> 00:11:53,120
i'm going to call this projectile

322
00:11:50,720 --> 00:11:54,639
or project or maybe because we're

323
00:11:53,120 --> 00:11:58,078
probably going to actually want to

324
00:11:54,639 --> 00:11:59,120
change it into um

325
00:11:58,078 --> 00:12:00,958
you know

326
00:11:59,120 --> 00:12:02,799
an actual thing called projectile that's

327
00:12:00,958 --> 00:12:05,199
part of the entity

328
00:12:02,799 --> 00:12:06,958
uh and this is going to be like the

329
00:12:05,200 --> 00:12:08,160
check

330
00:12:06,958 --> 00:12:11,159
thing we're checking the projectile

331
00:12:08,159 --> 00:12:11,159
against

332
00:12:11,278 --> 00:12:15,439
so we have an entity um that's the

333
00:12:14,000 --> 00:12:17,759
projectile

334
00:12:15,440 --> 00:12:20,079
and we don't actually have to do this it

335
00:12:17,759 --> 00:12:23,360
won't actually be n squared almost any

336
00:12:20,078 --> 00:12:24,559
time because we can do a check

337
00:12:23,360 --> 00:12:26,000
here that's the same check we'll

338
00:12:24,559 --> 00:12:27,439
eventually do up here to save the

339
00:12:26,000 --> 00:12:29,679
projectiles

340
00:12:27,440 --> 00:12:30,880
into a separate list that's for faster

341
00:12:29,679 --> 00:12:33,599
checking

342
00:12:30,879 --> 00:12:35,679
um we presumably want to just check a

343
00:12:33,600 --> 00:12:39,200
flag on the entity that says whether or

344
00:12:35,679 --> 00:12:41,359
not this entity gets to participate

345
00:12:39,200 --> 00:12:43,360
in this sweep right

346
00:12:41,360 --> 00:12:45,039
and so the entity flags that we've got

347
00:12:43,360 --> 00:12:45,839
and i don't even remember where those

348
00:12:45,039 --> 00:12:49,199
are

349
00:12:45,839 --> 00:12:50,800
in the game but we'll jump to them here

350
00:12:49,200 --> 00:12:53,360
so um

351
00:12:50,799 --> 00:12:55,199
you know we've we've got like some

352
00:12:53,360 --> 00:12:58,159
things here like event on collision and

353
00:12:55,200 --> 00:12:59,519
those sorts of things these are all old

354
00:12:58,159 --> 00:13:02,639
flags

355
00:12:59,519 --> 00:13:05,278
uh sphere collision that sort of stuff

356
00:13:02,639 --> 00:13:07,519
um these are all really old flags and we

357
00:13:05,278 --> 00:13:09,200
probably will update them at some point

358
00:13:07,519 --> 00:13:11,278
at the immediate moment i'm just adding

359
00:13:09,200 --> 00:13:13,759
another one because again

360
00:13:11,278 --> 00:13:16,320
uh i'm not gonna simplify stuff until i

361
00:13:13,759 --> 00:13:18,078
actually am done sort of sketching out

362
00:13:16,320 --> 00:13:21,639
what i actually want

363
00:13:18,078 --> 00:13:21,638
if that makes sense

364
00:13:22,078 --> 00:13:25,559
uh so

365
00:13:35,679 --> 00:13:40,879
don't ever mention new c plus syntax c

366
00:13:38,720 --> 00:13:42,000
plus plus needs to die in a horrible

367
00:13:40,879 --> 00:13:45,600
fire

368
00:13:42,000 --> 00:13:47,120
um to say the very least

369
00:13:45,600 --> 00:13:49,199
uh

370
00:13:47,120 --> 00:13:53,278
so what it would really look nice

371
00:13:49,198 --> 00:13:54,719
probably is ji syntax but i

372
00:13:53,278 --> 00:13:57,439
feel like we probably shouldn't port

373
00:13:54,720 --> 00:13:59,360
handmade hero to it um

374
00:13:57,440 --> 00:14:00,959
no they definitely didn't so here's what

375
00:13:59,360 --> 00:14:03,278
i will guarantee you

376
00:14:00,958 --> 00:14:05,119
about c plus four loop syntax

377
00:14:03,278 --> 00:14:07,759
i've not even looked at it yet i

378
00:14:05,120 --> 00:14:10,000
guarantee you it's completely wrong

379
00:14:07,759 --> 00:14:12,399
i can just promise you they screwed it

380
00:14:10,000 --> 00:14:15,278
up entirely because they have never

381
00:14:12,399 --> 00:14:16,799
added a single feature in the history of

382
00:14:15,278 --> 00:14:19,360
c plus

383
00:14:16,799 --> 00:14:20,958
the only thing i can think of we we had

384
00:14:19,360 --> 00:14:22,079
a long brainstorming session about this

385
00:14:20,958 --> 00:14:23,518
the other day

386
00:14:22,078 --> 00:14:25,599
with other people

387
00:14:23,519 --> 00:14:26,639
the only thing that came up was a line

388
00:14:25,600 --> 00:14:28,560
nas

389
00:14:26,639 --> 00:14:30,879
seems like it's sort of

390
00:14:28,559 --> 00:14:32,319
they didn't screw it up

391
00:14:30,879 --> 00:14:33,600
for loop syntax i guarantee you if i

392
00:14:32,320 --> 00:14:35,519
went looked at it i'd just be like this

393
00:14:33,600 --> 00:14:38,320
is the dumbest design i've ever seen for

394
00:14:35,519 --> 00:14:40,799
for for loop syntax i guarantee you that

395
00:14:38,320 --> 00:14:43,680
i just guarantee you they've never been

396
00:14:40,799 --> 00:14:45,679
able they've literally never known how

397
00:14:43,679 --> 00:14:47,439
to do stuff right ever

398
00:14:45,679 --> 00:14:49,439
uh and and how to do that right is

399
00:14:47,440 --> 00:14:51,760
trivial it's obvious how to do for loop

400
00:14:49,440 --> 00:14:54,000
syntax right it's so obvious how you do

401
00:14:51,759 --> 00:14:56,078
for a loop syntax right that it's a joke

402
00:14:54,000 --> 00:14:57,839
if you can't but they

403
00:14:56,078 --> 00:15:01,120
i guarantee you that they haven't i'm

404
00:14:57,839 --> 00:15:01,120
just gonna guarantee you that

405
00:15:01,600 --> 00:15:06,800
okay um it's like what john said on his

406
00:15:04,159 --> 00:15:08,879
last stream about namespaces it's so

407
00:15:06,799 --> 00:15:10,639
blaringly obvious how you do namespaces

408
00:15:08,879 --> 00:15:12,639
correctly the person who uses the

409
00:15:10,639 --> 00:15:14,639
namespace names the namespace that's

410
00:15:12,639 --> 00:15:16,000
what prevents collisions right but they

411
00:15:14,639 --> 00:15:17,600
did it the other way around the person

412
00:15:16,000 --> 00:15:18,799
who creates the namespace names the

413
00:15:17,600 --> 00:15:21,040
namespace

414
00:15:18,799 --> 00:15:21,039
like

415
00:15:22,240 --> 00:15:29,039
like they just have no idea

416
00:15:26,559 --> 00:15:32,078
yeah so richard that's terrible that's

417
00:15:29,039 --> 00:15:34,879
absolutely ridiculous right and and not

418
00:15:32,078 --> 00:15:34,879
how you would do it

419
00:15:36,480 --> 00:15:41,278
if if that's really what they came up

420
00:15:38,159 --> 00:15:42,799
with that's absurd like once again they

421
00:15:41,278 --> 00:15:44,799
managed to swerve

422
00:15:42,799 --> 00:15:47,439
around the obvious answer to how you do

423
00:15:44,799 --> 00:15:49,278
for loops because it's so

424
00:15:47,440 --> 00:15:50,959
painfully clear

425
00:15:49,278 --> 00:15:53,360
how you do for loops

426
00:15:50,958 --> 00:15:54,958
i just i don't even know how you

427
00:15:53,360 --> 00:15:56,720
have a language for 40 years and don't

428
00:15:54,958 --> 00:15:57,599
do them but

429
00:15:56,720 --> 00:15:59,839
anyway

430
00:15:57,600 --> 00:16:02,480
so uh entity flags

431
00:15:59,839 --> 00:16:04,240
we need something that's like

432
00:16:02,480 --> 00:16:08,159
projectile

433
00:16:04,240 --> 00:16:09,360
or you know i

434
00:16:08,159 --> 00:16:12,000
collider

435
00:16:09,360 --> 00:16:16,320
something like this

436
00:16:12,000 --> 00:16:16,320
uh and these will probably be you know

437
00:16:17,600 --> 00:16:23,440
these will probably be removed uh

438
00:16:20,879 --> 00:16:24,958
eventually sphere collision might not be

439
00:16:23,440 --> 00:16:26,000
because we might still want sphere

440
00:16:24,958 --> 00:16:28,159
collision

441
00:16:26,000 --> 00:16:28,958
um i'm not sure whether it will always

442
00:16:28,159 --> 00:16:31,360
be

443
00:16:28,958 --> 00:16:33,198
uh rust i think the exact same thing

444
00:16:31,360 --> 00:16:34,879
it's it's ridiculous how bad it is given

445
00:16:33,198 --> 00:16:36,799
that it's brand new it's like almost as

446
00:16:34,879 --> 00:16:39,519
bad as c plus plus

447
00:16:36,799 --> 00:16:39,519
but you know

448
00:16:39,919 --> 00:16:46,559
that's not the bar you should be aiming

449
00:16:41,759 --> 00:16:48,159
for if you make a language in 2020 right

450
00:16:46,559 --> 00:16:49,919
we managed to be

451
00:16:48,159 --> 00:16:51,039
maybe slightly better than c plus plus

452
00:16:49,919 --> 00:16:52,479
although we introduced a bunch of things

453
00:16:51,039 --> 00:16:53,679
that are actually worse than c plus so i

454
00:16:52,480 --> 00:16:55,680
don't know that you would necessarily

455
00:16:53,679 --> 00:16:57,599
say that but it's just a joke modern

456
00:16:55,679 --> 00:16:58,319
languages are a joke that's all i can

457
00:16:57,600 --> 00:17:01,120
say

458
00:16:58,320 --> 00:17:04,558
like they're like barely passable as

459
00:17:01,120 --> 00:17:06,078
languages from 1975 but they're made in

460
00:17:04,558 --> 00:17:08,639
19 in

461
00:17:06,078 --> 00:17:10,879
2020 right it's like it's a joke it's a

462
00:17:08,640 --> 00:17:13,360
joke how

463
00:17:10,880 --> 00:17:15,439
little improvement people have targeted

464
00:17:13,359 --> 00:17:17,279
for their languages that they're making

465
00:17:15,439 --> 00:17:18,798
literally 40 years

466
00:17:17,279 --> 00:17:21,119
after the language they're more

467
00:17:18,798 --> 00:17:22,798
languages they're more or less aping

468
00:17:21,119 --> 00:17:24,719
it's just absurd

469
00:17:22,798 --> 00:17:26,959
it's just absurd it's a joke it's all

470
00:17:24,720 --> 00:17:28,558
just a stupid joke anyway

471
00:17:26,959 --> 00:17:31,279
so projectile flags checked against

472
00:17:28,558 --> 00:17:33,200
collider uh is what will tell us whether

473
00:17:31,279 --> 00:17:35,038
or not we'll do a separate one here and

474
00:17:33,200 --> 00:17:37,440
then for each of these we'll just do if

475
00:17:35,038 --> 00:17:39,759
these two things collide right

476
00:17:37,440 --> 00:17:42,558
so if these two things collide then

477
00:17:39,759 --> 00:17:44,480
we're gonna go ahead and uh trigger

478
00:17:42,558 --> 00:17:47,918
whatever kind of like collision

479
00:17:44,480 --> 00:17:48,880
resolution event we want which at the

480
00:17:47,919 --> 00:17:51,280
moment

481
00:17:48,880 --> 00:17:52,240
i don't think we have anything other

482
00:17:51,279 --> 00:17:53,918
than

483
00:17:52,240 --> 00:17:54,798
projectile

484
00:17:53,919 --> 00:17:57,038
right

485
00:17:54,798 --> 00:17:57,038
um

486
00:17:58,720 --> 00:18:03,440
like like in the game of the things i'm

487
00:18:01,440 --> 00:18:04,798
thinking of there really isn't anything

488
00:18:03,440 --> 00:18:08,320
else

489
00:18:04,798 --> 00:18:09,200
projectiles might have a series of like

490
00:18:08,319 --> 00:18:11,439
different

491
00:18:09,200 --> 00:18:11,440
um

492
00:18:12,798 --> 00:18:16,400
like they they might have different

493
00:18:14,558 --> 00:18:18,879
things that they

494
00:18:16,400 --> 00:18:20,640
you know different properties right

495
00:18:18,880 --> 00:18:22,480
but they're not really gonna be like

496
00:18:20,640 --> 00:18:24,799
there aren't like multiple things it's

497
00:18:22,480 --> 00:18:27,798
it's really just that i think

498
00:18:24,798 --> 00:18:27,798
um

499
00:18:32,720 --> 00:18:36,160
so so here's a question how are we

500
00:18:34,798 --> 00:18:37,038
currently doing

501
00:18:36,160 --> 00:18:39,120
um

502
00:18:37,038 --> 00:18:40,839
this because this this is something that

503
00:18:39,119 --> 00:18:45,279
isn't that way

504
00:18:40,839 --> 00:18:45,279
um there's like um

505
00:18:45,679 --> 00:18:49,600
where is it

506
00:18:47,119 --> 00:18:51,359
where is it

507
00:18:49,599 --> 00:18:52,480
so when you hop in front of like a

508
00:18:51,359 --> 00:18:53,918
character

509
00:18:52,480 --> 00:18:56,798
like this

510
00:18:53,919 --> 00:18:58,640
so that that

511
00:18:56,798 --> 00:19:03,200
volume check

512
00:18:58,640 --> 00:19:05,679
i don't actually know what that's using

513
00:19:03,200 --> 00:19:05,679
um

514
00:19:06,640 --> 00:19:09,640
hmm

515
00:19:33,200 --> 00:19:37,759
so i don't actually know what we did for

516
00:19:35,200 --> 00:19:40,240
that but i think we just created a box

517
00:19:37,759 --> 00:19:43,119
that we check for which room you're in

518
00:19:40,240 --> 00:19:47,519
right and that's like a separate camera

519
00:19:43,119 --> 00:19:50,079
zoom kind of box so so even that

520
00:19:47,519 --> 00:19:51,679
i mean maybe we want

521
00:19:50,079 --> 00:19:54,558
this system to work

522
00:19:51,679 --> 00:19:57,519
that way but

523
00:19:54,558 --> 00:19:57,519
but maybe not

524
00:19:59,839 --> 00:20:04,639
what's the obviously good for loop

525
00:20:01,359 --> 00:20:04,639
syntax i would

526
00:20:05,279 --> 00:20:09,279
i almost don't want to say it because

527
00:20:06,880 --> 00:20:11,360
i'm just curious to know how long it

528
00:20:09,279 --> 00:20:15,038
will take these languages to figure out

529
00:20:11,359 --> 00:20:15,759
the obvious way you do for loops

530
00:20:15,038 --> 00:20:16,720
i

531
00:20:15,759 --> 00:20:19,279
like

532
00:20:16,720 --> 00:20:21,600
if i don't say what the obvious way is i

533
00:20:19,279 --> 00:20:22,399
honestly don't know like is the answer

534
00:20:21,599 --> 00:20:24,558
like

535
00:20:22,400 --> 00:20:26,798
10 years like how long would it take

536
00:20:24,558 --> 00:20:29,119
another an actual language

537
00:20:26,798 --> 00:20:30,639
to figure out how the frick

538
00:20:29,119 --> 00:20:32,879
is the

539
00:20:30,640 --> 00:20:35,600
it's so obvious i don't even know how

540
00:20:32,880 --> 00:20:38,640
it's not the standard way in every

541
00:20:35,599 --> 00:20:40,158
language but it's not so

542
00:20:38,640 --> 00:20:43,120
i don't know there might be a language

543
00:20:40,159 --> 00:20:43,120
out there with it

544
00:20:43,359 --> 00:20:48,558
but i kind of now don't want to say it

545
00:20:45,279 --> 00:20:49,599
because i honestly want to know

546
00:20:48,558 --> 00:20:52,720
how it's

547
00:20:49,599 --> 00:20:55,678
how long it would take

548
00:20:52,720 --> 00:20:57,360
i don't know how long it would take

549
00:20:55,679 --> 00:21:00,798
years

550
00:20:57,359 --> 00:21:03,359
maybe jai has it i don't know it might

551
00:21:00,798 --> 00:21:05,918
um

552
00:21:03,359 --> 00:21:05,918
i don't know

553
00:21:10,400 --> 00:21:15,519
jay i might already have it right

554
00:21:13,119 --> 00:21:18,000
um john tends to do things in a way

555
00:21:15,519 --> 00:21:19,759
where he's thought through it

556
00:21:18,000 --> 00:21:22,000
which is rare

557
00:21:19,759 --> 00:21:22,879
you know in language design normally

558
00:21:22,000 --> 00:21:24,640
they're not really thought through

559
00:21:22,880 --> 00:21:26,799
they're just kind of done

560
00:21:24,640 --> 00:21:27,919
um

561
00:21:26,798 --> 00:21:29,359
but uh

562
00:21:27,919 --> 00:21:32,240
but i don't know i don't even know if

563
00:21:29,359 --> 00:21:34,399
j.i has it i'm not sure i should go look

564
00:21:32,240 --> 00:21:36,798
uh i don't know if there's

565
00:21:34,400 --> 00:21:38,880
like um

566
00:21:36,798 --> 00:21:41,119
i don't i don't know if if there's

567
00:21:38,880 --> 00:21:42,720
a stream where john shows that stuff he

568
00:21:41,119 --> 00:21:44,558
was he's was

569
00:21:42,720 --> 00:21:46,159
like talking about some of the basic for

570
00:21:44,558 --> 00:21:47,119
loop stuff

571
00:21:46,159 --> 00:21:49,440
but

572
00:21:47,119 --> 00:21:51,359
there's like a really really really

573
00:21:49,440 --> 00:21:52,720
obvious thing you do with for loops in

574
00:21:51,359 --> 00:21:54,158
my opinion

575
00:21:52,720 --> 00:21:56,319
um

576
00:21:54,159 --> 00:21:56,320
but

577
00:21:56,480 --> 00:21:59,839
yeah i

578
00:21:57,440 --> 00:21:59,840
i don't know

579
00:22:01,119 --> 00:22:04,239
i do not know

580
00:22:04,319 --> 00:22:07,279
i do not know

581
00:22:09,119 --> 00:22:12,119
anyway

582
00:22:13,679 --> 00:22:17,038
when i release casey lang

583
00:22:17,919 --> 00:22:23,038
it'll use that for loop syntax

584
00:22:21,279 --> 00:22:26,240
that i think is the overwhelmingly

585
00:22:23,038 --> 00:22:28,158
obvious for loop syntax

586
00:22:26,240 --> 00:22:29,919
and then you can see you can tell me

587
00:22:28,159 --> 00:22:31,919
whether you can remember today you can

588
00:22:29,919 --> 00:22:34,880
tell me whether any language today had

589
00:22:31,919 --> 00:22:37,880
it when i released that

590
00:22:34,880 --> 00:22:37,880
so

591
00:22:40,000 --> 00:22:46,159
uh yuka that's pretty close

592
00:22:44,000 --> 00:22:48,640
um

593
00:22:46,159 --> 00:22:51,760
that's pretty close

594
00:22:48,640 --> 00:22:51,759
if jai has that

595
00:22:52,000 --> 00:22:57,119
yeah as as expected right

596
00:22:54,720 --> 00:22:58,880
you know you

597
00:22:57,119 --> 00:23:01,599
it's it's not

598
00:22:58,880 --> 00:23:02,960
it's not probably an accident that john

599
00:23:01,599 --> 00:23:04,480
did what i think

600
00:23:02,960 --> 00:23:06,240
is what

601
00:23:04,480 --> 00:23:07,279
is good right it's because he's thinking

602
00:23:06,240 --> 00:23:09,440
about

603
00:23:07,279 --> 00:23:11,200
programming

604
00:23:09,440 --> 00:23:13,120
instead of whatever the heck these other

605
00:23:11,200 --> 00:23:15,120
language designers think about which i

606
00:23:13,119 --> 00:23:17,279
don't know what it is

607
00:23:15,119 --> 00:23:19,279
anyway uh so

608
00:23:17,279 --> 00:23:21,200
we're gonna have a entity that we check

609
00:23:19,279 --> 00:23:22,399
against and we need to see whether

610
00:23:21,200 --> 00:23:24,720
they're

611
00:23:22,400 --> 00:23:27,200
bounding like just their bounds overlap

612
00:23:24,720 --> 00:23:29,919
so this is not like a collision detector

613
00:23:27,200 --> 00:23:30,640
proper this is literally just it's just

614
00:23:29,919 --> 00:23:32,320
a

615
00:23:30,640 --> 00:23:34,320
a simple check

616
00:23:32,319 --> 00:23:36,960
and i don't know if we have one of those

617
00:23:34,319 --> 00:23:40,399
or not um

618
00:23:36,960 --> 00:23:41,440
i really just have no idea if we've uh

619
00:23:40,400 --> 00:23:45,679
you have

620
00:23:41,440 --> 00:23:48,240
we've kind of got this sort of thing um

621
00:23:45,679 --> 00:23:50,880
and i guess that's it like i think

622
00:23:48,240 --> 00:23:53,440
i don't know uh there was like a sphere

623
00:23:50,880 --> 00:23:55,919
collision thing and that didn't seem to

624
00:23:53,440 --> 00:23:57,038
be that way necessarily

625
00:23:55,919 --> 00:23:58,159
um

626
00:23:57,038 --> 00:23:59,759
but

627
00:23:58,159 --> 00:24:02,559
i don't know

628
00:23:59,759 --> 00:24:02,558
i don't really know

629
00:24:02,640 --> 00:24:08,880
it's not my it's not my

630
00:24:04,880 --> 00:24:08,880
uh fault it's not my problem anyway

631
00:24:09,278 --> 00:24:14,880
uh if these two things overlap then

632
00:24:11,759 --> 00:24:17,440
we're going to do like uh

633
00:24:14,880 --> 00:24:19,760
basically an application of you know

634
00:24:17,440 --> 00:24:21,519
damage or something else to this

635
00:24:19,759 --> 00:24:24,400
but we're probably gonna want some

636
00:24:21,519 --> 00:24:26,558
things that prevent this from happening

637
00:24:24,400 --> 00:24:28,240
uh in rapid succession and there's a

638
00:24:26,558 --> 00:24:30,798
number of different ways you can do this

639
00:24:28,240 --> 00:24:34,159
we'll probably do the action game style

640
00:24:30,798 --> 00:24:36,240
one so the way action games typically do

641
00:24:34,159 --> 00:24:37,600
this right is

642
00:24:36,240 --> 00:24:40,720
when you

643
00:24:37,599 --> 00:24:43,678
when a projectile of some kind

644
00:24:40,720 --> 00:24:43,679
hits somebody

645
00:24:43,839 --> 00:24:49,439
the

646
00:24:44,640 --> 00:24:49,440
person who gets hit by the projectile

647
00:24:49,839 --> 00:24:54,720
becomes like invincible for a short

648
00:24:52,159 --> 00:24:57,919
period of time right

649
00:24:54,720 --> 00:24:59,679
now there's two reasons for this

650
00:24:57,919 --> 00:25:00,720
one reason

651
00:24:59,679 --> 00:25:01,600
is

652
00:25:00,720 --> 00:25:04,400
to

653
00:25:01,599 --> 00:25:05,918
give you a chance to like

654
00:25:04,400 --> 00:25:07,519
like to make sure that you don't get hit

655
00:25:05,919 --> 00:25:09,038
by like 12 things at once and die right

656
00:25:07,519 --> 00:25:11,440
or whatever

657
00:25:09,038 --> 00:25:13,440
um but another reason is because it

658
00:25:11,440 --> 00:25:15,759
means we don't have to disambiguate the

659
00:25:13,440 --> 00:25:17,278
fact that on every frame you may be

660
00:25:15,759 --> 00:25:19,119
colliding

661
00:25:17,278 --> 00:25:20,480
and you would keep doing damage every

662
00:25:19,119 --> 00:25:21,599
frame

663
00:25:20,480 --> 00:25:24,000
so

664
00:25:21,599 --> 00:25:26,079
there's multiple ways that you can deal

665
00:25:24,000 --> 00:25:28,480
with that fact one way is you can

666
00:25:26,079 --> 00:25:30,319
actually track

667
00:25:28,480 --> 00:25:32,798
the going from

668
00:25:30,319 --> 00:25:34,558
not colliding to colliding so you

669
00:25:32,798 --> 00:25:36,240
remember that you weren't colliding on

670
00:25:34,558 --> 00:25:38,798
the previous time

671
00:25:36,240 --> 00:25:42,319
and then you clot you know when you go

672
00:25:38,798 --> 00:25:44,480
to collide the next time you're good you

673
00:25:42,319 --> 00:25:45,839
know that it's a it's a new collision

674
00:25:44,480 --> 00:25:48,640
right

675
00:25:45,839 --> 00:25:49,599
so you can do that

676
00:25:48,640 --> 00:25:51,840
but

677
00:25:49,599 --> 00:25:54,558
uh

678
00:25:51,839 --> 00:25:56,240
it's actually easier and also maybe you

679
00:25:54,558 --> 00:25:58,960
know you don't you don't really have to

680
00:25:56,240 --> 00:26:01,599
write any code besides a little timer to

681
00:25:58,960 --> 00:26:03,278
do the other way which is just make you

682
00:26:01,599 --> 00:26:07,119
invincible for a little bit

683
00:26:03,278 --> 00:26:08,319
and that has this sort of nice ancillary

684
00:26:07,119 --> 00:26:09,439
benefit

685
00:26:08,319 --> 00:26:10,798
um

686
00:26:09,440 --> 00:26:13,120
of like

687
00:26:10,798 --> 00:26:15,440
making it so that you you know

688
00:26:13,119 --> 00:26:15,439
um

689
00:26:16,880 --> 00:26:20,559
yeah i mean making it there's a couple

690
00:26:19,200 --> 00:26:22,240
things i should

691
00:26:20,558 --> 00:26:24,319
i guess mention here

692
00:26:22,240 --> 00:26:27,599
so another way is the projectile gets

693
00:26:24,319 --> 00:26:30,480
deleted or the projectile gets marked as

694
00:26:27,599 --> 00:26:33,359
done right

695
00:26:30,480 --> 00:26:34,558
in our case i don't really think we

696
00:26:33,359 --> 00:26:36,000
have that

697
00:26:34,558 --> 00:26:37,440
uh

698
00:26:36,000 --> 00:26:39,119
because like with something like the

699
00:26:37,440 --> 00:26:41,519
glove for example it's not going to get

700
00:26:39,119 --> 00:26:43,119
deleted we could mark it as done so the

701
00:26:41,519 --> 00:26:45,200
first time you hit something it returns

702
00:26:43,119 --> 00:26:47,119
but don't like that idea because i like

703
00:26:45,200 --> 00:26:48,880
the idea of there being gloves that

704
00:26:47,119 --> 00:26:50,959
continue to do damage so you can hit

705
00:26:48,880 --> 00:26:53,360
multiple things with one swipe if

706
00:26:50,960 --> 00:26:55,840
there's multiple things in the way

707
00:26:53,359 --> 00:26:59,038
maybe some gloves don't do that

708
00:26:55,839 --> 00:27:01,278
but at least some gloves would right so

709
00:26:59,038 --> 00:27:04,558
i don't want to presuppose that the

710
00:27:01,278 --> 00:27:06,798
glove always gets disabled

711
00:27:04,558 --> 00:27:08,960
when it hits something and and only gets

712
00:27:06,798 --> 00:27:10,798
re-enabled when it returns to you right

713
00:27:08,960 --> 00:27:13,038
i don't like that idea

714
00:27:10,798 --> 00:27:13,038
so

715
00:27:19,278 --> 00:27:22,640
so yeah um

716
00:27:28,720 --> 00:27:33,120
on the other hand for punching enemies

717
00:27:31,519 --> 00:27:35,278
while i don't really want you to be able

718
00:27:33,119 --> 00:27:36,719
to punch the same enemy multiple times i

719
00:27:35,278 --> 00:27:39,119
suppose i do want you to be able to

720
00:27:36,720 --> 00:27:39,120
punch

721
00:27:45,679 --> 00:27:49,840
yeah this is tricky

722
00:27:47,278 --> 00:27:54,079
so i think i may actually want something

723
00:27:49,839 --> 00:27:57,079
that that properly tracks new collision

724
00:27:54,079 --> 00:27:57,079
like

725
00:28:15,278 --> 00:28:19,278
yeah i i don't know this is this is a

726
00:28:17,519 --> 00:28:20,879
this is particularly

727
00:28:19,278 --> 00:28:23,038
tricky

728
00:28:20,880 --> 00:28:25,278
for the glove

729
00:28:23,038 --> 00:28:28,480
is i guess what i would say

730
00:28:25,278 --> 00:28:32,159
because i want the glove to

731
00:28:28,480 --> 00:28:35,759
properly be able to punch things

732
00:28:32,159 --> 00:28:35,760
like when it is

733
00:28:37,278 --> 00:28:40,240
so let's let's turn off this weird like

734
00:28:39,278 --> 00:28:42,480
slow

735
00:28:40,240 --> 00:28:43,359
test thing that i had there

736
00:28:42,480 --> 00:28:45,360
um

737
00:28:43,359 --> 00:28:47,439
and

738
00:28:45,359 --> 00:28:49,519
because we we just kind of hard coded in

739
00:28:47,440 --> 00:28:51,519
an attack pattern here just we just made

740
00:28:49,519 --> 00:28:53,278
one up right normally you'd be these to

741
00:28:51,519 --> 00:28:55,918
be specific to like the glove or

742
00:28:53,278 --> 00:28:57,278
whatever and you pick them up

743
00:28:55,919 --> 00:29:00,399
um

744
00:28:57,278 --> 00:29:02,240
so uh

745
00:29:00,398 --> 00:29:04,158
the thing that that i was curious about

746
00:29:02,240 --> 00:29:07,038
here is like so let's say we were doing

747
00:29:04,159 --> 00:29:10,360
like an attack pattern

748
00:29:07,038 --> 00:29:10,359
like this

749
00:29:14,558 --> 00:29:18,158
right

750
00:29:15,839 --> 00:29:20,240
um and i can stop doing that little like

751
00:29:18,159 --> 00:29:22,240
pattern draw nonsense we had a little

752
00:29:20,240 --> 00:29:23,759
thing there that tries to draw the uh

753
00:29:22,240 --> 00:29:24,798
movement

754
00:29:23,759 --> 00:29:26,240
for

755
00:29:24,798 --> 00:29:28,240
when we were like doing a little bit of

756
00:29:26,240 --> 00:29:30,399
debugging there it was this piece right

757
00:29:28,240 --> 00:29:31,440
here

758
00:29:30,398 --> 00:29:33,599
and we don't actually need that for

759
00:29:31,440 --> 00:29:37,640
anything now

760
00:29:33,599 --> 00:29:37,639
uh but the point is

761
00:29:41,200 --> 00:29:44,319
if you're doing something like this you

762
00:29:42,480 --> 00:29:47,599
want to be able to repeatedly punch the

763
00:29:44,319 --> 00:29:50,599
same enemy as well right

764
00:29:47,599 --> 00:29:50,599
um

765
00:29:54,960 --> 00:29:57,200
so

766
00:29:57,839 --> 00:30:04,398
that part is a little confusing like how

767
00:30:02,319 --> 00:30:08,319
we would want it to just be

768
00:30:04,398 --> 00:30:10,798
you know as soon as it

769
00:30:08,319 --> 00:30:10,798
yeah i don't know

770
00:30:16,558 --> 00:30:21,678
so you know a trivial way you could do

771
00:30:19,200 --> 00:30:22,480
it that would work with one glove is you

772
00:30:21,679 --> 00:30:24,559
just

773
00:30:22,480 --> 00:30:26,240
have a sequence number on the glove

774
00:30:24,558 --> 00:30:28,558
basically

775
00:30:26,240 --> 00:30:28,558
um

776
00:30:28,640 --> 00:30:31,360
oh

777
00:30:30,000 --> 00:30:34,558
wait a minute

778
00:30:31,359 --> 00:30:37,839
that actually works for everything

779
00:30:34,558 --> 00:30:37,839
doesn't it

780
00:30:38,640 --> 00:30:42,880
huh

781
00:30:39,919 --> 00:30:45,600
okay so actually yeah i suppose this

782
00:30:42,880 --> 00:30:48,080
would work for anything now that i think

783
00:30:45,599 --> 00:30:48,079
about it

784
00:30:48,720 --> 00:30:55,200
so if you put a sequence number

785
00:30:52,079 --> 00:30:58,720
that's a global sequence number for all

786
00:30:55,200 --> 00:31:00,159
entities so every time any entity gets

787
00:30:58,720 --> 00:31:02,960
an attack

788
00:31:00,159 --> 00:31:05,519
the attack is labeled with a sequence

789
00:31:02,960 --> 00:31:08,319
number and that sequence number

790
00:31:05,519 --> 00:31:11,038
increments by one each time

791
00:31:08,319 --> 00:31:13,200
all colliders so all other entities in

792
00:31:11,038 --> 00:31:16,000
the world they just store the last

793
00:31:13,200 --> 00:31:17,919
sequence number that hit them

794
00:31:16,000 --> 00:31:19,759
and if the sequence number of the thing

795
00:31:17,919 --> 00:31:21,759
that's trying to hit them

796
00:31:19,759 --> 00:31:24,558
is greater than the sequence number of

797
00:31:21,759 --> 00:31:26,480
the thing last thing that hit them then

798
00:31:24,558 --> 00:31:29,918
they update their sequence number and

799
00:31:26,480 --> 00:31:32,919
that's recorded as a hit

800
00:31:29,919 --> 00:31:32,919
right

801
00:31:34,480 --> 00:31:38,880
right

802
00:31:36,798 --> 00:31:41,200
so that would work

803
00:31:38,880 --> 00:31:44,320
just fine it requires all things that

804
00:31:41,200 --> 00:31:47,840
can be hit to record one sequence number

805
00:31:44,319 --> 00:31:47,839
which is maybe a bit much

806
00:31:58,558 --> 00:32:01,119
wouldn't that mean a slow projectile

807
00:32:00,000 --> 00:32:02,558
could be invalidated by a later

808
00:32:01,119 --> 00:32:03,599
fast-forward yeah i think you may be

809
00:32:02,558 --> 00:32:05,359
right

810
00:32:03,599 --> 00:32:06,079
and also as i'm thinking about it i'm

811
00:32:05,359 --> 00:32:08,558
like

812
00:32:06,079 --> 00:32:10,879
it's too much storage because

813
00:32:08,558 --> 00:32:12,720
you probably could have just stored for

814
00:32:10,880 --> 00:32:15,519
each projectile the list of things that

815
00:32:12,720 --> 00:32:17,759
hit in much less space

816
00:32:15,519 --> 00:32:17,759
right

817
00:32:18,159 --> 00:32:21,519
so that may be too clever

818
00:32:26,079 --> 00:32:29,558
so i don't know

819
00:32:44,558 --> 00:32:49,038
so there's one other way we could think

820
00:32:46,480 --> 00:32:50,720
about doing this which is maybe more

821
00:32:49,038 --> 00:32:52,158
specific to this game another way we

822
00:32:50,720 --> 00:32:55,120
could think about doing this too i

823
00:32:52,159 --> 00:32:58,880
suppose would be that there's a specific

824
00:32:55,119 --> 00:33:00,558
time at which the hitbox activates

825
00:32:58,880 --> 00:33:01,840
so that it only activates on one frame

826
00:33:00,558 --> 00:33:02,639
anyway

827
00:33:01,839 --> 00:33:04,639
um

828
00:33:02,640 --> 00:33:06,399
that's more like a real punch in a

829
00:33:04,640 --> 00:33:09,840
fighting game where like in fighting

830
00:33:06,398 --> 00:33:11,359
games you don't you don't get credit for

831
00:33:09,839 --> 00:33:13,359
hitting somebody

832
00:33:11,359 --> 00:33:14,240
throughout the entire punch you only get

833
00:33:13,359 --> 00:33:18,639
credit

834
00:33:14,240 --> 00:33:18,640
during the specific hitbox activation

835
00:33:18,880 --> 00:33:21,360
periods

836
00:33:22,839 --> 00:33:27,678
right so i don't know i really don't

837
00:33:25,599 --> 00:33:30,240
know it's a good question this

838
00:33:27,679 --> 00:33:32,480
normally you solve this problem by just

839
00:33:30,240 --> 00:33:34,399
not you don't really do this right like

840
00:33:32,480 --> 00:33:36,000
you don't try to solve this problem in

841
00:33:34,398 --> 00:33:37,199
most action games they don't actually

842
00:33:36,000 --> 00:33:38,798
try to

843
00:33:37,200 --> 00:33:40,798
but in this particular case i feel like

844
00:33:38,798 --> 00:33:43,038
we actually do want to

845
00:33:40,798 --> 00:33:45,918
uh because we want the glove to be able

846
00:33:43,038 --> 00:33:45,919
to do those things

847
00:33:46,079 --> 00:33:50,798
and we also have i mean we already have

848
00:33:49,599 --> 00:33:53,439
in the game

849
00:33:50,798 --> 00:33:55,759
the note like we can't just do something

850
00:33:53,440 --> 00:33:58,080
just for the glove because we already

851
00:33:55,759 --> 00:33:59,519
have the the notion that like like this

852
00:33:58,079 --> 00:34:02,879
still works right

853
00:33:59,519 --> 00:34:04,839
like i can still i can still create um

854
00:34:02,880 --> 00:34:07,840
another

855
00:34:04,839 --> 00:34:09,358
hero uh and you know i don't actually

856
00:34:07,839 --> 00:34:11,199
know whether anyone will ever play the

857
00:34:09,358 --> 00:34:12,639
game this way because maybe the game

858
00:34:11,199 --> 00:34:14,719
won't really be fun to play with

859
00:34:12,639 --> 00:34:15,679
multiple heroes or whatever

860
00:34:14,719 --> 00:34:17,199
um

861
00:34:15,679 --> 00:34:20,320
you

862
00:34:17,199 --> 00:34:22,078
you can imagine that if that did work

863
00:34:20,320 --> 00:34:24,240
you wouldn't want to not

864
00:34:22,079 --> 00:34:26,159
ship multiplayer just because you didn't

865
00:34:24,239 --> 00:34:27,199
have a solution for multiple gloves

866
00:34:26,159 --> 00:34:28,960
right

867
00:34:27,199 --> 00:34:30,559
um

868
00:34:28,960 --> 00:34:31,358
i wonder how far out i can get that

869
00:34:30,559 --> 00:34:34,398
because i don't remember what the

870
00:34:31,358 --> 00:34:36,719
movement limit is is it three

871
00:34:34,398 --> 00:34:39,719
if you just keep wailing on the button

872
00:34:36,719 --> 00:34:39,719
um

873
00:34:55,039 --> 00:35:00,239
i would like the simplest possible thing

874
00:34:57,280 --> 00:35:02,079
that satisfies those constraints

875
00:35:00,239 --> 00:35:04,959
so i don't really want to have to put in

876
00:35:02,079 --> 00:35:07,760
something complicated here but i'm not

877
00:35:04,960 --> 00:35:10,880
really quite thinking of what the if

878
00:35:07,760 --> 00:35:13,680
there is some obvious solution

879
00:35:10,880 --> 00:35:16,160
that's not complicated i'm

880
00:35:13,679 --> 00:35:18,399
struggling to think of what it actually

881
00:35:16,159 --> 00:35:18,399
is

882
00:35:23,199 --> 00:35:28,159
furthermore like some other simple

883
00:35:25,358 --> 00:35:30,159
solutions like oh colliders just store

884
00:35:28,159 --> 00:35:31,440
who they're colliding with so that if

885
00:35:30,159 --> 00:35:33,118
it's the same person as last time they

886
00:35:31,440 --> 00:35:34,000
don't do damage

887
00:35:33,119 --> 00:35:36,400
um

888
00:35:34,000 --> 00:35:39,119
i feel like that fails if a collider

889
00:35:36,400 --> 00:35:42,000
happens to overlap two people first in

890
00:35:39,119 --> 00:35:43,440
like you know it's a somewhat rare case

891
00:35:42,000 --> 00:35:45,280
but it definitely

892
00:35:43,440 --> 00:35:47,440
could happen right

893
00:35:45,280 --> 00:35:48,640
um so if uh you know if there's two

894
00:35:47,440 --> 00:35:50,960
enemies right next to each other and the

895
00:35:48,639 --> 00:35:53,199
glove happens to overlap both of their

896
00:35:50,960 --> 00:35:54,880
bounding boxes because of like it's

897
00:35:53,199 --> 00:35:56,480
placed just so

898
00:35:54,880 --> 00:35:57,280
or something like that

899
00:35:56,480 --> 00:35:59,199
then

900
00:35:57,280 --> 00:36:01,519
you would it would oscillate between

901
00:35:59,199 --> 00:36:03,838
them presumably and continue to do

902
00:36:01,519 --> 00:36:06,239
damage all the time because if you only

903
00:36:03,838 --> 00:36:09,279
store one thing that's in contact with

904
00:36:06,239 --> 00:36:11,039
then that you know

905
00:36:09,280 --> 00:36:12,720
it's not enough

906
00:36:11,039 --> 00:36:15,358
you have to be able to store when you

907
00:36:12,719 --> 00:36:18,959
become uncontacted with something like

908
00:36:15,358 --> 00:36:22,799
so that there can be as many as

909
00:36:18,960 --> 00:36:24,960
you might overlap have to be tracked

910
00:36:22,800 --> 00:36:26,800
um

911
00:36:24,960 --> 00:36:27,599
so i don't know i think we might be back

912
00:36:26,800 --> 00:36:31,519
to

913
00:36:27,599 --> 00:36:33,039
just basically we gotta track the list

914
00:36:31,519 --> 00:36:36,480
there's just a list of people who were

915
00:36:33,039 --> 00:36:39,480
overlapping on the previous frame

916
00:36:36,480 --> 00:36:39,480
um

917
00:36:40,400 --> 00:36:44,880
i honestly can't think of anything else

918
00:36:42,800 --> 00:36:47,440
that you could do

919
00:36:44,880 --> 00:36:47,440
um

920
00:36:51,440 --> 00:36:55,119
if anyone has any idea of something

921
00:36:53,838 --> 00:36:56,480
simpler

922
00:36:55,119 --> 00:36:59,358
um

923
00:36:56,480 --> 00:37:02,079
i'm i'm happy to to entertain it but i

924
00:36:59,358 --> 00:37:04,159
can't think of anything that would be

925
00:37:02,079 --> 00:37:05,839
that that's

926
00:37:04,159 --> 00:37:07,759
yeah i can't think of anything that was

927
00:37:05,838 --> 00:37:10,480
that's gonna be like

928
00:37:07,760 --> 00:37:12,160
simpler and still

929
00:37:10,480 --> 00:37:15,159
work

930
00:37:12,159 --> 00:37:15,159
um

931
00:37:23,039 --> 00:37:27,279
because if you have a list of the things

932
00:37:25,440 --> 00:37:29,440
that you were in contact with on the

933
00:37:27,280 --> 00:37:31,359
previous frame that's all the in that's

934
00:37:29,440 --> 00:37:33,838
definitely all the information that you

935
00:37:31,358 --> 00:37:36,319
need right because when you do your

936
00:37:33,838 --> 00:37:38,159
collision pass on the following frame

937
00:37:36,320 --> 00:37:39,680
you basically go well

938
00:37:38,159 --> 00:37:42,078
anybody i

939
00:37:39,679 --> 00:37:45,679
i'm colliding with now that i wasn't

940
00:37:42,079 --> 00:37:47,200
colliding with before that's a hit

941
00:37:45,679 --> 00:37:48,000
and that's just

942
00:37:47,199 --> 00:37:50,719
that

943
00:37:48,000 --> 00:37:53,599
solves all the problems right but it

944
00:37:50,719 --> 00:37:54,879
does require you to store

945
00:37:53,599 --> 00:37:57,920
all the

946
00:37:54,880 --> 00:38:01,440
all of the people for with whom you

947
00:37:57,920 --> 00:38:02,639
your entity overlaps returned true

948
00:38:01,440 --> 00:38:04,400
like for whom

949
00:38:02,639 --> 00:38:07,199
it returned true

950
00:38:04,400 --> 00:38:10,160
uh you have to know that that

951
00:38:07,199 --> 00:38:11,519
list and we could you know bound it we

952
00:38:10,159 --> 00:38:13,199
could say like well that's never gonna

953
00:38:11,519 --> 00:38:15,358
be more than four people or something so

954
00:38:13,199 --> 00:38:17,279
we can probably keep it from being some

955
00:38:15,358 --> 00:38:20,719
like arbitrarily complicated thing i

956
00:38:17,280 --> 00:38:20,720
suppose but it's still

957
00:38:20,880 --> 00:38:25,200
it's still somewhat

958
00:38:22,880 --> 00:38:25,200
um

959
00:38:25,280 --> 00:38:28,880
it's still somewhat fancy

960
00:38:27,358 --> 00:38:30,559
right

961
00:38:28,880 --> 00:38:32,480
um

962
00:38:30,559 --> 00:38:34,078
so yeah i don't know i guess we're just

963
00:38:32,480 --> 00:38:36,000
gonna go with that for now because i

964
00:38:34,079 --> 00:38:37,359
can't really think of how else you might

965
00:38:36,000 --> 00:38:40,320
do it

966
00:38:37,358 --> 00:38:42,639
so um let's suppose that we did

967
00:38:40,320 --> 00:38:44,640
something like that and in the future

968
00:38:42,639 --> 00:38:47,199
maybe we can store those in some kind of

969
00:38:44,639 --> 00:38:50,159
an active active projectile list that's

970
00:38:47,199 --> 00:38:50,159
like a separate thing

971
00:38:50,239 --> 00:38:55,759
because right now obviously our envy

972
00:38:52,320 --> 00:38:57,039
stuff is pretty piggy uh and you know if

973
00:38:55,760 --> 00:38:59,119
we want to get that down in the future

974
00:38:57,039 --> 00:39:00,480
though computers are so freaking fast

975
00:38:59,119 --> 00:39:01,920
these days you know

976
00:39:00,480 --> 00:39:04,480
if you use web software you wouldn't

977
00:39:01,920 --> 00:39:06,480
think so but they're so fast that

978
00:39:04,480 --> 00:39:10,079
even though this stuff is totally

979
00:39:06,480 --> 00:39:12,719
ridiculously unoptimized like

980
00:39:10,079 --> 00:39:16,320
to the nth degree unoptimized

981
00:39:12,719 --> 00:39:16,319
it still just runs just fine

982
00:39:16,400 --> 00:39:20,480
which is absolutely absurd

983
00:39:18,800 --> 00:39:22,640
but that's just a testament to how fast

984
00:39:20,480 --> 00:39:24,960
computers are they just don't seem it

985
00:39:22,639 --> 00:39:24,960
right

986
00:39:26,400 --> 00:39:31,358
what can you do so anyway uh if we did

987
00:39:29,679 --> 00:39:34,399
want to keep something like this you

988
00:39:31,358 --> 00:39:36,000
know let's let's just sketch that out uh

989
00:39:34,400 --> 00:39:38,400
so this is just going to be like an

990
00:39:36,000 --> 00:39:39,679
entity uh collider list or something

991
00:39:38,400 --> 00:39:42,000
like that

992
00:39:39,679 --> 00:39:44,159
um

993
00:39:42,000 --> 00:39:48,480
and i guess it's not even a list it's

994
00:39:44,159 --> 00:39:50,879
it's really just an array um or a group

995
00:39:48,480 --> 00:39:53,280
uh and in here we would just say yeah

996
00:39:50,880 --> 00:39:56,240
all right there's an entity id for like

997
00:39:53,280 --> 00:39:57,280
uh colliders and it's like we got some

998
00:39:56,239 --> 00:39:58,639
in there

999
00:39:57,280 --> 00:40:00,400
and that's it

1000
00:39:58,639 --> 00:40:02,159
you know what i mean

1001
00:40:00,400 --> 00:40:03,760
uh and

1002
00:40:02,159 --> 00:40:05,920
i don't really know

1003
00:40:03,760 --> 00:40:05,920
i

1004
00:40:06,318 --> 00:40:11,400
i don't really know that it needs to be

1005
00:40:07,679 --> 00:40:11,399
anything more than that

1006
00:40:15,760 --> 00:40:18,560
but effectively all we're going to do is

1007
00:40:17,440 --> 00:40:20,480
just store

1008
00:40:18,559 --> 00:40:21,279
that in there and check

1009
00:40:20,480 --> 00:40:23,119
if

1010
00:40:21,280 --> 00:40:26,079
the entity

1011
00:40:23,119 --> 00:40:28,318
that in question is is in there or not

1012
00:40:26,079 --> 00:40:28,318
right

1013
00:40:28,480 --> 00:40:32,159
so the way this would work is again

1014
00:40:30,559 --> 00:40:34,719
incredibly simple

1015
00:40:32,159 --> 00:40:37,039
uh we just have and

1016
00:40:34,719 --> 00:40:40,639
you know we would make a new one here an

1017
00:40:37,039 --> 00:40:44,318
entity collider group oops

1018
00:40:40,639 --> 00:40:44,318
not literally right here

1019
00:40:45,519 --> 00:40:49,759
every time we look at a particular

1020
00:40:47,838 --> 00:40:50,719
projectile

1021
00:40:49,760 --> 00:40:53,359
we would

1022
00:40:50,719 --> 00:40:56,078
make a new group here

1023
00:40:53,358 --> 00:40:59,920
and we'd probably have the old group

1024
00:40:56,079 --> 00:40:59,920
we'd we'd just like pull it out

1025
00:41:01,599 --> 00:41:04,318
like so

1026
00:41:02,880 --> 00:41:05,200
so we have the old group in the new

1027
00:41:04,318 --> 00:41:06,960
group

1028
00:41:05,199 --> 00:41:08,639
we'd cla well you don't even really need

1029
00:41:06,960 --> 00:41:11,920
to clear the new group because we can

1030
00:41:08,639 --> 00:41:11,920
just say uh

1031
00:41:12,239 --> 00:41:15,519
like collide count

1032
00:41:14,079 --> 00:41:17,200
equals zero

1033
00:41:15,519 --> 00:41:20,159
right

1034
00:41:17,199 --> 00:41:21,439
so when we go through here and we do

1035
00:41:20,159 --> 00:41:23,759
like

1036
00:41:21,440 --> 00:41:25,200
if this guy is a collider

1037
00:41:23,760 --> 00:41:27,440
and i guess technically all this stuff

1038
00:41:25,199 --> 00:41:28,639
can live inside here although that's

1039
00:41:27,440 --> 00:41:30,400
really neither here nor there because

1040
00:41:28,639 --> 00:41:32,239
nothing actually happens

1041
00:41:30,400 --> 00:41:34,079
but um

1042
00:41:32,239 --> 00:41:37,279
when we loop through all the people when

1043
00:41:34,079 --> 00:41:38,960
we find somebody who overlaps

1044
00:41:37,280 --> 00:41:42,079
we add them

1045
00:41:38,960 --> 00:41:43,440
to the list of colliders uh and we'd

1046
00:41:42,079 --> 00:41:46,800
probably do something like this if

1047
00:41:43,440 --> 00:41:49,119
collide count is less than the number of

1048
00:41:46,800 --> 00:41:49,920
slots we have

1049
00:41:49,119 --> 00:41:51,760
in

1050
00:41:49,920 --> 00:41:53,599
the

1051
00:41:51,760 --> 00:41:56,480
what is the name of this thing again

1052
00:41:53,599 --> 00:41:56,480
just colliders

1053
00:41:57,119 --> 00:42:02,960
i guess let's just do ids

1054
00:41:59,679 --> 00:42:06,159
um so if we have room in the ids for

1055
00:42:02,960 --> 00:42:08,079
this then we record it so we just do

1056
00:42:06,159 --> 00:42:10,318
like collide count

1057
00:42:08,079 --> 00:42:11,680
um plus plus equals

1058
00:42:10,318 --> 00:42:13,759
whatever this

1059
00:42:11,679 --> 00:42:14,799
particular thing is we're about to hit

1060
00:42:13,760 --> 00:42:18,079
right

1061
00:42:14,800 --> 00:42:19,280
um and maybe we assert here and we just

1062
00:42:18,079 --> 00:42:21,280
say like

1063
00:42:19,280 --> 00:42:24,160
collider overflow

1064
00:42:21,280 --> 00:42:26,000
so that we know um because maybe this

1065
00:42:24,159 --> 00:42:27,358
needs to be eight you know who knows for

1066
00:42:26,000 --> 00:42:31,039
our game

1067
00:42:27,358 --> 00:42:33,199
we don't want it to ever fail um so we

1068
00:42:31,039 --> 00:42:34,960
don't want this to produce like

1069
00:42:33,199 --> 00:42:37,199
a cr well it wouldn't really be a crash

1070
00:42:34,960 --> 00:42:39,039
but a corruption or anything so we want

1071
00:42:37,199 --> 00:42:40,960
to make sure we don't do it but we also

1072
00:42:39,039 --> 00:42:42,639
want to make sure we know if we've set

1073
00:42:40,960 --> 00:42:45,039
this value low enough that it ever

1074
00:42:42,639 --> 00:42:48,400
really happens in game play

1075
00:42:45,039 --> 00:42:50,239
um so that's just my way of knowing

1076
00:42:48,400 --> 00:42:52,318
what this you know so i can see what

1077
00:42:50,239 --> 00:42:54,239
this value reasonably has to be to

1078
00:42:52,318 --> 00:42:57,239
prevent it from actually occurring in

1079
00:42:54,239 --> 00:42:57,239
practice

1080
00:42:58,159 --> 00:43:00,799
you know what i'm saying

1081
00:43:01,280 --> 00:43:06,160
uh so then in entity when we get the

1082
00:43:04,079 --> 00:43:07,920
overlapping entity we're recording him

1083
00:43:06,159 --> 00:43:10,838
in this group and then we need to do a

1084
00:43:07,920 --> 00:43:14,159
check here to see whether or not it's

1085
00:43:10,838 --> 00:43:16,960
new um so we assume it's new then we go

1086
00:43:14,159 --> 00:43:19,199
through here and we'd set it to false if

1087
00:43:16,960 --> 00:43:20,880
it matches right

1088
00:43:19,199 --> 00:43:23,919
like this kind of thing

1089
00:43:20,880 --> 00:43:26,720
so we would say you know the

1090
00:43:23,920 --> 00:43:28,400
collide count is is just going to be

1091
00:43:26,719 --> 00:43:30,399
whatever the old group

1092
00:43:28,400 --> 00:43:32,160
ids are

1093
00:43:30,400 --> 00:43:33,920
and yeah you know what i guess we this

1094
00:43:32,159 --> 00:43:37,039
does need to be this way unless we want

1095
00:43:33,920 --> 00:43:39,200
to store the u32 of the count

1096
00:43:37,039 --> 00:43:41,920
which we don't want to and clearing this

1097
00:43:39,199 --> 00:43:44,078
if compilers weren't absolute garbage

1098
00:43:41,920 --> 00:43:46,318
every day all day

1099
00:43:44,079 --> 00:43:47,280
uh this wouldn't be a big deal anyway

1100
00:43:46,318 --> 00:43:51,039
because

1101
00:43:47,280 --> 00:43:52,160
this is literally just two 64-bit

1102
00:43:51,039 --> 00:43:53,279
values

1103
00:43:52,159 --> 00:43:55,358
right

1104
00:43:53,280 --> 00:43:58,480
it's four 32-bit values so it's like

1105
00:43:55,358 --> 00:43:59,440
it's two registers worth it's nothing

1106
00:43:58,480 --> 00:44:02,079
right

1107
00:43:59,440 --> 00:44:03,760
um of course compilers will do amazing

1108
00:44:02,079 --> 00:44:07,760
things like turn this into a freaking

1109
00:44:03,760 --> 00:44:08,880
mem set because they're

1110
00:44:07,760 --> 00:44:10,640
i don't know

1111
00:44:08,880 --> 00:44:12,000
because the compiler and the c plus

1112
00:44:10,639 --> 00:44:13,598
standard are basically written by the

1113
00:44:12,000 --> 00:44:14,960
same kind of people people who don't

1114
00:44:13,599 --> 00:44:15,838
know how to code

1115
00:44:14,960 --> 00:44:16,880
all right

1116
00:44:15,838 --> 00:44:19,838
so

1117
00:44:16,880 --> 00:44:23,599
when we actually look at this and we go

1118
00:44:19,838 --> 00:44:26,559
like let's loop through the indices here

1119
00:44:23,599 --> 00:44:28,160
and see if any of these uh were

1120
00:44:26,559 --> 00:44:30,159
existing ones

1121
00:44:28,159 --> 00:44:31,598
um for those of you who like cimd things

1122
00:44:30,159 --> 00:44:34,000
you will notice that we could probably

1123
00:44:31,599 --> 00:44:37,838
do all this thing with a single u128

1124
00:44:34,000 --> 00:44:39,280
register um but you know

1125
00:44:37,838 --> 00:44:41,358
we're not at that state this would just

1126
00:44:39,280 --> 00:44:43,200
be a move mask

1127
00:44:41,358 --> 00:44:44,880
we don't really do cimd here much on

1128
00:44:43,199 --> 00:44:47,519
handmade hero but but point being if

1129
00:44:44,880 --> 00:44:49,599
you're into 70 programming you you

1130
00:44:47,519 --> 00:44:52,800
should be thinking in your head here

1131
00:44:49,599 --> 00:44:54,800
about how this would be clearly that

1132
00:44:52,800 --> 00:44:57,440
um

1133
00:44:54,800 --> 00:44:59,200
when we find one we just need to do like

1134
00:44:57,440 --> 00:45:01,358
uh you know a check to see and when we

1135
00:44:59,199 --> 00:45:03,358
find one we just say that it's not a new

1136
00:45:01,358 --> 00:45:05,838
collision anymore but that's all we

1137
00:45:03,358 --> 00:45:07,440
needed right so so like it's literally

1138
00:45:05,838 --> 00:45:08,799
we don't even need to know what position

1139
00:45:07,440 --> 00:45:10,559
it was in this is why i say if you know

1140
00:45:08,800 --> 00:45:11,839
if you think cindy you can obviously see

1141
00:45:10,559 --> 00:45:14,159
how this would

1142
00:45:11,838 --> 00:45:18,639
uh be something that you would you would

1143
00:45:14,159 --> 00:45:21,039
uh cmd pretty quickly

1144
00:45:18,639 --> 00:45:22,639
so we look to see does it match if it

1145
00:45:21,039 --> 00:45:23,920
does match this isn't a new collision

1146
00:45:22,639 --> 00:45:27,519
and we don't need to keep looking

1147
00:45:23,920 --> 00:45:29,599
obviously uh and then here we finally

1148
00:45:27,519 --> 00:45:32,159
get to our collision resolution call so

1149
00:45:29,599 --> 00:45:34,559
like this is like collision resolve or

1150
00:45:32,159 --> 00:45:34,559
whatever

1151
00:45:35,760 --> 00:45:40,160
and in theory anyway because we're

1152
00:45:38,079 --> 00:45:42,640
checking these things we should this

1153
00:45:40,159 --> 00:45:44,639
should only happen on a new collision

1154
00:45:42,639 --> 00:45:46,799
meaning we stopped colliding with the

1155
00:45:44,639 --> 00:45:48,639
entity and now we recollide with the

1156
00:45:46,800 --> 00:45:51,440
entity or we've never collided with the

1157
00:45:48,639 --> 00:45:53,679
entity either of those two things

1158
00:45:51,440 --> 00:45:55,440
right

1159
00:45:53,679 --> 00:45:58,719
so this is where we would do the actual

1160
00:45:55,440 --> 00:46:01,440
collision event it would happen here

1161
00:45:58,719 --> 00:46:04,959
and it would get resolved

1162
00:46:01,440 --> 00:46:06,639
how we want it to get resolved is

1163
00:46:04,960 --> 00:46:10,400
now getting into gameplay code

1164
00:46:06,639 --> 00:46:12,960
unfortunately and you know

1165
00:46:10,400 --> 00:46:14,639
uh jonathan blow

1166
00:46:12,960 --> 00:46:17,280
conveniently

1167
00:46:14,639 --> 00:46:21,118
i might add is apparently on a plane

1168
00:46:17,280 --> 00:46:23,680
from san francisco back to florida today

1169
00:46:21,119 --> 00:46:27,119
so he's not here to tell us

1170
00:46:23,679 --> 00:46:29,440
what we would do in that code but

1171
00:46:27,119 --> 00:46:30,640
you know normally your game designer is

1172
00:46:29,440 --> 00:46:32,720
going to

1173
00:46:30,639 --> 00:46:34,559
have something to say about this and

1174
00:46:32,719 --> 00:46:35,919
what's going to happen in here right

1175
00:46:34,559 --> 00:46:37,920
like

1176
00:46:35,920 --> 00:46:39,200
engine programmer has to produce this

1177
00:46:37,920 --> 00:46:40,800
part

1178
00:46:39,199 --> 00:46:42,639
oh yes sorry not from san francisco from

1179
00:46:40,800 --> 00:46:43,839
ohio yes that's right he was that he was

1180
00:46:42,639 --> 00:46:45,279
at um

1181
00:46:43,838 --> 00:46:48,799
g dex

1182
00:46:45,280 --> 00:46:50,480
i've never heard of what that is

1183
00:46:48,800 --> 00:46:51,599
um

1184
00:46:50,480 --> 00:46:54,240
but it's

1185
00:46:51,599 --> 00:46:57,380
i guess it's a midwest game conference

1186
00:46:54,239 --> 00:46:58,719
of some kind

1187
00:46:57,380 --> 00:47:01,920
[Music]

1188
00:46:58,719 --> 00:47:01,919
something like that i don't know

1189
00:47:09,119 --> 00:47:12,640
hellman munster

1190
00:47:11,358 --> 00:47:14,719
start growing series on youtube

1191
00:47:12,639 --> 00:47:16,799
currently day four sisters you want to

1192
00:47:14,719 --> 00:47:19,199
tell someone just starting um

1193
00:47:16,800 --> 00:47:21,519
no not particularly

1194
00:47:19,199 --> 00:47:21,519
um

1195
00:47:23,119 --> 00:47:25,838
no not really

1196
00:47:25,920 --> 00:47:30,960
i think you know we it managed to

1197
00:47:27,679 --> 00:47:33,598
capture the process pretty well i think

1198
00:47:30,960 --> 00:47:35,280
um it's a little off because

1199
00:47:33,599 --> 00:47:36,880
it's a little bit weird programming in

1200
00:47:35,280 --> 00:47:38,960
such small chunks

1201
00:47:36,880 --> 00:47:40,720
you know it's hard to do much

1202
00:47:38,960 --> 00:47:41,920
600 episodes still ends up being

1203
00:47:40,719 --> 00:47:43,838
something like a thousand hours of

1204
00:47:41,920 --> 00:47:45,119
programming which is like almost no

1205
00:47:43,838 --> 00:47:46,960
programming

1206
00:47:45,119 --> 00:47:48,318
um so

1207
00:47:46,960 --> 00:47:50,838
it's a little

1208
00:47:48,318 --> 00:47:55,119
challenging

1209
00:47:50,838 --> 00:47:56,159
um to produce anything good that way

1210
00:47:55,119 --> 00:47:59,119
but

1211
00:47:56,159 --> 00:48:01,199
you know it sort of captures

1212
00:47:59,119 --> 00:48:02,160
something like it

1213
00:48:01,199 --> 00:48:04,558
you know

1214
00:48:02,159 --> 00:48:04,558
um

1215
00:48:05,838 --> 00:48:08,960
yeah

1216
00:48:07,358 --> 00:48:11,039
it captures

1217
00:48:08,960 --> 00:48:13,440
programming to a certain extent it

1218
00:48:11,039 --> 00:48:17,199
doesn't really the thing that it doesn't

1219
00:48:13,440 --> 00:48:19,200
do is capture the real like

1220
00:48:17,199 --> 00:48:20,480
the really good programming

1221
00:48:19,199 --> 00:48:21,358
you know

1222
00:48:20,480 --> 00:48:23,838
um

1223
00:48:21,358 --> 00:48:26,480
because like

1224
00:48:23,838 --> 00:48:28,480
it only happens when you like spend 16

1225
00:48:26,480 --> 00:48:30,400
hours like looking at something

1226
00:48:28,480 --> 00:48:31,679
continuously you know like you're just

1227
00:48:30,400 --> 00:48:34,000
looking at it all day and you look at it

1228
00:48:31,679 --> 00:48:35,519
all day the next day

1229
00:48:34,000 --> 00:48:36,559
you know

1230
00:48:35,519 --> 00:48:38,800
um

1231
00:48:36,559 --> 00:48:38,800
and

1232
00:48:39,519 --> 00:48:42,480
and you that you just can't capture that

1233
00:48:41,440 --> 00:48:44,720
on stream

1234
00:48:42,480 --> 00:48:46,800
your brain is only half

1235
00:48:44,719 --> 00:48:47,919
engaged so you're at 50

1236
00:48:46,800 --> 00:48:49,039
you know when you're programming on

1237
00:48:47,920 --> 00:48:49,920
stream

1238
00:48:49,039 --> 00:48:53,039
and

1239
00:48:49,920 --> 00:48:54,318
that's fine for simple stuff

1240
00:48:53,039 --> 00:48:55,759
you know

1241
00:48:54,318 --> 00:48:57,358
uh

1242
00:48:55,760 --> 00:48:59,520
but like

1243
00:48:57,358 --> 00:49:02,078
it's just not good enough for things

1244
00:48:59,519 --> 00:49:04,480
like complicated code like the lighting

1245
00:49:02,079 --> 00:49:07,280
code or the debug system

1246
00:49:04,480 --> 00:49:09,599
like getting those things to be good

1247
00:49:07,280 --> 00:49:12,000
is just i don't know how doable it is on

1248
00:49:09,599 --> 00:49:14,318
stream i can certainly go do it all off

1249
00:49:12,000 --> 00:49:16,559
stream

1250
00:49:14,318 --> 00:49:19,358
and do all the learning right

1251
00:49:16,559 --> 00:49:21,519
um about exactly how i like to do those

1252
00:49:19,358 --> 00:49:24,000
things and then i can do something on

1253
00:49:21,519 --> 00:49:25,838
stream and it comes out right but that's

1254
00:49:24,000 --> 00:49:26,960
because i already knew

1255
00:49:25,838 --> 00:49:29,358
right

1256
00:49:26,960 --> 00:49:31,440
i already basically knew the hard parts

1257
00:49:29,358 --> 00:49:33,759
of the answer

1258
00:49:31,440 --> 00:49:35,920
and reconstructing them again in code is

1259
00:49:33,760 --> 00:49:38,319
not hard if you have you know the

1260
00:49:35,920 --> 00:49:40,240
experience right

1261
00:49:38,318 --> 00:49:43,358
but like

1262
00:49:40,239 --> 00:49:43,358
the real like

1263
00:49:43,960 --> 00:49:49,358
extremely good things they they just

1264
00:49:46,960 --> 00:49:51,599
don't happen on a stream

1265
00:49:49,358 --> 00:49:54,000
i guess is what i'd say

1266
00:49:51,599 --> 00:49:54,000
um

1267
00:49:54,239 --> 00:49:58,318
some accidental discoveries do sometimes

1268
00:49:56,559 --> 00:49:59,200
uh like the way to do the perfectly

1269
00:49:58,318 --> 00:50:01,759
round

1270
00:49:59,199 --> 00:50:04,318
interpolated light source thing

1271
00:50:01,760 --> 00:50:06,880
by using negative numbers in the lights

1272
00:50:04,318 --> 00:50:08,480
that was an example of like oh hey i

1273
00:50:06,880 --> 00:50:09,599
accidentally stumbled upon this by going

1274
00:50:08,480 --> 00:50:10,800
hey i wonder if this would work and then

1275
00:50:09,599 --> 00:50:13,119
it does

1276
00:50:10,800 --> 00:50:15,760
we had a couple of those moments

1277
00:50:13,119 --> 00:50:18,720
um but the really like

1278
00:50:15,760 --> 00:50:20,720
insightful like

1279
00:50:18,719 --> 00:50:22,879
hardcore code stuff it just doesn't

1280
00:50:20,719 --> 00:50:25,838
happen on stream that's that's just and

1281
00:50:22,880 --> 00:50:28,400
i don't think it ever is gonna

1282
00:50:25,838 --> 00:50:31,759
you know i just don't because no matter

1283
00:50:28,400 --> 00:50:34,000
who you are or how smart you are

1284
00:50:31,760 --> 00:50:36,559
some part of your brain is required to

1285
00:50:34,000 --> 00:50:38,318
talk to do the stream

1286
00:50:36,559 --> 00:50:40,800
and that part

1287
00:50:38,318 --> 00:50:42,000
is not working on the code at that time

1288
00:50:40,800 --> 00:50:44,880
right

1289
00:50:42,000 --> 00:50:47,358
and so i think that

1290
00:50:44,880 --> 00:50:49,358
just means that whoever the person is

1291
00:50:47,358 --> 00:50:50,719
their best moments

1292
00:50:49,358 --> 00:50:52,239
will never be the ones that they're

1293
00:50:50,719 --> 00:50:54,639
streaming

1294
00:50:52,239 --> 00:50:55,919
you know what i'm saying

1295
00:50:54,639 --> 00:50:57,199
um

1296
00:50:55,920 --> 00:50:59,440
so

1297
00:50:57,199 --> 00:51:00,239
that's all i would say really

1298
00:50:59,440 --> 00:51:03,519
uh

1299
00:51:00,239 --> 00:51:06,479
otherwise i think yeah it's mostly

1300
00:51:03,519 --> 00:51:07,599
uh it's mostly what you would expect i

1301
00:51:06,480 --> 00:51:09,838
think

1302
00:51:07,599 --> 00:51:09,838
um

1303
00:51:12,079 --> 00:51:15,280
yeah

1304
00:51:14,000 --> 00:51:17,119
i don't think there's much else to say

1305
00:51:15,280 --> 00:51:19,200
about it

1306
00:51:17,119 --> 00:51:20,720
um because capturing mistakes and things

1307
00:51:19,199 --> 00:51:22,399
like that was like the point of

1308
00:51:20,719 --> 00:51:23,598
streaming the whole thing

1309
00:51:22,400 --> 00:51:24,639
you know what i mean

1310
00:51:23,599 --> 00:51:27,838
um

1311
00:51:24,639 --> 00:51:29,598
and uh so you know

1312
00:51:27,838 --> 00:51:31,440
you don't really want to say those up

1313
00:51:29,599 --> 00:51:33,039
front the point is to see how you

1314
00:51:31,440 --> 00:51:35,119
recover from things or try different

1315
00:51:33,039 --> 00:51:37,599
things you know what i mean

1316
00:51:35,119 --> 00:51:39,039
um so

1317
00:51:37,599 --> 00:51:42,680
so yeah

1318
00:51:39,039 --> 00:51:42,679
that's what i would say

1319
00:51:50,079 --> 00:51:53,920
all right back to our story i mean this

1320
00:51:52,000 --> 00:51:56,880
is basically the code uh this is

1321
00:51:53,920 --> 00:52:00,000
basically all there is once we're done

1322
00:51:56,880 --> 00:52:02,800
doing one of these passes we just change

1323
00:52:00,000 --> 00:52:04,960
the list over to the new one

1324
00:52:02,800 --> 00:52:06,480
right so we i mean hopefully everyone

1325
00:52:04,960 --> 00:52:08,318
can see how this works it's really but

1326
00:52:06,480 --> 00:52:11,039
simple we're just going over anything

1327
00:52:08,318 --> 00:52:11,920
that's a collider uh that's that's one

1328
00:52:11,039 --> 00:52:14,880
of these

1329
00:52:11,920 --> 00:52:16,720
things that wants to do stuff when it

1330
00:52:14,880 --> 00:52:20,400
runs into somebody

1331
00:52:16,719 --> 00:52:22,879
um and all we're doing is saying look

1332
00:52:20,400 --> 00:52:25,920
we've got a list of the things

1333
00:52:22,880 --> 00:52:27,920
that it hit on the last frame

1334
00:52:25,920 --> 00:52:29,920
we run through all the entities and

1335
00:52:27,920 --> 00:52:31,599
again like i said this wants to be a

1336
00:52:29,920 --> 00:52:33,838
spatial query so this is very

1337
00:52:31,599 --> 00:52:35,119
inefficient the way it's being done but

1338
00:52:33,838 --> 00:52:37,119
it'll be done exactly the same way just

1339
00:52:35,119 --> 00:52:38,559
with a more efficient query

1340
00:52:37,119 --> 00:52:40,000
iterate over the things you might

1341
00:52:38,559 --> 00:52:41,200
collide with

1342
00:52:40,000 --> 00:52:43,358
right now it's everybody but in the

1343
00:52:41,199 --> 00:52:45,279
future it would be a subset

1344
00:52:43,358 --> 00:52:47,679
you see whether or not you do collide

1345
00:52:45,280 --> 00:52:49,359
and if you do collide then you go ahead

1346
00:52:47,679 --> 00:52:51,598
and add it to the list of things for

1347
00:52:49,358 --> 00:52:53,598
next frame to track

1348
00:52:51,599 --> 00:52:55,039
and you use the list from the previous

1349
00:52:53,599 --> 00:52:57,200
frame to see whether or not this is a

1350
00:52:55,039 --> 00:52:58,400
new collision and should have an event

1351
00:52:57,199 --> 00:53:01,118
right

1352
00:52:58,400 --> 00:53:04,480
now we can also do another thing in here

1353
00:53:01,119 --> 00:53:06,960
if we want to we can have the an exit

1354
00:53:04,480 --> 00:53:08,318
collision as well

1355
00:53:06,960 --> 00:53:09,440
right

1356
00:53:08,318 --> 00:53:12,079
because

1357
00:53:09,440 --> 00:53:15,599
we could also say well at the end of

1358
00:53:12,079 --> 00:53:18,000
this compare these two groups and see if

1359
00:53:15,599 --> 00:53:20,640
you know if anyone who was in the old

1360
00:53:18,000 --> 00:53:23,599
group is now not in the new group that's

1361
00:53:20,639 --> 00:53:23,598
an exit event

1362
00:53:23,679 --> 00:53:27,679
i

1363
00:53:24,559 --> 00:53:30,800
can't think of anything offhand of why

1364
00:53:27,679 --> 00:53:34,558
we want exit events

1365
00:53:30,800 --> 00:53:37,519
right um so i don't think we need to do

1366
00:53:34,559 --> 00:53:39,599
that extra work but

1367
00:53:37,519 --> 00:53:41,679
you could trivially do it so you would

1368
00:53:39,599 --> 00:53:43,359
just compare these two and see if anyone

1369
00:53:41,679 --> 00:53:45,118
from old group doesn't appear in new

1370
00:53:43,358 --> 00:53:46,880
group that's it

1371
00:53:45,119 --> 00:53:48,960
all right

1372
00:53:46,880 --> 00:53:50,960
um

1373
00:53:48,960 --> 00:53:52,318
and as an assigned for cindy people just

1374
00:53:50,960 --> 00:53:53,760
you know so you

1375
00:53:52,318 --> 00:53:54,800
if you're interested in cmd programming

1376
00:53:53,760 --> 00:53:56,640
what i was trying to say here is like

1377
00:53:54,800 --> 00:53:58,240
you can kind of see what goes on if you

1378
00:53:56,639 --> 00:53:59,279
have an array of let's say this was

1379
00:53:58,239 --> 00:54:00,078
eight

1380
00:53:59,280 --> 00:54:02,559
right

1381
00:54:00,079 --> 00:54:04,318
which is the natural avx with so the avx

1382
00:54:02,559 --> 00:54:08,079
width in

1383
00:54:04,318 --> 00:54:09,279
so in x64 the avx uh which is the

1384
00:54:08,079 --> 00:54:11,680
processor you're likely programming on

1385
00:54:09,280 --> 00:54:15,280
has avx

1386
00:54:11,679 --> 00:54:18,078
uh the avx width is going to be 32 bytes

1387
00:54:15,280 --> 00:54:21,119
which is eight four byte values

1388
00:54:18,079 --> 00:54:24,559
this entity collider group if it was one

1389
00:54:21,119 --> 00:54:26,000
avx register large would store eight

1390
00:54:24,559 --> 00:54:27,440
entity ids

1391
00:54:26,000 --> 00:54:31,039
right

1392
00:54:27,440 --> 00:54:33,119
if you wanted to do the check to see

1393
00:54:31,039 --> 00:54:36,558
whether your old group and your new

1394
00:54:33,119 --> 00:54:40,480
group had anything in common right

1395
00:54:36,559 --> 00:54:44,079
it's just eight pairs of instructions

1396
00:54:40,480 --> 00:54:47,039
right it's broadcast one of the ids from

1397
00:54:44,079 --> 00:54:49,280
the old group to all eight lanes one

1398
00:54:47,039 --> 00:54:50,558
instruction second instruction is

1399
00:54:49,280 --> 00:54:53,200
compare

1400
00:54:50,559 --> 00:54:57,599
against the single register that holds

1401
00:54:53,199 --> 00:54:57,598
all eight ids from the new group right

1402
00:54:59,280 --> 00:55:03,280
that's basically it

1403
00:55:02,318 --> 00:55:04,880
um

1404
00:55:03,280 --> 00:55:07,519
you could do it a different way with a

1405
00:55:04,880 --> 00:55:10,000
rotate as well but you can do those and

1406
00:55:07,519 --> 00:55:12,719
then you you effectively just have a

1407
00:55:10,000 --> 00:55:14,559
very small number of

1408
00:55:12,719 --> 00:55:15,919
actual tests

1409
00:55:14,559 --> 00:55:18,079
right

1410
00:55:15,920 --> 00:55:21,358
um so instead of

1411
00:55:18,079 --> 00:55:24,720
8 to 8 being 64 tests

1412
00:55:21,358 --> 00:55:26,318
eight to eight is only 16 tests

1413
00:55:24,719 --> 00:55:28,000
right

1414
00:55:26,318 --> 00:55:30,719
um

1415
00:55:28,000 --> 00:55:30,719
you know what i'm saying

1416
00:55:31,440 --> 00:55:34,798
uh

1417
00:55:32,318 --> 00:55:36,480
and so like you know and and that's not

1418
00:55:34,798 --> 00:55:38,480
even probably the smartest way like i'd

1419
00:55:36,480 --> 00:55:41,358
have to think about

1420
00:55:38,480 --> 00:55:43,119
uh other ways you might do it

1421
00:55:41,358 --> 00:55:46,838
there's probably

1422
00:55:43,119 --> 00:55:49,760
ways that are smarter than that right

1423
00:55:46,838 --> 00:55:53,960
um in terms of just the efficiency of

1424
00:55:49,760 --> 00:55:53,960
getting things into the right places

1425
00:56:06,559 --> 00:56:10,319
in fact

1426
00:56:09,119 --> 00:56:12,160
yeah i'm not gonna overthink it but

1427
00:56:10,318 --> 00:56:13,920
let's put it this way um there's a bunch

1428
00:56:12,159 --> 00:56:15,920
of stuff you could do here right

1429
00:56:13,920 --> 00:56:17,838
so you can always be looking for places

1430
00:56:15,920 --> 00:56:19,680
where you can do creative stuff if all

1431
00:56:17,838 --> 00:56:22,400
you care about and and the same would be

1432
00:56:19,679 --> 00:56:24,879
true of this right so this code would

1433
00:56:22,400 --> 00:56:27,200
instead of a loop at all this code would

1434
00:56:24,880 --> 00:56:29,358
just be one load broadcast so it would

1435
00:56:27,199 --> 00:56:32,078
be load this 32-bit value and broadcast

1436
00:56:29,358 --> 00:56:34,000
to all lanes of the avx

1437
00:56:32,079 --> 00:56:35,280
register and then

1438
00:56:34,000 --> 00:56:36,639
one

1439
00:56:35,280 --> 00:56:38,400
comp

1440
00:56:36,639 --> 00:56:39,838
and one

1441
00:56:38,400 --> 00:56:40,880
mask move

1442
00:56:39,838 --> 00:56:42,480
right

1443
00:56:40,880 --> 00:56:45,039
or move mask

1444
00:56:42,480 --> 00:56:48,240
you know what i'm saying um

1445
00:56:45,039 --> 00:56:51,519
so rather than literally checking eight

1446
00:56:48,239 --> 00:56:51,519
times in a loop

1447
00:56:51,679 --> 00:56:57,639
it would be three instructions total

1448
00:56:54,639 --> 00:56:57,639
right

1449
00:57:01,760 --> 00:57:06,079
because the processor just has to do

1450
00:57:03,679 --> 00:57:09,480
those steps anyway you might as well use

1451
00:57:06,079 --> 00:57:09,480
the eight lanes

1452
00:57:22,079 --> 00:57:25,079
uh

1453
00:57:28,798 --> 00:57:31,519
yeah

1454
00:57:30,239 --> 00:57:33,838
uh all right

1455
00:57:31,519 --> 00:57:35,280
so um that's all i was gonna point out

1456
00:57:33,838 --> 00:57:36,719
is that you know these are the sorts of

1457
00:57:35,280 --> 00:57:38,960
things that nowadays i just kind of

1458
00:57:36,719 --> 00:57:40,399
write everything that way uh and but the

1459
00:57:38,960 --> 00:57:42,159
hand made here at co-base is not that

1460
00:57:40,400 --> 00:57:44,880
kind of a code base right uh so it's

1461
00:57:42,159 --> 00:57:45,920
still scalar

1462
00:57:44,880 --> 00:57:48,318
um

1463
00:57:45,920 --> 00:57:50,240
but point being this is all we really

1464
00:57:48,318 --> 00:57:53,199
need is what we have here that's the

1465
00:57:50,239 --> 00:57:56,159
entirety of the code and really uh all

1466
00:57:53,199 --> 00:57:59,199
we need to i mean we have to debug it

1467
00:57:56,159 --> 00:58:00,798
and make sure it works and all that but

1468
00:57:59,199 --> 00:58:02,719
that's really all we need

1469
00:58:00,798 --> 00:58:05,119
the optimization will have to come a

1470
00:58:02,719 --> 00:58:06,558
little bit later uh this is probably not

1471
00:58:05,119 --> 00:58:08,079
gonna work i mean it will because

1472
00:58:06,559 --> 00:58:10,319
computers are so freaking fast but it's

1473
00:58:08,079 --> 00:58:12,160
very wasteful

1474
00:58:10,318 --> 00:58:14,159
the number of checks that will actually

1475
00:58:12,159 --> 00:58:16,639
get done here is vastly more than need

1476
00:58:14,159 --> 00:58:16,639
to happen

1477
00:58:16,880 --> 00:58:21,358
so uh when we actually do also we should

1478
00:58:20,000 --> 00:58:24,719
probably check to make sure that

1479
00:58:21,358 --> 00:58:27,759
collisions are on for the second

1480
00:58:24,719 --> 00:58:30,480
uh person because i like

1481
00:58:27,760 --> 00:58:32,799
i assume event on collision or something

1482
00:58:30,480 --> 00:58:34,798
i i don't know like let's just look at

1483
00:58:32,798 --> 00:58:36,480
what these are but we need a flag that

1484
00:58:34,798 --> 00:58:37,838
says whether or not you're somebody who

1485
00:58:36,480 --> 00:58:39,838
actually does it so it looks like these

1486
00:58:37,838 --> 00:58:41,838
are not even used anymore right so maybe

1487
00:58:39,838 --> 00:58:44,078
when i say remove we actually just

1488
00:58:41,838 --> 00:58:46,078
remove these because they really are

1489
00:58:44,079 --> 00:58:48,960
remove a bull right

1490
00:58:46,079 --> 00:58:51,920
so if we do if we remove that flag that

1491
00:58:48,960 --> 00:58:54,559
collision flag no one cares if we remove

1492
00:58:51,920 --> 00:58:58,639
allows motion on collision

1493
00:58:54,559 --> 00:58:59,440
um that's a thing so what does that mean

1494
00:58:58,639 --> 00:59:02,239
uh

1495
00:58:59,440 --> 00:59:05,039
allows motion on collision

1496
00:59:02,239 --> 00:59:06,639
is there here

1497
00:59:05,039 --> 00:59:07,679
and here

1498
00:59:06,639 --> 00:59:09,920
but

1499
00:59:07,679 --> 00:59:09,919
i

1500
00:59:13,838 --> 00:59:18,400
so i think that's because we had yeah i

1501
00:59:16,639 --> 00:59:20,480
think we can just get rid of that as

1502
00:59:18,400 --> 00:59:22,318
well because we don't care about those

1503
00:59:20,480 --> 00:59:25,280
collision volumes at all

1504
00:59:22,318 --> 00:59:26,880
because they're not set uh

1505
00:59:25,280 --> 00:59:29,280
for the things we actually care about so

1506
00:59:26,880 --> 00:59:31,760
i think we want to set these things that

1507
00:59:29,280 --> 00:59:35,280
are going to get collided with

1508
00:59:31,760 --> 00:59:36,160
need to be sort of marked as such

1509
00:59:35,280 --> 00:59:39,280
so

1510
00:59:36,159 --> 00:59:40,639
let's actually take a look here

1511
00:59:39,280 --> 00:59:41,839
at how we want to do this i don't really

1512
00:59:40,639 --> 00:59:44,879
know oh let's take a look at sphere

1513
00:59:41,838 --> 00:59:46,558
collision as well so suppose we remove

1514
00:59:44,880 --> 00:59:49,599
a sphere collision

1515
00:59:46,559 --> 00:59:49,599
what does that look like

1516
00:59:52,559 --> 00:59:57,200
so it looks like the glove is set to

1517
00:59:54,480 --> 00:59:59,119
sphere collision um and so i'm gonna get

1518
00:59:57,199 --> 01:00:00,960
rid of that as well because i just don't

1519
00:59:59,119 --> 01:00:03,200
care about this stuff right now um so

1520
01:00:00,960 --> 01:00:05,760
we're just gonna leave it like this

1521
01:00:03,199 --> 01:00:10,558
so we got rid of those that we were from

1522
01:00:05,760 --> 01:00:10,559
the old stuff we now have a collider uh

1523
01:00:13,039 --> 01:00:19,838
i wanna i think i want um

1524
01:00:16,239 --> 01:00:23,039
like collision receiver

1525
01:00:19,838 --> 01:00:23,039
or receives collision

1526
01:00:26,960 --> 01:00:32,880
you know what i mean and like applies

1527
01:00:29,519 --> 01:00:32,880
collision or something like that

1528
01:00:33,519 --> 01:00:38,159
because we sort of have this you know

1529
01:00:36,079 --> 01:00:39,119
it's a little bit idiosyncratic in this

1530
01:00:38,159 --> 01:00:42,078
game

1531
01:00:39,119 --> 01:00:44,400
it's just kind of the way the game

1532
01:00:42,079 --> 01:00:46,640
design sort of wants to be

1533
01:00:44,400 --> 01:00:48,160
for lack of a better term that we've got

1534
01:00:46,639 --> 01:00:49,199
things that are supposed to be doing

1535
01:00:48,159 --> 01:00:50,078
hits

1536
01:00:49,199 --> 01:00:52,480
and things that are supposed to be

1537
01:00:50,079 --> 01:00:55,119
receiving hits and they're not the same

1538
01:00:52,480 --> 01:00:58,000
things right like sometimes in a more

1539
01:00:55,119 --> 01:00:59,440
like physics-y based game

1540
01:00:58,000 --> 01:01:02,159
you know what i mean

1541
01:00:59,440 --> 01:01:03,838
you don't have really that dichotomy

1542
01:01:02,159 --> 01:01:05,598
like everything is kind of just involved

1543
01:01:03,838 --> 01:01:08,318
in the physics but in this game it's

1544
01:01:05,599 --> 01:01:11,039
like very regimented like things hop

1545
01:01:08,318 --> 01:01:13,199
around on squares and that's separate

1546
01:01:11,039 --> 01:01:14,719
from like these gloves or bullets or

1547
01:01:13,199 --> 01:01:17,358
whatever there's gonna be that are

1548
01:01:14,719 --> 01:01:19,358
completely different um so some games

1549
01:01:17,358 --> 01:01:22,480
are like that and some games aren't in

1550
01:01:19,358 --> 01:01:24,400
this case i think our game is basically

1551
01:01:22,480 --> 01:01:26,480
um

1552
01:01:24,400 --> 01:01:30,000
it's the kind of game where you

1553
01:01:26,480 --> 01:01:32,960
you manually say in the design

1554
01:01:30,000 --> 01:01:33,838
specifically these things

1555
01:01:32,960 --> 01:01:35,760
are

1556
01:01:33,838 --> 01:01:37,440
going to apply collision they go out

1557
01:01:35,760 --> 01:01:40,319
into the world and hit things and then

1558
01:01:37,440 --> 01:01:43,838
these other things receive collision and

1559
01:01:40,318 --> 01:01:43,838
they're not the same right

1560
01:01:43,920 --> 01:01:48,720
so i think we effectively want it that

1561
01:01:46,079 --> 01:01:51,119
way where we say you've got to mark

1562
01:01:48,719 --> 01:01:53,199
anything that shoots it's an implies

1563
01:01:51,119 --> 01:01:56,160
collision anything that gets hit is a

1564
01:01:53,199 --> 01:01:58,879
receives collision uh and that's just

1565
01:01:56,159 --> 01:02:02,159
non-negotiable assuming those two things

1566
01:01:58,880 --> 01:02:03,519
are true then we call the like collision

1567
01:02:02,159 --> 01:02:06,960
resolve

1568
01:02:03,519 --> 01:02:10,318
with the projectile and the thing that

1569
01:02:06,960 --> 01:02:10,318
the projectile hit

1570
01:02:11,519 --> 01:02:15,519
and we probably want to pass the sim

1571
01:02:13,280 --> 01:02:17,200
region as well uh

1572
01:02:15,519 --> 01:02:20,559
i don't know what else we would

1573
01:02:17,199 --> 01:02:22,480
necessarily do oh we can eliminate that

1574
01:02:20,559 --> 01:02:26,160
now too can't we

1575
01:02:22,480 --> 01:02:27,358
um we can receive the sim region

1576
01:02:26,159 --> 01:02:30,719
and

1577
01:02:27,358 --> 01:02:32,798
i don't think we need anything else

1578
01:02:30,719 --> 01:02:34,558
um

1579
01:02:32,798 --> 01:02:36,239
so we'll just

1580
01:02:34,559 --> 01:02:37,680
tack that on there in case because we

1581
01:02:36,239 --> 01:02:39,358
might need that for like spatial queries

1582
01:02:37,679 --> 01:02:42,159
or whatever

1583
01:02:39,358 --> 01:02:44,318
so i don't know that we have anything

1584
01:02:42,159 --> 01:02:49,118
like this i think we did have a little

1585
01:02:44,318 --> 01:02:50,400
thing for a collision resolution before

1586
01:02:49,119 --> 01:02:53,440
maybe

1587
01:02:50,400 --> 01:02:55,358
um i it may have gotten removed

1588
01:02:53,440 --> 01:02:58,358
i don't remember

1589
01:02:55,358 --> 01:02:58,358
um

1590
01:03:05,440 --> 01:03:07,920
you don't

1591
01:03:11,039 --> 01:03:14,319
so this oh

1592
01:03:12,318 --> 01:03:16,159
yeah yeah

1593
01:03:14,318 --> 01:03:17,838
i was gonna say when we were doing this

1594
01:03:16,159 --> 01:03:20,879
i was like didn't we have a thing for

1595
01:03:17,838 --> 01:03:23,038
this already we did a long time ago the

1596
01:03:20,880 --> 01:03:24,640
pairwise collision rule thing

1597
01:03:23,039 --> 01:03:28,559
remember this

1598
01:03:24,639 --> 01:03:31,199
um i don't think we ever actually saved

1599
01:03:28,559 --> 01:03:34,000
that

1600
01:03:31,199 --> 01:03:37,679
like it's not it doesn't exist anymore

1601
01:03:34,000 --> 01:03:39,679
but the this part of it remained

1602
01:03:37,679 --> 01:03:41,838
you remember this

1603
01:03:39,679 --> 01:03:44,960
long ago like we had a little sword

1604
01:03:41,838 --> 01:03:47,199
thing long long long long ago

1605
01:03:44,960 --> 01:03:49,280
right

1606
01:03:47,199 --> 01:03:51,838
so we can't punch no you can punch trees

1607
01:03:49,280 --> 01:03:54,079
you just have to mark them as punchable

1608
01:03:51,838 --> 01:03:54,078
right

1609
01:03:57,039 --> 01:04:00,799
the designer chooses the designer

1610
01:03:58,880 --> 01:04:03,280
chooses whether you can punch trees is

1611
01:04:00,798 --> 01:04:05,280
what i'm what i'm trying to say right

1612
01:04:03,280 --> 01:04:07,359
like

1613
01:04:05,280 --> 01:04:09,280
if the designer says you can punch trees

1614
01:04:07,358 --> 01:04:11,119
then you can punch trees if they don't

1615
01:04:09,280 --> 01:04:12,720
then you can't right

1616
01:04:11,119 --> 01:04:15,119
it's not that

1617
01:04:12,719 --> 01:04:16,639
everything always gets punched

1618
01:04:15,119 --> 01:04:18,000
uh and

1619
01:04:16,639 --> 01:04:20,558
you know

1620
01:04:18,000 --> 01:04:22,719
then the designer sets the punch damage

1621
01:04:20,559 --> 01:04:25,039
to zero for the tree or something like

1622
01:04:22,719 --> 01:04:26,798
that right they literally say for every

1623
01:04:25,039 --> 01:04:30,480
type of thing in the game whether it's

1624
01:04:26,798 --> 01:04:30,480
something that gets punched right

1625
01:04:30,559 --> 01:04:35,839
but you can set the trees to punchable

1626
01:04:32,239 --> 01:04:37,679
that's totally fine right there's no

1627
01:04:35,838 --> 01:04:40,000
uh there's nothing wrong with that this

1628
01:04:37,679 --> 01:04:41,919
is this is all old code too particles

1629
01:04:40,000 --> 01:04:43,599
like we have a full particle thing now

1630
01:04:41,920 --> 01:04:45,440
so that's not

1631
01:04:43,599 --> 01:04:46,960
a thing anymore

1632
01:04:45,440 --> 01:04:48,400
um

1633
01:04:46,960 --> 01:04:51,599
all this old stuff

1634
01:04:48,400 --> 01:04:53,039
uh anyway so i don't know that we have

1635
01:04:51,599 --> 01:04:55,519
uh

1636
01:04:53,039 --> 01:04:57,839
the yeah the collision stuff

1637
01:04:55,519 --> 01:04:57,838
um

1638
01:04:58,079 --> 01:05:03,839
i don't know that can collide really

1639
01:05:00,159 --> 01:05:07,558
gets used anymore either uh so i'm gonna

1640
01:05:03,838 --> 01:05:07,558
sort of get rid of that

1641
01:05:08,880 --> 01:05:12,240
uh and it's just down to resolving

1642
01:05:10,719 --> 01:05:14,558
collisions

1643
01:05:12,239 --> 01:05:16,239
resolving collisions we don't really

1644
01:05:14,559 --> 01:05:17,760
have uh

1645
01:05:16,239 --> 01:05:20,318
anything

1646
01:05:17,760 --> 01:05:21,440
at the moment

1647
01:05:20,318 --> 01:05:23,519
i

1648
01:05:21,440 --> 01:05:27,358
you know that's this is going to get

1649
01:05:23,519 --> 01:05:27,358
complicated in here for sure

1650
01:05:33,119 --> 01:05:37,760
so assuming that we have an applier and

1651
01:05:34,639 --> 01:05:39,920
a receiver this is where the collision

1652
01:05:37,760 --> 01:05:41,359
you know resolution code would happen

1653
01:05:39,920 --> 01:05:43,358
it's going to get a lot more complicated

1654
01:05:41,358 --> 01:05:45,838
for right now i guess we would just

1655
01:05:43,358 --> 01:05:47,519
reduce the hit points

1656
01:05:45,838 --> 01:05:48,639
of the receiver

1657
01:05:47,519 --> 01:05:49,519
which

1658
01:05:48,639 --> 01:05:51,038
uh

1659
01:05:49,519 --> 01:05:52,639
you know

1660
01:05:51,039 --> 01:05:54,480
is some

1661
01:05:52,639 --> 01:05:56,558
simple

1662
01:05:54,480 --> 01:05:58,240
value here like

1663
01:05:56,559 --> 01:06:00,400
we don't even really know

1664
01:05:58,239 --> 01:06:02,399
what's going on here

1665
01:06:00,400 --> 01:06:06,079
um

1666
01:06:02,400 --> 01:06:08,079
do we already have code for this from a

1667
01:06:06,079 --> 01:06:10,480
ancient like day you know

1668
01:06:08,079 --> 01:06:10,480
50

1669
01:06:11,599 --> 01:06:14,960
show me all the hit point code

1670
01:06:16,318 --> 01:06:21,838
so this draws the hit points

1671
01:06:19,199 --> 01:06:23,838
that initializes hit points but no

1672
01:06:21,838 --> 01:06:26,239
there's no code for it

1673
01:06:23,838 --> 01:06:30,078
so basically we can just do whatever we

1674
01:06:26,239 --> 01:06:32,159
want here i have no idea how this code

1675
01:06:30,079 --> 01:06:34,640
is supposed to work or what it's

1676
01:06:32,159 --> 01:06:38,318
supposed to do

1677
01:06:34,639 --> 01:06:40,639
i assume that hit point max

1678
01:06:38,318 --> 01:06:42,558
so if we want to remove a hit point from

1679
01:06:40,639 --> 01:06:44,960
somebody

1680
01:06:42,559 --> 01:06:47,920
these hit points are like whether or not

1681
01:06:44,960 --> 01:06:49,760
they're full is like in their

1682
01:06:47,920 --> 01:06:52,079
filled amount

1683
01:06:49,760 --> 01:06:52,079
um

1684
01:06:52,159 --> 01:06:56,159
like who knows what the heck i have no

1685
01:06:54,400 --> 01:07:01,838
idea what any of this stuff does

1686
01:06:56,159 --> 01:07:01,838
so let's start with this let's start by

1687
01:07:02,480 --> 01:07:06,559
uh maybe we'll make one of those little

1688
01:07:04,159 --> 01:07:09,440
snake dudes well first of all i need

1689
01:07:06,559 --> 01:07:12,079
some hit points i mean i guess i want to

1690
01:07:09,440 --> 01:07:14,240
always win my own game right

1691
01:07:12,079 --> 01:07:16,160
so we should make me have infinite hit

1692
01:07:14,239 --> 01:07:17,679
points or something uh which is what i

1693
01:07:16,159 --> 01:07:19,838
have now but you know in order to make

1694
01:07:17,679 --> 01:07:21,679
the game any fun the hero's gotta have

1695
01:07:19,838 --> 01:07:22,880
to be able to die

1696
01:07:21,679 --> 01:07:26,078
um

1697
01:07:22,880 --> 01:07:27,440
so those snake pieces all have little

1698
01:07:26,079 --> 01:07:29,760
hit point

1699
01:07:27,440 --> 01:07:32,318
placeholder markers below them right

1700
01:07:29,760 --> 01:07:33,920
those are little like temporary there's

1701
01:07:32,318 --> 01:07:35,440
little boxes

1702
01:07:33,920 --> 01:07:37,838
that we drew

1703
01:07:35,440 --> 01:07:39,358
uh to show that there were hit points

1704
01:07:37,838 --> 01:07:41,599
on the stupid snake thing that always

1705
01:07:39,358 --> 01:07:43,358
gets stuck in the corner he sticks his

1706
01:07:41,599 --> 01:07:44,240
own self in the corner

1707
01:07:43,358 --> 01:07:46,558
um

1708
01:07:44,239 --> 01:07:48,959
so the stupid snake thing already has

1709
01:07:46,559 --> 01:07:51,280
hit points and so when i hit one of

1710
01:07:48,960 --> 01:07:54,079
those snake pieces there

1711
01:07:51,280 --> 01:07:55,119
uh we want to do something with the hit

1712
01:07:54,079 --> 01:07:56,400
points

1713
01:07:55,119 --> 01:07:57,200
right

1714
01:07:56,400 --> 01:07:59,680
and

1715
01:07:57,199 --> 01:08:01,519
i mean presumably we just start with the

1716
01:07:59,679 --> 01:08:03,598
dumbest thing which is that when you hit

1717
01:08:01,519 --> 01:08:05,679
you take away a hit point

1718
01:08:03,599 --> 01:08:08,559
and these are probably going to get a

1719
01:08:05,679 --> 01:08:12,719
lot more complicated over time i don't

1720
01:08:08,559 --> 01:08:12,720
know what the heck hitpoint sub count is

1721
01:08:14,239 --> 01:08:17,198
i mean what did i do right the game or

1722
01:08:15,760 --> 01:08:19,119
something

1723
01:08:17,198 --> 01:08:22,158
i

1724
01:08:19,119 --> 01:08:22,158
so what is it

1725
01:08:22,798 --> 01:08:28,000
so it looks like hitpoint sub count is

1726
01:08:25,279 --> 01:08:30,880
just the name that we gave to how filled

1727
01:08:28,000 --> 01:08:30,880
hit points get

1728
01:08:32,399 --> 01:08:36,838
i guess so it's like the subdivisions

1729
01:08:39,198 --> 01:08:43,039
right that's really what it is let's

1730
01:08:41,279 --> 01:08:44,000
let's name it a little more clearer

1731
01:08:43,039 --> 01:08:46,319
right

1732
01:08:44,000 --> 01:08:49,439
so it's saying that like a hit point has

1733
01:08:46,319 --> 01:08:51,520
this many like sub hit points

1734
01:08:49,439 --> 01:08:53,838
you know what i'm saying

1735
01:08:51,520 --> 01:08:53,839
um

1736
01:09:01,920 --> 01:09:07,199
that's actually true sagan

1737
01:09:05,279 --> 01:09:09,520
or sagia and sorry

1738
01:09:07,198 --> 01:09:11,278
i i literally tried to download people

1739
01:09:09,520 --> 01:09:12,400
watched me do it on stream i assume you

1740
01:09:11,279 --> 01:09:14,319
were there

1741
01:09:12,399 --> 01:09:15,920
i tried to download i was like i want to

1742
01:09:14,319 --> 01:09:17,279
play minecraft you know it's one of the

1743
01:09:15,920 --> 01:09:19,679
most popular games in the world i like

1744
01:09:17,279 --> 01:09:22,319
to play it i tried to buy it i put in my

1745
01:09:19,679 --> 01:09:24,798
credit card number it didn't work i

1746
01:09:22,319 --> 01:09:27,279
tried paypal that didn't work so i've

1747
01:09:24,798 --> 01:09:28,640
still never played minecraft

1748
01:09:27,279 --> 01:09:31,600
i've bought

1749
01:09:28,640 --> 01:09:34,640
dozens of games

1750
01:09:31,600 --> 01:09:36,560
since then with the same credit card

1751
01:09:34,640 --> 01:09:38,880
but like microsoft couldn't figure it

1752
01:09:36,560 --> 01:09:40,480
out they were like we do not know how to

1753
01:09:38,880 --> 01:09:42,719
charge a credit card to buy minecraft

1754
01:09:40,479 --> 01:09:45,599
like we're never gonna know sorry we

1755
01:09:42,719 --> 01:09:49,439
tried their own browser we tried edge

1756
01:09:45,600 --> 01:09:51,440
they wrote the browser

1757
01:09:49,439 --> 01:09:53,599
well they didn't write it they rebundled

1758
01:09:51,439 --> 01:09:53,599
it

1759
01:09:53,838 --> 01:09:57,960
but it's the one they shipped

1760
01:10:07,039 --> 01:10:11,840
like like if they don't test edge what

1761
01:10:09,679 --> 01:10:12,960
do they test it's the one they ship with

1762
01:10:11,840 --> 01:10:15,360
windows

1763
01:10:12,960 --> 01:10:16,960
so i tried it on both that and firefox

1764
01:10:15,359 --> 01:10:19,439
if i remember correctly and neither

1765
01:10:16,960 --> 01:10:20,640
could do it and i tried both paypal and

1766
01:10:19,439 --> 01:10:22,399
their built-in credit card thing and

1767
01:10:20,640 --> 01:10:23,440
neither of those worked so just like all

1768
01:10:22,399 --> 01:10:24,639
right

1769
01:10:23,439 --> 01:10:26,238
great

1770
01:10:24,640 --> 01:10:27,840
i guess i'm never playing minecraft i

1771
01:10:26,238 --> 01:10:29,919
don't care

1772
01:10:27,840 --> 01:10:31,279
i probably wouldn't even like minecraft

1773
01:10:29,920 --> 01:10:32,319
so it doesn't matter

1774
01:10:31,279 --> 01:10:34,079
but

1775
01:10:32,319 --> 01:10:37,119
it's just kind of lame because like i

1776
01:10:34,079 --> 01:10:39,519
wanted to just see minecraft

1777
01:10:37,119 --> 01:10:42,319
and microsoft couldn't do it like they

1778
01:10:39,520 --> 01:10:44,400
that was way too much for them to charge

1779
01:10:42,319 --> 01:10:46,719
a credit card and give you an executive

1780
01:10:44,399 --> 01:10:48,960
they had no idea how that would happen

1781
01:10:46,719 --> 01:10:48,960
right

1782
01:10:50,319 --> 01:10:53,599
um all right so we want to go to the

1783
01:10:52,399 --> 01:10:56,960
receive

1784
01:10:53,600 --> 01:10:58,960
the receive or guy here and this is not

1785
01:10:56,960 --> 01:11:00,000
really what we want to do all the time

1786
01:10:58,960 --> 01:11:02,000
because there's going to be plenty of

1787
01:11:00,000 --> 01:11:03,760
times when this isn't the case

1788
01:11:02,000 --> 01:11:07,119
um but like i guess i'm just going to

1789
01:11:03,760 --> 01:11:09,679
maybe i'll do like an apply damage call

1790
01:11:07,119 --> 01:11:10,960
just anticipating the fact

1791
01:11:09,679 --> 01:11:12,560
that i'm going to want to be able to do

1792
01:11:10,960 --> 01:11:13,760
this at different times it's a little

1793
01:11:12,560 --> 01:11:15,440
it's getting a little bit ahead which i

1794
01:11:13,760 --> 01:11:16,719
don't normally like to do

1795
01:11:15,439 --> 01:11:20,000
um

1796
01:11:16,719 --> 01:11:22,640
but i just kind of know that i i

1797
01:11:20,000 --> 01:11:25,198
you know will will want to be able to do

1798
01:11:22,640 --> 01:11:27,119
this right

1799
01:11:25,198 --> 01:11:28,559
so if i take an entity i want to be able

1800
01:11:27,119 --> 01:11:31,279
to apply some damage and we don't really

1801
01:11:28,560 --> 01:11:33,440
know how damage is uh

1802
01:11:31,279 --> 01:11:37,759
going to like

1803
01:11:33,439 --> 01:11:37,759
affect right this you know

1804
01:11:38,560 --> 01:11:41,440
we don't know how we're going to record

1805
01:11:40,000 --> 01:11:43,039
damage or store damage or any of those

1806
01:11:41,439 --> 01:11:44,479
sorts of things so we're still in the

1807
01:11:43,039 --> 01:11:45,840
early days of that sort of stuff because

1808
01:11:44,479 --> 01:11:47,279
against game design it's not really what

1809
01:11:45,840 --> 01:11:50,000
i do

1810
01:11:47,279 --> 01:11:50,800
but uh we know here we could just say

1811
01:11:50,000 --> 01:11:53,439
like

1812
01:11:50,800 --> 01:11:55,600
you know there's a count for now

1813
01:11:53,439 --> 01:11:57,439
just how much damage and maybe for now

1814
01:11:55,600 --> 01:11:59,120
the count's just one

1815
01:11:57,439 --> 01:12:00,079
because i mean

1816
01:11:59,119 --> 01:12:02,319
we

1817
01:12:00,079 --> 01:12:03,279
again don't know so we're gonna fill

1818
01:12:02,319 --> 01:12:05,439
this in

1819
01:12:03,279 --> 01:12:09,599
as we start to like add random gameplay

1820
01:12:05,439 --> 01:12:12,319
features i just go in here and you know

1821
01:12:09,600 --> 01:12:14,239
monkey with this until we have some

1822
01:12:12,319 --> 01:12:17,279
better idea of like what's actually

1823
01:12:14,238 --> 01:12:21,039
going on when you apply damage right

1824
01:12:17,279 --> 01:12:24,000
so now in here we go to the hit points

1825
01:12:21,039 --> 01:12:28,000
and i think what we do is we walk

1826
01:12:24,000 --> 01:12:29,920
backwards i mean i don't really know um

1827
01:12:28,000 --> 01:12:32,880
like i said before we've got these hit

1828
01:12:29,920 --> 01:12:34,719
points and there's flags the flags are

1829
01:12:32,880 --> 01:12:37,359
not defined anywhere as far as i can

1830
01:12:34,719 --> 01:12:39,359
tell so there's no actual

1831
01:12:37,359 --> 01:12:42,000
flags or anything like that

1832
01:12:39,359 --> 01:12:43,679
um and then we have this filled amount

1833
01:12:42,000 --> 01:12:44,479
here right

1834
01:12:43,679 --> 01:12:46,158
uh

1835
01:12:44,479 --> 01:12:48,319
and

1836
01:12:46,158 --> 01:12:50,158
i think the idea

1837
01:12:48,319 --> 01:12:51,840
is that eventually this is kind of going

1838
01:12:50,158 --> 01:12:52,719
to be like a thing

1839
01:12:51,840 --> 01:12:53,150
where

1840
01:12:52,719 --> 01:12:55,359
you

1841
01:12:53,149 --> 01:12:57,759
[Music]

1842
01:12:55,359 --> 01:13:00,639
you know like you can have

1843
01:12:57,760 --> 01:13:00,989
properties attached to the hit point

1844
01:13:00,640 --> 01:13:02,480
um

1845
01:13:00,989 --> 01:13:05,039
[Music]

1846
01:13:02,479 --> 01:13:07,279
that kind of thing there's nothing

1847
01:13:05,039 --> 01:13:07,279
uh

1848
01:13:07,520 --> 01:13:11,679
there's nothing there

1849
01:13:08,960 --> 01:13:13,760
uh yet right we haven't even we don't

1850
01:13:11,679 --> 01:13:14,800
even have like a guess as to what that

1851
01:13:13,760 --> 01:13:17,119
would be because again that's game

1852
01:13:14,800 --> 01:13:18,400
design not programming

1853
01:13:17,119 --> 01:13:21,519
um so

1854
01:13:18,399 --> 01:13:25,119
that's like more like what do you want

1855
01:13:21,520 --> 01:13:25,120
uh if that makes sense

1856
01:13:25,600 --> 01:13:28,640
so

1857
01:13:27,279 --> 01:13:29,679
we're only really looking at filled

1858
01:13:28,640 --> 01:13:33,280
amount

1859
01:13:29,679 --> 01:13:35,440
and presumably this goes from the back

1860
01:13:33,279 --> 01:13:37,359
for like downward

1861
01:13:35,439 --> 01:13:41,599
i assume

1862
01:13:37,359 --> 01:13:43,519
uh so we would do something like uh

1863
01:13:41,600 --> 01:13:47,840
the hit point max well i guess i don't

1864
01:13:43,520 --> 01:13:47,840
know maybe it's drawn in the other order

1865
01:13:58,880 --> 01:14:04,800
i guess i don't know

1866
01:14:01,679 --> 01:14:07,679
what order is it drawn in

1867
01:14:04,800 --> 01:14:09,679
if hit point max is greater than or

1868
01:14:07,679 --> 01:14:12,319
equal to one

1869
01:14:09,679 --> 01:14:14,880
otherwise known as greater than zero

1870
01:14:12,319 --> 01:14:17,759
um

1871
01:14:14,880 --> 01:14:19,279
the health index is less than the max

1872
01:14:17,760 --> 01:14:21,920
and we

1873
01:14:19,279 --> 01:14:23,439
plus plus it

1874
01:14:21,920 --> 01:14:28,440
we

1875
01:14:23,439 --> 01:14:28,439
draw the filled amount

1876
01:14:49,279 --> 01:14:52,399
um so i don't know

1877
01:14:53,439 --> 01:14:58,479
how we want to do this exactly i'm going

1878
01:14:55,119 --> 01:15:01,119
to just type in some garbage first

1879
01:14:58,479 --> 01:15:03,439
and i'm going to say like all right

1880
01:15:01,119 --> 01:15:04,960
hitpoint index is equal to the hit point

1881
01:15:03,439 --> 01:15:06,929
max

1882
01:15:04,960 --> 01:15:09,198
like -1

1883
01:15:06,930 --> 01:15:11,840
[Music]

1884
01:15:09,198 --> 01:15:11,839
and

1885
01:15:11,920 --> 01:15:17,760
in this case i guess we would have to

1886
01:15:13,760 --> 01:15:17,760
step back down through it this way

1887
01:15:19,439 --> 01:15:26,000
it's kind of ugly right but i think this

1888
01:15:21,359 --> 01:15:27,198
is roughly what you'd have to do i

1889
01:15:26,000 --> 01:15:28,640
which is why i say maybe it should be

1890
01:15:27,198 --> 01:15:31,678
stored in the other order so that it's

1891
01:15:28,640 --> 01:15:33,280
easier to work with this way

1892
01:15:31,679 --> 01:15:37,800
but we'll see

1893
01:15:33,279 --> 01:15:37,800
anyway so we have hit points

1894
01:15:40,800 --> 01:15:46,320
uh and these

1895
01:15:43,439 --> 01:15:46,319
is it hit point

1896
01:15:46,560 --> 01:15:53,080
it is

1897
01:15:48,238 --> 01:15:53,079
uh so we have like entity hit points

1898
01:16:00,158 --> 01:16:04,719
and we want to see like okay we have

1899
01:16:03,039 --> 01:16:06,238
some count that we're going to decrement

1900
01:16:04,719 --> 01:16:08,480
here

1901
01:16:06,238 --> 01:16:11,359
and

1902
01:16:08,479 --> 01:16:15,439
i guess what we would say is in here we

1903
01:16:11,359 --> 01:16:16,639
also want to say that count is not zero

1904
01:16:15,439 --> 01:16:17,439
right

1905
01:16:16,640 --> 01:16:19,440
so

1906
01:16:17,439 --> 01:16:21,359
because we're going to take off as many

1907
01:16:19,439 --> 01:16:23,439
hit points like by subtracting them from

1908
01:16:21,359 --> 01:16:25,279
the thing as we go applying it each

1909
01:16:23,439 --> 01:16:28,479
individual time

1910
01:16:25,279 --> 01:16:30,319
and another way to say that is we may

1911
01:16:28,479 --> 01:16:35,759
want this to be

1912
01:16:30,319 --> 01:16:38,399
like a more like a for loop um

1913
01:16:35,760 --> 01:16:40,159
i don't know we'll see because

1914
01:16:38,399 --> 01:16:42,000
if you actually want to do this you may

1915
01:16:40,158 --> 01:16:43,039
want to do it each time like in other

1916
01:16:42,000 --> 01:16:45,439
words

1917
01:16:43,039 --> 01:16:47,679
this supply damage

1918
01:16:45,439 --> 01:16:50,319
may be more like something you call

1919
01:16:47,679 --> 01:16:54,399
repeatedly because too much logic has to

1920
01:16:50,319 --> 01:16:57,039
occur so you don't pass like a number

1921
01:16:54,399 --> 01:16:57,039
you know what i mean

1922
01:17:00,000 --> 01:17:03,119
so it's hard to say

1923
01:17:01,679 --> 01:17:04,880
i i'm i'm

1924
01:17:03,119 --> 01:17:07,119
i'm not sure

1925
01:17:04,880 --> 01:17:07,119
uh

1926
01:17:14,319 --> 01:17:17,920
i i think i might say that you call it

1927
01:17:16,238 --> 01:17:20,000
repeatedly i think that's what you're

1928
01:17:17,920 --> 01:17:21,520
gonna do because this will end up being

1929
01:17:20,000 --> 01:17:24,479
very complicated with like a bunch of

1930
01:17:21,520 --> 01:17:26,880
flags and crap for each hit so if you're

1931
01:17:24,479 --> 01:17:28,718
applying more than one of those i think

1932
01:17:26,880 --> 01:17:31,039
they probably have to be called multiple

1933
01:17:28,719 --> 01:17:32,560
times to do different logic

1934
01:17:31,039 --> 01:17:34,560
probably

1935
01:17:32,560 --> 01:17:36,080
i don't really know this is not going to

1936
01:17:34,560 --> 01:17:37,520
be a performance bottleneck because the

1937
01:17:36,079 --> 01:17:39,600
amount of damage that gets supplied on

1938
01:17:37,520 --> 01:17:41,280
any given frame is fairly low

1939
01:17:39,600 --> 01:17:42,880
even if it's in like the hundreds it's

1940
01:17:41,279 --> 01:17:44,559
not going to be a big deal one way or

1941
01:17:42,880 --> 01:17:46,079
the other so i think it's probably

1942
01:17:44,560 --> 01:17:47,280
doesn't really matter

1943
01:17:46,079 --> 01:17:48,719
anyway

1944
01:17:47,279 --> 01:17:51,439
so we

1945
01:17:48,719 --> 01:17:52,719
look at the last hit point here we say

1946
01:17:51,439 --> 01:17:54,158
like if

1947
01:17:52,719 --> 01:17:55,679
um

1948
01:17:54,158 --> 01:17:57,839
hit

1949
01:17:55,679 --> 01:17:58,800
and there's this like filled amount i

1950
01:17:57,840 --> 01:18:03,039
guess

1951
01:17:58,800 --> 01:18:05,360
so if hit filled amount we subtract

1952
01:18:03,039 --> 01:18:05,359
right

1953
01:18:05,600 --> 01:18:08,960
and break and that's it

1954
01:18:09,119 --> 01:18:12,279
i think

1955
01:18:15,679 --> 01:18:21,440
so that's applying damage uh we applied

1956
01:18:18,479 --> 01:18:22,639
damage to the receiver always

1957
01:18:21,439 --> 01:18:25,198
um

1958
01:18:22,640 --> 01:18:28,239
and now in order to make this do

1959
01:18:25,198 --> 01:18:29,678
anything we would have to we probably

1960
01:18:28,238 --> 01:18:32,559
are going to you know need to do stuff

1961
01:18:29,679 --> 01:18:34,480
like apply some reaction stuff and spawn

1962
01:18:32,560 --> 01:18:35,760
particles and all that kind of stuff but

1963
01:18:34,479 --> 01:18:38,158
for right now

1964
01:18:35,760 --> 01:18:39,760
um we just want to get this to a point

1965
01:18:38,158 --> 01:18:43,039
where it does

1966
01:18:39,760 --> 01:18:44,800
the actual gameplay action so in

1967
01:18:43,039 --> 01:18:46,960
adblayor

1968
01:18:44,800 --> 01:18:49,520
with the glove

1969
01:18:46,960 --> 01:18:51,840
we would have to order in

1970
01:18:49,520 --> 01:18:52,960
um the entity flag

1971
01:18:51,840 --> 01:18:55,039
of

1972
01:18:52,960 --> 01:18:59,520
applies collision

1973
01:18:55,039 --> 01:18:59,519
and for something like a monstar

1974
01:19:00,079 --> 01:19:02,640
i

1975
01:19:00,880 --> 01:19:06,119
like in here

1976
01:19:02,640 --> 01:19:06,119
we would need

1977
01:19:15,520 --> 01:19:19,000
uh so okay

1978
01:19:22,000 --> 01:19:24,560
where's the snake there it is i'm like

1979
01:19:23,760 --> 01:19:27,360
we know there's a snake in here

1980
01:19:24,560 --> 01:19:31,280
somewhere uh so for the snake anything

1981
01:19:27,359 --> 01:19:33,599
in here we would need to add the

1982
01:19:31,279 --> 01:19:36,599
like for the head

1983
01:19:33,600 --> 01:19:36,600
um

1984
01:19:39,760 --> 01:19:45,679
we would put in receives collision

1985
01:19:42,000 --> 01:19:49,039
uh and for the segment same

1986
01:19:45,679 --> 01:19:51,279
so now in theory the glove can punch and

1987
01:19:49,039 --> 01:19:53,840
the snake can receive punches

1988
01:19:51,279 --> 01:19:55,679
again totally in theory

1989
01:19:53,840 --> 01:19:57,360
um but again just sketching out what

1990
01:19:55,679 --> 01:19:59,279
this should look like so we can start to

1991
01:19:57,359 --> 01:20:00,719
build like a little sort of system for

1992
01:19:59,279 --> 01:20:03,679
crossing

1993
01:20:00,719 --> 01:20:04,480
uh gameplay style events

1994
01:20:03,679 --> 01:20:06,158
right

1995
01:20:04,479 --> 01:20:08,238
uh and we should put a snake in the room

1996
01:20:06,158 --> 01:20:11,279
with us here so that we can not have to

1997
01:20:08,238 --> 01:20:14,000
hop around on tiles to open up the door

1998
01:20:11,279 --> 01:20:15,039
um but let's see if we can punch this

1999
01:20:14,000 --> 01:20:16,238
thing here

2000
01:20:15,039 --> 01:20:20,238
hopefully this guy will get himself

2001
01:20:16,238 --> 01:20:20,238
trapped in a corner again um

2002
01:20:21,679 --> 01:20:25,520
it was a mistake to make the thing

2003
01:20:23,198 --> 01:20:27,359
multiple times this thing doesn't draw

2004
01:20:25,520 --> 01:20:29,280
differently if you

2005
01:20:27,359 --> 01:20:30,799
if you uh

2006
01:20:29,279 --> 01:20:33,119
it doesn't look like it though like it

2007
01:20:30,800 --> 01:20:34,639
doesn't look like i'm getting any uh off

2008
01:20:33,119 --> 01:20:36,158
of it it doesn't draw until you would

2009
01:20:34,639 --> 01:20:38,159
hit four times right because those would

2010
01:20:36,158 --> 01:20:40,238
be set to four but doesn't look like it

2011
01:20:38,158 --> 01:20:43,119
so let me see if we're getting an

2012
01:20:40,238 --> 01:20:44,718
interrupt in the collision uh or not

2013
01:20:43,119 --> 01:20:47,719
so in

2014
01:20:44,719 --> 01:20:47,719
well

2015
01:20:48,479 --> 01:20:52,799
so in applied damage for example you can

2016
01:20:50,639 --> 01:20:54,400
see it's not triggering right

2017
01:20:52,800 --> 01:20:56,560
so we're not actually doing it and we're

2018
01:20:54,399 --> 01:20:58,079
not sure why let's see if we ever

2019
01:20:56,560 --> 01:21:00,560
actually process

2020
01:20:58,079 --> 01:21:02,158
any colliders at all would be the next

2021
01:21:00,560 --> 01:21:04,880
thing

2022
01:21:02,158 --> 01:21:06,238
so in here where we're doing the entity

2023
01:21:04,880 --> 01:21:08,560
update

2024
01:21:06,238 --> 01:21:08,559
um

2025
01:21:11,920 --> 01:21:16,719
so we are checking

2026
01:21:14,399 --> 01:21:18,638
right like someone's checking

2027
01:21:16,719 --> 01:21:22,719
because we're getting into this code

2028
01:21:18,639 --> 01:21:22,719
uh is anyone getting here

2029
01:21:24,880 --> 01:21:27,520
and part of that is i gotta go check to

2030
01:21:26,399 --> 01:21:29,679
make sure any of these things have

2031
01:21:27,520 --> 01:21:31,840
collision volumes because they might not

2032
01:21:29,679 --> 01:21:32,719
uh in which case that's kind of why

2033
01:21:31,840 --> 01:21:35,039
right

2034
01:21:32,719 --> 01:21:38,239
in fact we can do that pretty easily by

2035
01:21:35,039 --> 01:21:41,519
just turning on collision volume drawing

2036
01:21:38,238 --> 01:21:44,638
so in the world mode uh not world mode

2037
01:21:41,520 --> 01:21:45,840
in the nd code uh there's at the end

2038
01:21:44,639 --> 01:21:47,199
there's the thing that draws collision

2039
01:21:45,840 --> 01:21:51,400
volumes

2040
01:21:47,198 --> 01:21:51,399
um it's that

2041
01:21:58,479 --> 01:22:00,319
um

2042
01:21:59,359 --> 01:22:02,238
so

2043
01:22:00,319 --> 01:22:03,599
here are the collision volumes in the

2044
01:22:02,238 --> 01:22:04,718
game

2045
01:22:03,600 --> 01:22:07,840
and

2046
01:22:04,719 --> 01:22:07,840
that has collision volume

2047
01:22:08,639 --> 01:22:14,560
oh the glove's collision volume is

2048
01:22:10,639 --> 01:22:17,119
weirdly like not attached to the glove

2049
01:22:14,560 --> 01:22:17,920
i guess i know why that would be

2050
01:22:17,119 --> 01:22:19,679
but

2051
01:22:17,920 --> 01:22:22,158
it doesn't matter because that's still

2052
01:22:19,679 --> 01:22:23,440
obviously colliding

2053
01:22:22,158 --> 01:22:24,399
right

2054
01:22:23,439 --> 01:22:26,079
um

2055
01:22:24,399 --> 01:22:28,000
we'll work on that in a second isn't it

2056
01:22:26,079 --> 01:22:30,238
oh no it's not

2057
01:22:28,000 --> 01:22:32,158
yeah it is no that is that is

2058
01:22:30,238 --> 01:22:33,759
that's still obviously colliding i was

2059
01:22:32,158 --> 01:22:35,759
like i thought it was too low at first

2060
01:22:33,760 --> 01:22:38,320
there but it's it's fine

2061
01:22:35,760 --> 01:22:40,239
so it's obviously colliding so we have a

2062
01:22:38,319 --> 01:22:42,158
the overlap code is like busted or

2063
01:22:40,238 --> 01:22:44,158
something right like you can see that

2064
01:22:42,158 --> 01:22:46,238
that's obviously colliding and should

2065
01:22:44,158 --> 01:22:48,238
produce a collision somehow

2066
01:22:46,238 --> 01:22:49,919
i assume that means this isn't working

2067
01:22:48,238 --> 01:22:52,879
because i assume we set

2068
01:22:49,920 --> 01:22:55,039
this receives collision um

2069
01:22:52,880 --> 01:22:57,199
so that it would be the entity overlaps

2070
01:22:55,039 --> 01:23:00,079
entity code that's not working but i

2071
01:22:57,198 --> 01:23:02,238
guess i don't actually know that i mean

2072
01:23:00,079 --> 01:23:04,800
maybe that flag isn't set but i'm pretty

2073
01:23:02,238 --> 01:23:07,039
sure we just like we literally just set

2074
01:23:04,800 --> 01:23:09,679
that code

2075
01:23:07,039 --> 01:23:09,679
in the snake

2076
01:23:14,880 --> 01:23:18,079
you know that's

2077
01:23:16,560 --> 01:23:21,840
not supposed to be equals that's

2078
01:23:18,079 --> 01:23:21,840
supposed to be or equals

2079
01:23:23,679 --> 01:23:27,359
by the way

2080
01:23:25,439 --> 01:23:28,799
we should probably make an add flag

2081
01:23:27,359 --> 01:23:30,960
function so that i don't accidentally

2082
01:23:28,800 --> 01:23:34,000
make that typo

2083
01:23:30,960 --> 01:23:36,079
since we've already seen me make it once

2084
01:23:34,000 --> 01:23:37,359
you can certainly make it again uh

2085
01:23:36,079 --> 01:23:40,079
anyway

2086
01:23:37,359 --> 01:23:41,039
so i think

2087
01:23:40,079 --> 01:23:41,760
uh

2088
01:23:41,039 --> 01:23:43,600
we

2089
01:23:41,760 --> 01:23:45,920
need to go find out

2090
01:23:43,600 --> 01:23:48,480
uh maybe if there's something wrong with

2091
01:23:45,920 --> 01:23:50,800
that uh over entity overlap

2092
01:23:48,479 --> 01:23:52,319
code

2093
01:23:50,800 --> 01:23:54,639
i guess

2094
01:23:52,319 --> 01:23:54,639
um

2095
01:24:01,359 --> 01:24:06,399
that looks

2096
01:24:03,279 --> 01:24:08,639
extremely straightforward

2097
01:24:06,399 --> 01:24:08,638
so

2098
01:24:12,399 --> 01:24:16,238
that's

2099
01:24:13,439 --> 01:24:17,519
kind of weird

2100
01:24:16,238 --> 01:24:19,039
let's

2101
01:24:17,520 --> 01:24:21,360
double check

2102
01:24:19,039 --> 01:24:21,359
um

2103
01:24:24,000 --> 01:24:27,920
like that's very weird wouldn't you say

2104
01:24:26,238 --> 01:24:29,599
it sure looks like that should be firing

2105
01:24:27,920 --> 01:24:31,679
let's double check here

2106
01:24:29,600 --> 01:24:33,280
we've got this

2107
01:24:31,679 --> 01:24:36,279
this check here

2108
01:24:33,279 --> 01:24:36,279
um

2109
01:24:47,920 --> 01:24:53,679
what i'm wondering is like should we

2110
01:24:49,679 --> 01:24:53,679
just separate this out like so

2111
01:24:55,359 --> 01:24:59,679
that way i can see where we actually get

2112
01:24:58,319 --> 01:25:03,279
in here

2113
01:24:59,679 --> 01:25:05,600
um because because now i'm just not sure

2114
01:25:03,279 --> 01:25:08,599
so i'd like to know you know whether

2115
01:25:05,600 --> 01:25:08,600
this

2116
01:25:18,000 --> 01:25:23,560
we also need these to not be equal the

2117
01:25:20,238 --> 01:25:23,559
same person

2118
01:25:30,639 --> 01:25:34,239
so basically as long as this thing can

2119
01:25:32,158 --> 01:25:35,039
receive collision and

2120
01:25:34,238 --> 01:25:38,839
uh

2121
01:25:35,039 --> 01:25:41,279
we the projectile ids are set

2122
01:25:38,840 --> 01:25:43,600
right um

2123
01:25:41,279 --> 01:25:46,238
that seems like something we want

2124
01:25:43,600 --> 01:25:48,560
yeah is there an ad flags

2125
01:25:46,238 --> 01:25:50,158
there is i like that we should have a

2126
01:25:48,560 --> 01:25:52,639
function that does this

2127
01:25:50,158 --> 01:25:55,839
parenthesis we already do i just didn't

2128
01:25:52,639 --> 01:25:55,840
call it

2129
01:26:06,960 --> 01:26:09,840
that was pretty funny

2130
01:26:14,000 --> 01:26:18,158
i like that

2131
01:26:16,560 --> 01:26:19,920
you know that function we should have

2132
01:26:18,158 --> 01:26:22,799
that function yeah we do have that

2133
01:26:19,920 --> 01:26:23,840
function you just didn't call it

2134
01:26:22,800 --> 01:26:24,719
um

2135
01:26:23,840 --> 01:26:26,239
so

2136
01:26:24,719 --> 01:26:28,399
i suppose if i really wanted to do it i

2137
01:26:26,238 --> 01:26:30,319
could change the flags to be like flag's

2138
01:26:28,399 --> 01:26:32,158
underscore so that it's like

2139
01:26:30,319 --> 01:26:33,599
clear that you should not be using it

2140
01:26:32,158 --> 01:26:36,920
directly but i don't know that i want to

2141
01:26:33,600 --> 01:26:36,920
go that far

2142
01:26:40,479 --> 01:26:44,158
that might be a bit much

2143
01:26:42,238 --> 01:26:47,279
okay so what

2144
01:26:44,158 --> 01:26:47,279
is the problem here

2145
01:26:47,840 --> 01:26:53,679
i want to know forever getting in here

2146
01:26:50,719 --> 01:26:53,679
that's not a good sign

2147
01:26:58,158 --> 01:27:02,920
why can i not set any breakpoints in

2148
01:26:59,920 --> 01:27:02,920
there

2149
01:27:08,399 --> 01:27:10,960
what

2150
01:27:17,359 --> 01:27:20,559
is there something really

2151
01:27:26,319 --> 01:27:29,519
is there something really stupid going

2152
01:27:27,840 --> 01:27:31,360
on here where it is optimized the whole

2153
01:27:29,520 --> 01:27:33,840
thing out because i typed something

2154
01:27:31,359 --> 01:27:33,839
stupid

2155
01:27:34,479 --> 01:27:37,119
or is that just like a debugger trick

2156
01:27:36,000 --> 01:27:38,960
i'll have to go look at the assembly in

2157
01:27:37,119 --> 01:27:42,760
a second i mean i can do it a different

2158
01:27:38,960 --> 01:27:42,760
way than that as well but

2159
01:27:46,079 --> 01:27:50,399
i don't know why that was up

2160
01:27:48,238 --> 01:27:53,039
for what it didn't need to be but that's

2161
01:27:50,399 --> 01:27:53,039
not a problem

2162
01:27:56,079 --> 01:28:00,639
if the projectile id and the check id

2163
01:27:58,238 --> 01:28:01,839
are not equal which is true almost all

2164
01:28:00,639 --> 01:28:04,159
the time

2165
01:28:01,840 --> 01:28:04,159
right

2166
01:28:13,760 --> 01:28:17,520
it was a typo

2167
01:28:15,520 --> 01:28:21,840
good on the compiler for optimizing that

2168
01:28:17,520 --> 01:28:21,840
out bad on me for having the typo

2169
01:28:22,479 --> 01:28:25,439
uh alright so

2170
01:28:24,250 --> 01:28:26,960
[Music]

2171
01:28:25,439 --> 01:28:28,638
uh we really need to put a snake in this

2172
01:28:26,960 --> 01:28:30,079
in fact let's just do that because any

2173
01:28:28,639 --> 01:28:31,359
time i restart the game i saw they

2174
01:28:30,079 --> 01:28:33,119
didn't really need to restart the game

2175
01:28:31,359 --> 01:28:35,359
for that but

2176
01:28:33,119 --> 01:28:37,679
i do like to restart the game

2177
01:28:35,359 --> 01:28:38,639
now and again and i don't want to have

2178
01:28:37,679 --> 01:28:41,039
to hop

2179
01:28:38,639 --> 01:28:42,880
around to get all that stuff for no

2180
01:28:41,039 --> 01:28:45,519
particular reason

2181
01:28:42,880 --> 01:28:46,319
so in world

2182
01:28:45,520 --> 01:28:48,639
gen

2183
01:28:46,319 --> 01:28:51,039
i don't even remember like

2184
01:28:48,639 --> 01:28:52,719
why it's set up this way probably

2185
01:28:51,039 --> 01:28:55,119
because we wanted to hop on things

2186
01:28:52,719 --> 01:28:56,719
ourselves and not have the snake

2187
01:28:55,119 --> 01:28:58,559
hop on them

2188
01:28:56,719 --> 01:29:00,079
i'm guessing

2189
01:28:58,560 --> 01:29:02,400
um

2190
01:29:00,079 --> 01:29:04,639
i i actually don't even really know

2191
01:29:02,399 --> 01:29:04,638
but

2192
01:29:05,039 --> 01:29:08,158
um

2193
01:29:05,840 --> 01:29:11,159
so when we create the dungeon

2194
01:29:08,158 --> 01:29:11,158
i

2195
01:29:12,158 --> 01:29:17,119
i guess

2196
01:29:13,359 --> 01:29:17,119
the floor entrance room

2197
01:29:18,960 --> 01:29:21,439
is

2198
01:29:21,920 --> 01:29:26,719
well why yeah what kind of room is this

2199
01:29:24,399 --> 01:29:29,198
why is this room this way

2200
01:29:26,719 --> 01:29:31,119
also we need to stop having box index

2201
01:29:29,198 --> 01:29:34,799
down as a thing

2202
01:29:31,119 --> 01:29:34,800
because we don't have that anymore

2203
01:29:36,880 --> 01:29:42,319
but uh yeah i'm not sure

2204
01:29:40,639 --> 01:29:43,199
you can see what we do here we

2205
01:29:42,319 --> 01:29:45,119
uh

2206
01:29:43,198 --> 01:29:48,638
when we place

2207
01:29:45,119 --> 01:29:52,920
the hero it's in dungeon entrance room

2208
01:29:48,639 --> 01:29:52,920
right so the entrance room

2209
01:29:53,279 --> 01:29:57,039
uh

2210
01:29:54,800 --> 01:29:58,639
is this floor entrance room which is

2211
01:29:57,039 --> 01:30:00,800
this thing

2212
01:29:58,639 --> 01:30:04,600
and

2213
01:30:00,800 --> 01:30:04,600
i guess i'm not sure

2214
01:30:08,079 --> 01:30:14,319
i guess i'm not sure why it doesn't have

2215
01:30:10,399 --> 01:30:14,319
a snake i guess

2216
01:30:14,479 --> 01:30:18,319
because we only add snakes to the rooms

2217
01:30:17,039 --> 01:30:20,079
after it

2218
01:30:18,319 --> 01:30:23,719
so if we wanted to add a snake i guess

2219
01:30:20,079 --> 01:30:23,719
we would just do this

2220
01:30:46,880 --> 01:30:51,440
um

2221
01:30:48,560 --> 01:30:53,199
why is that able to hop

2222
01:30:51,439 --> 01:30:55,119
through me i wonder oh because it

2223
01:30:53,198 --> 01:30:57,759
started on top of me interesting we have

2224
01:30:55,119 --> 01:30:57,760
to fix that

2225
01:30:57,840 --> 01:31:01,279
all right so we should now be able to

2226
01:30:59,439 --> 01:31:04,399
figure out why we can't punch these

2227
01:31:01,279 --> 01:31:07,198
things hopefully i mean maybe

2228
01:31:04,399 --> 01:31:08,399
right um

2229
01:31:07,198 --> 01:31:09,919
right so that's

2230
01:31:08,399 --> 01:31:12,399
clearly going through

2231
01:31:09,920 --> 01:31:14,480
right so let's take a look at what

2232
01:31:12,399 --> 01:31:15,679
happens breakpoint wise here

2233
01:31:14,479 --> 01:31:18,959
so

2234
01:31:15,679 --> 01:31:21,520
pointer and check the two entities here

2235
01:31:18,960 --> 01:31:25,039
uh we want to see if we get here we do

2236
01:31:21,520 --> 01:31:25,040
now do we ever get here

2237
01:31:25,520 --> 01:31:28,159
we do

2238
01:31:27,198 --> 01:31:31,799
so

2239
01:31:28,158 --> 01:31:31,799
we're actually

2240
01:31:35,279 --> 01:31:41,238
we're actually calling the collision

2241
01:31:37,039 --> 01:31:41,238
resolution function apparently

2242
01:31:51,359 --> 01:31:56,359
but it doesn't look like that function

2243
01:31:52,719 --> 01:31:56,359
ever actually does anything

2244
01:32:09,119 --> 01:32:12,399
yeah it doesn't think it doesn't think

2245
01:32:10,960 --> 01:32:15,119
this is a thing

2246
01:32:12,399 --> 01:32:15,119
that it needs

2247
01:32:20,000 --> 01:32:22,238
ah

2248
01:32:25,359 --> 01:32:27,839
how did it

2249
01:32:29,520 --> 01:32:31,760
so

2250
01:32:33,439 --> 01:32:39,039
how did this work like

2251
01:32:36,960 --> 01:32:40,800
it's supposed to be that

2252
01:32:39,039 --> 01:32:43,359
what did the compiler do with that

2253
01:32:40,800 --> 01:32:43,360
exactly

2254
01:32:44,639 --> 01:32:49,719
do i even want to know i probably don't

2255
01:32:55,198 --> 01:32:58,879
and i still can't set a breakpoint here

2256
01:32:57,439 --> 01:33:01,359
so it still doesn't think it needs to

2257
01:32:58,880 --> 01:33:02,960
call that function

2258
01:33:01,359 --> 01:33:05,519
right

2259
01:33:02,960 --> 01:33:07,920
so what did it actually do

2260
01:33:05,520 --> 01:33:09,520
it has the notion that let's see if we

2261
01:33:07,920 --> 01:33:11,840
can just look at what the disassembly is

2262
01:33:09,520 --> 01:33:14,840
there like what actually happens right

2263
01:33:11,840 --> 01:33:14,840
here

2264
01:33:26,399 --> 01:33:29,799
like nothing

2265
01:33:36,960 --> 01:33:41,600
all right so something's up with apply

2266
01:33:39,119 --> 01:33:41,599
damage

2267
01:33:42,000 --> 01:33:45,840
right something's up with this that it

2268
01:33:43,520 --> 01:33:48,080
thinks so if entity hit point max is

2269
01:33:45,840 --> 01:33:50,560
greater than zero

2270
01:33:48,079 --> 01:33:52,000
hit point index equals the hit point max

2271
01:33:50,560 --> 01:33:53,760
minus one

2272
01:33:52,000 --> 01:33:55,869
hit point index is greater than or equal

2273
01:33:53,760 --> 01:33:58,939
to zero and you subtract down

2274
01:33:55,869 --> 01:33:58,939
[Music]

2275
01:34:01,520 --> 01:34:06,880
we look at the hit point if it is filled

2276
01:34:03,920 --> 01:34:06,880
we subtract it

2277
01:34:07,600 --> 01:34:12,520
doesn't look

2278
01:34:08,960 --> 01:34:12,520
obviously ridiculous

2279
01:34:31,279 --> 01:34:34,800
that's a bit odd

2280
01:34:33,520 --> 01:34:36,480
say that

2281
01:34:34,800 --> 01:34:37,600
say that much

2282
01:34:36,479 --> 01:34:39,039
all right so

2283
01:34:37,600 --> 01:34:40,320
i'm gonna look at this in debug mode

2284
01:34:39,039 --> 01:34:41,519
because i don't understand exactly what

2285
01:34:40,319 --> 01:34:43,519
the compiler is doing there so i must

2286
01:34:41,520 --> 01:34:47,320
have had a typo somewhere in there

2287
01:34:43,520 --> 01:34:47,320
uh we'll find out in a second

2288
01:34:52,000 --> 01:34:54,399
all right

2289
01:34:52,880 --> 01:34:59,400
uh so

2290
01:34:54,399 --> 01:34:59,399
you know slow slow debug mode

2291
01:35:03,520 --> 01:35:06,480
so here's collision resolve

2292
01:35:05,439 --> 01:35:09,198
uh

2293
01:35:06,479 --> 01:35:11,919
we step in

2294
01:35:09,198 --> 01:35:13,678
to apply damage and we look at the

2295
01:35:11,920 --> 01:35:14,639
entity

2296
01:35:13,679 --> 01:35:17,920
the

2297
01:35:14,639 --> 01:35:21,039
uh hit point max is three

2298
01:35:17,920 --> 01:35:23,920
right so we would go in here

2299
01:35:21,039 --> 01:35:26,960
we then set the hit point index so the

2300
01:35:23,920 --> 01:35:29,840
index should be two right

2301
01:35:26,960 --> 01:35:29,840
um

2302
01:35:32,158 --> 01:35:35,839
right

2303
01:35:33,520 --> 01:35:38,159
uh that means we'll get the

2304
01:35:35,840 --> 01:35:40,800
the last hit point

2305
01:35:38,158 --> 01:35:43,279
the filled amount is four

2306
01:35:40,800 --> 01:35:45,279
we subtract it to get 3

2307
01:35:43,279 --> 01:35:47,920
we break out

2308
01:35:45,279 --> 01:35:47,920
of the loop

2309
01:35:48,479 --> 01:35:51,198
and that's

2310
01:35:51,840 --> 01:35:55,000
i mean

2311
01:35:56,880 --> 01:36:00,960
that's exactly what we assume

2312
01:35:58,880 --> 01:36:02,239
would happen

2313
01:36:00,960 --> 01:36:04,399
um

2314
01:36:02,238 --> 01:36:06,678
so now i'm a little confused

2315
01:36:04,399 --> 01:36:10,759
because that's like the correct behavior

2316
01:36:06,679 --> 01:36:10,760
right um

2317
01:36:12,560 --> 01:36:15,840
so yeah

2318
01:36:14,960 --> 01:36:17,679
uh

2319
01:36:15,840 --> 01:36:19,279
what's up with that is there something

2320
01:36:17,679 --> 01:36:21,600
weird going on in there that i'm not

2321
01:36:19,279 --> 01:36:23,118
thinking of like so now

2322
01:36:21,600 --> 01:36:25,440
this should be

2323
01:36:23,118 --> 01:36:26,479
able to punch these guys and they should

2324
01:36:25,439 --> 01:36:28,719
be

2325
01:36:26,479 --> 01:36:29,599
they should go down

2326
01:36:28,719 --> 01:36:32,800
uh

2327
01:36:29,600 --> 01:36:34,000
four punches should remove one

2328
01:36:32,800 --> 01:36:36,960
of the little

2329
01:36:34,000 --> 01:36:38,880
uh hearts on there

2330
01:36:36,960 --> 01:36:40,800
and

2331
01:36:38,880 --> 01:36:42,639
you know in debug mode it's kind of hard

2332
01:36:40,800 --> 01:36:45,840
to do because the lighting

2333
01:36:42,639 --> 01:36:48,239
is too slow so it takes yeah so it works

2334
01:36:45,840 --> 01:36:50,239
all right so it works just fine i guess

2335
01:36:48,238 --> 01:36:52,718
let's see if release mode was just the

2336
01:36:50,238 --> 01:36:54,479
assembly was just done in a really

2337
01:36:52,719 --> 01:36:57,439
strange way or something i don't know if

2338
01:36:54,479 --> 01:36:57,439
i believe that but

2339
01:37:05,359 --> 01:37:08,880
so it works

2340
01:37:07,198 --> 01:37:10,879
all right

2341
01:37:08,880 --> 01:37:12,639
so i guess the assembly just i optimized

2342
01:37:10,880 --> 01:37:14,079
it into the loop in a way that was like

2343
01:37:12,639 --> 01:37:15,359
going to be kind of hard for me to read

2344
01:37:14,079 --> 01:37:17,118
i guess because i didn't immediately see

2345
01:37:15,359 --> 01:37:18,960
it but i guess it's just simple enough

2346
01:37:17,118 --> 01:37:20,399
that that's what happened

2347
01:37:18,960 --> 01:37:23,359
all right so you can

2348
01:37:20,399 --> 01:37:25,920
punch out these dudes here

2349
01:37:23,359 --> 01:37:27,359
um and that's fine

2350
01:37:25,920 --> 01:37:29,199
right uh

2351
01:37:27,359 --> 01:37:30,880
and uh

2352
01:37:29,198 --> 01:37:33,198
and there you go

2353
01:37:30,880 --> 01:37:36,319
presumably we need a thing where like if

2354
01:37:33,198 --> 01:37:38,158
the damage goes to zero

2355
01:37:36,319 --> 01:37:39,439
so like if

2356
01:37:38,158 --> 01:37:41,759
entity

2357
01:37:39,439 --> 01:37:43,198
hit point zero

2358
01:37:41,760 --> 01:37:45,039
equals

2359
01:37:43,198 --> 01:37:49,279
you know

2360
01:37:45,039 --> 01:37:50,719
or rather hit point zero filled amount

2361
01:37:49,279 --> 01:37:53,840
equals zero

2362
01:37:50,719 --> 01:37:56,399
then this entity has to die

2363
01:37:53,840 --> 01:37:56,400
probably

2364
01:37:57,760 --> 01:38:00,760
right

2365
01:38:02,479 --> 01:38:06,718
and

2366
01:38:03,679 --> 01:38:06,719
i don't actually know

2367
01:38:07,439 --> 01:38:11,839
i also kind of feel like this probably

2368
01:38:10,158 --> 01:38:15,000
was annoying so i'm just gonna do this

2369
01:38:11,840 --> 01:38:15,000
for now

2370
01:38:31,359 --> 01:38:36,719
because we're going to want to do this

2371
01:38:33,920 --> 01:38:36,719
this sort of crap

2372
01:38:40,479 --> 01:38:44,919
so do we have like a is

2373
01:38:46,079 --> 01:38:50,960
like some kind of way of testing if an

2374
01:38:48,399 --> 01:38:52,399
entity is still valid because we don't

2375
01:38:50,960 --> 01:38:54,560
really need to do any of this work if

2376
01:38:52,399 --> 01:38:55,920
the entity like already died or things

2377
01:38:54,560 --> 01:38:57,760
like that

2378
01:38:55,920 --> 01:38:58,880
um but i don't actually know we probably

2379
01:38:57,760 --> 01:39:00,560
want to introduce that now because

2380
01:38:58,880 --> 01:39:02,319
gameplay is going to care about that in

2381
01:39:00,560 --> 01:39:05,520
a lot of places but i don't know if we

2382
01:39:02,319 --> 01:39:06,880
really have anything like that um

2383
01:39:05,520 --> 01:39:08,159
so we should probably add something like

2384
01:39:06,880 --> 01:39:10,639
that like there should be a thing here

2385
01:39:08,158 --> 01:39:10,638
that's like

2386
01:39:11,198 --> 01:39:14,479
um if you know

2387
01:39:13,359 --> 01:39:17,599
is

2388
01:39:14,479 --> 01:39:17,599
active or something

2389
01:39:21,359 --> 01:39:24,238
so like these things

2390
01:39:25,679 --> 01:39:29,760
are only happening you know they have

2391
01:39:27,920 --> 01:39:31,679
these checks for whether or not an

2392
01:39:29,760 --> 01:39:33,920
entity should should be doing stuff or

2393
01:39:31,679 --> 01:39:33,920
not

2394
01:39:35,679 --> 01:39:39,239
and that would be

2395
01:39:40,560 --> 01:39:45,920
that the flags

2396
01:39:42,800 --> 01:39:50,000
are set a certain way

2397
01:39:45,920 --> 01:39:50,000
so like in the entity itself

2398
01:39:52,399 --> 01:39:56,000
you've got uh

2399
01:39:54,639 --> 01:39:56,960
if

2400
01:39:56,000 --> 01:39:59,760
if

2401
01:39:56,960 --> 01:40:01,600
entity flags deleted

2402
01:39:59,760 --> 01:40:02,400
and active

2403
01:40:01,600 --> 01:40:07,320
right

2404
01:40:02,399 --> 01:40:07,319
has to just be equal to active

2405
01:40:10,639 --> 01:40:13,920
i think that's basically what we want

2406
01:40:17,600 --> 01:40:22,639
critical hits

2407
01:40:19,760 --> 01:40:24,000
probably not um

2408
01:40:22,639 --> 01:40:26,400
because

2409
01:40:24,000 --> 01:40:28,880
that's very game designy like i don't

2410
01:40:26,399 --> 01:40:30,079
really understand like entropy in game

2411
01:40:28,880 --> 01:40:32,480
design

2412
01:40:30,079 --> 01:40:33,600
a critical hit is basically just a way

2413
01:40:32,479 --> 01:40:37,279
of

2414
01:40:33,600 --> 01:40:38,960
having a average amount of damage that's

2415
01:40:37,279 --> 01:40:40,079
not equal to

2416
01:40:38,960 --> 01:40:42,158
the

2417
01:40:40,079 --> 01:40:45,198
n like so

2418
01:40:42,158 --> 01:40:48,079
a critical hit is basically when you say

2419
01:40:45,198 --> 01:40:51,118
normally if i have 10 hits

2420
01:40:48,079 --> 01:40:53,600
and the average damage is

2421
01:40:51,118 --> 01:40:56,719
you know let's say 40

2422
01:40:53,600 --> 01:40:58,719
then each hit did four damage right a

2423
01:40:56,719 --> 01:41:01,520
critical hit is a way of making the

2424
01:40:58,719 --> 01:41:03,359
average damage still be 40

2425
01:41:01,520 --> 01:41:05,679
but some of the hits are worth two and

2426
01:41:03,359 --> 01:41:07,039
some of the hits are worth eight

2427
01:41:05,679 --> 01:41:08,719
right

2428
01:41:07,039 --> 01:41:11,439
so it's a way of

2429
01:41:08,719 --> 01:41:14,079
it's a way of making a non-linear it

2430
01:41:11,439 --> 01:41:15,519
makes it non-linear the fun the function

2431
01:41:14,079 --> 01:41:18,158
right of

2432
01:41:15,520 --> 01:41:21,119
the non-monotonic the damage over time

2433
01:41:18,158 --> 01:41:23,039
it goes like that right

2434
01:41:21,118 --> 01:41:25,519
um

2435
01:41:23,039 --> 01:41:27,279
which i'm sure is like very important to

2436
01:41:25,520 --> 01:41:29,119
like crafting certain kinds of

2437
01:41:27,279 --> 01:41:30,719
experiences and if you're like a really

2438
01:41:29,118 --> 01:41:33,839
like if you're a game designer who's

2439
01:41:30,719 --> 01:41:37,198
like really into game design stuff

2440
01:41:33,840 --> 01:41:39,600
uh you would know when you need that um

2441
01:41:37,198 --> 01:41:41,839
but i don't know

2442
01:41:39,600 --> 01:41:43,520
those kinds of things that's game design

2443
01:41:41,840 --> 01:41:45,119
not game programming

2444
01:41:43,520 --> 01:41:47,199
right um

2445
01:41:45,118 --> 01:41:49,439
and so uh

2446
01:41:47,198 --> 01:41:49,439
yeah

2447
01:41:52,639 --> 01:41:55,600
so

2448
01:41:53,439 --> 01:41:57,359
uh i probably wouldn't implement

2449
01:41:55,600 --> 01:41:59,440
critical hits because i wouldn't know

2450
01:41:57,359 --> 01:42:00,719
what to do with them right like

2451
01:41:59,439 --> 01:42:03,439
you know i mean i guess i could

2452
01:42:00,719 --> 01:42:05,198
implement them just to implement them

2453
01:42:03,439 --> 01:42:06,879
but i wouldn't actually have any idea

2454
01:42:05,198 --> 01:42:09,039
what to do with it i you know what i

2455
01:42:06,880 --> 01:42:09,039
mean

2456
01:42:09,198 --> 01:42:14,079
uh all right so we need on entity

2457
01:42:11,359 --> 01:42:15,920
deletion right now we don't de-occupy

2458
01:42:14,079 --> 01:42:17,519
their square it's like i can't still

2459
01:42:15,920 --> 01:42:19,600
occupy it right so we kind of need to

2460
01:42:17,520 --> 01:42:21,760
like clean that stuff up

2461
01:42:19,600 --> 01:42:25,840
right um

2462
01:42:21,760 --> 01:42:25,840
but but this basically works now

2463
01:42:26,000 --> 01:42:29,569
yeah

2464
01:42:27,279 --> 01:42:32,659
uh so that's good um

2465
01:42:29,569 --> 01:42:32,659
[Music]

2466
01:42:34,399 --> 01:42:39,118
when an entity gets removed i don't even

2467
01:42:36,960 --> 01:42:40,560
know uh

2468
01:42:39,118 --> 01:42:43,839
when we do that but i believe it's in

2469
01:42:40,560 --> 01:42:43,840
the sim region

2470
01:42:46,238 --> 01:42:50,638
maybe not is it in the world says stuff

2471
01:42:55,279 --> 01:42:59,920
so when an entity is deleted it the

2472
01:42:57,279 --> 01:43:02,719
remove from unpacked flag gets set and

2473
01:42:59,920 --> 01:43:05,600
that's that's when it

2474
01:43:02,719 --> 01:43:07,840
that's when it goes away

2475
01:43:05,600 --> 01:43:07,840
right

2476
01:43:08,319 --> 01:43:12,639
so in delete entity uh i would assume

2477
01:43:10,800 --> 01:43:14,000
like right there we would probably want

2478
01:43:12,639 --> 01:43:16,159
to free up

2479
01:43:14,000 --> 01:43:19,198
it's

2480
01:43:16,158 --> 01:43:19,198
it's traversable

2481
01:43:20,880 --> 01:43:24,960
so like in transactional occupy occupy

2482
01:43:30,560 --> 01:43:34,199
this part here

2483
01:43:57,039 --> 01:44:02,960
so i'm not sure

2484
01:43:59,679 --> 01:44:02,960
i like test wall

2485
01:44:03,118 --> 01:44:08,639
so much stuff in here from the old days

2486
01:44:06,158 --> 01:44:10,319
yeah test wall is not still a piece of

2487
01:44:08,639 --> 01:44:13,319
this code

2488
01:44:10,319 --> 01:44:13,319
um

2489
01:44:24,000 --> 01:44:28,399
so i'm not sure i'm not sure about the

2490
01:44:30,000 --> 01:44:34,639
how traversables we probably want to

2491
01:44:32,639 --> 01:44:36,639
clean that up too because i don't even

2492
01:44:34,639 --> 01:44:38,079
know if we really need them anymore

2493
01:44:36,639 --> 01:44:40,159
because when we switch to the grid we'll

2494
01:44:38,079 --> 01:44:41,920
get rid of them but for now you can see

2495
01:44:40,158 --> 01:44:43,439
what happens so we say here's where we

2496
01:44:41,920 --> 01:44:44,239
want to go

2497
01:44:43,439 --> 01:44:45,118
i

2498
01:44:44,238 --> 01:44:47,118
and

2499
01:44:45,118 --> 01:44:48,799
that's all fine but

2500
01:44:47,118 --> 01:44:49,859
what we really care more about here is

2501
01:44:48,800 --> 01:44:52,320
where we're coming from

2502
01:44:49,859 --> 01:44:54,479
[Music]

2503
01:44:52,319 --> 01:44:57,039
um so it's this one and it what we

2504
01:44:54,479 --> 01:44:59,759
basically do here is say clear

2505
01:44:57,039 --> 01:45:04,238
so i guess it's the clear function on

2506
01:44:59,760 --> 01:45:05,840
these these particular occupiers

2507
01:45:04,238 --> 01:45:08,079
um

2508
01:45:05,840 --> 01:45:10,719
which of course we can't find because

2509
01:45:08,079 --> 01:45:12,559
for some reason

2510
01:45:10,719 --> 01:45:15,118
uh four quarter does not like to list

2511
01:45:12,560 --> 01:45:17,360
the actual thing that you would need to

2512
01:45:15,118 --> 01:45:18,559
know um

2513
01:45:17,359 --> 01:45:21,039
which is what the parameter of the

2514
01:45:18,560 --> 01:45:21,920
function was

2515
01:45:21,039 --> 01:45:24,158
so

2516
01:45:21,920 --> 01:45:24,158
uh

2517
01:45:24,800 --> 01:45:27,600
yeah i don't know

2518
01:45:27,920 --> 01:45:32,800
is it just literally that

2519
01:45:30,560 --> 01:45:34,239
so what what that's like all that gets

2520
01:45:32,800 --> 01:45:37,360
cleared in transaction i guess that's

2521
01:45:34,238 --> 01:45:37,359
all that needs to get cleared

2522
01:45:42,319 --> 01:45:47,759
so i guess we would we just it's

2523
01:45:44,319 --> 01:45:47,759
literally this like

2524
01:45:49,039 --> 01:45:53,920
so in delete entity uh we just say

2525
01:45:52,560 --> 01:45:56,880
well

2526
01:45:53,920 --> 01:45:58,399
get the traversible for

2527
01:45:56,880 --> 01:46:01,359
uh

2528
01:45:58,399 --> 01:46:03,920
this sim region

2529
01:46:01,359 --> 01:46:06,880
and this uh

2530
01:46:03,920 --> 01:46:09,359
reference so the entity you know

2531
01:46:06,880 --> 01:46:13,840
occupying

2532
01:46:09,359 --> 01:46:13,839
we then say if there was one

2533
01:46:13,920 --> 01:46:17,520
uh

2534
01:46:15,359 --> 01:46:20,719
basically this is like

2535
01:46:17,520 --> 01:46:23,199
our vacate right we're leaving this now

2536
01:46:20,719 --> 01:46:27,039
um we just clear it

2537
01:46:23,198 --> 01:46:28,079
so entity traversable point

2538
01:46:27,039 --> 01:46:29,519
this thing

2539
01:46:28,079 --> 01:46:31,920
um

2540
01:46:29,520 --> 01:46:34,159
the preview occupier and occupier i

2541
01:46:31,920 --> 01:46:35,440
don't actually know what the heck prev

2542
01:46:34,158 --> 01:46:36,799
occupier

2543
01:46:35,439 --> 01:46:39,279
uh

2544
01:46:36,800 --> 01:46:41,600
why we need that

2545
01:46:39,279 --> 01:46:45,399
but

2546
01:46:41,600 --> 01:46:45,400
it's basically this

2547
01:46:54,479 --> 01:46:59,519
um now since that's used in two places

2548
01:46:56,639 --> 01:47:00,719
i'll probably make it just a single

2549
01:46:59,520 --> 01:47:01,760
thing

2550
01:47:00,719 --> 01:47:03,198
so

2551
01:47:01,760 --> 01:47:04,880
you know

2552
01:47:03,198 --> 01:47:06,960
maybe we just have a thing here that's

2553
01:47:04,880 --> 01:47:09,840
like vacate

2554
01:47:06,960 --> 01:47:09,840
um

2555
01:47:14,960 --> 01:47:19,000
where we just do this operation

2556
01:47:25,920 --> 01:47:29,840
so

2557
01:47:27,679 --> 01:47:31,520
the mover ref

2558
01:47:29,840 --> 01:47:33,679
is just the traversable reference i

2559
01:47:31,520 --> 01:47:35,199
guess so it's it's not quite that so

2560
01:47:33,679 --> 01:47:38,158
it's like that

2561
01:47:35,198 --> 01:47:40,719
uh this code can now just be used in

2562
01:47:38,158 --> 01:47:41,920
both places so we just say like look

2563
01:47:40,719 --> 01:47:44,079
vacate

2564
01:47:41,920 --> 01:47:45,279
this mover ref thing

2565
01:47:44,079 --> 01:47:46,559
right

2566
01:47:45,279 --> 01:47:51,840
um

2567
01:47:46,560 --> 01:47:51,840
and then this code is used in here

2568
01:47:52,319 --> 01:47:56,960
and can be used in here so we just call

2569
01:47:54,800 --> 01:47:57,920
vacate sim region

2570
01:47:56,960 --> 01:48:00,719
entity

2571
01:47:57,920 --> 01:48:00,719
occupying

2572
01:48:00,800 --> 01:48:07,119
now i don't know that we need to pass it

2573
01:48:04,238 --> 01:48:09,118
as an address because we never write to

2574
01:48:07,118 --> 01:48:10,319
it so i think it can actually be done

2575
01:48:09,118 --> 01:48:12,479
that way

2576
01:48:10,319 --> 01:48:13,519
so it would look more like

2577
01:48:12,479 --> 01:48:18,118
this

2578
01:48:13,520 --> 01:48:18,119
but otherwise it's the same

2579
01:48:36,960 --> 01:48:40,960
identifier not found

2580
01:48:39,039 --> 01:48:43,279
what

2581
01:48:40,960 --> 01:48:43,279
what

2582
01:48:44,960 --> 01:48:47,840
well fine then

2583
01:49:00,639 --> 01:49:07,239
meow meow meow meow meow meow meow

2584
01:49:16,560 --> 01:49:18,800
okay

2585
01:49:22,479 --> 01:49:29,279
so i believe we can now

2586
01:49:24,920 --> 01:49:32,880
properly play through

2587
01:49:29,279 --> 01:49:35,759
um and so yeah we're unfortunately we're

2588
01:49:32,880 --> 01:49:37,920
rapidly going to be moving into the part

2589
01:49:35,760 --> 01:49:39,119
of the situation where we have to do

2590
01:49:37,920 --> 01:49:40,960
some design

2591
01:49:39,118 --> 01:49:44,639
stuff now

2592
01:49:40,960 --> 01:49:44,639
um which is fine

2593
01:49:45,118 --> 01:49:49,920
but we can clear these guys now

2594
01:49:47,840 --> 01:49:51,760
right um

2595
01:49:49,920 --> 01:49:53,279
technically although we would want to

2596
01:49:51,760 --> 01:49:56,159
really like

2597
01:49:53,279 --> 01:49:57,759
do a much better job on the av of that

2598
01:49:56,158 --> 01:49:59,198
so that it feels good to punch people

2599
01:49:57,760 --> 01:50:00,639
but

2600
01:49:59,198 --> 01:50:02,479
so that feels good to punch people you

2601
01:50:00,639 --> 01:50:03,359
know just like in real life

2602
01:50:02,479 --> 01:50:04,319
um

2603
01:50:03,359 --> 01:50:08,639
so

2604
01:50:04,319 --> 01:50:10,319
uh we yeah we need to like um

2605
01:50:08,639 --> 01:50:12,480
do a bunch of work on the presentation

2606
01:50:10,319 --> 01:50:15,039
of it but

2607
01:50:12,479 --> 01:50:15,039
thus far

2608
01:50:15,599 --> 01:50:19,279
we now don't really have to worry too

2609
01:50:17,520 --> 01:50:22,080
much about getting through a dungeon we

2610
01:50:19,279 --> 01:50:25,079
can punch people

2611
01:50:22,079 --> 01:50:25,079
technically

2612
01:50:27,279 --> 01:50:31,920
uh we should probably

2613
01:50:29,439 --> 01:50:34,919
make there be a way for us to get hit

2614
01:50:31,920 --> 01:50:34,920
obviously

2615
01:50:41,359 --> 01:50:46,479
that's probably

2616
01:50:43,198 --> 01:50:46,479
the next obvious thing to do

2617
01:50:47,359 --> 01:50:51,759
which is presumably just getting hit by

2618
01:50:49,760 --> 01:50:54,800
enemies

2619
01:50:51,760 --> 01:50:55,840
that hop into the square with us

2620
01:50:54,800 --> 01:50:57,360
i guess

2621
01:50:55,840 --> 01:51:00,679
right

2622
01:50:57,359 --> 01:51:00,679
i don't know

2623
01:51:11,359 --> 01:51:14,960
um and there's another thing we have to

2624
01:51:12,719 --> 01:51:17,279
do as well which is that the glove

2625
01:51:14,960 --> 01:51:19,039
may not do damage all the time so when

2626
01:51:17,279 --> 01:51:21,279
the glove is returning from a punch it

2627
01:51:19,039 --> 01:51:23,118
shouldn't do damage right

2628
01:51:21,279 --> 01:51:25,519
um so we're gonna have to change the

2629
01:51:23,118 --> 01:51:27,839
flag stuff uh to be a little bit more

2630
01:51:25,520 --> 01:51:30,560
dynamic like maybe the glove gets its

2631
01:51:27,840 --> 01:51:31,599
flag set depending on what move state

2632
01:51:30,560 --> 01:51:34,639
it's in

2633
01:51:31,599 --> 01:51:35,840
or something like that right

2634
01:51:34,639 --> 01:51:38,880
um

2635
01:51:35,840 --> 01:51:38,880
so that seems fine

2636
01:51:41,039 --> 01:51:45,599
um we should also stop

2637
01:51:45,679 --> 01:51:49,840
stop the violence uh we should stop

2638
01:51:50,800 --> 01:51:55,599
drawing the um

2639
01:51:54,000 --> 01:51:58,560
we should stop

2640
01:51:55,599 --> 01:51:59,920
like having the box down stuff on

2641
01:51:58,560 --> 01:52:03,119
generation

2642
01:51:59,920 --> 01:52:05,440
like because we can't

2643
01:52:03,118 --> 01:52:08,719
we can't go up and down anymore right we

2644
01:52:05,439 --> 01:52:11,919
decided to we pulled that out so

2645
01:52:08,719 --> 01:52:14,158
the direction stuff

2646
01:52:11,920 --> 01:52:16,239
the box direction

2647
01:52:14,158 --> 01:52:18,238
um

2648
01:52:16,238 --> 01:52:20,559
i don't remember what it's called

2649
01:52:18,238 --> 01:52:23,198
direct no

2650
01:52:20,560 --> 01:52:26,000
it's like direction something

2651
01:52:23,198 --> 01:52:30,238
um which i don't remember what it is but

2652
01:52:26,000 --> 01:52:32,479
basically like the box down thing

2653
01:52:30,238 --> 01:52:32,479
uh

2654
01:52:34,560 --> 01:52:41,679
in

2655
01:52:36,719 --> 01:52:45,198
here box index down whatever that is

2656
01:52:41,679 --> 01:52:47,599
is not a thing anymore

2657
01:52:45,198 --> 01:52:47,598
this

2658
01:52:48,238 --> 01:52:52,799
right

2659
01:52:49,760 --> 01:52:53,920
so box index up and down

2660
01:52:52,800 --> 01:52:55,039
um

2661
01:52:53,920 --> 01:52:59,079
that

2662
01:52:55,039 --> 01:52:59,079
isn't a thing anymore

2663
01:52:59,439 --> 01:53:02,719
so we kind of want to get rid of it i

2664
01:53:01,279 --> 01:53:04,800
mean i don't know

2665
01:53:02,719 --> 01:53:08,079
who uses it exactly

2666
01:53:04,800 --> 01:53:11,079
but we probably don't want it

2667
01:53:08,079 --> 01:53:11,079
anywhere

2668
01:53:16,399 --> 01:53:21,279
anymore

2669
01:53:18,960 --> 01:53:24,760
maybe

2670
01:53:21,279 --> 01:53:24,759
not really sure

2671
01:53:35,359 --> 01:53:41,158
all right

2672
01:53:37,920 --> 01:53:41,158
all right

2673
01:53:41,840 --> 01:53:44,480
all right

2674
01:53:47,118 --> 01:53:49,118
all right

2675
01:53:48,158 --> 01:53:51,118
um

2676
01:53:49,118 --> 01:53:53,519
so i think we can just pretty much

2677
01:53:51,118 --> 01:53:55,279
remove them it doesn't look like anybody

2678
01:53:53,520 --> 01:53:58,800
uses it right

2679
01:53:55,279 --> 01:54:02,238
so we can say those go away

2680
01:53:58,800 --> 01:54:02,239
uh and these go away

2681
01:54:04,479 --> 01:54:09,789
we can check this and say that it's

2682
01:54:09,359 --> 01:54:12,938
um

2683
01:54:09,789 --> 01:54:12,939
[Music]

2684
01:54:16,399 --> 01:54:22,238
not really sure why that was

2685
01:54:19,359 --> 01:54:26,479
checking against box index up when

2686
01:54:22,238 --> 01:54:26,479
there's already a box index count

2687
01:54:26,639 --> 01:54:30,400
but

2688
01:54:28,880 --> 01:54:32,400
yeah i don't know about that it's a bit

2689
01:54:30,399 --> 01:54:34,158
suspicious

2690
01:54:32,399 --> 01:54:37,638
um

2691
01:54:34,158 --> 01:54:37,638
get rid of this

2692
01:54:41,118 --> 01:54:46,719
i guess this is gonna be

2693
01:54:44,639 --> 01:54:48,880
down so if we're connecting the room

2694
01:54:46,719 --> 01:54:49,920
above and it's saying it's a downward

2695
01:54:48,880 --> 01:54:51,760
connection this would probably be a

2696
01:54:49,920 --> 01:54:54,319
northward connection and it's not room

2697
01:54:51,760 --> 01:54:56,400
above anymore

2698
01:54:54,319 --> 01:54:57,439
obviously

2699
01:54:56,399 --> 01:54:58,479
uh

2700
01:54:57,439 --> 01:55:00,079
this

2701
01:54:58,479 --> 01:55:01,359
is just

2702
01:55:00,079 --> 01:55:04,920
not a thing

2703
01:55:01,359 --> 01:55:04,920
you can't have stairwells

2704
01:55:08,560 --> 01:55:13,360
um and so now i think we have the

2705
01:55:10,880 --> 01:55:15,520
problem of our room packer as crappy as

2706
01:55:13,359 --> 01:55:18,158
it is is just gonna run out of

2707
01:55:15,520 --> 01:55:20,239
uh

2708
01:55:18,158 --> 01:55:21,839
to do right like it's not gonna it's

2709
01:55:20,238 --> 01:55:24,158
gonna assert that it runs out of room

2710
01:55:21,840 --> 01:55:26,159
because it's super terrible

2711
01:55:24,158 --> 01:55:28,879
um

2712
01:55:26,158 --> 01:55:31,359
which is not really a huge deal

2713
01:55:28,880 --> 01:55:32,480
where's our generate world thing

2714
01:55:31,359 --> 01:55:33,920
because we know we have to fix that

2715
01:55:32,479 --> 01:55:35,598
anyway but

2716
01:55:33,920 --> 01:55:37,599
uh in the interim so i just want to get

2717
01:55:35,599 --> 01:55:40,480
rid of those and then

2718
01:55:37,599 --> 01:55:40,480
i i don't know

2719
01:55:45,520 --> 01:55:49,679
i'm gonna set the floor count to one

2720
01:55:47,359 --> 01:55:51,839
because we gotta redo this code anyway

2721
01:55:49,679 --> 01:55:54,319
so let's see if it packs a single floor

2722
01:55:51,840 --> 01:55:55,679
correctly with a super crappy nonsense

2723
01:55:54,319 --> 01:55:56,399
no it doesn't

2724
01:55:55,679 --> 01:55:58,319
so

2725
01:55:56,399 --> 01:56:00,559
you can see like the problem here is the

2726
01:55:58,319 --> 01:56:03,039
layout thing being as dumb as it is it

2727
01:56:00,560 --> 01:56:04,639
just puts in the rooms and can't find a

2728
01:56:03,039 --> 01:56:06,800
place to put

2729
01:56:04,639 --> 01:56:08,880
the rooms when it can't go down

2730
01:56:06,800 --> 01:56:10,719
right um at least i believe that's what

2731
01:56:08,880 --> 01:56:12,400
that's

2732
01:56:10,719 --> 01:56:14,319
telling it right

2733
01:56:12,399 --> 01:56:16,079
um

2734
01:56:14,319 --> 01:56:17,039
don't quote me on that

2735
01:56:16,079 --> 01:56:18,479
so

2736
01:56:17,039 --> 01:56:20,238
yeah like

2737
01:56:18,479 --> 01:56:22,959
really just

2738
01:56:20,238 --> 01:56:25,759
the issue is this

2739
01:56:22,960 --> 01:56:27,279
system being crappy

2740
01:56:25,760 --> 01:56:28,560
it should be able to do this but it

2741
01:56:27,279 --> 01:56:30,319
can't

2742
01:56:28,560 --> 01:56:32,239
and we can make something a lot nicer

2743
01:56:30,319 --> 01:56:33,198
here now especially because it's not 3d

2744
01:56:32,238 --> 01:56:37,198
anymore

2745
01:56:33,198 --> 01:56:40,799
it makes that a lot easier as well but

2746
01:56:37,198 --> 01:56:40,799
so in the layout code

2747
01:56:42,000 --> 01:56:44,560
this right here

2748
01:56:43,359 --> 01:56:45,679
is

2749
01:56:44,560 --> 01:56:48,159
the

2750
01:56:45,679 --> 01:56:50,639
the test to see whether or not it was

2751
01:56:48,158 --> 01:56:53,799
able to place the room

2752
01:56:50,639 --> 01:56:53,800
i believe

2753
01:57:06,719 --> 01:57:13,198
yeah because here's it trying

2754
01:57:09,840 --> 01:57:13,199
then this is it failing

2755
01:57:14,319 --> 01:57:19,759
and basically like you know normally if

2756
01:57:17,039 --> 01:57:22,000
you want this code to work well at all

2757
01:57:19,760 --> 01:57:23,760
you need it to place things in a way

2758
01:57:22,000 --> 01:57:25,840
that if it can't place something it just

2759
01:57:23,760 --> 01:57:28,560
tries again or doesn't

2760
01:57:25,840 --> 01:57:29,440
uh do it right

2761
01:57:28,560 --> 01:57:32,159
and

2762
01:57:29,439 --> 01:57:35,039
in our case it's not so you could just

2763
01:57:32,158 --> 01:57:36,559
say like all right look there's no room

2764
01:57:35,039 --> 01:57:37,519
it doesn't matter

2765
01:57:36,560 --> 01:57:40,320
um

2766
01:57:37,520 --> 01:57:41,840
and that's fine for now uh but really we

2767
01:57:40,319 --> 01:57:45,118
we want to change the way this code

2768
01:57:41,840 --> 01:57:46,400
works in the future anyway uh yeah and

2769
01:57:45,118 --> 01:57:48,158
the other thing too is it has to check

2770
01:57:46,399 --> 01:57:52,039
to make sure that there actually is a

2771
01:57:48,158 --> 01:57:52,039
room to place it in later

2772
01:57:52,158 --> 01:57:56,559
i don't really like the way this code

2773
01:57:53,760 --> 01:57:58,880
works and i never have because it it's

2774
01:57:56,560 --> 01:57:59,920
maybe a little bit too much

2775
01:57:58,880 --> 01:58:01,840
right

2776
01:57:59,920 --> 01:58:04,560
like it's just

2777
01:58:01,840 --> 01:58:06,639
it's not explicit enough it's very like

2778
01:58:04,560 --> 01:58:09,119
vague like oh just here's some rooms

2779
01:58:06,639 --> 01:58:10,960
that we want you to like lay out

2780
01:58:09,118 --> 01:58:13,039
and it just doesn't seem

2781
01:58:10,960 --> 01:58:14,800
like it just seems too complicated so

2782
01:58:13,039 --> 01:58:17,039
you end up having to like buffer

2783
01:58:14,800 --> 01:58:19,840
everything into basically an ir like

2784
01:58:17,039 --> 01:58:22,800
there's this intermediate language for

2785
01:58:19,840 --> 01:58:25,440
uh what rooms you want like in this case

2786
01:58:22,800 --> 01:58:27,360
you know what i'm saying

2787
01:58:25,439 --> 01:58:30,960
and like i guess that's okay i don't

2788
01:58:27,359 --> 01:58:30,960
know it just seems kind

2789
01:58:32,840 --> 01:58:37,039
of it seems like it's going to be too

2790
01:58:35,279 --> 01:58:40,079
hard to get the results we want out of

2791
01:58:37,039 --> 01:58:40,079
it you know what i mean

2792
01:58:45,760 --> 01:58:49,119
uh and so i feel like something that's

2793
01:58:47,520 --> 01:58:51,280
just more immediate

2794
01:58:49,118 --> 01:58:53,759
would be better where you just like

2795
01:58:51,279 --> 01:58:55,920
generate stuff and it can do little like

2796
01:58:53,760 --> 01:58:57,679
look-aheads if it needs to but mostly

2797
01:58:55,920 --> 01:58:59,920
it's just hand-coded how it generates

2798
01:58:57,679 --> 01:58:59,920
things

2799
01:59:00,238 --> 01:59:03,839
it just seems better

2800
01:59:04,399 --> 01:59:07,598
because we already have to do we have to

2801
01:59:05,520 --> 01:59:09,679
do all this like buffering right and it

2802
01:59:07,599 --> 01:59:10,960
just doesn't it just feels like over

2803
01:59:09,679 --> 01:59:13,599
complicated for what it's going to

2804
01:59:10,960 --> 01:59:13,599
eventually do

2805
01:59:14,319 --> 01:59:18,639
i we don't

2806
01:59:15,679 --> 01:59:18,639
have this problem anymore

2807
01:59:19,279 --> 01:59:21,519
um

2808
01:59:20,479 --> 01:59:24,399
so like

2809
01:59:21,520 --> 01:59:26,400
the spec that whole thing like that that

2810
01:59:24,399 --> 01:59:27,679
sort of spec

2811
01:59:26,399 --> 01:59:29,759
thing

2812
01:59:27,679 --> 01:59:31,599
is is what i mean right like i feel like

2813
01:59:29,760 --> 01:59:33,199
we can do better than that

2814
01:59:31,599 --> 01:59:36,639
by just getting rid of those and doing

2815
01:59:33,198 --> 01:59:38,559
it immediately so like when you

2816
01:59:36,639 --> 01:59:40,000
start to do the layout you just actually

2817
01:59:38,560 --> 01:59:42,560
do the layout

2818
01:59:40,000 --> 01:59:44,399
in immediate calls so for example when

2819
01:59:42,560 --> 01:59:45,920
you're gonna do create orphanage instead

2820
01:59:44,399 --> 01:59:47,439
of having to do the spec first each of

2821
01:59:45,920 --> 01:59:49,359
these calls actually just generates the

2822
01:59:47,439 --> 01:59:51,598
actual room

2823
01:59:49,359 --> 01:59:51,598
right

2824
01:59:53,760 --> 01:59:57,199
and so the downside of doing that is

2825
01:59:56,079 --> 02:00:01,319
that you

2826
01:59:57,198 --> 02:00:03,118
need to have some ability to do uh

2827
02:00:01,319 --> 02:00:05,519
pre-knowledge

2828
02:00:03,118 --> 02:00:07,679
of where things might be

2829
02:00:05,520 --> 02:00:09,520
so that you can make connections between

2830
02:00:07,679 --> 02:00:11,199
them but

2831
02:00:09,520 --> 02:00:13,520
uh

2832
02:00:11,198 --> 02:00:14,479
that i don't think that will be that

2833
02:00:13,520 --> 02:00:17,679
hard

2834
02:00:14,479 --> 02:00:19,759
in principle right like we can do little

2835
02:00:17,679 --> 02:00:21,920
things that look ahead as necessary but

2836
02:00:19,760 --> 02:00:25,599
then you don't have this whole

2837
02:00:21,920 --> 02:00:28,079
nonsense there's so much right like

2838
02:00:25,599 --> 02:00:30,560
going on in here that's all of this

2839
02:00:28,079 --> 02:00:32,158
stuff could have just been

2840
02:00:30,560 --> 02:00:33,599
direct

2841
02:00:32,158 --> 02:00:36,598
you know what i mean

2842
02:00:33,599 --> 02:00:36,599
um

2843
02:00:42,399 --> 02:00:46,960
yeah so i i just feel like it's kind of

2844
02:00:44,800 --> 02:00:49,039
stupid is i guess what i'm trying to say

2845
02:00:46,960 --> 02:00:54,118
like like i feel like

2846
02:00:49,039 --> 02:00:54,118
we should be able to make it so that we

2847
02:00:54,158 --> 02:00:59,598
create what we need to

2848
02:00:57,359 --> 02:00:59,598
uh

2849
02:01:01,760 --> 02:01:06,560
at the time

2850
02:01:04,560 --> 02:01:09,560
you know what i mean

2851
02:01:06,560 --> 02:01:09,560
and

2852
02:01:11,679 --> 02:01:15,440
i feel like that was just a better

2853
02:01:13,198 --> 02:01:17,919
approach this is like too it's too

2854
02:01:15,439 --> 02:01:19,519
advanced and you could imagine doing it

2855
02:01:17,920 --> 02:01:21,679
this way

2856
02:01:19,520 --> 02:01:25,360
you're just you have a tremendous amount

2857
02:01:21,679 --> 02:01:26,319
more work and it's not entirely clear

2858
02:01:25,359 --> 02:01:28,559
why

2859
02:01:26,319 --> 02:01:28,559
like

2860
02:01:28,639 --> 02:01:33,039
won't we end up having to make this

2861
02:01:30,479 --> 02:01:36,000
really like powerful generation system

2862
02:01:33,039 --> 02:01:37,920
but why did we do that right because we

2863
02:01:36,000 --> 02:01:38,719
know we're only ever gonna do this one

2864
02:01:37,920 --> 02:01:41,279
thing

2865
02:01:38,719 --> 02:01:42,880
so it it's just gonna create a lot of

2866
02:01:41,279 --> 02:01:44,800
work but we're not gonna get like the

2867
02:01:42,880 --> 02:01:46,960
benefit out of that work you know what

2868
02:01:44,800 --> 02:01:49,279
i'm saying because just hand coding the

2869
02:01:46,960 --> 02:01:51,198
one we actually wanted to generate

2870
02:01:49,279 --> 02:01:54,880
would actually

2871
02:01:51,198 --> 02:01:57,759
be less work in total over time

2872
02:01:54,880 --> 02:01:59,199
is i guess what i'm saying

2873
02:01:57,760 --> 02:02:00,639
so like if you imagine just like

2874
02:01:59,198 --> 02:02:03,598
sketching this out

2875
02:02:00,639 --> 02:02:08,000
so that it's it's doesn't do

2876
02:02:03,599 --> 02:02:09,840
as stupid as it is right it's less dumb

2877
02:02:08,000 --> 02:02:12,399
um so

2878
02:02:09,840 --> 02:02:14,639
yeah and like all this stuff is the same

2879
02:02:12,399 --> 02:02:16,238
way right like

2880
02:02:14,639 --> 02:02:18,480
you could still

2881
02:02:16,238 --> 02:02:19,439
you could still do

2882
02:02:18,479 --> 02:02:20,879
this

2883
02:02:19,439 --> 02:02:22,399
meaning

2884
02:02:20,880 --> 02:02:26,400
you could still

2885
02:02:22,399 --> 02:02:28,000
defer placement of npcs until the end

2886
02:02:26,399 --> 02:02:28,960
because you literally just build that

2887
02:02:28,000 --> 02:02:30,000
list

2888
02:02:28,960 --> 02:02:31,520
right

2889
02:02:30,000 --> 02:02:34,639
um

2890
02:02:31,520 --> 02:02:35,920
and then randomly pick from the list

2891
02:02:34,639 --> 02:02:38,079
uh

2892
02:02:35,920 --> 02:02:41,039
but otherwise i think you can just you

2893
02:02:38,079 --> 02:02:44,319
could just do this more straight ahead

2894
02:02:41,039 --> 02:02:45,118
so i think i might just do that

2895
02:02:44,319 --> 02:02:47,840
right

2896
02:02:45,118 --> 02:02:47,839
so

2897
02:03:04,800 --> 02:03:09,560
so yeah like supposed

2898
02:03:28,000 --> 02:03:32,359
let me think about this for one second

2899
02:03:48,639 --> 02:03:55,440
so there is like one kind of weirdness

2900
02:03:52,479 --> 02:03:58,319
this has very little to do with

2901
02:03:55,439 --> 02:03:58,319
the actual

2902
02:04:08,639 --> 02:04:12,000
so one thing that's kind of a little bit

2903
02:04:10,238 --> 02:04:14,799
weird is

2904
02:04:12,000 --> 02:04:16,158
the generating the like sort of forest

2905
02:04:14,800 --> 02:04:17,360
area

2906
02:04:16,158 --> 02:04:20,238
is a little bit different than

2907
02:04:17,359 --> 02:04:22,399
generating dungeon areas in that maybe

2908
02:04:20,238 --> 02:04:26,078
we just want that area to be like not

2909
02:04:22,399 --> 02:04:28,238
room based because that area could

2910
02:04:26,078 --> 02:04:28,238
be

2911
02:04:31,198 --> 02:04:34,198
um

2912
02:04:42,238 --> 02:04:45,359
yeah

2913
02:04:43,039 --> 02:04:47,679
that that part's a little harder to

2914
02:04:45,359 --> 02:04:49,920
think through because if you didn't want

2915
02:04:47,679 --> 02:04:53,239
it to be room based you kind of have

2916
02:04:49,920 --> 02:04:53,239
this weird

2917
02:04:53,760 --> 02:04:57,800
notion of like where

2918
02:05:07,439 --> 02:05:10,559
i think maybe so

2919
02:05:11,520 --> 02:05:14,960
i think maybe this is maybe i shouldn't

2920
02:05:13,599 --> 02:05:16,800
start on this just and and we should

2921
02:05:14,960 --> 02:05:18,000
just do this is what we do next week

2922
02:05:16,800 --> 02:05:19,199
entirely

2923
02:05:18,000 --> 02:05:21,359
um

2924
02:05:19,198 --> 02:05:22,399
so it's been like two hours i think

2925
02:05:21,359 --> 02:05:24,719
right

2926
02:05:22,399 --> 02:05:24,719
um

2927
02:05:32,639 --> 02:05:37,279
i think that's what i want to do i think

2928
02:05:35,198 --> 02:05:40,319
that's what i want to do so i think what

2929
02:05:37,279 --> 02:05:40,319
we want to do next time

2930
02:05:40,639 --> 02:05:45,279
is we want to like do the world gen

2931
02:05:42,479 --> 02:05:47,118
because basically now we need that like

2932
02:05:45,279 --> 02:05:49,519
as we're doing game design stuff we're

2933
02:05:47,118 --> 02:05:51,598
gonna need to actually design rooms

2934
02:05:49,520 --> 02:05:53,280
because they're not gonna like

2935
02:05:51,599 --> 02:05:54,880
combat's not gonna make any sense

2936
02:05:53,279 --> 02:05:58,000
outside of the context of like what

2937
02:05:54,880 --> 02:06:00,840
you're actually fighting in

2938
02:05:58,000 --> 02:06:04,719
so i think we wanna do

2939
02:06:00,840 --> 02:06:07,279
is up the world gen next time

2940
02:06:04,719 --> 02:06:09,439
and massively simplify that down the

2941
02:06:07,279 --> 02:06:11,759
room based stuff i think is pretty

2942
02:06:09,439 --> 02:06:12,799
simple because there's just not a lot to

2943
02:06:11,760 --> 02:06:15,840
it

2944
02:06:12,800 --> 02:06:17,599
the thing that is tricky is the forest

2945
02:06:15,840 --> 02:06:19,440
because the forest is kind of just

2946
02:06:17,599 --> 02:06:23,760
continuous

2947
02:06:19,439 --> 02:06:23,759
right and we could

2948
02:06:24,639 --> 02:06:31,039
like we could make it still be rooms

2949
02:06:28,960 --> 02:06:33,439
and maybe we should

2950
02:06:31,039 --> 02:06:34,800
for just for simplicity's sake that's

2951
02:06:33,439 --> 02:06:38,078
the way like the original legend of

2952
02:06:34,800 --> 02:06:40,320
zelda was for example right

2953
02:06:38,078 --> 02:06:40,319
but

2954
02:06:40,639 --> 02:06:45,279
on the other hand maybe we don't want to

2955
02:06:42,719 --> 02:06:47,840
do that or maybe we want them to still

2956
02:06:45,279 --> 02:06:50,719
be generated as if they are rooms sort

2957
02:06:47,840 --> 02:06:53,599
of but the rooms are very large

2958
02:06:50,719 --> 02:06:53,599
you know what i'm saying

2959
02:06:54,639 --> 02:06:57,520
so i think we want to think

2960
02:06:56,560 --> 02:06:59,840
that

2961
02:06:57,520 --> 02:06:59,840
through

2962
02:07:00,479 --> 02:07:03,839
look i think we want to go ahead and

2963
02:07:01,840 --> 02:07:05,760
think that through

2964
02:07:03,840 --> 02:07:07,440
um

2965
02:07:05,760 --> 02:07:08,719
let's think about that over the course

2966
02:07:07,439 --> 02:07:12,000
of the week and we come back and start

2967
02:07:08,719 --> 02:07:13,599
programming next weekend

2968
02:07:12,000 --> 02:07:15,359
have some kind of an idea in our head

2969
02:07:13,599 --> 02:07:17,840
about how we want the forest to work and

2970
02:07:15,359 --> 02:07:19,920
that sort of stuff

2971
02:07:17,840 --> 02:07:22,159
um

2972
02:07:19,920 --> 02:07:24,319
so we'll do that

2973
02:07:22,158 --> 02:07:28,238
i think that's the plan

2974
02:07:24,319 --> 02:07:28,238
i don't suppose um

2975
02:07:28,560 --> 02:07:31,599
i don't suppose john

2976
02:07:30,158 --> 02:07:34,479
uh

2977
02:07:31,599 --> 02:07:34,480
got back yet

2978
02:07:37,840 --> 02:07:41,078
did he

2979
02:07:41,679 --> 02:07:46,560
no he's not streaming or anything he's

2980
02:07:43,679 --> 02:07:46,560
probably on a plane

2981
02:07:46,800 --> 02:07:50,639
um

2982
02:07:47,679 --> 02:07:54,520
all right so yeah i think that's

2983
02:07:50,639 --> 02:07:54,520
i think that's what we want

2984
02:07:56,639 --> 02:08:00,000
and that's what we're gonna do next week

2985
02:08:01,439 --> 02:08:06,319
that's my story and i'm sticking to it

2986
02:08:04,000 --> 02:08:06,319
okay

2987
02:08:06,840 --> 02:08:11,520
uh yeah all right so that's we're gonna

2988
02:08:09,679 --> 02:08:13,760
do i'm gonna leave this like this and

2989
02:08:11,520 --> 02:08:14,560
we're gonna basically delete 90 of this

2990
02:08:13,760 --> 02:08:16,239
code

2991
02:08:14,560 --> 02:08:18,719
uh in the

2992
02:08:16,238 --> 02:08:21,039
uh in the room gen stuff and take the

2993
02:08:18,719 --> 02:08:24,078
stuff that we do have and repurpose it

2994
02:08:21,039 --> 02:08:25,279
so that we can get that stuff working

2995
02:08:24,078 --> 02:08:27,279
more

2996
02:08:25,279 --> 02:08:28,078
uh like well

2997
02:08:27,279 --> 02:08:30,000
right

2998
02:08:28,078 --> 02:08:31,279
and have a clearer

2999
02:08:30,000 --> 02:08:33,359
sort of

3000
02:08:31,279 --> 02:08:35,198
understanding of how that's gonna work

3001
02:08:33,359 --> 02:08:37,519
but most of that

3002
02:08:35,198 --> 02:08:38,799
room gen code's gonna go away

3003
02:08:37,520 --> 02:08:40,960
uh because most of it's just not

3004
02:08:38,800 --> 02:08:42,320
necessary i think it was too complicated

3005
02:08:40,960 --> 02:08:44,000
and

3006
02:08:42,319 --> 02:08:45,439
like we could go down that route but

3007
02:08:44,000 --> 02:08:47,279
it's just not

3008
02:08:45,439 --> 02:08:49,198
i don't think it's what we want

3009
02:08:47,279 --> 02:08:51,920
so

3010
02:08:49,198 --> 02:08:54,319
all right that's it for today

3011
02:08:51,920 --> 02:08:57,920
um i will see everyone back here next

3012
02:08:54,319 --> 02:08:59,920
week when we will uh take a look at

3013
02:08:57,920 --> 02:09:01,599
at you know improving that room gen

3014
02:08:59,920 --> 02:09:02,800
stuff to something that i think is

3015
02:09:01,599 --> 02:09:04,639
usable

3016
02:09:02,800 --> 02:09:06,320
uh until then

3017
02:09:04,639 --> 02:09:07,599
have fun program everyone and i'll see

3018
02:09:06,319 --> 02:09:10,599
you on the internet take it easy

3019
02:09:07,599 --> 02:09:10,599
everybody

