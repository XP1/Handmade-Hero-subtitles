1
00:00:01,129 --> 00:00:05,160
hello everyone and welcome to hand made

2
00:00:03,629 --> 00:00:10,740
here of the show recode a complete game

3
00:00:05,160 --> 00:00:12,929
live on stream it is today 271 here or

4
00:00:10,740 --> 00:00:14,070
hour 271 I don't know that we have a

5
00:00:12,929 --> 00:00:15,059
tally of hours because there's been a

6
00:00:14,070 --> 00:00:16,320
couple of times when we've done like a

7
00:00:15,058 --> 00:00:21,118
four hour stream so it's probably

8
00:00:16,320 --> 00:00:23,250
actually our 280 or 290 but yesterday I

9
00:00:21,118 --> 00:00:26,189
think I accidentally started programming

10
00:00:23,250 --> 00:00:28,230
some game code I don't super like game

11
00:00:26,189 --> 00:00:30,929
code I think I've said this before I

12
00:00:28,230 --> 00:00:32,009
like engine programming and so but one

13
00:00:30,928 --> 00:00:33,479
of the things you have to do if you're

14
00:00:32,009 --> 00:00:35,369
shipping a game by yourself is you have

15
00:00:33,479 --> 00:00:37,500
to write the game code as well so what

16
00:00:35,369 --> 00:00:38,488
are you gonna do so I started doing that

17
00:00:37,500 --> 00:00:39,929
and I think I'm gonna go ahead and

18
00:00:38,488 --> 00:00:42,449
finish doing some of that stuff and

19
00:00:39,929 --> 00:00:44,670
that's also useful engine wise as well

20
00:00:42,450 --> 00:00:47,460
anyway because everything else that we

21
00:00:44,670 --> 00:00:50,100
do probably from now on is gonna be

22
00:00:47,460 --> 00:00:54,660
pretty heavily dependent on the game and

23
00:00:50,100 --> 00:00:56,460
so you know I don't want to like like

24
00:00:54,659 --> 00:00:57,959
all the rest of our engine work I think

25
00:00:56,460 --> 00:00:59,189
will be based on exactly how it's

26
00:00:57,960 --> 00:01:00,750
getting used in the game so we'll be

27
00:00:59,189 --> 00:01:03,420
like like getting the game of running

28
00:01:00,750 --> 00:01:04,739
we'll see what slow and what works and

29
00:01:03,420 --> 00:01:06,269
what doesn't work and we'll look improve

30
00:01:04,739 --> 00:01:08,400
the engine components based on that

31
00:01:06,269 --> 00:01:10,709
because I think in terms of general

32
00:01:08,400 --> 00:01:14,159
stuff we've got everything in there

33
00:01:10,709 --> 00:01:15,599
that's that we would normally have and

34
00:01:14,159 --> 00:01:17,820
so it's just a question of like driving

35
00:01:15,599 --> 00:01:20,669
things forward by having specific use

36
00:01:17,819 --> 00:01:23,069
cases so if you want to follow along at

37
00:01:20,670 --> 00:01:25,109
home to today's day 271 so day two

38
00:01:23,069 --> 00:01:27,618
seventies code is the code that you're

39
00:01:25,109 --> 00:01:30,930
going to want to unpack and start with

40
00:01:27,618 --> 00:01:33,180
and that's where I am at at the moment

41
00:01:30,930 --> 00:01:35,670
now if you remember from yesterday what

42
00:01:33,180 --> 00:01:38,100
I was talking about when I was like I

43
00:01:35,670 --> 00:01:39,659
want to get the movement code working

44
00:01:38,099 --> 00:01:43,728
and then some of the world generation

45
00:01:39,659 --> 00:01:47,100
stuff working what I was trying to

46
00:01:43,728 --> 00:01:48,868
explain and what we sort of started to

47
00:01:47,099 --> 00:01:52,019
implement as well I started cleaning

48
00:01:48,868 --> 00:01:54,478
some stuff up is that I want to have

49
00:01:52,019 --> 00:01:58,679
specific locations in the world that you

50
00:01:54,478 --> 00:02:01,859
stand on and unlike even a traditional

51
00:01:58,680 --> 00:02:03,270
tile mapped game these really don't have

52
00:02:01,859 --> 00:02:04,769
very much to do with the graphics

53
00:02:03,269 --> 00:02:06,239
necessarily although we are going to

54
00:02:04,769 --> 00:02:08,280
want to reinforce them by making sure

55
00:02:06,239 --> 00:02:11,400
the graphics clearly show you where the

56
00:02:08,280 --> 00:02:12,960
places are you can stand but that's a

57
00:02:11,400 --> 00:02:16,289
game design concern

58
00:02:12,960 --> 00:02:18,390
engine technology concern what we want

59
00:02:16,289 --> 00:02:20,759
to do here is I want to make it so that

60
00:02:18,389 --> 00:02:23,669
you literally stand directly on these

61
00:02:20,759 --> 00:02:25,620
points and when you move you choose to

62
00:02:23,669 --> 00:02:29,329
move between these points specifically

63
00:02:25,620 --> 00:02:32,280
and you're either on one or the other

64
00:02:29,330 --> 00:02:34,710
when you come to rest so you're not

65
00:02:32,280 --> 00:02:37,830
allowed to come to rest like in the

66
00:02:34,710 --> 00:02:39,990
middle right you can't stand in between

67
00:02:37,830 --> 00:02:41,850
those two points obviously to get from

68
00:02:39,990 --> 00:02:45,629
one to the other you will cross between

69
00:02:41,849 --> 00:02:49,079
them but you won't ever like like land

70
00:02:45,629 --> 00:02:50,789
here you have to land here or here and

71
00:02:49,080 --> 00:02:52,620
so the way that we've got things right

72
00:02:50,789 --> 00:02:54,419
now right all we do is just move kind of

73
00:02:52,620 --> 00:02:58,950
a sprite around so what we need to do is

74
00:02:54,419 --> 00:03:00,809
we need to sort of improve that that way

75
00:02:58,949 --> 00:03:02,969
in which the movement happens so that

76
00:03:00,810 --> 00:03:05,580
we're going to like move around in that

77
00:03:02,969 --> 00:03:08,129
way and that's what I want to sort of

78
00:03:05,580 --> 00:03:09,480
get working and I want to sort of start

79
00:03:08,129 --> 00:03:11,430
to build out the little world

80
00:03:09,479 --> 00:03:14,609
environments so that I can have some

81
00:03:11,430 --> 00:03:18,000
examples of moving around and places to

82
00:03:14,610 --> 00:03:20,400
start rendering and that sort of stuff

83
00:03:18,000 --> 00:03:21,930
so right now we're drawing those points

84
00:03:20,400 --> 00:03:23,520
in the world that I've created and those

85
00:03:21,930 --> 00:03:25,439
points are attached to entities so

86
00:03:23,520 --> 00:03:29,189
essentially we've got entities that

87
00:03:25,439 --> 00:03:32,780
represent places you stand and those

88
00:03:29,189 --> 00:03:36,240
places that you stand have these sort of

89
00:03:32,780 --> 00:03:38,069
traversable points marked on them and so

90
00:03:36,240 --> 00:03:39,659
as you move around the idea is that

91
00:03:38,069 --> 00:03:42,109
wherever you're going to go you're going

92
00:03:39,659 --> 00:03:44,789
to go to one of those traversable points

93
00:03:42,110 --> 00:03:46,770
so what I'm going to do now is I'm going

94
00:03:44,789 --> 00:03:48,269
to sort of modify the way that the hero

95
00:03:46,770 --> 00:03:51,420
moves a little bit and it's going to be

96
00:03:48,270 --> 00:03:55,469
a little bit terrifying at first to say

97
00:03:51,419 --> 00:04:00,719
the least so what I'm going to do here

98
00:03:55,469 --> 00:04:03,479
is I am going to essentially dissociate

99
00:04:00,719 --> 00:04:07,199
the hero head and the hero body if that

100
00:04:03,479 --> 00:04:11,579
makes sense so when I come into handmade

101
00:04:07,199 --> 00:04:17,608
world mode here what I want to do is I

102
00:04:11,580 --> 00:04:20,100
want to we add right one of these hero

103
00:04:17,608 --> 00:04:22,500
things whenever somebody joins the game

104
00:04:20,100 --> 00:04:24,960
whenever a hero joins the game we were

105
00:04:22,500 --> 00:04:26,339
currently adding one of these hero

106
00:04:24,959 --> 00:04:28,198
entities and I believe

107
00:04:26,339 --> 00:04:30,569
actually to be honest with you don't

108
00:04:28,199 --> 00:04:33,319
really remember it's been a long time I

109
00:04:30,569 --> 00:04:36,750
don't super remember how we chose to

110
00:04:33,319 --> 00:04:40,139
mark that but I believe it was just

111
00:04:36,750 --> 00:04:44,360
called here yeah so we add one of these

112
00:04:40,139 --> 00:04:51,168
entity type heroes so if you take a look

113
00:04:44,360 --> 00:04:51,169
let's see here entity type hero

114
00:04:51,290 --> 00:04:58,889
where we at it's here

115
00:04:56,279 --> 00:05:00,449
so when we do an ad player you can see

116
00:04:58,889 --> 00:05:03,030
that we do a thing where we say like

117
00:05:00,449 --> 00:05:06,000
okay we added an entity and we add an

118
00:05:03,029 --> 00:05:10,079
entity type hero and that entity type

119
00:05:06,000 --> 00:05:11,850
hero is just one entity and what I kind

120
00:05:10,079 --> 00:05:14,430
of want to do here is say that there's

121
00:05:11,850 --> 00:05:17,220
two separate entity types that I'm kind

122
00:05:14,430 --> 00:05:17,939
of deal with here that are going to be a

123
00:05:17,220 --> 00:05:20,250
little different

124
00:05:17,939 --> 00:05:23,579
there's essentially an entity type hero

125
00:05:20,250 --> 00:05:27,959
and then like here a body and an ende

126
00:05:23,579 --> 00:05:29,909
type hero head that makes sense and I

127
00:05:27,959 --> 00:05:33,899
know it's a little bit strange to be

128
00:05:29,910 --> 00:05:36,930
honest I guess I don't I guess here's

129
00:05:33,899 --> 00:05:39,359
the thing there's two ways I guess I can

130
00:05:36,930 --> 00:05:41,189
do it maybe I'll keep it as one entity I

131
00:05:39,360 --> 00:05:44,900
can make it two entities or one and I'm

132
00:05:41,189 --> 00:05:47,399
not sure which one makes more sense I

133
00:05:44,899 --> 00:05:51,949
feel like two is better I'm just gonna

134
00:05:47,399 --> 00:05:58,379
say it's two so I'm gonna make a hero

135
00:05:51,949 --> 00:06:02,009
body and a hero head just for now and so

136
00:05:58,379 --> 00:06:05,430
when you add these to the game I'm gonna

137
00:06:02,009 --> 00:06:10,620
say that you you know you get both of

138
00:06:05,430 --> 00:06:13,019
them right so I'm gonna add a hero head

139
00:06:10,620 --> 00:06:17,160
and I hear a body and those are going to

140
00:06:13,019 --> 00:06:20,279
be added separately and I I'm gonna

141
00:06:17,160 --> 00:06:22,560
actually change these like player

142
00:06:20,279 --> 00:06:25,978
collision things to be a little bit

143
00:06:22,560 --> 00:06:28,519
different so that you know the hero head

144
00:06:25,978 --> 00:06:31,199
is has a collision that's high and the

145
00:06:28,519 --> 00:06:35,759
hero body has a collision that's low if

146
00:06:31,199 --> 00:06:37,468
that makes sense yeah and so when we

147
00:06:35,759 --> 00:06:40,110
actually record the entity I'm going to

148
00:06:37,468 --> 00:06:42,449
say that the hero body

149
00:06:40,110 --> 00:06:43,830
is the thing that has the information on

150
00:06:42,449 --> 00:06:47,099
it for now and I'm not going to actually

151
00:06:43,829 --> 00:06:49,199
put any more information on this for the

152
00:06:47,100 --> 00:06:51,420
time being although you know we could do

153
00:06:49,199 --> 00:06:53,219
a little more but we're gonna do the

154
00:06:51,420 --> 00:06:56,129
entity system probably coming up soon

155
00:06:53,220 --> 00:06:58,830
here and this stuff will all change cuz

156
00:06:56,129 --> 00:07:01,139
this is pretty you know basic right now

157
00:06:58,829 --> 00:07:05,519
and really just there for us to sort of

158
00:07:01,139 --> 00:07:06,959
get things working so when I do this I'm

159
00:07:05,519 --> 00:07:08,219
now gonna have some compile errors

160
00:07:06,959 --> 00:07:10,189
because there's stuff that depends on

161
00:07:08,220 --> 00:07:13,230
this sort of thing

162
00:07:10,189 --> 00:07:15,360
again I don't know too much we care

163
00:07:13,230 --> 00:07:17,790
about this break point but we'll leave

164
00:07:15,360 --> 00:07:19,620
it in there for now and when we're

165
00:07:17,790 --> 00:07:21,450
looking here you can see how the control

166
00:07:19,620 --> 00:07:24,389
works I'm just gonna make it so the hero

167
00:07:21,449 --> 00:07:27,319
head is actually the thing that you

168
00:07:24,389 --> 00:07:30,629
control pretty much the entire time and

169
00:07:27,319 --> 00:07:34,379
I'm gonna say that the hero body is the

170
00:07:30,629 --> 00:07:36,209
thing for now v that the familiar looks

171
00:07:34,379 --> 00:07:39,180
for and then here we've got our entity

172
00:07:36,209 --> 00:07:41,219
type hero ahead again same thing here

173
00:07:39,180 --> 00:07:42,990
and then what I'm gonna do is I'm just

174
00:07:41,220 --> 00:07:46,050
gonna not push the rest of the bitmaps

175
00:07:42,990 --> 00:07:47,340
on so you know for example I can in fact

176
00:07:46,050 --> 00:07:49,620
I'll just flip them for now I guess

177
00:07:47,339 --> 00:07:52,619
right so here is my entity type like

178
00:07:49,620 --> 00:07:59,329
your body and that will actually push

179
00:07:52,620 --> 00:08:04,769
the other things on there like so and

180
00:07:59,329 --> 00:08:08,819
yeah we won't draw the hip points on the

181
00:08:04,769 --> 00:08:11,129
head so here's a shadow here's the torso

182
00:08:08,819 --> 00:08:14,009
here's the Cape but the head is gone and

183
00:08:11,129 --> 00:08:16,019
then this one will probably not have any

184
00:08:14,009 --> 00:08:19,110
of these at the moment and we'll just

185
00:08:16,019 --> 00:08:22,289
push just that head on so that we can

186
00:08:19,110 --> 00:08:25,170
see it and the particle code I think

187
00:08:22,290 --> 00:08:27,930
needs to not be right here because this

188
00:08:25,170 --> 00:08:29,970
is kind of annoying so the hero head

189
00:08:27,930 --> 00:08:33,090
particle code is going to go away and

190
00:08:29,970 --> 00:08:34,769
we'll just put that you know like file

191
00:08:33,090 --> 00:08:35,910
somewhere do we have a file that we

192
00:08:34,769 --> 00:08:38,490
could put that in sort well you know

193
00:08:35,909 --> 00:08:40,699
what I could do I can just put it down

194
00:08:38,490 --> 00:08:40,700
here

195
00:08:41,519 --> 00:08:47,399
case we ever wanted again right and so

196
00:08:45,450 --> 00:08:49,080
now the problem that I'm going to face

197
00:08:47,399 --> 00:08:50,759
is I'm like these things are gonna be

198
00:08:49,080 --> 00:08:52,350
overlapping and kind of colliding with

199
00:08:50,759 --> 00:08:53,519
each other so I won't really be able to

200
00:08:52,350 --> 00:08:55,680
actually use it the way that I would

201
00:08:53,519 --> 00:08:56,909
like because like all those be

202
00:08:55,679 --> 00:08:59,309
constantly colliding so I can't actually

203
00:08:56,909 --> 00:09:04,069
move so what I need to do is I need to

204
00:08:59,309 --> 00:09:06,959
fix the colliders for these two entities

205
00:09:04,070 --> 00:09:09,060
you can see here that we've got like

206
00:09:06,960 --> 00:09:10,950
player collision what I really want to

207
00:09:09,059 --> 00:09:18,689
call this is like here a body collision

208
00:09:10,950 --> 00:09:21,240
and like hero head collision and so in

209
00:09:18,690 --> 00:09:23,070
the places where we were storing these

210
00:09:21,240 --> 00:09:26,029
where we have kind of player collision

211
00:09:23,070 --> 00:09:29,580
and you know I'm gonna do hero head and

212
00:09:26,029 --> 00:09:33,329
here a body and then we can make that

213
00:09:29,580 --> 00:09:38,990
more explicit so here's euro head

214
00:09:33,330 --> 00:09:38,990
collision here is euro body collision

215
00:09:39,379 --> 00:09:47,490
and I want to make sure that the yeah I

216
00:09:44,940 --> 00:09:48,690
don't really this all this stuff we

217
00:09:47,490 --> 00:09:50,129
should probably start to work out but

218
00:09:48,690 --> 00:09:53,220
again I'm kind of taking it one step at

219
00:09:50,129 --> 00:09:55,730
a time as I pull it up into a the place

220
00:09:53,220 --> 00:09:58,889
where it's actually doing what we want

221
00:09:55,730 --> 00:10:00,240
for the game so this may not be the best

222
00:09:58,889 --> 00:10:02,340
way to make collision volumes either

223
00:10:00,240 --> 00:10:07,169
because they're kind of a little bit

224
00:10:02,340 --> 00:10:08,790
aspect weirdly but anyway the hero head

225
00:10:07,169 --> 00:10:10,169
collision in the hero body collision you

226
00:10:08,789 --> 00:10:13,199
know this was the height of the thing

227
00:10:10,169 --> 00:10:15,449
before and you know I don't know how big

228
00:10:13,200 --> 00:10:17,970
we want them each to be but I feel like

229
00:10:15,450 --> 00:10:20,100
since its kind of a little bit you know

230
00:10:17,970 --> 00:10:23,639
fungible there I'm gonna say that like

231
00:10:20,100 --> 00:10:25,470
the body is six and the head is like

232
00:10:23,639 --> 00:10:27,299
four or whatever and maybe there's point

233
00:10:25,470 --> 00:10:29,460
two in between them I don't know right

234
00:10:27,299 --> 00:10:31,859
I'm not sure how we actually want that

235
00:10:29,460 --> 00:10:35,360
to work out maybe there's only point one

236
00:10:31,860 --> 00:10:39,750
in between them something like this okay

237
00:10:35,360 --> 00:10:48,990
and so when we now talk about the hero

238
00:10:39,750 --> 00:10:51,090
head the hero head itself I want that I

239
00:10:48,990 --> 00:10:53,370
don't really want the grounded collision

240
00:10:51,090 --> 00:10:55,410
thing because it's actually up off the

241
00:10:53,370 --> 00:11:02,220
ground right is where the head is

242
00:10:55,409 --> 00:11:05,100
so a drownded let's see here where is

243
00:11:02,220 --> 00:11:08,970
that simple grounded collisions there it

244
00:11:05,100 --> 00:11:11,340
is so one of these grounded collision

245
00:11:08,970 --> 00:11:12,990
things the problem with it is I don't

246
00:11:11,340 --> 00:11:14,610
really want it to be on the ground but

247
00:11:12,990 --> 00:11:15,779
as you can kind of see it is gonna be on

248
00:11:14,610 --> 00:11:19,950
the ground because of the way that the

249
00:11:15,779 --> 00:11:22,139
offset P stuff works right so it's gonna

250
00:11:19,950 --> 00:11:23,700
be I want to now raise it up by that

251
00:11:22,139 --> 00:11:25,590
displacement which what I couldn't like

252
00:11:23,700 --> 00:11:28,140
you know I can sort of make a

253
00:11:25,590 --> 00:11:29,580
displacement here but I guess what I

254
00:11:28,139 --> 00:11:33,750
probably would want to do instead is

255
00:11:29,580 --> 00:11:35,759
just make something that's I don't

256
00:11:33,750 --> 00:11:37,799
really know what I want to do to be

257
00:11:35,759 --> 00:11:42,569
honest I'm gonna put an offset Z in here

258
00:11:37,799 --> 00:11:44,009
just for an up for no apparent reason so

259
00:11:42,570 --> 00:11:48,180
if we want to lift it off the ground we

260
00:11:44,009 --> 00:11:51,350
can make simple grounded collision and

261
00:11:48,179 --> 00:11:55,139
so in here when we do the hero head

262
00:11:51,350 --> 00:11:58,259
since it's 0.6 off the ground I'm gonna

263
00:11:55,139 --> 00:12:00,750
go ahead and say it's 0.7 I guess

264
00:11:58,259 --> 00:12:02,879
because it's got that one a bit of

265
00:12:00,750 --> 00:12:08,850
displacement and so now in theory they

266
00:12:02,879 --> 00:12:11,340
should be disconnected now okay

267
00:12:08,850 --> 00:12:12,990
so now I can't move those so I didn't

268
00:12:11,340 --> 00:12:16,710
quite get everything right there so

269
00:12:12,990 --> 00:12:19,980
let's go see what the problem is there

270
00:12:16,710 --> 00:12:21,870
so curieux head collision I just want to

271
00:12:19,980 --> 00:12:23,190
make sure this is set up properly Hiro

272
00:12:21,870 --> 00:12:24,659
head has the your head collision here a

273
00:12:23,190 --> 00:12:27,600
body has the here of body collision

274
00:12:24,659 --> 00:12:30,569
right right

275
00:12:27,600 --> 00:12:33,450
and the body's got the hit points the

276
00:12:30,570 --> 00:12:37,290
moment which is what I wanted and let's

277
00:12:33,450 --> 00:12:40,150
see the the

278
00:12:37,289 --> 00:12:44,259
cameras following the body which seems

279
00:12:40,149 --> 00:12:47,620
okay and I'm gonna now go see what the

280
00:12:44,259 --> 00:12:51,850
deal is with my hero head so in the hero

281
00:12:47,620 --> 00:12:59,919
head here is where we loop over the

282
00:12:51,850 --> 00:13:03,519
controllers and we look to see this is

283
00:12:59,919 --> 00:13:06,029
kind of weird but anyway like I said all

284
00:13:03,519 --> 00:13:09,279
this stuff now will start to clean up so

285
00:13:06,029 --> 00:13:11,949
it's okay if it's weird

286
00:13:09,279 --> 00:13:16,809
I'm just looking through here so if we

287
00:13:11,950 --> 00:13:21,090
have the hero head I'm not sure we just

288
00:13:16,809 --> 00:13:24,579
take the DDP and we're adding it to it

289
00:13:21,090 --> 00:13:27,310
and I guess that's all fine because the

290
00:13:24,580 --> 00:13:30,600
DDP is presumably applied yeah at the

291
00:13:27,309 --> 00:13:36,719
bottom so there's the move entity call

292
00:13:30,600 --> 00:13:39,639
right and the move entity call is just

293
00:13:36,720 --> 00:13:43,389
gonna try and move by that GDP so we're

294
00:13:39,639 --> 00:13:45,549
definitely trying to move by the DDP and

295
00:13:43,389 --> 00:13:47,529
so the question is why are we colliding

296
00:13:45,549 --> 00:13:50,259
with anything so the first thing that I

297
00:13:47,529 --> 00:13:53,379
want to do is I want to verify my

298
00:13:50,259 --> 00:13:56,200
assumptions or rather I want to test to

299
00:13:53,379 --> 00:13:57,549
see whether the grab the collision

300
00:13:56,200 --> 00:14:01,170
volumes are what's preventing me from

301
00:13:57,549 --> 00:14:04,929
doing this and so what I might do is say

302
00:14:01,169 --> 00:14:07,629
let's assume that the body at the moment

303
00:14:04,929 --> 00:14:14,319
the hero body collision is actually not

304
00:14:07,629 --> 00:14:16,870
a Collider and so now there's only the

305
00:14:14,320 --> 00:14:18,760
hero head and so in theory I feel like

306
00:14:16,870 --> 00:14:20,440
that would make it so that if collision

307
00:14:18,759 --> 00:14:25,600
was our problem the head would move and

308
00:14:20,440 --> 00:14:30,430
the head is not moving right so it seems

309
00:14:25,600 --> 00:14:32,019
to me that that is just broken right and

310
00:14:30,429 --> 00:14:34,269
that something else is broken that's not

311
00:14:32,019 --> 00:14:38,500
necessarily the collision that I

312
00:14:34,269 --> 00:14:40,809
accidentally changed there and you know

313
00:14:38,500 --> 00:14:45,730
I can also say I could also say here I

314
00:14:40,809 --> 00:14:47,649
suppose if they're both no so now these

315
00:14:45,730 --> 00:14:49,659
cannot collide with anything they could

316
00:14:47,649 --> 00:14:51,360
just move around in theory they'll just

317
00:14:49,659 --> 00:14:55,629
move

318
00:14:51,360 --> 00:15:00,009
yeah and again no no movement at all in

319
00:14:55,629 --> 00:15:04,179
fact no control of any kind so I think

320
00:15:00,009 --> 00:15:06,789
something's still busted there and I'm

321
00:15:04,179 --> 00:15:09,459
not sure what the deal is with that so

322
00:15:06,789 --> 00:15:11,230
well actually you know what let me let

323
00:15:09,460 --> 00:15:13,900
me add this back in in case that's also

324
00:15:11,230 --> 00:15:15,330
a problem we'll just take it out of the

325
00:15:13,899 --> 00:15:20,079
equation for now

326
00:15:15,330 --> 00:15:22,500
so when we call ad player here and we're

327
00:15:20,080 --> 00:15:22,500
gonna do

328
00:15:22,659 --> 00:15:29,500
adding obscenities here we add the hero

329
00:15:25,960 --> 00:15:31,509
body ah that's the problem the thing

330
00:15:29,500 --> 00:15:34,500
that we return is what the controller is

331
00:15:31,509 --> 00:15:37,389
going to control so that's probably

332
00:15:34,500 --> 00:15:39,490
that's probably the issue right there so

333
00:15:37,389 --> 00:15:42,939
although this is the thing we wanted

334
00:15:39,490 --> 00:15:44,529
yeah although we wanted the body to be

335
00:15:42,940 --> 00:15:48,370
the thing that we had the hit points on

336
00:15:44,529 --> 00:15:50,049
right and that sort of thing I kind of

337
00:15:48,370 --> 00:15:53,529
have to make it so that the rest of this

338
00:15:50,049 --> 00:15:57,339
stuff isn't that way so this is going to

339
00:15:53,529 --> 00:16:00,689
be right that's gonna be body and then

340
00:15:57,340 --> 00:16:03,399
here is ad low entity result head and

341
00:16:00,690 --> 00:16:08,610
the head is what's actually going to get

342
00:16:03,399 --> 00:16:16,149
returned here see what else we've got

343
00:16:08,610 --> 00:16:19,960
this body and that was a bug as well

344
00:16:16,149 --> 00:16:22,240
there too okay so this is this is head I

345
00:16:19,960 --> 00:16:23,620
guess but the sword is not our hero

346
00:16:22,240 --> 00:16:25,480
doesn't even have a sword so I'm not

347
00:16:23,620 --> 00:16:28,960
sure why that's even there anymore but I

348
00:16:25,480 --> 00:16:30,970
guess that's beside the point anyway so

349
00:16:28,960 --> 00:16:33,280
we're gonna follow the body like I said

350
00:16:30,970 --> 00:16:36,820
for now and that seems fine so now we

351
00:16:33,279 --> 00:16:38,019
should be connected properly at least I

352
00:16:36,820 --> 00:16:40,330
hope Oh

353
00:16:38,019 --> 00:16:43,990
famous last words and we totally aren't

354
00:16:40,330 --> 00:16:47,320
so wait head is the head and we are

355
00:16:43,990 --> 00:16:49,240
returning the head right so when we do

356
00:16:47,320 --> 00:16:51,490
add player that should capture the head

357
00:16:49,240 --> 00:16:55,389
properly right yeah there's entity index

358
00:16:51,490 --> 00:16:58,690
right there so in theory the conure and

359
00:16:55,389 --> 00:17:01,360
the index should be now set to whatever

360
00:16:58,690 --> 00:17:02,990
that head index is right which was

361
00:17:01,360 --> 00:17:07,190
obviously a bug from before but

362
00:17:02,990 --> 00:17:12,079
we weren't yeah we weren't actually

363
00:17:07,190 --> 00:17:15,789
using it so alright so in here what did

364
00:17:12,079 --> 00:17:18,139
I do wrong what more did I do wrong

365
00:17:15,789 --> 00:17:21,950
let's see so we tried to add a grounded

366
00:17:18,140 --> 00:17:24,830
entity for the hero body and for the

367
00:17:21,950 --> 00:17:35,150
hero head we track them both as body and

368
00:17:24,829 --> 00:17:41,779
head we add the flags for nope that

369
00:17:35,150 --> 00:17:45,800
would do it okay all right good so now

370
00:17:41,779 --> 00:17:49,970
we have head that can move around which

371
00:17:45,799 --> 00:17:52,609
is always good very very important and

372
00:17:49,970 --> 00:17:56,319
now what I want to do is I want the body

373
00:17:52,609 --> 00:17:59,599
to follow the head if that makes sense

374
00:17:56,319 --> 00:18:02,240
so as the head moves around I want the

375
00:17:59,599 --> 00:18:04,339
body to move with it but what I want to

376
00:18:02,240 --> 00:18:10,549
do is I want to make it so that when the

377
00:18:04,339 --> 00:18:13,189
body moves the body only moves to two

378
00:18:10,549 --> 00:18:14,960
traversable x' so you know the head as

379
00:18:13,190 --> 00:18:21,400
the head moves I want the body to just

380
00:18:14,960 --> 00:18:25,039
go to the closest like the closest

381
00:18:21,400 --> 00:18:27,610
traversable to where the head is that

382
00:18:25,039 --> 00:18:31,190
makes sense so I'm gonna start by

383
00:18:27,609 --> 00:18:35,629
essentially cheating that out so during

384
00:18:31,190 --> 00:18:39,200
the sim I'm actually going to to make

385
00:18:35,630 --> 00:18:41,090
this be quite a bit like I'm gonna make

386
00:18:39,200 --> 00:18:42,440
this be super crappy and not the way

387
00:18:41,089 --> 00:18:45,529
that I want or anything I just want to

388
00:18:42,440 --> 00:18:47,779
get it working in a basic capacity so

389
00:18:45,529 --> 00:18:50,690
when we go through and do the simulation

390
00:18:47,779 --> 00:18:54,740
on these guys when we do the simulation

391
00:18:50,690 --> 00:18:56,890
on the the hero head and we're just

392
00:18:54,740 --> 00:18:59,269
moving them around right which is here

393
00:18:56,890 --> 00:19:03,950
then what I want to do is whenever we're

394
00:18:59,269 --> 00:19:06,529
simulating one of the hero body things I

395
00:19:03,950 --> 00:19:09,200
want it to just look to see for the

396
00:19:06,529 --> 00:19:11,029
other entities that are in the world and

397
00:19:09,200 --> 00:19:13,009
this is going to be the same kind of to

398
00:19:11,029 --> 00:19:16,089
do basically we're doing exactly the

399
00:19:13,009 --> 00:19:16,089
same thing here but instead

400
00:19:16,160 --> 00:19:20,210
searching the entities for entities

401
00:19:18,349 --> 00:19:21,859
which we want to follow or things like

402
00:19:20,210 --> 00:19:24,170
that instead what I'm going to search

403
00:19:21,859 --> 00:19:27,709
for is I'm going to search for any kind

404
00:19:24,170 --> 00:19:30,920
of traversable point so I'm just gonna

405
00:19:27,710 --> 00:19:35,269
search through the entities to try and

406
00:19:30,920 --> 00:19:39,380
find mm-hmm by the way why is by his

407
00:19:35,269 --> 00:19:41,769
tests entity index kept here oh I guess

408
00:19:39,380 --> 00:19:44,900
it's just for this yeah I don't know

409
00:19:41,769 --> 00:19:48,379
anyway so as we go through these test

410
00:19:44,900 --> 00:19:50,960
entities I want to see whether or not my

411
00:19:48,380 --> 00:19:52,340
corresponding curio head is is in there

412
00:19:50,960 --> 00:19:54,500
and that I want to follow it now I'm

413
00:19:52,339 --> 00:19:57,019
sorry that's not what am I talking about

414
00:19:54,500 --> 00:19:59,509
I want to take a look to see if any of

415
00:19:57,019 --> 00:20:01,519
these things have collision volumes that

416
00:19:59,509 --> 00:20:02,420
have traversable points in them if that

417
00:20:01,519 --> 00:20:04,420
makes sense

418
00:20:02,420 --> 00:20:07,190
so we're going to essentially go through

419
00:20:04,420 --> 00:20:09,590
all of those now I believe everyone has

420
00:20:07,190 --> 00:20:18,320
to have a collision volume so really all

421
00:20:09,589 --> 00:20:21,409
I'm gonna do here is say like point

422
00:20:18,319 --> 00:20:30,409
index and I want this to be less than

423
00:20:21,410 --> 00:20:31,970
the volume go ahead and jump in here so

424
00:20:30,410 --> 00:20:33,650
we hat we're gonna have one of these

425
00:20:31,970 --> 00:20:35,779
collision value groups I'm going to go

426
00:20:33,650 --> 00:20:39,160
through the traversable points that are

427
00:20:35,779 --> 00:20:39,160
here right

428
00:20:45,559 --> 00:20:52,460
and those traversable points are the

429
00:20:49,549 --> 00:20:55,430
things I'm going to check so I've got

430
00:20:52,460 --> 00:20:58,490
the traversable count here I'm going to

431
00:20:55,430 --> 00:21:06,140
get the sim entity traversable point out

432
00:20:58,490 --> 00:21:14,269
of it the reversible point and yeah I

433
00:21:06,140 --> 00:21:17,060
guess this is actually the group and I'm

434
00:21:14,269 --> 00:21:20,660
just gonna say okay whatever this vol

435
00:21:17,059 --> 00:21:22,460
group's traversable z-- is I'm going to

436
00:21:20,660 --> 00:21:24,259
add the P index of that and that's the

437
00:21:22,460 --> 00:21:26,720
one I'm going to check here and I'm

438
00:21:24,259 --> 00:21:30,200
gonna see if this if this P index is

439
00:21:26,720 --> 00:21:34,750
closer than mine right so I'm going to

440
00:21:30,200 --> 00:21:39,110
say whatever this entity's position is

441
00:21:34,750 --> 00:21:41,990
right plus its position this way and

442
00:21:39,109 --> 00:21:45,500
really that's a thing that could rotate

443
00:21:41,990 --> 00:21:47,839
and do other things so we probably want

444
00:21:45,500 --> 00:21:51,769
to get in the habit of actually getting

445
00:21:47,839 --> 00:22:00,709
these sort of transform for us so we

446
00:21:51,769 --> 00:22:02,299
probably want this way or like since

447
00:22:00,710 --> 00:22:04,960
paced reversible or something like that

448
00:22:02,299 --> 00:22:08,089
so I probably want to say like okay in

449
00:22:04,960 --> 00:22:13,549
this sim space I want to take you know

450
00:22:08,089 --> 00:22:16,750
this entity and I want to get a this

451
00:22:13,549 --> 00:22:20,089
particular traversable out of them right

452
00:22:16,750 --> 00:22:22,039
and then I want that to transform it for

453
00:22:20,089 --> 00:22:24,980
me by whatever the entity sort of

454
00:22:22,039 --> 00:22:28,759
transform stuff is and so once I have

455
00:22:24,980 --> 00:22:34,160
one of those points what I can do is I

456
00:22:28,759 --> 00:22:37,220
can test to see how close it is to my

457
00:22:34,160 --> 00:22:41,960
head right wherever my head actually is

458
00:22:37,220 --> 00:22:46,519
which does require me knowing what my

459
00:22:41,960 --> 00:22:47,600
attached head is if that makes sense and

460
00:22:46,519 --> 00:22:50,889
so that's something that we're gonna

461
00:22:47,599 --> 00:22:50,889
want to store presumably

462
00:22:51,019 --> 00:23:06,139
so in here oops if I want the attached

463
00:22:57,529 --> 00:23:08,500
head the attached head is gonna be

464
00:23:06,140 --> 00:23:11,810
something it will figure out in a second

465
00:23:08,500 --> 00:23:13,759
and I'm gonna know what it's P is so I'm

466
00:23:11,809 --> 00:23:20,869
just gonna assume that like my best

467
00:23:13,759 --> 00:23:22,519
distance is real 30 to maximum right I'm

468
00:23:20,869 --> 00:23:26,089
gonna assume that my best distance is

469
00:23:22,519 --> 00:23:30,920
very far away and my best P is whatever

470
00:23:26,089 --> 00:23:33,769
my current P is so my entity P is is

471
00:23:30,920 --> 00:23:34,880
that right so then what I'm gonna do is

472
00:23:33,769 --> 00:23:36,349
I'm gonna say all right we're assuming

473
00:23:34,880 --> 00:23:38,510
that we have the head I'm gonna say

474
00:23:36,349 --> 00:23:39,859
here's my test point I want to get the

475
00:23:38,509 --> 00:23:41,539
distance squared and I guess this is

476
00:23:39,859 --> 00:23:44,809
I'll just do distance squared here right

477
00:23:41,539 --> 00:23:47,210
so it's exactly the same code as this in

478
00:23:44,809 --> 00:23:49,460
fact it's literally this exact code this

479
00:23:47,210 --> 00:23:55,549
is all I'm doing I'm just saying like

480
00:23:49,460 --> 00:23:58,009
all right go through here and say for

481
00:23:55,549 --> 00:24:03,200
this point I want to take the distance

482
00:23:58,009 --> 00:24:05,660
from wherever my head was to wherever

483
00:24:03,200 --> 00:24:09,710
this point is that we're talking about

484
00:24:05,660 --> 00:24:12,529
here and I want that to that to be

485
00:24:09,710 --> 00:24:17,500
considered the closest point to stand on

486
00:24:12,529 --> 00:24:21,410
right now there is I guess a caveat here

487
00:24:17,500 --> 00:24:24,859
which is that the point can't be above

488
00:24:21,410 --> 00:24:26,990
the hero's head because then I'd be like

489
00:24:24,859 --> 00:24:30,079
so it has to be below the hero's head so

490
00:24:26,990 --> 00:24:39,380
it probably would also say if the P if

491
00:24:30,079 --> 00:24:43,879
the Z position like yeah if the Z

492
00:24:39,380 --> 00:24:48,260
position of the head was or I should say

493
00:24:43,880 --> 00:24:53,110
if the Z position of the traversable so

494
00:24:48,259 --> 00:24:58,339
whatever that Z value is is greater than

495
00:24:53,109 --> 00:25:00,019
wherever the the head placement was I

496
00:24:58,339 --> 00:25:01,399
would ignore it although you know I'm

497
00:25:00,019 --> 00:25:02,660
not gonna put that in just yet because

498
00:25:01,400 --> 00:25:03,620
since we're still a little ad hoc with

499
00:25:02,660 --> 00:25:04,310
coordinates think that's only gonna make

500
00:25:03,619 --> 00:25:06,439
things worse

501
00:25:04,309 --> 00:25:08,690
we'll take care of that we'll cross that

502
00:25:06,440 --> 00:25:09,769
bridge when we come to it all right so

503
00:25:08,690 --> 00:25:11,150
anyway I'm going to take the link

504
00:25:09,769 --> 00:25:17,690
squared here I'm going to say that we

505
00:25:11,150 --> 00:25:22,070
have the closest distance squared and

506
00:25:17,690 --> 00:25:28,970
the closest P so here's my closest

507
00:25:22,069 --> 00:25:31,789
distance squared and my closest key is

508
00:25:28,970 --> 00:25:33,920
going to be equal to that P that we're

509
00:25:31,789 --> 00:25:38,389
looking at the one we're talking about

510
00:25:33,920 --> 00:25:42,529
and the closest distance squared is

511
00:25:38,390 --> 00:25:44,480
going to be the test distance squared so

512
00:25:42,529 --> 00:25:46,609
once we have that I'm just gonna go

513
00:25:44,480 --> 00:25:48,470
ahead and set that so for now we're not

514
00:25:46,609 --> 00:25:50,179
gonna try to do any even any animation

515
00:25:48,470 --> 00:25:52,940
to it I'm just going to literally say to

516
00:25:50,180 --> 00:25:55,279
get it working first I want to take

517
00:25:52,940 --> 00:25:58,580
whatever my position is and I'm just

518
00:25:55,279 --> 00:26:07,960
gonna cold set myself directly to it

519
00:25:58,579 --> 00:26:14,179
right so that's all I'm gonna do okay um

520
00:26:07,960 --> 00:26:17,440
so yeah so now when we go through here

521
00:26:14,180 --> 00:26:17,440
and we say

522
00:26:18,490 --> 00:26:22,900
what's the head because that's gonna be

523
00:26:21,039 --> 00:26:24,399
our main problem here right is our head

524
00:26:22,900 --> 00:26:26,410
doesn't that we don't know what our own

525
00:26:24,400 --> 00:26:29,620
head is our because our volume group

526
00:26:26,410 --> 00:26:34,930
collisions volume group is is actually

527
00:26:29,619 --> 00:26:42,929
fine we do know where that is that's

528
00:26:34,930 --> 00:26:47,490
just this thing right there's collision

529
00:26:42,930 --> 00:26:50,140
so our sim entity collision volume group

530
00:26:47,490 --> 00:26:50,920
it's just that so the question is where

531
00:26:50,140 --> 00:26:53,440
is the head empty

532
00:26:50,920 --> 00:26:54,880
right and so the way they're gonna do

533
00:26:53,440 --> 00:26:56,710
that again from now is I'm just gonna

534
00:26:54,880 --> 00:26:59,200
use we do have this enemy reference

535
00:26:56,710 --> 00:27:01,210
concept but again that's probably all

536
00:26:59,200 --> 00:27:02,920
this is gonna get changed but so I'm

537
00:27:01,210 --> 00:27:05,410
just gonna put entity reference head in

538
00:27:02,920 --> 00:27:07,509
here and again that's on all entities so

539
00:27:05,410 --> 00:27:09,640
keep in mind like that means even your

540
00:27:07,509 --> 00:27:10,839
head has a head of reference which again

541
00:27:09,640 --> 00:27:13,060
obviously like I said we're gonna be

542
00:27:10,839 --> 00:27:14,919
redoing that stuff so you'll will we'll

543
00:27:13,059 --> 00:27:18,279
talk more about how that sort of stuff

544
00:27:14,920 --> 00:27:20,470
works a little bit later on but anyway

545
00:27:18,279 --> 00:27:22,359
for now we don't care we just want

546
00:27:20,470 --> 00:27:25,059
something that works reasonably and so

547
00:27:22,359 --> 00:27:28,149
in order to get the sword you can kind

548
00:27:25,059 --> 00:27:29,950
of see here how this works really all we

549
00:27:28,150 --> 00:27:35,140
have to do because those references I

550
00:27:29,950 --> 00:27:38,170
guess work in a particular way all we

551
00:27:35,140 --> 00:27:40,270
have to do is say okay the head entity

552
00:27:38,170 --> 00:27:42,490
is just going to be whatever our

553
00:27:40,269 --> 00:27:44,920
entities head pointer is it should give

554
00:27:42,490 --> 00:27:47,200
us back that and we're gonna assume that

555
00:27:44,920 --> 00:27:48,640
we have one if we don't have one like if

556
00:27:47,200 --> 00:27:50,110
we just don't have a head because our

557
00:27:48,640 --> 00:27:54,300
head got chopped off or something maybe

558
00:27:50,109 --> 00:27:54,299
we would use some other code here right

559
00:27:54,390 --> 00:27:59,050
but for now we'll just only we'll just

560
00:27:57,190 --> 00:28:03,519
stay stationary if we can't find our

561
00:27:59,049 --> 00:28:05,139
head and so inside our synonymy stuff

562
00:28:03,519 --> 00:28:08,920
you can see where the sword thing

563
00:28:05,140 --> 00:28:11,710
happens is actually some code that makes

564
00:28:08,920 --> 00:28:13,990
this happen you can see the

565
00:28:11,710 --> 00:28:16,120
decompression step stuff here how that

566
00:28:13,990 --> 00:28:18,819
works you can see store entity reference

567
00:28:16,119 --> 00:28:22,239
and load entity reference those are both

568
00:28:18,819 --> 00:28:24,549
things that need to actually happen so

569
00:28:22,240 --> 00:28:25,180
in here we need to do a load entity

570
00:28:24,549 --> 00:28:30,509
reference

571
00:28:25,180 --> 00:28:37,560
rolled mode sim raven entity head

572
00:28:30,509 --> 00:28:46,559
and same thing below door entity

573
00:28:37,559 --> 00:28:48,480
reference stored so now all we really

574
00:28:46,559 --> 00:28:50,579
have to do is implement this and this is

575
00:28:48,480 --> 00:28:52,170
pretty straightforward actually right

576
00:28:50,579 --> 00:28:54,119
now because we actually don't have the

577
00:28:52,170 --> 00:28:57,690
concept of entity rotation in here at

578
00:28:54,119 --> 00:29:00,359
all right so sim region itself we can

579
00:28:57,690 --> 00:29:02,750
sort of have in here this this concept

580
00:29:00,359 --> 00:29:05,549
that there is a way to get the traversal

581
00:29:02,750 --> 00:29:07,829
traversable back and this is a really

582
00:29:05,549 --> 00:29:11,129
simple operation all this is saying is

583
00:29:07,829 --> 00:29:15,089
that if you take a cement ax T and one

584
00:29:11,130 --> 00:29:18,180
of these indexes you can basically take

585
00:29:15,089 --> 00:29:21,419
this cement a traversable point that you

586
00:29:18,180 --> 00:29:29,160
would get if you looked at the collision

587
00:29:21,420 --> 00:29:32,779
group and we can assert here that this

588
00:29:29,160 --> 00:29:34,980
index is within the range that's allowed

589
00:29:32,779 --> 00:29:36,210
because we know the traversal count so

590
00:29:34,980 --> 00:29:38,880
you might say hey make sure that's

591
00:29:36,210 --> 00:29:41,970
actually valid when we get this result

592
00:29:38,880 --> 00:29:44,220
out we can then take the P that it has

593
00:29:41,970 --> 00:29:46,289
and we're just going to transform it by

594
00:29:44,220 --> 00:29:49,470
offsetting by the enemy's speed and we

595
00:29:46,289 --> 00:29:54,119
could say like you know to do this wants

596
00:29:49,470 --> 00:29:55,710
to be rotated eventually because at some

597
00:29:54,119 --> 00:29:57,509
point we probably want to the concerts

598
00:29:55,710 --> 00:29:59,819
that entities can turn and that they're

599
00:29:57,509 --> 00:30:01,980
their points that you would stand on

600
00:29:59,819 --> 00:30:04,019
would turn like if you imagine there

601
00:30:01,980 --> 00:30:05,339
maybe there's some like platform with

602
00:30:04,019 --> 00:30:06,509
some points you can stand on and it's

603
00:30:05,339 --> 00:30:08,519
kind of moving throughout the world

604
00:30:06,509 --> 00:30:11,579
right it makes sense to say that that's

605
00:30:08,519 --> 00:30:15,450
you know going to rotate or spin

606
00:30:11,579 --> 00:30:19,129
potentially so okay we've got this

607
00:30:15,450 --> 00:30:19,130
traversal account situation and

608
00:30:22,789 --> 00:30:27,470
and now we've done that transform so now

609
00:30:25,849 --> 00:30:32,329
let's see if we can get the body moving

610
00:30:27,470 --> 00:30:33,440
the way that the body should move the

611
00:30:32,329 --> 00:30:35,689
other thing that I would like to do by

612
00:30:33,440 --> 00:30:36,740
the way oh well there's one other thing

613
00:30:35,690 --> 00:30:39,230
we have to do which is actually set up

614
00:30:36,740 --> 00:30:41,420
that head head reference because we've

615
00:30:39,230 --> 00:30:45,890
met we've not told the body about its

616
00:30:41,420 --> 00:30:47,630
head yet kind of a funny phrase but so

617
00:30:45,890 --> 00:30:50,390
if I go back to world mode where we do

618
00:30:47,630 --> 00:30:54,320
add player right where we construct one

619
00:30:50,390 --> 00:30:56,030
of these things we've got this sort of

620
00:30:54,319 --> 00:30:57,740
body head situation and what I want to

621
00:30:56,029 --> 00:31:00,859
do here is exactly the same thing that

622
00:30:57,740 --> 00:31:04,910
was done here I want to say like oh okay

623
00:31:00,859 --> 00:31:07,909
the body's low sim head index is going

624
00:31:04,910 --> 00:31:13,130
to be the heads index so now it knows

625
00:31:07,910 --> 00:31:14,769
which one it's talking about and so

626
00:31:13,130 --> 00:31:19,510
there we go

627
00:31:14,769 --> 00:31:19,509
textures what's going out those textures

628
00:31:22,650 --> 00:31:28,038
what's going on we're caught in a loop

629
00:31:32,940 --> 00:31:41,669
oh that's good yeah turns out for loops

630
00:31:38,419 --> 00:31:43,830
don't really work super well this is

631
00:31:41,669 --> 00:31:47,159
this is the pro tip you know from an

632
00:31:43,829 --> 00:31:48,658
experienced programmer sometimes if you

633
00:31:47,159 --> 00:31:50,669
don't increment the variable in the for

634
00:31:48,659 --> 00:31:55,169
loop it won't work as well I mean I

635
00:31:50,669 --> 00:31:57,419
don't know like it's probably some bug

636
00:31:55,169 --> 00:31:59,970
in the in the CPU or something you know

637
00:31:57,419 --> 00:32:03,649
but like you got to increment it or

638
00:31:59,970 --> 00:32:06,118
something I don't know it's stupid oh

639
00:32:03,648 --> 00:32:07,558
hey that works actually exactly the way

640
00:32:06,118 --> 00:32:10,978
I wanted to but unfortunately I'm

641
00:32:07,558 --> 00:32:13,168
setting the camera up to move in the old

642
00:32:10,979 --> 00:32:16,200
style way so what I actually don't want

643
00:32:13,169 --> 00:32:21,330
that anymore I want the camera to stay

644
00:32:16,200 --> 00:32:23,278
room based yeah okay so now we've got

645
00:32:21,329 --> 00:32:28,710
that working much more like I wanted it

646
00:32:23,278 --> 00:32:34,858
to work actually that's that's quite

647
00:32:28,710 --> 00:32:36,869
nice actually yes

648
00:32:34,858 --> 00:32:39,689
and so in theory - the other thing

649
00:32:36,868 --> 00:32:42,178
that's nice is this is not based on the

650
00:32:39,690 --> 00:32:43,739
grid so this is actually something that

651
00:32:42,179 --> 00:32:46,619
works regardless of whether there's a

652
00:32:43,739 --> 00:32:48,179
grid or not right and it's also kind of

653
00:32:46,618 --> 00:32:50,038
nice in that the body won't follow

654
00:32:48,179 --> 00:32:52,710
beyond where there are actually

655
00:32:50,038 --> 00:32:55,169
traversable points which is also kind of

656
00:32:52,710 --> 00:32:56,519
good so that's fine you know what I also

657
00:32:55,169 --> 00:32:58,559
should do though I should also reenable

658
00:32:56,519 --> 00:33:18,569
the collision for the things that

659
00:32:58,558 --> 00:33:22,668
collide there we go okay so for the

660
00:33:18,569 --> 00:33:22,668
things that collide here now we've got

661
00:33:23,058 --> 00:33:28,138
now we've got that oh I and let me go

662
00:33:25,979 --> 00:33:30,629
ahead and set this permanently that's a

663
00:33:28,138 --> 00:33:34,798
room based so that's global render

664
00:33:30,628 --> 00:33:38,868
camera room based I don't actually know

665
00:33:34,798 --> 00:33:38,868
where we set that room based

666
00:33:39,950 --> 00:33:48,840
sit in the same region yeah so is that

667
00:33:46,409 --> 00:33:51,480
mean config dot H I guess so we just

668
00:33:48,839 --> 00:33:59,699
need to say that the room based stuff is

669
00:33:51,480 --> 00:34:01,140
true now all right so yeah so much

670
00:33:59,700 --> 00:34:01,409
better so now when we start up it should

671
00:34:01,140 --> 00:34:04,500
be fine

672
00:34:01,409 --> 00:34:06,780
the other thing that I'm gonna do that I

673
00:34:04,500 --> 00:34:08,309
would like to do is when we actually

674
00:34:06,779 --> 00:34:09,809
start up right now one of the things

675
00:34:08,309 --> 00:34:12,148
that we're doing is we're going into the

676
00:34:09,809 --> 00:34:13,980
cutscene but since we're working on the

677
00:34:12,148 --> 00:34:16,618
game part of the game right now I would

678
00:34:13,980 --> 00:34:18,719
like to make it so that we start up

679
00:34:16,619 --> 00:34:20,369
directly into the game because that's

680
00:34:18,719 --> 00:34:23,759
gonna make it like save me a lot of time

681
00:34:20,369 --> 00:34:25,409
when I'm starting up right so what I'd

682
00:34:23,760 --> 00:34:27,270
like to do too is you know you've got

683
00:34:25,409 --> 00:34:30,450
this game state game mode here right and

684
00:34:27,269 --> 00:34:33,000
by default it does the play intro

685
00:34:30,449 --> 00:34:34,739
cutscene and so that's all fine and good

686
00:34:33,000 --> 00:34:38,699
but I'm just like that's what it should

687
00:34:34,739 --> 00:34:41,098
be it's just for now I would rather make

688
00:34:38,699 --> 00:34:42,449
it be like play game or whatever in fact

689
00:34:41,099 --> 00:34:48,349
I don't even remember what it actually

690
00:34:42,449 --> 00:34:51,118
is to start that it's like what is it

691
00:34:48,349 --> 00:34:53,190
play title screen play world that's what

692
00:34:51,119 --> 00:34:55,919
it's called so I'm just gonna call play

693
00:34:53,190 --> 00:34:58,190
world at the outset instead so that when

694
00:34:55,918 --> 00:35:07,409
we start we're just looking at the game

695
00:34:58,190 --> 00:35:09,059
directly hopefully anyway just play I

696
00:35:07,409 --> 00:35:12,108
thought play world would set up the

697
00:35:09,059 --> 00:35:12,108
world is that not true

698
00:35:17,039 --> 00:35:23,969
that should that should set up the world

699
00:35:21,130 --> 00:35:23,970
for us should it not

700
00:35:32,929 --> 00:35:38,190
hmm although that does always come

701
00:35:35,340 --> 00:35:41,940
inside here but I don't think that

702
00:35:38,190 --> 00:35:43,740
should have mattered I'm not to see what

703
00:35:41,940 --> 00:35:47,010
that because I think we this should be

704
00:35:43,739 --> 00:35:50,939
allowed and so the fact that that

705
00:35:47,010 --> 00:35:53,430
doesn't work is bad so let's fix that so

706
00:35:50,940 --> 00:36:03,630
the problem here is that world mode is

707
00:35:53,429 --> 00:36:18,509
null and I'm not sure why let's jump in

708
00:36:03,630 --> 00:36:23,840
here so there's world mode when does it

709
00:36:18,510 --> 00:36:23,840
actually set game state world mode

710
00:36:35,829 --> 00:36:42,009
that strikes me as a little bit peculiar

711
00:36:42,940 --> 00:36:48,409
because here it is creating world mode

712
00:36:45,588 --> 00:36:50,719
we come through here we create a bunch

713
00:36:48,409 --> 00:36:52,788
of stuff that we need to make the world

714
00:36:50,719 --> 00:37:00,199
and so that's great you know everyone's

715
00:36:52,789 --> 00:37:03,289
happy and that's fine but after we do

716
00:37:00,199 --> 00:37:06,108
that I don't see us actually assigning

717
00:37:03,289 --> 00:37:14,150
it ever to the actual word a load

718
00:37:06,108 --> 00:37:22,969
variable so how does that ever how did

719
00:37:14,150 --> 00:37:26,630
this ever happen how is that world mode

720
00:37:22,969 --> 00:37:33,858
supposed to get communicated I'm super

721
00:37:26,630 --> 00:37:35,749
confused hopefully I'm not the only

722
00:37:33,858 --> 00:37:39,889
person who thinks that's confusing so

723
00:37:35,748 --> 00:37:41,480
let's take a look here so you can see

724
00:37:39,889 --> 00:37:43,909
update and render world

725
00:37:41,480 --> 00:37:48,318
it passes game state world node but I

726
00:37:43,909 --> 00:37:51,098
don't know when people write to game

727
00:37:48,318 --> 00:37:51,099
state world mode

728
00:37:58,710 --> 00:38:08,230
the answer is never so how was this ever

729
00:38:01,869 --> 00:38:18,969
working does someone want to explain

730
00:38:08,230 --> 00:38:21,579
that to me this is weird enough that I

731
00:38:18,969 --> 00:38:27,250
just want to make sure we know why so

732
00:38:21,579 --> 00:38:33,269
here's the old version it's great and

733
00:38:27,250 --> 00:38:41,019
run it and here's me launching the game

734
00:38:33,269 --> 00:38:45,009
and the game is working right we could

735
00:38:41,019 --> 00:38:46,139
all agree on that I think so my question

736
00:38:45,010 --> 00:38:49,240
is all right

737
00:38:46,139 --> 00:38:51,699
how was game where you know who is

738
00:38:49,239 --> 00:38:53,289
actually initializing this and so let's

739
00:38:51,699 --> 00:38:54,609
actually in fact we talked about data

740
00:38:53,289 --> 00:38:56,739
break points where we're talking about

741
00:38:54,610 --> 00:38:59,170
in the about debugging let's actually

742
00:38:56,739 --> 00:39:01,899
use a data breakpoint here to find out

743
00:38:59,170 --> 00:39:06,430
how that was ever happening so let's say

744
00:39:01,900 --> 00:39:09,160
we come down here and right now I've got

745
00:39:06,429 --> 00:39:13,980
my game state and presumably world mode

746
00:39:09,159 --> 00:39:13,980
is not not valid right

747
00:39:20,048 --> 00:39:24,349
like there's nothing in it although

748
00:39:22,039 --> 00:39:28,219
there is there is a pointer to a world

749
00:39:24,349 --> 00:39:33,939
mode so the actual mode itself exists

750
00:39:28,219 --> 00:39:36,429
but the world pointer does not right

751
00:39:33,938 --> 00:39:44,208
wait let me jump back over here as well

752
00:39:36,429 --> 00:39:48,410
so here is a world med that's okay right

753
00:39:44,208 --> 00:39:51,558
cuz it does a push struct here and it

754
00:39:48,409 --> 00:39:55,668
pushes on this world mode but I don't

755
00:39:51,559 --> 00:39:57,469
know why in fact let's go into the

756
00:39:55,668 --> 00:40:01,028
cutscene just for one second - I want to

757
00:39:57,469 --> 00:40:01,028
see how this one's how this one does it

758
00:40:03,338 --> 00:40:13,639
you can see like this like sets it right

759
00:40:06,458 --> 00:40:15,739
and this one - like it sets it up so I

760
00:40:13,639 --> 00:40:19,818
don't even know I want to know - like

761
00:40:15,739 --> 00:40:22,009
who whoever set this up at all why is

762
00:40:19,818 --> 00:40:24,708
there even a pointer in there in the

763
00:40:22,009 --> 00:40:27,259
first place I'm gonna start all the way

764
00:40:24,708 --> 00:40:32,198
back like when did that happen

765
00:40:27,259 --> 00:40:32,199
I guess the game mood

766
00:40:37,929 --> 00:40:43,809
yeah I don't know so I'm gonna start all

767
00:40:40,000 --> 00:40:50,889
the way back to the beginning so here we

768
00:40:43,809 --> 00:40:52,389
go we have not initialized the game

769
00:40:50,889 --> 00:40:54,759
state so we're going to initialize the

770
00:40:52,389 --> 00:40:57,489
game state now so here's the game state

771
00:40:54,760 --> 00:40:59,800
and the world mode has nothing in it so

772
00:40:57,489 --> 00:41:01,299
we come through here there is nothing in

773
00:40:59,800 --> 00:41:03,850
it still nothing

774
00:41:01,300 --> 00:41:06,670
so the world mode is just empty which is

775
00:41:03,849 --> 00:41:09,009
what we would have expected it to be we

776
00:41:06,670 --> 00:41:11,769
create some stuff for our task transient

777
00:41:09,010 --> 00:41:13,480
modes all that stuff it's all good

778
00:41:11,769 --> 00:41:15,250
we creates environment maps which was

779
00:41:13,480 --> 00:41:20,710
nine things we use anymore but there

780
00:41:15,250 --> 00:41:23,079
they're good for them we've put some

781
00:41:20,710 --> 00:41:26,740
debug arenas in place just for fun

782
00:41:23,079 --> 00:41:31,029
we're sorry we print them out and then

783
00:41:26,739 --> 00:41:35,229
we actually start going on with our with

784
00:41:31,030 --> 00:41:39,330
our situation oh okay

785
00:41:35,230 --> 00:41:43,230
that's just a union so that's fine

786
00:41:39,329 --> 00:41:43,230
that's actually totally fine

787
00:41:46,239 --> 00:41:51,559
so that's crazy so I know exactly how

788
00:41:49,579 --> 00:41:54,139
this is working now that's just super

789
00:41:51,559 --> 00:41:56,840
accidental so here's what actually

790
00:41:54,139 --> 00:41:59,239
happened what actually happened is we

791
00:41:56,840 --> 00:42:04,130
just it just so happens that if we've

792
00:41:59,239 --> 00:42:06,559
already allocated the other mode we

793
00:42:04,130 --> 00:42:08,990
happen to put ourselves in exactly the

794
00:42:06,559 --> 00:42:14,719
same place so we didn't have to set the

795
00:42:08,989 --> 00:42:17,629
pointer like I bet this just turns in

796
00:42:14,719 --> 00:42:24,739
this address is exactly where it happens

797
00:42:17,630 --> 00:42:27,950
to push the other mode let's find out so

798
00:42:24,739 --> 00:42:36,319
here's our cutscene we're running

799
00:42:27,949 --> 00:42:39,439
we're running along right and I started

800
00:42:36,320 --> 00:42:41,240
up and now I want to know hey where is

801
00:42:39,440 --> 00:42:44,380
that world mode hey look it's exactly

802
00:42:41,239 --> 00:42:47,689
the same place so that was pure luck

803
00:42:44,380 --> 00:42:50,539
there's actually a total line of missing

804
00:42:47,690 --> 00:42:53,420
code that's a incredibly important

805
00:42:50,539 --> 00:43:13,840
that's straight-up not there this thing

806
00:42:53,420 --> 00:43:13,840
this exactly needs to be in here right

807
00:43:18,300 --> 00:43:25,870
so here is it working now and then if I

808
00:43:22,480 --> 00:43:28,780
was to change back to what I wanted to

809
00:43:25,869 --> 00:43:32,139
do before oops

810
00:43:28,780 --> 00:43:33,550
yeah and that was right turn off the

811
00:43:32,139 --> 00:43:34,929
cutscene now it should actually work

812
00:43:33,550 --> 00:43:46,810
because someone's actually setting that

813
00:43:34,929 --> 00:43:51,089
value although that that actually that

814
00:43:46,809 --> 00:43:51,090
actually did not go to the world mode

815
00:43:58,139 --> 00:44:08,019
that went to the title screen we are

816
00:44:04,599 --> 00:44:15,940
setting the game mode to world so in

817
00:44:08,019 --> 00:44:20,460
theory that should call this yeah and

818
00:44:15,940 --> 00:44:20,460
I'm not hitting escape or anything oh

819
00:44:26,039 --> 00:44:37,329
but you know what when there's no

820
00:44:29,079 --> 00:44:42,400
players when there's no players we just

821
00:44:37,329 --> 00:44:44,079
revert back to the title screen so I

822
00:44:42,400 --> 00:44:45,220
guess there is a problem of will enter

823
00:44:44,079 --> 00:44:47,199
game mode and then go back to social

824
00:44:45,219 --> 00:44:51,009
because there's no players so I guess

825
00:44:47,199 --> 00:44:54,329
that is a little bit of a problem how

826
00:44:51,010 --> 00:44:54,330
are we getting around that though

827
00:44:56,440 --> 00:45:04,840
I guess we're we just counting on the

828
00:45:03,039 --> 00:45:14,440
fact that you happen to push the same

829
00:45:04,840 --> 00:45:16,660
button because it seems like yet all

830
00:45:14,440 --> 00:45:18,190
we're doing here is real like hey this

831
00:45:16,659 --> 00:45:21,909
guy started and he's gonna start playing

832
00:45:18,190 --> 00:45:25,269
the game so then in the other code in

833
00:45:21,909 --> 00:45:28,389
world mode it hasn't no one's actually

834
00:45:25,269 --> 00:45:29,980
joined the game yet right and so what

835
00:45:28,389 --> 00:45:33,359
happens is when it gets down to the

836
00:45:29,980 --> 00:45:36,460
bottom I think it's just like oh like

837
00:45:33,360 --> 00:45:40,620
there's no heroes so go back to the

838
00:45:36,460 --> 00:45:40,619
title screen which is exactly what does

839
00:45:43,199 --> 00:45:53,799
so I guess I need to also force it to

840
00:45:46,210 --> 00:45:57,190
start a new hero which I guess actually

841
00:45:53,800 --> 00:46:00,250
isn't that hard because I can do like I

842
00:45:57,190 --> 00:46:02,920
can force an initial controller press of

843
00:46:00,250 --> 00:46:08,440
start if I want to so that's not really

844
00:46:02,920 --> 00:46:11,050
a huge deal but we may want to I don't

845
00:46:08,440 --> 00:46:13,150
know if since this is only really for

846
00:46:11,050 --> 00:46:20,740
debug I suppose that's not really a huge

847
00:46:13,150 --> 00:46:22,360
deal but still it's not great probably

848
00:46:20,739 --> 00:46:27,189
want to make it more formal so I can say

849
00:46:22,360 --> 00:46:29,410
like play world and add player but you

850
00:46:27,190 --> 00:46:33,730
know I can do this and say like

851
00:46:29,409 --> 00:46:35,940
controller your back like ended down or

852
00:46:33,730 --> 00:46:35,940
something

853
00:46:43,170 --> 00:46:48,789
so I could in theory force it to be like

854
00:46:46,750 --> 00:46:51,190
oh yeah and by the way someone pushed

855
00:46:48,789 --> 00:46:54,309
start right and I'm not sure if I can

856
00:46:51,190 --> 00:46:56,170
actually get away with that exactly but

857
00:46:54,309 --> 00:46:58,840
I should be able to do something so

858
00:46:56,170 --> 00:47:03,519
let's see uh-oh it's actually starting

859
00:46:58,840 --> 00:47:06,190
that back start so I'm basically just

860
00:47:03,519 --> 00:47:08,289
like over writing the actual input with

861
00:47:06,190 --> 00:47:11,380
the start button so that it adds one

862
00:47:08,289 --> 00:47:14,679
hero so it's as if someone pushed start

863
00:47:11,380 --> 00:47:17,680
and I suppose for that matter

864
00:47:14,679 --> 00:47:20,349
technically that means that really you

865
00:47:17,679 --> 00:47:22,539
can actually have play cutscene have

866
00:47:20,349 --> 00:47:25,900
actually happened and we don't actually

867
00:47:22,539 --> 00:47:30,369
have to call play world what I can do is

868
00:47:25,900 --> 00:47:31,960
just say like oh you know if I want to

869
00:47:30,369 --> 00:47:32,380
like force the start button to be

870
00:47:31,960 --> 00:47:33,820
pressed

871
00:47:32,380 --> 00:47:36,190
I just force to start button to be

872
00:47:33,820 --> 00:47:38,559
pressed and we actually start in the

873
00:47:36,190 --> 00:47:44,550
game even though we don't force it to

874
00:47:38,559 --> 00:47:48,509
start with the other mode so that's fine

875
00:47:44,550 --> 00:47:48,510
I'm fine with that

876
00:47:50,260 --> 00:48:04,690
all right so now I'm just gonna say well

877
00:47:56,059 --> 00:48:10,820
okay like I kind of want to see uh I

878
00:48:04,690 --> 00:48:14,900
want to see what what our DT per frame

879
00:48:10,820 --> 00:48:17,990
is here I want to check out the DT per

880
00:48:14,900 --> 00:48:20,480
frame also somebody reported a bug that

881
00:48:17,989 --> 00:48:30,079
is relevant here I don't know if I can

882
00:48:20,480 --> 00:48:34,070
go to github can I sign in there we go

883
00:48:30,079 --> 00:48:42,489
so if I'm here on github how do I get to

884
00:48:34,070 --> 00:48:44,690
the issues issues there it is so hmm

885
00:48:42,489 --> 00:48:46,939
someone was saying that DT forever so

886
00:48:44,690 --> 00:48:48,320
has won over mono refresh rate over to

887
00:48:46,940 --> 00:48:51,920
this off by a factor of two or more

888
00:48:48,320 --> 00:48:55,250
Effie sink is disabled so that I think

889
00:48:51,920 --> 00:48:57,349
that means that we're passing probably

890
00:48:55,250 --> 00:49:00,880
because of some thing debug oriented or

891
00:48:57,349 --> 00:49:00,880
you know whatever that we were doing

892
00:49:06,429 --> 00:49:11,809
yeah so this is a good catch by Kim

893
00:49:09,860 --> 00:49:13,700
because this is just some stuff that we

894
00:49:11,809 --> 00:49:15,409
work sort of hacking in there and before

895
00:49:13,699 --> 00:49:17,839
we ever did vsync or any of that sort of

896
00:49:15,409 --> 00:49:19,929
stuff and we really want this to

897
00:49:17,840 --> 00:49:22,250
actually start passing an accurate value

898
00:49:19,929 --> 00:49:24,049
because if we're gonna start making game

899
00:49:22,250 --> 00:49:25,519
code we need to sort of have the game

900
00:49:24,050 --> 00:49:29,150
running at the proper or frame rate

901
00:49:25,519 --> 00:49:32,210
right so what we need to do now is say

902
00:49:29,150 --> 00:49:33,920
that well the game update Hertz is gonna

903
00:49:32,210 --> 00:49:41,570
be whatever it is for now

904
00:49:33,920 --> 00:49:45,740
right and let's see where this actually

905
00:49:41,570 --> 00:49:48,620
gets used target seconds for frame yeah

906
00:49:45,739 --> 00:49:51,019
so at the moment if we're just always on

907
00:49:48,619 --> 00:49:52,609
vsync which we are for all of our

908
00:49:51,019 --> 00:49:58,929
testing purposes that should be the

909
00:49:52,610 --> 00:49:58,930
actual amount that's correct

910
00:49:59,710 --> 00:50:07,340
yeah so it was a little bit

911
00:50:05,420 --> 00:50:10,900
before of course that also means our

912
00:50:07,340 --> 00:50:10,900
cutscene timing is probably off

913
00:50:21,650 --> 00:50:28,260
well that actually kind of looks fine we

914
00:50:25,920 --> 00:50:29,789
don't really have any we haven't tried

915
00:50:28,260 --> 00:50:32,310
to sync the cutscene to an audio track

916
00:50:29,789 --> 00:50:33,809
or anything like that yet so I guess

917
00:50:32,309 --> 00:50:35,070
it's going to depend the speed of each

918
00:50:33,809 --> 00:50:37,920
of these things is going to depend

919
00:50:35,070 --> 00:50:41,070
entirely on how we want you know how we

920
00:50:37,920 --> 00:50:45,389
decide to or rather how long the audio

921
00:50:41,070 --> 00:50:47,369
ends up being all right so that's

922
00:50:45,389 --> 00:50:49,949
actually more the speed that I thought

923
00:50:47,369 --> 00:50:52,349
it should be as well so that's good I'm

924
00:50:49,949 --> 00:50:57,449
glad we've got that squared away if that

925
00:50:52,349 --> 00:50:58,769
makes sense but I I guess I'm almost out

926
00:50:57,449 --> 00:51:00,989
of time so I'll probably end up there

927
00:50:58,769 --> 00:51:03,329
but I also just want to do a little bit

928
00:51:00,989 --> 00:51:07,889
of a test here with the the hero's body

929
00:51:03,329 --> 00:51:09,349
I want to see what happens if I animate

930
00:51:07,889 --> 00:51:16,909
him a little bit from point to point

931
00:51:09,349 --> 00:51:26,130
right so let's say in here in world mode

932
00:51:16,909 --> 00:51:28,649
dot cpp and here's my sim region so I'm

933
00:51:26,130 --> 00:51:31,050
going to go ahead and say like okay I've

934
00:51:28,650 --> 00:51:35,119
got the the P and I'm just going to say

935
00:51:31,050 --> 00:51:35,119
there's like

936
00:51:38,550 --> 00:51:43,200
well I guess you know what I can even

937
00:51:40,800 --> 00:51:44,580
just do it in a simpler fashion for now

938
00:51:43,199 --> 00:51:48,449
I guess all I really do is I'm just

939
00:51:44,579 --> 00:51:56,009
gonna run that code that was on the

940
00:51:48,449 --> 00:52:00,449
familiar so you can see that we had this

941
00:51:56,010 --> 00:52:02,430
this sort of DP is based on the distance

942
00:52:00,449 --> 00:52:06,029
from the hero

943
00:52:02,429 --> 00:52:11,549
kind of thing and I guess we just set

944
00:52:06,030 --> 00:52:16,800
the move spec for this guy I'm gonna set

945
00:52:11,550 --> 00:52:19,890
those all for the for the hero body so

946
00:52:16,800 --> 00:52:21,960
assuming that we had the head what I'm

947
00:52:19,889 --> 00:52:24,299
gonna do is I'm gonna instead of setting

948
00:52:21,960 --> 00:52:26,130
the end of these P to the closest P I'm

949
00:52:24,300 --> 00:52:28,710
just gonna use the exact same code that

950
00:52:26,130 --> 00:52:31,829
we were using before and I'm not gonna

951
00:52:28,710 --> 00:52:37,769
do any of this stuff I'm just gonna say

952
00:52:31,829 --> 00:52:42,569
like whatever whatever it was it's gonna

953
00:52:37,769 --> 00:52:43,980
be doing the square root of course this

954
00:52:42,570 --> 00:52:45,630
value we need to make sure we actually

955
00:52:43,980 --> 00:52:47,699
ever I guess we need to make sure we

956
00:52:45,630 --> 00:52:49,170
actually found somebody because

957
00:52:47,699 --> 00:52:52,259
otherwise the square root term will be

958
00:52:49,170 --> 00:52:56,820
kind of ridiculous right because this

959
00:52:52,260 --> 00:52:58,590
will be real 30 to maximum so yeah I

960
00:52:56,820 --> 00:53:00,180
mean we could make this close to

961
00:52:58,590 --> 00:53:01,890
distance square it'd be some thing that

962
00:53:00,179 --> 00:53:03,419
was like we don't ever want to move if

963
00:53:01,889 --> 00:53:06,029
the head gets further than this away

964
00:53:03,420 --> 00:53:07,800
right we could say like oh if it's if

965
00:53:06,030 --> 00:53:09,330
it's more than a thousand meters away

966
00:53:07,800 --> 00:53:10,650
then obviously it's not gonna happen and

967
00:53:09,329 --> 00:53:15,860
then this term won't blow up and it'll

968
00:53:10,650 --> 00:53:15,860
be fine so that's probably fine as well

969
00:53:20,480 --> 00:53:24,769
so I want to take a look at this

970
00:53:28,099 --> 00:53:45,769
hello mr. movement so my DDP poopy -

971
00:53:36,568 --> 00:53:45,768
entity pee why are you not accelerating

972
00:53:50,150 --> 00:53:58,980
and I'm not sure why aren't you

973
00:53:52,528 --> 00:54:00,710
accelerating is si is this because of

974
00:53:58,980 --> 00:54:03,000
the collision

975
00:54:00,710 --> 00:54:07,019
are you colliding with something right

976
00:54:03,000 --> 00:54:14,579
now I don't actually know what turn off

977
00:54:07,018 --> 00:54:15,689
your collision for now let's see - turn

978
00:54:14,579 --> 00:54:17,900
off your collision would be pretty

979
00:54:15,690 --> 00:54:25,559
simple I would just say the entity

980
00:54:17,900 --> 00:54:30,838
collision equals world mode no collision

981
00:54:25,559 --> 00:54:33,690
right so it's not a collision problem

982
00:54:30,838 --> 00:54:35,068
you're not colliding with anything but

983
00:54:33,690 --> 00:54:38,329
you're also not going anywhere

984
00:54:35,068 --> 00:54:38,329
why aren't you going anywhere

985
00:54:48,210 --> 00:54:52,599
okay so let's take a look at what the

986
00:54:50,500 --> 00:54:59,380
various key values are so there's

987
00:54:52,599 --> 00:55:02,440
closest to P and M - V P yes so those

988
00:54:59,380 --> 00:55:05,050
are like nothing like each other and so

989
00:55:02,440 --> 00:55:09,190
in theory they should be that should be

990
00:55:05,050 --> 00:55:14,289
enough to move the guy so what's the DDP

991
00:55:09,190 --> 00:55:15,869
the DDP is a totally valid value I'm not

992
00:55:14,289 --> 00:55:20,409
sure

993
00:55:15,869 --> 00:55:25,000
so that should have worked is movable

994
00:55:20,409 --> 00:55:27,239
not set movable set so what's the

995
00:55:25,000 --> 00:55:27,239
problem

996
00:55:35,480 --> 00:55:45,780
so he's moving at that speed whoa

997
00:55:41,940 --> 00:55:50,309
move speck drag times entity DP my

998
00:55:45,780 --> 00:55:53,850
entity DP is complete garbage how did

999
00:55:50,309 --> 00:55:56,639
that happen so if something went

1000
00:55:53,849 --> 00:56:06,079
horribly wrong closest distance squared

1001
00:55:56,639 --> 00:56:08,339
is whatever this is so something bad

1002
00:56:06,079 --> 00:56:09,779
happened there let's let's take a look

1003
00:56:08,340 --> 00:56:12,780
at the first time through this loop

1004
00:56:09,780 --> 00:56:19,860
hopefully before that ever gets messed

1005
00:56:12,780 --> 00:56:27,269
up so let's let's jump in here so here's

1006
00:56:19,860 --> 00:56:28,920
the first time through Oh duh when

1007
00:56:27,269 --> 00:56:32,460
they're right on top of each other that

1008
00:56:28,920 --> 00:56:35,490
wouldn't work either right right right

1009
00:56:32,460 --> 00:56:37,349
okay so that was that was just be being

1010
00:56:35,489 --> 00:56:40,859
stupid if these things are too close

1011
00:56:37,349 --> 00:56:45,089
together then obviously it can't move so

1012
00:56:40,860 --> 00:56:47,070
I do still want that ability right so I

1013
00:56:45,090 --> 00:56:50,280
would that was me being dumb so the

1014
00:56:47,070 --> 00:56:53,820
closest distance squared that closest

1015
00:56:50,280 --> 00:56:54,870
does have to be we were checking for we

1016
00:56:53,820 --> 00:56:58,320
were checking to make sure it wasn't too

1017
00:56:54,869 --> 00:57:00,769
close and and I just spaced on that for

1018
00:56:58,320 --> 00:57:00,769
some reason

1019
00:57:11,769 --> 00:57:16,849
okay so now if I like we're gonna I'm

1020
00:57:15,139 --> 00:57:18,289
gonna want to animate that a much much

1021
00:57:16,849 --> 00:57:20,690
better but I just want to kind of see

1022
00:57:18,289 --> 00:57:22,789
what that ends up being like so if we

1023
00:57:20,690 --> 00:57:24,590
assume I don't know why acceleration

1024
00:57:22,789 --> 00:57:25,909
what acceleration has to do with it

1025
00:57:24,590 --> 00:57:30,950
because this is actually the thing that

1026
00:57:25,909 --> 00:57:32,539
determines the speed so that's I'm not

1027
00:57:30,949 --> 00:57:34,909
sure I feel like the familiar code was a

1028
00:57:32,539 --> 00:57:36,559
little bit janky in that case cuz it

1029
00:57:34,909 --> 00:57:38,690
doesn't really need to do what it's

1030
00:57:36,559 --> 00:57:40,400
doing here and in fact none of this

1031
00:57:38,690 --> 00:57:43,429
stuff really makes any sense because

1032
00:57:40,400 --> 00:57:46,309
this code takes care of all this so

1033
00:57:43,429 --> 00:57:51,379
really this is irrelevant to some degree

1034
00:57:46,309 --> 00:57:53,150
I think right I'm pretty sure that that

1035
00:57:51,380 --> 00:57:55,849
actually this this doesn't ever need to

1036
00:57:53,150 --> 00:57:58,670
happen I think you can just say that

1037
00:57:55,849 --> 00:58:01,159
this is what you actually wanted the DDP

1038
00:57:58,670 --> 00:58:04,099
to be in fact I don't know can you just

1039
00:58:01,159 --> 00:58:06,730
do this directly and just say that's

1040
00:58:04,099 --> 00:58:06,730
what this is

1041
00:58:13,139 --> 00:58:19,139
I feel like you can't yeah that's what I

1042
00:58:18,690 --> 00:58:21,389
thought

1043
00:58:19,139 --> 00:58:22,650
so that familiar code is just stupid I

1044
00:58:21,389 --> 00:58:24,449
don't know why it was bothering because

1045
00:58:22,650 --> 00:58:29,700
that code actually does it for it

1046
00:58:24,449 --> 00:58:33,018
okay and so if I want to I can make this

1047
00:58:29,699 --> 00:58:36,480
guide track very pretty closely right

1048
00:58:33,018 --> 00:58:40,318
and if I make this drag oops

1049
00:58:36,480 --> 00:58:43,858
relatively high I can make it probably

1050
00:58:40,318 --> 00:58:46,548
feel pretty neat there that might be a

1051
00:58:43,858 --> 00:58:46,548
little too high though

1052
00:58:57,108 --> 00:59:03,389
so that's roughly what I wanted and so

1053
00:59:01,440 --> 00:59:07,159
like we're gonna have to make that

1054
00:59:03,389 --> 00:59:10,409
animate correctly but in terms of like

1055
00:59:07,159 --> 00:59:12,989
actually the speed at which this was

1056
00:59:10,409 --> 00:59:14,399
going to go that's roughly what I had

1057
00:59:12,989 --> 00:59:16,789
envisioned and I think that's going to

1058
00:59:14,400 --> 00:59:16,789
be fine

1059
00:59:20,630 --> 00:59:30,480
yeah so there's a couple other things in

1060
00:59:29,009 --> 00:59:32,009
here which we'll try tomorrow just in

1061
00:59:30,480 --> 00:59:33,539
terms of getting this guy going but then

1062
00:59:32,009 --> 00:59:35,429
but that seems to be working relatively

1063
00:59:33,539 --> 00:59:40,109
well and that I can move around just

1064
00:59:35,429 --> 00:59:43,429
fine and you know my body will track me

1065
00:59:40,108 --> 00:59:46,170
but it will never you know it will never

1066
00:59:43,429 --> 00:59:47,489
my body will never come to rest on

1067
00:59:46,170 --> 00:59:49,318
anything that isn't one of these

1068
00:59:47,489 --> 00:59:51,509
traversable 's and so then really the

1069
00:59:49,318 --> 00:59:53,818
only other thing I need to do other than

1070
00:59:51,509 --> 00:59:55,409
making working on animation for how

1071
00:59:53,818 --> 00:59:58,650
that's gonna you know for making that

1072
00:59:55,409 --> 01:00:02,998
look nice because I so we don't want

1073
00:59:58,650 --> 01:00:05,519
like a detached head and all that but

1074
01:00:02,998 --> 01:00:13,018
all I really need to do now is just make

1075
01:00:05,518 --> 01:00:15,149
it so that this I want the head to snap

1076
01:00:13,018 --> 01:00:17,879
back to the body when you stop pushing

1077
01:00:15,150 --> 01:00:19,528
so when I'm pushing right like around

1078
01:00:17,880 --> 01:00:21,480
this this is correct

1079
01:00:19,528 --> 01:00:22,980
but then when I let go I want it to come

1080
01:00:21,480 --> 01:00:25,278
back to where it would normally be

1081
01:00:22,980 --> 01:00:32,869
neutral if that makes sense

1082
01:00:25,278 --> 01:00:32,869
so all right let's go to the QA

1083
01:00:58,150 --> 01:01:03,229
UHN when I write event-driven code I am

1084
01:01:01,699 --> 01:01:05,629
often forced to use dynamic memory

1085
01:01:03,228 --> 01:01:08,058
allocation to preserve some state until

1086
01:01:05,630 --> 01:01:12,559
it is needed by the callback how do you

1087
01:01:08,059 --> 01:01:14,650
deal with those situations I guess it

1088
01:01:12,559 --> 01:01:17,539
depends on the circumstances obviously

1089
01:01:14,650 --> 01:01:20,298
but there's a couple things first of all

1090
01:01:17,539 --> 01:01:23,479
dynamic memory allocation isn't bad

1091
01:01:20,298 --> 01:01:25,548
right it's just you should make sure you

1092
01:01:23,478 --> 01:01:27,978
know like what you're actually doing so

1093
01:01:25,548 --> 01:01:30,409
my first question is can you just use a

1094
01:01:27,978 --> 01:01:34,129
simple free list like we use that's

1095
01:01:30,409 --> 01:01:36,288
usually like basically you could think

1096
01:01:34,130 --> 01:01:39,528
of it this way a general-purpose

1097
01:01:36,289 --> 01:01:42,920
allocator is usually just a bunch of

1098
01:01:39,528 --> 01:01:45,139
free lists that a bunch of additional

1099
01:01:42,920 --> 01:01:46,970
code has to run to figure out what free

1100
01:01:45,139 --> 01:01:49,879
lists to use when you need some memory

1101
01:01:46,969 --> 01:01:51,558
right and then it has to split things up

1102
01:01:49,880 --> 01:01:55,400
and merge them together and do all this

1103
01:01:51,559 --> 01:01:56,630
extra work most times even with dynamic

1104
01:01:55,400 --> 01:01:58,818
memory you can be like well you know

1105
01:01:56,630 --> 01:02:01,369
most of the things I do are about 64

1106
01:01:58,818 --> 01:02:03,558
bytes long and I usually only have about

1107
01:02:01,369 --> 01:02:06,619
a thousand of them total so I can just

1108
01:02:03,559 --> 01:02:09,249
use a free list with of things that are

1109
01:02:06,619 --> 01:02:14,390
a thousand bytes you know 1k or whatever

1110
01:02:09,248 --> 01:02:16,098
and oh and I'm done right and everything

1111
01:02:14,389 --> 01:02:18,588
that allocates something just grabs one

1112
01:02:16,099 --> 01:02:20,539
of those and pretends the size is

1113
01:02:18,588 --> 01:02:21,949
whatever the size we actually want and

1114
01:02:20,539 --> 01:02:23,690
then does it and then you return it back

1115
01:02:21,949 --> 01:02:26,018
to the free list then you have literally

1116
01:02:23,690 --> 01:02:28,999
no memory allocation overhead whatsoever

1117
01:02:26,018 --> 01:02:30,468
right it's like two instructions or

1118
01:02:28,998 --> 01:02:33,459
something you know to make this happen

1119
01:02:30,469 --> 01:02:36,200
well two sources like ten instructions

1120
01:02:33,460 --> 01:02:38,358
to allocate and ten instructions to free

1121
01:02:36,199 --> 01:02:40,818
or something and you know nothing can

1122
01:02:38,358 --> 01:02:42,469
ever go wrong right there's no there's

1123
01:02:40,818 --> 01:02:45,380
no possibility of fragmentation there's

1124
01:02:42,469 --> 01:02:47,059
no possibility that you run out of

1125
01:02:45,380 --> 01:02:49,039
memory there's no nothing you just know

1126
01:02:47,059 --> 01:02:51,650
like that's commit so I would say like

1127
01:02:49,039 --> 01:02:54,019
don't like I would never think of things

1128
01:02:51,650 --> 01:02:55,160
in terms of how do I avoid dynamic

1129
01:02:54,018 --> 01:02:57,108
memory allocation in the sense of

1130
01:02:55,159 --> 01:02:59,118
sometimes I need one of these as some as

1131
01:02:57,108 --> 01:03:00,679
I don't that's perfectly fine and a very

1132
01:02:59,119 --> 01:03:03,380
normal thing in programming the question

1133
01:03:00,679 --> 01:03:05,389
is just do you actually need a full

1134
01:03:03,380 --> 01:03:07,430
general-purpose allocator and is that

1135
01:03:05,389 --> 01:03:10,940
really the best way to write the code or

1136
01:03:07,429 --> 01:03:12,828
are you just using it because you like

1137
01:03:10,940 --> 01:03:14,750
learn to call new and delete at some

1138
01:03:12,829 --> 01:03:17,119
point and never really thought through

1139
01:03:14,750 --> 01:03:18,920
what the program was actually doing you

1140
01:03:17,119 --> 01:03:22,059
know are those actually the best way to

1141
01:03:18,920 --> 01:03:22,059
do this thing right

1142
01:03:34,739 --> 01:03:40,149
would the hammock debug view enable

1143
01:03:37,269 --> 01:03:42,429
viewing strux like world mode yeah you

1144
01:03:40,150 --> 01:03:44,410
can print out any value that you want so

1145
01:03:42,429 --> 01:03:48,839
if you wanted to see the stuff in the

1146
01:03:44,409 --> 01:03:48,839
world mode you could print it out

1147
01:03:57,289 --> 01:04:02,699
long boolean when moving diagonally will

1148
01:04:00,360 --> 01:04:04,800
it be clear to the player which way the

1149
01:04:02,699 --> 01:04:09,259
body will go to get to the diagonal

1150
01:04:04,800 --> 01:04:16,890
entity right now it seems kind of random

1151
01:04:09,260 --> 01:04:21,780
so I guess I guess I don't know if it

1152
01:04:16,889 --> 01:04:25,199
will be clear or not and I guess what I

1153
01:04:21,780 --> 01:04:27,240
would say about that is I don't know if

1154
01:04:25,199 --> 01:04:31,319
you'll even be allowed to move

1155
01:04:27,239 --> 01:04:35,250
diagonally if that makes sense I'll have

1156
01:04:31,320 --> 01:04:40,110
to think about that you may just not be

1157
01:04:35,250 --> 01:04:48,599
allowed to move diagonally we'll see

1158
01:04:40,110 --> 01:04:50,970
what I'll probably do what I'll probably

1159
01:04:48,599 --> 01:04:54,360
do is make a decision at some point

1160
01:04:50,969 --> 01:04:56,699
about what we what it feels like because

1161
01:04:54,360 --> 01:04:58,470
that's a very feel oriented thing I'll

1162
01:04:56,699 --> 01:05:02,819
make a decision about what it feels like

1163
01:04:58,469 --> 01:05:05,639
and when I if I decide that moving to

1164
01:05:02,820 --> 01:05:09,690
agonal feels good then we'll probably

1165
01:05:05,639 --> 01:05:13,469
just make the picking code for these B

1166
01:05:09,690 --> 01:05:16,289
so that in this middle area here if you

1167
01:05:13,469 --> 01:05:18,449
hit here it does the diagonal so that it

1168
01:05:16,289 --> 01:05:20,250
it never goes to either of those when

1169
01:05:18,449 --> 01:05:22,289
you move diagonally it won't like it

1170
01:05:20,250 --> 01:05:25,579
won't look because you can see that

1171
01:05:22,289 --> 01:05:27,929
actually sometimes it does actually do

1172
01:05:25,579 --> 01:05:30,960
the straight diagonal more or less

1173
01:05:27,929 --> 01:05:32,429
because it it go it picks this guy you

1174
01:05:30,960 --> 01:05:34,199
get to this guy before it ever really

1175
01:05:32,429 --> 01:05:36,269
goes to one of these so I could make it

1176
01:05:34,199 --> 01:05:38,699
so that it would pick the diagonal in

1177
01:05:36,269 --> 01:05:43,559
here if it wanted to like I could I

1178
01:05:38,699 --> 01:05:46,319
could hack soar that in fact actually

1179
01:05:43,559 --> 01:05:48,590
it'd be really easy to do that I think

1180
01:05:46,320 --> 01:05:48,590
already

1181
01:05:55,088 --> 01:06:00,380
so there's there's a there's two ways

1182
01:05:58,099 --> 01:06:02,450
that we could do this right so the way

1183
01:06:00,380 --> 01:06:04,940
that I'm doing it right now is I'm

1184
01:06:02,449 --> 01:06:08,088
looping over the points and choosing a

1185
01:06:04,940 --> 01:06:11,269
point based on which one is closest to

1186
01:06:08,088 --> 01:06:12,858
my head's position but there's a

1187
01:06:11,268 --> 01:06:15,048
different way that I could do it right I

1188
01:06:12,858 --> 01:06:17,358
could do us a very different thing here

1189
01:06:15,048 --> 01:06:20,088
what I could do instead is I could

1190
01:06:17,358 --> 01:06:24,558
create the direction like desired

1191
01:06:20,088 --> 01:06:28,608
direction and the desired direction

1192
01:06:24,559 --> 01:06:30,680
would be what's my heads position - my

1193
01:06:28,608 --> 01:06:33,889
current position and that's like a

1194
01:06:30,679 --> 01:06:36,858
vector from the body to the head right

1195
01:06:33,889 --> 01:06:39,018
and so then what we would do is when we

1196
01:06:36,858 --> 01:06:41,088
actually do this testing instead of

1197
01:06:39,018 --> 01:06:43,488
testing the length so instead of testing

1198
01:06:41,088 --> 01:06:46,699
the distance between them what I'll do

1199
01:06:43,489 --> 01:06:50,139
instead is I would test how closely does

1200
01:06:46,699 --> 01:06:55,909
moving to this point align with my

1201
01:06:50,139 --> 01:06:57,708
movement in the direction of that I'm

1202
01:06:55,909 --> 01:07:02,058
pointing right so if I look in this

1203
01:06:57,708 --> 01:07:05,538
direction which points do I see closest

1204
01:07:02,059 --> 01:07:08,869
to like that that heading right and so I

1205
01:07:05,539 --> 01:07:10,400
can weight that factor in there so that

1206
01:07:08,869 --> 01:07:12,890
would just be that's just an inner

1207
01:07:10,400 --> 01:07:14,690
product right so I can do like a dweet

1208
01:07:12,889 --> 01:07:24,068
we have normalized zero right I'm

1209
01:07:14,690 --> 01:07:24,068
assuming do

1210
01:07:28,719 --> 01:07:39,619
so we don't have normalized zero man all

1211
01:07:35,360 --> 01:07:41,930
right well so there's a function that I

1212
01:07:39,619 --> 01:07:43,639
like which is called normalizer zero and

1213
01:07:41,929 --> 01:07:46,129
what that is is it's basically an

1214
01:07:43,639 --> 01:07:49,670
automatic epsilon check it sort of says

1215
01:07:46,130 --> 01:07:58,550
well okay figure out what the length of

1216
01:07:49,670 --> 01:08:03,740
this thing is right and if that length

1217
01:07:58,550 --> 01:08:06,650
is not greater than some like you know

1218
01:08:03,739 --> 01:08:09,409
it's gonna be I don't know what we want

1219
01:08:06,650 --> 01:08:11,990
as our epsilon there but if the length

1220
01:08:09,409 --> 01:08:19,420
is greater than that then actually do

1221
01:08:11,989 --> 01:08:24,369
the normalize otherwise just return zero

1222
01:08:19,420 --> 01:08:39,020
right so basically we just say like okay

1223
01:08:24,369 --> 01:08:41,890
the result does equal what it would

1224
01:08:39,020 --> 01:08:46,430
normally equal but only in the case

1225
01:08:41,890 --> 01:08:48,200
where I have have determined first that

1226
01:08:46,430 --> 01:08:51,260
it won't blow up if I do that so it'll

1227
01:08:48,199 --> 01:08:52,849
just become the zero vector normalizer

1228
01:08:51,260 --> 01:08:55,250
unit is another example that would

1229
01:08:52,850 --> 01:08:57,010
return a unit vector instead and so if

1230
01:08:55,250 --> 01:08:59,479
we have this desired direction in here

1231
01:08:57,010 --> 01:09:03,770
then what I can do is I can inner

1232
01:08:59,479 --> 01:09:06,259
product that right with I can take the

1233
01:09:03,770 --> 01:09:08,420
inner product of that direction with the

1234
01:09:06,260 --> 01:09:14,930
direction to the various points so in

1235
01:09:08,420 --> 01:09:20,180
this case like I can have or I should

1236
01:09:14,930 --> 01:09:25,600
say test direction maybe test Delta is a

1237
01:09:20,180 --> 01:09:25,600
better name for this this is going from

1238
01:09:29,309 --> 01:09:36,798
I guess lovely name these more

1239
01:09:31,920 --> 01:09:45,179
explicitly so this is head to point

1240
01:09:36,798 --> 01:09:47,009
right and this is body to point right so

1241
01:09:45,179 --> 01:09:48,719
this is the vector that goes from from

1242
01:09:47,009 --> 01:09:50,460
my head to the point and this is the

1243
01:09:48,719 --> 01:09:54,630
vector that goes from my baudet body to

1244
01:09:50,460 --> 01:09:56,730
the point right so if I want to know how

1245
01:09:54,630 --> 01:09:59,190
far away I am I can test the length of

1246
01:09:56,729 --> 01:10:00,658
the vector head to point which is what

1247
01:09:59,189 --> 01:10:02,729
we were doing and that's the previous

1248
01:10:00,658 --> 01:10:04,738
way we were working on it but if I want

1249
01:10:02,729 --> 01:10:06,388
to know whether or not moving to this

1250
01:10:04,738 --> 01:10:12,808
thing would be roughly in the same

1251
01:10:06,389 --> 01:10:14,849
direction as the head is from me then I

1252
01:10:12,809 --> 01:10:17,429
can add another term here which is like

1253
01:10:14,849 --> 01:10:20,578
you know my test direction and that's

1254
01:10:17,429 --> 01:10:27,779
just the inner product of the body to

1255
01:10:20,578 --> 01:10:29,939
point and the desired direction now the

1256
01:10:27,779 --> 01:10:34,259
problem is this thing will be scaled by

1257
01:10:29,939 --> 01:10:36,479
how far away the thing actually is so

1258
01:10:34,260 --> 01:10:38,579
it'll be you know it'll be the cosine of

1259
01:10:36,479 --> 01:10:40,828
the angle between them right so it would

1260
01:10:38,578 --> 01:10:42,509
be one if it was directly pointed in the

1261
01:10:40,828 --> 01:10:44,698
same direction negative one if it's the

1262
01:10:42,510 --> 01:10:47,789
opposite direction zero if it's

1263
01:10:44,698 --> 01:10:49,589
perpendicular right but then it's gonna

1264
01:10:47,788 --> 01:10:51,538
be scaled by the distance and

1265
01:10:49,590 --> 01:10:52,889
unfortunately for us we don't actually

1266
01:10:51,538 --> 01:10:55,889
want that because that would mean that

1267
01:10:52,889 --> 01:10:57,719
it gets higher as it gets further away

1268
01:10:55,889 --> 01:11:00,328
which we would actually want if anything

1269
01:10:57,719 --> 01:11:02,550
the opposite of that so in addition we

1270
01:11:00,328 --> 01:11:05,250
probably want to normalize that vector

1271
01:11:02,550 --> 01:11:07,559
as well so now we just have a measure of

1272
01:11:05,250 --> 01:11:11,130
how closely it's pointing towards us

1273
01:11:07,559 --> 01:11:15,599
right so now we can sort of say like oh

1274
01:11:11,130 --> 01:11:17,069
the closest distance squared is not

1275
01:11:15,599 --> 01:11:18,538
really closest distance squared anymore

1276
01:11:17,069 --> 01:11:22,109
you know it could be close distance

1277
01:11:18,538 --> 01:11:25,469
squared and it could be you know we can

1278
01:11:22,109 --> 01:11:27,598
now use this test direction to say well

1279
01:11:25,469 --> 01:11:33,149
it's got to be the closest thing and it

1280
01:11:27,599 --> 01:11:37,020
also has to be like within some some you

1281
01:11:33,149 --> 01:11:38,250
know reasonable range so this thing in

1282
01:11:37,020 --> 01:11:39,869
fact I suppose since this is the more

1283
01:11:38,250 --> 01:11:41,969
expensive operation I could put it on

1284
01:11:39,868 --> 01:11:43,170
the inside too and I'd say well alright

1285
01:11:41,969 --> 01:11:44,969
if it's if

1286
01:11:43,170 --> 01:11:48,949
it's better than the previous closest

1287
01:11:44,969 --> 01:11:50,760
thing that we've got then what we'll do

1288
01:11:48,948 --> 01:11:52,619
because we're not going to take it

1289
01:11:50,760 --> 01:11:54,659
otherwise or whatever then what we'll do

1290
01:11:52,619 --> 01:11:57,859
is say well let's also see whether it's

1291
01:11:54,659 --> 01:12:00,960
within sort of that desired direction so

1292
01:11:57,859 --> 01:12:07,339
here's our test direction we want to say

1293
01:12:00,960 --> 01:12:14,880
it's it's pretty close maybe to that

1294
01:12:07,340 --> 01:12:16,500
what did I do here yeah so now we kind

1295
01:12:14,880 --> 01:12:18,329
of filter out on something that's got to

1296
01:12:16,500 --> 01:12:21,979
be roughly in the same direction as the

1297
01:12:18,329 --> 01:12:21,979
head is pointing right

1298
01:12:30,079 --> 01:12:33,779
I'm not sure why that is able to stand

1299
01:12:33,029 --> 01:12:40,439
in the middle

1300
01:12:33,779 --> 01:12:41,158
oh I understand why it's able to say in

1301
01:12:40,439 --> 01:12:44,639
the middle yeah

1302
01:12:41,158 --> 01:12:47,939
so this closest P also I guess has to

1303
01:12:44,640 --> 01:12:50,219
always be like this has to be wherever

1304
01:12:47,939 --> 01:12:53,250
it thinks it's going to be standing so

1305
01:12:50,219 --> 01:12:55,679
in order to in order to not always pick

1306
01:12:53,250 --> 01:12:56,340
the closest point we would also have to

1307
01:12:55,679 --> 01:13:03,810
do this

1308
01:12:56,340 --> 01:13:08,880
so yeah that's something that we would

1309
01:13:03,810 --> 01:13:11,670
want to store for future use or we would

1310
01:13:08,880 --> 01:13:16,500
always pick both so we'd say like if we

1311
01:13:11,670 --> 01:13:22,710
haven't picked yet like you know we'd

1312
01:13:16,500 --> 01:13:23,969
say pick 10 equals false or whatever and

1313
01:13:22,710 --> 01:13:27,719
then I suppose in here we would say

1314
01:13:23,969 --> 01:13:31,550
something like ok if if the closest is

1315
01:13:27,719 --> 01:13:34,230
we do we'd say if we haven't picked any

1316
01:13:31,550 --> 01:13:45,840
or the test Direction is greater than

1317
01:13:34,229 --> 01:13:51,829
that then we'd say pick 10 equals equals

1318
01:13:45,840 --> 01:13:51,829
the tester oops something like that

1319
01:13:57,469 --> 01:14:04,279
oops let's take a look see if that was

1320
01:14:01,948 --> 01:14:04,279
any better

1321
01:14:13,408 --> 01:14:22,089
so I'm not sure why I get that sort of

1322
01:14:16,479 --> 01:14:25,209
wiggliness there I guess yeah I'm still

1323
01:14:22,090 --> 01:14:27,310
not quite doing that correctly so I

1324
01:14:25,210 --> 01:14:30,340
would need to do a little bit more there

1325
01:14:27,310 --> 01:14:31,750
I need to say like like I said I need to

1326
01:14:30,340 --> 01:14:33,400
know like where you're going and then I

1327
01:14:31,750 --> 01:14:36,250
need to like pick a new one based on

1328
01:14:33,399 --> 01:14:37,539
that but it's pretty much that's this is

1329
01:14:36,250 --> 01:14:39,550
rough for the code I just need a little

1330
01:14:37,539 --> 01:14:41,859
more time to get it a little bit better

1331
01:14:39,550 --> 01:14:44,679
but basically like if you haven't picked

1332
01:14:41,859 --> 01:14:46,839
any if none of them have been in like

1333
01:14:44,679 --> 01:14:51,489
off in the direction then you still want

1334
01:14:46,840 --> 01:14:54,369
to keep the closest one but if you

1335
01:14:51,488 --> 01:14:57,269
haven't picked any if you haven't found

1336
01:14:54,369 --> 01:15:06,238
one that actually does pass the tester

1337
01:14:57,270 --> 01:15:06,239
test then yeah then off you go but I

1338
01:15:07,710 --> 01:15:13,109
kind of think I mean I guess it's

1339
01:15:09,819 --> 01:15:13,109
because as you move

1340
01:15:19,100 --> 01:15:25,940
yeah I guess what I would say is I need

1341
01:15:24,380 --> 01:15:27,619
a little more time to write that well

1342
01:15:25,939 --> 01:15:30,559
because there's actually a number of

1343
01:15:27,619 --> 01:15:32,449
reasons why I also want to be able to

1344
01:15:30,560 --> 01:15:34,310
know like I'm coming from here I need to

1345
01:15:32,449 --> 01:15:36,139
know that old point because I'm always

1346
01:15:34,310 --> 01:15:38,120
gonna want to use the old point the

1347
01:15:36,140 --> 01:15:39,320
original point that you start from and

1348
01:15:38,119 --> 01:15:41,989
since we're gonna have to do a bunch of

1349
01:15:39,319 --> 01:15:43,609
animation stuff here anyway I guess what

1350
01:15:41,989 --> 01:15:47,149
I would say is yeah that's not good

1351
01:15:43,609 --> 01:15:49,039
enough so I'm gonna leave it the way

1352
01:15:47,149 --> 01:15:51,229
that it was before it cuz this is this

1353
01:15:49,039 --> 01:15:56,949
is not good enough to actually replace

1354
01:15:51,229 --> 01:16:01,579
it yet but we can eventually replace it

1355
01:15:56,949 --> 01:16:02,989
so there's the original back again but

1356
01:16:01,579 --> 01:16:05,119
it won't be too hard it's just a

1357
01:16:02,989 --> 01:16:07,789
question of having the right variables

1358
01:16:05,119 --> 01:16:09,800
so we can know what it was that you know

1359
01:16:07,789 --> 01:16:11,420
that you were sort of doing and again I

1360
01:16:09,800 --> 01:16:12,860
also want like I said the head is going

1361
01:16:11,420 --> 01:16:15,579
to have to do some snap back so we have

1362
01:16:12,859 --> 01:16:15,579
to code that as well

1363
01:16:43,430 --> 01:16:46,520
this may just be an illusion but it

1364
01:16:45,319 --> 01:16:48,739
looks like the body is steppin to the

1365
01:16:46,520 --> 01:16:50,660
corner of the tiles usually in tile

1366
01:16:48,739 --> 01:16:54,289
based games entities occupy the center

1367
01:16:50,659 --> 01:16:57,949
rutile so no that is the center of a

1368
01:16:54,289 --> 01:17:00,680
tile remember the tiles are actually

1369
01:16:57,949 --> 01:17:07,309
we're drawing the traversable points not

1370
01:17:00,680 --> 01:17:12,430
the corners so there is no collision

1371
01:17:07,310 --> 01:17:16,010
volume for the floor tiles at the moment

1372
01:17:12,430 --> 01:17:23,060
but let's see here what is it floor

1373
01:17:16,010 --> 01:17:25,610
collision makes them before collision so

1374
01:17:23,060 --> 01:17:30,289
yeah so makes them before question if I

1375
01:17:25,609 --> 01:17:33,049
was to actually put in the volume part

1376
01:17:30,289 --> 01:17:38,630
of this so if I said there is a volume

1377
01:17:33,050 --> 01:17:42,350
count of one and it had you know well

1378
01:17:38,630 --> 01:17:45,819
you get the idea if I was actually put

1379
01:17:42,350 --> 01:17:45,820
these in there and then draw them

1380
01:17:56,619 --> 01:18:03,019
let me go ahead and that stuff has done

1381
01:18:00,050 --> 01:18:06,079
it startup so now you can actually see

1382
01:18:03,020 --> 01:18:09,040
the tiles themselves and so you can see

1383
01:18:06,079 --> 01:18:13,600
that like it is standing on the center

1384
01:18:09,039 --> 01:18:13,600
of the tiles right

1385
01:18:31,448 --> 01:18:37,919
let's see other cues in the loop

1386
01:18:40,390 --> 01:18:43,810
no durga at the end of the Q&amp;A can you

1387
01:18:42,399 --> 01:18:45,609
announce their reminder that the forums

1388
01:18:43,810 --> 01:18:46,900
are going down shortly sure i thought

1389
01:18:45,609 --> 01:18:48,729
they were already down i think so

1390
01:18:46,899 --> 01:18:51,899
thought someone said six i guess it was

1391
01:18:48,729 --> 01:18:56,619
around six but i will announce that yes

1392
01:18:51,899 --> 01:19:00,460
alright so anyway but yeah like I said I

1393
01:18:56,619 --> 01:19:02,079
don't actually want there to be any

1394
01:19:00,460 --> 01:19:09,010
collision volumes for the floor at the

1395
01:19:02,079 --> 01:19:13,979
moment okay

1396
01:19:09,010 --> 01:19:13,980
so let's go ahead and close up shop

1397
01:19:41,539 --> 01:19:50,420
lovely hmm okay now we're all closed up

1398
01:19:48,800 --> 01:19:51,380
thank you for joining me for an episode

1399
01:19:50,420 --> 01:19:53,600
of hand made here oh it's been a

1400
01:19:51,380 --> 01:19:55,909
pleasure coding with you as always if

1401
01:19:53,600 --> 01:19:57,829
you would like to follow along at home

1402
01:19:55,909 --> 01:19:59,720
you can always do so by pre-ordering the

1403
01:19:57,829 --> 01:20:01,300
game on handmade hero dot org it comes

1404
01:19:59,720 --> 01:20:04,310
to the source code so that you can

1405
01:20:01,300 --> 01:20:06,860
experiment with it and you know that

1406
01:20:04,310 --> 01:20:09,710
sort of thing we have a forum site but

1407
01:20:06,859 --> 01:20:11,599
the forums are going down now or very

1408
01:20:09,710 --> 01:20:13,369
soon because this weekend they're

1409
01:20:11,600 --> 01:20:15,620
getting moved they're actually going

1410
01:20:13,369 --> 01:20:18,260
somewhere else they're going to handmade

1411
01:20:15,619 --> 01:20:19,220
Network on a new forum system or

1412
01:20:18,260 --> 01:20:20,770
something I don't actually know the

1413
01:20:19,220 --> 01:20:24,680
specifics

1414
01:20:20,770 --> 01:20:26,690
basically I hate running forums I hate

1415
01:20:24,680 --> 01:20:27,710
anything web related really let's be

1416
01:20:26,689 --> 01:20:29,210
honest

1417
01:20:27,710 --> 01:20:30,380
so the handmade network people have a

1418
01:20:29,210 --> 01:20:31,789
bunch of forums stuff that they were

1419
01:20:30,380 --> 01:20:34,460
working on so that's where that's going

1420
01:20:31,789 --> 01:20:37,069
to live from now on and so pretty soon

1421
01:20:34,460 --> 01:20:38,779
that will be the case but I believe

1422
01:20:37,069 --> 01:20:40,250
they'll be down this weekend which is

1423
01:20:38,779 --> 01:20:43,189
basically just them migrating them and

1424
01:20:40,250 --> 01:20:45,380
doing testing on them to make sure that

1425
01:20:43,189 --> 01:20:47,719
they're working and then they'll reopen

1426
01:20:45,380 --> 01:20:49,489
on Monday I guess or sometime next week

1427
01:20:47,720 --> 01:20:50,900
when people are relatively sure that the

1428
01:20:49,489 --> 01:20:53,389
forums are not you know gonna eat all

1429
01:20:50,899 --> 01:20:56,739
your data or self-destruct or anything

1430
01:20:53,390 --> 01:21:00,170
like that so that's what's happening and

1431
01:20:56,739 --> 01:21:02,599
keep an eye out if you need to know

1432
01:21:00,170 --> 01:21:04,970
what's going on with that you can just

1433
01:21:02,600 --> 01:21:07,640
click on this link and it'll come to

1434
01:21:04,970 --> 01:21:09,199
this page and this page will presumably

1435
01:21:07,640 --> 01:21:11,450
you know there's the code discussion

1436
01:21:09,199 --> 01:21:12,800
button this will presumably go down soon

1437
01:21:11,449 --> 01:21:15,649
and we'll have something in this place

1438
01:21:12,800 --> 01:21:17,840
that says like come back later

1439
01:21:15,649 --> 01:21:19,759
so you should be able to sort of keep

1440
01:21:17,840 --> 01:21:22,279
tabs on it through the weekend by

1441
01:21:19,760 --> 01:21:24,860
checking that or rather next week when

1442
01:21:22,279 --> 01:21:26,630
it's back up by coming there we have a

1443
01:21:24,859 --> 01:21:27,859
patreon page you can also subscribe to

1444
01:21:26,630 --> 01:21:29,960
if you want to support the video series

1445
01:21:27,859 --> 01:21:31,429
which is always much appreciated and we

1446
01:21:29,960 --> 01:21:33,289
also have a tweet bot that tweets the

1447
01:21:31,430 --> 01:21:35,869
schedule at you if you would like to

1448
01:21:33,289 --> 01:21:37,279
know when the series is going to be live

1449
01:21:35,869 --> 01:21:38,869
that'll get updated this weekend with

1450
01:21:37,279 --> 01:21:41,179
the schedule for next week so be sure to

1451
01:21:38,869 --> 01:21:42,590
check that if you're interested and

1452
01:21:41,180 --> 01:21:44,600
that's about it

1453
01:21:42,590 --> 01:21:48,470
have a good weekend programming everyone

1454
01:21:44,600 --> 01:21:51,280
and I will see you on the Internet's

1455
01:21:48,470 --> 01:21:51,280
take it easy everybody

