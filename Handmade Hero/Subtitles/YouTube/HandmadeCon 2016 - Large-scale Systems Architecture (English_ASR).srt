1
00:00:00,060 --> 00:00:06,329
again like it kind of in keeping with

2
00:00:02,459 --> 00:00:08,009
the the talks the the you know three

3
00:00:06,330 --> 00:00:09,419
game industry talks from today because

4
00:00:08,009 --> 00:00:11,308
the compression talk was definitely the

5
00:00:09,419 --> 00:00:13,589
kind of a more theoretical one but I

6
00:00:11,308 --> 00:00:15,509
kind of tried to select all of the talks

7
00:00:13,589 --> 00:00:18,269
from today to be about the sorts of

8
00:00:15,509 --> 00:00:19,710
things that I can't really address on

9
00:00:18,269 --> 00:00:20,910
handmade hero directly right they're not

10
00:00:19,710 --> 00:00:23,310
the kind of things that you're really

11
00:00:20,910 --> 00:00:25,320
going to talk about when you're looking

12
00:00:23,309 --> 00:00:26,669
at something from the perspective of you

13
00:00:25,320 --> 00:00:28,560
know one or two people who are working

14
00:00:26,670 --> 00:00:30,510
on something and you're you know you're

15
00:00:28,559 --> 00:00:33,539
never really going to get to the kinds

16
00:00:30,510 --> 00:00:35,609
of either personnel scale or data scale

17
00:00:33,539 --> 00:00:37,170
or any of the other things that really

18
00:00:35,609 --> 00:00:39,780
start to introduce these sort of other

19
00:00:37,170 --> 00:00:41,640
problems that exist for no reason other

20
00:00:39,780 --> 00:00:45,539
than scale they're like scale only

21
00:00:41,640 --> 00:00:47,939
problems and so what I wanted to do was

22
00:00:45,539 --> 00:00:50,609
sort of get some perspective on just

23
00:00:47,939 --> 00:00:52,679
like okay for for you know a big

24
00:00:50,609 --> 00:00:54,539
triple-a title one that's like you know

25
00:00:52,679 --> 00:00:56,039
supposed to be kind of a flagship game

26
00:00:54,539 --> 00:00:58,320
where you're you're gonna be seeing all

27
00:00:56,039 --> 00:01:00,719
kinds of like you know high-end visuals

28
00:00:58,320 --> 00:01:04,079
high-end audio these sorts of things

29
00:01:00,719 --> 00:01:06,030
what exactly is sort of the workflow

30
00:01:04,079 --> 00:01:07,438
like on one of these and you know

31
00:01:06,030 --> 00:01:09,000
especially in the case where you have

32
00:01:07,438 --> 00:01:10,259
sort of like a pedigree engine or

33
00:01:09,000 --> 00:01:12,150
something where it's been refined every

34
00:01:10,260 --> 00:01:13,500
time like what does it look like when

35
00:01:12,150 --> 00:01:15,180
this thing's working well and you know

36
00:01:13,500 --> 00:01:16,920
also when it doesn't go well certainly

37
00:01:15,180 --> 00:01:18,150
but just like give us some perspective

38
00:01:16,920 --> 00:01:20,250
on the things that have to happen there

39
00:01:18,150 --> 00:01:21,810
so I invited Jason Gregory to talk to us

40
00:01:20,250 --> 00:01:23,700
about how they do things at Naughty Dog

41
00:01:21,810 --> 00:01:25,829
which I think is going to be fantastic

42
00:01:23,700 --> 00:01:27,868
as I know nothing about how your stuff

43
00:01:25,829 --> 00:01:31,548
is architected at I'm really excited to

44
00:01:27,868 --> 00:01:31,549
learn so please give them a warm welcome

45
00:01:35,659 --> 00:01:40,289
so give us some background on you again

46
00:01:39,118 --> 00:01:41,879
so the people who who aren't familiar

47
00:01:40,289 --> 00:01:44,009
with you kind of know like how'd you get

48
00:01:41,879 --> 00:01:45,509
into the industry like what's you know

49
00:01:44,009 --> 00:01:46,978
what's your background obviously yeah

50
00:01:45,509 --> 00:01:50,399
yeah absolutely

51
00:01:46,978 --> 00:01:52,560
I actually won Canadian hmm

52
00:01:50,399 --> 00:01:54,269
I went to University of Waterloo and I

53
00:01:52,560 --> 00:01:57,090
took something called systems design any

54
00:01:54,269 --> 00:01:57,569
Waterloo P that sounds like it yeah okay

55
00:01:57,090 --> 00:02:00,060
awesome

56
00:01:57,569 --> 00:02:01,409
I took something called systems design

57
00:02:00,060 --> 00:02:03,329
engineering and actually at the time I

58
00:02:01,409 --> 00:02:06,209
thought you know I thought I'd get into

59
00:02:03,328 --> 00:02:07,468
robotics or process control or working

60
00:02:06,209 --> 00:02:09,840
on rocket ship - I don't know something

61
00:02:07,468 --> 00:02:10,919
something that melds different kinds of

62
00:02:09,840 --> 00:02:11,969
engineering because that's what we got

63
00:02:10,919 --> 00:02:13,889
we got a little mechanical a little

64
00:02:11,969 --> 00:02:15,629
electrical and so on but as it turned

65
00:02:13,889 --> 00:02:18,119
out programming was something that

66
00:02:15,629 --> 00:02:19,739
excuse me I was doing at home and I was

67
00:02:18,120 --> 00:02:21,450
I had a lot of experience with and all

68
00:02:19,739 --> 00:02:22,920
the jobs and things I was getting was in

69
00:02:21,449 --> 00:02:25,139
that vein so I ended up going down the

70
00:02:22,919 --> 00:02:26,879
just straight-up programming route so

71
00:02:25,139 --> 00:02:28,348
I'm just a software guy now don't do a

72
00:02:26,879 --> 00:02:30,810
lot of hardware then a little bit of

73
00:02:28,348 --> 00:02:31,979
experience so and it's funny after when

74
00:02:30,810 --> 00:02:33,568
I got into gaming history I worked

75
00:02:31,979 --> 00:02:35,818
outside the game industry for a while

76
00:02:33,568 --> 00:02:37,048
and then when I got into it my mom

77
00:02:35,818 --> 00:02:39,000
actually we were talking with her and

78
00:02:37,049 --> 00:02:41,099
she goes oh that's really great news but

79
00:02:39,000 --> 00:02:42,680
when do you ever want to get a real job

80
00:02:41,099 --> 00:02:46,229
[Laughter]

81
00:02:42,680 --> 00:02:47,730
okay explain that actually games is

82
00:02:46,229 --> 00:02:48,780
probably one of the best places to be as

83
00:02:47,729 --> 00:02:50,369
an engineer because you get all this

84
00:02:48,780 --> 00:02:52,289
wide breadth of different technology

85
00:02:50,370 --> 00:02:54,840
right so certainly that's kind of how I

86
00:02:52,289 --> 00:02:56,759
got into it started at Midway and San

87
00:02:54,840 --> 00:02:58,530
Diego and then EA and then finally at

88
00:02:56,759 --> 00:03:00,209
Naughty Dog okay so that's that's like

89
00:02:58,530 --> 00:03:01,739
actually quite a bit of different

90
00:03:00,209 --> 00:03:04,549
experience with different places yeah

91
00:03:01,739 --> 00:03:07,560
yeah absolutely yeah and so you know at

92
00:03:04,549 --> 00:03:09,389
Naughty Dog like currently you're I

93
00:03:07,560 --> 00:03:12,030
guess you've you've kind of been there

94
00:03:09,389 --> 00:03:13,409
for a pretty wide span of games to give

95
00:03:12,030 --> 00:03:15,689
us a little bit back like when you came

96
00:03:13,409 --> 00:03:17,340
in no dog in like how you've kind of you

97
00:03:15,689 --> 00:03:19,379
know what you've been involved in yeah

98
00:03:17,340 --> 00:03:23,069
yeah I'm very close to being a decade

99
00:03:19,379 --> 00:03:25,049
dog actually we call it so almost I

100
00:03:23,068 --> 00:03:27,719
started right when we were in the middle

101
00:03:25,049 --> 00:03:29,669
of uncharted one and it was interesting

102
00:03:27,719 --> 00:03:32,370
time actually because we were we were

103
00:03:29,669 --> 00:03:33,719
kind of going through a big change from

104
00:03:32,370 --> 00:03:36,000
the way we used to do things on the

105
00:03:33,719 --> 00:03:37,620
Jacke games to what we were gonna do on

106
00:03:36,000 --> 00:03:40,379
the new engine and everything was being

107
00:03:37,620 --> 00:03:43,139
rewritten in C++ and so it was there's a

108
00:03:40,379 --> 00:03:44,939
lot of sort of technical upheaval if you

109
00:03:43,139 --> 00:03:46,860
will we say you guys see the sauce it

110
00:03:44,939 --> 00:03:49,379
was originally written in straight C

111
00:03:46,860 --> 00:03:50,940
you know actually Jack and the games

112
00:03:49,379 --> 00:03:53,039
before that and crash everything was

113
00:03:50,939 --> 00:03:57,979
written in a language called goal which

114
00:03:53,039 --> 00:04:00,239
is a lisp based thing amazingly yeah and

115
00:03:57,979 --> 00:04:02,399
it was pretty amazing because they wrote

116
00:04:00,240 --> 00:04:04,140
their own like custom and I mean Lisp is

117
00:04:02,400 --> 00:04:06,060
not a difficult language to parse and

118
00:04:04,139 --> 00:04:07,500
it's a relatively minimal language so

119
00:04:06,060 --> 00:04:09,930
it's conceivable that you could do this

120
00:04:07,500 --> 00:04:12,360
but they basically built their own

121
00:04:09,930 --> 00:04:14,640
compiler their own language and it was

122
00:04:12,360 --> 00:04:15,959
based on there was C under the hood and

123
00:04:14,639 --> 00:04:17,459
some low-level assembly language code

124
00:04:15,959 --> 00:04:18,959
for the really high performance stuff

125
00:04:17,459 --> 00:04:21,030
but everything else was built like

126
00:04:18,959 --> 00:04:22,199
everything was built in this Lisp

127
00:04:21,029 --> 00:04:23,639
language so what do you mean by

128
00:04:22,199 --> 00:04:25,439
everything like give us an example of

129
00:04:23,639 --> 00:04:28,409
the lowest level component that's still

130
00:04:25,439 --> 00:04:30,689
built I mean it wasn't your code base so

131
00:04:28,410 --> 00:04:31,770
yeah I don't actually know for sure but

132
00:04:30,689 --> 00:04:34,079
I do know that for example the game

133
00:04:31,769 --> 00:04:36,719
object model so anytime you have a crate

134
00:04:34,079 --> 00:04:39,060
or Jack himself or whatever that was a

135
00:04:36,720 --> 00:04:40,680
gold sort of object right and there was

136
00:04:39,060 --> 00:04:42,089
gold code and the cool thing is you

137
00:04:40,680 --> 00:04:44,009
could do this thing called control T

138
00:04:42,089 --> 00:04:45,418
where you could rebuild the code and

139
00:04:44,009 --> 00:04:47,430
have it live update in the game so you

140
00:04:45,418 --> 00:04:48,689
might be iterating like crazy as it

141
00:04:47,430 --> 00:04:51,060
turns out we actually still have that in

142
00:04:48,689 --> 00:04:52,529
C++ you know how you can in Visual

143
00:04:51,060 --> 00:04:54,810
Studio you can do apply code changes

144
00:04:52,529 --> 00:04:57,418
under the debug menu and before that

145
00:04:54,810 --> 00:04:59,189
when we were on ps3 with SN systems

146
00:04:57,418 --> 00:05:00,899
compilers we actually worked with us and

147
00:04:59,189 --> 00:05:02,160
to make sure that that that work that we

148
00:05:00,899 --> 00:05:03,179
could live update your code because it's

149
00:05:02,160 --> 00:05:05,340
super important to be able to iterate

150
00:05:03,180 --> 00:05:06,600
like that that's the workflow that

151
00:05:05,339 --> 00:05:07,978
everyone was used to you don't want to

152
00:05:06,600 --> 00:05:10,560
give that up just because you're moving

153
00:05:07,978 --> 00:05:12,240
away from growth right okay and actually

154
00:05:10,560 --> 00:05:14,668
an another interesting point is that we

155
00:05:12,240 --> 00:05:16,530
still use a lisp like language today but

156
00:05:14,668 --> 00:05:19,409
only for two things we use it for data

157
00:05:16,529 --> 00:05:21,569
definition so this is a rapid way of

158
00:05:19,410 --> 00:05:24,120
getting data that can be expressed

159
00:05:21,569 --> 00:05:25,680
easily in a text format into the game

160
00:05:24,120 --> 00:05:27,478
and I can talk about in more detail

161
00:05:25,680 --> 00:05:28,978
about that it's kind of interesting and

162
00:05:27,478 --> 00:05:31,349
then we also use it as a runtime

163
00:05:28,978 --> 00:05:32,639
scripting language so you literally are

164
00:05:31,350 --> 00:05:34,320
scripters when you're a designer Naughty

165
00:05:32,639 --> 00:05:35,819
Dog the first thing you do is you get a

166
00:05:34,319 --> 00:05:37,439
book on scheme you can get to learn the

167
00:05:35,819 --> 00:05:39,300
basic syntax here and what you basically

168
00:05:37,439 --> 00:05:40,980
learn right what you basically learn is

169
00:05:39,300 --> 00:05:44,520
that

170
00:05:40,980 --> 00:05:47,790
you know function argument a a comma are

171
00:05:44,519 --> 00:05:51,299
gonna be just turns into function a B

172
00:05:47,790 --> 00:05:53,990
there you're done you got it well not

173
00:05:51,300 --> 00:05:56,250
really but it's kind of like that so

174
00:05:53,990 --> 00:05:58,079
yeah we that is actually pretty

175
00:05:56,250 --> 00:05:59,399
fascinating yeah it comes partly from

176
00:05:58,079 --> 00:06:01,859
that history and it also comes from the

177
00:05:59,399 --> 00:06:03,779
fact we've considered changing this many

178
00:06:01,860 --> 00:06:05,460
times because believe me this language

179
00:06:03,779 --> 00:06:08,399
has its issues okay

180
00:06:05,459 --> 00:06:10,979
it's it for example it takes us to build

181
00:06:08,399 --> 00:06:12,599
our entire game from scratch you know

182
00:06:10,980 --> 00:06:13,830
well now we're actually doing a

183
00:06:12,600 --> 00:06:16,200
distributed build and it's even faster

184
00:06:13,829 --> 00:06:17,459
but it used to be maybe maybe seven

185
00:06:16,199 --> 00:06:19,500
minutes or two ten minutes I'm going to

186
00:06:17,459 --> 00:06:21,750
build the entire game and then 15 to

187
00:06:19,500 --> 00:06:25,680
build this stuff yeah like it was really

188
00:06:21,750 --> 00:06:27,899
yeah okay so it's if you mean just to

189
00:06:25,680 --> 00:06:29,519
ingest the text and output whatever the

190
00:06:27,899 --> 00:06:30,870
final format was for at these data

191
00:06:29,519 --> 00:06:31,709
definitions yeah so on because what

192
00:06:30,870 --> 00:06:33,899
we're actually doing is we're running

193
00:06:31,709 --> 00:06:35,669
steam code and so here hearing lies the

194
00:06:33,899 --> 00:06:39,649
reason why we still use it

195
00:06:35,670 --> 00:06:42,540
scheme anybody who's familiar with okay

196
00:06:39,649 --> 00:06:44,789
racket now one of the beautiful things

197
00:06:42,540 --> 00:06:46,170
about this language right because it

198
00:06:44,790 --> 00:06:48,390
basically blurs the line between code

199
00:06:46,170 --> 00:06:50,819
and data right like that there could be

200
00:06:48,389 --> 00:06:53,459
a function f with arguments a and B or

201
00:06:50,819 --> 00:06:57,060
it could be a data array that just

202
00:06:53,459 --> 00:06:58,799
contains values F a and B and moreover

203
00:06:57,060 --> 00:07:00,720
there's a very very powerful macro

204
00:06:58,800 --> 00:07:03,569
language built into racket and scheme

205
00:07:00,720 --> 00:07:04,740
that allows you to transform one what we

206
00:07:03,569 --> 00:07:07,290
call an S expression which is a

207
00:07:04,740 --> 00:07:08,610
parenthesized expression like this into

208
00:07:07,290 --> 00:07:10,140
another and so you can basically have

209
00:07:08,610 --> 00:07:12,030
code that writes code and so what it

210
00:07:10,139 --> 00:07:13,680
means is we can define custom data

211
00:07:12,029 --> 00:07:15,179
structures like for example we have a

212
00:07:13,680 --> 00:07:16,889
system called the animation overlay

213
00:07:15,180 --> 00:07:19,199
system where we can take animations from

214
00:07:16,889 --> 00:07:21,060
one character and we can say no for this

215
00:07:19,199 --> 00:07:22,620
new character all of the animations are

216
00:07:21,060 --> 00:07:24,480
the same except for these ones where

217
00:07:22,620 --> 00:07:26,160
we're gonna overlay new animations and

218
00:07:24,480 --> 00:07:27,629
to do that we just make a little syntax

219
00:07:26,160 --> 00:07:31,350
where you just you know do something

220
00:07:27,629 --> 00:07:34,139
like you know source animation gets

221
00:07:31,350 --> 00:07:35,910
overwritten by destination animation and

222
00:07:34,139 --> 00:07:37,529
then you have a whole list of these in

223
00:07:35,910 --> 00:07:41,100
some other big data structure that's

224
00:07:37,529 --> 00:07:43,649
like define you know and I'm overlays or

225
00:07:41,100 --> 00:07:45,270
something oh and by the way hyphens in

226
00:07:43,649 --> 00:07:47,699
this language are just symbols so it's

227
00:07:45,269 --> 00:07:49,589
not - it's just part of the name it's

228
00:07:47,699 --> 00:07:51,810
weird but anyway so we can just define

229
00:07:49,589 --> 00:07:53,949
custom syntax and then that just spits

230
00:07:51,810 --> 00:07:56,019
out data that our engine can suck in

231
00:07:53,949 --> 00:07:57,670
yeah so essentially you've in in your

232
00:07:56,019 --> 00:07:59,319
data description language you have

233
00:07:57,670 --> 00:08:02,680
metaprogramming which you are sort of

234
00:07:59,319 --> 00:08:04,750
doing on the fly here and I guess as a

235
00:08:02,680 --> 00:08:06,370
consequence of that it's like yeah there

236
00:08:04,750 --> 00:08:08,500
could be fairly complicated meta

237
00:08:06,370 --> 00:08:10,030
programs running at invest time so it's

238
00:08:08,500 --> 00:08:11,620
not as straightforward as just saying I

239
00:08:10,029 --> 00:08:13,719
took in this text yeah I uh put the

240
00:08:11,620 --> 00:08:15,280
Spiner exactly yeah the alternative that

241
00:08:13,720 --> 00:08:17,860
most other studios do is they'll say

242
00:08:15,279 --> 00:08:20,500
let's go with xml or json or let's write

243
00:08:17,860 --> 00:08:21,759
our own custom parsers yes excuse me

244
00:08:20,500 --> 00:08:24,639
anytime you want to add new data you

245
00:08:21,759 --> 00:08:27,610
have to write more parser code and some

246
00:08:24,639 --> 00:08:29,319
programmer has to do that here well it's

247
00:08:27,610 --> 00:08:31,600
the same some programmers to us to do it

248
00:08:29,319 --> 00:08:33,129
but they do it in scheme alright so

249
00:08:31,600 --> 00:08:34,570
they'll literally just write a macro and

250
00:08:33,129 --> 00:08:35,710
a lot of times it's really simple like

251
00:08:34,570 --> 00:08:37,450
there'll be this thing called syntax

252
00:08:35,710 --> 00:08:39,370
rules but literally to say if you see

253
00:08:37,450 --> 00:08:40,629
this pattern of code transform it to

254
00:08:39,370 --> 00:08:42,009
this pattern of code and that's it

255
00:08:40,629 --> 00:08:43,960
there's like a pattern matching element

256
00:08:42,009 --> 00:08:46,120
to it but then it can get way more

257
00:08:43,960 --> 00:08:47,050
complicated in that and so usually it's

258
00:08:46,120 --> 00:08:48,460
the programmers that are doing that

259
00:08:47,049 --> 00:08:51,519
stuff more than the designers although

260
00:08:48,460 --> 00:08:53,830
they dabble in it too so essential is

261
00:08:51,519 --> 00:08:55,929
that I guess you know when you're so you

262
00:08:53,830 --> 00:08:59,110
know and I guess not to dive into too

263
00:08:55,929 --> 00:09:00,129
fast too quickly here's what so if I'm

264
00:08:59,110 --> 00:09:02,350
looking at this and I'm saying wow it's

265
00:09:00,129 --> 00:09:04,990
taking 17 minutes or something to

266
00:09:02,350 --> 00:09:07,149
process this stuff how essential is it

267
00:09:04,990 --> 00:09:09,129
to have that flexibility there is it it

268
00:09:07,149 --> 00:09:11,319
actually no we really use this stuff

269
00:09:09,129 --> 00:09:13,659
like it we couldn't just build twelve

270
00:09:11,320 --> 00:09:15,490
transforms that we tend to call upon and

271
00:09:13,659 --> 00:09:18,819
have that work it's nice could you give

272
00:09:15,490 --> 00:09:20,560
some yeah so first of all when I say

273
00:09:18,820 --> 00:09:21,580
it's like twelve or fifteen minutes a

274
00:09:20,559 --> 00:09:23,859
build that's if you're to rebuild

275
00:09:21,580 --> 00:09:25,930
everything from yes and so the iteration

276
00:09:23,860 --> 00:09:27,580
time though if I just am building I make

277
00:09:25,929 --> 00:09:29,799
it small change to my animation overlays

278
00:09:27,580 --> 00:09:31,720
we have this thing where you could just

279
00:09:29,799 --> 00:09:34,179
say okay just build that one file it

280
00:09:31,720 --> 00:09:35,500
builds in you know maybe 30 seconds ten

281
00:09:34,179 --> 00:09:37,719
seconds it depends right it's pretty

282
00:09:35,500 --> 00:09:39,850
quick and then it's it sends a message

283
00:09:37,720 --> 00:09:41,259
directly to the game using a Redis

284
00:09:39,850 --> 00:09:42,820
server where it's like a remote

285
00:09:41,259 --> 00:09:44,710
procedure call of the game basically and

286
00:09:42,820 --> 00:09:46,780
pipes in the new data and so we can just

287
00:09:44,710 --> 00:09:48,550
live update that data so they can be you

288
00:09:46,779 --> 00:09:50,529
know designer or an animator or whoever

289
00:09:48,549 --> 00:09:51,939
can be just working the game and and

290
00:09:50,529 --> 00:09:53,829
make changes very quick I want to unpack

291
00:09:51,940 --> 00:09:56,680
that whole thing in a second here but

292
00:09:53,830 --> 00:09:59,200
but before before I guess like get into

293
00:09:56,679 --> 00:10:00,370
that yeah yeah you said just just before

294
00:09:59,200 --> 00:10:02,500
we started here that you were like I

295
00:10:00,370 --> 00:10:05,929
want to tell like a

296
00:10:02,500 --> 00:10:09,529
emergency fire story yeah you know after

297
00:10:05,929 --> 00:10:10,759
having listened to Chris's what once you

298
00:10:09,529 --> 00:10:13,250
go ahead and do that so I've got that in

299
00:10:10,759 --> 00:10:14,689
the in this sort of totally totally I

300
00:10:13,250 --> 00:10:18,259
might draw some more so yeah he's

301
00:10:14,690 --> 00:10:20,960
hammered rawr so so yeah it's

302
00:10:18,259 --> 00:10:22,429
interesting because I mean every studio

303
00:10:20,960 --> 00:10:25,340
has this right you develop a big game

304
00:10:22,429 --> 00:10:26,539
you start off thinking oK we've got all

305
00:10:25,340 --> 00:10:27,649
our tools in place everything's good

306
00:10:26,539 --> 00:10:29,659
we've shipped a bunch of our games it's

307
00:10:27,649 --> 00:10:31,549
going to be fine and then you realize ok

308
00:10:29,659 --> 00:10:34,909
like the the jump let's say from

309
00:10:31,549 --> 00:10:36,259
uncharted 3 to the Last of Us uncharted

310
00:10:34,909 --> 00:10:38,209
3 we thought was a big game and then we

311
00:10:36,259 --> 00:10:39,769
got to the last of us where honestly it

312
00:10:38,210 --> 00:10:41,269
was really more of a ps4 game that was

313
00:10:39,769 --> 00:10:42,919
just trying to be squeezed into a ps3

314
00:10:41,269 --> 00:10:44,509
and then that's why we made the

315
00:10:42,919 --> 00:10:46,429
remastered version actually because

316
00:10:44,509 --> 00:10:49,429
honestly it was really almost ps4

317
00:10:46,429 --> 00:10:51,199
content and and then the jump from the

318
00:10:49,429 --> 00:10:53,839
lastest remastered to uncharted 4 was

319
00:10:51,200 --> 00:10:55,040
another I'd say depending on the kind of

320
00:10:53,840 --> 00:10:57,740
ass that you're dealing with it could be

321
00:10:55,039 --> 00:10:59,839
2 X it could be 5 X Wow in terms of just

322
00:10:57,740 --> 00:11:01,190
the amount of data the amount of just

323
00:10:59,840 --> 00:11:03,110
the size of the levels everything was

324
00:11:01,190 --> 00:11:05,000
much much bigger so we had our own

325
00:11:03,110 --> 00:11:06,590
growing pains and I used to think our

326
00:11:05,000 --> 00:11:12,769
problems were bad until I heard Chris's

327
00:11:06,590 --> 00:11:14,210
talk yeah but so what's really

328
00:11:12,769 --> 00:11:15,350
interesting about this whole thing and

329
00:11:14,210 --> 00:11:17,690
this is something you learn with

330
00:11:15,350 --> 00:11:19,820
experience right is that depending on

331
00:11:17,690 --> 00:11:21,140
the decisions you make early on right in

332
00:11:19,820 --> 00:11:23,690
or the decisions that have been made

333
00:11:21,139 --> 00:11:26,360
over years and years of your studio and

334
00:11:23,690 --> 00:11:27,920
the technology you have it leads to a

335
00:11:26,360 --> 00:11:29,570
certain class of problems or certain

336
00:11:27,919 --> 00:11:31,129
kinds of problems that you'll hit and so

337
00:11:29,570 --> 00:11:32,810
the problems that we hit were completely

338
00:11:31,129 --> 00:11:35,299
different than the problems that they

339
00:11:32,809 --> 00:11:36,979
had was with hailer and destiny just

340
00:11:35,299 --> 00:11:38,959
because we made different choices and so

341
00:11:36,980 --> 00:11:40,720
it led to a different right it's kind of

342
00:11:38,960 --> 00:11:42,920
like a chaotic system depending on the

343
00:11:40,720 --> 00:11:46,220
conditions yeah so no you're gonna have

344
00:11:42,919 --> 00:11:49,729
something bad happen it's gonna be

345
00:11:46,220 --> 00:11:51,710
exactly so in our case we we do it okay

346
00:11:49,730 --> 00:11:54,289
so let me actually back up and I'll give

347
00:11:51,710 --> 00:11:56,420
you guys a little bit of a flavor of the

348
00:11:54,289 --> 00:12:00,559
way our pipelines look at a high picture

349
00:11:56,419 --> 00:12:01,639
level okay so this is something that I

350
00:12:00,559 --> 00:12:02,839
found really interesting when I first

351
00:12:01,639 --> 00:12:04,519
got to Naughty Dog we have this

352
00:12:02,840 --> 00:12:07,610
philosophy that I haven't seen in any

353
00:12:04,519 --> 00:12:09,649
other game studio where you know da we

354
00:12:07,610 --> 00:12:11,240
spend a lot of time on dealing with okay

355
00:12:09,649 --> 00:12:12,379
we're gonna publish a stable version of

356
00:12:11,240 --> 00:12:13,909
the game and that will go out every

357
00:12:12,379 --> 00:12:15,070
couple of days and then we'll have

358
00:12:13,909 --> 00:12:16,778
people working on branch

359
00:12:15,070 --> 00:12:18,699
and they can integrate in carefully and

360
00:12:16,778 --> 00:12:21,070
and it was all just very staged and so

361
00:12:18,698 --> 00:12:22,539
on and a Naughty Dog it's Wild West it's

362
00:12:21,070 --> 00:12:25,540
like we just we just run the latest

363
00:12:22,539 --> 00:12:26,889
version of the code all the time and we

364
00:12:25,539 --> 00:12:28,389
run the latest versions of the assets

365
00:12:26,889 --> 00:12:31,149
all the time there is no such thing as

366
00:12:28,389 --> 00:12:34,299
it works on my machine really okay which

367
00:12:31,149 --> 00:12:36,458
is amazing actually in a way by the way

368
00:12:34,299 --> 00:12:43,689
he has a conference room whose name is

369
00:12:36,458 --> 00:12:44,948
it works on my machine so it's a really

370
00:12:43,690 --> 00:12:47,259
different way of thinking about things

371
00:12:44,948 --> 00:12:49,299
and so check it out so what we do is we

372
00:12:47,259 --> 00:12:50,470
whenever we check in code we have

373
00:12:49,299 --> 00:12:52,448
another different code branches for

374
00:12:50,470 --> 00:12:54,190
things like this game is already shipped

375
00:12:52,448 --> 00:12:56,078
and we're doing DLC versus this is a

376
00:12:54,190 --> 00:12:57,310
game that's being live developed you see

377
00:12:56,078 --> 00:12:59,258
code branches you mean in your source

378
00:12:57,309 --> 00:13:01,028
code control system yes yeah so in

379
00:12:59,259 --> 00:13:03,399
perforce services we'll have a branch

380
00:13:01,028 --> 00:13:04,539
that is main which is the main tip of

381
00:13:03,399 --> 00:13:05,860
development for all the games that are

382
00:13:04,539 --> 00:13:07,750
actively in development and we'll have

383
00:13:05,860 --> 00:13:09,610
branches for like when enter before

384
00:13:07,750 --> 00:13:11,919
shipped we branched that off and now we

385
00:13:09,610 --> 00:13:14,019
have you know you for final and that

386
00:13:11,919 --> 00:13:16,000
branch is just its pristine and it's

387
00:13:14,019 --> 00:13:17,350
clean and then if we're making bug fixes

388
00:13:16,000 --> 00:13:18,850
or we're doing a DLC we can do it in

389
00:13:17,350 --> 00:13:20,409
that branch and not and we meanwhile

390
00:13:18,850 --> 00:13:22,000
they can be Wild West on the main branch

391
00:13:20,409 --> 00:13:24,250
again we're out for whatever else we

392
00:13:22,000 --> 00:13:25,870
keep were kind of off and now it's like

393
00:13:24,250 --> 00:13:27,759
you know people who are trying to

394
00:13:25,870 --> 00:13:30,339
maintain that already shipped project

395
00:13:27,759 --> 00:13:32,350
are in there everyone else is on is on

396
00:13:30,339 --> 00:13:33,819
your wild wild west mainline exactly and

397
00:13:32,350 --> 00:13:35,170
people will jump back and forth I mean

398
00:13:33,818 --> 00:13:37,328
the other thing that's interesting about

399
00:13:35,169 --> 00:13:38,799
Naughty Dog is we have a very small

400
00:13:37,328 --> 00:13:41,828
actually very small engineering team

401
00:13:38,799 --> 00:13:44,019
considering the size of the game so so

402
00:13:41,828 --> 00:13:45,250
so I would say we have about I mean

403
00:13:44,019 --> 00:13:47,679
again orders of magnitude we have about

404
00:13:45,250 --> 00:13:50,649
10 programmers who are just focused on

405
00:13:47,679 --> 00:13:51,849
graphics maybe 15 to 20 that do what we

406
00:13:50,649 --> 00:13:53,139
call gameplay which is basically

407
00:13:51,850 --> 00:13:54,879
everything else that's runtime that

408
00:13:53,139 --> 00:13:58,509
isn't graphics and there's specialties

409
00:13:54,879 --> 00:14:00,309
in there like AI physics like but to

410
00:13:58,509 --> 00:14:01,809
give you a sense we have one guy who

411
00:14:00,309 --> 00:14:02,888
actually for a while it was me and one

412
00:14:01,809 --> 00:14:04,778
other guy that was working on it and

413
00:14:02,889 --> 00:14:06,039
then it's this other guy and but it's

414
00:14:04,778 --> 00:14:07,958
generally one or two people who own a

415
00:14:06,039 --> 00:14:09,009
big system like physics for a while and

416
00:14:07,958 --> 00:14:10,088
then they might move on and own

417
00:14:09,009 --> 00:14:13,059
something else and somebody else comes

418
00:14:10,089 --> 00:14:14,860
into that role so maybe 15 20 gameplay

419
00:14:13,059 --> 00:14:17,409
programmers doing all sorts of stuff and

420
00:14:14,860 --> 00:14:20,589
at the for most of the time I've been

421
00:14:17,409 --> 00:14:22,600
there - tools programmers which is crazy

422
00:14:20,589 --> 00:14:24,339
yeah and so how in the heck do we make a

423
00:14:22,600 --> 00:14:25,459
game and honestly I don't really know

424
00:14:24,339 --> 00:14:27,410
sometimes

425
00:14:25,458 --> 00:14:28,938
wondering yeah I'm still kind of trying

426
00:14:27,409 --> 00:14:30,708
to figure it out now since then though

427
00:14:28,938 --> 00:14:32,659
so one of our leads Christine yearling

428
00:14:30,708 --> 00:14:34,938
has moved into the role of just look I'm

429
00:14:32,659 --> 00:14:36,740
gonna own the tools and he's now built

430
00:14:34,938 --> 00:14:38,208
up that team to be four people including

431
00:14:36,740 --> 00:14:39,919
himself which helps a lot I mean it's

432
00:14:38,208 --> 00:14:42,109
doubling the team size and they're

433
00:14:39,919 --> 00:14:43,578
starting to really help solve some of

434
00:14:42,110 --> 00:14:45,800
the technical debt that we have so what

435
00:14:43,578 --> 00:14:47,568
do we describe here it's not my work

436
00:14:45,799 --> 00:14:50,258
this is mostly Christine and his team

437
00:14:47,568 --> 00:14:52,039
and also Christoph Palestra who is our

438
00:14:50,259 --> 00:14:53,839
co-president and he sort of acts like a

439
00:14:52,039 --> 00:14:55,759
CTO for the company okay he's also

440
00:14:53,839 --> 00:14:57,559
working on a lot of this this stuff it's

441
00:14:55,759 --> 00:15:00,800
sort of his area that and back-end

442
00:14:57,558 --> 00:15:02,719
servers and things like that so we built

443
00:15:00,799 --> 00:15:06,349
up the to the tools department to some

444
00:15:02,720 --> 00:15:09,559
degree but anyway so what that means is

445
00:15:06,350 --> 00:15:12,220
relevant small team and people take big

446
00:15:09,558 --> 00:15:15,649
chunks of the engine and kind of own it

447
00:15:12,220 --> 00:15:19,339
okay so back to the rough structure of

448
00:15:15,649 --> 00:15:20,778
our the way we do things so we run the

449
00:15:19,339 --> 00:15:23,149
latest version in the game a program

450
00:15:20,778 --> 00:15:24,289
we'll check something in and that we

451
00:15:23,149 --> 00:15:25,610
have this little bot that's running it's

452
00:15:24,289 --> 00:15:28,308
just a Python script that's running on

453
00:15:25,610 --> 00:15:30,199
on a machine and any time it sees a

454
00:15:28,308 --> 00:15:31,399
change in perforce yeah it says well is

455
00:15:30,198 --> 00:15:32,928
it relevant to the branch that I'm

456
00:15:31,399 --> 00:15:36,110
trying to build yeah okay it's in this

457
00:15:32,928 --> 00:15:37,578
branch great build meaning each of these

458
00:15:36,110 --> 00:15:40,039
branches has their own bill bonds yes

459
00:15:37,578 --> 00:15:41,448
exactly and machine or is it one

460
00:15:40,039 --> 00:15:43,548
machines running lots of build it can be

461
00:15:41,448 --> 00:15:45,258
both or either yeah so sometimes we have

462
00:15:43,548 --> 00:15:47,539
one machine dedicated or whatever okay

463
00:15:45,259 --> 00:15:48,798
and maybe different flavors too like we

464
00:15:47,539 --> 00:15:49,958
might be building the development

465
00:15:48,798 --> 00:15:52,548
version of the game and also a

466
00:15:49,958 --> 00:15:56,298
specialized excuse me final build of the

467
00:15:52,548 --> 00:15:57,860
game there's debug overlays or these

468
00:15:56,298 --> 00:15:58,850
sorts of things and you do have two

469
00:15:57,860 --> 00:16:00,949
different bills so everyone's running

470
00:15:58,850 --> 00:16:02,329
the latest version of the code yes a lot

471
00:16:00,948 --> 00:16:05,688
different people could be running

472
00:16:02,328 --> 00:16:07,519
different sort of flavors of that piece

473
00:16:05,688 --> 00:16:09,438
of code based on whether they want yeah

474
00:16:07,519 --> 00:16:10,629
yeah and actually it's it's so as an

475
00:16:09,438 --> 00:16:12,558
aside it's an interesting point

476
00:16:10,629 --> 00:16:14,899
different flavors building different

477
00:16:12,558 --> 00:16:16,610
flavors of the game has pros and cons

478
00:16:14,899 --> 00:16:19,009
and one of the cons is that if you're

479
00:16:16,610 --> 00:16:19,938
not testing there's a final version then

480
00:16:19,009 --> 00:16:22,308
you don't really know what you're doing

481
00:16:19,938 --> 00:16:24,230
so we we only limit ourselves to two

482
00:16:22,308 --> 00:16:26,149
flavors we have the normal release build

483
00:16:24,230 --> 00:16:28,490
and we have this final build and QA

484
00:16:26,149 --> 00:16:29,808
needs to test both and we actually as we

485
00:16:28,490 --> 00:16:31,490
get closer to the end of a project we

486
00:16:29,808 --> 00:16:33,230
start actually building real packages or

487
00:16:31,490 --> 00:16:35,590
disk images and they test off of the

488
00:16:33,230 --> 00:16:37,570
real deal because of if they don't we're

489
00:16:35,590 --> 00:16:40,570
kind of film so you don't have a debug

490
00:16:37,570 --> 00:16:42,520
build at all no but we do have this is

491
00:16:40,570 --> 00:16:44,020
another cool thing actually that there's

492
00:16:42,519 --> 00:16:47,799
a lot of segues here sorry for that but

493
00:16:44,019 --> 00:16:49,329
um so it's all cool stuff that I hadn't

494
00:16:47,799 --> 00:16:50,829
a lot of this is stuff I hadn't seen at

495
00:16:49,330 --> 00:16:52,960
other studios so we have a thing called

496
00:16:50,830 --> 00:16:54,550
a hybrid build and we used to do

497
00:16:52,960 --> 00:16:56,710
everything with make files and what you

498
00:16:54,549 --> 00:16:59,139
do with this is you just have a special

499
00:16:56,710 --> 00:17:01,330
m'kay file that's for you like okay

500
00:16:59,139 --> 00:17:03,730
Gregorio m'kay okay and it lists a bunch

501
00:17:01,330 --> 00:17:05,440
of files in their CPP files that I want

502
00:17:03,730 --> 00:17:07,269
to have built in debug and everything

503
00:17:05,440 --> 00:17:08,620
else will be released so I can say I'm

504
00:17:07,269 --> 00:17:10,389
working on animation I'm just gonna make

505
00:17:08,619 --> 00:17:11,379
all the animation files a debug and

506
00:17:10,390 --> 00:17:13,450
everything else will be released so the

507
00:17:11,380 --> 00:17:17,800
game still runs reasonably well I'm

508
00:17:13,450 --> 00:17:18,850
super super useful and so anyway okay so

509
00:17:17,799 --> 00:17:20,680
that makes sense so basically what

510
00:17:18,849 --> 00:17:22,149
happens there is it is individual

511
00:17:20,680 --> 00:17:23,769
programmers are in fact running some

512
00:17:22,150 --> 00:17:24,820
debug code you're only running the debug

513
00:17:23,769 --> 00:17:27,099
code that they actually care about a

514
00:17:24,819 --> 00:17:28,179
particular time and I mean I guess

515
00:17:27,099 --> 00:17:30,069
there's nothing to stop them from having

516
00:17:28,180 --> 00:17:32,230
star in there we all just like give me

517
00:17:30,069 --> 00:17:33,339
the whole yes and although well there is

518
00:17:32,230 --> 00:17:36,099
actually one thing which stops them

519
00:17:33,339 --> 00:17:37,419
which is now our game is so big that if

520
00:17:36,099 --> 00:17:39,309
you do that there isn't enough room for

521
00:17:37,420 --> 00:17:41,410
all the code in the space of our budget

522
00:17:39,309 --> 00:17:44,409
so you really don't want to do start

523
00:17:41,410 --> 00:17:46,300
because it cannot actually run yeah but

524
00:17:44,410 --> 00:17:49,000
but yeah so generally that's helped you

525
00:17:46,299 --> 00:17:50,859
work okay so when I check something in

526
00:17:49,000 --> 00:17:52,240
the build bot builds it and there's a

527
00:17:50,859 --> 00:17:54,189
web page you can go to that shows you

528
00:17:52,240 --> 00:17:55,779
like each check in and it goes green if

529
00:17:54,190 --> 00:17:57,370
it's built successfully and then it

530
00:17:55,779 --> 00:17:58,839
publishes it and that just means copy it

531
00:17:57,369 --> 00:18:00,189
up to this network drive that we call

532
00:17:58,839 --> 00:18:02,049
the Z drive okay

533
00:18:00,190 --> 00:18:04,690
now this is another interesting thing is

534
00:18:02,049 --> 00:18:07,809
that Naughty Dog is a hybrid Windows and

535
00:18:04,690 --> 00:18:10,150
Linux studio okay so we're just we're

536
00:18:07,809 --> 00:18:11,470
really old-school yeah the reason for it

537
00:18:10,150 --> 00:18:13,210
though it's partly historical and it's

538
00:18:11,470 --> 00:18:15,220
partly because Linux I mean honestly is

539
00:18:13,210 --> 00:18:17,049
just better at certain things and I'll

540
00:18:15,220 --> 00:18:18,850
give you an example of a little bit

541
00:18:17,049 --> 00:18:22,869
later on of one place where Linux really

542
00:18:18,849 --> 00:18:26,439
shines but a couple of examples maybe so

543
00:18:22,869 --> 00:18:28,659
what ends up happening then is yeah so

544
00:18:26,440 --> 00:18:30,340
the bill gets copied out there and then

545
00:18:28,660 --> 00:18:31,990
we have all of our source assets like

546
00:18:30,339 --> 00:18:33,730
Maya files and so on and I mean if I can

547
00:18:31,990 --> 00:18:35,740
maybe I'll just sketch out so you know

548
00:18:33,730 --> 00:18:38,289
you've got source assets over here can

549
00:18:35,740 --> 00:18:40,120
everyone see that yeah terrible and

550
00:18:38,289 --> 00:18:43,210
writings right so you've got you know my

551
00:18:40,119 --> 00:18:44,949
files and you've got Photoshop now PSD

552
00:18:43,210 --> 00:18:46,039
files and you maybe got some ZBrush

553
00:18:44,950 --> 00:18:47,750
files and

554
00:18:46,039 --> 00:18:49,940
who knows what else and you've also got

555
00:18:47,750 --> 00:18:53,019
these dot DC files which are basically

556
00:18:49,940 --> 00:18:57,830
our scheme these are text files that are

557
00:18:53,019 --> 00:19:00,559
our scheme racket stuff we've also got

558
00:18:57,829 --> 00:19:01,819
what we call our well there's a tool

559
00:19:00,559 --> 00:19:04,399
that's a world builder called Charter

560
00:19:01,819 --> 00:19:06,980
and it has a little database of files so

561
00:19:04,400 --> 00:19:08,330
this is like I'm laying out a world and

562
00:19:06,980 --> 00:19:09,170
there's gonna be some crates over here

563
00:19:08,329 --> 00:19:10,549
and there's gonna be some bad guys

564
00:19:09,170 --> 00:19:11,390
spawning over here it's that kind of

565
00:19:10,549 --> 00:19:14,539
stuff hoarder there's gonna be some

566
00:19:11,390 --> 00:19:16,790
splines or trigger regions it's all that

567
00:19:14,539 --> 00:19:18,920
kind of if you will kind of light data

568
00:19:16,789 --> 00:19:21,409
that it goes into describing a game

569
00:19:18,920 --> 00:19:24,430
world and then kind of on top of all

570
00:19:21,410 --> 00:19:29,650
this is what you might call a metadata

571
00:19:24,430 --> 00:19:35,570
asset database metadata oops

572
00:19:29,650 --> 00:19:37,790
DB and what this is it's metadata about

573
00:19:35,569 --> 00:19:39,710
all these other assets in cylinder form

574
00:19:37,789 --> 00:19:42,920
in cylinder form I'm trying to use the

575
00:19:39,710 --> 00:19:52,400
traditional database symbol oh yeah yeah

576
00:19:42,920 --> 00:19:54,920
so so so for example let's say your

577
00:19:52,400 --> 00:19:56,480
billion animation an animator might find

578
00:19:54,920 --> 00:19:58,370
it really convenient to do a bunch of

579
00:19:56,480 --> 00:20:00,410
run cycles and squatting and jumping

580
00:19:58,369 --> 00:20:02,569
into an all in one big Maya file with

581
00:20:00,410 --> 00:20:03,769
with a timeline but I want to break that

582
00:20:02,569 --> 00:20:06,049
out and say okay this is the run cycle

583
00:20:03,769 --> 00:20:07,700
this is idle and this is jump and so on

584
00:20:06,049 --> 00:20:09,139
and so I have frame ranges so that's a

585
00:20:07,700 --> 00:20:10,940
really simple example of some metadata

586
00:20:09,140 --> 00:20:12,290
that would go into this thing where we

587
00:20:10,940 --> 00:20:14,750
can say okay there's an asset called

588
00:20:12,289 --> 00:20:17,299
player you know Drake jump or something

589
00:20:14,750 --> 00:20:19,099
and it is this Maya file of this frame

590
00:20:17,299 --> 00:20:21,079
range and also these compression

591
00:20:19,099 --> 00:20:23,299
settings and whatever other metadata

592
00:20:21,079 --> 00:20:25,460
you've got I see so in some sense it's

593
00:20:23,299 --> 00:20:26,750
sort of like a manifest in some sense

594
00:20:25,460 --> 00:20:28,519
it's like hey look you're gonna have to

595
00:20:26,750 --> 00:20:30,500
pack this stuff up and deal with it I'm

596
00:20:28,519 --> 00:20:33,049
sort of giving you not only the source

597
00:20:30,500 --> 00:20:34,490
of it but also some sort of like ways

598
00:20:33,049 --> 00:20:38,269
that the source is going get extracted

599
00:20:34,490 --> 00:20:42,220
in some fashion is that just just to be

600
00:20:38,269 --> 00:20:45,440
clear so that is not also in the lisp

601
00:20:42,220 --> 00:20:46,640
way that's just that's got some separate

602
00:20:45,440 --> 00:20:48,890
listing format that's more

603
00:20:46,640 --> 00:20:50,960
straightforward yes and a fully program

604
00:20:48,890 --> 00:20:52,640
yes and in fact I say database because

605
00:20:50,960 --> 00:20:55,220
it acts like a database but our current

606
00:20:52,640 --> 00:20:57,440
implementation it's a bunch of XML files

607
00:20:55,220 --> 00:20:58,150
or sometimes just custom text formats

608
00:20:57,440 --> 00:20:59,920
that are

609
00:20:58,150 --> 00:21:00,970
stored on a perforce server so when

610
00:20:59,920 --> 00:21:03,100
you're dealing with that metadata

611
00:21:00,970 --> 00:21:04,450
there's there's a tool that you have we

612
00:21:03,099 --> 00:21:06,129
call builder although it's a silly name

613
00:21:04,450 --> 00:21:08,559
because it's really more about the data

614
00:21:06,130 --> 00:21:10,210
than building but you go in there and

615
00:21:08,559 --> 00:21:11,559
you can specify assets and all this

616
00:21:10,210 --> 00:21:12,970
stuff and it just saves it by checking

617
00:21:11,559 --> 00:21:14,710
files in and out of perforce and

618
00:21:12,970 --> 00:21:16,000
updating data that way and what's nice

619
00:21:14,710 --> 00:21:17,710
about that is like text formats are

620
00:21:16,000 --> 00:21:18,910
great this is this is a another sort of

621
00:21:17,710 --> 00:21:21,819
fundamental philosophy at Naughty Dog is

622
00:21:18,910 --> 00:21:23,890
is the kis philosophy right keep it

623
00:21:21,819 --> 00:21:27,519
simple we leave out the stupid part you

624
00:21:23,890 --> 00:21:29,200
but so keep it simple and if something

625
00:21:27,519 --> 00:21:30,970
really really simple works do it and

626
00:21:29,200 --> 00:21:33,970
only solve the problem when it becomes a

627
00:21:30,970 --> 00:21:35,890
problem right and sometimes that's bad

628
00:21:33,970 --> 00:21:37,420
because you you can sometimes just think

629
00:21:35,890 --> 00:21:39,130
a little bit close you know near term

630
00:21:37,420 --> 00:21:40,630
right right the good thing is we have a

631
00:21:39,130 --> 00:21:42,670
lot of I think very good senior

632
00:21:40,630 --> 00:21:44,140
engineers who are good at thinking about

633
00:21:42,670 --> 00:21:45,759
like okay here's my near-term solution

634
00:21:44,140 --> 00:21:47,590
but in the back of my head I know that I

635
00:21:45,759 --> 00:21:49,180
can jump from there to here to here to

636
00:21:47,589 --> 00:21:50,799
here to get to this final solution it

637
00:21:49,180 --> 00:21:52,180
might take me to projects to get there

638
00:21:50,799 --> 00:21:54,519
but that's what I've got the plan yeah

639
00:21:52,180 --> 00:21:55,570
exactly it's really important to because

640
00:21:54,519 --> 00:21:58,269
it's kind of one of those things where

641
00:21:55,569 --> 00:22:00,819
you know that that allows you to not

642
00:21:58,269 --> 00:22:02,139
make the mistake of let me do too much

643
00:22:00,819 --> 00:22:03,700
work right here and build something we

644
00:22:02,140 --> 00:22:05,230
didn't really need and over complicate

645
00:22:03,700 --> 00:22:06,819
things but it means that I'm not gonna

646
00:22:05,230 --> 00:22:08,829
hit that sort of integration wall so if

647
00:22:06,819 --> 00:22:11,049
I were like oh now we have to tear the

648
00:22:08,829 --> 00:22:13,509
whole thing down right that okay exactly

649
00:22:11,049 --> 00:22:15,190
and I mean that is so I'd say the

650
00:22:13,509 --> 00:22:16,629
younger you are as a programmer the less

651
00:22:15,190 --> 00:22:19,090
experienced you are the more prone you

652
00:22:16,630 --> 00:22:20,560
are to this which is this sense of how

653
00:22:19,089 --> 00:22:22,299
programming is amazing I can do anything

654
00:22:20,559 --> 00:22:23,740
and then I'm gonna solve the general

655
00:22:22,299 --> 00:22:25,389
problem in fact I'm gonna solve the

656
00:22:23,740 --> 00:22:26,589
problem that can you know I'm gonna file

657
00:22:25,390 --> 00:22:32,380
everyone's taxes while I'm making the

658
00:22:26,589 --> 00:22:34,779
game solving system that they can put

659
00:22:32,380 --> 00:22:37,120
their own taxes on yeah taxes in any

660
00:22:34,779 --> 00:22:40,180
country exactly so

661
00:22:37,119 --> 00:22:43,419
ya see you really want to avoid that and

662
00:22:40,180 --> 00:22:45,039
so we are very very kind of everyone

663
00:22:43,420 --> 00:22:47,680
from Christophe to the leads to just

664
00:22:45,039 --> 00:22:49,808
everybody kind of tries to exude this

665
00:22:47,680 --> 00:22:51,730
this idea of keep it simple solve the

666
00:22:49,808 --> 00:22:54,549
immediate problem have a plan for long

667
00:22:51,730 --> 00:22:56,558
term and deal with the issues as they

668
00:22:54,549 --> 00:22:58,450
come up and then it also comes back to

669
00:22:56,558 --> 00:23:00,039
like premature optimization for example

670
00:22:58,450 --> 00:23:01,420
the old 80/20 rule who's heard of the

671
00:23:00,039 --> 00:23:04,379
80/20 rule right

672
00:23:01,420 --> 00:23:07,090
most people yeah good so like you know

673
00:23:04,380 --> 00:23:08,559
80% of your time is spending 20% of the

674
00:23:07,089 --> 00:23:10,209
code or sometimes it's more like ninety

675
00:23:08,558 --> 00:23:11,410
ten or whatever so you don't want to be

676
00:23:10,210 --> 00:23:12,880
optimizing that eighty percent that

677
00:23:11,410 --> 00:23:15,190
doesn't matter

678
00:23:12,880 --> 00:23:17,230
so we're very big on that so anyway um I

679
00:23:15,190 --> 00:23:18,850
swear this metadata and we have all

680
00:23:17,230 --> 00:23:21,400
these source files and then what happens

681
00:23:18,849 --> 00:23:22,629
right is we have various tools now there

682
00:23:21,400 --> 00:23:24,670
are two ways you can do this

683
00:23:22,630 --> 00:23:26,140
one you can say okay I've got a final

684
00:23:24,670 --> 00:23:28,090
asset at the end so let's say it's in

685
00:23:26,140 --> 00:23:29,800
animation we say do this you mean do an

686
00:23:28,089 --> 00:23:32,409
asset build yeah so some sort of asset

687
00:23:29,799 --> 00:23:34,269
bill so we we have some animation and we

688
00:23:32,410 --> 00:23:36,220
actually package these things into into

689
00:23:34,269 --> 00:23:38,829
things called so let's say we've got

690
00:23:36,220 --> 00:23:43,960
this is maybe animation hey and we have

691
00:23:38,829 --> 00:23:47,139
like anime player layer and this is a

692
00:23:43,960 --> 00:23:48,880
so-called pack file and a pack file is

693
00:23:47,140 --> 00:23:52,090
just a binary format it contains

694
00:23:48,880 --> 00:23:53,470
sections of data and it's so it's

695
00:23:52,089 --> 00:23:55,240
reasonably robust just being able

696
00:23:53,470 --> 00:23:57,759
divided out and say I've got different

697
00:23:55,240 --> 00:23:59,529
kinds of data in this pack file but it's

698
00:23:57,759 --> 00:24:00,849
usually on the realm of like okay I'm

699
00:23:59,529 --> 00:24:02,079
animation player so I've got all the

700
00:24:00,849 --> 00:24:04,209
core animations for the player and that

701
00:24:02,079 --> 00:24:06,519
includes his run cycles and jumps and

702
00:24:04,210 --> 00:24:07,840
everything else maybe in different in

703
00:24:06,519 --> 00:24:09,339
different demeanors but then let's say

704
00:24:07,839 --> 00:24:10,839
the player needs to swim that might be a

705
00:24:09,339 --> 00:24:11,949
different pack file of all the swimming

706
00:24:10,839 --> 00:24:14,049
animations and then there might be

707
00:24:11,950 --> 00:24:15,640
another one that's just this one in-game

708
00:24:14,049 --> 00:24:18,279
cinematic is all just in this one pack

709
00:24:15,640 --> 00:24:19,929
file and pack files can contain other

710
00:24:18,279 --> 00:24:22,589
things so animations they can contain

711
00:24:19,929 --> 00:24:24,759
skeletal rigs they can contain geometry

712
00:24:22,589 --> 00:24:26,129
textures although we've kind of split

713
00:24:24,759 --> 00:24:28,210
those out a little bit but textures

714
00:24:26,130 --> 00:24:29,770
materials all that kind of stuff and

715
00:24:28,210 --> 00:24:33,009
then we have special pack files for this

716
00:24:29,769 --> 00:24:35,289
charter data that are that we call in

717
00:24:33,009 --> 00:24:37,150
game pack files but really it's kind of

718
00:24:35,289 --> 00:24:39,308
a silly name again what it really means

719
00:24:37,150 --> 00:24:44,559
is it's a it's a light pack file that

720
00:24:39,308 --> 00:24:46,450
contains rapid iteration rapid iteration

721
00:24:44,558 --> 00:24:49,149
type data so things like the spawners in

722
00:24:46,450 --> 00:24:50,529
your world splines regions

723
00:24:49,150 --> 00:24:51,550
lightweight data that can be built very

724
00:24:50,529 --> 00:24:53,950
quickly and that you're gonna want to

725
00:24:51,549 --> 00:24:55,480
iterate on quickly okay so actually I

726
00:24:53,950 --> 00:24:56,890
mean kind of thinking back to what Chris

727
00:24:55,480 --> 00:24:58,329
was saying right is to sort of get a

728
00:24:56,890 --> 00:25:00,309
little bit more perspective on that okay

729
00:24:58,329 --> 00:25:03,639
so you're saying that these these are

730
00:25:00,308 --> 00:25:05,740
actually separate formats for this no

731
00:25:03,640 --> 00:25:07,090
it's actually built into the same format

732
00:25:05,740 --> 00:25:08,529
but it's a different kind of file that's

733
00:25:07,089 --> 00:25:09,819
built separately in this in this

734
00:25:08,529 --> 00:25:11,859
pipeline so so it's really just more

735
00:25:09,819 --> 00:25:12,789
about what goes where but the format's

736
00:25:11,859 --> 00:25:14,139
still the same

737
00:25:12,789 --> 00:25:15,730
I'm not fundamentally building a

738
00:25:14,140 --> 00:25:18,580
different kind of file just because it's

739
00:25:15,730 --> 00:25:20,319
light right exactly yeah what the

740
00:25:18,579 --> 00:25:22,329
contents of the file are different

741
00:25:20,319 --> 00:25:24,279
because each of these files has segments

742
00:25:22,329 --> 00:25:27,699
of data of various formats got it but

743
00:25:24,279 --> 00:25:29,379
yeah so there's a there's a process Oh

744
00:25:27,700 --> 00:25:31,058
anyway so yeah there's a process whereby

745
00:25:29,380 --> 00:25:35,440
we take let's say assets that come from

746
00:25:31,058 --> 00:25:37,000
Maya files and textures and they first

747
00:25:35,440 --> 00:25:38,950
of all the Maya file can be exported out

748
00:25:37,000 --> 00:25:45,069
into this is kind of funny too we have a

749
00:25:38,950 --> 00:25:46,509
tool called Maya 3 and dB now what does

750
00:25:45,069 --> 00:25:48,129
this mean well NDB is the Naughty Dog

751
00:25:46,509 --> 00:25:50,019
database format or something it's like

752
00:25:48,130 --> 00:25:52,450
the naughty dog like intermediate format

753
00:25:50,019 --> 00:25:54,308
my okay so my 3 NDB used to be called

754
00:25:52,450 --> 00:25:55,600
Maya 2 NDB with a number 2 but it meant

755
00:25:54,308 --> 00:25:59,399
like the word - and then somebody

756
00:25:55,599 --> 00:25:59,399
thought next version by a 3 NDB

757
00:26:02,980 --> 00:26:08,380
so anyway so you get your NDB yeah oh

758
00:26:06,429 --> 00:26:10,240
well whatever there's a lot of fun stuff

759
00:26:08,380 --> 00:26:11,919
like that in EM so you get this crazy

760
00:26:10,240 --> 00:26:13,538
NDB file and then it goes through

761
00:26:11,919 --> 00:26:15,120
various other processing and eventually

762
00:26:13,538 --> 00:26:18,879
gets packed together with other assets

763
00:26:15,119 --> 00:26:20,349
into a PAC file and then you know and it

764
00:26:18,880 --> 00:26:22,778
could be ZBrush assets it could be

765
00:26:20,349 --> 00:26:25,509
whatever DC works differently it goes

766
00:26:22,778 --> 00:26:27,369
through the our DC compiler which

767
00:26:25,509 --> 00:26:29,440
actually DC stands for data compiler

768
00:26:27,369 --> 00:26:30,638
although the programmer Dan who works on

769
00:26:29,440 --> 00:26:32,288
it we used to say it was Dan's cool

770
00:26:30,638 --> 00:26:34,538
language but it's actually David Clark

771
00:26:32,288 --> 00:26:37,629
and that turns into I think of the bin

772
00:26:34,538 --> 00:26:39,339
file which is a special format charter

773
00:26:37,630 --> 00:26:41,139
database like I say it goes not through

774
00:26:39,339 --> 00:26:43,209
an NDB file per se but it eventually

775
00:26:41,138 --> 00:26:45,638
also becomes a PAC file and all of this

776
00:26:43,210 --> 00:26:48,399
metadata is getting sucked in to just

777
00:26:45,638 --> 00:26:52,028
know how to build all this stuff so is

778
00:26:48,398 --> 00:26:54,278
the just to try to get an idea here so

779
00:26:52,028 --> 00:26:56,288
when these lines are going across here

780
00:26:54,278 --> 00:26:58,359
we're talking probably fundamentally

781
00:26:56,288 --> 00:26:59,440
about a different program doing various

782
00:26:58,359 --> 00:27:01,479
ones of it because like for example you

783
00:26:59,440 --> 00:27:03,220
said Maya 3 NDB it's its own program

784
00:27:01,480 --> 00:27:06,690
it's not some subsection of the acid

785
00:27:03,220 --> 00:27:10,000
build right so the metadata all of these

786
00:27:06,690 --> 00:27:11,590
programs are reading out of that data to

787
00:27:10,000 --> 00:27:13,569
figure out how they pack things so it's

788
00:27:11,589 --> 00:27:14,980
kind of like a common format among

789
00:27:13,569 --> 00:27:16,480
everyone no matter what you're reading

790
00:27:14,980 --> 00:27:18,399
you're out there touching it exactly

791
00:27:16,480 --> 00:27:19,630
yeah exactly and there's and I'm over

792
00:27:18,398 --> 00:27:20,979
simplifying here so my main DB is the

793
00:27:19,630 --> 00:27:22,659
first step where you're taking a Maya

794
00:27:20,980 --> 00:27:24,220
format and you're extracting only the

795
00:27:22,659 --> 00:27:25,570
bits of the scene graph that matter and

796
00:27:24,220 --> 00:27:27,339
putting them into this format that we

797
00:27:25,569 --> 00:27:28,960
can then use to process from there we

798
00:27:27,339 --> 00:27:30,730
might generate we might send it through

799
00:27:28,960 --> 00:27:31,990
havoc to generate some collision data

800
00:27:30,730 --> 00:27:34,000
and other things we might send it

801
00:27:31,990 --> 00:27:35,138
through our geometry processing to get

802
00:27:34,000 --> 00:27:36,308
it down to that format that Chris

803
00:27:35,138 --> 00:27:37,689
Butcher was talking about where it's

804
00:27:36,308 --> 00:27:40,148
like highly optimized for that platform

805
00:27:37,690 --> 00:27:43,000
we there's bits that are gonna process

806
00:27:40,148 --> 00:27:44,528
shaders and build shader code bits that

807
00:27:43,000 --> 00:27:47,019
are going to deal with textures and so

808
00:27:44,528 --> 00:27:48,460
on and so there's a whole sort of

809
00:27:47,019 --> 00:27:50,710
pipeline so that's why these arrows

810
00:27:48,460 --> 00:27:52,000
really represent you know various tools

811
00:27:50,710 --> 00:27:54,940
that might be running and usually what

812
00:27:52,000 --> 00:27:57,730
with so what we'll do is I'll say I'd

813
00:27:54,940 --> 00:27:59,048
like to rebuild an employer so excuse me

814
00:27:57,730 --> 00:28:01,929
so we have a little tool called BA which

815
00:27:59,048 --> 00:28:03,730
stands for build actor which is another

816
00:28:01,929 --> 00:28:05,590
really weird name but actor really just

817
00:28:03,730 --> 00:28:08,048
means basically a pack file okay

818
00:28:05,589 --> 00:28:08,918
and so we say ba annum player and what

819
00:28:08,048 --> 00:28:10,179
that does is it looks to the

820
00:28:08,919 --> 00:28:11,740
dependencies and if you think about this

821
00:28:10,179 --> 00:28:13,899
there's a whole dependency graph right

822
00:28:11,740 --> 00:28:16,039
we're given an employer I say oh well it

823
00:28:13,898 --> 00:28:17,509
contains animations a B C and D

824
00:28:16,039 --> 00:28:19,579
those animations depend on these Maya

825
00:28:17,509 --> 00:28:21,980
files and those depend on these metadata

826
00:28:19,579 --> 00:28:23,720
database assets and these things depend

827
00:28:21,980 --> 00:28:26,089
on these ZBrush assets and whatever it

828
00:28:23,720 --> 00:28:28,819
is in general all of that graph is

829
00:28:26,089 --> 00:28:30,049
coming from the metadata DB or some of

830
00:28:28,819 --> 00:28:32,000
that coming from inside the Maya file

831
00:28:30,049 --> 00:28:33,710
because like a texture reference with

832
00:28:32,000 --> 00:28:35,240
this it's coming from a bunch of

833
00:28:33,710 --> 00:28:36,650
different pieces so basically a graph

834
00:28:35,240 --> 00:28:39,109
links in this graph could come from a

835
00:28:36,650 --> 00:28:42,200
variety of sources yeah and there's

836
00:28:39,109 --> 00:28:44,089
there's pros and cons to this so for

837
00:28:42,200 --> 00:28:46,100
example is many of you probably know

838
00:28:44,089 --> 00:28:47,629
Maya is good at referencing other Maya

839
00:28:46,099 --> 00:28:49,189
files and you can build up a composite

840
00:28:47,630 --> 00:28:51,080
Maya file out of hundreds of other Maya

841
00:28:49,190 --> 00:28:53,210
files if you want so there's those kinds

842
00:28:51,079 --> 00:28:54,889
of references there's references in

843
00:28:53,210 --> 00:28:56,870
those Maya files to our materials and

844
00:28:54,890 --> 00:28:59,450
our textures and stuff which are coded

845
00:28:56,869 --> 00:29:02,599
relative to the project but just as pads

846
00:28:59,450 --> 00:29:04,069
in a file system and so like if I've got

847
00:29:02,599 --> 00:29:05,809
a texture that's blah blah blah got TGA

848
00:29:04,069 --> 00:29:07,129
and it's sitting in this folder then the

849
00:29:05,809 --> 00:29:09,980
relative path to that is embedded

850
00:29:07,130 --> 00:29:11,300
somewhere in that Maya file it's good in

851
00:29:09,980 --> 00:29:13,730
the sense that it's super simple and

852
00:29:11,299 --> 00:29:15,049
it's easy to reason about and so on but

853
00:29:13,730 --> 00:29:18,019
it's hard it's bad in the sense that

854
00:29:15,049 --> 00:29:19,430
it's actually tough for us to pull on an

855
00:29:18,019 --> 00:29:22,039
asset and find out all the dependencies

856
00:29:19,430 --> 00:29:23,480
because have to parse the Maya file all

857
00:29:22,039 --> 00:29:25,039
the things are and presumably and I'm

858
00:29:23,480 --> 00:29:27,200
just guessing here knowing the way

859
00:29:25,039 --> 00:29:29,420
artists would typically use a Maya setup

860
00:29:27,200 --> 00:29:31,009
yeah it's not as simple as saying

861
00:29:29,420 --> 00:29:32,810
anything that's referenced is used I

862
00:29:31,009 --> 00:29:34,730
actually need to do the work to walk the

863
00:29:32,809 --> 00:29:36,049
tree and say oh that was a hidden node

864
00:29:34,730 --> 00:29:37,819
so I don't need to look at that

865
00:29:36,049 --> 00:29:39,529
reference and that was a you know this

866
00:29:37,819 --> 00:29:41,480
texture is just for testing or something

867
00:29:39,529 --> 00:29:43,579
so exactly it gets more complicated than

868
00:29:41,480 --> 00:29:44,900
just what early ex-raf signifies right

869
00:29:43,579 --> 00:29:47,299
exactly exactly

870
00:29:44,900 --> 00:29:48,680
it's it's tricky so and we're actually

871
00:29:47,299 --> 00:29:50,210
working on solving that problem right

872
00:29:48,680 --> 00:29:52,700
now Christian and his team are doing

873
00:29:50,210 --> 00:29:55,370
some really great work on building up an

874
00:29:52,700 --> 00:29:56,870
actual like SQL database you know

875
00:29:55,369 --> 00:29:58,279
relational database that stores this

876
00:29:56,869 --> 00:30:00,349
information anytime you build an asset

877
00:29:58,279 --> 00:30:01,670
it updates those references so that the

878
00:30:00,349 --> 00:30:04,159
next time someone builds you've got that

879
00:30:01,670 --> 00:30:05,720
data yeah because I actually wrote a

880
00:30:04,160 --> 00:30:07,970
tool one point we wanted to be able to

881
00:30:05,720 --> 00:30:10,009
grab some you know assets from let's say

882
00:30:07,970 --> 00:30:12,200
uncharted 3 and pull them over into the

883
00:30:10,009 --> 00:30:14,420
last of us just as a test you know just

884
00:30:12,200 --> 00:30:15,830
to until we had real assets yeah and so

885
00:30:14,420 --> 00:30:17,759
I wrote this thing called grab asset

886
00:30:15,829 --> 00:30:21,199
that would like grab those things

887
00:30:17,759 --> 00:30:21,200
one told me I should shorten it to grab

888
00:30:23,240 --> 00:30:27,900
we're trying so but what that thing did

889
00:30:26,549 --> 00:30:29,099
is it literally would have to it was

890
00:30:27,900 --> 00:30:30,780
slow because it would have to open up

891
00:30:29,099 --> 00:30:33,809
all these Maya files and read and the

892
00:30:30,779 --> 00:30:36,149
our technical directors who are that's

893
00:30:33,809 --> 00:30:38,549
our our TVs are not like a normal TV

894
00:30:36,150 --> 00:30:40,950
they're they're more like technical Maya

895
00:30:38,549 --> 00:30:42,389
people who do Python and they do rigging

896
00:30:40,950 --> 00:30:43,950
and they're they're super smart and they

897
00:30:42,390 --> 00:30:45,180
know all that stuff and that's kind of

898
00:30:43,950 --> 00:30:46,769
their area they're like honorary

899
00:30:45,180 --> 00:30:48,840
programmers that work in a kind of

900
00:30:46,769 --> 00:30:50,549
extended tools programmers um so those

901
00:30:48,839 --> 00:30:52,589
guys actually came up with a way of

902
00:30:50,549 --> 00:30:54,089
storing all of those references at the

903
00:30:52,589 --> 00:30:55,109
top of the Maya file in a special node

904
00:30:54,089 --> 00:30:57,539
so you could just only read the first

905
00:30:55,109 --> 00:30:59,729
you know K of the file and then get all

906
00:30:57,539 --> 00:31:01,710
the references so so that's good but

907
00:30:59,730 --> 00:31:03,779
even then it's ugly so we're moving

908
00:31:01,710 --> 00:31:05,069
towards having an actual database where

909
00:31:03,779 --> 00:31:07,289
you can just query and find information

910
00:31:05,069 --> 00:31:11,480
a lot easier so that's gonna help a lot

911
00:31:07,289 --> 00:31:13,769
but and so essentially that database in

912
00:31:11,480 --> 00:31:15,660
if we look at how this thing is

913
00:31:13,769 --> 00:31:18,809
structured what we're really saying is

914
00:31:15,660 --> 00:31:20,910
okay when I build an asset I'm

915
00:31:18,809 --> 00:31:23,129
essentially producing two files right

916
00:31:20,910 --> 00:31:24,690
I'm producing or two outputs I'm

917
00:31:23,130 --> 00:31:26,610
producing the actual output that I was

918
00:31:24,690 --> 00:31:28,980
trying to build but I'm also producing

919
00:31:26,609 --> 00:31:29,819
this secondary output which is possibly

920
00:31:28,980 --> 00:31:31,140
going to be shared with other people

921
00:31:29,819 --> 00:31:32,849
because normally I guess you see you

922
00:31:31,140 --> 00:31:35,640
only build the one for whatever the

923
00:31:32,849 --> 00:31:37,740
particular machine is here yep in the

924
00:31:35,640 --> 00:31:39,300
other case it's like know every time we

925
00:31:37,740 --> 00:31:40,769
parse it's Maya file we know that no

926
00:31:39,299 --> 00:31:42,569
matter who else will ever build this for

927
00:31:40,769 --> 00:31:45,000
any reason we only need this particular

928
00:31:42,569 --> 00:31:48,059
set of data to be processed when that

929
00:31:45,000 --> 00:31:49,680
asset changes so let's share it yeah and

930
00:31:48,059 --> 00:31:51,419
in fact there's more than one kind of

931
00:31:49,680 --> 00:31:53,400
intermediate file so when I'm building a

932
00:31:51,420 --> 00:31:56,070
single thing like an employer there

933
00:31:53,400 --> 00:31:57,330
might be a bunch of intermediate files a

934
00:31:56,069 --> 00:31:58,859
good example is we have a thing called

935
00:31:57,329 --> 00:32:00,539
streaming animations where you can have

936
00:31:58,859 --> 00:32:02,009
a very long animation and it gets

937
00:32:00,539 --> 00:32:03,599
chunked up into into little chunks that

938
00:32:02,009 --> 00:32:05,609
can be streamed in over time and then I

939
00:32:03,599 --> 00:32:07,049
started and so we might have like a

940
00:32:05,609 --> 00:32:08,759
little intermediate file for each chunk

941
00:32:07,049 --> 00:32:10,559
we might we might have intermediate

942
00:32:08,759 --> 00:32:13,349
files for havoc etcetera so so basically

943
00:32:10,559 --> 00:32:14,970
a small number of or well sometimes a

944
00:32:13,349 --> 00:32:16,469
large number of source assets turn into

945
00:32:14,970 --> 00:32:18,059
a very large number of intermediate

946
00:32:16,470 --> 00:32:23,279
files eventually boiled down to a single

947
00:32:18,059 --> 00:32:25,109
PAC file and yeah so and are these

948
00:32:23,279 --> 00:32:26,250
intermediate files in general I mean

949
00:32:25,109 --> 00:32:28,409
obviously we're talking about the one

950
00:32:26,250 --> 00:32:29,549
where okay we want a pre pre process

951
00:32:28,410 --> 00:32:30,720
sort of the dependencies out of here and

952
00:32:29,549 --> 00:32:32,369
put that in great file you

953
00:32:30,720 --> 00:32:33,960
it's obvious what that gets used for are

954
00:32:32,369 --> 00:32:35,819
these intermediate files generally just

955
00:32:33,960 --> 00:32:38,159
byproducts of the build process or they

956
00:32:35,819 --> 00:32:40,019
but do they have a lifecycle where it's

957
00:32:38,159 --> 00:32:42,150
like oh yeah no we'll reuse one of those

958
00:32:40,019 --> 00:32:43,889
if the person you know like what kind of

959
00:32:42,150 --> 00:32:47,340
intermediate file were talking yeah yeah

960
00:32:43,890 --> 00:32:49,590
so in theory we could reuse them in

961
00:32:47,339 --> 00:32:52,798
right now we don't and it and it's a

962
00:32:49,589 --> 00:32:54,298
problem so yeah so and actually all

963
00:32:52,798 --> 00:32:55,769
right so here's the thing when you build

964
00:32:54,298 --> 00:32:59,668
one of these pack files there's two

965
00:32:55,769 --> 00:33:04,230
places they can go and one is and so one

966
00:32:59,669 --> 00:33:06,059
is our so-called z drive z z drive and

967
00:33:04,230 --> 00:33:08,250
in here maybe we've got like an

968
00:33:06,058 --> 00:33:11,308
uncharted 4 folder and then in here we

969
00:33:08,250 --> 00:33:12,960
have like the build folder and in here

970
00:33:11,308 --> 00:33:15,329
our various sub folders for different

971
00:33:12,960 --> 00:33:17,329
kinds of assets and all of the assets

972
00:33:15,329 --> 00:33:20,399
that the game reads come out of there

973
00:33:17,329 --> 00:33:22,678
but then every user also has their own Y

974
00:33:20,400 --> 00:33:24,538
Drive and the Y Drive is actually it

975
00:33:22,679 --> 00:33:26,640
actually maps to Z slash your user name

976
00:33:24,538 --> 00:33:29,129
so it's all in the same file server and

977
00:33:26,640 --> 00:33:31,409
I could have my own local you for in my

978
00:33:29,130 --> 00:33:32,340
own local build so what I can do is I

979
00:33:31,409 --> 00:33:34,860
can say alright I'm going to build this

980
00:33:32,339 --> 00:33:36,569
asset locally and the game has a mode

981
00:33:34,859 --> 00:33:38,308
where you can say run it in in local

982
00:33:36,569 --> 00:33:40,109
mode where it says alright I'm gonna try

983
00:33:38,308 --> 00:33:41,369
to find the asset on Y and if I can find

984
00:33:40,109 --> 00:33:43,199
it I'll use it otherwise I'll go back to

985
00:33:41,369 --> 00:33:45,149
global and that means I can be as an

986
00:33:43,200 --> 00:33:46,830
animator testing just my animations but

987
00:33:45,150 --> 00:33:47,669
still having the rest of the game be

988
00:33:46,829 --> 00:33:49,439
current

989
00:33:47,669 --> 00:33:51,360
now the Z Drive is shared by everybody

990
00:33:49,440 --> 00:33:53,340
so if somebody builds an asset globally

991
00:33:51,359 --> 00:33:54,569
it goes up to Z everybody will see it

992
00:33:53,339 --> 00:33:56,279
immediately as soon as they rerun the

993
00:33:54,569 --> 00:33:58,889
game or reload that level BAM they see

994
00:33:56,279 --> 00:34:00,750
it right so now just literally a

995
00:33:58,890 --> 00:34:02,220
byproduct of the map drive it's like hey

996
00:34:00,750 --> 00:34:03,779
Windows will try to load it from there

997
00:34:02,220 --> 00:34:05,038
and so it's gonna get whatever the last

998
00:34:03,779 --> 00:34:07,798
thing copied up there yeah basically

999
00:34:05,038 --> 00:34:09,059
it's actually the ps4 reading that and I

1000
00:34:07,798 --> 00:34:10,918
can talk a little bit about how that

1001
00:34:09,059 --> 00:34:11,969
works as well because normally you go

1002
00:34:10,918 --> 00:34:13,799
through this thing called the target

1003
00:34:11,969 --> 00:34:15,628
manager through your PC and then it

1004
00:34:13,800 --> 00:34:17,849
talks but we actually wrote a special

1005
00:34:15,628 --> 00:34:19,440
file server to make it faster but I can

1006
00:34:17,849 --> 00:34:20,760
talk more about that later but anyway so

1007
00:34:19,440 --> 00:34:22,440
the idea though is that I'm building

1008
00:34:20,760 --> 00:34:24,119
these assets globally I'm building the

1009
00:34:22,440 --> 00:34:25,889
glue the game globally which also gets

1010
00:34:24,119 --> 00:34:27,389
published up to the Z drive and anytime

1011
00:34:25,889 --> 00:34:29,490
anybody runs they're running the latest

1012
00:34:27,389 --> 00:34:31,858
latest version of everything and of

1013
00:34:29,489 --> 00:34:34,138
course the code and asset code in assets

1014
00:34:31,858 --> 00:34:37,199
yeah and also those those bin files and

1015
00:34:34,139 --> 00:34:38,760
just coding assets and so when you first

1016
00:34:37,199 --> 00:34:40,348
tell people that they usually look at

1017
00:34:38,760 --> 00:34:41,890
you with this kind of horrific face like

1018
00:34:40,349 --> 00:34:43,539
what how can you be

1019
00:34:41,889 --> 00:34:45,069
do that that's totally wild wild west it

1020
00:34:43,539 --> 00:34:48,190
won't work but it totally works and

1021
00:34:45,070 --> 00:34:50,410
here's why because so as a programmer if

1022
00:34:48,190 --> 00:34:51,550
I check something in and and it doesn't

1023
00:34:50,409 --> 00:34:52,989
compile I see it immediately in the

1024
00:34:51,550 --> 00:34:53,980
build button I get a get a message and

1025
00:34:52,989 --> 00:34:55,569
that doesn't break anyone because

1026
00:34:53,980 --> 00:34:57,159
they're not gonna get an on built

1027
00:34:55,570 --> 00:34:58,660
executable exactly exactly so that

1028
00:34:57,159 --> 00:35:00,069
doesn't break anyone it just makes the

1029
00:34:58,659 --> 00:35:01,389
programmers that go Harry I can't build

1030
00:35:00,070 --> 00:35:03,070
the code right so you immediately

1031
00:35:01,389 --> 00:35:04,629
quickly jump on that you fix it

1032
00:35:03,070 --> 00:35:06,070
worst case you just roll your change

1033
00:35:04,630 --> 00:35:07,809
back and then you take your time to

1034
00:35:06,070 --> 00:35:09,820
figure out what you did wrong or if you

1035
00:35:07,809 --> 00:35:11,049
can fix it you just fix it if you check

1036
00:35:09,820 --> 00:35:13,030
in something that breaks the game at

1037
00:35:11,050 --> 00:35:14,260
runtime it's kind of the same thing you

1038
00:35:13,030 --> 00:35:21,519
start getting a barrage of emails from

1039
00:35:14,260 --> 00:35:21,700
people saying hey by the way what did I

1040
00:35:21,519 --> 00:35:23,949
do

1041
00:35:21,699 --> 00:35:25,629
roll it back or you figure it out

1042
00:35:23,949 --> 00:35:26,980
quickly and you solve it but here's the

1043
00:35:25,630 --> 00:35:28,570
thing what's the easiest problem to

1044
00:35:26,980 --> 00:35:30,070
solve the one that you that you

1045
00:35:28,570 --> 00:35:31,720
introduced into the codebase a month ago

1046
00:35:30,070 --> 00:35:33,220
and you're not really sure what you did

1047
00:35:31,719 --> 00:35:34,000
or the problem that you just introduced

1048
00:35:33,219 --> 00:35:35,919
10 minutes ago

1049
00:35:34,000 --> 00:35:37,539
right so it turns out that that's just

1050
00:35:35,920 --> 00:35:39,760
really really valuable for us and it

1051
00:35:37,539 --> 00:35:41,650
same applies to an artist you know I

1052
00:35:39,760 --> 00:35:43,180
check in something and I and somehow I

1053
00:35:41,650 --> 00:35:45,039
managed to unlink a bunch of animations

1054
00:35:43,179 --> 00:35:47,019
from the pack file so now nothing works

1055
00:35:45,039 --> 00:35:49,860
oh my gosh what did I do well I was just

1056
00:35:47,019 --> 00:35:53,110
working on this oh that's what I did so

1057
00:35:49,860 --> 00:35:54,789
it was exactly the reason why pretty

1058
00:35:53,110 --> 00:35:56,349
much the standard reason why we always

1059
00:35:54,789 --> 00:35:58,809
try to reduce the turnaround time is

1060
00:35:56,349 --> 00:36:00,969
because hey seeing the results has all

1061
00:35:58,809 --> 00:36:02,440
kinds of positive benefits to it so yes

1062
00:36:00,969 --> 00:36:04,480
there may be some downsides to it but

1063
00:36:02,440 --> 00:36:05,590
that's really the most important word

1064
00:36:04,480 --> 00:36:07,659
yeah exactly

1065
00:36:05,590 --> 00:36:09,160
yeah and it turns out stability getting

1066
00:36:07,659 --> 00:36:10,719
your stability that way is better than

1067
00:36:09,159 --> 00:36:13,000
getting your stability in kind of a fake

1068
00:36:10,719 --> 00:36:14,439
way by staging it because now you've got

1069
00:36:13,000 --> 00:36:17,619
stability because you're running a game

1070
00:36:14,440 --> 00:36:19,630
that's a week old yeah and so so we like

1071
00:36:17,619 --> 00:36:21,250
it that's not for everybody I'd say it

1072
00:36:19,630 --> 00:36:25,119
works better when you have a maybe a

1073
00:36:21,250 --> 00:36:27,099
slightly smaller team yeah yeah yeah but

1074
00:36:25,119 --> 00:36:29,679
it definitely works because coming total

1075
00:36:27,099 --> 00:36:33,039
people are we talking about running so

1076
00:36:29,679 --> 00:36:35,980
I'd say at the height of uncharted 4 we

1077
00:36:33,039 --> 00:36:39,369
were probably about 300 plus people in

1078
00:36:35,980 --> 00:36:41,320
the studio close it's pretty high yes

1079
00:36:39,369 --> 00:36:42,670
it's you know every hundred you add is

1080
00:36:41,320 --> 00:36:44,140
is that as

1081
00:36:42,670 --> 00:36:46,480
a bad curb but it's like it's like it's

1082
00:36:44,139 --> 00:36:48,549
not like oh we had fifty exactly and in

1083
00:36:46,480 --> 00:36:49,869
terms of programmers programmers plus

1084
00:36:48,550 --> 00:36:52,050
the TDS who are kind of like our

1085
00:36:49,869 --> 00:36:55,389
extended tools Department it's maybe

1086
00:36:52,050 --> 00:36:58,420
total of thirty forty people at most

1087
00:36:55,389 --> 00:37:00,670
right so in fact probably more like well

1088
00:36:58,420 --> 00:37:03,690
let's see and yeah maybe about thirty or

1089
00:37:00,670 --> 00:37:06,940
so so that's a small enough teaming and

1090
00:37:03,690 --> 00:37:08,440
we also kind of have the luxury of we

1091
00:37:06,940 --> 00:37:11,019
tend to just we hire people who are

1092
00:37:08,440 --> 00:37:12,760
pretty senior so we don't have an

1093
00:37:11,019 --> 00:37:13,619
unfortunate that it's bad news in

1094
00:37:12,760 --> 00:37:15,550
firstly that there aren't any

1095
00:37:13,619 --> 00:37:17,559
internships at Naughty Dog generally

1096
00:37:15,550 --> 00:37:20,170
because we just don't have the bandwidth

1097
00:37:17,559 --> 00:37:22,119
with such a small engineering team yeah

1098
00:37:20,170 --> 00:37:24,010
to be able to manage them to just to

1099
00:37:22,119 --> 00:37:26,920
invest the time in training up a new

1100
00:37:24,010 --> 00:37:29,110
intern or whatever yeah so I will point

1101
00:37:26,920 --> 00:37:30,820
out the fact that although we've talked

1102
00:37:29,110 --> 00:37:32,920
about a huge number of things so far

1103
00:37:30,820 --> 00:37:35,260
you've still not told us the story that

1104
00:37:32,920 --> 00:37:37,389
was supposed to start yes before we got

1105
00:37:35,260 --> 00:37:38,710
to yeah no no it's good this is

1106
00:37:37,389 --> 00:37:40,690
background that's actually important to

1107
00:37:38,710 --> 00:37:44,590
understand that story okay yeah okay so

1108
00:37:40,690 --> 00:37:46,900
so in fact the nice segue because the Y

1109
00:37:44,590 --> 00:37:48,130
and the Z Drive what do these things

1110
00:37:46,900 --> 00:37:51,809
really look like well they're really

1111
00:37:48,130 --> 00:37:54,400
this thing called the net app which is a

1112
00:37:51,809 --> 00:37:56,549
kind of like a giant NASA if you will

1113
00:37:54,400 --> 00:37:58,869
like a giant network attached storage

1114
00:37:56,550 --> 00:38:01,480
super-powerful machine that serves up

1115
00:37:58,869 --> 00:38:03,309
these massive drives right this is just

1116
00:38:01,480 --> 00:38:04,539
tons of Drive stuck in it sitting in

1117
00:38:03,309 --> 00:38:06,579
some room somewhere yeah exactly

1118
00:38:04,539 --> 00:38:08,409
basically yeah and I mean I honestly I

1119
00:38:06,579 --> 00:38:10,299
don't I don't administer the machine I

1120
00:38:08,409 --> 00:38:12,099
don't think I've ever physically seen it

1121
00:38:10,300 --> 00:38:15,490
but okay I've seen it in my head and

1122
00:38:12,099 --> 00:38:18,610
it's very scary okay so so we believe

1123
00:38:15,489 --> 00:38:21,129
there to be yes you must seem of this

1124
00:38:18,610 --> 00:38:24,670
nature right if there isn't then it's it

1125
00:38:21,130 --> 00:38:26,530
maybe it's some guy who's just writing I

1126
00:38:24,670 --> 00:38:30,519
don't know but I think it's I think it's

1127
00:38:26,530 --> 00:38:32,530
a machine so anyway what we discovered

1128
00:38:30,519 --> 00:38:35,050
is so for all the way even into the into

1129
00:38:32,530 --> 00:38:36,670
the Last of Us which was a big game we

1130
00:38:35,050 --> 00:38:39,310
had some problems intermittent problems

1131
00:38:36,670 --> 00:38:41,260
we'd have like tools randomly failing or

1132
00:38:39,309 --> 00:38:42,969
you'd fail to read in a file or things

1133
00:38:41,260 --> 00:38:44,710
would get slow and nobody quite knew why

1134
00:38:42,969 --> 00:38:47,049
but and we would look at various things

1135
00:38:44,710 --> 00:38:50,139
on uncharted 4 as we got into crunch it

1136
00:38:47,050 --> 00:38:51,910
really hit us because we actually have

1137
00:38:50,139 --> 00:38:54,009
we have a farm of machines that build

1138
00:38:51,909 --> 00:38:55,089
our assets so when you build locally

1139
00:38:54,010 --> 00:38:57,460
what it's really doing is it's sending

1140
00:38:55,090 --> 00:38:59,980
off jobs to this farm and on our

1141
00:38:57,460 --> 00:39:01,690
previous games it was maybe you know

1142
00:38:59,980 --> 00:39:03,460
something on the order of I don't know

1143
00:39:01,690 --> 00:39:05,349
four hundred nodes on this on this farm

1144
00:39:03,460 --> 00:39:07,240
and now we've got like 2600 nodes on the

1145
00:39:05,349 --> 00:39:07,779
farm just to give you a sense of how

1146
00:39:07,239 --> 00:39:09,939
much bigger

1147
00:39:07,780 --> 00:39:11,740
uncharted 4 got and what we started

1148
00:39:09,940 --> 00:39:13,809
having are these kind of nightmarish

1149
00:39:11,739 --> 00:39:15,939
things where the whole company would

1150
00:39:13,809 --> 00:39:17,230
kind of go down and the network adapt

1151
00:39:15,940 --> 00:39:18,400
wouldn't be responding and we didn't

1152
00:39:17,230 --> 00:39:22,150
know what's going on it took forever for

1153
00:39:18,400 --> 00:39:30,010
it to serve up files so we started and

1154
00:39:22,150 --> 00:39:31,690
by we I mean not me but you know so they

1155
00:39:30,010 --> 00:39:34,330
what they would do is the net up has

1156
00:39:31,690 --> 00:39:35,409
some nice graphing facilities on the web

1157
00:39:34,329 --> 00:39:37,360
so you can kind of see what's going on

1158
00:39:35,409 --> 00:39:39,129
they would do packet traces and bear in

1159
00:39:37,360 --> 00:39:41,349
mind that this is like we're talking you

1160
00:39:39,130 --> 00:39:43,539
do a ten second packet trace and get you

1161
00:39:41,349 --> 00:39:44,949
know the tens of megabytes of data that

1162
00:39:43,539 --> 00:39:46,809
you have to sort through and they

1163
00:39:44,949 --> 00:39:48,699
because all of those packets are just

1164
00:39:46,809 --> 00:39:50,650
asset Transport for it's gonna be I mean

1165
00:39:48,699 --> 00:39:51,939
it's Consul exact response yeah people

1166
00:39:50,650 --> 00:39:53,680
are building things all the time and

1167
00:39:51,940 --> 00:39:55,210
everything and so they would trace it

1168
00:39:53,679 --> 00:39:56,769
down to one person's machine let's say

1169
00:39:55,210 --> 00:39:57,909
that's like whoa whoa there's one person

1170
00:39:56,769 --> 00:39:59,380
kicked off these jobs that are really

1171
00:39:57,909 --> 00:40:01,569
slowing things down and they'd go maybe

1172
00:39:59,380 --> 00:40:02,800
say okay kill your build and so it was

1173
00:40:01,570 --> 00:40:04,330
kind of like a manual form of load

1174
00:40:02,800 --> 00:40:05,590
balancing where he'd say here too many

1175
00:40:04,329 --> 00:40:07,750
people are building at once so this guy

1176
00:40:05,590 --> 00:40:08,829
stopped and you know she's gonna stop

1177
00:40:07,750 --> 00:40:09,820
and he's gonna stop and then everybody

1178
00:40:08,829 --> 00:40:11,319
else can finish their bills and then

1179
00:40:09,820 --> 00:40:13,720
they'll kick theirs off later and okay

1180
00:40:11,320 --> 00:40:15,789
it got kind of crazy we didn't but why

1181
00:40:13,719 --> 00:40:19,230
was the NetApp machine I have trouble

1182
00:40:15,789 --> 00:40:19,230
with yeah okay that's about

1183
00:40:19,380 --> 00:40:23,650
so so so your business just my

1184
00:40:21,849 --> 00:40:25,539
mitigation you realize okay we just need

1185
00:40:23,650 --> 00:40:26,950
this to go away there right now and

1186
00:40:25,539 --> 00:40:29,559
we're gonna dig into this exactly so

1187
00:40:26,949 --> 00:40:32,009
good so as we dug in we discovered for

1188
00:40:29,559 --> 00:40:34,869
example that so one of the issues was

1189
00:40:32,010 --> 00:40:37,150
our exit sometimes our tools would just

1190
00:40:34,869 --> 00:40:38,500
fail they wouldn't launch yes what's

1191
00:40:37,150 --> 00:40:40,360
going on and so we found it that Windows

1192
00:40:38,500 --> 00:40:42,699
actually because Windows is now talking

1193
00:40:40,360 --> 00:40:45,190
through SMB to the net app which is

1194
00:40:42,699 --> 00:40:49,329
effectively a Linux kind of world right

1195
00:40:45,190 --> 00:40:51,070
and Windows has a timeout where if if

1196
00:40:49,329 --> 00:40:52,449
just too long goes by between when

1197
00:40:51,070 --> 00:40:54,519
you've requested something to run and so

1198
00:40:52,449 --> 00:40:56,139
it'll just timeout and it'll stop so we

1199
00:40:54,519 --> 00:40:58,269
okay well to deal with that let's move

1200
00:40:56,139 --> 00:41:00,190
our executables only on to this low

1201
00:40:58,269 --> 00:41:01,900
pressure drive a different drive right

1202
00:41:00,190 --> 00:41:04,539
we started moving a lot of our assets

1203
00:41:01,900 --> 00:41:06,309
off of the Y Drive on to our local C

1204
00:41:04,539 --> 00:41:09,219
drives so like the programmers all have

1205
00:41:06,309 --> 00:41:10,570
their code on C now instead of Y just do

1206
00:41:09,219 --> 00:41:13,029
me a lot of those kinds of things and

1207
00:41:10,570 --> 00:41:15,160
that helped another one that we

1208
00:41:13,030 --> 00:41:16,930
discovered that was awesome is you know

1209
00:41:15,159 --> 00:41:18,549
how Windows if you change a file and

1210
00:41:16,929 --> 00:41:20,589
you're in an editor the editor go bling

1211
00:41:18,550 --> 00:41:23,170
such a sense file has changed so called

1212
00:41:20,590 --> 00:41:24,579
change notifications well the entire Z

1213
00:41:23,170 --> 00:41:28,420
Drive was doing changed notifications

1214
00:41:24,579 --> 00:41:31,960
for everybody so we turned that off and

1215
00:41:28,420 --> 00:41:34,000
that was very bad so that was an issue

1216
00:41:31,960 --> 00:41:35,860
okay and so then we're like we need to

1217
00:41:34,000 --> 00:41:38,139
upgrade the hardware and so we're like

1218
00:41:35,860 --> 00:41:40,120
we got a better net app that's wider

1219
00:41:38,139 --> 00:41:41,529
it's got more cores but each core is a

1220
00:41:40,119 --> 00:41:42,759
little slower but we're like yeah it's

1221
00:41:41,530 --> 00:41:44,740
okay it's good it's a lot wider it's me

1222
00:41:42,760 --> 00:41:47,020
good and it actually got worse like what

1223
00:41:44,739 --> 00:41:50,139
the heck's going on okay so Horace you

1224
00:41:47,019 --> 00:41:52,690
mean so that drives 19 cores yes actual

1225
00:41:50,139 --> 00:41:54,099
the CPUs yeah okay yeah because this

1226
00:41:52,690 --> 00:41:56,670
thing is basically a bunch of drives and

1227
00:41:54,099 --> 00:41:58,659
some CPUs that are sitting there running

1228
00:41:56,670 --> 00:41:59,680
like an operating system that can deal

1229
00:41:58,659 --> 00:42:01,389
with all these requests that are coming

1230
00:41:59,679 --> 00:42:03,579
in which are coming in over over network

1231
00:42:01,389 --> 00:42:05,650
packets right to say things like stat

1232
00:42:03,579 --> 00:42:07,809
this file or give me open this file give

1233
00:42:05,650 --> 00:42:10,090
me a file handle to this and so on it

1234
00:42:07,809 --> 00:42:12,039
seems kind of surprising to me that you

1235
00:42:10,090 --> 00:42:14,590
would need particularly heavy hitting

1236
00:42:12,039 --> 00:42:16,599
hardware for this process but you would

1237
00:42:14,590 --> 00:42:18,280
think but okay because there are just so

1238
00:42:16,599 --> 00:42:21,610
many I mean and it's partly because of

1239
00:42:18,280 --> 00:42:24,250
the granularity like just to contrast it

1240
00:42:21,610 --> 00:42:25,900
with like in Chris's world you have you

1241
00:42:24,250 --> 00:42:29,170
have like a giant blob that is the whole

1242
00:42:25,900 --> 00:42:30,470
game or that is a whole level and and so

1243
00:42:29,170 --> 00:42:31,700
there's almost no granularity

1244
00:42:30,469 --> 00:42:33,679
which led to a whole bunch of terrible

1245
00:42:31,699 --> 00:42:36,559
problems right but on our side we have

1246
00:42:33,679 --> 00:42:38,329
very fine-grained files right so like

1247
00:42:36,559 --> 00:42:39,949
each individual animation and there's

1248
00:42:38,329 --> 00:42:41,269
lots of little intermediate files so now

1249
00:42:39,949 --> 00:42:43,879
we have the problem of large numbers of

1250
00:42:41,269 --> 00:42:46,099
files all in different folders and so on

1251
00:42:43,880 --> 00:42:47,358
and so we discovered something about the

1252
00:42:46,099 --> 00:42:49,099
way that the net app works and when you

1253
00:42:47,358 --> 00:42:51,199
think about it it makes sense if you've

1254
00:42:49,099 --> 00:42:53,150
got lots of different people you know

1255
00:42:51,199 --> 00:42:55,368
doing requests like give me file handle

1256
00:42:53,150 --> 00:42:56,960
stat this file these kinds of things it

1257
00:42:55,369 --> 00:42:58,369
turns out that the net up has no option

1258
00:42:56,960 --> 00:43:00,710
other than to serialize all those

1259
00:42:58,369 --> 00:43:02,539
requests because otherwise you get into

1260
00:43:00,710 --> 00:43:04,369
a situation where you you say oh

1261
00:43:02,539 --> 00:43:05,570
so-and-so this file is this big but

1262
00:43:04,369 --> 00:43:07,369
meanwhile someone else is changing it

1263
00:43:05,570 --> 00:43:09,050
and right it's a sort of a basic

1264
00:43:07,369 --> 00:43:10,700
multi-threaded kind of issue you've got

1265
00:43:09,050 --> 00:43:13,280
a choke point and that choke point is is

1266
00:43:10,699 --> 00:43:15,618
the net up serializing everything so how

1267
00:43:13,280 --> 00:43:18,470
many clearly have no choice but to do it

1268
00:43:15,619 --> 00:43:19,849
I mean it would take more logic for it

1269
00:43:18,469 --> 00:43:21,649
to do it which it does not have so it

1270
00:43:19,849 --> 00:43:22,880
cannot go like oh I realize that these

1271
00:43:21,650 --> 00:43:24,980
two file operations will not conflict

1272
00:43:22,880 --> 00:43:26,450
right or go I'll let them go and

1273
00:43:24,980 --> 00:43:28,429
parallel whereas these two I'd better

1274
00:43:26,449 --> 00:43:30,348
hold one of them right okay so it just

1275
00:43:28,429 --> 00:43:32,929
goes anyone who touches the metadata is

1276
00:43:30,349 --> 00:43:34,640
going in step yeah basically yeah and so

1277
00:43:32,929 --> 00:43:36,588
by getting a machine with more cores

1278
00:43:34,639 --> 00:43:39,429
where each core was a little slower it

1279
00:43:36,588 --> 00:43:43,190
actually made our process worse and so

1280
00:43:39,429 --> 00:43:45,289
with that insight we were able to again

1281
00:43:43,190 --> 00:43:46,970
change some of the ways that we're doing

1282
00:43:45,289 --> 00:43:48,800
things moving files around not having

1283
00:43:46,969 --> 00:43:50,779
for example a giant folder with all the

1284
00:43:48,800 --> 00:43:52,010
material the intermediate files all in

1285
00:43:50,780 --> 00:43:54,920
one giant folder but putting them into

1286
00:43:52,010 --> 00:43:55,940
subfolders so that you know you could so

1287
00:43:54,920 --> 00:43:57,500
that if you're querying something you're

1288
00:43:55,940 --> 00:43:59,450
not querying a huge amount of metadata

1289
00:43:57,500 --> 00:44:03,050
all occurring small amounts of metadata

1290
00:43:59,449 --> 00:44:05,750
that kind of thing and it's still to be

1291
00:44:03,050 --> 00:44:07,220
honest we managed to ship uncharted 4

1292
00:44:05,750 --> 00:44:09,050
with a lot of these problems but we

1293
00:44:07,219 --> 00:44:10,879
didn't fully solve it and now we're

1294
00:44:09,050 --> 00:44:12,440
actually looking at doing some other

1295
00:44:10,880 --> 00:44:13,880
things like for example taking some

1296
00:44:12,440 --> 00:44:15,829
blobs of data that really don't need to

1297
00:44:13,880 --> 00:44:18,650
be files and serving them up some other

1298
00:44:15,829 --> 00:44:20,569
way ok so so we'll see how far that goes

1299
00:44:18,650 --> 00:44:24,108
but it just I guess kind of goes to show

1300
00:44:20,570 --> 00:44:26,450
that you know this mental model that you

1301
00:44:24,108 --> 00:44:28,069
might have of a file server is just this

1302
00:44:26,449 --> 00:44:29,598
idealized thing that yeah you asked for

1303
00:44:28,070 --> 00:44:31,580
fine we'll give you a fine right no

1304
00:44:29,599 --> 00:44:33,289
actually it's a it's a computer just

1305
00:44:31,579 --> 00:44:34,969
like you know your PC and it's got

1306
00:44:33,289 --> 00:44:38,210
software and it's got limitations and

1307
00:44:34,969 --> 00:44:41,439
yes also they are presumably optimized

1308
00:44:38,210 --> 00:44:43,269
for a specific thing - and if net apps

1309
00:44:41,440 --> 00:44:45,670
primary thing that they tended to test

1310
00:44:43,269 --> 00:44:47,139
on was not lots of little operations

1311
00:44:45,670 --> 00:44:49,150
felling the metadata and rather was just

1312
00:44:47,139 --> 00:44:51,039
like what's the sustain transfer rates

1313
00:44:49,150 --> 00:44:52,690
for large files and the sort of thing

1314
00:44:51,039 --> 00:44:54,610
then obviously they're going to have you

1315
00:44:52,690 --> 00:44:56,559
know no idea that this is a crucial

1316
00:44:54,610 --> 00:44:58,570
problem exactly exactly I think they

1317
00:44:56,559 --> 00:45:00,969
learned a lot from from us howling about

1318
00:44:58,570 --> 00:45:04,600
food saying ok ok this is a problem yes

1319
00:45:00,969 --> 00:45:06,369
ok but so yeah so those are kinds of

1320
00:45:04,599 --> 00:45:08,139
some of the things we did to to deal

1321
00:45:06,369 --> 00:45:10,029
with that with that issue yeah no okay

1322
00:45:08,139 --> 00:45:11,500
so let me ask some questions here from

1323
00:45:10,030 --> 00:45:15,510
because there's a lot of stuff now that

1324
00:45:11,500 --> 00:45:17,409
we for sure that we got a lot of yeah so

1325
00:45:15,510 --> 00:45:20,290
you kind of talked a little bit about

1326
00:45:17,409 --> 00:45:24,460
everyone running the same version of the

1327
00:45:20,289 --> 00:45:25,809
game right and so when I'm when I'm

1328
00:45:24,460 --> 00:45:28,750
thinking about that I'm just going like

1329
00:45:25,809 --> 00:45:33,880
ok so we're all using the same asset

1330
00:45:28,750 --> 00:45:36,010
base yeah and I am you know if this is a

1331
00:45:33,880 --> 00:45:37,269
very mature type of asset so we've

1332
00:45:36,010 --> 00:45:38,260
gotten to the point where we totally

1333
00:45:37,269 --> 00:45:39,190
know how it works we're not really

1334
00:45:38,260 --> 00:45:41,440
fussing with anymore

1335
00:45:39,190 --> 00:45:43,360
I get how all the things you said are

1336
00:45:41,440 --> 00:45:46,360
kind of just true it's like yeah ok can

1337
00:45:43,360 --> 00:45:48,340
you know all makes sense is good but I'm

1338
00:45:46,360 --> 00:45:52,180
curious about the the points in time

1339
00:45:48,340 --> 00:45:54,100
when either like I need to make a change

1340
00:45:52,179 --> 00:45:55,629
to how this asset fundamentally is

1341
00:45:54,099 --> 00:45:58,449
stored or something like that because

1342
00:45:55,630 --> 00:45:59,670
the runtime will read it in or you know

1343
00:45:58,449 --> 00:46:01,809
maybe I

1344
00:45:59,670 --> 00:46:03,610
I'm sure I think it like cases where

1345
00:46:01,809 --> 00:46:05,949
that sort of thing happens how do you

1346
00:46:03,610 --> 00:46:07,990
deal with the fact that ok I need to

1347
00:46:05,949 --> 00:46:10,000
check in a change which the runtime is

1348
00:46:07,989 --> 00:46:12,369
gonna need to read this new format of

1349
00:46:10,000 --> 00:46:13,960
asset and I know all the assets are not

1350
00:46:12,369 --> 00:46:16,089
in that format but everyone's reading

1351
00:46:13,960 --> 00:46:17,650
off that and they may not quite have the

1352
00:46:16,090 --> 00:46:18,910
look like so they seem like there's this

1353
00:46:17,650 --> 00:46:20,680
kind of weird issue I don't want to say

1354
00:46:18,909 --> 00:46:22,179
hey everyone stop for a second I'm gonna

1355
00:46:20,679 --> 00:46:24,460
update all the ass all right

1356
00:46:22,179 --> 00:46:26,259
so I'm gonna see like do you put in both

1357
00:46:24,460 --> 00:46:27,610
versions of the code you do like to tell

1358
00:46:26,260 --> 00:46:29,020
me a little bit about you know am i

1359
00:46:27,610 --> 00:46:30,550
imagining this problem does it actually

1360
00:46:29,019 --> 00:46:32,230
exist what doing what you know when I'm

1361
00:46:30,550 --> 00:46:37,030
sure yeah basically we just never change

1362
00:46:32,230 --> 00:46:39,909
anything no you're absolutely right

1363
00:46:37,030 --> 00:46:42,460
there's a whole staging process and so

1364
00:46:39,909 --> 00:46:43,989
again SuperDuper simple what's the

1365
00:46:42,460 --> 00:46:46,990
simplest thing you can think of for

1366
00:46:43,989 --> 00:46:49,119
doing this we do we probably do that ok

1367
00:46:46,989 --> 00:46:51,099
so one example is let's say there's a

1368
00:46:49,119 --> 00:46:53,849
wholesale change to the pack file format

1369
00:46:51,099 --> 00:46:55,110
like we're introducing some you know

1370
00:46:53,849 --> 00:46:57,299
you type of thing that just go in there

1371
00:46:55,110 --> 00:47:00,210
yeah what we actually do inside these

1372
00:46:57,300 --> 00:47:02,690
build folders if I go - oops gonna get

1373
00:47:00,210 --> 00:47:05,670
it right if I go to you know build and

1374
00:47:02,690 --> 00:47:08,429
maybe I've got like animations and so

1375
00:47:05,670 --> 00:47:09,930
it's like annum you know like a

1376
00:47:08,429 --> 00:47:11,399
streaming animation and so we just have

1377
00:47:09,929 --> 00:47:14,009
like a version number on this folder so

1378
00:47:11,400 --> 00:47:15,480
it might be like anime and then there's

1379
00:47:14,010 --> 00:47:17,460
a bunch of assets and the game is

1380
00:47:15,480 --> 00:47:18,840
configured to read and I'm 50 if I need

1381
00:47:17,460 --> 00:47:21,240
to make an animation change format that

1382
00:47:18,840 --> 00:47:23,670
that is just sweeping and I need to

1383
00:47:21,239 --> 00:47:26,519
really make some major changes I'll

1384
00:47:23,670 --> 00:47:26,880
introduce a new folder called am 51 all

1385
00:47:26,519 --> 00:47:28,889
right

1386
00:47:26,880 --> 00:47:30,510
and I'll start building those assets as

1387
00:47:28,889 --> 00:47:31,859
a tools programmer I can just build all

1388
00:47:30,510 --> 00:47:33,540
those assets I can kick off because we

1389
00:47:31,860 --> 00:47:35,190
do have scripts that will automatically

1390
00:47:33,539 --> 00:47:36,360
build all our assets and then we do

1391
00:47:35,190 --> 00:47:37,650
actually towards the end of a project do

1392
00:47:36,360 --> 00:47:39,000
nightly builds of everything

1393
00:47:37,650 --> 00:47:40,500
okay so we're cycling through everything

1394
00:47:39,000 --> 00:47:42,630
and making sure that it's all checked

1395
00:47:40,500 --> 00:47:43,860
and it's all working okay um and so I

1396
00:47:42,630 --> 00:47:45,329
can just build everything I might take

1397
00:47:43,860 --> 00:47:47,550
all night but I just build everything

1398
00:47:45,329 --> 00:47:49,199
the next morning we testing the game

1399
00:47:47,550 --> 00:47:50,910
maybe I get a few people to switch over

1400
00:47:49,199 --> 00:47:52,619
to 51 and we try a bunch of stuff and

1401
00:47:50,909 --> 00:47:53,849
when we're confident okay it looks looks

1402
00:47:52,619 --> 00:47:55,589
good fingers crossed

1403
00:47:53,849 --> 00:47:56,849
hold on to your butts and then we we

1404
00:47:55,590 --> 00:47:59,579
flip it yeah okay

1405
00:47:56,849 --> 00:48:01,559
and then everybody is on 51 and worst

1406
00:47:59,579 --> 00:48:03,210
case it all blows up and everybody says

1407
00:48:01,559 --> 00:48:05,250
we get a hundred email saying broke and

1408
00:48:03,210 --> 00:48:06,720
then we flip back to 50 and we figure

1409
00:48:05,250 --> 00:48:10,050
out what we did wrong and then we stage

1410
00:48:06,719 --> 00:48:12,000
again that's one approach for smaller

1411
00:48:10,050 --> 00:48:13,320
grained changes a lot of times you can

1412
00:48:12,000 --> 00:48:16,760
get away with just doing something

1413
00:48:13,320 --> 00:48:19,080
that's much more incremental so example

1414
00:48:16,760 --> 00:48:20,910
some of our some of our data formats

1415
00:48:19,079 --> 00:48:22,440
might have a little bit of padding so

1416
00:48:20,909 --> 00:48:23,519
that you know room for growth kind of

1417
00:48:22,440 --> 00:48:25,400
thing and then I can introduce some new

1418
00:48:23,519 --> 00:48:27,570
flags or some new fields in there and

1419
00:48:25,400 --> 00:48:29,280
it's not gonna break anything cuz not as

1420
00:48:27,570 --> 00:48:31,800
reading that data it's just zeros in the

1421
00:48:29,280 --> 00:48:36,000
original they have it another thing we

1422
00:48:31,800 --> 00:48:37,470
sometimes do the geometry the folks were

1423
00:48:36,000 --> 00:48:38,969
working on geometry processing so on

1424
00:48:37,469 --> 00:48:40,349
introduced this their own little

1425
00:48:38,969 --> 00:48:42,689
mechanism where they have a versioning

1426
00:48:40,349 --> 00:48:44,489
system within the pack file where they

1427
00:48:42,690 --> 00:48:46,829
can say okay I've got geometry version

1428
00:48:44,489 --> 00:48:48,389
47 and now I'm gonna do geometry version

1429
00:48:46,829 --> 00:48:50,460
48 and I'm gonna write some code that

1430
00:48:48,389 --> 00:48:52,710
says if I ever read a 47 here's how to

1431
00:48:50,460 --> 00:48:54,869
transform it into a 48 okay so we see

1432
00:48:52,710 --> 00:48:56,400
that might put some like logic in there

1433
00:48:54,869 --> 00:48:58,889
that's basically saying like hey okay I

1434
00:48:56,400 --> 00:49:00,269
think it's not too big of a deal to put

1435
00:48:58,889 --> 00:49:01,829
a little translation in there let's just

1436
00:49:00,269 --> 00:49:03,239
do that and then I don't have to bother

1437
00:49:01,829 --> 00:49:05,630
with this whole thing like hey everyone

1438
00:49:03,239 --> 00:49:07,848
switch over to 51 I think we're good

1439
00:49:05,630 --> 00:49:08,750
exactly and so that helps you and the

1440
00:49:07,849 --> 00:49:10,519
nice thing about doing it that way

1441
00:49:08,750 --> 00:49:12,920
actually is that yeah you can gradually

1442
00:49:10,518 --> 00:49:13,669
introduce the asset another good example

1443
00:49:12,920 --> 00:49:17,028
actually

1444
00:49:13,670 --> 00:49:18,500
excuse me is animation so you know an

1445
00:49:17,028 --> 00:49:19,759
animation is dependent on the structure

1446
00:49:18,500 --> 00:49:21,768
of your of your skeleton of your

1447
00:49:19,759 --> 00:49:23,150
hierarchy right and if you introduce a

1448
00:49:21,768 --> 00:49:24,919
change to that hierarchy you have to

1449
00:49:23,150 --> 00:49:26,750
rebuild all the animations in theory but

1450
00:49:24,920 --> 00:49:28,430
we introduced the ability to do some

1451
00:49:26,750 --> 00:49:30,739
live retargeting which is super useful

1452
00:49:28,429 --> 00:49:32,838
so we can take an animation of Drake and

1453
00:49:30,739 --> 00:49:34,219
play it on Chloe just as Anna you know

1454
00:49:32,838 --> 00:49:35,568
maybe just as a temporary thing or maybe

1455
00:49:34,219 --> 00:49:40,939
even to ship the game if it looks good

1456
00:49:35,568 --> 00:49:42,349
and so we use that also to to basically

1457
00:49:40,940 --> 00:49:44,420
say all right well if I've got an old

1458
00:49:42,349 --> 00:49:45,619
version of the rig or animation that's

1459
00:49:44,420 --> 00:49:46,970
targeting the old version of the rig and

1460
00:49:45,619 --> 00:49:48,619
I've updated the rig I can have all

1461
00:49:46,969 --> 00:49:50,419
those old animations still reference it

1462
00:49:48,619 --> 00:49:52,519
so now you have this situation where the

1463
00:49:50,420 --> 00:49:54,230
game is never a hundred percent on a

1464
00:49:52,518 --> 00:49:55,818
certain version it's got like some of

1465
00:49:54,230 --> 00:49:57,380
its current versions some of its one

1466
00:49:55,818 --> 00:49:59,838
version back maybe some of its even two

1467
00:49:57,380 --> 00:50:01,250
versions back and then hopefully by the

1468
00:49:59,838 --> 00:50:03,018
time you ship the game you've been doing

1469
00:50:01,250 --> 00:50:04,278
nightly builds and we do this thing

1470
00:50:03,018 --> 00:50:06,798
where we lock down towards the end of

1471
00:50:04,278 --> 00:50:08,900
the project so there's a there's a

1472
00:50:06,798 --> 00:50:10,639
there's sort of a fallow period where

1473
00:50:08,900 --> 00:50:11,750
people aren't changing too much yeah and

1474
00:50:10,639 --> 00:50:13,098
where things can kind of settle out and

1475
00:50:11,750 --> 00:50:15,139
at that point pretty much everything is

1476
00:50:13,099 --> 00:50:16,759
100% on the latest thing you know since

1477
00:50:15,139 --> 00:50:19,730
you mention it here this is one things

1478
00:50:16,759 --> 00:50:21,829
on the list to talk about too let's

1479
00:50:19,730 --> 00:50:23,778
let's ask that lockdown question you

1480
00:50:21,829 --> 00:50:25,640
said that you do have this sort of

1481
00:50:23,778 --> 00:50:27,829
lockdown process and you said you have

1482
00:50:25,639 --> 00:50:29,118
soft lockdown and hard lockdown yeah

1483
00:50:27,829 --> 00:50:30,859
there's it's kind of not just one

1484
00:50:29,119 --> 00:50:32,329
lockdown there's like you know lockdown

1485
00:50:30,858 --> 00:50:33,230
and locked in there's really like that

1486
00:50:32,329 --> 00:50:35,778
exactly

1487
00:50:33,230 --> 00:50:37,099
so yeah just since it came up watch it

1488
00:50:35,778 --> 00:50:39,619
give a little bit can give you a little

1489
00:50:37,099 --> 00:50:41,900
yeah exactly I mean every studio does

1490
00:50:39,619 --> 00:50:43,369
this in some form right you it at some

1491
00:50:41,900 --> 00:50:45,889
point you got a ship and you've got to

1492
00:50:43,369 --> 00:50:47,240
just stop changing stuff right because

1493
00:50:45,889 --> 00:50:48,348
and you know you've got the designer

1494
00:50:47,239 --> 00:50:49,578
it's like oh I just want to tweak this

1495
00:50:48,349 --> 00:50:51,170
one thing it's gonna be so much cooler

1496
00:50:49,579 --> 00:50:52,099
and you got to make that judgment call

1497
00:50:51,170 --> 00:50:53,659
and I think this is one place where

1498
00:50:52,099 --> 00:50:55,490
Naughty Dog's really it's one of our

1499
00:50:53,659 --> 00:50:57,078
core competencies is making that

1500
00:50:55,489 --> 00:50:59,118
judgment call between what's worth

1501
00:50:57,079 --> 00:51:00,650
fixing and what's not and there are

1502
00:50:59,119 --> 00:51:03,048
times when we'll do stuff right up to

1503
00:51:00,650 --> 00:51:04,278
the end that other Studios would say

1504
00:51:03,048 --> 00:51:06,318
that's crazy you can't do there like

1505
00:51:04,278 --> 00:51:08,088
some some you know development directors

1506
00:51:06,318 --> 00:51:09,739
somewhere with his you know spreadsheet

1507
00:51:08,088 --> 00:51:10,969
or her spreadsheet is going oh my god

1508
00:51:09,739 --> 00:51:12,558
like don't you know yeah how can you be

1509
00:51:10,969 --> 00:51:14,058
change to this but we feel super

1510
00:51:12,559 --> 00:51:15,500
important to tell the story properly or

1511
00:51:14,059 --> 00:51:16,548
to or to just get that level of quality

1512
00:51:15,500 --> 00:51:17,809
and on the other hand there might be

1513
00:51:16,548 --> 00:51:18,788
something that nobody's ever going to

1514
00:51:17,809 --> 00:51:19,929
see and

1515
00:51:18,789 --> 00:51:21,519
like no we're not fixing that one

1516
00:51:19,929 --> 00:51:22,778
breakable cover way over there that

1517
00:51:21,518 --> 00:51:23,889
nobody's ever going to go to we're just

1518
00:51:22,778 --> 00:51:28,778
going to leave it because it's too risky

1519
00:51:23,889 --> 00:51:31,150
to fix it so the way we do that is we

1520
00:51:28,778 --> 00:51:32,918
basically before a big deadline like III

1521
00:51:31,150 --> 00:51:35,259
or we're actually shipping the game we

1522
00:51:32,918 --> 00:51:36,848
go into lockdown periods in in there's a

1523
00:51:35,259 --> 00:51:38,769
soft lockdown where basically you have

1524
00:51:36,849 --> 00:51:41,229
to coordinate with your lead to check

1525
00:51:38,768 --> 00:51:44,258
something in but usually we say yes so

1526
00:51:41,228 --> 00:51:46,478
people are still going at maybe 75 cents

1527
00:51:44,259 --> 00:51:48,099
speed right so it's almost a nominal

1528
00:51:46,478 --> 00:51:49,748
part to just say like okay look now

1529
00:51:48,099 --> 00:51:51,969
you're gonna think about it a little

1530
00:51:49,748 --> 00:51:53,768
because you have to at least tell me yes

1531
00:51:51,969 --> 00:51:55,539
before you do it exactly exactly and

1532
00:51:53,768 --> 00:51:57,278
that's probably not gonna say now yes

1533
00:51:55,539 --> 00:51:58,599
exactly and and speaking of the way

1534
00:51:57,278 --> 00:52:00,728
Blizzard doesn't where they have code

1535
00:51:58,599 --> 00:52:02,410
reviews for every check-in for us we

1536
00:52:00,728 --> 00:52:04,208
feel like that's - it's too constraining

1537
00:52:02,409 --> 00:52:06,759
so we'll do like little code reviews and

1538
00:52:04,208 --> 00:52:08,168
stuff during that time like someone will

1539
00:52:06,759 --> 00:52:10,509
you know one of the programs will come

1540
00:52:08,168 --> 00:52:12,728
to me say and say okay I'm fixing bug

1541
00:52:10,509 --> 00:52:13,688
number whatever and I'll say okay well

1542
00:52:12,728 --> 00:52:15,639
tell me what the problem is and what

1543
00:52:13,688 --> 00:52:16,958
your solution is they'll talk through it

1544
00:52:15,639 --> 00:52:18,639
and we might even do a little code

1545
00:52:16,958 --> 00:52:20,498
review look at the diffs figure out what

1546
00:52:18,639 --> 00:52:21,879
what happened and then I might raise a

1547
00:52:20,498 --> 00:52:23,259
few issues like I say well wait a sec

1548
00:52:21,880 --> 00:52:24,309
what's the ramifications of that and say

1549
00:52:23,259 --> 00:52:26,199
oh I already thought about that it's

1550
00:52:24,309 --> 00:52:30,819
blah blah oh I haven't thought about

1551
00:52:26,199 --> 00:52:32,588
that and so that's a really nice period

1552
00:52:30,818 --> 00:52:33,818
of time to just make sure things are

1553
00:52:32,588 --> 00:52:36,759
gelling and it also gets people thinking

1554
00:52:33,818 --> 00:52:38,018
about to get them out of that mindset

1555
00:52:36,759 --> 00:52:39,548
right because when you're developing

1556
00:52:38,018 --> 00:52:40,748
it's full steam ahead make as many

1557
00:52:39,548 --> 00:52:42,248
changes you can and get all the cool

1558
00:52:40,748 --> 00:52:43,808
stuff in that you want and it's simple

1559
00:52:42,248 --> 00:52:46,028
you have to make that mental shift -

1560
00:52:43,809 --> 00:52:48,189
okay it's more important that the game

1561
00:52:46,028 --> 00:52:51,639
is stable than that your little feature

1562
00:52:48,188 --> 00:52:53,518
makes it in right like um so that helps

1563
00:52:51,639 --> 00:52:57,188
with that now when you get really close

1564
00:52:53,518 --> 00:52:59,678
this is it's essentially honor system

1565
00:52:57,188 --> 00:53:01,358
it's like we're not actually sitting

1566
00:52:59,679 --> 00:53:04,059
there like you know having to push a

1567
00:53:01,358 --> 00:53:05,558
button for the check in as your lead I'd

1568
00:53:04,059 --> 00:53:06,609
do it it's more just like look you're

1569
00:53:05,559 --> 00:53:08,499
supposed to tell me if you didn't tell

1570
00:53:06,608 --> 00:53:10,119
me like what's going on yeah exactly and

1571
00:53:08,498 --> 00:53:11,978
we do once in a while someone will be

1572
00:53:10,119 --> 00:53:13,179
like oh I didn't hear I didn't hear that

1573
00:53:11,978 --> 00:53:14,798
we were in lockdown sorry I checked this

1574
00:53:13,179 --> 00:53:16,209
in and then we have a look at it you

1575
00:53:14,798 --> 00:53:18,278
know post facto and we say all right

1576
00:53:16,208 --> 00:53:20,528
well it was all right it's good or okay

1577
00:53:18,278 --> 00:53:21,759
let's back that out or whatever and so

1578
00:53:20,528 --> 00:53:23,469
that might be depending on the deadline

1579
00:53:21,759 --> 00:53:25,809
it might be that might be a week before

1580
00:53:23,469 --> 00:53:27,849
it might be just a few days before or

1581
00:53:25,809 --> 00:53:29,619
whatever and then just like really close

1582
00:53:27,849 --> 00:53:30,410
to the deadline like on the order of

1583
00:53:29,619 --> 00:53:32,150
days we'll

1584
00:53:30,409 --> 00:53:35,210
this hard lockdown where you have to get

1585
00:53:32,150 --> 00:53:36,559
approval for any change from like one of

1586
00:53:35,210 --> 00:53:37,730
the principals in the company so be like

1587
00:53:36,559 --> 00:53:39,980
heaven and Christophe or the game

1588
00:53:37,730 --> 00:53:41,358
director Bruce Straley or a creative

1589
00:53:39,980 --> 00:53:44,559
director or like Neil druckmann in the

1590
00:53:41,358 --> 00:53:46,759
case of the Last of Us or in check for

1591
00:53:44,559 --> 00:53:48,680
whoever is in that role and then

1592
00:53:46,760 --> 00:53:50,900
possibly also like a programming lead so

1593
00:53:48,679 --> 00:53:52,368
that we can kind of chime in as far as

1594
00:53:50,900 --> 00:53:55,039
the the technical ramifications of that

1595
00:53:52,369 --> 00:53:57,140
change and so at that point it slows us

1596
00:53:55,039 --> 00:53:59,000
way down right and now any change we

1597
00:53:57,139 --> 00:54:00,409
make we're making it with a full

1598
00:53:59,000 --> 00:54:02,690
understanding of the risk versus reward

1599
00:54:00,409 --> 00:54:04,279
hopefully okay that's the principle of

1600
00:54:02,690 --> 00:54:06,559
it anyway and so that's the complete

1601
00:54:04,280 --> 00:54:07,849
process essentially for going into those

1602
00:54:06,559 --> 00:54:10,579
lockdown things so it's kind of just

1603
00:54:07,849 --> 00:54:12,950
like basically saying we're we're

1604
00:54:10,579 --> 00:54:14,269
putting impediments in place yeah in

1605
00:54:12,949 --> 00:54:16,068
increasing like sort of orders of

1606
00:54:14,269 --> 00:54:17,449
magnitude until we kind of get to the

1607
00:54:16,068 --> 00:54:19,460
point where everyone agrees the game

1608
00:54:17,449 --> 00:54:21,739
it's done out we go and a few other

1609
00:54:19,460 --> 00:54:23,298
subtleties there to mention so different

1610
00:54:21,739 --> 00:54:25,848
departments lock down at different rates

1611
00:54:23,298 --> 00:54:27,679
- so a good example is you know like

1612
00:54:25,849 --> 00:54:29,329
sound and particle effects tend to be at

1613
00:54:27,679 --> 00:54:31,368
the end of the pipeline right because

1614
00:54:29,329 --> 00:54:32,839
they can't be done until other things

1615
00:54:31,369 --> 00:54:35,088
are done right you need to see how the

1616
00:54:32,838 --> 00:54:36,380
animation looks at a time the sounds and

1617
00:54:35,088 --> 00:54:38,449
exactly and if a change in the

1618
00:54:36,380 --> 00:54:40,338
animations timing happens the sound has

1619
00:54:38,449 --> 00:54:41,598
to be already done sometimes so so what

1620
00:54:40,338 --> 00:54:43,788
you end up with is you have you know

1621
00:54:41,599 --> 00:54:47,180
design and story at one end and then you

1622
00:54:43,789 --> 00:54:49,250
have you know like maybe animation and

1623
00:54:47,179 --> 00:54:51,379
geometry and these kinds of things in

1624
00:54:49,250 --> 00:54:52,699
physics and then you have sound and

1625
00:54:51,380 --> 00:54:54,980
particles at the very end of the pipe

1626
00:54:52,699 --> 00:54:57,019
and so usually the lockdown will be

1627
00:54:54,980 --> 00:55:01,608
everybody except particles and sound and

1628
00:54:57,019 --> 00:55:03,980
they just keep going okay you know it's

1629
00:55:01,608 --> 00:55:06,108
it's a it's a wave process it's like as

1630
00:55:03,980 --> 00:55:07,338
people you know the earlier you are in

1631
00:55:06,108 --> 00:55:08,480
the dependency chain you're getting

1632
00:55:07,338 --> 00:55:11,509
locked earlier a little bit earlier

1633
00:55:08,480 --> 00:55:13,269
because you know there's these people

1634
00:55:11,510 --> 00:55:16,250
need to go home to see their families

1635
00:55:13,269 --> 00:55:19,269
yeah there's certainly and and more more

1636
00:55:16,250 --> 00:55:22,639
also and just equally important that

1637
00:55:19,269 --> 00:55:24,079
because there's there's a chain effect

1638
00:55:22,639 --> 00:55:25,548
right so if a design decision has

1639
00:55:24,079 --> 00:55:27,859
changed it can have a big ripple effect

1640
00:55:25,548 --> 00:55:29,358
now that said yeah and this is another

1641
00:55:27,858 --> 00:55:31,489
thing I think not abducted as well is

1642
00:55:29,358 --> 00:55:33,078
that we we don't make that a hard and

1643
00:55:31,489 --> 00:55:34,608
fast rule it's not like right what

1644
00:55:33,079 --> 00:55:36,380
design is locked I'm sorry

1645
00:55:34,608 --> 00:55:38,719
even though the game sucks if we don't

1646
00:55:36,380 --> 00:55:40,640
do this we can't do it no sometimes

1647
00:55:38,719 --> 00:55:42,318
we'll do it and sometimes protocol and

1648
00:55:40,639 --> 00:55:44,478
sound will hate us for it right right

1649
00:55:42,318 --> 00:55:46,639
usually those decisions are made like a

1650
00:55:44,478 --> 00:55:48,948
you know vast majority the time those

1651
00:55:46,639 --> 00:55:50,598
decisions can be good decisions that

1652
00:55:48,949 --> 00:55:52,009
have a really good impact on the game

1653
00:55:50,599 --> 00:55:53,179
although again that's one of those

1654
00:55:52,009 --> 00:55:56,659
places where we're trying to find the

1655
00:55:53,179 --> 00:55:59,088
right balance because you know there is

1656
00:55:56,659 --> 00:56:01,188
a very real impact on people's lives yes

1657
00:55:59,088 --> 00:56:03,318
it's not just the game at that point

1658
00:56:01,188 --> 00:56:05,239
it's like well you know we have to sort

1659
00:56:03,318 --> 00:56:06,288
of be considerate because they are in a

1660
00:56:05,239 --> 00:56:07,880
different position than we are because

1661
00:56:06,289 --> 00:56:09,739
they are there are the people who have

1662
00:56:07,880 --> 00:56:11,269
to come in last right exactly and in

1663
00:56:09,739 --> 00:56:12,918
fact it's a big it is a big issue

1664
00:56:11,268 --> 00:56:15,318
especially for particles and sound where

1665
00:56:12,918 --> 00:56:17,268
they do tend to work till 2:00 a.m. for

1666
00:56:15,318 --> 00:56:19,998
a I'm crazy crazy crazy stuff during the

1667
00:56:17,268 --> 00:56:22,129
end and we are trying to to be more

1668
00:56:19,998 --> 00:56:23,448
cognizant of those ripple effects so

1669
00:56:22,130 --> 00:56:24,798
that we can recognize when they happen

1670
00:56:23,449 --> 00:56:26,358
and we can make those decisions really

1671
00:56:24,798 --> 00:56:29,358
really carefully actually so we're

1672
00:56:26,358 --> 00:56:32,328
trying to get better at that now awesome

1673
00:56:29,358 --> 00:56:33,228
yeah okay so let me look at first of all

1674
00:56:32,329 --> 00:56:34,548
did you have anything else that you

1675
00:56:33,228 --> 00:56:36,828
wanted to go down there because I don't

1676
00:56:34,548 --> 00:56:38,059
want to hear okay one other detail I

1677
00:56:36,829 --> 00:56:39,890
should mention is Rory said that we

1678
00:56:38,059 --> 00:56:41,539
branch our code whenever we've shipped a

1679
00:56:39,889 --> 00:56:44,358
product it isn't after it shipped it's

1680
00:56:41,539 --> 00:56:45,829
actually well before we ship and so good

1681
00:56:44,358 --> 00:56:48,498
example was during the development of

1682
00:56:45,829 --> 00:56:50,028
the Last of Us uncharted 3 was still

1683
00:56:48,498 --> 00:56:52,368
going in fact 1 2 3 was close to

1684
00:56:50,028 --> 00:56:54,079
shipping while myself and a small

1685
00:56:52,369 --> 00:56:57,169
skeleton team was starting to get the

1686
00:56:54,079 --> 00:57:00,109
last of us going ok and during that time

1687
00:56:57,168 --> 00:57:01,458
the last was branched off into u3 final

1688
00:57:00,108 --> 00:57:03,708
branch or whatever and they were all

1689
00:57:01,458 --> 00:57:05,808
working there meanwhile we could

1690
00:57:03,708 --> 00:57:07,969
continue along in in the main code

1691
00:57:05,809 --> 00:57:09,650
branch and push forward on the last of

1692
00:57:07,969 --> 00:57:11,208
us unfettered right so that's another

1693
00:57:09,650 --> 00:57:12,469
aspect of the lockdown so there's partly

1694
00:57:11,208 --> 00:57:15,108
on our system and there's partly a

1695
00:57:12,469 --> 00:57:16,969
branch and that's because like in that

1696
00:57:15,108 --> 00:57:18,858
mainline branch you actually don't

1697
00:57:16,969 --> 00:57:20,599
really distinguish between you know

1698
00:57:18,858 --> 00:57:23,228
either that's the engine codes the

1699
00:57:20,599 --> 00:57:25,068
engine code and so on and so forth or

1700
00:57:23,228 --> 00:57:28,129
actually that's another thing that's

1701
00:57:25,068 --> 00:57:29,808
interesting is that is that our code

1702
00:57:28,130 --> 00:57:34,099
structure is kind of like there's a

1703
00:57:29,809 --> 00:57:36,259
bunch of shared libraries down here and

1704
00:57:34,099 --> 00:57:37,729
then there's there's something that we

1705
00:57:36,259 --> 00:57:39,858
call common which is really part of the

1706
00:57:37,728 --> 00:57:41,149
game but it's built like it so it's

1707
00:57:39,858 --> 00:57:43,159
shared code but it's built in the

1708
00:57:41,150 --> 00:57:44,548
context of that game so command whoops

1709
00:57:43,159 --> 00:57:48,390
comm

1710
00:57:44,548 --> 00:57:50,818
yeah common you can use that eraser that

1711
00:57:48,389 --> 00:57:53,219
you did you kept yeah I don't know where

1712
00:57:50,818 --> 00:57:58,708
it sits on the back of the mmm oh this

1713
00:57:53,219 --> 00:58:01,979
isn't I believe look at that like it

1714
00:57:58,708 --> 00:58:03,659
okay so common so this is code that's

1715
00:58:01,978 --> 00:58:05,368
shared but needs to be built slightly

1716
00:58:03,659 --> 00:58:07,678
differently for different games okay and

1717
00:58:05,369 --> 00:58:09,329
then there's the game code itself and so

1718
00:58:07,679 --> 00:58:12,509
and all of this lives in let's say the

1719
00:58:09,329 --> 00:58:14,609
main branch when we branch off we would

1720
00:58:12,509 --> 00:58:17,248
make another branch that is let's say

1721
00:58:14,608 --> 00:58:19,108
you are you three final let's say back

1722
00:58:17,248 --> 00:58:21,058
in those days and it would have the

1723
00:58:19,108 --> 00:58:22,170
shared code oh and and the game of

1724
00:58:21,059 --> 00:58:24,959
course there'd be two there'd be like

1725
00:58:22,170 --> 00:58:28,438
there'd be you three and there'd be tea

1726
00:58:24,958 --> 00:58:30,058
Lu or whatever yeah so in the show here

1727
00:58:28,438 --> 00:58:31,649
we would still have the shared code and

1728
00:58:30,059 --> 00:58:33,059
we'd have you three but we wouldn't have

1729
00:58:31,650 --> 00:58:35,459
the last of us in here at all because

1730
00:58:33,059 --> 00:58:37,319
who cares because it's it's you three

1731
00:58:35,458 --> 00:58:39,688
final right right meanwhile The Last of

1732
00:58:37,318 --> 00:58:41,278
Us and can still continue developing

1733
00:58:39,688 --> 00:58:43,678
here it can change common code it can

1734
00:58:41,278 --> 00:58:46,708
change shared code and not break this

1735
00:58:43,679 --> 00:58:48,660
which is now kind of lost my give me an

1736
00:58:46,708 --> 00:58:50,368
example of something that goes in each

1737
00:58:48,659 --> 00:58:52,498
of these layers I mean I can maybe guess

1738
00:58:50,369 --> 00:58:54,179
but just like for to be explicit about

1739
00:58:52,498 --> 00:58:56,058
it so what goes in share what goes in

1740
00:58:54,179 --> 00:58:58,048
common what goes in yeah yeah perfect so

1741
00:58:56,059 --> 00:59:00,689
something that would go and shared would

1742
00:58:58,048 --> 00:59:02,548
be like the core animation engine you

1743
00:59:00,688 --> 00:59:06,178
know a lot of the low-level rendering

1744
00:59:02,548 --> 00:59:08,338
pipeline and and all of that pretty much

1745
00:59:06,179 --> 00:59:10,229
you know a large part of even like the

1746
00:59:08,338 --> 00:59:11,958
havoc like dealing with rigid bodies and

1747
00:59:10,228 --> 00:59:13,588
rag dolls and these kinds of things

1748
00:59:11,958 --> 00:59:15,719
common might be something like

1749
00:59:13,588 --> 00:59:17,608
initialization code that sets the engine

1750
00:59:15,719 --> 00:59:19,139
up and it's it's like a boiler plate

1751
00:59:17,608 --> 00:59:20,219
where it's the setup is mostly the same

1752
00:59:19,139 --> 00:59:21,659
but it's a little bit different for

1753
00:59:20,219 --> 00:59:22,499
different games okay so we want to be

1754
00:59:21,659 --> 00:59:23,848
able to build it differently for

1755
00:59:22,498 --> 00:59:25,708
different games but it's still shared

1756
00:59:23,849 --> 00:59:29,880
and then game code would be things like

1757
00:59:25,708 --> 00:59:32,068
you know Drake's code that does the the

1758
00:59:29,880 --> 00:59:33,929
rope and the sliding and all of these

1759
00:59:32,068 --> 00:59:35,818
games like player mechanics and and very

1760
00:59:33,929 --> 00:59:37,858
custom you know weapon things or or

1761
00:59:35,818 --> 00:59:39,929
whatever now another thing is that we

1762
00:59:37,858 --> 00:59:41,848
will often you know just for expediency

1763
00:59:39,929 --> 00:59:44,009
we sometimes with this develop code in

1764
00:59:41,849 --> 00:59:45,209
the game and then eventually we realize

1765
00:59:44,009 --> 00:59:47,998
hey actually this is shareable let's

1766
00:59:45,208 --> 00:59:50,969
move it down so a good example is we we

1767
00:59:47,998 --> 00:59:53,188
came up with this system for a character

1768
00:59:50,969 --> 00:59:56,249
dialogue that we call the Vox system and

1769
00:59:53,188 --> 00:59:57,899
it started out in game and then it got

1770
00:59:56,248 --> 00:59:59,639
kind of migrated down into

1771
00:59:57,900 --> 01:00:00,869
and just as a staging point because

1772
00:59:59,639 --> 01:00:02,639
there were still some dependencies on

1773
01:00:00,869 --> 01:00:04,170
the game and we're actually still the

1774
01:00:02,639 --> 01:00:05,190
process now just removing the last few

1775
01:00:04,170 --> 01:00:07,200
of those dependencies so that we can

1776
01:00:05,190 --> 01:00:09,088
migrate it and sort of promote it if you

1777
01:00:07,199 --> 01:00:10,500
will to true shared code at which point

1778
01:00:09,088 --> 01:00:12,269
any game could use it and it's zero

1779
01:00:10,500 --> 01:00:16,139
dependency on the game itself

1780
01:00:12,269 --> 01:00:17,400
no can again sorry to drill down on this

1781
01:00:16,139 --> 01:00:18,750
one point here because I'm just I'm not

1782
01:00:17,400 --> 01:00:22,680
sure I totally get it though

1783
01:00:18,750 --> 01:00:24,269
okay so you know I've got my shared

1784
01:00:22,679 --> 01:00:25,558
layer and that seems pretty

1785
01:00:24,269 --> 01:00:27,119
straightforward right because it's like

1786
01:00:25,559 --> 01:00:28,740
I'm literally thinking of this almost as

1787
01:00:27,119 --> 01:00:30,119
you know like a middleware library so

1788
01:00:28,739 --> 01:00:31,500
this is like I could give this to

1789
01:00:30,119 --> 01:00:34,318
another game team and they could

1790
01:00:31,500 --> 01:00:35,969
potentially use it right but the common

1791
01:00:34,318 --> 01:00:37,769
layer I'm not sure I quite understand

1792
01:00:35,969 --> 01:00:39,209
exactly what something in there looks

1793
01:00:37,769 --> 01:00:40,679
like so you said for example the

1794
01:00:39,210 --> 01:00:42,929
initialization code might get built

1795
01:00:40,679 --> 01:00:45,449
muffle ways but I'm still fundamentally

1796
01:00:42,929 --> 01:00:47,519
talking about the same piece of code are

1797
01:00:45,449 --> 01:00:52,288
we talking about pound if thefts are we

1798
01:00:47,519 --> 01:00:55,108
talking about so the difference is that

1799
01:00:52,289 --> 01:00:56,460
common lives in the same directory

1800
01:00:55,108 --> 01:00:58,318
structure that all the shared code lives

1801
01:00:56,460 --> 01:01:00,449
in okay and it's treated as shared code

1802
01:00:58,318 --> 01:01:01,679
but in terms of the make files and how

1803
01:01:00,449 --> 01:01:03,269
it's built it's built as part of the

1804
01:01:01,679 --> 01:01:05,969
game and so I can build the shared

1805
01:01:03,269 --> 01:01:07,739
libraries and not even know which game

1806
01:01:05,969 --> 01:01:09,568
I'm building right I don't say I want to

1807
01:01:07,739 --> 01:01:11,969
build the you know the such a shared

1808
01:01:09,568 --> 01:01:13,440
library yes and I don't know what game

1809
01:01:11,969 --> 01:01:16,439
I'm building it's just stuff it's just

1810
01:01:13,440 --> 01:01:17,880
code it's a library but with common I'm

1811
01:01:16,440 --> 01:01:20,010
building it in the context of either you

1812
01:01:17,880 --> 01:01:22,079
three or the Last of Us or you four or

1813
01:01:20,010 --> 01:01:24,930
whatever and so I can do things like

1814
01:01:22,079 --> 01:01:26,430
pound you know pound if I'm going for do

1815
01:01:24,929 --> 01:01:27,808
this special thing and I say big fire

1816
01:01:26,429 --> 01:01:30,838
that was our code name for you forcing

1817
01:01:27,809 --> 01:01:32,430
you for it pound if you for I do some

1818
01:01:30,838 --> 01:01:36,420
special things so that's all that is so

1819
01:01:32,429 --> 01:01:38,519
so essentially that's like you know the

1820
01:01:36,420 --> 01:01:38,818
code itself is actually not changing at

1821
01:01:38,519 --> 01:01:39,960
all

1822
01:01:38,818 --> 01:01:41,730
we're strictly talking about

1823
01:01:39,960 --> 01:01:43,710
pre-processing kinds of operations that

1824
01:01:41,730 --> 01:01:46,679
are happening on it but we like to keep

1825
01:01:43,710 --> 01:01:49,170
those sort of segments segmented out

1826
01:01:46,679 --> 01:01:50,460
because anyone who puts something in

1827
01:01:49,170 --> 01:01:52,650
shared we kind of want to make it very

1828
01:01:50,460 --> 01:01:54,449
clear that it's like look this thing has

1829
01:01:52,650 --> 01:01:56,068
to not have any of those pounds just in

1830
01:01:54,449 --> 01:01:57,269
there that we don't want this to be

1831
01:01:56,068 --> 01:01:59,400
something that we're it's got kind of

1832
01:01:57,269 --> 01:02:01,500
like you know janky stuff but maybe

1833
01:01:59,400 --> 01:02:04,470
building differently yeah I mean so just

1834
01:02:01,500 --> 01:02:06,960
as an anecdotal thing when I was a TA I

1835
01:02:04,469 --> 01:02:09,118
was looking at low level material code

1836
01:02:06,960 --> 01:02:10,840
like shader code or whatever and there

1837
01:02:09,119 --> 01:02:14,950
was something in there that said pound

1838
01:02:10,840 --> 01:02:16,750
you know Pacific assault right right do

1839
01:02:14,949 --> 01:02:18,129
this thing for the players helmet or

1840
01:02:16,750 --> 01:02:20,349
whatever it's like really like in the

1841
01:02:18,130 --> 01:02:21,670
lowest level so we actually disallow it

1842
01:02:20,349 --> 01:02:23,559
like our make folks don't even past

1843
01:02:21,670 --> 01:02:26,559
those pound of fines down you can't do

1844
01:02:23,559 --> 01:02:28,570
pound if you know you for in the shared

1845
01:02:26,559 --> 01:02:30,219
code because it just won't compile but

1846
01:02:28,570 --> 01:02:32,140
in the common code you can and so we

1847
01:02:30,219 --> 01:02:33,730
it's it's like a nice staging area for

1848
01:02:32,139 --> 01:02:35,379
moving promoting things down to share it

1849
01:02:33,730 --> 01:02:36,369
and also just for places where you don't

1850
01:02:35,380 --> 01:02:38,320
have any other choice

1851
01:02:36,369 --> 01:02:40,119
and now obviously there would be I mean

1852
01:02:38,320 --> 01:02:42,700
if I'm understanding you correctly there

1853
01:02:40,119 --> 01:02:46,389
would really be no cost to you in sort

1854
01:02:42,699 --> 01:02:48,099
of the the pragmatic sense I suppose of

1855
01:02:46,389 --> 01:02:50,519
allowing people to do such pound ifs

1856
01:02:48,099 --> 01:02:53,469
anywhere they wanted to right so this is

1857
01:02:50,519 --> 01:02:55,840
more of a discipline thing where it's

1858
01:02:53,469 --> 01:02:58,539
like look we we don't want to constantly

1859
01:02:55,840 --> 01:02:59,980
be having this thing where I go into

1860
01:02:58,539 --> 01:03:01,449
like you said the shader code and I see

1861
01:02:59,980 --> 01:03:03,490
all these pound dips in there and I I

1862
01:03:01,449 --> 01:03:05,589
just started The Last of Us and suddenly

1863
01:03:03,489 --> 01:03:07,479
I'm trying to wade through but you know

1864
01:03:05,590 --> 01:03:17,079
the jak and daxter someone's or whatever

1865
01:03:07,480 --> 01:03:18,849
and the other thing but so it's like

1866
01:03:17,079 --> 01:03:20,829
we're really just doing this as a way of

1867
01:03:18,849 --> 01:03:22,869
are tickling to the programmer what is

1868
01:03:20,829 --> 01:03:24,159
expected by the time we get to this

1869
01:03:22,869 --> 01:03:25,690
thing so ya know that this is something

1870
01:03:24,159 --> 01:03:28,629
that we can just go with yeah but

1871
01:03:25,690 --> 01:03:30,970
chances are we don't really want to make

1872
01:03:28,630 --> 01:03:32,320
all of this code 100% general because

1873
01:03:30,969 --> 01:03:33,730
there's some things that are just a lot

1874
01:03:32,320 --> 01:03:35,620
more expedient to do with that if if

1875
01:03:33,730 --> 01:03:38,199
that goes into the common layer that can

1876
01:03:35,619 --> 01:03:39,819
now there's another so actually let me

1877
01:03:38,199 --> 01:03:42,219
speak to the reason why we do that first

1878
01:03:39,820 --> 01:03:44,350
so um it's partly just that it's good

1879
01:03:42,219 --> 01:03:50,129
housekeeping and yes there's and it sort

1880
01:03:44,349 --> 01:03:52,239
of feeds my OCD which is nice exactly

1881
01:03:50,130 --> 01:03:54,640
keeps you honest I guess a little bit

1882
01:03:52,239 --> 01:03:57,009
but there's other reasons for example if

1883
01:03:54,639 --> 01:03:59,079
the shared library is quite large it's

1884
01:03:57,010 --> 01:04:02,080
it's a good majority of our code can be

1885
01:03:59,079 --> 01:04:04,329
in shared and if I can rebuild a shared

1886
01:04:02,079 --> 01:04:07,150
library and then actually literally

1887
01:04:04,329 --> 01:04:08,409
share that binary you know Lib between

1888
01:04:07,150 --> 01:04:09,940
two different games rather than having

1889
01:04:08,409 --> 01:04:11,769
to build it differently for different

1890
01:04:09,940 --> 01:04:13,570
games that gives us a benefit so there's

1891
01:04:11,769 --> 01:04:15,670
there's that and that is from the

1892
01:04:13,570 --> 01:04:16,420
perspective of for example a engineer

1893
01:04:15,670 --> 01:04:18,400
making a change

1894
01:04:16,420 --> 01:04:20,380
who wishes to see that change in both

1895
01:04:18,400 --> 01:04:22,539
engines and would like it's relevant so

1896
01:04:20,380 --> 01:04:22,809
at that point it's like well I cut in

1897
01:04:22,539 --> 01:04:25,480
half

1898
01:04:22,809 --> 01:04:28,059
the time for it perhaps not happen but I

1899
01:04:25,480 --> 01:04:30,460
am saving a little bit there a little

1900
01:04:28,059 --> 01:04:32,440
bit there exactly so so those are two

1901
01:04:30,460 --> 01:04:34,179
kind of good reasons I guess the third

1902
01:04:32,440 --> 01:04:36,519
is it again canna forces you to just

1903
01:04:34,179 --> 01:04:38,980
think think about your architecture and

1904
01:04:36,519 --> 01:04:41,440
make a good mental distinction between

1905
01:04:38,980 --> 01:04:43,090
something that is that is game specific

1906
01:04:41,440 --> 01:04:44,559
and something that isn't um now that's

1907
01:04:43,090 --> 01:04:46,510
it you're quite right there are various

1908
01:04:44,559 --> 01:04:49,029
hooks that we have in the shared library

1909
01:04:46,510 --> 01:04:50,710
so that you can for example have well

1910
01:04:49,030 --> 01:04:51,970
like the dialogue system there might be

1911
01:04:50,710 --> 01:04:53,860
a place where you need to make a game

1912
01:04:51,969 --> 01:04:55,389
specific decision as part of a normal

1913
01:04:53,860 --> 01:04:57,160
logic and so for that we use like a

1914
01:04:55,389 --> 01:04:59,139
little like a callback system or a

1915
01:04:57,159 --> 01:05:00,579
virtual function or like a you know a

1916
01:04:59,139 --> 01:05:02,319
function pointer or something great a

1917
01:05:00,579 --> 01:05:05,199
mechanism in there that will allow us to

1918
01:05:02,320 --> 01:05:06,670
say now now thunk over to some game code

1919
01:05:05,199 --> 01:05:08,439
run that game code and then come back

1920
01:05:06,670 --> 01:05:10,030
and whatever the results are right there

1921
01:05:08,440 --> 01:05:11,710
there are mechanisms for talking to the

1922
01:05:10,030 --> 01:05:13,150
shared library in that way right in a

1923
01:05:11,710 --> 01:05:15,490
way the shared I think of it more as

1924
01:05:13,150 --> 01:05:17,590
almost a framework for our engine more

1925
01:05:15,489 --> 01:05:19,029
than a library person got it and then

1926
01:05:17,590 --> 01:05:21,309
the game kind of slots in the back of it

1927
01:05:19,030 --> 01:05:23,410
so in some sense it's it's like the the

1928
01:05:21,309 --> 01:05:25,029
shared is is a very large piece of the

1929
01:05:23,409 --> 01:05:26,409
code base and in general we're trying to

1930
01:05:25,030 --> 01:05:28,390
kind of keep the game part that we swap

1931
01:05:26,409 --> 01:05:29,829
in and out being actually much much less

1932
01:05:28,389 --> 01:05:31,900
so if we can promote something shared we

1933
01:05:29,829 --> 01:05:35,409
will yeah exactly and I mean again all

1934
01:05:31,900 --> 01:05:37,809
this is tempered with pragmatism so you

1935
01:05:35,409 --> 01:05:39,099
know when you know there might be times

1936
01:05:37,809 --> 01:05:41,079
well especially let's say when we do

1937
01:05:39,099 --> 01:05:44,259
this branch we do you for you three

1938
01:05:41,079 --> 01:05:45,250
final or you for final if I'm making

1939
01:05:44,260 --> 01:05:47,410
changes of the shared code in the main

1940
01:05:45,250 --> 01:05:48,969
branch I certainly don't want to be

1941
01:05:47,409 --> 01:05:51,849
propagating it up to the other branch

1942
01:05:48,969 --> 01:05:54,159
because it could be risky right and so

1943
01:05:51,849 --> 01:05:55,989
you know it's all it's a judgment call

1944
01:05:54,159 --> 01:05:57,699
but that's the basic principle that

1945
01:05:55,989 --> 01:05:58,259
guides how the sheriff okay that makes

1946
01:05:57,699 --> 01:06:01,480
more sense

1947
01:05:58,260 --> 01:06:02,980
all right so okay but I guess I should

1948
01:06:01,480 --> 01:06:04,300
ask n is that every is that everything

1949
01:06:02,980 --> 01:06:05,320
if you want to cut cover from the stuff

1950
01:06:04,300 --> 01:06:08,980
that we talked about there before I

1951
01:06:05,320 --> 01:06:12,220
think so yes if you think of it certain

1952
01:06:08,980 --> 01:06:14,320
I just want to make sure so I feel like

1953
01:06:12,219 --> 01:06:15,489
I kind of missed I dropped the ball a

1954
01:06:14,320 --> 01:06:17,789
little bit on this one because I'm

1955
01:06:15,489 --> 01:06:21,089
imagining although this may be somewhat

1956
01:06:17,789 --> 01:06:23,289
this this may be a incorrect imagination

1957
01:06:21,090 --> 01:06:25,800
kind of like I'm trying to imagine the

1958
01:06:23,289 --> 01:06:29,469
mythical NetApp device and so on right

1959
01:06:25,800 --> 01:06:30,760
so you you mentioned in the in the

1960
01:06:29,469 --> 01:06:33,429
preamble that there are some places

1961
01:06:30,760 --> 01:06:35,620
where Linux really shines was this

1962
01:06:33,429 --> 01:06:38,469
related to the Y Z Drive situation

1963
01:06:35,619 --> 01:06:39,639
and if so yeah I just want to sort of

1964
01:06:38,469 --> 01:06:41,319
say can you tell us what that was I've

1965
01:06:39,639 --> 01:06:42,940
got to crack that Easter egg yeah we

1966
01:06:41,320 --> 01:06:44,890
kind of missed over that a little bit so

1967
01:06:42,940 --> 01:06:47,110
yeah I guess um and again I'm I'm not a

1968
01:06:44,889 --> 01:06:49,359
not a network administrator so I'm kind

1969
01:06:47,110 --> 01:06:53,800
of echoing what my colleagues have told

1970
01:06:49,360 --> 01:06:55,180
me about what happened but well so

1971
01:06:53,800 --> 01:06:56,830
basically if you're talking if you're

1972
01:06:55,179 --> 01:07:01,629
talking to a Windows machine and trying

1973
01:06:56,829 --> 01:07:03,460
to talk to over samba right tuna to like

1974
01:07:01,630 --> 01:07:04,150
this Linux box that's serving up all

1975
01:07:03,460 --> 01:07:06,220
your files

1976
01:07:04,150 --> 01:07:07,840
turns out Samba as a protocol is very

1977
01:07:06,219 --> 01:07:09,159
chatty there's a lot of network traffic

1978
01:07:07,840 --> 01:07:11,050
that goes back and forth and so on and

1979
01:07:09,159 --> 01:07:12,639
then you've got issues of Windows itself

1980
01:07:11,050 --> 01:07:14,860
like the timeouts on the executables and

1981
01:07:12,639 --> 01:07:17,889
these kinds of things yes um and so like

1982
01:07:14,860 --> 01:07:19,210
the standard way that a ps3 or ps4 comes

1983
01:07:17,889 --> 01:07:20,440
to a developer there's a thing called

1984
01:07:19,210 --> 01:07:22,269
the target manager that you run on your

1985
01:07:20,440 --> 01:07:24,400
PC and the idea is that it'll serve up

1986
01:07:22,269 --> 01:07:28,119
files probably just from your drive or

1987
01:07:24,400 --> 01:07:29,440
from a networked PC drive it wasn't

1988
01:07:28,119 --> 01:07:32,259
really designed for this whole hybrid

1989
01:07:29,440 --> 01:07:33,909
Linux Windows thing and it's kind of

1990
01:07:32,260 --> 01:07:35,280
slow to load data from that so we

1991
01:07:33,909 --> 01:07:38,379
realized that actually way back and

1992
01:07:35,280 --> 01:07:39,370
kristoff are you know co-president said

1993
01:07:38,380 --> 01:07:42,130
all right well I'm going to just write a

1994
01:07:39,369 --> 01:07:43,509
server on Linux that's effectively like

1995
01:07:42,130 --> 01:07:46,539
a web server that just serves up blobs

1996
01:07:43,510 --> 01:07:49,390
of data okay and then the PS the ps3 or

1997
01:07:46,539 --> 01:07:51,219
the ps4 can just you know resolve that

1998
01:07:49,389 --> 01:07:52,599
IP address and talk directly to it and

1999
01:07:51,219 --> 01:07:54,219
just get its data that way right so

2000
01:07:52,599 --> 01:07:55,779
effectively all the normal things of

2001
01:07:54,219 --> 01:07:57,219
some it does like discovery of who's on

2002
01:07:55,780 --> 01:07:58,480
the network and why do you have this

2003
01:07:57,219 --> 01:08:00,639
drive name and also it's like well look

2004
01:07:58,480 --> 01:08:02,440
we all know yeah who we're talking to

2005
01:08:00,639 --> 01:08:05,230
let's just get rid of all this that give

2006
01:08:02,440 --> 01:08:06,940
me the data exactly and so although from

2007
01:08:05,230 --> 01:08:10,199
a sort of a morphological point of view

2008
01:08:06,940 --> 01:08:12,940
you're still pinging from ps4 through to

2009
01:08:10,199 --> 01:08:16,090
to a machine a Linux machine and then to

2010
01:08:12,940 --> 01:08:17,770
the net app versus ps4 to PC to the net

2011
01:08:16,090 --> 01:08:19,270
app it turns out that path is faster

2012
01:08:17,770 --> 01:08:21,490
quite a bit faster and like you say we

2013
01:08:19,270 --> 01:08:22,540
can eliminate a lot of these extra bells

2014
01:08:21,489 --> 01:08:24,849
and whistles that we don't need and just

2015
01:08:22,539 --> 01:08:26,560
serve up the data and so we end up we

2016
01:08:24,850 --> 01:08:28,480
got to a point actually where the game

2017
01:08:26,560 --> 01:08:30,820
couldn't keep up with the amount of data

2018
01:08:28,479 --> 01:08:33,309
we were feeding it because it was just

2019
01:08:30,819 --> 01:08:35,859
so efficient so it's really nice and it

2020
01:08:33,310 --> 01:08:37,570
also means that now it's not exactly the

2021
01:08:35,859 --> 01:08:39,549
same if I'm running off of an actual

2022
01:08:37,569 --> 01:08:42,039
pack file that I've built like a rather

2023
01:08:39,550 --> 01:08:44,859
I should say a Sony like package file

2024
01:08:42,039 --> 01:08:49,069
right a disk image or if I'm wrong

2025
01:08:44,859 --> 01:08:50,450
yes exactly the the loading behavior the

2026
01:08:49,069 --> 01:08:51,770
streaming behavior of our engine is

2027
01:08:50,449 --> 01:08:54,380
actually a little different off of that

2028
01:08:51,770 --> 01:08:56,930
than it is over our network but we aimed

2029
01:08:54,380 --> 01:08:58,400
to try to get the throughput to be like

2030
01:08:56,930 --> 01:09:00,200
say actually the network's faster than

2031
01:08:58,399 --> 01:09:04,488
reading off a blu-ray or reading off of

2032
01:09:00,199 --> 01:09:06,139
the hard drive yes yes so so anyway but

2033
01:09:04,488 --> 01:09:07,129
that's another aspect actually to making

2034
01:09:06,140 --> 01:09:08,239
a console game where you've got it

2035
01:09:07,130 --> 01:09:10,369
you've got to think about and test it

2036
01:09:08,238 --> 01:09:11,838
both ways because the performance might

2037
01:09:10,369 --> 01:09:14,180
be different I'm not sure I understood

2038
01:09:11,838 --> 01:09:15,380
why Linux shines in that example though

2039
01:09:14,180 --> 01:09:21,588
I could think I might have missed that

2040
01:09:15,380 --> 01:09:24,170
part it sounds more like you shined your

2041
01:09:21,588 --> 01:09:27,199
team it's it's a little that but it's

2042
01:09:24,170 --> 01:09:28,850
also that I guess the NFS protocol is

2043
01:09:27,199 --> 01:09:30,920
just inherently a little more efficient

2044
01:09:28,850 --> 01:09:34,548
too so okay so even if we're just

2045
01:09:30,920 --> 01:09:36,250
because ultimately yeah I'm not a

2046
01:09:34,548 --> 01:09:38,390
hundred cent clear on that but I believe

2047
01:09:36,250 --> 01:09:40,069
yeah it's one of those hand-wavy things

2048
01:09:38,390 --> 01:09:42,710
or it's again Linux is more efficient at

2049
01:09:40,069 --> 01:09:44,690
the side yes okay

2050
01:09:42,710 --> 01:09:46,219
so I guess that took care of those two

2051
01:09:44,689 --> 01:09:47,509
things there because I had file server

2052
01:09:46,219 --> 01:09:51,829
as well which I guess is exactly that

2053
01:09:47,509 --> 01:09:53,719
thing with Linux okay yeah so one of the

2054
01:09:51,829 --> 01:09:54,710
things that that you had mentioned when

2055
01:09:53,719 --> 01:09:56,270
you were sort of saying here's some

2056
01:09:54,710 --> 01:09:58,510
stuff that would be just talked about

2057
01:09:56,270 --> 01:10:00,860
from the sort of things that we do I

2058
01:09:58,510 --> 01:10:02,000
guess I'll randomly pick the order here

2059
01:10:00,859 --> 01:10:05,059
because I'd like to get to both of them

2060
01:10:02,000 --> 01:10:08,210
we have about 20 minutes left I think so

2061
01:10:05,060 --> 01:10:10,760
you mentioned that you guys sort of do

2062
01:10:08,210 --> 01:10:13,189
you said custom version control for

2063
01:10:10,760 --> 01:10:14,390
assets and I was wondering if that that

2064
01:10:13,189 --> 01:10:15,469
because you did a thing there were you

2065
01:10:14,390 --> 01:10:17,090
like okay well I can have different

2066
01:10:15,469 --> 01:10:19,369
directories with data is there something

2067
01:10:17,090 --> 01:10:20,390
beyond this like okay so so yes give us

2068
01:10:19,369 --> 01:10:22,670
a little perspective like what you've

2069
01:10:20,390 --> 01:10:23,780
built there you didn't just want to

2070
01:10:22,670 --> 01:10:25,579
check it into your source code control

2071
01:10:23,779 --> 01:10:27,859
system right cheese for code yeah it's

2072
01:10:25,579 --> 01:10:30,170
good it's good to remember that one yes

2073
01:10:27,859 --> 01:10:31,339
so when you think about like the

2074
01:10:30,170 --> 01:10:33,829
different kinds of asset files that

2075
01:10:31,340 --> 01:10:36,560
you're dealing with source code and also

2076
01:10:33,829 --> 01:10:40,069
like these these racket or scheme files

2077
01:10:36,560 --> 01:10:42,710
right these DC files JSON files text

2078
01:10:40,069 --> 01:10:44,359
files all that stuff it it works well

2079
01:10:42,710 --> 01:10:45,710
under perforce and perforce is great

2080
01:10:44,359 --> 01:10:48,559
that those cans think relatively small

2081
01:10:45,710 --> 01:10:50,000
files text formats that can be diff you

2082
01:10:48,560 --> 01:10:53,480
can look back and see the history and so

2083
01:10:50,000 --> 01:10:56,329
on not so good for gigantic maya files

2084
01:10:53,479 --> 01:10:57,158
right or big textures or PSD s or ZBrush

2085
01:10:56,329 --> 01:11:00,369
files

2086
01:10:57,158 --> 01:11:03,309
so what we do is anything that's that's

2087
01:11:00,369 --> 01:11:07,389
on that sort of big binary blob of data

2088
01:11:03,310 --> 01:11:08,980
versus the small text file we and I've

2089
01:11:07,389 --> 01:11:10,779
seen this at some other software

2090
01:11:08,979 --> 01:11:12,908
companies so it's not a new idea I don't

2091
01:11:10,779 --> 01:11:14,889
think but we came up with a new kind of

2092
01:11:12,908 --> 01:11:17,379
asset control system and we custom-built

2093
01:11:14,889 --> 01:11:18,819
it for better or worse I mean now it's

2094
01:11:17,380 --> 01:11:19,960
it's a bit of a thorn in our side

2095
01:11:18,819 --> 01:11:21,670
because we have to maintain it but it's

2096
01:11:19,960 --> 01:11:23,560
also really it can be very powerful and

2097
01:11:21,670 --> 01:11:27,158
it's got some limitations but it works

2098
01:11:23,560 --> 01:11:30,159
pretty well the idea of it is that okay

2099
01:11:27,158 --> 01:11:31,779
so any of you guys who have worked in a

2100
01:11:30,158 --> 01:11:33,129
studio might know that you know you have

2101
01:11:31,779 --> 01:11:35,109
that whole ritual or you come in in the

2102
01:11:33,130 --> 01:11:36,670
morning and you sync the latest assets

2103
01:11:35,109 --> 01:11:38,019
and then it takes fifteen to twenty

2104
01:11:36,670 --> 01:11:39,158
minutes or an hour two hours in you

2105
01:11:38,020 --> 01:11:40,179
don't have a coffee and talk with your

2106
01:11:39,158 --> 01:11:41,769
friends while you're waiting for all

2107
01:11:40,179 --> 01:11:44,170
your assets to come down on the witness

2108
01:11:41,770 --> 01:11:46,000
I believe we actually had a thing that

2109
01:11:44,170 --> 01:11:52,960
someone wrote that does this process for

2110
01:11:46,000 --> 01:11:54,698
you before you get to do this let's just

2111
01:11:52,960 --> 01:11:56,529
make a thing that does it for you yeah

2112
01:11:54,698 --> 01:12:04,689
you talk to the iPhone like the location

2113
01:11:56,529 --> 01:12:08,289
services like always like you just like

2114
01:12:04,689 --> 01:12:10,269
it 4:00 in the morning it yeah so but

2115
01:12:08,289 --> 01:12:12,189
the thing is if think about it like we

2116
01:12:10,270 --> 01:12:13,929
got the giant database of very very

2117
01:12:12,189 --> 01:12:15,460
large files Maya files all over the

2118
01:12:13,929 --> 01:12:17,619
place and any one person doesn't need

2119
01:12:15,460 --> 01:12:19,270
all of them well we need all of them but

2120
01:12:17,619 --> 01:12:21,630
we don't need all of them to be editable

2121
01:12:19,270 --> 01:12:24,400
and to be actually on a machine so

2122
01:12:21,630 --> 01:12:26,350
speaking each artist is only really

2123
01:12:24,399 --> 01:12:28,210
working but some very specific some

2124
01:12:26,350 --> 01:12:30,070
small yeah in some small world that's a

2125
01:12:28,210 --> 01:12:32,529
certain set of Maya files and so on and

2126
01:12:30,069 --> 01:12:33,579
so this kind of asset control system

2127
01:12:32,529 --> 01:12:37,359
like I say I've seen it elsewhere

2128
01:12:33,579 --> 01:12:39,250
it uses UNIX or Linux symlinks okay for

2129
01:12:37,359 --> 01:12:41,769
basically so you have like it master

2130
01:12:39,250 --> 01:12:43,270
repository with all the assets there and

2131
01:12:41,770 --> 01:12:44,770
there's one copy of everything that's

2132
01:12:43,270 --> 01:12:46,330
like the latest version and there's also

2133
01:12:44,770 --> 01:12:48,610
previous versions that are encoded in

2134
01:12:46,329 --> 01:12:50,170
some way using directories or file names

2135
01:12:48,609 --> 01:12:51,158
or something right right and then you

2136
01:12:50,170 --> 01:12:54,279
just have some links to the latest

2137
01:12:51,158 --> 01:12:57,069
version on your local machine so on your

2138
01:12:54,279 --> 01:12:58,960
Y Drive under you know why you four

2139
01:12:57,069 --> 01:13:00,250
there would be an art folder and that

2140
01:12:58,960 --> 01:13:02,710
our folder is actually managed by this

2141
01:13:00,250 --> 01:13:04,600
tool that we call BAM which I don't know

2142
01:13:02,710 --> 01:13:06,310
what it stands for Oh actually I think

2143
01:13:04,600 --> 01:13:07,690
it stands for a big asset manager

2144
01:13:06,310 --> 01:13:09,530
because big was the codename for

2145
01:13:07,689 --> 01:13:12,319
Uncharted

2146
01:13:09,529 --> 01:13:15,948
and so that's an interesting anecdote I

2147
01:13:12,319 --> 01:13:17,719
went so I guess Jack had a codename of

2148
01:13:15,948 --> 01:13:21,579
next cuz they were like it's the next

2149
01:13:17,719 --> 01:13:23,899
okay and then so big was was big the

2150
01:13:21,579 --> 01:13:25,219
uncharted was big and then the last of

2151
01:13:23,899 --> 01:13:34,759
us was things so then we had the next

2152
01:13:25,219 --> 01:13:35,719
big thing so yeah so anyway but it's

2153
01:13:34,760 --> 01:13:37,640
pretty amazing

2154
01:13:35,719 --> 01:13:39,469
I mean you guys cannot start another

2155
01:13:37,640 --> 01:13:40,910
franchise we got to come up with another

2156
01:13:39,469 --> 01:13:46,429
catchphrase here I guess this period

2157
01:13:40,909 --> 01:13:49,039
could be ellipses yeah and we go on yeah

2158
01:13:46,429 --> 01:13:51,980
I don't know anyway so so what was I

2159
01:13:49,039 --> 01:13:54,859
saying so all right so you've got

2160
01:13:51,979 --> 01:13:57,049
symlinks and some links yeah so any

2161
01:13:54,859 --> 01:13:58,639
given artists on there why Drive they've

2162
01:13:57,050 --> 01:13:59,869
got all these sim links to every asset

2163
01:13:58,640 --> 01:14:01,610
in the game and it's the latest version

2164
01:13:59,869 --> 01:14:03,079
and then they've got this tool which

2165
01:14:01,609 --> 01:14:04,579
we've also integrated directly into Maya

2166
01:14:03,079 --> 01:14:06,109
so they can just go in and when you

2167
01:14:04,579 --> 01:14:07,789
check out a file what it really is doing

2168
01:14:06,109 --> 01:14:09,559
is kaat is removing your sim link

2169
01:14:07,789 --> 01:14:12,198
copying the real asset down so you now

2170
01:14:09,560 --> 01:14:13,489
have a copy on your on your Y Drive you

2171
01:14:12,198 --> 01:14:15,169
edit it and do whatever you want to do

2172
01:14:13,488 --> 01:14:16,698
it's it's now locked by the server so

2173
01:14:15,170 --> 01:14:18,289
nobody else can edit it and when you're

2174
01:14:16,698 --> 01:14:19,879
done you check it in and it becomes a

2175
01:14:18,289 --> 01:14:23,779
symlink for everybody and then there's a

2176
01:14:19,880 --> 01:14:25,039
little server that link is visually mark

2177
01:14:23,779 --> 01:14:27,710
as like read-only or something so

2178
01:14:25,039 --> 01:14:29,210
someone doesn't this is this file it's

2179
01:14:27,710 --> 01:14:31,069
so part of that process of checking out

2180
01:14:29,210 --> 01:14:32,569
that breaks the sim link also turns it

2181
01:14:31,069 --> 01:14:34,340
into writable file so you know if you

2182
01:14:32,569 --> 01:14:35,840
Maya would say I can't write file or

2183
01:14:34,340 --> 01:14:38,029
something if you were do something exact

2184
01:14:35,840 --> 01:14:39,800
if it's process wrong exact exactly so I

2185
01:14:38,029 --> 01:14:41,329
mean there's obviously a lot of benefits

2186
01:14:39,800 --> 01:14:42,860
to that because everybody has the latest

2187
01:14:41,329 --> 01:14:44,539
versions of assets all the time if

2188
01:14:42,859 --> 01:14:46,219
someone checks something in everybody

2189
01:14:44,539 --> 01:14:48,829
just updates kind of magically which is

2190
01:14:46,219 --> 01:14:50,420
cool but there's you know there's

2191
01:14:48,829 --> 01:14:53,238
obviously downsides as well like that's

2192
01:14:50,420 --> 01:14:54,469
a custom tool so if something breaks who

2193
01:14:53,238 --> 01:14:56,359
are you gonna go to we gotta fix it

2194
01:14:54,469 --> 01:14:58,189
right and the people who wrote that have

2195
01:14:56,359 --> 01:14:59,059
since left so now somebody else took it

2196
01:14:58,189 --> 01:15:01,309
over right

2197
01:14:59,060 --> 01:15:03,830
you know we've got poor Jerome who's on

2198
01:15:01,310 --> 01:15:05,420
our tools team and he valiantly took up

2199
01:15:03,829 --> 01:15:06,649
the cause and he's kind of owning it now

2200
01:15:05,420 --> 01:15:10,010
but there was another engineer before

2201
01:15:06,649 --> 01:15:11,500
that and just so there's a cost to it

2202
01:15:10,010 --> 01:15:13,610
and I feel like that kind of tool

2203
01:15:11,500 --> 01:15:14,510
especially has the cost because you're

2204
01:15:13,609 --> 01:15:15,829
tough once you're talking about

2205
01:15:14,510 --> 01:15:17,690
something that the artists are supposed

2206
01:15:15,829 --> 01:15:19,909
to use typically it makes a big

2207
01:15:17,689 --> 01:15:21,349
difference if it's integrated into an

2208
01:15:19,909 --> 01:15:21,859
art package once you're talking about

2209
01:15:21,350 --> 01:15:23,060
integrating

2210
01:15:21,859 --> 01:15:25,429
to an art package you're talking about

2211
01:15:23,060 --> 01:15:26,989
maintaining you know compiled builds for

2212
01:15:25,429 --> 01:15:30,050
each version of this art package which

2213
01:15:26,988 --> 01:15:31,368
now are basically were frequent in it

2214
01:15:30,050 --> 01:15:35,079
definitely kind of opens up a can of

2215
01:15:31,368 --> 01:15:35,079
wear cerise includes should be simplest

2216
01:15:35,260 --> 01:15:41,420
we deal with some of that complexity by

2217
01:15:37,550 --> 01:15:42,920
I we exposed I guess if I'm I believe

2218
01:15:41,420 --> 01:15:45,489
I'm correct about this we exposed like a

2219
01:15:42,920 --> 01:15:48,260
Python interface to that tool so that

2220
01:15:45,488 --> 01:15:50,149
coupling yeah so we we and that's that's

2221
01:15:48,260 --> 01:15:51,980
the thing actually like too much

2222
01:15:50,149 --> 01:15:53,750
coupling in general is always bad right

2223
01:15:51,979 --> 01:15:56,928
like especially yeah very tight coupling

2224
01:15:53,750 --> 01:15:58,520
and as evidenced by Chris's talk where

2225
01:15:56,929 --> 01:15:59,569
everything was super tightly coupled and

2226
01:15:58,520 --> 01:16:01,520
you make you change one float and

2227
01:15:59,569 --> 01:16:02,960
everything rebuilds so here we're

2228
01:16:01,520 --> 01:16:04,639
breaking that by just saying okay we've

2229
01:16:02,960 --> 01:16:06,230
got Python interfaces to things and then

2230
01:16:04,639 --> 01:16:07,429
you can just which it's much more

2231
01:16:06,229 --> 01:16:07,669
portable and you don't have to worry too

2232
01:16:07,429 --> 01:16:09,139
much

2233
01:16:07,670 --> 01:16:10,819
but even then every time we move to a

2234
01:16:09,139 --> 01:16:12,139
new Maya version there's a big effort of

2235
01:16:10,819 --> 01:16:13,639
just making sure everything works

2236
01:16:12,139 --> 01:16:17,840
because they'll change stuff under the

2237
01:16:13,639 --> 01:16:19,579
hood scene is so implicit in I guess

2238
01:16:17,840 --> 01:16:21,260
what you described there so this would

2239
01:16:19,579 --> 01:16:23,630
mean that you essentially just store

2240
01:16:21,260 --> 01:16:25,969
every version of every asset meaning you

2241
01:16:23,630 --> 01:16:27,710
just buy more drives you just keep keep

2242
01:16:25,969 --> 01:16:30,079
piling drives in every day to this this

2243
01:16:27,710 --> 01:16:34,880
NetApp yeah that we don't know if it

2244
01:16:30,079 --> 01:16:37,368
exists or is that kind of except that we

2245
01:16:34,880 --> 01:16:38,600
do allow ourselves to purge assets after

2246
01:16:37,368 --> 01:16:40,819
certain time so we might keep the last

2247
01:16:38,600 --> 01:16:42,829
ten versions of something like a purge I

2248
01:16:40,819 --> 01:16:44,960
say and what we usually do is we wait

2249
01:16:42,829 --> 01:16:46,850
until just in our you know sub head of

2250
01:16:44,960 --> 01:16:49,368
IT starts screaming that our drive is

2251
01:16:46,850 --> 01:16:50,810
running out of space okay we better run

2252
01:16:49,368 --> 01:16:52,429
a purge on this stuff and we'll get rid

2253
01:16:50,810 --> 01:16:54,110
of some old friends but it's dangerous a

2254
01:16:52,429 --> 01:16:56,929
little bit right because if there's

2255
01:16:54,109 --> 01:16:58,158
something that we need yeah and so back

2256
01:16:56,929 --> 01:16:59,539
to the compression thing if you could

2257
01:16:58,158 --> 01:17:01,759
predict exactly what you needed then it

2258
01:16:59,539 --> 01:17:03,469
was great but we can't so so we've

2259
01:17:01,760 --> 01:17:05,750
definitely a few cases it's just very

2260
01:17:03,469 --> 01:17:07,010
rare where we've had to go back to it to

2261
01:17:05,750 --> 01:17:07,429
a tape backup or something to get

2262
01:17:07,010 --> 01:17:09,889
something

2263
01:17:07,429 --> 01:17:11,600
oh so you do like off-site these and

2264
01:17:09,889 --> 01:17:15,319
several knots off-site but you do have

2265
01:17:11,600 --> 01:17:17,060
like a sort of a purge to permanent

2266
01:17:15,319 --> 01:17:18,710
storage it doesn't per you like it went

2267
01:17:17,060 --> 01:17:21,050
away forever right right well we what it

2268
01:17:18,710 --> 01:17:23,260
is really is that we're backing up the z

2269
01:17:21,050 --> 01:17:25,610
drive and yeah and everything else

2270
01:17:23,260 --> 01:17:26,869
periodically and so if even if we purge

2271
01:17:25,609 --> 01:17:28,549
something there's probably a backup from

2272
01:17:26,868 --> 01:17:30,229
before that has ok so I'm going to ask

2273
01:17:28,550 --> 01:17:32,920
one more question then I wanted to ask a

2274
01:17:30,229 --> 01:17:36,879
sort of a tie-in question

2275
01:17:32,920 --> 01:17:38,529
so you mentioned that this was again in

2276
01:17:36,880 --> 01:17:40,960
the email we can't talk about this you

2277
01:17:38,529 --> 01:17:42,460
mentioned that you tend to use command

2278
01:17:40,960 --> 01:17:43,750
line tools like simple command line

2279
01:17:42,460 --> 01:17:45,969
tools a lot and that was part of the

2280
01:17:43,750 --> 01:17:47,649
keep it simple about mentality there but

2281
01:17:45,969 --> 01:17:50,050
then you said lately you've started to

2282
01:17:47,649 --> 01:17:52,809
do more stuff like c-sharp cutie pie

2283
01:17:50,050 --> 01:17:54,810
cutie tools right sure yeah and so is

2284
01:17:52,810 --> 01:17:58,030
this just sort of you were finding like

2285
01:17:54,810 --> 01:17:59,560
we need more like we're not able to

2286
01:17:58,029 --> 01:18:01,329
really do everything we want to do in

2287
01:17:59,560 --> 01:18:02,949
like meier something or and this we need

2288
01:18:01,329 --> 01:18:04,269
our own custom editors and so you've

2289
01:18:02,948 --> 01:18:05,829
been experienced that can you give us a

2290
01:18:04,270 --> 01:18:07,390
little like you know that's that's three

2291
01:18:05,829 --> 01:18:09,880
different things sort of there right I

2292
01:18:07,390 --> 01:18:11,289
mean that you into to sort of say why

2293
01:18:09,880 --> 01:18:12,250
three different things is it because of

2294
01:18:11,289 --> 01:18:13,090
what people are comfortable with are you

2295
01:18:12,250 --> 01:18:14,920
experimenting they're going to

2296
01:18:13,090 --> 01:18:16,510
consolidate like hi what's what's going

2297
01:18:14,920 --> 01:18:18,399
on there it's um I would say it's

2298
01:18:16,510 --> 01:18:20,679
largely that excuse me that you have um

2299
01:18:18,399 --> 01:18:22,719
you have a team and different people

2300
01:18:20,679 --> 01:18:24,369
have different ways that they want to

2301
01:18:22,719 --> 01:18:26,649
solve the problem and we you know so

2302
01:18:24,369 --> 01:18:28,329
we'll end up having different solutions

2303
01:18:26,649 --> 01:18:30,189
coming from different areas of the

2304
01:18:28,329 --> 01:18:32,319
company and that's fine so a good

2305
01:18:30,189 --> 01:18:34,899
example is if there's a tool and the

2306
01:18:32,319 --> 01:18:37,119
artists say they come to the to the TV's

2307
01:18:34,899 --> 01:18:38,409
right and they say hey we really need

2308
01:18:37,119 --> 01:18:40,809
this thing to be automated like I need

2309
01:18:38,409 --> 01:18:42,039
some way to manage my rig and I'd like

2310
01:18:40,810 --> 01:18:43,330
to have a graphical interface that looks

2311
01:18:42,039 --> 01:18:45,369
like this they go I'll do that in Pike

2312
01:18:43,329 --> 01:18:47,229
QT cuz I know Python and it fits really

2313
01:18:45,369 --> 01:18:49,539
well into Maya because Maya has got the

2314
01:18:47,229 --> 01:18:51,218
whole Python thing now and so that's a

2315
01:18:49,539 --> 01:18:53,019
good solution for that problem whereas

2316
01:18:51,219 --> 01:18:54,698
let's say our level editor the

2317
01:18:53,020 --> 01:18:58,210
programmer who worked on that dave smith

2318
01:18:54,698 --> 01:18:59,889
was well versed in c-sharp ice and you

2319
01:18:58,210 --> 01:19:01,600
know it's got opengl hooks and all that

2320
01:18:59,890 --> 01:19:02,770
stuff and like let's just do that but we

2321
01:19:01,600 --> 01:19:04,960
didn't have I wouldn't say that we've

2322
01:19:02,770 --> 01:19:07,390
got any kind of overarching studio

2323
01:19:04,960 --> 01:19:09,310
policy that says thou must write their

2324
01:19:07,390 --> 01:19:10,960
thing in QT or whatever right so we're

2325
01:19:09,310 --> 01:19:12,400
pretty flexible on that um and that

2326
01:19:10,960 --> 01:19:13,840
sometimes bites us in the butt because

2327
01:19:12,399 --> 01:19:15,609
like some people might not be familiar

2328
01:19:13,840 --> 01:19:17,230
with c-sharp and they go to try to

2329
01:19:15,609 --> 01:19:18,579
change and now they're Charter and the

2330
01:19:17,229 --> 01:19:19,599
whole thing and they got to go and talk

2331
01:19:18,579 --> 01:19:21,550
to David you okay let me give you a

2332
01:19:19,600 --> 01:19:23,610
quick you know primer on how to build it

2333
01:19:21,550 --> 01:19:27,130
and everything and then you learn it but

2334
01:19:23,609 --> 01:19:29,469
so pros and cons I think we are starting

2335
01:19:27,130 --> 01:19:31,659
to move more towards Python for those

2336
01:19:29,469 --> 01:19:34,119
kinds of things in QT kind of as a whole

2337
01:19:31,659 --> 01:19:36,729
but it's not like it's a mandate it's

2338
01:19:34,119 --> 01:19:38,409
just something it's still kind of in its

2339
01:19:36,729 --> 01:19:39,698
earlier stages of training maybe you

2340
01:19:38,409 --> 01:19:41,349
know five years now you're like okay so

2341
01:19:39,698 --> 01:19:42,159
this is how we generally go about this

2342
01:19:41,350 --> 01:19:43,570
process

2343
01:19:42,159 --> 01:19:45,819
right we're kind of feeling our way

2344
01:19:43,569 --> 01:19:47,170
later yeah and I mean some things the

2345
01:19:45,819 --> 01:19:50,619
other thing to be aware of too is that

2346
01:19:47,170 --> 01:19:53,560
not every tool is ideal as a UI right

2347
01:19:50,619 --> 01:19:55,119
like as a GUI because you know there

2348
01:19:53,560 --> 01:19:56,530
have been ideas floated sometimes well

2349
01:19:55,119 --> 01:19:58,149
let's put all this stuff in a sequel

2350
01:19:56,529 --> 01:19:59,529
database or something and then we're

2351
01:19:58,149 --> 01:20:01,179
like but wait a sec what about looking

2352
01:19:59,529 --> 01:20:03,189
at the version history or what about

2353
01:20:01,180 --> 01:20:05,380
doing a simple text search to just be

2354
01:20:03,189 --> 01:20:07,389
able to find something right and so we

2355
01:20:05,380 --> 01:20:09,250
tend to again try to take those those

2356
01:20:07,390 --> 01:20:11,110
ramifications into account and say you

2357
01:20:09,250 --> 01:20:13,090
know let's choose things that are going

2358
01:20:11,109 --> 01:20:14,979
to remain simple enough that we can

2359
01:20:13,090 --> 01:20:16,360
actually let's not lose some of the

2360
01:20:14,979 --> 01:20:19,569
benefits as we move towards these things

2361
01:20:16,359 --> 01:20:21,969
so I will say - this is kind of

2362
01:20:19,569 --> 01:20:24,789
interesting the way we build assets

2363
01:20:21,970 --> 01:20:27,520
right now it tends to be on a per asset

2364
01:20:24,789 --> 01:20:30,250
basis so and the way that our the way

2365
01:20:27,520 --> 01:20:32,230
that our game worlds work we have a

2366
01:20:30,250 --> 01:20:35,470
streaming engine so we can stream in

2367
01:20:32,229 --> 01:20:38,939
pieces of a world and so just as an

2368
01:20:35,470 --> 01:20:41,860
example I don't know let's think about I

2369
01:20:38,939 --> 01:20:43,629
don't know you choose a scene from I'm

2370
01:20:41,859 --> 01:20:45,219
sure you know in term 4 where there's

2371
01:20:43,630 --> 01:20:48,250
maybe like a big cityscape or something

2372
01:20:45,220 --> 01:20:50,170
sure um that geometry would be built as

2373
01:20:48,250 --> 01:20:51,399
maybe the buildings that you're actually

2374
01:20:50,170 --> 01:20:53,529
standing on and moving around that's

2375
01:20:51,399 --> 01:20:55,420
maybe one what we would call a level but

2376
01:20:53,529 --> 01:20:57,369
it's run just a chunk of geometry data

2377
01:20:55,420 --> 01:20:58,569
and then there's like a mid ground where

2378
01:20:57,369 --> 01:21:00,430
there might be a bunch of levels that

2379
01:20:58,569 --> 01:21:01,689
are like this area of town in that area

2380
01:21:00,430 --> 01:21:03,550
of town and then there's maybe one

2381
01:21:01,689 --> 01:21:05,049
that's like a wide that's like all the

2382
01:21:03,550 --> 01:21:06,430
really low res geometry that's way out

2383
01:21:05,050 --> 01:21:09,360
there that you're never gonna get to got

2384
01:21:06,430 --> 01:21:13,900
um and those those assets are built

2385
01:21:09,359 --> 01:21:15,969
they're divided up into pages say you

2386
01:21:13,899 --> 01:21:18,009
know whatever some standard size like I

2387
01:21:15,970 --> 01:21:21,100
think we're at like one mag or two Meg

2388
01:21:18,010 --> 01:21:23,140
pages now but it used to be 512 K and we

2389
01:21:21,100 --> 01:21:24,820
can load in and out pages and so as

2390
01:21:23,140 --> 01:21:27,940
you're just walking through a level you

2391
01:21:24,819 --> 01:21:29,769
can stream ya pages in and out right but

2392
01:21:27,939 --> 01:21:31,659
those levels themselves each one of

2393
01:21:29,770 --> 01:21:33,880
those is a pack file so if I'm trying to

2394
01:21:31,659 --> 01:21:35,590
build this entire cityscape I might need

2395
01:21:33,880 --> 01:21:37,029
to know that I've got seven levels that

2396
01:21:35,590 --> 01:21:39,310
have to be built and as the background

2397
01:21:37,029 --> 01:21:40,659
artist I know this and so I'm like I was

2398
01:21:39,310 --> 01:21:42,700
working on the wide so I'm just gonna do

2399
01:21:40,659 --> 01:21:44,800
a BL which is the equivalent of BA but

2400
01:21:42,699 --> 01:21:47,679
four levels still just generating a pack

2401
01:21:44,800 --> 01:21:51,039
file so BL this and this the wide for

2402
01:21:47,680 --> 01:21:52,600
this into the city and so that model is

2403
01:21:51,039 --> 01:21:53,920
you could think of it as a pole model

2404
01:21:52,600 --> 01:21:54,499
right where I say I want this end

2405
01:21:53,920 --> 01:21:55,729
product

2406
01:21:54,498 --> 01:21:57,050
and it pulls back on all the

2407
01:21:55,729 --> 01:21:59,449
dependencies and figures out and

2408
01:21:57,050 --> 01:22:01,519
eventually sucks in the traditional make

2409
01:21:59,448 --> 01:22:04,549
yeah very much like make very much like

2410
01:22:01,519 --> 01:22:07,729
make although the differences that make

2411
01:22:04,550 --> 01:22:09,260
make is very because it's based on on

2412
01:22:07,729 --> 01:22:11,719
file times that's really the only

2413
01:22:09,260 --> 01:22:13,130
criteria can use right right yeah and so

2414
01:22:11,719 --> 01:22:15,050
it's it's usually actually way too

2415
01:22:13,130 --> 01:22:18,109
granular a really good example is uh I

2416
01:22:15,050 --> 01:22:20,329
let's say I add some special joint to

2417
01:22:18,109 --> 01:22:22,399
this rig that's only used by the game to

2418
01:22:20,328 --> 01:22:24,380
query the position of my nose right at

2419
01:22:22,399 --> 01:22:25,939
the nose position joint sure doesn't

2420
01:22:24,380 --> 01:22:27,469
affect the any many animations at all

2421
01:22:25,939 --> 01:22:29,448
but if you're to use make it would say

2422
01:22:27,469 --> 01:22:31,248
oh the files new or rebuild animations

2423
01:22:29,448 --> 01:22:34,728
right so we want to be careful of that

2424
01:22:31,248 --> 01:22:36,050
so we actually you really want your

2425
01:22:34,729 --> 01:22:37,159
graph to be as explicit as possible

2426
01:22:36,050 --> 01:22:38,269
because that reduces the number of

2427
01:22:37,158 --> 01:22:39,948
things that get touched on a repo

2428
01:22:38,269 --> 01:22:42,650
exactly so you wanted to be granular and

2429
01:22:39,948 --> 01:22:45,228
you want it to be yeah explicit so so

2430
01:22:42,649 --> 01:22:48,288
like in that case we will have this idea

2431
01:22:45,229 --> 01:22:49,639
of a hierarchy ID and these little

2432
01:22:48,288 --> 01:22:51,170
helper joints aren't maybe aren't part

2433
01:22:49,639 --> 01:22:54,409
of that so it doesn't cause a rebuild as

2434
01:22:51,170 --> 01:22:55,998
an example so anyway it's a pole model

2435
01:22:54,408 --> 01:22:57,618
but what we don't have right now and

2436
01:22:55,998 --> 01:22:59,420
we're moving towards it is this idea of

2437
01:22:57,618 --> 01:23:01,848
like we have nightly builds but that's

2438
01:22:59,420 --> 01:23:03,739
really just like a a bot right that is

2439
01:23:01,849 --> 01:23:06,409
pretending to be a user and pretending

2440
01:23:03,738 --> 01:23:07,908
to be manually going BL this now be okay

2441
01:23:06,408 --> 01:23:09,888
and it might be out on a bunch of

2442
01:23:07,908 --> 01:23:12,589
machines so it's in parallel but it's

2443
01:23:09,889 --> 01:23:14,569
really just somebody's just building so

2444
01:23:12,590 --> 01:23:17,150
the problem that we have right now is

2445
01:23:14,569 --> 01:23:18,799
that when you build it like so I'm Joe

2446
01:23:17,149 --> 01:23:21,469
user at Naughty Dog and I sit down and I

2447
01:23:18,800 --> 01:23:23,900
say BL some level what it does is it

2448
01:23:21,469 --> 01:23:26,510
actually it's pulling your version of

2449
01:23:23,899 --> 01:23:27,738
the data and the reason for that is we

2450
01:23:26,510 --> 01:23:29,929
want to be able to iterate and we have

2451
01:23:27,738 --> 01:23:31,308
this idea of a local build but there

2452
01:23:29,929 --> 01:23:32,899
were bugs in it and sometimes the local

2453
01:23:31,309 --> 01:23:34,219
build wouldn't turn out properly so we

2454
01:23:32,899 --> 01:23:36,498
we wanted to reserve the right to be

2455
01:23:34,219 --> 01:23:39,529
able to do effectively a local build of

2456
01:23:36,498 --> 01:23:42,260
a global asset using my data and the

2457
01:23:39,529 --> 01:23:43,880
idea is I would do this I would test the

2458
01:23:42,260 --> 01:23:45,320
game and if it's all good then I would

2459
01:23:43,880 --> 01:23:47,269
check in my files and it's good I'm done

2460
01:23:45,319 --> 01:23:50,058
okay if something broke then I could

2461
01:23:47,269 --> 01:23:51,079
like I can undo my change BL again and

2462
01:23:50,059 --> 01:23:52,929
it would put it back to the old way and

2463
01:23:51,078 --> 01:23:58,328
then we're good to go

2464
01:23:52,929 --> 01:24:00,590
but so what this what this means is that

2465
01:23:58,328 --> 01:24:03,319
mistakes can happen like for example

2466
01:24:00,590 --> 01:24:05,179
let's say I go into perforce or BAM and

2467
01:24:03,319 --> 01:24:07,130
I check out a file right and I'm working

2468
01:24:05,179 --> 01:24:08,449
on it and trying something

2469
01:24:07,130 --> 01:24:10,730
and I build a few times and then I'm

2470
01:24:08,449 --> 01:24:12,470
like I don't really like that so I asked

2471
01:24:10,729 --> 01:24:13,879
my you know I just all right just wait

2472
01:24:12,470 --> 01:24:16,369
till the nightly builds over writes my

2473
01:24:13,880 --> 01:24:18,140
file and I'm good but I forget to undo

2474
01:24:16,369 --> 01:24:19,430
that check in that check out right so

2475
01:24:18,140 --> 01:24:22,490
now I've got an old version of the file

2476
01:24:19,430 --> 01:24:24,170
okay so now if anybody in the company

2477
01:24:22,489 --> 01:24:25,880
builds this level it'll be fine but

2478
01:24:24,170 --> 01:24:27,829
whenever I build it it'll go back to the

2479
01:24:25,880 --> 01:24:29,390
old version that's checked out on my

2480
01:24:27,829 --> 01:24:31,670
machine we had a bunch of problems like

2481
01:24:29,390 --> 01:24:33,380
that actually where why does this asked

2482
01:24:31,670 --> 01:24:38,210
to keep reverting I thought that it was

2483
01:24:33,380 --> 01:24:39,890
so and so we go over and go undo the

2484
01:24:38,210 --> 01:24:42,590
check-in and oh sorry okay and then it

2485
01:24:39,890 --> 01:24:45,710
was it was good so we're moving now

2486
01:24:42,590 --> 01:24:47,720
towards having a pristine global version

2487
01:24:45,710 --> 01:24:49,939
of the assets that are built by this bot

2488
01:24:47,720 --> 01:24:51,770
and that nobody can touch and that way

2489
01:24:49,939 --> 01:24:53,779
it's absolutely for sure and the only

2490
01:24:51,770 --> 01:24:55,040
way to get a global veil to to actually

2491
01:24:53,779 --> 01:24:56,989
go out to the company would be to

2492
01:24:55,039 --> 01:24:58,369
actually check it in and that way you

2493
01:24:56,989 --> 01:24:59,569
just don't have any of these these

2494
01:24:58,369 --> 01:25:02,359
issues so we're moving towards that but

2495
01:24:59,569 --> 01:25:04,039
it's not quite there yet so last

2496
01:25:02,359 --> 01:25:06,619
question I'll try to sneak in here five

2497
01:25:04,039 --> 01:25:13,159
minutes left okay not from the list

2498
01:25:06,619 --> 01:25:14,630
okay so when Chris was describing their

2499
01:25:13,159 --> 01:25:16,130
asset system this is why I kind of like

2500
01:25:14,630 --> 01:25:19,640
having listened to both of them now I

2501
01:25:16,130 --> 01:25:21,020
kind of just was sure Darius it sounded

2502
01:25:19,640 --> 01:25:23,150
like one of the really difficult

2503
01:25:21,020 --> 01:25:25,040
problems they're in some of the things

2504
01:25:23,149 --> 01:25:27,949
they were dealing with was just that a

2505
01:25:25,039 --> 01:25:31,039
lot of their processing wanted to look

2506
01:25:27,949 --> 01:25:33,229
across a large number of disparate

2507
01:25:31,039 --> 01:25:34,970
assets right yep and this was a

2508
01:25:33,229 --> 01:25:37,009
fundamental problem in terms of why the

2509
01:25:34,970 --> 01:25:38,930
system got slow because if that was not

2510
01:25:37,010 --> 01:25:40,640
happening then it would be very easy to

2511
01:25:38,930 --> 01:25:43,520
start isolating these these graphs right

2512
01:25:40,640 --> 01:25:46,190
right so it sounds like you know your

2513
01:25:43,520 --> 01:25:48,170
system just doesn't really even have

2514
01:25:46,189 --> 01:25:50,479
that happening very much yeah

2515
01:25:48,170 --> 01:25:52,310
and so what I'm wondering is do you did

2516
01:25:50,479 --> 01:25:53,989
you find this to be a limitation and you

2517
01:25:52,310 --> 01:25:57,260
just we live with the limitation or is

2518
01:25:53,989 --> 01:25:59,569
it that no actually we we compensate for

2519
01:25:57,260 --> 01:26:01,190
that by doing a lot of more runtime

2520
01:25:59,569 --> 01:26:02,569
processing of things or you know is

2521
01:26:01,189 --> 01:26:03,559
there you trying to see where I'm going

2522
01:26:02,569 --> 01:26:06,170
with this

2523
01:26:03,560 --> 01:26:07,760
why don't you find that you need these

2524
01:26:06,170 --> 01:26:10,250
things that that kind of umbrella out

2525
01:26:07,760 --> 01:26:11,810
right right well I think I was thinking

2526
01:26:10,250 --> 01:26:13,369
about this myself during during his talk

2527
01:26:11,810 --> 01:26:15,770
of trying to just try to get my head

2528
01:26:13,369 --> 01:26:17,359
around why why they had these big

2529
01:26:15,770 --> 01:26:19,489
problems we did and I think and

2530
01:26:17,359 --> 01:26:21,079
unfortunately he's not here

2531
01:26:19,488 --> 01:26:22,609
there's talking but I wouldn't I would

2532
01:26:21,079 --> 01:26:24,800
have liked to get his input on this but

2533
01:26:22,609 --> 01:26:27,409
it seems to me like there's two factors

2534
01:26:24,800 --> 01:26:29,329
at play that caused that that monolithic

2535
01:26:27,409 --> 01:26:32,329
thing right one of them is that you know

2536
01:26:29,329 --> 01:26:33,738
you have you have a bunch of assets of

2537
01:26:32,329 --> 01:26:35,600
just little dots each of these is like

2538
01:26:33,738 --> 01:26:36,889
an asset that goes into the game yeah

2539
01:26:35,600 --> 01:26:39,320
and you've got a whole bunch of source

2540
01:26:36,890 --> 01:26:41,180
assets right and it seems like their

2541
01:26:39,319 --> 01:26:42,340
dependency graph looked something like

2542
01:26:41,180 --> 01:26:44,989
this

2543
01:26:42,340 --> 01:26:46,430
right like where everything depends on

2544
01:26:44,988 --> 01:26:51,259
everything and so what I end up with is

2545
01:26:46,430 --> 01:26:54,289
you have the make game button right and

2546
01:26:51,260 --> 01:26:55,640
when you press that 15 million tasks go

2547
01:26:54,289 --> 01:26:57,140
off and it tries to build everything

2548
01:26:55,640 --> 01:27:00,410
right but if you think about what the

2549
01:26:57,140 --> 01:27:01,670
the structure of this and maybe some of

2550
01:27:00,409 --> 01:27:04,130
that comes actually from premature

2551
01:27:01,670 --> 01:27:05,869
optimization I don't want to put words

2552
01:27:04,130 --> 01:27:08,150
in his mouth but it seems to me like for

2553
01:27:05,869 --> 01:27:10,039
example not building a certain shader

2554
01:27:08,149 --> 01:27:12,439
feature on a certain crate in a level

2555
01:27:10,039 --> 01:27:15,079
just because the game isn't referencing

2556
01:27:12,439 --> 01:27:17,269
that anymore is maybe once you know

2557
01:27:15,079 --> 01:27:18,800
bridge too far right so like what we

2558
01:27:17,270 --> 01:27:21,410
would do is we would say okay this crate

2559
01:27:18,800 --> 01:27:22,760
needs to have that capability I know

2560
01:27:21,409 --> 01:27:24,859
that it's used at least one place in the

2561
01:27:22,760 --> 01:27:26,840
game with that capability so just in the

2562
01:27:24,859 --> 01:27:29,238
asset database in our metadata we just

2563
01:27:26,840 --> 01:27:32,569
say support this feature in the shader

2564
01:27:29,238 --> 01:27:34,399
and if nobody pulls on it whatever you

2565
01:27:32,569 --> 01:27:36,769
know it just supports it and so it's a

2566
01:27:34,399 --> 01:27:38,719
little less optimal but you you now have

2567
01:27:36,770 --> 01:27:40,340
a very loose template yeah okay so now

2568
01:27:38,719 --> 01:27:43,250
the game object can either pull on it or

2569
01:27:40,340 --> 01:27:46,039
not who cares one way to say this would

2570
01:27:43,250 --> 01:27:47,869
be like okay so rather than trying to

2571
01:27:46,039 --> 01:27:50,149
automate all this stuff and actually

2572
01:27:47,869 --> 01:27:51,559
have this you know intelligent system

2573
01:27:50,149 --> 01:27:53,599
that goes out and figures these things

2574
01:27:51,560 --> 01:27:55,969
out it's just like just let the artist

2575
01:27:53,600 --> 01:27:57,920
say that this is what they wanted to

2576
01:27:55,969 --> 01:27:59,300
have happen during the build and if they

2577
01:27:57,920 --> 01:28:01,640
get it wrong it's okay because they'll

2578
01:27:59,300 --> 01:28:04,279
see the results yes but we now know that

2579
01:28:01,640 --> 01:28:05,840
they using their intuition you can

2580
01:28:04,279 --> 01:28:08,210
fine-tune that to the degree that it is

2581
01:28:05,840 --> 01:28:10,430
exactly so it boils down to fully

2582
01:28:08,210 --> 01:28:11,750
automated versus maybe a little bit more

2583
01:28:10,430 --> 01:28:13,100
human intervention mentioned but the

2584
01:28:11,750 --> 01:28:15,289
hammer and intervention always wins

2585
01:28:13,100 --> 01:28:17,110
right because humans are smart they want

2586
01:28:15,289 --> 01:28:20,149
okay so like if you think about the

2587
01:28:17,109 --> 01:28:21,949
dependency tree in our game might be

2588
01:28:20,149 --> 01:28:23,569
more it might look more like it might

2589
01:28:21,949 --> 01:28:24,889
look more like this where you've got you

2590
01:28:23,569 --> 01:28:27,349
know this thing depends on those things

2591
01:28:24,890 --> 01:28:29,780
and this depends on these things and

2592
01:28:27,350 --> 01:28:30,710
this depends on these things and once in

2593
01:28:29,779 --> 01:28:32,229
a while you might have something that

2594
01:28:30,710 --> 01:28:34,119
depends across you know

2595
01:28:32,229 --> 01:28:36,849
but the tree looks more like this and so

2596
01:28:34,119 --> 01:28:38,050
there's all these very lovely natural if

2597
01:28:36,850 --> 01:28:40,690
talking about splitting the graph

2598
01:28:38,050 --> 01:28:42,460
there's all these lovely sort of natural

2599
01:28:40,689 --> 01:28:44,079
split points in this graph and so what

2600
01:28:42,460 --> 01:28:45,430
you really have is a forest of lots of

2601
01:28:44,079 --> 01:28:48,010
little trees instead of one giant

2602
01:28:45,430 --> 01:28:49,539
Gordian knot of dependencies right right

2603
01:28:48,010 --> 01:28:51,220
and for that reason we can just pull on

2604
01:28:49,539 --> 01:28:53,350
one of these things and the build maybe

2605
01:28:51,220 --> 01:28:55,000
takes five minutes or fifteen or you

2606
01:28:53,350 --> 01:28:58,780
know and now if it's a light baked then

2607
01:28:55,000 --> 01:29:00,100
maybe it takes hours but depending on

2608
01:28:58,779 --> 01:29:01,479
the type of asset and we also leverage

2609
01:29:00,100 --> 01:29:02,710
the fact that we have different flavors

2610
01:29:01,479 --> 01:29:04,389
of assets and each one has its own

2611
01:29:02,710 --> 01:29:08,380
requirements whereas it seems to me like

2612
01:29:04,390 --> 01:29:10,030
in the in the halo system they were

2613
01:29:08,380 --> 01:29:11,650
trying to it was kind of like who here's

2614
01:29:10,029 --> 01:29:14,170
a cool hammer everything's a nail you

2615
01:29:11,649 --> 01:29:15,759
know put it all into this one tag file

2616
01:29:14,170 --> 01:29:17,680
system and everything's a tag which

2617
01:29:15,760 --> 01:29:19,180
sounds cool it's kind of like in you

2618
01:29:17,680 --> 01:29:19,659
know in UNIX everything's a file it's

2619
01:29:19,180 --> 01:29:23,619
awesome

2620
01:29:19,659 --> 01:29:26,380
but maybe again just one step too far

2621
01:29:23,619 --> 01:29:27,579
and may not leveraging the fact that

2622
01:29:26,380 --> 01:29:29,409
different assets have different

2623
01:29:27,579 --> 01:29:30,850
qualities and so we can say like hey

2624
01:29:29,409 --> 01:29:33,189
animations only depend on this stuff and

2625
01:29:30,850 --> 01:29:34,539
we know that it's a bounded problem so I

2626
01:29:33,189 --> 01:29:36,189
think that's probably that's probably

2627
01:29:34,539 --> 01:29:37,840
why there's that if that's different

2628
01:29:36,189 --> 01:29:40,149
yeah but then like you said the flip

2629
01:29:37,840 --> 01:29:42,489
side is that we then buy into this idea

2630
01:29:40,149 --> 01:29:44,349
of having large numbers of little little

2631
01:29:42,488 --> 01:29:49,089
files on a file server and we ran into

2632
01:29:44,350 --> 01:29:50,710
that and also I suppose you also how the

2633
01:29:49,090 --> 01:29:53,440
situation is like well okay so now there

2634
01:29:50,710 --> 01:29:54,970
is cognitive load for everybody who's

2635
01:29:53,439 --> 01:29:56,349
ever dealing with these where like I now

2636
01:29:54,970 --> 01:29:58,210
have to understand the concept that I

2637
01:29:56,350 --> 01:29:59,710
need to set these dependencies up

2638
01:29:58,210 --> 01:30:01,149
properly and think about how I'm you

2639
01:29:59,710 --> 01:30:03,970
know specifying what needs to get built

2640
01:30:01,149 --> 01:30:06,609
for what which you know if you imagine

2641
01:30:03,970 --> 01:30:08,470
the intelligent system had worked right

2642
01:30:06,609 --> 01:30:09,399
right you could get rid of so it's like

2643
01:30:08,470 --> 01:30:10,570
it's kind of this thing it's like all

2644
01:30:09,399 --> 01:30:12,009
right but we're just saying you know we

2645
01:30:10,569 --> 01:30:13,199
just don't think it's gonna Rhino we

2646
01:30:12,010 --> 01:30:15,670
don't think we're gonna get there or

2647
01:30:13,199 --> 01:30:18,340
yeah exactly I mean think about it like

2648
01:30:15,670 --> 01:30:22,119
any game you ship if there's this

2649
01:30:18,340 --> 01:30:24,340
absolute sort of platonic perfection of

2650
01:30:22,119 --> 01:30:27,039
the system and then there's the reality

2651
01:30:24,340 --> 01:30:28,449
of what you actually ship right and it

2652
01:30:27,039 --> 01:30:30,310
sounds like they were trying to go for

2653
01:30:28,449 --> 01:30:32,500
as close to that platonic perfection as

2654
01:30:30,310 --> 01:30:34,210
possible with zero human error but the

2655
01:30:32,500 --> 01:30:37,479
cost they paid for that was just massive

2656
01:30:34,210 --> 01:30:38,949
real times in this explosion where as we

2657
01:30:37,479 --> 01:30:40,718
like to we actually go the other way

2658
01:30:38,949 --> 01:30:42,380
where we say let's just make errors as

2659
01:30:40,719 --> 01:30:43,880
obvious as possible so really

2660
01:30:42,380 --> 01:30:45,980
example is if there's a missing texture

2661
01:30:43,880 --> 01:30:47,869
it's the scrolling you know rainbow

2662
01:30:45,979 --> 01:30:49,849
thing it's just very obvious right or if

2663
01:30:47,869 --> 01:30:51,439
something fails to connect properly like

2664
01:30:49,850 --> 01:30:53,120
you know this guy said that he wanted

2665
01:30:51,439 --> 01:30:54,979
that asset but the asset was renamed and

2666
01:30:53,119 --> 01:30:56,119
so the connection is broken then it'll

2667
01:30:54,979 --> 01:30:57,439
just have a red error message over the

2668
01:30:56,119 --> 01:30:59,210
guy's head saying could not connect to

2669
01:30:57,439 --> 01:31:01,879
my nav master whatever these records

2670
01:30:59,210 --> 01:31:03,380
right so that's that's a port we take

2671
01:31:01,880 --> 01:31:04,969
yes we're gonna miss some things there's

2672
01:31:03,380 --> 01:31:06,650
definitely stuff in our game where

2673
01:31:04,969 --> 01:31:07,908
technically like we might not notice it

2674
01:31:06,649 --> 01:31:09,710
till we're playing it at home were like

2675
01:31:07,908 --> 01:31:12,138
oh darn it look at that that's a stupid

2676
01:31:09,710 --> 01:31:14,569
thing how did that get through you know

2677
01:31:12,139 --> 01:31:17,239
but that's the trade-off yeah well we

2678
01:31:14,569 --> 01:31:30,369
are out of time thank you so much for

2679
01:31:17,239 --> 01:31:30,369
[Applause]

