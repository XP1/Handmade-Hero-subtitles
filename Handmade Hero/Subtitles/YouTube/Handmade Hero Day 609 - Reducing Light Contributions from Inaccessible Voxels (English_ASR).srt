1
00:00:00,589 --> 00:00:04,560
hello everyone and welcome to hand made

2
00:00:03,209 --> 00:00:09,330
here oh sure we code a complete game

3
00:00:04,559 --> 00:00:11,910
live on stream i today actually I'm just

4
00:00:09,330 --> 00:00:15,150
gonna do what I said I would do in on

5
00:00:11,910 --> 00:00:17,399
the the Twitter I posted in the middle

6
00:00:15,150 --> 00:00:18,449
of the week or not I you know what

7
00:00:17,399 --> 00:00:20,729
actually was in the middle of the week I

8
00:00:18,449 --> 00:00:23,310
think it was like right after the stream

9
00:00:20,730 --> 00:00:28,320
or something or I don't know but last

10
00:00:23,309 --> 00:00:30,419
Sunday we had tried to put in some debug

11
00:00:28,320 --> 00:00:33,299
visualization of the lighting values at

12
00:00:30,420 --> 00:00:36,780
various locations in the lighting voxel

13
00:00:33,299 --> 00:00:40,799
and they were just like wildly weird and

14
00:00:36,780 --> 00:00:42,239
wrong and during that stream I said even

15
00:00:40,799 --> 00:00:43,619
as I was debugging it in fact there was

16
00:00:42,238 --> 00:00:46,169
a whole section of that stream where I

17
00:00:43,619 --> 00:00:49,679
was just lamenting how bad programming

18
00:00:46,170 --> 00:00:51,989
languages are at managing indexes and

19
00:00:49,679 --> 00:00:54,149
how if you want to actually have some

20
00:00:51,988 --> 00:00:55,878
protection or guarantee that you're

21
00:00:54,149 --> 00:00:57,750
indexing schemes are right it requires

22
00:00:55,878 --> 00:01:00,358
writing all of this additional

23
00:00:57,750 --> 00:01:02,280
structures and code that just like piles

24
00:01:00,359 --> 00:01:03,750
up and is a waste of your time and what

25
00:01:02,280 --> 00:01:05,460
you really want is some way more

26
00:01:03,750 --> 00:01:06,629
efficient way of checking your indexing

27
00:01:05,459 --> 00:01:10,798
to make sure that you're doing it

28
00:01:06,629 --> 00:01:12,649
consistently and I said I bet this bug

29
00:01:10,799 --> 00:01:15,570
is going to be an index bug and then

30
00:01:12,650 --> 00:01:17,189
maybe I don't know how long after a day

31
00:01:15,569 --> 00:01:20,188
after oh maybe it was only a few hours

32
00:01:17,188 --> 00:01:23,789
after I don't remember I was sitting on

33
00:01:20,188 --> 00:01:25,169
the couch and I realized like oh wait it

34
00:01:23,790 --> 00:01:27,450
just kind of popped into my head I was

35
00:01:25,170 --> 00:01:28,859
like oh I know what our bug was and it

36
00:01:27,450 --> 00:01:31,909
was exactly what I said it was going to

37
00:01:28,859 --> 00:01:36,560
be it's an indexing scheme bug and I

38
00:01:31,909 --> 00:01:39,990
posted a link to the line of source code

39
00:01:36,560 --> 00:01:41,700
so what we're gonna do today is just

40
00:01:39,989 --> 00:01:42,989
talk about well we're not gonna talk

41
00:01:41,700 --> 00:01:46,140
about it I guess I'm just gonna show you

42
00:01:42,989 --> 00:01:51,328
what it was and then we're gonna go from

43
00:01:46,140 --> 00:01:53,609
there so if we get our drive substance

44
00:01:51,328 --> 00:01:55,859
and also I'm kind of like a little bit

45
00:01:53,609 --> 00:01:59,968
off kilter here my keyboard is not set

46
00:01:55,859 --> 00:02:03,180
up the way I would like okay so if we go

47
00:01:59,968 --> 00:02:04,890
ahead and load up handmade hero here I

48
00:02:03,180 --> 00:02:07,500
can show you well first I can show you

49
00:02:04,890 --> 00:02:09,360
what the bug actually was which I don't

50
00:02:07,500 --> 00:02:11,489
know if we left where we left the

51
00:02:09,360 --> 00:02:13,200
compile so I may have to flip a few

52
00:02:11,489 --> 00:02:13,590
switches on the compile to get us back

53
00:02:13,199 --> 00:02:19,019
to

54
00:02:13,590 --> 00:02:20,789
the bug actually was but I can show you

55
00:02:19,020 --> 00:02:23,010
what the bug was and then I can explain

56
00:02:20,789 --> 00:02:26,098
why a simple indexing error produced

57
00:02:23,009 --> 00:02:29,639
this bug so you can see this is actually

58
00:02:26,098 --> 00:02:31,979
the the lighting solution from the

59
00:02:29,639 --> 00:02:33,750
previous round this is not the grid ray

60
00:02:31,979 --> 00:02:37,049
tracer we're we're in the process of

61
00:02:33,750 --> 00:02:38,909
Devon yet this is the old AABB tracer

62
00:02:37,050 --> 00:02:41,189
and you can see that the lighting in the

63
00:02:38,909 --> 00:02:43,019
world is relatively correct like as I

64
00:02:41,189 --> 00:02:45,870
move this one light is that the light is

65
00:02:43,019 --> 00:02:48,090
this cage is being drawn around the

66
00:02:45,870 --> 00:02:50,280
light there as I move this light around

67
00:02:48,090 --> 00:02:52,129
you can see you know that it that it

68
00:02:50,280 --> 00:02:54,900
responds the way you would expect

69
00:02:52,129 --> 00:02:56,129
lighting wise for the most part we you

70
00:02:54,900 --> 00:02:57,599
know haven't done a lighting quality

71
00:02:56,129 --> 00:03:00,568
pass on it so there's probably some

72
00:02:57,599 --> 00:03:02,039
issues with it but it's not nonsensical

73
00:03:00,568 --> 00:03:04,919
like you can see that the light relative

74
00:03:02,039 --> 00:03:07,620
you know behaves relatively sanely as we

75
00:03:04,919 --> 00:03:11,518
move throughout the environment when we

76
00:03:07,620 --> 00:03:14,879
look however at the debug values you can

77
00:03:11,519 --> 00:03:18,599
see that they make like effectively no

78
00:03:14,879 --> 00:03:21,930
sense at all so looking at these values

79
00:03:18,599 --> 00:03:24,389
you can kind of see that as I you know

80
00:03:21,930 --> 00:03:26,969
just sort of look at their

81
00:03:24,389 --> 00:03:29,399
directionality they're pointing in

82
00:03:26,969 --> 00:03:32,400
completely completely nonsensical

83
00:03:29,400 --> 00:03:35,280
directions relative to the light source

84
00:03:32,400 --> 00:03:37,439
so you know I just don't know like

85
00:03:35,280 --> 00:03:40,530
what's going on right and that's where

86
00:03:37,439 --> 00:03:41,879
we left the stream last time I was like

87
00:03:40,530 --> 00:03:43,859
it's really weird and I tried to look

88
00:03:41,879 --> 00:03:45,599
you know at a couple things that maybe

89
00:03:43,859 --> 00:03:48,900
could cause that we didn't find anything

90
00:03:45,599 --> 00:03:50,789
and I said you know this is gonna be an

91
00:03:48,900 --> 00:03:53,039
indexing bug because all bugs that take

92
00:03:50,789 --> 00:03:56,250
you no more than 30 minutes to solve our

93
00:03:53,039 --> 00:03:58,409
indexing bugs and you know that's

94
00:03:56,250 --> 00:04:01,709
exactly what happened at least I think

95
00:03:58,409 --> 00:04:06,769
so you know maybe I'm wrong but if we

96
00:04:01,709 --> 00:04:09,599
look at what was going on here my my

97
00:04:06,769 --> 00:04:11,789
realization and I won't quite pull up

98
00:04:09,599 --> 00:04:14,039
the code yet my realization was wait a

99
00:04:11,789 --> 00:04:16,649
minute we're trying to draw a subset of

100
00:04:14,039 --> 00:04:21,209
the grid but did we ever actually offset

101
00:04:16,649 --> 00:04:23,189
our sample and what you can see if we go

102
00:04:21,209 --> 00:04:27,090
look at the actual code now we made a

103
00:04:23,189 --> 00:04:28,860
special piece of code for this I don't

104
00:04:27,089 --> 00:04:30,750
remember what it was called let me take

105
00:04:28,860 --> 00:04:34,410
a look at the functions I think it was

106
00:04:30,750 --> 00:04:36,089
just like debug it was head debug in

107
00:04:34,410 --> 00:04:40,560
front of it and it was like draw maybe

108
00:04:36,089 --> 00:04:43,349
octahedral values it's this so if you

109
00:04:40,560 --> 00:04:46,168
look at what happens you can see we're

110
00:04:43,350 --> 00:04:48,660
looping over the X Y Z of the debug dim

111
00:04:46,168 --> 00:04:50,490
so that's the region that's the size of

112
00:04:48,660 --> 00:04:53,430
the region we want which is a quarter of

113
00:04:50,490 --> 00:04:55,439
the voxel we are producing the

114
00:04:53,430 --> 00:04:58,769
coordinates by taking this Vox start

115
00:04:55,439 --> 00:05:00,269
value and looping over it right but then

116
00:04:58,769 --> 00:05:03,209
what you can see here is when we go to

117
00:05:00,269 --> 00:05:06,899
draw the value look it's just X Y Z

118
00:05:03,209 --> 00:05:09,209
right so we're using a zero based offset

119
00:05:06,899 --> 00:05:11,759
to pull the lighting values out but

120
00:05:09,209 --> 00:05:14,399
we're using an offset value to draw them

121
00:05:11,759 --> 00:05:16,918
so we're drawing them at the right place

122
00:05:14,399 --> 00:05:21,679
but we're loading them from the wrong

123
00:05:16,918 --> 00:05:28,049
place right and so we needed to do this

124
00:05:21,680 --> 00:05:29,819
right in order to get the correct values

125
00:05:28,050 --> 00:05:34,610
out of our system oops those should be

126
00:05:29,819 --> 00:05:37,680
lowercase and so again assuming em right

127
00:05:34,610 --> 00:05:39,360
just a simple indexing bug leads to

128
00:05:37,680 --> 00:05:41,490
something that's very hard to

129
00:05:39,360 --> 00:05:43,830
troubleshoot because either you think of

130
00:05:41,490 --> 00:05:46,829
looking at it or you don't

131
00:05:43,829 --> 00:05:49,079
so once we've made that change hopefully

132
00:05:46,829 --> 00:05:51,990
you can see now we're actually getting

133
00:05:49,079 --> 00:05:55,259
very same results out of the system

134
00:05:51,990 --> 00:05:58,288
right so you can pretty much see like

135
00:05:55,259 --> 00:06:00,000
all of these lighting values coming and

136
00:05:58,288 --> 00:06:02,129
they're pointing back at the light

137
00:06:00,000 --> 00:06:05,279
source which is what we would expect we

138
00:06:02,129 --> 00:06:07,259
probably want to constrain the length of

139
00:06:05,279 --> 00:06:09,899
these values a little bit more than we

140
00:06:07,259 --> 00:06:11,639
are right now we had kind of just played

141
00:06:09,899 --> 00:06:13,019
around with that while we were working

142
00:06:11,639 --> 00:06:15,000
on it because we didn't really know what

143
00:06:13,019 --> 00:06:19,469
was going on but now that we have a

144
00:06:15,000 --> 00:06:22,889
saying you know effect we can truncate

145
00:06:19,470 --> 00:06:24,660
these lines to something a little bit

146
00:06:22,889 --> 00:06:27,780
more sane so that we can just make sure

147
00:06:24,660 --> 00:06:30,900
that we're only really looking at values

148
00:06:27,779 --> 00:06:32,699
that are there with you know values that

149
00:06:30,899 --> 00:06:36,060
are within the range of what we expect

150
00:06:32,699 --> 00:06:38,009
for the lighting will be drawn you know

151
00:06:36,060 --> 00:06:39,649
with a reasonable size relative to their

152
00:06:38,009 --> 00:06:41,539
to their grid

153
00:06:39,649 --> 00:06:43,909
and so you can kind of see as I hop

154
00:06:41,540 --> 00:06:46,400
around now you know the lighting values

155
00:06:43,910 --> 00:06:49,820
actually make perfect sense you can see

156
00:06:46,399 --> 00:06:53,359
now that when we look at the direction

157
00:06:49,819 --> 00:06:56,120
of you know remember these octahedral

158
00:06:53,360 --> 00:06:59,509
maps are encoded in such a way that they

159
00:06:56,120 --> 00:07:01,129
point in a direction and say how much

160
00:06:59,509 --> 00:07:03,740
light is coming from that direction and

161
00:07:01,129 --> 00:07:09,800
these lines are just drawing the values

162
00:07:03,740 --> 00:07:11,389
of those octahedral maps that might be I

163
00:07:09,800 --> 00:07:16,430
don't know how do I feel about that that

164
00:07:11,389 --> 00:07:18,560
might be fine in terms of lighting size

165
00:07:16,430 --> 00:07:21,500
I don't know how we want to look at it

166
00:07:18,560 --> 00:07:23,720
but so now what I might do is go ahead

167
00:07:21,500 --> 00:07:26,930
in as well and just just to make sure

168
00:07:23,720 --> 00:07:30,050
that everything is is sort of kosher we

169
00:07:26,930 --> 00:07:34,639
in our room generator we turned off the

170
00:07:30,050 --> 00:07:36,889
lighting so we didn't have anything in

171
00:07:34,639 --> 00:07:38,930
here that would add lights to the system

172
00:07:36,889 --> 00:07:40,819
whereas before we did so we only had the

173
00:07:38,930 --> 00:07:44,060
debug light here is a system that has

174
00:07:40,819 --> 00:07:46,399
multiple lights so basically like you

175
00:07:44,060 --> 00:07:50,060
can see now there's a number of lights

176
00:07:46,399 --> 00:07:53,478
hovering around and so you know looking

177
00:07:50,060 --> 00:07:56,538
at this I guess I would say I don't know

178
00:07:53,478 --> 00:07:58,339
if I can't say that that looks

179
00:07:56,538 --> 00:07:59,449
particularly convincing I mean you can

180
00:07:58,339 --> 00:08:01,819
see that there's a little bit more there

181
00:07:59,449 --> 00:08:04,158
but it doesn't really look like we're

182
00:08:01,819 --> 00:08:06,019
getting much lighting from some of these

183
00:08:04,158 --> 00:08:09,500
ants Larry lights not as much as I would

184
00:08:06,019 --> 00:08:11,959
expect anyway maybe they're very dim and

185
00:08:09,500 --> 00:08:13,250
I guess that is kind of true like if I

186
00:08:11,959 --> 00:08:17,089
look at the lighting there there's

187
00:08:13,250 --> 00:08:20,269
there's not maybe as bright of a patch

188
00:08:17,089 --> 00:08:23,000
as is around me so it could be that it's

189
00:08:20,269 --> 00:08:25,009
just a little bit of that in the mix let

190
00:08:23,000 --> 00:08:26,569
me move over here a little bit just so

191
00:08:25,009 --> 00:08:31,550
we can see well I guess I don't know

192
00:08:26,569 --> 00:08:34,278
maybe I can't so you can kind of see

193
00:08:31,550 --> 00:08:36,229
there as I move through here you know

194
00:08:34,278 --> 00:08:37,879
yeah there is still light coming from

195
00:08:36,229 --> 00:08:41,120
there and I just like I said don't

196
00:08:37,879 --> 00:08:42,528
really know if that's just because those

197
00:08:41,120 --> 00:08:43,759
light values aren't enough I mean you

198
00:08:42,528 --> 00:08:48,078
can sort of see that it's coming from

199
00:08:43,759 --> 00:08:50,870
there so so I don't know it's not

200
00:08:48,078 --> 00:08:57,439
obviously correct I'm not psyched about

201
00:08:50,870 --> 00:08:59,000
it to be completely honest so it's hard

202
00:08:57,440 --> 00:09:00,740
to say you know I couldn't really tell

203
00:08:59,000 --> 00:09:04,789
you if that was if that was right or

204
00:09:00,740 --> 00:09:09,139
wrong I mean maybe it is I don't know so

205
00:09:04,789 --> 00:09:11,480
hard to say but you know whatever

206
00:09:09,139 --> 00:09:12,919
at least at this point I feel a little

207
00:09:11,480 --> 00:09:15,350
bit more confident that we're drawing

208
00:09:12,919 --> 00:09:18,860
the actual values and that was really

209
00:09:15,350 --> 00:09:20,720
the part that I wanted to get to let me

210
00:09:18,860 --> 00:09:24,620
see what happens if I jacked up the

211
00:09:20,720 --> 00:09:27,680
lighting value here so if you look at ad

212
00:09:24,620 --> 00:09:31,278
piece light it oops well it's probably

213
00:09:27,679 --> 00:09:35,049
right here yeah here's our values so

214
00:09:31,278 --> 00:09:38,000
here's the radius here's the location

215
00:09:35,049 --> 00:09:40,189
relative to the base and here's the

216
00:09:38,000 --> 00:09:42,019
emission value so I don't know like

217
00:09:40,190 --> 00:09:45,650
what's our debug light because I don't

218
00:09:42,019 --> 00:09:57,199
know if we go to the world mode and just

219
00:09:45,649 --> 00:10:05,208
look at the debug light part so where

220
00:09:57,200 --> 00:10:08,600
does that actually get recorded so what

221
00:10:05,208 --> 00:10:10,849
you can see here is this does a push

222
00:10:08,600 --> 00:10:13,129
light and it just pushes one when one so

223
00:10:10,850 --> 00:10:17,300
you know I'll be honest I don't quite

224
00:10:13,129 --> 00:10:22,879
understand why the emission levels there

225
00:10:17,299 --> 00:10:25,399
would be oh well okay so actually I

226
00:10:22,879 --> 00:10:28,549
guess I do if you look at these numbers

227
00:10:25,399 --> 00:10:30,588
these are not one one one so I guess the

228
00:10:28,549 --> 00:10:34,539
lamp does have like a lighting color

229
00:10:30,589 --> 00:10:36,829
associated with it so I suppose that's

230
00:10:34,539 --> 00:10:39,198
maybe where that comes from

231
00:10:36,828 --> 00:10:41,899
so if I doubled this it would be back up

232
00:10:39,198 --> 00:10:44,778
towards a 1 1 1 light so maybe we can

233
00:10:41,899 --> 00:10:47,078
look in that and see what that looks

234
00:10:44,778 --> 00:10:47,078
like

235
00:10:49,940 --> 00:10:53,850
so there you can see a little more

236
00:10:52,080 --> 00:10:55,770
clearly that there is light coming from

237
00:10:53,850 --> 00:10:57,680
that direction so maybe this was just

238
00:10:55,769 --> 00:11:00,689
that these lights were a little too dim

239
00:10:57,679 --> 00:11:05,120
to show up in the system as well as you

240
00:11:00,690 --> 00:11:07,620
know as they as the debug light

241
00:11:05,120 --> 00:11:11,009
yeah and so that's a little bit clearer

242
00:11:07,620 --> 00:11:16,620
you can see you know getting more light

243
00:11:11,009 --> 00:11:19,350
gathering from this from here what I

244
00:11:16,620 --> 00:11:24,379
will say is that you can kind of see

245
00:11:19,350 --> 00:11:30,269
however that that there is a fair bit of

246
00:11:24,379 --> 00:11:31,980
just just overall bad targeting and this

247
00:11:30,269 --> 00:11:36,329
is one of the reasons that you know we

248
00:11:31,980 --> 00:11:37,830
sort of had that brief thought and we we

249
00:11:36,330 --> 00:11:39,780
put in a little bit of work towards but

250
00:11:37,830 --> 00:11:42,740
we never really it was never really

251
00:11:39,779 --> 00:11:45,480
quite something we wanted to do

252
00:11:42,740 --> 00:11:49,049
particularly specifically but you can

253
00:11:45,480 --> 00:11:50,759
kind of see that for lights that happen

254
00:11:49,049 --> 00:11:56,519
to have sphere values that are very

255
00:11:50,759 --> 00:11:58,259
close to the where the thing is then you

256
00:11:56,519 --> 00:12:01,409
you hit them in other ones don't I

257
00:11:58,259 --> 00:12:04,259
wonder if we might need a denser

258
00:12:01,409 --> 00:12:06,779
covering of the sphere to ensure that we

259
00:12:04,259 --> 00:12:11,269
actually hit these things because right

260
00:12:06,779 --> 00:12:14,480
now we may just not be producing enough

261
00:12:11,269 --> 00:12:18,689
right like we may not be producing a

262
00:12:14,480 --> 00:12:27,690
sufficiently large number of shots in

263
00:12:18,690 --> 00:12:30,180
that direction you know I'm saying so I

264
00:12:27,690 --> 00:12:35,570
think the the important thing here is

265
00:12:30,179 --> 00:12:39,120
just to like it's just to remember okay

266
00:12:35,570 --> 00:12:41,220
we we don't really know to what extent

267
00:12:39,120 --> 00:12:43,590
we're doing a good job with targeting

268
00:12:41,220 --> 00:12:45,750
and or with you know with any of those

269
00:12:43,590 --> 00:12:47,490
ancillary parts so let's just keep that

270
00:12:45,750 --> 00:12:50,429
in the back of our mind and we may want

271
00:12:47,490 --> 00:12:52,560
to augment some things to improve to

272
00:12:50,429 --> 00:12:55,859
improve that behavior but otherwise I do

273
00:12:52,559 --> 00:13:00,959
think we're roughly okay here like this

274
00:12:55,860 --> 00:13:02,129
this looks you know better but I

275
00:13:00,960 --> 00:13:02,879
definitely think there's improvement

276
00:13:02,129 --> 00:13:06,809
there

277
00:13:02,879 --> 00:13:07,470
the other thing that I think is this to

278
00:13:06,809 --> 00:13:10,649
me

279
00:13:07,470 --> 00:13:14,220
argues that maybe our Cube caster as

280
00:13:10,649 --> 00:13:16,740
well can can definitely be a much better

281
00:13:14,220 --> 00:13:20,160
solution than the AABB one and the

282
00:13:16,740 --> 00:13:24,389
reason I say that is because that caster

283
00:13:20,159 --> 00:13:27,179
the cube cast the you know the voxel the

284
00:13:24,389 --> 00:13:31,379
grid stepping one the grid stepping

285
00:13:27,179 --> 00:13:34,289
tracer is capable of doing things like

286
00:13:31,379 --> 00:13:37,320
bucket-brigade movement of lighting from

287
00:13:34,289 --> 00:13:40,079
cube to cube that this tracer is not at

288
00:13:37,320 --> 00:13:41,250
the moment although I guess we could

289
00:13:40,080 --> 00:13:44,580
augment it to do so

290
00:13:41,250 --> 00:13:47,370
and because of that I think we'd have a

291
00:13:44,580 --> 00:13:49,770
better time of taking hits to bright

292
00:13:47,370 --> 00:13:54,060
lighting and moving them backward you

293
00:13:49,769 --> 00:13:56,819
know so propagating them to other to

294
00:13:54,059 --> 00:14:00,419
other squares and that I think would be

295
00:13:56,820 --> 00:14:04,140
a good improvement right over this

296
00:14:00,419 --> 00:14:06,509
system so I think we've got what we want

297
00:14:04,139 --> 00:14:08,429
now and so I think now the main thing we

298
00:14:06,509 --> 00:14:11,759
need to do is start the lighting quality

299
00:14:08,429 --> 00:14:14,729
work and get the cube caster working

300
00:14:11,759 --> 00:14:16,169
well and we may have to do some

301
00:14:14,730 --> 00:14:18,060
debugging of specifically the cube

302
00:14:16,169 --> 00:14:20,789
caster I don't know if there are some

303
00:14:18,059 --> 00:14:23,339
bugs in there at the moment that are

304
00:14:20,789 --> 00:14:25,980
causing us problems we know that we're

305
00:14:23,340 --> 00:14:29,460
getting way too bright results from it

306
00:14:25,980 --> 00:14:32,250
but we don't actually specifically know

307
00:14:29,460 --> 00:14:35,700
why so it could be and you can kind of

308
00:14:32,250 --> 00:14:39,000
see here what I mean mmm when we switch

309
00:14:35,700 --> 00:14:42,810
to the cube caster the the the numbers

310
00:14:39,000 --> 00:14:44,940
drive towards infinity so they keep

311
00:14:42,809 --> 00:14:47,639
getting larger and larger and larger and

312
00:14:44,940 --> 00:14:51,410
larger until they're just you know

313
00:14:47,639 --> 00:14:55,889
basically you know in or whatever

314
00:14:51,409 --> 00:14:57,679
they'll there's a positive feedback loop

315
00:14:55,889 --> 00:15:01,949
that just adds energy to the system

316
00:14:57,679 --> 00:15:05,819
effectively forever so the question is

317
00:15:01,950 --> 00:15:08,940
what do we do about that because we

318
00:15:05,820 --> 00:15:13,170
don't really know exactly where that

319
00:15:08,940 --> 00:15:14,850
feedback loop is coming from and we

320
00:15:13,169 --> 00:15:16,639
don't know to what extent that feedback

321
00:15:14,850 --> 00:15:19,490
loop is just the result of

322
00:15:16,639 --> 00:15:20,929
not having gone through and actually

323
00:15:19,490 --> 00:15:23,000
done the lighting quality pass where

324
00:15:20,929 --> 00:15:24,589
we've managed the values properly and

325
00:15:23,000 --> 00:15:27,649
know what they all mean and how they

326
00:15:24,590 --> 00:15:30,680
should propagate or if it's just the

327
00:15:27,649 --> 00:15:33,740
case of there's bugs in the actual cube

328
00:15:30,679 --> 00:15:36,079
caster that themselves are creating

329
00:15:33,740 --> 00:15:39,710
artificial feedback loops or positive

330
00:15:36,080 --> 00:15:42,680
energy injection that shouldn't be there

331
00:15:39,710 --> 00:15:44,920
right so we the key thing here to

332
00:15:42,679 --> 00:15:48,799
understand is that we don't really know

333
00:15:44,919 --> 00:15:51,409
what kind of bug we have yet and so

334
00:15:48,799 --> 00:15:53,839
we're gonna kind of start the lighting

335
00:15:51,409 --> 00:15:55,549
quality work but the reason we're

336
00:15:53,840 --> 00:15:57,519
starting the letting quality work is not

337
00:15:55,549 --> 00:16:00,439
because we think the cube caster works

338
00:15:57,519 --> 00:16:03,919
it's because I don't think there's any

339
00:16:00,440 --> 00:16:07,600
particular way that we can debug the

340
00:16:03,919 --> 00:16:13,299
cube casters current issues without

341
00:16:07,600 --> 00:16:16,700
actually knowing we have a more robust

342
00:16:13,299 --> 00:16:21,139
definition of what should be happening

343
00:16:16,700 --> 00:16:25,670
to the light so we need to start working

344
00:16:21,139 --> 00:16:28,759
out real measures of what we expect to

345
00:16:25,669 --> 00:16:31,909
happen and a solid definition of how it

346
00:16:28,759 --> 00:16:33,259
should happen because without that we're

347
00:16:31,909 --> 00:16:35,480
never going to be able to debug the

348
00:16:33,259 --> 00:16:37,129
system that's what I would argue because

349
00:16:35,480 --> 00:16:42,230
something like a positive feedback loop

350
00:16:37,129 --> 00:16:45,019
can just as easily happen from a poorly

351
00:16:42,230 --> 00:16:48,019
thought-out mathematical scheme for

352
00:16:45,019 --> 00:16:50,779
distributing the light as it can from a

353
00:16:48,019 --> 00:16:52,639
just a straight-up bug so it could very

354
00:16:50,779 --> 00:16:54,889
well be that this system is working

355
00:16:52,639 --> 00:16:57,259
exactly as intended and maybe it's just

356
00:16:54,889 --> 00:17:00,080
a better system for gathering light than

357
00:16:57,259 --> 00:17:02,689
our previous caster and it just exposes

358
00:17:00,080 --> 00:17:04,690
an underlying mathematical issue with

359
00:17:02,690 --> 00:17:08,088
the way that we're treating light and

360
00:17:04,690 --> 00:17:11,480
it's expected that it should blow up the

361
00:17:08,088 --> 00:17:15,019
way it does right and so differentiating

362
00:17:11,480 --> 00:17:18,078
between those two scenarios is our news

363
00:17:15,019 --> 00:17:20,299
our goal now and so we want to have ways

364
00:17:18,078 --> 00:17:21,889
we can visualize what's supposed to

365
00:17:20,299 --> 00:17:24,349
happen and that's why I started you know

366
00:17:21,890 --> 00:17:26,810
that's that's why I wanted that drawing

367
00:17:24,349 --> 00:17:29,089
we also added something that I think

368
00:17:26,809 --> 00:17:29,679
will be very useful if we go to the

369
00:17:29,089 --> 00:17:33,250
world mode

370
00:17:29,680 --> 00:17:36,670
code I also have an F key press thing in

371
00:17:33,250 --> 00:17:39,099
here where I could do f9 each time to

372
00:17:36,670 --> 00:17:41,350
update the lining and so that's another

373
00:17:39,099 --> 00:17:43,539
thing that we're probably going to want

374
00:17:41,349 --> 00:17:47,559
to make use of and just augment so if in

375
00:17:43,539 --> 00:17:50,170
here I hit f9 what you can see is here

376
00:17:47,559 --> 00:17:53,379
is first of all an example raycast which

377
00:17:50,170 --> 00:17:55,750
is useful and second you can see the

378
00:17:53,380 --> 00:17:57,670
lighting values after one step of the

379
00:17:55,750 --> 00:18:00,099
lighting propagation and I'm still the

380
00:17:57,670 --> 00:18:01,960
game is still running right but it's

381
00:18:00,099 --> 00:18:04,419
just not running the lighting solution

382
00:18:01,960 --> 00:18:08,500
it freezes the state of the lighting

383
00:18:04,420 --> 00:18:11,650
solution in place and then I can go

384
00:18:08,500 --> 00:18:14,980
ahead and I can just step right single

385
00:18:11,650 --> 00:18:18,370
step the lighting each time and you can

386
00:18:14,980 --> 00:18:22,870
see the light propagate through the

387
00:18:18,369 --> 00:18:25,299
world via the cube caster and so there's

388
00:18:22,869 --> 00:18:28,509
a couple things that you can see

389
00:18:25,299 --> 00:18:31,480
happening here and I guess what I would

390
00:18:28,509 --> 00:18:38,230
say is even just that is probably

391
00:18:31,480 --> 00:18:41,620
sufficient for me to to see a particular

392
00:18:38,230 --> 00:18:46,890
type of what I think is is a bug or at

393
00:18:41,619 --> 00:18:49,479
least something we have to rectify and

394
00:18:46,890 --> 00:18:51,310
it's probably where we should focus our

395
00:18:49,480 --> 00:18:54,490
attention first because it will be the

396
00:18:51,309 --> 00:19:01,509
the most straightforward place we can

397
00:18:54,490 --> 00:19:05,740
measure our success so if I run the game

398
00:19:01,509 --> 00:19:07,450
and I look and I and I think you know

399
00:19:05,740 --> 00:19:09,490
what I should do this and I think if I

400
00:19:07,450 --> 00:19:10,930
go back to the if I turn off all the

401
00:19:09,490 --> 00:19:11,230
lights so we can just simplify our

402
00:19:10,930 --> 00:19:13,450
problem

403
00:19:11,230 --> 00:19:16,059
turn off all the lights except the one

404
00:19:13,450 --> 00:19:19,299
that's just centered around the hero so

405
00:19:16,059 --> 00:19:23,440
exactly the way we started the day we go

406
00:19:19,299 --> 00:19:26,799
back there so if I start there what I

407
00:19:23,440 --> 00:19:30,039
should be able to do now is in the game

408
00:19:26,799 --> 00:19:32,289
itself I should be able to single-step

409
00:19:30,039 --> 00:19:34,389
the lighting we know that all the lights

410
00:19:32,289 --> 00:19:38,440
coming from here and distributing out to

411
00:19:34,390 --> 00:19:42,850
the cubes as I step it what you can see

412
00:19:38,440 --> 00:19:48,870
is you get the lighting

413
00:19:42,849 --> 00:19:52,779
from these parts bleed through the wall

414
00:19:48,869 --> 00:19:55,569
quite dramatically right so you know as

415
00:19:52,779 --> 00:20:00,490
I'm single stepping this you can see the

416
00:19:55,569 --> 00:20:03,669
light leaking through the wall and you

417
00:20:00,490 --> 00:20:05,529
know moving bucket by bucket sort of

418
00:20:03,670 --> 00:20:07,660
forward and that's what's going on here

419
00:20:05,529 --> 00:20:10,329
right like this is hitting these Ray

420
00:20:07,660 --> 00:20:14,070
casts are hitting here gathering light

421
00:20:10,329 --> 00:20:18,149
from here and moving them backward right

422
00:20:14,069 --> 00:20:28,889
you can sort of see that happening right

423
00:20:18,150 --> 00:20:28,890
now there's a couple things about that

424
00:20:29,460 --> 00:20:35,019
so the very first thing that I think is

425
00:20:32,410 --> 00:20:39,490
clearly buggy about this and so what I'd

426
00:20:35,019 --> 00:20:43,289
like to look into first is let's take an

427
00:20:39,490 --> 00:20:47,259
example of how that would have to happen

428
00:20:43,289 --> 00:20:48,369
so if you imagine going back to the

429
00:20:47,259 --> 00:20:50,369
original lighting solution I should put

430
00:20:48,369 --> 00:20:54,989
in a key for clearing it - shouldn't I

431
00:20:50,369 --> 00:21:02,259
so if you were to look for example at

432
00:20:54,990 --> 00:21:03,940
specifically maybe like this part and I

433
00:21:02,259 --> 00:21:06,039
guess it's a bummer that I can't see

434
00:21:03,940 --> 00:21:11,200
those I should probably like clear the

435
00:21:06,039 --> 00:21:15,159
depth buffer at some point here and so

436
00:21:11,200 --> 00:21:18,819
that I can see these drawn through where

437
00:21:15,160 --> 00:21:20,950
the occluders are you know the other

438
00:21:18,819 --> 00:21:29,200
thing I could do is just not put them on

439
00:21:20,950 --> 00:21:31,690
there so one thing I could do is in the

440
00:21:29,200 --> 00:21:34,420
world's mode I'm sorry in the entity

441
00:21:31,690 --> 00:21:37,809
system one thing I could do really

442
00:21:34,420 --> 00:21:41,289
quickly is just turn off the drawing of

443
00:21:37,809 --> 00:21:44,169
the cubes themselves so when it adds an

444
00:21:41,289 --> 00:21:47,609
occluder I'll let it keep adding the

445
00:21:44,170 --> 00:21:52,900
occluder but I won't actually draw the

446
00:21:47,609 --> 00:21:54,879
you know the actual thing itself so let

447
00:21:52,900 --> 00:21:57,130
me see I don't know how easy that is to

448
00:21:54,880 --> 00:22:08,020
do but I'll take a look here

449
00:21:57,130 --> 00:22:11,170
so it looks like the way that it looks

450
00:22:08,019 --> 00:22:15,009
like this is the draw sprite code which

451
00:22:11,170 --> 00:22:17,529
I don't care about so it's really this

452
00:22:15,009 --> 00:22:21,730
so here's me pushing the occluder if I

453
00:22:17,529 --> 00:22:29,500
just don't push the cube right what I

454
00:22:21,730 --> 00:22:32,170
should see is all of the the sprites

455
00:22:29,500 --> 00:22:35,829
will still be in the world but the cubes

456
00:22:32,170 --> 00:22:38,710
just won't be right and so that allows

457
00:22:35,829 --> 00:22:41,919
me to sort of see through the walls here

458
00:22:38,710 --> 00:22:46,750
so here's where those wall points would

459
00:22:41,920 --> 00:22:53,400
be and as we run these what you should

460
00:22:46,750 --> 00:22:57,329
hopefully see right is that you know

461
00:22:53,400 --> 00:23:00,880
this is just garbage I mean this thing

462
00:22:57,329 --> 00:23:04,929
this thing is inside geometry at the

463
00:23:00,880 --> 00:23:07,870
moment and you know it's it's getting

464
00:23:04,930 --> 00:23:10,710
light from here somehow I'm not I guess

465
00:23:07,869 --> 00:23:13,179
I'm not sure I like how did it get

466
00:23:10,710 --> 00:23:14,200
information that light was coming from

467
00:23:13,180 --> 00:23:19,560
over here

468
00:23:14,200 --> 00:23:19,559
you know I just don't know and

469
00:23:24,380 --> 00:23:35,480
and I guess that kind of you know if I

470
00:23:27,619 --> 00:23:41,329
if if I look at the distribution of who

471
00:23:35,480 --> 00:23:43,370
is having these sort of ridiculous ideas

472
00:23:41,329 --> 00:23:45,349
about where the lights coming from it's

473
00:23:43,369 --> 00:23:48,279
it seems like kind of overwhelmingly

474
00:23:45,349 --> 00:23:51,439
people who are embedded in geometry and

475
00:23:48,279 --> 00:23:53,509
it's not necessarily a bad idea to let

476
00:23:51,440 --> 00:23:55,789
people embedded in geometry cast out

477
00:23:53,509 --> 00:23:58,009
from that geometry which I believe we do

478
00:23:55,789 --> 00:24:01,819
allow currently right like you can cast

479
00:23:58,009 --> 00:24:05,329
outward which is what what's supposed to

480
00:24:01,819 --> 00:24:06,799
happen there but well you know more

481
00:24:05,329 --> 00:24:10,879
specifically let's do something else

482
00:24:06,799 --> 00:24:13,339
real quick to let's take a look at what

483
00:24:10,880 --> 00:24:17,230
happens in the non grid lighting for

484
00:24:13,339 --> 00:24:17,230
that exact scenario because I'm curious

485
00:24:21,099 --> 00:24:36,679
so here's the non grid version and it's

486
00:24:34,490 --> 00:24:40,640
like I mean at the very least you can

487
00:24:36,680 --> 00:24:44,769
see that those do not record light

488
00:24:40,640 --> 00:24:44,770
coming from the other side right

489
00:24:49,630 --> 00:24:56,809
so at least what it sort of suggests to

490
00:24:53,000 --> 00:24:59,028
me and maybe this is just a trick of the

491
00:24:56,808 --> 00:25:02,000
eye but what that sort of suggests to me

492
00:24:59,028 --> 00:25:04,849
is that we should take a look at what

493
00:25:02,000 --> 00:25:07,130
happens when we are casting out from

494
00:25:04,849 --> 00:25:09,859
inside things because I have a couple

495
00:25:07,130 --> 00:25:22,809
ideas of how that probably would create

496
00:25:09,859 --> 00:25:22,808
issues and in fact in fact I think I

497
00:25:25,480 --> 00:25:33,980
think we may even want to gosh yeah we

498
00:25:31,669 --> 00:25:36,350
may even want to make a special code

499
00:25:33,980 --> 00:25:38,720
path for casting out from inside of

500
00:25:36,349 --> 00:25:41,000
things and the reason that I say that is

501
00:25:38,720 --> 00:25:42,798
because we do need interpolant for

502
00:25:41,000 --> 00:25:44,990
everywhere in the world like we need to

503
00:25:42,798 --> 00:25:48,048
be able to know what the lighting values

504
00:25:44,990 --> 00:25:50,808
should be as they blend because it's a

505
00:25:48,048 --> 00:25:55,190
sparse sampling right I mean it's a

506
00:25:50,808 --> 00:25:57,408
sparse sampling of stuff here and so we

507
00:25:55,190 --> 00:26:02,750
kind of need to always have a sample

508
00:25:57,409 --> 00:26:04,789
even if that sample is erroneous is in

509
00:26:02,750 --> 00:26:06,230
an erroneous location someplace or our

510
00:26:04,788 --> 00:26:07,700
shows impossible like a place where you

511
00:26:06,230 --> 00:26:11,028
can't sample the lighting because inside

512
00:26:07,700 --> 00:26:15,080
geometry but what I'm thinking is

513
00:26:11,028 --> 00:26:17,659
happening effectively is you know these

514
00:26:15,079 --> 00:26:20,869
cubes let's say I draw them just so you

515
00:26:17,659 --> 00:26:23,570
can see as for an illustration let's

516
00:26:20,869 --> 00:26:27,048
suppose I do instead of a push cube if I

517
00:26:23,569 --> 00:26:29,628
just do a push volume outline because I

518
00:26:27,048 --> 00:26:32,240
think I kind of starting to get a better

519
00:26:29,628 --> 00:26:34,548
idea of what's happening here I don't

520
00:26:32,240 --> 00:26:37,819
remember what that takes as parameters

521
00:26:34,548 --> 00:26:40,490
so let me just take a look here at what

522
00:26:37,819 --> 00:26:43,638
it actually wants so it takes a

523
00:26:40,490 --> 00:26:46,278
rectangle and a color and that's really

524
00:26:43,638 --> 00:26:47,778
all I need to specify I guess so if I

525
00:26:46,278 --> 00:26:53,450
was going to do a push volume outline it

526
00:26:47,778 --> 00:26:58,638
would be a rect centre-half dim on those

527
00:26:53,450 --> 00:27:00,288
two parameters no bitmap ID and the

528
00:26:58,638 --> 00:27:02,349
render groups so I think that's all I

529
00:27:00,288 --> 00:27:06,640
would need

530
00:27:02,349 --> 00:27:09,759
to draw these cubes so looking at what

531
00:27:06,640 --> 00:27:11,860
you get when you draw them here you can

532
00:27:09,759 --> 00:27:14,019
see all of the cubes as like a lattice

533
00:27:11,859 --> 00:27:17,019
right and and maybe I should pass like a

534
00:27:14,019 --> 00:27:19,960
thin thick like a thin thickness a

535
00:27:17,019 --> 00:27:23,289
thickness of significantly less than 0.1

536
00:27:19,960 --> 00:27:25,539
maybe I do a point O 1 here or 0.025

537
00:27:23,289 --> 00:27:27,960
just to make it a little easier to see

538
00:27:25,539 --> 00:27:31,509
those those lines were a bit overbearing

539
00:27:27,960 --> 00:27:35,048
so we find draw the grid here you can

540
00:27:31,509 --> 00:27:37,269
see where we've placed these volumes and

541
00:27:35,048 --> 00:27:40,720
you know what's going to happen and then

542
00:27:37,269 --> 00:27:43,418
if I do the f9 2 step the lighting once

543
00:27:40,720 --> 00:27:46,029
so when we start to look at what's going

544
00:27:43,419 --> 00:27:48,280
to happen for these lights that are

545
00:27:46,029 --> 00:27:50,460
contained here so here's what I'm afraid

546
00:27:48,279 --> 00:27:59,740
of and what I think might be happening

547
00:27:50,460 --> 00:28:01,960
when this it's casts outward yes we may

548
00:27:59,740 --> 00:28:05,200
have written the code properly so that

549
00:28:01,960 --> 00:28:07,419
it will allow you to cast out from a

550
00:28:05,200 --> 00:28:11,860
volume like this because I believe we

551
00:28:07,419 --> 00:28:14,350
ignore hits that are in the same facing

552
00:28:11,859 --> 00:28:16,899
direction as you we may not and so that

553
00:28:14,349 --> 00:28:19,779
may be an additional bug but let's

554
00:28:16,900 --> 00:28:23,080
suppose that that was correct even if we

555
00:28:19,779 --> 00:28:26,230
are handling that correctly when this

556
00:28:23,079 --> 00:28:30,579
casts backward in this direction it will

557
00:28:26,230 --> 00:28:33,130
hit this face of this cube and because

558
00:28:30,579 --> 00:28:35,769
we are not respecting the fact that this

559
00:28:33,130 --> 00:28:39,070
occluder will prevent us from going

560
00:28:35,769 --> 00:28:41,440
backwards we're going to record that as

561
00:28:39,069 --> 00:28:43,750
a hit and we're going to sample the

562
00:28:41,440 --> 00:28:46,660
lighting from here going that direction

563
00:28:43,750 --> 00:28:48,308
but we never should have been able to

564
00:28:46,660 --> 00:28:53,440
sample lighting coming from that

565
00:28:48,308 --> 00:28:56,529
direction right so when we are inside

566
00:28:53,440 --> 00:29:01,120
something I think what we probably need

567
00:28:56,529 --> 00:29:04,269
to do is we need to make sure that when

568
00:29:01,119 --> 00:29:06,789
we are going to sample the lighting we

569
00:29:04,269 --> 00:29:10,918
just sample the lighting going in the

570
00:29:06,789 --> 00:29:14,269
same direction as we cast in other words

571
00:29:10,919 --> 00:29:16,278
we we just want this

572
00:29:14,269 --> 00:29:18,229
have the lighting value that came from

573
00:29:16,278 --> 00:29:19,759
this direction because that's what this

574
00:29:18,229 --> 00:29:23,598
Square will have and we just want that

575
00:29:19,759 --> 00:29:25,639
to continue probably or I mean maybe we

576
00:29:23,598 --> 00:29:27,739
just want things inside to be zero is

577
00:29:25,638 --> 00:29:30,548
the other option right maybe we don't

578
00:29:27,739 --> 00:29:33,858
want them to have anything in particular

579
00:29:30,548 --> 00:29:35,628
but either way just treating them as

580
00:29:33,858 --> 00:29:39,199
nothing I don't think that's going to

581
00:29:35,628 --> 00:29:41,238
work so we may need to consider what to

582
00:29:39,200 --> 00:29:44,979
do when things are inside and we may

583
00:29:41,239 --> 00:29:44,979
need to just nullify them I don't know

584
00:29:54,159 --> 00:29:59,659
but I think that things inside existing

585
00:29:57,440 --> 00:30:04,519
structures I think we're going to have

586
00:29:59,659 --> 00:30:09,320
to take certain care to just do

587
00:30:04,519 --> 00:30:11,808
something different with them so again I

588
00:30:09,319 --> 00:30:14,989
really don't know what the best plan is

589
00:30:11,808 --> 00:30:17,569
for that but I think the first thing I'd

590
00:30:14,989 --> 00:30:24,709
like to try is let's start by maybe just

591
00:30:17,569 --> 00:30:29,418
zeroing those so you know at the head

592
00:30:24,709 --> 00:30:31,999
end we before we do our raycast

593
00:30:29,419 --> 00:30:35,538
we just check the square before we start

594
00:30:31,999 --> 00:30:39,769
any ray casting on it whatsoever and we

595
00:30:35,538 --> 00:30:45,078
just if that cubes inside one of our

596
00:30:39,769 --> 00:30:48,588
occluders we just zero it you know I'm

597
00:30:45,078 --> 00:30:53,898
saying we just we just blend in zero

598
00:30:48,588 --> 00:30:54,798
lighting at that point I'm not sure

599
00:30:53,898 --> 00:30:57,558
that's the right answer

600
00:30:54,798 --> 00:31:03,319
I'm just that's what I'm gonna try and

601
00:30:57,558 --> 00:31:05,328
if I go ahead and remove the in here if

602
00:31:03,319 --> 00:31:13,398
I go ahead and remove the the world mode

603
00:31:05,328 --> 00:31:15,979
stepped lighting so we just do that if I

604
00:31:13,398 --> 00:31:17,388
remove the stepped lighting I should

605
00:31:15,979 --> 00:31:18,588
actually you know what that's not the

606
00:31:17,388 --> 00:31:20,888
right way to do it why not just do it

607
00:31:18,588 --> 00:31:20,888
this way

608
00:31:21,368 --> 00:31:26,449
so they go ahead and remove the step

609
00:31:23,419 --> 00:31:29,570
lighting and let this run and do it sort

610
00:31:26,450 --> 00:31:32,450
of over braiding that happens

611
00:31:29,569 --> 00:31:36,439
oh well no sorry we have to also switch

612
00:31:32,450 --> 00:31:38,088
back to the grid base lighting I'm gonna

613
00:31:36,440 --> 00:31:41,119
go see what happens if I add something

614
00:31:38,088 --> 00:31:43,878
to nullify all the stuff that's inside

615
00:31:41,118 --> 00:31:47,148
the the walls just to see what effect

616
00:31:43,878 --> 00:31:48,648
that has on at least the light leakage

617
00:31:47,148 --> 00:31:51,738
so I don't suspect that will necessarily

618
00:31:48,648 --> 00:31:55,338
help me with our lighting growing

619
00:31:51,739 --> 00:31:58,190
without bounds here but this this part

620
00:31:55,338 --> 00:32:01,308
here where this leaks outside I'd like

621
00:31:58,190 --> 00:32:03,440
to see if that starts putting a damper

622
00:32:01,308 --> 00:32:06,918
on that process and it might not but

623
00:32:03,440 --> 00:32:10,159
we're gonna see so in order to do that I

624
00:32:06,919 --> 00:32:13,460
think the most effective way is inside

625
00:32:10,159 --> 00:32:23,509
the lighting system I probably want to

626
00:32:13,460 --> 00:32:25,460
make it so that the I just ideally don't

627
00:32:23,509 --> 00:32:28,848
want to spend any time thinking about

628
00:32:25,460 --> 00:32:31,460
those so I think I want to do this as a

629
00:32:28,848 --> 00:32:34,638
pre pass that basically says look when

630
00:32:31,460 --> 00:32:38,779
we dispatch to do a full cast on a cubed

631
00:32:34,638 --> 00:32:41,979
so you know if we

632
00:32:38,779 --> 00:32:41,980
[Music]

633
00:32:44,799 --> 00:32:51,859
here so if you look all of these are

634
00:32:49,400 --> 00:32:54,740
going to come from the same location so

635
00:32:51,859 --> 00:32:58,509
we pull the Ray origin out of the light

636
00:32:54,740 --> 00:32:58,509
probe p-value here that we're getting

637
00:32:59,980 --> 00:33:06,470
when we do that I think what we're gonna

638
00:33:04,160 --> 00:33:10,430
want to do is do the check right here

639
00:33:06,470 --> 00:33:13,279
right so we'll want to take this light

640
00:33:10,430 --> 00:33:15,740
probe P we already know because when we

641
00:33:13,279 --> 00:33:19,039
come through here we're literally going

642
00:33:15,740 --> 00:33:21,680
to pass exactly where you would start

643
00:33:19,039 --> 00:33:25,519
your grid walk so we know what the grid

644
00:33:21,680 --> 00:33:28,580
index is for this location that's just a

645
00:33:25,519 --> 00:33:31,849
known quantity right in fact we we have

646
00:33:28,579 --> 00:33:35,419
it right here so if we know we can load

647
00:33:31,849 --> 00:33:38,509
the initial grid index we should be able

648
00:33:35,420 --> 00:33:42,680
to do a pre pass on each cell just for

649
00:33:38,509 --> 00:33:45,470
the cell itself and check to see whether

650
00:33:42,680 --> 00:33:47,720
we're inside and if we are we can take a

651
00:33:45,470 --> 00:33:49,579
different route and avoid the entire

652
00:33:47,720 --> 00:33:52,789
grid cast altogether which will probably

653
00:33:49,579 --> 00:33:54,169
actually save us time in the grand

654
00:33:52,789 --> 00:33:57,529
scheme of things I don't know why I'm

655
00:33:54,170 --> 00:34:00,050
looking in the wrong file so if we take

656
00:33:57,529 --> 00:34:02,119
a look at the grid ray caster which is

657
00:34:00,049 --> 00:34:05,059
right here you can see this piece of

658
00:34:02,119 --> 00:34:08,449
code where we loop over the leaf indices

659
00:34:05,059 --> 00:34:11,000
and check them so here's an example of

660
00:34:08,449 --> 00:34:13,178
that code what I'd like to do here is

661
00:34:11,000 --> 00:34:15,469
say once we've pulled the Ray origin

662
00:34:13,179 --> 00:34:18,648
which is which is just this light

663
00:34:15,469 --> 00:34:21,469
p-value we're just going to go through

664
00:34:18,648 --> 00:34:23,898
and we're gonna check to see if the

665
00:34:21,469 --> 00:34:26,719
light probe p-value is inside one of

666
00:34:23,898 --> 00:34:29,599
these boxes right so we don't actually

667
00:34:26,719 --> 00:34:32,239
need all of this nonsense here we should

668
00:34:29,599 --> 00:34:35,509
be able to do this by just directly

669
00:34:32,239 --> 00:34:41,139
taking the comparator and saying are we

670
00:34:35,510 --> 00:34:41,140
inside and if we are then you know

671
00:34:43,050 --> 00:34:52,700
we can literally just go if not is

672
00:34:47,250 --> 00:34:52,699
inside or something like this right and

673
00:34:52,789 --> 00:35:01,110
we will just not do anything if we're

674
00:34:57,659 --> 00:35:03,210
not right so if we're not inside we

675
00:35:01,110 --> 00:35:06,059
wouldn't do anything now that's not

676
00:35:03,210 --> 00:35:11,849
exactly correct

677
00:35:06,059 --> 00:35:15,179
we would rather at that point write

678
00:35:11,849 --> 00:35:19,039
zeros in and if we look at the way that

679
00:35:15,179 --> 00:35:22,710
we're updating the the parts of the map

680
00:35:19,039 --> 00:35:26,719
we still kind of need to do this process

681
00:35:22,710 --> 00:35:31,550
right we need to pull the texels here

682
00:35:26,719 --> 00:35:35,909
and and update them so we may want to do

683
00:35:31,550 --> 00:35:38,990
something more like this in the long run

684
00:35:35,909 --> 00:35:55,409
but right now because these things and

685
00:35:38,989 --> 00:35:58,549
just to be clear just to be clear we

686
00:35:55,409 --> 00:36:02,339
don't care about this when we first

687
00:35:58,550 --> 00:36:09,690
start because we aren't moving any of

688
00:36:02,340 --> 00:36:13,500
these voxels we aren't moving the the

689
00:36:09,690 --> 00:36:15,360
volumes around so because we're not

690
00:36:13,500 --> 00:36:17,699
moving the volumes around if something's

691
00:36:15,360 --> 00:36:18,840
inside it will just be inside always and

692
00:36:17,699 --> 00:36:21,179
if something's outside it will be

693
00:36:18,840 --> 00:36:23,370
outside always so we don't have to worry

694
00:36:21,179 --> 00:36:27,599
about the case where a voxel cell was

695
00:36:23,369 --> 00:36:29,219
getting values and then it's not but we

696
00:36:27,599 --> 00:36:31,920
don't know that it's always going to be

697
00:36:29,219 --> 00:36:34,289
that way for all we know we may have a

698
00:36:31,920 --> 00:36:35,670
bunch of levels at some point where we

699
00:36:34,289 --> 00:36:37,980
are going to move those around which

700
00:36:35,670 --> 00:36:42,860
will cut will mean we'll have to handle

701
00:36:37,980 --> 00:36:42,860
extra stuff so we may say like

702
00:36:48,018 --> 00:36:54,718
so we may need to do a loop toward zero

703
00:36:51,420 --> 00:36:59,909
scheme here where we make that happen

704
00:36:54,719 --> 00:37:01,289
and again like I just don't know how we

705
00:36:59,909 --> 00:37:03,868
want to address that but we're going to

706
00:37:01,289 --> 00:37:05,640
have to do that and furthermore I don't

707
00:37:03,869 --> 00:37:09,809
know if we actually do our clears

708
00:37:05,639 --> 00:37:11,909
properly we might in fact I think we do

709
00:37:09,809 --> 00:37:13,469
so I think we're fine even though the

710
00:37:11,909 --> 00:37:15,748
grid moves around I think we're fine

711
00:37:13,469 --> 00:37:17,999
because we do clear it but the point is

712
00:37:15,748 --> 00:37:21,618
we want to handle looping towards zero

713
00:37:17,998 --> 00:37:24,268
here in case we ever have moving

714
00:37:21,619 --> 00:37:25,920
occluders which you know we we might

715
00:37:24,268 --> 00:37:27,958
want and there's probably other work

716
00:37:25,920 --> 00:37:31,170
we'd have to do to make moving occluders

717
00:37:27,958 --> 00:37:33,478
not look stupid but again we just want

718
00:37:31,170 --> 00:37:35,400
to make note of that so at the moment I

719
00:37:33,478 --> 00:37:40,679
won't actually do that and all we really

720
00:37:35,400 --> 00:37:41,759
need to do is look at this routine when

721
00:37:40,679 --> 00:37:44,219
we come through here and we have this

722
00:37:41,759 --> 00:37:46,708
rate origin now we have a box mint in

723
00:37:44,219 --> 00:37:49,769
box max all we need to do here is do a

724
00:37:46,708 --> 00:37:55,139
comparison we want to know if this thing

725
00:37:49,768 --> 00:37:57,358
is both inside is in is less than the

726
00:37:55,139 --> 00:38:00,018
min I started greater than the min less

727
00:37:57,358 --> 00:38:06,509
than the max because if our Ray origin

728
00:38:00,018 --> 00:38:10,649
is less than the the Box Max and it's

729
00:38:06,509 --> 00:38:13,469
greater than the Box min that's going to

730
00:38:10,650 --> 00:38:20,249
give us and you know honestly I said

731
00:38:13,469 --> 00:38:30,869
don't guess I don't know if we have

732
00:38:20,248 --> 00:38:34,498
these operators but it gave me still

733
00:38:30,869 --> 00:38:37,699
having coronavirus problems I don't

734
00:38:34,498 --> 00:38:37,698
actually know if I have coronavirus

735
00:38:39,798 --> 00:38:48,559
basically what we have here is a test

736
00:38:44,608 --> 00:38:48,558
for each of the bounds x y&amp;z

737
00:38:48,590 --> 00:38:54,530
each across four lanes and what we need

738
00:38:52,579 --> 00:38:57,829
to be able to do is we need to be able

739
00:38:54,530 --> 00:39:00,980
to collapse the x y&amp;z down into one set

740
00:38:57,829 --> 00:39:02,779
of lanes and then we need to look at

741
00:39:00,980 --> 00:39:04,610
what the mask actually tells us and as

742
00:39:02,780 --> 00:39:06,380
long as we're inside on any of them then

743
00:39:04,610 --> 00:39:08,090
we're inside because each one is a

744
00:39:06,380 --> 00:39:10,610
different box so we should be able to

745
00:39:08,090 --> 00:39:16,840
just do a single move mask and record

746
00:39:10,610 --> 00:39:20,090
that value so if I say use 16 is inside

747
00:39:16,840 --> 00:39:20,539
equals zero we should then have what we

748
00:39:20,090 --> 00:39:23,840
need

749
00:39:20,539 --> 00:39:25,940
I just have to collapse it down so if we

750
00:39:23,840 --> 00:39:28,100
go ahead and say well there's an F 3 to

751
00:39:25,940 --> 00:39:34,099
4x mask oops

752
00:39:28,099 --> 00:39:40,630
and that's in bounds X or in bounds Y or

753
00:39:34,099 --> 00:39:43,509
in bounds Z or sorry not or and that

754
00:39:40,630 --> 00:39:50,510
should give us what we need I think

755
00:39:43,510 --> 00:39:52,400
right and don't quote me on that now we

756
00:39:50,510 --> 00:39:54,140
don't actually have the node that we're

757
00:39:52,400 --> 00:39:57,500
looking at here is there it's

758
00:39:54,139 --> 00:40:01,429
complaining to about this so we don't

759
00:39:57,500 --> 00:40:05,659
have one of these for the v3 4x well you

760
00:40:01,429 --> 00:40:07,759
know I guess I don't know that I care

761
00:40:05,659 --> 00:40:14,710
about writing something like that I mean

762
00:40:07,760 --> 00:40:14,710
we could but I think this is fine right

763
00:40:17,320 --> 00:40:20,960
because again we don't really even know

764
00:40:19,579 --> 00:40:22,340
how we wanted we might want to try and

765
00:40:20,960 --> 00:40:23,360
do this in a more efficient way I mean

766
00:40:22,340 --> 00:40:25,910
who knows what we're gonna do in the

767
00:40:23,360 --> 00:40:27,050
future so I'm not going to go make an

768
00:40:25,909 --> 00:40:29,179
operator just for that because I'm not

769
00:40:27,050 --> 00:40:30,590
sure I really need it so I'm just going

770
00:40:29,179 --> 00:40:32,750
to do the testing here where we do in

771
00:40:30,590 --> 00:40:38,390
bands X Y and C and then we get the mask

772
00:40:32,750 --> 00:40:40,550
and we end it together and honestly you

773
00:40:38,389 --> 00:40:42,440
know that's probably I haven't actually

774
00:40:40,550 --> 00:40:43,670
looked to see if that's the smartest way

775
00:40:42,440 --> 00:40:45,110
to do that it may be that you actually

776
00:40:43,670 --> 00:40:46,639
want to do three moves and do the ants

777
00:40:45,110 --> 00:40:49,039
separately because you're gonna loop and

778
00:40:46,639 --> 00:40:51,859
bubble is not this is not performance

779
00:40:49,039 --> 00:40:54,529
critical at the moment so you know we'll

780
00:40:51,860 --> 00:40:55,970
leave that for another day but at the

781
00:40:54,530 --> 00:40:57,110
moment what we need to know is what is

782
00:40:55,969 --> 00:40:59,779
this node

783
00:40:57,110 --> 00:41:01,610
right and so if you take a look at the

784
00:40:59,780 --> 00:41:03,800
way that we were doing it before you can

785
00:41:01,610 --> 00:41:07,430
see we want to load up the node from

786
00:41:03,800 --> 00:41:09,950
something and the answer here is that

787
00:41:07,429 --> 00:41:12,409
well we actually get past what the grid

788
00:41:09,949 --> 00:41:13,939
index is that we're starting in right so

789
00:41:12,409 --> 00:41:17,149
we should be able to just do this is

790
00:41:13,940 --> 00:41:19,730
inside testing very simply and that

791
00:41:17,150 --> 00:41:22,070
should allow us if we go to bug this

792
00:41:19,730 --> 00:41:25,099
code path that should allow us to stop

793
00:41:22,070 --> 00:41:29,059
getting those values getting anything

794
00:41:25,099 --> 00:41:31,039
set on them right and what you can see

795
00:41:29,059 --> 00:41:32,869
there is actually although eventually

796
00:41:31,039 --> 00:41:34,519
the light did penetrate through the wall

797
00:41:32,869 --> 00:41:37,670
you could see that it actually held off

798
00:41:34,519 --> 00:41:40,159
for quite a bit longer so I think this

799
00:41:37,670 --> 00:41:41,510
is starting to I think that probably did

800
00:41:40,159 --> 00:41:45,879
work at least a little bit and let's

801
00:41:41,510 --> 00:41:45,880
take a look at it in single step now

802
00:41:53,789 --> 00:42:04,050
where the heck did I put this code

803
00:41:58,030 --> 00:42:04,050
wasn't I write on it before there it is

804
00:42:05,070 --> 00:42:11,110
so if I go ahead and single-step now and

805
00:42:09,190 --> 00:42:13,539
just take a look at how that propagation

806
00:42:11,110 --> 00:42:16,710
is working so let's take a look here's

807
00:42:13,539 --> 00:42:21,730
our grid and I'm gonna do the first pass

808
00:42:16,710 --> 00:42:26,769
so hopefully what we'll see now is as we

809
00:42:21,730 --> 00:42:29,469
go these well those are outside so they

810
00:42:26,769 --> 00:42:33,429
should be okay but these along the wall

811
00:42:29,469 --> 00:42:36,039
here should get none right and no matter

812
00:42:33,429 --> 00:42:40,779
what even when these explode these

813
00:42:36,039 --> 00:42:42,849
should never get anything right and it

814
00:42:40,780 --> 00:42:46,600
looks to me like that's exactly what

815
00:42:42,849 --> 00:42:56,289
happened right so that that seems really

816
00:42:46,599 --> 00:42:57,940
pretty good right yeah so so I'm I'm

817
00:42:56,289 --> 00:43:00,190
pretty pleased about that I think that's

818
00:42:57,940 --> 00:43:01,539
again I think that's really good I think

819
00:43:00,190 --> 00:43:04,179
that's a positive step but think we

820
00:43:01,539 --> 00:43:06,670
probably want to keep that now what I'd

821
00:43:04,179 --> 00:43:08,230
like to do is really quickly just so I

822
00:43:06,670 --> 00:43:10,329
can see what the effects of this are

823
00:43:08,230 --> 00:43:13,000
since we know that our other ray caster

824
00:43:10,329 --> 00:43:15,429
gives a better approximation towards

825
00:43:13,000 --> 00:43:18,070
usable lighting at the moment because

826
00:43:15,429 --> 00:43:22,480
it's more debugged I'd like to go ahead

827
00:43:18,070 --> 00:43:24,039
and see well all right so I can't really

828
00:43:22,480 --> 00:43:25,809
I wanted to just try the other ray

829
00:43:24,039 --> 00:43:29,469
caster but I guess we can't because we

830
00:43:25,809 --> 00:43:30,639
remove the entire path which which was

831
00:43:29,469 --> 00:43:34,329
the thing we would need to do the

832
00:43:30,639 --> 00:43:37,029
testing mm-hmm I just wanted to see what

833
00:43:34,329 --> 00:43:38,679
would happen to the the lighting in that

834
00:43:37,030 --> 00:43:43,210
case when we knocked those out just to

835
00:43:38,679 --> 00:43:46,089
see what it looked like so what I would

836
00:43:43,210 --> 00:43:48,340
like to do now is focus on the actual

837
00:43:46,090 --> 00:43:49,420
light directional propagation elements

838
00:43:48,340 --> 00:43:54,340
because there's a bunch of things I'm

839
00:43:49,420 --> 00:43:56,590
seeing in here that make me suspicious

840
00:43:54,340 --> 00:43:57,789
of how we're doing the sampling now

841
00:43:56,590 --> 00:44:00,550
there's a couple of things we want to

842
00:43:57,789 --> 00:44:02,590
look at if we take a look here at these

843
00:44:00,550 --> 00:44:05,050
light values so another thing I can do

844
00:44:02,590 --> 00:44:05,990
is I can turn off this now and the

845
00:44:05,050 --> 00:44:09,110
reason for that is we

846
00:44:05,989 --> 00:44:13,250
now I can I've I've visually verified as

847
00:44:09,110 --> 00:44:16,039
well as having the code in there that

848
00:44:13,250 --> 00:44:18,320
people on the interior will get set to

849
00:44:16,039 --> 00:44:21,699
zero so I think I can safely go back

850
00:44:18,320 --> 00:44:24,980
into the entity code now and remove this

851
00:44:21,699 --> 00:44:27,739
volume outline switch so that we can

852
00:44:24,980 --> 00:44:29,840
just see the actual world again because

853
00:44:27,739 --> 00:44:32,479
I know that anything inside that I can't

854
00:44:29,840 --> 00:44:35,510
see is going to be zero whereas before

855
00:44:32,480 --> 00:44:37,039
it wasn't so that's a good step and if

856
00:44:35,510 --> 00:44:38,810
we take a look at what's going on in

857
00:44:37,039 --> 00:44:42,349
here I guess one thing I would also say

858
00:44:38,809 --> 00:44:45,170
is it's looking pretty promising too as

859
00:44:42,349 --> 00:44:46,789
we go I mean you know we're a far cry

860
00:44:45,170 --> 00:44:49,280
away from having good lighting but you

861
00:44:46,789 --> 00:44:51,289
know if it gave me this when I'm looking

862
00:44:49,280 --> 00:44:52,820
at right now and said you got to get

863
00:44:51,289 --> 00:44:54,889
that to a really good lighting solution

864
00:44:52,820 --> 00:44:57,220
I'm like wow we're almost all the way

865
00:44:54,889 --> 00:45:00,019
there like we really just need some

866
00:44:57,219 --> 00:45:03,019
better like spreading interpolation to

867
00:45:00,019 --> 00:45:05,329
hide that voxel boundary a little bit

868
00:45:03,019 --> 00:45:06,679
more but other than that like we're in

869
00:45:05,329 --> 00:45:08,619
really great shape you know I look at

870
00:45:06,679 --> 00:45:13,669
that and that just looks awesome right

871
00:45:08,619 --> 00:45:15,260
so I don't think we're in that far and I

872
00:45:13,670 --> 00:45:17,000
think we're going in a promising

873
00:45:15,260 --> 00:45:20,210
direction but obviously we still have a

874
00:45:17,000 --> 00:45:22,489
bunch of things to address so the first

875
00:45:20,210 --> 00:45:26,150
thing I'd like to say is let's start

876
00:45:22,489 --> 00:45:28,339
looking at this because this indicates

877
00:45:26,150 --> 00:45:32,269
very clearly to me that we've got some

878
00:45:28,340 --> 00:45:38,809
issues when I'm casting up through this

879
00:45:32,269 --> 00:45:42,230
you know this wall a floor panel this

880
00:45:38,809 --> 00:45:44,539
rain cast we at least believe and you

881
00:45:42,230 --> 00:45:46,519
know we have inspected many of these and

882
00:45:44,539 --> 00:45:50,900
it does always seem to produce the

883
00:45:46,519 --> 00:45:53,809
correct answer you can see here the

884
00:45:50,900 --> 00:45:56,358
normal that our ray caster has been

885
00:45:53,809 --> 00:45:58,849
producing seems pretty solid and I'll

886
00:45:56,358 --> 00:46:00,500
you know I'll do another verification

887
00:45:58,849 --> 00:46:02,779
where will you know we'll try looking at

888
00:46:00,500 --> 00:46:04,909
this and we'll see if maybe these

889
00:46:02,780 --> 00:46:07,250
normals are wrong but I'm assuming that

890
00:46:04,909 --> 00:46:11,529
if we inspected one of these we would

891
00:46:07,250 --> 00:46:11,530
see the normal facing back at us right

892
00:46:18,568 --> 00:46:24,960
and if that's the case that means we're

893
00:46:21,780 --> 00:46:32,390
asking what light is coming down this

894
00:46:24,960 --> 00:46:35,608
way right and the way that we're pretty

895
00:46:32,389 --> 00:46:37,710
that's not true if we're looking at the

896
00:46:35,608 --> 00:46:39,659
sample here right that means we're

897
00:46:37,710 --> 00:46:41,639
looking at what light is coming from

898
00:46:39,659 --> 00:46:46,440
this direction so the downward facing

899
00:46:41,639 --> 00:46:49,348
direction right and I guess the problem

900
00:46:46,440 --> 00:46:50,970
that we're gonna have and I don't really

901
00:46:49,349 --> 00:46:54,030
know I mean it actually just looks

902
00:46:50,969 --> 00:46:56,519
erroneous to me but I don't know is when

903
00:46:54,030 --> 00:46:58,380
I look at what is supposedly coming from

904
00:46:56,519 --> 00:47:02,400
that direction there's not much light

905
00:46:58,380 --> 00:47:04,050
there right now part of that maybe I

906
00:47:02,400 --> 00:47:06,838
think we're still drawing the spec map

907
00:47:04,050 --> 00:47:11,640
and I don't really know right I mean it

908
00:47:06,838 --> 00:47:13,049
could be but I'm not sure so if we're

909
00:47:11,639 --> 00:47:21,088
still drawing the spec map and let's

910
00:47:13,050 --> 00:47:24,568
take a look what happened here why can I

911
00:47:21,088 --> 00:47:27,358
not see did I delete something I'm like

912
00:47:24,568 --> 00:47:29,969
I'm like stuck over that was weird I was

913
00:47:27,358 --> 00:47:31,588
like stuck over on the other side let me

914
00:47:29,969 --> 00:47:39,629
go ahead and jump to the lighting code

915
00:47:31,588 --> 00:47:41,608
here here we go so if I do the draw - he

916
00:47:39,630 --> 00:47:44,880
drove al use you can see me here drawing

917
00:47:41,608 --> 00:47:47,909
the spec atlas so what I'd like to do is

918
00:47:44,880 --> 00:47:49,950
I'd like to draw the other Atlas as well

919
00:47:47,909 --> 00:47:53,009
and in order to do that again I have to

920
00:47:49,949 --> 00:47:54,868
fix this bug that we had in both places

921
00:47:53,010 --> 00:48:00,170
right so we're want to use the Vox chord

922
00:47:54,869 --> 00:48:00,170
for each case so if I was to draw

923
00:48:01,940 --> 00:48:11,460
specifically draw the yep if I was to

924
00:48:09,449 --> 00:48:13,500
specifically draw the diffuse Atlas

925
00:48:11,460 --> 00:48:16,048
instead of a spec atlas what I want to

926
00:48:13,500 --> 00:48:20,400
do here is see is the blurring step

927
00:48:16,048 --> 00:48:21,929
creating like way too much light coming

928
00:48:20,400 --> 00:48:25,200
from that direction and that's what

929
00:48:21,929 --> 00:48:26,788
we're seeing there and I don't know so

930
00:48:25,199 --> 00:48:30,778
what you can kind of see here

931
00:48:26,789 --> 00:48:32,519
is if I take a look at where this light

932
00:48:30,778 --> 00:48:35,248
is gonna get sampled from so here's

933
00:48:32,518 --> 00:48:36,688
here's an example of what it probably

934
00:48:35,248 --> 00:48:38,818
looks like now unfortunately we're not

935
00:48:36,688 --> 00:48:40,288
quite getting the exact one although I

936
00:48:38,818 --> 00:48:44,248
guess we are yeah we are because this is

937
00:48:40,289 --> 00:48:49,559
gonna cast like upwards right and so if

938
00:48:44,248 --> 00:48:52,288
you take a look at at how this this

939
00:48:49,559 --> 00:48:56,039
right here is getting blurred I guess

940
00:48:52,289 --> 00:48:58,259
what I say is you know it does seem to

941
00:48:56,039 --> 00:49:04,249
have quite a spread on it there and I

942
00:48:58,259 --> 00:49:08,309
and I I can't say it's necessarily wrong

943
00:49:04,248 --> 00:49:11,248
you know but it's definitely

944
00:49:08,309 --> 00:49:18,569
dramatically power increasing and and so

945
00:49:11,248 --> 00:49:20,458
you know I guess I I guess I can't

946
00:49:18,568 --> 00:49:23,608
really say that I should start debugging

947
00:49:20,458 --> 00:49:25,978
these quite yet because that that part

948
00:49:23,608 --> 00:49:28,338
alone does look kind of wrong I mean I

949
00:49:25,978 --> 00:49:28,338
don't know

950
00:49:36,969 --> 00:50:05,618
I guess it's just it's pretty hard to

951
00:49:57,460 --> 00:50:10,769
say is my problem right I really just

952
00:50:05,619 --> 00:50:10,769
don't know what I should make of that

953
00:50:14,190 --> 00:50:19,119
just to give you a little bit of

954
00:50:16,150 --> 00:50:22,059
perspective on what I'm thinking so when

955
00:50:19,119 --> 00:50:25,269
we're going to produce the updates for

956
00:50:22,059 --> 00:50:28,509
this right so you can see as that grows

957
00:50:25,269 --> 00:50:30,219
like what what did it look like we're

958
00:50:28,510 --> 00:50:32,230
gonna cast we're gonna get a normal that

959
00:50:30,219 --> 00:50:34,389
comes back this way and so what we're

960
00:50:32,230 --> 00:50:36,579
gonna want to know is for the cast that

961
00:50:34,389 --> 00:50:39,250
went out this way we're gonna want to

962
00:50:36,579 --> 00:50:43,809
know what kind of light for this

963
00:50:39,250 --> 00:50:47,050
location was coming back from sort of

964
00:50:43,809 --> 00:50:49,349
straight down right the diffuse

965
00:50:47,050 --> 00:50:54,070
component of like a straight down light

966
00:50:49,349 --> 00:50:58,240
and so when we look at what that would

967
00:50:54,070 --> 00:51:01,180
entail you know it's it's gonna be it's

968
00:50:58,239 --> 00:51:03,459
gonna be showing you know this this

969
00:51:01,179 --> 00:51:05,169
downward facing part here I guess is

970
00:51:03,460 --> 00:51:11,159
what what we would think would was

971
00:51:05,170 --> 00:51:11,159
coming from that direction right and so

972
00:51:22,769 --> 00:51:34,559
and so I don't really know what I think

973
00:51:28,380 --> 00:51:36,930
of there's a lot of ways that I could go

974
00:51:34,559 --> 00:51:38,789
on this right so if the first thing I

975
00:51:36,929 --> 00:51:41,219
want to do is focus on what's happening

976
00:51:38,789 --> 00:51:44,250
to this there's a lot of ways I could

977
00:51:41,219 --> 00:51:48,659
address that so one way I could address

978
00:51:44,250 --> 00:51:51,719
that is by saying every time I go to do

979
00:51:48,659 --> 00:51:55,259
a cast if I'm going to sample from a

980
00:51:51,719 --> 00:51:59,159
particular light probe if the light

981
00:51:55,260 --> 00:52:00,120
probe is on the other side of the thing

982
00:51:59,159 --> 00:52:04,109
that I've hit

983
00:52:00,119 --> 00:52:07,319
I don't sample it right so in other

984
00:52:04,110 --> 00:52:10,680
words when I do the eight voxel samples

985
00:52:07,320 --> 00:52:14,550
I only sample the things that are on the

986
00:52:10,679 --> 00:52:18,419
side of the so there's I would sample

987
00:52:14,550 --> 00:52:20,910
these and I wouldn't sample these

988
00:52:18,420 --> 00:52:26,510
because they're on the other side of the

989
00:52:20,909 --> 00:52:31,920
hit so I know that they can't be

990
00:52:26,510 --> 00:52:34,710
included right and it's a pretty trivial

991
00:52:31,920 --> 00:52:36,510
thing for me to do like compared to how

992
00:52:34,710 --> 00:52:39,030
much work we're doing for all of the

993
00:52:36,510 --> 00:52:47,010
other ray casting operations really not

994
00:52:39,030 --> 00:52:49,200
a huge deal and it's just a really tough

995
00:52:47,010 --> 00:52:51,720
decision so if I want to focus on that

996
00:52:49,199 --> 00:52:54,029
that's the first thing I could do and I

997
00:52:51,719 --> 00:52:56,279
suppose maybe we should just do it it's

998
00:52:54,030 --> 00:52:59,100
not a particularly difficult thing to

999
00:52:56,280 --> 00:53:00,840
create it's fairly cheap and then at

1000
00:52:59,099 --> 00:53:08,489
least we can turn it on or off and see

1001
00:53:00,840 --> 00:53:11,579
what's going on there right let's just

1002
00:53:08,489 --> 00:53:13,859
do that and then we can maybe see if

1003
00:53:11,579 --> 00:53:15,329
that prevents and in and I guess here's

1004
00:53:13,860 --> 00:53:18,240
my other thinking just to give you a

1005
00:53:15,329 --> 00:53:20,960
little bit of a perspective on what's

1006
00:53:18,239 --> 00:53:20,959
going on here

1007
00:53:23,179 --> 00:53:34,399
Oh Abner has shown up hello Abner all

1008
00:53:33,530 --> 00:53:36,500
right are you here to talk about

1009
00:53:34,400 --> 00:53:37,970
handmade Seattle I have not heard

1010
00:53:36,500 --> 00:53:42,309
anything about handmade Seattle yet

1011
00:53:37,969 --> 00:53:42,308
other than the post I saw from you so

1012
00:53:44,500 --> 00:53:48,050
did everyone see that

1013
00:53:46,190 --> 00:53:53,720
we'll talk about it at the end of the

1014
00:53:48,050 --> 00:54:00,650
stream if Abner's around so basically

1015
00:53:53,719 --> 00:54:03,818
this so this environment in my mind

1016
00:54:00,650 --> 00:54:06,588
gives me a good opportunity to actually

1017
00:54:03,818 --> 00:54:08,029
do the thing I just said which is why

1018
00:54:06,588 --> 00:54:10,759
I'm thinking maybe we should just do it

1019
00:54:08,030 --> 00:54:13,010
now instead of later and the reason for

1020
00:54:10,760 --> 00:54:15,290
that is because right now we're in a

1021
00:54:13,010 --> 00:54:18,710
situation it's at least undesirable

1022
00:54:15,289 --> 00:54:21,858
perhaps it's buggy but it's at even if

1023
00:54:18,710 --> 00:54:28,010
it turns out that it's not a bug it's at

1024
00:54:21,858 --> 00:54:29,358
least you know a defect right which is

1025
00:54:28,010 --> 00:54:31,010
that we're getting this massive over

1026
00:54:29,358 --> 00:54:33,920
brighting but the nice thing about that

1027
00:54:31,010 --> 00:54:36,890
massive over brighting is it really

1028
00:54:33,920 --> 00:54:40,039
quickly and dramatically shows us where

1029
00:54:36,889 --> 00:54:42,739
light leaking occurs right so as we

1030
00:54:40,039 --> 00:54:45,279
drive these numbers up to be absolutely

1031
00:54:42,739 --> 00:54:47,838
huge we can see the light leaking

1032
00:54:45,280 --> 00:54:51,859
happening down here and one of the

1033
00:54:47,838 --> 00:54:56,389
things that we might not have another

1034
00:54:51,858 --> 00:54:58,969
good clear opportunity for is seeing

1035
00:54:56,389 --> 00:55:02,798
light leaking really clearly right and

1036
00:54:58,969 --> 00:55:06,108
so because this is a very pronounced

1037
00:55:02,798 --> 00:55:08,119
situation I'm thinking why not just use

1038
00:55:06,108 --> 00:55:10,429
it to help solve a light leaking problem

1039
00:55:08,119 --> 00:55:12,200
I knew will have anyway rather than

1040
00:55:10,429 --> 00:55:15,078
trying to tackle it when it's more

1041
00:55:12,199 --> 00:55:17,269
subtle so rather than trying to solve

1042
00:55:15,079 --> 00:55:20,630
the feedback problem first I think on

1043
00:55:17,269 --> 00:55:23,780
maybe we'll focus on this part so let's

1044
00:55:20,630 --> 00:55:26,150
add something to our octahedral sampling

1045
00:55:23,780 --> 00:55:33,170
to allow us to do some kind of masking

1046
00:55:26,150 --> 00:55:35,539
so for example when we actually do an

1047
00:55:33,170 --> 00:55:37,159
a voxel sample I don't know what we call

1048
00:55:35,539 --> 00:55:40,159
it I think it's just yeah compute voxel

1049
00:55:37,159 --> 00:55:44,480
irradiance app so when we actually do

1050
00:55:40,159 --> 00:55:50,000
our voxel sampling here what I'd like to

1051
00:55:44,480 --> 00:55:53,298
do is say if you you look at this luring

1052
00:55:50,000 --> 00:55:57,469
that we're doing here and what we want

1053
00:55:53,298 --> 00:55:59,210
to do is maybe transfer or transform the

1054
00:55:57,469 --> 00:56:03,889
way that we're computing this to be

1055
00:55:59,210 --> 00:56:07,608
based on single coefficients rather than

1056
00:56:03,889 --> 00:56:10,848
lerp s-- and if you remember correctly

1057
00:56:07,608 --> 00:56:29,449
what'll URP does right let me just pop

1058
00:56:10,849 --> 00:56:31,400
over because so if i just quickly remind

1059
00:56:29,449 --> 00:56:44,358
people because i feel like you can never

1060
00:56:31,400 --> 00:56:47,720
really remind people enough so whenever

1061
00:56:44,358 --> 00:56:55,338
you're doing any kind of a weighted

1062
00:56:47,719 --> 00:56:58,939
blend all of these things are linear

1063
00:56:55,338 --> 00:57:04,338
operators right so if I am going to do a

1064
00:56:58,940 --> 00:57:09,980
standard lerp like a standard lerp which

1065
00:57:04,338 --> 00:57:13,429
is a I guess in this case it's a it's

1066
00:57:09,980 --> 00:57:19,760
actually a trial URP so allure p-- is

1067
00:57:13,429 --> 00:57:24,588
just a linear blend but in this case

1068
00:57:19,760 --> 00:57:31,329
we're doing a trial herb and that's just

1069
00:57:24,588 --> 00:57:31,328
you know three linear blends

1070
00:57:33,679 --> 00:57:38,389
and the important thing to remember here

1071
00:57:35,360 --> 00:57:40,570
is that when you're dealing with linear

1072
00:57:38,389 --> 00:57:42,829
operators you can do whatever you want

1073
00:57:40,570 --> 00:57:45,410
with the order in which you process

1074
00:57:42,829 --> 00:57:47,829
these coefficients so if I take the

1075
00:57:45,409 --> 00:57:51,259
linear blend which is traditionally

1076
00:57:47,829 --> 00:57:56,569
going to be like a blend between two

1077
00:57:51,260 --> 00:57:59,390
things we'll call them a and B if I want

1078
00:57:56,570 --> 00:58:02,600
to know the resulting point that I'm

1079
00:57:59,389 --> 00:58:05,690
going to create is 1 minus the blend

1080
00:58:02,599 --> 00:58:09,710
factor times a plus the blend factor

1081
00:58:05,690 --> 00:58:13,159
times B right if we look at this

1082
00:58:09,710 --> 00:58:14,960
fundamental equation if we start to

1083
00:58:13,159 --> 00:58:16,699
apply it multiple times I mean first of

1084
00:58:14,960 --> 00:58:18,320
all you can already manipulate it right

1085
00:58:16,699 --> 00:58:20,119
I mean you've seen some people will

1086
00:58:18,320 --> 00:58:22,370
rewrite this or depending on what you're

1087
00:58:20,119 --> 00:58:24,230
trying to do with it you can multiply

1088
00:58:22,369 --> 00:58:30,949
the a through for example and you'd get

1089
00:58:24,230 --> 00:58:33,769
a minus T a plus TB right so you can

1090
00:58:30,949 --> 00:58:36,889
create different versions of this

1091
00:58:33,769 --> 00:58:41,929
equation as well but for our purposes we

1092
00:58:36,889 --> 00:58:43,670
only really care about looking at this

1093
00:58:41,929 --> 00:58:45,769
particular version and the reason for

1094
00:58:43,670 --> 00:58:49,280
that as you can see that these two

1095
00:58:45,769 --> 00:58:51,409
values are scalar values and we could

1096
00:58:49,280 --> 00:58:53,000
just rewrite this as a generic weighted

1097
00:58:51,409 --> 00:58:58,789
blend right we could have just said well

1098
00:58:53,000 --> 00:59:00,530
there's a W a a plus a WB B and we're

1099
00:58:58,789 --> 00:59:03,639
just doing a weighted blend of two

1100
00:59:00,530 --> 00:59:07,070
things and we just happen to know that

1101
00:59:03,639 --> 00:59:11,449
these two weights sum to one so we know

1102
00:59:07,070 --> 00:59:20,120
that W a happens to equal 1 minus T and

1103
00:59:11,449 --> 00:59:23,089
W B happens to equal T right but once we

1104
00:59:20,119 --> 00:59:24,500
start to apply this equation recursively

1105
00:59:23,090 --> 00:59:25,340
which is what we're doing in a try

1106
00:59:24,500 --> 00:59:27,469
linear blend

1107
00:59:25,340 --> 00:59:29,300
you know trilinear blend and we'll just

1108
00:59:27,469 --> 00:59:32,179
take the maybe the bilinear case for

1109
00:59:29,300 --> 00:59:34,010
simplicity we're expanding the notion of

1110
00:59:32,179 --> 00:59:35,779
this so rather than talking about two

1111
00:59:34,010 --> 00:59:38,180
values a and B and we're blending

1112
00:59:35,780 --> 00:59:40,070
between them by picking a T value and

1113
00:59:38,179 --> 00:59:41,839
the T value you know gets us some

1114
00:59:40,070 --> 00:59:45,410
distance of the way there so you know

1115
00:59:41,840 --> 00:59:46,519
the T value gets us to here when we

1116
00:59:45,409 --> 00:59:48,109
start talking about for example

1117
00:59:46,519 --> 00:59:51,110
by linear blend we're talking about four

1118
00:59:48,110 --> 00:59:54,860
inputs so we're talking about a B C and

1119
00:59:51,110 --> 00:59:59,329
D for example and if we're talking about

1120
00:59:54,860 --> 01:00:01,880
using a T value to get somewhere we do

1121
00:59:59,329 --> 01:00:03,529
it on two of the bars and then we talk

1122
01:00:01,880 --> 01:00:05,180
about using some other value and you

1123
01:00:03,530 --> 01:00:06,830
value maybe we use u and V I don't know

1124
01:00:05,179 --> 01:00:08,889
so maybe this is a you value it did you

1125
01:00:06,829 --> 01:00:13,009
can letter them however you want but

1126
01:00:08,889 --> 01:00:15,489
that produces a new intermediate bar and

1127
01:00:13,010 --> 01:00:19,630
then the second value let's say V

1128
01:00:15,489 --> 01:00:21,919
produces the the new point right and

1129
01:00:19,630 --> 01:00:24,559
that's the conceptual framework so we

1130
01:00:21,920 --> 01:00:27,260
certainly can do something where we say

1131
01:00:24,559 --> 01:00:28,549
well alright if this is going to be p0

1132
01:00:27,260 --> 01:00:30,500
and this is going to be P 1 and then we

1133
01:00:28,550 --> 01:00:32,300
produce our final p value from those you

1134
01:00:30,500 --> 01:00:38,030
know then we're just doing two of these

1135
01:00:32,300 --> 01:00:42,470
equations 1 - oh sorry 1 minus u times a

1136
01:00:38,030 --> 01:00:47,930
plus u times B and then p1 in this case

1137
01:00:42,469 --> 01:00:51,379
was 1 minus u times D plus UC right and

1138
01:00:47,929 --> 01:00:58,039
then we took those results and said P is

1139
01:00:51,380 --> 01:01:04,220
equal to 1 minus V times p0 plus V times

1140
01:00:58,039 --> 01:01:06,440
p1 right so this is replying this

1141
01:01:04,219 --> 01:01:08,599
recursively but hopefully what you can

1142
01:01:06,440 --> 01:01:11,780
see here is there's nothing preventing

1143
01:01:08,599 --> 01:01:15,380
us from just doing the substitution back

1144
01:01:11,780 --> 01:01:18,050
into this equation we know that p0 came

1145
01:01:15,380 --> 01:01:22,190
from an existing blend 1 minus UA plus u

1146
01:01:18,050 --> 01:01:24,769
B so we know that p 0 in this case if we

1147
01:01:22,190 --> 01:01:29,809
plugged it back in this would actually

1148
01:01:24,769 --> 01:01:37,670
be 1 minus V times this whole equation 1

1149
01:01:29,809 --> 01:01:39,500
minus u oops you a Plus u B right and

1150
01:01:37,670 --> 01:01:43,550
the same would be true over here so the

1151
01:01:39,500 --> 01:01:47,690
V times p1 this p1 is really just this

1152
01:01:43,550 --> 01:01:51,260
whole equation it's 1 minus u d+ you see

1153
01:01:47,690 --> 01:01:53,059
right and so if we actually multiply

1154
01:01:51,260 --> 01:01:56,540
these out you start to get pretty

1155
01:01:53,059 --> 01:01:58,099
obvious answers for what the actual

1156
01:01:56,539 --> 01:01:59,779
coefficients are without needing to

1157
01:01:58,099 --> 01:02:03,380
think of it recursively anymore

1158
01:01:59,780 --> 01:02:05,060
this is the recursive formulation but

1159
01:02:03,380 --> 01:02:07,579
because it's linear we can just think of

1160
01:02:05,059 --> 01:02:09,199
a flat formulation which is this because

1161
01:02:07,579 --> 01:02:14,210
if you look at what happens we just have

1162
01:02:09,199 --> 01:02:19,279
1 minus V times 1 minus u a plus 1 minus

1163
01:02:14,210 --> 01:02:24,289
V times u B plus V times 1 minus udy

1164
01:02:19,280 --> 01:02:28,700
plus UV C right and lo and behold we

1165
01:02:24,289 --> 01:02:31,900
just now have each of our input points a

1166
01:02:28,699 --> 01:02:35,480
B D and C they're all here right and

1167
01:02:31,900 --> 01:02:38,510
they each have a weight and that weight

1168
01:02:35,480 --> 01:02:40,219
is some combination of U and V either

1169
01:02:38,510 --> 01:02:41,540
the 1 minus version or the regular

1170
01:02:40,219 --> 01:02:44,989
version and we have each of them

1171
01:02:41,539 --> 01:02:47,119
appearing exactly once so now we just

1172
01:02:44,989 --> 01:02:52,009
see that well this whole equation is

1173
01:02:47,119 --> 01:02:57,199
just weight of a plus weight of B plus

1174
01:02:52,010 --> 01:02:58,520
weight of d plus weight of C and I could

1175
01:02:57,199 --> 01:03:00,230
have just written them in order because

1176
01:02:58,519 --> 01:03:04,550
we don't care what order they come in

1177
01:03:00,230 --> 01:03:07,990
they're just terms on a line so this is

1178
01:03:04,550 --> 01:03:11,690
just a very simple weighted blend right

1179
01:03:07,989 --> 01:03:14,329
it just so happens that these are formed

1180
01:03:11,690 --> 01:03:18,289
the weights are formed by the trilinear

1181
01:03:14,329 --> 01:03:21,110
coefficients right so each of these just

1182
01:03:18,289 --> 01:03:33,980
becomes whatever it was up here 1 minus

1183
01:03:21,110 --> 01:03:40,430
V 1 minus u 1 minus V u u V and V 1

1184
01:03:33,980 --> 01:03:43,219
minus u right so you can imagine doing

1185
01:03:40,429 --> 01:03:46,460
this as many times as you want we could

1186
01:03:43,219 --> 01:03:48,709
do a 8 dimensional linear blend if we

1187
01:03:46,460 --> 01:03:52,039
wanted to and we could literally do that

1188
01:03:48,710 --> 01:03:54,099
just by taking all of the input points

1189
01:03:52,039 --> 01:03:56,090
in our 8 dimensional blend and

1190
01:03:54,099 --> 01:03:58,339
generating all the weights for them and

1191
01:03:56,090 --> 01:04:01,430
they would just be a single sum equation

1192
01:03:58,340 --> 01:04:05,450
where it's just F mad F mad F mad F mad

1193
01:04:01,429 --> 01:04:11,568
right you multiply and add multiply and

1194
01:04:05,449 --> 01:04:14,208
add multiply and add right and so

1195
01:04:11,568 --> 01:04:17,389
the sum of weighted coefficients will

1196
01:04:14,208 --> 01:04:19,669
build us any order linear blend we want

1197
01:04:17,389 --> 01:04:22,998
any dimensional linear blend we want

1198
01:04:19,670 --> 01:04:27,430
whether it's linear bilinear trilinear

1199
01:04:22,998 --> 01:04:31,879
or any other higher dimensional linear

1200
01:04:27,429 --> 01:04:34,338
and this allows us to avoid using that

1201
01:04:31,880 --> 01:04:37,969
recursive formulation now you may ask

1202
01:04:34,338 --> 01:04:39,498
yourself why would anyone care about

1203
01:04:37,969 --> 01:04:41,059
everything I just said for the routine

1204
01:04:39,498 --> 01:04:42,828
that we actually are looking at and the

1205
01:04:41,059 --> 01:04:44,390
reason for that is because if you

1206
01:04:42,829 --> 01:04:49,579
flashback to routine here what you can

1207
01:04:44,389 --> 01:04:52,429
see is in the recursive formulation it

1208
01:04:49,579 --> 01:04:55,519
would be incredibly difficult for me to

1209
01:04:52,429 --> 01:04:58,998
figure out how I would produce a

1210
01:04:55,518 --> 01:05:01,728
reasonable blended result if I wanted to

1211
01:04:58,998 --> 01:05:04,608
pass in effectively an arbitrary bit

1212
01:05:01,728 --> 01:05:08,748
field that said which tiles could be

1213
01:05:04,608 --> 01:05:10,788
used and which tiles couldn't right now

1214
01:05:08,748 --> 01:05:12,889
one way that you could think about doing

1215
01:05:10,789 --> 01:05:14,959
this would be to say well actually no

1216
01:05:12,889 --> 01:05:17,598
cases it's very easy what I'll do is

1217
01:05:14,958 --> 01:05:20,389
I'll just take whichever of the tiles

1218
01:05:17,599 --> 01:05:24,109
are supposed to not contribute and I'll

1219
01:05:20,389 --> 01:05:26,900
zero their value right but the problem

1220
01:05:24,108 --> 01:05:30,409
is that's not the same thing as not

1221
01:05:26,900 --> 01:05:32,900
using them that is using them as if

1222
01:05:30,409 --> 01:05:35,058
they're lighting was zero so all of the

1223
01:05:32,900 --> 01:05:37,789
lighting will be darker than it should

1224
01:05:35,059 --> 01:05:39,798
have been because we are actually using

1225
01:05:37,789 --> 01:05:41,599
those values we're just using them as if

1226
01:05:39,798 --> 01:05:44,150
they had no lighting but that's not what

1227
01:05:41,599 --> 01:05:46,940
I wanted what I wanted to do was I

1228
01:05:44,150 --> 01:05:49,789
wanted to say build me an N way blend

1229
01:05:46,940 --> 01:05:52,068
where the N the number of things I'm

1230
01:05:49,789 --> 01:05:55,670
blending are just the ones that I can

1231
01:05:52,068 --> 01:05:57,920
use and if there was only one I just

1232
01:05:55,670 --> 01:06:01,880
want you to use that whole one as the

1233
01:05:57,920 --> 01:06:04,789
value right so hopefully you can

1234
01:06:01,880 --> 01:06:07,489
understand what I'm saying here like we

1235
01:06:04,789 --> 01:06:10,219
need a way of constructing an N Way

1236
01:06:07,489 --> 01:06:13,179
blend where we're really only blending

1237
01:06:10,219 --> 01:06:15,469
between the N elements were never even

1238
01:06:13,179 --> 01:06:17,419
using an element that's out of bounds

1239
01:06:15,469 --> 01:06:20,159
because if we were to just set it to

1240
01:06:17,420 --> 01:06:22,530
zero we would get darker I wrote

1241
01:06:20,159 --> 01:06:27,629
we would get results with a lot less

1242
01:06:22,530 --> 01:06:31,410
light than we should have right but

1243
01:06:27,630 --> 01:06:32,910
hopefully what you can see is based on

1244
01:06:31,409 --> 01:06:34,679
what I just said on the blackboard you

1245
01:06:32,909 --> 01:06:37,799
can see where I'm kind of going with

1246
01:06:34,679 --> 01:06:49,769
this if instead of doing it that way

1247
01:06:37,800 --> 01:06:53,370
where we had the if what we had were

1248
01:06:49,769 --> 01:06:56,009
individual bit field or weight values

1249
01:06:53,369 --> 01:06:58,469
that told us what we were allowed to use

1250
01:06:56,010 --> 01:07:01,230
in what we weren't then what I could do

1251
01:06:58,469 --> 01:07:03,599
is take that weight vector which is

1252
01:07:01,230 --> 01:07:06,869
eight weights which by default would

1253
01:07:03,599 --> 01:07:10,110
just be exactly what I did back here so

1254
01:07:06,869 --> 01:07:12,359
it'd just be combinations of uvw right

1255
01:07:10,110 --> 01:07:16,110
so it would just produce the standard

1256
01:07:12,360 --> 01:07:20,010
linear trilinear blend we were doing if

1257
01:07:16,110 --> 01:07:22,530
I take those values and I knock some of

1258
01:07:20,010 --> 01:07:26,580
them out so I just knock them out to

1259
01:07:22,530 --> 01:07:28,260
zero then I can use which we've talked

1260
01:07:26,579 --> 01:07:31,500
about many times for the Euclidean 1

1261
01:07:28,260 --> 01:07:34,670
norm to say how do i boost the remaining

1262
01:07:31,500 --> 01:07:38,610
values back up so that they sum to 1

1263
01:07:34,670 --> 01:07:42,389
right and then what I'll have is a blend

1264
01:07:38,610 --> 01:07:48,900
that is fully weighted but only using

1265
01:07:42,389 --> 01:07:54,119
the actual the actual sample values that

1266
01:07:48,900 --> 01:07:56,099
I'm allowed to write so I can do exactly

1267
01:07:54,119 --> 01:08:00,539
what I want and I can actually do it

1268
01:07:56,099 --> 01:08:03,179
quite easily as it turns out so when we

1269
01:08:00,539 --> 01:08:05,789
do compute voxel irradiance at let me

1270
01:08:03,179 --> 01:08:07,919
first translate this routine into

1271
01:08:05,789 --> 01:08:10,170
something and you know what I may be

1272
01:08:07,920 --> 01:08:11,639
could do this here let me just go ahead

1273
01:08:10,170 --> 01:08:16,109
and restore our ability to do this

1274
01:08:11,639 --> 01:08:19,349
so our is inside can just really be

1275
01:08:16,109 --> 01:08:26,939
nerfed here it can just say if lighting

1276
01:08:19,350 --> 01:08:29,250
use grid and if there so we can use our

1277
01:08:26,939 --> 01:08:32,069
old lighting if we want to this this

1278
01:08:29,250 --> 01:08:33,180
will be compatible either way and what

1279
01:08:32,069 --> 01:08:34,048
I'd like to do is just say all right

1280
01:08:33,180 --> 01:08:36,480
here's

1281
01:08:34,048 --> 01:08:41,698
what we expect to see as the sampling I

1282
01:08:36,479 --> 01:08:46,948
should probably turn back on the let me

1283
01:08:41,698 --> 01:08:48,328
go ahead and and and remove that so I

1284
01:08:46,948 --> 01:08:51,710
can just run the lighting and not have

1285
01:08:48,328 --> 01:08:58,710
to use the f9 where was that world mode

1286
01:08:51,710 --> 01:09:01,408
there so if I go ahead and run now I

1287
01:08:58,710 --> 01:09:04,529
should be able to modify this routine

1288
01:09:01,408 --> 01:09:06,719
such that it allows me to pass and what

1289
01:09:04,529 --> 01:09:10,319
I can do is I can literally just leave

1290
01:09:06,719 --> 01:09:12,420
it exactly as it's doing it now by just

1291
01:09:10,319 --> 01:09:15,809
changing the form of the equation but

1292
01:09:12,420 --> 01:09:19,408
using the coefficients that I know the

1293
01:09:15,809 --> 01:09:21,509
equation will produce right so that's

1294
01:09:19,408 --> 01:09:23,519
the first step because we want it to be

1295
01:09:21,509 --> 01:09:27,679
working when there is no occlusion we

1296
01:09:23,520 --> 01:09:27,679
want it to be working exactly the same

1297
01:09:27,798 --> 01:09:31,948
we want to be working exactly the same

1298
01:09:30,088 --> 01:09:35,578
way so don't want any difference in

1299
01:09:31,948 --> 01:09:38,308
value so I want to change this routine

1300
01:09:35,578 --> 01:09:40,769
and I want to use it by effectively

1301
01:09:38,309 --> 01:09:42,329
taking you know it's essentially the

1302
01:09:40,770 --> 01:09:46,109
same thing here but I want to use

1303
01:09:42,328 --> 01:09:49,828
weighting values so if we use the tiles

1304
01:09:46,109 --> 01:09:51,809
here as as such I don't know that it

1305
01:09:49,828 --> 01:09:56,158
makes a lot of sense to still use the

1306
01:09:51,809 --> 01:09:58,619
leg to-to-to-to scheme there it's it

1307
01:09:56,158 --> 01:10:03,109
seems a little bit unnecessary but you

1308
01:09:58,618 --> 01:10:06,179
know and I guess we'll leave it for now

1309
01:10:03,109 --> 01:10:09,269
so if I go in here you know does it

1310
01:10:06,179 --> 01:10:11,010
really make sense let's just fix that so

1311
01:10:09,270 --> 01:10:12,900
you can see here that we're using the

1312
01:10:11,010 --> 01:10:15,510
to-to-to-to scheme what if we just

1313
01:10:12,899 --> 01:10:19,319
compressed these values just down to

1314
01:10:15,510 --> 01:10:21,750
being in order right and so zero zero

1315
01:10:19,319 --> 01:10:24,689
zero comes first zero zero one comes

1316
01:10:21,750 --> 01:10:27,750
second right and you can see like these

1317
01:10:24,689 --> 01:10:31,289
just go in order anyway I mean they're

1318
01:10:27,750 --> 01:10:33,809
already literally in order in here so I

1319
01:10:31,289 --> 01:10:35,849
feel like we should be able to just

1320
01:10:33,809 --> 01:10:39,630
compress this down and say look there's

1321
01:10:35,849 --> 01:10:42,119
eight tiles and there they are right I

1322
01:10:39,630 --> 01:10:44,340
mean at least I don't see any reason why

1323
01:10:42,118 --> 01:10:45,329
we couldn't and then this would just

1324
01:10:44,340 --> 01:10:52,350
become

1325
01:10:45,329 --> 01:10:54,180
right and that just seems a little more

1326
01:10:52,350 --> 01:10:56,640
sane than trying to deal with three

1327
01:10:54,180 --> 01:10:58,800
separate arrays subscripts which at some

1328
01:10:56,640 --> 01:11:02,060
level is going to be a little bit

1329
01:10:58,800 --> 01:11:06,119
annoying right

1330
01:11:02,060 --> 01:11:08,220
and so we've packed these specifically I

1331
01:11:06,119 --> 01:11:09,569
guess in this order I don't know why we

1332
01:11:08,220 --> 01:11:12,030
chose that order to begin with but I

1333
01:11:09,569 --> 01:11:15,719
guess we did you can see it just goes X

1334
01:11:12,029 --> 01:11:17,909
firsts always and then Y seconds and

1335
01:11:15,720 --> 01:11:22,350
then Z thirds and then we did the blend

1336
01:11:17,909 --> 01:11:25,380
in that order so off you go right so if

1337
01:11:22,350 --> 01:11:27,630
we were to build now you know my hope is

1338
01:11:25,380 --> 01:11:29,130
that I didn't change anything and we

1339
01:11:27,630 --> 01:11:31,710
don't get you know completely ridiculous

1340
01:11:29,130 --> 01:11:33,449
lighting results here from all the

1341
01:11:31,710 --> 01:11:36,779
sampling and whatnot but you know

1342
01:11:33,449 --> 01:11:39,210
certainly looks okay I think again it's

1343
01:11:36,779 --> 01:11:41,009
kind of hard to tell because we don't

1344
01:11:39,210 --> 01:11:42,689
really have a lot of good ways of

1345
01:11:41,010 --> 01:11:45,659
analyzing whether lighting is looking

1346
01:11:42,689 --> 01:11:47,549
correctly that so from there what I'd

1347
01:11:45,659 --> 01:11:52,170
like to do is I'd like to just go ahead

1348
01:11:47,550 --> 01:11:55,680
and introduce a flat weighting scheme so

1349
01:11:52,170 --> 01:11:57,720
let's suppose I just do like a W maybe

1350
01:11:55,680 --> 01:11:59,010
and I say there's going to be eight of

1351
01:11:57,720 --> 01:12:01,740
those and then we'll just produce

1352
01:11:59,010 --> 01:12:06,329
whatever those should be now what you

1353
01:12:01,739 --> 01:12:09,599
can see here is we transition on X first

1354
01:12:06,329 --> 01:12:11,699
so basically we're going to have X and 1

1355
01:12:09,600 --> 01:12:13,320
minus X each time now I'm going to show

1356
01:12:11,699 --> 01:12:15,210
you a little trick that I like to use

1357
01:12:13,319 --> 01:12:17,929
here to make these things more readable

1358
01:12:15,210 --> 01:12:17,930
right

1359
01:12:18,060 --> 01:12:24,210
and what I like to do is let's just say

1360
01:12:21,090 --> 01:12:26,909
we'll use the lowercase versions of each

1361
01:12:24,210 --> 01:12:30,149
of these to produce the weight values

1362
01:12:26,909 --> 01:12:34,109
for each of these but what I like to do

1363
01:12:30,149 --> 01:12:37,769
is I like to have sort of a minus a plus

1364
01:12:34,109 --> 01:12:43,349
and a minus version of each one right so

1365
01:12:37,770 --> 01:12:45,690
I like to do something like this right

1366
01:12:43,350 --> 01:12:46,289
and you can even do it this way if you

1367
01:12:45,689 --> 01:12:48,869
want to

1368
01:12:46,289 --> 01:12:51,989
so like positive u and minus u or

1369
01:12:48,869 --> 01:12:54,090
whatever or negative u either way and so

1370
01:12:51,989 --> 01:12:57,300
each of these is like which one of these

1371
01:12:54,090 --> 01:12:58,840
you wanted so if you wanted a positive X

1372
01:12:57,300 --> 01:13:01,360
right I could even do X Y

1373
01:12:58,840 --> 01:13:02,770
z would be another one to do it so I

1374
01:13:01,359 --> 01:13:04,539
don't know you can choose whatever names

1375
01:13:02,770 --> 01:13:06,909
you want for these but what I'd like to

1376
01:13:04,539 --> 01:13:09,698
do is I like to make the negative

1377
01:13:06,908 --> 01:13:12,219
version of the thing as just a variable

1378
01:13:09,698 --> 01:13:14,859
right and the reason for this is it

1379
01:13:12,219 --> 01:13:16,929
makes it extremely easy to see what the

1380
01:13:14,859 --> 01:13:21,729
heck is going on without actually

1381
01:13:16,929 --> 01:13:24,219
hurting your eyes right so in this case

1382
01:13:21,729 --> 01:13:27,519
I know that the negative version of X

1383
01:13:24,219 --> 01:13:31,118
right the one where it's inverted is

1384
01:13:27,520 --> 01:13:33,909
going to be on the zero two four and six

1385
01:13:31,118 --> 01:13:35,920
side right because you can see that they

1386
01:13:33,908 --> 01:13:38,920
would have been getting one minus the X

1387
01:13:35,920 --> 01:13:42,158
blend so if you look at what we've got

1388
01:13:38,920 --> 01:13:55,359
here and I can even put these in so that

1389
01:13:42,158 --> 01:13:57,039
you can see them literally if you look

1390
01:13:55,359 --> 01:13:59,589
at what's going on here we can say well

1391
01:13:57,039 --> 01:14:01,929
zero two four and six they should be

1392
01:13:59,590 --> 01:14:09,579
getting the negative version of X right

1393
01:14:01,929 --> 01:14:12,929
and then one three five and seven should

1394
01:14:09,579 --> 01:14:17,349
be getting the positive version of X

1395
01:14:12,929 --> 01:14:20,649
makes sense so then we have to look and

1396
01:14:17,349 --> 01:14:24,340
say okay now who's getting the positive

1397
01:14:20,649 --> 01:14:27,189
and negative versions of Y well zero and

1398
01:14:24,340 --> 01:14:29,679
one get the negative version of Y right

1399
01:14:27,189 --> 01:14:32,379
and four and five get the negative

1400
01:14:29,679 --> 01:14:34,300
version of Y so I know that there's

1401
01:14:32,380 --> 01:14:40,529
going to be a negative Y on each of

1402
01:14:34,300 --> 01:14:43,449
these oops

1403
01:14:40,529 --> 01:14:44,710
right so it's negative positive negative

1404
01:14:43,448 --> 01:14:47,019
positive negative positive negative

1405
01:14:44,710 --> 01:14:48,639
positive and then negative negative

1406
01:14:47,020 --> 01:14:49,989
personally positive positive negative

1407
01:14:48,639 --> 01:14:52,569
negative personally positive positive

1408
01:14:49,988 --> 01:14:54,459
and is it you know yes it is two and

1409
01:14:52,569 --> 01:14:57,189
three have the positive version six and

1410
01:14:54,460 --> 01:15:02,230
seven have the positive version right so

1411
01:14:57,189 --> 01:15:06,939
there's my you know positive Y positive

1412
01:15:02,229 --> 01:15:08,948
Y and then finally on Z you can see

1413
01:15:06,939 --> 01:15:11,198
there's just one Z blend zero one two

1414
01:15:08,948 --> 01:15:12,609
three all have the negative and four

1415
01:15:11,198 --> 01:15:16,179
five six seven all

1416
01:15:12,609 --> 01:15:20,769
the positive so we're negative Z on each

1417
01:15:16,180 --> 01:15:25,990
of these and there were positive Z on

1418
01:15:20,770 --> 01:15:28,900
each of these right so hopefully you can

1419
01:15:25,989 --> 01:15:30,519
see it's really simple for us to build

1420
01:15:28,899 --> 01:15:33,189
this weight table when you look at it

1421
01:15:30,520 --> 01:15:34,780
this way instead of some giant tangle of

1422
01:15:33,189 --> 01:15:36,729
crap that's really hard for you to

1423
01:15:34,779 --> 01:15:38,019
understand you can just see it's like

1424
01:15:36,729 --> 01:15:39,339
negative positive negative positive

1425
01:15:38,020 --> 01:15:40,750
negative positive negative positive

1426
01:15:39,340 --> 01:15:42,130
negative negative positive positive

1427
01:15:40,750 --> 01:15:43,270
negative negative positive positive

1428
01:15:42,130 --> 01:15:45,819
negative negative negative negative

1429
01:15:43,270 --> 01:15:47,680
positive positive right it's much easier

1430
01:15:45,819 --> 01:15:50,170
to see what's going on in this case and

1431
01:15:47,680 --> 01:15:52,600
then once we have those weight values

1432
01:15:50,170 --> 01:15:54,940
now the result just becomes the sum of

1433
01:15:52,600 --> 01:15:59,650
the weights so it's just tiles zero

1434
01:15:54,939 --> 01:16:06,489
value right and each of those is going

1435
01:15:59,649 --> 01:16:08,529
to be multiplied by its weight and I

1436
01:16:06,489 --> 01:16:09,939
guess in this case we might want it to

1437
01:16:08,529 --> 01:16:13,809
look like that just cause it's a little

1438
01:16:09,939 --> 01:16:24,879
easier and so we can just now sum all of

1439
01:16:13,810 --> 01:16:33,970
these up and that's the actual equation

1440
01:16:24,880 --> 01:16:36,159
that we needed right so that should do

1441
01:16:33,970 --> 01:16:41,230
don't ask me why there's a semicolon

1442
01:16:36,159 --> 01:16:42,939
there so that should do exactly the same

1443
01:16:41,229 --> 01:16:45,759
thing right so this should produce

1444
01:16:42,939 --> 01:16:48,639
literally no change unless I've screwed

1445
01:16:45,760 --> 01:16:50,230
it up which you know often happens but

1446
01:16:48,640 --> 01:16:52,780
basically that's exactly the same

1447
01:16:50,229 --> 01:16:55,149
sampling it's just being computed in a

1448
01:16:52,779 --> 01:16:56,829
slightly different way and you know the

1449
01:16:55,149 --> 01:16:59,229
compiler probably turns these into the

1450
01:16:56,829 --> 01:17:01,930
same thing once it does all of its SSA

1451
01:16:59,229 --> 01:17:04,169
and you know expression elimination and

1452
01:17:01,930 --> 01:17:04,170
so on

1453
01:17:08,439 --> 01:17:13,789
but the reason that we want this

1454
01:17:11,689 --> 01:17:18,789
transformation is that once we've put it

1455
01:17:13,789 --> 01:17:21,619
in this form we can now for free do

1456
01:17:18,789 --> 01:17:25,850
normalization or knock outs or anything

1457
01:17:21,619 --> 01:17:29,149
else so for example if in here where we

1458
01:17:25,850 --> 01:17:33,350
do compute foxes or radians at we have

1459
01:17:29,149 --> 01:17:35,389
two choices we can do really any number

1460
01:17:33,350 --> 01:17:37,520
of things but what we can do here is say

1461
01:17:35,390 --> 01:17:40,550
look how did you want to compute this

1462
01:17:37,520 --> 01:17:44,660
voxel irradiance do you want to just

1463
01:17:40,550 --> 01:17:46,670
pass me in for example an f32 pointer

1464
01:17:44,659 --> 01:17:48,889
where you're going to say look here's

1465
01:17:46,670 --> 01:17:52,340
where the knock out values come from or

1466
01:17:48,890 --> 01:17:54,170
something right and I don't know exactly

1467
01:17:52,340 --> 01:17:57,409
how we'd want to do this but I'm

1468
01:17:54,170 --> 01:17:58,970
guessing instead of a 32 I probably just

1469
01:17:57,409 --> 01:18:01,220
want to take a you thirty-two mast

1470
01:17:58,970 --> 01:18:04,640
probably even just a you 16 mask here

1471
01:18:01,220 --> 01:18:10,720
I'm guessing that would probably have

1472
01:18:04,640 --> 01:18:15,560
come from you know one of the external

1473
01:18:10,720 --> 01:18:17,090
values we would have gotten right and so

1474
01:18:15,560 --> 01:18:19,010
I don't know exactly how we want this

1475
01:18:17,090 --> 01:18:21,110
mask to come in but I think that's more

1476
01:18:19,010 --> 01:18:23,570
or less what we would want and probably

1477
01:18:21,109 --> 01:18:27,170
what we want to do here is we just want

1478
01:18:23,569 --> 01:18:31,969
to use the mask value to knock out

1479
01:18:27,170 --> 01:18:34,399
certain elements of the voxel so you

1480
01:18:31,970 --> 01:18:39,500
know something where we loft the mask up

1481
01:18:34,399 --> 01:18:43,639
into some kind of a usable a usable

1482
01:18:39,500 --> 01:18:45,380
multiplier there's some it's kind of

1483
01:18:43,640 --> 01:18:46,550
hard to say exactly how you want to do

1484
01:18:45,380 --> 01:18:48,829
this because we haven't written this

1485
01:18:46,550 --> 01:18:54,289
routine in Cindy yet so again I'm really

1486
01:18:48,829 --> 01:18:56,539
just not sure how we want to do that try

1487
01:18:54,289 --> 01:18:58,760
to think because probably what's going

1488
01:18:56,539 --> 01:19:03,920
to happen is you're gonna do we would do

1489
01:18:58,760 --> 01:19:06,320
the classification wide and then yeah so

1490
01:19:03,920 --> 01:19:07,970
you know honestly I think it probably

1491
01:19:06,319 --> 01:19:09,229
will be something more like this it

1492
01:19:07,970 --> 01:19:14,770
probably will be something more like

1493
01:19:09,229 --> 01:19:16,759
this so you'll probably just use

1494
01:19:14,770 --> 01:19:19,010
coefficients that come in the

1495
01:19:16,760 --> 01:19:23,079
coefficients will go like this so

1496
01:19:19,010 --> 01:19:23,079
they'll multiply on the back here

1497
01:19:23,340 --> 01:19:30,789
so you can devalue ones that you can't

1498
01:19:28,090 --> 01:19:33,550
reach and then when you're done with

1499
01:19:30,789 --> 01:19:37,510
this what we want to do is 1 normalize

1500
01:19:33,550 --> 01:19:40,989
these values so we need to do a sum

1501
01:19:37,510 --> 01:19:45,130
where we take each of these and add them

1502
01:19:40,989 --> 01:19:49,619
together right so that we can produce

1503
01:19:45,130 --> 01:19:49,619
the total value that we're going to get

1504
01:19:52,739 --> 01:19:59,289
and then once we know what that total

1505
01:19:56,619 --> 01:20:03,519
value is it's pretty cheap for us to

1506
01:19:59,289 --> 01:20:06,189
invert it and the only thing I'm not

1507
01:20:03,520 --> 01:20:08,050
sure about here is like you know if

1508
01:20:06,189 --> 01:20:15,460
you're doing like a fast reciprocal do

1509
01:20:08,050 --> 01:20:19,510
we have yeah so you know we have

1510
01:20:15,460 --> 01:20:21,310
approximate one over and you know I'm

1511
01:20:19,510 --> 01:20:27,100
guessing that that's would probably be

1512
01:20:21,310 --> 01:20:30,580
what happens here and I guess we didn't

1513
01:20:27,100 --> 01:20:37,610
ever actually do one that doesn't use

1514
01:20:30,579 --> 01:20:39,878
f/32 for X's which may be fine you know

1515
01:20:37,609 --> 01:20:49,398
[Music]

1516
01:20:39,878 --> 01:20:54,139
man so I'm not sure how I feel about

1517
01:20:49,399 --> 01:20:56,599
that or if I care so for right now maybe

1518
01:20:54,139 --> 01:21:01,159
we'll just say all right you know maybe

1519
01:20:56,599 --> 01:21:03,918
we do in our CP PS at some point so

1520
01:21:01,158 --> 01:21:05,719
we're expecting that will do this for

1521
01:21:03,918 --> 01:21:07,878
right now maybe we don't I mean

1522
01:21:05,719 --> 01:21:11,719
maybe we'll just do over this and let's

1523
01:21:07,878 --> 01:21:15,260
put it to do here like to do widen this

1524
01:21:11,719 --> 01:21:16,639
path and use our CP because you know at

1525
01:21:15,260 --> 01:21:18,260
the moments like okay we could still use

1526
01:21:16,639 --> 01:21:20,239
our CP even just because it's a scalar

1527
01:21:18,260 --> 01:21:22,099
but we don't actually need to because

1528
01:21:20,238 --> 01:21:23,568
we're not really trying to improve the

1529
01:21:22,099 --> 01:21:25,189
performance of this particular path

1530
01:21:23,569 --> 01:21:27,280
right now we will eventually probably

1531
01:21:25,189 --> 01:21:31,159
want to but it's sort of a separate

1532
01:21:27,279 --> 01:21:35,148
discussion so we're going to have an

1533
01:21:31,158 --> 01:21:39,098
inverse sum here and we want to use that

1534
01:21:35,149 --> 01:21:42,319
to multiply each of these values and

1535
01:21:39,099 --> 01:21:44,838
again really all this is is just saying

1536
01:21:42,319 --> 01:21:47,629
look we need to boost all of the nonzero

1537
01:21:44,838 --> 01:21:50,088
values to account for the values that

1538
01:21:47,628 --> 01:21:53,238
got zero it out or lessened by the

1539
01:21:50,088 --> 01:21:55,548
coefficient that the caller requested so

1540
01:21:53,238 --> 01:21:59,298
we're just it's really just this right

1541
01:21:55,548 --> 01:22:03,439
it's really just an additional sum that

1542
01:21:59,298 --> 01:22:05,958
tax on the end and because we know that

1543
01:22:03,439 --> 01:22:09,588
that sum will distribute across all of

1544
01:22:05,958 --> 01:22:13,368
the W's we don't actually have to do it

1545
01:22:09,588 --> 01:22:16,729
at that time right what we can do

1546
01:22:13,368 --> 01:22:19,578
instead is just say well after we do all

1547
01:22:16,729 --> 01:22:21,798
of the multiplied sums we can just do it

1548
01:22:19,578 --> 01:22:25,338
at the end right because whatever the

1549
01:22:21,798 --> 01:22:27,019
lighting value that we got we know that

1550
01:22:25,338 --> 01:22:29,149
all of the weights would have been

1551
01:22:27,019 --> 01:22:31,338
multiplied by this inverse sum so we can

1552
01:22:29,149 --> 01:22:34,399
literally just do one multiply at the

1553
01:22:31,338 --> 01:22:38,118
end of the production and that would

1554
01:22:34,399 --> 01:22:40,128
produce everything we needed better yet

1555
01:22:38,118 --> 01:22:42,048
it makes it pretty easy for us to do

1556
01:22:40,128 --> 01:22:43,939
this because since we probably won't be

1557
01:22:42,048 --> 01:22:47,149
taking 4 samples at the same time

1558
01:22:43,939 --> 01:22:49,838
because the Intel chips have the

1559
01:22:47,149 --> 01:22:52,280
absolute worst scatter gather

1560
01:22:49,838 --> 01:22:55,399
performance of any chip

1561
01:22:52,279 --> 01:22:59,960
the known universe in fact doesn't even

1562
01:22:55,399 --> 01:23:01,670
have instructions for it to lay VX we

1563
01:22:59,960 --> 01:23:04,368
know that we can't really do this path

1564
01:23:01,670 --> 01:23:06,288
for wide very efficiently anyway so at

1565
01:23:04,368 --> 01:23:09,288
that point it's like well since this is

1566
01:23:06,288 --> 01:23:12,259
going to be a lateral some actually

1567
01:23:09,288 --> 01:23:14,118
doing RGB at the same time is a cheap

1568
01:23:12,260 --> 01:23:17,179
way to get 3x the performance through

1569
01:23:14,118 --> 01:23:18,920
here since I don't think we're going to

1570
01:23:17,179 --> 01:23:21,649
get 4x the performance through here so

1571
01:23:18,920 --> 01:23:23,449
this whole thing could be done wide and

1572
01:23:21,649 --> 01:23:25,759
you could do the RGB zall at the same

1573
01:23:23,448 --> 01:23:27,948
time and so that's a nice way to think

1574
01:23:25,760 --> 01:23:30,590
about how to widen this path in the

1575
01:23:27,948 --> 01:23:32,509
future in a way that might not be

1576
01:23:30,590 --> 01:23:35,328
horrible because we'll get 3 X naught

1577
01:23:32,510 --> 01:23:40,429
for X but hey it's 3 X with literally no

1578
01:23:35,328 --> 01:23:42,529
work that's pretty good ok so if I go

1579
01:23:40,429 --> 01:23:45,770
ahead and build now what we will find is

1580
01:23:42,529 --> 01:23:47,448
that the f32 C pointer is not going to

1581
01:23:45,770 --> 01:23:50,139
be supplied by the people who actually

1582
01:23:47,448 --> 01:23:52,939
need this to happen so if we take a look

1583
01:23:50,139 --> 01:23:54,920
inside the a B raycast responds pretty

1584
01:23:52,939 --> 01:23:57,469
that's currently running you can see us

1585
01:23:54,920 --> 01:23:59,929
doing our compute voxel irradiance and

1586
01:23:57,469 --> 01:24:02,118
what we have is you know a missing

1587
01:23:59,929 --> 01:24:04,699
parameter here now the cheapest thing to

1588
01:24:02,118 --> 01:24:08,808
do obviously in this case is just to say

1589
01:24:04,698 --> 01:24:10,368
look there's eight of these right here's

1590
01:24:08,809 --> 01:24:12,949
the I don't know we want to call this

1591
01:24:10,368 --> 01:24:16,399
but basically the like the gather

1592
01:24:12,948 --> 01:24:18,439
coefficient or something and we know

1593
01:24:16,399 --> 01:24:22,848
that if we just set this to like all

1594
01:24:18,439 --> 01:24:25,549
ones that should be sufficient to

1595
01:24:22,849 --> 01:24:27,529
reproduce the exact same thing that we

1596
01:24:25,550 --> 01:24:32,329
were getting before so if I were to do

1597
01:24:27,529 --> 01:24:35,179
this I should see no change if we didn't

1598
01:24:32,328 --> 01:24:37,670
screw up the previous path by the

1599
01:24:35,179 --> 01:24:40,880
changes I just made we will see the same

1600
01:24:37,670 --> 01:24:42,260
rough lighting occurring as we march

1601
01:24:40,880 --> 01:24:44,929
through the world and that you know that

1602
01:24:42,260 --> 01:24:47,960
does seem to be roughly what we're

1603
01:24:44,929 --> 01:24:50,420
getting I don't see really much evidence

1604
01:24:47,960 --> 01:24:52,639
of any change at all

1605
01:24:50,420 --> 01:24:55,399
you know don't quote me on that but it

1606
01:24:52,639 --> 01:24:57,349
seems about right from what I can tell

1607
01:24:55,399 --> 01:25:00,888
and remember I think we turned off all

1608
01:24:57,349 --> 01:25:02,538
the lights so there's no lights where

1609
01:25:00,889 --> 01:25:03,679
where there actually are lamps like

1610
01:25:02,538 --> 01:25:05,779
they're normally were because I think we

1611
01:25:03,679 --> 01:25:06,560
stopped adding those so we're literally

1612
01:25:05,779 --> 01:25:09,500
just looking at

1613
01:25:06,560 --> 01:25:11,750
spread from this particular light and at

1614
01:25:09,500 --> 01:25:12,439
the moment it looks about the same as it

1615
01:25:11,750 --> 01:25:15,619
used to

1616
01:25:12,439 --> 01:25:18,289
I don't see any indication that it's

1617
01:25:15,619 --> 01:25:20,000
different so hopefully we're basically

1618
01:25:18,289 --> 01:25:21,739
getting the same thing but I don't know

1619
01:25:20,000 --> 01:25:24,619
you know it's always kind of hard to

1620
01:25:21,739 --> 01:25:26,659
tell but bounce lighting wise I don't

1621
01:25:24,619 --> 01:25:28,279
know like it sure does look like like

1622
01:25:26,659 --> 01:25:29,779
these tiles are getting brighter there I

1623
01:25:28,279 --> 01:25:32,149
don't know but maybe that's just it yeah

1624
01:25:29,779 --> 01:25:34,699
it's really again it's really really

1625
01:25:32,149 --> 01:25:36,049
difficult unfortunately to know like

1626
01:25:34,699 --> 01:25:42,489
kind of what you're getting we probably

1627
01:25:36,050 --> 01:25:45,890
should put some strongly color altering

1628
01:25:42,489 --> 01:25:47,479
occluders in here so that we can see the

1629
01:25:45,890 --> 01:25:51,110
difference between the direct lighting

1630
01:25:47,479 --> 01:25:54,229
and the bounced lighting so you know for

1631
01:25:51,109 --> 01:25:58,369
example if i if i went into the push

1632
01:25:54,229 --> 01:26:01,159
occluder code you know you pass a

1633
01:25:58,369 --> 01:26:04,279
separate color in here so what I could

1634
01:26:01,159 --> 01:26:06,289
do and I don't really know if this will

1635
01:26:04,279 --> 01:26:08,210
work particularly effectively but what I

1636
01:26:06,289 --> 01:26:10,340
could do is say like what if I just you

1637
01:26:08,210 --> 01:26:12,109
know instead of pushing include er of

1638
01:26:10,340 --> 01:26:14,329
the actual correct color I just knock

1639
01:26:12,109 --> 01:26:17,000
out all but the red component or

1640
01:26:14,329 --> 01:26:20,059
something right so if you imagine doing

1641
01:26:17,000 --> 01:26:26,390
that then at least I could see a little

1642
01:26:20,060 --> 01:26:29,410
bit what is the complaint oh why does it

1643
01:26:26,390 --> 01:26:38,170
take a v4

1644
01:26:29,409 --> 01:26:40,909
it doesn't use it so that's odd but okay

1645
01:26:38,170 --> 01:26:42,470
so anyway if I knock out the other color

1646
01:26:40,909 --> 01:26:43,460
components I should now be able to tell

1647
01:26:42,470 --> 01:26:45,020
the difference between things that

1648
01:26:43,460 --> 01:26:50,810
directly sampled the white light source

1649
01:26:45,020 --> 01:26:56,020
and things which bounced and yeah I mean

1650
01:26:50,810 --> 01:26:59,810
you know that's bounce lighting right I

1651
01:26:56,020 --> 01:27:01,700
mean kind of obviously is in the sense

1652
01:26:59,810 --> 01:27:04,310
that you can see it right there getting

1653
01:27:01,699 --> 01:27:07,909
affected you know by it

1654
01:27:04,310 --> 01:27:10,880
I could turn off the moonlight just as

1655
01:27:07,909 --> 01:27:13,699
another just to force so uh so that we

1656
01:27:10,880 --> 01:27:16,869
kind of know we're looking at I could

1657
01:27:13,699 --> 01:27:16,869
say you know moon color

1658
01:27:16,979 --> 01:27:27,389
x equals zero and that would that would

1659
01:27:20,550 --> 01:27:29,760
just knock out any inbound lighting from

1660
01:27:27,390 --> 01:27:33,869
anywhere else so then you would get you

1661
01:27:29,760 --> 01:27:37,230
know this and all of the bounce lighting

1662
01:27:33,869 --> 01:27:44,399
that we see now is coming from just this

1663
01:27:37,229 --> 01:27:51,839
one light source right so you know it

1664
01:27:44,399 --> 01:27:52,409
looks reasonable you know it's hard to

1665
01:27:51,840 --> 01:27:56,100
say

1666
01:27:52,409 --> 01:27:57,750
it looks reasonable and you can see

1667
01:27:56,100 --> 01:27:59,489
people doing back sampling here right

1668
01:27:57,750 --> 01:28:04,109
that's what you're getting in some of

1669
01:27:59,488 --> 01:28:06,809
these so you know I think I think that

1670
01:28:04,109 --> 01:28:08,729
we're doing the sampling but again it's

1671
01:28:06,810 --> 01:28:10,170
really hard to test so as we do lighting

1672
01:28:08,729 --> 01:28:12,029
quality we're going to have to invent

1673
01:28:10,170 --> 01:28:17,480
good ways of generating test cases

1674
01:28:12,029 --> 01:28:20,460
because it's really hard to say right

1675
01:28:17,479 --> 01:28:23,849
and so as we move through the world

1676
01:28:20,460 --> 01:28:25,230
using this particular test you can count

1677
01:28:23,850 --> 01:28:30,600
yet you can kind of see what's going on

1678
01:28:25,229 --> 01:28:33,509
here and I mean it sure seems like it's

1679
01:28:30,600 --> 01:28:36,390
working but again it's really hard to

1680
01:28:33,510 --> 01:28:39,390
say I mean I guess one thing we could do

1681
01:28:36,390 --> 01:28:49,250
to test it is say well okay so what if

1682
01:28:39,390 --> 01:28:52,369
we went into this code and we we

1683
01:28:49,250 --> 01:28:57,449
intentionally knocked out a particular

1684
01:28:52,369 --> 01:29:00,090
blend so you know suppose we said we

1685
01:28:57,449 --> 01:29:03,119
only wanted reflections from one side so

1686
01:29:00,090 --> 01:29:07,350
we knock out you know all of the things

1687
01:29:03,119 --> 01:29:09,090
on the left side of the blend and only

1688
01:29:07,350 --> 01:29:11,190
allowed things on the right side of the

1689
01:29:09,090 --> 01:29:15,060
blend you know that's one way of poking

1690
01:29:11,189 --> 01:29:17,069
at this thing and seeing what happens so

1691
01:29:15,060 --> 01:29:20,340
I mean that's a good test right that

1692
01:29:17,069 --> 01:29:23,729
clearly screwed up so I think that's

1693
01:29:20,340 --> 01:29:26,279
good really because it means we've

1694
01:29:23,729 --> 01:29:30,439
gotten an error in here and we can go

1695
01:29:26,279 --> 01:29:30,439
look at what's going on in there right

1696
01:29:30,710 --> 01:29:42,409
so if we set these if we set these C

1697
01:29:37,979 --> 01:29:48,349
zeros to knock out certain parts of the

1698
01:29:42,409 --> 01:29:51,059
of the blends somehow that gave us a

1699
01:29:48,350 --> 01:29:54,450
massively over contributed lighting

1700
01:29:51,060 --> 01:30:01,980
which again might not even be wrong it's

1701
01:29:54,449 --> 01:30:04,889
hard to say because we we actually don't

1702
01:30:01,979 --> 01:30:06,539
know if that's just because it caused us

1703
01:30:04,890 --> 01:30:09,660
to like overweight certain values

1704
01:30:06,539 --> 01:30:12,239
quickly right or something like this so

1705
01:30:09,659 --> 01:30:15,239
we don't really know but it certainly

1706
01:30:12,239 --> 01:30:17,130
shouldn't be the case that like an our

1707
01:30:15,239 --> 01:30:19,289
goal was to stabili blend these together

1708
01:30:17,130 --> 01:30:21,150
so it's possible that this is just buggy

1709
01:30:19,289 --> 01:30:23,609
right like this is doing it wrong and

1710
01:30:21,149 --> 01:30:28,170
when these all added up to one which

1711
01:30:23,609 --> 01:30:29,579
they were previously going to do when

1712
01:30:28,170 --> 01:30:34,310
they don't add up to one

1713
01:30:29,579 --> 01:30:40,380
somehow this produces some kind of

1714
01:30:34,310 --> 01:30:42,000
erroneously weird result right so since

1715
01:30:40,380 --> 01:30:44,100
we have that I'm gonna go ahead and

1716
01:30:42,000 --> 01:30:45,899
switch to a debug build so I can look at

1717
01:30:44,100 --> 01:30:47,670
that routine and just see what's going

1718
01:30:45,899 --> 01:30:49,349
on because maybe I just made some stupid

1719
01:30:47,670 --> 01:30:51,869
error that won't take very long to find

1720
01:30:49,350 --> 01:30:53,750
I don't know it could be much more

1721
01:30:51,869 --> 01:30:57,809
complicated than that obviously but

1722
01:30:53,750 --> 01:31:01,220
let's go ahead and try it so if I run

1723
01:30:57,810 --> 01:31:06,080
the program now and I guess I'm looking

1724
01:31:01,220 --> 01:31:09,030
for compute Vox Iranian sat there so

1725
01:31:06,079 --> 01:31:12,569
where was my lighting code lighting

1726
01:31:09,029 --> 01:31:15,000
lighting lighting lighting lighting so

1727
01:31:12,569 --> 01:31:17,670
if I want to take a look at that compute

1728
01:31:15,000 --> 01:31:22,649
voxel irradiance at code that should

1729
01:31:17,670 --> 01:31:24,720
probably be right here yeah and I think

1730
01:31:22,649 --> 01:31:26,489
we're running here yeah we are so if I

1731
01:31:24,720 --> 01:31:29,070
wanted to look at this I'm just gonna

1732
01:31:26,489 --> 01:31:31,529
just gonna stop here and I just want to

1733
01:31:29,069 --> 01:31:32,729
produce what these weighting values are

1734
01:31:31,529 --> 01:31:38,009
so that I can look at the weighting

1735
01:31:32,729 --> 01:31:40,379
values look they look somewhat

1736
01:31:38,010 --> 01:31:44,170
reasonable

1737
01:31:40,380 --> 01:31:46,569
I should think right it's a little bit

1738
01:31:44,170 --> 01:31:49,899
hard to say because since the C values

1739
01:31:46,569 --> 01:31:52,389
have pre knocked out the other values I

1740
01:31:49,899 --> 01:31:56,920
can't see what they are but I can just

1741
01:31:52,389 --> 01:32:00,400
do this and see if that would have been

1742
01:31:56,920 --> 01:32:02,889
a large value and it was so once we

1743
01:32:00,399 --> 01:32:05,948
produce the sum here you can see what it

1744
01:32:02,889 --> 01:32:10,659
actually is that's the sum of all of the

1745
01:32:05,948 --> 01:32:14,618
values that have been added up I'll be

1746
01:32:10,658 --> 01:32:16,420
honest that doesn't Oh cuz I haven't run

1747
01:32:14,618 --> 01:32:20,259
it yet look it doesn't look right that

1748
01:32:16,420 --> 01:32:29,980
looks right and then we can see what the

1749
01:32:20,260 --> 01:32:32,829
inverse is and there we go now I guess

1750
01:32:29,979 --> 01:32:34,419
one problem that we'd have is if for

1751
01:32:32,828 --> 01:32:36,789
some reason we were saying if we ever

1752
01:32:34,420 --> 01:32:39,069
got a sample value where we knocked out

1753
01:32:36,789 --> 01:32:42,130
the only values that actually were non

1754
01:32:39,069 --> 01:32:44,049
zero then this inves inverse sum would

1755
01:32:42,130 --> 01:32:46,569
be a problem so I guess one thing I

1756
01:32:44,050 --> 01:32:48,340
should take out I don't really expect it

1757
01:32:46,569 --> 01:32:51,429
to be happening but you never really

1758
01:32:48,340 --> 01:32:54,130
know is I could just say well the

1759
01:32:51,429 --> 01:32:56,710
inverse sum in this case needs to be

1760
01:32:54,130 --> 01:32:59,559
guarded so if the sum is greater than

1761
01:32:56,710 --> 01:33:01,618
zero we do it if it's not we don't and

1762
01:32:59,559 --> 01:33:04,139
maybe we even just give it a tolerance

1763
01:33:01,618 --> 01:33:09,130
so we're never going to produce

1764
01:33:04,139 --> 01:33:10,328
particularly egregious values and we'll

1765
01:33:09,130 --> 01:33:10,630
have to see how we want to deal with

1766
01:33:10,328 --> 01:33:12,399
that

1767
01:33:10,630 --> 01:33:14,289
a little bit later but let's suppose I

1768
01:33:12,399 --> 01:33:15,759
did something like that because I'm just

1769
01:33:14,289 --> 01:33:17,590
curious if we were what we were actually

1770
01:33:15,760 --> 01:33:19,989
seeing is just one case where we landed

1771
01:33:17,590 --> 01:33:21,909
right on the dividing line which you

1772
01:33:19,988 --> 01:33:28,269
know could have happened I'm just

1773
01:33:21,908 --> 01:33:32,039
curious what is going on

1774
01:33:28,270 --> 01:33:32,040
stop build

1775
01:33:34,260 --> 01:33:45,869
yeah and run okay so I guess that was

1776
01:33:43,859 --> 01:33:47,369
all it was was we literally did have

1777
01:33:45,869 --> 01:33:49,199
some that landed right on the boundary

1778
01:33:47,369 --> 01:33:52,559
because here's the lighting and it's

1779
01:33:49,199 --> 01:33:55,679
working okay with that now one of the

1780
01:33:52,560 --> 01:34:00,750
really disturbing things about this as I

1781
01:33:55,680 --> 01:34:03,510
hope you can appreciate is although you

1782
01:34:00,750 --> 01:34:07,050
can see the sightedness so let's suppose

1783
01:34:03,510 --> 01:34:11,220
I stop right here you can see the

1784
01:34:07,050 --> 01:34:13,619
sightedness that is in there right you

1785
01:34:11,220 --> 01:34:15,960
know as I move over here you can see

1786
01:34:13,619 --> 01:34:20,250
that it's really unlikely that you'll

1787
01:34:15,960 --> 01:34:21,630
get stuff happening on the side but it's

1788
01:34:20,250 --> 01:34:23,250
very likely that you'll get stuff

1789
01:34:21,630 --> 01:34:24,659
happening on this side well actually

1790
01:34:23,250 --> 01:34:26,010
that's not actually probably the

1791
01:34:24,659 --> 01:34:26,849
sidedness to be completely honest with

1792
01:34:26,010 --> 01:34:28,829
you

1793
01:34:26,850 --> 01:34:30,960
so I'll ignore that part of it for now I

1794
01:34:28,829 --> 01:34:34,199
was gonna say you can see and hear how

1795
01:34:30,960 --> 01:34:37,350
we get some red sampling coming in and

1796
01:34:34,199 --> 01:34:41,960
we don't get any on this side whereas if

1797
01:34:37,350 --> 01:34:44,430
I was to change it back we will probably

1798
01:34:41,960 --> 01:34:52,109
get that so if I actually look at the

1799
01:34:44,430 --> 01:34:56,220
gather see and I change it back to all

1800
01:34:52,109 --> 01:35:00,659
ones I should see now red fringing on

1801
01:34:56,220 --> 01:35:02,489
either side but again the the thing that

1802
01:35:00,659 --> 01:35:05,729
I wanted to underscore there was like it

1803
01:35:02,488 --> 01:35:08,009
was so subtle though and so it's really

1804
01:35:05,729 --> 01:35:10,319
kind of disturbing because you're like

1805
01:35:08,010 --> 01:35:12,750
it's so hard to see if these things are

1806
01:35:10,319 --> 01:35:14,369
working properly right so now you can

1807
01:35:12,750 --> 01:35:21,300
see some red fringing on this side but

1808
01:35:14,369 --> 01:35:24,059
man is that like hard to tell and so you

1809
01:35:21,300 --> 01:35:25,170
know it's it's really kind of one of

1810
01:35:24,060 --> 01:35:28,410
those things that I think we're really

1811
01:35:25,170 --> 01:35:31,500
gonna have to you know put our thinking

1812
01:35:28,409 --> 01:35:34,979
caps for because it's like crazy that

1813
01:35:31,500 --> 01:35:37,260
you can literally sample like totally

1814
01:35:34,979 --> 01:35:39,589
wrong and it's still really it still

1815
01:35:37,260 --> 01:35:43,469
kind of looks like lighting you know

1816
01:35:39,590 --> 01:35:47,699
that's just not that makes it really

1817
01:35:43,469 --> 01:35:48,140
hard to find the problems and I just

1818
01:35:47,699 --> 01:35:51,739
don't

1819
01:35:48,140 --> 01:35:54,110
like you know I just don't know how to

1820
01:35:51,739 --> 01:35:55,550
verify that this is even remotely right

1821
01:35:54,109 --> 01:35:57,710
at this point right it still could be

1822
01:35:55,550 --> 01:35:59,690
like totally busted

1823
01:35:57,710 --> 01:36:04,609
and we just don't have a good way of

1824
01:35:59,689 --> 01:36:06,619
knowing so I do think that's another

1825
01:36:04,609 --> 01:36:09,799
quality issue it's like we're going to

1826
01:36:06,619 --> 01:36:12,170
have to actually have a solid

1827
01:36:09,800 --> 01:36:13,909
explanation of how the heck we know if

1828
01:36:12,170 --> 01:36:16,690
this stuff is working properly and at

1829
01:36:13,909 --> 01:36:20,449
the moment I really don't think we do

1830
01:36:16,689 --> 01:36:22,849
but I'm gonna now go ahead and say let's

1831
01:36:20,449 --> 01:36:25,010
switch back over to the previous method

1832
01:36:22,850 --> 01:36:28,600
and I'm going to add in a thing that

1833
01:36:25,010 --> 01:36:31,760
allows us to block light from coming

1834
01:36:28,600 --> 01:36:34,340
from certain locations now if I do the

1835
01:36:31,760 --> 01:36:39,460
gather see here again and I just stuff

1836
01:36:34,340 --> 01:36:41,659
in the garbage values that we had I

1837
01:36:39,460 --> 01:36:43,039
think we're almost out of time too so I

1838
01:36:41,659 --> 01:36:45,849
probably won't have a chance to finish

1839
01:36:43,039 --> 01:36:48,680
this today but we can finish it tomorrow

1840
01:36:45,850 --> 01:36:52,550
if I go ahead and and just do a quick

1841
01:36:48,680 --> 01:36:54,500
builds and run the game what you will

1842
01:36:52,550 --> 01:36:56,300
see right oh and that's kind of nice you

1843
01:36:54,500 --> 01:36:58,699
can see that the propagation is all

1844
01:36:56,300 --> 01:37:01,130
happening in the secondary bounce cuz

1845
01:36:58,699 --> 01:37:04,250
it's all red right that's pretty handy

1846
01:37:01,130 --> 01:37:06,230
actually that change you made so what

1847
01:37:04,250 --> 01:37:09,260
you can see happening here again is like

1848
01:37:06,229 --> 01:37:12,409
that spreading to outside the wall I

1849
01:37:09,260 --> 01:37:15,770
want to see if I can contain that by not

1850
01:37:12,409 --> 01:37:22,909
allowing any of the light to propagate

1851
01:37:15,770 --> 01:37:26,120
past the boundary that got hit and this

1852
01:37:22,909 --> 01:37:31,039
is actually not that complicated as a

1853
01:37:26,119 --> 01:37:33,019
basis for for producing this gather C

1854
01:37:31,039 --> 01:37:37,250
value and the reason that it's actually

1855
01:37:33,020 --> 01:37:41,750
somewhat simple is I know where each of

1856
01:37:37,250 --> 01:37:44,600
these gather C values comes from because

1857
01:37:41,750 --> 01:37:47,989
they're known voxel locations so they're

1858
01:37:44,600 --> 01:37:51,350
just wherever I hit is a particular

1859
01:37:47,989 --> 01:37:56,840
voxel location and I just need to take

1860
01:37:51,350 --> 01:37:58,789
the normal and I need to determine and

1861
01:37:56,840 --> 01:38:00,619
in fact you know now and I'm thinking

1862
01:37:58,789 --> 01:38:01,819
about it I don't even know that I need

1863
01:38:00,619 --> 01:38:05,420
to

1864
01:38:01,819 --> 01:38:06,829
um I don't even know that I need to

1865
01:38:05,420 --> 01:38:09,350
really pass this in I mean if we're

1866
01:38:06,829 --> 01:38:11,750
honest about it I think we could

1867
01:38:09,350 --> 01:38:14,530
probably produce it up here I think it's

1868
01:38:11,750 --> 01:38:17,149
a fairly straightforward computation

1869
01:38:14,529 --> 01:38:20,569
that's just based on the position and

1870
01:38:17,149 --> 01:38:25,879
the normal right because I think all we

1871
01:38:20,569 --> 01:38:33,920
need to do is take the wherever the

1872
01:38:25,880 --> 01:38:36,590
voxel would have been and we just look

1873
01:38:33,920 --> 01:38:39,819
to see whether or not the thing you hit

1874
01:38:36,590 --> 01:38:42,650
is on the same side or the other side of

1875
01:38:39,819 --> 01:38:45,099
the place you're going to sample I think

1876
01:38:42,649 --> 01:38:48,409
that's actually all we need right

1877
01:38:45,100 --> 01:38:52,190
because again if we just pop over to the

1878
01:38:48,409 --> 01:38:54,979
board for one quick second I can explain

1879
01:38:52,189 --> 01:38:56,839
what I mean if we were to do this and

1880
01:38:54,979 --> 01:38:58,549
just think about doing it in 2d because

1881
01:38:56,840 --> 01:39:02,510
it's always easier to think that in 2d

1882
01:38:58,550 --> 01:39:06,110
than 3d and they're the same in this

1883
01:39:02,510 --> 01:39:10,579
case they're not the same in general if

1884
01:39:06,109 --> 01:39:13,429
you imagine we have four sample points

1885
01:39:10,579 --> 01:39:16,010
that represent the lighting samples of

1886
01:39:13,430 --> 01:39:20,619
our voxels so here are like what the

1887
01:39:16,010 --> 01:39:20,619
cells of the voxel would look like right

1888
01:39:21,130 --> 01:39:28,779
what we're fundamentally asking is if we

1889
01:39:24,739 --> 01:39:34,550
have a point and that point has a normal

1890
01:39:28,779 --> 01:39:36,380
we know that we're in one voxel cell or

1891
01:39:34,550 --> 01:39:37,940
rather I shouldn't say where we don't

1892
01:39:36,380 --> 01:39:40,789
really care that we're in one box we'll

1893
01:39:37,939 --> 01:39:46,549
sell we know there was some origin point

1894
01:39:40,789 --> 01:39:48,949
and we know that we are viewing this you

1895
01:39:46,550 --> 01:39:54,619
know location we know that we're viewing

1896
01:39:48,949 --> 01:39:58,659
that from this origin point right so

1897
01:39:54,619 --> 01:40:04,309
what we fundamentally want to know is

1898
01:39:58,659 --> 01:40:06,710
could we have seen each of these things

1899
01:40:04,310 --> 01:40:11,600
that we're going to sample could we have

1900
01:40:06,710 --> 01:40:15,079
seen them from this origin point based

1901
01:40:11,600 --> 01:40:15,739
on this hit right and what you can see

1902
01:40:15,079 --> 01:40:19,219
is

1903
01:40:15,738 --> 01:40:22,179
if I was to consider this to be a plane

1904
01:40:19,219 --> 01:40:25,579
passing through here based on the normal

1905
01:40:22,180 --> 01:40:29,450
what I would immediately see is that for

1906
01:40:25,579 --> 01:40:33,439
the origin looking at this point any of

1907
01:40:29,449 --> 01:40:36,469
the voxel cells whose sample origin

1908
01:40:33,439 --> 01:40:41,089
happens to be on the same side as the

1909
01:40:36,469 --> 01:40:43,159
Ray origin of this plane is something

1910
01:40:41,090 --> 01:40:46,489
whose lighting probably could have

1911
01:40:43,159 --> 01:40:49,488
contributed right now we don't know for

1912
01:40:46,488 --> 01:40:52,669
sure the full the most aggressive

1913
01:40:49,488 --> 01:40:55,519
version of this sample gather is to

1914
01:40:52,670 --> 01:40:57,230
actually ray cast back from the sample

1915
01:40:55,520 --> 01:40:59,900
point to all of these to see if you can

1916
01:40:57,229 --> 01:41:02,718
see them and people do that that's an

1917
01:40:59,899 --> 01:41:05,509
actual thing but because we don't have

1918
01:41:02,719 --> 01:41:08,210
the horsepower for it we're just gonna

1919
01:41:05,510 --> 01:41:11,030
say look classify it based on the normal

1920
01:41:08,210 --> 01:41:14,180
assume there weren't things like hanging

1921
01:41:11,029 --> 01:41:15,710
around in here but definitely don't

1922
01:41:14,180 --> 01:41:19,460
sample things on the other side because

1923
01:41:15,710 --> 01:41:21,800
if if we couldn't make it past here we

1924
01:41:19,460 --> 01:41:25,789
sure don't want to sample it right so

1925
01:41:21,800 --> 01:41:27,890
it's just a basic simple heuristic to

1926
01:41:25,789 --> 01:41:30,199
prevent light propagation in cases that

1927
01:41:27,890 --> 01:41:33,440
we think are pretty solidly obviously

1928
01:41:30,199 --> 01:41:36,769
not going to work as opposed to doing

1929
01:41:33,439 --> 01:41:42,289
the more aggressive version which is

1930
01:41:36,770 --> 01:41:47,510
very expensive right so let's take a

1931
01:41:42,289 --> 01:41:50,869
look if we then go and look at the you

1932
01:41:47,510 --> 01:41:55,670
know what we were doing over here we've

1933
01:41:50,869 --> 01:41:58,309
got our gather see and I'm just gonna

1934
01:41:55,670 --> 01:42:00,140
say look what we need to do is and I

1935
01:41:58,310 --> 01:42:02,810
guess I guess what we can see here is

1936
01:42:00,140 --> 01:42:06,070
that hey we don't have the origin as a

1937
01:42:02,810 --> 01:42:06,070
classifier in this case

1938
01:42:11,948 --> 01:42:16,369
we kind of don't need it though because

1939
01:42:14,600 --> 01:42:19,039
we know that that we know that the

1940
01:42:16,369 --> 01:42:20,090
normal has to point in the direction of

1941
01:42:19,039 --> 01:42:22,250
the ort so it's really just a

1942
01:42:20,090 --> 01:42:24,619
classification on the normal like it's

1943
01:42:22,250 --> 01:42:30,948
really just a classification to say what

1944
01:42:24,619 --> 01:42:33,050
it what's going on with this right and I

1945
01:42:30,948 --> 01:42:40,669
think that should be sufficient let me

1946
01:42:33,050 --> 01:42:42,650
think about that for a second I mean

1947
01:42:40,670 --> 01:42:46,159
there are other ways to think about it

1948
01:42:42,649 --> 01:42:47,629
than that now yeah so you know what

1949
01:42:46,159 --> 01:42:57,738
maybe we should think about this a

1950
01:42:47,630 --> 01:43:00,199
little bit more carefully so what are we

1951
01:42:57,738 --> 01:43:01,819
going to be doing eventually eventually

1952
01:43:00,198 --> 01:43:05,539
what we're going to be doing is saying

1953
01:43:01,819 --> 01:43:09,619
we have a normal we have a raycast

1954
01:43:05,539 --> 01:43:12,500
that has hit this point right and we

1955
01:43:09,619 --> 01:43:14,269
want to know therefore you know what

1956
01:43:12,500 --> 01:43:17,479
would have the what would the bounce

1957
01:43:14,270 --> 01:43:19,070
gather have been right and for a

1958
01:43:17,479 --> 01:43:20,569
diffused surface at the moment what

1959
01:43:19,069 --> 01:43:22,639
we're saying it's like well we're just

1960
01:43:20,569 --> 01:43:24,469
going to use how much light it would

1961
01:43:22,640 --> 01:43:26,530
have given here and we probably need a

1962
01:43:24,469 --> 01:43:29,600
cosine fall-off in there right and

1963
01:43:26,529 --> 01:43:32,779
interestingly enough we like don't have

1964
01:43:29,600 --> 01:43:36,650
one at the moment but I think we do it

1965
01:43:32,779 --> 01:43:38,948
on the outside so you know let's again

1966
01:43:36,649 --> 01:43:41,689
that's a lighting quality pass thing and

1967
01:43:38,948 --> 01:43:43,879
so if we're talking about light that

1968
01:43:41,689 --> 01:43:45,859
could have been gathered from here we

1969
01:43:43,880 --> 01:43:47,690
kind of know that lighting coming from

1970
01:43:45,859 --> 01:43:50,210
here is not super relevant because

1971
01:43:47,689 --> 01:43:52,789
obviously it could not have produced a

1972
01:43:50,210 --> 01:43:55,069
bounce because it's on the wrong side of

1973
01:43:52,789 --> 01:43:57,529
the surface so I think all we really

1974
01:43:55,069 --> 01:43:59,569
want to do is just classify based on the

1975
01:43:57,529 --> 01:44:02,779
normal could it have come from someplace

1976
01:43:59,569 --> 01:44:05,479
out here and we could even be so

1977
01:44:02,779 --> 01:44:08,479
aggressive as to co-sign wait those

1978
01:44:05,479 --> 01:44:11,839
contributions if we wanted to right

1979
01:44:08,479 --> 01:44:16,459
so we could set the W values to actually

1980
01:44:11,840 --> 01:44:18,890
be like these C values to not just be 0

1981
01:44:16,460 --> 01:44:20,420
or 1 they could even be cosine fall-off

1982
01:44:18,890 --> 01:44:23,480
angles I don't know if we really want to

1983
01:44:20,420 --> 01:44:26,840
do that but you can see where I'm

1984
01:44:23,479 --> 01:44:29,059
with that right so if we wanted to do

1985
01:44:26,840 --> 01:44:31,310
that what we could do is say well for

1986
01:44:29,060 --> 01:44:33,170
each of these and you can see this get

1987
01:44:31,310 --> 01:44:36,890
tile clamped thing here right if I go to

1988
01:44:33,170 --> 01:44:42,440
get clamped you can see what I do here

1989
01:44:36,890 --> 01:44:44,930
is it's just producing this the it's

1990
01:44:42,439 --> 01:44:47,750
just looking up into the voxel for each

1991
01:44:44,930 --> 01:44:51,110
of these positions and since I can

1992
01:44:47,750 --> 01:44:55,130
pretty much directly determine what the

1993
01:44:51,109 --> 01:44:56,809
actual voxel value is in each case and

1994
01:44:55,130 --> 01:44:57,890
you know I don't even really need to

1995
01:44:56,810 --> 01:45:00,740
because I can just do it in relative

1996
01:44:57,890 --> 01:45:05,950
voxel space I kind of can just use the

1997
01:45:00,739 --> 01:45:14,630
normals I can probably just even use the

1998
01:45:05,949 --> 01:45:15,590
the sample P well can I do that I'm

1999
01:45:14,630 --> 01:45:18,230
trying to think if there's a way to

2000
01:45:15,590 --> 01:45:19,850
avoid actually doing the subtract so if

2001
01:45:18,229 --> 01:45:24,909
you think about what's gonna happen here

2002
01:45:19,850 --> 01:45:24,910
right the sample P is going to give me

2003
01:45:27,789 --> 01:45:32,899
you can think about the sample P as now

2004
01:45:30,890 --> 01:45:35,690
having been mapped into the voxel right

2005
01:45:32,899 --> 01:45:39,019
so what I'm gonna end up with is I'm

2006
01:45:35,689 --> 01:45:47,239
gonna end up with something where I I do

2007
01:45:39,020 --> 01:45:48,530
have a normalized inside of oxley I mean

2008
01:45:47,239 --> 01:45:50,599
I can even just look at it this way I'm

2009
01:45:48,529 --> 01:45:52,579
going to have a normalized coordinate

2010
01:45:50,600 --> 01:45:55,370
that's the uvw right so I'm gonna have

2011
01:45:52,579 --> 01:46:01,130
one in here that's like UVW right and

2012
01:45:55,369 --> 01:46:05,630
then I'm going to have a sign of my

2013
01:46:01,130 --> 01:46:07,430
normal right and I think because it's

2014
01:46:05,630 --> 01:46:11,150
already been mapped into the space of

2015
01:46:07,430 --> 01:46:14,920
the voxel I think that means all I have

2016
01:46:11,149 --> 01:46:18,710
to do is just read the sign right

2017
01:46:14,920 --> 01:46:24,260
because I've already put it so that this

2018
01:46:18,710 --> 01:46:25,670
is the basis the corner for I've already

2019
01:46:24,260 --> 01:46:28,430
figured out which corner it is because

2020
01:46:25,670 --> 01:46:31,039
we mapped it into the voxel so I think I

2021
01:46:28,430 --> 01:46:33,680
already know well whichever direction

2022
01:46:31,039 --> 01:46:37,488
this thing is pointing I just need to

2023
01:46:33,680 --> 01:46:44,119
grab the things that are cited properly

2024
01:46:37,488 --> 01:46:48,169
with that so if the if the voxel X is

2025
01:46:44,119 --> 01:46:50,238
positive I'm sorry if the normals X is

2026
01:46:48,170 --> 01:46:52,130
positive then I think you just grab

2027
01:46:50,238 --> 01:46:57,250
these and if it's negative you grab

2028
01:46:52,130 --> 01:47:01,340
these would be how that would work right

2029
01:46:57,250 --> 01:47:08,930
trying to think if there's how this

2030
01:47:01,340 --> 01:47:11,029
would work exactly so I guess the

2031
01:47:08,930 --> 01:47:13,610
problem is depending on how far this is

2032
01:47:11,029 --> 01:47:17,329
you don't really know so I mean let's

2033
01:47:13,609 --> 01:47:20,509
suppose it looks like that right versus

2034
01:47:17,329 --> 01:47:24,250
the same exact plane but up here you

2035
01:47:20,510 --> 01:47:26,329
would produce different results so

2036
01:47:24,250 --> 01:47:28,130
unfortunately I do think you have to do

2037
01:47:26,329 --> 01:47:33,140
the subtract I think you have to do the

2038
01:47:28,130 --> 01:47:38,770
subtractive the uvw I just don't see how

2039
01:47:33,140 --> 01:47:38,770
else you could really do it right I mean

2040
01:47:39,939 --> 01:47:44,409
you know man I just I don't really

2041
01:47:50,609 --> 01:48:07,219
I don't really see a lot of options

2042
01:47:56,789 --> 01:48:07,219
there and I could be missing something I

2043
01:48:08,238 --> 01:48:13,500
could be missing something but I don't I

2044
01:48:10,770 --> 01:48:16,050
don't see really what else you could do

2045
01:48:13,500 --> 01:48:18,960
so I think probably what we need there

2046
01:48:16,050 --> 01:48:20,550
is just like you need to do the inner

2047
01:48:18,960 --> 01:48:22,469
product of the two directions so you

2048
01:48:20,550 --> 01:48:23,940
have the normal and you do the subtract

2049
01:48:22,469 --> 01:48:28,770
you do the inner product and then you

2050
01:48:23,939 --> 01:48:33,629
Clint you can see if it's if it's less

2051
01:48:28,770 --> 01:48:35,880
than zero you know so again I don't know

2052
01:48:33,630 --> 01:48:38,250
exactly how we want to do that and

2053
01:48:35,880 --> 01:48:40,980
whether we want that to be a fall off

2054
01:48:38,250 --> 01:48:44,880
base thing or not but if you imagine

2055
01:48:40,979 --> 01:48:46,049
building this set of results here you

2056
01:48:44,880 --> 01:48:50,000
know you're gonna end up with something

2057
01:48:46,050 --> 01:48:52,529
that looks like this which is like the I

2058
01:48:50,000 --> 01:48:55,859
guess the product and in fact I could

2059
01:48:52,529 --> 01:49:03,359
actually just do it this way so here's

2060
01:48:55,859 --> 01:49:08,609
our coefficient values and we know we

2061
01:49:03,359 --> 01:49:10,920
have the UVW and so then we know like

2062
01:49:08,609 --> 01:49:14,219
each of the different locations that

2063
01:49:10,920 --> 01:49:15,989
we're doing a subtraction from so in

2064
01:49:14,219 --> 01:49:19,469
this case we would know that it's like

2065
01:49:15,988 --> 01:49:22,049
you know it's UVW whatever it is minus

2066
01:49:19,469 --> 01:49:25,050
the v3 0 0 0 which of course will

2067
01:49:22,050 --> 01:49:27,050
produce exactly the same value and we

2068
01:49:25,050 --> 01:49:30,389
just need to take the inner product of

2069
01:49:27,050 --> 01:49:31,949
that direction with the normal that

2070
01:49:30,389 --> 01:49:34,920
we're actually sampling right so this

2071
01:49:31,948 --> 01:49:37,500
sample normal that would tell us that

2072
01:49:34,920 --> 01:49:40,230
would classify each one of these things

2073
01:49:37,500 --> 01:49:42,270
relative to the surface right so if we

2074
01:49:40,229 --> 01:49:46,049
take each of these and we know you know

2075
01:49:42,270 --> 01:49:48,570
we do an X move for each of them here we

2076
01:49:46,050 --> 01:49:52,529
know we do a y move for each of them

2077
01:49:48,569 --> 01:49:56,698
here and a z move for each of them here

2078
01:49:52,529 --> 01:49:59,368
to line them up with how we did these in

2079
01:49:56,698 --> 01:50:01,888
theory this now gives us that inner

2080
01:49:59,368 --> 01:50:04,889
product fall-off and we just have to

2081
01:50:01,889 --> 01:50:06,779
then decide what we actually want to do

2082
01:50:04,889 --> 01:50:09,889
with that inner product fall-off do we

2083
01:50:06,779 --> 01:50:14,670
want to use it and just clamp it to zero

2084
01:50:09,889 --> 01:50:17,340
or do we want to to force it to be

2085
01:50:14,670 --> 01:50:20,730
either zero or one meaning we would we

2086
01:50:17,340 --> 01:50:21,900
don't actually smoothly fall off and I'm

2087
01:50:20,729 --> 01:50:23,459
gonna go ahead and say since we're

2088
01:50:21,899 --> 01:50:27,029
bothering to calculate it let's just try

2089
01:50:23,460 --> 01:50:27,779
this muth fall off so I'm gonna say the

2090
01:50:27,029 --> 01:50:30,259
heck with it

2091
01:50:27,779 --> 01:50:33,929
let's just do a clamp zero one on this

2092
01:50:30,260 --> 01:50:41,699
and and we'll just kind of produce those

2093
01:50:33,929 --> 01:50:43,828
values like so at that point we don't

2094
01:50:41,698 --> 01:50:45,059
need to pass in the weights because it

2095
01:50:43,828 --> 01:50:47,130
looks like we can just produce

2096
01:50:45,060 --> 01:50:49,230
reasonable weights directly from that

2097
01:50:47,130 --> 01:50:52,020
process so I guess this just goes away

2098
01:50:49,229 --> 01:50:53,848
which hey that's great if it turns out

2099
01:50:52,020 --> 01:50:57,860
that's really something we don't have to

2100
01:50:53,849 --> 01:51:00,690
worry about I'm pretty happy about that

2101
01:50:57,859 --> 01:51:03,118
means that these just aren't necessary

2102
01:51:00,689 --> 01:51:09,059
and the less things are necessary the

2103
01:51:03,118 --> 01:51:11,929
better the code so I think that's all we

2104
01:51:09,060 --> 01:51:14,219
need and we can now see to what extent

2105
01:51:11,929 --> 01:51:17,520
that's working properly we probably have

2106
01:51:14,219 --> 01:51:20,039
to do some tests I don't know exactly

2107
01:51:17,520 --> 01:51:22,829
what we want to do there but so here's

2108
01:51:20,039 --> 01:51:23,969
it with the barrier in place and one of

2109
01:51:22,828 --> 01:51:25,618
the things you'll immediately notice is

2110
01:51:23,969 --> 01:51:28,739
this I believe was the code that was

2111
01:51:25,618 --> 01:51:30,569
spiking directly so that did the

2112
01:51:28,738 --> 01:51:31,888
feedback the bad feedback loop and one

2113
01:51:30,569 --> 01:51:34,139
thing you can see is it's not doing that

2114
01:51:31,889 --> 01:51:36,449
now and these are not getting those

2115
01:51:34,139 --> 01:51:39,260
values right so that's a pretty dramatic

2116
01:51:36,448 --> 01:51:41,819
quality improvement you know not only

2117
01:51:39,260 --> 01:51:43,380
did it do the thing I wanted to do which

2118
01:51:41,819 --> 01:51:46,828
was to prevent light leaking into the

2119
01:51:43,380 --> 01:51:48,599
bottom but it also like kept the spiking

2120
01:51:46,828 --> 01:51:50,759
down dramatically in fact it still

2121
01:51:48,599 --> 01:51:52,469
spikes a little in certain places but so

2122
01:51:50,760 --> 01:51:54,810
that's that's just a really good sign

2123
01:51:52,469 --> 01:51:57,960
right we're still pretty far from having

2124
01:51:54,810 --> 01:52:01,050
a good results but it's pretty great

2125
01:51:57,960 --> 01:52:02,279
that that just that alone is is doing it

2126
01:52:01,050 --> 01:52:04,320
and you can see look at those those are

2127
01:52:02,279 --> 01:52:06,569
all nicely clamped now and we're not

2128
01:52:04,319 --> 01:52:08,789
getting any leaking to the outside so

2129
01:52:06,569 --> 01:52:10,170
that's a pretty dramatic improvement I

2130
01:52:08,789 --> 01:52:11,908
think that's a good place to stop for

2131
01:52:10,170 --> 01:52:16,770
today and tomorrow what we can do is

2132
01:52:11,908 --> 01:52:17,839
take a look at the cube casting to start

2133
01:52:16,770 --> 01:52:20,340
to work on

2134
01:52:17,840 --> 01:52:21,480
how the actual light values should be

2135
01:52:20,340 --> 01:52:23,420
maintained because it looks like we're

2136
01:52:21,479 --> 01:52:27,329
sort of getting a little bit closer to

2137
01:52:23,420 --> 01:52:32,100
having those values be sane as we go

2138
01:52:27,329 --> 01:52:35,880
right and I think that's good so again

2139
01:52:32,100 --> 01:52:45,870
just to recap a little bit too I said

2140
01:52:35,880 --> 01:52:47,550
this last week I'll say it again not a

2141
01:52:45,869 --> 01:52:50,569
big fan of unit tests I think they're

2142
01:52:47,550 --> 01:52:53,429
mostly useless a lot of the times and

2143
01:52:50,569 --> 01:52:54,509
when you can isolate a circumstance

2144
01:52:53,429 --> 01:52:56,989
where you really can write one

2145
01:52:54,510 --> 01:52:59,159
effectively they're great and I don't

2146
01:52:56,988 --> 01:53:02,519
dislike them at all I think they're

2147
01:52:59,159 --> 01:53:05,819
fantastic for that but most of the time

2148
01:53:02,520 --> 01:53:08,160
the more productive type of coding to do

2149
01:53:05,819 --> 01:53:10,738
for testing is visualization and the

2150
01:53:08,159 --> 01:53:12,179
reason for that is two-fold one is it

2151
01:53:10,738 --> 01:53:13,738
can help you debug things that unit

2152
01:53:12,179 --> 01:53:14,909
tests just can't address because it's

2153
01:53:13,738 --> 01:53:18,448
very hard to figure out how you would

2154
01:53:14,909 --> 01:53:20,639
ever write a unit test but the far far

2155
01:53:18,448 --> 01:53:22,649
far far more important aspect of it is

2156
01:53:20,640 --> 01:53:24,570
it gains you insight into the problem

2157
01:53:22,649 --> 01:53:26,729
and unit testing never really does that

2158
01:53:24,569 --> 01:53:28,619
so when you spend time on visualization

2159
01:53:26,729 --> 01:53:30,389
code you start to see things immediately

2160
01:53:28,619 --> 01:53:31,738
like I saw the inside the wall part of

2161
01:53:30,390 --> 01:53:33,390
things I saw the fact that these things

2162
01:53:31,738 --> 01:53:35,309
down here we're getting lighting those

2163
01:53:33,390 --> 01:53:37,530
immediately allow me to start improving

2164
01:53:35,310 --> 01:53:39,210
my algorithm that have nothing to do

2165
01:53:37,529 --> 01:53:41,488
with whether it was behaving in a way

2166
01:53:39,210 --> 01:53:43,560
that I could have defined ahead of time

2167
01:53:41,488 --> 01:53:45,959
because this is all approximate I don't

2168
01:53:43,560 --> 01:53:47,850
know what the correct definition is for

2169
01:53:45,960 --> 01:53:50,250
the lighting in this case I really don't

2170
01:53:47,850 --> 01:53:53,190
I could compare it against a ground

2171
01:53:50,250 --> 01:53:54,569
truth reference raycast but I know we'll

2172
01:53:53,189 --> 01:53:56,488
never be able to produce something that

2173
01:53:54,569 --> 01:53:59,130
matches that sort of thing closely right

2174
01:53:56,488 --> 01:54:00,539
so at the best possible case the thing

2175
01:53:59,130 --> 01:54:01,949
that the unit tests could have done is

2176
01:54:00,539 --> 01:54:03,960
just told me that I had the lighting

2177
01:54:01,948 --> 01:54:05,759
wrong there but it wouldn't have told me

2178
01:54:03,960 --> 01:54:07,590
what would have been the ways to start

2179
01:54:05,760 --> 01:54:10,800
modifying my algorithm to get it closer

2180
01:54:07,590 --> 01:54:13,679
this kind of visualization is so good

2181
01:54:10,800 --> 01:54:16,050
precisely because it allows me to start

2182
01:54:13,679 --> 01:54:18,869
attacking the problem using entirely new

2183
01:54:16,050 --> 01:54:22,230
insights I didn't have before I started

2184
01:54:18,869 --> 01:54:24,750
right and so I think the challenge for

2185
01:54:22,229 --> 01:54:27,988
our next step as we try to get the

2186
01:54:24,750 --> 01:54:29,760
lighting looking really nice is to

2187
01:54:27,988 --> 01:54:31,069
figure out what kind of visualizations

2188
01:54:29,760 --> 01:54:32,840
we can use to

2189
01:54:31,069 --> 01:54:37,599
utilize how the lighting is flowing

2190
01:54:32,840 --> 01:54:41,210
through this the voxel so that we can

2191
01:54:37,600 --> 01:54:42,770
sort of build our intuition about how

2192
01:54:41,210 --> 01:54:44,840
those values should work and how they

2193
01:54:42,770 --> 01:54:46,690
can say stable over time right and

2194
01:54:44,840 --> 01:54:49,039
that's really something that I think

2195
01:54:46,689 --> 01:54:50,839
will push it forward

2196
01:54:49,039 --> 01:54:53,750
further but I'm really happy with where

2197
01:54:50,840 --> 01:54:56,720
it's at at the moment anyway

2198
01:54:53,750 --> 01:54:58,189
it's also not that expensive and I think

2199
01:54:56,720 --> 01:54:59,930
we'll be able to run it at 60 frames a

2200
01:54:58,189 --> 01:55:01,669
second without too much effort as well

2201
01:54:59,930 --> 01:55:04,640
in fact it might already might already

2202
01:55:01,670 --> 01:55:06,800
be running at 60 frames a second

2203
01:55:04,640 --> 01:55:10,310
actually because if you look at how much

2204
01:55:06,800 --> 01:55:12,050
time is currently spent on the debug you

2205
01:55:10,310 --> 01:55:13,970
can see that actually if you chop that

2206
01:55:12,050 --> 01:55:15,619
off you'd probably be it's experience we

2207
01:55:13,970 --> 01:55:18,050
should draw 60 frames a second bar in

2208
01:55:15,619 --> 01:55:21,250
there but it's pretty close and at the

2209
01:55:18,050 --> 01:55:25,190
very least you run this on an i-9 9 i9

2210
01:55:21,250 --> 01:55:26,989
9900 and and this is 16 this is 16

2211
01:55:25,189 --> 01:55:28,489
milliseconds no problem because we have

2212
01:55:26,989 --> 01:55:35,539
we would have a whole bunch more threads

2213
01:55:28,489 --> 01:55:37,250
to use as well so I think because I

2214
01:55:35,539 --> 01:55:45,829
don't remember I mean correct me if I'm

2215
01:55:37,250 --> 01:55:49,729
wrong but it's this yeah this is a fake

2216
01:55:45,829 --> 01:55:53,019
course for real cores right so for real

2217
01:55:49,729 --> 01:55:56,599
for real cores but eight hyper threads

2218
01:55:53,020 --> 01:55:58,850
modern the modern intel line not to

2219
01:55:56,600 --> 01:56:02,780
mention the AMD line which is way better

2220
01:55:58,850 --> 01:56:06,350
on core account is already at eight real

2221
01:56:02,779 --> 01:56:08,389
processors so you know as machines get

2222
01:56:06,350 --> 01:56:10,539
faster our lighting gets dramatically

2223
01:56:08,390 --> 01:56:14,810
faster because it's completely paralysed

2224
01:56:10,539 --> 01:56:17,689
and so I feel like you know to a certain

2225
01:56:14,810 --> 01:56:23,690
extent we've we're already at 60fps in

2226
01:56:17,689 --> 01:56:26,210
software just by upgrading the machine

2227
01:56:23,689 --> 01:56:27,799
right so that's a good place to be as

2228
01:56:26,210 --> 01:56:29,989
well let's go ahead and go to a brief

2229
01:56:27,800 --> 01:56:32,210
Q&amp;A and then let's also talk if Adam I

2230
01:56:29,989 --> 01:56:35,710
don't know if abner still here but we

2231
01:56:32,210 --> 01:56:35,710
can also talk about handmade Seattle

2232
01:56:40,279 --> 01:56:52,319
that's the cube ray-tracing that was

2233
01:56:43,050 --> 01:56:56,779
just running so if you look that was the

2234
01:56:52,319 --> 01:56:56,779
cube raytracer that I was just running

2235
01:57:11,408 --> 01:57:15,500
to have any suggestions regarding how to

2236
01:57:13,729 --> 01:57:17,089
study and better retain information I

2237
01:57:15,500 --> 01:57:19,000
remember you said you learned math only

2238
01:57:17,090 --> 01:57:21,170
because you realized you needed it to

2239
01:57:19,000 --> 01:57:22,789
program things so particularly relation

2240
01:57:21,170 --> 01:57:26,500
to math do you have any advice on how to

2241
01:57:22,789 --> 01:57:26,500
learn in ways that are more efficient um

2242
01:57:28,000 --> 01:57:35,510
so I guess I don't have a lot of

2243
01:57:33,649 --> 01:57:38,929
specific advice because I think it

2244
01:57:35,510 --> 01:57:40,960
depends a lot on how your brain happens

2245
01:57:38,929 --> 01:57:46,099
to retain information different people

2246
01:57:40,960 --> 01:57:48,078
have different affinities for like how

2247
01:57:46,099 --> 01:57:50,480
they will retain information and so I

2248
01:57:48,078 --> 01:57:53,569
don't think there's a universal wrong or

2249
01:57:50,479 --> 01:57:55,428
right way for that reason there are

2250
01:57:53,569 --> 01:57:57,590
certainly probably ways that will never

2251
01:57:55,429 --> 01:57:59,449
work for anyone and there are probably

2252
01:57:57,590 --> 01:58:02,599
some ways that work pretty well for

2253
01:57:59,448 --> 01:58:05,238
everyone but then I suspect there's also

2254
01:58:02,599 --> 01:58:07,578
for every individual they probably fall

2255
01:58:05,238 --> 01:58:09,919
into one of a few camps of learning and

2256
01:58:07,578 --> 01:58:12,309
if you happen to pick a technique that

2257
01:58:09,920 --> 01:58:14,840
works well for your camp you're going to

2258
01:58:12,310 --> 01:58:16,639
be a lot more effective than if you say

2259
01:58:14,840 --> 01:58:22,159
so you know if you and I have slightly

2260
01:58:16,639 --> 01:58:25,639
different learning you know brain

2261
01:58:22,158 --> 01:58:27,198
chemistry's or whatever then if you

2262
01:58:25,639 --> 01:58:29,690
follow exactly the way that works best

2263
01:58:27,198 --> 01:58:31,939
for me it may actually be slightly

2264
01:58:29,689 --> 01:58:33,229
slower for you than if you follow the

2265
01:58:31,939 --> 01:58:35,509
way that works best for you which would

2266
01:58:33,229 --> 01:58:37,488
be slightly slower for me so I do think

2267
01:58:35,510 --> 01:58:39,320
you have to be careful taking advice

2268
01:58:37,488 --> 01:58:41,868
from people because if those people

2269
01:58:39,319 --> 01:58:43,578
don't happen to learn as in the same way

2270
01:58:41,868 --> 01:58:47,948
that you do as effectively you may just

2271
01:58:43,578 --> 01:58:51,289
be artificially hindered by that advice

2272
01:58:47,948 --> 01:58:52,279
so I think the broader advice I can give

2273
01:58:51,289 --> 01:58:56,868
you that hopefully would apply to

2274
01:58:52,279 --> 01:58:58,759
everyone is try to self-analyze as much

2275
01:58:56,868 --> 01:59:03,618
as you can your learning processes

2276
01:58:58,760 --> 01:59:09,409
because if you randomly try some stuff

2277
01:59:03,618 --> 01:59:11,448
so read the chapter of a book on math

2278
01:59:09,408 --> 01:59:14,359
that people say is a good math book

2279
01:59:11,448 --> 01:59:16,339
right how well did you retain the

2280
01:59:14,359 --> 01:59:19,429
information do the exercises how well

2281
01:59:16,340 --> 01:59:21,889
did you retain the information now try a

2282
01:59:19,429 --> 01:59:23,869
different scheme pick a programing thing

2283
01:59:21,889 --> 01:59:25,880
that you want to do that involves math

2284
01:59:23,869 --> 01:59:27,970
learn the math for that and write the

2285
01:59:25,880 --> 01:59:30,079
program that does that solves a problem

2286
01:59:27,970 --> 01:59:31,789
working it through till you get the

2287
01:59:30,079 --> 01:59:34,010
right answer right how well do you

2288
01:59:31,789 --> 01:59:35,659
retain the information now how much time

2289
01:59:34,010 --> 01:59:38,480
in each of those take versus how much

2290
01:59:35,659 --> 01:59:41,779
information you write spend a month or

2291
01:59:38,479 --> 01:59:46,939
two doing the experimentation to see how

2292
01:59:41,779 --> 01:59:50,000
you retain the information right because

2293
01:59:46,939 --> 01:59:52,609
learning how you learn is something you

2294
01:59:50,000 --> 01:59:54,380
can then apply forever and it will

2295
01:59:52,609 --> 01:59:56,779
always be worth your time to spend a

2296
01:59:54,380 --> 02:00:01,359
month or two figuring out which way

2297
01:59:56,779 --> 02:00:04,609
helps you retain it best so I would

2298
02:00:01,359 --> 02:00:07,099
advise against taking someone else's

2299
02:00:04,609 --> 02:00:09,409
recommended approach and I would instead

2300
02:00:07,100 --> 02:00:11,329
recommend trying a number of approaches

2301
02:00:09,409 --> 02:00:13,489
because it's obvious that there are a

2302
02:00:11,329 --> 02:00:15,260
number and you can just like read a

2303
02:00:13,489 --> 02:00:16,939
whole bunch of people's opinions on it

2304
02:00:15,260 --> 02:00:19,789
and just write down all the things you

2305
02:00:16,939 --> 02:00:24,679
that they said as different possible

2306
02:00:19,789 --> 02:00:28,279
approaches try them and see how it

2307
02:00:24,680 --> 02:00:29,600
sticks in your head for a variety of

2308
02:00:28,279 --> 02:00:31,969
different learning methods and then

2309
02:00:29,600 --> 02:00:34,130
whichever one seemed like the best bang

2310
02:00:31,970 --> 02:00:36,530
for the buck so took the least time for

2311
02:00:34,130 --> 02:00:39,800
the most amount of retention that's

2312
02:00:36,529 --> 02:00:41,809
probably what you're looking at for me I

2313
02:00:39,800 --> 02:00:44,060
learned programming when I was

2314
02:00:41,810 --> 02:00:46,700
incredibly young compared to most people

2315
02:00:44,060 --> 02:00:47,840
I guess even today I started programming

2316
02:00:46,699 --> 02:00:50,750
when I was 7

2317
02:00:47,840 --> 02:00:53,810
what I think that means for me is that

2318
02:00:50,750 --> 02:00:56,569
my brain is probably more hardwired to

2319
02:00:53,810 --> 02:01:01,270
think in terms of code than most

2320
02:00:56,569 --> 02:01:04,939
people's so for learning math for me I

2321
02:01:01,270 --> 02:01:10,010
have to write the code that I simply do

2322
02:01:04,939 --> 02:01:14,539
not learn math from math ever at all it

2323
02:01:10,010 --> 02:01:16,640
doesn't happen so for people who learned

2324
02:01:14,539 --> 02:01:18,229
math first and programming second like

2325
02:01:16,640 --> 02:01:22,130
something like that could be inverted

2326
02:01:18,229 --> 02:01:24,409
right but for me because I learned

2327
02:01:22,130 --> 02:01:28,190
programming incredibly young way before

2328
02:01:24,409 --> 02:01:31,369
I knew math at all like I don't even

2329
02:01:28,189 --> 02:01:35,960
know if I knew addition let alone

2330
02:01:31,369 --> 02:01:37,760
multiplication I mean when you're 7 in

2331
02:01:35,960 --> 02:01:40,939
the US

2332
02:01:37,760 --> 02:01:41,900
you're a long way from being at the

2333
02:01:40,939 --> 02:01:44,929
point in school where you learn

2334
02:01:41,899 --> 02:01:46,699
multiplication tables right I think you

2335
02:01:44,930 --> 02:01:50,390
learned multiplication tables I want to

2336
02:01:46,699 --> 02:01:53,539
say in fourth grade in the US League did

2337
02:01:50,390 --> 02:01:56,360
for me and I had been programming for

2338
02:01:53,539 --> 02:01:58,420
years by the time I learned the

2339
02:01:56,359 --> 02:02:02,599
multiplication table the multiplication

2340
02:01:58,420 --> 02:02:07,210
tables like forget algebra just how to

2341
02:02:02,600 --> 02:02:10,130
multiply you know nine times seven right

2342
02:02:07,210 --> 02:02:12,260
so if you think about the difference

2343
02:02:10,130 --> 02:02:16,579
between those two things it's it I think

2344
02:02:12,260 --> 02:02:18,440
becomes fairly obvious why for me I've

2345
02:02:16,579 --> 02:02:19,970
got to write the code because I think my

2346
02:02:18,439 --> 02:02:21,859
brain just it's just that's how it works

2347
02:02:19,970 --> 02:02:24,320
it's a procedural brain it thinks in

2348
02:02:21,859 --> 02:02:25,969
terms of steps it doesn't think in terms

2349
02:02:24,319 --> 02:02:27,829
of equalities so if you present me a

2350
02:02:25,970 --> 02:02:29,270
bunch of stuff in equations I just don't

2351
02:02:27,829 --> 02:02:31,250
think that way it's not gonna help me

2352
02:02:29,270 --> 02:02:32,900
equivalence isn't a thing my brain

2353
02:02:31,250 --> 02:02:35,680
understands natively it's a thing it had

2354
02:02:32,899 --> 02:02:38,329
to learn later that's kind of foreign

2355
02:02:35,680 --> 02:02:40,730
procedural like the way a CPU works is

2356
02:02:38,329 --> 02:02:43,189
native to my brain like my brain thinks

2357
02:02:40,729 --> 02:02:46,429
through problems as assignments not

2358
02:02:43,189 --> 02:02:49,519
equivalences and so at that point it you

2359
02:02:46,430 --> 02:02:51,320
know it's just for me math is inherently

2360
02:02:49,520 --> 02:02:53,120
foreign it always will be and so I

2361
02:02:51,319 --> 02:02:55,939
always need to translate it into some

2362
02:02:53,119 --> 02:02:58,779
procedural version that events is the

2363
02:02:55,939 --> 02:03:01,759
concept in order for me to really I

2364
02:02:58,779 --> 02:03:06,889
think fully internalize it as a thing I

2365
02:03:01,760 --> 02:03:08,960
can use and that may be completely

2366
02:03:06,890 --> 02:03:10,820
inverted I bet for some people if you

2367
02:03:08,960 --> 02:03:12,829
learned a lot of math or spent a lot of

2368
02:03:10,819 --> 02:03:16,460
time doing math before you ever learned

2369
02:03:12,829 --> 02:03:19,880
programming I I would be shocked if the

2370
02:03:16,460 --> 02:03:22,480
opposite wasn't true for you right but I

2371
02:03:19,880 --> 02:03:22,480
I could be wrong

2372
02:03:28,100 --> 02:03:32,429
when you're building the weight table

2373
02:03:30,270 --> 02:03:36,150
why were the negative values 1 minus u

2374
02:03:32,429 --> 02:03:37,440
VW x instead of 0 minus u VW x sorry if

2375
02:03:36,149 --> 02:03:40,049
you already answered this I tuned in

2376
02:03:37,439 --> 02:03:42,629
late yeah you should probably go

2377
02:03:40,050 --> 02:03:45,360
re-watch this episode when I post the

2378
02:03:42,630 --> 02:03:47,429
vaad hopefully later today because I

2379
02:03:45,359 --> 02:03:50,009
walked through exactly how the linear

2380
02:03:47,429 --> 02:03:51,480
blend works in this case and you're

2381
02:03:50,010 --> 02:03:54,690
gonna probably want to watch that whole

2382
02:03:51,479 --> 02:03:59,968
thing I explained it in like in complete

2383
02:03:54,689 --> 02:04:05,488
detail and I think it hopefully will be

2384
02:03:59,969 --> 02:04:08,429
clear if you go watch that so yeah I

2385
02:04:05,488 --> 02:04:10,198
mean I guess what I would say is if you

2386
02:04:08,429 --> 02:04:12,899
if you go take a look at the complete

2387
02:04:10,198 --> 02:04:15,149
explanation from this episode I think it

2388
02:04:12,899 --> 02:04:18,899
should should tell you exactly why it's

2389
02:04:15,149 --> 02:04:20,939
1 minus but if it's not you can always

2390
02:04:18,899 --> 02:04:22,948
come back tomorrow hint and ask me and

2391
02:04:20,939 --> 02:04:30,869
I'll happily go over the part you didn't

2392
02:04:22,948 --> 02:04:32,189
get from from today the video paper

2393
02:04:30,869 --> 02:04:33,988
you're using in the beginning was using

2394
02:04:32,189 --> 02:04:35,129
depth info on the light probes to avoid

2395
02:04:33,988 --> 02:04:41,729
light leaking is this something you

2396
02:04:35,130 --> 02:04:47,130
might also want to try so I I want to if

2397
02:04:41,729 --> 02:04:50,339
I can I want to get away with not doing

2398
02:04:47,130 --> 02:04:51,719
so the reason for that is that storing

2399
02:04:50,340 --> 02:04:54,360
that information is going to be an

2400
02:04:51,719 --> 02:04:57,510
additional cost for us and I'd really

2401
02:04:54,359 --> 02:05:00,689
like to not do it if I can get away with

2402
02:04:57,510 --> 02:05:04,020
it the Nvidia paper has loftier goals

2403
02:05:00,689 --> 02:05:06,049
than do we write there they were doing a

2404
02:05:04,020 --> 02:05:11,370
research and they were trying to produce

2405
02:05:06,050 --> 02:05:15,350
a they were trying to do as high quality

2406
02:05:11,369 --> 02:05:20,039
work as they could right but I don't

2407
02:05:15,350 --> 02:05:28,770
want to do additional ops that I don't

2408
02:05:20,039 --> 02:05:31,500
have to do and if you if you have to

2409
02:05:28,770 --> 02:05:35,460
start storing the depth map that's just

2410
02:05:31,500 --> 02:05:37,260
a lot of extra work right so I'm hoping

2411
02:05:35,460 --> 02:05:39,260
we can get away without it because we

2412
02:05:37,260 --> 02:05:40,820
don't need to produce particularly

2413
02:05:39,260 --> 02:05:41,960
accurate lighting we're just trying to

2414
02:05:40,819 --> 02:05:43,609
produce lighting that we think looks

2415
02:05:41,960 --> 02:05:46,069
good for our game and it's already

2416
02:05:43,609 --> 02:05:51,038
getting there so I'm hoping that we can

2417
02:05:46,069 --> 02:05:54,219
just not if we have to we have to but

2418
02:05:51,038 --> 02:05:54,219
you know

2419
02:06:04,090 --> 02:06:19,929
Oh Abner said the info was on the site

2420
02:06:12,250 --> 02:06:21,609
he had to go okay so I guess it's too

2421
02:06:19,929 --> 02:06:24,639
bad Abner is not here because I was

2422
02:06:21,609 --> 02:06:26,408
gonna ask him some questions about about

2423
02:06:24,639 --> 02:06:28,239
the conference but I'll just mention it

2424
02:06:26,408 --> 02:06:29,920
anyway I'm sure there'll be a lot more

2425
02:06:28,238 --> 02:06:34,229
information and I'll mention it on

2426
02:06:29,920 --> 02:06:34,230
stream more prominently in the future

2427
02:06:34,289 --> 02:06:39,939
when it's when it's more of a going

2428
02:06:36,789 --> 02:06:44,310
concern I guess but I just wanted people

2429
02:06:39,939 --> 02:06:48,698
to be aware of the fact that handmade

2430
02:06:44,310 --> 02:06:52,030
Seattle I think that's the web address

2431
02:06:48,698 --> 02:06:52,289
is it an org yes no it's a comm I don't

2432
02:06:52,029 --> 02:06:55,689
know

2433
02:06:52,289 --> 02:06:59,649
so handmade Seattle which was the

2434
02:06:55,689 --> 02:07:02,888
conference that Abner organized last

2435
02:06:59,649 --> 02:07:06,549
year which everyone said they loved as

2436
02:07:02,889 --> 02:07:08,440
far as I could tell I heard you know

2437
02:07:06,550 --> 02:07:13,119
many people say that they thought it was

2438
02:07:08,439 --> 02:07:15,129
great was going to be done again he even

2439
02:07:13,118 --> 02:07:18,149
said at last year's conference he was

2440
02:07:15,130 --> 02:07:23,279
like I'm going to do it again next year

2441
02:07:18,149 --> 02:07:25,539
obviously because of pandemic concerns

2442
02:07:23,279 --> 02:07:27,189
everyone assumed including me that it

2443
02:07:25,539 --> 02:07:28,569
would not be happening this year but it

2444
02:07:27,189 --> 02:07:32,769
turns out it is happening this year and

2445
02:07:28,569 --> 02:07:38,049
they he's just going to do it as an

2446
02:07:32,770 --> 02:07:39,340
online event instead of as a as a thing

2447
02:07:38,050 --> 02:07:41,710
where you actually go in person which

2448
02:07:39,340 --> 02:07:43,389
obviously would have a tremendous amount

2449
02:07:41,710 --> 02:07:44,859
of risk associated with it both in terms

2450
02:07:43,389 --> 02:07:48,690
of the air travel lots of people come

2451
02:07:44,859 --> 02:07:52,420
from overseas for handmade Seattle and

2452
02:07:48,689 --> 02:07:55,719
so this just got announced it was like

2453
02:07:52,420 --> 02:07:57,789
yesterday I saw the email and what

2454
02:07:55,719 --> 02:07:59,230
they're doing or I guess I should say

2455
02:07:57,789 --> 02:08:03,488
what Abner specifically was doing this

2456
02:07:59,229 --> 02:08:04,809
is Abner what they're doing is it is

2457
02:08:03,488 --> 02:08:07,839
going to be free which is kind of

2458
02:08:04,810 --> 02:08:10,750
awesome but there are going to be

2459
02:08:07,840 --> 02:08:12,659
tickets to help fund it and of course

2460
02:08:10,750 --> 02:08:14,439
pay for average time he does all of this

2461
02:08:12,658 --> 02:08:15,879
basically just out of the goodness of

2462
02:08:14,439 --> 02:08:17,888
his heart

2463
02:08:15,880 --> 02:08:22,329
if you

2464
02:08:17,889 --> 02:08:25,449
go to the page for tickets here which

2465
02:08:22,329 --> 02:08:28,868
will be going on sale I guess where is

2466
02:08:25,448 --> 02:08:30,698
the I don't actually know there was

2467
02:08:28,868 --> 02:08:35,349
thing so I guess they'll be going on

2468
02:08:30,698 --> 02:08:37,888
sale in three weeks if you go look at

2469
02:08:35,350 --> 02:08:40,000
the the tickets what's gonna happen is

2470
02:08:37,889 --> 02:08:43,690
basically there's sort of a virtual

2471
02:08:40,000 --> 02:08:45,760
attendance that will happen and it's

2472
02:08:43,689 --> 02:08:47,349
like kind of to gate it so that it's not

2473
02:08:45,760 --> 02:08:48,699
a twitchchat disaster it's basically

2474
02:08:47,350 --> 02:08:51,909
like if you buy a ticket to the

2475
02:08:48,698 --> 02:08:54,488
conference you will be able to like ask

2476
02:08:51,908 --> 02:08:57,759
questions like as if you were attending

2477
02:08:54,488 --> 02:08:59,618
right and so everyone can see it for

2478
02:08:57,760 --> 02:09:01,869
free but if you want to actually attend

2479
02:08:59,618 --> 02:09:03,789
and ask questions and participate then

2480
02:09:01,868 --> 02:09:06,549
you buy a ticket and the ticket will get

2481
02:09:03,789 --> 02:09:09,039
you access to like the private chat

2482
02:09:06,550 --> 02:09:10,900
server where peas are asking the

2483
02:09:09,039 --> 02:09:13,859
questions and interacting with the

2484
02:09:10,899 --> 02:09:18,339
people who are presenting and so on

2485
02:09:13,859 --> 02:09:19,509
which i think is a great idea so i just

2486
02:09:18,340 --> 02:09:22,119
wanted to let you know that that's

2487
02:09:19,510 --> 02:09:23,650
coming up put it on your radar there'll

2488
02:09:22,118 --> 02:09:25,179
be a lot more announcements about it as

2489
02:09:23,649 --> 02:09:26,439
it actually comes a thing as you know

2490
02:09:25,179 --> 02:09:29,020
now it's just it's literally just a

2491
02:09:26,439 --> 02:09:31,269
website right now you can't even buy the

2492
02:09:29,020 --> 02:09:32,830
tickets yet so when it gets closer to

2493
02:09:31,270 --> 02:09:35,560
the time and the tickets are actually

2494
02:09:32,829 --> 02:09:37,630
available I'll make sure to mention it

2495
02:09:35,560 --> 02:09:39,639
again but just so you know if you want

2496
02:09:37,630 --> 02:09:42,039
to interact with that or whatever check

2497
02:09:39,639 --> 02:09:46,900
out the Twitter feed or look at what's

2498
02:09:42,039 --> 02:09:49,479
going on that's what's going on right so

2499
02:09:46,899 --> 02:09:51,988
that's the basically the this is the

2500
02:09:49,479 --> 02:09:51,988
situation

2501
02:10:05,819 --> 02:10:10,239
any thoughts on the nanite and real

2502
02:10:07,960 --> 02:10:13,539
engine demo yeah I covered it previously

2503
02:10:10,239 --> 02:10:15,519
it's just we didn't record it because I

2504
02:10:13,539 --> 02:10:16,899
didn't know if there would be like I

2505
02:10:15,520 --> 02:10:20,700
went through the demo with people and I

2506
02:10:16,899 --> 02:10:22,779
kind of explained what was going on I

2507
02:10:20,699 --> 02:10:24,789
didn't record that at least I don't

2508
02:10:22,779 --> 02:10:27,609
think I have it recorded it might be in

2509
02:10:24,789 --> 02:10:31,659
the twitch back capture it probably is

2510
02:10:27,609 --> 02:10:32,799
actually so if you're a subscriber to

2511
02:10:31,659 --> 02:10:34,599
the Trish channel you can probably go to

2512
02:10:32,800 --> 02:10:39,400
the back catalogue Ince and watch me

2513
02:10:34,600 --> 02:10:42,579
discuss it and it was actually kind of

2514
02:10:39,399 --> 02:10:43,929
funny cuz amusingly I was like what

2515
02:10:42,579 --> 02:10:45,939
they're probably doing here is this

2516
02:10:43,930 --> 02:10:47,860
thing and I pointed to a paper and then

2517
02:10:45,939 --> 02:10:51,219
someone on the chat was like actually

2518
02:10:47,859 --> 02:10:53,250
they posted that they specifically were

2519
02:10:51,220 --> 02:10:56,199
using that technique and I'm like oh

2520
02:10:53,250 --> 02:10:59,710
well good good to know my guess work is

2521
02:10:56,199 --> 02:11:01,239
still on point so apparently they are

2522
02:10:59,710 --> 02:11:03,369
doing exactly what I said they were

2523
02:11:01,239 --> 02:11:09,909
doing but I didn't actually know that

2524
02:11:03,369 --> 02:11:11,500
when I said it my common way to see math

2525
02:11:09,909 --> 02:11:12,909
and programming is to see the sub

2526
02:11:11,500 --> 02:11:15,760
concepts of the concept trying to learn

2527
02:11:12,909 --> 02:11:18,250
and do like a tree until I get the Leafs

2528
02:11:15,760 --> 02:11:20,440
which are concepts I already know or

2529
02:11:18,250 --> 02:11:22,510
axioms then I go upward from there and

2530
02:11:20,439 --> 02:11:24,399
try to specifically understand the how

2531
02:11:22,510 --> 02:11:28,150
and why of the concept connections works

2532
02:11:24,399 --> 02:11:31,000
well for both furthering in math I can't

2533
02:11:28,149 --> 02:11:35,049
say I really do it that way but it does

2534
02:11:31,000 --> 02:11:36,489
sound like a reasonable option build you

2535
02:11:35,050 --> 02:11:40,210
strong could we just create a distance

2536
02:11:36,489 --> 02:11:42,069
limit to stop bouncing light we could

2537
02:11:40,210 --> 02:11:43,869
but I don't really want to because light

2538
02:11:42,069 --> 02:11:46,569
bounces as far as it bounces I mean

2539
02:11:43,869 --> 02:11:49,510
light itself doesn't attenuate absent a

2540
02:11:46,569 --> 02:11:54,189
participating medium so why you can see

2541
02:11:49,510 --> 02:11:55,360
stars so you you don't really want to

2542
02:11:54,189 --> 02:11:59,109
simulate light that way if you can avoid

2543
02:11:55,359 --> 02:12:00,969
it but you know we we actually do have

2544
02:11:59,109 --> 02:12:02,859
some stuff in there to make computation

2545
02:12:00,970 --> 02:12:05,949
an easier we do use a sort of bucket

2546
02:12:02,859 --> 02:12:07,869
brigade approach to avoid having to

2547
02:12:05,949 --> 02:12:10,439
traverse long distances on the ray casts

2548
02:12:07,869 --> 02:12:12,939
we already do that though

2549
02:12:10,439 --> 02:12:14,169
in what way tis a custom engine effect

2550
02:12:12,939 --> 02:12:15,789
the field of the game is it always a

2551
02:12:14,170 --> 02:12:17,140
question of having better performance or

2552
02:12:15,789 --> 02:12:18,579
allowing for my flexibility I've always

2553
02:12:17,140 --> 02:12:18,699
thought there's nothing you can't do and

2554
02:12:18,579 --> 02:12:26,469
you

2555
02:12:18,698 --> 02:12:32,828
real is just going to be slower um so

2556
02:12:26,469 --> 02:12:35,590
that's a that's a really I want to say

2557
02:12:32,828 --> 02:12:39,670
deep question or rather the answer is

2558
02:12:35,590 --> 02:12:44,889
kind of deep so here's what I would say

2559
02:12:39,670 --> 02:12:48,880
I think people don't appreciate just how

2560
02:12:44,889 --> 02:12:53,429
bad it is to use a premade engine for a

2561
02:12:48,880 --> 02:12:53,429
game and here's why

2562
02:12:53,969 --> 02:12:59,828
while it's totally true that there's

2563
02:12:58,118 --> 02:13:02,259
plenty of circumstances in which you

2564
02:12:59,828 --> 02:13:04,389
just don't have a choice right because

2565
02:13:02,260 --> 02:13:06,010
it's a tremendous way too much work to

2566
02:13:04,389 --> 02:13:08,019
build an engine these days come like

2567
02:13:06,010 --> 02:13:12,449
computers and gaming are just too

2568
02:13:08,019 --> 02:13:15,849
complicated so I don't begrudge anyone

2569
02:13:12,448 --> 02:13:19,419
the decision to use unity or unreal like

2570
02:13:15,849 --> 02:13:22,090
it's an it's a very difficult choice to

2571
02:13:19,420 --> 02:13:27,609
say we're going to make our own custom

2572
02:13:22,090 --> 02:13:29,949
thing right so I don't think it's a bad

2573
02:13:27,609 --> 02:13:32,049
decision to do so but what I do think

2574
02:13:29,948 --> 02:13:34,569
people have to understand is just how

2575
02:13:32,050 --> 02:13:38,079
costly it is in terms of what you are

2576
02:13:34,569 --> 02:13:42,578
capable of making and the reason for

2577
02:13:38,078 --> 02:13:45,698
that is because when you sit down to

2578
02:13:42,578 --> 02:13:49,118
make something what you are given as

2579
02:13:45,698 --> 02:13:53,859
your medium has a dramatic effect on

2580
02:13:49,118 --> 02:13:56,649
what you can create because all of the

2581
02:13:53,859 --> 02:13:58,719
decisions that were made in every aspect

2582
02:13:56,649 --> 02:14:00,368
whether it's how you make models for the

2583
02:13:58,719 --> 02:14:03,279
game how you import them how the world

2584
02:14:00,368 --> 02:14:05,170
is created how the world is stored what

2585
02:14:03,279 --> 02:14:08,228
the representation for the logical

2586
02:14:05,170 --> 02:14:10,118
entities are in that world what the way

2587
02:14:08,229 --> 02:14:12,249
in which the scripting works or how it

2588
02:14:10,118 --> 02:14:16,319
is then put all of every single one of

2589
02:14:12,248 --> 02:14:19,779
those things each one of those decisions

2590
02:14:16,319 --> 02:14:22,179
make some game designs hard and some

2591
02:14:19,779 --> 02:14:23,859
game designs easy and when you're

2592
02:14:22,179 --> 02:14:26,708
talking about an engine with literally

2593
02:14:23,859 --> 02:14:28,538
hundreds of thousands of decisions

2594
02:14:26,708 --> 02:14:31,840
having been made in something like

2595
02:14:28,538 --> 02:14:32,529
unreal or at Unity you're talking about

2596
02:14:31,840 --> 02:14:34,989
a situation

2597
02:14:32,529 --> 02:14:38,198
we're a whole swath of possible games

2598
02:14:34,988 --> 02:14:40,388
are very hard to create while a whole

2599
02:14:38,198 --> 02:14:43,359
swath of possible games are very easy to

2600
02:14:40,389 --> 02:14:46,359
create and I think it overwhelmingly

2601
02:14:43,359 --> 02:14:51,219
leads games made in these engines to

2602
02:14:46,359 --> 02:14:53,229
feel the same and I think the proof is

2603
02:14:51,219 --> 02:14:56,679
kind of in the pudding they're like I

2604
02:14:53,229 --> 02:14:59,169
don't know about you but when I play

2605
02:14:56,679 --> 02:15:00,578
games these days they all feel the same

2606
02:14:59,170 --> 02:15:04,270
it's weird right

2607
02:15:00,578 --> 02:15:05,500
you play 10 games that look completely

2608
02:15:04,270 --> 02:15:08,020
different like the graphics are

2609
02:15:05,500 --> 02:15:11,920
obviously completely different they have

2610
02:15:08,020 --> 02:15:13,270
very different styles and when you play

2611
02:15:11,920 --> 02:15:16,059
them it feels like you're playing the

2612
02:15:13,270 --> 02:15:17,590
exact same game it's it's it's eerie and

2613
02:15:16,059 --> 02:15:18,550
you can't even necessarily put your

2614
02:15:17,590 --> 02:15:22,420
finger on it because they're definitely

2615
02:15:18,550 --> 02:15:24,610
different right but I think the problem

2616
02:15:22,420 --> 02:15:27,340
is once you make this decision that's

2617
02:15:24,609 --> 02:15:29,198
like well I'm using unities system and

2618
02:15:27,340 --> 02:15:30,849
I'm creating the entities in my game

2619
02:15:29,198 --> 02:15:32,288
with unities entity system and it's

2620
02:15:30,849 --> 02:15:34,929
definition of an entity and what an

2621
02:15:32,288 --> 02:15:37,238
entity can do I think it just

2622
02:15:34,929 --> 02:15:39,429
overwhelmingly funnels people towards

2623
02:15:37,238 --> 02:15:43,589
making things that feel a particular way

2624
02:15:39,429 --> 02:15:46,300
and one of the most interesting

2625
02:15:43,590 --> 02:15:50,710
experiences that I have had in recent

2626
02:15:46,300 --> 02:15:54,489
memory is I went home to visit my

2627
02:15:50,710 --> 02:15:57,340
parents a year ago two years ago I don't

2628
02:15:54,488 --> 02:16:00,308
remember how long ago it was obviously I

2629
02:15:57,340 --> 02:16:02,860
go to visit my parents you know often

2630
02:16:00,309 --> 02:16:07,889
but one this was one particular time I

2631
02:16:02,859 --> 02:16:12,098
went home to visit my parents and I

2632
02:16:07,889 --> 02:16:20,859
happened to take out a colecovision now

2633
02:16:12,099 --> 02:16:23,349
a colecovision is is one of these it is

2634
02:16:20,859 --> 02:16:26,019
a video game console and it was the

2635
02:16:23,349 --> 02:16:29,078
video game console that I had as a child

2636
02:16:26,020 --> 02:16:30,520
so when I say we took out ColecoVision I

2637
02:16:29,078 --> 02:16:32,439
literally mean we took out the

2638
02:16:30,520 --> 02:16:34,960
ColecoVision that I had that my parents

2639
02:16:32,439 --> 02:16:42,329
literally bought in like 1982 or 1983

2640
02:16:34,959 --> 02:16:42,329
right like we had one

2641
02:16:42,440 --> 02:16:48,801
and when I played the games on this

2642
02:16:46,270 --> 02:16:50,329
ColecoVision I had to like try to sort

2643
02:16:48,800 --> 02:16:52,100
of repair the controllers they were kind

2644
02:16:50,329 --> 02:16:53,959
of corroded and not really working and

2645
02:16:52,100 --> 02:16:54,409
broken but you know I repaired the best

2646
02:16:53,959 --> 02:16:58,130
I could

2647
02:16:54,409 --> 02:16:59,539
I played maybe ten cartridges or twelve

2648
02:16:58,130 --> 02:17:02,779
cartridges that we had for the

2649
02:16:59,540 --> 02:17:05,450
ColecoVision and every single one felt

2650
02:17:02,780 --> 02:17:10,159
completely different it was shocking

2651
02:17:05,450 --> 02:17:12,290
like frogger - felt completely different

2652
02:17:10,159 --> 02:17:15,050
from venture felt completely different

2653
02:17:12,290 --> 02:17:20,301
from pepper - felt completely different

2654
02:17:15,050 --> 02:17:22,789
from ladybug and the variety of games

2655
02:17:20,300 --> 02:17:27,680
that people seem to end up with when

2656
02:17:22,790 --> 02:17:29,810
they had to write the whole game there's

2657
02:17:27,680 --> 02:17:32,930
something wrong with our current way of

2658
02:17:29,809 --> 02:17:36,829
doing things and it seems kind of just

2659
02:17:32,930 --> 02:17:40,341
obvious right and so the main thing I

2660
02:17:36,829 --> 02:17:42,139
would say is not so much that using

2661
02:17:40,341 --> 02:17:45,800
unity or unreal or something like that

2662
02:17:42,139 --> 02:17:47,539
is a problem because there's some better

2663
02:17:45,800 --> 02:17:49,010
performance or something you're going to

2664
02:17:47,540 --> 02:17:50,510
get out of your engine and that may be

2665
02:17:49,010 --> 02:17:51,680
true I mean if you write a bespoke

2666
02:17:50,510 --> 02:17:54,200
engine for something and you're really

2667
02:17:51,680 --> 02:17:55,819
good at it obviously you can outperform

2668
02:17:54,200 --> 02:17:57,740
unreal or unity I mean there's no

2669
02:17:55,819 --> 02:17:59,091
question making a general-purpose engine

2670
02:17:57,739 --> 02:18:00,979
is much harder than making a

2671
02:17:59,091 --> 02:18:05,479
special-purpose engine so their job is

2672
02:18:00,979 --> 02:18:08,029
harder than yours just by definition but

2673
02:18:05,479 --> 02:18:10,489
I don't really think that's the biggest

2674
02:18:08,030 --> 02:18:12,829
concern these days I'm thinking the

2675
02:18:10,489 --> 02:18:15,380
biggest concern is that the tools you

2676
02:18:12,829 --> 02:18:20,270
are given to make these games force you

2677
02:18:15,380 --> 02:18:22,789
into making the same damn game and the

2678
02:18:20,270 --> 02:18:26,841
result is 7,000 games a year literally

2679
02:18:22,790 --> 02:18:29,750
and I feel like there's no new games a

2680
02:18:26,841 --> 02:18:35,600
year right and it's really depressing so

2681
02:18:29,750 --> 02:18:40,430
I don't know right and so that's

2682
02:18:35,600 --> 02:18:41,841
unfortunate but that just feels like

2683
02:18:40,430 --> 02:18:43,309
what's happening and I don't know it

2684
02:18:41,841 --> 02:18:44,930
could just be not that it could just be

2685
02:18:43,309 --> 02:18:46,341
that because there's 7,000 games a year

2686
02:18:44,930 --> 02:18:47,870
it's really hard to find the two or

2687
02:18:46,341 --> 02:18:49,370
three that are actually different

2688
02:18:47,870 --> 02:18:51,350
whereas on the ColecoVision when there

2689
02:18:49,370 --> 02:18:52,430
was only a hundred games a year you were

2690
02:18:51,350 --> 02:18:54,229
probably going to find the two or three

2691
02:18:52,430 --> 02:18:55,489
that were actually different right so

2692
02:18:54,229 --> 02:18:56,409
that's another possibility it could just

2693
02:18:55,489 --> 02:18:59,289
be that the signal to

2694
02:18:56,409 --> 02:19:01,299
his ratio has become so terrible and

2695
02:18:59,290 --> 02:19:03,190
that's a reason why I wish engines

2696
02:19:01,299 --> 02:19:05,468
didn't exist in that case because then

2697
02:19:03,190 --> 02:19:07,719
there'd be far fewer games maybe but you

2698
02:19:05,468 --> 02:19:10,359
know I don't really think that's the

2699
02:19:07,718 --> 02:19:11,468
case cuz I feel like I would probably

2700
02:19:10,360 --> 02:19:13,300
hear about them if there were really

2701
02:19:11,468 --> 02:19:15,849
interesting games coming out and and I

2702
02:19:13,299 --> 02:19:18,750
and I don't so I don't know I mean I

2703
02:19:15,850 --> 02:19:18,750
could be wrong but

2704
02:19:43,299 --> 02:19:46,869
and and just in terms like someone was

2705
02:19:45,790 --> 02:19:48,490
saying like I would argue it's not the

2706
02:19:46,870 --> 02:19:53,020
fault of engines but rather lazy devs I

2707
02:19:48,489 --> 02:19:55,510
mean not again I don't really think it's

2708
02:19:53,020 --> 02:19:59,170
appropriate to blame somebody for it

2709
02:19:55,510 --> 02:20:00,609
right it's just how it is and I don't

2710
02:19:59,170 --> 02:20:04,270
necessarily think you can accuse

2711
02:20:00,609 --> 02:20:06,130
developers of being lazy because I mean

2712
02:20:04,270 --> 02:20:10,030
they may not even have the capability to

2713
02:20:06,129 --> 02:20:11,679
do otherwise right I mean the if you

2714
02:20:10,030 --> 02:20:14,050
really wanted to make a creative new

2715
02:20:11,680 --> 02:20:16,030
game design inside unity or unreal well

2716
02:20:14,049 --> 02:20:17,829
you're basically rolling your own mini

2717
02:20:16,030 --> 02:20:20,319
engine inside their engine and then

2718
02:20:17,829 --> 02:20:22,959
having to make a shim that that converts

2719
02:20:20,318 --> 02:20:24,309
kind of to their idea of how everything

2720
02:20:22,959 --> 02:20:28,089
is stored and all this other stuff right

2721
02:20:24,309 --> 02:20:31,148
and that's incredibly difficult I mean

2722
02:20:28,090 --> 02:20:32,920
the the point of having pre-made engines

2723
02:20:31,148 --> 02:20:34,389
was supposed to be that people didn't

2724
02:20:32,920 --> 02:20:35,950
have to learn all of the stuff that we

2725
02:20:34,389 --> 02:20:36,818
cover on handmade hero right like that's

2726
02:20:35,950 --> 02:20:40,420
the point

2727
02:20:36,818 --> 02:20:41,949
and I think the unfortunate reality is

2728
02:20:40,420 --> 02:20:44,559
you really just can't have it both ways

2729
02:20:41,950 --> 02:20:48,250
like if you are capable of doing all

2730
02:20:44,559 --> 02:20:49,750
this stuff then yeah sure you know your

2731
02:20:48,250 --> 02:20:51,459
choices is pretty much anything you want

2732
02:20:49,750 --> 02:20:53,170
you could just roll your own engine you

2733
02:20:51,459 --> 02:20:55,449
could decide that well I can make my own

2734
02:20:53,170 --> 02:20:56,680
mini engine inside of unreal and then

2735
02:20:55,450 --> 02:20:58,479
just leverage their renderer or

2736
02:20:56,680 --> 02:21:00,040
something right you can make creative

2737
02:20:58,478 --> 02:21:01,959
decisions like that to save yourself

2738
02:21:00,040 --> 02:21:04,120
time or whatever else you want to do and

2739
02:21:01,959 --> 02:21:06,909
you can but the number of people who can

2740
02:21:04,120 --> 02:21:08,590
do that is very small all of the people

2741
02:21:06,909 --> 02:21:10,180
who have kind of been told that well you

2742
02:21:08,590 --> 02:21:13,059
just use this engine you can make your

2743
02:21:10,180 --> 02:21:14,939
game I mean I think unfortunately it's

2744
02:21:13,059 --> 02:21:18,818
not they're not being lazy they're just

2745
02:21:14,939 --> 02:21:21,729
they're all they know is what can be

2746
02:21:18,818 --> 02:21:25,299
done in that like they don't they don't

2747
02:21:21,728 --> 02:21:26,619
have the knowledge or capability yet to

2748
02:21:25,299 --> 02:21:28,179
understand that there are things that

2749
02:21:26,620 --> 02:21:29,350
they can't do or even that their

2750
02:21:28,180 --> 02:21:30,609
decisions are being forced in a

2751
02:21:29,350 --> 02:21:34,359
particular direction because of these

2752
02:21:30,609 --> 02:21:39,760
engines so I don't consider that to be

2753
02:21:34,359 --> 02:21:42,399
laziness I consider that to be not you

2754
02:21:39,760 --> 02:21:44,889
know not having provided the materials

2755
02:21:42,398 --> 02:21:46,719
or not understanding well enough as an

2756
02:21:44,889 --> 02:21:48,639
industry what the differences are and

2757
02:21:46,719 --> 02:21:50,799
what actually is happening there because

2758
02:21:48,639 --> 02:21:52,568
it's not obvious it's not clear so I

2759
02:21:50,799 --> 02:21:55,659
don't I don't think it's fundamentally

2760
02:21:52,568 --> 02:21:56,579
the case that that there are developers

2761
02:21:55,659 --> 02:21:58,889
that are being lazy

2762
02:21:56,579 --> 02:22:00,479
here I don't I don't think that's true I

2763
02:21:58,889 --> 02:22:02,939
think they're people who are making a

2764
02:22:00,479 --> 02:22:06,569
particular business decision who perhaps

2765
02:22:02,940 --> 02:22:09,300
don't realize necessarily what that

2766
02:22:06,569 --> 02:22:11,520
entails and how that will affect what

2767
02:22:09,299 --> 02:22:14,219
kind of games they ever end up making so

2768
02:22:11,521 --> 02:22:15,720
I think that's true but I also think

2769
02:22:14,219 --> 02:22:17,909
it's just as an industry we don't

2770
02:22:15,719 --> 02:22:19,409
understand these things very well we

2771
02:22:17,909 --> 02:22:22,079
don't really understand what kinds of

2772
02:22:19,409 --> 02:22:23,700
games don't get made because of all the

2773
02:22:22,079 --> 02:22:26,760
people going to pre-made engines right

2774
02:22:23,700 --> 02:22:28,530
so it's really I think it's incorrect to

2775
02:22:26,760 --> 02:22:30,239
call anyone lazy in this scenario I

2776
02:22:28,530 --> 02:22:32,040
think it's it's a question of

2777
02:22:30,239 --> 02:22:34,369
understanding and we don't understand it

2778
02:22:32,040 --> 02:22:34,370
very well

2779
02:22:47,280 --> 02:22:51,460
and yeah I mean I also to be honest I

2780
02:22:49,870 --> 02:22:53,020
also disagree with the opinion that it's

2781
02:22:51,459 --> 02:22:54,250
an issue of uncreative games coming from

2782
02:22:53,020 --> 02:22:55,930
people wanting to make money I don't

2783
02:22:54,250 --> 02:22:58,239
think that's true either I think there's

2784
02:22:55,930 --> 02:23:00,819
a tremendous number of fairly earnest

2785
02:22:58,239 --> 02:23:02,289
games that were that are not cynical

2786
02:23:00,819 --> 02:23:03,879
they're not money grabs being made in

2787
02:23:02,290 --> 02:23:08,770
unreal and unity and they still just

2788
02:23:03,879 --> 02:23:11,699
feel really derivative and samey even

2789
02:23:08,770 --> 02:23:14,200
from people who are developers who are

2790
02:23:11,700 --> 02:23:16,270
specifically trying to stand out and do

2791
02:23:14,200 --> 02:23:17,950
something different and and it just

2792
02:23:16,270 --> 02:23:19,810
doesn't and that's because the gameplay

2793
02:23:17,950 --> 02:23:22,450
the actual thing you feel like they may

2794
02:23:19,809 --> 02:23:25,059
take a bold art direction they may take

2795
02:23:22,450 --> 02:23:27,159
a bold narrative direction but what they

2796
02:23:25,059 --> 02:23:30,369
fundamentally can't do is take a bold

2797
02:23:27,159 --> 02:23:32,260
actual game direction because unreal and

2798
02:23:30,370 --> 02:23:34,150
unity are fundamentally only suitable

2799
02:23:32,260 --> 02:23:36,520
for building very specific types of

2800
02:23:34,149 --> 02:23:38,799
games that are more or less games where

2801
02:23:36,520 --> 02:23:40,030
there are independent entities floating

2802
02:23:38,799 --> 02:23:42,159
around in the world with a physics

2803
02:23:40,030 --> 02:23:45,310
engine underlying them of varying

2804
02:23:42,159 --> 02:23:48,069
degrees of responsiveness that you then

2805
02:23:45,309 --> 02:23:51,279
interact with by entity touches entity

2806
02:23:48,069 --> 02:23:54,760
events like effectively all these games

2807
02:23:51,280 --> 02:23:59,579
are collision oriented event driven

2808
02:23:54,760 --> 02:24:04,840
games and that's all we make right and

2809
02:23:59,579 --> 02:24:06,610
breaking out of that is very difficult

2810
02:24:04,840 --> 02:24:08,079
when you use these engines because you

2811
02:24:06,610 --> 02:24:11,110
will be forced to write everything

2812
02:24:08,079 --> 02:24:14,889
yourself right if you choose to do so

2813
02:24:11,110 --> 02:24:16,840
and most people who go into that would

2814
02:24:14,889 --> 02:24:19,119
not know how to do that for any

2815
02:24:16,840 --> 02:24:20,860
non-trivial game design I mean I think

2816
02:24:19,120 --> 02:24:22,240
to a certain extent you know one of the

2817
02:24:20,860 --> 02:24:24,550
one of the things I think is really

2818
02:24:22,239 --> 02:24:28,299
interesting to me just really really

2819
02:24:24,549 --> 02:24:30,399
interesting to me is if you take a look

2820
02:24:28,299 --> 02:24:34,029
at how many people have Trott have have

2821
02:24:30,399 --> 02:24:38,619
clearly taken the direction that John

2822
02:24:34,030 --> 02:24:41,770
Blow went in braid the 2d platformer but

2823
02:24:38,620 --> 02:24:46,140
that has a much deeper underlying set of

2824
02:24:41,770 --> 02:24:46,140
game mechanics that get exposed write

2825
02:24:46,379 --> 02:24:53,679
effectively nobody despite like hundreds

2826
02:24:51,100 --> 02:24:57,069
if not thousands of games that clearly

2827
02:24:53,680 --> 02:24:59,460
descended from this idea almost none of

2828
02:24:57,069 --> 02:25:04,539
them have any gameplay of that kind

2829
02:24:59,459 --> 02:25:07,689
right almost none and that's because

2830
02:25:04,540 --> 02:25:10,030
it's incredibly difficult to program all

2831
02:25:07,690 --> 02:25:13,000
in all this complex like the simple

2832
02:25:10,030 --> 02:25:17,409
thing that's in braid that all it was

2833
02:25:13,000 --> 02:25:20,260
was saying that the time that the t-axis

2834
02:25:17,409 --> 02:25:23,310
of the game and the x-axis of the game

2835
02:25:20,260 --> 02:25:27,790
were the same now right

2836
02:25:23,310 --> 02:25:31,989
that alone would be a tremendous amount

2837
02:25:27,790 --> 02:25:33,910
of of procedural programming knowledge

2838
02:25:31,989 --> 02:25:36,969
someone would have to have to do that

2839
02:25:33,909 --> 02:25:38,260
what even if they had unity or unreal

2840
02:25:36,969 --> 02:25:43,590
just the whole thing in front of them

2841
02:25:38,260 --> 02:25:46,630
right so almost nobody does and you can

2842
02:25:43,590 --> 02:25:48,549
write it's not that you can't if you

2843
02:25:46,629 --> 02:25:52,359
know what you're doing do these things

2844
02:25:48,549 --> 02:25:54,429
inside there but because people start

2845
02:25:52,360 --> 02:25:56,141
out and all they know is unity or all

2846
02:25:54,430 --> 02:25:58,540
they know is unreal and how to work with

2847
02:25:56,140 --> 02:26:00,069
those systems they never learn the

2848
02:25:58,540 --> 02:26:03,280
skills that would be necessary to do

2849
02:26:00,069 --> 02:26:06,159
those things and so that's a big part of

2850
02:26:03,280 --> 02:26:09,430
it right and it's really really

2851
02:26:06,159 --> 02:26:12,610
difficult to to get to those points and

2852
02:26:09,430 --> 02:26:14,290
I think if it were easy we'd see a lot

2853
02:26:12,610 --> 02:26:17,079
more games that could do it but as it is

2854
02:26:14,290 --> 02:26:24,220
we see few almost none maybe one or two

2855
02:26:17,079 --> 02:26:25,959
sometimes you know I'm blanking on any

2856
02:26:24,219 --> 02:26:28,029
examples right now but once in a while

2857
02:26:25,959 --> 02:26:29,679
you get someone who does do them and I

2858
02:26:28,030 --> 02:26:31,360
suspect those people probably came from

2859
02:26:29,680 --> 02:26:33,670
a programming background where they knew

2860
02:26:31,360 --> 02:26:35,351
more and so they were able to say oh

2861
02:26:33,670 --> 02:26:37,979
yeah like I'm gonna do this in unity or

2862
02:26:35,351 --> 02:26:40,450
unreal but I'm gonna write this whole

2863
02:26:37,979 --> 02:26:43,840
substrate that sits on top of it you

2864
02:26:40,450 --> 02:26:45,220
know that lets me create that kind of

2865
02:26:43,840 --> 02:26:49,239
interesting gameplay you know what I

2866
02:26:45,219 --> 02:26:51,579
mean and even those games probably don't

2867
02:26:49,239 --> 02:26:53,729
have nearly as much as braid had you

2868
02:26:51,579 --> 02:26:53,729
know

2869
02:27:00,799 --> 02:27:06,079
I don't think superhot did do that

2870
02:27:03,489 --> 02:27:08,780
superhot is just multiplying the time

2871
02:27:06,079 --> 02:27:11,709
step by how fast you're moving it can't

2872
02:27:08,780 --> 02:27:14,540
rewind like it doesn't go backwards

2873
02:27:11,709 --> 02:27:17,529
which in in braids in that particular

2874
02:27:14,540 --> 02:27:19,460
case in braids level forget the rewind

2875
02:27:17,530 --> 02:27:20,989
but in super hot you can't move

2876
02:27:19,459 --> 02:27:26,529
backwards and have the bullets retreat

2877
02:27:20,989 --> 02:27:26,530
right so it's not really the case so

2878
02:27:35,540 --> 02:27:40,860
and yeah I mean I don't have a

2879
02:27:38,540 --> 02:27:43,080
prescription for this and it's a samisen

2880
02:27:40,860 --> 02:27:45,000
I also don't care I mean except from the

2881
02:27:43,079 --> 02:27:47,940
perspective of being a game player

2882
02:27:45,000 --> 02:27:49,440
myself it's depressing to want to play a

2883
02:27:47,940 --> 02:27:50,700
game on the weekend and they're all the

2884
02:27:49,440 --> 02:27:56,069
same I feel like I've played them all

2885
02:27:50,700 --> 02:27:58,079
already you know and so but I don't I

2886
02:27:56,069 --> 02:27:59,159
don't care I guess at some level other

2887
02:27:58,079 --> 02:28:01,379
than the fact that I wish there's more

2888
02:27:59,159 --> 02:28:05,069
creativity but you know whatever but

2889
02:28:01,379 --> 02:28:06,779
yeah I would say maybe something that

2890
02:28:05,069 --> 02:28:09,479
the industry could consider doing is

2891
02:28:06,780 --> 02:28:13,820
actually trying to spend more time being

2892
02:28:09,479 --> 02:28:16,529
cognizant of what unity and unreal are

2893
02:28:13,819 --> 02:28:19,949
making easy and what they're making hard

2894
02:28:16,530 --> 02:28:23,070
and start trying to actively push on

2895
02:28:19,950 --> 02:28:26,490
those things like try to figure out how

2896
02:28:23,069 --> 02:28:28,709
you can make games that are looking at

2897
02:28:26,489 --> 02:28:30,780
what what am I not doing because it's

2898
02:28:28,709 --> 02:28:33,390
you know not something that's a checkbox

2899
02:28:30,780 --> 02:28:36,450
and on unity in whatever right and try

2900
02:28:33,390 --> 02:28:39,199
to push towards breaking more of those

2901
02:28:36,450 --> 02:28:39,200
barriers you know

2902
02:28:52,030 --> 02:28:59,710
um all right let's do last question

2903
02:29:01,209 --> 02:29:08,750
have I ever worked with HR TF based

2904
02:29:04,851 --> 02:29:12,170
audio and the answer is no I have not

2905
02:29:08,750 --> 02:29:15,440
I haven't actually ever seen the demo

2906
02:29:12,170 --> 02:29:18,979
that convinces me I care about HR TF

2907
02:29:15,440 --> 02:29:21,170
audio but I also haven't really been

2908
02:29:18,979 --> 02:29:24,649
looking so I'm totally willing to

2909
02:29:21,170 --> 02:29:32,271
believe that at some point we'll get to

2910
02:29:24,649 --> 02:29:42,379
a really high end ear response sim kind

2911
02:29:32,271 --> 02:29:46,190
of a thing that you know yeah I mean

2912
02:29:42,379 --> 02:29:48,680
that maybe at that point you're kind of

2913
02:29:46,190 --> 02:29:50,960
yeah I don't know I mean I really

2914
02:29:48,681 --> 02:29:52,011
couldn't tell you like I don't know if I

2915
02:29:50,959 --> 02:29:53,419
think it'll ever really be that relevant

2916
02:29:52,011 --> 02:30:00,190
but I'm willing to believe that it will

2917
02:29:53,420 --> 02:30:00,190
be at some point right so

2918
02:30:19,829 --> 02:30:25,270
um also I guess I would there's some

2919
02:30:22,930 --> 02:30:27,010
mention of cyberpunk 2077 that games not

2920
02:30:25,270 --> 02:30:31,989
out yet so I mean I was so you can't

2921
02:30:27,010 --> 02:30:35,648
have an opinion about it right but as

2922
02:30:31,989 --> 02:30:37,449
far as anyone shown it's just exactly

2923
02:30:35,648 --> 02:30:39,549
the same thing as you would expect if

2924
02:30:37,450 --> 02:30:41,950
you were playing any other game that was

2925
02:30:39,549 --> 02:30:44,199
literally exactly the same way like it

2926
02:30:41,950 --> 02:30:46,270
doesn't look even remotely like it's

2927
02:30:44,200 --> 02:30:47,740
doing anything with gameplay that's any

2928
02:30:46,270 --> 02:30:50,430
different from exactly what you could

2929
02:30:47,739 --> 02:30:52,600
have built in the Unreal Engine now

2930
02:30:50,430 --> 02:30:53,920
obviously I think it's great that they

2931
02:30:52,600 --> 02:30:56,649
do their own in-house engine because I

2932
02:30:53,920 --> 02:30:59,469
think the more engines the better but

2933
02:30:56,648 --> 02:31:02,680
there's literally nothing in the

2934
02:30:59,469 --> 02:31:04,840
cyberpunk 2077 demos that doesn't

2935
02:31:02,680 --> 02:31:08,290
suggest it's literally exactly something

2936
02:31:04,840 --> 02:31:13,299
you could have done in unreal and you

2937
02:31:08,290 --> 02:31:15,310
know I think that at least the ue4 stuff

2938
02:31:13,299 --> 02:31:18,639
is has a much harder time with expansive

2939
02:31:15,309 --> 02:31:20,289
environments and I think that the CD

2940
02:31:18,639 --> 02:31:22,599
Projekt RED people have done a much

2941
02:31:20,290 --> 02:31:24,250
better job with their engine in terms of

2942
02:31:22,600 --> 02:31:26,079
expansive vistas and stuff like that

2943
02:31:24,250 --> 02:31:27,700
then they right so I actually think CD

2944
02:31:26,079 --> 02:31:31,090
Projekt RED have done a fantastic job

2945
02:31:27,700 --> 02:31:33,490
with their engine I think they're a

2946
02:31:31,090 --> 02:31:35,049
great engine dev but in terms of

2947
02:31:33,489 --> 02:31:36,068
gameplay it's exactly the same thing

2948
02:31:35,049 --> 02:31:39,789
that you've played a hundred million

2949
02:31:36,068 --> 02:31:41,769
times before and you know I will

2950
02:31:39,790 --> 02:31:42,910
probably play it because I don't mind

2951
02:31:41,770 --> 02:31:45,760
playing a triple-a game once when I

2952
02:31:42,909 --> 02:31:49,439
played horizon zero dawn for example a

2953
02:31:45,760 --> 02:31:52,750
couple years back hmm had a good time

2954
02:31:49,439 --> 02:31:53,979
and so I think playing triple r games

2955
02:31:52,750 --> 02:31:55,959
can be fun sometimes because they hey

2956
02:31:53,978 --> 02:31:58,028
they present this big expansive world

2957
02:31:55,959 --> 02:32:01,449
with tons of art it's nice the gameplay

2958
02:31:58,029 --> 02:32:03,579
is exactly the freakin same it's I push

2959
02:32:01,450 --> 02:32:06,399
on the analog stick to move my dude

2960
02:32:03,579 --> 02:32:10,029
around or in Reggio dawn my lady around

2961
02:32:06,398 --> 02:32:12,519
and then I push on some buttons to like

2962
02:32:10,029 --> 02:32:14,890
fire projectiles and those things hit

2963
02:32:12,520 --> 02:32:19,899
and do something it's that's the whole

2964
02:32:14,889 --> 02:32:24,059
game it's asteroids 24/7 right and I

2965
02:32:19,898 --> 02:32:27,789
will be absolutely shocked if somehow

2966
02:32:24,059 --> 02:32:29,949
cyberpunk 2077 doesn't feel exactly the

2967
02:32:27,790 --> 02:32:32,740
same way right

2968
02:32:29,950 --> 02:32:37,630
I mean that's all that's what we write

2969
02:32:32,739 --> 02:32:39,789
we don't write anything else here and I

2970
02:32:37,629 --> 02:32:41,739
you know there's the little part of the

2971
02:32:39,790 --> 02:32:43,720
game that has the three choice dialogue

2972
02:32:41,739 --> 02:32:45,640
tree that someone's got in there right I

2973
02:32:43,719 --> 02:32:46,989
mean it's we just know we know what all

2974
02:32:45,640 --> 02:32:48,729
these things are gonna be I don't need

2975
02:32:46,989 --> 02:32:50,129
to play cyberpunk 2077 tell you

2976
02:32:48,729 --> 02:32:52,539
everything that's in cyberpunk 2077

2977
02:32:50,129 --> 02:32:54,129
because if there's one thing I can tell

2978
02:32:52,540 --> 02:32:56,891
you for sure is that a hundred percent

2979
02:32:54,129 --> 02:32:59,049
of the things that you saw at the PS 5

2980
02:32:56,890 --> 02:33:02,049
reveal our games I can already tell you

2981
02:32:59,049 --> 02:33:11,069
exactly how you play them right because

2982
02:33:02,049 --> 02:33:13,569
that's all we build it's not bad right

2983
02:33:11,069 --> 02:33:15,899
it's just we have to recognize that's

2984
02:33:13,569 --> 02:33:15,899
what it is

2985
02:33:27,739 --> 02:33:34,591
all right thank you everyone for joining

2986
02:33:33,120 --> 02:33:36,391
me for the set of handmade hero sort of

2987
02:33:34,591 --> 02:33:37,440
pleasure coding with you as always if

2988
02:33:36,390 --> 02:33:38,310
you would like to file along a series at

2989
02:33:37,440 --> 02:33:40,591
home you can always pre-order the game

2990
02:33:38,310 --> 02:33:41,789
at handmade hero org and it comes to the

2991
02:33:40,591 --> 02:33:44,431
source code so you can follow along with

2992
02:33:41,790 --> 02:33:46,110
me as we build it I will be back here

2993
02:33:44,431 --> 02:33:48,721
tomorrow when I will start to look at

2994
02:33:46,110 --> 02:33:50,190
some other lighting quality things that

2995
02:33:48,720 --> 02:33:51,750
I'd like to look at with our cube caster

2996
02:33:50,190 --> 02:33:53,399
I was really pleased the progress we

2997
02:33:51,750 --> 02:33:55,261
made today everything kind of went you

2998
02:33:53,399 --> 02:33:57,690
know almost better than I would have

2999
02:33:55,261 --> 02:34:01,801
expected and so I feel really good about

3000
02:33:57,690 --> 02:34:03,120
our prospects for taking some more steps

3001
02:34:01,800 --> 02:34:05,069
down that road and the lighting is

3002
02:34:03,120 --> 02:34:06,900
starting to come into a place where I'm

3003
02:34:05,069 --> 02:34:08,399
thinking it might actually be kind of

3004
02:34:06,899 --> 02:34:09,690
nice and we can finally sign off on it's

3005
02:34:08,399 --> 02:34:11,640
one of the hardest things we've done on

3006
02:34:09,690 --> 02:34:15,271
handmade hero it's a really really

3007
02:34:11,640 --> 02:34:17,810
difficult problem for all engines even

3008
02:34:15,271 --> 02:34:19,591
you know the very latest game engines

3009
02:34:17,810 --> 02:34:21,270
cutting-edge game engines have a

3010
02:34:19,591 --> 02:34:24,091
tremendously hard time with indirect

3011
02:34:21,271 --> 02:34:25,891
lighting I mean you could even go see if

3012
02:34:24,091 --> 02:34:27,899
you look at the most recent Unreal 5

3013
02:34:25,890 --> 02:34:31,529
demo that they showed it has several

3014
02:34:27,899 --> 02:34:33,390
flames frames of lag on indirect

3015
02:34:31,530 --> 02:34:35,761
lighting changes it's just that's how

3016
02:34:33,390 --> 02:34:36,989
hard it is it's a very tough problem but

3017
02:34:35,761 --> 02:34:39,329
I think we're doing a reasonable job on

3018
02:34:36,989 --> 02:34:41,190
it and I think we can start to converge

3019
02:34:39,329 --> 02:34:42,239
now on on a good solution because

3020
02:34:41,190 --> 02:34:44,399
everything seems to be falling into

3021
02:34:42,239 --> 02:34:45,959
place relatively well it was a hard road

3022
02:34:44,399 --> 02:34:48,329
to get here but but I think we made it

3023
02:34:45,959 --> 02:34:50,459
so I'm excited for that and hopefully

3024
02:34:48,329 --> 02:34:51,690
you will be back here to join me until

3025
02:34:50,459 --> 02:34:53,010
then have fun partner everyone and I'll

3026
02:34:51,690 --> 02:34:55,069
see you on the Internet take it easy

3027
02:34:53,011 --> 02:34:55,069
everybody

