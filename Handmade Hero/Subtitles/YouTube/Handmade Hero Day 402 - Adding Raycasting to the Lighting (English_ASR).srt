1
00:00:00,920 --> 00:00:05,490
all right thank you everyone for joining

2
00:00:03,448 --> 00:00:07,620
me for another episode of handmade hero

3
00:00:05,490 --> 00:00:09,120
you know I've been doing this yesterday

4
00:00:07,620 --> 00:00:11,129
and today I sort of started with the

5
00:00:09,119 --> 00:00:13,109
same thing I normally close close with I

6
00:00:11,130 --> 00:00:14,309
think I normally say welcome to handmade

7
00:00:13,109 --> 00:00:15,838
hero the show where we code a complete

8
00:00:14,308 --> 00:00:18,448
gave live on stream I don't know why I

9
00:00:15,839 --> 00:00:20,329
switched it up maybe this weekend it's

10
00:00:18,449 --> 00:00:23,730
just backwards weekend it's hard to say

11
00:00:20,329 --> 00:00:26,189
anyway it's lighting time we actually

12
00:00:23,730 --> 00:00:28,260
fix the lighting yesterday to not have

13
00:00:26,189 --> 00:00:29,518
some obvious bug finish that it had when

14
00:00:28,260 --> 00:00:34,350
we had just kind of splattered it in

15
00:00:29,518 --> 00:00:35,820
there so we we have a lighting solution

16
00:00:34,350 --> 00:00:39,808
now that while it's not particularly

17
00:00:35,820 --> 00:00:41,340
interesting it is actually usable at

18
00:00:39,808 --> 00:00:43,738
this point right like we're getting to

19
00:00:41,340 --> 00:00:46,530
the point where we could actually use it

20
00:00:43,738 --> 00:00:49,199
and it's not good like it's not what we

21
00:00:46,530 --> 00:00:51,719
want because it's pretty boring it's

22
00:00:49,200 --> 00:00:54,300
pretty basic in terms of what it does

23
00:00:51,719 --> 00:00:56,100
but it's getting there right it's like

24
00:00:54,299 --> 00:01:00,750
it's not completely messed up anymore

25
00:00:56,100 --> 00:01:03,179
and so that's a good like place to be

26
00:01:00,750 --> 00:01:05,099
obviously but that just means our job

27
00:01:03,179 --> 00:01:07,650
for today and probably next weekend as

28
00:01:05,099 --> 00:01:09,719
well before we decide to sort of get

29
00:01:07,650 --> 00:01:11,760
this down to a more optimized thing that

30
00:01:09,719 --> 00:01:13,019
we can use and put it on the GPU which

31
00:01:11,760 --> 00:01:16,500
is going to be kind of the final phase

32
00:01:13,019 --> 00:01:18,539
of it and that phase is you know going

33
00:01:16,500 --> 00:01:21,359
to be pretty straightforward but but you

34
00:01:18,540 --> 00:01:24,960
know annoying because it involves GPU

35
00:01:21,359 --> 00:01:26,519
programming before we get to that what

36
00:01:24,959 --> 00:01:28,228
we want to do is you know it's push the

37
00:01:26,519 --> 00:01:30,149
quality level a little bit here and

38
00:01:28,228 --> 00:01:32,509
there's a bunch of things that we

39
00:01:30,150 --> 00:01:36,420
probably want to fix in terms of quality

40
00:01:32,509 --> 00:01:38,159
that I see right so looking at it at the

41
00:01:36,420 --> 00:01:39,989
moment you know we get this kind of

42
00:01:38,159 --> 00:01:42,240
situation where if you take a look at

43
00:01:39,989 --> 00:01:44,009
what's happening there are some basic

44
00:01:42,239 --> 00:01:46,379
things that I would like to try and

45
00:01:44,009 --> 00:01:49,739
improve on so the very first one

46
00:01:46,379 --> 00:01:52,589
obviously is if we take a look at how

47
00:01:49,739 --> 00:01:55,399
these lights are distributing you can

48
00:01:52,590 --> 00:01:58,579
kind of see how this light for example

49
00:01:55,399 --> 00:02:00,718
propagates basically symmetrically

50
00:01:58,578 --> 00:02:02,879
around where we're going like for

51
00:02:00,718 --> 00:02:04,559
example if I stick my my guy right up

52
00:02:02,879 --> 00:02:08,519
against the wall there you can kind of

53
00:02:04,560 --> 00:02:11,098
see how this square which is too away is

54
00:02:08,520 --> 00:02:13,180
lit basically the same as this square

55
00:02:11,098 --> 00:02:15,098
over here right there's there's

56
00:02:13,180 --> 00:02:17,620
really not a lot of difference between

57
00:02:15,098 --> 00:02:19,598
these so you can put a light right up

58
00:02:17,620 --> 00:02:23,859
next to a giant litter and this is the

59
00:02:19,598 --> 00:02:25,328
only light in the scene remember and it

60
00:02:23,859 --> 00:02:26,739
will just lead right through and why

61
00:02:25,329 --> 00:02:27,849
does it do that well the reason is it

62
00:02:26,739 --> 00:02:32,620
does that is because we don't really

63
00:02:27,848 --> 00:02:34,358
have any notion of shadowing in terms of

64
00:02:32,620 --> 00:02:36,459
light source direction so I don't love

65
00:02:34,359 --> 00:02:37,989
that aspect of what we're not really

66
00:02:36,459 --> 00:02:41,408
doing that in there which is which is

67
00:02:37,989 --> 00:02:43,150
bad so I think we want to try to improve

68
00:02:41,408 --> 00:02:44,679
that and the other thing is that you'll

69
00:02:43,150 --> 00:02:47,859
notice like I'm not getting as much

70
00:02:44,680 --> 00:02:49,359
color bleed as I would like and so you

71
00:02:47,859 --> 00:02:51,340
know if we take a look at what's going

72
00:02:49,359 --> 00:02:53,769
on here where we've got this sort of

73
00:02:51,340 --> 00:02:55,419
lighting where we're lighting some of

74
00:02:53,769 --> 00:02:57,609
these panels up like right here you can

75
00:02:55,419 --> 00:02:59,590
see you've got a lot of light shining

76
00:02:57,609 --> 00:03:03,819
off of these red panels and I see almost

77
00:02:59,590 --> 00:03:05,979
none of it coming up on to these ground

78
00:03:03,818 --> 00:03:07,750
reflectors there's maybe a tinge of it

79
00:03:05,979 --> 00:03:10,718
in there if you really wanted to see it

80
00:03:07,750 --> 00:03:12,128
you could but you know in terms of if

81
00:03:10,718 --> 00:03:14,680
we're being honest about it it's really

82
00:03:12,128 --> 00:03:17,620
not there in any appreciable way if we

83
00:03:14,680 --> 00:03:19,870
take a look at the reflectors and what

84
00:03:17,620 --> 00:03:22,000
we're seeing it's just it's they're more

85
00:03:19,870 --> 00:03:24,969
or less it's like those red ones aren't

86
00:03:22,000 --> 00:03:27,158
even there and that's not what we want

87
00:03:24,969 --> 00:03:30,158
either so that's that's really what

88
00:03:27,158 --> 00:03:37,810
we're talking about here and so we need

89
00:03:30,158 --> 00:03:39,789
to sort of look at that and so the two

90
00:03:37,810 --> 00:03:41,739
things that I would like to do is to

91
00:03:39,789 --> 00:03:43,508
push forward is one I would like to

92
00:03:41,739 --> 00:03:46,000
start getting some directional shadowing

93
00:03:43,508 --> 00:03:48,008
in there I don't like the ambient

94
00:03:46,000 --> 00:03:54,489
occlusion path it's turned off right now

95
00:03:48,008 --> 00:03:56,500
if I'm not mistaken let me see if that's

96
00:03:54,489 --> 00:03:58,329
true before I say that I'm pretty sure

97
00:03:56,500 --> 00:04:00,639
it is I don't like the ambient occlusion

98
00:03:58,329 --> 00:04:04,840
pass we kind of got it from the the

99
00:04:00,639 --> 00:04:06,280
paper the the friction lamps paper I

100
00:04:04,840 --> 00:04:08,139
don't like it

101
00:04:06,280 --> 00:04:09,609
it's not not doing it for me maybe

102
00:04:08,139 --> 00:04:11,379
that's because we implemented it poorly

103
00:04:09,609 --> 00:04:12,219
I don't know I mean it's hard to tell

104
00:04:11,378 --> 00:04:16,168
without a reference implementation

105
00:04:12,219 --> 00:04:19,000
obviously but I don't really like it and

106
00:04:16,168 --> 00:04:20,228
III want something that's that's going

107
00:04:19,000 --> 00:04:22,269
to be better than that

108
00:04:20,228 --> 00:04:25,709
for shadowing so you know if I turn that

109
00:04:22,269 --> 00:04:25,709
on here here's the shadowing

110
00:04:25,730 --> 00:04:30,230
not a lot of difference and you can see

111
00:04:28,310 --> 00:04:31,459
we get some weird behavior too so we

112
00:04:30,230 --> 00:04:34,759
might have some bugs in there we could

113
00:04:31,459 --> 00:04:36,560
take a look at just in terms of the fact

114
00:04:34,759 --> 00:04:39,949
that you know you get this sort of black

115
00:04:36,560 --> 00:04:43,220
pure black shadow where the light gets

116
00:04:39,949 --> 00:04:45,589
you know clipped out entirely and you

117
00:04:43,220 --> 00:04:47,990
know I guess that could be theoretically

118
00:04:45,589 --> 00:04:50,119
correct I mean in a certain way because

119
00:04:47,990 --> 00:04:52,189
you think about it this guy right here

120
00:04:50,120 --> 00:04:54,430
really has no one he can get light from

121
00:04:52,189 --> 00:04:57,430
there's nothing to bounce off of

122
00:04:54,430 --> 00:04:57,430
oops

123
00:05:00,319 --> 00:05:04,339
there's nothing for for that light to

124
00:05:02,089 --> 00:05:06,500
bounce off of that like nothing nearby

125
00:05:04,339 --> 00:05:09,049
for it to illuminate so when it gets

126
00:05:06,500 --> 00:05:11,269
shadowed it can be shattered entirely so

127
00:05:09,050 --> 00:05:13,550
that you know I don't necessarily think

128
00:05:11,269 --> 00:05:15,949
it's wrong and when we put together a

129
00:05:13,550 --> 00:05:18,620
more realistic scene that had you know a

130
00:05:15,949 --> 00:05:20,569
ceiling or a skylight you know I think

131
00:05:18,620 --> 00:05:23,060
you wouldn't have that problem happening

132
00:05:20,569 --> 00:05:25,370
as often but the thing that I would

133
00:05:23,060 --> 00:05:28,310
point out is I'm less inclined to go

134
00:05:25,370 --> 00:05:30,769
diving into the ambient occlusion path

135
00:05:28,310 --> 00:05:32,600
and try to find if there are bugs in it

136
00:05:30,769 --> 00:05:34,879
because I don't like it to begin with

137
00:05:32,600 --> 00:05:37,370
because as our shadow it you know if

138
00:05:34,879 --> 00:05:39,350
that's our solution for shadows well it

139
00:05:37,370 --> 00:05:41,149
doesn't work and is it going to work

140
00:05:39,350 --> 00:05:42,920
because the thing about ambient

141
00:05:41,149 --> 00:05:44,750
occlusion is it doesn't have directional

142
00:05:42,920 --> 00:05:46,879
shadowing information in it it doesn't

143
00:05:44,750 --> 00:05:49,399
know if you're on one side of a wall or

144
00:05:46,879 --> 00:05:51,350
not and so the problem that we will just

145
00:05:49,399 --> 00:05:54,109
have with it whether or not it's working

146
00:05:51,350 --> 00:05:56,960
well is that it will never produce the

147
00:05:54,110 --> 00:06:00,020
actual shadowing results that we want so

148
00:05:56,959 --> 00:06:02,239
at best that ambient occlusion thing can

149
00:06:00,019 --> 00:06:03,620
only really be part of another algorithm

150
00:06:02,240 --> 00:06:05,780
that would do the other sorts of things

151
00:06:03,620 --> 00:06:08,060
that I want and so I'm less inclined to

152
00:06:05,779 --> 00:06:10,129
really deal much with it at this point I

153
00:06:08,060 --> 00:06:14,720
would probably just say that we're going

154
00:06:10,129 --> 00:06:16,730
to leave it kind of off on its own and

155
00:06:14,720 --> 00:06:19,730
we'll revisit it if we feel like we need

156
00:06:16,730 --> 00:06:22,310
what it does later on so what I'd like

157
00:06:19,730 --> 00:06:23,750
to do now again is yet start to focus on

158
00:06:22,310 --> 00:06:26,269
trying to improve the quality there and

159
00:06:23,750 --> 00:06:29,649
I think what I'd like to do is maybe try

160
00:06:26,269 --> 00:06:32,899
to focus on that shadowing quality it

161
00:06:29,649 --> 00:06:37,669
does bring up one question of whether or

162
00:06:32,899 --> 00:06:39,319
not we need to make the heroes not

163
00:06:37,670 --> 00:06:43,129
interpenetrate with really tall

164
00:06:39,319 --> 00:06:46,909
wall I don't necessarily know if there's

165
00:06:43,129 --> 00:06:57,050
much we can do with that it's a good

166
00:06:46,910 --> 00:06:59,750
question yeah we're going to have to

167
00:06:57,050 --> 00:07:02,770
soup I swore on the train we're

168
00:06:59,750 --> 00:07:06,410
going to have to mess with our Z bias

169
00:07:02,769 --> 00:07:08,539
that's like the fifth one man I tried so

170
00:07:06,410 --> 00:07:11,300
hard to not have any curses on the

171
00:07:08,540 --> 00:07:12,830
stream and I fail so anyway here's what

172
00:07:11,300 --> 00:07:15,889
we need to do we need to start looking

173
00:07:12,829 --> 00:07:18,409
at improving that lighting and what we

174
00:07:15,889 --> 00:07:19,879
want to do is focus on either the shadow

175
00:07:18,410 --> 00:07:21,170
or the light bleed part I think both of

176
00:07:19,879 --> 00:07:23,480
them are fixable and we can sort of

177
00:07:21,170 --> 00:07:25,580
start to play with them what do I think

178
00:07:23,480 --> 00:07:27,830
these are coming from well first of all

179
00:07:25,579 --> 00:07:28,339
the shadow Park is really obvious where

180
00:07:27,829 --> 00:07:30,889
it's coming from

181
00:07:28,339 --> 00:07:32,779
it's a lack of something right now the

182
00:07:30,889 --> 00:07:35,000
light just propagates light between

183
00:07:32,779 --> 00:07:37,309
surfaces without thinking about whether

184
00:07:35,000 --> 00:07:39,620
there's something in between the two

185
00:07:37,310 --> 00:07:54,310
surfaces that are trying to provide

186
00:07:39,620 --> 00:07:56,870
light right so what happens in this case

187
00:07:54,310 --> 00:07:58,699
what we get is a situation where each of

188
00:07:56,870 --> 00:07:59,870
these reflectors and again I guess I

189
00:07:58,699 --> 00:08:02,149
should go back to the reflector views

190
00:07:59,870 --> 00:08:04,670
you can see it each of these reflectors

191
00:08:02,149 --> 00:08:06,349
is transferring light between every

192
00:08:04,670 --> 00:08:08,210
other reflector right and we will do

193
00:08:06,350 --> 00:08:11,270
something that reduces the degree to

194
00:08:08,209 --> 00:08:14,779
which we N squared that in the future

195
00:08:11,269 --> 00:08:16,099
but for the moment it doesn't matter

196
00:08:14,779 --> 00:08:18,439
because we're actually even doing it N

197
00:08:16,100 --> 00:08:20,629
squared and that's fine what we're just

198
00:08:18,439 --> 00:08:22,189
for testing we're doing it N squared so

199
00:08:20,629 --> 00:08:23,600
when we're doing this N squared

200
00:08:22,189 --> 00:08:26,740
transference the problem that we will

201
00:08:23,600 --> 00:08:29,200
run into is that if we are just testing

202
00:08:26,740 --> 00:08:35,080
you know each one of these reflectors

203
00:08:29,199 --> 00:08:35,080
against each other reflector right then

204
00:08:37,649 --> 00:08:42,538
we really don't have any way of knowing

205
00:08:39,899 --> 00:08:44,549
whether or not that reflector can see

206
00:08:42,538 --> 00:08:47,370
the other reflector we know if the

207
00:08:44,549 --> 00:08:49,500
reflector is too far away right so when

208
00:08:47,370 --> 00:08:51,060
we're moving the light around we do know

209
00:08:49,500 --> 00:08:53,070
stuff like oh okay

210
00:08:51,059 --> 00:08:54,959
you know this reflector isn't getting

211
00:08:53,070 --> 00:08:56,879
much light from this light source over

212
00:08:54,960 --> 00:09:01,889
here and the reason is because it's too

213
00:08:56,879 --> 00:09:06,629
far you know so that's a pretty easy way

214
00:09:01,889 --> 00:09:08,278
for that to be rectified and and yet you

215
00:09:06,629 --> 00:09:10,230
know that sort of information about

216
00:09:08,278 --> 00:09:12,000
light and fall-off into place what we

217
00:09:10,230 --> 00:09:14,730
don't have is a way of knowing well you

218
00:09:12,000 --> 00:09:17,820
know this can't really see this because

219
00:09:14,730 --> 00:09:19,289
there's stuff in the way right and so

220
00:09:17,820 --> 00:09:22,080
the amount of light that comes back here

221
00:09:19,289 --> 00:09:24,120
should be lessened that's just a basic

222
00:09:22,080 --> 00:09:26,160
part no matter how we do our reflectors

223
00:09:24,120 --> 00:09:29,909
or how they're shaped that's something

224
00:09:26,159 --> 00:09:32,309
that is is we just need some way of

225
00:09:29,909 --> 00:09:34,379
taking into account so what I want to

226
00:09:32,309 --> 00:09:36,750
know is is there some way that we can

227
00:09:34,379 --> 00:09:42,169
take what we're doing right now and

228
00:09:36,750 --> 00:09:44,759
change the basic idea so that we end up

229
00:09:42,169 --> 00:09:48,419
computing something that has a little

230
00:09:44,759 --> 00:09:50,549
bit of shadowing in it and I guess I

231
00:09:48,419 --> 00:09:54,990
might suggest something really

232
00:09:50,549 --> 00:09:57,449
ridiculous at this point I which you

233
00:09:54,990 --> 00:09:58,860
know I I guess I it's one of those

234
00:09:57,450 --> 00:10:03,600
things where you never really know till

235
00:09:58,860 --> 00:10:06,509
you try but if we imagine that every

236
00:10:03,600 --> 00:10:09,778
reflector was actually going to sort of

237
00:10:06,509 --> 00:10:14,850
keep a little bit of a pseudo pixel

238
00:10:09,778 --> 00:10:21,509
render kind of a thing going on I know

239
00:10:14,850 --> 00:10:24,330
this sounds ridiculous and yeah I know

240
00:10:21,509 --> 00:10:26,819
this sounds absolutely ridiculous but if

241
00:10:24,330 --> 00:10:29,040
you imagined that we just sort of took

242
00:10:26,820 --> 00:10:31,910
every reflector and looked at how the

243
00:10:29,039 --> 00:10:36,000
other reflectors mapped onto its

244
00:10:31,909 --> 00:10:40,079
hemisphere that is sort of the complete

245
00:10:36,000 --> 00:10:42,899
picture of how the light comes in to

246
00:10:40,080 --> 00:10:44,129
that reflector right because the thing

247
00:10:42,899 --> 00:10:45,269
that we're not capturing now that we

248
00:10:44,129 --> 00:10:48,088
need to capture is the fact that

249
00:10:45,269 --> 00:10:49,360
reflectors overlap and so if we took you

250
00:10:48,089 --> 00:10:53,740
know almost a render

251
00:10:49,360 --> 00:10:55,269
of that hemisphere then we would get you

252
00:10:53,740 --> 00:10:59,320
know that information that we needed

253
00:10:55,269 --> 00:11:01,179
right however that's like pretty cost

254
00:10:59,320 --> 00:11:03,879
prohibitive to produce even if we were

255
00:11:01,179 --> 00:11:05,469
on the GPU you know if you imagine that

256
00:11:03,879 --> 00:11:07,559
we have something on the order of five

257
00:11:05,470 --> 00:11:11,470
files and abuse reflectors eventually

258
00:11:07,559 --> 00:11:14,439
rendering 5,000 cubed Maps or something

259
00:11:11,470 --> 00:11:16,000
is probably not a very good idea even if

260
00:11:14,440 --> 00:11:17,380
we were to do it sporadically and even

261
00:11:16,000 --> 00:11:20,559
if we're doing it just with flat plates

262
00:11:17,379 --> 00:11:25,480
like this five thousand times five

263
00:11:20,559 --> 00:11:27,729
thousand in terms of the render load

264
00:11:25,480 --> 00:11:29,610
isn't necessarily that bad for a GPU

265
00:11:27,730 --> 00:11:38,050
right like if you're trying to think

266
00:11:29,610 --> 00:11:40,060
what would that be so it's 25 million if

267
00:11:38,049 --> 00:11:42,009
your translate 25 million primitives

268
00:11:40,059 --> 00:11:44,109
well honestly since their instance

269
00:11:42,009 --> 00:11:45,490
because you're rendering the same 5,000

270
00:11:44,110 --> 00:11:47,649
just rendering them five thousand times

271
00:11:45,490 --> 00:11:48,700
it's really not that bad in terms of the

272
00:11:47,649 --> 00:11:51,700
number of rooms you're trying to sink

273
00:11:48,700 --> 00:11:53,680
the problem is the number of destination

274
00:11:51,700 --> 00:11:55,000
cube maps there and the setup involved

275
00:11:53,679 --> 00:11:55,838
in switching render targets five

276
00:11:55,000 --> 00:12:01,000
thousand times

277
00:11:55,839 --> 00:12:02,560
sounds dangerous so in terms of actually

278
00:12:01,000 --> 00:12:05,019
rendering all the reflectors in that

279
00:12:02,559 --> 00:12:08,559
sense I don't know that sounds pretty

280
00:12:05,019 --> 00:12:10,089
rough so you know the question is is

281
00:12:08,559 --> 00:12:13,629
there something we can do that's more

282
00:12:10,089 --> 00:12:15,810
straightforward than that that's simpler

283
00:12:13,629 --> 00:12:15,809
than that

284
00:12:21,448 --> 00:12:29,099
and I don't know but let me just sort of

285
00:12:26,500 --> 00:12:29,100
give you an idea

286
00:12:43,169 --> 00:12:46,439
no time

287
00:12:58,869 --> 00:13:06,790
all right so here is the problem

288
00:13:16,570 --> 00:13:21,820
and I'm going to draw it right here so

289
00:13:19,809 --> 00:13:24,909
the problem that we have is we've got

290
00:13:21,820 --> 00:13:26,680
these reflectors and we want to take a

291
00:13:24,909 --> 00:13:30,959
look at you know some other set of

292
00:13:26,679 --> 00:13:30,959
reflectors that are coming into it right

293
00:13:31,289 --> 00:13:37,299
and what we'd like to do is we'd like to

294
00:13:35,139 --> 00:13:39,279
be able to say well okay so you know

295
00:13:37,299 --> 00:13:41,019
this one is basically entirely behind

296
00:13:39,279 --> 00:13:42,309
these other two so anything coming from

297
00:13:41,019 --> 00:13:43,750
this one just isn't going to be seen

298
00:13:42,309 --> 00:13:45,189
whereas the only way you're going to see

299
00:13:43,750 --> 00:13:46,659
any contribution from this one is if it

300
00:13:45,190 --> 00:13:48,370
like secondarily bounced off something

301
00:13:46,659 --> 00:13:49,419
else you can see like maybe something

302
00:13:48,370 --> 00:13:51,639
over here or something like that but

303
00:13:49,419 --> 00:13:54,759
you're never going to see any light from

304
00:13:51,639 --> 00:14:00,490
this guy right here reflected onto this

305
00:13:54,759 --> 00:14:01,659
one it's just not going to happen so the

306
00:14:00,490 --> 00:14:02,649
reason we're not getting that right now

307
00:14:01,659 --> 00:14:04,299
is because when we consider these two

308
00:14:02,649 --> 00:14:06,039
all we look at is the distance so the

309
00:14:04,299 --> 00:14:07,359
fact that this one happens to be that

310
00:14:06,039 --> 00:14:08,829
far away is the only thing that

311
00:14:07,360 --> 00:14:11,500
attenuates it the fact that these two

312
00:14:08,830 --> 00:14:18,460
are in the way doesn't really help us

313
00:14:11,500 --> 00:14:21,129
right and similarly if we take a look at

314
00:14:18,460 --> 00:14:22,870
the ambient occlusion pass the ambient

315
00:14:21,129 --> 00:14:25,149
occlusion pass just looks at how much

316
00:14:22,870 --> 00:14:27,789
these other things shadow the hemisphere

317
00:14:25,149 --> 00:14:29,889
of this guy it doesn't tell us for which

318
00:14:27,789 --> 00:14:31,599
person it doesn't tell us that this one

319
00:14:29,889 --> 00:14:33,490
is shadowed more than this one which is

320
00:14:31,600 --> 00:14:36,220
the information that we actually need

321
00:14:33,490 --> 00:14:38,620
and so from this reflector what we'd

322
00:14:36,220 --> 00:14:42,029
like to do is we'd like to actually say

323
00:14:38,620 --> 00:14:45,310
well tell me about what all of these

324
00:14:42,029 --> 00:14:47,049
reflectors would flatten onto if I was

325
00:14:45,309 --> 00:14:48,669
to draw this hemisphere in here and

326
00:14:47,049 --> 00:14:50,979
again what we could do right like I was

327
00:14:48,669 --> 00:14:54,490
saying is it could take a cube map and

328
00:14:50,980 --> 00:14:55,810
we only need you know slides of the six

329
00:14:54,490 --> 00:14:57,820
sides the cube map obviously this

330
00:14:55,809 --> 00:14:59,709
backside here is not relevant but you

331
00:14:57,820 --> 00:15:01,300
get the idea if we were to look at this

332
00:14:59,710 --> 00:15:03,639
cube map its table what's coming in on

333
00:15:01,299 --> 00:15:05,709
the cube map what's coming in on the

334
00:15:03,639 --> 00:15:07,000
cube map would tell us this information

335
00:15:05,710 --> 00:15:09,519
because each of these things would

336
00:15:07,000 --> 00:15:11,830
project onto the cube map and they would

337
00:15:09,519 --> 00:15:14,350
be Z sorted so the Z buffering of the

338
00:15:11,830 --> 00:15:16,060
cube map would take care of that piece

339
00:15:14,350 --> 00:15:18,940
of information for us that we actually

340
00:15:16,059 --> 00:15:21,129
need to know the problem of course is

341
00:15:18,940 --> 00:15:23,170
that we don't have probably the

342
00:15:21,129 --> 00:15:24,789
resources to render an entire cube map

343
00:15:23,169 --> 00:15:26,529
for each of the five thousand reflectors

344
00:15:24,789 --> 00:15:28,959
that might be in one of our scenes now

345
00:15:26,529 --> 00:15:30,250
maybe that's a stupid statement maybe

346
00:15:28,960 --> 00:15:31,990
the real statement is no

347
00:15:30,250 --> 00:15:33,970
of course you can do that welcome to the

348
00:15:31,990 --> 00:15:36,519
new GPU land just of course you can

349
00:15:33,970 --> 00:15:38,170
render 5000 Tube maps a frame if that's

350
00:15:36,519 --> 00:15:41,049
the only thing you're really doing go

351
00:15:38,169 --> 00:15:42,129
nuts you're right because again we don't

352
00:15:41,049 --> 00:15:44,949
need to send out any additional

353
00:15:42,129 --> 00:15:46,779
information for this because all 5,000

354
00:15:44,950 --> 00:15:48,190
primitives are the same every time right

355
00:15:46,779 --> 00:15:49,089
they're the same set of reflectors

356
00:15:48,190 --> 00:15:50,500
they're just being viewed from a

357
00:15:49,090 --> 00:15:52,389
different viewpoint so it's really not

358
00:15:50,500 --> 00:15:53,679
that big a deal I don't think that's

359
00:15:52,389 --> 00:15:55,750
really that faint I'm saving to make the

360
00:15:53,679 --> 00:15:58,179
reason is because again the cube map

361
00:15:55,750 --> 00:15:59,860
itself is actually five faces or going

362
00:15:58,179 --> 00:16:01,659
to have to render running five faces of

363
00:15:59,860 --> 00:16:02,139
the cube app needs actually five render

364
00:16:01,659 --> 00:16:04,509
passes

365
00:16:02,139 --> 00:16:06,159
so in effect unless we actually try to

366
00:16:04,509 --> 00:16:07,870
do it a little bit more straightforward

367
00:16:06,159 --> 00:16:09,339
where we actually set up multiple render

368
00:16:07,870 --> 00:16:11,560
targets which we could probably do and

369
00:16:09,340 --> 00:16:15,220
then render everything to the cube map

370
00:16:11,559 --> 00:16:18,069
internally in that way I don't know it's

371
00:16:15,220 --> 00:16:20,710
kind of a nightmare right it's not great

372
00:16:18,070 --> 00:16:22,600
so what I'd rather do is try to think of

373
00:16:20,710 --> 00:16:24,670
some scheme that we can do that's not

374
00:16:22,600 --> 00:16:26,560
quite so bad as this right it's not

375
00:16:24,669 --> 00:16:28,299
quite so bad as this but maybe does

376
00:16:26,559 --> 00:16:30,099
effectively sort of maybe a little bit

377
00:16:28,299 --> 00:16:34,629
sort of kind of sort of maybe a little

378
00:16:30,100 --> 00:16:35,800
bit kind of the same thing and there's a

379
00:16:34,629 --> 00:16:37,450
pretty straightforward way we can

380
00:16:35,799 --> 00:16:39,099
actually do that and the only problem

381
00:16:37,450 --> 00:16:40,870
with it is it's probably a little too

382
00:16:39,100 --> 00:16:43,779
artefact program a little worried about

383
00:16:40,870 --> 00:16:48,549
how you would get rid of the aliasing on

384
00:16:43,779 --> 00:16:51,039
it and so I guess we could just try it I

385
00:16:48,549 --> 00:16:52,899
don't really see why not there's not a

386
00:16:51,039 --> 00:16:54,069
reason not to try it I guess but it's

387
00:16:52,899 --> 00:16:57,039
definitely one of those things you look

388
00:16:54,070 --> 00:16:58,210
at and go well okay but yeah how am I

389
00:16:57,039 --> 00:16:59,439
going to get rid of the aliasing on it

390
00:16:58,210 --> 00:17:01,629
and I don't know the answer to that

391
00:16:59,440 --> 00:17:06,759
question maybe well maybe one will

392
00:17:01,629 --> 00:17:09,099
present itself but here we go what if we

393
00:17:06,759 --> 00:17:11,019
were to say okay we know we want to

394
00:17:09,099 --> 00:17:13,448
render effectively a hemisphere well

395
00:17:11,019 --> 00:17:15,639
what does rendering actually do for us

396
00:17:13,449 --> 00:17:17,470
what does render a cube actually do for

397
00:17:15,640 --> 00:17:19,209
us and at this point you can see by the

398
00:17:17,470 --> 00:17:20,769
fact that I'm just doing badly that the

399
00:17:19,209 --> 00:17:23,140
coffee has kicked in a little bit too

400
00:17:20,769 --> 00:17:24,400
too much that's one of the the cons of

401
00:17:23,140 --> 00:17:25,870
drinking coffee on stream is you

402
00:17:24,400 --> 00:17:28,120
definitely elevate the energy level to

403
00:17:25,869 --> 00:17:30,189
it uncomfortable amount but sometimes

404
00:17:28,119 --> 00:17:31,750
programming requires elevating the

405
00:17:30,190 --> 00:17:33,930
energy level to an uncomfortable amount

406
00:17:31,750 --> 00:17:36,549
and that is where we were at right now

407
00:17:33,930 --> 00:17:38,110
so I apologize an explanation of a

408
00:17:36,549 --> 00:17:40,178
little bit too excited that's just what

409
00:17:38,109 --> 00:17:42,159
happens with caffeine actually it's more

410
00:17:40,179 --> 00:17:43,660
sugar it's really the sugar the caffeine

411
00:17:42,160 --> 00:17:44,048
is maps are related this is actually one

412
00:17:43,660 --> 00:17:45,999
of those

413
00:17:44,048 --> 00:17:50,558
Starbucks beverages it's mostly sugar so

414
00:17:45,999 --> 00:17:52,960
the sugar is definitely helped anyway so

415
00:17:50,558 --> 00:17:54,940
looking at this what I would encourage

416
00:17:52,960 --> 00:17:56,558
you to think about is what actually

417
00:17:54,940 --> 00:17:58,210
happens when we render why does render

418
00:17:56,558 --> 00:18:00,009
even solve any of these problems at all

419
00:17:58,210 --> 00:18:04,269
well the thing that solves the problem

420
00:18:00,009 --> 00:18:05,200
is actually the z-buffer right the

421
00:18:04,269 --> 00:18:07,179
z-buffer is the thing that actually

422
00:18:05,200 --> 00:18:10,330
solves the problem and it's no accident

423
00:18:07,179 --> 00:18:12,210
that the things we want to do with when

424
00:18:10,329 --> 00:18:14,259
rendering solves our problems

425
00:18:12,210 --> 00:18:15,850
rasterization I should say solves our

426
00:18:14,259 --> 00:18:16,899
problems the z-buffer is really this

427
00:18:15,849 --> 00:18:18,819
thing that takes care of it right

428
00:18:16,898 --> 00:18:21,428
because if we were to render the cube F

429
00:18:18,819 --> 00:18:23,108
in here the thing that's telling us that

430
00:18:21,429 --> 00:18:24,639
we're going to have these things stacked

431
00:18:23,108 --> 00:18:25,839
on top of each other and that this one

432
00:18:24,638 --> 00:18:28,949
is going to be seen where than this one

433
00:18:25,839 --> 00:18:31,689
is the z-buffer occluding per pixel

434
00:18:28,950 --> 00:18:34,450
those primitives right that's what's

435
00:18:31,690 --> 00:18:37,239
actually happening there and so the

436
00:18:34,450 --> 00:18:39,460
thing to remember in that case is that

437
00:18:37,239 --> 00:18:41,499
the same is true for the lighting as is

438
00:18:39,460 --> 00:18:44,108
for the rasterization of the sprites and

439
00:18:41,499 --> 00:18:46,600
everything else the z-buffer or that

440
00:18:44,108 --> 00:18:48,699
depth or is what is making this work and

441
00:18:46,599 --> 00:18:51,638
so for example even when you when you

442
00:18:48,700 --> 00:18:52,989
look at doing things that have nothing

443
00:18:51,638 --> 00:18:54,608
to do with radiosity red stuff that

444
00:18:52,989 --> 00:18:56,649
we're playing with now if you look at

445
00:18:54,608 --> 00:18:58,658
how people do shadow mapping for example

446
00:18:56,648 --> 00:19:01,449
the same thing is true it's basically

447
00:18:58,659 --> 00:19:04,090
using the Z buffer as a technique to

448
00:19:01,450 --> 00:19:07,179
produce what a light source can see for

449
00:19:04,089 --> 00:19:09,579
example and so rasterization the key is

450
00:19:07,179 --> 00:19:11,159
the Z buffer the Z buffer is the magic

451
00:19:09,579 --> 00:19:13,599
that's the thing that's actually

452
00:19:11,159 --> 00:19:16,269
producing the information we actually

453
00:19:13,599 --> 00:19:18,398
need out of this process and so the

454
00:19:16,269 --> 00:19:20,169
question is to answer selfies can we get

455
00:19:18,398 --> 00:19:21,998
the magic of the Z buffer in some way

456
00:19:20,169 --> 00:19:24,940
that doesn't require setting up a full

457
00:19:21,999 --> 00:19:28,058
render worth a full render from a cube

458
00:19:24,940 --> 00:19:29,859
map no less which is obviously not what

459
00:19:28,058 --> 00:19:32,678
we want because it's even more expensive

460
00:19:29,858 --> 00:19:36,158
than a regular render path and that's no

461
00:19:32,679 --> 00:19:38,679
good for our purposes well the answer

462
00:19:36,159 --> 00:19:40,269
here I think is yes we can and the

463
00:19:38,679 --> 00:19:43,720
reason I say that is because a z-buffer

464
00:19:40,269 --> 00:19:46,419
is nothing more than a check per pixel

465
00:19:43,720 --> 00:19:49,499
to see whether or not the Z value of a

466
00:19:46,419 --> 00:19:52,179
primitive along the Ray of a particular

467
00:19:49,499 --> 00:19:53,858
line of sight happens to be in front of

468
00:19:52,179 --> 00:19:56,889
everything else that has previously been

469
00:19:53,858 --> 00:19:58,000
seen all it is is one it right that's

470
00:19:56,888 --> 00:19:59,949
all it is

471
00:19:58,000 --> 00:20:01,990
you can tell how far away something is

472
00:19:59,950 --> 00:20:03,940
you could do an if statement and say

473
00:20:01,990 --> 00:20:05,559
replace the current one with the new one

474
00:20:03,940 --> 00:20:07,150
if this one if the current one's closer

475
00:20:05,559 --> 00:20:09,009
right that's all the z-buffer is

476
00:20:07,150 --> 00:20:09,880
actually doing for us we don't need to

477
00:20:09,009 --> 00:20:13,569
do anything else

478
00:20:09,880 --> 00:20:16,930
in this circumstance so what I would say

479
00:20:13,569 --> 00:20:20,259
is what if we just emulate that ourself

480
00:20:16,930 --> 00:20:22,779
so suppose we took and we said here is

481
00:20:20,259 --> 00:20:24,369
our reflector we would like to measure

482
00:20:22,779 --> 00:20:27,220
and maybe I should draw this in three

483
00:20:24,369 --> 00:20:33,479
dimensions just to be clearer so suppose

484
00:20:27,220 --> 00:20:36,789
I I have my sort of there we go

485
00:20:33,480 --> 00:20:38,980
something like this suppose I take my

486
00:20:36,789 --> 00:20:42,029
reflector and I say I am going to sample

487
00:20:38,980 --> 00:20:45,519
this reflector on along some set of

488
00:20:42,029 --> 00:20:47,680
angles just you know I'm going to

489
00:20:45,519 --> 00:20:49,930
randomly pick some ways around the

490
00:20:47,680 --> 00:20:51,160
hemisphere to sample I say randomly I

491
00:20:49,930 --> 00:20:53,230
don't mean that we're eventually going

492
00:20:51,160 --> 00:20:55,060
to use a random number generator to do

493
00:20:53,230 --> 00:20:57,730
it or anything like that what I mean is

494
00:20:55,059 --> 00:20:59,319
well that's left is something to figure

495
00:20:57,730 --> 00:21:01,180
out another day right so they'll just

496
00:20:59,319 --> 00:21:03,089
say we figured out the way that we want

497
00:21:01,180 --> 00:21:05,830
to sample this probably using something

498
00:21:03,089 --> 00:21:06,970
actually fairly structured because we're

499
00:21:05,829 --> 00:21:08,230
going to want to make sure that it's

500
00:21:06,970 --> 00:21:09,309
clean so it's probably going to be

501
00:21:08,230 --> 00:21:11,500
something like a blue noise pattern

502
00:21:09,309 --> 00:21:13,179
across a hemisphere that we control

503
00:21:11,500 --> 00:21:14,859
actually fairly tightly for various

504
00:21:13,180 --> 00:21:15,970
reasons that's something any more you

505
00:21:14,859 --> 00:21:17,709
think about right now so let's just

506
00:21:15,970 --> 00:21:19,089
assume that we've done some work to

507
00:21:17,710 --> 00:21:22,029
figure that out and that that work will

508
00:21:19,089 --> 00:21:24,459
get actually done in the future we've

509
00:21:22,029 --> 00:21:25,839
got some series of rays coming out of

510
00:21:24,460 --> 00:21:27,819
the reflectors that we want a sample

511
00:21:25,839 --> 00:21:29,980
effectively we are ray tracing at this

512
00:21:27,819 --> 00:21:32,139
point right and now we're going to turn

513
00:21:29,980 --> 00:21:33,940
that z-buffer around and say well if we

514
00:21:32,140 --> 00:21:35,830
were doing a ray tracing approach right

515
00:21:33,940 --> 00:21:37,809
you're just doing this V buffer but sort

516
00:21:35,829 --> 00:21:39,279
of doing it along array so instead of

517
00:21:37,809 --> 00:21:41,079
producing all the privilege or a pixel

518
00:21:39,279 --> 00:21:42,849
you instead are casting your ray out and

519
00:21:41,079 --> 00:21:44,859
saying what is the rate hit right it's

520
00:21:42,849 --> 00:21:47,199
basically just ray tracing at this point

521
00:21:44,859 --> 00:21:49,179
and it's pretty messy buffer around well

522
00:21:47,200 --> 00:21:52,299
if we were going to do that we could

523
00:21:49,180 --> 00:21:55,210
certainly Ray trace our rays against our

524
00:21:52,299 --> 00:21:58,240
reflectors if we have a definition for a

525
00:21:55,210 --> 00:22:00,850
reflector that allows us to intersect

526
00:21:58,240 --> 00:22:02,769
array with it then we can do this

527
00:22:00,849 --> 00:22:06,059
operation fairly trivially right there's

528
00:22:02,769 --> 00:22:06,059
nothing magic about it

529
00:22:08,470 --> 00:22:14,529
so we can effectively raytrace even on

530
00:22:12,250 --> 00:22:18,670
the GPU we could rate race fairly easily

531
00:22:14,529 --> 00:22:20,559
by just you know switching around the

532
00:22:18,670 --> 00:22:22,029
way the primitives work we're saying

533
00:22:20,559 --> 00:22:23,950
each primitive is actually going to do a

534
00:22:22,029 --> 00:22:26,319
rate rate in the buffer to figure out

535
00:22:23,950 --> 00:22:28,990
what's going on for that particular

536
00:22:26,319 --> 00:22:32,079
pixel right there's there's ways we can

537
00:22:28,990 --> 00:22:33,190
set this up on the GPU to work so we

538
00:22:32,079 --> 00:22:36,970
don't really have to worry about the

539
00:22:33,190 --> 00:22:39,880
fact that it appears to be something

540
00:22:36,970 --> 00:22:41,259
that's that's rate racing because GPUs

541
00:22:39,880 --> 00:22:43,330
is a programmable now we should be able

542
00:22:41,259 --> 00:22:44,559
to convert the algorithm over so if we

543
00:22:43,329 --> 00:22:46,059
think about this is more of a rate

544
00:22:44,559 --> 00:22:48,819
racing kind of problem and we sort of

545
00:22:46,059 --> 00:22:52,149
averted invert it and think of it as

546
00:22:48,819 --> 00:22:54,399
looking outward we can pick arbitrary

547
00:22:52,150 --> 00:22:56,560
directions and we can pick a very small

548
00:22:54,400 --> 00:22:59,290
number of them potentially right we

549
00:22:56,559 --> 00:23:01,359
could say let's suppose we've got you

550
00:22:59,289 --> 00:23:03,849
know eight directions or sixteen

551
00:23:01,359 --> 00:23:07,269
directions or something like this that

552
00:23:03,849 --> 00:23:10,089
might be enough to give us a reasonable

553
00:23:07,269 --> 00:23:12,849
lighting solution while still not being

554
00:23:10,089 --> 00:23:15,759
too many for performance purposes right

555
00:23:12,849 --> 00:23:19,779
I don't know it's just a suggestion

556
00:23:15,759 --> 00:23:21,819
right and furthermore we are really only

557
00:23:19,779 --> 00:23:24,399
doing this to capture shadow information

558
00:23:21,819 --> 00:23:26,740
so we are still taking into account the

559
00:23:24,400 --> 00:23:30,490
lighting from every reflector that we

560
00:23:26,740 --> 00:23:32,980
can see we're just doing a set of quick

561
00:23:30,490 --> 00:23:35,259
checks on each of them to see whether or

562
00:23:32,980 --> 00:23:37,990
not we should maybe discard part of or

563
00:23:35,259 --> 00:23:42,789
all of the lighting information that

564
00:23:37,990 --> 00:23:44,620
they're in right okay the other thing

565
00:23:42,789 --> 00:23:46,299
that we can do here is take a page from

566
00:23:44,619 --> 00:23:48,159
the PlayBook of the original algorithm

567
00:23:46,299 --> 00:23:50,289
and say well what is instead of doing

568
00:23:48,160 --> 00:23:52,960
that we actually consider them to be

569
00:23:50,289 --> 00:23:54,849
solid angles instead so for example

570
00:23:52,960 --> 00:23:58,000
let's say we wanted to do something

571
00:23:54,849 --> 00:24:01,029
where we have this reflector like I say

572
00:23:58,000 --> 00:24:03,039
and we want to do a cap outwards and we

573
00:24:01,029 --> 00:24:05,379
actually consider each of those tasks to

574
00:24:03,039 --> 00:24:07,180
be more of a cone so what we're actually

575
00:24:05,380 --> 00:24:09,580
going to do is sort of take a look at

576
00:24:07,180 --> 00:24:15,640
how much of the cone is include occluded

577
00:24:09,579 --> 00:24:17,889
by each of them right and so we can sort

578
00:24:15,640 --> 00:24:20,380
of talk about how much of the cone has

579
00:24:17,890 --> 00:24:21,280
been restricted at each individual place

580
00:24:20,380 --> 00:24:24,040
or how much of the

581
00:24:21,279 --> 00:24:27,339
is being seen by by one thing or another

582
00:24:24,039 --> 00:24:28,659
you know that sort of a thing and we can

583
00:24:27,339 --> 00:24:31,659
come up with some kind of ridiculous

584
00:24:28,660 --> 00:24:33,900
algorithm potentially that you know

585
00:24:31,660 --> 00:24:39,400
tries to weight contributions of things

586
00:24:33,900 --> 00:24:41,259
along the cone right so that's that's

587
00:24:39,400 --> 00:24:44,230
just my thinking of how we might be able

588
00:24:41,259 --> 00:24:47,079
to improve this algorithm you know maybe

589
00:24:44,230 --> 00:24:50,230
shoot out eight shoot out four shoot out

590
00:24:47,079 --> 00:24:51,429
16 I don't know how many of these how

591
00:24:50,230 --> 00:24:54,250
much is too expensive

592
00:24:51,430 --> 00:24:56,049
I'm not sure what I do know is that if

593
00:24:54,250 --> 00:24:58,599
you take a look at the way GPU works or

594
00:24:56,049 --> 00:25:01,599
a CPU and that for that matter the fact

595
00:24:58,599 --> 00:25:03,669
that they tend to be wide often means

596
00:25:01,599 --> 00:25:05,559
that you can figure out a way to do

597
00:25:03,670 --> 00:25:08,650
things so that you can get 16 things

598
00:25:05,559 --> 00:25:10,179
done at a time if you have the same

599
00:25:08,650 --> 00:25:13,420
inputs to them so for example if we're

600
00:25:10,180 --> 00:25:15,580
going to do the same 16 rate check

601
00:25:13,420 --> 00:25:17,529
against a particular incoming primitive

602
00:25:15,579 --> 00:25:20,319
that's probably as cheap as just doing

603
00:25:17,529 --> 00:25:22,149
one it you know you can get that

604
00:25:20,319 --> 00:25:23,439
parallelism out of it and so if you're

605
00:25:22,150 --> 00:25:26,050
doing some like ray tracing it actually

606
00:25:23,440 --> 00:25:28,539
removes you to do 16 primitives at a

607
00:25:26,049 --> 00:25:32,319
time if you can and so you know there's

608
00:25:28,539 --> 00:25:34,809
a certain degree of leverage we might be

609
00:25:32,319 --> 00:25:35,980
able to get there in terms of getting

610
00:25:34,809 --> 00:25:38,139
back to something that's more like

611
00:25:35,980 --> 00:25:41,049
rasterization in terms of it

612
00:25:38,140 --> 00:25:43,930
it's Lane utilization anyway so maybe

613
00:25:41,049 --> 00:25:46,720
that gives us some some options too so

614
00:25:43,930 --> 00:25:49,150
this is what I would like to explore the

615
00:25:46,720 --> 00:25:51,069
reason I would like to explore this is

616
00:25:49,150 --> 00:25:52,390
because I think the only way we're

617
00:25:51,069 --> 00:25:54,039
really going to get better shadowing in

618
00:25:52,390 --> 00:25:57,280
there is to start thinking about

619
00:25:54,039 --> 00:25:59,349
directional occlusion rather than just

620
00:25:57,279 --> 00:26:02,139
thinking about general ambient occlusion

621
00:25:59,349 --> 00:26:04,449
because Direction occlusion is the only

622
00:26:02,140 --> 00:26:06,940
way to get sort of the knowledge that

623
00:26:04,450 --> 00:26:08,860
something on one side of a wall can't

624
00:26:06,940 --> 00:26:16,840
collect much information for something

625
00:26:08,859 --> 00:26:20,409
on the other side of the wall not a very

626
00:26:16,839 --> 00:26:23,980
controversial thing to what but just a

627
00:26:20,410 --> 00:26:28,690
difficult thing to get so if we come

628
00:26:23,980 --> 00:26:30,849
back to sort of the more pragmatic side

629
00:26:28,690 --> 00:26:32,440
of things here and just say how are we

630
00:26:30,849 --> 00:26:33,099
going to actually implement something

631
00:26:32,440 --> 00:26:34,980
like this

632
00:26:33,099 --> 00:26:37,349
well the brute force

633
00:26:34,980 --> 00:26:39,058
and really straightforward method is to

634
00:26:37,349 --> 00:26:43,490
just literally have some way of

635
00:26:39,058 --> 00:26:47,700
intersecting our line with our

636
00:26:43,490 --> 00:26:50,480
primitives right now this just comes

637
00:26:47,700 --> 00:26:53,880
back to another ray playing intersection

638
00:26:50,480 --> 00:26:55,200
which we sort of talked about before but

639
00:26:53,880 --> 00:26:57,510
what we know is that each of our

640
00:26:55,200 --> 00:26:59,490
reflectors is actually in a plane right

641
00:26:57,509 --> 00:27:03,240
whether we choose to do a disc or we

642
00:26:59,490 --> 00:27:06,329
choose to do a sort of parallelogram or

643
00:27:03,240 --> 00:27:08,700
square of some kind in the future one

644
00:27:06,329 --> 00:27:10,918
thing we do know for sure about them is

645
00:27:08,700 --> 00:27:13,830
that they are only is going to be in a

646
00:27:10,919 --> 00:27:15,690
plane and if something is in a plane we

647
00:27:13,829 --> 00:27:18,658
know we've got a plane intersection if

648
00:27:15,690 --> 00:27:21,019
we're trying to see where along array a

649
00:27:18,659 --> 00:27:23,700
particular one of these reflectors is

650
00:27:21,019 --> 00:27:25,649
well that's pretty easy to do all the

651
00:27:23,700 --> 00:27:28,110
attitude is is do R a plane intersection

652
00:27:25,648 --> 00:27:29,969
which we've done before and one of the

653
00:27:28,109 --> 00:27:31,528
things that's really clear about R a

654
00:27:29,970 --> 00:27:32,909
plane intersection right I can derive it

655
00:27:31,528 --> 00:27:35,700
for you again it's very very

656
00:27:32,909 --> 00:27:38,700
straightforward it's a very simple one

657
00:27:35,700 --> 00:27:41,819
to do if you have an origin point right

658
00:27:38,700 --> 00:27:44,038
here's p 0 and you have a direction

659
00:27:41,819 --> 00:27:46,109
normal we'll call that n we'll just

660
00:27:44,038 --> 00:27:47,700
assume that it's normalized if I know

661
00:27:46,109 --> 00:27:49,408
that I want to hit up well I guess I

662
00:27:47,700 --> 00:27:51,090
shouldn't call that n let me call that D

663
00:27:49,409 --> 00:27:53,039
for direction because I'm going to want

664
00:27:51,089 --> 00:27:55,138
to call the planes normal and if I then

665
00:27:53,038 --> 00:28:00,210
have a plane somewhere out here which

666
00:27:55,138 --> 00:28:01,859
has a normal n right and and a

667
00:28:00,210 --> 00:28:04,048
particular origin point here that's

668
00:28:01,859 --> 00:28:05,339
described as the distance along here you

669
00:28:04,048 --> 00:28:08,069
know I'm picking really bad letters

670
00:28:05,339 --> 00:28:12,959
today that's all this are for Ray how

671
00:28:08,069 --> 00:28:16,619
about that because this is going to want

672
00:28:12,960 --> 00:28:18,179
to be the D value as well there right so

673
00:28:16,619 --> 00:28:19,829
what we knew about this is if we have a

674
00:28:18,179 --> 00:28:22,679
plane somewhere in the world described

675
00:28:19,829 --> 00:28:25,470
by our standard ND formula and remember

676
00:28:22,679 --> 00:28:29,610
a plane is one of these equations right

677
00:28:25,470 --> 00:28:33,360
ax plus B y plus cz plus B equals 0

678
00:28:29,609 --> 00:28:34,709
right this is an assigned plane this is

679
00:28:33,359 --> 00:28:37,558
a linear plane right here in a fine

680
00:28:34,710 --> 00:28:38,759
plane plus D so this is the standard

681
00:28:37,558 --> 00:28:39,960
equation for a plane we've seen it

682
00:28:38,759 --> 00:28:41,819
before if you haven't you're going to

683
00:28:39,960 --> 00:28:43,169
want to use the hand made hero episode

684
00:28:41,819 --> 00:28:44,519
guide to go back and look at where I

685
00:28:43,169 --> 00:28:48,730
talked about planes and how to describe

686
00:28:44,519 --> 00:28:51,309
this right here is just the normal

687
00:28:48,730 --> 00:28:54,279
times the incoming point so this is

688
00:28:51,309 --> 00:28:58,480
really just n x times PX plus NY Times

689
00:28:54,279 --> 00:29:00,789
py plus NZ x pz plus the D value for the

690
00:28:58,480 --> 00:29:03,039
plane equals 0 right so this is the

691
00:29:00,789 --> 00:29:05,319
normal to the plane in here this is the

692
00:29:03,039 --> 00:29:06,970
point we're testing on the plane this is

693
00:29:05,319 --> 00:29:08,319
the D value for the plane right

694
00:29:06,970 --> 00:29:09,250
hopefully this is all coming back I

695
00:29:08,319 --> 00:29:10,389
should probably look at the chapter

696
00:29:09,250 --> 00:29:11,559
right now to see if everyone's like wait

697
00:29:10,390 --> 00:29:13,570
a minute I totally forgot how planes

698
00:29:11,559 --> 00:29:17,649
work hopefully that's not true but maybe

699
00:29:13,569 --> 00:29:19,839
it is anyway so we thought this equation

700
00:29:17,650 --> 00:29:21,370
for the plane and really all we want to

701
00:29:19,839 --> 00:29:22,480
do here in fact I could even use just a

702
00:29:21,369 --> 00:29:25,329
straightforward equation for the plane

703
00:29:22,480 --> 00:29:27,490
if we want to just this right here all

704
00:29:25,329 --> 00:29:31,329
we need to know is where does this

705
00:29:27,490 --> 00:29:33,400
equation right line up with the equation

706
00:29:31,329 --> 00:29:37,960
for array and remember the equation for

707
00:29:33,400 --> 00:29:39,850
array is just going to be and I could

708
00:29:37,960 --> 00:29:42,670
take furthermore the simplification of

709
00:29:39,849 --> 00:29:45,069
this p0 point can be subtracted out so

710
00:29:42,670 --> 00:29:48,640
we can make this be 0 0 just by

711
00:29:45,069 --> 00:29:50,710
subtracting away transforming the the

712
00:29:48,640 --> 00:29:52,030
plane to the space with array even we

713
00:29:50,710 --> 00:29:54,370
can make it even simpler ourselves and

714
00:29:52,029 --> 00:29:56,009
just say look the array is just a

715
00:29:54,369 --> 00:29:58,839
t-value

716
00:29:56,009 --> 00:30:07,000
that goes out along the Ray it's just PR

717
00:29:58,839 --> 00:30:09,549
X T ry t RZ is just the the point right

718
00:30:07,000 --> 00:30:11,829
that's that's the point along the Ray as

719
00:30:09,549 --> 00:30:15,639
we go out along T so if we walk along

720
00:30:11,829 --> 00:30:17,079
this proportional to t t RX t ry t RZ is

721
00:30:15,640 --> 00:30:19,630
just a point that we would end up on

722
00:30:17,079 --> 00:30:21,309
right again this should be all review so

723
00:30:19,630 --> 00:30:22,960
I'm not going into it in too much detail

724
00:30:21,309 --> 00:30:24,639
the point being if we just want to solve

725
00:30:22,960 --> 00:30:29,620
these equations we're just looking for

726
00:30:24,640 --> 00:30:32,470
the equation that solves this for T and

727
00:30:29,619 --> 00:30:35,229
it's a pretty straightforward thing to

728
00:30:32,470 --> 00:30:37,150
do because if you take a look at how it

729
00:30:35,230 --> 00:30:39,370
works we would just substitute this

730
00:30:37,150 --> 00:30:41,830
point in to this equation and we're

731
00:30:39,369 --> 00:30:49,209
basically done so for example if we just

732
00:30:41,829 --> 00:30:57,639
substitute in a t rx plus a coops BT are

733
00:30:49,210 --> 00:30:59,350
y plus C T or Z plus V equals 0 what you

734
00:30:57,640 --> 00:31:01,060
can see here is that the team pulls out

735
00:30:59,349 --> 00:31:01,459
pretty straightforward right I just end

736
00:31:01,059 --> 00:31:10,308
up with

737
00:31:01,460 --> 00:31:12,110
a RX + b ry + CR z + Z equals 0 and if I

738
00:31:10,308 --> 00:31:14,178
want to solve for this well it's pretty

739
00:31:12,109 --> 00:31:15,740
straightforward again I'm solving again

740
00:31:14,179 --> 00:31:17,419
for T which is the length which is the

741
00:31:15,740 --> 00:31:20,659
distance along the Ray I've traveled so

742
00:31:17,419 --> 00:31:24,080
far I just get T equals negative D over

743
00:31:20,659 --> 00:31:26,120
R X plus B or Y plus C R Z right and

744
00:31:24,079 --> 00:31:32,210
that tells me how far I had to step

745
00:31:26,119 --> 00:31:34,428
along the Ray to get to the plains right

746
00:31:32,210 --> 00:31:36,200
so again it's a very simple substitution

747
00:31:34,429 --> 00:31:38,120
we have an equation that tells us how

748
00:31:36,200 --> 00:31:39,740
we're moving along array we have an

749
00:31:38,119 --> 00:31:41,509
equation that implicitly tells us

750
00:31:39,740 --> 00:31:43,429
whether we're on the plane or not so we

751
00:31:41,509 --> 00:31:45,679
just substitute in the equation for how

752
00:31:43,429 --> 00:31:47,298
we move along the Ray into the equation

753
00:31:45,679 --> 00:31:50,240
for when we're on the plane and out

754
00:31:47,298 --> 00:31:51,798
comes the answer as to when we would hit

755
00:31:50,240 --> 00:31:53,659
that plane now you will notice that

756
00:31:51,798 --> 00:31:55,009
sometimes we won't hit the plane how do

757
00:31:53,659 --> 00:31:56,360
I know that we sometimes won't hit the

758
00:31:55,009 --> 00:31:57,710
plane well first of all it's pretty

759
00:31:56,359 --> 00:31:58,908
obvious if you think about it if the

760
00:31:57,710 --> 00:32:00,860
plane is facing this way and we're

761
00:31:58,909 --> 00:32:02,000
pointing that way well we're never going

762
00:32:00,859 --> 00:32:03,019
to hit it we're just going to go forever

763
00:32:02,000 --> 00:32:04,130
and we're never going to hit it if

764
00:32:03,019 --> 00:32:05,210
you're pointing slightly that way we

765
00:32:04,130 --> 00:32:06,590
would hit it if we're pointing slightly

766
00:32:05,210 --> 00:32:07,640
that way we would hit it when we go

767
00:32:06,589 --> 00:32:09,109
backwards right

768
00:32:07,640 --> 00:32:11,090
but it's reporting directly

769
00:32:09,109 --> 00:32:11,719
perpendicular to the plane normal we

770
00:32:11,089 --> 00:32:15,319
won't hit it

771
00:32:11,720 --> 00:32:17,960
hey big surprise that's exactly what

772
00:32:15,319 --> 00:32:19,759
this says this is the denominator of an

773
00:32:17,960 --> 00:32:22,130
equation we know that the denominator of

774
00:32:19,759 --> 00:32:26,509
an equation can't be 0 that means a our

775
00:32:22,130 --> 00:32:29,480
x + BR y + c RZ cannot be equal to 0 if

776
00:32:26,509 --> 00:32:32,450
we want this equation to hold and so he

777
00:32:29,480 --> 00:32:35,329
cannot have any valid value if this were

778
00:32:32,450 --> 00:32:37,278
to become 0 when can this become 0 well

779
00:32:35,329 --> 00:32:39,048
those of you with special eagle-eyed

780
00:32:37,278 --> 00:32:40,640
vision who've been watching hand-made

781
00:32:39,048 --> 00:32:42,230
here all the time should know what this

782
00:32:40,640 --> 00:32:43,700
equation is does anyone know what this

783
00:32:42,230 --> 00:32:45,019
equation is please tell me someone those

784
00:32:43,700 --> 00:32:46,580
those Creationism not even look at the

785
00:32:45,019 --> 00:32:47,658
chat because I really hope that someone

786
00:32:46,579 --> 00:32:49,579
knows what the equation is

787
00:32:47,659 --> 00:32:54,590
hopefully you said that this equation is

788
00:32:49,579 --> 00:32:57,259
the inner product or dot product because

789
00:32:54,589 --> 00:32:59,750
that's exactly what it is it's the X of

790
00:32:57,259 --> 00:33:01,099
one thing times the X of another the Y

791
00:32:59,750 --> 00:33:03,079
of one thing of the while the other to

792
00:33:01,099 --> 00:33:04,759
see is one thing the Z of one thing

793
00:33:03,079 --> 00:33:06,849
times Z of another what are those two

794
00:33:04,759 --> 00:33:11,148
things lo they're the N and the point

795
00:33:06,849 --> 00:33:15,388
right so a B and C are like I said the

796
00:33:11,148 --> 00:33:18,208
top n x and y in Z right and rxry

797
00:33:15,388 --> 00:33:20,398
RZR the points of the Ray so if I have

798
00:33:18,209 --> 00:33:23,038
the points the x y and z of the normal

799
00:33:20,398 --> 00:33:24,868
the XYZ of the Ray I'm dot park them

800
00:33:23,038 --> 00:33:26,759
together what do we know about the dot

801
00:33:24,868 --> 00:33:29,038
product the dot product is length of a

802
00:33:26,759 --> 00:33:31,739
length of B cosine theta when can the

803
00:33:29,038 --> 00:33:33,088
dot product be 0 well only if the length

804
00:33:31,739 --> 00:33:35,519
of these two things are 0 we know

805
00:33:33,088 --> 00:33:37,408
they're both not or if the cosine

806
00:33:35,519 --> 00:33:39,989
between them is 0 when is the cosine

807
00:33:37,409 --> 00:33:41,579
between two vectors 0 its 0 when they

808
00:33:39,989 --> 00:33:43,169
are perpendicular to each other right

809
00:33:41,578 --> 00:33:45,808
because the dot product of this and this

810
00:33:43,169 --> 00:33:48,479
cosine between those two angles is 0

811
00:33:45,808 --> 00:33:50,098
because of course right we know as it

812
00:33:48,479 --> 00:33:53,069
kind of comes up the cosine starts at

813
00:33:50,098 --> 00:33:54,778
one comes up up up up to 0 right at 90

814
00:33:53,069 --> 00:33:57,208
degrees which is exactly what we'd be at

815
00:33:54,778 --> 00:33:59,308
if they were perpendicular or negative

816
00:33:57,209 --> 00:34:00,570
90 degrees as well right so negative

817
00:33:59,308 --> 00:34:02,908
ninety or ninety is going to be 0 in

818
00:34:00,569 --> 00:34:05,278
both cases if it's perpendicular cosine

819
00:34:02,909 --> 00:34:06,629
is 0 what did I just say we're never

820
00:34:05,278 --> 00:34:08,278
going to hit it if we're perpendicular

821
00:34:06,628 --> 00:34:09,929
to the normal here's the raid erection

822
00:34:08,278 --> 00:34:11,579
here's the normal dot props together

823
00:34:09,929 --> 00:34:15,059
they're 0 done deal

824
00:34:11,579 --> 00:34:17,429
right so effectively all we're saying

825
00:34:15,059 --> 00:34:18,659
here in this equation is just yes you

826
00:34:17,429 --> 00:34:20,159
will hit the plane eventually this is

827
00:34:18,659 --> 00:34:21,028
when you'll hit the plane if you happen

828
00:34:20,159 --> 00:34:23,338
to pick a direction that's perpendicular

829
00:34:21,028 --> 00:34:32,719
to the plane surprise surprise you won't

830
00:34:23,338 --> 00:34:35,548
kid it shouldn't be shocking okay anyway

831
00:34:32,719 --> 00:34:37,168
all that stuff is review you should have

832
00:34:35,548 --> 00:34:38,309
had that from earlier in hand-made 0 so

833
00:34:37,168 --> 00:34:40,768
I'm not going to belabor the point if

834
00:34:38,309 --> 00:34:43,589
you haven't I highly recommend you

835
00:34:40,768 --> 00:34:48,268
consult the Oracle whose name is midlow

836
00:34:43,588 --> 00:34:51,449
and he will do his episode guide tell

837
00:34:48,268 --> 00:34:55,018
you the the place you can learn more

838
00:34:51,449 --> 00:34:57,629
about Rea plane intersection but once we

839
00:34:55,018 --> 00:34:59,308
have a ray plane intersection what we

840
00:34:57,630 --> 00:35:01,380
can do is we can say all right for all

841
00:34:59,309 --> 00:35:02,789
of those reflectors if we're looking at

842
00:35:01,380 --> 00:35:05,068
one of these and we want to take a ray

843
00:35:02,789 --> 00:35:06,720
that goes out into the world if we want

844
00:35:05,068 --> 00:35:08,219
to figure out where the ray chip things

845
00:35:06,719 --> 00:35:10,919
what we need to do is take those

846
00:35:08,219 --> 00:35:14,338
reflectors and we need to figure out

847
00:35:10,920 --> 00:35:16,889
when we kiss the plane right we will

848
00:35:14,338 --> 00:35:18,690
know that will produce a p-value like I

849
00:35:16,889 --> 00:35:21,028
said in the previous equation that will

850
00:35:18,690 --> 00:35:25,170
produce a p-value that tells us when we

851
00:35:21,028 --> 00:35:26,818
have hit a plane in the world right when

852
00:35:25,170 --> 00:35:30,420
we've hit a plane in the world that

853
00:35:26,818 --> 00:35:32,639
tells us we have hit something

854
00:35:30,420 --> 00:35:34,858
in the plane of a reflector it doesn't

855
00:35:32,639 --> 00:35:38,099
tell me tell us if we've actually hit

856
00:35:34,858 --> 00:35:39,779
the reflector and in order to tell us

857
00:35:38,099 --> 00:35:41,940
whether we've actually hit the reflector

858
00:35:39,780 --> 00:35:43,380
we need a model for the reflector now

859
00:35:41,940 --> 00:35:45,389
the way that we've currently been

860
00:35:43,380 --> 00:35:47,760
modeling the reflectors is effectively

861
00:35:45,389 --> 00:35:50,519
as disks I don't know that we really

862
00:35:47,760 --> 00:35:51,869
want to do that anymore one of the

863
00:35:50,519 --> 00:35:53,400
things about the you know the only

864
00:35:51,869 --> 00:35:55,910
reason we picked this in the first place

865
00:35:53,400 --> 00:35:59,700
is because we were using this sort of

866
00:35:55,909 --> 00:36:02,608
disk to disk measure of size we can

867
00:35:59,699 --> 00:36:04,649
still do that we can still use the disk

868
00:36:02,608 --> 00:36:06,509
as the way of computing how much light

869
00:36:04,650 --> 00:36:08,460
is transferred I don't know if we really

870
00:36:06,510 --> 00:36:09,810
want to use that for shadowing the

871
00:36:08,460 --> 00:36:10,829
reason I don't know that we want to use

872
00:36:09,809 --> 00:36:13,049
it for shadowing and we really don't

873
00:36:10,829 --> 00:36:14,369
want to use it for just for a transfer

874
00:36:13,050 --> 00:36:16,109
either so we made switch to something

875
00:36:14,369 --> 00:36:17,250
better for transfer the reason you use

876
00:36:16,108 --> 00:36:21,659
it for transfer is because it's

877
00:36:17,250 --> 00:36:24,358
symmetric and easy to compute but it

878
00:36:21,659 --> 00:36:26,699
tends to uh under count our squares

879
00:36:24,358 --> 00:36:27,989
right so we could either over account or

880
00:36:26,699 --> 00:36:29,189
under counter square as I'm not sure

881
00:36:27,989 --> 00:36:30,509
which one we want to do but you could

882
00:36:29,190 --> 00:36:32,460
think of either one as being bad

883
00:36:30,510 --> 00:36:34,410
specifically for shadowing if you under

884
00:36:32,460 --> 00:36:35,490
count then you're going to let more

885
00:36:34,409 --> 00:36:37,379
light through than you should if you

886
00:36:35,489 --> 00:36:39,409
over count you're going to block out too

887
00:36:37,380 --> 00:36:42,930
much light so it's not those you want

888
00:36:39,409 --> 00:36:45,389
either those things the important part

889
00:36:42,929 --> 00:36:46,529
here is just for the shadowing part of

890
00:36:45,389 --> 00:36:48,868
this equation with what we're talking

891
00:36:46,530 --> 00:36:51,450
about now when we hit a plane that has a

892
00:36:48,869 --> 00:36:53,519
reflector on it up right because that's

893
00:36:51,449 --> 00:36:55,858
the test that we can do we then need to

894
00:36:53,519 --> 00:36:58,500
know is did we hit the reflector itself

895
00:36:55,858 --> 00:37:01,108
in Tunis this is much easier to see if I

896
00:36:58,500 --> 00:37:03,570
again look and I say here let's say I'm

897
00:37:01,108 --> 00:37:06,029
casting along this ray out from this

898
00:37:03,570 --> 00:37:08,220
reflector well when I hit the plane I'm

899
00:37:06,030 --> 00:37:10,560
going to get this point back right and

900
00:37:08,219 --> 00:37:14,129
what you could see from the diagram is

901
00:37:10,559 --> 00:37:16,650
that point doesn't actually coincide

902
00:37:14,130 --> 00:37:18,750
with the reflector at all so technically

903
00:37:16,650 --> 00:37:21,150
that's not a kit we would say that that

904
00:37:18,750 --> 00:37:26,909
ray misses the reflector it doesn't hit

905
00:37:21,150 --> 00:37:28,980
the reflector right so again we have a

906
00:37:26,909 --> 00:37:30,989
number of ways we could do this when we

907
00:37:28,980 --> 00:37:34,590
reduce that point what we could do is we

908
00:37:30,989 --> 00:37:37,559
could use again if we let's say we stick

909
00:37:34,590 --> 00:37:40,289
with the disc formation for now again it

910
00:37:37,559 --> 00:37:42,090
does provide some nice simplification if

911
00:37:40,289 --> 00:37:42,659
we have the disc formation what we can

912
00:37:42,090 --> 00:37:44,010
do is just

913
00:37:42,659 --> 00:37:45,960
well what's the distance between those

914
00:37:44,010 --> 00:37:48,240
two points if the distance is less than

915
00:37:45,960 --> 00:37:50,280
the radius well then I guess we hit it

916
00:37:48,239 --> 00:37:52,709
we're inside if it isn't less than the

917
00:37:50,280 --> 00:37:54,030
radius we dip right so again all we're

918
00:37:52,710 --> 00:37:55,949
saying here is there's a nice implicit

919
00:37:54,030 --> 00:37:57,930
function that will tell us whether or

920
00:37:55,949 --> 00:38:00,079
not we're inside the disk or not inside

921
00:37:57,929 --> 00:38:02,250
the disk that's got some nice

922
00:38:00,079 --> 00:38:03,809
attractiveness to it why does it have

923
00:38:02,250 --> 00:38:06,179
some extract to it well a it's just a

924
00:38:03,809 --> 00:38:07,769
very simple expertise for less than R

925
00:38:06,179 --> 00:38:11,549
squared kind of a situation so that's

926
00:38:07,769 --> 00:38:13,199
kind of nice so you know we we've got a

927
00:38:11,550 --> 00:38:14,519
nice way of testing whether and find it

928
00:38:13,199 --> 00:38:16,079
the other thing that's nice about it is

929
00:38:14,519 --> 00:38:19,199
it composes really well if we actually

930
00:38:16,079 --> 00:38:21,719
did want to do cone tracing of some kind

931
00:38:19,199 --> 00:38:23,699
now we can't do exact own tracing here

932
00:38:21,719 --> 00:38:26,250
in the cheap way but we could do some

933
00:38:23,699 --> 00:38:27,989
fairly free country singh that's sort of

934
00:38:26,250 --> 00:38:29,369
approximate how would we do that well if

935
00:38:27,989 --> 00:38:33,599
you think about this is tracing out a

936
00:38:29,369 --> 00:38:35,219
cone what's pretty easy to do here well

937
00:38:33,599 --> 00:38:37,679
we've got a key value that tells us how

938
00:38:35,219 --> 00:38:39,989
far out we've gone that T value can be

939
00:38:37,679 --> 00:38:42,179
directly proportional to the cone size

940
00:38:39,989 --> 00:38:43,589
right so when we get the T value back

941
00:38:42,179 --> 00:38:45,569
that says here's how far you went along

942
00:38:43,590 --> 00:38:47,340
the Ray to get to the plane when you go

943
00:38:45,570 --> 00:38:49,289
that far along and you get to the plane

944
00:38:47,340 --> 00:38:51,630
and you're there you then have a team

945
00:38:49,289 --> 00:38:53,159
value can use to plug in to say what's

946
00:38:51,630 --> 00:38:54,869
the size of my cone at that point right

947
00:38:53,159 --> 00:38:56,309
because I would know how big the code

948
00:38:54,869 --> 00:38:58,859
would be proportional to T that's a

949
00:38:56,309 --> 00:39:01,650
pretty easy thing to set up right we can

950
00:38:58,860 --> 00:39:03,269
just say how wide our cone is and then

951
00:39:01,650 --> 00:39:05,220
we can compute just based on similar

952
00:39:03,269 --> 00:39:07,590
triangles how wide the code would be at

953
00:39:05,219 --> 00:39:11,069
that plane is that correct not exactly

954
00:39:07,590 --> 00:39:16,470
because in the plane that plane may be

955
00:39:11,070 --> 00:39:20,820
very may be kind of a oblique right the

956
00:39:16,469 --> 00:39:22,679
angle might be kind of sleep to it so

957
00:39:20,820 --> 00:39:24,510
it's hard to say how you really want to

958
00:39:22,679 --> 00:39:27,149
do it you may want to take that angle

959
00:39:24,510 --> 00:39:28,650
into effect by dot product thing these

960
00:39:27,150 --> 00:39:30,930
two together which you already have to

961
00:39:28,650 --> 00:39:33,809
do for the pleasure anyway and and

962
00:39:30,929 --> 00:39:36,389
project the cone distance but each

963
00:39:33,809 --> 00:39:39,239
regardless of what you do you can still

964
00:39:36,389 --> 00:39:41,159
end up with a radius value that's a

965
00:39:39,239 --> 00:39:43,439
complimentary radius value to your disk

966
00:39:41,159 --> 00:39:45,269
radius so what you end up with right if

967
00:39:43,440 --> 00:39:47,970
I shoot out from here and here's my

968
00:39:45,269 --> 00:39:50,009
other plane I hit this plane I know I've

969
00:39:47,969 --> 00:39:51,779
got a reflector out here I know that

970
00:39:50,010 --> 00:39:54,470
reflector has a radius will call that

971
00:39:51,780 --> 00:39:55,870
radius of reflector I know that the cone

972
00:39:54,469 --> 00:40:00,759
also has

973
00:39:55,869 --> 00:40:05,440
- radius right so I can also compute a

974
00:40:00,760 --> 00:40:08,350
span here on the actual plane that is

975
00:40:05,440 --> 00:40:11,710
sort of a radius of the cone right and

976
00:40:08,349 --> 00:40:14,349
the radius of the cone can tell me if I

977
00:40:11,710 --> 00:40:16,869
overlap as well so what I can do is say

978
00:40:14,349 --> 00:40:19,269
if the distance between these points is

979
00:40:16,869 --> 00:40:22,359
less than the radius of the reflector

980
00:40:19,269 --> 00:40:26,139
plus the radius of the cone then they've

981
00:40:22,360 --> 00:40:28,480
overlapped right and furthermore I could

982
00:40:26,139 --> 00:40:32,199
see how much overlap there was by

983
00:40:28,480 --> 00:40:33,789
comparing the distance to that so it

984
00:40:32,199 --> 00:40:35,289
says set me up for doing some cone

985
00:40:33,789 --> 00:40:36,730
tracing as well it's not as easy as I

986
00:40:35,289 --> 00:40:38,079
made it sound because it's again if you

987
00:40:36,730 --> 00:40:39,940
want to take into account the fangled

988
00:40:38,079 --> 00:40:41,949
you have to actually project the cone

989
00:40:39,940 --> 00:40:43,900
onto the line which takes more work

990
00:40:41,949 --> 00:40:45,429
because it's not symmetric anymore you

991
00:40:43,900 --> 00:40:50,110
have to come up with sort of the new

992
00:40:45,429 --> 00:40:53,949
span in that way so it's again it's a

993
00:40:50,110 --> 00:40:55,960
little bit tougher to project onto it

994
00:40:53,949 --> 00:40:57,579
and furthermore if you don't if you're

995
00:40:55,960 --> 00:41:00,610
doing it in 3d it becomes an ellipse

996
00:40:57,579 --> 00:41:03,429
right because the you know a conic cut

997
00:41:00,610 --> 00:41:05,320
by a plane is an ellipse of some kind so

998
00:41:03,429 --> 00:41:07,869
it gets more complicated than that as

999
00:41:05,320 --> 00:41:11,200
well and so I guess I would say you know

1000
00:41:07,869 --> 00:41:13,539
it's not it's not like really free but

1001
00:41:11,199 --> 00:41:14,859
you could cheese it out like you could

1002
00:41:13,539 --> 00:41:17,170
you could do something where you just

1003
00:41:14,860 --> 00:41:21,550
kind of roughly attenuate it you always

1004
00:41:17,170 --> 00:41:23,619
you treat it still as a cone not as an

1005
00:41:21,550 --> 00:41:25,930
ellipse but as a truncated cone always

1006
00:41:23,619 --> 00:41:28,569
and you just pick the cone sort of size

1007
00:41:25,929 --> 00:41:30,519
to roughly match the angle of the plane

1008
00:41:28,570 --> 00:41:35,530
you know there's some hand waving there

1009
00:41:30,519 --> 00:41:38,230
we can do is my point so yeah that's

1010
00:41:35,530 --> 00:41:39,670
that's an option right it's something we

1011
00:41:38,230 --> 00:41:41,559
could think about and I do think the

1012
00:41:39,670 --> 00:41:44,740
cone tracing might be interesting to a

1013
00:41:41,559 --> 00:41:46,179
certain degree I'm not sure how good of

1014
00:41:44,739 --> 00:41:48,729
a results it would really give us but

1015
00:41:46,179 --> 00:41:50,969
it's something to think about as we go

1016
00:41:48,730 --> 00:41:50,969
forward

1017
00:41:54,219 --> 00:42:18,519
all right so maybe blue - where do we go

1018
00:42:09,699 --> 00:42:20,319
from here so what I think we want to do

1019
00:42:18,519 --> 00:42:25,630
here is I think what you want to do is

1020
00:42:20,320 --> 00:42:29,080
pick a particular one of our reflectors

1021
00:42:25,630 --> 00:42:31,210
right and what I think we want to do is

1022
00:42:29,079 --> 00:42:32,829
pick one of our reflectors and do this

1023
00:42:31,210 --> 00:42:34,570
computation for it now why do I think we

1024
00:42:32,829 --> 00:42:36,130
want to pick one of our reflectors well

1025
00:42:34,570 --> 00:42:37,480
if we take all of our reflectors through

1026
00:42:36,130 --> 00:42:38,950
this fork we're just contented with a

1027
00:42:37,480 --> 00:42:40,510
nightmare first of all we're going to

1028
00:42:38,949 --> 00:42:41,829
have to optimize the thing well enough

1029
00:42:40,510 --> 00:42:43,720
to make sure that it runs fast enough so

1030
00:42:41,829 --> 00:42:45,190
we can see it operating on five hundred

1031
00:42:43,719 --> 00:42:46,779
reflectors again on the CPU

1032
00:42:45,190 --> 00:42:49,720
single-threaded that's not great we go

1033
00:42:46,780 --> 00:42:51,310
threaded nan Cindy that's not great and

1034
00:42:49,719 --> 00:42:53,409
I'd only do that right now

1035
00:42:51,309 --> 00:42:56,019
second we're not going to be able to see

1036
00:42:53,409 --> 00:42:58,059
what the heck is going on what we want

1037
00:42:56,019 --> 00:42:59,588
to be able to do is draw some lines or

1038
00:42:58,059 --> 00:43:01,599
something we want to be able to draw

1039
00:42:59,588 --> 00:43:02,829
some debug information here so we can

1040
00:43:01,599 --> 00:43:04,150
have some idea of where this thing is

1041
00:43:02,829 --> 00:43:05,440
working or not and whether or not we got

1042
00:43:04,150 --> 00:43:06,910
any bugs we're about to introduce a

1043
00:43:05,440 --> 00:43:09,250
bunch of weird like Ray intersection

1044
00:43:06,909 --> 00:43:10,719
sort of stuff here and we want to make

1045
00:43:09,250 --> 00:43:13,260
sure that we've got it right if we can't

1046
00:43:10,719 --> 00:43:15,429
focus on one reflector and see is it

1047
00:43:13,260 --> 00:43:17,290
actually doing the occlusion that we

1048
00:43:15,429 --> 00:43:19,539
think it should be doing we're going to

1049
00:43:17,289 --> 00:43:21,250
be I think in a world of hurt so I think

1050
00:43:19,539 --> 00:43:25,088
what we want to try and doing here is to

1051
00:43:21,250 --> 00:43:27,309
just go okay let's try taking one of

1052
00:43:25,088 --> 00:43:29,980
these reflectors let's do the one behind

1053
00:43:27,309 --> 00:43:32,588
the wall for example let's see whether

1054
00:43:29,980 --> 00:43:34,990
we can get that one computing sixteen

1055
00:43:32,588 --> 00:43:37,719
rays out from it for rays out well first

1056
00:43:34,989 --> 00:43:40,449
we'll start with one and we'll see if we

1057
00:43:37,719 --> 00:43:42,279
can get that behaving properly once we

1058
00:43:40,449 --> 00:43:45,250
have that behaving properly then we can

1059
00:43:42,280 --> 00:43:47,290
sort of take that and move that into the

1060
00:43:45,250 --> 00:43:48,429
space of doing all of them and we don't

1061
00:43:47,289 --> 00:43:49,690
really care how fast it runs because

1062
00:43:48,429 --> 00:43:51,519
again we're just on a CPU we just want

1063
00:43:49,690 --> 00:43:52,750
to see if it produces pleasant results

1064
00:43:51,519 --> 00:43:55,179
so we'll try to get it running as fast

1065
00:43:52,750 --> 00:43:58,000
as we can in terms of seeing you know

1066
00:43:55,179 --> 00:43:59,889
how it does and then we'll go on from

1067
00:43:58,000 --> 00:44:01,329
there and that will give us the

1068
00:43:59,889 --> 00:44:03,219
information we need as to whether or not

1069
00:44:01,329 --> 00:44:05,409
this is a fruitful thing to pursue or

1070
00:44:03,219 --> 00:44:07,919
not and whether or not we can produce a

1071
00:44:05,409 --> 00:44:12,759
relatively artifact to the artifact

1072
00:44:07,920 --> 00:44:15,579
artifact free version of it and off we

1073
00:44:12,760 --> 00:44:19,210
go so what I'm going to propose at the

1074
00:44:15,579 --> 00:44:23,400
start is that so anyone who's not on

1075
00:44:19,210 --> 00:44:25,150
board should make their opinions known

1076
00:44:23,400 --> 00:44:26,410
unfortunately the way you would make

1077
00:44:25,150 --> 00:44:27,130
your opinions known is by putting them

1078
00:44:26,409 --> 00:44:28,719
into the chat

1079
00:44:27,130 --> 00:44:33,460
I don't read the chat during the stream

1080
00:44:28,719 --> 00:44:35,829
so it is effectively a democracy where

1081
00:44:33,460 --> 00:44:36,760
no one listens to you which is we have a

1082
00:44:35,829 --> 00:44:40,630
term for that

1083
00:44:36,760 --> 00:44:42,730
it's called democracy so basically what

1084
00:44:40,630 --> 00:44:44,289
we want to do here is have everyone cast

1085
00:44:42,730 --> 00:44:46,559
a vote to make them feel like they're

1086
00:44:44,289 --> 00:44:48,880
having input in the situation while the

1087
00:44:46,559 --> 00:44:50,469
effective aristocracy just makes the

1088
00:44:48,880 --> 00:44:52,570
decisions for you just like every

1089
00:44:50,469 --> 00:44:54,608
government in the world right now I am

1090
00:44:52,570 --> 00:44:56,470
that government and you are being

1091
00:44:54,608 --> 00:44:59,440
oppressed so there you go that welcome

1092
00:44:56,469 --> 00:45:01,598
to welcome to the real world

1093
00:44:59,440 --> 00:45:02,889
so off we go what I need to do now is

1094
00:45:01,599 --> 00:45:04,480
figure out which one of these I'm going

1095
00:45:02,889 --> 00:45:06,909
to do I think the easiest way to figure

1096
00:45:04,480 --> 00:45:09,280
out one of these is to just pick a sort

1097
00:45:06,909 --> 00:45:11,139
of debug value we can put in and we'll

1098
00:45:09,280 --> 00:45:13,210
adjust that debug value to pick a

1099
00:45:11,139 --> 00:45:15,279
particular reflector that is like the

1100
00:45:13,210 --> 00:45:20,559
closest reflector to that point let's

1101
00:45:15,280 --> 00:45:22,570
say and that will allow us to I'm going

1102
00:45:20,559 --> 00:45:25,029
to pull one out effectively this is the

1103
00:45:22,570 --> 00:45:27,730
one that's going to be the reflector

1104
00:45:25,030 --> 00:45:31,359
that gets that gets chosen so we'll call

1105
00:45:27,730 --> 00:45:33,490
this like a rifle pic or something and

1106
00:45:31,358 --> 00:45:35,108
why am i doing it this way instead of a

1107
00:45:33,489 --> 00:45:36,848
quad index remember this is actually

1108
00:45:35,108 --> 00:45:38,380
coming from the render so all of this

1109
00:45:36,849 --> 00:45:40,210
information is still coming from the

1110
00:45:38,380 --> 00:45:41,260
renderer we haven't cheated it all here

1111
00:45:40,210 --> 00:45:42,760
we're using the full pipeline

1112
00:45:41,260 --> 00:45:44,349
effectively we've just asserted

1113
00:45:42,760 --> 00:45:45,730
ourselves in and we're looking at all of

1114
00:45:44,349 --> 00:45:48,400
the things that are coming in and doing

1115
00:45:45,730 --> 00:45:49,900
a lighting sort of debug test on those

1116
00:45:48,400 --> 00:45:51,460
things what that means is they're in

1117
00:45:49,900 --> 00:45:54,010
that community particular order right

1118
00:45:51,460 --> 00:45:55,900
the game frame-to-frame sends us totally

1119
00:45:54,010 --> 00:45:57,339
different orderings for the clause even

1120
00:45:55,900 --> 00:45:58,480
if they're the same set of quads because

1121
00:45:57,338 --> 00:46:00,639
something clearly different order so

1122
00:45:58,480 --> 00:46:02,230
picking a particular quad bike index

1123
00:46:00,639 --> 00:46:03,759
giving going to help us here what I want

1124
00:46:02,230 --> 00:46:05,710
to do is pick a particular quad by world

1125
00:46:03,760 --> 00:46:07,300
space location because that will be

1126
00:46:05,710 --> 00:46:09,099
relatively stable frame-to-frame at

1127
00:46:07,300 --> 00:46:11,619
least for our purposes so what I want to

1128
00:46:09,099 --> 00:46:15,700
do is make a wrestle pick value here

1129
00:46:11,619 --> 00:46:19,900
that basically allows me to say for a

1130
00:46:15,699 --> 00:46:20,649
particular placement like let's say 0

1131
00:46:19,900 --> 00:46:25,389
negative

1132
00:46:20,650 --> 00:46:32,860
- maybe I'll say actually 0.5 or rather

1133
00:46:25,389 --> 00:46:35,920
I want be 0.5 on the Z so for something

1134
00:46:32,860 --> 00:46:39,880
that's like actually - something that's

1135
00:46:35,920 --> 00:46:41,200
too uplands and 0.5 off the ground I'm

1136
00:46:39,880 --> 00:46:43,240
trying to pick something kind of over in

1137
00:46:41,199 --> 00:46:45,250
the wall area it's probably more like 4

1138
00:46:43,239 --> 00:46:48,339
up I don't really know what the court

1139
00:46:45,250 --> 00:46:49,809
excessing are I'm going to start with

1140
00:46:48,340 --> 00:46:51,130
that and what I'm going to do is every

1141
00:46:49,809 --> 00:46:54,159
time we go over this I'm just going to

1142
00:46:51,130 --> 00:46:56,349
have a like close pick value and I'm

1143
00:46:54,159 --> 00:46:57,250
going to start that maximum what I'm

1144
00:46:56,349 --> 00:47:00,880
going to do is I'm going to take the

1145
00:46:57,250 --> 00:47:02,469
distance from just an arbitrary sort of

1146
00:47:00,880 --> 00:47:04,660
location on this thing we're already

1147
00:47:02,469 --> 00:47:05,889
picking sort of a center point so I'm

1148
00:47:04,659 --> 00:47:10,000
just going to say let's look at the

1149
00:47:05,889 --> 00:47:13,509
center point of the thing and I want the

1150
00:47:10,000 --> 00:47:15,309
length squared of the element I'm going

1151
00:47:13,510 --> 00:47:22,020
to I'm going to call this closed x

1152
00:47:15,309 --> 00:47:24,969
squared + post pick index post pic just

1153
00:47:22,019 --> 00:47:29,170
squared so what do I do here is I want

1154
00:47:24,969 --> 00:47:32,379
to take a this thick squared distance

1155
00:47:29,170 --> 00:47:37,119
squared I want to take the length from

1156
00:47:32,380 --> 00:47:39,280
the element to that pick point and what

1157
00:47:37,119 --> 00:47:41,500
I want to do is I want to see if this

1158
00:47:39,280 --> 00:47:43,810
one is the best so here's the Vista

1159
00:47:41,500 --> 00:47:46,780
Cristen squared what I want to see is if

1160
00:47:43,809 --> 00:47:47,829
the best one this is a standard format

1161
00:47:46,780 --> 00:47:48,250
for this loop you see me do it many

1162
00:47:47,829 --> 00:47:49,329
times

1163
00:47:48,250 --> 00:47:51,639
every time we loop we're just going to

1164
00:47:49,329 --> 00:47:53,319
compare our current distance to see if

1165
00:47:51,639 --> 00:47:55,359
it's closer than the closest one we've

1166
00:47:53,320 --> 00:47:57,010
found so far so if the close pick

1167
00:47:55,360 --> 00:48:00,519
distance squared is greater than this

1168
00:47:57,010 --> 00:48:02,140
one then we'll use it right and our

1169
00:48:00,519 --> 00:48:05,769
close book index becomes whatever one

1170
00:48:02,139 --> 00:48:08,199
we're on so that lets us know which one

1171
00:48:05,769 --> 00:48:10,809
of these it is what I'm going to do is

1172
00:48:08,199 --> 00:48:13,149
after I find that out I now have a close

1173
00:48:10,809 --> 00:48:15,250
pick index value assuming I didn't mess

1174
00:48:13,150 --> 00:48:18,400
it up I'm going to have a close pick

1175
00:48:15,250 --> 00:48:22,599
distance value that will tell me which

1176
00:48:18,400 --> 00:48:25,660
one of these quads was close as the

1177
00:48:22,599 --> 00:48:29,500
closest one to that input point that I

1178
00:48:25,659 --> 00:48:31,750
gave when we do the future passes what

1179
00:48:29,500 --> 00:48:36,219
I'll do is when we go to render

1180
00:48:31,750 --> 00:48:40,780
that particular reflector what I want to

1181
00:48:36,219 --> 00:48:42,069
do is I want to highlight it somehow so

1182
00:48:40,780 --> 00:48:44,290
you can kind of see there's our lending

1183
00:48:42,070 --> 00:48:46,470
equation here's where we copy it in what

1184
00:48:44,289 --> 00:48:51,009
I'm going to do here is say oh okay

1185
00:48:46,469 --> 00:48:53,109
let's actually hijack that that process

1186
00:48:51,010 --> 00:48:54,820
of coloring it in the case where the

1187
00:48:53,110 --> 00:48:56,769
quadrant X happens to be the one that

1188
00:48:54,820 --> 00:48:58,420
we're picking out let's go ahead and set

1189
00:48:56,769 --> 00:49:02,230
the front emit to some very obvious

1190
00:48:58,420 --> 00:49:05,139
value like bright yellow my favorite

1191
00:49:02,230 --> 00:49:07,449
picking value looks like that close pick

1192
00:49:05,139 --> 00:49:10,989
index so I put it in the wrong place

1193
00:49:07,449 --> 00:49:13,480
there we go and I don't know what I just

1194
00:49:10,989 --> 00:49:17,289
hit I must have hit some kind of search

1195
00:49:13,480 --> 00:49:20,110
all of a sudden anyway so if I run this

1196
00:49:17,289 --> 00:49:25,509
now what I'm hoping to see is that if I

1197
00:49:20,110 --> 00:49:27,400
view the reflectors I should probably

1198
00:49:25,510 --> 00:49:28,630
turn this in fact let me just go ahead

1199
00:49:27,400 --> 00:49:38,079
and turn this on permanently because I'm

1200
00:49:28,630 --> 00:49:45,640
going to want it on all the time there

1201
00:49:38,079 --> 00:49:47,619
we go oops so what I want to do here is

1202
00:49:45,639 --> 00:49:53,469
I want to figure out a way to get one of

1203
00:49:47,619 --> 00:49:55,179
these these soft Oaks to to highlight so

1204
00:49:53,469 --> 00:49:56,799
what you can see here is is we do have

1205
00:49:55,179 --> 00:50:00,789
reflective thai lighting it's this one

1206
00:49:56,800 --> 00:50:02,440
here right right there and so it's not

1207
00:50:00,789 --> 00:50:04,119
it's almost north place it's not quite

1208
00:50:02,440 --> 00:50:05,920
back far enough it's not quite up high

1209
00:50:04,119 --> 00:50:09,099
enough so all I'm going to do here is

1210
00:50:05,920 --> 00:50:13,570
I'm just going to change that value to

1211
00:50:09,099 --> 00:50:16,480
be up higher and back further right and

1212
00:50:13,570 --> 00:50:18,519
so hopefully we can pick there we go and

1213
00:50:16,480 --> 00:50:21,760
so now we've picked you know one of

1214
00:50:18,519 --> 00:50:25,329
these squares maybe I want one of the

1215
00:50:21,760 --> 00:50:28,990
ground tiles here let's say might be a

1216
00:50:25,329 --> 00:50:30,130
better way to go let's say as well I

1217
00:50:28,989 --> 00:50:32,679
don't know if I don't know which one of

1218
00:50:30,130 --> 00:50:36,160
these would be best I mean another one

1219
00:50:32,679 --> 00:50:38,049
we could do is one of these but let's

1220
00:50:36,159 --> 00:50:40,389
let's do a ground tile let's do a ground

1221
00:50:38,050 --> 00:50:42,400
tile so that we can see that it can't

1222
00:50:40,389 --> 00:50:44,029
reach the light for example because it

1223
00:50:42,400 --> 00:50:47,210
hits one of these or whatever

1224
00:50:44,030 --> 00:50:50,710
all right so if I want do the groundhog

1225
00:50:47,210 --> 00:50:56,920
just pull it back a little bit probably

1226
00:50:50,710 --> 00:50:59,329
maybe 6.0 let's say see if that's right

1227
00:50:56,920 --> 00:51:04,579
not quite enough to switch it yet I

1228
00:50:59,329 --> 00:51:06,909
point out and we can prove account a

1229
00:51:04,579 --> 00:51:06,909
little bit

1230
00:51:11,619 --> 00:51:17,079
all right so now we're picking that one

1231
00:51:13,869 --> 00:51:19,630
right there I guess I should probably

1232
00:51:17,079 --> 00:51:23,170
have drawn this point but I haven't

1233
00:51:19,630 --> 00:51:25,960
drawn the point yet so we're almost to

1234
00:51:23,170 --> 00:51:29,440
the one that I wanted let's pull it back

1235
00:51:25,960 --> 00:51:31,720
slightly more and let's move it up

1236
00:51:29,440 --> 00:51:34,990
slightly more and see if I can't pick

1237
00:51:31,719 --> 00:51:37,509
that one okay so now we've got a weird

1238
00:51:34,989 --> 00:51:39,629
little debug procedural way to isolate a

1239
00:51:37,510 --> 00:51:41,950
reflector and keep it stable across runs

1240
00:51:39,630 --> 00:51:43,539
so that we'll just run it and it'll pick

1241
00:51:41,949 --> 00:51:46,779
that one automatically we don't have to

1242
00:51:43,539 --> 00:51:48,009
like pick it with a mouse or doodle

1243
00:51:46,780 --> 00:51:50,950
around weather or anything like that um

1244
00:51:48,010 --> 00:51:53,140
so now we've got a particular reflectors

1245
00:51:50,949 --> 00:51:55,569
that we can pick there and what we can

1246
00:51:53,139 --> 00:51:59,379
do is send that ones lighting through a

1247
00:51:55,570 --> 00:52:01,450
different path right so we can still use

1248
00:51:59,380 --> 00:52:03,849
everyone else going through the old kind

1249
00:52:01,449 --> 00:52:06,460
of crappy lighting path but when this

1250
00:52:03,849 --> 00:52:10,719
one comes up it you know it can do some

1251
00:52:06,460 --> 00:52:12,099
kind of nutso situation right so we know

1252
00:52:10,719 --> 00:52:19,509
that that ones being highlighted now

1253
00:52:12,099 --> 00:52:21,489
what we can do is get rid of that the

1254
00:52:19,510 --> 00:52:22,930
highlights because we don't need to see

1255
00:52:21,489 --> 00:52:25,209
it anymore and we want to actually just

1256
00:52:22,929 --> 00:52:28,839
see the color that it actually shows

1257
00:52:25,210 --> 00:52:30,909
obviously so that's that's good so now

1258
00:52:28,840 --> 00:52:32,769
we look at this and we can see that that

1259
00:52:30,909 --> 00:52:34,750
reflector is getting you know it's

1260
00:52:32,769 --> 00:52:36,340
created exactly at everyone else even

1261
00:52:34,750 --> 00:52:39,849
though we've got you know these these

1262
00:52:36,340 --> 00:52:41,769
light sources that are right there you

1263
00:52:39,849 --> 00:52:45,009
know being blocked by the by the giant

1264
00:52:41,769 --> 00:52:46,690
wall it still gets a pretty much direct

1265
00:52:45,010 --> 00:52:47,980
contribution just like it would if it

1266
00:52:46,690 --> 00:52:49,480
was on the other side of the wall and

1267
00:52:47,980 --> 00:52:52,750
that's the thing that we want to start

1268
00:52:49,480 --> 00:52:59,170
taking into account so now if we want to

1269
00:52:52,750 --> 00:53:01,059
we can again isolate that that fell out

1270
00:52:59,170 --> 00:53:03,159
here when we come through to do the

1271
00:53:01,059 --> 00:53:05,139
compute lighting you can see when we

1272
00:53:03,159 --> 00:53:07,569
sort of have our iterations we go

1273
00:53:05,139 --> 00:53:09,009
through the destination I don't know why

1274
00:53:07,570 --> 00:53:10,210
total photons receive is still sitting

1275
00:53:09,010 --> 00:53:12,130
next we don't do that anymore

1276
00:53:10,210 --> 00:53:16,780
but anyway when we come through here and

1277
00:53:12,130 --> 00:53:19,690
we're doing our our computation I can

1278
00:53:16,780 --> 00:53:21,250
just pick that one out and do a

1279
00:53:19,690 --> 00:53:25,860
completely different lighting pass on

1280
00:53:21,250 --> 00:53:29,349
that particular on that particular

1281
00:53:25,860 --> 00:53:33,220
individual and what I can do if I want

1282
00:53:29,349 --> 00:53:38,739
to here is I can set it again do exactly

1283
00:53:33,219 --> 00:53:41,939
the same thing as a good to verify let

1284
00:53:38,739 --> 00:53:45,879
me see if this is actually how is this

1285
00:53:41,940 --> 00:53:47,579
so I actually want this as well in the

1286
00:53:45,880 --> 00:53:50,289
else clause there we go

1287
00:53:47,579 --> 00:53:52,599
so in order to verify that this is

1288
00:53:50,289 --> 00:53:54,340
actually doing what I want what I can

1289
00:53:52,599 --> 00:53:57,699
also do is say well the accumulation

1290
00:53:54,340 --> 00:53:59,380
here the death visibility we don't care

1291
00:53:57,699 --> 00:54:03,039
about but this is what's going to get

1292
00:53:59,380 --> 00:54:06,869
set to the new color value for this tile

1293
00:54:03,039 --> 00:54:20,079
let me set it to yellow here as well

1294
00:54:06,869 --> 00:54:21,819
that this with a v3 or v4 yeah so what I

1295
00:54:20,079 --> 00:54:23,860
can do here is say all right if the

1296
00:54:21,820 --> 00:54:25,360
destination index equals the the one

1297
00:54:23,860 --> 00:54:26,440
that I'm trying to do such a laying on

1298
00:54:25,360 --> 00:54:28,000
then what we'll do is do a special

1299
00:54:26,440 --> 00:54:29,829
letting path for right now we'll just

1300
00:54:28,000 --> 00:54:32,050
set it to yellow again this should show

1301
00:54:29,829 --> 00:54:33,759
up as the same highlighted square right

1302
00:54:32,050 --> 00:54:35,680
and it does so that's good that's

1303
00:54:33,760 --> 00:54:36,850
exactly what we want although I think

1304
00:54:35,679 --> 00:54:38,259
that's actually what would that mean

1305
00:54:36,849 --> 00:54:43,539
that everyone else will get lit by a

1306
00:54:38,260 --> 00:54:46,530
little bit of yellow in theory should be

1307
00:54:43,539 --> 00:54:51,969
it doesn't seem to be though

1308
00:54:46,530 --> 00:54:55,840
anyway ignoring that fact so once we got

1309
00:54:51,969 --> 00:55:00,969
that right I'm wondering why I wonder

1310
00:54:55,840 --> 00:55:04,539
why is that doesn't put any yellow light

1311
00:55:00,969 --> 00:55:13,230
into the scene something weird has

1312
00:55:04,539 --> 00:55:13,230
happening there wouldn't you say

1313
00:55:24,199 --> 00:55:33,359
hmm I mean correct me if I'm wrong but

1314
00:55:29,449 --> 00:55:43,439
if I'm setting this accumulator value to

1315
00:55:33,360 --> 00:55:45,780
be bright yellow then on this path each

1316
00:55:43,440 --> 00:55:47,940
lighting path it will take the front

1317
00:55:45,780 --> 00:55:50,280
emission color which is the thing that's

1318
00:55:47,940 --> 00:55:53,579
that pulled in for lighting for you know

1319
00:55:50,280 --> 00:55:59,450
as using it as a source from then on it

1320
00:55:53,579 --> 00:56:03,269
will take and use that as you know as

1321
00:55:59,449 --> 00:56:07,889
effectively an emitted yellow light or

1322
00:56:03,269 --> 00:56:10,559
it should anyway I would argue but it

1323
00:56:07,889 --> 00:56:12,059
doesn't appear to be I mean what happens

1324
00:56:10,559 --> 00:56:13,739
if I just crank that value to an

1325
00:56:12,059 --> 00:56:19,889
absurdly high amount I mean I should see

1326
00:56:13,739 --> 00:56:25,199
something right okay so it's really just

1327
00:56:19,889 --> 00:56:28,019
a question of power and we don't get

1328
00:56:25,199 --> 00:56:33,089
very much bleed I guess from one of

1329
00:56:28,019 --> 00:56:38,670
those if it's just one if it's just set

1330
00:56:33,090 --> 00:56:40,260
to one you can see how much fun this

1331
00:56:38,670 --> 00:56:43,050
lighting is going to be when we're when

1332
00:56:40,260 --> 00:56:44,880
we get it all nice like it's so cool to

1333
00:56:43,050 --> 00:56:46,650
have an environment where you can have

1334
00:56:44,880 --> 00:56:48,539
like multiple light sources and they

1335
00:56:46,650 --> 00:56:51,180
sort of create this nice sense of space

1336
00:56:48,539 --> 00:56:53,730
right like you can see already how this

1337
00:56:51,179 --> 00:56:55,710
is going to be fun you know if you have

1338
00:56:53,730 --> 00:56:58,710
a game and it's got you know a little

1339
00:56:55,710 --> 00:57:00,720
fire back there or something in it and

1340
00:56:58,710 --> 00:57:02,400
you know you kind of got these this sort

1341
00:57:00,719 --> 00:57:05,429
of nice space being created by the

1342
00:57:02,400 --> 00:57:06,840
different pools of light especially so

1343
00:57:05,429 --> 00:57:10,440
if we start getting it again so it

1344
00:57:06,840 --> 00:57:12,120
properly doesn't transmit a new light to

1345
00:57:10,440 --> 00:57:17,909
surfaces that are out that are big

1346
00:57:12,119 --> 00:57:19,619
shadow or whatever anyway so we know

1347
00:57:17,909 --> 00:57:21,389
we're picking the right one and in this

1348
00:57:19,619 --> 00:57:24,690
regime what we now need to do is is

1349
00:57:21,389 --> 00:57:27,869
implement this loop differently right so

1350
00:57:24,690 --> 00:57:30,590
if we imagine here we've got this this

1351
00:57:27,869 --> 00:57:30,589
forest index

1352
00:57:39,230 --> 00:57:45,269
sorry I'm stinking so anyway if you can

1353
00:57:42,300 --> 00:57:47,250
we got the source index we're going to

1354
00:57:45,269 --> 00:57:48,449
loop over all of these and we know we

1355
00:57:47,250 --> 00:57:51,449
don't want to test against ourselves

1356
00:57:48,449 --> 00:57:53,460
obviously so this equation still more or

1357
00:57:51,449 --> 00:57:56,219
less does what we expect it to do right

1358
00:57:53,460 --> 00:57:59,220
so so we want this to basically be the

1359
00:57:56,219 --> 00:58:00,689
same we're going to take the light that

1360
00:57:59,219 --> 00:58:02,849
we know is incoming we're going to take

1361
00:58:00,690 --> 00:58:04,889
the vector to the light we're going to

1362
00:58:02,849 --> 00:58:06,750
see it's got to be in front of us

1363
00:58:04,889 --> 00:58:08,609
basically and it's got to be you know

1364
00:58:06,750 --> 00:58:12,630
some reasonable distance away it can't

1365
00:58:08,610 --> 00:58:13,800
be zero can't be right up against us and

1366
00:58:12,630 --> 00:58:16,650
then what we're going to do is take the

1367
00:58:13,800 --> 00:58:18,570
two light this is that that

1368
00:58:16,650 --> 00:58:20,070
normalization so two light is

1369
00:58:18,570 --> 00:58:23,850
effectively the Ray that we would be

1370
00:58:20,070 --> 00:58:26,010
searching along and what we also would

1371
00:58:23,849 --> 00:58:28,949
find at this point is that we we can

1372
00:58:26,010 --> 00:58:30,750
take again that clean equation we know

1373
00:58:28,949 --> 00:58:35,279
what that is as well because we know

1374
00:58:30,750 --> 00:58:38,699
what the source normally is so I can

1375
00:58:35,280 --> 00:58:40,740
actually compute this fairly directly so

1376
00:58:38,699 --> 00:58:42,750
if we want to look at that like that

1377
00:58:40,739 --> 00:58:43,979
some inner product and again this is

1378
00:58:42,750 --> 00:58:46,139
inner product we're already doing for

1379
00:58:43,980 --> 00:58:51,750
lighting you can see right here we've

1380
00:58:46,139 --> 00:58:52,889
got or well know maybe it's not I don't

1381
00:58:51,750 --> 00:58:55,500
know if we ever do this one for lighting

1382
00:58:52,889 --> 00:58:59,400
edge so I guess but if we were to take a

1383
00:58:55,500 --> 00:59:02,940
look at what the the sort of the inner

1384
00:58:59,400 --> 00:59:09,240
product is with the direction we're

1385
00:59:02,940 --> 00:59:11,309
searching along and oh right now so I

1386
00:59:09,239 --> 00:59:14,909
didn't get back because that's the one

1387
00:59:11,309 --> 00:59:17,519
to the light source that's not the

1388
00:59:14,909 --> 00:59:20,849
direction we're the Ray we're searching

1389
00:59:17,519 --> 00:59:21,480
along so I take it back I think I take

1390
00:59:20,849 --> 00:59:22,980
it all back

1391
00:59:21,480 --> 00:59:24,480
I forgot we need another thing in here

1392
00:59:22,980 --> 00:59:25,769
because we're not just doing one search

1393
00:59:24,480 --> 00:59:28,980
we're going we're not just searching

1394
00:59:25,769 --> 00:59:30,059
along our with our main normal we're

1395
00:59:28,980 --> 00:59:33,949
actually going to search her along

1396
00:59:30,059 --> 00:59:41,549
potentially more than one of those right

1397
00:59:33,949 --> 00:59:44,069
so if I say the in here we're going to

1398
00:59:41,550 --> 00:59:45,570
have like a ray index equal zero ray

1399
00:59:44,070 --> 00:59:52,530
index is less than

1400
00:59:45,570 --> 00:59:56,340
however many raise there are so what I

1401
00:59:52,530 --> 00:59:59,670
want to do here is say okay let the pose

1402
00:59:56,340 --> 01:00:02,370
that I just have a bank of rays that I'm

1403
00:59:59,670 --> 01:00:06,599
going to cast along so I just have

1404
01:00:02,369 --> 01:00:11,130
multiple of these right at first I'm

1405
01:00:06,599 --> 01:00:15,690
just going to try passing along I guess

1406
01:00:11,130 --> 01:00:18,240
a single one of them probably so we'll

1407
01:00:15,690 --> 01:00:23,429
just say you know there's just going to

1408
01:00:18,239 --> 01:00:26,189
be one ray and maybe that ray is the Ray

1409
01:00:23,429 --> 01:00:28,679
that is the reflector ray so we will

1410
01:00:26,190 --> 01:00:31,590
actually treat it the same so we'll just

1411
01:00:28,679 --> 01:00:33,839
say I've got the reflector that I'm

1412
01:00:31,590 --> 01:00:35,070
computing I'll just cast out straight

1413
01:00:33,840 --> 01:00:37,079
out from it because we know we're

1414
01:00:35,070 --> 01:00:39,300
probably going to do that one but then

1415
01:00:37,079 --> 01:00:43,380
we probably want to add a few more in

1416
01:00:39,300 --> 01:00:45,990
here that are going to capture the light

1417
01:00:43,380 --> 01:00:48,480
from sort of other directions as well so

1418
01:00:45,989 --> 01:00:49,739
we'll start with that ones we're going

1419
01:00:48,480 --> 01:00:52,260
to loop over the Rays here we're going

1420
01:00:49,739 --> 01:00:54,869
to say for each ray we need to figure

1421
01:00:52,260 --> 01:00:56,790
out sort of the normalized version we're

1422
01:00:54,869 --> 01:00:59,400
assuming this ray is normalized so

1423
01:00:56,789 --> 01:01:01,050
assuming that the life is not too close

1424
01:00:59,400 --> 01:01:03,570
to us what we're going to do here is

1425
01:01:01,050 --> 01:01:06,810
sort of collide against against the

1426
01:01:03,570 --> 01:01:10,320
light itself so I take it back we don't

1427
01:01:06,809 --> 01:01:13,889
probably need this so much if we take a

1428
01:01:10,320 --> 01:01:15,840
look at that ray value can say all right

1429
01:01:13,889 --> 01:01:19,440
the Ray that we're shooting along is

1430
01:01:15,840 --> 01:01:23,490
going to be raised ray index we want to

1431
01:01:19,440 --> 01:01:26,730
now figure out whether that ray and the

1432
01:01:23,489 --> 01:01:30,869
weather that ray will ever intersect the

1433
01:01:26,730 --> 01:01:32,880
light the plane of the of the of the

1434
01:01:30,869 --> 01:01:36,779
source and so the way that we would do

1435
01:01:32,880 --> 01:01:38,250
that is again by the inner product like

1436
01:01:36,780 --> 01:01:43,080
I talked about - the inner product of

1437
01:01:38,250 --> 01:01:50,309
the Ray and the source normal that gives

1438
01:01:43,079 --> 01:01:52,199
us an idea of ray source and that gives

1439
01:01:50,309 --> 01:01:54,119
us an idea of whether or not there's any

1440
01:01:52,199 --> 01:01:56,429
chance of hitting about what we want to

1441
01:01:54,119 --> 01:01:58,730
do is avoid anything that's too like

1442
01:01:56,429 --> 01:02:00,829
oblique to us so if something is real

1443
01:01:58,730 --> 01:02:02,510
Leon the edge like we really only want

1444
01:02:00,829 --> 01:02:05,000
things that are that are going to be in

1445
01:02:02,510 --> 01:02:08,390
the reasonable hemisphere around this

1446
01:02:05,000 --> 01:02:09,949
point so we want to look to make sure

1447
01:02:08,389 --> 01:02:11,659
that there's a reasonable amount of

1448
01:02:09,949 --> 01:02:14,480
approach to that so we look and see this

1449
01:02:11,659 --> 01:02:18,618
again this is that cosine term here that

1450
01:02:14,480 --> 01:02:19,250
I talked about here that's this term

1451
01:02:18,619 --> 01:02:22,039
right here

1452
01:02:19,250 --> 01:02:23,989
so we're basically saying okay we're

1453
01:02:22,039 --> 01:02:24,710
casting out from a reflector we have a

1454
01:02:23,989 --> 01:02:27,739
plane

1455
01:02:24,710 --> 01:02:30,650
so this is our Ray this here is the

1456
01:02:27,739 --> 01:02:32,989
source then we're taking the inner

1457
01:02:30,650 --> 01:02:34,460
product of these two things and we want

1458
01:02:32,989 --> 01:02:36,019
to see that they have a regional

1459
01:02:34,460 --> 01:02:38,570
approach now I guess now I think about

1460
01:02:36,019 --> 01:02:39,889
it though we want things pointing in the

1461
01:02:38,570 --> 01:02:42,500
opposite direction to us

1462
01:02:39,889 --> 01:02:44,210
glad I just drew that diagram so really

1463
01:02:42,500 --> 01:02:47,059
we want this to be negative source then

1464
01:02:44,210 --> 01:02:51,769
if you will we want it to be pointing

1465
01:02:47,059 --> 01:02:54,170
back towards us not away from us and so

1466
01:02:51,769 --> 01:02:57,590
we wanted to get that sense right

1467
01:02:54,170 --> 01:03:00,230
because we are doing the diagrams this

1468
01:02:57,590 --> 01:03:02,269
way we want the normal point towards us

1469
01:03:00,230 --> 01:03:03,949
so we want the dot product if we're

1470
01:03:02,269 --> 01:03:05,300
looking for it to be positive we

1471
01:03:03,949 --> 01:03:08,809
actually want to be kind of coming out

1472
01:03:05,300 --> 01:03:10,910
this way here right the other way we

1473
01:03:08,809 --> 01:03:13,250
could do that is to just invert the

1474
01:03:10,909 --> 01:03:17,118
sense of vist right we could instead say

1475
01:03:13,250 --> 01:03:18,530
well it goes from zero to negative one

1476
01:03:17,119 --> 01:03:20,630
there some like that but it seems easier

1477
01:03:18,530 --> 01:03:23,650
to just invert it there I don't know six

1478
01:03:20,630 --> 01:03:23,650
one half dozen to the other right

1479
01:03:23,800 --> 01:03:27,470
similarly speaking I suppose you could

1480
01:03:25,849 --> 01:03:29,029
just negate it on the way out or you can

1481
01:03:27,469 --> 01:03:30,799
just negated here if you want to it's

1482
01:03:29,030 --> 01:03:33,830
going to be the same either way right so

1483
01:03:30,800 --> 01:03:36,890
you can you can just the negative will

1484
01:03:33,829 --> 01:03:39,108
distribute over over the left on so

1485
01:03:36,889 --> 01:03:41,239
anyway this is the the value that we

1486
01:03:39,108 --> 01:03:43,069
want to know in terms of how aligned

1487
01:03:41,239 --> 01:03:44,689
they are again if there's zero zero

1488
01:03:43,070 --> 01:03:47,150
they're perpendicular if they're 1

1489
01:03:44,690 --> 01:03:49,429
they're directly facing each other and

1490
01:03:47,150 --> 01:03:52,730
everywhere in between is OK with us we

1491
01:03:49,429 --> 01:03:54,980
want to compute our AP value so that

1492
01:03:52,730 --> 01:04:00,170
that value that I said before which we

1493
01:03:54,980 --> 01:04:02,300
computed over here this stuff where's

1494
01:04:00,170 --> 01:04:06,320
the actual here it is so it's the

1495
01:04:02,300 --> 01:04:07,609
negative dar XB ry c RZ so what we want

1496
01:04:06,320 --> 01:04:08,900
to do there is you can compute it almost

1497
01:04:07,608 --> 01:04:10,340
directly but not flight because you

1498
01:04:08,900 --> 01:04:12,720
don't actually know what the D value is

1499
01:04:10,340 --> 01:04:16,500
but we can easily find out what the

1500
01:04:12,719 --> 01:04:18,089
value is fairly cheaply I'll show you

1501
01:04:16,500 --> 01:04:19,800
how that do that second so you know if

1502
01:04:18,090 --> 01:04:21,990
you want to do the tea rate computation

1503
01:04:19,800 --> 01:04:24,539
what we do is we say all right we've got

1504
01:04:21,989 --> 01:04:27,929
a RX b ry c RZ again the a b and c are

1505
01:04:24,539 --> 01:04:30,389
just the normal two that are just at

1506
01:04:27,929 --> 01:04:32,339
that source normal and again we want to

1507
01:04:30,389 --> 01:04:34,469
probably use the same source normal that

1508
01:04:32,340 --> 01:04:36,960
we were using we need to use the same

1509
01:04:34,469 --> 01:04:38,519
one that we use for the inner product so

1510
01:04:36,960 --> 01:04:42,240
since we're negating the inner product

1511
01:04:38,519 --> 01:04:45,329
here again we need to use the same one

1512
01:04:42,239 --> 01:04:47,339
in both cases so you know what we could

1513
01:04:45,329 --> 01:04:51,000
do is say racehorses then we could leave

1514
01:04:47,340 --> 01:04:52,590
it this way again and do something like

1515
01:04:51,000 --> 01:04:53,760
that which maybe we want to do so that

1516
01:04:52,590 --> 01:04:55,950
the source sentence will use directly

1517
01:04:53,760 --> 01:04:57,480
then we can use the source then directly

1518
01:04:55,949 --> 01:04:59,399
here for the inner product so you can

1519
01:04:57,480 --> 01:05:00,559
state source then well actually I guess

1520
01:04:59,400 --> 01:05:03,090
we just did the inner product so

1521
01:05:00,559 --> 01:05:07,230
racehorse then this is that inner

1522
01:05:03,090 --> 01:05:10,530
product of race or sin right nxr are x

1523
01:05:07,230 --> 01:05:15,809
and y are y and z are Z and that

1524
01:05:10,530 --> 01:05:18,410
negative D needs to be on the top so the

1525
01:05:15,809 --> 01:05:20,340
problem here is what is negative D right

1526
01:05:18,409 --> 01:05:23,789
we need some way of computing that

1527
01:05:20,340 --> 01:05:26,490
negative D so in order to compute D what

1528
01:05:23,789 --> 01:05:29,759
we have here is d is supposed to be the

1529
01:05:26,489 --> 01:05:32,219
AR x BR y plus Z or Z plus D equals zero

1530
01:05:29,760 --> 01:05:34,050
for the plane equation right that's what

1531
01:05:32,219 --> 01:05:36,389
we're supposed to get and we wanted to

1532
01:05:34,050 --> 01:05:39,269
Center it around the race so again despi

1533
01:05:36,389 --> 01:05:41,219
has the origin of the Ray has to be

1534
01:05:39,269 --> 01:05:44,579
where that's centered around well we

1535
01:05:41,219 --> 01:05:48,299
know that despi you know the location of

1536
01:05:44,579 --> 01:05:50,009
the source producing a point on the

1537
01:05:48,300 --> 01:05:50,760
source relative to the destination is

1538
01:05:50,010 --> 01:05:54,660
pretty easy

1539
01:05:50,760 --> 01:05:56,400
we know that the relative source P could

1540
01:05:54,659 --> 01:06:00,719
just be found by subtracting the despi

1541
01:05:56,400 --> 01:06:02,220
you know the source be subtracting away

1542
01:06:00,719 --> 01:06:05,909
the destination D from there that

1543
01:06:02,219 --> 01:06:07,619
produces for us a vector that goes from

1544
01:06:05,909 --> 01:06:10,859
the destination to the source pretty

1545
01:06:07,619 --> 01:06:15,710
easily where where is my diagram of what

1546
01:06:10,860 --> 01:06:15,710
we were just drawing didn't we have

1547
01:06:16,340 --> 01:06:22,680
thought I was drawing something else

1548
01:06:18,599 --> 01:06:24,529
here okay I drew it right here I guess

1549
01:06:22,679 --> 01:06:26,629
for some reason all right

1550
01:06:24,530 --> 01:06:28,099
we can't produce this value pretty

1551
01:06:26,630 --> 01:06:29,869
easily right because this is our

1552
01:06:28,099 --> 01:06:32,359
destination reflector this is our source

1553
01:06:29,869 --> 01:06:35,329
reflector right here we can produce this

1554
01:06:32,358 --> 01:06:37,219
arrow pretty trivially because it's just

1555
01:06:35,329 --> 01:06:39,650
a source position - the death position

1556
01:06:37,219 --> 01:06:42,108
problem is we want the D value of the

1557
01:06:39,650 --> 01:06:44,210
plane so how do we get the D value of

1558
01:06:42,108 --> 01:06:46,039
the plane well we can actually just

1559
01:06:44,210 --> 01:06:48,139
reverse solve the equation to find that

1560
01:06:46,039 --> 01:06:56,059
out right we know that we've got you

1561
01:06:48,139 --> 01:06:58,789
know NX px + NY py + NZ pz + D equals 0

1562
01:06:56,059 --> 01:07:01,789
we want to solve for Z we know all of

1563
01:06:58,789 --> 01:07:03,650
these things right so all we have to do

1564
01:07:01,789 --> 01:07:06,139
is just put them on the other side and

1565
01:07:03,650 --> 01:07:08,780
we're done right in terms of figuring

1566
01:07:06,139 --> 01:07:12,829
out what the D value is the D value is

1567
01:07:08,780 --> 01:07:16,250
just going to be negative NX p x- n YP y

1568
01:07:12,829 --> 01:07:19,608
negative n Z PZ what are what is that

1569
01:07:16,250 --> 01:07:25,730
it's just the negative dot product right

1570
01:07:19,608 --> 01:07:28,009
of n transpose P that's it so we can do

1571
01:07:25,730 --> 01:07:37,639
that very simply by just saying negative

1572
01:07:28,010 --> 01:07:40,040
inner product of N and P right so that

1573
01:07:37,639 --> 01:07:42,500
gives us that D value that we wanted and

1574
01:07:40,039 --> 01:07:45,469
now we have our intersection point right

1575
01:07:42,500 --> 01:07:52,460
very very simple nothing to it so

1576
01:07:45,469 --> 01:07:54,348
there's our test for how close our

1577
01:07:52,460 --> 01:08:00,199
intersection is what we want to do now

1578
01:07:54,349 --> 01:08:05,240
is say well okay I needed a bigger one

1579
01:08:00,199 --> 01:08:08,358
I'm out what I want to say now is like

1580
01:08:05,239 --> 01:08:09,919
okay if I've got that I need to have

1581
01:08:08,358 --> 01:08:12,409
some understanding of whether or not

1582
01:08:09,920 --> 01:08:14,088
I've actually hit it and like I said we

1583
01:08:12,409 --> 01:08:19,009
can do that with a pretty simple check

1584
01:08:14,088 --> 01:08:22,100
again we can produce the like the raid

1585
01:08:19,009 --> 01:08:24,560
point if section essentially by taking

1586
01:08:22,100 --> 01:08:28,009
our starting point and adding the Ray

1587
01:08:24,560 --> 01:08:29,960
times the distance along it right if I

1588
01:08:28,009 --> 01:08:33,259
start where we started where the Ray

1589
01:08:29,960 --> 01:08:35,420
origin is if I add however far we went

1590
01:08:33,259 --> 01:08:37,729
for the intersection times the Ray I

1591
01:08:35,420 --> 01:08:38,298
should step out to where it is now I've

1592
01:08:37,729 --> 01:08:41,238
got my

1593
01:08:38,298 --> 01:08:44,088
points at the intersection plates I can

1594
01:08:41,238 --> 01:08:46,488
then take the distance and figure out

1595
01:08:44,088 --> 01:08:51,798
whether or not I intersect so the

1596
01:08:46,488 --> 01:08:57,649
intersection is just going to be you

1597
01:08:51,798 --> 01:09:02,469
know rape and I can hear discs squared

1598
01:08:57,649 --> 01:09:05,298
is just going to be rapey - source P

1599
01:09:02,469 --> 01:09:09,439
well actually relative source cream got

1600
01:09:05,298 --> 01:09:11,298
to keep them in the same space right so

1601
01:09:09,439 --> 01:09:12,678
I know if I take the rate the location

1602
01:09:11,298 --> 01:09:14,750
where the Ray is going to be oh and

1603
01:09:12,679 --> 01:09:17,719
actually I guess I don't need to do that

1604
01:09:14,750 --> 01:09:19,789
right if I take the location where the

1605
01:09:17,719 --> 01:09:23,809
Ray is going to going to be relative to

1606
01:09:19,789 --> 01:09:25,819
the you know the destination P I think

1607
01:09:23,809 --> 01:09:28,400
where I would actually hit the plane I

1608
01:09:25,819 --> 01:09:30,710
subtract away where the source is in

1609
01:09:28,399 --> 01:09:36,170
this space I end up with a distance

1610
01:09:30,710 --> 01:09:37,969
squared right and then I can say whether

1611
01:09:36,170 --> 01:09:42,020
intersects by just saying if the

1612
01:09:37,969 --> 01:09:49,880
distance squared is less than the square

1613
01:09:42,020 --> 01:09:52,040
of the source radius right so if the if

1614
01:09:49,880 --> 01:09:53,298
the distance a way of the point again

1615
01:09:52,039 --> 01:09:56,420
I'm just doing exact one thing I said I

1616
01:09:53,298 --> 01:09:58,819
was going to do if I intersect a plane

1617
01:09:56,420 --> 01:10:01,969
let's say here's where the reflector is

1618
01:09:58,819 --> 01:10:05,658
this is the source reflector here is the

1619
01:10:01,969 --> 01:10:07,969
destination reflector I come out here I

1620
01:10:05,658 --> 01:10:12,408
find my intersection point and now I say

1621
01:10:07,969 --> 01:10:15,559
how far away am i from here to here

1622
01:10:12,408 --> 01:10:17,899
right how far away am I I'm going to get

1623
01:10:15,559 --> 01:10:21,619
a value out all I want to do is compare

1624
01:10:17,899 --> 01:10:23,269
it to this radius if it's more than that

1625
01:10:21,618 --> 01:10:26,170
radius I didn't intersect if it's less

1626
01:10:23,270 --> 01:10:28,340
than I did that's all I have to do right

1627
01:10:26,170 --> 01:10:30,319
so I take the length squared I can

1628
01:10:28,340 --> 01:10:31,760
compare two squares just the same as I

1629
01:10:30,319 --> 01:10:33,408
could compare the non squared version

1630
01:10:31,760 --> 01:10:35,090
doesn't change the direction of the

1631
01:10:33,408 --> 01:10:36,769
comparison at all so I can just say if

1632
01:10:35,090 --> 01:10:37,279
the length square to just avoid the

1633
01:10:36,770 --> 01:10:40,670
square root

1634
01:10:37,279 --> 01:10:42,469
it's a length squared of these is less

1635
01:10:40,670 --> 01:10:44,899
than radius I intersect it otherwise I

1636
01:10:42,469 --> 01:10:47,239
didn't that's all there is to it all

1637
01:10:44,899 --> 01:10:48,729
right and in fact I can just put that

1638
01:10:47,238 --> 01:10:53,619
inside here I don't even really

1639
01:10:48,729 --> 01:10:56,319
to look at it right so there you go so

1640
01:10:53,619 --> 01:11:00,640
if I intersected then I know that I've

1641
01:10:56,319 --> 01:11:01,179
got a new intersection value and an off

1642
01:11:00,640 --> 01:11:06,310
we go

1643
01:11:01,180 --> 01:11:09,070
so that's effectively the code for doing

1644
01:11:06,310 --> 01:11:12,940
the shadowing along the Ray and what I

1645
01:11:09,069 --> 01:11:15,819
can do now is just say that outputs a

1646
01:11:12,939 --> 01:11:20,469
value per source that determines whether

1647
01:11:15,819 --> 01:11:22,449
or not I actually want to be polite what

1648
01:11:20,470 --> 01:11:24,400
I could do is still use the exact same

1649
01:11:22,449 --> 01:11:27,309
lighting transfer that we're using

1650
01:11:24,399 --> 01:11:29,170
before just by nesting these down so

1651
01:11:27,310 --> 01:11:33,300
what I could do is say all right let's

1652
01:11:29,170 --> 01:11:33,300
actually just make this whole thing

1653
01:11:33,600 --> 01:11:37,270
[Applause]

1654
01:11:34,770 --> 01:11:40,120
actually just be a preamble that happens

1655
01:11:37,270 --> 01:11:41,710
right so what I can do here is say all

1656
01:11:40,119 --> 01:11:52,359
right let's just get this whole thing

1657
01:11:41,710 --> 01:11:54,430
going right and all I'm going to do here

1658
01:11:52,359 --> 01:11:56,109
is what do I have to do so this is the

1659
01:11:54,430 --> 01:12:01,750
destin'd mixer did I keep that in the

1660
01:11:56,109 --> 01:12:03,250
right line that's a tune yeah so all I

1661
01:12:01,750 --> 01:12:07,840
have to do here is just say all right

1662
01:12:03,250 --> 01:12:10,210
for each of the sources I'm looping over

1663
01:12:07,840 --> 01:12:13,360
I got rid of the other sort of version

1664
01:12:10,210 --> 01:12:15,010
of the loop so instead of this here I'm

1665
01:12:13,359 --> 01:12:21,819
just going to say for each of the

1666
01:12:15,010 --> 01:12:26,530
sources I actually wanted rid of this

1667
01:12:21,819 --> 01:12:28,000
stuff and say for every source I'm going

1668
01:12:26,529 --> 01:12:31,439
to do exactly what I was doing before

1669
01:12:28,000 --> 01:12:34,060
but if it happens to be this one special

1670
01:12:31,439 --> 01:12:36,219
one I was trying to look at specifically

1671
01:12:34,060 --> 01:12:40,120
what I'm going to do is compute a

1672
01:12:36,220 --> 01:12:46,360
shadowing value for this source I by

1673
01:12:40,119 --> 01:12:50,079
using my ray information right that's

1674
01:12:46,359 --> 01:12:56,409
that's all it was going to do now I

1675
01:12:50,079 --> 01:12:57,699
think I guess there is a problem here

1676
01:12:56,409 --> 01:13:01,479
which is I kind of do have to do it

1677
01:12:57,699 --> 01:13:02,340
beforehand because in order to do this I

1678
01:13:01,479 --> 01:13:05,789
have to

1679
01:13:02,340 --> 01:13:10,130
so I have to compute the shadowing

1680
01:13:05,789 --> 01:13:13,208
information before going further I guess

1681
01:13:10,130 --> 01:13:13,208
[Music]

1682
01:13:14,179 --> 01:13:18,480
so this is going to be a little bit

1683
01:13:15,988 --> 01:13:20,459
tricky but so if you take a look at what

1684
01:13:18,479 --> 01:13:23,819
happens here where normally we're

1685
01:13:20,460 --> 01:13:26,310
summing up all of the accumulators right

1686
01:13:23,819 --> 01:13:27,809
and so what I'd rather do here is I

1687
01:13:26,310 --> 01:13:29,280
guess what I would rather do here at

1688
01:13:27,810 --> 01:13:30,920
here's here's the way we can actually

1689
01:13:29,279 --> 01:13:33,658
test this a little bit more carefully

1690
01:13:30,920 --> 01:13:35,849
let's actually put it in here so after I

1691
01:13:33,658 --> 01:13:37,888
do the light contribution before I do

1692
01:13:35,849 --> 01:13:40,110
the accumulation what I'm going to do is

1693
01:13:37,889 --> 01:13:42,359
say if it's you know give it to the

1694
01:13:40,109 --> 01:13:44,429
normal case where we're not the special

1695
01:13:42,359 --> 01:13:45,839
reflector that we've picked out then we

1696
01:13:44,429 --> 01:13:47,760
just do the summation is normal

1697
01:13:45,840 --> 01:13:50,579
otherwise what we're going to do is

1698
01:13:47,760 --> 01:13:52,920
we're only going to use let's say the

1699
01:13:50,579 --> 01:13:58,109
light that is the closest one that we

1700
01:13:52,920 --> 01:13:59,579
hit just for starters so the way I'm

1701
01:13:58,109 --> 01:14:02,250
going to do that is I'm going to say all

1702
01:13:59,579 --> 01:14:05,000
right let's introduce a value which is

1703
01:14:02,250 --> 01:14:10,829
close to fit I'm going to call that

1704
01:14:05,000 --> 01:14:12,658
value 32 max here so you know it starts

1705
01:14:10,829 --> 01:14:14,969
out being nothing when we come through

1706
01:14:12,658 --> 01:14:16,529
here I'm going to say all right we test

1707
01:14:14,969 --> 01:14:18,300
against our rays and you know what I'm

1708
01:14:16,529 --> 01:14:22,198
going to have the closest hit I'm going

1709
01:14:18,300 --> 01:14:24,090
to click this Ray's definition up at the

1710
01:14:22,198 --> 01:14:26,309
top as well so I'm going to say we've

1711
01:14:24,090 --> 01:14:28,920
got you know here are arrays and we've

1712
01:14:26,310 --> 01:14:35,010
got our closest hit our closest hit is

1713
01:14:28,920 --> 01:14:39,599
also an array there array an array which

1714
01:14:35,010 --> 01:14:41,340
is one for every ray right so when we

1715
01:14:39,599 --> 01:14:44,250
come down here what we can say is for

1716
01:14:41,340 --> 01:14:46,739
this particular ray if this was a hit

1717
01:14:44,250 --> 01:14:49,198
first of all we can say before we do any

1718
01:14:46,738 --> 01:14:51,359
other checking we can just say if key

1719
01:14:49,198 --> 01:14:52,769
ray is less than closest hit or

1720
01:14:51,359 --> 01:14:54,809
something like this we can do that here

1721
01:14:52,770 --> 01:14:58,500
before we bother computing whether or

1722
01:14:54,810 --> 01:15:00,900
not we actually have to think because we

1723
01:14:58,500 --> 01:15:02,609
don't need to bother checking this if we

1724
01:15:00,899 --> 01:15:04,289
aren't even going to be the closest hit

1725
01:15:02,609 --> 01:15:06,059
yet but any way we can do is say alright

1726
01:15:04,289 --> 01:15:07,500
we've got a particular ray I want to see

1727
01:15:06,060 --> 01:15:09,389
whether or not it's the closest hit or

1728
01:15:07,500 --> 01:15:12,899
not so I'm just going to say for this

1729
01:15:09,389 --> 01:15:14,819
Ray index was this ray closer than the

1730
01:15:12,899 --> 01:15:16,259
closest thing I've already evaluated

1731
01:15:14,819 --> 01:15:18,299
if it's nothing I'm just going to ignore

1732
01:15:16,260 --> 01:15:20,250
it if it is then I'm going to go through

1733
01:15:18,300 --> 01:15:22,170
and see if I actually if I did hit

1734
01:15:20,250 --> 01:15:26,579
I'm going to make this be the new

1735
01:15:22,170 --> 01:15:28,260
closest hit so this just gives me a way

1736
01:15:26,579 --> 01:15:30,149
of saying which light source is the

1737
01:15:28,260 --> 01:15:31,230
closest along the Ray and what I'm going

1738
01:15:30,149 --> 01:15:35,069
to do is I'm going to step the

1739
01:15:31,229 --> 01:15:37,379
accumulation see to just be whatever is

1740
01:15:35,069 --> 01:15:42,960
the result is just the long just that

1741
01:15:37,380 --> 01:15:45,600
one ray right so so that's the end of it

1742
01:15:42,960 --> 01:15:49,829
right now what I'm assuming will happen

1743
01:15:45,600 --> 01:15:51,900
here other than having six compile

1744
01:15:49,829 --> 01:15:53,850
errors what I'm assuming happy here is

1745
01:15:51,899 --> 01:15:55,409
this should make our square be black

1746
01:15:53,850 --> 01:15:57,450
probably if we did everything right

1747
01:15:55,409 --> 01:15:59,159
which we probably did oh well it is

1748
01:15:57,449 --> 01:16:00,899
black of course there's other ways it

1749
01:15:59,159 --> 01:16:03,869
could be black that part that I don't

1750
01:16:00,899 --> 01:16:05,099
have anything to do with that but the

1751
01:16:03,869 --> 01:16:06,420
reason I say that is because if you

1752
01:16:05,100 --> 01:16:09,750
think about what we just told it to do

1753
01:16:06,420 --> 01:16:12,180
we said only use any thing that's that's

1754
01:16:09,750 --> 01:16:15,000
directly above you know it's doing a

1755
01:16:12,180 --> 01:16:16,890
calf straight out the top only do

1756
01:16:15,000 --> 01:16:18,930
something that's straight out the top

1757
01:16:16,890 --> 01:16:21,539
now we could see if we're working at all

1758
01:16:18,930 --> 01:16:26,100
by moving over here I'm seeing if we

1759
01:16:21,539 --> 01:16:28,170
ever get consuming right on top of it

1760
01:16:26,100 --> 01:16:30,210
and it looks like it does work if we do

1761
01:16:28,170 --> 01:16:34,880
that right if we're right on top of it

1762
01:16:30,210 --> 01:16:34,880
you can kind of see that we do get a

1763
01:16:35,479 --> 01:16:39,479
well actually knows but you know what

1764
01:16:37,859 --> 01:16:41,069
would happen there is if we're right on

1765
01:16:39,479 --> 01:16:43,189
top of it what's happening there is

1766
01:16:41,069 --> 01:16:46,079
we're actually picking a different

1767
01:16:43,189 --> 01:16:47,849
closest point let me get rid of the Kuro

1768
01:16:46,079 --> 01:16:52,640
sprite again because that's just

1769
01:16:47,850 --> 01:16:56,329
creating again too much of a problem for

1770
01:16:52,640 --> 01:16:56,329
our test case

1771
01:17:03,090 --> 01:17:12,430
all right let's try that one more time

1772
01:17:06,939 --> 01:17:17,079
if I go ahead and move up here let's see

1773
01:17:12,430 --> 01:17:18,820
whether we can ever get so it doesn't

1774
01:17:17,079 --> 01:17:21,189
look like we're actually able to get

1775
01:17:18,819 --> 01:17:23,199
that to hit even though we should

1776
01:17:21,189 --> 01:17:25,750
probably be hitting it as we pass

1777
01:17:23,199 --> 01:17:28,750
through there so that would suggest to

1778
01:17:25,750 --> 01:17:31,630
me that it's not really working properly

1779
01:17:28,750 --> 01:17:34,270
now one thing I can do let me just make

1780
01:17:31,630 --> 01:17:38,190
it a little bit easier for us here which

1781
01:17:34,270 --> 01:17:38,190
is if I go to handmade world mode I

1782
01:17:41,460 --> 01:17:45,939
thought we had a way to add the lighting

1783
01:17:45,069 --> 01:17:50,279
in here

1784
01:17:45,939 --> 01:17:50,279
oops that's not real mode that's world

1785
01:17:54,640 --> 01:17:57,759
[Applause]

1786
01:18:01,500 --> 01:18:08,319
let's push life that's what it is so

1787
01:18:06,430 --> 01:18:13,600
when you put the light on here

1788
01:18:08,319 --> 01:18:16,119
let's give it a much larger radius so

1789
01:18:13,600 --> 01:18:18,520
now you can kind of see that we've got

1790
01:18:16,119 --> 01:18:20,619
if I come from the perspective here so

1791
01:18:18,520 --> 01:18:23,920
now we know that if we debug this

1792
01:18:20,619 --> 01:18:29,769
routine we should a lot the race should

1793
01:18:23,920 --> 01:18:31,750
be able to hit this emitter here and it

1794
01:18:29,770 --> 01:18:34,510
should actually work right so now we

1795
01:18:31,750 --> 01:18:37,510
should be able to get sort of that that

1796
01:18:34,510 --> 01:18:41,619
information going forward so that's good

1797
01:18:37,510 --> 01:18:44,050
right that's what we want all right so

1798
01:18:41,619 --> 01:18:46,000
what we should see here is we should be

1799
01:18:44,050 --> 01:18:48,400
able to go back to our code we should be

1800
01:18:46,000 --> 01:18:51,489
able to debug it now so that we actually

1801
01:18:48,399 --> 01:18:52,929
do hit the light that's coming off in

1802
01:18:51,489 --> 01:18:55,149
fact let me go ahead and just actually

1803
01:18:52,930 --> 01:18:59,980
step through it there because we should

1804
01:18:55,149 --> 01:19:01,239
have in this case a an intersection here

1805
01:18:59,979 --> 01:19:03,759
for the light and it should be able to

1806
01:19:01,239 --> 01:19:06,130
transfer that that light that's above it

1807
01:19:03,760 --> 01:19:08,840
should be able to get a hit on it so

1808
01:19:06,130 --> 01:19:14,208
let's go ahead and see

1809
01:19:08,840 --> 01:19:14,208
do I have a way to get into Rendon nope

1810
01:19:16,849 --> 01:19:24,288
okay so let's go ahead and see what

1811
01:19:21,599 --> 01:19:27,630
happens if I go ahead and step into this

1812
01:19:24,288 --> 01:19:28,288
and what I'm going to do here don't try

1813
01:19:27,630 --> 01:19:35,699
this at home

1814
01:19:28,288 --> 01:19:39,238
I don't actually know if it work is I'm

1815
01:19:35,698 --> 01:19:42,688
going to actually try on the fly getting

1816
01:19:39,238 --> 01:19:45,988
this to go into debug mode so this is a

1817
01:19:42,689 --> 01:19:49,079
release build and I'm just going to try

1818
01:19:45,988 --> 01:19:52,589
compiling debug mode with hot code

1819
01:19:49,078 --> 01:19:55,590
reloading which apparently just worked

1820
01:19:52,590 --> 01:19:59,038
which is awesome and then I messed up in

1821
01:19:55,590 --> 01:20:01,110
here so it's effectively what I'm trying

1822
01:19:59,038 --> 01:20:03,238
to do here is figure out why we're never

1823
01:20:01,109 --> 01:20:04,589
getting inside here or to see whether or

1824
01:20:03,238 --> 01:20:07,728
not we're ever getting cider so we are

1825
01:20:04,590 --> 01:20:12,029
are we ever getting inside here we are

1826
01:20:07,729 --> 01:20:14,880
so it looks like we are making it all

1827
01:20:12,029 --> 01:20:16,469
the way in - in fact it looks like we're

1828
01:20:14,880 --> 01:20:23,849
actually we are actually getting a hit

1829
01:20:16,469 --> 01:20:25,649
ah but there is our problem so or at

1830
01:20:23,849 --> 01:20:27,208
least one of our problems so one of the

1831
01:20:25,649 --> 01:20:29,488
things I neglected to do here is clamp

1832
01:20:27,208 --> 01:20:33,988
the Ray - it's allowing tips that are

1833
01:20:29,488 --> 01:20:35,428
behind it right this tear a value is

1834
01:20:33,988 --> 01:20:37,109
going to cast out in both directions

1835
01:20:35,429 --> 01:20:39,809
effectively there's nothing to prevent

1836
01:20:37,109 --> 01:20:42,149
it from shooting backwards so T ray can

1837
01:20:39,809 --> 01:20:43,529
come out negatives and it's always any

1838
01:20:42,149 --> 01:20:46,558
negative values are going to be less

1839
01:20:43,529 --> 01:20:47,639
than any values that are positive

1840
01:20:46,559 --> 01:20:49,170
because negatives always less than

1841
01:20:47,639 --> 01:20:50,219
positive so it's always going to pick

1842
01:20:49,170 --> 01:20:51,739
something behind us which is it

1843
01:20:50,219 --> 01:20:54,569
emphatically not what I wanted it to do

1844
01:20:51,738 --> 01:20:58,468
so what we really want to do here is say

1845
01:20:54,569 --> 01:21:03,599
if t ray is greater than 0 and less than

1846
01:20:58,469 --> 01:21:05,519
the closest fit right that's actually

1847
01:21:03,599 --> 01:21:10,889
what we wanted it to do

1848
01:21:05,519 --> 01:21:14,280
that's the more that's the more fruitful

1849
01:21:10,889 --> 01:21:14,760
approach so let's try that and go from

1850
01:21:14,279 --> 01:21:18,059
there

1851
01:21:14,760 --> 01:21:20,270
all right so what we can do now is is

1852
01:21:18,059 --> 01:21:22,970
rerun and

1853
01:21:20,270 --> 01:21:25,160
and start to bugging this new not so

1854
01:21:22,970 --> 01:21:26,990
busted version alright so what we see

1855
01:21:25,159 --> 01:21:28,609
now actually is it appears to be working

1856
01:21:26,989 --> 01:21:31,639
more correctly you can see as I move

1857
01:21:28,609 --> 01:21:33,710
over the top of it I actually do once it

1858
01:21:31,640 --> 01:21:35,660
moves into sight I actually do hit it

1859
01:21:33,710 --> 01:21:37,699
and when it moves out I'm no longer

1860
01:21:35,659 --> 01:21:39,859
hitting it right so that's actually

1861
01:21:37,699 --> 01:21:42,439
quite nice that's actually exactly what

1862
01:21:39,859 --> 01:21:43,909
I wanted to have happen so now that's

1863
01:21:42,439 --> 01:21:45,589
perfect because what that means is that

1864
01:21:43,909 --> 01:21:47,599
if there was something in between the

1865
01:21:45,590 --> 01:21:49,100
two of these two things we would

1866
01:21:47,600 --> 01:21:53,390
actually get the shadowing happening

1867
01:21:49,100 --> 01:21:56,720
which is exactly what I wanted and off

1868
01:21:53,390 --> 01:21:59,570
we go so we could run this on everybody

1869
01:21:56,720 --> 01:22:01,789
of course it's expensive but we could we

1870
01:21:59,569 --> 01:22:03,039
could run this on everybody in fact

1871
01:22:01,789 --> 01:22:05,420
let's go ahead and do that just

1872
01:22:03,039 --> 01:22:06,800
temporarily yet to see how slow it

1873
01:22:05,420 --> 01:22:08,510
actually is the problem is we're only

1874
01:22:06,800 --> 01:22:09,890
casting at one rate right now when we

1875
01:22:08,510 --> 01:22:12,829
start to cast out more rays it'll become

1876
01:22:09,890 --> 01:22:18,470
a lot more expensive and probably won't

1877
01:22:12,829 --> 01:22:21,050
work but I can obviously do that fairly

1878
01:22:18,470 --> 01:22:25,400
straightforward all I have to do is as

1879
01:22:21,050 --> 01:22:28,310
we you know as we go I just you know get

1880
01:22:25,399 --> 01:22:29,449
rid of that if statement right well in

1881
01:22:28,310 --> 01:22:30,980
order to do that I have to get rid of

1882
01:22:29,449 --> 01:22:33,949
the bottom miss as well you know let's

1883
01:22:30,979 --> 01:22:37,279
just do it this way let's just say if

1884
01:22:33,949 --> 01:22:39,319
one so it will always pick that pattern

1885
01:22:37,279 --> 01:22:42,469
in all cases so this is going to be a

1886
01:22:39,319 --> 01:22:45,889
lot slower now presumably and what you

1887
01:22:42,470 --> 01:22:47,420
can see here is it's it's also got

1888
01:22:45,890 --> 01:22:49,550
obviously the problem of since it's only

1889
01:22:47,420 --> 01:22:51,770
casting out in exactly one direction

1890
01:22:49,550 --> 01:22:54,110
almost no lights ever hit any other

1891
01:22:51,770 --> 01:22:58,730
surfaces right and this is exactly why I

1892
01:22:54,109 --> 01:23:00,049
say you need to have a lot of different

1893
01:22:58,729 --> 01:23:03,439
directions that you can cast out and

1894
01:23:00,050 --> 01:23:06,260
find other like other sources that you

1895
01:23:03,439 --> 01:23:07,549
want to hit so it's exactly working

1896
01:23:06,260 --> 01:23:09,980
properly we don't really know it's

1897
01:23:07,550 --> 01:23:11,210
working entirely properly yet because we

1898
01:23:09,979 --> 01:23:12,409
haven't really done much testing other

1899
01:23:11,210 --> 01:23:14,659
than to see that it's sort of look like

1900
01:23:12,409 --> 01:23:17,149
it's working if we now start casting out

1901
01:23:14,659 --> 01:23:20,840
in different directions that would give

1902
01:23:17,149 --> 01:23:23,299
us something potentially usable this

1903
01:23:20,840 --> 01:23:25,670
raise value is obviously kind of a

1904
01:23:23,300 --> 01:23:29,449
constant thing that we can do let's go

1905
01:23:25,670 --> 01:23:32,149
ahead and cast out some other rays right

1906
01:23:29,449 --> 01:23:32,658
just some some other rays and other

1907
01:23:32,149 --> 01:23:35,359
direct

1908
01:23:32,658 --> 01:23:37,039
right so if we want to cast up reason

1909
01:23:35,359 --> 01:23:41,119
other directions we need some way of

1910
01:23:37,039 --> 01:23:46,880
figuring out some stuff some other

1911
01:23:41,119 --> 01:23:48,829
directions to test right and the problem

1912
01:23:46,880 --> 01:23:50,239
is this is that's easier said than done

1913
01:23:48,829 --> 01:23:51,350
in our particular circumstance because

1914
01:23:50,238 --> 01:23:55,459
we don't really have very much

1915
01:23:51,350 --> 01:23:57,500
information to stage to figure out where

1916
01:23:55,460 --> 01:23:58,819
that should actually go and you know

1917
01:23:57,500 --> 01:24:01,969
what I'll do here is I'll just put a

1918
01:23:58,819 --> 01:24:04,130
bunch of these in that there we go one

1919
01:24:01,969 --> 01:24:06,920
two three four five six seven eight nine

1920
01:24:04,130 --> 01:24:07,929
ten eleven twelve thirty forty fifty all

1921
01:24:06,920 --> 01:24:09,980
right there we go

1922
01:24:07,929 --> 01:24:16,670
don't ask me how I had ended up picking

1923
01:24:09,979 --> 01:24:18,738
exactly 16 there I don't know but what I

1924
01:24:16,670 --> 01:24:21,829
want to do here is say okay for you know

1925
01:24:18,738 --> 01:24:25,549
each of these rays I want to have some

1926
01:24:21,829 --> 01:24:26,809
other possible rays to cast out and what

1927
01:24:25,550 --> 01:24:28,820
I'm going to do is I'm going to do the

1928
01:24:26,810 --> 01:24:32,389
stupidest possible thing this is really

1929
01:24:28,819 --> 01:24:34,250
bad don't do this at home and we'll

1930
01:24:32,389 --> 01:24:35,539
definitely need something better later

1931
01:24:34,250 --> 01:24:37,399
but what I want to do is I'm just going

1932
01:24:35,539 --> 01:24:40,300
to create a trays here for the time

1933
01:24:37,399 --> 01:24:47,119
being just by perturbing each of these

1934
01:24:40,300 --> 01:24:54,670
by some value right so I'm just going to

1935
01:24:47,119 --> 01:25:05,139
return each of these by something I

1936
01:24:54,670 --> 01:25:07,609
basically pretty random right at nothing

1937
01:25:05,139 --> 01:25:10,480
particularly smart here I'm just picking

1938
01:25:07,609 --> 01:25:10,479
random rays

1939
01:25:13,399 --> 01:25:17,238
oh never mind this isn't constant what

1940
01:25:15,920 --> 01:25:24,560
am I talking about this is per

1941
01:25:17,238 --> 01:25:26,119
destination yeah I'm just thinking

1942
01:25:24,560 --> 01:25:29,570
random reason I'm not picking them in

1943
01:25:26,119 --> 01:25:32,750
any sort of smart way I'm kind of

1944
01:25:29,569 --> 01:25:34,969
surprised at how fast that actually was

1945
01:25:32,750 --> 01:25:38,090
running but what you can see now is that

1946
01:25:34,969 --> 01:25:40,789
we now have more chance of picking

1947
01:25:38,090 --> 01:25:45,050
things up right because each of the Rays

1948
01:25:40,789 --> 01:25:49,130
that we capped out effectively has you

1949
01:25:45,050 --> 01:25:50,600
know it's got eight chances of being in

1950
01:25:49,130 --> 01:25:53,630
the direction that will actually hit the

1951
01:25:50,600 --> 01:25:56,060
light source and that's great but again

1952
01:25:53,630 --> 01:26:00,050
you know not good enough and if I went

1953
01:25:56,060 --> 01:26:03,560
and picked those rays better we would

1954
01:26:00,050 --> 01:26:05,600
get more intersection certainly but what

1955
01:26:03,560 --> 01:26:06,770
you're seeing here is specifically the

1956
01:26:05,600 --> 01:26:09,289
sort of thing I was talking about before

1957
01:26:06,770 --> 01:26:11,060
where it's like casting out raised by

1958
01:26:09,289 --> 01:26:12,859
themself probably isn't going to cut it

1959
01:26:11,060 --> 01:26:14,560
the number of rays you would have to

1960
01:26:12,859 --> 01:26:18,198
send out is just going to be too high

1961
01:26:14,560 --> 01:26:19,880
and granted when we start doing this in

1962
01:26:18,198 --> 01:26:22,428
a multi resolution fashion which we're

1963
01:26:19,880 --> 01:26:25,579
going to do eventually it will be better

1964
01:26:22,429 --> 01:26:27,590
certainly but it won't still probably be

1965
01:26:25,579 --> 01:26:29,479
good enough so that's why I was thinking

1966
01:26:27,590 --> 01:26:30,679
what we probably want to do here is make

1967
01:26:29,479 --> 01:26:34,698
something that's going to be a little

1968
01:26:30,679 --> 01:26:37,130
bit more cone based so that it can pick

1969
01:26:34,698 --> 01:26:38,119
up more ships so if we want to replace

1970
01:26:37,130 --> 01:26:42,710
something that's going to be a little

1971
01:26:38,119 --> 01:26:44,390
more cone based what I can do first of

1972
01:26:42,710 --> 01:26:46,340
all is let's switch back to this so I

1973
01:26:44,390 --> 01:26:49,969
can verify that our cone base tracing is

1974
01:26:46,340 --> 01:26:52,219
actually doing something what I can do

1975
01:26:49,969 --> 01:26:54,260
there is expand the radius of the cone

1976
01:26:52,219 --> 01:26:57,920
as we go out in a really like I said

1977
01:26:54,260 --> 01:27:00,650
very cheap and cheesy way and so what

1978
01:26:57,920 --> 01:27:02,810
I'm going to do there is say okay let's

1979
01:27:00,649 --> 01:27:06,349
suppose that when you cast the r8 out as

1980
01:27:02,810 --> 01:27:10,039
it gets further out it gets wider so

1981
01:27:06,350 --> 01:27:11,360
this distance here where we look at the

1982
01:27:10,039 --> 01:27:14,029
distance square is less than the square

1983
01:27:11,359 --> 01:27:16,219
of the source R what we actually want to

1984
01:27:14,029 --> 01:27:23,658
do there is take a look at if it's

1985
01:27:16,219 --> 01:27:26,770
actually the source R plus the plus

1986
01:27:23,658 --> 01:27:28,809
whatever our cone radius is

1987
01:27:26,770 --> 01:27:31,989
and our cone radius in this case is just

1988
01:27:28,810 --> 01:27:33,760
going to be proportional to tear a tear

1989
01:27:31,988 --> 01:27:36,039
a is the thing that kind of goes out and

1990
01:27:33,760 --> 01:27:38,170
what we can say is for every certain

1991
01:27:36,039 --> 01:27:40,960
distance that it goes out it gets a

1992
01:27:38,170 --> 01:27:43,600
certain distance wider now what we could

1993
01:27:40,960 --> 01:27:47,399
say is that it could be exactly even at

1994
01:27:43,600 --> 01:27:47,400
this point it could be that for every

1995
01:27:47,520 --> 01:27:51,940
for every unit that goes out it gets one

1996
01:27:50,050 --> 01:27:54,100
unit wide that might be a little bit too

1997
01:27:51,939 --> 01:27:57,129
wide but for now we can sort of just say

1998
01:27:54,100 --> 01:27:59,140
that's what that is right and so now

1999
01:27:57,130 --> 01:28:00,520
what we should see again is a much

2000
01:27:59,140 --> 01:28:02,020
smoother like you getting you can

2001
01:28:00,520 --> 01:28:03,760
actually see it here quite good quite

2002
01:28:02,020 --> 01:28:07,530
specifically you can see that you get a

2003
01:28:03,760 --> 01:28:10,420
much wider pickup for all of these

2004
01:28:07,529 --> 01:28:12,849
lights and so even though now we're just

2005
01:28:10,420 --> 01:28:14,350
casting one ring you get quite a bit

2006
01:28:12,850 --> 01:28:16,300
bigger pick up if you're casting out a

2007
01:28:14,350 --> 01:28:20,230
cone because it makes it a lot easier

2008
01:28:16,300 --> 01:28:23,800
for them to be seen now the problem that

2009
01:28:20,229 --> 01:28:27,459
we get well I do think we might have a

2010
01:28:23,800 --> 01:28:29,260
bug in the cast though because that it

2011
01:28:27,460 --> 01:28:31,569
doesn't make a lot of sense as to why

2012
01:28:29,260 --> 01:28:34,929
that would be the specific area that

2013
01:28:31,569 --> 01:28:37,630
this would pick up if this were casting

2014
01:28:34,929 --> 01:28:39,399
out a cone it should pick up this as it

2015
01:28:37,630 --> 01:28:42,880
gets further away it should be picking

2016
01:28:39,399 --> 01:28:44,829
it up right now in fact oh well you know

2017
01:28:42,880 --> 01:28:46,480
what but it's making other things are

2018
01:28:44,829 --> 01:28:48,488
being closer in the cone so that's

2019
01:28:46,479 --> 01:28:51,629
actually not that that's actually not

2020
01:28:48,488 --> 01:28:51,629
that unusual yeah that's fine

2021
01:28:52,029 --> 01:28:57,908
so yeah as you can see if we make it a

2022
01:28:56,439 --> 01:29:00,488
wider cone we can pick up more things

2023
01:28:57,908 --> 01:29:03,519
the problem with this is if we only take

2024
01:29:00,488 --> 01:29:06,250
the closest hit that means that our cone

2025
01:29:03,520 --> 01:29:08,380
is not going to be doing a very sensible

2026
01:29:06,250 --> 01:29:09,399
thing for us in terms of Stan's wing so

2027
01:29:08,380 --> 01:29:11,710
what's going to happen here right

2028
01:29:09,399 --> 01:29:16,479
imagine if we trigger for tracing out a

2029
01:29:11,710 --> 01:29:18,010
cone in this way right then our problem

2030
01:29:16,479 --> 01:29:20,109
that we're going to get is that

2031
01:29:18,010 --> 01:29:22,270
something that's in the cone like this

2032
01:29:20,109 --> 01:29:24,279
but maybe there's a giant reflector

2033
01:29:22,270 --> 01:29:26,140
right here that's what we should mostly

2034
01:29:24,279 --> 01:29:28,059
picking up some little thing that's in

2035
01:29:26,140 --> 01:29:30,280
the cone right here that's going to

2036
01:29:28,060 --> 01:29:31,900
register as the first hit and we're not

2037
01:29:30,279 --> 01:29:34,569
going to get any contribution from this

2038
01:29:31,899 --> 01:29:37,779
at all and so what we want to probably

2039
01:29:34,569 --> 01:29:39,460
do there is say let's take a look at

2040
01:29:37,779 --> 01:29:43,000
when we hit something

2041
01:29:39,460 --> 01:29:45,219
I how close it is we kind of want to

2042
01:29:43,000 --> 01:29:48,090
know something about how these values

2043
01:29:45,219 --> 01:29:51,010
should be composited together right and

2044
01:29:48,090 --> 01:29:52,690
so we get into sort of the same problem

2045
01:29:51,010 --> 01:29:56,050
we were having with the DEF peels before

2046
01:29:52,689 --> 01:29:58,119
it's almost we kind of need to know you

2047
01:29:56,050 --> 01:29:59,770
know for the cone radius we kind of want

2048
01:29:58,119 --> 01:30:02,229
to know how much of the cone you're

2049
01:29:59,770 --> 01:30:03,760
intersecting with and how much of a cone

2050
01:30:02,229 --> 01:30:05,949
you're dissecting with should sort of

2051
01:30:03,760 --> 01:30:09,640
make you have more or less contribution

2052
01:30:05,949 --> 01:30:12,550
to the thing that we're to the lighting

2053
01:30:09,640 --> 01:30:14,350
solution right and so things that only

2054
01:30:12,550 --> 01:30:16,239
intersect the cone a little bit we don't

2055
01:30:14,350 --> 01:30:21,340
want them to block out things that are

2056
01:30:16,238 --> 01:30:23,079
very heavily in the cone so yeah again

2057
01:30:21,340 --> 01:30:25,000
we get back to that sort of same problem

2058
01:30:23,079 --> 01:30:26,769
now if we wanted to do something created

2059
01:30:25,000 --> 01:30:30,010
there like I said there are things we

2060
01:30:26,770 --> 01:30:31,950
can kind of do if we want to we can try

2061
01:30:30,010 --> 01:30:33,820
to make these be a little bit more

2062
01:30:31,949 --> 01:30:36,760
extensible in terms of how they're

2063
01:30:33,819 --> 01:30:39,279
picking up what's left in the cone for

2064
01:30:36,760 --> 01:30:42,280
example what we could do is again pick

2065
01:30:39,279 --> 01:30:43,929
sort of that multi sampling take sort of

2066
01:30:42,279 --> 01:30:46,059
that multi sampling approach in the cone

2067
01:30:43,930 --> 01:30:49,390
we could say something like the overlap

2068
01:30:46,060 --> 01:30:52,060
amount is going to give us some

2069
01:30:49,390 --> 01:30:54,250
indication of what's happening we could

2070
01:30:52,060 --> 01:30:55,660
try to sort along the T values I don't

2071
01:30:54,250 --> 01:31:00,100
think that would be particularly good

2072
01:30:55,659 --> 01:31:02,260
idea necessarily though so again yeah

2073
01:31:00,100 --> 01:31:03,910
I'm not sure I'm just really not sure

2074
01:31:02,260 --> 01:31:07,119
what we want to do once we've produced

2075
01:31:03,909 --> 01:31:10,960
that value certainly what we could do is

2076
01:31:07,119 --> 01:31:15,149
take how much in the cone you are and we

2077
01:31:10,960 --> 01:31:15,149
could say something like

2078
01:31:23,550 --> 01:31:28,180
we could have some heuristic that we use

2079
01:31:26,170 --> 01:31:30,609
it's like how much in the cone you are

2080
01:31:28,180 --> 01:31:36,130
versus how far away you were or

2081
01:31:30,609 --> 01:31:37,509
something like this I don't know that's

2082
01:31:36,130 --> 01:31:40,260
ever going to produce a particularly

2083
01:31:37,510 --> 01:31:40,260
good value

2084
01:31:52,800 --> 01:31:57,909
so here's what I'm going to say I'm

2085
01:31:56,409 --> 01:32:02,019
going to I'm going to step back from

2086
01:31:57,909 --> 01:32:03,279
this slightly because we're coming up on

2087
01:32:02,020 --> 01:32:04,450
the end of the stream so I'm going to

2088
01:32:03,279 --> 01:32:06,849
leave this for now we're going to think

2089
01:32:04,449 --> 01:32:07,960
about that a little bit more but I'm

2090
01:32:06,850 --> 01:32:08,800
going to leave that for now what I'm

2091
01:32:07,960 --> 01:32:13,779
going to do is that we do something

2092
01:32:08,800 --> 01:32:15,640
really ridiculous because why not

2093
01:32:13,779 --> 01:32:21,090
and what I'm going to do here is going

2094
01:32:15,640 --> 01:32:25,110
to say all right let's suppose that we

2095
01:32:21,090 --> 01:32:28,449
we take our raid our bank of raised here

2096
01:32:25,109 --> 01:32:29,889
and I'm going to do this in a very

2097
01:32:28,449 --> 01:32:32,229
different way

2098
01:32:29,890 --> 01:32:37,810
so what I'm going to do instead is I'm

2099
01:32:32,229 --> 01:32:40,989
going to say let's take let's take some

2100
01:32:37,810 --> 01:32:43,900
ridiculous number of raise here because

2101
01:32:40,989 --> 01:32:52,389
we can let's take some ridiculous number

2102
01:32:43,899 --> 01:32:56,619
of raise and let's just generate raise

2103
01:32:52,390 --> 01:33:00,940
at the start that let's generate 32 of

2104
01:32:56,619 --> 01:33:03,519
these guys that aren't based on any

2105
01:33:00,939 --> 01:33:08,409
normal yet so what I'm going to do is

2106
01:33:03,520 --> 01:33:13,810
going to say for you know one two

2107
01:33:08,409 --> 01:33:15,369
however many of these I want to do and

2108
01:33:13,810 --> 01:33:18,210
close this hit I guess we can also do a

2109
01:33:15,369 --> 01:33:18,210
read count phrase

2110
01:33:34,630 --> 01:33:40,539
so this will initialize to any number of

2111
01:33:37,310 --> 01:33:42,289
raids that we want for the time being so

2112
01:33:40,539 --> 01:33:43,908
what we're going to do is we're going to

2113
01:33:42,289 --> 01:33:48,529
start by saying all right each of these

2114
01:33:43,908 --> 01:33:50,809
Ray's is going to be equal to a random

2115
01:33:48,529 --> 01:33:51,800
value for now all right so what I'm

2116
01:33:50,810 --> 01:33:55,010
going to say is I'm gonna say we're

2117
01:33:51,800 --> 01:33:56,989
going to do a normalize of 0 and we're

2118
01:33:55,010 --> 01:34:03,320
going to pick literally a bunch of

2119
01:33:56,988 --> 01:34:11,869
random values where's our random so we

2120
01:34:03,319 --> 01:34:18,139
want a random bilateral so we want two

2121
01:34:11,869 --> 01:34:23,899
random bilateral on a random series so

2122
01:34:18,140 --> 01:34:28,520
here's our random series and we just

2123
01:34:23,899 --> 01:34:32,539
want to take basically a random

2124
01:34:28,520 --> 01:34:34,520
Direction not a pigley good random

2125
01:34:32,539 --> 01:34:39,859
Direction by the way we're gonna take a

2126
01:34:34,520 --> 01:34:41,600
random direction we're going to take 32

2127
01:34:39,859 --> 01:34:43,670
of these rays here we're going to

2128
01:34:41,600 --> 01:34:46,460
generate thirty two random rays sort of

2129
01:34:43,670 --> 01:34:47,810
cover a sphere in them when we come

2130
01:34:46,460 --> 01:34:51,529
through here I'm just going to loop over

2131
01:34:47,810 --> 01:34:53,770
them I'm just going to skip any rate

2132
01:34:51,529 --> 01:34:58,759
that doesn't point out in the direction

2133
01:34:53,770 --> 01:35:04,150
of whatever the element is so what I'm

2134
01:34:58,760 --> 01:35:04,150
going to say is if the inner product of

2135
01:35:05,529 --> 01:35:10,698
the Ray and the destination normal isn't

2136
01:35:08,600 --> 01:35:16,310
is greater than zero we'll use it if

2137
01:35:10,698 --> 01:35:23,119
it's not we won't so now I'm just kind

2138
01:35:16,310 --> 01:35:25,039
of bloomin out along along a bunch of

2139
01:35:23,119 --> 01:35:27,619
different directions here and it's going

2140
01:35:25,039 --> 01:35:31,369
to be slow right it's going to be very

2141
01:35:27,619 --> 01:35:35,448
slow because we've got too many rays if

2142
01:35:31,369 --> 01:35:37,519
that makes sense and I just want to see

2143
01:35:35,448 --> 01:35:40,359
how many of these it would take to do

2144
01:35:37,520 --> 01:35:42,170
anything interesting

2145
01:35:40,359 --> 01:35:55,960
it looks to me

2146
01:35:42,170 --> 01:35:58,730
like it's not still enough let's see

2147
01:35:55,960 --> 01:36:01,090
what we have to crank this number to I'm

2148
01:35:58,729 --> 01:36:01,089
just curious

2149
01:36:19,649 --> 01:36:25,789
so it's still not really able to pick up

2150
01:36:23,698 --> 01:36:28,228
what I've expect I wonder if I've got I

2151
01:36:25,788 --> 01:36:29,488
may have some this is not a very good

2152
01:36:28,229 --> 01:36:32,929
test because I may just have some really

2153
01:36:29,488 --> 01:36:35,188
bad bugs at 256 it should be pretty much

2154
01:36:32,929 --> 01:36:39,109
taking up most things and just be

2155
01:36:35,189 --> 01:36:39,110
incredibly slow right

2156
01:36:45,670 --> 01:36:49,619
yeah so if I look at that

2157
01:36:58,448 --> 01:37:03,349
it's still so I think we may have some

2158
01:37:01,250 --> 01:37:05,840
bugs in there at 256 it should be

2159
01:37:03,350 --> 01:37:10,159
roughly good although to be fair these

2160
01:37:05,840 --> 01:37:12,260
things are are not as big as they

2161
01:37:10,158 --> 01:37:14,238
probably should be because the members

2162
01:37:12,260 --> 01:37:18,170
were sort of sub Stanley I do wonder if

2163
01:37:14,238 --> 01:37:21,139
maybe we did something where we overfill

2164
01:37:18,170 --> 01:37:26,210
a little bit like sort of got kind of

2165
01:37:21,140 --> 01:37:28,640
this minimum spanning here if we did

2166
01:37:26,210 --> 01:37:31,670
something where we actually tried to

2167
01:37:28,640 --> 01:37:32,960
overfill that a little bit if we did

2168
01:37:31,670 --> 01:37:36,219
something more like this

2169
01:37:32,960 --> 01:37:38,960
I'm wondering if that is more

2170
01:37:36,219 --> 01:37:42,319
representative as well just to get their

2171
01:37:38,960 --> 01:37:48,279
reflectors so that they cover the scene

2172
01:37:42,319 --> 01:37:48,279
better right and

2173
01:37:55,770 --> 01:38:02,220
you know eventually that does seem like

2174
01:37:58,829 --> 01:38:07,260
it's kind of working maybe a little

2175
01:38:02,220 --> 01:38:08,640
better but honestly still not really so

2176
01:38:07,260 --> 01:38:11,190
I think we've still got some bugs in

2177
01:38:08,640 --> 01:38:17,880
there let's take a look what how much

2178
01:38:11,189 --> 01:38:20,059
time we have seven minutes not really

2179
01:38:17,880 --> 01:38:20,060
man

2180
01:38:20,369 --> 01:38:24,930
so let me take a look I think we've got

2181
01:38:22,529 --> 01:38:28,229
some bugs in there at the moment

2182
01:38:24,930 --> 01:38:30,930
unfortunately because that doesn't seem

2183
01:38:28,229 --> 01:38:32,759
quite right to me so I would like to

2184
01:38:30,930 --> 01:38:35,430
have a little bit more information about

2185
01:38:32,760 --> 01:38:37,409
what's going on here and and why so

2186
01:38:35,430 --> 01:38:42,570
presumably if I set this down again to

2187
01:38:37,409 --> 01:38:46,439
some relatively low number it should be

2188
01:38:42,569 --> 01:38:47,759
plenty fast and of course it is but

2189
01:38:46,439 --> 01:38:54,149
again you're only getting raised in

2190
01:38:47,760 --> 01:38:56,789
certain directions there and in theory

2191
01:38:54,149 --> 01:38:59,460
16 rays should have been roughly the

2192
01:38:56,789 --> 01:39:02,269
same speed as before because that should

2193
01:38:59,460 --> 01:39:05,130
be the same as casting a trays because

2194
01:39:02,270 --> 01:39:08,250
some of those rays you know half of

2195
01:39:05,130 --> 01:39:10,050
those rays wouldn't be used right but it

2196
01:39:08,250 --> 01:39:12,960
doesn't look like that's really the case

2197
01:39:10,050 --> 01:39:15,810
necessarily so I'm a little wondering

2198
01:39:12,960 --> 01:39:22,230
kind of why that's why that's true maybe

2199
01:39:15,810 --> 01:39:27,030
just because my wife's source is getting

2200
01:39:22,229 --> 01:39:36,389
picked up twice there we go so that's a

2201
01:39:27,029 --> 01:39:37,969
little odd I guess there's just a few

2202
01:39:36,390 --> 01:39:42,410
more inner products and that does seem

2203
01:39:37,970 --> 01:39:42,409
maybe like a problem but still

2204
01:39:48,960 --> 01:39:54,819
so yeah what I'd like to do is I'd like

2205
01:39:51,760 --> 01:39:58,539
to look at those let's take a second to

2206
01:39:54,819 --> 01:40:00,969
just look at what those rays actually

2207
01:39:58,539 --> 01:40:05,289
are is there a reason that none of my

2208
01:40:00,970 --> 01:40:06,940
windows ever stay open by the way like

2209
01:40:05,289 --> 01:40:09,519
what do I have to do to make it so it

2210
01:40:06,939 --> 01:40:20,019
doesn't clear all my windows I have no

2211
01:40:09,520 --> 01:40:22,390
idea what I'd like to do is I'd like to

2212
01:40:20,020 --> 01:40:25,960
see what those razor right I'd like to

2213
01:40:22,390 --> 01:40:29,440
just see make sure that they're picking

2214
01:40:25,960 --> 01:40:31,710
sensible rays I don't know if I might

2215
01:40:29,439 --> 01:40:41,309
have to compile and debug them to see it

2216
01:40:31,710 --> 01:40:41,310
that doesn't look that um

2217
01:40:48,198 --> 01:40:57,299
that doesn't look great let's go ahead

2218
01:40:54,479 --> 01:41:00,500
and step in there shall we

2219
01:40:57,300 --> 01:41:00,500
I'm going to

2220
01:41:14,109 --> 01:41:20,019
that made you spend an artifact of me

2221
01:41:16,210 --> 01:41:24,210
getting the wrong breakpoint okay yeah

2222
01:41:20,020 --> 01:41:24,210
this makes this looks much nicer

2223
01:41:34,099 --> 01:41:41,529
so yeah that seems reasonable and again

2224
01:41:39,319 --> 01:41:45,198
I think if we step in we should see that

2225
01:41:41,529 --> 01:41:58,550
when we go to test these rays we only

2226
01:41:45,198 --> 01:42:01,819
test about half of them which you can

2227
01:41:58,550 --> 01:42:31,039
see happening here and that looks about

2228
01:42:01,819 --> 01:42:32,779
good right yeah so if I am to do yeah

2229
01:42:31,039 --> 01:42:35,328
like I said kind of a lower number of

2230
01:42:32,779 --> 01:42:37,149
those and I don't know like I mean I

2231
01:42:35,328 --> 01:42:40,279
could do a lower number of rays and

2232
01:42:37,149 --> 01:42:42,319
conical this is something I think we'll

2233
01:42:40,279 --> 01:42:45,590
just leave till next weekend to think a

2234
01:42:42,319 --> 01:42:46,759
little bit more about but I'm just kind

2235
01:42:45,590 --> 01:42:52,578
of playing around with it a little bit

2236
01:42:46,760 --> 01:42:57,380
here so maybe this grows at a rate of

2237
01:42:52,578 --> 01:43:00,049
like two meters at 0.25 meters per meter

2238
01:42:57,380 --> 01:43:03,350
gone so there's the cones or narrow eye

2239
01:43:00,050 --> 01:43:06,509
and we'll take a look here just to see

2240
01:43:03,350 --> 01:43:06,509
[Music]

2241
01:43:15,289 --> 01:43:21,109
so if the distance squared is less than

2242
01:43:21,469 --> 01:43:32,850
source are in the con r so this is the

2243
01:43:25,260 --> 01:43:37,230
cone version of that and yeah it just

2244
01:43:32,850 --> 01:43:38,969
looks it just looks buggy because you

2245
01:43:37,229 --> 01:43:40,829
know the one that's underneath it I

2246
01:43:38,969 --> 01:43:43,020
guess it could be never shooting out

2247
01:43:40,829 --> 01:43:44,699
anything in that direction maybe we just

2248
01:43:43,020 --> 01:43:48,830
need to be a more sensible about picking

2249
01:43:44,699 --> 01:43:51,420
the directions and that's fine too I

2250
01:43:48,829 --> 01:43:53,430
guess we can try that really quick if we

2251
01:43:51,420 --> 01:43:55,369
were going to pick directions a little

2252
01:43:53,430 --> 01:44:00,329
bit better how would we do that

2253
01:43:55,369 --> 01:44:08,939
obviously we don't really want to do the

2254
01:44:00,329 --> 01:44:19,800
random stuff quite yet so so if we Randy

2255
01:44:08,939 --> 01:44:21,238
something more like that we just do we

2256
01:44:19,800 --> 01:44:23,760
just do something that was based off of

2257
01:44:21,238 --> 01:44:36,238
the destination and so probably here we

2258
01:44:23,760 --> 01:44:38,130
just say just and what we want to do

2259
01:44:36,238 --> 01:44:42,238
here is take the destination normal and

2260
01:44:38,130 --> 01:44:44,550
offset it by a certain amount those

2261
01:44:42,238 --> 01:44:50,789
amounts want to probably be in the plane

2262
01:44:44,550 --> 01:44:52,260
of V they want to be sort of distributed

2263
01:44:50,789 --> 01:44:54,988
in that Hemisphere relatively well

2264
01:44:52,260 --> 01:44:58,710
that's a actually surprisingly hard

2265
01:44:54,988 --> 01:45:00,689
thing to do there's actually quite a few

2266
01:44:58,710 --> 01:45:06,180
people who have written things about how

2267
01:45:00,689 --> 01:45:09,649
do I quickly generate you know given a

2268
01:45:06,180 --> 01:45:12,869
normal how do I quickly generate good

2269
01:45:09,649 --> 01:45:14,339
directions to search along and we should

2270
01:45:12,869 --> 01:45:16,880
probably take a look at some of those I

2271
01:45:14,340 --> 01:45:20,819
don't recall all of them at the moment

2272
01:45:16,880 --> 01:45:22,650
but basically what we want to do is

2273
01:45:20,819 --> 01:45:29,309
something cure that would

2274
01:45:22,649 --> 01:45:30,989
give us the ability to to base our

2275
01:45:29,310 --> 01:45:36,180
search directions off of the normal

2276
01:45:30,989 --> 01:45:39,260
right and probably here I guess this is

2277
01:45:36,180 --> 01:45:39,260
probably sufficient

2278
01:45:54,449 --> 01:45:59,760
it's still not great it's not it's not

2279
01:45:56,760 --> 01:46:04,699
good let alone great but it might be

2280
01:45:59,760 --> 01:46:04,699
good enough for us to test here

2281
01:46:20,760 --> 01:46:24,750
so here's one that has a more reasonable

2282
01:46:23,099 --> 01:46:28,500
search direction it looks like the speed

2283
01:46:24,750 --> 01:46:30,029
of this is pretty bad in terms of I

2284
01:46:28,500 --> 01:46:31,770
don't know if it's because of the number

2285
01:46:30,029 --> 01:46:34,889
that there are I will say that this

2286
01:46:31,770 --> 01:46:37,230
check can go away because we're now

2287
01:46:34,889 --> 01:46:40,130
pretty much exclusively producing ones

2288
01:46:37,229 --> 01:46:40,129
that are going to go in that direction

2289
01:46:41,658 --> 01:46:46,908
we could also only do this check if the

2290
01:46:44,340 --> 01:46:49,170
resulting light was actually going to be

2291
01:46:46,908 --> 01:46:51,598
seen as well because right now we're not

2292
01:46:49,170 --> 01:46:56,118
doing that either but yeah that's a

2293
01:46:51,599 --> 01:46:56,119
separate issue so let's try that again

2294
01:47:07,529 --> 01:47:12,828
and one thing you can kind of see here

2295
01:47:09,899 --> 01:47:14,908
although it's still not really very good

2296
01:47:12,828 --> 01:47:16,738
solution yet

2297
01:47:14,908 --> 01:47:21,478
one thing you can kind of see though is

2298
01:47:16,738 --> 01:47:24,388
we are getting a real solution now like

2299
01:47:21,479 --> 01:47:27,929
you can see that as I move around the

2300
01:47:24,389 --> 01:47:29,699
wall I'm lighting up what's behind the

2301
01:47:27,929 --> 01:47:34,288
wall only when the light forth is

2302
01:47:29,698 --> 01:47:36,899
actually propagating and so that's kind

2303
01:47:34,288 --> 01:47:44,238
of nice right that's a lot more usable

2304
01:47:36,899 --> 01:47:44,238
of a solution if we take a look here

2305
01:47:50,029 --> 01:47:52,090
you

2306
01:47:52,979 --> 01:48:00,149
we really need to stop having the head

2307
01:47:55,319 --> 01:48:02,698
be on an unstable spring to say that to

2308
01:48:00,149 --> 01:48:04,019
say the least but you can kind of see

2309
01:48:02,698 --> 01:48:08,039
like this is starting to be a more

2310
01:48:04,020 --> 01:48:17,810
usable basic lighting solution as we go

2311
01:48:08,039 --> 01:48:20,399
right like that's actually pretty good

2312
01:48:17,810 --> 01:48:23,219
it's a little bit buggy because again

2313
01:48:20,399 --> 01:48:25,319
these reflectors are not I like how much

2314
01:48:23,219 --> 01:48:27,060
the spring is wigging out that's a very

2315
01:48:25,319 --> 01:48:34,618
satisfying we should we should just fix

2316
01:48:27,060 --> 01:48:37,099
that in brain there's all this crappy

2317
01:48:34,618 --> 01:48:37,098
head code

2318
01:48:47,670 --> 01:48:51,329
so this stuff here you know we can

2319
01:48:49,500 --> 01:48:54,600
choose this out pretty easily by just

2320
01:48:51,329 --> 01:49:00,050
saying like okay you know the the head

2321
01:48:54,600 --> 01:49:00,050
GDP equals GDP this code right here I

2322
01:49:02,119 --> 01:49:05,849
believe is really all the entirety of

2323
01:49:04,920 --> 01:49:08,220
our problem

2324
01:49:05,850 --> 01:49:11,820
what I'm assuming is that if we were

2325
01:49:08,220 --> 01:49:23,490
just to clamp this we would be okay

2326
01:49:11,819 --> 01:49:29,699
so if we did something like if the

2327
01:49:23,489 --> 01:49:33,960
length of this particular vector is you

2328
01:49:29,699 --> 01:49:39,420
know greater than you know some some max

2329
01:49:33,960 --> 01:49:44,819
cap value we'll just say that we're

2330
01:49:39,420 --> 01:49:50,190
going to multiply it by the inverse of

2331
01:49:44,819 --> 01:49:55,559
that value so effectively just saying

2332
01:49:50,189 --> 01:50:01,019
that if this this length is greater than

2333
01:49:55,560 --> 01:50:08,130
if it's greater than 0.1 then let's just

2334
01:50:01,020 --> 01:50:13,050
you know make it equal to 0.1 I think

2335
01:50:08,130 --> 01:50:15,270
that would do it looks like 0.1 is not

2336
01:50:13,050 --> 01:50:17,600
quite large enough give it a little more

2337
01:50:15,270 --> 01:50:17,600
than that

2338
01:50:49,340 --> 01:50:54,539
and so there you can see like I just

2339
01:50:51,868 --> 01:50:57,210
basically clamped that spring down so

2340
01:50:54,539 --> 01:51:01,920
that even though it's still a really ill

2341
01:50:57,210 --> 01:51:04,139
behaved system it doesn't cause any

2342
01:51:01,920 --> 01:51:09,149
problems now because it can't get

2343
01:51:04,139 --> 01:51:14,190
unstable enough to lose to lose control

2344
01:51:09,149 --> 01:51:17,848
right so again yeah just looking at the

2345
01:51:14,189 --> 01:51:30,210
lighting solution now you know not good

2346
01:51:17,849 --> 01:51:32,279
yet but getting better you know as we

2347
01:51:30,210 --> 01:51:37,670
move the light around you can start to

2348
01:51:32,279 --> 01:51:37,670
see that it's you know pretty reasonable

2349
01:51:49,609 --> 01:51:55,319
so I guess I know the thing I would be

2350
01:51:51,539 --> 01:51:57,658
interested in checking it I guess we are

2351
01:51:55,319 --> 01:51:58,349
we my mind the Q&amp;A now I don't even know

2352
01:51:57,658 --> 01:52:04,829
where I'm at

2353
01:51:58,350 --> 01:52:08,420
let's see if we're time nine minutes

2354
01:52:04,829 --> 01:52:08,420
into the Q&amp;A okay

2355
01:52:09,300 --> 01:52:15,000
so if I take a look here and say all

2356
01:52:11,279 --> 01:52:18,448
right the DDPs clamps so we're happier

2357
01:52:15,000 --> 01:52:23,850
now if I go into world mode and I wanted

2358
01:52:18,448 --> 01:52:25,888
to create sort of another give myself a

2359
01:52:23,850 --> 01:52:30,929
little bit more to play with here in

2360
01:52:25,889 --> 01:52:35,340
terms of of of occluders when I do add

2361
01:52:30,929 --> 01:52:37,408
standard room if I want sort of you know

2362
01:52:35,340 --> 01:52:39,270
in here play around with with what's

2363
01:52:37,408 --> 01:52:49,229
going to happen what I could do is say

2364
01:52:39,270 --> 01:52:53,070
you know if offset y equals two or off

2365
01:52:49,229 --> 01:53:02,869
at y equals you know negative two or

2366
01:52:53,069 --> 01:53:02,869
something like this and in that scenario

2367
01:53:04,698 --> 01:53:10,408
now when I've got sort of these light

2368
01:53:08,579 --> 01:53:12,899
lighting quarters on both sides

2369
01:53:10,408 --> 01:53:21,210
basically let me just go ahead and and

2370
01:53:12,899 --> 01:53:23,609
turn off the reflector view so now if we

2371
01:53:21,210 --> 01:53:26,179
take a look at what happens when I'm

2372
01:53:23,609 --> 01:53:26,179
moving around

2373
01:53:30,550 --> 01:53:35,529
you can really see the shadowing start

2374
01:53:32,979 --> 01:53:38,709
to be you know somewhat reasonable right

2375
01:53:35,529 --> 01:53:41,859
again not not great but it's getting

2376
01:53:38,710 --> 01:53:45,340
better and so you can kind of see that

2377
01:53:41,859 --> 01:53:48,429
we're we've got the surfaces behaving a

2378
01:53:45,340 --> 01:53:50,319
lot more sanely where you know if you

2379
01:53:48,429 --> 01:53:53,590
take a bird's-eye view of this and

2380
01:53:50,319 --> 01:53:56,380
imagine we smooth it out and stuff when

2381
01:53:53,590 --> 01:53:58,300
it's on the GPU you can start to see how

2382
01:53:56,380 --> 01:54:01,569
this would be a plausible

2383
01:53:58,300 --> 01:54:03,309
you know lighting solution right let's

2384
01:54:01,569 --> 01:54:05,558
take a quick look at what happens if we

2385
01:54:03,309 --> 01:54:08,139
change the number of iterations on this

2386
01:54:05,559 --> 01:54:11,909
I so if I come through here and I change

2387
01:54:08,139 --> 01:54:13,059
the lighting iteration count down to one

2388
01:54:11,908 --> 01:54:21,219
oops

2389
01:54:13,059 --> 01:54:23,619
and so here is just one pass on the

2390
01:54:21,219 --> 01:54:28,750
lighting in terms of light distribution

2391
01:54:23,618 --> 01:54:31,920
let's crank it up to three here's three

2392
01:54:28,750 --> 01:54:31,920
iterations of the lighting

2393
01:54:40,340 --> 01:54:47,630
so another thing I should in seeing also

2394
01:54:42,350 --> 01:54:50,329
is what the emission amount does two and

2395
01:54:47,630 --> 01:54:52,550
three don't seem to do very much I don't

2396
01:54:50,329 --> 01:54:59,019
know why that may be just a balance

2397
01:54:52,550 --> 01:55:04,970
issue like to look into that but the

2398
01:54:59,020 --> 01:55:12,680
because yeah the difference between two

2399
01:55:04,970 --> 01:55:15,470
and one is pretty noticeable I'm

2400
01:55:12,680 --> 01:55:22,579
wondering if am i doing something wrong

2401
01:55:15,470 --> 01:55:27,310
there like a fool baby I wonder if I'm

2402
01:55:22,579 --> 01:55:27,309
doing something wrong there it might be

2403
01:55:58,979 --> 01:56:05,819
so I still think there's some bugs in

2404
01:56:03,279 --> 01:56:09,369
there that doesn't feel right to me

2405
01:56:05,819 --> 01:56:12,250
so we're yeah we're we're still a little

2406
01:56:09,369 --> 01:56:14,109
bit of ways a way I think from actually

2407
01:56:12,250 --> 01:56:15,880
having a bug free version of even the

2408
01:56:14,109 --> 01:56:18,489
basic thing that we've sort of

2409
01:56:15,880 --> 01:56:21,060
constructed so far what I do want to do

2410
01:56:18,489 --> 01:56:25,630
to here is I'm going to do a quick

2411
01:56:21,060 --> 01:56:27,070
change here of making two different

2412
01:56:25,630 --> 01:56:31,710
colored walls as well so we can play

2413
01:56:27,069 --> 01:56:35,699
with that next weekend - let me just

2414
01:56:31,710 --> 01:56:35,699
actually I'll make that wall blue

2415
01:56:46,769 --> 01:56:52,929
so here you can kind of see two

2416
01:56:51,248 --> 01:57:05,918
different wall colors now solid blue

2417
01:56:52,929 --> 01:57:07,449
ball and a and the red one and you know

2418
01:57:05,918 --> 01:57:11,378
what I'd like to see eventually what I'm

2419
01:57:07,448 --> 01:57:14,798
not seeing yet right is I'd like to see

2420
01:57:11,378 --> 01:57:16,328
as we do more I'd like to see more

2421
01:57:14,798 --> 01:57:19,389
bounce lighting happening I feel like

2422
01:57:16,328 --> 01:57:22,148
right now it's really not you know I

2423
01:57:19,389 --> 01:57:23,588
feel like this wall should be spreading

2424
01:57:22,149 --> 01:57:26,649
out some more light there maybe these

2425
01:57:23,588 --> 01:57:29,769
there should be some mutual amount there

2426
01:57:26,649 --> 01:57:33,010
I'm understanding in increasing the

2427
01:57:29,769 --> 01:57:36,548
emission amount to I want to take a look

2428
01:57:33,010 --> 01:57:38,469
at that real quick but I think we just

2429
01:57:36,548 --> 01:57:43,149
have a some debugging to do next weekend

2430
01:57:38,469 --> 01:57:46,078
to really take a look more carefully at

2431
01:57:43,149 --> 01:57:49,029
how that's working so here's the the

2432
01:57:46,078 --> 01:57:50,558
emission values what I want to do is if

2433
01:57:49,029 --> 01:57:52,269
we assume that one is the highest

2434
01:57:50,559 --> 01:57:54,159
emission value and zero is the lowest

2435
01:57:52,269 --> 01:57:57,548
emission value what I'd like to do is

2436
01:57:54,158 --> 01:57:59,618
like max emission I'd like to introduce

2437
01:57:57,548 --> 01:58:07,118
the notion that there's some like there

2438
01:57:59,618 --> 01:58:09,998
so there's a maximum value and the

2439
01:58:07,118 --> 01:58:12,398
maximum value is you know 10 or

2440
01:58:09,998 --> 01:58:15,639
something so a light of 1 is actually

2441
01:58:12,399 --> 01:58:19,689
that way we can still transmit them more

2442
01:58:15,639 --> 01:58:21,819
directly so if you look at how much

2443
01:58:19,689 --> 01:58:25,689
lighting is coming in now right it's a

2444
01:58:21,819 --> 01:58:28,619
lot brighter the light source is and

2445
01:58:25,689 --> 01:58:31,659
like that blue light is like that blue

2446
01:58:28,618 --> 01:58:37,719
surface there is really bright and I

2447
01:58:31,658 --> 01:58:40,958
would expect to see potentially some

2448
01:58:37,719 --> 01:58:44,668
blue light kick out onto like these

2449
01:58:40,958 --> 01:58:48,010
surfaces and I am seeing a little bit

2450
01:58:44,668 --> 01:58:50,139
but but only a little bit there and so

2451
01:58:48,010 --> 01:58:51,900
I'm interested to know why I see so

2452
01:58:50,139 --> 01:58:55,619
little in

2453
01:58:51,899 --> 01:58:58,589
terms of that right and ni and I'm not

2454
01:58:55,619 --> 01:59:00,390
sure so I do wonder like okay so if it

2455
01:58:58,590 --> 01:59:03,270
could say if we increase the lighting

2456
01:59:00,390 --> 01:59:06,030
bounce right I would expect to see that

2457
01:59:03,270 --> 01:59:09,260
smooth out and it doesn't really so I do

2458
01:59:06,029 --> 01:59:13,019
I do think that we're not really

2459
01:59:09,260 --> 01:59:17,159
sampling very well you know we're still

2460
01:59:13,020 --> 01:59:22,080
kind of just kind of crappy in terms of

2461
01:59:17,158 --> 01:59:23,729
what we're doing here and the reason I

2462
01:59:22,079 --> 01:59:28,198
say that like I said is just because the

2463
01:59:23,729 --> 01:59:30,809
difference between our first bounce and

2464
01:59:28,198 --> 01:59:37,379
our second bounce is is like nothing

2465
01:59:30,810 --> 01:59:40,980
right so you know looking at this here

2466
01:59:37,380 --> 01:59:46,469
this is with no bounces it's just direct

2467
01:59:40,979 --> 01:59:50,299
lighting and when I go up to one bounce

2468
01:59:46,469 --> 01:59:53,340
of lighting I do get you know a

2469
01:59:50,300 --> 01:59:56,520
noticeable difference when I go to two

2470
01:59:53,340 --> 01:59:58,949
bounces of indirect lighting I see

2471
01:59:56,520 --> 02:00:01,469
almost nothing different about them

2472
01:59:58,948 --> 02:00:03,419
right there's like no increase like so I

2473
02:00:01,469 --> 02:00:04,920
do think that there's a little bit like

2474
02:00:03,420 --> 02:00:07,260
we need to start thinking about our

2475
02:00:04,920 --> 02:00:14,179
sampling and probably tighten that down

2476
02:00:07,260 --> 02:00:14,179
more before we go any further forwards

2477
02:01:07,380 --> 02:01:12,900
could do or their engine features or

2478
02:01:10,590 --> 02:01:15,420
ideas that emerge during the handmade

2479
02:01:12,899 --> 02:01:23,759
hero streams and that you since back

2480
02:01:15,420 --> 02:01:33,090
corded to the 1935 engine not that not

2481
02:01:23,760 --> 02:01:35,340
in terms of actual features but I but

2482
02:01:33,090 --> 02:01:36,779
there is one thing that happened on the

2483
02:01:35,340 --> 02:01:40,560
animator gyro stream that I had not

2484
02:01:36,779 --> 02:01:44,279
thought about before that I do use it's

2485
02:01:40,560 --> 02:01:46,260
the counter trick so if you look back at

2486
02:01:44,279 --> 02:01:47,849
handmade hero there was a thing on

2487
02:01:46,260 --> 02:01:50,190
stream that I realized where I was like

2488
02:01:47,850 --> 02:01:52,320
oh wait if you are only using one

2489
02:01:50,189 --> 02:01:55,469
compilation unit then underscore

2490
02:01:52,319 --> 02:01:59,609
underscore counter the preprocessor

2491
02:01:55,470 --> 02:02:02,369
macro is unique for all the lines in the

2492
02:01:59,609 --> 02:02:05,579
entire program normally it's not because

2493
02:02:02,369 --> 02:02:06,930
normally it's only unique per file but

2494
02:02:05,579 --> 02:02:09,479
in this case it's actually unique

2495
02:02:06,930 --> 02:02:11,400
through the project which means that you

2496
02:02:09,479 --> 02:02:13,769
can actually just know that every

2497
02:02:11,399 --> 02:02:16,739
location where you use counter has a

2498
02:02:13,770 --> 02:02:20,670
unique index into a table and I do use

2499
02:02:16,739 --> 02:02:22,380
that in the 1935 code base and I'd never

2500
02:02:20,670 --> 02:02:23,579
thought of that until handmade hero it

2501
02:02:22,380 --> 02:02:24,960
just happened on screen one time I've

2502
02:02:23,579 --> 02:02:26,369
never seen anyone even think about that

2503
02:02:24,960 --> 02:02:27,960
I've never seen anyone mention it I've

2504
02:02:26,369 --> 02:02:29,220
never seen it even discussed is the

2505
02:02:27,960 --> 02:02:32,010
first time to my knowledge that it's

2506
02:02:29,220 --> 02:02:34,170
ever had been done was on the stream not

2507
02:02:32,010 --> 02:02:39,560
maybe someone had done it before but I'd

2508
02:02:34,170 --> 02:02:39,560
never heard of it and I use that now

2509
02:02:45,079 --> 02:02:48,988
midlow for the random series you picked

2510
02:02:47,340 --> 02:02:51,360
at random munted before could it have

2511
02:02:48,988 --> 02:02:53,369
been could it have made any sense to

2512
02:02:51,359 --> 02:02:54,659
pick three sixty four three two sixty

2513
02:02:53,369 --> 02:03:03,119
degrees or would absolutely any number

2514
02:02:54,659 --> 02:03:09,899
do oh wait is there a problem with the

2515
02:03:03,119 --> 02:03:12,000
stream no dropped frames here I think

2516
02:03:09,899 --> 02:03:14,519
maybe someone else maybe

2517
02:03:12,000 --> 02:03:18,390
unfortunately the stream got got toasted

2518
02:03:14,520 --> 02:03:19,679
someone else's maybe Internet had a

2519
02:03:18,390 --> 02:03:25,020
problem or maybe twitch other problem I

2520
02:03:19,679 --> 02:03:27,359
don't know but anyway the what's

2521
02:03:25,020 --> 02:03:29,760
happening there remember is that's the

2522
02:03:27,359 --> 02:03:31,170
secede value so in the random series we

2523
02:03:29,760 --> 02:03:32,460
haven't really done any random number

2524
02:03:31,170 --> 02:03:33,899
generation so right now we just have a

2525
02:03:32,460 --> 02:03:35,369
random number table and eventually we'll

2526
02:03:33,899 --> 02:03:36,689
just produce will replace this with an

2527
02:03:35,369 --> 02:03:40,170
equation that generates pseudo-random

2528
02:03:36,689 --> 02:03:42,329
numbers right so all that that was it's

2529
02:03:40,170 --> 02:03:44,880
the seed value so remember we have an

2530
02:03:42,329 --> 02:03:47,399
index into the table we just are seeding

2531
02:03:44,880 --> 02:03:49,020
into the table at that location you

2532
02:03:47,399 --> 02:03:51,000
could just as easily a big zero or

2533
02:03:49,020 --> 02:03:54,270
something right any number will do it's

2534
02:03:51,000 --> 02:03:56,189
just where you start in the table and so

2535
02:03:54,270 --> 02:03:58,260
because I didn't care what the new

2536
02:03:56,189 --> 02:04:00,629
random series was I that's why I picked

2537
02:03:58,260 --> 02:04:03,320
a one two three four right but you could

2538
02:04:00,630 --> 02:04:03,319
have picked anything

2539
02:04:34,229 --> 02:04:39,089
I wonder what happened did twitch go

2540
02:04:36,930 --> 02:04:41,010
down or something because my internet

2541
02:04:39,090 --> 02:04:45,090
connection does not seem to have dropped

2542
02:04:41,010 --> 02:04:47,640
anything like there were no there was no

2543
02:04:45,090 --> 02:04:50,270
loss to no BS at all so it doesn't think

2544
02:04:47,640 --> 02:04:50,270
it missed anything

2545
02:05:38,880 --> 02:05:43,748
yeah I'm guessing that it was just like

2546
02:05:40,958 --> 02:05:49,630
trich and just got toasted or something

2547
02:05:43,748 --> 02:05:50,769
on the route got toasted I don't it well

2548
02:05:49,630 --> 02:05:53,979
but then I should have seen dropped

2549
02:05:50,769 --> 02:05:56,199
frames so right because it doesn't

2550
02:05:53,979 --> 02:05:59,469
doesn't OBS report drop frames if the

2551
02:05:56,198 --> 02:06:03,578
inject server knowingly rejects them or

2552
02:05:59,469 --> 02:06:05,859
it gets you know it doesn't get act so

2553
02:06:03,578 --> 02:06:07,958
so so something happened in between

2554
02:06:05,859 --> 02:06:11,799
twitch receiving it and it going out I

2555
02:06:07,958 --> 02:06:14,618
guess is what I think I think of because

2556
02:06:11,800 --> 02:06:17,079
it couldn't actually be a route being

2557
02:06:14,618 --> 02:06:21,248
down because I would have seen the drop

2558
02:06:17,078 --> 02:06:24,719
frames from that I think right I don't

2559
02:06:21,248 --> 02:06:24,719
really know but that's my function

2560
02:07:11,750 --> 02:07:15,569
and yes I did see the tip on visuals

2561
02:07:14,100 --> 02:07:18,150
video that that wasn't exactly I was

2562
02:07:15,569 --> 02:07:21,449
talking about I know you can do that

2563
02:07:18,149 --> 02:07:23,879
but that's a thing that just saves one

2564
02:07:21,449 --> 02:07:25,889
window I thought there was a way to make

2565
02:07:23,880 --> 02:07:28,710
it so that in general it just kept all

2566
02:07:25,890 --> 02:07:31,650
the windows that you had open but it

2567
02:07:28,710 --> 02:07:37,050
doesn't seem to be the case and I don't

2568
02:07:31,649 --> 02:07:39,589
know why it's probably something in here

2569
02:07:37,050 --> 02:07:39,590
I guess

2570
02:08:11,628 --> 02:08:17,469
yeah I don't know where it went to

2571
02:08:48,010 --> 02:08:55,400
yeah I don't I don't know how you make

2572
02:08:50,868 --> 02:08:58,908
it do that but like at least on the one

2573
02:08:55,399 --> 02:09:01,309
at work it's in a state where it just

2574
02:08:58,908 --> 02:09:03,079
keeps all the windows open which is what

2575
02:09:01,310 --> 02:09:05,250
I want whereas this one is now in a

2576
02:09:03,079 --> 02:09:08,359
state where it automatically closes them

2577
02:09:05,250 --> 02:09:08,359
[Music]

2578
02:09:13,359 --> 02:09:18,848
and I do not know how to make it stop

2579
02:09:16,340 --> 02:09:18,849
doing that

2580
02:09:48,659 --> 02:09:59,079
so tools options environments tabs and

2581
02:09:52,149 --> 02:10:02,379
windows tools options vironment tabs and

2582
02:09:59,079 --> 02:10:04,059
windows a lot of folks are ok so this

2583
02:10:02,380 --> 02:10:13,720
preview tab thing that's what we don't

2584
02:10:04,060 --> 02:10:15,760
want let's see how that goes there we go

2585
02:10:13,720 --> 02:10:17,050
perfect yeah because that was what was

2586
02:10:15,760 --> 02:10:19,619
happening was coming up in that weird

2587
02:10:17,050 --> 02:10:24,400
preview tab thing and I don't want that

2588
02:10:19,619 --> 02:10:27,899
thank you very much thank you big fella

2589
02:10:24,399 --> 02:10:27,899
ho that is exactly what I wanted

2590
02:10:35,479 --> 02:10:39,509
so I'm not related to lighting but I've

2591
02:10:38,069 --> 02:10:41,519
been catching up with the multi-threaded

2592
02:10:39,510 --> 02:10:44,610
sim region's tonight and notice that we

2593
02:10:41,520 --> 02:10:47,429
never unset the entity active flag if an

2594
02:10:44,609 --> 02:10:58,500
entity is not contained in the updatable

2595
02:10:47,429 --> 02:11:00,989
bounds so I don't know what the status

2596
02:10:58,500 --> 02:11:08,429
of that code really is at this point

2597
02:11:00,988 --> 02:11:10,589
because it's a little bit Murphy we

2598
02:11:08,429 --> 02:11:14,760
never really quite figured out a way to

2599
02:11:10,590 --> 02:11:16,139
keep those regions working when they get

2600
02:11:14,760 --> 02:11:19,619
close to each other so that was a little

2601
02:11:16,139 --> 02:11:28,940
bit of a bummer but so I assume you're

2602
02:11:19,618 --> 02:11:28,939
talking about do we still have that

2603
02:11:42,149 --> 02:11:47,009
I so it looks like

2604
02:11:57,500 --> 02:12:01,729
if it looks like this should probably be

2605
02:12:00,050 --> 02:12:03,529
from what you're saying I think you're

2606
02:12:01,729 --> 02:12:17,449
right it should probably be flipped

2607
02:12:03,529 --> 02:12:20,719
right it should be probably be something

2608
02:12:17,449 --> 02:12:27,739
like this yeah where we say clear the

2609
02:12:20,720 --> 02:12:33,140
active flag if it's you know if it

2610
02:12:27,739 --> 02:12:37,880
doesn't overlap I guess the question I

2611
02:12:33,140 --> 02:12:47,270
would have is when does this part happen

2612
02:12:37,880 --> 02:12:48,920
where mark brain actives so that happens

2613
02:12:47,270 --> 02:12:50,390
after it's unpacked so yeah so that

2614
02:12:48,920 --> 02:12:53,260
should still work if we just clear it

2615
02:12:50,390 --> 02:12:53,260
out that way I think

2616
02:13:01,100 --> 02:13:05,789
we do have one problem here which is we

2617
02:13:03,600 --> 02:13:31,650
have nobody who's really active at this

2618
02:13:05,789 --> 02:13:33,779
point so let's see here I think our

2619
02:13:31,649 --> 02:13:35,849
world is too small for these things now

2620
02:13:33,779 --> 02:13:37,889
though so many problems they won't fit

2621
02:13:35,850 --> 02:13:39,180
they'll be they'll be crashing because

2622
02:13:37,890 --> 02:13:43,700
they'll just be in the middle of

2623
02:13:39,180 --> 02:13:43,700
geometry or something right I think

2624
02:13:58,289 --> 02:14:06,319
so what we can probably do we probably

2625
02:14:01,050 --> 02:14:06,320
can get the snake in there so let's see

2626
02:14:07,729 --> 02:14:23,059
so if I said if I said something like

2627
02:14:15,689 --> 02:14:23,059
this that'd do it

2628
02:14:28,289 --> 02:14:31,130
there is a snake

2629
02:14:39,590 --> 02:14:42,819
hello mr. snake

2630
02:14:55,930 --> 02:14:59,850
don't know why snake has stopped oh

2631
02:15:00,239 --> 02:15:15,969
because it got locked up with its own

2632
02:15:02,500 --> 02:15:18,960
tail as as is the snakes way let's make

2633
02:15:15,970 --> 02:15:18,960
the snake a little smaller

2634
02:15:25,390 --> 02:15:29,369
there's many copying around

2635
02:15:34,689 --> 02:15:37,960
and I guess the other thing we should

2636
02:15:35,979 --> 02:15:40,269
probably do because if we're going to

2637
02:15:37,960 --> 02:15:42,279
put the snake in there sometimes we

2638
02:15:40,270 --> 02:15:51,460
should probably have a way for the light

2639
02:15:42,279 --> 02:15:53,409
to be for there to be light in there I'm

2640
02:15:51,460 --> 02:15:57,359
just thinking out loud here so you know

2641
02:15:53,409 --> 02:15:57,359
if you imagine that you want to have

2642
02:16:01,170 --> 02:16:07,720
these things have some sort of a

2643
02:16:04,590 --> 02:16:16,119
emission possibility here so I guess

2644
02:16:07,720 --> 02:16:20,640
we've got I'm not sure how is that they

2645
02:16:16,119 --> 02:16:22,930
were doing an asset hi

2646
02:16:20,640 --> 02:16:32,979
let's take a look at entity visible

2647
02:16:22,930 --> 02:16:37,409
piece so if see visible key I has one of

2648
02:16:32,979 --> 02:16:46,420
these things here we could do like that

2649
02:16:37,409 --> 02:16:53,969
right and we could say in here is that

2650
02:16:46,420 --> 02:16:53,969
whatever the test is for these we could

2651
02:16:55,110 --> 02:17:02,700
do that as well so I could say like all

2652
02:16:57,760 --> 02:17:02,700
right put the light on there

2653
02:17:09,718 --> 02:17:17,998
and I don't really remember what the

2654
02:17:14,029 --> 02:17:20,880
values are for this but let's take a

2655
02:17:17,998 --> 02:17:27,498
look so if I look it to the render group

2656
02:17:20,879 --> 02:17:32,148
under push light you can see we've got

2657
02:17:27,498 --> 02:17:37,879
the render grouped the P plus the offset

2658
02:17:32,148 --> 02:17:44,398
got the radius so we'll just use that

2659
02:17:37,879 --> 02:17:49,288
the color and the emission which I guess

2660
02:17:44,398 --> 02:17:51,958
here we could sort of do though we

2661
02:17:49,289 --> 02:17:56,279
haven't really talked much about how we

2662
02:17:51,959 --> 02:17:58,380
want to do these pieces here so you know

2663
02:17:56,279 --> 02:18:00,539
the emission can just be begin why I

2664
02:17:58,379 --> 02:18:03,179
guess in this case because the dim line

2665
02:18:00,539 --> 02:18:04,859
is not used for anything else so we'll

2666
02:18:03,179 --> 02:18:07,590
just sort of cheese bad at the moment

2667
02:18:04,859 --> 02:18:11,010
and and do it that way so if we want to

2668
02:18:07,590 --> 02:18:17,179
we can now have lights on our enemies I

2669
02:18:11,010 --> 02:18:17,179
guess so if we make that happen

2670
02:18:20,429 --> 02:18:24,328
what we should be able to do then is

2671
02:18:22,289 --> 02:18:33,029
when we create construct these entities

2672
02:18:24,328 --> 02:18:34,679
to add a snake segment I what we should

2673
02:18:33,029 --> 02:18:38,578
be able to do here it's we want to have

2674
02:18:34,679 --> 02:18:46,459
them light up we can for example I could

2675
02:18:38,578 --> 02:18:54,718
just say that there's going to be a side

2676
02:18:46,459 --> 02:18:58,429
and add piece call for adding a light so

2677
02:18:54,718 --> 02:18:58,428
[Music]

2678
02:18:59,239 --> 02:19:06,520
I could just do it this way say it's add

2679
02:19:03,799 --> 02:19:06,519
piece light

2680
02:19:14,269 --> 02:19:17,750
the asset type idea at that point is

2681
02:19:16,340 --> 02:19:21,500
irrelevant

2682
02:19:17,750 --> 02:19:30,170
and we just end up with the radius the

2683
02:19:21,500 --> 02:19:32,030
offset B emission the color right and so

2684
02:19:30,170 --> 02:19:34,429
I think what we would get there is we

2685
02:19:32,030 --> 02:19:39,200
end up with for the pieces we've got a

2686
02:19:34,429 --> 02:19:48,770
piece of pipe light we've got the color

2687
02:19:39,200 --> 02:19:53,990
value just ends up being the v4 of color

2688
02:19:48,770 --> 02:19:55,970
in 1.0 the offset is the offset the v2

2689
02:19:53,989 --> 02:19:58,789
for the dimension is the radius in the

2690
02:19:55,969 --> 02:20:08,510
emission and the asset type is probably

2691
02:19:58,790 --> 02:20:17,330
zero honestly I think that's mostly what

2692
02:20:08,510 --> 02:20:20,389
we would need subside Jim offset color

2693
02:20:17,329 --> 02:20:22,510
and flags that should be everything

2694
02:20:20,389 --> 02:20:26,649
there what is the problem

2695
02:20:22,510 --> 02:20:31,520
trying to match argument list of entity

2696
02:20:26,649 --> 02:20:36,369
asset type oh that's an asset header

2697
02:20:31,520 --> 02:20:36,370
type sorry asset type ID

2698
02:20:38,829 --> 02:20:42,020
[Applause]

2699
02:20:47,689 --> 02:20:54,200
so in theory I think that would work

2700
02:20:49,670 --> 02:20:59,930
I don't actually know but you can try it

2701
02:20:54,200 --> 02:21:02,120
so let's suppose that I just for sake of

2702
02:20:59,930 --> 02:21:07,989
an argument could add to flight here and

2703
02:21:02,120 --> 02:21:13,189
did an empty and I said that it was that

2704
02:21:07,989 --> 02:21:15,639
you know zero zero zero I guess or maybe

2705
02:21:13,189 --> 02:21:21,159
it's slightly up from wherever the

2706
02:21:15,639 --> 02:21:26,568
actual bitmap is and then yeah I've got

2707
02:21:21,159 --> 02:21:30,648
the color let's say if the yellow light

2708
02:21:26,568 --> 02:21:35,539
is why not I and we got the emission

2709
02:21:30,648 --> 02:21:38,869
value well you know what else I need to

2710
02:21:35,540 --> 02:21:42,040
I need the radius so and then we have

2711
02:21:38,870 --> 02:21:50,439
the emission value mission values can be

2712
02:21:42,040 --> 02:21:50,439
work fairly weak light maybe yeah

2713
02:21:57,959 --> 02:22:05,919
all right so we've got radius offset

2714
02:22:01,260 --> 02:22:12,550
emission color so that actually goes

2715
02:22:05,920 --> 02:22:13,930
here and so in theory these snakes would

2716
02:22:12,549 --> 02:22:21,959
have like a little lights attached to

2717
02:22:13,930 --> 02:22:21,960
them now maybe yeah so that's good and

2718
02:22:22,049 --> 02:22:26,920
that light probably wants to be up a

2719
02:22:24,939 --> 02:22:42,720
little bit higher but yeah that's the

2720
02:22:26,920 --> 02:22:42,719
basic idea so we find just take this out

2721
02:22:51,049 --> 02:22:59,389
there you go so now you know if I move

2722
02:22:54,909 --> 02:23:06,049
away and and we're just looking at the

2723
02:22:59,389 --> 02:23:08,719
lighting from the from the snake it's

2724
02:23:06,049 --> 02:23:10,489
kind of life itself up and we get into

2725
02:23:08,719 --> 02:23:11,869
some of the problems that we're going to

2726
02:23:10,489 --> 02:23:14,000
have as well when we look at this

2727
02:23:11,870 --> 02:23:15,890
because you can see what there's some

2728
02:23:14,000 --> 02:23:20,989
bad we're probably going to have to

2729
02:23:15,889 --> 02:23:22,039
treat sprites especially right even in

2730
02:23:20,989 --> 02:23:23,389
the future when they're a little bit

2731
02:23:22,040 --> 02:23:25,550
better but if we take a look at what the

2732
02:23:23,389 --> 02:23:27,019
reflectors look like here

2733
02:23:25,549 --> 02:23:29,539
you can see that it's kind of a problem

2734
02:23:27,020 --> 02:23:31,729
because the sprites themselves little

2735
02:23:29,540 --> 02:23:35,030
snake sprites are these huge reflectors

2736
02:23:31,728 --> 02:23:38,449
that are it will shadow stuff underneath

2737
02:23:35,030 --> 02:23:40,130
them unnecessarily so that's definitely

2738
02:23:38,450 --> 02:23:44,890
going to be a problem that we'll have to

2739
02:23:40,129 --> 02:23:44,889
deal with kind of going forwards anyway

2740
02:23:57,850 --> 02:24:01,020
[Music]

2741
02:24:15,431 --> 02:24:19,880
let's see here so all right so I think

2742
02:24:18,500 --> 02:24:29,091
we're basically done I'm just kind of

2743
02:24:19,879 --> 02:24:31,840
screwing around at this point and see

2744
02:24:29,091 --> 02:24:31,841
here yeah

2745
02:24:32,170 --> 02:24:38,060
and one of the things that I guess is

2746
02:24:35,360 --> 02:24:40,431
pretty nice right and as we kind of go

2747
02:24:38,060 --> 02:24:42,649
forwards this is why I want a solution

2748
02:24:40,431 --> 02:24:44,030
that kind of works like this is you'll

2749
02:24:42,649 --> 02:24:45,319
notice that it doesn't really even

2750
02:24:44,030 --> 02:24:46,670
though our lighting is it's pretty slow

2751
02:24:45,319 --> 02:24:48,319
right now it's happening entirely on the

2752
02:24:46,670 --> 02:24:49,909
CPU which is not you know what's going

2753
02:24:48,319 --> 02:24:54,110
to happen in the future and we're doing

2754
02:24:49,909 --> 02:24:55,970
a bunch of sort of arbitrary stuff if we

2755
02:24:54,110 --> 02:24:58,579
can just spend another weekend or two

2756
02:24:55,970 --> 02:25:02,841
getting the quality up to a good

2757
02:24:58,579 --> 02:25:05,000
reasonable point we're still new scheme

2758
02:25:02,841 --> 02:25:09,170
that doesn't care how many light sources

2759
02:25:05,000 --> 02:25:11,420
there are and I like that aspect of it

2760
02:25:09,170 --> 02:25:13,851
so like adding the snakes light sources

2761
02:25:11,420 --> 02:25:16,101
even though there's three the the number

2762
02:25:13,851 --> 02:25:19,159
of light sources went up it's four times

2763
02:25:16,101 --> 02:25:21,409
what it was before it doesn't cost

2764
02:25:19,159 --> 02:25:23,271
anything more to do because generally

2765
02:25:21,409 --> 02:25:24,591
speaking it's just the cost of the total

2766
02:25:23,271 --> 02:25:27,351
number of things in the scene is the

2767
02:25:24,591 --> 02:25:30,261
cost of the algorithm it doesn't have a

2768
02:25:27,351 --> 02:25:32,540
multiplier per light source and

2769
02:25:30,261 --> 02:25:34,790
basically any global illumination scheme

2770
02:25:32,540 --> 02:25:36,021
is kind of that way because global

2771
02:25:34,790 --> 02:25:37,400
illumination is kind of assuming that

2772
02:25:36,021 --> 02:25:42,261
all of the things in the scene are

2773
02:25:37,399 --> 02:25:46,341
lights in a sense right so that's good

2774
02:25:42,261 --> 02:25:51,681
too so basically yeah like where we're

2775
02:25:46,341 --> 02:25:54,591
at right now is is a you know yeah you

2776
02:25:51,681 --> 02:25:55,909
get the idea I have well we're in the

2777
02:25:54,591 --> 02:25:58,819
hacky but I've decided I'm kind of

2778
02:25:55,909 --> 02:26:00,619
enjoying hacking on this I'm curious to

2779
02:25:58,819 --> 02:26:02,569
to know what happens if we turn off the

2780
02:26:00,620 --> 02:26:04,521
rate of texting on after a certain

2781
02:26:02,569 --> 02:26:07,789
iteration so what would what would

2782
02:26:04,521 --> 02:26:10,280
happen if we said that we allow light

2783
02:26:07,790 --> 02:26:12,380
bouncing with no occlusion after you get

2784
02:26:10,280 --> 02:26:14,420
to a certain point so the first like to

2785
02:26:12,379 --> 02:26:22,850
bouncer so like if the iterations is

2786
02:26:14,420 --> 02:26:24,229
greater then you know the the the first

2787
02:26:22,851 --> 02:26:26,800
erase the second duration happened with

2788
02:26:24,229 --> 02:26:30,459
ray occlusion

2789
02:26:26,799 --> 02:26:33,340
if you get past that you then are into

2790
02:26:30,459 --> 02:26:36,339
just straight accumulation mode at that

2791
02:26:33,340 --> 02:26:39,578
point so you know what does that look

2792
02:26:36,340 --> 02:26:41,949
like so you know here's here's what it

2793
02:26:39,578 --> 02:26:45,728
looks like to just not have any any of

2794
02:26:41,949 --> 02:26:48,069
those happening right the the number of

2795
02:26:45,728 --> 02:26:50,889
bounces right now is stays within there

2796
02:26:48,068 --> 02:26:52,538
you 0 and 1 and then you stop and now

2797
02:26:50,889 --> 02:26:58,180
what happens if we add a diffusion pass

2798
02:26:52,539 --> 02:27:08,500
after that right I'm just curious to

2799
02:26:58,180 --> 02:27:10,869
know what that looks like so it's it's

2800
02:27:08,500 --> 02:27:18,969
interesting it does send a lot of light

2801
02:27:10,869 --> 02:27:21,189
around if you ever have a pass that that

2802
02:27:18,969 --> 02:27:23,019
doesn't do the shadowing I guess because

2803
02:27:21,189 --> 02:27:29,590
at that point it's still able to take

2804
02:27:23,020 --> 02:27:32,189
take light from from the actual light

2805
02:27:29,590 --> 02:27:32,189
sources themselves

2806
02:27:48,681 --> 02:27:55,579
so you definitely you know you

2807
02:27:51,501 --> 02:27:57,880
definitely leaked a lot of light at that

2808
02:27:55,579 --> 02:27:57,880
point

2809
02:28:03,129 --> 02:28:15,219
all right I just want to know for my own

2810
02:28:06,829 --> 02:28:15,219
edification all right

2811
02:28:38,170 --> 02:28:44,569
all right I think I'll end it now let's

2812
02:28:42,950 --> 02:28:46,370
see here

2813
02:28:44,569 --> 02:28:48,289
Brian apps see trade license question

2814
02:28:46,370 --> 02:28:50,690
make it to Utley update my github branch

2815
02:28:48,290 --> 02:28:52,970
of your timer code from handmade hero

2816
02:28:50,690 --> 02:28:54,319
until you say otherwise meaning you're

2817
02:28:52,969 --> 02:28:55,789
apparently giving me unlike the folk

2818
02:28:54,319 --> 02:28:58,250
domain to any further code in that

2819
02:28:55,790 --> 02:29:00,290
folder would you prefer I ask the return

2820
02:28:58,250 --> 02:29:02,719
permission so you don't need to worry no

2821
02:29:00,290 --> 02:29:04,760
yeah you can just I'll let you know if

2822
02:29:02,719 --> 02:29:06,799
for some reason I ever don't want that

2823
02:29:04,760 --> 02:29:11,739
code to be copied out but yes the C tre

2824
02:29:06,799 --> 02:29:11,739
code you can copy out to your github

2825
02:29:12,250 --> 02:29:23,209
branch for sure all right let's close it

2826
02:29:16,040 --> 02:29:24,470
down thank you very much for joining me

2827
02:29:23,209 --> 02:29:25,699
for other sort of handmade here it's

2828
02:29:24,469 --> 02:29:27,619
been a pleasure coding with you as

2829
02:29:25,700 --> 02:29:28,790
always if you would like to following

2830
02:29:27,620 --> 02:29:30,650
through it at home you can always peer

2831
02:29:28,790 --> 02:29:31,970
to the game on handmade hero org it

2832
02:29:30,649 --> 02:29:34,250
comes with a source code so you can play

2833
02:29:31,969 --> 02:29:35,659
around with it maybe you can play around

2834
02:29:34,250 --> 02:29:37,700
the lighting and find some interesting

2835
02:29:35,659 --> 02:29:39,590
ways of solving the problems that we're

2836
02:29:37,700 --> 02:29:40,940
trying to deal with right now we also

2837
02:29:39,590 --> 02:29:42,889
have a forum site you can go to as well

2838
02:29:40,940 --> 02:29:44,989
ask questions the patreon page transport

2839
02:29:42,889 --> 02:29:46,549
the video series the schedule bot if you

2840
02:29:44,989 --> 02:29:49,340
would like to know one we're going to be

2841
02:29:46,549 --> 02:29:52,340
live and an episode guide you can use if

2842
02:29:49,340 --> 02:29:54,020
you want to catch up on old episodes

2843
02:29:52,340 --> 02:29:56,750
that's it for this weekend I will be

2844
02:29:54,020 --> 02:30:00,649
back next weekend I believe I do have a

2845
02:29:56,750 --> 02:30:02,478
move to do that may affect whether or

2846
02:30:00,649 --> 02:30:04,760
not I can stream I'm not sure but

2847
02:30:02,478 --> 02:30:07,069
probably be back next weekend if not the

2848
02:30:04,760 --> 02:30:08,800
weekend after for doing some more

2849
02:30:07,069 --> 02:30:10,909
improvements on the lighting quality

2850
02:30:08,799 --> 02:30:13,340
we're getting there it's starting to

2851
02:30:10,909 --> 02:30:15,139
feel pretty good actually it's just not

2852
02:30:13,340 --> 02:30:17,210
at our good quality level yet but it's

2853
02:30:15,139 --> 02:30:19,340
starting to feel like we you've got

2854
02:30:17,209 --> 02:30:20,419
options and we just need to start

2855
02:30:19,340 --> 02:30:21,649
getting a little bit more serious about

2856
02:30:20,420 --> 02:30:23,120
some of the ways in which we're

2857
02:30:21,649 --> 02:30:25,579
computing the letting transfer and we

2858
02:30:23,120 --> 02:30:28,880
maybe can make this work so that's

2859
02:30:25,579 --> 02:30:32,030
pretty exciting that's about it for

2860
02:30:28,879 --> 02:30:33,199
today so hopes to you all back here for

2861
02:30:32,030 --> 02:30:35,300
an extreme until then have fun

2862
02:30:33,200 --> 02:30:38,290
programming hoop and I'll see everyone

2863
02:30:35,299 --> 02:30:38,289
I'm going to take it easy everybody

