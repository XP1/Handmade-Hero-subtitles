1
00:00:01,839 --> 00:00:05,759
hello everyone

2
00:00:03,198 --> 00:00:06,878
and welcome to handmade hero show recode

3
00:00:05,759 --> 00:00:08,400
a complete game

4
00:00:06,878 --> 00:00:10,399
live on stream before we get started

5
00:00:08,400 --> 00:00:11,839
today i just want to take a minute to

6
00:00:10,400 --> 00:00:14,240
thank our sponsor

7
00:00:11,839 --> 00:00:16,800
uh the rust recovery foundation this is

8
00:00:14,240 --> 00:00:20,480
a great organization

9
00:00:16,800 --> 00:00:21,600
if you haven't heard of it they're a

10
00:00:20,480 --> 00:00:23,600
they're just a collection of really

11
00:00:21,600 --> 00:00:25,760
kind-hearted programmers

12
00:00:23,600 --> 00:00:28,160
who work with with people out there who

13
00:00:25,760 --> 00:00:29,840
are really into rust and have found out

14
00:00:28,160 --> 00:00:31,199
in one way or another that there are

15
00:00:29,839 --> 00:00:33,920
programmers out there in the world

16
00:00:31,199 --> 00:00:35,760
not using rust and that can be really

17
00:00:33,920 --> 00:00:36,960
hard psychologically on people

18
00:00:35,759 --> 00:00:38,558
there are some people who never come

19
00:00:36,960 --> 00:00:39,359
back from it and so this organization is

20
00:00:38,558 --> 00:00:42,959
just a great

21
00:00:39,359 --> 00:00:45,280
um it's just a great way to

22
00:00:42,960 --> 00:00:46,320
help support those programmers and try

23
00:00:45,280 --> 00:00:48,399
to

24
00:00:46,320 --> 00:00:49,439
let them get readjusted and

25
00:00:48,399 --> 00:00:52,160
re-integrated

26
00:00:49,439 --> 00:00:53,039
into programming again after what can be

27
00:00:52,159 --> 00:00:56,799
i mean it can be a

28
00:00:53,039 --> 00:00:58,239
really big uh shock to the system and so

29
00:00:56,799 --> 00:01:00,399
uh yeah check that out if you get a

30
00:00:58,238 --> 00:01:03,919
chance uh the rest recovery foundation

31
00:01:00,399 --> 00:01:06,079
they do great work and um they help

32
00:01:03,920 --> 00:01:07,118
uh literally dozens of rust programmers

33
00:01:06,079 --> 00:01:09,519
every day uh

34
00:01:07,118 --> 00:01:11,040
sort of over overcome that really that

35
00:01:09,519 --> 00:01:13,200
world crushing

36
00:01:11,040 --> 00:01:14,720
realization that not everyone in the

37
00:01:13,200 --> 00:01:17,359
world loves rust

38
00:01:14,719 --> 00:01:18,158
um as much as they do so it can be very

39
00:01:17,359 --> 00:01:20,239
hard and i just

40
00:01:18,159 --> 00:01:21,600
you know if you if you have some empathy

41
00:01:20,239 --> 00:01:23,759
for that kind of position

42
00:01:21,599 --> 00:01:24,959
i highly recommend checking it out do

43
00:01:23,759 --> 00:01:27,759
give generously

44
00:01:24,959 --> 00:01:28,158
let's go ahead and get started today um

45
00:01:27,759 --> 00:01:31,200
we

46
00:01:28,159 --> 00:01:33,118
have i think uh more or less

47
00:01:31,200 --> 00:01:34,799
finished what we wanted to do on the

48
00:01:33,118 --> 00:01:36,719
collision detector

49
00:01:34,799 --> 00:01:39,280
essentially what we wanted here was we

50
00:01:36,719 --> 00:01:42,959
just wanted to to make something

51
00:01:39,280 --> 00:01:44,960
adjust my monitor um that i would have

52
00:01:42,959 --> 00:01:46,879
some some confidence that wouldn't crap

53
00:01:44,959 --> 00:01:49,039
out on us i didn't want like a very

54
00:01:46,879 --> 00:01:50,158
brittle uh collision detector i wanted

55
00:01:49,040 --> 00:01:53,600
something that would be

56
00:01:50,159 --> 00:01:54,560
fairly stable and so what i did is i

57
00:01:53,599 --> 00:01:57,280
made something

58
00:01:54,560 --> 00:01:58,799
that does sort of a voxelized sort of

59
00:01:57,280 --> 00:02:00,560
collision system

60
00:01:58,799 --> 00:02:02,079
uh with some fairly straightforward

61
00:02:00,560 --> 00:02:03,040
rules about how you can move through the

62
00:02:02,078 --> 00:02:05,839
space

63
00:02:03,040 --> 00:02:07,840
and i think it's pretty good you know we

64
00:02:05,840 --> 00:02:08,399
didn't try to do any formal proofs on it

65
00:02:07,840 --> 00:02:10,239
or anything

66
00:02:08,399 --> 00:02:12,239
not that anyone ever does that besides

67
00:02:10,239 --> 00:02:14,159
me for their collision systems but

68
00:02:12,239 --> 00:02:16,480
you know we could go that route if we

69
00:02:14,159 --> 00:02:19,840
wanted to really get into it

70
00:02:16,479 --> 00:02:21,280
but we don't really not for this game

71
00:02:19,840 --> 00:02:23,120
but you know you can see here i've got

72
00:02:21,280 --> 00:02:24,479
the glove on full collision so

73
00:02:23,120 --> 00:02:26,560
we're just checking to see you know it

74
00:02:24,479 --> 00:02:28,719
can't really go through things

75
00:02:26,560 --> 00:02:30,000
if it does get stuck in things uh

76
00:02:28,719 --> 00:02:34,159
because like that where i

77
00:02:30,000 --> 00:02:36,159
push an a object that has to be moved

78
00:02:34,159 --> 00:02:37,840
uh like the gameplay is moving an object

79
00:02:36,159 --> 00:02:38,479
into an object that cannot itself be

80
00:02:37,840 --> 00:02:40,479
moved

81
00:02:38,479 --> 00:02:42,959
uh you can see it generally finds places

82
00:02:40,479 --> 00:02:45,199
to put things if it does embed something

83
00:02:42,959 --> 00:02:47,199
like here where it can't find a place to

84
00:02:45,199 --> 00:02:50,639
put something and it has to embed it

85
00:02:47,199 --> 00:02:52,878
uh like it does there um it is capable

86
00:02:50,639 --> 00:02:54,958
of moving things out of embedding

87
00:02:52,878 --> 00:02:57,199
so i think we're in pretty good shape as

88
00:02:54,959 --> 00:02:58,719
far as collision is concerned

89
00:02:57,199 --> 00:03:00,560
i don't have a lot of concerns about the

90
00:02:58,719 --> 00:03:03,680
system right now

91
00:03:00,560 --> 00:03:07,840
so what i'd like to do today is move

92
00:03:03,680 --> 00:03:10,080
more into just the cleanup phase

93
00:03:07,840 --> 00:03:11,120
for the collision detector uh the things

94
00:03:10,080 --> 00:03:13,920
that i wanted to do

95
00:03:11,120 --> 00:03:15,599
was add a spatial partition so you know

96
00:03:13,919 --> 00:03:19,679
i'd like to have a thing

97
00:03:15,598 --> 00:03:21,679
where we uh i i'd like to do something

98
00:03:19,680 --> 00:03:25,519
where we can

99
00:03:21,680 --> 00:03:25,519
not test all the entities every time

100
00:03:26,000 --> 00:03:30,080
right we've got a kind of ridiculous

101
00:03:27,360 --> 00:03:32,159
system right now that actually checks

102
00:03:30,080 --> 00:03:33,519
all of the entities uh in the entire

103
00:03:32,158 --> 00:03:36,639
world uh

104
00:03:33,519 --> 00:03:38,158
and excuse me uh and that's really

105
00:03:36,639 --> 00:03:40,238
not in the entire world in the entire

106
00:03:38,158 --> 00:03:43,679
active set so the entire like

107
00:03:40,239 --> 00:03:45,360
everything that's paged in here right uh

108
00:03:43,680 --> 00:03:46,799
all of these entities are getting

109
00:03:45,360 --> 00:03:49,760
checked for collisions

110
00:03:46,799 --> 00:03:50,719
every time uh which is completely

111
00:03:49,759 --> 00:03:54,798
ridiculous

112
00:03:50,719 --> 00:03:58,080
if that makes sense um and so

113
00:03:54,799 --> 00:03:59,519
we we more or less know that

114
00:03:58,080 --> 00:04:01,439
we have to have a space partition at

115
00:03:59,519 --> 00:04:03,599
some point it's already

116
00:04:01,438 --> 00:04:05,759
much slower than it should be it just so

117
00:04:03,598 --> 00:04:08,719
happens that computers are so

118
00:04:05,759 --> 00:04:11,199
darn fast these days that the game still

119
00:04:08,719 --> 00:04:13,840
appears to play in real time

120
00:04:11,199 --> 00:04:16,000
um but that's only because computers are

121
00:04:13,840 --> 00:04:17,040
so incredibly fast and we just haven't

122
00:04:16,000 --> 00:04:18,959
dumped

123
00:04:17,040 --> 00:04:20,479
enough entities in like if we doubled

124
00:04:18,959 --> 00:04:21,839
the number of entities i think we could

125
00:04:20,478 --> 00:04:24,879
get it to start slowing down

126
00:04:21,839 --> 00:04:27,039
certainly um if you look i don't

127
00:04:24,879 --> 00:04:28,959
remember what the profiler is here

128
00:04:27,040 --> 00:04:30,160
if you look you can see like this is

129
00:04:28,959 --> 00:04:32,879
starting to creep up

130
00:04:30,160 --> 00:04:34,400
uh in time here and remember this

131
00:04:32,879 --> 00:04:35,600
compute light propagation is

132
00:04:34,399 --> 00:04:39,120
multi-threaded

133
00:04:35,600 --> 00:04:42,080
so actually this percentage time uh

134
00:04:39,120 --> 00:04:43,759
is is how many cycles it's taking it's

135
00:04:42,079 --> 00:04:47,439
not really representative

136
00:04:43,759 --> 00:04:49,840
however of just how expensive

137
00:04:47,439 --> 00:04:50,959
um this is because this is only running

138
00:04:49,839 --> 00:04:52,879
on one cpu

139
00:04:50,959 --> 00:04:57,039
so it's taking that many uh i'm sorry

140
00:04:52,879 --> 00:05:00,719
one core it's taking that many cycles um

141
00:04:57,040 --> 00:05:03,840
without even being multi-threaded right

142
00:05:00,720 --> 00:05:05,919
so it's an issue right uh it's an issue

143
00:05:03,839 --> 00:05:07,279
and so as you dump more in there that n

144
00:05:05,918 --> 00:05:08,719
squared will just keep rising it'll get

145
00:05:07,279 --> 00:05:10,079
worse and worse so that's why you really

146
00:05:08,720 --> 00:05:13,280
want a space partition because we don't

147
00:05:10,079 --> 00:05:16,319
really want to see this uh

148
00:05:13,279 --> 00:05:18,159
on our it should be mostly free like

149
00:05:16,319 --> 00:05:20,159
collision detection here is not that

150
00:05:18,160 --> 00:05:20,960
complicated if you just don't test too

151
00:05:20,160 --> 00:05:22,560
many entities

152
00:05:20,959 --> 00:05:24,079
so we we really just kind of want to

153
00:05:22,560 --> 00:05:27,680
simplify that down

154
00:05:24,079 --> 00:05:29,839
right we want to make sure that we don't

155
00:05:27,680 --> 00:05:32,560
have that

156
00:05:29,839 --> 00:05:32,560
creeping up there

157
00:05:33,038 --> 00:05:36,478
all right so those are two things we

158
00:05:34,399 --> 00:05:38,000
want to do to get us into good shape

159
00:05:36,478 --> 00:05:41,439
here uh so what i'll probably

160
00:05:38,000 --> 00:05:44,399
do before i do the spatial partition

161
00:05:41,439 --> 00:05:44,800
is start by adding a spherical collision

162
00:05:44,399 --> 00:05:46,719
type

163
00:05:44,800 --> 00:05:49,038
uh so so that we can have spheres and

164
00:05:46,720 --> 00:05:50,960
boxes the reason i want that

165
00:05:49,038 --> 00:05:52,159
is just to make it a bit smoother so

166
00:05:50,959 --> 00:05:56,399
like for example

167
00:05:52,160 --> 00:05:59,280
uh this guy here right um

168
00:05:56,399 --> 00:05:59,918
uh you can see like this this dude here

169
00:05:59,279 --> 00:06:03,038
is

170
00:05:59,918 --> 00:06:06,478
uh i feel like that

171
00:06:03,038 --> 00:06:08,399
i i wonder if that should happen like

172
00:06:06,478 --> 00:06:09,839
i don't know how these guys like work

173
00:06:08,399 --> 00:06:11,279
exactly but i feel like they shouldn't

174
00:06:09,839 --> 00:06:12,959
embed in the ground like that but maybe

175
00:06:11,279 --> 00:06:15,198
they should i don't really know

176
00:06:12,959 --> 00:06:15,198
um

177
00:06:16,800 --> 00:06:19,919
we should take a look at that because i

178
00:06:18,160 --> 00:06:21,680
don't feel like they should do that

179
00:06:19,918 --> 00:06:22,639
unless i don't really remember how we

180
00:06:21,680 --> 00:06:24,400
move them

181
00:06:22,639 --> 00:06:27,280
to be completely honest with you so i

182
00:06:24,399 --> 00:06:29,439
don't actually know if that's true

183
00:06:27,279 --> 00:06:31,198
but we should probably look at that it

184
00:06:29,439 --> 00:06:32,079
doesn't get stuck because it allows him

185
00:06:31,199 --> 00:06:34,478
to move

186
00:06:32,079 --> 00:06:35,199
but it's not really supposed to be doing

187
00:06:34,478 --> 00:06:36,318
that right

188
00:06:35,199 --> 00:06:37,360
so that's something we should probably

189
00:06:36,319 --> 00:06:39,360
take a look at but what i was going to

190
00:06:37,360 --> 00:06:41,120
say is any of these people who move

191
00:06:39,360 --> 00:06:43,520
around

192
00:06:41,120 --> 00:06:44,399
like this dude or the glove they should

193
00:06:43,519 --> 00:06:45,918
be spheres

194
00:06:44,399 --> 00:06:47,519
because we don't actually want them

195
00:06:45,918 --> 00:06:50,879
getting stuck on corners

196
00:06:47,519 --> 00:06:55,359
right we don't want them to have uh

197
00:06:50,879 --> 00:06:57,598
like trying like that

198
00:06:55,360 --> 00:06:57,598
right

199
00:06:59,839 --> 00:07:06,239
i need a thing to like turn off

200
00:07:03,038 --> 00:07:08,318
uh above layers of collision there

201
00:07:06,240 --> 00:07:09,280
above layers of floors we don't want

202
00:07:08,319 --> 00:07:11,439
them to get stuck

203
00:07:09,279 --> 00:07:13,359
uh i guess that wasn't a stock well that

204
00:07:11,439 --> 00:07:15,598
right we want them to be able to roll

205
00:07:13,360 --> 00:07:18,000
off of corners and they're not going to

206
00:07:15,598 --> 00:07:18,879
right now the thing that i was saying is

207
00:07:18,000 --> 00:07:22,000
like this guy

208
00:07:18,879 --> 00:07:24,079
isn't stuck there per se um

209
00:07:22,000 --> 00:07:25,680
but it does seem like he's allowed to

210
00:07:24,079 --> 00:07:26,639
interpenetrate maybe more than he should

211
00:07:25,680 --> 00:07:28,000
be able to

212
00:07:26,639 --> 00:07:31,840
this is a better okay that's a better

213
00:07:28,000 --> 00:07:31,839
example so uh

214
00:07:31,918 --> 00:07:38,799
to see how he's on that so i'd like

215
00:07:35,680 --> 00:07:42,240
things to have a rounded appearance

216
00:07:38,800 --> 00:07:44,879
a rounded collision volume so that they

217
00:07:42,240 --> 00:07:45,439
roll off of things more cleanly and so

218
00:07:44,879 --> 00:07:47,360
if you

219
00:07:45,439 --> 00:07:48,800
have two flat faces and they hit each

220
00:07:47,360 --> 00:07:52,080
other right

221
00:07:48,800 --> 00:07:52,800
it's not going to be the the collision

222
00:07:52,079 --> 00:07:55,279
normal

223
00:07:52,800 --> 00:07:56,639
is not going to be such that it can move

224
00:07:55,279 --> 00:07:59,119
cleanly around it

225
00:07:56,639 --> 00:08:00,160
um it's just going to run in and stop

226
00:07:59,120 --> 00:08:03,840
whereas if you have

227
00:08:00,160 --> 00:08:06,479
a to me a sphere

228
00:08:03,839 --> 00:08:07,119
it can always move sort of diagonally

229
00:08:06,478 --> 00:08:09,439
around

230
00:08:07,120 --> 00:08:10,639
and keep going which is kind of more

231
00:08:09,439 --> 00:08:12,240
what we want right

232
00:08:10,639 --> 00:08:14,000
so i'd like to have a sphere collision

233
00:08:12,240 --> 00:08:17,199
volume and

234
00:08:14,000 --> 00:08:18,560
uh allow both spheres and cubes and the

235
00:08:17,199 --> 00:08:21,680
other thing is i just

236
00:08:18,560 --> 00:08:23,918
i'm not confident that that i don't

237
00:08:21,680 --> 00:08:25,598
understand what that embedding that

238
00:08:23,918 --> 00:08:27,439
i don't understand what's actually going

239
00:08:25,598 --> 00:08:30,399
on there um because i

240
00:08:27,439 --> 00:08:31,439
i didn't think we allowed that it's a

241
00:08:30,399 --> 00:08:34,158
little hard to tell

242
00:08:31,439 --> 00:08:36,080
maybe it's not actually embedded but it

243
00:08:34,158 --> 00:08:40,080
sort of looks like it is

244
00:08:36,080 --> 00:08:43,278
right um it's slightly embedded

245
00:08:40,080 --> 00:08:43,278
right um

246
00:08:47,039 --> 00:08:50,159
and so i'm just i'm the main thing i'm

247
00:08:49,039 --> 00:08:53,360
just concerned about is

248
00:08:50,159 --> 00:08:54,159
why did that happen right um do we have

249
00:08:53,360 --> 00:08:56,000
a bug

250
00:08:54,159 --> 00:08:57,519
that makes it so that you get slightly

251
00:08:56,000 --> 00:08:58,159
embedded like that and i don't really

252
00:08:57,519 --> 00:09:00,560
know

253
00:08:58,159 --> 00:09:01,278
right so i'd like to take a look at that

254
00:09:00,559 --> 00:09:03,439
as well

255
00:09:01,278 --> 00:09:04,799
uh just so i can have some understanding

256
00:09:03,440 --> 00:09:07,920
of what's going on

257
00:09:04,799 --> 00:09:09,359
uh but i'd also like to add the uh the

258
00:09:07,919 --> 00:09:11,039
spheres in here

259
00:09:09,360 --> 00:09:12,480
and we'll so we'll leave that guy as we

260
00:09:11,039 --> 00:09:13,599
won't actually replace him with a sphere

261
00:09:12,480 --> 00:09:15,519
i'm gonna replace the glove with the

262
00:09:13,600 --> 00:09:16,560
sphere first and that's we'll do today

263
00:09:15,519 --> 00:09:20,159
and then we'll take a look

264
00:09:16,559 --> 00:09:20,159
uh at uh

265
00:09:21,679 --> 00:09:25,278
and then we'll take a look at what's

266
00:09:22,639 --> 00:09:25,278
going on with that

267
00:09:25,600 --> 00:09:31,920
okay um so if i go to move entity

268
00:09:29,200 --> 00:09:31,920
which is in here

269
00:09:32,639 --> 00:09:36,080
then what you can see is essentially

270
00:09:35,278 --> 00:09:38,720
this

271
00:09:36,080 --> 00:09:40,320
routine where we look to see what

272
00:09:38,720 --> 00:09:44,240
happens with a particular

273
00:09:40,320 --> 00:09:47,600
collider um this routine

274
00:09:44,240 --> 00:09:51,120
would need to understand the difference

275
00:09:47,600 --> 00:09:51,920
so this routine we need to understand

276
00:09:51,120 --> 00:09:56,399
the difference

277
00:09:51,919 --> 00:10:00,240
between a sphere

278
00:09:56,399 --> 00:10:00,240
and a rectangle right

279
00:10:00,399 --> 00:10:03,039
so this

280
00:10:03,519 --> 00:10:06,959
would need multiple routines it would

281
00:10:06,320 --> 00:10:09,600
need

282
00:10:06,958 --> 00:10:10,559
sphere versus sphere sphere versus

283
00:10:09,600 --> 00:10:13,120
rectangle

284
00:10:10,559 --> 00:10:13,919
and rectangle versus rectangle we

285
00:10:13,120 --> 00:10:16,839
already have

286
00:10:13,919 --> 00:10:18,559
one of them which is rectangle versus

287
00:10:16,839 --> 00:10:22,399
rectangle

288
00:10:18,559 --> 00:10:25,359
but we don't actually know

289
00:10:22,399 --> 00:10:26,879
uh we don't actually have a way to set

290
00:10:25,360 --> 00:10:30,320
one of these collision volumes

291
00:10:26,879 --> 00:10:33,039
to be a sphere yet right so we need

292
00:10:30,320 --> 00:10:33,519
a way of of putting that in there we

293
00:10:33,039 --> 00:10:37,278
also

294
00:10:33,519 --> 00:10:39,039
don't i mean one thing that's a little

295
00:10:37,278 --> 00:10:40,958
annoying is we don't have a way of

296
00:10:39,039 --> 00:10:44,240
rendering a sphere

297
00:10:40,958 --> 00:10:46,799
uh our renderer just renders sprites

298
00:10:44,240 --> 00:10:47,360
so it's a little bit difficult for us to

299
00:10:46,799 --> 00:10:49,359
render

300
00:10:47,360 --> 00:10:51,440
a sphere in the first place which is

301
00:10:49,360 --> 00:10:53,120
unfortunate um

302
00:10:51,440 --> 00:10:55,200
you know if this were a general purpose

303
00:10:53,120 --> 00:10:57,360
renderer rendering a sphere is easy

304
00:10:55,200 --> 00:10:58,879
uh in our case we just don't have you

305
00:10:57,360 --> 00:11:00,560
know we've never built any rendering

306
00:10:58,879 --> 00:11:02,240
capacity for things like spheres because

307
00:11:00,559 --> 00:11:05,838
we don't really render

308
00:11:02,240 --> 00:11:09,600
any 3d geometry other than just a cube

309
00:11:05,839 --> 00:11:12,399
right um

310
00:11:09,600 --> 00:11:15,759
so if we look at this it's going to be

311
00:11:12,399 --> 00:11:18,799
something more

312
00:11:15,759 --> 00:11:20,799
a little bit different so you know if

313
00:11:18,799 --> 00:11:22,159
you take a look at how this goes

314
00:11:20,799 --> 00:11:24,078
uh where we've got this replace the

315
00:11:22,159 --> 00:11:26,000
spatial partition thing so this thing

316
00:11:24,078 --> 00:11:27,120
where we're iterating over the entities

317
00:11:26,000 --> 00:11:28,559
that's going to iterate over the

318
00:11:27,120 --> 00:11:30,879
entities within a particular space

319
00:11:28,559 --> 00:11:33,599
partition bucket or something like that

320
00:11:30,879 --> 00:11:34,399
um and then what's gonna happen in here

321
00:11:33,600 --> 00:11:36,480
when we do this

322
00:11:34,399 --> 00:11:38,159
test is we're just gonna have three

323
00:11:36,480 --> 00:11:41,278
different tests we can do

324
00:11:38,159 --> 00:11:45,278
right so we're going to have

325
00:11:41,278 --> 00:11:47,600
uh probably something that looks like

326
00:11:45,278 --> 00:11:47,600
this

327
00:11:54,839 --> 00:12:01,519
um

328
00:11:57,278 --> 00:12:11,838
where we just check and we say

329
00:12:01,519 --> 00:12:11,839
is this entity right um

330
00:12:12,078 --> 00:12:15,759
something like that so like in here

331
00:12:14,559 --> 00:12:17,278
where we do like

332
00:12:15,759 --> 00:12:18,639
where we look to see what kind of

333
00:12:17,278 --> 00:12:20,320
collision we're talking about we just

334
00:12:18,639 --> 00:12:24,399
say like all right

335
00:12:20,320 --> 00:12:26,720
um we are gonna have a um

336
00:12:24,399 --> 00:12:29,200
a flag that tells us whether an entities

337
00:12:26,720 --> 00:12:31,278
use a circle or rectangular collision

338
00:12:29,200 --> 00:12:33,278
and what we'll then do is say all right

339
00:12:31,278 --> 00:12:37,278
when we do a spheric collision

340
00:12:33,278 --> 00:12:42,000
we loop over and we just need to do

341
00:12:37,278 --> 00:12:43,919
uh a check either way

342
00:12:42,000 --> 00:12:46,879
and then the same would be true for our

343
00:12:43,919 --> 00:12:46,879
other branch here

344
00:12:48,320 --> 00:12:52,720
and again this has to get replaced with

345
00:12:50,240 --> 00:12:56,240
something better

346
00:12:52,720 --> 00:12:56,720
at some point but that's fine so then in

347
00:12:56,240 --> 00:12:58,720
here

348
00:12:56,720 --> 00:13:00,240
what we need to do is we need to pick

349
00:12:58,720 --> 00:13:02,160
two different things so if there's a

350
00:13:00,240 --> 00:13:03,200
sphere collision flag we need to do the

351
00:13:02,159 --> 00:13:06,480
test on

352
00:13:03,200 --> 00:13:09,759
this one as well so in here we would do

353
00:13:06,480 --> 00:13:09,759
uh oops

354
00:13:12,799 --> 00:13:21,838
something like

355
00:13:26,559 --> 00:13:30,638
that so we're going to say look we want

356
00:13:28,879 --> 00:13:34,320
to know whether it's a sphere or not

357
00:13:30,639 --> 00:13:35,680
right and the if we know that the task

358
00:13:34,320 --> 00:13:37,278
entity is a sphere

359
00:13:35,679 --> 00:13:38,719
uh then we'll just do a thing like look

360
00:13:37,278 --> 00:13:42,159
if it's a sphere

361
00:13:38,720 --> 00:13:42,160
and uh

362
00:13:44,078 --> 00:13:48,319
if it's a sphere and a rectangle

363
00:13:46,839 --> 00:13:53,199
intersects

364
00:13:48,320 --> 00:13:53,199
sphere or

365
00:13:55,039 --> 00:13:58,159
if it's not a sphere

366
00:13:58,559 --> 00:14:02,958
and rectangles intersect right something

367
00:14:00,879 --> 00:14:05,039
like this

368
00:14:02,958 --> 00:14:06,319
makes sense um it's pretty

369
00:14:05,039 --> 00:14:07,230
straightforward

370
00:14:06,320 --> 00:14:11,159
so

371
00:14:07,230 --> 00:14:11,158
[Music]

372
00:14:11,679 --> 00:14:15,599
seems good and the same would be true in

373
00:14:14,639 --> 00:14:17,278
the top one

374
00:14:15,600 --> 00:14:19,360
it's just going to be just a little bit

375
00:14:17,278 --> 00:14:22,958
different

376
00:14:19,360 --> 00:14:22,959
but almost the exact same thing

377
00:14:25,120 --> 00:14:28,720
so in here we would say look uh if this

378
00:14:27,839 --> 00:14:30,079
thing

379
00:14:28,720 --> 00:14:32,959
if the thing we're test against is a

380
00:14:30,078 --> 00:14:36,638
sphere then its

381
00:14:32,958 --> 00:14:41,278
spheres intersect otherwise

382
00:14:36,639 --> 00:14:44,240
its rectangle intersects sphere

383
00:14:41,278 --> 00:14:45,120
right um and in this case we have to

384
00:14:44,240 --> 00:14:46,879
flip these

385
00:14:45,120 --> 00:14:48,399
if the pardon 4 coder i don't know if

386
00:14:46,879 --> 00:14:50,958
anyone's ever going to fix the

387
00:14:48,399 --> 00:14:52,958
indentation in fork odor someone tell me

388
00:14:50,958 --> 00:14:55,679
if they ever fix it so i can switch

389
00:14:52,958 --> 00:14:56,319
to the new to a new version um it's been

390
00:14:55,679 --> 00:15:00,078
broken

391
00:14:56,320 --> 00:15:00,079
for like ever um

392
00:15:04,000 --> 00:15:10,159
so yeah anyway you can see here uh

393
00:15:07,919 --> 00:15:12,399
this is just reversed so you know we

394
00:15:10,159 --> 00:15:14,639
have rectangle intersect sphere

395
00:15:12,399 --> 00:15:16,399
uh in this case the mover is the

396
00:15:14,639 --> 00:15:19,759
rectangle and the sphere

397
00:15:16,399 --> 00:15:22,559
is the person who we're testing against

398
00:15:19,759 --> 00:15:24,559
um and then in here the opposite's true

399
00:15:22,559 --> 00:15:27,359
so if it's not a sphere

400
00:15:24,559 --> 00:15:27,919
that means well we were the sphere right

401
00:15:27,360 --> 00:15:31,759
so

402
00:15:27,919 --> 00:15:35,439
move erect goes in the sphere slot

403
00:15:31,759 --> 00:15:36,639
and off we go um that's really all we

404
00:15:35,440 --> 00:15:40,480
need to do

405
00:15:36,639 --> 00:15:43,680
uh to add the spherical collision but

406
00:15:40,480 --> 00:15:46,000
uh we have the issue here

407
00:15:43,679 --> 00:15:46,000
of

408
00:15:52,958 --> 00:15:56,719
you know what i just thought of

409
00:15:55,278 --> 00:15:59,360
something interesting i hadn't really

410
00:15:56,720 --> 00:15:59,360
thought of before

411
00:16:06,839 --> 00:16:09,839
hmm

412
00:16:17,600 --> 00:16:23,839
oh boy

413
00:16:29,440 --> 00:16:35,839
you know what we don't need to do this

414
00:16:33,519 --> 00:16:38,799
i i kind of just realized that we don't

415
00:16:35,839 --> 00:16:38,800
actually need to do this

416
00:16:42,078 --> 00:16:49,359
so because we know

417
00:16:45,919 --> 00:16:53,599
that we're always doing

418
00:16:49,360 --> 00:16:56,879
we're always doing spheres or rectangles

419
00:16:53,600 --> 00:16:59,199
right we

420
00:16:56,879 --> 00:17:05,838
should actually be able to do this way

421
00:16:59,198 --> 00:17:05,838
more efficiently

422
00:17:08,480 --> 00:17:13,038
we should be able to do this without

423
00:17:10,400 --> 00:17:17,199
actually doing any additional branches

424
00:17:13,038 --> 00:17:21,038
right because what should happen

425
00:17:17,199 --> 00:17:21,038
is we should be able to say

426
00:17:22,959 --> 00:17:33,840
something like

427
00:17:37,279 --> 00:17:42,720
if shapes collide like mover is sphere

428
00:17:40,240 --> 00:17:47,759
and the move erect

429
00:17:42,720 --> 00:17:47,759
and then test is fear and the test rect

430
00:17:49,440 --> 00:17:51,679
right

431
00:17:53,679 --> 00:17:56,960
and we should be able to compute the

432
00:17:56,000 --> 00:17:59,279
answer

433
00:17:56,960 --> 00:18:00,079
as to whether these two things collide i

434
00:17:59,279 --> 00:18:02,798
think we can just

435
00:18:00,079 --> 00:18:05,038
do it as one series of relatively

436
00:18:02,798 --> 00:18:08,240
concise operations

437
00:18:05,038 --> 00:18:10,879
and then we just use the booleans to

438
00:18:08,240 --> 00:18:12,960
merge those together into the answer so

439
00:18:10,880 --> 00:18:14,880
that we only ever actually do one branch

440
00:18:12,960 --> 00:18:17,120
which is if they collided

441
00:18:14,880 --> 00:18:17,120
right

442
00:18:21,359 --> 00:18:29,199
right um

443
00:18:26,079 --> 00:18:30,798
well it's not branchless uh someone

444
00:18:29,200 --> 00:18:32,640
said that in the chat it's not

445
00:18:30,798 --> 00:18:33,599
branchless because we still are doing a

446
00:18:32,640 --> 00:18:36,160
branch here

447
00:18:33,599 --> 00:18:37,359
we could make this branchless if we

448
00:18:36,160 --> 00:18:39,600
wanted to

449
00:18:37,359 --> 00:18:40,719
um but it's unclear that you want to

450
00:18:39,599 --> 00:18:43,038
make this

451
00:18:40,720 --> 00:18:44,640
branchless because this only happens

452
00:18:43,038 --> 00:18:46,079
once in a great while it only happens

453
00:18:44,640 --> 00:18:48,799
when two things collide

454
00:18:46,079 --> 00:18:49,119
right um so the vast majority of the

455
00:18:48,798 --> 00:18:50,480
time

456
00:18:49,119 --> 00:18:52,399
if you're doing this you're probably not

457
00:18:50,480 --> 00:18:55,599
going to collide right because most

458
00:18:52,400 --> 00:18:55,600
things are not colliding

459
00:18:55,679 --> 00:18:59,440
but if i had all those ifs in there for

460
00:18:57,519 --> 00:19:01,359
the check it would have to do

461
00:18:59,440 --> 00:19:02,720
branches it would have unpredicted

462
00:19:01,359 --> 00:19:04,879
branches all the time

463
00:19:02,720 --> 00:19:06,240
right because it would constantly be not

464
00:19:04,880 --> 00:19:07,760
knowing whether the thing

465
00:19:06,240 --> 00:19:09,440
is going to do this or that or this or

466
00:19:07,759 --> 00:19:12,079
that or this or that right

467
00:19:09,440 --> 00:19:13,759
so if shapes collide can be done

468
00:19:12,079 --> 00:19:17,199
branchless

469
00:19:13,759 --> 00:19:19,839
right and we let this

470
00:19:17,200 --> 00:19:21,200
be the branch here that's just a better

471
00:19:19,839 --> 00:19:23,359
structure for this loop

472
00:19:21,200 --> 00:19:24,640
because that means that we don't branch

473
00:19:23,359 --> 00:19:27,199
on things that are very

474
00:19:24,640 --> 00:19:28,720
variable and we do branch on something

475
00:19:27,200 --> 00:19:32,798
that actually matters

476
00:19:28,720 --> 00:19:34,960
right so i'm not trying to be branchless

477
00:19:32,798 --> 00:19:36,558
i'm just making a certain section have

478
00:19:34,960 --> 00:19:37,519
no branches so that we don't have to

479
00:19:36,558 --> 00:19:41,119
worry

480
00:19:37,519 --> 00:19:41,119
right um

481
00:19:41,200 --> 00:19:46,558
you know so we just want to

482
00:19:47,519 --> 00:19:55,839
do something like a is sphere a wrecked

483
00:19:51,440 --> 00:19:55,840
b sphere brecht

484
00:19:56,960 --> 00:20:10,588
uh pretty straightforward

485
00:20:07,400 --> 00:20:10,589
[Music]

486
00:20:10,720 --> 00:20:14,240
if left's code is better isn't no code

487
00:20:13,200 --> 00:20:17,440
at almost

488
00:20:14,240 --> 00:20:20,000
best why are we even programming then

489
00:20:17,440 --> 00:20:22,000
okay so let me just say one thing before

490
00:20:20,000 --> 00:20:25,200
i go any further

491
00:20:22,000 --> 00:20:28,720
it is my absolute firm 100

492
00:20:25,200 --> 00:20:32,159
non-ironic non-sarcastic belief

493
00:20:28,720 --> 00:20:33,038
that actually most people programming

494
00:20:32,159 --> 00:20:36,240
today

495
00:20:33,038 --> 00:20:39,919
if they just didn't program

496
00:20:36,240 --> 00:20:39,919
we would have better software

497
00:20:40,319 --> 00:20:44,079
because most programming that happens

498
00:20:42,079 --> 00:20:46,798
today just makes things worse

499
00:20:44,079 --> 00:20:48,879
as far as i can tell like it doesn't

500
00:20:46,798 --> 00:20:52,158
actually make things better

501
00:20:48,880 --> 00:20:52,159
so so actually

502
00:20:52,558 --> 00:20:57,839
abc derek i i agree with your

503
00:20:55,679 --> 00:20:59,200
what was probably a joke comment is

504
00:20:57,839 --> 00:21:02,079
actually true

505
00:20:59,200 --> 00:21:03,120
like the vast majority of programming

506
00:21:02,079 --> 00:21:04,558
that happens today

507
00:21:03,119 --> 00:21:06,959
the world would probably just be better

508
00:21:04,558 --> 00:21:10,079
off if it didn't happen

509
00:21:06,960 --> 00:21:12,079
you know so so yes

510
00:21:10,079 --> 00:21:14,399
like another way to say it would be go

511
00:21:12,079 --> 00:21:17,199
watch glenn glary glen gary glenn ross

512
00:21:14,400 --> 00:21:20,960
and when al pacino says

513
00:21:17,200 --> 00:21:23,600
um ch choose out

514
00:21:20,960 --> 00:21:24,400
uh uh kevin spacey for making something

515
00:21:23,599 --> 00:21:27,759
up

516
00:21:24,400 --> 00:21:31,679
right uh and somebody i want to say

517
00:21:27,759 --> 00:21:33,359
it's a is it jack lemmon who says if

518
00:21:31,679 --> 00:21:37,200
you're gonna make something up

519
00:21:33,359 --> 00:21:39,918
be sure it helps right um

520
00:21:37,200 --> 00:21:41,038
that's that's i think where i'm at with

521
00:21:39,919 --> 00:21:43,840
this

522
00:21:41,038 --> 00:21:47,038
is like if you're going to type in code

523
00:21:43,839 --> 00:21:48,959
make sure it's actually helping

524
00:21:47,038 --> 00:21:50,640
you know what i'm saying like make sure

525
00:21:48,960 --> 00:21:54,159
what you shipped was actually better

526
00:21:50,640 --> 00:21:59,840
than what was there before it

527
00:21:54,159 --> 00:21:59,840
and if it's not just delete it

528
00:22:04,079 --> 00:22:07,519
i want to watch that movie again i i

529
00:22:06,079 --> 00:22:08,879
tried to watch the other day it was it's

530
00:22:07,519 --> 00:22:09,359
not available on anything though like

531
00:22:08,880 --> 00:22:12,480
the

532
00:22:09,359 --> 00:22:13,279
blue ray was like coming out um at some

533
00:22:12,480 --> 00:22:16,558
point

534
00:22:13,279 --> 00:22:17,918
i don't know if it's came out yet uh i

535
00:22:16,558 --> 00:22:19,918
want to like watch a good version of

536
00:22:17,919 --> 00:22:23,280
that movie

537
00:22:19,919 --> 00:22:26,159
david mamet anyway

538
00:22:23,279 --> 00:22:27,038
um it's it's a good play it's a it's a

539
00:22:26,159 --> 00:22:29,520
good play

540
00:22:27,038 --> 00:22:30,158
the movie is good too all right so

541
00:22:29,519 --> 00:22:33,359
anyway

542
00:22:30,159 --> 00:22:34,960
um in shapes collide uh we know we have

543
00:22:33,359 --> 00:22:36,798
rectangles intersect

544
00:22:34,960 --> 00:22:40,400
uh and we can do that with a wrecked and

545
00:22:36,798 --> 00:22:42,558
b-rect right

546
00:22:40,400 --> 00:22:44,720
and so in here like i said what i'm

547
00:22:42,558 --> 00:22:49,759
doing is is very simple

548
00:22:44,720 --> 00:22:49,759
um i'm just doing

549
00:22:50,240 --> 00:22:55,200
uh a combination where the boolean

550
00:22:52,880 --> 00:22:57,200
composite gives me the right result and

551
00:22:55,200 --> 00:22:58,319
i'm just doing some extra math that i

552
00:22:57,200 --> 00:23:00,640
don't need to do

553
00:22:58,319 --> 00:23:01,678
but that way and i'm merging the results

554
00:23:00,640 --> 00:23:05,280
together

555
00:23:01,679 --> 00:23:09,840
right so what we would want to do is

556
00:23:05,279 --> 00:23:09,839
something like this

557
00:23:16,400 --> 00:23:19,519
if we were just writing the whole thing

558
00:23:17,759 --> 00:23:23,759
out

559
00:23:19,519 --> 00:23:27,839
but um

560
00:23:23,759 --> 00:23:31,279
i don't actually i'm pretty sure

561
00:23:27,839 --> 00:23:32,959
we don't actually need uh

562
00:23:31,279 --> 00:23:35,440
to do most of this and this is the

563
00:23:32,960 --> 00:23:37,759
reason that i rolled all these together

564
00:23:35,440 --> 00:23:41,519
if you take a look at what happens with

565
00:23:37,759 --> 00:23:41,519
a rectangle's intersect routine

566
00:23:45,278 --> 00:23:47,839
wrong one

567
00:23:48,839 --> 00:23:52,879
okay uh so if you take a look at what

568
00:23:51,278 --> 00:23:53,759
happens with a rectangle's intersect

569
00:23:52,880 --> 00:23:56,559
routine

570
00:23:53,759 --> 00:23:56,558
it looks like this

571
00:23:58,159 --> 00:24:03,520
right uh and maybe we'll do this

572
00:24:01,919 --> 00:24:05,790
because that way it's exactly the same

573
00:24:03,519 --> 00:24:08,889
as the other routine

574
00:24:05,789 --> 00:24:08,889
[Music]

575
00:24:15,679 --> 00:24:21,759
so this tells us whether the uh

576
00:24:18,720 --> 00:24:21,759
the rects intersect

577
00:24:25,200 --> 00:24:33,840
right i and the other thing

578
00:24:28,798 --> 00:24:38,720
that we know

579
00:24:33,839 --> 00:24:38,720
uh is we have this closest point in box

580
00:24:39,679 --> 00:24:48,000
right so if you think about it

581
00:24:44,319 --> 00:24:51,200
if you take a sphere

582
00:24:48,000 --> 00:24:54,640
and you want to know if two spheres

583
00:24:51,200 --> 00:24:57,840
in you know are intersecting

584
00:24:54,640 --> 00:25:00,880
it's really simple to do because

585
00:24:57,839 --> 00:25:03,439
if the two center points of the spheres

586
00:25:00,880 --> 00:25:04,880
which we know if the two center points

587
00:25:03,440 --> 00:25:08,000
of the spheres

588
00:25:04,880 --> 00:25:10,799
are less than

589
00:25:08,000 --> 00:25:11,919
the combined radius so radius of a

590
00:25:10,798 --> 00:25:14,639
radius of b

591
00:25:11,919 --> 00:25:15,600
if the two spheres get closer than that

592
00:25:14,640 --> 00:25:17,278
some

593
00:25:15,599 --> 00:25:19,439
then they're intersecting because

594
00:25:17,278 --> 00:25:19,839
spheres are directionally independent

595
00:25:19,440 --> 00:25:22,080
like

596
00:25:19,839 --> 00:25:23,439
spheres are the same in all directions

597
00:25:22,079 --> 00:25:25,119
and the only thing we have to say is

598
00:25:23,440 --> 00:25:26,240
like well we're getting it input as a

599
00:25:25,119 --> 00:25:28,000
rectangle

600
00:25:26,240 --> 00:25:31,278
we're just going to not allow ellipses

601
00:25:28,000 --> 00:25:33,679
right so we're just going to take the x

602
00:25:31,278 --> 00:25:36,079
and treat that as the radius well half

603
00:25:33,679 --> 00:25:38,559
the x is the radius

604
00:25:36,079 --> 00:25:39,278
um and when people create these they

605
00:25:38,558 --> 00:25:41,359
have to know

606
00:25:39,278 --> 00:25:42,798
right so that's fine we could try to

607
00:25:41,359 --> 00:25:44,719
support ellipsoids but

608
00:25:42,798 --> 00:25:46,319
i mean it's a lot more uh work to

609
00:25:44,720 --> 00:25:49,759
support an ellipsoid

610
00:25:46,319 --> 00:25:51,200
uh yeah it's definitely a lot more work

611
00:25:49,759 --> 00:25:52,400
to support an ellipsoid

612
00:25:51,200 --> 00:25:54,400
we're gonna have to do like lagrange

613
00:25:52,400 --> 00:25:57,840
multipliers and crap

614
00:25:54,400 --> 00:25:57,840
i think

615
00:25:59,119 --> 00:26:02,719
i'm i'm pretty sure there's no way to

616
00:26:00,880 --> 00:26:06,880
support ellipsoidal collision without

617
00:26:02,720 --> 00:26:10,400
like doing a lagrange multiplier like

618
00:26:06,880 --> 00:26:11,919
freaking quadratic equation solve thing

619
00:26:10,400 --> 00:26:14,159
we could do it like we could definitely

620
00:26:11,919 --> 00:26:15,759
do it but it's going to be way harder so

621
00:26:14,159 --> 00:26:17,278
because no one cares about that in this

622
00:26:15,759 --> 00:26:20,720
game you would never do that

623
00:26:17,278 --> 00:26:24,079
on purpose right um so

624
00:26:20,720 --> 00:26:25,200
yeah i wouldn't bother but my point is

625
00:26:24,079 --> 00:26:26,639
just

626
00:26:25,200 --> 00:26:27,360
we know if two spheres intersect by just

627
00:26:26,640 --> 00:26:28,640
looking at the difference of their

628
00:26:27,359 --> 00:26:31,599
centers right

629
00:26:28,640 --> 00:26:32,640
so we can do something like this like

630
00:26:31,599 --> 00:26:37,439
center delta

631
00:26:32,640 --> 00:26:41,038
right um and that's just going to be

632
00:26:37,440 --> 00:26:41,759
like if we have a center a and a center

633
00:26:41,038 --> 00:26:45,038
b

634
00:26:41,759 --> 00:26:45,038
we could just say like okay

635
00:26:48,240 --> 00:26:53,839
we know what those two values are and

636
00:26:50,558 --> 00:26:53,839
then we subtract them

637
00:26:55,919 --> 00:27:01,440
right this value here

638
00:26:59,359 --> 00:27:02,639
uh we can take the length squared of

639
00:27:01,440 --> 00:27:06,720
that and just see

640
00:27:02,640 --> 00:27:08,960
so spheres if the spheres

641
00:27:06,720 --> 00:27:10,079
intersect it would mean that the length

642
00:27:08,960 --> 00:27:13,200
squared

643
00:27:10,079 --> 00:27:13,199
of the center delta

644
00:27:13,839 --> 00:27:20,000
uh that separation

645
00:27:16,960 --> 00:27:22,480
is less than the

646
00:27:20,000 --> 00:27:22,480
radius

647
00:27:25,679 --> 00:27:28,880
and there's no point in doing a square

648
00:27:27,359 --> 00:27:32,079
root here because

649
00:27:28,880 --> 00:27:35,840
we can just compare the squares together

650
00:27:32,079 --> 00:27:35,839
so we might as well right

651
00:27:38,240 --> 00:27:44,319
so we can just say okay maybe

652
00:27:41,278 --> 00:27:49,759
like max x or uh

653
00:27:44,319 --> 00:27:52,000
get him a

654
00:27:49,759 --> 00:27:52,000
right

655
00:27:54,960 --> 00:27:58,640
um so these are pretty straightforward

656
00:27:57,278 --> 00:28:00,398
uh this is just a

657
00:27:58,640 --> 00:28:02,320
you know subtract and a multiply same

658
00:28:00,398 --> 00:28:06,239
here this is uh

659
00:28:02,319 --> 00:28:09,278
you know jimmy

660
00:28:06,240 --> 00:28:12,159
really for collision if we want to

661
00:28:09,278 --> 00:28:13,679
improve this and we might want to uh

662
00:28:12,159 --> 00:28:15,440
what we'll want to do later if we

663
00:28:13,679 --> 00:28:17,120
actually care about the speed of this

664
00:28:15,440 --> 00:28:18,480
is we should probably store our

665
00:28:17,119 --> 00:28:22,079
collision

666
00:28:18,480 --> 00:28:24,558
as a center plus radius min max

667
00:28:22,079 --> 00:28:25,918
for collision is is probably not the

668
00:28:24,558 --> 00:28:27,918
best thing

669
00:28:25,919 --> 00:28:29,200
uh because we want to be able to handle

670
00:28:27,919 --> 00:28:31,200
rectangles and spheres

671
00:28:29,200 --> 00:28:32,399
min max makes a ton of sense if all

672
00:28:31,200 --> 00:28:35,278
you're doing is

673
00:28:32,398 --> 00:28:35,759
just overlap testing like this because

674
00:28:35,278 --> 00:28:36,880
you know

675
00:28:35,759 --> 00:28:39,278
you can see that it's pretty

676
00:28:36,880 --> 00:28:41,840
straightforward to do

677
00:28:39,278 --> 00:28:43,440
but it doesn't make a lot of sense um if

678
00:28:41,839 --> 00:28:47,119
you actually want spheres

679
00:28:43,440 --> 00:28:50,240
so there's that anyway um

680
00:28:47,119 --> 00:28:53,119
so if you take a look at this right if

681
00:28:50,240 --> 00:28:53,120
you imagined

682
00:28:54,798 --> 00:28:59,839
we have a sphere

683
00:29:05,200 --> 00:29:07,919
then this

684
00:29:09,038 --> 00:29:16,240
would give us the closest point on a

685
00:29:12,319 --> 00:29:16,798
to the sphere of b if it was if a is a

686
00:29:16,240 --> 00:29:19,440
box

687
00:29:16,798 --> 00:29:21,679
this will give us the closest point on b

688
00:29:19,440 --> 00:29:21,679
right

689
00:29:25,278 --> 00:29:32,640
if b is a box to a again this is

690
00:29:29,119 --> 00:29:32,639
one two

691
00:29:32,720 --> 00:29:40,000
really just two uh times three so six

692
00:29:36,640 --> 00:29:43,278
operations to find uh

693
00:29:40,000 --> 00:29:47,200
this the closest point

694
00:29:43,278 --> 00:29:50,319
on the box so producing the spheres

695
00:29:47,200 --> 00:29:53,120
pretty straightforward producing the

696
00:29:50,319 --> 00:29:54,000
uh closest points very straightforward

697
00:29:53,119 --> 00:29:57,199
and so

698
00:29:54,000 --> 00:30:00,398
like you know a wrecked uh

699
00:29:57,200 --> 00:30:04,159
sphere a wrecked b sphere

700
00:30:00,398 --> 00:30:04,158
and b rect a sphere

701
00:30:05,519 --> 00:30:09,519
um are pretty if we assume that a is a

702
00:30:08,000 --> 00:30:12,000
rectangle and b is a sphere it's

703
00:30:09,519 --> 00:30:15,599
actually the exact same computation

704
00:30:12,000 --> 00:30:19,119
here only with uh

705
00:30:15,599 --> 00:30:22,319
oops only with a um

706
00:30:19,119 --> 00:30:25,278
a different subtract on the inside right

707
00:30:22,319 --> 00:30:27,918
so this is just like center b minus

708
00:30:25,278 --> 00:30:27,919
closest a

709
00:30:35,519 --> 00:30:39,679
so you can see that the actual amount of

710
00:30:37,679 --> 00:30:41,600
work and we have like

711
00:30:39,679 --> 00:30:43,120
i haven't even looked at what this

712
00:30:41,599 --> 00:30:45,839
actually computes

713
00:30:43,119 --> 00:30:47,918
it's entirely possible that now we could

714
00:30:45,839 --> 00:30:51,839
fold these down into a lot more ops i'll

715
00:30:47,919 --> 00:30:51,840
put a to do up here

716
00:31:04,798 --> 00:31:08,319
but you can kind of see where i was

717
00:31:06,480 --> 00:31:10,720
going with this

718
00:31:08,319 --> 00:31:10,720
if you

719
00:31:16,319 --> 00:31:20,319
can someone please tell me if the new

720
00:31:17,759 --> 00:31:25,119
four coder fixes the indentation

721
00:31:20,319 --> 00:31:28,158
i really really want that um

722
00:31:25,119 --> 00:31:30,959
it's super annoying uh

723
00:31:28,159 --> 00:31:32,320
anyway so we can probably fold down some

724
00:31:30,960 --> 00:31:35,679
of these operations

725
00:31:32,319 --> 00:31:38,240
uh quite simply as well

726
00:31:35,679 --> 00:31:39,360
and we just have to analyze these we

727
00:31:38,240 --> 00:31:41,120
don't have to do that right now because

728
00:31:39,359 --> 00:31:42,959
we really don't care

729
00:31:41,119 --> 00:31:44,558
but you can see why i wanted to build

730
00:31:42,960 --> 00:31:47,600
these into one routine

731
00:31:44,558 --> 00:31:49,038
there's so little computation here that

732
00:31:47,599 --> 00:31:52,319
i feel like i can

733
00:31:49,038 --> 00:31:53,038
not only share computations between

734
00:31:52,319 --> 00:31:55,439
things

735
00:31:53,038 --> 00:31:57,200
pretty easily because like especially if

736
00:31:55,440 --> 00:31:58,640
we don't store the centers if we store

737
00:31:57,200 --> 00:32:00,159
the centers you know concert but

738
00:31:58,640 --> 00:32:01,679
these are things we're going to want for

739
00:32:00,159 --> 00:32:02,559
all the different routines except for

740
00:32:01,679 --> 00:32:04,960
box

741
00:32:02,558 --> 00:32:07,038
so like folding all those down to a

742
00:32:04,960 --> 00:32:08,319
simple set of things with no branches

743
00:32:07,038 --> 00:32:10,319
i feel like we can get this down to a

744
00:32:08,319 --> 00:32:11,759
very tight routine that just tells us

745
00:32:10,319 --> 00:32:14,639
whether these collide

746
00:32:11,759 --> 00:32:15,200
no matter what they are and then for our

747
00:32:14,640 --> 00:32:17,679
results

748
00:32:15,200 --> 00:32:19,919
we just and a bunch of stuff together

749
00:32:17,679 --> 00:32:19,919
right

750
00:32:20,079 --> 00:32:23,278
um so for the result it's just a bunch

751
00:32:21,839 --> 00:32:28,398
of binary crap

752
00:32:23,278 --> 00:32:31,919
so if like a is sphere

753
00:32:28,398 --> 00:32:31,918
uh and b is sphere

754
00:32:35,038 --> 00:32:41,759
uh and spheres that's a

755
00:32:38,558 --> 00:32:43,599
that's a collide um and then all we do

756
00:32:41,759 --> 00:32:45,839
is just have a bunch of these

757
00:32:43,599 --> 00:32:46,719
right um i'm just gonna let four coder

758
00:32:45,839 --> 00:32:48,959
indent this wrong

759
00:32:46,720 --> 00:32:50,079
at this point uh there's nothing i can

760
00:32:48,960 --> 00:32:52,159
do about it

761
00:32:50,079 --> 00:32:53,678
it just it just wants to indent

762
00:32:52,159 --> 00:32:56,799
everything wrong

763
00:32:53,679 --> 00:32:58,159
um so a sphere b is fear in spheres if a

764
00:32:56,798 --> 00:33:01,359
is sphere

765
00:32:58,159 --> 00:33:05,120
uh and b is not a sphere

766
00:33:01,359 --> 00:33:10,158
then we just look at uh aerect sphere

767
00:33:05,119 --> 00:33:13,278
i'm sorry b rect a sphere

768
00:33:10,159 --> 00:33:16,880
uh a is not a sphere

769
00:33:13,278 --> 00:33:20,640
and b is a sphere

770
00:33:16,880 --> 00:33:24,399
then we do a rect b sphere and finally

771
00:33:20,640 --> 00:33:27,038
uh we just do if neither of these things

772
00:33:24,398 --> 00:33:27,038
is a sphere

773
00:33:28,079 --> 00:33:32,480
then we're done right so we just we just

774
00:33:30,960 --> 00:33:37,278
smoosh

775
00:33:32,480 --> 00:33:39,839
right we're just smoosh

776
00:33:37,278 --> 00:33:39,839
um

777
00:33:42,319 --> 00:33:48,000
and that's it um so

778
00:33:49,839 --> 00:33:53,839
there you go

779
00:33:57,038 --> 00:34:01,278
i think that's the entire routine um so

780
00:33:59,919 --> 00:34:06,240
that allows us to do

781
00:34:01,278 --> 00:34:09,519
shape collisions uh either way

782
00:34:06,240 --> 00:34:13,039
and again the only reason to do this

783
00:34:09,519 --> 00:34:15,280
is just to allow uh people to move

784
00:34:13,039 --> 00:34:17,918
diagonally around corners

785
00:34:15,280 --> 00:34:20,879
a box can't move diagonally around

786
00:34:17,918 --> 00:34:24,398
corners right the the motion of a box

787
00:34:20,878 --> 00:34:25,118
around a corner is strictly like a right

788
00:34:24,398 --> 00:34:26,638
angle

789
00:34:25,119 --> 00:34:28,559
so you know if it's going around a

790
00:34:26,639 --> 00:34:29,200
corner it has to first go clear the

791
00:34:28,559 --> 00:34:32,398
corner

792
00:34:29,199 --> 00:34:35,678
laterally and then go past the corner

793
00:34:32,398 --> 00:34:37,918
you know right

794
00:34:35,679 --> 00:34:40,000
and so the the reason for spheres is

795
00:34:37,918 --> 00:34:41,598
just because it allows you to say like

796
00:34:40,000 --> 00:34:44,639
look if you hit

797
00:34:41,599 --> 00:34:46,159
anywhere on the left half side if the

798
00:34:44,639 --> 00:34:48,079
corners on the right side

799
00:34:46,159 --> 00:34:50,398
then the sphere can glide around by

800
00:34:48,079 --> 00:34:53,519
moving in a curve diagonally around

801
00:34:50,398 --> 00:34:54,960
and that's what we want uh it to feel

802
00:34:53,519 --> 00:34:56,480
more like we don't want you to have to

803
00:34:54,960 --> 00:34:57,358
clear the entire corner and just kind of

804
00:34:56,480 --> 00:35:02,240
roll

805
00:34:57,358 --> 00:35:05,920
off the corner so the idea behind this

806
00:35:02,239 --> 00:35:08,959
is just to provide a different

807
00:35:05,920 --> 00:35:11,838
ways of having

808
00:35:08,960 --> 00:35:12,320
the collision feel this is strictly for

809
00:35:11,838 --> 00:35:15,039
feel

810
00:35:12,320 --> 00:35:16,960
right that's what it is uh so that it

811
00:35:15,039 --> 00:35:18,559
the game like makes itself

812
00:35:16,960 --> 00:35:20,000
uh i guess now i'm done with this i can

813
00:35:18,559 --> 00:35:21,039
actually line it properly and fork odor

814
00:35:20,000 --> 00:35:24,719
won't hopefully

815
00:35:21,039 --> 00:35:26,880
uh realign it for me so i think that's

816
00:35:24,719 --> 00:35:26,879
it

817
00:35:28,838 --> 00:35:33,039
um you know barring bugs and

818
00:35:31,440 --> 00:35:34,960
borrowing bugs in here i think that does

819
00:35:33,039 --> 00:35:36,960
everything we need so

820
00:35:34,960 --> 00:35:38,400
from then on all we do is we just say

821
00:35:36,960 --> 00:35:39,519
look shapes collide and here's our

822
00:35:38,400 --> 00:35:41,440
sphere information

823
00:35:39,519 --> 00:35:43,599
i don't actually think we need uh

824
00:35:41,440 --> 00:35:46,800
anything else there's any flags

825
00:35:43,599 --> 00:35:49,280
uh here we just need to add the one for

826
00:35:46,800 --> 00:35:49,280
the sphere

827
00:35:50,800 --> 00:35:54,560
and in theory this won't do anything

828
00:35:53,280 --> 00:35:57,440
hopefully

829
00:35:54,559 --> 00:35:58,880
it should just do its regular it's

830
00:35:57,440 --> 00:36:03,440
regular thing

831
00:35:58,880 --> 00:36:07,680
um what is the problem test entity

832
00:36:03,440 --> 00:36:10,000
is not known oh there you go

833
00:36:07,679 --> 00:36:12,399
um so in theory this should do nothing

834
00:36:10,000 --> 00:36:13,280
because nobody should have spherical

835
00:36:12,400 --> 00:36:16,880
collision

836
00:36:13,280 --> 00:36:19,760
set uh so when we run it

837
00:36:16,880 --> 00:36:21,519
um we should just have i mean it should

838
00:36:19,760 --> 00:36:24,839
just do exactly what it did before

839
00:36:21,519 --> 00:36:26,079
right everyone should collide as a

840
00:36:24,838 --> 00:36:30,239
rectangle

841
00:36:26,079 --> 00:36:33,440
and off we go if i change it to sphere

842
00:36:30,239 --> 00:36:36,239
so when we do the glove which i don't

843
00:36:33,440 --> 00:36:36,240
actually remember

844
00:36:38,838 --> 00:36:44,078
um

845
00:36:41,119 --> 00:36:44,079
where that is

846
00:36:46,960 --> 00:36:51,039
where do we create the glove

847
00:36:53,039 --> 00:36:55,838
is it in here

848
00:37:00,000 --> 00:37:03,760
it's in world mode so it was this one i

849
00:37:02,239 --> 00:37:05,358
guess yeah all right

850
00:37:03,760 --> 00:37:07,119
right because you at cause you don't

851
00:37:05,358 --> 00:37:08,000
create them at gen time you create them

852
00:37:07,119 --> 00:37:09,440
when a player enters

853
00:37:08,000 --> 00:37:11,199
the game because you can have multiple

854
00:37:09,440 --> 00:37:14,320
players and stuff yeah

855
00:37:11,199 --> 00:37:14,719
that makes sense not not dumb all right

856
00:37:14,320 --> 00:37:18,720
so

857
00:37:14,719 --> 00:37:23,838
glove right we create this thing um

858
00:37:18,719 --> 00:37:23,838
you know the flags

859
00:37:24,159 --> 00:37:26,960
um

860
00:37:28,000 --> 00:37:37,838
where did it go

861
00:37:38,159 --> 00:37:41,838
so the flags here uh we just want to ore

862
00:37:41,119 --> 00:37:43,680
this in

863
00:37:41,838 --> 00:37:45,039
so that it will you know know that it's

864
00:37:43,679 --> 00:37:46,559
supposed to be a sphere

865
00:37:45,039 --> 00:37:49,358
uh and the problem we're going to have

866
00:37:46,559 --> 00:37:52,320
now like obviously we want to debug this

867
00:37:49,358 --> 00:37:52,960
but also we don't know uh we can't see

868
00:37:52,320 --> 00:37:56,320
it

869
00:37:52,960 --> 00:37:58,159
is a problem right so we have no idea

870
00:37:56,320 --> 00:37:59,440
whether that got set correctly we have

871
00:37:58,159 --> 00:37:59,920
no way of seeing it it certainly doesn't

872
00:37:59,440 --> 00:38:02,000
seem

873
00:37:59,920 --> 00:38:02,960
like it did anything there so there's

874
00:38:02,000 --> 00:38:07,119
that

875
00:38:02,960 --> 00:38:08,639
but we don't even know if it's uh

876
00:38:07,119 --> 00:38:10,240
we don't even know if it's correctly set

877
00:38:08,639 --> 00:38:11,679
because we don't have any way to draw it

878
00:38:10,239 --> 00:38:13,439
right like i said we don't draw

879
00:38:11,679 --> 00:38:15,679
actual spheres there or anything like

880
00:38:13,440 --> 00:38:16,639
that um and so when we look at this

881
00:38:15,679 --> 00:38:18,719
thing we're just like

882
00:38:16,639 --> 00:38:19,759
i don't know like maybe it's a sphere

883
00:38:18,719 --> 00:38:22,959
maybe it's not

884
00:38:19,760 --> 00:38:25,760
so at the very least uh that i'll do the

885
00:38:22,960 --> 00:38:28,960
simplest thing i can

886
00:38:25,760 --> 00:38:33,359
which is i will just draw a different

887
00:38:28,960 --> 00:38:38,320
color for a spherical colliders

888
00:38:33,358 --> 00:38:38,319
just so we know like roughly um

889
00:38:41,440 --> 00:38:47,760
you know like blue will be for the

890
00:38:45,199 --> 00:38:49,118
regular rectangle colliders and red will

891
00:38:47,760 --> 00:38:52,640
be spheres or something

892
00:38:49,119 --> 00:38:54,480
right so nothing particularly fancy um

893
00:38:52,639 --> 00:38:55,838
but just in here right where we're

894
00:38:54,480 --> 00:39:01,679
picking the color

895
00:38:55,838 --> 00:39:04,880
uh i'll i'll do like a if entity flags

896
00:39:01,679 --> 00:39:07,919
and when they flag sphere

897
00:39:04,880 --> 00:39:10,240
we'll just change to being a different

898
00:39:07,920 --> 00:39:10,240
color

899
00:39:13,039 --> 00:39:17,119
and so you know um

900
00:39:19,280 --> 00:39:23,280
that way i can just verify that you know

901
00:39:21,599 --> 00:39:25,760
it is what i think it is

902
00:39:23,280 --> 00:39:26,960
and then we can move on to debugging

903
00:39:25,760 --> 00:39:28,720
from there so there you go

904
00:39:26,960 --> 00:39:30,800
so at least now we can see like okay

905
00:39:28,719 --> 00:39:33,279
that's supposed to be a sphere

906
00:39:30,800 --> 00:39:34,079
we know roughly what like i can't draw

907
00:39:33,280 --> 00:39:35,280
the sphere because you don't have a

908
00:39:34,079 --> 00:39:36,079
sphere drawing and i don't really want

909
00:39:35,280 --> 00:39:37,599
to add it

910
00:39:36,079 --> 00:39:40,160
because it's never going to appear in

911
00:39:37,599 --> 00:39:41,760
the game it would just be for debug

912
00:39:40,159 --> 00:39:43,199
we know the sphere is the thing that

913
00:39:41,760 --> 00:39:45,599
fits inside this

914
00:39:43,199 --> 00:39:46,399
cube right the radius is is as long as

915
00:39:45,599 --> 00:39:48,400
that

916
00:39:46,400 --> 00:39:51,920
so you know we know what it's supposed

917
00:39:48,400 --> 00:39:53,680
to do what it's supposed to look like

918
00:39:51,920 --> 00:39:55,039
and so we should be able to just debug

919
00:39:53,679 --> 00:39:59,919
it uh from there

920
00:39:55,039 --> 00:40:03,679
i will say um it's hard to say exactly

921
00:39:59,920 --> 00:40:03,680
what's going on there i mean that

922
00:40:09,199 --> 00:40:13,439
the problem with that is yeah like like

923
00:40:11,440 --> 00:40:17,838
it's gonna be hard to kind of know like

924
00:40:13,440 --> 00:40:19,200
is that correct or isn't it right um

925
00:40:17,838 --> 00:40:21,039
like like this is where we're probably

926
00:40:19,199 --> 00:40:22,559
gonna need like

927
00:40:21,039 --> 00:40:24,318
forget spheres we're gonna need like

928
00:40:22,559 --> 00:40:25,599
pretty good diagramming to like figure

929
00:40:24,318 --> 00:40:28,480
out the collision points and stuff like

930
00:40:25,599 --> 00:40:28,480
that so you know

931
00:40:33,519 --> 00:40:38,239
we'll see but point being at least we

932
00:40:37,039 --> 00:40:41,679
know that that

933
00:40:38,239 --> 00:40:43,759
is correct in terms of getting

934
00:40:41,679 --> 00:40:44,799
the gloves set to a spherical collision

935
00:40:43,760 --> 00:40:46,640
volume

936
00:40:44,800 --> 00:40:48,720
uh so let's take a look at these

937
00:40:46,639 --> 00:40:53,838
routines now and decide we want to do

938
00:40:48,719 --> 00:40:53,838
testing lines uh going forwards so

939
00:40:54,159 --> 00:40:58,078
uh with our collides at p here uh this

940
00:40:56,639 --> 00:40:59,838
is all pretty straightforward and you

941
00:40:58,079 --> 00:41:01,280
can see like mover is fair mover wreck

942
00:40:59,838 --> 00:41:04,078
test is for a test rect

943
00:41:01,280 --> 00:41:05,519
uh we're just passing in basically the

944
00:41:04,079 --> 00:41:07,760
flag and

945
00:41:05,519 --> 00:41:10,318
uh so we're just we're just looking at

946
00:41:07,760 --> 00:41:12,400
the testosphere and mover a sphere

947
00:41:10,318 --> 00:41:13,519
uh we're just looking at those two and

948
00:41:12,400 --> 00:41:16,559
passing them

949
00:41:13,519 --> 00:41:16,559
into shapes collide

950
00:41:16,639 --> 00:41:20,239
and like i said shapes collide is pretty

951
00:41:18,000 --> 00:41:21,920
straightforward so you can see that we

952
00:41:20,239 --> 00:41:24,399
ore together collision stuff

953
00:41:21,920 --> 00:41:25,680
and basically the first part of the

954
00:41:24,400 --> 00:41:28,400
collision is just

955
00:41:25,679 --> 00:41:30,000
these are the mask values so like if a

956
00:41:28,400 --> 00:41:31,680
is sphere b is fear we're going to run

957
00:41:30,000 --> 00:41:33,838
the sphere collection routine

958
00:41:31,679 --> 00:41:34,799
we're going to run the sphere collision

959
00:41:33,838 --> 00:41:38,159
detector

960
00:41:34,800 --> 00:41:41,200
a not b then we do b rect a sphere

961
00:41:38,159 --> 00:41:43,920
right not

962
00:41:41,199 --> 00:41:45,358
a b we do a rect b sphere and if they're

963
00:41:43,920 --> 00:41:46,318
neither of them spheres then we use the

964
00:41:45,358 --> 00:41:49,519
rectangle

965
00:41:46,318 --> 00:41:51,199
right now we assume the rectangle

966
00:41:49,519 --> 00:41:53,679
part is correct because that's what we

967
00:41:51,199 --> 00:41:55,039
were using uh we should probably look at

968
00:41:53,679 --> 00:41:57,358
this more carefully to make sure that it

969
00:41:55,039 --> 00:41:59,199
actually is correct but you know

970
00:41:57,358 --> 00:42:00,400
that one is not really what we would

971
00:41:59,199 --> 00:42:02,639
implicate right now

972
00:42:00,400 --> 00:42:04,559
we assume that this is not implicated

973
00:42:02,639 --> 00:42:05,358
because we know that we're never going

974
00:42:04,559 --> 00:42:08,799
to use it

975
00:42:05,358 --> 00:42:10,480
right because not both of these are not

976
00:42:08,800 --> 00:42:11,920
going to be true so we're really talking

977
00:42:10,480 --> 00:42:15,280
about these two cases

978
00:42:11,920 --> 00:42:16,159
a sphere not b sphere uh not a sphere b

979
00:42:15,280 --> 00:42:17,680
sphere

980
00:42:16,159 --> 00:42:19,519
those are the two cases we don't know

981
00:42:17,679 --> 00:42:21,838
which one we're looking at at the moment

982
00:42:19,519 --> 00:42:23,920
um well i guess we kind of do because we

983
00:42:21,838 --> 00:42:26,799
always pass the mover first

984
00:42:23,920 --> 00:42:28,400
so in this case we know specifically uh

985
00:42:26,800 --> 00:42:29,359
that we're going to be doing a sphere

986
00:42:28,400 --> 00:42:30,960
not b sphere

987
00:42:29,358 --> 00:42:32,880
so so this is the case that we'd

988
00:42:30,960 --> 00:42:35,119
actually be looking at in this one right

989
00:42:32,880 --> 00:42:37,599
here

990
00:42:35,119 --> 00:42:38,960
um so b erect a sphere is what we would

991
00:42:37,599 --> 00:42:40,400
be interested in

992
00:42:38,960 --> 00:42:43,199
and you can kind of see here that we

993
00:42:40,400 --> 00:42:46,800
look all right so what's the square

994
00:42:43,199 --> 00:42:50,000
of the radius of a um

995
00:42:46,800 --> 00:42:51,280
and you know i wouldn't have

996
00:42:50,000 --> 00:42:53,679
a lot of concern that that would be

997
00:42:51,280 --> 00:42:55,359
wrong it's a very simple computation

998
00:42:53,679 --> 00:42:57,199
right it's just saying what's the x

999
00:42:55,358 --> 00:42:58,480
dimension

1000
00:42:57,199 --> 00:43:00,318
uh and we're going to take half of that

1001
00:42:58,480 --> 00:43:02,240
because because the diameter would be

1002
00:43:00,318 --> 00:43:05,519
the dimension the diameter

1003
00:43:02,239 --> 00:43:06,879
are the same um so the radius is going

1004
00:43:05,519 --> 00:43:09,599
to be half that right so that seems

1005
00:43:06,880 --> 00:43:09,599
pretty straightforward

1006
00:43:09,679 --> 00:43:13,679
this here is just looking at how far you

1007
00:43:11,599 --> 00:43:15,680
have to go to reach the closest point so

1008
00:43:13,679 --> 00:43:20,399
we're saying the center of a

1009
00:43:15,679 --> 00:43:22,078
which is the um the center of the sphere

1010
00:43:20,400 --> 00:43:24,880
uh and the closest point on the

1011
00:43:22,079 --> 00:43:28,000
rectangle like how far apart are they

1012
00:43:24,880 --> 00:43:29,599
right um and again this

1013
00:43:28,000 --> 00:43:31,760
you know fairly straightforward so the

1014
00:43:29,599 --> 00:43:34,079
as a collision check that seems pretty

1015
00:43:31,760 --> 00:43:35,119
clean to me because all we're all are

1016
00:43:34,079 --> 00:43:38,880
asking

1017
00:43:35,119 --> 00:43:42,640
is if we took the closest point

1018
00:43:38,880 --> 00:43:45,920
that we could find uh

1019
00:43:42,639 --> 00:43:45,920
to the sphere's center

1020
00:43:46,400 --> 00:43:52,079
if that is more than the radius away

1021
00:43:50,480 --> 00:43:54,000
then we're obviously not colliding

1022
00:43:52,079 --> 00:43:55,920
because the sphere is only the radius

1023
00:43:54,000 --> 00:43:57,119
long so it would never reach the closest

1024
00:43:55,920 --> 00:43:58,800
point

1025
00:43:57,119 --> 00:44:00,318
if it's less than the closest point well

1026
00:43:58,800 --> 00:44:02,800
then it's obviously intersecting

1027
00:44:00,318 --> 00:44:04,159
right so it's a pretty simple algorithm

1028
00:44:02,800 --> 00:44:08,000
i chose there

1029
00:44:04,159 --> 00:44:11,358
so looking at this we don't use closest

1030
00:44:08,000 --> 00:44:15,519
a we do use closest b uh and closest b

1031
00:44:11,358 --> 00:44:18,559
says all right whatever the minimum

1032
00:44:15,519 --> 00:44:19,199
is uh well i guess we start starting the

1033
00:44:18,559 --> 00:44:22,400
inside

1034
00:44:19,199 --> 00:44:26,318
whatever the maximum is of the

1035
00:44:22,400 --> 00:44:27,358
minimum of the box so the min corner of

1036
00:44:26,318 --> 00:44:30,559
the box

1037
00:44:27,358 --> 00:44:33,838
and the center of the sphere right so

1038
00:44:30,559 --> 00:44:33,838
whichever one is less

1039
00:44:35,440 --> 00:44:40,000
sorry whichever one is greater uh and

1040
00:44:38,719 --> 00:44:42,000
the reason that we do that

1041
00:44:40,000 --> 00:44:43,599
is we basically basically say all right

1042
00:44:42,000 --> 00:44:45,920
the minimum corner of the box

1043
00:44:43,599 --> 00:44:47,519
and the center of the sphere we want to

1044
00:44:45,920 --> 00:44:48,960
take whichever one is higher because

1045
00:44:47,519 --> 00:44:50,159
we're basically trying to say like look

1046
00:44:48,960 --> 00:44:54,639
if the sphere

1047
00:44:50,159 --> 00:44:55,679
was um on the min side so if it was less

1048
00:44:54,639 --> 00:44:58,960
if it was

1049
00:44:55,679 --> 00:45:01,919
uh to the negative of

1050
00:44:58,960 --> 00:45:02,720
the box then we want to just pick the

1051
00:45:01,920 --> 00:45:05,440
minimum

1052
00:45:02,719 --> 00:45:07,039
corner right and we want to do that for

1053
00:45:05,440 --> 00:45:08,559
all of the dimensions independently

1054
00:45:07,039 --> 00:45:10,239
which this will do

1055
00:45:08,559 --> 00:45:12,000
and that produces a particular point

1056
00:45:10,239 --> 00:45:14,479
right um

1057
00:45:12,000 --> 00:45:15,358
and then we just take the minimum for of

1058
00:45:14,480 --> 00:45:17,440
the maximum

1059
00:45:15,358 --> 00:45:18,799
and that point which will do the same

1060
00:45:17,440 --> 00:45:21,838
thing for the other side

1061
00:45:18,800 --> 00:45:24,079
and that will produce the closest point

1062
00:45:21,838 --> 00:45:24,078
right

1063
00:45:26,130 --> 00:45:29,619
[Music]

1064
00:45:30,838 --> 00:45:33,838
so

1065
00:45:38,239 --> 00:45:44,838
excuse me um so i think that's all good

1066
00:45:43,320 --> 00:45:46,880
[Music]

1067
00:45:44,838 --> 00:45:49,759
um

1068
00:45:46,880 --> 00:45:50,720
and that all looks pretty solid so

1069
00:45:49,760 --> 00:45:53,760
really what i would

1070
00:45:50,719 --> 00:45:55,279
like to do here i mean

1071
00:45:53,760 --> 00:45:56,880
what i'd like to do here is do some

1072
00:45:55,280 --> 00:45:58,079
diagramming and again it's the hardest

1073
00:45:56,880 --> 00:46:00,318
thing in handmade hero because we really

1074
00:45:58,079 --> 00:46:03,920
haven't built out anything for it

1075
00:46:00,318 --> 00:46:06,559
um but what i'd like to be able to do

1076
00:46:03,920 --> 00:46:07,599
ideally is be able to move a little

1077
00:46:06,559 --> 00:46:10,719
circle around

1078
00:46:07,599 --> 00:46:14,720
a little sphere around and validate that

1079
00:46:10,719 --> 00:46:18,159
as i touch it to the

1080
00:46:14,719 --> 00:46:22,399
um as i touch it

1081
00:46:18,159 --> 00:46:24,000
to the box that they collide and as i

1082
00:46:22,400 --> 00:46:24,960
move it apart that they don't right i'd

1083
00:46:24,000 --> 00:46:29,838
like to be able to

1084
00:46:24,960 --> 00:46:29,838
to actually interactively do that um

1085
00:46:33,039 --> 00:46:39,199
that's what i would normally do um

1086
00:46:37,760 --> 00:46:42,319
maybe i just have to build that i don't

1087
00:46:39,199 --> 00:46:44,639
know it just it takes a while right

1088
00:46:42,318 --> 00:46:46,960
um but that's what i would like to see

1089
00:46:44,639 --> 00:46:49,519
here because i want to know

1090
00:46:46,960 --> 00:46:50,960
um i want to be able to like test

1091
00:46:49,519 --> 00:46:54,880
visually

1092
00:46:50,960 --> 00:46:54,880
because looking at it numerically

1093
00:46:55,199 --> 00:47:11,838
it's very hard to know if it's working

1094
00:46:58,480 --> 00:47:11,838
correctly um

1095
00:47:22,838 --> 00:47:25,838
um

1096
00:47:35,440 --> 00:47:39,119
i mean i suppose i could do like some

1097
00:47:37,519 --> 00:47:42,880
testing of this routine

1098
00:47:39,119 --> 00:47:44,079
non-visually you know i mean i could

1099
00:47:42,880 --> 00:47:46,480
write something that

1100
00:47:44,079 --> 00:47:47,760
calls it kind of in a for loop with the

1101
00:47:46,480 --> 00:47:49,440
sphere getting closer

1102
00:47:47,760 --> 00:47:51,520
and then while it's moving through it

1103
00:47:49,440 --> 00:47:53,838
would test it you know

1104
00:47:51,519 --> 00:47:53,838
um

1105
00:48:07,838 --> 00:48:12,400
it's just not as good you know visual

1106
00:48:10,880 --> 00:48:16,480
tests for collision

1107
00:48:12,400 --> 00:48:21,200
things are always better than than like

1108
00:48:16,480 --> 00:48:24,240
a unit test or something because

1109
00:48:21,199 --> 00:48:25,838
especially if they find a bug it's very

1110
00:48:24,239 --> 00:48:29,358
hard for you to like

1111
00:48:25,838 --> 00:48:31,519
intuit what the bug is if you don't have

1112
00:48:29,358 --> 00:48:36,078
a way to see it

1113
00:48:31,519 --> 00:48:38,318
you know um so that's the thing

1114
00:48:36,079 --> 00:48:38,318
uh

1115
00:48:43,280 --> 00:48:48,319
um so yeah you know that that's the

1116
00:48:46,079 --> 00:48:50,880
thing and it would be nice right

1117
00:48:48,318 --> 00:48:53,039
uh it would be nice if we could could do

1118
00:48:50,880 --> 00:48:53,039
it

1119
00:49:00,838 --> 00:49:03,838
um

1120
00:49:17,199 --> 00:49:21,358
so i guess what i'd say is i mean i have

1121
00:49:19,358 --> 00:49:22,318
a little bit of visualization already so

1122
00:49:21,358 --> 00:49:24,400
maybe i can

1123
00:49:22,318 --> 00:49:25,838
let me just see what i can do with what

1124
00:49:24,400 --> 00:49:27,680
we've got

1125
00:49:25,838 --> 00:49:29,440
uh and see if i can improve it to the

1126
00:49:27,679 --> 00:49:32,799
point where this

1127
00:49:29,440 --> 00:49:36,079
um would

1128
00:49:32,800 --> 00:49:38,400
work better i don't know

1129
00:49:36,079 --> 00:49:38,400
um

1130
00:49:41,440 --> 00:49:46,079
yeah so the other thing that's important

1131
00:49:43,838 --> 00:49:49,440
to look at here

1132
00:49:46,079 --> 00:49:52,640
is like this can be improved

1133
00:49:49,440 --> 00:49:56,559
really dramatically as well

1134
00:49:52,639 --> 00:49:58,159
the unembed direction we now have a lot

1135
00:49:56,559 --> 00:49:59,839
more information about it

1136
00:49:58,159 --> 00:50:01,679
so for example if two spheres are

1137
00:49:59,838 --> 00:50:02,558
colliding then the unembed direction is

1138
00:50:01,679 --> 00:50:05,199
just the difference

1139
00:50:02,559 --> 00:50:07,680
of their centers right which we we

1140
00:50:05,199 --> 00:50:07,679
already know

1141
00:50:08,719 --> 00:50:14,639
um so like

1142
00:50:11,838 --> 00:50:15,119
and the same would be true here so these

1143
00:50:14,639 --> 00:50:18,480
these

1144
00:50:15,119 --> 00:50:22,240
values for for rectangle stuff

1145
00:50:18,480 --> 00:50:26,960
we still aren't um

1146
00:50:22,239 --> 00:50:30,000
actually computing that separation

1147
00:50:26,960 --> 00:50:33,920
we could change this

1148
00:50:30,000 --> 00:50:36,239
uh to be doing it based off of centers

1149
00:50:33,920 --> 00:50:37,680
and then i do think we could compute it

1150
00:50:36,239 --> 00:50:40,509
much more straightforward

1151
00:50:37,679 --> 00:50:42,480
uh what that separation

1152
00:50:40,510 --> 00:50:47,280
[Music]

1153
00:50:42,480 --> 00:50:47,280
direction should actually be um

1154
00:50:49,119 --> 00:50:52,400
but for everything else so for for the

1155
00:50:51,519 --> 00:50:55,838
rest of these

1156
00:50:52,400 --> 00:50:58,240
we do know what it is right um

1157
00:50:55,838 --> 00:50:59,039
and it's slightly better than this so in

1158
00:50:58,239 --> 00:51:01,759
this case

1159
00:50:59,039 --> 00:51:02,960
this is true this is correct for spheres

1160
00:51:01,760 --> 00:51:06,160
because it's going to be the same

1161
00:51:02,960 --> 00:51:08,559
as this right it's the same value um

1162
00:51:06,159 --> 00:51:09,358
but for non-spheres this is an

1163
00:51:08,559 --> 00:51:11,519
improvement

1164
00:51:09,358 --> 00:51:12,400
because it looks for what the closest

1165
00:51:11,519 --> 00:51:14,318
point is

1166
00:51:12,400 --> 00:51:16,000
on the box and then uses the center

1167
00:51:14,318 --> 00:51:16,480
point of the sphere that's going to be

1168
00:51:16,000 --> 00:51:18,159
the

1169
00:51:16,480 --> 00:51:19,679
direction that you could move the sphere

1170
00:51:18,159 --> 00:51:22,799
out most quickly

1171
00:51:19,679 --> 00:51:26,639
so that's the that's the easiest way

1172
00:51:22,800 --> 00:51:30,559
to move out of there

1173
00:51:26,639 --> 00:51:30,558
and so this uh

1174
00:51:30,719 --> 00:51:34,838
this could be improved by just having it

1175
00:51:33,519 --> 00:51:37,679
be that

1176
00:51:34,838 --> 00:51:39,199
right um so that's another place where

1177
00:51:37,679 --> 00:51:51,838
that could be

1178
00:51:39,199 --> 00:51:51,838
done better um

1179
00:51:58,800 --> 00:52:05,839
uh and so you know we should probably do

1180
00:52:00,639 --> 00:52:05,838
that too

1181
00:52:06,159 --> 00:52:19,838
at some point

1182
00:52:29,838 --> 00:52:37,358
so yeah um something to think about

1183
00:52:33,679 --> 00:52:40,719
anyway um so yeah so looking at this

1184
00:52:37,358 --> 00:52:44,960
when we draw the collides at p uh

1185
00:52:40,719 --> 00:52:47,838
stuff you can kind of see like

1186
00:52:44,960 --> 00:52:47,838
when we

1187
00:53:01,199 --> 00:53:04,399
like when we look at this stuff you can

1188
00:53:02,800 --> 00:53:06,480
there's so many things we'd really like

1189
00:53:04,400 --> 00:53:08,480
to draw more

1190
00:53:06,480 --> 00:53:09,679
i i'm just really torn about what to do

1191
00:53:08,480 --> 00:53:12,559
here because it's

1192
00:53:09,679 --> 00:53:14,318
you know it's always a an issue on

1193
00:53:12,559 --> 00:53:16,559
handmade hero because it's like

1194
00:53:14,318 --> 00:53:17,358
i try to do stuff sort of like what you

1195
00:53:16,559 --> 00:53:20,240
do

1196
00:53:17,358 --> 00:53:21,279
if you were actually programming for

1197
00:53:20,239 --> 00:53:24,639
real

1198
00:53:21,280 --> 00:53:25,920
uh but the reality is we can't actually

1199
00:53:24,639 --> 00:53:29,598
really do that

1200
00:53:25,920 --> 00:53:31,599
because it would just take too long

1201
00:53:29,599 --> 00:53:33,440
because engine work takes a long time

1202
00:53:31,599 --> 00:53:35,039
and normally you have eight hours a day

1203
00:53:33,440 --> 00:53:37,838
to do it and you definitely don't have

1204
00:53:35,039 --> 00:53:40,239
eight hours a day to do it on the stream

1205
00:53:37,838 --> 00:53:42,318
um you know the amount of hours we've

1206
00:53:40,239 --> 00:53:44,078
spent on handmade heroes so far is like

1207
00:53:42,318 --> 00:53:46,800
so tiny compared to the amount of hours

1208
00:53:44,079 --> 00:53:48,480
you spend on making a game engine

1209
00:53:46,800 --> 00:53:50,160
you know that like we we haven't even

1210
00:53:48,480 --> 00:53:52,318
gotten it's been like i don't know five

1211
00:53:50,159 --> 00:53:54,159
years of handmade hero

1212
00:53:52,318 --> 00:53:55,358
but it's only added up to less than a

1213
00:53:54,159 --> 00:53:59,199
year's worth of

1214
00:53:55,358 --> 00:54:02,078
of actual work if you were to lay it out

1215
00:53:59,199 --> 00:54:03,598
on an actual work calendar so the

1216
00:54:02,079 --> 00:54:05,280
problem is i always have this problem of

1217
00:54:03,599 --> 00:54:06,800
like well you know the obviously the

1218
00:54:05,280 --> 00:54:07,359
right thing to do here is to make a

1219
00:54:06,800 --> 00:54:09,359
little

1220
00:54:07,358 --> 00:54:11,759
app so we can look at this so we can

1221
00:54:09,358 --> 00:54:14,000
just visualize it

1222
00:54:11,760 --> 00:54:15,440
properly and watch really carefully each

1223
00:54:14,000 --> 00:54:16,960
individual step because there's almost

1224
00:54:15,440 --> 00:54:18,800
certainly bugs in here

1225
00:54:16,960 --> 00:54:20,400
and we just don't know what they are and

1226
00:54:18,800 --> 00:54:22,720
there's no real way to

1227
00:54:20,400 --> 00:54:24,400
analyze it other than visually because

1228
00:54:22,719 --> 00:54:25,439
the only definition for the correct

1229
00:54:24,400 --> 00:54:28,079
answer

1230
00:54:25,440 --> 00:54:29,599
for motion like this is that it visually

1231
00:54:28,079 --> 00:54:32,480
does what we think it should

1232
00:54:29,599 --> 00:54:35,119
right um there's no like rigorous

1233
00:54:32,480 --> 00:54:37,838
mathematical definition

1234
00:54:35,119 --> 00:54:39,039
that we can apply to this motion stuff

1235
00:54:37,838 --> 00:54:43,199
right it's just like

1236
00:54:39,039 --> 00:54:53,838
it should generally allow things to move

1237
00:54:43,199 --> 00:54:53,838
in a way that makes sense right so

1238
00:55:18,838 --> 00:55:21,838
um

1239
00:55:34,798 --> 00:55:37,920
so i guess what i'm going to do because

1240
00:55:36,719 --> 00:55:41,199
i don't know

1241
00:55:37,920 --> 00:55:45,039
what else i should do here um is i guess

1242
00:55:41,199 --> 00:55:45,039
i'm just going to try to instrument this

1243
00:55:45,358 --> 00:55:48,639
i i really don't know what else to do

1244
00:55:48,079 --> 00:55:50,318
this

1245
00:55:48,639 --> 00:55:52,798
i think that's probably the most

1246
00:55:50,318 --> 00:55:56,239
straightforward thing i can do

1247
00:55:52,798 --> 00:55:59,838
uh is is actually try to instrument it

1248
00:55:56,239 --> 00:55:59,838
and uh

1249
00:56:00,239 --> 00:56:03,919
yeah like i really just don't know what

1250
00:56:02,719 --> 00:56:07,279
else

1251
00:56:03,920 --> 00:56:07,838
so the way that i'm gonna instrument it

1252
00:56:07,280 --> 00:56:11,359
is

1253
00:56:07,838 --> 00:56:13,199
is you know just

1254
00:56:11,358 --> 00:56:17,279
pretty straightforward like i'm just

1255
00:56:13,199 --> 00:56:20,399
gonna go like all right

1256
00:56:17,280 --> 00:56:23,519
um let's make a

1257
00:56:20,400 --> 00:56:27,358
a part here that's like if you know

1258
00:56:23,519 --> 00:56:29,199
collision instrument collision

1259
00:56:27,358 --> 00:56:30,558
or whatever so there's just going to be

1260
00:56:29,199 --> 00:56:33,759
like a giant chunk of code

1261
00:56:30,559 --> 00:56:38,960
comes in here and we just say okay

1262
00:56:33,760 --> 00:56:38,960
so if a is fear and b is fair uh

1263
00:56:39,358 --> 00:56:44,480
well and and more specifically i guess i

1264
00:56:41,760 --> 00:56:44,480
could just say

1265
00:56:46,000 --> 00:56:50,159
something like this right um

1266
00:56:55,358 --> 00:56:59,598
and i can draw the box in the sphere i

1267
00:56:57,440 --> 00:57:00,000
can draw the actual separation between

1268
00:56:59,599 --> 00:57:03,680
them

1269
00:57:00,000 --> 00:57:05,039
and look um again i kind of feel like we

1270
00:57:03,679 --> 00:57:08,000
should change this

1271
00:57:05,039 --> 00:57:09,119
rectangle definition the way that we're

1272
00:57:08,000 --> 00:57:11,599
doing this

1273
00:57:09,119 --> 00:57:12,960
uh because if you look at how it works

1274
00:57:11,599 --> 00:57:16,000
it wouldn't be

1275
00:57:12,960 --> 00:57:17,679
hard to just look at because the way

1276
00:57:16,000 --> 00:57:19,039
that we're doing the rest of these

1277
00:57:17,679 --> 00:57:21,279
is basically just looking at the

1278
00:57:19,039 --> 00:57:21,679
separation right we're just going like

1279
00:57:21,280 --> 00:57:23,680
look

1280
00:57:21,679 --> 00:57:25,519
how far away are these two things if

1281
00:57:23,679 --> 00:57:29,919
they're further away

1282
00:57:25,519 --> 00:57:29,920
than their size right

1283
00:57:30,318 --> 00:57:37,279
then they're not intersecting

1284
00:57:33,920 --> 00:57:38,400
right i mean it's not it's not rocket

1285
00:57:37,280 --> 00:57:40,240
science

1286
00:57:38,400 --> 00:57:42,318
this one is not this one is like a

1287
00:57:40,239 --> 00:57:46,078
direct overlap test

1288
00:57:42,318 --> 00:57:54,159
um but if you you know imagine

1289
00:57:46,079 --> 00:57:57,200
doing it differently

1290
00:57:54,159 --> 00:58:00,318
uh you could you could say something

1291
00:57:57,199 --> 00:58:00,318
like um

1292
00:58:01,679 --> 00:58:09,358
you know uh the center delta

1293
00:58:05,760 --> 00:58:12,160
x uh if if that

1294
00:58:09,358 --> 00:58:12,159
is um

1295
00:58:12,639 --> 00:58:14,960
um

1296
00:58:17,920 --> 00:58:37,838
if if that's if that's less than

1297
00:58:22,559 --> 00:58:37,839
then the dim like you know

1298
00:58:39,920 --> 00:58:44,720
so something like this so you basically

1299
00:58:42,239 --> 00:58:46,318
like look there's the radius

1300
00:58:44,719 --> 00:58:48,318
um everyone who was using the radius

1301
00:58:46,318 --> 00:58:49,838
before now uses like

1302
00:58:48,318 --> 00:58:51,519
just a part of the radius because for

1303
00:58:49,838 --> 00:58:53,920
spheres we're not going to consider

1304
00:58:51,519 --> 00:58:54,719
we're not ellipsoids but in this case

1305
00:58:53,920 --> 00:58:57,519
then we just say

1306
00:58:54,719 --> 00:58:57,519
look uh

1307
00:58:57,920 --> 00:59:05,838
and in fact we could do this

1308
00:59:12,559 --> 00:59:16,839
you know and so in that case we would

1309
00:59:15,358 --> 00:59:19,838
just say

1310
00:59:16,838 --> 00:59:21,759
okay we've got the total radius and then

1311
00:59:19,838 --> 00:59:26,078
we've got radius a and b

1312
00:59:21,760 --> 00:59:33,839
uh and so i think uh

1313
00:59:26,079 --> 00:59:33,839
it's this right

1314
00:59:37,920 --> 00:59:41,599
like if the separation of these things

1315
00:59:40,079 --> 00:59:44,079
in any particular axis

1316
00:59:41,599 --> 00:59:45,519
is less than the combined length in that

1317
00:59:44,079 --> 00:59:47,599
axis

1318
00:59:45,519 --> 00:59:49,358
then i'm sorry the command radius and

1319
00:59:47,599 --> 00:59:52,798
that axis

1320
00:59:49,358 --> 00:59:56,000
then you collide right

1321
00:59:52,798 --> 00:59:59,838
um and so if you look at that

1322
00:59:56,000 --> 01:00:01,599
it then looks the same as like these

1323
00:59:59,838 --> 01:00:05,759
right we've done them all now

1324
01:00:01,599 --> 01:00:08,720
in terms of some kind of a separation

1325
01:00:05,760 --> 01:00:08,720
uh between the two

1326
01:00:11,440 --> 01:00:16,000
and they just start smushing like closer

1327
01:00:14,719 --> 01:00:19,439
together

1328
01:00:16,000 --> 01:00:23,119
right you know what i'm saying

1329
01:00:19,440 --> 01:00:26,000
uh and i think we can do that

1330
01:00:23,119 --> 01:00:28,640
right i think we can do this and we just

1331
01:00:26,000 --> 01:00:31,679
get rid of this

1332
01:00:28,639 --> 01:00:34,960
and i think that would work right

1333
01:00:31,679 --> 01:00:37,358
let me just prove to myself that it sort

1334
01:00:34,960 --> 01:00:37,358
of does

1335
01:00:39,199 --> 01:00:42,219
but it's like if we're going to start

1336
01:00:40,239 --> 01:00:43,838
testing this routine i want to actually

1337
01:00:42,219 --> 01:00:48,480
[Music]

1338
01:00:43,838 --> 01:00:48,480
want to actually test it right so

1339
01:00:48,798 --> 01:00:52,318
i like moving this glove around crazy

1340
01:00:50,480 --> 01:00:57,039
like that

1341
01:00:52,318 --> 01:00:58,719
it's like the uh the um spring gets

1342
01:00:57,039 --> 01:01:00,719
because it's just a crappy spring thing

1343
01:00:58,719 --> 01:01:02,480
it doesn't have any intelligence in it

1344
01:01:00,719 --> 01:01:04,798
it gets super wound up and then it can

1345
01:01:02,480 --> 01:01:08,400
go super fast because we don't have any

1346
01:01:04,798 --> 01:01:25,838
uh caps on it right looks like that's

1347
01:01:08,400 --> 01:01:25,838
broken so no what did i do wrong here

1348
01:01:27,920 --> 01:01:33,440
oh duh just the wrong

1349
01:01:34,798 --> 01:01:39,599
sorry about that it has to be

1350
01:01:38,400 --> 01:01:41,760
touching and all it has to be

1351
01:01:39,599 --> 01:01:42,400
overlapping in all three i don't know

1352
01:01:41,760 --> 01:01:52,480
why

1353
01:01:42,400 --> 01:01:55,280
um yeah sorry sorry about that my bad

1354
01:01:52,480 --> 01:01:56,960
uh so yeah anyway point being um i'm

1355
01:01:55,280 --> 01:01:57,920
going to smush these down into a more

1356
01:01:56,960 --> 01:01:59,760
compact routine

1357
01:01:57,920 --> 01:02:02,000
and then i'm going to try to visualize

1358
01:01:59,760 --> 01:02:03,760
it as best i can

1359
01:02:02,000 --> 01:02:06,159
uh and we'll just go with that for now

1360
01:02:03,760 --> 01:02:07,599
because yeah making like an entire

1361
01:02:06,159 --> 01:02:09,038
like test thing which is what i would

1362
01:02:07,599 --> 01:02:10,160
like to do is probably not super

1363
01:02:09,039 --> 01:02:11,760
feasible

1364
01:02:10,159 --> 01:02:13,199
uh looks like that's still broken

1365
01:02:11,760 --> 01:02:14,480
somehow i feel like that's correct

1366
01:02:13,199 --> 01:02:16,239
though right like

1367
01:02:14,480 --> 01:02:18,559
the rectangles intersect if the center

1368
01:02:16,239 --> 01:02:22,959
delta is less than the radius

1369
01:02:18,559 --> 01:02:22,960
in each direction um

1370
01:02:23,599 --> 01:02:28,480
oh nope still still screwing up

1371
01:02:30,000 --> 01:02:35,838
these are signed

1372
01:02:37,280 --> 01:02:45,760
right um so we can do it that way

1373
01:02:42,239 --> 01:02:48,719
and you know that's fine um

1374
01:02:45,760 --> 01:02:50,160
but i think i probably wouldn't i think

1375
01:02:48,719 --> 01:02:52,639
what i'd probably do

1376
01:02:50,159 --> 01:02:52,639
is this

1377
01:02:54,559 --> 01:02:59,680
right um again because i'm just trying

1378
01:02:58,719 --> 01:03:02,959
to keep this

1379
01:02:59,679 --> 01:03:06,078
all looking roughly the same

1380
01:03:02,960 --> 01:03:07,838
because i want to smush it down

1381
01:03:06,079 --> 01:03:10,640
right i want to keep smoosh i want to

1382
01:03:07,838 --> 01:03:10,639
keep smooshing

1383
01:03:11,760 --> 01:03:16,559
as it were so rather than absolute value

1384
01:03:14,960 --> 01:03:18,079
i'm just going to square them which is

1385
01:03:16,559 --> 01:03:19,200
the same as absolute value for our

1386
01:03:18,079 --> 01:03:20,480
purposes

1387
01:03:19,199 --> 01:03:22,480
because it will ensure that they're

1388
01:03:20,480 --> 01:03:25,280
always positive and we're only doing

1389
01:03:22,480 --> 01:03:26,798
a comparison so if we square both sides

1390
01:03:25,280 --> 01:03:31,039
the comparison will still

1391
01:03:26,798 --> 01:03:34,480
hold um

1392
01:03:31,039 --> 01:03:37,680
right uh and it it will

1393
01:03:34,480 --> 01:03:37,679
get rid of the negatives

1394
01:03:39,599 --> 01:03:47,838
salty hello

1395
01:03:44,400 --> 01:03:50,720
oh who's the puss who's the ultimate

1396
01:03:47,838 --> 01:03:50,719
programming puss

1397
01:03:51,358 --> 01:03:55,679
do you want to enter some code do you

1398
01:03:53,440 --> 01:03:59,838
want to put some code in

1399
01:03:55,679 --> 01:03:59,838
yeah you do okay

1400
01:04:10,838 --> 01:04:14,719
okay

1401
01:04:12,318 --> 01:04:17,519
do you want to talk to the chat do you

1402
01:04:14,719 --> 01:04:17,519
want to read the chat

1403
01:04:18,318 --> 01:04:24,639
chad always likes it when you show up

1404
01:04:21,519 --> 01:04:27,838
well some of the chat does anyway the

1405
01:04:24,639 --> 01:04:27,838
cat people

1406
01:04:37,440 --> 01:04:39,760
hmm

1407
01:04:42,798 --> 01:04:47,920
big tummy kiss all right um

1408
01:04:46,159 --> 01:04:50,078
i don't know what the puss is up to at

1409
01:04:47,920 --> 01:04:52,798
the moment um

1410
01:04:50,079 --> 01:04:54,400
she may just be hanging out or she may

1411
01:04:52,798 --> 01:04:56,798
be mousing around i don't know

1412
01:04:54,400 --> 01:04:58,000
so we'll see what do you want to do puss

1413
01:04:56,798 --> 01:04:58,960
what are you up to do you wanna sit do

1414
01:04:58,000 --> 01:05:01,039
you wanna sit in my lap

1415
01:04:58,960 --> 01:05:02,079
do you wanna are you mousing around or

1416
01:05:01,039 --> 01:05:02,880
are you just hanging out i don't know

1417
01:05:02,079 --> 01:05:05,760
what you're doing

1418
01:05:02,880 --> 01:05:07,119
what are you doing what are you doing

1419
01:05:05,760 --> 01:05:10,160
hmm

1420
01:05:07,119 --> 01:05:13,200
what do you think you got

1421
01:05:10,159 --> 01:05:16,879
you got any opinions on it

1422
01:05:13,199 --> 01:05:16,879
okay all right

1423
01:05:20,838 --> 01:05:26,159
um

1424
01:05:23,679 --> 01:05:27,358
well while the puss is pussing around um

1425
01:05:26,159 --> 01:05:30,639
i'm gonna go

1426
01:05:27,358 --> 01:05:31,598
uh hop over here and just play with this

1427
01:05:30,639 --> 01:05:34,719
a little and see

1428
01:05:31,599 --> 01:05:36,640
if that fixed the uh the stupid thing i

1429
01:05:34,719 --> 01:05:41,519
did with the um

1430
01:05:36,639 --> 01:05:43,440
rectangles yeah looks like it's fine now

1431
01:05:41,519 --> 01:05:45,038
uh although it may not be colliding

1432
01:05:43,440 --> 01:05:48,880
properly let's double check

1433
01:05:45,039 --> 01:05:51,760
no it does looks good yep

1434
01:05:48,880 --> 01:05:52,559
um so now we're really close come on

1435
01:05:51,760 --> 01:05:55,920
come on

1436
01:05:52,559 --> 01:05:59,599
come on okay okay

1437
01:05:55,920 --> 01:06:02,480
that's a good puss um

1438
01:05:59,599 --> 01:06:04,960
so now we're really close uh in terms of

1439
01:06:02,480 --> 01:06:08,798
how these things are getting computed

1440
01:06:04,960 --> 01:06:11,358
right um

1441
01:06:08,798 --> 01:06:12,480
you can see that these are like getting

1442
01:06:11,358 --> 01:06:15,598
to be very sort of

1443
01:06:12,480 --> 01:06:18,318
similar sorts of computations which is

1444
01:06:15,599 --> 01:06:18,318
what i wanted

1445
01:06:19,199 --> 01:06:25,759
and i feel like there might be a way to

1446
01:06:23,760 --> 01:06:28,319
just kind of simplify this down more

1447
01:06:25,760 --> 01:06:28,319
as we go

1448
01:06:29,679 --> 01:06:33,199
we don't have to do it right now but i

1449
01:06:31,119 --> 01:06:34,720
wanted him to all look like that because

1450
01:06:33,199 --> 01:06:36,239
you can see that there's like a pattern

1451
01:06:34,719 --> 01:06:39,679
emerging right

1452
01:06:36,239 --> 01:06:42,719
where there's like you square both sides

1453
01:06:39,679 --> 01:06:43,679
of the thing and you do a less than

1454
01:06:42,719 --> 01:06:47,358
comparison

1455
01:06:43,679 --> 01:06:48,318
so that's always the same and the only

1456
01:06:47,358 --> 01:06:51,679
difference

1457
01:06:48,318 --> 01:06:55,599
right is whether you sum

1458
01:06:51,679 --> 01:07:00,078
the squares or whether you don't

1459
01:06:55,599 --> 01:07:02,000
right um it's mostly what's going on uh

1460
01:07:00,079 --> 01:07:03,280
and the the other side is basically

1461
01:07:02,000 --> 01:07:05,199
always the same

1462
01:07:03,280 --> 01:07:06,960
the only difference is whether you smush

1463
01:07:05,199 --> 01:07:07,759
x out to all of them or leave it the

1464
01:07:06,960 --> 01:07:10,240
same

1465
01:07:07,760 --> 01:07:12,160
so i don't know to what is okay the pus

1466
01:07:10,239 --> 01:07:15,519
is scrolling the mouse now

1467
01:07:12,159 --> 01:07:18,399
um what are you doing puss

1468
01:07:15,519 --> 01:07:19,920
are you trying to adjust the view what

1469
01:07:18,400 --> 01:07:22,639
are you doing

1470
01:07:19,920 --> 01:07:22,639
what are you doing

1471
01:07:22,960 --> 01:07:31,039
what are you doing what are you doing

1472
01:07:27,440 --> 01:07:33,760
huh what are you up to

1473
01:07:31,039 --> 01:07:33,760
what are you up to

1474
01:07:34,079 --> 01:07:43,839
what are you doing what are you doing

1475
01:07:48,000 --> 01:07:53,119
this is how i push program they program

1476
01:07:50,639 --> 01:07:56,239
facing away from the monitor

1477
01:07:53,119 --> 01:07:57,760
apparently how do you even know what the

1478
01:07:56,239 --> 01:07:59,519
code says if you're not facing the

1479
01:07:57,760 --> 01:08:03,680
monitor

1480
01:07:59,519 --> 01:08:06,239
how do you even know you don't do you

1481
01:08:03,679 --> 01:08:10,399
you're just winging it you're just

1482
01:08:06,239 --> 01:08:13,439
winging it

1483
01:08:10,400 --> 01:08:13,440
you're just winging it

1484
01:08:14,798 --> 01:08:18,238
all right um

1485
01:08:18,640 --> 01:08:22,880
so i don't think we need to go any

1486
01:08:20,000 --> 01:08:25,679
further with that uh

1487
01:08:22,880 --> 01:08:26,719
like i'm fine with leaving this uh long

1488
01:08:25,679 --> 01:08:28,719
form for now

1489
01:08:26,719 --> 01:08:31,359
but like i said i just kind of wanted to

1490
01:08:28,719 --> 01:08:34,798
get that into

1491
01:08:31,359 --> 01:08:38,960
a you know roughly roughly

1492
01:08:34,798 --> 01:08:40,640
identical uh comparisons

1493
01:08:38,960 --> 01:08:44,239
so that we could sort of see what's

1494
01:08:40,640 --> 01:08:44,239
going on um

1495
01:08:44,719 --> 01:08:48,960
so that it would you know uh

1496
01:08:49,279 --> 01:08:52,799
so it would be easy for us to see later

1497
01:08:51,039 --> 01:08:53,519
on like how this is going to smush down

1498
01:08:52,798 --> 01:08:54,880
further because

1499
01:08:53,520 --> 01:08:56,880
we can eliminate a lot of redundant

1500
01:08:54,880 --> 01:08:58,880
terms eventually compute

1501
01:08:56,880 --> 01:09:00,560
just a few things once the compiler

1502
01:08:58,880 --> 01:09:01,759
already hopefully will be able to do a

1503
01:09:00,560 --> 01:09:03,520
bunch of that for us because a lot of

1504
01:09:01,759 --> 01:09:06,079
these are the same

1505
01:09:03,520 --> 01:09:07,120
computation right but we can probably

1506
01:09:06,079 --> 01:09:09,600
help it out by

1507
01:09:07,119 --> 01:09:10,559
simplifying things down past where they

1508
01:09:09,600 --> 01:09:11,759
are whereas the

1509
01:09:10,560 --> 01:09:13,839
the other one that was in there for

1510
01:09:11,759 --> 01:09:14,719
rectangles looks nothing like any of

1511
01:09:13,838 --> 01:09:17,600
these

1512
01:09:14,719 --> 01:09:19,198
the other thing you can see is this uh

1513
01:09:17,600 --> 01:09:21,920
gets us ready like

1514
01:09:19,198 --> 01:09:23,519
we can just start storing this like all

1515
01:09:21,920 --> 01:09:24,239
of these computations should probably go

1516
01:09:23,520 --> 01:09:27,600
away

1517
01:09:24,238 --> 01:09:30,798
because we can just make center

1518
01:09:27,600 --> 01:09:33,440
um center radius

1519
01:09:30,798 --> 01:09:34,479
be the thing that we actually pass in

1520
01:09:33,439 --> 01:09:37,039
right so so

1521
01:09:34,479 --> 01:09:38,158
we can just make those be what we store

1522
01:09:37,039 --> 01:09:40,238
for collision volumes

1523
01:09:38,158 --> 01:09:41,278
because we don't really need rectangle

1524
01:09:40,238 --> 01:09:44,559
we min and max

1525
01:09:41,279 --> 01:09:46,159
isn't uh as as useful anymore now that

1526
01:09:44,560 --> 01:09:47,679
may not be entirely true because we have

1527
01:09:46,158 --> 01:09:50,399
to look and see how this

1528
01:09:47,679 --> 01:09:51,679
will go it may be that min and max

1529
01:09:50,399 --> 01:09:53,920
actually do still need to be there in

1530
01:09:51,679 --> 01:09:56,239
which case it doesn't matter as much

1531
01:09:53,920 --> 01:09:57,279
but we'll see okay so puss so we have an

1532
01:09:56,238 --> 01:10:00,959
answer

1533
01:09:57,279 --> 01:10:02,319
puss has sat on the mouse pad so

1534
01:10:00,960 --> 01:10:03,840
as long as we don't really want to use

1535
01:10:02,319 --> 01:10:06,079
the mouse particularly much we should be

1536
01:10:03,840 --> 01:10:06,079
fine

1537
01:10:09,520 --> 01:10:13,040
but that's what the puss has hath

1538
01:10:10,880 --> 01:10:16,400
decided we need we need a good

1539
01:10:13,039 --> 01:10:19,600
cat like right here

1540
01:10:16,399 --> 01:10:22,879
we need i need to buy a

1541
01:10:19,600 --> 01:10:25,520
like a cat um

1542
01:10:22,880 --> 01:10:27,199
friendly sort of tower you know like one

1543
01:10:25,520 --> 01:10:30,239
of those things

1544
01:10:27,198 --> 01:10:31,759
that would go like right here so that

1545
01:10:30,238 --> 01:10:34,079
the puss can

1546
01:10:31,760 --> 01:10:34,079
stay

1547
01:10:34,960 --> 01:10:44,158
aware of the entire situation

1548
01:10:38,479 --> 01:10:46,559
and oversee the programming um

1549
01:10:44,158 --> 01:10:47,839
the entire thing if she wants to and i

1550
01:10:46,560 --> 01:10:51,120
can still type

1551
01:10:47,840 --> 01:10:54,159
right um so anyway

1552
01:10:51,119 --> 01:10:56,479
okay uh so i don't really know

1553
01:10:54,158 --> 01:10:58,079
about that part because i haven't ever

1554
01:10:56,479 --> 01:11:00,629
tried a routine like this before

1555
01:10:58,079 --> 01:11:02,800
i probably uh

1556
01:11:00,630 --> 01:11:05,199
[Music]

1557
01:11:02,800 --> 01:11:06,800
the only time i program 3d much anymore

1558
01:11:05,198 --> 01:11:08,158
at all is on handmade hero i used to

1559
01:11:06,800 --> 01:11:09,440
program 3d all the time

1560
01:11:08,158 --> 01:11:11,920
and so i would have thought about things

1561
01:11:09,439 --> 01:11:13,279
like this a lot more nowadays i hardly

1562
01:11:11,920 --> 01:11:15,279
ever think about 3d

1563
01:11:13,279 --> 01:11:17,119
um i just don't do 3d programming much

1564
01:11:15,279 --> 01:11:18,399
anymore even that's all i did for like

1565
01:11:17,119 --> 01:11:20,719
many years

1566
01:11:18,399 --> 01:11:22,158
um so i haven't ever looked and said

1567
01:11:20,719 --> 01:11:24,319
okay now that we care about

1568
01:11:22,158 --> 01:11:25,519
reducing branches which we didn't use to

1569
01:11:24,319 --> 01:11:27,359
in the old days

1570
01:11:25,520 --> 01:11:29,840
um now that we care about reducing

1571
01:11:27,359 --> 01:11:30,639
branches can you make a single routine

1572
01:11:29,840 --> 01:11:32,560
that does

1573
01:11:30,640 --> 01:11:34,079
rectangle versus rectangle rectangle

1574
01:11:32,560 --> 01:11:36,640
versus fear and services fear

1575
01:11:34,079 --> 01:11:37,439
all in one with a very limited number of

1576
01:11:36,640 --> 01:11:40,480
ops my

1577
01:11:37,439 --> 01:11:43,839
uh suspicion is yes we can do it uh and

1578
01:11:40,479 --> 01:11:43,839
it's looking pretty good already

1579
01:11:45,679 --> 01:11:50,719
it's just not our priority um

1580
01:11:51,279 --> 01:11:56,559
at all so anyway uh

1581
01:11:54,319 --> 01:11:58,158
what i want to do is is find some ways

1582
01:11:56,560 --> 01:12:01,360
to draw this stuff

1583
01:11:58,158 --> 01:12:03,679
a little bit better here and so what i

1584
01:12:01,359 --> 01:12:09,839
might do is say well let's draw

1585
01:12:03,679 --> 01:12:09,840
um a couple things

1586
01:12:11,198 --> 01:12:14,879
if we can so let's just pretend that we

1587
01:12:14,079 --> 01:12:18,319
have

1588
01:12:14,880 --> 01:12:20,640
some kind of a diagramming system uh

1589
01:12:18,319 --> 01:12:21,359
and i'll just say like all right if a is

1590
01:12:20,640 --> 01:12:25,440
a sphere

1591
01:12:21,359 --> 01:12:27,198
then i'll do a like uh you know

1592
01:12:25,439 --> 01:12:29,039
uh we'll just put some diagramming stuff

1593
01:12:27,198 --> 01:12:30,719
in here right so if a is a sphere we're

1594
01:12:29,039 --> 01:12:36,560
gonna draw a sphere

1595
01:12:30,719 --> 01:12:39,920
uh and it'll be center a uh

1596
01:12:36,560 --> 01:12:40,719
radius a uh and we'll we'll do the same

1597
01:12:39,920 --> 01:12:44,800
thing

1598
01:12:40,719 --> 01:12:47,439
you know you know for this and

1599
01:12:44,800 --> 01:12:48,079
what we would do here probably is say

1600
01:12:47,439 --> 01:12:51,839
like

1601
01:12:48,079 --> 01:12:51,840
uh you know

1602
01:12:54,640 --> 01:12:59,679
some kind of garbage like this right

1603
01:13:02,840 --> 01:13:05,840
um

1604
01:13:07,920 --> 01:13:12,239
you know what i'm saying uh we you know

1605
01:13:11,119 --> 01:13:14,238
probably you could probably do this

1606
01:13:12,238 --> 01:13:18,079
these days i think

1607
01:13:14,238 --> 01:13:20,799
um couldn't couldn't do that

1608
01:13:18,079 --> 01:13:22,960
uh in the old days but nowadays most

1609
01:13:20,800 --> 01:13:24,640
compilers have this it was like only gcc

1610
01:13:22,960 --> 01:13:27,198
had that for a long time but but

1611
01:13:24,640 --> 01:13:28,800
you know almost everyone has it now you

1612
01:13:27,198 --> 01:13:32,960
know what i'm saying

1613
01:13:28,800 --> 01:13:34,520
um so if we assume we do something like

1614
01:13:32,960 --> 01:13:36,319
this where you just imagine this is

1615
01:13:34,520 --> 01:13:38,320
snuffalopic-oriented programming here

1616
01:13:36,319 --> 01:13:39,840
i'm just imagining that i magically had

1617
01:13:38,319 --> 01:13:42,719
a diagram system

1618
01:13:39,840 --> 01:13:44,840
what would i do right like what would

1619
01:13:42,719 --> 01:13:47,679
that diagram system

1620
01:13:44,840 --> 01:13:50,880
um have in it

1621
01:13:47,679 --> 01:13:52,560
like how would i use it right uh and it

1622
01:13:50,880 --> 01:13:57,440
would be something like this

1623
01:13:52,560 --> 01:13:57,440
where i would just say okay uh

1624
01:13:58,960 --> 01:14:06,719
here's me drawing

1625
01:14:02,000 --> 01:14:10,000
uh the various pieces if i have a sphere

1626
01:14:06,719 --> 01:14:14,000
um then what i want to do

1627
01:14:10,000 --> 01:14:14,960
now is say well even if i don't so now

1628
01:14:14,000 --> 01:14:18,238
what i want to do is

1629
01:14:14,960 --> 01:14:22,158
look at the uh separation between these

1630
01:14:18,238 --> 01:14:27,678
and i don't know like maybe i want to do

1631
01:14:22,158 --> 01:14:30,399
like maybe i want to do the testing here

1632
01:14:27,679 --> 01:14:31,440
and actually draw a different thing in

1633
01:14:30,399 --> 01:14:36,319
each case

1634
01:14:31,439 --> 01:14:36,319
uh i mean i could right

1635
01:14:36,880 --> 01:14:43,840
maybe i want to do this

1636
01:14:44,960 --> 01:14:48,640
so if we have two spheres we would draw

1637
01:14:47,198 --> 01:14:57,839
both spheres

1638
01:14:48,640 --> 01:14:57,840
um and

1639
01:15:03,439 --> 01:15:08,719
you know something like that we would

1640
01:15:05,279 --> 01:15:08,719
then do like diagram

1641
01:15:08,840 --> 01:15:12,239
uh like

1642
01:15:12,479 --> 01:15:17,198
the separation between them which would

1643
01:15:14,640 --> 01:15:17,199
be like

1644
01:15:18,319 --> 01:15:26,238
that uh

1645
01:15:23,039 --> 01:15:28,100
i don't know so so i i might

1646
01:15:26,238 --> 01:15:31,198
actually say

1647
01:15:28,100 --> 01:15:34,000
[Music]

1648
01:15:31,198 --> 01:15:34,000
something like this

1649
01:15:36,640 --> 01:15:44,480
and the line

1650
01:15:40,000 --> 01:15:47,760
that connects the two uh

1651
01:15:44,479 --> 01:15:51,439
i would want to do like

1652
01:15:47,760 --> 01:15:52,560
just so we can see i don't know

1653
01:15:51,439 --> 01:15:55,439
that we have anything else we're

1654
01:15:52,560 --> 01:15:55,440
computing here

1655
01:15:57,760 --> 01:16:04,840
because that that's basically it right

1656
01:16:01,890 --> 01:16:07,840
[Music]

1657
01:16:04,840 --> 01:16:07,840
um

1658
01:16:13,760 --> 01:16:17,119
so there's really not much to draw here

1659
01:16:16,158 --> 01:16:20,158
right

1660
01:16:17,119 --> 01:16:25,039
but but there you go

1661
01:16:20,158 --> 01:16:25,039
and so we need to do is uh

1662
01:16:32,238 --> 01:16:35,678
some kind of like a condition uh like

1663
01:16:34,960 --> 01:16:36,960
this

1664
01:16:35,679 --> 01:16:39,199
so we would just say look there's a

1665
01:16:36,960 --> 01:16:42,800
result that comes out here

1666
01:16:39,198 --> 01:16:44,960
um and we would say like uh

1667
01:16:42,800 --> 01:16:46,400
yeah the result is that they collided or

1668
01:16:44,960 --> 01:16:48,079
whatever right so it's a true

1669
01:16:46,399 --> 01:16:49,519
this is a true or a false so we want to

1670
01:16:48,079 --> 01:16:52,399
be able to see that

1671
01:16:49,520 --> 01:16:53,440
you know what i mean um so something

1672
01:16:52,399 --> 01:16:57,279
like that

1673
01:16:53,439 --> 01:17:00,719
and uh you know maybe maybe we would say

1674
01:16:57,279 --> 01:17:02,238
like collides and then the result would

1675
01:17:00,719 --> 01:17:05,039
say like yes or no

1676
01:17:02,238 --> 01:17:06,399
right so something like that so if i

1677
01:17:05,039 --> 01:17:08,640
imagine i had the system

1678
01:17:06,399 --> 01:17:10,639
it would look something like this and

1679
01:17:08,640 --> 01:17:14,320
then you know for the other ones here

1680
01:17:10,640 --> 01:17:17,760
i guess i would say uh

1681
01:17:14,319 --> 01:17:20,799
we've got the not case so

1682
01:17:17,760 --> 01:17:20,800
you know for those two

1683
01:17:21,039 --> 01:17:24,719
uh and those would just draw boxes

1684
01:17:28,840 --> 01:17:33,360
instead

1685
01:17:31,039 --> 01:17:33,359
um

1686
01:17:37,198 --> 01:17:43,119
i think we want this probably in all

1687
01:17:40,640 --> 01:17:43,119
cases

1688
01:17:43,600 --> 01:17:45,840
right

1689
01:17:47,439 --> 01:17:52,399
and so then the interesting cases are

1690
01:17:56,840 --> 01:17:59,840
here

1691
01:18:05,520 --> 01:18:09,600
so in this case where we've got two

1692
01:18:07,279 --> 01:18:10,079
different ones uh then we have to kind

1693
01:18:09,600 --> 01:18:13,840
of do

1694
01:18:10,079 --> 01:18:13,840
like okay

1695
01:18:20,000 --> 01:18:30,719
we've got a is a sphere and b is a box

1696
01:18:27,679 --> 01:18:30,719
or the other way around

1697
01:18:31,198 --> 01:18:35,599
right um

1698
01:18:38,238 --> 01:18:41,839
and then in here we would do

1699
01:18:42,158 --> 01:18:57,119
we need this stuff

1700
01:18:55,119 --> 01:18:58,880
so in this particular case we have a

1701
01:18:57,119 --> 01:19:00,158
diagram point we want to draw the

1702
01:18:58,880 --> 01:19:03,880
closest point on

1703
01:19:00,158 --> 01:19:09,839
a sorry the closest point for

1704
01:19:03,880 --> 01:19:09,840
a um

1705
01:19:10,719 --> 01:19:15,840
the closest point on a to b so

1706
01:19:16,000 --> 01:19:19,279
in this particular case if a is the

1707
01:19:18,640 --> 01:19:21,360
sphere

1708
01:19:19,279 --> 01:19:22,399
then it's the closest point on b that we

1709
01:19:21,359 --> 01:19:25,679
would draw

1710
01:19:22,399 --> 01:19:28,639
right um and so i guess i

1711
01:19:25,679 --> 01:19:30,880
i lied we don't actually want this this

1712
01:19:28,640 --> 01:19:32,640
is only in the sphere case

1713
01:19:30,880 --> 01:19:34,719
and then in these cases it's the other

1714
01:19:32,640 --> 01:19:36,800
way around so we would have the closest

1715
01:19:34,719 --> 01:19:41,119
point on b

1716
01:19:36,800 --> 01:19:41,119
to drawn to a right

1717
01:19:41,359 --> 01:19:44,479
so that's the actual separating we

1718
01:19:42,719 --> 01:19:47,119
probably don't need that

1719
01:19:44,479 --> 01:19:49,439
um and then the opposite would be true

1720
01:19:47,119 --> 01:19:50,238
in this one so we draw the closest point

1721
01:19:49,439 --> 01:19:53,439
on a

1722
01:19:50,238 --> 01:19:54,238
out to the sphere center which is b so

1723
01:19:53,439 --> 01:19:57,678
we can see

1724
01:19:54,238 --> 01:19:58,009
like where that would would go right

1725
01:19:57,679 --> 01:20:01,060
um

1726
01:19:58,010 --> 01:20:01,060
[Music]

1727
01:20:02,000 --> 01:20:08,899
so i think that's it um

1728
01:20:05,489 --> 01:20:08,898
[Music]

1729
01:20:10,319 --> 01:20:13,599
i don't know that there's anything else

1730
01:20:11,679 --> 01:20:15,760
that we would need there right

1731
01:20:13,600 --> 01:20:16,719
so we'd basically just have a diagram

1732
01:20:15,760 --> 01:20:20,480
here

1733
01:20:16,719 --> 01:20:23,198
that does like a begin and an end and

1734
01:20:20,479 --> 01:20:24,158
it you know that would be it and we

1735
01:20:23,198 --> 01:20:27,198
would have

1736
01:20:24,158 --> 01:20:29,039
uh maybe diagram and i don't know

1737
01:20:27,198 --> 01:20:30,319
we probably want to have multiple ways

1738
01:20:29,039 --> 01:20:31,840
of doing results there

1739
01:20:30,319 --> 01:20:33,840
but anyway we'd have some way to like

1740
01:20:31,840 --> 01:20:37,440
dump these diagrams

1741
01:20:33,840 --> 01:20:41,039
uh out and off we would go

1742
01:20:37,439 --> 01:20:44,158
right so when we

1743
01:20:41,039 --> 01:20:45,519
are calling these we would call it uh

1744
01:20:44,158 --> 01:20:47,679
you know it would be called lots of

1745
01:20:45,520 --> 01:20:48,159
times so it gets called from in here at

1746
01:20:47,679 --> 01:20:51,039
this

1747
01:20:48,158 --> 01:20:52,079
uh collides at p thing uh for each

1748
01:20:51,039 --> 01:20:56,800
entity

1749
01:20:52,079 --> 01:20:56,800
and um

1750
01:20:58,000 --> 01:21:01,840
i i don't know

1751
01:21:04,479 --> 01:21:08,000
i i would guess we would probably want

1752
01:21:07,198 --> 01:21:11,439
something

1753
01:21:08,000 --> 01:21:13,198
like this in there so so

1754
01:21:11,439 --> 01:21:15,359
if you look at what happens in here

1755
01:21:13,198 --> 01:21:16,638
right we've got move entity

1756
01:21:15,359 --> 01:21:18,960
and there's like a bunch of different

1757
01:21:16,639 --> 01:21:24,639
phases that kind of happen here

1758
01:21:18,960 --> 01:21:24,639
right um and so in here this is like the

1759
01:21:26,840 --> 01:21:29,840
voxel

1760
01:21:31,760 --> 01:21:36,560
uh phase so when we're drawing those

1761
01:21:34,479 --> 01:21:39,759
diagrams for collides at p

1762
01:21:36,560 --> 01:21:43,520
uh that's going to be all of those

1763
01:21:39,760 --> 01:21:46,639
calls in there are going to be for

1764
01:21:43,520 --> 01:21:49,760
uh doing the voxel right

1765
01:21:46,639 --> 01:21:57,840
um and

1766
01:21:49,760 --> 01:21:57,840
you know we can

1767
01:22:09,359 --> 01:22:13,679
i don't i don't know how far we want to

1768
01:22:11,679 --> 01:22:16,960
go with this but we can do it

1769
01:22:13,679 --> 01:22:16,960
um you know

1770
01:22:18,639 --> 01:22:22,159
more specific than this but basically

1771
01:22:20,560 --> 01:22:23,600
we'd have the phase

1772
01:22:22,158 --> 01:22:25,039
would tell you like oh we're doing

1773
01:22:23,600 --> 01:22:26,320
collision voxel or we're doing

1774
01:22:25,039 --> 01:22:29,119
refinement

1775
01:22:26,319 --> 01:22:30,880
right um and that way when we step

1776
01:22:29,119 --> 01:22:33,198
through it with the diagramming

1777
01:22:30,880 --> 01:22:35,199
we would know which one we had and

1778
01:22:33,198 --> 01:22:36,079
that'd be it now then we would have a

1779
01:22:35,198 --> 01:22:40,079
handmade

1780
01:22:36,079 --> 01:22:40,079
you know diagram dot

1781
01:22:41,520 --> 01:22:45,840
this must be something that ryan put in

1782
01:22:44,319 --> 01:22:46,479
there because i don't yeah i bet that

1783
01:22:45,840 --> 01:22:49,440
was it

1784
01:22:46,479 --> 01:22:50,079
uh because i'm like i never do that okay

1785
01:22:49,439 --> 01:22:52,879
um

1786
01:22:50,079 --> 01:22:53,519
i don't care about that uh anyway so uh

1787
01:22:52,880 --> 01:22:56,560
we'd have a

1788
01:22:53,520 --> 01:23:01,360
handmade diagram here

1789
01:22:56,560 --> 01:23:01,360
um which would accept these commands

1790
01:23:01,520 --> 01:23:07,840
so you'd have you know

1791
01:23:10,800 --> 01:23:15,279
just whatever the heck i said we had we

1792
01:23:18,840 --> 01:23:21,840
have

1793
01:23:28,800 --> 01:23:32,159
so you put like names in there or crap

1794
01:23:31,359 --> 01:23:34,639
like that

1795
01:23:32,158 --> 01:23:37,279
uh you can draw spheres so they would

1796
01:23:34,639 --> 01:23:40,079
have like a center

1797
01:23:37,279 --> 01:23:40,079
and a radius

1798
01:23:41,920 --> 01:23:49,840
um and and we just assume that the name

1799
01:23:45,359 --> 01:23:49,839
is nothing

1800
01:23:50,560 --> 01:23:53,199
uh for now

1801
01:23:57,600 --> 01:23:59,920
and

1802
01:24:01,279 --> 01:24:04,319
then we got the box

1803
01:24:13,359 --> 01:24:19,279
and this result thing which

1804
01:24:17,439 --> 01:24:21,839
i guess i should probably make it

1805
01:24:19,279 --> 01:24:21,840
symmetric

1806
01:24:27,760 --> 01:24:35,440
um and that's it

1807
01:24:31,760 --> 01:24:38,639
right so if i go back to handmade.h

1808
01:24:35,439 --> 01:24:40,879
and uh you know

1809
01:24:38,639 --> 01:24:42,800
after we kind of get uh this crap in

1810
01:24:40,880 --> 01:24:45,440
there i'm assuming that you know it will

1811
01:24:42,800 --> 01:24:48,960
be sufficient

1812
01:24:45,439 --> 01:24:50,399
to put it like here in terms of include

1813
01:24:48,960 --> 01:24:54,560
order

1814
01:24:50,399 --> 01:24:54,559
and you know that's fine

1815
01:24:56,000 --> 01:25:00,158
and so then if we compile it i need to

1816
01:24:58,479 --> 01:25:03,519
actually have

1817
01:25:00,158 --> 01:25:06,879
handmade diagram.cpp here

1818
01:25:03,520 --> 01:25:06,880
even though nothing actually happens

1819
01:25:07,198 --> 01:25:11,919
uh yeah and so then i can make this

1820
01:25:10,158 --> 01:25:12,319
compile and leave it this way for next

1821
01:25:11,920 --> 01:25:16,000
time

1822
01:25:12,319 --> 01:25:20,479
to have these be implemented

1823
01:25:16,000 --> 01:25:20,479
right and

1824
01:25:22,158 --> 01:25:25,279
oh wait we do internal here i changed to

1825
01:25:24,880 --> 01:25:27,600
using

1826
01:25:25,279 --> 01:25:30,639
function instead of internal uh so that

1827
01:25:27,600 --> 01:25:32,239
way it's the same as javascript

1828
01:25:30,639 --> 01:25:34,480
i thought that was kind of handy because

1829
01:25:32,238 --> 01:25:38,158
i was like oh now

1830
01:25:34,479 --> 01:25:38,879
whatever parser you write to identify

1831
01:25:38,158 --> 01:25:41,759
functions

1832
01:25:38,880 --> 01:25:43,600
will work on my c code and my javascript

1833
01:25:41,760 --> 01:25:47,520
code how clever

1834
01:25:43,600 --> 01:25:49,199
right it's not that clever but

1835
01:25:47,520 --> 01:25:50,960
since i always put something before it i

1836
01:25:49,198 --> 01:25:52,799
was like oh why don't i put something

1837
01:25:50,960 --> 01:25:56,960
that actually

1838
01:25:52,800 --> 01:25:56,960
works the same as as some other language

1839
01:25:57,359 --> 01:25:59,920
and off you go

1840
01:26:01,920 --> 01:26:10,239
okay um these should have defaults

1841
01:26:05,840 --> 01:26:12,480
as well so if you don't care

1842
01:26:10,238 --> 01:26:14,079
you don't have to have those things

1843
01:26:12,479 --> 01:26:16,319
specified

1844
01:26:14,079 --> 01:26:18,319
all right and that's it for today i

1845
01:26:16,319 --> 01:26:23,840
guess next time we'll add some of that

1846
01:26:18,319 --> 01:26:23,840
and off we go

1847
01:26:35,359 --> 01:26:38,960
where is

1848
01:26:42,158 --> 01:26:51,839
shouldn't that have given an error

1849
01:26:58,639 --> 01:27:06,960
how did that

1850
01:27:04,158 --> 01:27:06,960
oh duh

1851
01:27:12,238 --> 01:27:19,839
maybe what i'll do here is

1852
01:27:21,679 --> 01:27:24,000
that

1853
01:27:28,079 --> 01:27:34,319
you know i don't know

1854
01:27:32,960 --> 01:27:36,079
i was like how did that compile it

1855
01:27:34,319 --> 01:27:38,960
compiled because

1856
01:27:36,079 --> 01:27:41,840
it was just zeroed out that's why so it

1857
01:27:38,960 --> 01:27:47,840
never actually got compiled

1858
01:27:41,840 --> 01:27:47,840
all right any questions

1859
01:27:52,000 --> 01:28:01,279
oh so 4coder 4.1.8

1860
01:27:56,238 --> 01:28:03,759
does fix indentation we have to

1861
01:28:01,279 --> 01:28:03,759
do that

1862
01:28:04,639 --> 01:28:17,920
we have to update

1863
01:28:14,639 --> 01:28:19,600
oh uh i can explain why i typed const so

1864
01:28:17,920 --> 01:28:21,279
one of the things i was doing for star

1865
01:28:19,600 --> 01:28:25,360
code galaxy

1866
01:28:21,279 --> 01:28:25,359
is i i

1867
01:28:25,600 --> 01:28:32,079
so i try as hard as i can to not

1868
01:28:28,880 --> 01:28:34,239
force people to turn off

1869
01:28:32,079 --> 01:28:35,840
a bunch of warnings on the compiler for

1870
01:28:34,238 --> 01:28:40,158
the beginner code

1871
01:28:35,840 --> 01:28:43,440
right and so i'm now used to

1872
01:28:40,158 --> 01:28:46,879
the stupid it

1873
01:28:43,439 --> 01:28:49,678
really aggravates me like deeply

1874
01:28:46,880 --> 01:28:51,600
but the default in c plus because the

1875
01:28:49,679 --> 01:28:54,960
people who design it are the worst

1876
01:28:51,600 --> 01:28:58,400
people in the world um

1877
01:28:54,960 --> 01:29:00,960
they default strings to constant

1878
01:28:58,399 --> 01:29:02,719
so if you want to accept a string

1879
01:29:00,960 --> 01:29:06,800
literal it has to be care

1880
01:29:02,719 --> 01:29:10,399
const star right

1881
01:29:06,800 --> 01:29:13,360
which is the dumbest dumbest

1882
01:29:10,399 --> 01:29:14,638
idea it is so stupid i cannot even begin

1883
01:29:13,359 --> 01:29:18,079
to describe

1884
01:29:14,639 --> 01:29:18,079
just how dumb it is

1885
01:29:19,439 --> 01:29:26,719
it is extraordinarily stupid

1886
01:29:23,359 --> 01:29:29,599
but that is how it is so

1887
01:29:26,719 --> 01:29:30,800
i reflexively now sometimes type c

1888
01:29:29,600 --> 01:29:32,480
constar

1889
01:29:30,800 --> 01:29:34,159
if i don't remember whether i'm in my

1890
01:29:32,479 --> 01:29:35,359
code base for the start code galaxy code

1891
01:29:34,158 --> 01:29:37,359
base because

1892
01:29:35,359 --> 01:29:38,880
that's the one place you are for it

1893
01:29:37,359 --> 01:29:40,000
forces you to use const you don't get a

1894
01:29:38,880 --> 01:29:41,840
choice

1895
01:29:40,000 --> 01:29:43,439
you would have to disable warnings to do

1896
01:29:41,840 --> 01:29:45,039
anything else

1897
01:29:43,439 --> 01:29:46,719
i mean unless you want to type this all

1898
01:29:45,039 --> 01:29:50,479
the time

1899
01:29:46,719 --> 01:29:53,279
right um

1900
01:29:50,479 --> 01:29:54,718
so yeah i mean what can i say c plus

1901
01:29:53,279 --> 01:29:55,679
horrible language designed by people

1902
01:29:54,719 --> 01:29:56,960
have no idea what they're doing i've

1903
01:29:55,679 --> 01:29:57,920
said it a million times i'll say it a

1904
01:29:56,960 --> 01:30:00,399
million more times

1905
01:29:57,920 --> 01:30:07,840
it's horrible that's just one example of

1906
01:30:00,399 --> 01:30:07,839
just how stupid it is

1907
01:30:08,880 --> 01:30:15,600
it's like guess what folks if i wanted

1908
01:30:12,000 --> 01:30:15,600
my string to be constant i'll tell you

1909
01:30:16,238 --> 01:30:22,718
you know i'm the programmer not you

1910
01:30:20,560 --> 01:30:26,400
if i wanted my string to be constant i

1911
01:30:22,719 --> 01:30:26,399
would tell you that it was constant

1912
01:30:32,079 --> 01:30:36,158
why is a new diagram system needed why

1913
01:30:34,079 --> 01:30:38,719
not just use the existing renderer um

1914
01:30:36,158 --> 01:30:40,879
so we will use the existing renderer uh

1915
01:30:38,719 --> 01:30:43,359
we're not gonna write a new renderer

1916
01:30:40,880 --> 01:30:44,719
the diagram uh stuff is just there

1917
01:30:43,359 --> 01:30:46,479
because this gets called like hundreds

1918
01:30:44,719 --> 01:30:49,520
of times a frame

1919
01:30:46,479 --> 01:30:51,519
so i can't like what you saw i mean it

1920
01:30:49,520 --> 01:30:52,080
already has a little bit of drawing in

1921
01:30:51,520 --> 01:30:55,760
there

1922
01:30:52,079 --> 01:30:59,119
right if i take a look at what's

1923
01:30:55,760 --> 01:31:02,159
going on you know um you can see it

1924
01:30:59,119 --> 01:31:05,198
drawing a bunch of stuff right uh

1925
01:31:02,158 --> 01:31:07,198
so you can see it drawing but

1926
01:31:05,198 --> 01:31:08,319
we don't really have any constructive

1927
01:31:07,198 --> 01:31:10,879
way to actually

1928
01:31:08,319 --> 01:31:12,479
look at that information it's just some

1929
01:31:10,880 --> 01:31:14,560
overlapping cubes and

1930
01:31:12,479 --> 01:31:16,959
me you know i can sort of tell like okay

1931
01:31:14,560 --> 01:31:19,039
so it sort of started there

1932
01:31:16,960 --> 01:31:20,480
and it like tried to get over there i

1933
01:31:19,039 --> 01:31:24,000
guess

1934
01:31:20,479 --> 01:31:25,839
but if i try to actually put like

1935
01:31:24,000 --> 01:31:27,520
imagine each one of these corners had

1936
01:31:25,840 --> 01:31:31,119
collision testing done on it

1937
01:31:27,520 --> 01:31:34,480
right so how the heck am i

1938
01:31:31,119 --> 01:31:35,760
ever going to actually look at this

1939
01:31:34,479 --> 01:31:38,559
information constructively

1940
01:31:35,760 --> 01:31:40,400
if i add anything more to it and so the

1941
01:31:38,560 --> 01:31:42,080
the diagramming stuff will not

1942
01:31:40,399 --> 01:31:43,599
use a different renderer all it's going

1943
01:31:42,079 --> 01:31:46,559
to do is i'm going to have a little

1944
01:31:43,600 --> 01:31:48,960
panel so i can step through

1945
01:31:46,560 --> 01:31:50,400
the diagram and show like one at a time

1946
01:31:48,960 --> 01:31:52,399
right

1947
01:31:50,399 --> 01:31:54,319
um so that's all i need i just need

1948
01:31:52,399 --> 01:31:57,359
something i can dump a bunch of like

1949
01:31:54,319 --> 01:32:00,639
line box directives into

1950
01:31:57,359 --> 01:32:03,359
and then it will only output some

1951
01:32:00,639 --> 01:32:04,400
restricted subset of that to the actual

1952
01:32:03,359 --> 01:32:05,920
renderer

1953
01:32:04,399 --> 01:32:07,679
so that i can actually look at them

1954
01:32:05,920 --> 01:32:13,840
that's all it's going to do we it

1955
01:32:07,679 --> 01:32:13,840
will call the existing renderer

1956
01:32:20,800 --> 01:32:25,119
off topic should the push array for

1957
01:32:22,880 --> 01:32:27,840
spatial grid leaves

1958
01:32:25,119 --> 01:32:29,359
in handmade lighting.cbp be aligned to

1959
01:32:27,840 --> 01:32:32,800
16 bytes

1960
01:32:29,359 --> 01:32:36,000
for move aps on 128 bit memory

1961
01:32:32,800 --> 01:32:41,840
operands i

1962
01:32:36,000 --> 01:32:41,840
don't remember but let me look

1963
01:33:01,198 --> 01:33:04,000
so you're talking about this one

1964
01:33:05,920 --> 01:33:23,840
right here um

1965
01:33:31,840 --> 01:33:37,840
so i guess my only question is

1966
01:33:41,039 --> 01:33:51,840
are you

1967
01:33:57,840 --> 01:34:01,360
so is the problem that you're seeing i

1968
01:33:59,920 --> 01:34:03,039
mean assuming you're seeing a problem is

1969
01:34:01,359 --> 01:34:06,399
it probably saying that the compiler is

1970
01:34:03,039 --> 01:34:06,399
generating a move aps

1971
01:34:14,880 --> 01:34:20,480
so my preferred solution to that

1972
01:34:18,000 --> 01:34:21,198
would actually just be to not have the

1973
01:34:20,479 --> 01:34:25,678
prof

1974
01:34:21,198 --> 01:34:27,839
compiler produce a move aps

1975
01:34:25,679 --> 01:34:29,600
because there's no reason to produce a

1976
01:34:27,840 --> 01:34:33,440
move aps

1977
01:34:29,600 --> 01:34:34,639
um but obviously if your compiler is

1978
01:34:33,439 --> 01:34:38,479
doing that

1979
01:34:34,639 --> 01:34:41,279
then then it is so

1980
01:34:38,479 --> 01:34:44,638
uh yeah you can certainly fix it by

1981
01:34:41,279 --> 01:34:44,639
passing the alignment

1982
01:34:45,600 --> 01:34:51,199
value here right so you know if you want

1983
01:34:49,118 --> 01:34:55,039
to you can do

1984
01:34:51,198 --> 01:34:58,638
you can do that um

1985
01:34:55,039 --> 01:34:58,639
this doesn't need to be cleared right

1986
01:34:58,840 --> 01:35:07,520
oh why do we clear it that way

1987
01:35:02,319 --> 01:35:07,519
here that's fine right

1988
01:35:13,039 --> 01:35:16,880
um so you should be able to do that and

1989
01:35:15,198 --> 01:35:18,960
there shouldn't be any problem with that

1990
01:35:16,880 --> 01:35:22,159
like it should just work

1991
01:35:18,960 --> 01:35:22,158
um but

1992
01:35:22,238 --> 01:35:26,238
you know ideally the compiler would not

1993
01:35:24,399 --> 01:35:27,920
think that was aligned because we never

1994
01:35:26,238 --> 01:35:29,519
told it it was a line so i'm not sure

1995
01:35:27,920 --> 01:35:31,520
why it thinks it's aligned in the first

1996
01:35:29,520 --> 01:35:34,719
place

1997
01:35:31,520 --> 01:35:37,280
um so

1998
01:35:34,719 --> 01:35:37,920
but i'm happy to i mean it's no skin off

1999
01:35:37,279 --> 01:35:40,158
our back

2000
01:35:37,920 --> 01:35:41,760
at all to align that so that's totally

2001
01:35:40,158 --> 01:35:57,839
fine

2002
01:35:41,760 --> 01:35:57,840
so like i'll just put a note like

2003
01:36:08,840 --> 01:36:15,840
so

2004
01:36:11,279 --> 01:36:15,840
um so like

2005
01:36:16,880 --> 01:36:22,639
that's totally fine um because

2006
01:36:20,238 --> 01:36:24,000
again aligning to 16 here doesn't cost

2007
01:36:22,639 --> 01:36:26,800
us anything it's basically

2008
01:36:24,000 --> 01:36:27,520
free it's not like aligning a structure

2009
01:36:26,800 --> 01:36:29,360
or something

2010
01:36:27,520 --> 01:36:30,960
where we're losing actual memory and

2011
01:36:29,359 --> 01:36:33,198
cash bandwidth by adding it

2012
01:36:30,960 --> 01:36:35,279
here this is a giant array like it's a

2013
01:36:33,198 --> 01:36:38,238
huge allocation

2014
01:36:35,279 --> 01:36:40,158
of crap all packed together so aligning

2015
01:36:38,238 --> 01:36:43,198
the base to 16 is fine

2016
01:36:40,158 --> 01:36:44,559
um my only question is is lighting

2017
01:36:43,198 --> 01:36:47,039
spatial grid leaf

2018
01:36:44,560 --> 01:36:49,199
uh i assume that's aligned already yeah

2019
01:36:47,039 --> 01:36:50,880
it is because four wide so i was like so

2020
01:36:49,198 --> 01:36:54,319
that's also has to be a line but i was

2021
01:36:50,880 --> 01:36:54,319
assuming it already was and it is

2022
01:36:55,600 --> 01:36:58,719
so that's totally fine

2023
01:37:04,639 --> 01:37:08,159
are we playing any cylinder or capsule

2024
01:37:06,238 --> 01:37:09,599
collisions uh no i don't think we need

2025
01:37:08,158 --> 01:37:11,519
those for anything

2026
01:37:09,600 --> 01:37:12,639
um those spheres should be sufficient

2027
01:37:11,520 --> 01:37:14,320
for our purposes

2028
01:37:12,639 --> 01:37:15,600
i don't think i ever said we would add

2029
01:37:14,319 --> 01:37:16,880
cylinders or capsules i was just

2030
01:37:15,600 --> 01:37:18,880
pointing out that those were things that

2031
01:37:16,880 --> 01:37:22,480
people used

2032
01:37:18,880 --> 01:37:22,480
but we don't have a use for those

2033
01:37:28,880 --> 01:37:32,319
should id dot value be checked to be not

2034
01:37:31,760 --> 01:37:36,880
null in

2035
01:37:32,319 --> 01:37:36,880
handmade asset um

2036
01:37:43,679 --> 01:37:50,079
i guess my question there is where

2037
01:37:46,840 --> 01:37:50,079
specifically um

2038
01:37:50,639 --> 01:37:55,039
where are you talking about um

2039
01:37:55,118 --> 01:38:03,839
which which part of it

2040
01:38:07,600 --> 01:38:10,320
load font

2041
01:38:12,750 --> 01:38:17,840
[Music]

2042
01:38:14,840 --> 01:38:17,840
okay

2043
01:38:18,319 --> 01:38:31,840
i'm assuming this is the appropriate

2044
01:38:20,000 --> 01:38:34,319
load font

2045
01:38:31,840 --> 01:38:37,279
what the heck is this oh asset builder

2046
01:38:34,319 --> 01:38:37,279
yeah we don't care about that

2047
01:38:42,840 --> 01:38:45,840
um

2048
01:38:46,800 --> 01:38:50,320
i mean i would say sure

2049
01:38:51,279 --> 01:38:59,679
i i don't know that we ever actually

2050
01:38:55,198 --> 01:39:03,519
use that so

2051
01:38:59,679 --> 01:39:04,960
uh you know um but in general we allow

2052
01:39:03,520 --> 01:39:08,000
that for other things

2053
01:39:04,960 --> 01:39:09,520
so you know there's no reason we can't

2054
01:39:08,000 --> 01:39:12,800
allow it here

2055
01:39:09,520 --> 01:39:13,840
uh you know most of our stuff does do

2056
01:39:12,800 --> 01:39:17,119
that

2057
01:39:13,840 --> 01:39:19,679
right um so we certainly could

2058
01:39:17,118 --> 01:39:19,679
right like

2059
01:39:21,840 --> 01:39:26,960
that'd be totally fine i don't think

2060
01:39:26,479 --> 01:39:31,039
anyone

2061
01:39:26,960 --> 01:39:33,198
does that so i don't know that it

2062
01:39:31,039 --> 01:39:34,158
actually matters whether you do that or

2063
01:39:33,198 --> 01:39:36,719
not

2064
01:39:34,158 --> 01:39:38,839
but if you just wanted to support it to

2065
01:39:36,719 --> 01:39:41,840
support it

2066
01:39:38,840 --> 01:39:41,840
uh

2067
01:39:42,238 --> 01:40:09,839
i mean there's no reason you can't

2068
01:39:54,079 --> 01:40:09,840
uh let's see where this is called

2069
01:40:14,639 --> 01:40:17,840
i mean the thing is like it's kind of

2070
01:40:16,719 --> 01:40:21,118
just redundant

2071
01:40:17,840 --> 01:40:24,639
because you look they're guarded the

2072
01:40:21,118 --> 01:40:26,238
font stuff is guarded already so i don't

2073
01:40:24,639 --> 01:40:30,480
know that you can actually ever

2074
01:40:26,238 --> 01:40:30,479
get that situation um

2075
01:40:30,960 --> 01:40:33,600
to occur

2076
01:40:34,840 --> 01:40:37,840
um

2077
01:40:39,198 --> 01:40:44,479
so how i don't know how you were ever

2078
01:40:41,039 --> 01:40:44,479
having that actually happen

2079
01:40:48,840 --> 01:40:51,840
but

2080
01:41:07,920 --> 01:41:12,000
uh but yeah anyway point being again

2081
01:41:09,920 --> 01:41:14,319
much like the alliance 16 when

2082
01:41:12,000 --> 01:41:16,479
it can't really hurt that function isn't

2083
01:41:14,319 --> 01:41:18,719
called super often or anything so

2084
01:41:16,479 --> 01:41:20,479
and the the check would almost always be

2085
01:41:18,719 --> 01:41:20,960
completely predictable anyway so it's

2086
01:41:20,479 --> 01:41:24,799
free

2087
01:41:20,960 --> 01:41:24,800
so there's no point in not checking it

2088
01:41:30,840 --> 01:41:34,400
right

2089
01:41:33,039 --> 01:41:35,679
first time catching your stream live

2090
01:41:34,399 --> 01:41:36,960
after finally catching up with every

2091
01:41:35,679 --> 01:41:38,158
handmade here i've said wow all right

2092
01:41:36,960 --> 01:41:39,520
that's dedication

2093
01:41:38,158 --> 01:41:40,799
really fun and enlightening fire along

2094
01:41:39,520 --> 01:41:47,840
so we're looking for sdg as well all

2095
01:41:40,800 --> 01:41:47,840
right awesome

2096
01:41:55,198 --> 01:41:58,839
for the upgrade to forecaster 1418 it

2097
01:41:57,520 --> 01:42:00,639
seems to break something with modal

2098
01:41:58,840 --> 01:42:04,159
bindings oh

2099
01:42:00,639 --> 01:42:04,159
um well that's unfortunate

2100
01:42:04,560 --> 01:42:15,840
i guess i can't upgrade then uh

2101
01:42:19,359 --> 01:42:24,238
all right i don't know what's going on

2102
01:42:22,560 --> 01:42:26,239
i just hope somebody fixes something

2103
01:42:24,238 --> 01:42:30,319
soon so somebody let me know

2104
01:42:26,238 --> 01:42:30,319
when we can re re-switch or whatever

2105
01:42:41,520 --> 01:42:46,000
could you explain the flood fill

2106
01:42:43,760 --> 01:42:49,199
algorithm as it was used in the

2107
01:42:46,000 --> 01:42:49,198
minesweeper game

2108
01:42:49,359 --> 01:42:54,719
i mean no because i actually don't

2109
01:42:51,279 --> 01:42:57,198
really know what you're talking about

2110
01:42:54,719 --> 01:42:59,198
what what kind of flood flock do you

2111
01:42:57,198 --> 01:43:02,638
just mean

2112
01:42:59,198 --> 01:43:03,198
talking about if you have a series of

2113
01:43:02,639 --> 01:43:05,679
cells

2114
01:43:03,198 --> 01:43:06,799
and you say fill all of the cells

2115
01:43:05,679 --> 01:43:11,840
connected to this cell

2116
01:43:06,800 --> 01:43:11,840
like that kind of thing

2117
01:43:15,920 --> 01:43:19,440
ah the fix for auto indentation is one

2118
01:43:18,000 --> 01:43:22,840
line you could apply it to your current

2119
01:43:19,439 --> 01:43:24,799
force okay maybe we can try and do that

2120
01:43:22,840 --> 01:43:26,639
then

2121
01:43:24,800 --> 01:43:28,400
any reason you only have the x y z

2122
01:43:26,639 --> 01:43:29,600
diagonal case in the voxel collision

2123
01:43:28,399 --> 01:43:39,839
system wouldn't you want

2124
01:43:29,600 --> 01:43:39,840
x y x z and y z diagonal motion as well

2125
01:43:53,920 --> 01:43:57,199
yeah i mean i guess i don't know

2126
01:43:57,579 --> 01:44:00,899
[Music]

2127
01:44:04,840 --> 01:44:09,199
um

2128
01:44:06,399 --> 01:44:09,198
you may be right

2129
01:44:17,920 --> 01:44:22,399
it's entirely possible uh

2130
01:44:27,840 --> 01:44:32,159
it's entirely possible that we should

2131
01:44:29,520 --> 01:44:35,840
just have a few more of these

2132
01:44:32,158 --> 01:44:35,839
right um

2133
01:44:40,000 --> 01:44:43,118
i mean it's also entirely possible that

2134
01:44:41,600 --> 01:44:49,840
we shouldn't do this one

2135
01:44:43,118 --> 01:44:49,839
i don't know right um

2136
01:44:54,880 --> 01:45:03,840
i'll put it to do in there

2137
01:45:06,639 --> 01:45:17,840
hard to say

2138
01:45:19,279 --> 01:45:23,519
does fan made here really not have a

2139
01:45:20,560 --> 01:45:25,920
straight line yeah i mean i

2140
01:45:23,520 --> 01:45:26,880
we've never done any sphere drawing at

2141
01:45:25,920 --> 01:45:29,199
all we did do

2142
01:45:26,880 --> 01:45:30,159
one time we did something different

2143
01:45:29,198 --> 01:45:33,198
which was we

2144
01:45:30,158 --> 01:45:35,599
were trying to distribute points

2145
01:45:33,198 --> 01:45:36,960
on a sphere and we drew the points so

2146
01:45:35,600 --> 01:45:38,639
like there was a thing that looked kind

2147
01:45:36,960 --> 01:45:40,158
of like a sphere but we've never drawn a

2148
01:45:38,639 --> 01:45:41,039
sphere in handmade hero we don't have

2149
01:45:40,158 --> 01:45:42,960
any spheres

2150
01:45:41,039 --> 01:45:44,479
this is the first time there's ever been

2151
01:45:42,960 --> 01:45:46,000
anything spherical

2152
01:45:44,479 --> 01:45:49,919
in handmade hero because everything's

2153
01:45:46,000 --> 01:45:52,158
either a flat plane or a box

2154
01:45:49,920 --> 01:45:52,158
right

2155
01:45:53,198 --> 01:45:56,719
uh so we've never had to draw a sphere

2156
01:45:55,039 --> 01:45:59,840
it's not hard to draw sphere

2157
01:45:56,719 --> 01:46:01,760
the reason that uh

2158
01:45:59,840 --> 01:46:04,480
it's kind of a pain in the butt to add

2159
01:46:01,760 --> 01:46:06,079
currently is that our renderer only

2160
01:46:04,479 --> 01:46:09,359
draws

2161
01:46:06,079 --> 01:46:10,319
cubes and planes it really only draws

2162
01:46:09,359 --> 01:46:12,960
planes

2163
01:46:10,319 --> 01:46:14,479
right so drawing a sphere is something

2164
01:46:12,960 --> 01:46:16,239
that's pretty easy if you have a general

2165
01:46:14,479 --> 01:46:17,759
purpose renderer but ours is literally

2166
01:46:16,238 --> 01:46:18,559
just a little sprite render that's all

2167
01:46:17,760 --> 01:46:22,320
it does

2168
01:46:18,560 --> 01:46:22,320
right um

2169
01:46:24,840 --> 01:46:27,840
so

2170
01:46:38,840 --> 01:46:41,840
um

2171
01:46:48,639 --> 01:46:52,159
couldn't just apply a circle to a camera

2172
01:46:50,238 --> 01:46:52,559
facing quad to fake a sphere uh we could

2173
01:46:52,158 --> 01:46:54,079
i mean

2174
01:46:52,560 --> 01:46:55,920
i'm not worried about it like i'll just

2175
01:46:54,079 --> 01:46:57,439
draw whatever i can just draw some like

2176
01:46:55,920 --> 01:46:59,279
a little cross or something like

2177
01:46:57,439 --> 01:47:00,479
we i don't care because we don't have to

2178
01:46:59,279 --> 01:47:01,679
actually draw a sphere so it's not a

2179
01:47:00,479 --> 01:47:03,039
problem

2180
01:47:01,679 --> 01:47:09,840
it's just yeah it's not something we

2181
01:47:03,039 --> 01:47:09,840
ever did

2182
01:47:18,639 --> 01:47:23,840
uh this algorithm and wiki flood fill

2183
01:47:38,158 --> 01:47:40,559
okay

2184
01:47:43,679 --> 01:47:51,840
i guess what do you want me to explain

2185
01:48:08,880 --> 01:48:11,760
uh i'm not entirely certain what you

2186
01:48:10,639 --> 01:48:19,840
want me to explain i mean this is a

2187
01:48:11,760 --> 01:48:19,840
pretty complete explanation right

2188
01:48:25,039 --> 01:48:36,719
how does it work

2189
01:48:32,639 --> 01:48:40,560
well i mean so

2190
01:48:36,719 --> 01:48:43,359
the the thing to think about here

2191
01:48:40,560 --> 01:48:46,400
is there's lots of different ways you

2192
01:48:43,359 --> 01:48:48,079
might implement flood filling but it's

2193
01:48:46,399 --> 01:48:51,439
pretty straightforward

2194
01:48:48,079 --> 01:48:54,880
to understand it right

2195
01:48:51,439 --> 01:48:56,399
which is just that every time you

2196
01:48:54,880 --> 01:48:58,560
have a particular star you can just

2197
01:48:56,399 --> 01:48:59,439
think of it as any connected graph so

2198
01:48:58,560 --> 01:49:01,440
anything

2199
01:48:59,439 --> 01:49:02,960
where you have like a cell here you can

2200
01:49:01,439 --> 01:49:04,399
imagine a connected graph is

2201
01:49:02,960 --> 01:49:06,000
each cell is connected to each of its

2202
01:49:04,399 --> 01:49:07,599
neighbors so every cell has four

2203
01:49:06,000 --> 01:49:10,238
connections to the top

2204
01:49:07,600 --> 01:49:11,920
bottom left and right you know what i

2205
01:49:10,238 --> 01:49:15,919
mean

2206
01:49:11,920 --> 01:49:19,039
any connected graph a flood fill is just

2207
01:49:15,920 --> 01:49:22,079
take the node that you are on

2208
01:49:19,039 --> 01:49:24,238
add each of the nodes that are

2209
01:49:22,079 --> 01:49:25,198
connected to that one to your thing to

2210
01:49:24,238 --> 01:49:28,238
consider

2211
01:49:25,198 --> 01:49:30,238
right fill the current one

2212
01:49:28,238 --> 01:49:31,519
and then move one down the stack right

2213
01:49:30,238 --> 01:49:34,319
that's it you just

2214
01:49:31,520 --> 01:49:35,920
keep going and that's a graph filling

2215
01:49:34,319 --> 01:49:37,279
algorithm and it fills graphs

2216
01:49:35,920 --> 01:49:39,920
no matter what the graph is doesn't

2217
01:49:37,279 --> 01:49:43,118
matter if pixels or otherwise right

2218
01:49:39,920 --> 01:49:44,480
that's it um so they're always they just

2219
01:49:43,118 --> 01:49:46,000
keep a stack

2220
01:49:44,479 --> 01:49:48,238
and they just say the first thing you

2221
01:49:46,000 --> 01:49:51,359
put on the stack is the starting point

2222
01:49:48,238 --> 01:49:53,759
you pop it off the stack consider it

2223
01:49:51,359 --> 01:49:54,839
find its neighbors add them to the stack

2224
01:49:53,760 --> 01:49:57,920
if they're connected

2225
01:49:54,840 --> 01:49:58,639
right and in this case connected means

2226
01:49:57,920 --> 01:49:59,679
empty

2227
01:49:58,639 --> 01:50:01,199
like you don't want to go into things

2228
01:49:59,679 --> 01:50:02,000
that are filled so the edge would just

2229
01:50:01,198 --> 01:50:03,919
be right and

2230
01:50:02,000 --> 01:50:06,000
that's it it's just it's just a simple

2231
01:50:03,920 --> 01:50:07,520
walk right

2232
01:50:06,000 --> 01:50:08,800
so i mean i can explain it in more

2233
01:50:07,520 --> 01:50:10,239
detail if there's something else that

2234
01:50:08,800 --> 01:50:12,000
you want to know but there's not much

2235
01:50:10,238 --> 01:50:13,519
else to it than that

2236
01:50:12,000 --> 01:50:15,279
you can see why like in here there's

2237
01:50:13,520 --> 01:50:16,880
talking about how like

2238
01:50:15,279 --> 01:50:18,158
a simple recursive algorithm doesn't

2239
01:50:16,880 --> 01:50:20,000
work very well the reason for that is

2240
01:50:18,158 --> 01:50:21,839
because there's so many pixels

2241
01:50:20,000 --> 01:50:24,479
if you're doing like a pixel fill that

2242
01:50:21,840 --> 01:50:26,480
you blow out the stack space

2243
01:50:24,479 --> 01:50:28,238
for your program if you are basically

2244
01:50:26,479 --> 01:50:31,439
using recursion

2245
01:50:28,238 --> 01:50:39,839
as your stack but

2246
01:50:31,439 --> 01:50:39,839
you know

2247
01:50:40,880 --> 01:50:46,159
so all right um but someday if if you

2248
01:50:44,880 --> 01:50:47,679
people really want to know more about

2249
01:50:46,158 --> 01:50:48,799
flood fill if you really like confused

2250
01:50:47,679 --> 01:50:50,480
about flood fill we can talk about it

2251
01:50:48,800 --> 01:50:52,079
more detail some other time

2252
01:50:50,479 --> 01:50:53,439
maybe during a pre-stream or whatever

2253
01:50:52,079 --> 01:50:55,198
but but there's really nothing to it

2254
01:50:53,439 --> 01:50:58,479
it's it's literally just

2255
01:50:55,198 --> 01:51:00,399
if you imagine you just have a graph any

2256
01:50:58,479 --> 01:51:02,479
graph

2257
01:51:00,399 --> 01:51:04,158
uh so if you want to flood fill pixels

2258
01:51:02,479 --> 01:51:06,000
or minesweeper your graph is just

2259
01:51:04,158 --> 01:51:07,839
each cell is a node and it's connected

2260
01:51:06,000 --> 01:51:09,359
to four other cells which are the the

2261
01:51:07,840 --> 01:51:12,159
nodes inside of it

2262
01:51:09,359 --> 01:51:14,399
and you just imagine the edge

2263
01:51:12,158 --> 01:51:17,519
connections

2264
01:51:14,399 --> 01:51:19,839
are just a

2265
01:51:17,520 --> 01:51:21,599
it's connected if the if the cell is

2266
01:51:19,840 --> 01:51:25,279
empty it's not connected

2267
01:51:21,599 --> 01:51:25,279
if it's if it's filled right

2268
01:51:29,279 --> 01:51:33,679
and then you just do a simple walk you

2269
01:51:30,960 --> 01:51:38,319
just say push all the neighbors on

2270
01:51:33,679 --> 01:51:38,319
and then go to the next one

2271
01:51:39,198 --> 01:51:44,719
what so cyberpunk 2077

2272
01:51:43,039 --> 01:51:47,118
what is the status of that game does

2273
01:51:44,719 --> 01:51:48,239
anyone know because it sort of came out

2274
01:51:47,118 --> 01:51:52,559
but it's not

2275
01:51:48,238 --> 01:51:52,559
doesn't really work you know

2276
01:51:53,760 --> 01:51:58,239
so so like did they have any kind of

2277
01:51:56,399 --> 01:52:00,719
like announcement

2278
01:51:58,238 --> 01:52:02,959
as to what happened with that game is it

2279
01:52:00,719 --> 01:52:06,319
gonna be like

2280
01:52:02,960 --> 01:52:06,319
updated or anything

2281
01:52:14,000 --> 01:52:18,319
because like like it it was it got taken

2282
01:52:16,560 --> 01:52:21,520
off of playstation

2283
01:52:18,319 --> 01:52:24,079
like it's gone so so it's not really out

2284
01:52:21,520 --> 01:52:25,360
in the sense that there's some stores

2285
01:52:24,079 --> 01:52:25,840
that still don't even allow it because

2286
01:52:25,359 --> 01:52:29,279
it was so

2287
01:52:25,840 --> 01:52:32,719
unfinished or whatever right so so i

2288
01:52:29,279 --> 01:52:32,719
don't know what to make of that

2289
01:52:34,319 --> 01:52:36,559
but

2290
01:52:42,399 --> 01:52:45,839
all right anyway thanks everyone for

2291
01:52:44,719 --> 01:52:46,960
joining me for this one handmade here

2292
01:52:45,840 --> 01:52:47,520
it's been pleasure coding with you as

2293
01:52:46,960 --> 01:52:49,760
always

2294
01:52:47,520 --> 01:52:51,599
if you would like to follow along with

2295
01:52:49,760 --> 01:52:53,360
the series at home you can always

2296
01:52:51,599 --> 01:52:54,480
pre-order the game on handmade hero.org

2297
01:52:53,359 --> 01:52:56,079
and it comes with source code so you can

2298
01:52:54,479 --> 01:52:57,678
play around with it

2299
01:52:56,079 --> 01:52:58,880
i'll be here back here next week while

2300
01:52:57,679 --> 01:53:00,319
we'll put in some diagramming and we can

2301
01:52:58,880 --> 01:53:01,440
start doing some testing see if there's

2302
01:53:00,319 --> 01:53:02,719
bugs in the collision that we need to

2303
01:53:01,439 --> 01:53:04,559
fix

2304
01:53:02,719 --> 01:53:06,560
until then have fun programming everyone

2305
01:53:04,560 --> 01:53:13,840
and i'll see you on the internet

2306
01:53:06,560 --> 01:53:13,840
take it easy everybody

2307
01:53:36,479 --> 01:53:38,559
you

