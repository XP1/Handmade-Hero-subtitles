1
00:00:00,060 --> 00:00:04,559
hello everyone and welcome to handmade

2
00:00:02,459 --> 00:00:08,580
Hero show Rico to complete-game live on

3
00:00:04,559 --> 00:00:10,320
stream we're in the thick of it now we

4
00:00:08,580 --> 00:00:11,490
have a bunch of stuff we've got to do

5
00:00:10,320 --> 00:00:14,070
because we basically have everything

6
00:00:11,490 --> 00:00:17,420
kind of coming together here and we need

7
00:00:14,070 --> 00:00:24,149
to start cleaning up everything and

8
00:00:17,420 --> 00:00:26,010
making it reasonable to I guess see what

9
00:00:24,149 --> 00:00:29,038
the game actually looks like and plays

10
00:00:26,010 --> 00:00:31,080
like right we finished pretty much all

11
00:00:29,039 --> 00:00:32,640
the engine component work and we know

12
00:00:31,079 --> 00:00:34,109
how it all fits together so now it's

13
00:00:32,640 --> 00:00:37,890
time for us to actually start bolting

14
00:00:34,109 --> 00:00:39,539
things down and and pulling them

15
00:00:37,890 --> 00:00:41,579
together which really has to kind of be

16
00:00:39,539 --> 00:00:45,238
done in them in a bit of a in my opinion

17
00:00:41,579 --> 00:00:47,730
sort of buckshot fashion because every

18
00:00:45,238 --> 00:00:50,070
little piece sort of has to kind of now

19
00:00:47,729 --> 00:00:51,628
be reevaluated a little bit and go like

20
00:00:50,070 --> 00:00:54,770
okay how does this part want to really

21
00:00:51,628 --> 00:00:57,238
work let's like define that hardcore now

22
00:00:54,770 --> 00:00:58,680
we know where it slots in but you know

23
00:00:57,238 --> 00:01:01,169
we maybe we didn't know a couple things

24
00:00:58,679 --> 00:01:03,840
about it before but we know them now and

25
00:01:01,170 --> 00:01:06,090
so on so there's a bunch of things we

26
00:01:03,840 --> 00:01:09,359
want to do one thing that we need to do

27
00:01:06,090 --> 00:01:10,500
also is put art in the game and our

28
00:01:09,359 --> 00:01:11,909
circumstances has definitely changed

29
00:01:10,500 --> 00:01:14,099
with respect to that when I first

30
00:01:11,909 --> 00:01:15,359
started this and you know it hasn't been

31
00:01:14,099 --> 00:01:16,649
a priority putting art in the game was

32
00:01:15,359 --> 00:01:19,650
just not important for building an

33
00:01:16,650 --> 00:01:20,880
engine other than just having some test

34
00:01:19,650 --> 00:01:23,609
assets but once you actually start

35
00:01:20,879 --> 00:01:26,459
building the game game obviously the art

36
00:01:23,609 --> 00:01:29,549
is crucial because everything that you

37
00:01:26,459 --> 00:01:32,728
see on the screen comes from the artists

38
00:01:29,549 --> 00:01:34,140
and without that you have no idea what

39
00:01:32,728 --> 00:01:36,390
things are supposed to look like or how

40
00:01:34,140 --> 00:01:40,019
they're supposed to behave or anything

41
00:01:36,390 --> 00:01:41,819
because you can't really see what the

42
00:01:40,019 --> 00:01:43,259
context is or what things are going to

43
00:01:41,819 --> 00:01:44,489
look like can't make decisions certainly

44
00:01:43,259 --> 00:01:47,879
can't make scissors without say lighting

45
00:01:44,489 --> 00:01:49,649
without putting the art in right so one

46
00:01:47,879 --> 00:01:51,179
of the things about that is originally I

47
00:01:49,649 --> 00:01:53,519
didn't think we were going to have any

48
00:01:51,180 --> 00:01:56,100
real direct artwork on the game because

49
00:01:53,519 --> 00:01:58,739
I was originally just contracting with

50
00:01:56,099 --> 00:02:03,569
Junction for it and she was remote she's

51
00:01:58,739 --> 00:02:05,368
in China and well she's Sonny's in China

52
00:02:03,569 --> 00:02:09,538
sometimes in in other parts of the world

53
00:02:05,368 --> 00:02:11,310
she travels a lot and so basically what

54
00:02:09,538 --> 00:02:12,659
happened there was you know just gonna

55
00:02:11,310 --> 00:02:13,599
be like sending some sprites and we'll

56
00:02:12,659 --> 00:02:16,000
just put them in

57
00:02:13,599 --> 00:02:17,500
it's kind of a hands-off process and you

58
00:02:16,000 --> 00:02:20,439
know we just contract for something then

59
00:02:17,500 --> 00:02:22,210
just use them but eventually we ended up

60
00:02:20,439 --> 00:02:24,280
not doing that because she wanted to go

61
00:02:22,210 --> 00:02:26,140
work on other things and Anna was

62
00:02:24,280 --> 00:02:28,509
willing to do all the stuff for handmade

63
00:02:26,139 --> 00:02:29,679
hero as well so that means we actually

64
00:02:28,509 --> 00:02:31,149
have the opportunity to have someone

65
00:02:29,680 --> 00:02:35,319
work directly on the art for the game

66
00:02:31,150 --> 00:02:37,780
which is a big difference those are very

67
00:02:35,319 --> 00:02:40,569
different processes and so what I'd like

68
00:02:37,780 --> 00:02:41,710
to do is I'd like to make it now that

69
00:02:40,569 --> 00:02:44,919
we're going to actually start crafting

70
00:02:41,710 --> 00:02:47,530
these worlds it's probably worth our

71
00:02:44,919 --> 00:02:52,869
time to go ahead and make the asset

72
00:02:47,530 --> 00:02:54,849
system load on demand because we now

73
00:02:52,870 --> 00:02:56,860
have the opportunity to have someone

74
00:02:54,849 --> 00:02:58,419
actually sit down with the game and

75
00:02:56,860 --> 00:03:00,790
improve the art based on what they see

76
00:02:58,419 --> 00:03:03,149
in the game which was not really

77
00:03:00,789 --> 00:03:06,909
something we were ever gonna have before

78
00:03:03,150 --> 00:03:08,920
so I think that's a really big one we

79
00:03:06,909 --> 00:03:10,479
want to do and so if I look at the

80
00:03:08,919 --> 00:03:12,639
spread of what we're gonna do here we

81
00:03:10,479 --> 00:03:14,979
want to fix the camera stuff to make

82
00:03:12,639 --> 00:03:17,739
that be working the way we want we want

83
00:03:14,979 --> 00:03:20,199
to fix the lighting stuff and we want to

84
00:03:17,740 --> 00:03:22,090
fix the art stuff all of that stuff now

85
00:03:20,199 --> 00:03:23,979
can come together because we see I think

86
00:03:22,090 --> 00:03:25,990
we see everything exactly how it is

87
00:03:23,979 --> 00:03:28,989
right I mean this is the game now I

88
00:03:25,990 --> 00:03:30,969
think is clear to me and the engine

89
00:03:28,990 --> 00:03:33,370
parts are clear there's not a lot of

90
00:03:30,969 --> 00:03:34,629
mystery there to it so I want to go

91
00:03:33,370 --> 00:03:36,610
ahead and start to get all of those

92
00:03:34,629 --> 00:03:39,370
together so that that can take shape and

93
00:03:36,610 --> 00:03:43,690
the one main thing I think that we want

94
00:03:39,370 --> 00:03:47,740
to add asset wise is the ability to do

95
00:03:43,689 --> 00:03:49,000
those kinds of loads so I think it's

96
00:03:47,740 --> 00:03:52,469
worth probably spinning through that

97
00:03:49,000 --> 00:03:55,150
system and making that stuff work and

98
00:03:52,469 --> 00:03:58,150
it's not that hard to do we basically

99
00:03:55,150 --> 00:04:01,990
have a system currently that loads more

100
00:03:58,150 --> 00:04:05,680
than one asset file anyway so allowing

101
00:04:01,990 --> 00:04:07,570
it to on-demand replace an asset is

102
00:04:05,680 --> 00:04:09,580
probably not a big deal like there's

103
00:04:07,569 --> 00:04:12,549
really just not a lot to it I don't

104
00:04:09,580 --> 00:04:14,320
think that we would encounter there we

105
00:04:12,550 --> 00:04:16,480
already have bitmap eviction and stuff

106
00:04:14,319 --> 00:04:19,149
like this and so once you have those

107
00:04:16,480 --> 00:04:22,270
things in place it's sort of the case

108
00:04:19,149 --> 00:04:23,949
that having it load out of a file on

109
00:04:22,269 --> 00:04:26,779
demand if we need it to or something

110
00:04:23,949 --> 00:04:28,789
like this shouldn't really be

111
00:04:26,779 --> 00:04:36,289
problem so I think that's what we want

112
00:04:28,790 --> 00:04:39,370
to do and we can go from there now let's

113
00:04:36,290 --> 00:04:39,370
take a look at what that would entail

114
00:04:45,339 --> 00:04:57,560
I'm gonna go ahead and do a little build

115
00:04:47,629 --> 00:04:59,180
here and run uh so you know if we

116
00:04:57,560 --> 00:05:02,060
imagine what we're looking at here so

117
00:04:59,180 --> 00:05:04,220
the three things I've talked about the

118
00:05:02,060 --> 00:05:06,319
three things we want to do is one we

119
00:05:04,220 --> 00:05:08,350
want to make the lighting bounds

120
00:05:06,319 --> 00:05:11,029
accurately reflect what's on the screen

121
00:05:08,350 --> 00:05:12,169
so that's one thing I talked about the

122
00:05:11,029 --> 00:05:14,599
second thing I talked about was the

123
00:05:12,168 --> 00:05:15,740
camera right now the camera is is you

124
00:05:14,600 --> 00:05:18,110
know you can see it's sort of working

125
00:05:15,740 --> 00:05:20,090
there a little bit but it doesn't really

126
00:05:18,110 --> 00:05:21,979
adjust correctly for larger or smaller

127
00:05:20,089 --> 00:05:23,179
rooms and so on so you want adjust the

128
00:05:21,978 --> 00:05:25,039
lighting bounce we want adjust the

129
00:05:23,180 --> 00:05:28,310
camera bounce and then the other thing

130
00:05:25,040 --> 00:05:30,139
we want to do is if we imagined now that

131
00:05:28,310 --> 00:05:32,780
we actually do have the opportunity to

132
00:05:30,139 --> 00:05:34,460
hand this off to an artist and say hey

133
00:05:32,779 --> 00:05:35,750
you know curious actually

134
00:05:34,459 --> 00:05:38,629
someone who's gonna could work directly

135
00:05:35,750 --> 00:05:41,779
on the game why don't you paint some

136
00:05:38,629 --> 00:05:44,029
textures to go on these on these walls

137
00:05:41,779 --> 00:05:46,239
and such what we would like to be able

138
00:05:44,029 --> 00:05:48,559
to do is introduce a key or just

139
00:05:46,240 --> 00:05:52,160
automatically reload from disk or

140
00:05:48,560 --> 00:05:54,589
whatever some files that say what the

141
00:05:52,160 --> 00:05:57,050
art can be in certain places and then

142
00:05:54,589 --> 00:05:59,839
just have those show up right in the

143
00:05:57,050 --> 00:06:02,180
game automatically and we still probably

144
00:05:59,839 --> 00:06:04,069
want the game to function the way that

145
00:06:02,180 --> 00:06:07,160
it currently functions where we can ship

146
00:06:04,069 --> 00:06:09,589
a asset file that just consolidates

147
00:06:07,160 --> 00:06:11,270
things and makes it easier to understand

148
00:06:09,589 --> 00:06:13,579
what's in there so I don't really want

149
00:06:11,269 --> 00:06:16,189
to gut what's in there currently I just

150
00:06:13,579 --> 00:06:19,339
want to add something on top that will

151
00:06:16,189 --> 00:06:20,899
do that right so those are the three

152
00:06:19,339 --> 00:06:25,310
things that I'm looking at that I would

153
00:06:20,899 --> 00:06:30,469
like to get right now and so that we can

154
00:06:25,310 --> 00:06:33,168
go from there and and and start to do

155
00:06:30,470 --> 00:06:34,610
focus on actual world Jen right because

156
00:06:33,168 --> 00:06:36,348
that's the other thing is I want I need

157
00:06:34,610 --> 00:06:37,939
to be able to place like objects and

158
00:06:36,348 --> 00:06:39,288
characters and stuff in here as part of

159
00:06:37,939 --> 00:06:39,980
the world Jen in fact I already would

160
00:06:39,288 --> 00:06:41,479
like to do that

161
00:06:39,980 --> 00:06:43,250
even before we start to get to more

162
00:06:41,480 --> 00:06:46,280
complex topology stuff that I'd like to

163
00:06:43,250 --> 00:06:47,959
do with the world Jen even right now

164
00:06:46,279 --> 00:06:50,259
we've got an orphanage we need to

165
00:06:47,959 --> 00:06:54,109
populate the orphanage with stuff right

166
00:06:50,259 --> 00:06:55,909
and at the moment we are not populating

167
00:06:54,110 --> 00:07:00,830
the orphanage with stuff right we have

168
00:06:55,910 --> 00:07:02,270
no idea right now of what can go in this

169
00:07:00,829 --> 00:07:03,769
orphanage we don't have anything like

170
00:07:02,269 --> 00:07:09,259
that and so we need to sort of get there

171
00:07:03,769 --> 00:07:10,939
right so these are our tasks I don't

172
00:07:09,259 --> 00:07:14,750
know which ones I necessarily want to do

173
00:07:10,939 --> 00:07:16,939
first I think what I might do is I think

174
00:07:14,750 --> 00:07:20,029
I might want to focus on the camera for

175
00:07:16,939 --> 00:07:22,370
starters and just get that working

176
00:07:20,029 --> 00:07:23,599
because we have most of that stuff and I

177
00:07:22,370 --> 00:07:26,209
think we want to just go ahead and

178
00:07:23,600 --> 00:07:27,710
finish that up and then I'll do the

179
00:07:26,209 --> 00:07:30,049
lighting bounds while I'm doing the

180
00:07:27,709 --> 00:07:31,489
camera and I won't change the lighting

181
00:07:30,050 --> 00:07:32,990
algorithm like we want to go in and

182
00:07:31,490 --> 00:07:35,120
continue to improve that algorithm a

183
00:07:32,990 --> 00:07:36,590
little bit later on like I said we want

184
00:07:35,120 --> 00:07:39,410
to place the lighting points right now

185
00:07:36,589 --> 00:07:41,359
they're kind of haphazardly just strewn

186
00:07:39,410 --> 00:07:42,860
around the boxes in the level so we want

187
00:07:41,360 --> 00:07:46,040
to like do that a little bit more

188
00:07:42,860 --> 00:07:48,650
carefully as well as we go as part of

189
00:07:46,040 --> 00:07:52,939
the generative routine so we'll be doing

190
00:07:48,649 --> 00:07:55,579
that part as well but at the moment what

191
00:07:52,939 --> 00:07:57,079
we want to do is is just make it so that

192
00:07:55,579 --> 00:07:59,659
the lighting picks the right region

193
00:07:57,079 --> 00:08:01,969
right now we've got some other concerns

194
00:07:59,660 --> 00:08:05,510
here that you can see that we sort of

195
00:08:01,970 --> 00:08:07,310
have ongoing if you look at the way that

196
00:08:05,509 --> 00:08:10,039
the characters work even when we put in

197
00:08:07,310 --> 00:08:12,649
the new character sprites I don't know

198
00:08:10,040 --> 00:08:15,890
how I really like the perspective field

199
00:08:12,649 --> 00:08:17,269
that we have here but we you can see

200
00:08:15,889 --> 00:08:20,839
there's problems with it going through

201
00:08:17,269 --> 00:08:24,049
sideways doors you can see that is just

202
00:08:20,839 --> 00:08:27,289
gonna produce an unwelcome intersection

203
00:08:24,050 --> 00:08:29,060
there right and I think we might be able

204
00:08:27,290 --> 00:08:30,319
to fix that like we'll see with the

205
00:08:29,060 --> 00:08:32,539
sprites but that's another thing that

206
00:08:30,319 --> 00:08:33,409
we're gonna be looking at as we are I

207
00:08:32,539 --> 00:08:35,750
shouldn't say we're gonna be look at it

208
00:08:33,409 --> 00:08:38,209
that's another big reason why we want to

209
00:08:35,750 --> 00:08:40,279
get some you know either

210
00:08:38,210 --> 00:08:42,440
final or close to final versions of

211
00:08:40,279 --> 00:08:44,600
certain sprites into the game so that we

212
00:08:42,440 --> 00:08:46,340
can tune things like that whereas right

213
00:08:44,600 --> 00:08:48,230
now we're flying blind on some of those

214
00:08:46,340 --> 00:08:49,850
things and now that we've gotten to the

215
00:08:48,230 --> 00:08:52,550
point where everything's in place and we

216
00:08:49,850 --> 00:08:54,110
want to kind of converge on a game we

217
00:08:52,549 --> 00:08:57,349
can't really do

218
00:08:54,110 --> 00:08:58,879
that again without having really good

219
00:08:57,350 --> 00:09:00,379
knowledge of what's actually supposed to

220
00:08:58,879 --> 00:09:02,750
happen artistically there and we need to

221
00:09:00,379 --> 00:09:05,389
make those decisions so that's what we

222
00:09:02,750 --> 00:09:08,328
want to do right now and so I'm going to

223
00:09:05,389 --> 00:09:10,159
move through those things so let's start

224
00:09:08,328 --> 00:09:15,639
like I said in order oh I forgot I have

225
00:09:10,159 --> 00:09:15,639
those keys for changing the lighting

226
00:09:16,809 --> 00:09:23,000
it's kind of fun alright so anyway

227
00:09:20,360 --> 00:09:24,919
that's what I want to do I want to go

228
00:09:23,000 --> 00:09:27,049
ahead and push towards that so let's

229
00:09:24,919 --> 00:09:29,449
just take a look at where that sort of

230
00:09:27,049 --> 00:09:32,059
stuff is happening in terms of the

231
00:09:29,450 --> 00:09:34,790
camera and so on and and let's see what

232
00:09:32,059 --> 00:09:36,169
we might want to do with that so for

233
00:09:34,789 --> 00:09:38,419
starters I was saying the lighting

234
00:09:36,169 --> 00:09:39,679
bounds we know that there's some stuff

235
00:09:38,419 --> 00:09:43,039
happening with lighting bands here you

236
00:09:39,679 --> 00:09:46,699
can sort of see this light bounce stuff

237
00:09:43,039 --> 00:09:53,028
happening and you can see that really

238
00:09:46,700 --> 00:09:55,278
both of these are kind of ad-hoc so what

239
00:09:53,028 --> 00:09:57,559
you can see is we're taking some

240
00:09:55,278 --> 00:10:03,500
variable called standard room dimension

241
00:09:57,559 --> 00:10:06,289
and we're just going well look we know

242
00:10:03,500 --> 00:10:09,669
there's some size we said rooms were and

243
00:10:06,289 --> 00:10:11,929
we're just gonna arbitrarily like decide

244
00:10:09,669 --> 00:10:14,120
that whatever the standard room

245
00:10:11,929 --> 00:10:19,179
dimension is we'll do three wide of that

246
00:10:14,120 --> 00:10:21,860
right but that doesn't really help us

247
00:10:19,179 --> 00:10:23,269
you know we're talking about a world

248
00:10:21,860 --> 00:10:26,600
that's gonna have different sized rooms

249
00:10:23,269 --> 00:10:29,629
and it's just it doesn't really make

250
00:10:26,600 --> 00:10:31,070
sense as the thing that we want and the

251
00:10:29,629 --> 00:10:33,230
same thing goes true for the light

252
00:10:31,070 --> 00:10:34,579
bounce so like you know a trivial fix

253
00:10:33,230 --> 00:10:37,519
here is just make the light bounce

254
00:10:34,578 --> 00:10:39,669
larger and then when we when we run it

255
00:10:37,519 --> 00:10:41,929
you know we hope that that covers it now

256
00:10:39,669 --> 00:10:44,208
and that's fine but remember light

257
00:10:41,929 --> 00:10:46,399
bounds are costly so yeah now we're

258
00:10:44,208 --> 00:10:48,768
we're assimilating more of a space but

259
00:10:46,399 --> 00:10:50,990
we're costing more frame time because

260
00:10:48,769 --> 00:10:52,490
we're gathering up more space and

261
00:10:50,990 --> 00:10:54,649
similarly what you can see is because

262
00:10:52,490 --> 00:10:57,259
the simulation bounds are focused on

263
00:10:54,649 --> 00:10:59,839
room centers you can also see during the

264
00:10:57,259 --> 00:11:01,610
transition the light bound is kind of in

265
00:10:59,839 --> 00:11:04,579
the wrong place and we see an unlit

266
00:11:01,610 --> 00:11:07,519
region for a little while right so all

267
00:11:04,578 --> 00:11:09,259
of these things are sort of

268
00:11:07,519 --> 00:11:12,919
you should be aware of they're not what

269
00:11:09,259 --> 00:11:16,580
we want to do and so you know if for

270
00:11:12,919 --> 00:11:18,949
example I just made the another solution

271
00:11:16,580 --> 00:11:20,300
here just to give you some examples is

272
00:11:18,950 --> 00:11:23,000
to just light everything that we

273
00:11:20,299 --> 00:11:24,679
simulate again to slow and we're

274
00:11:23,000 --> 00:11:26,840
lighting tons of stuff we don't need to

275
00:11:24,679 --> 00:11:28,579
light so we keep impacting the frame

276
00:11:26,840 --> 00:11:31,540
rate potentially negatively here and

277
00:11:28,580 --> 00:11:33,590
make work a lot harder for ourselves

278
00:11:31,539 --> 00:11:36,649
looks like we also get into situations

279
00:11:33,590 --> 00:11:38,269
where we blow out the size of what we

280
00:11:36,649 --> 00:11:40,370
have right this you can't see either

281
00:11:38,269 --> 00:11:41,840
this is an optimized build so it looks

282
00:11:40,370 --> 00:11:44,299
like it's breaking on a completely

283
00:11:41,840 --> 00:11:45,710
aligned that couldn't possibly break but

284
00:11:44,299 --> 00:11:48,679
really what we're seeing here is we're

285
00:11:45,710 --> 00:11:50,509
running out of room for storing our

286
00:11:48,679 --> 00:11:54,529
lights so we're blowing out those

287
00:11:50,509 --> 00:11:56,059
buffers there right uh so again you know

288
00:11:54,529 --> 00:11:57,889
a solution would be to light everything

289
00:11:56,059 --> 00:12:00,500
again we really don't want to do that

290
00:11:57,889 --> 00:12:02,360
because then in addition to having to

291
00:12:00,500 --> 00:12:05,029
have larger buffers to stores up it's

292
00:12:02,360 --> 00:12:08,450
just gonna slow us down right so what we

293
00:12:05,029 --> 00:12:11,959
want here instead is a more camera

294
00:12:08,450 --> 00:12:14,180
centric thing for the lights and a more

295
00:12:11,960 --> 00:12:16,040
camera centric thing for the simulation

296
00:12:14,179 --> 00:12:20,269
bounds as well just slightly different

297
00:12:16,039 --> 00:12:24,980
right so here we've got this camera

298
00:12:20,269 --> 00:12:27,409
bounds in meters situation here this is

299
00:12:24,980 --> 00:12:29,659
the camera the camera bounds that we're

300
00:12:27,409 --> 00:12:39,500
saying we're sort of seeing here right I

301
00:12:29,659 --> 00:12:42,459
don't know do we draw this I don't know

302
00:12:39,500 --> 00:12:42,460
if we do

303
00:12:49,250 --> 00:12:57,990
let's take a look and we try this we

304
00:12:51,840 --> 00:13:07,050
don't really draw this so I want to draw

305
00:12:57,990 --> 00:13:11,519
this so we can see where it is so in

306
00:13:07,049 --> 00:13:15,899
here what are we drawing so we draw the

307
00:13:11,519 --> 00:13:21,179
screen bounds we draw those in yellow we

308
00:13:15,899 --> 00:13:25,559
draw the symbols in cyan and then a

309
00:13:21,179 --> 00:13:29,789
purple region that's the the groans

310
00:13:25,559 --> 00:13:31,589
creat the DM groan screen bounds there

311
00:13:29,789 --> 00:13:40,439
let me take a look here which ones are

312
00:13:31,590 --> 00:13:43,590
these we see so we can see the purple

313
00:13:40,440 --> 00:13:49,620
region very clearly but I don't see any

314
00:13:43,590 --> 00:13:52,560
of the other regions so let's take a

315
00:13:49,620 --> 00:14:01,049
look at those so for example I don't see

316
00:13:52,559 --> 00:14:06,839
the sim bond region all I see is the

317
00:14:01,049 --> 00:14:08,990
world Simpson region bounds so why is

318
00:14:06,840 --> 00:14:08,990
that

319
00:14:12,340 --> 00:14:19,509
we should be seeing a three world it

320
00:14:17,679 --> 00:14:21,789
might be because it's right on top so

321
00:14:19,509 --> 00:14:23,580
let's take a look at what happens here I

322
00:14:21,789 --> 00:14:25,990
just want to see what's going on here so

323
00:14:23,580 --> 00:14:33,610
we're seeing the purple one I'm going to

324
00:14:25,990 --> 00:14:38,250
comment this out okay so those are just

325
00:14:33,610 --> 00:14:41,528
coincident so I'm just gonna leave us

326
00:14:38,250 --> 00:14:42,909
drawing for now well I guess what I can

327
00:14:41,528 --> 00:14:46,240
do is use this line to draw the other

328
00:14:42,909 --> 00:14:48,669
thing I want to draw I'm gonna leave us

329
00:14:46,240 --> 00:14:49,990
drawing the the sim region bounce and

330
00:14:48,669 --> 00:14:55,990
what I will do here is I'll draw the

331
00:14:49,990 --> 00:15:00,159
light bounce so that way I can see both

332
00:14:55,990 --> 00:15:01,600
of those two things at the same time so

333
00:15:00,159 --> 00:15:03,309
there's the simulation region

334
00:15:01,600 --> 00:15:06,100
there's the region we're lighting and as

335
00:15:03,309 --> 00:15:08,639
you can see the lighting lines up with

336
00:15:06,100 --> 00:15:11,860
that region so it makes sense right and

337
00:15:08,639 --> 00:15:14,019
our goal is to never see while we're

338
00:15:11,860 --> 00:15:15,970
doing something like this that line and

339
00:15:14,019 --> 00:15:17,319
you can see we clearly do see it as the

340
00:15:15,970 --> 00:15:19,450
camera moves because the camera wasn't

341
00:15:17,320 --> 00:15:23,710
that hot so you can sort of see what we

342
00:15:19,450 --> 00:15:27,730
would like to do for starters is slide

343
00:15:23,710 --> 00:15:31,060
that that region right along with the

344
00:15:27,730 --> 00:15:33,039
camera so instead for example of the

345
00:15:31,059 --> 00:15:35,409
light bounce being centered around zero

346
00:15:33,039 --> 00:15:38,889
zero zero we really want them to be

347
00:15:35,409 --> 00:15:42,100
displaced by the cameras motion you know

348
00:15:38,889 --> 00:15:47,110
what I'm saying so you can see here when

349
00:15:42,100 --> 00:15:49,600
we're talking about for example the

350
00:15:47,110 --> 00:15:52,419
camera rect here where we go get camera

351
00:15:49,600 --> 00:15:52,629
rectangle at target I'm interested to

352
00:15:52,419 --> 00:15:54,929
know

353
00:15:52,629 --> 00:15:57,519
in fact because this villain tours to go

354
00:15:54,929 --> 00:16:00,819
we're not drawing this world camera rect

355
00:15:57,519 --> 00:16:07,919
I don't think and I think we would like

356
00:16:00,820 --> 00:16:07,920
to write let's find out

357
00:16:10,720 --> 00:16:17,810
so in here we've got these screen bounds

358
00:16:14,440 --> 00:16:25,399
what I'd like to do is probably push a

359
00:16:17,809 --> 00:16:29,328
volume outline for this thing I'm

360
00:16:25,399 --> 00:16:32,299
assuming I can specify one of these keys

361
00:16:29,328 --> 00:16:36,429
rectangle threes right I'm assuming I

362
00:16:32,299 --> 00:16:36,429
can pass one of those down and draw it

363
00:16:43,659 --> 00:16:50,028
so I'm specifying world camera rect and

364
00:16:47,149 --> 00:16:54,019
I wanted to see where that is so you can

365
00:16:50,028 --> 00:16:57,860
see so I suspect just based on what I'm

366
00:16:54,019 --> 00:16:59,959
looking at here that a big part of our

367
00:16:57,860 --> 00:17:03,259
problem now is that we've obvious that

368
00:16:59,958 --> 00:17:05,480
code is obviously borked right we

369
00:17:03,259 --> 00:17:09,048
probably never updated it so there's the

370
00:17:05,480 --> 00:17:10,939
rectangle I was drawing and that yellow

371
00:17:09,048 --> 00:17:13,490
rectangle is must be the screen bounds

372
00:17:10,939 --> 00:17:15,500
and so on right they're just wrong and

373
00:17:13,490 --> 00:17:17,209
so I think what we want to do is is we

374
00:17:15,500 --> 00:17:20,390
need to like make that routine actually

375
00:17:17,209 --> 00:17:22,039
work so what we want to do is we want to

376
00:17:20,390 --> 00:17:28,390
produce something that that draws

377
00:17:22,039 --> 00:17:31,190
exactly the screen region based on on

378
00:17:28,390 --> 00:17:33,350
the kick current camera view because

379
00:17:31,190 --> 00:17:35,650
that's gonna tell us what's in view and

380
00:17:33,349 --> 00:17:38,659
that will tell us what we need to light

381
00:17:35,650 --> 00:17:40,910
right that's what we're actually looking

382
00:17:38,660 --> 00:17:44,690
for here we want something that's going

383
00:17:40,910 --> 00:17:46,190
to tell us that information so I think

384
00:17:44,690 --> 00:17:48,259
where we want to start our little

385
00:17:46,190 --> 00:17:50,419
adventure here is probably right there

386
00:17:48,259 --> 00:17:52,279
in fixing that routine because that

387
00:17:50,419 --> 00:17:54,559
routine is one that we need for

388
00:17:52,279 --> 00:17:59,750
everything else that that's camera track

389
00:17:54,558 --> 00:18:02,569
related so let's start with that I don't

390
00:17:59,750 --> 00:18:06,980
actually remember writing that routine

391
00:18:02,569 --> 00:18:08,168
it's been a long time so let's just look

392
00:18:06,980 --> 00:18:10,130
at it

393
00:18:08,169 --> 00:18:12,080
there's probably it to do in there

394
00:18:10,130 --> 00:18:15,260
that's like update to the new 3d system

395
00:18:12,079 --> 00:18:18,949
or something like this and that is

396
00:18:15,259 --> 00:18:22,200
exactly what we need to do right so here

397
00:18:18,950 --> 00:18:24,090
is our unprojected so

398
00:18:22,200 --> 00:18:26,009
you know it looks like we actually at

399
00:18:24,089 --> 00:18:33,929
least nominally we're making an effort

400
00:18:26,009 --> 00:18:36,779
here though right this is I don't know

401
00:18:33,930 --> 00:18:42,960
yeah like how we got away with that with

402
00:18:36,779 --> 00:18:45,089
without you in there but pretty

403
00:18:42,960 --> 00:18:47,130
obviously stubbed I like we say get

404
00:18:45,089 --> 00:18:58,879
rectangle at Target and we just say that

405
00:18:47,130 --> 00:19:04,500
Z is eight the magical eight well okay

406
00:18:58,880 --> 00:19:06,990
so we have two things to do one is we

407
00:19:04,500 --> 00:19:12,509
need to validate our unprojected

408
00:19:06,990 --> 00:19:16,799
and our unprojected is the function that

409
00:19:12,509 --> 00:19:19,859
tries to take our camera system and

410
00:19:16,799 --> 00:19:22,289
reverse a projection that goes through

411
00:19:19,859 --> 00:19:24,449
it so we need to make sure that that's

412
00:19:22,289 --> 00:19:28,069
working properly so all of these things

413
00:19:24,450 --> 00:19:28,069
in here right have to work properly

414
00:19:35,808 --> 00:19:42,829
and these all seem to be written I mean

415
00:19:39,348 --> 00:19:45,048
I like the way these are written they're

416
00:19:42,829 --> 00:19:47,778
all written in terms of saying tell me

417
00:19:45,048 --> 00:19:59,058
how far out from the camera you wanted

418
00:19:47,778 --> 00:20:00,378
me to go so that all seems good yeah so

419
00:19:59,058 --> 00:20:02,298
that all seems good

420
00:20:00,378 --> 00:20:03,528
so really the primary thing we want to

421
00:20:02,298 --> 00:20:06,079
start with before we start debugging

422
00:20:03,528 --> 00:20:07,278
this because maybe there are some things

423
00:20:06,079 --> 00:20:09,858
we change in here that make this

424
00:20:07,278 --> 00:20:11,628
function no longer accurate in terms of

425
00:20:09,858 --> 00:20:14,269
product on projections so we want to we

426
00:20:11,628 --> 00:20:15,978
need to go assess that but when we look

427
00:20:14,269 --> 00:20:17,838
at this what we see immediately is just

428
00:20:15,979 --> 00:20:19,308
that like yeah in order to make this

429
00:20:17,838 --> 00:20:21,168
function actually work we need to

430
00:20:19,308 --> 00:20:23,808
actually specify what the target is

431
00:20:21,169 --> 00:20:26,359
you're trying to look at and so in order

432
00:20:23,808 --> 00:20:28,519
to get that we need to know like what is

433
00:20:26,358 --> 00:20:32,210
that target point right like how far is

434
00:20:28,519 --> 00:20:36,739
that target so I think what we want to

435
00:20:32,210 --> 00:20:41,989
do there is a probably just passed the Z

436
00:20:36,739 --> 00:20:44,960
in like so and force the person who's

437
00:20:41,989 --> 00:20:46,848
calling us to tell us that what they're

438
00:20:44,960 --> 00:20:49,159
actually looking for there because if

439
00:20:46,848 --> 00:20:51,678
you remember back here where we sort of

440
00:20:49,159 --> 00:20:57,200
set up the camera we know that we are

441
00:20:51,679 --> 00:21:00,109
doing some kind of a of a targeted based

442
00:20:57,200 --> 00:21:03,710
cam and we've got two situations where

443
00:21:00,108 --> 00:21:09,949
that happens one is where we set up the

444
00:21:03,710 --> 00:21:11,329
camera to sort of to be a debug camera

445
00:21:09,950 --> 00:21:12,830
where we can orbit it around and stuff

446
00:21:11,329 --> 00:21:15,348
and there we definitely know what the

447
00:21:12,829 --> 00:21:17,628
target is because we literally move away

448
00:21:15,348 --> 00:21:19,848
by whatever the debug camera dolly is

449
00:21:17,628 --> 00:21:21,888
whatever that amount is so we know that

450
00:21:19,848 --> 00:21:23,118
world mode debug camera dolly would be

451
00:21:21,888 --> 00:21:25,308
the correct thing if we was in that

452
00:21:23,118 --> 00:21:28,999
camera but that's the debug camera so

453
00:21:25,308 --> 00:21:31,878
the other camera we have is the gameplay

454
00:21:28,999 --> 00:21:34,399
camera and the gameplay camera tells us

455
00:21:31,878 --> 00:21:38,138
how far away from whatever the target is

456
00:21:34,398 --> 00:21:40,488
that we're looking at that we want to to

457
00:21:38,138 --> 00:21:42,408
how we want to adjust it for that for

458
00:21:40,489 --> 00:21:45,379
you know where it is in the game and

459
00:21:42,409 --> 00:21:48,050
what we know about that is we don't set

460
00:21:45,378 --> 00:21:50,359
that piece of information anywhere can

461
00:21:48,049 --> 00:21:52,220
and that's probably the thing that

462
00:21:50,359 --> 00:21:54,859
stopped us when we were initially typing

463
00:21:52,220 --> 00:21:56,870
this in from doing the right thing there

464
00:21:54,859 --> 00:21:59,029
and we just stuck an 8 in there too you

465
00:21:56,869 --> 00:22:02,389
know until we were gonna go make that

466
00:21:59,029 --> 00:22:04,369
code more correct so I think what we

467
00:22:02,390 --> 00:22:07,490
want to do here is take a look at when

468
00:22:04,369 --> 00:22:09,559
we're dealing with the camera what we

469
00:22:07,490 --> 00:22:11,240
want to do is when we update one of

470
00:22:09,559 --> 00:22:14,179
these cameras I think we want to make

471
00:22:11,240 --> 00:22:16,819
sure we remember what we were looking at

472
00:22:14,180 --> 00:22:19,130
right and to the extent that we do we're

473
00:22:16,819 --> 00:22:21,200
okay to accept that we don't were in

474
00:22:19,130 --> 00:22:23,930
trouble so let's go ahead and take a

475
00:22:21,200 --> 00:22:27,759
look at how that actually works that's

476
00:22:23,930 --> 00:22:27,759
stored I believe in the world mode

477
00:22:28,509 --> 00:22:32,690
somewhere here there it is so we've got

478
00:22:31,069 --> 00:22:35,029
this game camera right stored in the

479
00:22:32,690 --> 00:22:36,860
world mode and that game camera tells us

480
00:22:35,029 --> 00:22:40,609
a bunch of stuff here's like the target

481
00:22:36,859 --> 00:22:42,979
P for example and the target offset Z so

482
00:22:40,609 --> 00:22:47,740
I think what we probably want to look at

483
00:22:42,980 --> 00:22:51,259
here is this is where the camera is

484
00:22:47,740 --> 00:22:53,450
actually at at the moment and so what we

485
00:22:51,259 --> 00:22:54,920
want to do I'm sorry this is what the

486
00:22:53,450 --> 00:22:56,660
cat where the camera is actually at at

487
00:22:54,920 --> 00:22:59,300
the moment this is what the camera is

488
00:22:56,660 --> 00:23:01,519
trying to look at and we've got a bunch

489
00:22:59,299 --> 00:23:03,769
of Z information here that we should be

490
00:23:01,519 --> 00:23:06,379
passing so I think the goal should be

491
00:23:03,769 --> 00:23:09,079
let's make sure we send the right

492
00:23:06,380 --> 00:23:11,420
information down from like the target

493
00:23:09,079 --> 00:23:12,949
offset Z or whatever else let's make

494
00:23:11,420 --> 00:23:15,050
sure we get that stuff in there

495
00:23:12,950 --> 00:23:17,210
correctly and then we'll see what we're

496
00:23:15,049 --> 00:23:18,710
doing so I'm going to start by assessing

497
00:23:17,210 --> 00:23:21,470
this routine and see what we're actually

498
00:23:18,710 --> 00:23:23,450
setting those values to you can see in

499
00:23:21,470 --> 00:23:25,430
here we set a bunch of stuff like here's

500
00:23:23,450 --> 00:23:27,980
how we figure out where our target is

501
00:23:25,430 --> 00:23:31,730
and then we kind of come through here

502
00:23:27,980 --> 00:23:34,039
and you can see us doing some Z work on

503
00:23:31,730 --> 00:23:36,259
what we expect the offset see the camera

504
00:23:34,039 --> 00:23:38,240
debate target offset Z is what I think

505
00:23:36,259 --> 00:23:41,119
we're moving to offset Z is what we're

506
00:23:38,240 --> 00:23:44,450
actually using in terms of our distance

507
00:23:41,119 --> 00:23:46,569
off of the floor there right and so I

508
00:23:44,450 --> 00:23:46,569
think

509
00:23:52,380 --> 00:24:10,919
I think the key here is just to make

510
00:24:04,230 --> 00:24:13,950
sure we understand exactly what we're

511
00:24:10,919 --> 00:24:17,009
storing for where the camera view comes

512
00:24:13,950 --> 00:24:19,890
from so I just want to pop back here and

513
00:24:17,009 --> 00:24:25,408
make sure we've got it right you can see

514
00:24:19,890 --> 00:24:26,788
here we're doing a bunch of work to

515
00:24:25,409 --> 00:24:29,669
figure out where the camera is placed

516
00:24:26,788 --> 00:24:31,408
and what you can see here as we go we

517
00:24:29,669 --> 00:24:34,020
have the simulation center for the

518
00:24:31,409 --> 00:24:37,140
camera and we've got the position of the

519
00:24:34,019 --> 00:24:40,529
camera and that's the Delta that Delta

520
00:24:37,140 --> 00:24:43,500
you know the offset Z is just not used

521
00:24:40,529 --> 00:24:46,440
here right and so the offset Z is an

522
00:24:43,500 --> 00:24:58,460
interim computation and so I think what

523
00:24:46,440 --> 00:24:58,460
we want I think what we want here

524
00:25:07,750 --> 00:25:14,329
is to make sure we're recording this

525
00:25:12,440 --> 00:25:17,870
value accurately to what we're looking

526
00:25:14,329 --> 00:25:21,199
at so for example you can see target

527
00:25:17,869 --> 00:25:22,789
offset Z being 16 here that controls how

528
00:25:21,200 --> 00:25:25,670
far away the camera tries to place

529
00:25:22,789 --> 00:25:27,769
itself from things right so if I was to

530
00:25:25,670 --> 00:25:30,289
dynamically change this right let's

531
00:25:27,769 --> 00:25:31,309
compile the game we should zoom in I

532
00:25:30,289 --> 00:25:37,309
think

533
00:25:31,309 --> 00:25:41,359
oops I'll just pass 8 here again that's

534
00:25:37,309 --> 00:25:42,740
what we were passing before right so

535
00:25:41,359 --> 00:25:46,879
we'll zoom in if that gets set to

536
00:25:42,740 --> 00:25:51,289
something else this is what it was set

537
00:25:46,880 --> 00:25:55,120
to and what you can see here is the

538
00:25:51,289 --> 00:26:17,149
target offset Z ends up being something

539
00:25:55,119 --> 00:26:19,039
that never really that never really gets

540
00:26:17,150 --> 00:26:21,410
taken into account there so it must be

541
00:26:19,039 --> 00:26:24,259
where we must take that into account

542
00:26:21,410 --> 00:26:29,420
somewhere ah there it is right there

543
00:26:24,259 --> 00:26:30,799
ok so never mind I did do it when I

544
00:26:29,420 --> 00:26:32,390
searched before I wasn't searching the

545
00:26:30,799 --> 00:26:33,919
right place so that's where we're

546
00:26:32,390 --> 00:26:37,310
setting that camera offset with the

547
00:26:33,920 --> 00:26:40,340
offset Z so that means this value will

548
00:26:37,309 --> 00:26:42,349
be the correct value for how far away we

549
00:26:40,339 --> 00:26:51,409
are from the thing we're looking at

550
00:26:42,349 --> 00:26:54,799
right and so now that I've set that what

551
00:26:51,410 --> 00:26:58,100
we want to see is can we get this box

552
00:26:54,799 --> 00:27:00,230
now to be somewhere sensible right we

553
00:26:58,099 --> 00:27:03,109
want that we want to now see if we can

554
00:27:00,230 --> 00:27:05,750
get the computation of that box to be

555
00:27:03,109 --> 00:27:12,579
something sensible so what we're seeing

556
00:27:05,750 --> 00:27:12,579
now is when we call where did it go

557
00:27:15,130 --> 00:27:21,290
get camera rectangular target we get

558
00:27:18,319 --> 00:27:23,599
this world camera rekt right and we

559
00:27:21,289 --> 00:27:26,539
don't delete it all it's just there and

560
00:27:23,599 --> 00:27:29,059
we draw it so we push a volume outline

561
00:27:26,539 --> 00:27:31,579
for this world camera rect at that point

562
00:27:29,059 --> 00:27:34,700
and so what we want to see is we want to

563
00:27:31,579 --> 00:27:38,750
see that now encompassing the screen so

564
00:27:34,700 --> 00:27:41,450
we want to see you know when we get that

565
00:27:38,750 --> 00:27:44,539
when we make that call we want to see

566
00:27:41,450 --> 00:27:47,120
that rectangle inscribe the screen

567
00:27:44,539 --> 00:27:48,859
assuming we draw it at the center point

568
00:27:47,119 --> 00:27:52,309
that we're actually looking at right at

569
00:27:48,859 --> 00:27:54,859
the target P which at the moment we

570
00:27:52,309 --> 00:27:58,970
would be once the camera settles we

571
00:27:54,859 --> 00:28:03,139
would be right I so I think that's all

572
00:27:58,970 --> 00:28:05,920
we should need to focus on now

573
00:28:03,140 --> 00:28:20,210
so moving back over to the render group

574
00:28:05,920 --> 00:28:21,980
when we're calling this so when we're

575
00:28:20,210 --> 00:28:25,220
calling this the question is why are we

576
00:28:21,980 --> 00:28:28,970
not getting reasonable results back from

577
00:28:25,220 --> 00:28:32,240
this call so the game X forum we assume

578
00:28:28,970 --> 00:28:33,860
is set correctly at the time that we

579
00:28:32,240 --> 00:28:35,960
make this call now maybe that's an

580
00:28:33,859 --> 00:28:37,849
incorrect assumption but I think it is

581
00:28:35,960 --> 00:28:41,150
because right here we call set camera

582
00:28:37,849 --> 00:28:43,879
transform and what you can see here is

583
00:28:41,150 --> 00:28:46,430
this this call right here especially

584
00:28:43,880 --> 00:28:48,140
when we're not using a debug camera but

585
00:28:46,430 --> 00:28:49,880
I believe the true and the false control

586
00:28:48,140 --> 00:28:51,830
whether it sets the game one or the

587
00:28:49,880 --> 00:28:53,750
debug one or whatever right

588
00:28:51,829 --> 00:28:57,589
oh no sorry that's camera is debug

589
00:28:53,750 --> 00:29:03,500
that's what that is right there so it's

590
00:28:57,589 --> 00:29:05,679
this flag right so when we set that this

591
00:29:03,500 --> 00:29:07,940
right here should set that game xform up

592
00:29:05,680 --> 00:29:10,400
and that's what we should be pulling

593
00:29:07,940 --> 00:29:12,289
from so I believe this will be

594
00:29:10,400 --> 00:29:15,560
unprotected with the correct things and

595
00:29:12,289 --> 00:29:17,569
you can see us sending 0 0 and then

596
00:29:15,559 --> 00:29:19,940
screen to mention down now screen to

597
00:29:17,569 --> 00:29:22,730
mention I don't really remember when we

598
00:29:19,940 --> 00:29:24,350
set that part either so you know that

599
00:29:22,730 --> 00:29:26,779
could be an incorrect value that's being

600
00:29:24,349 --> 00:29:28,069
set there I'm not sure so first thing we

601
00:29:26,779 --> 00:29:28,639
might want to do is take a look at

602
00:29:28,069 --> 00:29:30,409
what's going on

603
00:29:28,640 --> 00:29:32,180
but assuming that that was passed

604
00:29:30,410 --> 00:29:37,759
correctly then when we do our

605
00:29:32,180 --> 00:29:39,500
unprojected down is zero zero the next

606
00:29:37,759 --> 00:29:41,240
thing that we run projecting is the

607
00:29:39,500 --> 00:29:44,329
screen dimensions so the two sort of

608
00:29:41,240 --> 00:29:46,819
corner pieces and we run projecting down

609
00:29:44,329 --> 00:29:51,409
where they would be in terms of like out

610
00:29:46,819 --> 00:29:53,599
in the in the at that distance from the

611
00:29:51,410 --> 00:29:55,070
camera so when we cur instruct our

612
00:29:53,599 --> 00:29:58,730
probes II what we're doing here is

613
00:29:55,069 --> 00:30:01,819
saying well whatever the world distances

614
00:29:58,730 --> 00:30:05,269
from the camera we're gonna go ahead and

615
00:30:01,819 --> 00:30:15,139
try to inverse transform those points so

616
00:30:05,269 --> 00:30:19,549
here we're saying hmm we're taking the

617
00:30:15,140 --> 00:30:23,030
the there brendor transform and we're

618
00:30:19,549 --> 00:30:25,190
looking at the z axis and we're

619
00:30:23,029 --> 00:30:27,649
multiplying it by the z axis that's

620
00:30:25,190 --> 00:30:30,980
correct that's how far we'd be going

621
00:30:27,650 --> 00:30:33,410
right and then we're subtracting that

622
00:30:30,980 --> 00:30:35,450
from the transform P because we're going

623
00:30:33,410 --> 00:30:36,769
out the negative of that and that's the

624
00:30:35,450 --> 00:30:39,920
place we're starting from that makes

625
00:30:36,769 --> 00:30:44,769
sense we're doing the forward projection

626
00:30:39,920 --> 00:30:47,890
of that out into the world

627
00:30:44,769 --> 00:30:47,889
[Music]

628
00:31:14,740 --> 00:31:17,609
hmm

629
00:31:21,279 --> 00:31:33,119
all right so basically what we did is we

630
00:31:26,109 --> 00:31:33,119
produced the clipped value for a point

631
00:31:33,630 --> 00:31:42,280
that's just that far away and Z it seems

632
00:31:38,799 --> 00:31:48,819
reasonable to me actually we take the

633
00:31:42,279 --> 00:31:52,410
screen center we offset the XY value

634
00:31:48,819 --> 00:31:57,549
we're trying to actually compute we

635
00:31:52,410 --> 00:31:59,470
offset that from the screen Center we

636
00:31:57,549 --> 00:32:01,839
then produced a clip space x and y by

637
00:31:59,470 --> 00:32:05,680
scaling that right out so that we're

638
00:32:01,839 --> 00:32:07,179
producing the unit rectangle there we

639
00:32:05,680 --> 00:32:09,190
then produced the clip coordinates and

640
00:32:07,180 --> 00:32:12,610
we project the clip coordinates back

641
00:32:09,190 --> 00:32:15,870
through the inverse projection matrix to

642
00:32:12,609 --> 00:32:15,869
get the world location

643
00:32:30,609 --> 00:32:44,288
so what I would say about that though is

644
00:32:35,679 --> 00:32:46,490
it's not white correct right because

645
00:32:44,288 --> 00:32:51,169
technically that wouldn't produce the

646
00:32:46,490 --> 00:32:53,269
world location that would produce the

647
00:32:51,169 --> 00:32:56,000
world location if the camera had not

648
00:32:53,269 --> 00:32:57,769
moved anywhere which I guess that's what

649
00:32:56,000 --> 00:32:59,329
we're calling it so I mean it is a world

650
00:32:57,769 --> 00:33:00,740
P in that sense because we're centered

651
00:32:59,329 --> 00:33:13,449
around zero zero zero so I suppose

652
00:33:00,740 --> 00:33:16,099
that's okay but that does seem pretty

653
00:33:13,450 --> 00:33:19,000
reasonable I'm interested to know what

654
00:33:16,099 --> 00:33:19,000
screen dim is

655
00:33:35,450 --> 00:33:40,940
so it's just the pixel width in pixels

656
00:33:37,740 --> 00:33:40,940
height which is what we would expect

657
00:33:48,119 --> 00:33:51,619
so that mouth seems good too

658
00:34:05,490 --> 00:34:09,760
all right so I don't see any obvious

659
00:34:08,050 --> 00:34:12,159
problem serious so I'm gonna go ahead

660
00:34:09,760 --> 00:34:14,200
and do a debug build and I'm gonna step

661
00:34:12,159 --> 00:34:17,679
in and I just want to look at what

662
00:34:14,199 --> 00:34:19,418
happened so now you can see that as the

663
00:34:17,679 --> 00:34:22,418
frame rate slows down you can see this

664
00:34:19,418 --> 00:34:25,179
is now the debug build right so let me

665
00:34:22,418 --> 00:34:28,588
go ahead and go into the debugger and

666
00:34:25,179 --> 00:34:31,389
let me step into that specific routine

667
00:34:28,588 --> 00:34:34,559
which is really only called there so we

668
00:34:31,389 --> 00:34:34,559
know that that's what it's going to be

669
00:34:42,000 --> 00:34:47,500
so the distance is properly passing just

670
00:34:45,489 --> 00:34:49,289
about 16 it hasn't quite converged on it

671
00:34:47,500 --> 00:34:52,130
because of the bad way if we prove our

672
00:34:49,289 --> 00:34:53,219
interpolator there's a to do about that

673
00:34:52,130 --> 00:34:55,750
[Music]

674
00:34:53,219 --> 00:34:58,719
so 16 is what we expected to see there

675
00:34:55,750 --> 00:35:00,519
and do see so that's a good thing so

676
00:34:58,719 --> 00:35:02,649
let's look at how the minimum corner is

677
00:35:00,519 --> 00:35:05,170
projected out here we are on the

678
00:35:02,650 --> 00:35:07,660
unprojected so I'm gonna take a look at

679
00:35:05,170 --> 00:35:09,490
these and see so pixels XY should just

680
00:35:07,659 --> 00:35:11,108
be the zero zero vector right because

681
00:35:09,489 --> 00:35:13,659
we're trying to the upper corner of the

682
00:35:11,108 --> 00:35:16,568
screen the world distance from camera Z

683
00:35:13,659 --> 00:35:22,210
should be that 16 value and then the X

684
00:35:16,568 --> 00:35:23,588
forum should do that I don't know why

685
00:35:22,210 --> 00:35:25,150
they did this in the new version of

686
00:35:23,588 --> 00:35:27,549
Visual Studio they they made it so

687
00:35:25,150 --> 00:35:30,010
return doesn't go to the next one of

688
00:35:27,550 --> 00:35:34,568
these I have no idea why they would do

689
00:35:30,010 --> 00:35:37,569
that it's so annoying I just I have no

690
00:35:34,568 --> 00:35:43,559
idea why you would do that but they did

691
00:35:37,568 --> 00:35:46,059
it so in here we have the transform and

692
00:35:43,559 --> 00:35:47,199
it's a little bit hard to see because of

693
00:35:46,059 --> 00:35:48,730
the way that's laid out here

694
00:35:47,199 --> 00:35:52,000
unfortunately visual studio doesn't have

695
00:35:48,730 --> 00:35:55,389
a matrix view it should by now I could

696
00:35:52,000 --> 00:35:56,710
think but it doesn't so yeah they were

697
00:35:55,389 --> 00:35:59,469
too busy making it so that hitting

698
00:35:56,710 --> 00:36:00,909
return doesn't go to the next line so

699
00:35:59,469 --> 00:36:02,439
anyway when you take a look at what's

700
00:36:00,909 --> 00:36:06,068
going on here what you can see is that

701
00:36:02,440 --> 00:36:10,539
our x-coordinate is unadulterated it

702
00:36:06,068 --> 00:36:12,969
passes through for the world transform

703
00:36:10,539 --> 00:36:14,739
and then our y and z is rotated like

704
00:36:12,969 --> 00:36:16,809
this a little bit which is X life but

705
00:36:14,739 --> 00:36:18,879
for the most part

706
00:36:16,809 --> 00:36:21,639
and this is good this is the identity

707
00:36:18,880 --> 00:36:24,730
matrix so really nothing is happening

708
00:36:21,639 --> 00:36:26,980
here you know this is this is

709
00:36:24,730 --> 00:36:30,010
effectively a non transform it's only

710
00:36:26,980 --> 00:36:34,360
this piece here that's that's relevant

711
00:36:30,010 --> 00:36:36,670
to us so what you can see first of all

712
00:36:34,360 --> 00:36:41,470
is when we do our transform here the Z

713
00:36:36,670 --> 00:36:45,250
value there sort of helps tell us how we

714
00:36:41,469 --> 00:36:46,899
were marching out along the z axis we're

715
00:36:45,250 --> 00:36:48,610
going to go straight down Z and when we

716
00:36:46,900 --> 00:36:51,280
add the offset we're basically just

717
00:36:48,610 --> 00:36:53,019
gonna add a 16 to it so what's gonna

718
00:36:51,280 --> 00:36:56,800
happen here is our probe Z is gonna

719
00:36:53,019 --> 00:37:00,219
basically come out to be a 0 right

720
00:36:56,800 --> 00:37:13,660
because that's that's exactly what we

721
00:37:00,219 --> 00:37:18,579
expect to see there let me put that down

722
00:37:13,659 --> 00:37:21,339
here so looking at here what you can see

723
00:37:18,579 --> 00:37:22,719
is this is basically the 0 vector right

724
00:37:21,340 --> 00:37:27,280
in fact if I do it like this you can see

725
00:37:22,719 --> 00:37:30,789
a little easier so 0 substantively 0

726
00:37:27,280 --> 00:37:32,710
right it's an e negative 7 so that's a

727
00:37:30,789 --> 00:37:35,710
really low low number and then the Z of

728
00:37:32,710 --> 00:37:38,679
0 so we that's also what we expect to

729
00:37:35,710 --> 00:37:41,170
see because from the camera if we step

730
00:37:38,679 --> 00:37:44,440
out that far we get to the 0 vector

731
00:37:41,170 --> 00:37:46,090
there now part of the problem though I

732
00:37:44,440 --> 00:37:51,940
think with the conceptualization of this

733
00:37:46,090 --> 00:37:54,519
if I may is that I I feel like this

734
00:37:51,940 --> 00:37:56,980
routine I don't I don't remember when we

735
00:37:54,519 --> 00:37:59,650
wrote it I feel like this routine has

736
00:37:56,980 --> 00:38:02,139
its head a little backwards here because

737
00:37:59,650 --> 00:38:04,150
in on the one hand it's talking as if

738
00:38:02,139 --> 00:38:06,519
the camera is already the center of the

739
00:38:04,150 --> 00:38:13,900
world on the other hand it's doing its

740
00:38:06,519 --> 00:38:17,369
adding this offset here and I'm not sure

741
00:38:13,900 --> 00:38:17,369
why it's doing that

742
00:38:28,719 --> 00:38:44,379
I don't think that's correct I wish I

743
00:38:42,639 --> 00:38:46,529
could go back right now and watch the

744
00:38:44,380 --> 00:38:48,670
video where we wrote this routine

745
00:38:46,530 --> 00:38:53,170
because if you think about how this is

746
00:38:48,670 --> 00:38:55,420
working its constructing something

747
00:38:53,170 --> 00:38:57,010
relative to the camera here I don't know

748
00:38:55,420 --> 00:38:58,300
if we like did that as an optimization

749
00:38:57,010 --> 00:39:03,220
of what we were trying to do or

750
00:38:58,300 --> 00:39:05,380
something but it seems like that should

751
00:39:03,219 --> 00:39:09,639
be happening after the fact

752
00:39:05,380 --> 00:39:11,019
right like this should be placing things

753
00:39:09,639 --> 00:39:15,429
into the world by taking into account

754
00:39:11,019 --> 00:39:16,960
the or the transform of this stuff after

755
00:39:15,429 --> 00:39:22,480
the fact I would have thought would have

756
00:39:16,960 --> 00:39:25,059
been how you would do it and maybe we

757
00:39:22,480 --> 00:39:28,570
were just really clever here and this is

758
00:39:25,059 --> 00:39:32,170
actually the correct way to do it but

759
00:39:28,570 --> 00:39:33,940
doesn't seem like it and just to be a

760
00:39:32,170 --> 00:39:39,730
little more concrete about what I'm

761
00:39:33,940 --> 00:39:43,929
talking about so if you imagine what's

762
00:39:39,730 --> 00:39:50,079
going on here I would have expected to

763
00:39:43,929 --> 00:39:52,179
see something more like this yes there

764
00:39:50,079 --> 00:39:55,449
are clip coordinates yes they got

765
00:39:52,179 --> 00:39:57,609
transformed by the inverse transform but

766
00:39:55,449 --> 00:40:00,000
then after that I would have expected to

767
00:39:57,610 --> 00:40:00,000
see this

768
00:40:15,550 --> 00:40:20,450
so the world P this is actually like I

769
00:40:19,219 --> 00:40:22,339
would have expected to see something

770
00:40:20,449 --> 00:40:25,309
more like this right so there's a camera

771
00:40:22,340 --> 00:40:27,769
P and then there's a world P right and

772
00:40:25,309 --> 00:40:30,949
the world P takes the result of the

773
00:40:27,769 --> 00:40:33,860
camera P which is in camera space and

774
00:40:30,949 --> 00:40:36,079
puts it out into the world by actually

775
00:40:33,860 --> 00:40:38,960
like placing it through the forward

776
00:40:36,079 --> 00:40:42,769
transform that's not what happened here

777
00:40:38,960 --> 00:40:44,150
and I don't know why and so looking at

778
00:40:42,769 --> 00:40:46,539
this I'm just a little confused was I

779
00:40:44,150 --> 00:40:51,170
clever was I too clever was I just wrong

780
00:40:46,539 --> 00:40:52,670
so who knows what happened here but if

781
00:40:51,170 --> 00:40:56,630
you take a look here when we're actually

782
00:40:52,670 --> 00:40:59,750
doing this computation so what I would

783
00:40:56,630 --> 00:41:01,250
have expected is the Z value is the

784
00:40:59,750 --> 00:41:03,500
world distance from the camera that's

785
00:41:01,250 --> 00:41:05,570
being passed in should just be how far

786
00:41:03,500 --> 00:41:08,539
out from the camera we go it wouldn't

787
00:41:05,570 --> 00:41:11,630
take this into account instead what it

788
00:41:08,539 --> 00:41:15,590
would do is just start with thinking you

789
00:41:11,630 --> 00:41:18,890
were this far down the line and you

790
00:41:15,590 --> 00:41:22,190
would go from there so for example when

791
00:41:18,889 --> 00:41:31,190
we create this V 4 that's the probe Z I

792
00:41:22,190 --> 00:41:35,320
would have expected to see I would have

793
00:41:31,190 --> 00:41:35,320
expected to see that clip coordinate

794
00:41:37,119 --> 00:41:41,469
it's just getting added on to

795
00:41:53,670 --> 00:41:56,670
yeah

796
00:42:01,110 --> 00:42:06,539
yeah I'm just not sure what that's

797
00:42:03,369 --> 00:42:06,539
trying to accomplish there

798
00:42:26,500 --> 00:42:31,539
it also seems like that was sort of

799
00:42:41,599 --> 00:42:50,990
so let's think about this here a little

800
00:42:43,250 --> 00:42:58,849
bit try to think of how I want to

801
00:42:50,989 --> 00:43:00,259
approach this the I mean because the

802
00:42:58,849 --> 00:43:02,650
other thing that you'll notice that

803
00:43:00,260 --> 00:43:07,310
doesn't make a lot of sense to me either

804
00:43:02,650 --> 00:43:10,250
is that box that we're looking at in

805
00:43:07,309 --> 00:43:14,769
terms of where the camera transform

806
00:43:10,250 --> 00:43:14,769
thinks it is there let's

807
00:43:26,130 --> 00:43:31,720
was square which also doesn't really

808
00:43:29,530 --> 00:43:33,580
make any sense because in theory the

809
00:43:31,719 --> 00:43:36,159
aspect ratio should have been factored

810
00:43:33,579 --> 00:43:38,279
into this as well and so the fact that

811
00:43:36,159 --> 00:43:41,259
it wasn't is a little confusing to me

812
00:43:38,280 --> 00:43:44,590
and I don't really understand why that

813
00:43:41,260 --> 00:43:48,430
is happening so yeah just a lot of

814
00:43:44,590 --> 00:43:54,880
confusion here on my part that needs to

815
00:43:48,429 --> 00:43:55,989
be dug into anyway uh so yeah working

816
00:43:54,880 --> 00:43:57,309
out the math here this is always the

817
00:43:55,989 --> 00:43:58,449
hardest thing to do on stream because

818
00:43:57,309 --> 00:43:59,980
it's difficult to work through

819
00:43:58,449 --> 00:44:04,569
complicated things like this and talk

820
00:43:59,980 --> 00:44:06,849
through it correctly but yeah I would

821
00:44:04,570 --> 00:44:08,890
expect to see something here that that

822
00:44:06,849 --> 00:44:11,139
puts this that applies this transform

823
00:44:08,889 --> 00:44:12,909
the reason that I know that that kind of

824
00:44:11,139 --> 00:44:16,599
has to be the case is one of the things

825
00:44:12,909 --> 00:44:20,949
that you can see in this situation here

826
00:44:16,599 --> 00:44:24,849
is that the x and y axes aren't taken -

827
00:44:20,949 --> 00:44:27,119
aren't taken into account at all in the

828
00:44:24,849 --> 00:44:30,539
unprotect which certainly can't be

829
00:44:27,119 --> 00:44:33,940
correct right

830
00:44:30,539 --> 00:44:36,789
when you go to unprojected ache into

831
00:44:33,940 --> 00:44:39,070
account the x and y axis and the fact

832
00:44:36,789 --> 00:44:43,210
that that was not happening is pretty

833
00:44:39,070 --> 00:44:46,800
obviously busted I guess it's the probe

834
00:44:43,210 --> 00:44:49,510
Z part there that was trying to do that

835
00:44:46,800 --> 00:44:51,550
so let me see maybe I do maybe I can

836
00:44:49,510 --> 00:44:55,540
think of how this is access to work so

837
00:44:51,550 --> 00:44:58,120
when we take the probe Z we're going

838
00:44:55,539 --> 00:45:00,429
ahead and taking the probe Z is this is

839
00:44:58,119 --> 00:45:03,940
actually out in the real world literally

840
00:45:00,429 --> 00:45:07,029
where the point would be relative to the

841
00:45:03,940 --> 00:45:11,139
camera it's multiplying it by the

842
00:45:07,030 --> 00:45:13,150
forward rotation matrix here so it's

843
00:45:11,139 --> 00:45:14,949
rotating it also to point in the correct

844
00:45:13,150 --> 00:45:21,990
direction and then it's looking at the

845
00:45:14,949 --> 00:45:24,989
clip Z of that as being the Z over the W

846
00:45:21,989 --> 00:45:24,989
now

847
00:45:27,989 --> 00:45:41,559
the W in this case oh so no sorry it

848
00:45:32,380 --> 00:45:45,750
never actually yeah I'm sorry this is

849
00:45:41,559 --> 00:45:45,750
the wrong this is the wrong value here I

850
00:45:49,409 --> 00:46:01,539
wanted the world transform so we have

851
00:45:57,789 --> 00:46:07,079
the projection matrix here and here's

852
00:46:01,539 --> 00:46:17,190
our actual render transform P X Y Z I

853
00:46:07,079 --> 00:46:20,679
guess oh so maybe did we mush everything

854
00:46:17,190 --> 00:46:24,670
down into that is this what we're

855
00:46:20,679 --> 00:46:30,129
actually loading so does that have

856
00:46:24,670 --> 00:46:31,750
everything in it if that's the case I

857
00:46:30,130 --> 00:46:36,070
may stand corrected there let's take a

858
00:46:31,750 --> 00:46:37,690
look yeah this is a little bit of code

859
00:46:36,070 --> 00:46:40,500
archaeology here just to try to remember

860
00:46:37,690 --> 00:46:40,500
exactly what I was doing

861
00:47:01,280 --> 00:47:06,810
okay so I was for some reason thinking

862
00:47:04,139 --> 00:47:13,469
about that a little bit backwards it

863
00:47:06,809 --> 00:47:17,699
looks like yeah so it looks like we're

864
00:47:13,469 --> 00:47:19,679
actually these matrices are actually the

865
00:47:17,699 --> 00:47:21,149
whole deal they have everything baked

866
00:47:19,679 --> 00:47:24,839
into them so that's actually the

867
00:47:21,150 --> 00:47:28,079
projection and the transform like it's

868
00:47:24,840 --> 00:47:31,490
what we would literally load into the

869
00:47:28,079 --> 00:47:35,340
vertex shader right so I take it back

870
00:47:31,489 --> 00:47:36,689
it's not as weird as I thought it was so

871
00:47:35,340 --> 00:47:38,130
that makes a little more sense so then

872
00:47:36,690 --> 00:47:40,590
then what we're saying here is this

873
00:47:38,130 --> 00:47:42,059
right here actually puts us out at the

874
00:47:40,590 --> 00:47:46,559
location in the world that we should be

875
00:47:42,059 --> 00:47:50,250
right we're saying like okay here's

876
00:47:46,559 --> 00:47:53,940
here's going from the camera location

877
00:47:50,250 --> 00:47:58,139
out to a particular place were then

878
00:47:53,940 --> 00:48:01,139
multiplying by the forward matrix to put

879
00:47:58,139 --> 00:48:03,989
ourselves into actual projection space

880
00:48:01,139 --> 00:48:07,859
meaning where we would be in the world

881
00:48:03,989 --> 00:48:11,219
of the camera and then we're taking the

882
00:48:07,860 --> 00:48:13,079
clip C value from that so this is not as

883
00:48:11,219 --> 00:48:16,019
crazy as thought it was for some reason

884
00:48:13,079 --> 00:48:17,610
when I saw a projection I was actually

885
00:48:16,019 --> 00:48:19,590
thinking that that was just the

886
00:48:17,610 --> 00:48:21,599
projection matrix not the projection

887
00:48:19,590 --> 00:48:22,590
matrix and the sort of model view if you

888
00:48:21,599 --> 00:48:25,469
will

889
00:48:22,590 --> 00:48:28,610
combined together so that's okay and

890
00:48:25,469 --> 00:48:28,609
maybe I'll make a note of that

891
00:48:43,500 --> 00:48:47,699
just so I don't get confused again when

892
00:48:46,108 --> 00:48:49,319
I look at that I can I can see a little

893
00:48:47,699 --> 00:48:52,730
bit more quickly what's going on there

894
00:48:49,320 --> 00:48:56,309
and that seems like a better idea

895
00:48:52,730 --> 00:48:57,539
okay so yeah so this makes a lot more

896
00:48:56,309 --> 00:48:59,338
sense now because this actually

897
00:48:57,539 --> 00:49:02,070
constructs exactly where in the world

898
00:48:59,338 --> 00:49:03,900
you would be at the end of the day and

899
00:49:02,070 --> 00:49:09,030
you can see here that we're constructing

900
00:49:03,900 --> 00:49:12,809
the clip see by doing the divide the the

901
00:49:09,030 --> 00:49:15,290
opposite way there and so that seems are

902
00:49:12,809 --> 00:49:18,719
reasonable so when we do the reverse

903
00:49:15,289 --> 00:49:24,019
protection we should get the world's P

904
00:49:18,719 --> 00:49:28,730
here there's just one weird part of that

905
00:49:24,019 --> 00:49:28,730
which is when we do that

906
00:49:37,519 --> 00:49:41,780
just wanna make sure we're doing

907
00:49:39,150 --> 00:49:41,780
everything here

908
00:49:49,429 --> 00:49:55,230
you know when we do that we are pressing

909
00:49:52,710 --> 00:49:57,349
the correct size through so okay all

910
00:49:55,230 --> 00:49:57,349
right

911
00:50:04,820 --> 00:50:09,769
okay so I'm more comfortable that now

912
00:50:07,730 --> 00:50:11,329
I'm not as scared of it as I was

913
00:50:09,769 --> 00:50:13,849
originally let me go ahead and allow

914
00:50:11,329 --> 00:50:15,949
this thing to run down to where we're

915
00:50:13,849 --> 00:50:16,969
looking at it again and let me run

916
00:50:15,949 --> 00:50:19,730
through here and take a look at these

917
00:50:16,969 --> 00:50:21,859
values now so now that I'm more

918
00:50:19,730 --> 00:50:24,829
comfortable what I'm looking at the

919
00:50:21,860 --> 00:50:29,329
probe Z value that we get out here after

920
00:50:24,829 --> 00:50:35,299
doing the forward projection is zero

921
00:50:29,329 --> 00:50:37,190
zero zero right and let me just let me

922
00:50:35,300 --> 00:50:40,970
jump in here one more time so when we

923
00:50:37,190 --> 00:50:43,760
first construct it it's basically all

924
00:50:40,969 --> 00:50:49,039
zeros when we go to do the forward

925
00:50:43,760 --> 00:50:53,840
transform I would expect this

926
00:50:49,039 --> 00:50:57,639
displacement to take effect right so

927
00:50:53,840 --> 00:51:00,289
there's a displacement of ten on Z there

928
00:50:57,639 --> 00:51:02,599
there it is okay good so I'm just I want

929
00:51:00,289 --> 00:51:07,300
to make sure that was there when we

930
00:51:02,599 --> 00:51:10,279
compute the clip see that's not really

931
00:51:07,300 --> 00:51:12,140
coming into play quite yet let's take a

932
00:51:10,280 --> 00:51:15,950
look the screen center screen Center

933
00:51:12,139 --> 00:51:17,750
seems reasonable the clip space XY that

934
00:51:15,949 --> 00:51:24,939
seems reasonable let's make sure these

935
00:51:17,750 --> 00:51:27,559
convert to the unit rectangle they do

936
00:51:24,940 --> 00:51:36,159
and so now when we produce that clip

937
00:51:27,559 --> 00:51:36,159
value that seems okay

938
00:51:40,659 --> 00:51:44,869
the only thing I'm not confident of is

939
00:51:43,070 --> 00:51:49,240
the clip see so what will happen

940
00:51:44,869 --> 00:51:52,759
normally is when you do that transform

941
00:51:49,239 --> 00:51:56,809
what you would normally do is you would

942
00:51:52,760 --> 00:51:58,400
take the value that ended up going into

943
00:51:56,809 --> 00:52:01,420
the W coordinate and you divide

944
00:51:58,400 --> 00:52:01,420
everything by that

945
00:52:21,170 --> 00:52:37,740
so I'm not really sure this would be

946
00:52:25,518 --> 00:52:44,608
operating correctly so that seems

947
00:52:37,739 --> 00:52:47,189
erroneous to me the reason that seems a

948
00:52:44,608 --> 00:52:49,588
little erroneous to me is because the

949
00:52:47,190 --> 00:52:58,608
synthetic divide is the thing that maps

950
00:52:49,588 --> 00:53:01,409
things into perspective doing it here

951
00:52:58,608 --> 00:53:06,900
produces that prospectively divided Z

952
00:53:01,409 --> 00:53:09,899
value but in order to get that

953
00:53:06,900 --> 00:53:12,000
perspective coming out at the end you

954
00:53:09,900 --> 00:53:17,960
would have to do another divide here

955
00:53:12,000 --> 00:53:17,960
right so you you can't

956
00:53:26,869 --> 00:53:37,399
this this seems a little backwards there

957
00:53:30,418 --> 00:53:39,719
should be a divide happening here to

958
00:53:37,398 --> 00:53:42,088
undo what would have been the

959
00:53:39,719 --> 00:53:45,179
perspective divide like basically this

960
00:53:42,088 --> 00:53:47,639
is missing a divide I feel like it's

961
00:53:45,179 --> 00:53:51,659
missing or you know a multiply of an

962
00:53:47,639 --> 00:53:57,479
inverse over here right stuffing the

963
00:53:51,659 --> 00:54:09,778
clip Z value into here is not correct I

964
00:53:57,478 --> 00:54:13,648
would argue because this multiply is not

965
00:54:09,778 --> 00:54:20,518
going to do a divide this is just going

966
00:54:13,648 --> 00:54:22,318
to do the matrix multiply that's all so

967
00:54:20,518 --> 00:54:25,468
I think that's the problem with this

968
00:54:22,318 --> 00:54:28,079
routine is it's not although it is going

969
00:54:25,469 --> 00:54:31,229
to great lengths to produce a clip Z

970
00:54:28,079 --> 00:54:34,289
value that is the correct value that Z

971
00:54:31,228 --> 00:54:36,708
would have after transform it doesn't

972
00:54:34,289 --> 00:54:36,709
matter

973
00:54:40,009 --> 00:54:45,889
so this divide I don't first of all I

974
00:54:43,889 --> 00:54:49,919
don't think this divide should be there

975
00:54:45,889 --> 00:54:51,838
because again why would it be there that

976
00:54:49,918 --> 00:54:55,259
divide is not it would just have to get

977
00:54:51,838 --> 00:54:58,588
undone before the inverse projection

978
00:54:55,259 --> 00:55:00,628
happened and then when the inverse

979
00:54:58,588 --> 00:55:02,788
projection happens against the divine

980
00:55:00,628 --> 00:55:12,748
should have happened before then because

981
00:55:02,789 --> 00:55:15,499
these are post divide numbers am I wrong

982
00:55:12,748 --> 00:55:15,498
about this guys

983
00:55:21,489 --> 00:55:31,219
you know so it seems to me like that's

984
00:55:28,550 --> 00:55:33,130
kind of misguided it seems like it's

985
00:55:31,219 --> 00:55:35,299
just the z-value

986
00:55:33,130 --> 00:55:37,460
and then when it gets reversed

987
00:55:35,300 --> 00:55:41,690
transformed it should just be using that

988
00:55:37,460 --> 00:55:48,019
value and the W value is what should

989
00:55:41,690 --> 00:55:51,650
actually control these things right so

990
00:55:48,019 --> 00:55:54,590
in here went before these go through

991
00:55:51,650 --> 00:55:58,220
anything it's really this value should

992
00:55:54,590 --> 00:56:02,329
be undoing you have to imagine that

993
00:55:58,219 --> 00:56:05,029
these values were divided by probe Z dot

994
00:56:02,329 --> 00:56:07,400
W in order to get into the clip space

995
00:56:05,030 --> 00:56:09,860
the way they were right so what we

996
00:56:07,400 --> 00:56:12,710
really want to do there is invert that

997
00:56:09,860 --> 00:56:24,910
operation meaning that like the clip

998
00:56:12,710 --> 00:56:31,250
space XY dot X should be x probe Z W as

999
00:56:24,909 --> 00:56:33,139
the first thing that it does right so

1000
00:56:31,250 --> 00:56:39,980
that it seems like this was doing that

1001
00:56:33,139 --> 00:56:41,539
exactly backwards to me I don't think

1002
00:56:39,980 --> 00:56:44,889
that's all of our problem but that was

1003
00:56:41,539 --> 00:56:47,150
definitely a problem that that is not

1004
00:56:44,889 --> 00:56:50,109
that was not good what was happening

1005
00:56:47,150 --> 00:56:52,190
there I

1006
00:56:50,110 --> 00:56:58,579
yeah and that's all I can really say

1007
00:56:52,190 --> 00:57:01,220
about that so the first thing that I'm

1008
00:56:58,579 --> 00:57:03,199
still noticing here is that I never see

1009
00:57:01,219 --> 00:57:05,029
the white rectangle and I don't know why

1010
00:57:03,199 --> 00:57:08,239
I'd like to go make sure I understand

1011
00:57:05,030 --> 00:57:10,250
why but what you can see now is the the

1012
00:57:08,239 --> 00:57:15,409
yellow rectangle there that's being

1013
00:57:10,250 --> 00:57:18,949
drawn which let me just show you where

1014
00:57:15,409 --> 00:57:20,839
that was being drawn again it's right

1015
00:57:18,949 --> 00:57:22,369
down here

1016
00:57:20,840 --> 00:57:25,070
so the yellow reptile is being drawn

1017
00:57:22,369 --> 00:57:27,349
here for the screen bounds right and the

1018
00:57:25,070 --> 00:57:29,150
screen bounds are again built off of

1019
00:57:27,349 --> 00:57:31,298
that roll camera rect what you'll notice

1020
00:57:29,150 --> 00:57:36,068
is those are the right size now

1021
00:57:31,298 --> 00:57:37,809
so that that change I just made was did

1022
00:57:36,068 --> 00:57:39,969
exactly what I thought it did meaning

1023
00:57:37,809 --> 00:57:43,239
the code was doing it doing exactly what

1024
00:57:39,969 --> 00:57:46,509
I suspected was wrong because now we can

1025
00:57:43,239 --> 00:57:49,958
see a it's rectangular which is what we

1026
00:57:46,509 --> 00:57:52,778
expect and B it's the right size again

1027
00:57:49,958 --> 00:57:55,538
so this is correctly noting when I come

1028
00:57:52,778 --> 00:57:57,849
back to the screen view let me kind of

1029
00:57:55,539 --> 00:58:00,849
come back here you can kind of see that

1030
00:57:57,849 --> 00:58:02,739
it's it's correct now its size now it's

1031
00:58:00,849 --> 00:58:04,059
not facing the right direction but it's

1032
00:58:02,739 --> 00:58:07,719
not supposed to because the screen

1033
00:58:04,059 --> 00:58:11,409
bounds are by definition flat at the

1034
00:58:07,719 --> 00:58:13,989
moment in that space because you see we

1035
00:58:11,409 --> 00:58:15,189
created them flat so it's not it's fault

1036
00:58:13,989 --> 00:58:16,869
that they're facing right the wrong

1037
00:58:15,188 --> 00:58:19,239
direction but it's getting the correct

1038
00:58:16,869 --> 00:58:28,028
size now and that's what I wanted to see

1039
00:58:19,239 --> 00:58:30,639
there right so that's good you know

1040
00:58:28,028 --> 00:58:32,588
that's obviously a good thing but I

1041
00:58:30,639 --> 00:58:36,879
don't understand why I'm not seeing my

1042
00:58:32,588 --> 00:58:39,668
other rectangle is that's a little weird

1043
00:58:36,880 --> 00:58:41,979
so we did our world camera rect here

1044
00:58:39,668 --> 00:58:46,379
where we get the camera rect and it

1045
00:58:41,978 --> 00:58:46,379
comes back and then I tried to draw that

1046
00:58:46,769 --> 00:58:49,840
[Music]

1047
00:58:49,978 --> 00:59:01,208
here and I'm not seeing that thing this

1048
00:58:57,159 --> 00:59:02,739
yellow rectangle here is just a 1x1 cube

1049
00:59:01,208 --> 00:59:04,088
in the center I don't know why that's

1050
00:59:02,739 --> 00:59:06,309
there and I'm gonna get rid of it it's

1051
00:59:04,088 --> 00:59:09,398
not useful to us but this white

1052
00:59:06,309 --> 00:59:11,139
rectangle here is not showing up and I

1053
00:59:09,398 --> 00:59:16,958
don't really know why it's not showing

1054
00:59:11,139 --> 00:59:18,699
up because it should be somewhere I and

1055
00:59:16,958 --> 00:59:20,168
the fact that I don't see it anywhere is

1056
00:59:18,699 --> 00:59:21,369
a little disconcerting and I don't

1057
00:59:20,168 --> 00:59:22,808
really know what's going on there

1058
00:59:21,369 --> 00:59:25,209
because especially now that I know that

1059
00:59:22,809 --> 00:59:26,949
that thing is the correct size I don't

1060
00:59:25,208 --> 00:59:29,248
really understand okay so you could see

1061
00:59:26,949 --> 00:59:32,108
it it was kind of off in the distance

1062
00:59:29,248 --> 00:59:34,298
it's what it looked like it looked like

1063
00:59:32,108 --> 00:59:37,688
it was too far away somehow and then it

1064
00:59:34,298 --> 00:59:39,759
faded out now in this mode I feel like

1065
00:59:37,688 --> 00:59:42,578
there shouldn't be much fading so I

1066
00:59:39,759 --> 00:59:43,869
don't because this there it is so it

1067
00:59:42,579 --> 00:59:44,650
looks like the problem with that thing

1068
00:59:43,869 --> 00:59:49,210
is it's been played

1069
00:59:44,650 --> 00:59:51,730
East Way in the wrong place right it's

1070
00:59:49,210 --> 00:59:54,519
the correct size but it's placed

1071
00:59:51,730 --> 00:59:56,108
incorrectly and I and I don't know why

1072
00:59:54,519 --> 00:59:57,940
so that's the next thing you gotta

1073
00:59:56,108 --> 01:00:00,480
figure out is Wyatt what's going on with

1074
00:59:57,940 --> 01:00:02,710
that right

1075
01:00:00,480 --> 01:00:04,240
so again baby steps with debugging

1076
01:00:02,710 --> 01:00:08,338
something complicated like this it takes

1077
01:00:04,239 --> 01:00:10,598
a little while so this correctly

1078
01:00:08,338 --> 01:00:15,690
accounts for what I thought it needed to

1079
01:00:10,599 --> 01:00:18,430
account for certainly so that's good and

1080
01:00:15,690 --> 01:00:20,409
when we're producing the world P here

1081
01:00:18,429 --> 01:00:23,788
you can see us do the min corner Max

1082
01:00:20,409 --> 01:00:26,739
corners says here producing that result

1083
01:00:23,789 --> 01:00:33,789
so the kick the question now is why is

1084
01:00:26,739 --> 01:00:35,769
that offset so dramatically and how

1085
01:00:33,789 --> 01:00:38,079
could it be offset so dramatically and

1086
01:00:35,769 --> 01:00:41,349
still be producing the right size you

1087
01:00:38,079 --> 01:00:42,760
know so that's a little interesting so

1088
01:00:41,349 --> 01:00:45,609
let's go ahead and step through that

1089
01:00:42,760 --> 01:00:49,180
code now and see where we're going wrong

1090
01:00:45,608 --> 01:00:51,179
with our with our offset I it seems like

1091
01:00:49,179 --> 01:00:53,588
we're offsetting Z quite a bit too much

1092
01:00:51,179 --> 01:00:56,108
and so I must be missing one more

1093
01:00:53,588 --> 01:00:59,528
subtlety about the way this is

1094
01:00:56,108 --> 01:01:02,548
constructing the code so the first thing

1095
01:00:59,528 --> 01:01:05,349
I'm going to do when we run through here

1096
01:01:02,548 --> 01:01:08,380
is I'm just gonna go ahead and set a

1097
01:01:05,349 --> 01:01:11,260
breakpoint in and see I just want to see

1098
01:01:08,380 --> 01:01:18,130
when we actually do one of these oh

1099
01:01:11,260 --> 01:01:20,460
that's the mouse I want to see what we

1100
01:01:18,130 --> 01:01:20,460
get

1101
01:01:30,840 --> 01:01:42,930
so if we take a look at this we get

1102
01:01:33,750 --> 01:01:52,949
negative 26 negative 25 given that we're

1103
01:01:42,929 --> 01:01:56,190
16 away from like we're 16 units away am

1104
01:01:52,949 --> 01:02:00,509
I wrong about that given that were 16

1105
01:01:56,190 --> 01:02:03,269
units away it does seem odd to be

1106
01:02:00,510 --> 01:02:05,610
getting a number of that high right

1107
01:02:03,269 --> 01:02:06,989
we're getting exactly the right numbers

1108
01:02:05,610 --> 01:02:10,769
out of x and y but we're getting the

1109
01:02:06,989 --> 01:02:12,449
wrong number out of Z and so maybe I'm

1110
01:02:10,769 --> 01:02:14,849
thinking about the way that that Z value

1111
01:02:12,449 --> 01:02:17,719
comes out of the forward projection I'm

1112
01:02:14,849 --> 01:02:21,019
thinking maybe I'm thinking about that

1113
01:02:17,719 --> 01:02:21,019
incorrectly there

1114
01:02:38,818 --> 01:02:45,329
and you know what I might be because the

1115
01:02:42,389 --> 01:02:49,409
convention for how the Z comes through

1116
01:02:45,329 --> 01:02:52,439
is going to be that the Z needed to have

1117
01:02:49,409 --> 01:02:55,678
the W value pushed into it so that the Z

1118
01:02:52,438 --> 01:02:59,578
still comes out for z-buffering

1119
01:02:55,679 --> 01:03:01,949
uh so it could be that that does need to

1120
01:02:59,579 --> 01:03:03,869
be divided by the W and it could be that

1121
01:03:01,949 --> 01:03:07,699
this clip C computation was correct and

1122
01:03:03,869 --> 01:03:07,699
it was just this part that was missing

1123
01:03:16,728 --> 01:03:21,629
but I want to think that through a

1124
01:03:18,688 --> 01:03:23,639
little more so I'll test that to see if

1125
01:03:21,630 --> 01:03:25,019
I'm right about that but then we got to

1126
01:03:23,639 --> 01:03:28,259
go look at that / - I want to look at

1127
01:03:25,018 --> 01:03:31,288
the projection matrix again just to see

1128
01:03:28,259 --> 01:03:33,028
whether the projection matrix AI is

1129
01:03:31,289 --> 01:03:34,859
actually computing that way or not if

1130
01:03:33,028 --> 01:03:36,929
it's not then I'm wrong about that and

1131
01:03:34,858 --> 01:03:38,278
even if this works correctly I'm still

1132
01:03:36,929 --> 01:03:41,849
wrong

1133
01:03:38,278 --> 01:03:44,039
so there's that I'm just wrong about the

1134
01:03:41,849 --> 01:03:47,009
reason so it does look like that's the

1135
01:03:44,039 --> 01:03:50,699
case and and so now rotating around I

1136
01:03:47,009 --> 01:03:54,588
actually it does look exactly like what

1137
01:03:50,699 --> 01:03:54,588
we were expect now

1138
01:03:59,909 --> 01:04:07,480
so that now seems totally correct okay

1139
01:04:04,500 --> 01:04:09,550
so I'm guessing that what we do is we

1140
01:04:07,480 --> 01:04:11,949
multiply that yeah okay okay okay okay

1141
01:04:09,550 --> 01:04:15,519
so what we did there is in the

1142
01:04:11,949 --> 01:04:20,279
projection matrix we should see the W

1143
01:04:15,519 --> 01:04:20,280
get multiplied get multiplied into the Z

1144
01:04:20,940 --> 01:04:25,329
because when we divide by W we want the

1145
01:04:23,800 --> 01:04:28,840
Z to come out to be the same value it

1146
01:04:25,329 --> 01:04:30,489
used to be right so we should see that

1147
01:04:28,840 --> 01:04:33,309
if I if I go to the projection matrix

1148
01:04:30,489 --> 01:04:34,839
code I want to see that now to confirm

1149
01:04:33,309 --> 01:04:36,549
that I'm correct because don't really

1150
01:04:34,840 --> 01:04:39,550
want to just have the code work but not

1151
01:04:36,550 --> 01:04:40,840
know why that's a bad place to be and

1152
01:04:39,550 --> 01:04:46,300
especially with complicated stuff like

1153
01:04:40,840 --> 01:04:48,150
this right so I want to see here the I

1154
01:04:46,300 --> 01:04:55,420
want to see matching computations

1155
01:04:48,150 --> 01:04:58,210
basically for how for how W and Z are

1156
01:04:55,420 --> 01:05:01,869
computed so what we can see here is in

1157
01:04:58,210 --> 01:05:05,500
the forward transformation that we're

1158
01:05:01,869 --> 01:05:07,089
applying and this is just the projection

1159
01:05:05,500 --> 01:05:08,170
the perspective X bar this the only

1160
01:05:07,090 --> 01:05:10,240
primetime I'm not talking about the

1161
01:05:08,170 --> 01:05:12,250
rotational or displacement ask don't

1162
01:05:10,239 --> 01:05:14,379
care about those at all so I'm just I'm

1163
01:05:12,250 --> 01:05:18,670
on the projection you can see that we're

1164
01:05:14,380 --> 01:05:21,099
getting negative Z in here as the W

1165
01:05:18,670 --> 01:05:25,750
value so we're going to be dividing by

1166
01:05:21,099 --> 01:05:28,860
negative Z and we want the Z value to

1167
01:05:25,750 --> 01:05:33,760
come out to something specific here

1168
01:05:28,860 --> 01:05:38,829
between the near and far clip planes for

1169
01:05:33,760 --> 01:05:41,920
distance right in fact now that I look

1170
01:05:38,829 --> 01:05:44,230
at it so these values here world usage

1171
01:05:41,920 --> 01:05:48,900
of camera Z actually should be adjusted

1172
01:05:44,230 --> 01:05:48,900
by that near clip plane value as well

1173
01:05:51,059 --> 01:05:57,820
and it will be because of this forward

1174
01:05:55,079 --> 01:05:59,739
projection right so that's where that

1175
01:05:57,820 --> 01:06:05,080
will take place so then when it comes

1176
01:05:59,739 --> 01:06:08,349
out here we have the divide by Z baked

1177
01:06:05,079 --> 01:06:11,108
in to the e term here right we know that

1178
01:06:08,349 --> 01:06:15,909
this will come out between those two

1179
01:06:11,108 --> 01:06:17,228
after / after being divided by negative

1180
01:06:15,909 --> 01:06:20,068
Z which means that the negative Z was

1181
01:06:17,228 --> 01:06:20,068
multiplied in

1182
01:06:29,409 --> 01:06:32,409
yes

1183
01:06:33,059 --> 01:06:38,390
okay so I am fairly satisfied with that

1184
01:06:36,179 --> 01:06:38,389
now

1185
01:06:49,568 --> 01:06:55,548
okay I'm freely set a start that I'm

1186
01:06:52,369 --> 01:07:01,190
happy with how that went so I'm gonna go

1187
01:06:55,548 --> 01:07:10,880
ahead and and just verify now that that

1188
01:07:01,190 --> 01:07:12,289
moves with us as we go yeah okay so now

1189
01:07:10,880 --> 01:07:16,369
the next thing that I think we want to

1190
01:07:12,289 --> 01:07:20,480
do again to get the sliding behavior

1191
01:07:16,369 --> 01:07:23,809
that I wanted is that does not take into

1192
01:07:20,480 --> 01:07:26,420
account the camera displacement so if we

1193
01:07:23,809 --> 01:07:34,039
take a look at what happens here where

1194
01:07:26,420 --> 01:07:36,889
we do the the world camera rect you can

1195
01:07:34,039 --> 01:07:39,470
see here that we just do the offset Z we

1196
01:07:36,889 --> 01:07:42,429
need this kit world camera rect needs to

1197
01:07:39,469 --> 01:07:46,419
be offset it by the camera itself offset

1198
01:07:42,429 --> 01:07:53,440
because it's going to be moving right so

1199
01:07:46,420 --> 01:07:56,059
we have this in here this right here

1200
01:07:53,440 --> 01:08:00,470
right camera simulation center and

1201
01:07:56,059 --> 01:08:05,028
camera P we have sort of this this Delta

1202
01:08:00,469 --> 01:08:15,889
offset that we've set up where if we are

1203
01:08:05,028 --> 01:08:20,719
to render around yeah if we are to

1204
01:08:15,889 --> 01:08:24,679
render around 0 0 0 it's got this offset

1205
01:08:20,719 --> 01:08:32,420
baked into it right so we need the Delta

1206
01:08:24,679 --> 01:08:34,279
from sim value since 0 0 0 is going to

1207
01:08:32,420 --> 01:08:36,350
be the center of that simulation we need

1208
01:08:34,279 --> 01:08:38,449
the Delta from sim value to be baked

1209
01:08:36,350 --> 01:08:38,810
into our world camera rect if that makes

1210
01:08:38,448 --> 01:08:43,338
sense

1211
01:08:38,810 --> 01:08:46,609
so we effectively need to say that the

1212
01:08:43,338 --> 01:08:48,829
world camera rect which is giving us

1213
01:08:46,609 --> 01:08:50,750
what it would be if we were center

1214
01:08:48,829 --> 01:08:52,338
around zero zero zero for the camera

1215
01:08:50,750 --> 01:08:56,238
looking down we know we've got an offset

1216
01:08:52,338 --> 01:08:57,588
in there that pushes up we need the

1217
01:08:56,238 --> 01:09:07,908
opposite offset

1218
01:08:57,588 --> 01:09:11,180
in there right so this which has the

1219
01:09:07,908 --> 01:09:14,248
complete camera offset baked into it

1220
01:09:11,180 --> 01:09:14,249
[Music]

1221
01:09:19,599 --> 01:09:37,099
although unfortunately it's got rotation

1222
01:09:22,460 --> 01:09:38,509
as well uh just to give you a little bit

1223
01:09:37,099 --> 01:09:40,429
more understanding of what the problem

1224
01:09:38,509 --> 01:09:51,500
is here so when we set this camera

1225
01:09:40,429 --> 01:09:56,000
transform when we get the world camera

1226
01:09:51,500 --> 01:10:00,849
wrecked back we're then gonna draw it

1227
01:09:56,000 --> 01:10:00,849
again through the same camera transform

1228
01:10:04,359 --> 01:10:09,098
so we have to make sure that the values

1229
01:10:07,340 --> 01:10:10,670
that we're passing through here are

1230
01:10:09,099 --> 01:10:12,380
completely right

1231
01:10:10,670 --> 01:10:14,690
although now that I think about it since

1232
01:10:12,380 --> 01:10:16,429
it's already set since this camera

1233
01:10:14,689 --> 01:10:19,808
transform is already set when we do the

1234
01:10:16,429 --> 01:10:26,510
multiplication this should slide with it

1235
01:10:19,809 --> 01:10:30,770
when we do the world camera rect so I am

1236
01:10:26,510 --> 01:10:33,219
not sure why it doesn't let me

1237
01:10:30,770 --> 01:10:33,219
double-check

1238
01:10:39,220 --> 01:10:43,060
so this is why

1239
01:10:56,300 --> 01:11:07,070
hmm let's take a look at that least I

1240
01:11:04,140 --> 01:11:07,070
assume it's - Italy

1241
01:11:25,850 --> 01:11:33,750
mmm well maybe not if this is just

1242
01:11:30,449 --> 01:11:35,489
during a regular world transform so yeah

1243
01:11:33,750 --> 01:11:37,979
so what I can't under quite understand

1244
01:11:35,489 --> 01:11:43,649
there is why we're getting the world

1245
01:11:37,979 --> 01:11:45,719
camera rekt jumping when we move because

1246
01:11:43,649 --> 01:11:47,489
we shouldn't be seeing that right that's

1247
01:11:45,720 --> 01:11:50,310
the only thing that now I'm not quite

1248
01:11:47,489 --> 01:11:52,710
sure on so this white outline is

1249
01:11:50,310 --> 01:11:55,680
supposed to be directly what we got as

1250
01:11:52,710 --> 01:11:58,170
the world camera rectangle so while the

1251
01:11:55,680 --> 01:12:00,329
sim bounds while the I'm sorry the

1252
01:11:58,170 --> 01:12:04,739
screen bound which is reconstructed at

1253
01:12:00,329 --> 01:12:07,289
0-0 every time should totally do what

1254
01:12:04,739 --> 01:12:10,319
it's doing right that yellow that yellow

1255
01:12:07,289 --> 01:12:13,979
should be jumping the white should not

1256
01:12:10,319 --> 01:12:16,439
be jumping the white should slide with

1257
01:12:13,979 --> 01:12:18,449
the camera and the fact that the white

1258
01:12:16,439 --> 01:12:21,659
isn't sliding with the camera means

1259
01:12:18,449 --> 01:12:25,859
something's wrong there because we get

1260
01:12:21,659 --> 01:12:30,359
it we are setting the transform and then

1261
01:12:25,859 --> 01:12:32,819
getting the world camera rekt out as a

1262
01:12:30,359 --> 01:12:38,969
function of whatever is set as a

1263
01:12:32,819 --> 01:12:43,250
transform at that time right so I don't

1264
01:12:38,970 --> 01:12:47,940
understand why we would be seeing any

1265
01:12:43,250 --> 01:12:50,609
jumping when the camera when the when

1266
01:12:47,939 --> 01:12:52,379
the camera sim Center is moved because

1267
01:12:50,609 --> 01:12:55,769
the camera sim Center should be like

1268
01:12:52,380 --> 01:12:59,520
unrelated to what we see with the world

1269
01:12:55,770 --> 01:13:01,140
camera rect now maybe like this push

1270
01:12:59,520 --> 01:13:03,720
volume outline thing with the world

1271
01:13:01,140 --> 01:13:07,260
transform maybe that's doing something

1272
01:13:03,720 --> 01:13:09,659
weird and I can go in now and take a

1273
01:13:07,260 --> 01:13:12,000
look at that and just make sure that I'm

1274
01:13:09,659 --> 01:13:13,949
not just forgetting some extra sauce we

1275
01:13:12,000 --> 01:13:17,430
have there in the pipeline that explains

1276
01:13:13,949 --> 01:13:18,720
this situation more forthrightly but

1277
01:13:17,430 --> 01:13:20,010
that's that's the thing that's gonna

1278
01:13:18,720 --> 01:13:25,699
that's the last thing that's concerning

1279
01:13:20,010 --> 01:13:25,699
me right now

1280
01:13:26,329 --> 01:13:42,130
I want that file so here with volume

1281
01:13:39,619 --> 01:13:42,130
outline

1282
01:14:11,590 --> 01:14:17,069
so there is no offset P baked in here

1283
01:14:14,409 --> 01:14:17,069
which is good

1284
01:14:36,788 --> 01:14:43,880
so I yeah I don't see them I don't see

1285
01:14:42,050 --> 01:14:47,599
the

1286
01:14:43,880 --> 01:14:51,260
like the place where that jumpy

1287
01:14:47,599 --> 01:14:56,750
displacement is coming in right so

1288
01:14:51,260 --> 01:15:01,010
that's a puzzler for me that's a puzzler

1289
01:14:56,750 --> 01:15:03,198
for me that that is definitely because

1290
01:15:01,010 --> 01:15:04,969
so so even stuff like this which this

1291
01:15:03,198 --> 01:15:08,419
alters where the camera is every frame

1292
01:15:04,969 --> 01:15:19,090
but we don't reset the transform so you

1293
01:15:08,420 --> 01:15:19,090
know from you know what it could be

1294
01:15:24,948 --> 01:15:31,678
well no no I don't know it could be so I

1295
01:15:29,849 --> 01:15:34,229
feel like we've done most of the work

1296
01:15:31,679 --> 01:15:36,449
but we're still just a little bit off

1297
01:15:34,229 --> 01:15:40,679
and I do not know where that is coming

1298
01:15:36,448 --> 01:15:43,210
from but we definitely have some some

1299
01:15:40,679 --> 01:15:46,310
explaining to do here

1300
01:15:43,210 --> 01:15:46,310
[Music]

1301
01:16:06,689 --> 01:16:08,750
you

1302
01:16:21,479 --> 01:16:37,679
that needs a guarded divide do we have a

1303
01:16:34,300 --> 01:16:37,680
safe ratio function by the way

1304
01:17:12,239 --> 01:17:22,319
um so yeah what could be causing that

1305
01:17:19,250 --> 01:17:24,180
essentially what I'm seeing happen and I

1306
01:17:22,319 --> 01:17:30,359
just don't understand the reasoning for

1307
01:17:24,180 --> 01:17:33,659
it is it's it's positioning the white

1308
01:17:30,359 --> 01:17:37,589
rectangle as if the white rectangle were

1309
01:17:33,659 --> 01:17:40,619
not called every frame and based off the

1310
01:17:37,590 --> 01:17:42,449
camera position every frame but it's

1311
01:17:40,619 --> 01:17:44,130
supposed to be right it's supposed to be

1312
01:17:42,449 --> 01:17:46,829
taking into account the full camera

1313
01:17:44,130 --> 01:17:49,529
transform its using exactly the camera

1314
01:17:46,829 --> 01:17:52,380
transform as specified and so I'm just

1315
01:17:49,529 --> 01:17:56,159
not sure exactly why it wouldn't slide

1316
01:17:52,380 --> 01:17:59,250
along with the camera every time now if

1317
01:17:56,159 --> 01:18:05,279
I look back here at it a little bit more

1318
01:17:59,250 --> 01:18:13,609
closely what you can see is it is

1319
01:18:05,279 --> 01:18:13,609
sliding it's just sliding very subtly

1320
01:18:26,349 --> 01:18:38,828
and I suppose I could believe I can't

1321
01:18:35,198 --> 01:18:41,379
really believe that I was gonna say that

1322
01:18:38,828 --> 01:18:47,979
we just have the X and Y is wrong on

1323
01:18:41,380 --> 01:18:51,069
some kind of gross displacement level so

1324
01:18:47,979 --> 01:18:53,500
I don't know I'm puzzled by this I have

1325
01:18:51,069 --> 01:18:55,828
no good ideas about where that's not

1326
01:18:53,500 --> 01:18:55,828
moving

1327
01:19:08,340 --> 01:19:17,640
because the coordinates that come back

1328
01:19:10,350 --> 01:19:21,170
from that call should take into account

1329
01:19:17,640 --> 01:19:21,170
the location of the camera

1330
01:19:45,109 --> 01:19:53,759
let's take a look one more time so as

1331
01:19:50,729 --> 01:20:01,468
you can see here when we compute our

1332
01:19:53,760 --> 01:20:06,510
probe Z we compute that using the full

1333
01:20:01,469 --> 01:20:12,449
transform forward right there's nothing

1334
01:20:06,510 --> 01:20:15,800
weird about that I don't think you know

1335
01:20:12,449 --> 01:20:15,800
I don't see anything odd there

1336
01:20:29,180 --> 01:20:41,670
when we do the inverse transform for our

1337
01:20:33,720 --> 01:20:44,420
clip space coordinates that all seems

1338
01:20:41,670 --> 01:20:44,420
totally aboveboard

1339
01:20:58,729 --> 01:21:11,000
I mean so that definitely seems like

1340
01:21:01,640 --> 01:21:14,570
it's in the right position and that

1341
01:21:11,000 --> 01:21:17,090
min/max seems perfectly solid so yeah I

1342
01:21:14,569 --> 01:21:20,779
mean all of those things are done with

1343
01:21:17,090 --> 01:21:25,100
the actual projection matrix and include

1344
01:21:20,779 --> 01:21:31,189
the full 3d displacement of the camera

1345
01:21:25,100 --> 01:21:33,289
in the world and so the thing that I

1346
01:21:31,189 --> 01:21:37,159
just cannot wrap my head around is why

1347
01:21:33,289 --> 01:21:47,899
it would seem to be tied to the sim

1348
01:21:37,159 --> 01:21:50,000
Center right because that's what it

1349
01:21:47,899 --> 01:21:52,939
looks like it looks like it's tied to

1350
01:21:50,000 --> 01:22:02,449
the simulation center but I don't know

1351
01:21:52,939 --> 01:22:04,549
why so all of these you know these make

1352
01:22:02,449 --> 01:22:06,679
sense as to why they would be tied to

1353
01:22:04,550 --> 01:22:08,810
the simulation center because they are

1354
01:22:06,680 --> 01:22:10,789
forcing their Center to be at the

1355
01:22:08,810 --> 01:22:13,910
simulation center which is zero zero

1356
01:22:10,789 --> 01:22:19,369
right and then they're just using the

1357
01:22:13,909 --> 01:22:22,460
boundary value to determine how how

1358
01:22:19,369 --> 01:22:25,369
expansive they should be so that seems

1359
01:22:22,460 --> 01:22:27,399
totally plausible and reasonable you

1360
01:22:25,369 --> 01:22:27,399
know

1361
01:22:36,679 --> 01:22:41,578
but our world camera wreck should not be

1362
01:22:39,719 --> 01:22:43,019
centered around zero zero it should be

1363
01:22:41,578 --> 01:22:51,688
centered around wherever the camera

1364
01:22:43,019 --> 01:22:54,349
happens to be although now that I think

1365
01:22:51,689 --> 01:22:54,349
about it

1366
01:22:57,708 --> 01:23:03,238
well no I'm gonna stand by that so it

1367
01:23:01,498 --> 01:23:06,300
should not be centered around the zero

1368
01:23:03,238 --> 01:23:08,868
zero coordinate system in any particular

1369
01:23:06,300 --> 01:23:08,869
way

1370
01:23:32,579 --> 01:23:38,738
yeah so I stand by that the world camera

1371
01:23:36,429 --> 01:23:42,699
rect caught that we're computing here

1372
01:23:38,738 --> 01:23:44,829
should not be related to the simulation

1373
01:23:42,698 --> 01:23:47,319
center because it really just doesn't

1374
01:23:44,829 --> 01:23:48,880
care as far as I know what that is so

1375
01:23:47,319 --> 01:23:51,039
that's the part that I'm having trouble

1376
01:23:48,880 --> 01:23:53,260
coming up with how is the simulation

1377
01:23:51,039 --> 01:23:55,539
center ending up getting baked into here

1378
01:23:53,260 --> 01:23:56,829
essentially or is that not really what's

1379
01:23:55,539 --> 01:23:59,079
happening and I'm seeing something just

1380
01:23:56,829 --> 01:24:01,300
looks like that's what's happening and

1381
01:23:59,079 --> 01:24:06,099
there's actually some more subtle bug in

1382
01:24:01,300 --> 01:24:08,170
how we're producing those unprojected be

1383
01:24:06,099 --> 01:24:10,420
I totally willing to believe that is

1384
01:24:08,170 --> 01:24:14,380
possible but that's the thing that's

1385
01:24:10,420 --> 01:24:16,359
that's making me weirded out right is

1386
01:24:14,380 --> 01:24:18,940
that that that just really shouldn't be

1387
01:24:16,359 --> 01:24:22,569
possible so if we think about how this

1388
01:24:18,939 --> 01:24:26,799
is working you know when we do the

1389
01:24:22,569 --> 01:24:29,319
entity update stuff so you know when we

1390
01:24:26,800 --> 01:24:35,340
do this what you can see here is we set

1391
01:24:29,319 --> 01:24:38,529
the simulation center by taking the the

1392
01:24:35,340 --> 01:24:42,159
by taking the actual place we decided

1393
01:24:38,529 --> 01:24:44,469
the room was right and we set that up as

1394
01:24:42,158 --> 01:24:46,448
where we're gonna make the basis of our

1395
01:24:44,469 --> 01:24:50,529
coordinate system and that's great right

1396
01:24:46,448 --> 01:24:55,359
but what you can see here is when we

1397
01:24:50,529 --> 01:24:57,789
actually set up the camera itself what

1398
01:24:55,359 --> 01:24:59,649
we get here let me let me look at where

1399
01:24:57,789 --> 01:25:02,710
the camera offset variable comes from

1400
01:24:59,649 --> 01:25:06,039
here yeah so the camera offset is just

1401
01:25:02,710 --> 01:25:08,289
some distance above what's going on but

1402
01:25:06,039 --> 01:25:10,960
mostly the Delta from sim here at this

1403
01:25:08,289 --> 01:25:13,750
Delta from sim is what's allowing the

1404
01:25:10,960 --> 01:25:17,469
simulation center to be offset from the

1405
01:25:13,750 --> 01:25:20,109
camera and so zero zero zero is over

1406
01:25:17,469 --> 01:25:23,739
there for that reason right because we

1407
01:25:20,109 --> 01:25:26,589
subtracted from this to this and then we

1408
01:25:23,738 --> 01:25:32,169
use that Delta from sim as what we're

1409
01:25:26,590 --> 01:25:34,329
actually passing here to place the

1410
01:25:32,170 --> 01:25:40,109
camera in an actual location right

1411
01:25:34,329 --> 01:25:44,109
here's the the place that we're actually

1412
01:25:40,109 --> 01:25:48,189
zeroing the camera to the camera offset

1413
01:25:44,109 --> 01:25:50,500
right and so once we set that camera

1414
01:25:48,189 --> 01:25:53,049
transform that value should be baked

1415
01:25:50,500 --> 01:25:56,050
into the matrices and when we do the

1416
01:25:53,050 --> 01:25:58,239
unprojected get back should be in world

1417
01:25:56,050 --> 01:26:00,550
space at a place where when we

1418
01:25:58,239 --> 01:26:03,429
transformed through here should be right

1419
01:26:00,550 --> 01:26:04,989
where the camera actually is not where

1420
01:26:03,430 --> 01:26:09,329
the simulation center is which should be

1421
01:26:04,989 --> 01:26:09,329
unrelated so it seems like we're missing

1422
01:26:11,369 --> 01:26:18,279
that information and maybe the answer is

1423
01:26:16,149 --> 01:26:19,179
we're missing that information in here

1424
01:26:18,279 --> 01:26:22,559
right

1425
01:26:19,180 --> 01:26:25,960
so maybe the answer is the unprojected

1426
01:26:22,560 --> 01:26:29,470
it'ss placing things by the camera

1427
01:26:25,960 --> 01:26:33,449
transfer them somehow and I'm totally

1428
01:26:29,470 --> 01:26:33,449
willing to believe that that is the case

1429
01:26:40,579 --> 01:26:45,100
I'm just not seeing exactly how

1430
01:26:59,960 --> 01:27:05,390
I mean one way that that would be

1431
01:27:03,140 --> 01:27:16,310
failing is if the inverse matrix doesn't

1432
01:27:05,390 --> 01:27:19,670
properly have that information in it so

1433
01:27:16,310 --> 01:27:21,170
I mean anything's on the table at this

1434
01:27:19,670 --> 01:27:22,880
point but if the inverse projection

1435
01:27:21,170 --> 01:27:29,829
matrix was wrong there's your answer

1436
01:27:22,880 --> 01:27:29,829
right so let's take a look

1437
01:27:54,130 --> 01:28:04,119
so in order for it to be correct well we

1438
01:28:01,909 --> 01:28:06,019
can see it right here we're doing the

1439
01:28:04,119 --> 01:28:10,430
verification that it's correct right

1440
01:28:06,020 --> 01:28:25,460
here and so if we look at that we should

1441
01:28:10,430 --> 01:28:44,720
see we should see that come out to the

1442
01:28:25,460 --> 01:28:46,520
identity let's do it so if I look at

1443
01:28:44,720 --> 01:28:49,520
this right here this is called a set

1444
01:28:46,520 --> 01:28:51,440
camera transform I should be able to see

1445
01:28:49,520 --> 01:28:53,630
that inverse and whether or not it gets

1446
01:28:51,439 --> 01:29:06,699
set properly so I'm just gonna jump

1447
01:28:53,630 --> 01:29:09,199
right in there and do exactly that and

1448
01:29:06,699 --> 01:29:12,949
what I'm expecting to see if there's a

1449
01:29:09,199 --> 01:29:14,869
bug is that the identity matrix will

1450
01:29:12,949 --> 01:29:18,170
look like the identity matrix except for

1451
01:29:14,869 --> 01:29:21,470
an incorrect offset so in the offset

1452
01:29:18,170 --> 01:29:24,250
comm it would be wrong now what I don't

1453
01:29:21,470 --> 01:29:28,550
know is where this actually gets created

1454
01:29:24,250 --> 01:29:33,710
so camera C inverse versus proj inverse

1455
01:29:28,550 --> 01:29:37,699
here camera C is something that gets set

1456
01:29:33,710 --> 01:29:40,899
up here I don't know what that does

1457
01:29:37,699 --> 01:29:40,899
exactly right

1458
01:29:52,208 --> 01:30:07,188
looks like here we're testing this in

1459
01:29:54,918 --> 01:30:10,340
here as well let's take a look I mean so

1460
01:30:07,189 --> 01:30:26,899
that looks like a totally reasonable

1461
01:30:10,340 --> 01:30:28,969
inverse right so does that right so

1462
01:30:26,899 --> 01:30:33,199
those inverses look really good I don't

1463
01:30:28,969 --> 01:30:34,729
see any like there you know anything you

1464
01:30:33,198 --> 01:30:38,178
do in floating-point it's only gonna be

1465
01:30:34,729 --> 01:30:40,429
good five sig figs or so right so that's

1466
01:30:38,179 --> 01:30:43,550
negative eight negative 7 negative sick

1467
01:30:40,429 --> 01:30:45,819
those are all well within tolerance of

1468
01:30:43,550 --> 01:30:48,439
what I would expect so there's nothing

1469
01:30:45,819 --> 01:30:56,389
that looks out of place there to me at

1470
01:30:48,439 --> 01:31:03,499
all so let's go ahead and test the case

1471
01:30:56,389 --> 01:31:06,918
we care about as well so as we run

1472
01:31:03,498 --> 01:31:09,438
through here I'm gonna hop up and then

1473
01:31:06,918 --> 01:31:13,929
immediately when it switches over I'm

1474
01:31:09,439 --> 01:31:13,929
gonna go ahead and switch over to break

1475
01:31:14,979 --> 01:31:20,300
so as I step in here I want to look and

1476
01:31:17,899 --> 01:31:22,610
make sure that okay maybe when the

1477
01:31:20,300 --> 01:31:25,579
displacements get higher maybe we never

1478
01:31:22,609 --> 01:31:28,429
checked the camera transform there so

1479
01:31:25,578 --> 01:31:30,498
I'm just checking it again and again

1480
01:31:28,429 --> 01:31:32,439
what I want to see here is you know I

1481
01:31:30,498 --> 01:31:42,078
want to see that camera P being high

1482
01:31:32,439 --> 01:31:45,260
right it's really not that high so

1483
01:31:42,078 --> 01:31:47,058
that's a little unfortunate I feel like

1484
01:31:45,260 --> 01:31:53,320
it should be higher than that but you

1485
01:31:47,059 --> 01:31:53,320
know and that still looks totally good

1486
01:32:01,139 --> 01:32:05,909
so here's one that has a big move to it

1487
01:32:07,948 --> 01:32:12,579
so again I just want to take a look see

1488
01:32:10,420 --> 01:32:35,380
if I can catch anything here that looks

1489
01:32:12,579 --> 01:32:40,118
suspicious is it that just it seems

1490
01:32:35,380 --> 01:32:48,639
awfully low is it just me why is that so

1491
01:32:40,118 --> 01:32:50,349
low I feel like the camera displacement

1492
01:32:48,639 --> 01:32:52,539
should be quite a bit higher than that I

1493
01:32:50,350 --> 01:33:00,340
don't understand what I'm looking at

1494
01:32:52,539 --> 01:33:02,289
here I mean it moves several it should

1495
01:33:00,340 --> 01:33:08,170
have moved like quite a bit unless a

1496
01:33:02,289 --> 01:33:10,529
tile is only very small seems a little

1497
01:33:08,170 --> 01:33:10,529
weird

1498
01:33:16,399 --> 01:33:22,189
I mean if a standard room dimension is

1499
01:33:18,739 --> 01:33:25,789
12 then moving one room up should be

1500
01:33:22,189 --> 01:33:31,129
like six at least so why is that value

1501
01:33:25,789 --> 01:33:33,760
so low like what's going on there no

1502
01:33:31,130 --> 01:33:38,869
camera offset with Z that's makes sense

1503
01:33:33,760 --> 01:33:42,789
Delta from sim super small just how I

1504
01:33:38,869 --> 01:33:42,789
don't understand how is that possible

1505
01:33:43,329 --> 01:33:47,529
how are these so close together

1506
01:33:47,590 --> 01:33:52,390
something something's weird

1507
01:33:49,640 --> 01:33:52,390
something's fishy here

1508
01:34:12,069 --> 01:34:15,539
but I'm not sure what

1509
01:34:26,029 --> 01:34:31,649
you know what I'm saying right that

1510
01:34:28,198 --> 01:34:41,329
number is just really tiny that number

1511
01:34:31,649 --> 01:34:41,329
should be much higher there we go

1512
01:34:45,720 --> 01:35:02,369
all right so that's a much higher number

1513
01:34:47,779 --> 01:35:03,929
now so now let me look at what we

1514
01:35:02,369 --> 01:35:08,819
produce here just to be absolutely sure

1515
01:35:03,930 --> 01:35:14,780
this is right yeah so it's it's stable

1516
01:35:08,819 --> 01:35:14,779
the inverse is stable so that's good I

1517
01:35:19,340 --> 01:35:30,690
still think I'm a little suspicious but

1518
01:35:24,079 --> 01:35:33,289
yeah we do need to cap our frame rate at

1519
01:35:30,689 --> 01:35:33,289
some point here

1520
01:35:52,319 --> 01:35:58,679
all right so when I come out through the

1521
01:35:54,059 --> 01:36:00,859
top opening here I'm gonna go back and

1522
01:35:58,679 --> 01:36:03,748
yeah switch right there

1523
01:36:00,859 --> 01:36:05,989
just to make sure that this value is

1524
01:36:03,748 --> 01:36:05,988
higher

1525
01:36:19,539 --> 01:36:27,460
I do not understand how those are so

1526
01:36:21,488 --> 01:36:28,959
though alright so I want to investigate

1527
01:36:27,460 --> 01:36:33,429
this a little more cuz I'm weirded out

1528
01:36:28,960 --> 01:36:34,510
now so there's obviously something I

1529
01:36:33,429 --> 01:36:35,800
don't understand about the way the

1530
01:36:34,510 --> 01:36:37,210
system is working which probably means

1531
01:36:35,800 --> 01:36:38,469
it needs to get cleaned up which is good

1532
01:36:37,210 --> 01:36:39,789
because that's what we're doing but it

1533
01:36:38,469 --> 01:36:42,189
also means I need to investigate a

1534
01:36:39,789 --> 01:36:54,488
little bit further I want to see this

1535
01:36:42,189 --> 01:37:04,678
value like I want to see it drawn like

1536
01:36:54,488 --> 01:37:04,678
all the time so here it is right here

1537
01:37:08,340 --> 01:37:12,969
okay so it just must have been the

1538
01:37:10,510 --> 01:37:14,710
debugger like we just weren't be able to

1539
01:37:12,969 --> 01:37:17,369
break quite right because that's those

1540
01:37:14,710 --> 01:37:21,810
are the values I expected to see right

1541
01:37:17,369 --> 01:37:21,809
those are the values I expected to see

1542
01:37:26,029 --> 01:37:33,739
and so now if I look here you can see

1543
01:37:31,250 --> 01:37:37,069
that these that the camera box does

1544
01:37:33,739 --> 01:37:39,170
converge with that value it just isn't

1545
01:37:37,069 --> 01:37:46,670
moving nearly as much as it probably

1546
01:37:39,170 --> 01:37:50,829
should be right so it's as if those x

1547
01:37:46,670 --> 01:37:58,750
and y values are not being displaced by

1548
01:37:50,829 --> 01:37:58,750
the amount they should be so for example

1549
01:38:01,569 --> 01:38:07,329
it's as if the unprojected

1550
01:38:09,670 --> 01:38:13,600
is not

1551
01:38:38,180 --> 01:38:52,530
it's like that value is not doing the

1552
01:38:41,310 --> 01:38:54,950
displacement or not doing enough of the

1553
01:38:52,529 --> 01:38:54,949
displacement

1554
01:39:06,090 --> 01:39:09,500
I mean I think that's the only

1555
01:39:08,039 --> 01:39:13,908
explanation for what we're seeing

1556
01:39:09,500 --> 01:39:16,979
meaning when we do the transform the

1557
01:39:13,908 --> 01:39:21,769
displacement values in the other part of

1558
01:39:16,979 --> 01:39:24,769
the matrix are not getting up flied

1559
01:39:21,770 --> 01:39:24,770
properly

1560
01:39:42,060 --> 01:39:47,600
but again I'm just not sure how that's

1561
01:39:44,250 --> 01:39:47,600
not happening

1562
01:40:06,590 --> 01:40:11,569
so what you can see here right is the

1563
01:40:08,300 --> 01:40:16,239
full transform when this gets activated

1564
01:40:11,569 --> 01:40:16,238
the the key part here is the

1565
01:40:26,878 --> 01:40:52,498
the W value is multiplying the

1566
01:40:28,859 --> 01:40:55,219
displacement value right okay this could

1567
01:40:52,498 --> 01:40:58,349
be our problem right here the W value

1568
01:40:55,219 --> 01:41:01,439
needs to multiply the displacement

1569
01:40:58,349 --> 01:41:04,469
values correctly and we didn't put in a

1570
01:41:01,439 --> 01:41:07,979
W value we put in a W value of 1 but the

1571
01:41:04,469 --> 01:41:11,458
W value isn't one right we know it's not

1572
01:41:07,979 --> 01:41:13,499
one it's probe Z W and that W will

1573
01:41:11,458 --> 01:41:16,349
multiply the displacement part of the

1574
01:41:13,498 --> 01:41:18,118
matrix and since the displacement part

1575
01:41:16,349 --> 01:41:19,918
of the matrix actually was getting

1576
01:41:18,118 --> 01:41:21,658
multiplied by one rather than something

1577
01:41:19,918 --> 01:41:23,550
else it could be that it was supposed to

1578
01:41:21,658 --> 01:41:25,558
be saying much higher which would

1579
01:41:23,550 --> 01:41:28,109
account for the less displacement right

1580
01:41:25,559 --> 01:41:32,219
so what we need to do here is we

1581
01:41:28,109 --> 01:41:34,920
actually need to do that to get the full

1582
01:41:32,219 --> 01:41:37,979
transform out and then when we're done

1583
01:41:34,920 --> 01:41:37,979
[Music]

1584
01:41:39,918 --> 01:41:44,069
we can truncate it down because now we

1585
01:41:42,418 --> 01:41:46,050
don't care what the W value is that

1586
01:41:44,069 --> 01:41:50,988
comes out although it should the WI

1587
01:41:46,050 --> 01:41:50,989
should come out to one right

1588
01:41:57,649 --> 01:42:11,389
I'm missing a comma whew that was that

1589
01:42:06,269 --> 01:42:11,389
was a nasty one that was a nasty one

1590
01:42:12,510 --> 01:42:15,869
all right so we're still not quite out

1591
01:42:14,698 --> 01:42:18,358
of the woods yet looks like we've got

1592
01:42:15,868 --> 01:42:19,768
that slightly backwards in there but I

1593
01:42:18,359 --> 01:42:22,469
think now we're at least on the right

1594
01:42:19,769 --> 01:42:29,010
track right so our clip coordinates

1595
01:42:22,469 --> 01:42:35,279
should have after the transform going

1596
01:42:29,010 --> 01:42:45,840
forwards we should have the correct

1597
01:42:35,279 --> 01:42:52,309
probe zlw here and furthermore now I

1598
01:42:45,840 --> 01:42:52,309
think this this part could be rethought

1599
01:42:55,189 --> 01:42:59,399
because now with the correct probe Z W

1600
01:42:57,988 --> 01:43:05,908
in the W slot

1601
01:42:59,399 --> 01:43:12,209
I feel like clip Z should just go

1602
01:43:05,908 --> 01:43:19,279
directly into that slot like I thought

1603
01:43:12,208 --> 01:43:19,279
before and talk myself out of

1604
01:43:27,868 --> 01:43:38,109
yeah oh man that was tricky all right

1605
01:43:34,859 --> 01:43:40,630
but now just in the nick of time as the

1606
01:43:38,109 --> 01:43:43,689
Q&amp;A buzzer approaches we have debugged

1607
01:43:40,630 --> 01:43:46,960
the problem now and as you can see now

1608
01:43:43,689 --> 01:43:49,689
it properly tracks the camera exactly as

1609
01:43:46,960 --> 01:43:53,559
it should track the camera which is what

1610
01:43:49,689 --> 01:43:55,719
I wanted which means that now if we want

1611
01:43:53,559 --> 01:43:58,480
to we can get rid of our lighting bug

1612
01:43:55,719 --> 01:44:01,960
and start to correct this Krait start to

1613
01:43:58,479 --> 01:44:05,229
correct those visual glitches because

1614
01:44:01,960 --> 01:44:08,889
now with the light bounds here what we

1615
01:44:05,229 --> 01:44:11,169
can say is we just do the world camera

1616
01:44:08,889 --> 01:44:14,020
rekt now and then we just have to adjust

1617
01:44:11,170 --> 01:44:17,230
the Z because right now that's not going

1618
01:44:14,020 --> 01:44:22,840
to be right so what we were already

1619
01:44:17,229 --> 01:44:25,839
doing that looks like right so now in

1620
01:44:22,840 --> 01:44:27,578
theory what we should have as we walk

1621
01:44:25,840 --> 01:44:29,319
around is we should never see any more

1622
01:44:27,578 --> 01:44:31,210
lighting glitches right

1623
01:44:29,319 --> 01:44:35,618
our cameras still worked but our

1624
01:44:31,210 --> 01:44:39,029
lighting is never wrong and hey that's

1625
01:44:35,618 --> 01:44:45,158
what we're seeing so that's good right

1626
01:44:39,029 --> 01:44:47,139
so that's really great now our sim

1627
01:44:45,158 --> 01:44:48,638
bounds are a little small it seems like

1628
01:44:47,139 --> 01:44:51,010
their clip and stuff out pretty early

1629
01:44:48,639 --> 01:44:53,650
there it looks like

1630
01:44:51,010 --> 01:45:01,270
but our lighting now correctly tracks

1631
01:44:53,649 --> 01:45:04,948
the camera which is what I wanted all

1632
01:45:01,270 --> 01:45:04,949
right so now we're go to a quick QA

1633
01:45:19,090 --> 01:45:23,828
gotta remember to have our generator to

1634
01:45:21,078 --> 01:45:23,828
generate some lights

1635
01:45:29,029 --> 01:45:32,389
you know I'm saying

1636
01:45:59,409 --> 01:46:07,609
Jim 0o how would you opt is outside the

1637
01:46:03,439 --> 01:46:10,099
view of the character so you mean to say

1638
01:46:07,609 --> 01:46:14,630
like if I was like in this corner for

1639
01:46:10,100 --> 01:46:16,670
example so I can't see out here like

1640
01:46:14,630 --> 01:46:19,159
like meaning the character couldn't see

1641
01:46:16,670 --> 01:46:21,170
what was happening here what would you

1642
01:46:19,159 --> 01:46:25,760
do if you wanted a game like that like

1643
01:46:21,170 --> 01:46:27,260
fog of war basically there's two parts

1644
01:46:25,760 --> 01:46:29,780
to that so I'm not sure which one you're

1645
01:46:27,260 --> 01:46:32,360
asking about one is how you apply some

1646
01:46:29,779 --> 01:46:35,029
kind of graphical situation to it so

1647
01:46:32,359 --> 01:46:36,799
that that you you know how do you render

1648
01:46:35,029 --> 01:46:38,750
something that's supposed to be like

1649
01:46:36,800 --> 01:46:41,390
sort of only semi visible meaning the

1650
01:46:38,750 --> 01:46:43,970
player can see maybe the structure of it

1651
01:46:41,390 --> 01:46:45,560
but not what's there in actuality or

1652
01:46:43,970 --> 01:46:48,140
what you know moving things would have

1653
01:46:45,560 --> 01:46:51,140
happened and the other is computing the

1654
01:46:48,140 --> 01:46:52,760
visibility so computing the visibility

1655
01:46:51,140 --> 01:46:54,590
in our world is actually relatively

1656
01:46:52,760 --> 01:46:56,030
complicated because we allow pretty much

1657
01:46:54,590 --> 01:46:57,860
anything right now we happen to be

1658
01:46:56,029 --> 01:46:59,420
placing things in a fairly grid like

1659
01:46:57,859 --> 01:47:01,819
fashion but we're in an obligation to do

1660
01:46:59,420 --> 01:47:05,539
so so visibility computation would

1661
01:47:01,819 --> 01:47:06,949
actually very hard in this game I don't

1662
01:47:05,539 --> 01:47:08,539
know how you would really do it you

1663
01:47:06,949 --> 01:47:11,899
would probably have to do some pre

1664
01:47:08,539 --> 01:47:14,119
computation to make it feasible but we

1665
01:47:11,899 --> 01:47:16,250
already do it for lighting so you know

1666
01:47:14,119 --> 01:47:18,590
the basics right like just figuring out

1667
01:47:16,250 --> 01:47:21,380
what scene from everyone else is just a

1668
01:47:18,590 --> 01:47:22,970
stochastic ray cast right so what we

1669
01:47:21,380 --> 01:47:25,310
could do is start at the hero and cast

1670
01:47:22,970 --> 01:47:28,159
out lots of rays from the hero and see

1671
01:47:25,310 --> 01:47:30,289
what we hit and that would tell us what

1672
01:47:28,159 --> 01:47:32,000
of the game was visible right we can

1673
01:47:30,289 --> 01:47:33,920
start with something like that but

1674
01:47:32,000 --> 01:47:35,539
typically the problem you get is it

1675
01:47:33,920 --> 01:47:38,810
becomes pretty difficult to do that kind

1676
01:47:35,539 --> 01:47:40,069
of a computation so you oftentimes need

1677
01:47:38,810 --> 01:47:44,030
to have some kind of acceleration

1678
01:47:40,069 --> 01:47:45,739
I either by cheating right which is to

1679
01:47:44,029 --> 01:47:47,539
say that maybe what you do is you

1680
01:47:45,739 --> 01:47:49,219
actually restrict the game to a tile map

1681
01:47:47,539 --> 01:47:50,390
so you can do some kind of flood filling

1682
01:47:49,220 --> 01:47:52,940
of the tile map in a more predictable

1683
01:47:50,390 --> 01:47:57,829
fashion and don't allow arbitrary

1684
01:47:52,939 --> 01:48:00,439
geometry or you you know introduce some

1685
01:47:57,829 --> 01:48:01,880
other things like some volumes that help

1686
01:48:00,439 --> 01:48:04,250
you or whatever right like something to

1687
01:48:01,880 --> 01:48:05,720
cheat with and which one of those is

1688
01:48:04,250 --> 01:48:07,789
appropriate kind of depends on what kind

1689
01:48:05,720 --> 01:48:10,210
of game you're making our game does not

1690
01:48:07,789 --> 01:48:11,300
have thought of were so we don't care

1691
01:48:10,210 --> 01:48:12,469
but

1692
01:48:11,300 --> 01:48:14,300
you would have to make it a

1693
01:48:12,469 --> 01:48:16,789
consideration and possibly restrict some

1694
01:48:14,300 --> 01:48:19,960
of the things in the game to allow you

1695
01:48:16,789 --> 01:48:19,960
to do it in an efficient fashion

1696
01:48:25,539 --> 01:48:28,130
butterfat

1697
01:48:26,809 --> 01:48:29,719
do you plan to close the orphanages

1698
01:48:28,130 --> 01:48:31,239
rooms or do you want them to have the

1699
01:48:29,719 --> 01:48:35,000
skylight as some sort of ambient light

1700
01:48:31,238 --> 01:48:38,198
I'm not sure we may stick a we'll

1701
01:48:35,000 --> 01:48:38,198
probably sick roofs on them

1702
01:48:48,359 --> 01:48:51,839
does the update and render function do

1703
01:48:50,279 --> 01:48:52,829
any rendering right now or it's also to

1704
01:48:51,840 --> 01:48:54,719
some other place

1705
01:48:52,829 --> 01:48:56,819
well rendering is sort of deferred at

1706
01:48:54,719 --> 01:48:59,609
the moment in that it builds buffers so

1707
01:48:56,819 --> 01:49:00,929
that the GPU can render so update and

1708
01:48:59,609 --> 01:49:03,139
render is really the thing that just

1709
01:49:00,929 --> 01:49:06,630
produces buffers that will later get

1710
01:49:03,139 --> 01:49:09,350
processed when we say update the render

1711
01:49:06,630 --> 01:49:13,400
what we mean is prepare the things that

1712
01:49:09,350 --> 01:49:13,400
instruct the renderer what to do

1713
01:49:21,949 --> 01:49:25,649
jimsy would would you for example

1714
01:49:24,149 --> 01:49:27,269
castrate to see if something is visible

1715
01:49:25,649 --> 01:49:28,289
to the character eg if something is on

1716
01:49:27,270 --> 01:49:30,900
the scream of the character should be

1717
01:49:28,289 --> 01:49:32,670
blind to it yes and again like I said

1718
01:49:30,899 --> 01:49:35,279
you can do that in a couple of different

1719
01:49:32,670 --> 01:49:37,409
ways it depends if you only wanted to

1720
01:49:35,279 --> 01:49:39,899
know like whether the hero could see

1721
01:49:37,409 --> 01:49:41,159
monsters specific monsters moving around

1722
01:49:39,899 --> 01:49:42,989
then what you could do is a little

1723
01:49:41,159 --> 01:49:45,449
easier because you could just take each

1724
01:49:42,989 --> 01:49:48,840
monster and raycast to the monster right

1725
01:49:45,449 --> 01:49:51,179
and that makes it a little easier but if

1726
01:49:48,840 --> 01:49:53,940
you are trying to sell you more like

1727
01:49:51,180 --> 01:49:55,380
what's parts of what squares can the

1728
01:49:53,939 --> 01:49:57,599
hero see then you've got a harder

1729
01:49:55,380 --> 01:49:59,640
problem and maybe just a stochastic ray

1730
01:49:57,600 --> 01:50:01,260
casts every frame where you shoot out

1731
01:49:59,640 --> 01:50:03,690
like a thousand rays from the character

1732
01:50:01,260 --> 01:50:05,250
every frame and use some kind of decay

1733
01:50:03,689 --> 01:50:06,479
on what they hit you know maybe that's

1734
01:50:05,250 --> 01:50:07,680
the answer kind of like what the

1735
01:50:06,479 --> 01:50:09,539
lighting system does but since you only

1736
01:50:07,680 --> 01:50:11,820
have one point of visibility it's a lot

1737
01:50:09,539 --> 01:50:14,670
more efficient so a thousand rays is not

1738
01:50:11,819 --> 01:50:17,539
hard to do you know so that might be

1739
01:50:14,670 --> 01:50:17,539
your answer there I'm not sure

1740
01:50:58,640 --> 01:51:04,860
Wood handmade heroes chunk offset work

1741
01:51:01,470 --> 01:51:07,530
in 3d would there be any problem so that

1742
01:51:04,859 --> 01:51:09,839
I'm not saying well the game is 3d so

1743
01:51:07,529 --> 01:51:12,779
I'm not sure what you mean like it works

1744
01:51:09,840 --> 01:51:15,890
in 3d because it is right now literally

1745
01:51:12,779 --> 01:51:15,889
working in 3d

1746
01:51:20,329 --> 01:51:23,489
sergeant REM B is there already new

1747
01:51:22,289 --> 01:51:26,519
artwork to put in the game of the next

1748
01:51:23,489 --> 01:51:29,579
couple of episodes yeah when we get

1749
01:51:26,520 --> 01:51:33,810
ready to do that update I don't know

1750
01:51:29,579 --> 01:51:36,350
when I will be putting in exactly new

1751
01:51:33,810 --> 01:51:39,840
artwork or anything but I just I want to

1752
01:51:36,350 --> 01:51:43,350
make the changes necessary to have that

1753
01:51:39,840 --> 01:51:44,940
happen because I need to as we start

1754
01:51:43,350 --> 01:51:47,760
converging on stuff here I need to have

1755
01:51:44,939 --> 01:51:50,099
the actual look of the game start coming

1756
01:51:47,760 --> 01:51:51,630
together so that I know how to make

1757
01:51:50,100 --> 01:51:53,160
certain decisions about like the

1758
01:51:51,630 --> 01:51:59,850
rendering and stuff and how that's going

1759
01:51:53,159 --> 01:52:01,470
to work really my only concern currently

1760
01:51:59,850 --> 01:52:03,600
because I like things as they are at the

1761
01:52:01,470 --> 01:52:06,600
moment my only concern currently is just

1762
01:52:03,600 --> 01:52:15,510
this problem the problem of how to deal

1763
01:52:06,600 --> 01:52:18,870
with the perspective and and I don't

1764
01:52:15,510 --> 01:52:21,140
know it may just work it may not I asked

1765
01:52:18,869 --> 01:52:23,670
for the art to be drawn very top-down

1766
01:52:21,140 --> 01:52:24,630
but it's still not quite completely

1767
01:52:23,670 --> 01:52:26,609
top-down because it was completely

1768
01:52:24,630 --> 01:52:29,489
top-down you can't see faces which is a

1769
01:52:26,609 --> 01:52:31,380
problem so it's still a little bit not

1770
01:52:29,489 --> 01:52:33,750
that way and I don't know if it's really

1771
01:52:31,380 --> 01:52:35,960
gonna work so it may be that we kind of

1772
01:52:33,750 --> 01:52:35,960
have

1773
01:52:44,880 --> 01:52:54,998
yeah yeah I just I'm sorry I just don't

1774
01:52:47,828 --> 01:52:58,238
know that's the but it may be that we

1775
01:52:54,998 --> 01:53:00,069
need to change that you know it may be

1776
01:52:58,238 --> 01:53:02,529
that we have to go with a more direct

1777
01:53:00,069 --> 01:53:04,569
upright isometric like we may have to

1778
01:53:02,529 --> 01:53:09,309
tilt things so that they're orthographic

1779
01:53:04,569 --> 01:53:12,788
upward I in order for the art to work

1780
01:53:09,309 --> 01:53:14,469
okay you know and that'd be a bummer

1781
01:53:12,788 --> 01:53:16,658
because I really liked the perspective

1782
01:53:14,469 --> 01:53:19,689
feel I feel like it adds something to

1783
01:53:16,658 --> 01:53:21,698
the feeling of the world but if it just

1784
01:53:19,689 --> 01:53:25,448
isn't feasible then it isn't feasible

1785
01:53:21,698 --> 01:53:34,799
you know and we can switch to either of

1786
01:53:25,448 --> 01:53:34,799
those two if we need to so

1787
01:53:38,529 --> 01:53:42,859
you he is it currently possible to

1788
01:53:40,908 --> 01:53:46,819
easily customize rooms eg with

1789
01:53:42,859 --> 01:53:49,939
non-random tiles e etc yeah you can have

1790
01:53:46,819 --> 01:53:52,399
non-random taozi if you want we just

1791
01:53:49,939 --> 01:53:54,379
have a random right now there's a random

1792
01:53:52,399 --> 01:53:56,558
displacement in the thing that creates a

1793
01:53:54,380 --> 01:53:56,559
room

1794
01:53:56,859 --> 01:54:01,478
so obviously it's pretty pretty trivial

1795
01:54:04,719 --> 01:54:10,158
Jessie F sorry I mean to say if we

1796
01:54:08,448 --> 01:54:15,018
wanted to make a universe scale game I

1797
01:54:10,158 --> 01:54:16,638
use face in with that scale well yes the

1798
01:54:15,019 --> 01:54:22,280
only thing that I would point out is

1799
01:54:16,639 --> 01:54:24,380
that you may want the chunk dimensions

1800
01:54:22,279 --> 01:54:26,420
to be much larger

1801
01:54:24,380 --> 01:54:30,109
right now we keep the chunk dimensions

1802
01:54:26,420 --> 01:54:34,158
small because we use the chunks we don't

1803
01:54:30,109 --> 01:54:38,179
we didn't want to introduce two separate

1804
01:54:34,158 --> 01:54:41,268
schemes the entity partitioning and the

1805
01:54:38,179 --> 01:54:45,529
chunk offsets but if your goal is to

1806
01:54:41,269 --> 01:54:47,809
make a giant game world like if you

1807
01:54:45,529 --> 01:54:52,009
imagine that space that star citizen was

1808
01:54:47,809 --> 01:54:54,860
actually working and you're making some

1809
01:54:52,010 --> 01:54:56,900
of that you might want to allocate ASEC

1810
01:54:54,859 --> 01:54:58,728
effectively more space in terms of your

1811
01:54:56,899 --> 01:55:00,978
coordinate system so you may want chunks

1812
01:54:58,729 --> 01:55:04,820
to be much larger right you might want

1813
01:55:00,979 --> 01:55:07,309
to chunk to be a kilometer by a

1814
01:55:04,819 --> 01:55:11,840
kilometer let's say is a chunk instead

1815
01:55:07,309 --> 01:55:13,788
of a meter by a meter right and so when

1816
01:55:11,840 --> 01:55:16,279
you do that you will then need

1817
01:55:13,788 --> 01:55:19,550
additional spatial partitioning inside

1818
01:55:16,279 --> 01:55:21,170
chunks potentially for other purposes

1819
01:55:19,550 --> 01:55:26,449
and again that just depends a lot on

1820
01:55:21,170 --> 01:55:29,389
what you're doing so so how the scheme

1821
01:55:26,448 --> 01:55:31,399
breaks down is largely going to be based

1822
01:55:29,389 --> 01:55:36,078
on that so to give you some perspective

1823
01:55:31,399 --> 01:55:38,058
on how that's going to work if you

1824
01:55:36,078 --> 01:55:41,389
actually look at the world stuff right

1825
01:55:38,059 --> 01:55:44,050
now what you can see here is that we

1826
01:55:41,389 --> 01:55:44,050
have

1827
01:55:48,050 --> 01:55:54,890
we have this stuff set up right that

1828
01:55:51,590 --> 01:55:57,020
gets the chunk gets the chunk

1829
01:55:54,890 --> 01:55:59,900
positioning stuff and this chunk dim in

1830
01:55:57,020 --> 01:56:05,000
meters is what we're looking at right so

1831
01:55:59,899 --> 01:56:07,759
if I was to stop the game somewhere and

1832
01:56:05,000 --> 01:56:09,949
look at the world it should have the

1833
01:56:07,760 --> 01:56:12,920
chunk dim in meters specified right and

1834
01:56:09,949 --> 01:56:16,220
so here's the the chunk dimensions

1835
01:56:12,920 --> 01:56:20,029
meters it looks like 23 12 5 that's the

1836
01:56:16,220 --> 01:56:23,180
size of a chunk right so then you could

1837
01:56:20,029 --> 01:56:25,509
figure if you if you want to be safe and

1838
01:56:23,180 --> 01:56:28,670
have like reasonable bounds let's say

1839
01:56:25,510 --> 01:56:43,310
then maybe you have 1 billion times that

1840
01:56:28,670 --> 01:56:46,399
so you would have 23 billion meters so

1841
01:56:43,310 --> 01:56:50,780
23 billion meters would be like the span

1842
01:56:46,399 --> 01:56:54,379
the width of your universe and 23

1843
01:56:50,779 --> 01:57:05,420
billion meters may not be enough

1844
01:56:54,380 --> 01:57:11,060
I don't know right so so right you don't

1845
01:57:05,420 --> 01:57:15,890
want that right like that's not

1846
01:57:11,060 --> 01:57:18,020
sufficient because you want to have like

1847
01:57:15,890 --> 01:57:25,460
things that are very far apart so maybe

1848
01:57:18,020 --> 01:57:27,020
you want you you would fundamentally

1849
01:57:25,460 --> 01:57:30,920
want to change a system a little bit and

1850
01:57:27,020 --> 01:57:33,170
say look let's actually have the

1851
01:57:30,920 --> 01:57:34,609
internal coordinate system and the

1852
01:57:33,170 --> 01:57:38,060
external coordinate system scale a

1853
01:57:34,609 --> 01:57:40,880
little bit more dramatically and let's

1854
01:57:38,060 --> 01:57:46,340
have every integer coordinate represent

1855
01:57:40,880 --> 01:57:50,210
of much larger area right that's what I

1856
01:57:46,340 --> 01:57:51,680
would say now granted you probably don't

1857
01:57:50,210 --> 01:57:53,359
want this to actually be the case

1858
01:57:51,680 --> 01:57:55,010
because if you actually let this be the

1859
01:57:53,359 --> 01:57:56,179
case it would take players forever to

1860
01:57:55,010 --> 01:57:57,530
get from one place to the other so

1861
01:57:56,180 --> 01:58:00,890
usually you have to you would have to

1862
01:57:57,529 --> 01:58:01,639
warp anyway at which point why not just

1863
01:58:00,890 --> 01:58:03,350
have each one

1864
01:58:01,640 --> 01:58:05,000
those things be a separate region that

1865
01:58:03,350 --> 01:58:11,750
isn't actually connected so there's a

1866
01:58:05,000 --> 01:58:20,479
sort of separate issue there but you

1867
01:58:11,750 --> 01:58:23,119
know it's just worth looking at so right

1868
01:58:20,479 --> 01:58:25,579
so if it's 146 billion meters from the

1869
01:58:23,119 --> 01:58:27,739
earth to the Sun then that means that

1870
01:58:25,579 --> 01:58:30,140
you want to probably have your

1871
01:58:27,739 --> 01:58:32,059
coordinate system be based more on this

1872
01:58:30,140 --> 01:58:34,730
stuff and it possibly have like a more

1873
01:58:32,060 --> 01:58:35,750
multi-resolution scheme to it right if

1874
01:58:34,729 --> 01:58:44,479
you were actually trying to represent

1875
01:58:35,750 --> 01:58:47,210
the real universe so I don't know I

1876
01:58:44,479 --> 01:58:48,799
would also say that if if what you were

1877
01:58:47,210 --> 01:58:54,590
doing is trying to represent the entire

1878
01:58:48,800 --> 01:58:58,130
universe in real terms you may just want

1879
01:58:54,590 --> 01:58:59,810
to go with doubles because I don't it

1880
01:58:58,130 --> 01:59:00,920
depends on what kind of computations

1881
01:58:59,810 --> 01:59:02,539
you're doing you may just want to take

1882
01:59:00,920 --> 01:59:04,760
to speed it and save yourself the

1883
01:59:02,539 --> 01:59:07,189
trouble in hand-made here we're always

1884
01:59:04,760 --> 01:59:08,630
talking about a little area and so it

1885
01:59:07,189 --> 01:59:10,149
makes sense to send everything around a

1886
01:59:08,630 --> 01:59:14,960
real area and I'm piece them together

1887
01:59:10,149 --> 01:59:18,049
but if you're doing very disparate sort

1888
01:59:14,960 --> 01:59:19,970
of I want to talk about two people

1889
01:59:18,050 --> 01:59:21,500
sitting here and here both of them

1890
01:59:19,970 --> 01:59:24,170
looking at something billions of miles

1891
01:59:21,500 --> 01:59:26,960
away you know maybe just go to doubles

1892
01:59:24,170 --> 01:59:30,920
at that point because why not now you

1893
01:59:26,960 --> 01:59:33,230
still need the chunking because you

1894
01:59:30,920 --> 01:59:36,319
can't have all that stuff in play at a

1895
01:59:33,229 --> 01:59:38,899
time but you could just you might at a

1896
01:59:36,319 --> 01:59:41,149
certain level of complexity it gets to

1897
01:59:38,899 --> 01:59:42,710
the point where the doubles are worth it

1898
01:59:41,149 --> 01:59:46,250
probably because now you don't to think

1899
01:59:42,710 --> 01:59:48,409
about it anymore right and taking the

1900
01:59:46,250 --> 01:59:52,310
speed hit of going from floats to

1901
01:59:48,409 --> 01:59:54,769
doubles all of your computations work on

1902
01:59:52,310 --> 01:59:58,280
half as many values now unfortunately

1903
01:59:54,770 --> 02:00:01,330
but that hit may be worth it and you

1904
01:59:58,279 --> 02:00:01,329
won't you know you need to

1905
02:00:04,170 --> 02:00:10,710
you need to take into account when

1906
02:00:06,969 --> 02:00:12,819
you're making a decision the costs of

1907
02:00:10,710 --> 02:00:18,130
choice of coordinate system and

1908
02:00:12,819 --> 02:00:21,969
sometimes it makes sense to be localized

1909
02:00:18,130 --> 02:00:24,279
and sometimes it doesn't again because

1910
02:00:21,969 --> 02:00:25,779
of the structure of the universe I would

1911
02:00:24,279 --> 02:00:29,738
still say that probably the right thing

1912
02:00:25,779 --> 02:00:36,509
to do is to have like chunks of that are

1913
02:00:29,738 --> 02:00:39,279
kind of separated discreetly but yeah

1914
02:00:36,510 --> 02:00:41,079
because there's nothing in between them

1915
02:00:39,279 --> 02:00:44,859
you know and the players can't

1916
02:00:41,079 --> 02:00:48,149
continuously drive from one Sun to

1917
02:00:44,859 --> 02:00:50,948
another because they'd never get there

1918
02:00:48,149 --> 02:00:52,569
they have to engage like a warp drive or

1919
02:00:50,948 --> 02:00:54,069
something right so you have to kind of

1920
02:00:52,569 --> 02:01:07,359
think about what that game is really

1921
02:00:54,069 --> 02:01:08,920
even about first with these massive

1922
02:01:07,359 --> 02:01:10,149
distances even be needed if you don't

1923
02:01:08,920 --> 02:01:11,619
need to be actually to say the nearest

1924
02:01:10,149 --> 02:01:14,259
centimeter or do always need to be that

1925
02:01:11,619 --> 02:01:16,689
accurate well again I don't know right

1926
02:01:14,260 --> 02:01:18,610
it was a hypothetical question posed

1927
02:01:16,689 --> 02:01:25,539
without context so I can't really tell

1928
02:01:18,609 --> 02:01:27,429
what you would or would not need but I

1929
02:01:25,539 --> 02:01:31,479
mean let's take the example of handmade

1930
02:01:27,429 --> 02:01:32,859
hero as a context and say for some

1931
02:01:31,479 --> 02:01:35,379
unknown reason and I don't know what

1932
02:01:32,859 --> 02:01:39,639
that reason is someone wants to make

1933
02:01:35,380 --> 02:01:42,369
handmade hero generations the game where

1934
02:01:39,639 --> 02:01:44,980
every handmade hero map is actually just

1935
02:01:42,369 --> 02:01:49,719
a planet in a giant universe of like

1936
02:01:44,979 --> 02:01:51,309
millions of planets right in that case

1937
02:01:49,719 --> 02:01:53,469
the chunk team system I would just keep

1938
02:01:51,310 --> 02:01:55,870
exactly as it is and you would just end

1939
02:01:53,469 --> 02:01:58,149
up going into space travel mode and

1940
02:01:55,869 --> 02:02:00,309
warping yourself to some other planet

1941
02:01:58,149 --> 02:02:02,379
which loads in a new chunk world right

1942
02:02:00,310 --> 02:02:08,170
that's definitely the right way to do

1943
02:02:02,380 --> 02:02:10,989
that and it may be the right way to do

1944
02:02:08,170 --> 02:02:13,300
it in a 3d game about space travel as

1945
02:02:10,988 --> 02:02:14,289
well because like I said this is 3d so

1946
02:02:13,300 --> 02:02:17,469
it just depends on what you're doing

1947
02:02:14,289 --> 02:02:20,288
there if you actually want to be

1948
02:02:17,469 --> 02:02:22,059
able to fly anywhere continuously though

1949
02:02:20,288 --> 02:02:23,259
you have a problem and so you have to

1950
02:02:22,059 --> 02:02:26,019
decide how you want to address that

1951
02:02:23,260 --> 02:02:28,389
problem it's a little weird because

1952
02:02:26,019 --> 02:02:30,130
since the player can never actually fly

1953
02:02:28,389 --> 02:02:32,050
everywhere continuously it's a little

1954
02:02:30,130 --> 02:02:34,479
bit weird to go to doubles and then do

1955
02:02:32,050 --> 02:02:36,610
that but it may still just be easier

1956
02:02:34,479 --> 02:02:40,979
than coming up with exactly how you want

1957
02:02:36,609 --> 02:02:40,978
to do it right

1958
02:03:00,560 --> 02:03:04,770
but it's I mean the the long and short

1959
02:03:03,210 --> 02:03:06,810
of it is just you have to always

1960
02:03:04,770 --> 02:03:14,490
remember that float floats have very

1961
02:03:06,810 --> 02:03:16,470
little range they can express or very

1962
02:03:14,489 --> 02:03:19,469
little accuracy I should say they can

1963
02:03:16,470 --> 02:03:22,079
express very large numbers because

1964
02:03:19,470 --> 02:03:28,560
they're in exponential form but they're

1965
02:03:22,079 --> 02:03:31,380
very inaccurate and so it it doesn't

1966
02:03:28,560 --> 02:03:33,210
take very long at all before you will

1967
02:03:31,380 --> 02:03:36,060
find your floating point values are

1968
02:03:33,210 --> 02:03:39,960
totally not accurate enough for whatever

1969
02:03:36,060 --> 02:03:41,280
you're doing you know even just if

1970
02:03:39,960 --> 02:03:43,770
you're talking about like people running

1971
02:03:41,279 --> 02:03:45,960
around on a planet surface even just a

1972
02:03:43,770 --> 02:03:49,350
few kilometers down the line it will

1973
02:03:45,960 --> 02:03:55,920
start to become problematic right you

1974
02:03:49,350 --> 02:03:57,480
know it at at 20 kilometers let's say

1975
02:03:55,920 --> 02:04:02,279
you would already be in trouble I would

1976
02:03:57,479 --> 02:04:08,339
suspect I would suspect don't quote me

1977
02:04:02,279 --> 02:04:10,349
on that but I suspect when you wanted to

1978
02:04:08,340 --> 02:04:12,539
sit there and be like able to look down

1979
02:04:10,350 --> 02:04:14,160
at something at your feet and not have

1980
02:04:12,539 --> 02:04:18,899
your feet be like jittering around or

1981
02:04:14,159 --> 02:04:24,989
something right so it doesn't take very

1982
02:04:18,899 --> 02:04:28,710
long for floats to go bad and so doubles

1983
02:04:24,989 --> 02:04:32,039
just offer a lot more they cross the

1984
02:04:28,710 --> 02:04:34,289
line into a much higher accuracy space

1985
02:04:32,039 --> 02:04:38,069
for the kinds of numbers you might be

1986
02:04:34,289 --> 02:04:40,079
caring about and whether or not they're

1987
02:04:38,069 --> 02:04:41,939
sufficient for a whole universe I don't

1988
02:04:40,079 --> 02:04:43,710
know they probably aren't to be

1989
02:04:41,939 --> 02:04:45,989
completely honest with you like I would

1990
02:04:43,710 --> 02:04:48,689
suspect that doubles will lose accuracy

1991
02:04:45,989 --> 02:04:51,809
if what you really wanted was like oh

1992
02:04:48,689 --> 02:04:56,369
yeah like I can stand on earth and look

1993
02:04:51,810 --> 02:04:59,070
at my feet or I can go out to a three

1994
02:04:56,369 --> 02:05:04,409
galaxies away from here and look down at

1995
02:04:59,069 --> 02:05:05,789
my feet and not have it jitter I have

1996
02:05:04,409 --> 02:05:09,449
never thought about whether it doubles

1997
02:05:05,789 --> 02:05:11,510
even enough you know it just might not

1998
02:05:09,449 --> 02:05:11,510
be

1999
02:05:11,859 --> 02:05:16,739
for our for our real universe you know

2000
02:05:24,319 --> 02:05:28,019
Dan's idea do you always have to take

2001
02:05:26,250 --> 02:05:31,460
float precision into account or is it

2002
02:05:28,020 --> 02:05:33,570
more like it will come up type of thing

2003
02:05:31,460 --> 02:05:35,550
you don't always have to take foot

2004
02:05:33,569 --> 02:05:39,630
president account for games of a

2005
02:05:35,550 --> 02:05:44,070
reasonable size you know that the

2006
02:05:39,630 --> 02:05:48,930
traditional level size in games like

2007
02:05:44,069 --> 02:05:51,719
think doom you know or Call of Duty or

2008
02:05:48,930 --> 02:05:55,110
something like that it's just not an

2009
02:05:51,720 --> 02:05:56,430
issue right even the witness it wasn't

2010
02:05:55,109 --> 02:06:00,630
an issue that was just a separate bug

2011
02:05:56,430 --> 02:06:02,159
right so you really don't usually have

2012
02:06:00,630 --> 02:06:06,239
to take foot precision into account

2013
02:06:02,159 --> 02:06:08,399
until you get to bigger worlds something

2014
02:06:06,239 --> 02:06:13,289
ten times the size of the witness island

2015
02:06:08,399 --> 02:06:16,259
probably starts to be a problem right so

2016
02:06:13,289 --> 02:06:18,479
again it really depends on how big of a

2017
02:06:16,260 --> 02:06:20,909
single continuous area you want the

2018
02:06:18,479 --> 02:06:24,000
player to be able to explore and if that

2019
02:06:20,909 --> 02:06:27,000
is roughly the size of a typical game

2020
02:06:24,000 --> 02:06:28,649
level feeling thing you will not

2021
02:06:27,000 --> 02:06:30,600
generally have to worry about float

2022
02:06:28,649 --> 02:06:33,119
precision in most circumstances

2023
02:06:30,600 --> 02:06:35,240
sometimes it may come up due to certain

2024
02:06:33,119 --> 02:06:37,949
things you could do or want to do that

2025
02:06:35,239 --> 02:06:42,329
create particular stress on floating

2026
02:06:37,949 --> 02:06:45,750
point but most the time it's not so it

2027
02:06:42,329 --> 02:06:47,460
really is about world size and if you

2028
02:06:45,750 --> 02:06:49,109
know ahead of time you're not caring

2029
02:06:47,460 --> 02:06:50,699
about that you don't have to worry about

2030
02:06:49,109 --> 02:06:52,649
it unhand me hero we wouldn't probably

2031
02:06:50,699 --> 02:06:54,239
have had to worry about it I just wanted

2032
02:06:52,649 --> 02:06:55,559
to show how to do it because I thought

2033
02:06:54,239 --> 02:06:58,590
it's important that people were aware of

2034
02:06:55,560 --> 02:07:00,420
it for so that they would know we may

2035
02:06:58,590 --> 02:07:02,640
never make worlds that are big enough to

2036
02:07:00,420 --> 02:07:04,649
care but I wanted to make sure we could

2037
02:07:02,640 --> 02:07:07,430
cuz I wanted to show that I want to

2038
02:07:04,649 --> 02:07:07,429
teach how that's done

2039
02:07:10,880 --> 02:07:14,550
luckily this hypothetical situation

2040
02:07:12,930 --> 02:07:15,990
stores you could also change the physics

2041
02:07:14,550 --> 02:07:17,489
realism of the universe that planets and

2042
02:07:15,989 --> 02:07:18,960
galaxies are closer than they would

2043
02:07:17,489 --> 02:07:21,389
normally be so flying to them as more

2044
02:07:18,960 --> 02:07:23,010
feasible that is exactly what I would do

2045
02:07:21,390 --> 02:07:24,480
right if I was in charge I'd be like

2046
02:07:23,010 --> 02:07:26,640
look the universe is a really boring

2047
02:07:24,479 --> 02:07:30,149
place no offence astrophysicist but like

2048
02:07:26,640 --> 02:07:31,770
most of it is empty that's not fun and

2049
02:07:30,149 --> 02:07:33,899
usually what you end up doing is you

2050
02:07:31,770 --> 02:07:35,850
just introduce like hyper spacing around

2051
02:07:33,899 --> 02:07:38,219
and so you never really fly around it

2052
02:07:35,850 --> 02:07:41,340
I'd say yeah screw it all the planets

2053
02:07:38,220 --> 02:07:45,659
are like 15 feet apart right not 15 feet

2054
02:07:41,340 --> 02:07:48,690
I'm joking all the planets are a hundred

2055
02:07:45,659 --> 02:07:51,180
miles apart all of a sudden for no darn

2056
02:07:48,689 --> 02:07:52,799
reason and so I can just take off a one

2057
02:07:51,180 --> 02:07:58,020
and just go straight to another and land

2058
02:07:52,800 --> 02:08:01,140
on it right like real quick-like yeah

2059
02:07:58,020 --> 02:08:03,510
absolutely that's what I would do not

2060
02:08:01,140 --> 02:08:05,190
engine wise I'm totally if someone tells

2061
02:08:03,510 --> 02:08:07,500
me my goal is to make an engine that

2062
02:08:05,189 --> 02:08:10,139
supports the full-size universe I'm I'm

2063
02:08:07,500 --> 02:08:11,789
chuffed at that I'm like let's do it

2064
02:08:10,140 --> 02:08:13,560
that sounds good even if I have to use

2065
02:08:11,789 --> 02:08:17,819
like a hierarchy of doubles to make that

2066
02:08:13,560 --> 02:08:18,270
happen I'm a male on board so I'm fine

2067
02:08:17,819 --> 02:08:20,250
with that

2068
02:08:18,270 --> 02:08:21,900
I I just don't think it's very fun right

2069
02:08:20,250 --> 02:08:24,779
that doesn't sound like a lot of fun to

2070
02:08:21,899 --> 02:08:26,159
me and so so I would question the design

2071
02:08:24,779 --> 02:08:28,710
of that I don't know that I want to play

2072
02:08:26,159 --> 02:08:30,689
that game but I don't have a problem of

2073
02:08:28,710 --> 02:08:32,640
it so yeah but in terms of the fun of

2074
02:08:30,689 --> 02:08:42,539
the game I'd say make him close together

2075
02:08:32,640 --> 02:08:44,190
you know let the player get their dance

2076
02:08:42,539 --> 02:08:46,350
I Dennis a question about the waves like

2077
02:08:44,189 --> 02:08:48,750
yes exactly so if we had had a problem

2078
02:08:46,350 --> 02:08:50,400
on the witness with float precision we

2079
02:08:48,750 --> 02:08:51,810
absolutely would have done exactly what

2080
02:08:50,399 --> 02:08:54,329
we did in handmade hero right we would

2081
02:08:51,810 --> 02:08:56,670
have just partitioned it into some

2082
02:08:54,329 --> 02:08:59,630
sections because again we don't really

2083
02:08:56,670 --> 02:09:03,569
have to worry too much in the witness

2084
02:08:59,630 --> 02:09:04,770
about allowing floating point I mean you

2085
02:09:03,569 --> 02:09:06,000
can't even shoot projectiles and the

2086
02:09:04,770 --> 02:09:07,410
witness right it's a good case for

2087
02:09:06,000 --> 02:09:08,340
partitioning so that's what I would at

2088
02:09:07,409 --> 02:09:10,849
least that's what I would have done I

2089
02:09:08,340 --> 02:09:13,409
don't know maybe John feels differently

2090
02:09:10,850 --> 02:09:15,480
is the rather nice state of

2091
02:09:13,409 --> 02:09:16,769
anti-aliasing and handmade hero have to

2092
02:09:15,479 --> 02:09:18,209
do with use of death feeling or is it

2093
02:09:16,770 --> 02:09:23,150
just standard MSAA

2094
02:09:18,210 --> 02:09:23,149
it's actually both of those two things

2095
02:09:23,369 --> 02:09:28,500
so we we use multisample anti-aliasing

2096
02:09:26,250 --> 02:09:30,750
and depth peeling to try and produce a

2097
02:09:28,500 --> 02:09:34,739
reasonably high quality image that has

2098
02:09:30,750 --> 02:09:44,970
anti icing on the sprites and on the

2099
02:09:34,739 --> 02:09:48,269
hard geometry edges so mr. Jake from

2100
02:09:44,970 --> 02:09:49,949
State Farm how do you tackle this issue

2101
02:09:48,270 --> 02:09:52,590
in a large open world then to use some

2102
02:09:49,949 --> 02:09:55,859
sort of grid system well like I said

2103
02:09:52,590 --> 02:09:57,180
handmade hero is we talk like we solve

2104
02:09:55,859 --> 02:09:58,439
it and hammer a hero the worlds can be

2105
02:09:57,180 --> 02:10:01,530
as large as they want and handmade hero

2106
02:09:58,439 --> 02:10:04,079
really there's no way to make a world

2107
02:10:01,529 --> 02:10:05,550
and handmade hero large enough that the

2108
02:10:04,079 --> 02:10:09,059
player could actually get to all of it

2109
02:10:05,550 --> 02:10:10,920
and have it break our system so we

2110
02:10:09,060 --> 02:10:17,960
introduced one very specific way that

2111
02:10:10,920 --> 02:10:17,960
you can do exactly that

2112
02:10:21,550 --> 02:10:27,880
like that like that that that number of

2113
02:10:24,699 --> 02:10:32,559
meters it was 23 times a billion meters

2114
02:10:27,880 --> 02:10:34,150
so 23 billion meters you could have a

2115
02:10:32,560 --> 02:10:39,400
world in hammer here that was 23 billion

2116
02:10:34,149 --> 02:10:41,679
meters wide and the player moves up at

2117
02:10:39,399 --> 02:10:45,189
the speed of a human rough way through

2118
02:10:41,680 --> 02:10:48,850
it so we're talking about like the

2119
02:10:45,189 --> 02:11:08,199
distance to mercury or something right

2120
02:10:48,850 --> 02:11:11,140
oh that's miles what's the closest

2121
02:11:08,199 --> 02:11:13,300
planet Venus all right so you could get

2122
02:11:11,140 --> 02:11:14,920
a quarter of the way to Venus easily

2123
02:11:13,300 --> 02:11:16,390
without using any persistent precision

2124
02:11:14,920 --> 02:11:17,680
our system you could even go double that

2125
02:11:16,390 --> 02:11:20,289
really so you could you could go half

2126
02:11:17,680 --> 02:11:22,270
the way to Venus oh oh and you could go

2127
02:11:20,289 --> 02:11:24,760
in either direction so now that I think

2128
02:11:22,270 --> 02:11:26,260
about it actually yeah so you could have

2129
02:11:24,760 --> 02:11:27,670
a world in handmade here oh that

2130
02:11:26,260 --> 02:11:31,560
stretched effectively from Earth to

2131
02:11:27,670 --> 02:11:34,539
Venus and that's how big the world was

2132
02:11:31,560 --> 02:11:36,130
so we tack we that we solved this

2133
02:11:34,539 --> 02:11:38,109
problem in hand made here oh it's done

2134
02:11:36,130 --> 02:11:39,550
right the player can't possibly explore

2135
02:11:38,109 --> 02:11:43,269
as much of a world as we could create

2136
02:11:39,550 --> 02:11:45,310
they died long before they ever did so

2137
02:11:43,270 --> 02:11:47,650
we've solved that problem I'm talking

2138
02:11:45,310 --> 02:11:49,240
more about the hypothetical case the

2139
02:11:47,649 --> 02:11:50,649
person was asking about with planets and

2140
02:11:49,239 --> 02:11:51,639
a solar system which has different

2141
02:11:50,649 --> 02:11:54,309
constraint because there's a lot of

2142
02:11:51,640 --> 02:11:56,350
empty space sparse and so at some point

2143
02:11:54,310 --> 02:11:58,570
you may need to take a different

2144
02:11:56,350 --> 02:12:00,010
approach due to the sparsity because you

2145
02:11:58,569 --> 02:12:01,599
because we would introduce the

2146
02:12:00,010 --> 02:12:02,949
mechanisms like warping which would

2147
02:12:01,600 --> 02:12:04,810
allow the player to get from one place

2148
02:12:02,949 --> 02:12:06,099
to another much more quickly which would

2149
02:12:04,810 --> 02:12:13,180
mean that that distance they covered

2150
02:12:06,100 --> 02:12:15,010
would be different right what benefit

2151
02:12:13,180 --> 02:12:19,420
does deputing bring to the anti aliasing

2152
02:12:15,010 --> 02:12:22,270
table so what happens is sprites if you

2153
02:12:19,420 --> 02:12:24,399
draw sprites into a world the sprites

2154
02:12:22,270 --> 02:12:25,960
themselves have anti-aliasing built into

2155
02:12:24,399 --> 02:12:30,579
them right because when the person

2156
02:12:25,960 --> 02:12:31,989
painted them the edges are basically you

2157
02:12:30,579 --> 02:12:34,880
know encoding some coverage information

2158
02:12:31,989 --> 02:12:37,219
there does that make sense

2159
02:12:34,880 --> 02:12:40,550
so when you go to draw that spray into

2160
02:12:37,219 --> 02:12:41,960
the world if you want multi-sim plant

2161
02:12:40,550 --> 02:12:45,730
acing unfortunately doesn't quite have

2162
02:12:41,960 --> 02:12:45,730
enough samples to really help you there

2163
02:12:48,639 --> 02:12:57,050
we tried that I think it didn't look

2164
02:12:51,439 --> 02:12:59,599
great so what you want to do is you want

2165
02:12:57,050 --> 02:13:03,170
to actually draw that anti-aliasing in

2166
02:12:59,600 --> 02:13:08,239
order to help produce a nice smooth edge

2167
02:13:03,170 --> 02:13:09,829
around your sprites and so the depth

2168
02:13:08,238 --> 02:13:12,309
peeling does that that's what the depth

2169
02:13:09,829 --> 02:13:12,309
filling does

2170
02:13:45,539 --> 02:13:55,140
all right looks like we're roughly done

2171
02:13:50,100 --> 02:13:55,140
here I think

2172
02:14:23,689 --> 02:14:29,299
all right let's let's close it up

2173
02:14:39,868 --> 02:14:48,788
glad we fix that unprotect call that's a

2174
02:14:45,578 --> 02:14:49,899
good thing to get right thanks room for

2175
02:14:48,788 --> 02:14:50,979
joining me for an episode a hammer here

2176
02:14:49,899 --> 02:14:53,078
it's been a pleasure coding with you as

2177
02:14:50,979 --> 02:14:54,368
always if you'd like to follow up series

2178
02:14:53,078 --> 02:14:56,590
at home you can always puro to the game

2179
02:14:54,368 --> 02:14:58,210
on handmade hero org and it comes with a

2180
02:14:56,590 --> 02:15:01,510
source code so you can kind of track it

2181
02:14:58,210 --> 02:15:04,868
as it goes and play around with it

2182
02:15:01,510 --> 02:15:06,909
yourself we will be back tomorrow at

2183
02:15:04,868 --> 02:15:09,158
which point I would like to start taking

2184
02:15:06,908 --> 02:15:11,828
a look at the other issue we have in

2185
02:15:09,158 --> 02:15:15,488
terms of smoothing out that initial play

2186
02:15:11,828 --> 02:15:18,308
there which is the camera motion and the

2187
02:15:15,488 --> 02:15:19,598
simulation center changes that's a

2188
02:15:18,309 --> 02:15:20,889
little bit more of a sensitive issue and

2189
02:15:19,599 --> 02:15:22,090
we have to make sure we get that right

2190
02:15:20,889 --> 02:15:25,300
so that's the big thing I want to be

2191
02:15:22,090 --> 02:15:27,010
focusing on tomorrow and then we'll be

2192
02:15:25,300 --> 02:15:28,420
back again next week to start looking at

2193
02:15:27,010 --> 02:15:29,559
those that other parts talking about

2194
02:15:28,420 --> 02:15:30,849
which is getting some of that art in

2195
02:15:29,559 --> 02:15:32,619
there so we can start to look at what

2196
02:15:30,849 --> 02:15:35,020
the world's going to look like because

2197
02:15:32,618 --> 02:15:36,908
the last thing we really want to do is

2198
02:15:35,020 --> 02:15:39,130
start to tune that lighting as part of

2199
02:15:36,908 --> 02:15:40,689
the generation process and tuning the

2200
02:15:39,130 --> 02:15:41,859
lighting is gonna require we actually

2201
02:15:40,689 --> 02:15:44,348
have some art in there to look at what

2202
02:15:41,859 --> 02:15:46,078
the game is gonna look like so can I

2203
02:15:44,349 --> 02:15:48,250
gotta bring all that stuff together and

2204
02:15:46,078 --> 02:15:49,448
again part of that process will also be

2205
02:15:48,250 --> 02:15:51,760
deciding what we're gonna do with the

2206
02:15:49,448 --> 02:15:54,219
perspective when it comes right down to

2207
02:15:51,760 --> 02:15:55,599
it because we really don't know exactly

2208
02:15:54,219 --> 02:15:57,939
how we're gonna work around some of the

2209
02:15:55,599 --> 02:16:01,150
problems that could come up with that

2210
02:15:57,939 --> 02:16:03,069
perspective and so we'll see part of

2211
02:16:01,149 --> 02:16:07,359
that will be art on the art side part of

2212
02:16:03,069 --> 02:16:11,828
it that'll be on our side so we'll have

2213
02:16:07,359 --> 02:16:13,479
to see we will have to see all right so

2214
02:16:11,828 --> 02:16:15,250
that's about it thanks so much for

2215
02:16:13,479 --> 02:16:17,049
joining me I hope to see you back here

2216
02:16:15,250 --> 02:16:21,488
tomorrow we will be an hour earlier

2217
02:16:17,050 --> 02:16:22,300
tomorrow so be aware of that if you came

2218
02:16:21,488 --> 02:16:23,709
today

2219
02:16:22,300 --> 02:16:25,980
you gotta come an hour earlier than it

2220
02:16:23,710 --> 02:16:29,559
came if you want to catch it tomorrow

2221
02:16:25,979 --> 02:16:31,479
that's about it until next time have fun

2222
02:16:29,559 --> 02:16:34,920
pouring everyone and I'll see everybody

2223
02:16:31,479 --> 02:16:34,920
on the Internet take it easy everybody

