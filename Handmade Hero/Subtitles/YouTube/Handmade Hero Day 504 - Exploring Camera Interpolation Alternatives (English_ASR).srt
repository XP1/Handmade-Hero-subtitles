1
00:00:00,000 --> 00:00:03,419
hello everybody and welcome to handmade

2
00:00:01,620 --> 00:00:07,440
Hero the show recoat a complete game

3
00:00:03,419 --> 00:00:12,120
live on stream yesterday we covered how

4
00:00:07,440 --> 00:00:17,730
to look at camera transitions we

5
00:00:12,119 --> 00:00:21,299
introduced the concept of cubic and how

6
00:00:17,730 --> 00:00:22,649
to design one and parameterize it in a

7
00:00:21,300 --> 00:00:28,980
way that allowed you to do a nice easy

8
00:00:22,649 --> 00:00:32,058
OV and we wrote you know some some code

9
00:00:28,980 --> 00:00:35,880
for that which we you know which we

10
00:00:32,058 --> 00:00:37,828
employed as a test and in order to do

11
00:00:35,880 --> 00:00:39,809
that we just simplified the way the

12
00:00:37,829 --> 00:00:43,289
camera was working really quickly as

13
00:00:39,808 --> 00:00:45,479
something that allows us to sort of do

14
00:00:43,289 --> 00:00:49,350
transitions between rooms using the

15
00:00:45,479 --> 00:00:50,968
function that we designed right and so

16
00:00:49,350 --> 00:00:52,649
what you can see here is that I can do

17
00:00:50,969 --> 00:00:56,670
this transition when I move from room to

18
00:00:52,649 --> 00:01:00,120
room and you know there's there's no

19
00:00:56,670 --> 00:01:02,010
particular tuning to it currently but

20
00:01:00,119 --> 00:01:04,109
it'll we did like implement the function

21
00:01:02,009 --> 00:01:07,438
we wanted and now we can tweak that

22
00:01:04,109 --> 00:01:09,060
cubic as necessary right but we have

23
00:01:07,438 --> 00:01:10,589
another problem that we need to solve

24
00:01:09,060 --> 00:01:12,990
and that's what I said at the end of

25
00:01:10,590 --> 00:01:15,299
last dream we would do today and that is

26
00:01:12,989 --> 00:01:17,519
we want the ability to have the camera

27
00:01:15,299 --> 00:01:19,110
track a moving target so if all we

28
00:01:17,519 --> 00:01:21,750
wanted to do was move from room to room

29
00:01:19,109 --> 00:01:23,549
which is what we're doing now we would

30
00:01:21,750 --> 00:01:25,109
kind of be done there because you could

31
00:01:23,549 --> 00:01:27,868
actually just leave it implemented the

32
00:01:25,109 --> 00:01:29,759
way I implemented it right and you might

33
00:01:27,868 --> 00:01:31,739
have some issues where you like when you

34
00:01:29,759 --> 00:01:33,299
hop from room to room you get some kind

35
00:01:31,739 --> 00:01:38,368
of maybe a little bit like you can see

36
00:01:33,299 --> 00:01:40,470
if I if I hop back and forth maybe

37
00:01:38,368 --> 00:01:42,150
that's not as pleasant of emotion but

38
00:01:40,469 --> 00:01:43,469
even that's really not that bad so you

39
00:01:42,150 --> 00:01:45,060
know if we didn't need a track and

40
00:01:43,469 --> 00:01:47,250
moving target you could call this done

41
00:01:45,060 --> 00:01:49,140
and all you would really want to do is

42
00:01:47,250 --> 00:01:51,959
maybe tweak the function to get the

43
00:01:49,140 --> 00:01:54,509
exact amount of like easing that you

44
00:01:51,959 --> 00:01:56,280
wanted or you know play around play

45
00:01:54,509 --> 00:01:58,019
around with that curve until it was

46
00:01:56,280 --> 00:02:00,868
something that that felt like the curve

47
00:01:58,019 --> 00:02:03,390
that you wanted to feel right but we are

48
00:02:00,868 --> 00:02:05,188
not quite at the point where we can call

49
00:02:03,390 --> 00:02:08,068
it done because we do want to track a

50
00:02:05,188 --> 00:02:10,378
moving target and so like when the

51
00:02:08,068 --> 00:02:13,289
player hops up and down this corridor

52
00:02:10,378 --> 00:02:14,189
for example we want it to follow them

53
00:02:13,289 --> 00:02:16,500
Verta

54
00:02:14,189 --> 00:02:19,259
and so this puts us in an awkward

55
00:02:16,500 --> 00:02:21,300
position because the only technique that

56
00:02:19,259 --> 00:02:25,079
we really developed yesterday for using

57
00:02:21,300 --> 00:02:28,380
that cubic required us to have like a

58
00:02:25,080 --> 00:02:31,770
known start time and a known in time for

59
00:02:28,379 --> 00:02:34,519
the interpolation and if the targets

60
00:02:31,770 --> 00:02:40,670
moving we no longer really know that

61
00:02:34,520 --> 00:02:44,160
okay so let's talk a little bit about

62
00:02:40,669 --> 00:02:48,030
about what I mean by that that is if I

63
00:02:44,159 --> 00:02:52,349
can find the pen and by that I mean like

64
00:02:48,030 --> 00:02:54,060
marine lepen from France let's see here

65
00:02:52,349 --> 00:02:56,120
I guess I don't know if anyone's ever

66
00:02:54,060 --> 00:02:57,689
tried to draw with her on a tablet but

67
00:02:56,120 --> 00:03:01,860
but there you go

68
00:02:57,689 --> 00:03:14,969
alright so let's go ahead and talk about

69
00:03:01,860 --> 00:03:18,510
this moving camera target so if you look

70
00:03:14,969 --> 00:03:21,889
at for lack of a better term the

71
00:03:18,509 --> 00:03:24,509
behavior of the camera that we wanted

72
00:03:21,889 --> 00:03:26,879
what we were seeing is that we want the

73
00:03:24,509 --> 00:03:30,870
camera to move you know from here to

74
00:03:26,879 --> 00:03:34,259
here and in that process we wanted it to

75
00:03:30,870 --> 00:03:37,500
follow a speed curve if you will right

76
00:03:34,259 --> 00:03:39,780
if this is the speed we wanted it to

77
00:03:37,500 --> 00:03:44,550
follow a speed curve that sort of looks

78
00:03:39,780 --> 00:03:48,120
you know something like this right in

79
00:03:44,550 --> 00:03:50,010
other words we want the the rate at

80
00:03:48,120 --> 00:03:51,150
which the camera is moving to look

81
00:03:50,009 --> 00:03:55,099
something like this

82
00:03:51,150 --> 00:03:58,950
so as a result we defined a function

83
00:03:55,099 --> 00:04:00,180
that had that kind of a look to it I

84
00:03:58,949 --> 00:04:02,250
mean I guess you shouldn't say that the

85
00:04:00,180 --> 00:04:06,510
speed of ours is kind of more like that

86
00:04:02,250 --> 00:04:13,669
right but that's what we wanted low high

87
00:04:06,509 --> 00:04:20,399
low and so this is a parabola right and

88
00:04:13,669 --> 00:04:26,269
when we look at the position that's when

89
00:04:20,399 --> 00:04:29,069
we get the cubic that we designed okay

90
00:04:26,269 --> 00:04:31,560
so if you integrate this up you get

91
00:04:29,069 --> 00:04:33,990
something like this slow start fast

92
00:04:31,560 --> 00:04:36,000
middle slow end right and that's exactly

93
00:04:33,990 --> 00:04:42,180
what we would expect here if this is our

94
00:04:36,000 --> 00:04:46,019
speed and this is time so if we want our

95
00:04:42,180 --> 00:04:47,759
speed to look like this and more

96
00:04:46,019 --> 00:04:50,459
importantly I suppose you could say if

97
00:04:47,759 --> 00:04:53,250
we wanted to write any given function

98
00:04:50,459 --> 00:04:56,370
for our speed meaning we want the speed

99
00:04:53,250 --> 00:05:01,980
to be proportional to where we are along

100
00:04:56,370 --> 00:05:04,829
the motion from here to here right then

101
00:05:01,980 --> 00:05:09,870
what we could think about is maybe what

102
00:05:04,829 --> 00:05:13,649
we're really saying is we don't care so

103
00:05:09,870 --> 00:05:15,810
much about the cubic right the cubic is

104
00:05:13,649 --> 00:05:20,370
a way of getting the position by having

105
00:05:15,810 --> 00:05:24,870
previously integrated this parabola

106
00:05:20,370 --> 00:05:28,920
right because we're doing you know a t3

107
00:05:24,870 --> 00:05:33,060
plus B T squared plus C T right this is

108
00:05:28,920 --> 00:05:38,670
our equation for our position right so

109
00:05:33,060 --> 00:05:40,709
like that's you know that's PT so if we

110
00:05:38,670 --> 00:05:43,560
take the derivative of it right if we

111
00:05:40,709 --> 00:05:48,509
say what's the speed of this equation

112
00:05:43,560 --> 00:05:50,280
then we're gonna get we're gonna get a

113
00:05:48,509 --> 00:05:51,329
second-order equation right if you take

114
00:05:50,279 --> 00:05:53,459
the derivative of a third degree

115
00:05:51,329 --> 00:05:57,240
polynomial you get a secondary one right

116
00:05:53,459 --> 00:06:03,000
so you get 380 square plus 2 BT plus C

117
00:05:57,240 --> 00:06:05,009
as our speed right and so really what we

118
00:06:03,000 --> 00:06:08,310
were talking about like we didn't care

119
00:06:05,009 --> 00:06:10,259
about this really what we were trying to

120
00:06:08,310 --> 00:06:12,060
say is this is what we want our speed

121
00:06:10,259 --> 00:06:13,769
curd to look like because remember it's

122
00:06:12,060 --> 00:06:17,310
the easing ease out that we were looking

123
00:06:13,769 --> 00:06:20,159
for we don't really care that much about

124
00:06:17,310 --> 00:06:23,160
the position other than we need to get

125
00:06:20,160 --> 00:06:25,260
it as an answer but other than the fact

126
00:06:23,160 --> 00:06:27,060
that it goes from A to B it was really

127
00:06:25,259 --> 00:06:30,120
the speed that we were talking about

128
00:06:27,060 --> 00:06:32,490
that we wanted to articulate to the math

129
00:06:30,120 --> 00:06:35,870
and all we really use the cubic for was

130
00:06:32,490 --> 00:06:35,870
to get the position out of that

131
00:06:37,139 --> 00:06:51,129
right so the next question is well

132
00:06:47,620 --> 00:06:54,399
alright what can we do then to make our

133
00:06:51,129 --> 00:06:55,930
interpolation work in some way that

134
00:06:54,399 --> 00:07:00,609
doesn't have a fixed start at end

135
00:06:55,930 --> 00:07:05,439
because what we have to know right is

136
00:07:00,610 --> 00:07:07,720
that at the start right you know at T

137
00:07:05,439 --> 00:07:11,410
equals zero right

138
00:07:07,720 --> 00:07:13,389
we want our speed to be zero you know

139
00:07:11,410 --> 00:07:15,700
what I mean and we want it to pick up

140
00:07:13,389 --> 00:07:21,790
over time so that when we're about

141
00:07:15,699 --> 00:07:25,240
halfway you know we want our speed to be

142
00:07:21,790 --> 00:07:27,460
you know one let's say where I don't

143
00:07:25,240 --> 00:07:30,160
really mean the literal value one but I

144
00:07:27,459 --> 00:07:31,839
mean some value I mean we could say max

145
00:07:30,160 --> 00:07:33,550
right

146
00:07:31,839 --> 00:07:35,709
we want our speed to be the maximum

147
00:07:33,550 --> 00:07:39,699
speed whatever we decide that to be and

148
00:07:35,709 --> 00:07:41,769
then we're at T equals one we want it to

149
00:07:39,699 --> 00:07:49,389
be zero again right that's what we

150
00:07:41,769 --> 00:07:53,859
wanted the problem is this and this are

151
00:07:49,389 --> 00:07:57,550
now not really known in a sense we can

152
00:07:53,860 --> 00:08:00,310
remember what T equals zero was because

153
00:07:57,550 --> 00:08:02,650
we know anytime the camera stops moving

154
00:08:00,310 --> 00:08:05,470
so if the camera stops moving completely

155
00:08:02,649 --> 00:08:07,329
we could know that we could detect that

156
00:08:05,470 --> 00:08:09,910
the velocity of the camera had

157
00:08:07,329 --> 00:08:12,550
diminished below some threshold and say

158
00:08:09,910 --> 00:08:15,189
we are now at rest and then we could

159
00:08:12,550 --> 00:08:17,199
remember when we start accelerating out

160
00:08:15,189 --> 00:08:20,199
of that rest and call that T equals zero

161
00:08:17,199 --> 00:08:26,589
and then we could track that T over time

162
00:08:20,199 --> 00:08:29,949
as much as we want it right but if we

163
00:08:26,589 --> 00:08:32,019
don't know when T equals one will be we

164
00:08:29,949 --> 00:08:34,479
still can't construct the curve and why

165
00:08:32,019 --> 00:08:37,179
might we not know what T equals one is

166
00:08:34,479 --> 00:08:39,879
well let's suppose that the camera is at

167
00:08:37,179 --> 00:08:43,059
rest and then you know so we basically

168
00:08:39,879 --> 00:08:47,470
have you know in our parlance we have a

169
00:08:43,059 --> 00:08:49,039
target and we have the camera and it's

170
00:08:47,470 --> 00:08:51,680
moving to the target

171
00:08:49,039 --> 00:08:53,509
when it arrives at the target right

172
00:08:51,679 --> 00:08:55,189
maybe I'll do it this way so when the

173
00:08:53,509 --> 00:08:57,439
camera arrives so the target and the

174
00:08:55,190 --> 00:08:59,360
camera are in sync right then we can

175
00:08:57,440 --> 00:09:02,090
sort of say the camera is at rest and

176
00:08:59,360 --> 00:09:04,129
this is T equals zero and will remain T

177
00:09:02,090 --> 00:09:08,660
equals zero right there's no speed it's

178
00:09:04,129 --> 00:09:10,189
just at rest now the user hops from one

179
00:09:08,659 --> 00:09:11,539
room to another and let's say this is

180
00:09:10,190 --> 00:09:13,460
focusing on like you know the center of

181
00:09:11,539 --> 00:09:15,139
the room the user hops from one room to

182
00:09:13,460 --> 00:09:18,490
another and we're right back in the

183
00:09:15,139 --> 00:09:20,569
situation that we were up here oops

184
00:09:18,490 --> 00:09:22,129
we're right back in the situation that

185
00:09:20,570 --> 00:09:24,500
we were up here where we have the camera

186
00:09:22,129 --> 00:09:25,970
here and the target here and now we know

187
00:09:24,500 --> 00:09:27,679
that this would be T equals zero and

188
00:09:25,970 --> 00:09:30,170
this would be T equals one and we want

189
00:09:27,679 --> 00:09:33,829
that smooth curve from one to the other

190
00:09:30,169 --> 00:09:37,729
right and the crucial thing to remember

191
00:09:33,830 --> 00:09:41,090
here is in a sense we want potentially

192
00:09:37,730 --> 00:09:44,810
that we don't know exactly what we want

193
00:09:41,090 --> 00:09:47,210
to require here but we may actually also

194
00:09:44,809 --> 00:09:50,599
want to say look we want room

195
00:09:47,210 --> 00:09:52,910
transitions to be nice and snappy so we

196
00:09:50,600 --> 00:09:55,700
want them to always take half a second

197
00:09:52,909 --> 00:09:58,069
or one second or something like we may

198
00:09:55,700 --> 00:09:59,420
want room transitions I don't care if

199
00:09:58,070 --> 00:10:01,940
you're going from a small room to a big

200
00:09:59,419 --> 00:10:03,740
room or from down a long corridor we

201
00:10:01,940 --> 00:10:05,750
want those room transitions to be fast

202
00:10:03,740 --> 00:10:08,710
because I don't want the player to you

203
00:10:05,750 --> 00:10:10,789
know have to sit around waiting to see

204
00:10:08,710 --> 00:10:12,170
what's in the next room they're supposed

205
00:10:10,789 --> 00:10:13,579
to get it you know it supposed to be a

206
00:10:12,169 --> 00:10:16,849
nice Pleasant visual effect but that

207
00:10:13,580 --> 00:10:20,120
happens snappy right so pleasing

208
00:10:16,850 --> 00:10:23,029
movement but fast so we don't really

209
00:10:20,120 --> 00:10:25,549
know we may want this T equals one to

210
00:10:23,029 --> 00:10:29,750
just be assumed to be here or we may

211
00:10:25,549 --> 00:10:33,229
want to say well you know look maybe we

212
00:10:29,750 --> 00:10:37,779
want to take how far away it is and say

213
00:10:33,230 --> 00:10:41,360
that we don't really want our function

214
00:10:37,779 --> 00:10:45,199
to ever produce a velocity higher than a

215
00:10:41,360 --> 00:10:48,230
certain amount so we want our our curve

216
00:10:45,200 --> 00:10:50,870
to start at zero go to a maximum

217
00:10:48,230 --> 00:10:55,850
velocity remain at the maximum velocity

218
00:10:50,870 --> 00:10:58,909
and then end right so in other words if

219
00:10:55,850 --> 00:11:01,850
we want our room transitions to tap an

220
00:10:58,909 --> 00:11:02,490
in constant time meaning like you know

221
00:11:01,850 --> 00:11:05,190
once

222
00:11:02,490 --> 00:11:07,740
in all ways or something like that then

223
00:11:05,190 --> 00:11:10,050
our thing can look like this because we

224
00:11:07,740 --> 00:11:12,570
can always make a parabola that gets us

225
00:11:10,049 --> 00:11:15,809
there on time and the height this right

226
00:11:12,570 --> 00:11:17,160
here will just change right so sometimes

227
00:11:15,809 --> 00:11:18,989
the parabola will look like that

228
00:11:17,159 --> 00:11:22,259
sometimes the parabola will look like

229
00:11:18,990 --> 00:11:24,149
that you know what I mean in terms of

230
00:11:22,259 --> 00:11:29,610
what our actual speed ends up being when

231
00:11:24,149 --> 00:11:30,778
measured in the world but we could

232
00:11:29,610 --> 00:11:32,610
always make it there in constant time

233
00:11:30,778 --> 00:11:33,958
just by making the speed bigger and the

234
00:11:32,610 --> 00:11:36,300
way we're doing that right now is we

235
00:11:33,958 --> 00:11:37,769
always use the same parabola but we just

236
00:11:36,299 --> 00:11:40,409
blend between points that are further

237
00:11:37,769 --> 00:11:43,199
away right so we don't actually use the

238
00:11:40,409 --> 00:11:45,838
parabola as speed we use the probably

239
00:11:43,200 --> 00:11:48,360
parabola as a normalized speed and then

240
00:11:45,839 --> 00:11:50,480
we stretch it out over a line which is

241
00:11:48,360 --> 00:11:53,909
also a totally valid way to do it right

242
00:11:50,480 --> 00:11:56,399
but either way point being that always

243
00:11:53,909 --> 00:11:59,250
gets us there the same time so in the

244
00:11:56,399 --> 00:12:01,889
actual game if I'm going from here to

245
00:11:59,250 --> 00:12:05,000
here which is a smaller movement right

246
00:12:01,889 --> 00:12:07,889
the camera can move at a slower speed

247
00:12:05,000 --> 00:12:10,740
than from here to here where it has to

248
00:12:07,889 --> 00:12:13,078
move faster right it has to move much

249
00:12:10,740 --> 00:12:17,879
faster there in order to get because the

250
00:12:13,078 --> 00:12:20,159
points are further apart but we could

251
00:12:17,879 --> 00:12:22,980
instead decide and this is an artistic

252
00:12:20,159 --> 00:12:24,480
decision right that affects the math we

253
00:12:22,980 --> 00:12:27,839
could instead decide that we want a

254
00:12:24,480 --> 00:12:30,389
curve that looks more like this right

255
00:12:27,839 --> 00:12:32,459
so there's a start and end to the

256
00:12:30,389 --> 00:12:34,500
parabola but in the middle there's just

257
00:12:32,458 --> 00:12:37,379
a long linear region so there's a linear

258
00:12:34,500 --> 00:12:39,958
region and there's like an acceleration

259
00:12:37,379 --> 00:12:42,360
and a deceleration right and so this

260
00:12:39,958 --> 00:12:45,328
parabola is really split in two and

261
00:12:42,360 --> 00:12:47,370
there's an intermediate area that's just

262
00:12:45,328 --> 00:12:49,528
a constant speed which is the maximum

263
00:12:47,370 --> 00:12:51,419
speed so it goes up to its maximum speed

264
00:12:49,528 --> 00:12:56,539
stays there and then comes down from its

265
00:12:51,419 --> 00:12:56,539
maximum speed when it's done okay

266
00:13:14,289 --> 00:13:22,599
I can't say that I really have a strong

267
00:13:20,679 --> 00:13:31,208
opinion about what should be happening

268
00:13:22,600 --> 00:13:40,899
in that case you know there's a couple

269
00:13:31,208 --> 00:13:43,448
different ways we could do this keeping

270
00:13:40,899 --> 00:13:46,089
all of those things there is sort of

271
00:13:43,448 --> 00:13:51,549
another thing we could do which is just

272
00:13:46,089 --> 00:13:54,310
making the players location always be be

273
00:13:51,549 --> 00:13:57,578
the target and then if T equals zero

274
00:13:54,309 --> 00:13:59,828
then you just move the target so I don't

275
00:13:57,578 --> 00:14:01,448
know I I just wanted to kind of get all

276
00:13:59,828 --> 00:14:03,549
of that out there and just talk about

277
00:14:01,448 --> 00:14:05,828
what the possibilities are because I

278
00:14:03,549 --> 00:14:08,620
don't know exactly what we want in this

279
00:14:05,828 --> 00:14:17,169
particular case I don't have an editor

280
00:14:08,620 --> 00:14:19,328
open so here we go so I guess it depends

281
00:14:17,169 --> 00:14:21,789
it really depends on what we want to do

282
00:14:19,328 --> 00:14:32,859
but in terms of the way our camera is at

283
00:14:21,789 --> 00:14:37,599
the immediate moment we take a look here

284
00:14:32,860 --> 00:14:42,220
and we just say update camera for entity

285
00:14:37,600 --> 00:14:43,899
movement you know if we wanted to say

286
00:14:42,220 --> 00:14:45,370
that the way that it works is it always

287
00:14:43,899 --> 00:14:47,230
takes a constant amount of time to

288
00:14:45,370 --> 00:14:48,789
switch from run room to another in which

289
00:14:47,230 --> 00:14:50,620
case we have the from P to P

290
00:14:48,789 --> 00:14:52,240
construction and we leave it this way

291
00:14:50,620 --> 00:14:54,220
and then we can make whatever function

292
00:14:52,240 --> 00:14:57,610
we want here for their interpolation if

293
00:14:54,220 --> 00:15:00,490
we did say that then one interesting

294
00:14:57,610 --> 00:15:04,300
aspect of that that what one interesting

295
00:15:00,490 --> 00:15:08,889
thing that comes from that is the fact

296
00:15:04,299 --> 00:15:12,969
that the camera itself could then just

297
00:15:08,889 --> 00:15:20,829
be locked to the user in all other cases

298
00:15:12,970 --> 00:15:24,689
right so yeah like effectively we would

299
00:15:20,828 --> 00:15:24,688
say something like

300
00:15:25,220 --> 00:15:32,389
if the target and the camera are close

301
00:15:29,240 --> 00:15:34,549
enough to each other and T equals one

302
00:15:32,389 --> 00:15:37,419
then we just set them equal to each

303
00:15:34,549 --> 00:15:42,109
other otherwise we update the target I

304
00:15:37,419 --> 00:15:44,360
know this sounds a little bit weird but

305
00:15:42,110 --> 00:15:49,820
that's basically what we would be doing

306
00:15:44,360 --> 00:15:51,860
there so yeah let me see how if I was

307
00:15:49,820 --> 00:15:57,560
gonna just to give some explanation of

308
00:15:51,860 --> 00:16:00,620
that so in here where we set this in

309
00:15:57,559 --> 00:16:02,000
room and and not is equal to right so

310
00:16:00,620 --> 00:16:04,009
what this was doing is this was

311
00:16:02,000 --> 00:16:06,320
preventing us from ever setting a new

312
00:16:04,009 --> 00:16:10,069
camera right so we never update the

313
00:16:06,320 --> 00:16:12,980
camera when we move rooms except for

314
00:16:10,070 --> 00:16:14,120
that first time once you're inside the

315
00:16:12,980 --> 00:16:16,190
room you'll never update the camera

316
00:16:14,120 --> 00:16:18,649
again that means that things like are

317
00:16:16,190 --> 00:16:22,700
tracking the player scrolling we would

318
00:16:18,649 --> 00:16:25,669
never even hit this case right if

319
00:16:22,700 --> 00:16:28,670
instead we said well you know maybe what

320
00:16:25,669 --> 00:16:36,549
we really wanted to do was always update

321
00:16:28,669 --> 00:16:36,549
the target but only update the from and

322
00:16:37,539 --> 00:16:45,620
well only update the T interpolation and

323
00:16:42,200 --> 00:16:48,050
the from P when we actually do a room

324
00:16:45,620 --> 00:16:51,019
change right so only do that

325
00:16:48,049 --> 00:16:53,179
interpolation at that point and if we do

326
00:16:51,019 --> 00:16:55,970
something like that then you know what

327
00:16:53,179 --> 00:16:58,429
you would see is we still have constant

328
00:16:55,970 --> 00:17:00,080
time room transition but once you get

329
00:16:58,429 --> 00:17:03,549
into a room that Scrolls you're just

330
00:17:00,080 --> 00:17:07,338
locked to where the player is right

331
00:17:03,549 --> 00:17:10,129
let's see that now the problem with that

332
00:17:07,338 --> 00:17:11,509
to a certain extent is locking to the

333
00:17:10,130 --> 00:17:13,310
player you can see there's a certain

334
00:17:11,509 --> 00:17:16,640
amount of smoothing that isn't happening

335
00:17:13,309 --> 00:17:18,799
there so you know I don't know to what

336
00:17:16,640 --> 00:17:20,390
extent we wanna we would probably want

337
00:17:18,799 --> 00:17:22,220
to smooth that out because hopping is

338
00:17:20,390 --> 00:17:28,130
kind of jarring right you can kind of

339
00:17:22,220 --> 00:17:30,589
see it being fairly jarring there and

340
00:17:28,130 --> 00:17:32,750
I'm not really sure why could the why is

341
00:17:30,589 --> 00:17:35,659
being changed there instead of the Z

342
00:17:32,750 --> 00:17:37,839
that's probably old like historical

343
00:17:35,660 --> 00:17:39,250
reasons so we can probably fix that part

344
00:17:37,839 --> 00:17:40,839
but

345
00:17:39,250 --> 00:17:43,869
to see that we would want to smooth it

346
00:17:40,839 --> 00:17:46,029
out but other than smoothing it out it's

347
00:17:43,869 --> 00:17:48,250
not immediately clear we couldn't just

348
00:17:46,029 --> 00:17:50,079
use that right because it does track the

349
00:17:48,250 --> 00:17:52,269
player just fine and then our

350
00:17:50,079 --> 00:17:55,119
interpolation you know so really what we

351
00:17:52,269 --> 00:17:57,579
have for the most part is a problem with

352
00:17:55,119 --> 00:17:59,619
smoothing out the player's motion not a

353
00:17:57,579 --> 00:18:20,710
problem with what the camera would do in

354
00:17:59,619 --> 00:18:24,239
this case right so if we imagined doing

355
00:18:20,710 --> 00:18:24,240
something a little bit different here

356
00:18:24,990 --> 00:18:30,490
tracking the cameras in room is probably

357
00:18:28,630 --> 00:18:32,860
would not really be necessary either

358
00:18:30,490 --> 00:18:36,700
right so what we could do here is say

359
00:18:32,859 --> 00:18:40,659
look we don't care about any of this

360
00:18:36,700 --> 00:18:43,720
all we really need to know is if the

361
00:18:40,660 --> 00:18:46,660
front P and the P are like really far

362
00:18:43,720 --> 00:18:49,450
apart you know and I mean I'm sorry if

363
00:18:46,660 --> 00:18:51,580
the if the current location of the

364
00:18:49,450 --> 00:18:55,720
camera and the new location camera are

365
00:18:51,579 --> 00:18:59,259
really far apart and T is less than one

366
00:18:55,720 --> 00:19:05,620
I'm sorry equals one so if we're not

367
00:18:59,259 --> 00:19:08,769
interpolating the camera right so this

368
00:19:05,619 --> 00:19:11,049
means interpolation server and the

369
00:19:08,769 --> 00:19:14,079
difference between these two vectors the

370
00:19:11,049 --> 00:19:17,759
length happens to be larger than our

371
00:19:14,079 --> 00:19:22,799
whatever our maximum is so like distance

372
00:19:17,759 --> 00:19:27,910
between squared something like that from

373
00:19:22,799 --> 00:19:30,099
target P like that so if the distance is

374
00:19:27,910 --> 00:19:33,100
greater than you know some amount that

375
00:19:30,099 --> 00:19:35,409
we consider to be a large movement you

376
00:19:33,099 --> 00:19:37,919
know like a meter then we restart our

377
00:19:35,410 --> 00:19:41,080
interpolation otherwise we just snap

378
00:19:37,920 --> 00:19:45,279
here I mean then we don't really need

379
00:19:41,079 --> 00:19:47,939
the in room I don't know if we've got

380
00:19:45,279 --> 00:19:47,940
that distance between

381
00:19:51,900 --> 00:20:01,060
it don't look like it so we can just say

382
00:19:56,170 --> 00:20:03,789
length squared of the vector in between

383
00:20:01,059 --> 00:20:05,950
so if the amount we wanted to move was

384
00:20:03,789 --> 00:20:10,509
greater than some max distance so like

385
00:20:05,950 --> 00:20:16,319
max distance per frame you know is

386
00:20:10,509 --> 00:20:16,319
something it's probably less than that

387
00:20:16,440 --> 00:20:21,100
if we were going to move more than the

388
00:20:18,579 --> 00:20:22,179
maximum distance per frame then what we

389
00:20:21,099 --> 00:20:25,629
do is we start an interpolation

390
00:20:22,180 --> 00:20:27,490
otherwise we do nothing that would mean

391
00:20:25,630 --> 00:20:31,960
that we don't really have to set anymore

392
00:20:27,490 --> 00:20:33,970
the the in room and that goes away so

393
00:20:31,960 --> 00:20:40,079
then we just have T interpolation and

394
00:20:33,970 --> 00:20:40,079
the target from construction right I

395
00:20:40,200 --> 00:20:46,480
need to make sure we set the from though

396
00:20:43,569 --> 00:20:49,379
yes we did okay so that's all fine I

397
00:20:46,480 --> 00:20:49,380
think

398
00:21:04,000 --> 00:21:11,119
also to me um so let's take a look at

399
00:21:08,089 --> 00:21:12,470
what happens there you can see us now it

400
00:21:11,119 --> 00:21:15,048
looks like we're getting a weird glitch

401
00:21:12,470 --> 00:21:19,789
there so I think our frumpy is not quite

402
00:21:15,048 --> 00:21:23,418
right there yeah so the problem is

403
00:21:19,789 --> 00:21:26,659
that's gonna get Rhian coded so we don't

404
00:21:23,419 --> 00:21:34,040
really want to do that we want that to

405
00:21:26,660 --> 00:21:41,330
be rien coded here like so so we really

406
00:21:34,039 --> 00:21:44,298
want this right we don't ever want to be

407
00:21:41,329 --> 00:21:45,859
copying in the unmapped Bay in the you

408
00:21:44,298 --> 00:21:51,019
know in world space we want to be

409
00:21:45,859 --> 00:21:54,079
mapping it like simulation space so now

410
00:21:51,019 --> 00:21:56,000
we pretty much just would work no matter

411
00:21:54,079 --> 00:21:58,579
what we did we don't need to know about

412
00:21:56,000 --> 00:22:01,339
rooms or anything the camera just works

413
00:21:58,579 --> 00:22:03,048
and so now we're just down to wanting a

414
00:22:01,339 --> 00:22:05,119
more pleasant effect when the character

415
00:22:03,048 --> 00:22:07,369
is hopping because we don't really want

416
00:22:05,119 --> 00:22:08,829
to account for all that motion there

417
00:22:07,369 --> 00:22:12,639
what happened there

418
00:22:08,829 --> 00:22:12,639
something weird happened there

419
00:22:17,440 --> 00:22:22,370
all right so there's something there's

420
00:22:20,299 --> 00:22:24,490
something busted about that let me take

421
00:22:22,369 --> 00:22:28,459
a look at what's going on here

422
00:22:24,490 --> 00:22:28,460
[Music]

423
00:22:36,240 --> 00:22:47,069
I guess that may have been us hitting

424
00:22:40,950 --> 00:22:49,610
the max distance per frame no not sure

425
00:22:47,069 --> 00:22:49,609
what that was

426
00:22:58,349 --> 00:23:10,949
target P target P is always set so that

427
00:23:08,609 --> 00:23:17,339
really shouldn't be an issue and it's

428
00:23:10,950 --> 00:23:21,720
always mapped into the region and out of

429
00:23:17,339 --> 00:23:27,209
so that all looks really good did I mess

430
00:23:21,720 --> 00:23:31,200
up anything else here here's the T

431
00:23:27,210 --> 00:23:33,409
update let me put that down here

432
00:23:31,200 --> 00:23:33,409
actually

433
00:23:40,079 --> 00:23:53,859
these are still kind of doing their own

434
00:23:43,119 --> 00:23:56,769
thing which is fine they could actually

435
00:23:53,859 --> 00:23:58,629
be rewritten this way as well at which I

436
00:23:56,769 --> 00:24:02,379
should do because you know we can just

437
00:23:58,630 --> 00:24:04,480
lurk them in addition so we actually

438
00:24:02,380 --> 00:24:08,710
don't need to do this anymore on them

439
00:24:04,480 --> 00:24:12,730
but I'm not sure why they're getting

440
00:24:08,710 --> 00:24:15,430
that weirdness there where I was seeing

441
00:24:12,730 --> 00:24:18,130
yeah I don't know why we were getting

442
00:24:15,430 --> 00:24:24,610
that hiccup and I'd like to take a look

443
00:24:18,130 --> 00:24:26,050
more closely at that what I do want to

444
00:24:24,609 --> 00:24:28,509
do here there was I would like to make

445
00:24:26,049 --> 00:24:31,809
these be something that goes off of the

446
00:24:28,509 --> 00:24:33,670
bezzie a magic so they they would

447
00:24:31,809 --> 00:24:37,419
interpolate basically the same way that

448
00:24:33,670 --> 00:24:38,740
that they would just interpolate the

449
00:24:37,420 --> 00:24:43,000
same way everything else interpolates

450
00:24:38,740 --> 00:24:45,940
right because once we've we've

451
00:24:43,000 --> 00:24:50,230
interpreted our blend here so I think

452
00:24:45,940 --> 00:24:52,779
this is our you know blend factor once

453
00:24:50,230 --> 00:24:56,380
we computed what that blend factor is I

454
00:24:52,779 --> 00:24:59,710
would like to use it for everything so

455
00:24:56,380 --> 00:25:03,630
you know this would also be alert where

456
00:24:59,710 --> 00:25:09,759
we would take the expected focus Minzy

457
00:25:03,630 --> 00:25:13,630
and the expected focus maxie and we'd

458
00:25:09,759 --> 00:25:15,730
blend between those and that way it's

459
00:25:13,630 --> 00:25:20,800
also stable per frame and doesn't have a

460
00:25:15,730 --> 00:25:23,370
weird like doesn't have like a weird

461
00:25:20,799 --> 00:25:23,369
dependency

462
00:25:26,000 --> 00:25:32,839
I just want to take that out of the mix

463
00:25:30,289 --> 00:25:35,779
so that we're not getting like weird

464
00:25:32,839 --> 00:25:40,699
results due to that or something that

465
00:25:35,779 --> 00:25:42,559
make sense all right so yeah like most

466
00:25:40,700 --> 00:25:44,900
of the things look okay here

467
00:25:42,559 --> 00:25:49,669
it's just not that one particular thing

468
00:25:44,900 --> 00:26:00,800
and so I'm not sure how we want to deal

469
00:25:49,670 --> 00:26:08,390
with that and you can kind of see it

470
00:26:00,799 --> 00:26:10,609
looks it actually looks like we do we

471
00:26:08,390 --> 00:26:12,470
get like a positional hiccup even we

472
00:26:10,609 --> 00:26:16,429
definitely get some hiccups on the blend

473
00:26:12,470 --> 00:26:19,069
I think yeah like that was an actual

474
00:26:16,430 --> 00:26:20,810
positional hiccup so how are we getting

475
00:26:19,069 --> 00:26:24,679
a positional hiccup there what's going

476
00:26:20,809 --> 00:26:27,940
on we do map everything back in right

477
00:26:24,680 --> 00:26:31,910
everything always the front P and from P

478
00:26:27,940 --> 00:26:34,660
target P is always mapped just period

479
00:26:31,910 --> 00:26:34,660
right

480
00:26:47,349 --> 00:26:53,179
target fee is always mapped and the

481
00:26:50,450 --> 00:27:05,180
target of the focuses are always kept

482
00:26:53,180 --> 00:27:09,140
from the from the destination and you

483
00:27:05,180 --> 00:27:12,200
know I wonder if that should just be

484
00:27:09,140 --> 00:27:17,120
based on the camera directly I don't

485
00:27:12,200 --> 00:27:21,529
know that's hard to say

486
00:27:17,119 --> 00:27:23,779
I do wonder if these maybe should be

487
00:27:21,529 --> 00:27:25,700
measured from the camera directly after

488
00:27:23,779 --> 00:27:33,170
we interpolate it so that's a little

489
00:27:25,700 --> 00:27:35,058
hard to say like I don't know how much

490
00:27:33,170 --> 00:27:37,519
blending we really want on those one way

491
00:27:35,058 --> 00:27:39,289
or the other but so something weird is

492
00:27:37,519 --> 00:27:44,650
happening here where if the camera

493
00:27:39,289 --> 00:27:47,509
interpolation needs to hop back

494
00:27:44,650 --> 00:27:49,490
something bad happens now I'm terribly

495
00:27:47,509 --> 00:27:50,720
certain why because if you think of what

496
00:27:49,490 --> 00:27:54,710
would happen here maybe let me just walk

497
00:27:50,720 --> 00:27:58,009
through it in the case where we set the

498
00:27:54,710 --> 00:28:00,049
interpolation here to zero we're going

499
00:27:58,009 --> 00:28:02,779
to set the from value to be the same as

500
00:28:00,049 --> 00:28:05,359
the p value and the t interpolation will

501
00:28:02,779 --> 00:28:08,029
be set to zero so this whole thing will

502
00:28:05,359 --> 00:28:10,939
basically just mean that wheat we're at

503
00:28:08,029 --> 00:28:13,279
the from P which means P will remain

504
00:28:10,940 --> 00:28:17,299
completely unchanged and so you

505
00:28:13,279 --> 00:28:20,599
shouldn't get a hiccup there so I'm

506
00:28:17,299 --> 00:28:22,279
trying to figure out maybe the the way

507
00:28:20,599 --> 00:28:30,558
you get a hiccup though is by changing

508
00:28:22,279 --> 00:28:33,289
the target P to discontinuously so yeah

509
00:28:30,558 --> 00:28:35,960
I guess what you could say is if the

510
00:28:33,289 --> 00:28:39,589
target P was changing too much it would

511
00:28:35,960 --> 00:28:41,799
also need to do this you know what I

512
00:28:39,589 --> 00:28:41,799
mean

513
00:28:44,250 --> 00:28:47,829
because you get you could get a

514
00:28:46,269 --> 00:28:49,539
discontinuity if the target if you

515
00:28:47,829 --> 00:28:52,779
haven't finished an interpolation and

516
00:28:49,539 --> 00:28:54,609
the target P has changed too much then

517
00:28:52,779 --> 00:28:58,829
in a sense you need to like restart the

518
00:28:54,609 --> 00:29:01,929
interpolation you know what I mean and

519
00:28:58,829 --> 00:29:04,960
and so that's like kind of a rude

520
00:29:01,930 --> 00:29:06,100
awakening there and mainly sort of

521
00:29:04,960 --> 00:29:07,600
motivates the thing that I was talking

522
00:29:06,099 --> 00:29:09,459
about before where it's like we need a

523
00:29:07,599 --> 00:29:19,750
thing that allows you to have a moving

524
00:29:09,460 --> 00:29:22,779
target because occasionally you do so I

525
00:29:19,750 --> 00:29:26,259
don't know the way we would do that is I

526
00:29:22,779 --> 00:29:29,529
think all we would say is restart

527
00:29:26,259 --> 00:29:31,839
interpolation is a value that we can

528
00:29:29,529 --> 00:29:35,289
trigger and then when we're here we can

529
00:29:31,839 --> 00:29:38,169
just say look if we move the target too

530
00:29:35,289 --> 00:29:40,210
much and I guess you know another way to

531
00:29:38,170 --> 00:29:44,650
do it would be to say looking at this

532
00:29:40,210 --> 00:29:47,829
right if we make the target P be

533
00:29:44,650 --> 00:29:50,560
something that comes out here so the

534
00:29:47,829 --> 00:29:57,730
target P in this case gets pulled out

535
00:29:50,559 --> 00:30:00,849
early and in fact I guess all of these

536
00:29:57,730 --> 00:30:04,240
can be pulled out early so we would say

537
00:30:00,849 --> 00:30:06,459
grab all of our stuff if we want to

538
00:30:04,240 --> 00:30:08,980
update the target P you know we can

539
00:30:06,460 --> 00:30:11,789
update the target P right but we would

540
00:30:08,980 --> 00:30:14,589
want to say something like new target P

541
00:30:11,789 --> 00:30:17,309
right so in here we would say like okay

542
00:30:14,589 --> 00:30:17,309
target P

543
00:30:23,710 --> 00:30:29,660
so when we get our new target P and then

544
00:30:28,039 --> 00:30:31,789
of course down here we would want to map

545
00:30:29,660 --> 00:30:35,180
everybody back into the trunk space for

546
00:30:31,789 --> 00:30:38,409
storage when we get our new target P we

547
00:30:35,180 --> 00:30:41,990
now know when we get down here how far

548
00:30:38,410 --> 00:30:45,230
you know each of these things moved so

549
00:30:41,990 --> 00:30:47,150
we could say yeah if the amount that you

550
00:30:45,230 --> 00:30:48,710
wanted to move was greater than this you

551
00:30:47,150 --> 00:30:52,040
would just earth you would restart the

552
00:30:48,710 --> 00:30:54,920
interpolation but also if the target P

553
00:30:52,039 --> 00:30:56,509
itself moved enough you would want to

554
00:30:54,920 --> 00:31:00,560
restart the interpolation so it doesn't

555
00:30:56,509 --> 00:31:01,579
really matter how close they are and you

556
00:31:00,559 --> 00:31:03,109
know we probably could have solved that

557
00:31:01,579 --> 00:31:08,149
by just reducing this value but it just

558
00:31:03,109 --> 00:31:11,299
seems you know it just seems sensible

559
00:31:08,150 --> 00:31:13,130
there so if you move the target P or you

560
00:31:11,299 --> 00:31:19,700
move the new target P you know either

561
00:31:13,130 --> 00:31:21,290
way and then after that we set it up so

562
00:31:19,700 --> 00:31:25,809
if either of these moved an appreciable

563
00:31:21,289 --> 00:31:25,809
amount then we swap it over

564
00:31:35,240 --> 00:31:39,269
and if we're not in a room we if we are

565
00:31:37,710 --> 00:31:41,490
in some kind of error condition then we

566
00:31:39,269 --> 00:31:43,319
just don't update it right we just use

567
00:31:41,490 --> 00:31:46,470
whatever the last one was oops I messed

568
00:31:43,319 --> 00:31:56,879
something up there so yeah like we get

569
00:31:46,470 --> 00:32:04,980
all this stuff here camera simulation

570
00:31:56,880 --> 00:32:08,160
center should probably be handled

571
00:32:04,980 --> 00:32:11,640
outside as well but and we'll leave it

572
00:32:08,160 --> 00:32:13,740
leave it there so studying the new

573
00:32:11,640 --> 00:32:19,200
target P I missed one

574
00:32:13,740 --> 00:32:20,579
looks like you can see the target P down

575
00:32:19,200 --> 00:32:22,080
there I don't know what I did there

576
00:32:20,579 --> 00:32:25,379
accidentally when I was replacing that I

577
00:32:22,079 --> 00:32:34,649
just didn't go far enough right so

578
00:32:25,380 --> 00:32:39,799
that's the problem but yeah so let's see

579
00:32:34,650 --> 00:32:39,798
if we are going around here and

580
00:32:48,359 --> 00:32:54,609
that we're still glitching out I'm

581
00:32:51,849 --> 00:32:56,259
really not sure what that's run I'm not

582
00:32:54,609 --> 00:32:57,669
sure where else we'd get that I have to

583
00:32:56,259 --> 00:32:59,470
think of a good way to bug back because

584
00:32:57,670 --> 00:33:01,060
I'm not sure how to look at something

585
00:32:59,470 --> 00:33:03,600
that happens across that frame we'd have

586
00:33:01,059 --> 00:33:09,460
to figure out what was going on

587
00:33:03,599 --> 00:33:14,319
specially there cuz this should never do

588
00:33:09,460 --> 00:33:16,420
it right because from P just gets reset

589
00:33:14,319 --> 00:33:18,490
to P which would not move the camera

590
00:33:16,420 --> 00:33:20,170
if interpolation is set to zero because

591
00:33:18,490 --> 00:33:22,359
that you should come through with P

592
00:33:20,170 --> 00:33:30,840
equal to front P in that case cuz blend

593
00:33:22,359 --> 00:33:30,839
is zero right I mean in theory anyway

594
00:33:31,589 --> 00:33:42,579
look I don't see why we would get that

595
00:33:34,240 --> 00:33:46,140
discontinuous jump I'm curious if it has

596
00:33:42,579 --> 00:33:46,139
to do with that resetting or not

597
00:33:49,950 --> 00:33:56,140
since that's the area that we're having

598
00:33:52,210 --> 00:33:59,470
the bugging also I might say that now

599
00:33:56,140 --> 00:34:01,690
would be a good time to switch so that

600
00:33:59,470 --> 00:34:03,039
we don't have to hop out there since

601
00:34:01,690 --> 00:34:06,670
we're not getting that bug in other

602
00:34:03,039 --> 00:34:20,349
locations you're Mazal just start on the

603
00:34:06,670 --> 00:34:22,360
stairs so we can just hop right up it

604
00:34:20,349 --> 00:34:32,259
seems to mostly be about going down the

605
00:34:22,360 --> 00:34:35,349
stairs and you can see there's just a

606
00:34:32,260 --> 00:34:38,679
little glitchyness it's like things move

607
00:34:35,349 --> 00:34:42,279
it moves to the right a little bit which

608
00:34:38,679 --> 00:34:44,380
doesn't make a lot of sense because that

609
00:34:42,280 --> 00:34:48,419
wouldn't even like I don't even know how

610
00:34:44,380 --> 00:34:48,419
we would get that happening exactly

611
00:34:59,130 --> 00:35:06,860
like that's that's a saucy one that's a

612
00:35:02,010 --> 00:35:19,140
weird one because if we're blending from

613
00:35:06,860 --> 00:35:23,099
you know from this P to this P I'm not

614
00:35:19,139 --> 00:35:25,819
sure how the T interpolation value could

615
00:35:23,099 --> 00:35:35,299
ever be something that would produce a

616
00:35:25,820 --> 00:35:35,300
rightward motion like that unless this

617
00:35:37,699 --> 00:35:49,980
no I don't have an idea about why that

618
00:35:45,000 --> 00:35:55,679
would be happening but it does look like

619
00:35:49,980 --> 00:36:03,079
it has to do right with these two I also

620
00:35:55,679 --> 00:36:03,079
it's not gonna ever reset these up

621
00:36:04,280 --> 00:36:07,280
uh-huh

622
00:36:10,460 --> 00:36:16,500
that is what I had meant to type in I

623
00:36:13,440 --> 00:36:19,710
meant if we move either of those two

624
00:36:16,500 --> 00:36:24,510
things not if we move both of those two

625
00:36:19,710 --> 00:36:26,369
things I don't necessarily know that

626
00:36:24,510 --> 00:36:28,440
that was the problem but that was not

627
00:36:26,369 --> 00:36:31,109
what I meant to test for obvious reasons

628
00:36:28,440 --> 00:36:33,840
so I'm getting it even just there when I

629
00:36:31,110 --> 00:36:38,190
crossed the boundary it's glitchy right

630
00:36:33,840 --> 00:36:41,460
I don't know you may not be able to see

631
00:36:38,190 --> 00:36:45,720
that due to streaming effects but when I

632
00:36:41,460 --> 00:36:47,670
cross the boundary it glitches right so

633
00:36:45,719 --> 00:36:50,309
something's just busted I'm doing it I'm

634
00:36:47,670 --> 00:36:54,720
doing something backwards or stupid that

635
00:36:50,309 --> 00:36:58,250
I'm not understanding there right and

636
00:36:54,719 --> 00:36:58,250
I'm not sure what it is

637
00:37:00,869 --> 00:37:05,940
so again in theory if we map everything

638
00:37:03,568 --> 00:37:08,159
back into chunks face we should not be

639
00:37:05,940 --> 00:37:10,469
having any problems with origin movement

640
00:37:08,159 --> 00:37:12,899
because everything gets encoded in the

641
00:37:10,469 --> 00:37:15,229
same place and then gets decoded in the

642
00:37:12,900 --> 00:37:18,059
same place later

643
00:37:15,228 --> 00:37:22,228
so the sim region shouldn't be able to

644
00:37:18,059 --> 00:37:29,489
affect us here that makes sense it

645
00:37:22,228 --> 00:37:31,649
seemed like in this case we weren't

646
00:37:29,489 --> 00:37:36,929
really having much problems other than

647
00:37:31,650 --> 00:37:42,088
with this particular issue here so in

648
00:37:36,929 --> 00:37:43,768
terms of resetting the interpolator we

649
00:37:42,088 --> 00:37:47,608
didn't see this problem when we reset

650
00:37:43,768 --> 00:37:50,008
the interpolator only on room moves I

651
00:37:47,608 --> 00:37:51,228
would like to do something here where

652
00:37:50,009 --> 00:37:58,650
I'm just curious

653
00:37:51,228 --> 00:38:04,710
what happens if I what happens like am I

654
00:37:58,650 --> 00:38:07,009
ever like not in a room I because I

655
00:38:04,710 --> 00:38:07,009
don't know

656
00:38:11,340 --> 00:38:19,410
doesn't seem like it so that's good so

657
00:38:17,969 --> 00:38:21,959
we know we're always taking this code

658
00:38:19,409 --> 00:38:23,819
path for even when we're having the

659
00:38:21,960 --> 00:38:26,070
glitch so we know we can basically read

660
00:38:23,820 --> 00:38:28,950
this out of it and just say this is

661
00:38:26,070 --> 00:38:30,809
happening this whole thing right so we

662
00:38:28,949 --> 00:38:35,730
know we're looking at what the room

663
00:38:30,809 --> 00:38:39,869
looks like we know we're setting up the

664
00:38:35,730 --> 00:38:44,880
new target P based on the center of the

665
00:38:39,869 --> 00:38:49,670
room right we're gonna move the offset

666
00:38:44,880 --> 00:38:52,260
of that thing out from there somehow

667
00:38:49,670 --> 00:38:54,900
we're gonna reset the camera simulation

668
00:38:52,260 --> 00:39:05,750
center to be based on that simulation

669
00:38:54,900 --> 00:39:05,750
center yeah all that seems pretty normal

670
00:39:08,329 --> 00:39:19,170
and so then the only question here is

671
00:39:10,769 --> 00:39:20,550
like yeah you know I mean one thing is

672
00:39:19,170 --> 00:39:22,800
if you're still in the middle of an

673
00:39:20,550 --> 00:39:29,010
interpolation I guess one thing maybe

674
00:39:22,800 --> 00:39:31,820
you have to say is if if the

675
00:39:29,010 --> 00:39:31,820
interpolation

676
00:39:34,610 --> 00:39:42,090
if the target P changes discontinuously

677
00:39:38,929 --> 00:39:45,629
then I suppose we kind of always have

678
00:39:42,090 --> 00:39:47,579
that problem so I wonder if we yeah

679
00:39:45,630 --> 00:39:49,460
aren't just stuck back in the same

680
00:39:47,579 --> 00:39:52,139
position because now I think about it

681
00:39:49,460 --> 00:39:54,389
this is gonna have that problem period

682
00:39:52,139 --> 00:39:56,339
if we allow the target P to get updated

683
00:39:54,389 --> 00:39:58,109
then it can always get updated out from

684
00:39:56,340 --> 00:40:01,230
under us and if the target interpolation

685
00:39:58,110 --> 00:40:03,210
was 0.9 let's say and the and the new

686
00:40:01,230 --> 00:40:07,980
target moved is continuously this

687
00:40:03,210 --> 00:40:10,380
wouldn't run because of this check and

688
00:40:07,980 --> 00:40:11,909
so really we're just gonna have to deal

689
00:40:10,380 --> 00:40:17,160
with the fact that that new target moves

690
00:40:11,909 --> 00:40:18,989
and yeah and I don't really know what

691
00:40:17,159 --> 00:40:21,960
else we could really do about that so in

692
00:40:18,989 --> 00:40:25,250
terms of this what we would want to say

693
00:40:21,960 --> 00:40:27,318
is look if the interpolation is you

694
00:40:25,250 --> 00:40:34,750
one and the distance we would want to

695
00:40:27,318 --> 00:40:44,420
move is greater than that then we do

696
00:40:34,750 --> 00:40:46,190
right and I think we really don't need

697
00:40:44,420 --> 00:40:47,480
this extra truck I mean that that was

698
00:40:46,190 --> 00:40:49,990
probably a waste of time

699
00:40:47,480 --> 00:40:53,990
I just wasn't thinking of three right

700
00:40:49,989 --> 00:40:57,588
but new target P really shouldn't be

701
00:40:53,989 --> 00:41:00,469
allowed to it's got a very more

702
00:40:57,588 --> 00:41:04,190
continuously right so when we set new

703
00:41:00,469 --> 00:41:06,078
target P this you know this thing here

704
00:41:04,190 --> 00:41:07,550
we got to make that be something that's

705
00:41:06,079 --> 00:41:13,760
at least a linear interpolation or

706
00:41:07,550 --> 00:41:15,440
something right and so I think we do get

707
00:41:13,760 --> 00:41:18,560
back to what I was talking about here

708
00:41:15,440 --> 00:41:20,358
even though it seems like we could have

709
00:41:18,559 --> 00:41:22,369
handled it without that I'm not sure we

710
00:41:20,358 --> 00:41:24,710
really can I think we are gonna have to

711
00:41:22,369 --> 00:41:26,450
do the sort of more fuller featured part

712
00:41:24,710 --> 00:41:28,429
where we deal with the continuously

713
00:41:26,449 --> 00:41:32,989
moving new target as something real

714
00:41:28,429 --> 00:41:34,759
because we always could hop down like in

715
00:41:32,989 --> 00:41:38,029
some way that like we were doing there

716
00:41:34,760 --> 00:41:39,619
where we kind of need it to smooth out

717
00:41:38,030 --> 00:41:44,060
those motions and think about them more

718
00:41:39,619 --> 00:41:46,430
critically right so let me just verify

719
00:41:44,059 --> 00:41:49,909
that that's the case if I was to move

720
00:41:46,429 --> 00:41:59,299
new target piece smoothly would this

721
00:41:49,909 --> 00:42:01,389
work fine meaning if I was to say take

722
00:41:59,300 --> 00:42:04,489
this Delta

723
00:42:01,389 --> 00:42:04,489
[Music]

724
00:42:05,619 --> 00:42:14,710
get the length of it and then say if

725
00:42:16,150 --> 00:42:24,710
that length is less than some you know

726
00:42:21,858 --> 00:42:34,179
epsilon value don't care about then just

727
00:42:24,710 --> 00:42:34,179
set it but otherwise linearly move it

728
00:42:34,239 --> 00:42:39,529
between the two right and so I guess

729
00:42:38,088 --> 00:42:44,298
what I would say here is maybe this is

730
00:42:39,530 --> 00:42:45,710
like the target speed and whatever

731
00:42:44,298 --> 00:42:46,900
that's gonna be it's gonna be like DT

732
00:42:45,710 --> 00:42:49,400
times something

733
00:42:46,900 --> 00:42:56,599
so maybe the target speed actually is

734
00:42:49,400 --> 00:42:59,240
just DT I don't know so in the case

735
00:42:56,599 --> 00:43:02,000
where I would just move it however much

736
00:42:59,239 --> 00:43:07,568
I can move it or less we just set it

737
00:43:02,000 --> 00:43:12,139
directly otherwise I take the d target P

738
00:43:07,568 --> 00:43:20,690
times the max target speed and I add

739
00:43:12,139 --> 00:43:24,818
that right so I'm just moving the target

740
00:43:20,690 --> 00:43:24,818
like slowly kind of

741
00:43:31,130 --> 00:43:40,939
in that case so this would only be

742
00:43:36,639 --> 00:43:42,528
relevant in the case where you know in

743
00:43:40,938 --> 00:43:44,989
terms of moving the target slowly if

744
00:43:42,528 --> 00:43:48,318
we've started a new interpolation that's

745
00:43:44,989 --> 00:43:53,858
not necessary so we really only need to

746
00:43:48,318 --> 00:43:53,858
do this in that case so where we have

747
00:43:55,659 --> 00:44:02,078
where we have done this we can set them

748
00:43:58,278 --> 00:44:04,489
directly so we can just do you know that

749
00:44:02,079 --> 00:44:06,650
but in the other case we have to update

750
00:44:04,489 --> 00:44:10,130
the target continuously so that it

751
00:44:06,650 --> 00:44:14,119
doesn't cause a discontinuity you know

752
00:44:10,130 --> 00:44:17,209
or something like this so now you can

753
00:44:14,119 --> 00:44:22,249
see us having that target move around

754
00:44:17,208 --> 00:44:23,899
continuously right which again is not I

755
00:44:22,248 --> 00:44:25,159
think what we actually want to do but I

756
00:44:23,900 --> 00:44:27,108
just want to make sure that fixes the

757
00:44:25,159 --> 00:44:28,699
glitch bug and it does we do have a

758
00:44:27,108 --> 00:44:32,179
problem with we wanna like I said I

759
00:44:28,699 --> 00:44:35,088
think we want to make those alpha ranges

760
00:44:32,179 --> 00:44:36,379
be set more directly because we really

761
00:44:35,088 --> 00:44:39,009
don't want them interpolating at a

762
00:44:36,380 --> 00:44:39,009
separate rate

763
00:44:44,539 --> 00:44:51,269
um so that was definitely the problem

764
00:44:47,309 --> 00:44:53,759
and so now our question is just well

765
00:44:51,269 --> 00:44:55,739
okay if we know we have to do something

766
00:44:53,760 --> 00:44:58,500
better here what's the something better

767
00:44:55,739 --> 00:45:00,149
like if we know we've got to have some

768
00:44:58,500 --> 00:45:03,539
way that we smooth this out and we have

769
00:45:00,150 --> 00:45:08,309
certain requirements for how we want our

770
00:45:03,539 --> 00:45:10,730
camera to behave and so on you know what

771
00:45:08,309 --> 00:45:10,730
does that look like

772
00:45:22,369 --> 00:45:30,930
so I guess my first inclination is to

773
00:45:27,539 --> 00:45:33,119
say what if we made something where we

774
00:45:30,929 --> 00:45:34,739
look at the distance between where we

775
00:45:33,119 --> 00:45:40,680
would like the camera to be and where

776
00:45:34,739 --> 00:45:45,259
the camera is now and we map the what we

777
00:45:40,679 --> 00:45:45,259
would like the speed to be at that point

778
00:45:45,920 --> 00:45:54,750
we map what we would like the speed to

779
00:45:48,480 --> 00:45:57,230
be at that point and then we map that

780
00:45:54,750 --> 00:46:06,570
versus our current speed and we

781
00:45:57,230 --> 00:46:08,130
basically make those two things match I

782
00:46:06,570 --> 00:46:11,490
mean one way to say that would be right

783
00:46:08,130 --> 00:46:15,480
so we've got three phases the camera

784
00:46:11,489 --> 00:46:18,029
could be in we've got a min speed area

785
00:46:15,480 --> 00:46:19,858
we got a like an acceleration area a

786
00:46:18,030 --> 00:46:24,450
deceleration area and then a max speed

787
00:46:19,858 --> 00:46:27,239
area right and if we're far from the

788
00:46:24,449 --> 00:46:29,939
target and we've gotten into this region

789
00:46:27,239 --> 00:46:31,379
we would just stay here but then once we

790
00:46:29,940 --> 00:46:33,358
get closer to the target we go into our

791
00:46:31,380 --> 00:46:38,579
deceleration region and the speed should

792
00:46:33,358 --> 00:46:40,829
be proportional to this right I think we

793
00:46:38,579 --> 00:46:44,279
also want to try and get the velocity of

794
00:46:40,829 --> 00:46:46,920
the target so we'd like to know how fast

795
00:46:44,280 --> 00:46:48,690
the target is moving as well because we

796
00:46:46,920 --> 00:46:51,570
want to target where it's going to be

797
00:46:48,690 --> 00:46:59,820
not where it is because otherwise we're

798
00:46:51,570 --> 00:47:01,980
always a little bit behind right so

799
00:46:59,820 --> 00:47:06,600
let's see to what extent we can even get

800
00:47:01,980 --> 00:47:13,530
that information to start with so in the

801
00:47:06,599 --> 00:47:16,108
entity I don't actually know you know

802
00:47:13,530 --> 00:47:18,960
we've got the DP value here but I don't

803
00:47:16,108 --> 00:47:24,259
actually know if anyone is setting that

804
00:47:18,960 --> 00:47:28,260
value like the the P DP and DDP I

805
00:47:24,260 --> 00:47:31,970
suspect they're probably not so inside

806
00:47:28,260 --> 00:47:31,970
the entity like

807
00:47:35,478 --> 00:47:45,448
you know we never set that right so you

808
00:47:42,509 --> 00:47:47,400
know we could approximate it by looking

809
00:47:45,449 --> 00:47:49,679
at the difference between last frame and

810
00:47:47,400 --> 00:47:52,559
this frame for an MV and say well we

811
00:47:49,679 --> 00:47:57,418
assume that the motion will be similar

812
00:47:52,559 --> 00:47:58,829
to what it was last frame but that's

813
00:47:57,418 --> 00:48:01,288
still not quite right

814
00:47:58,829 --> 00:48:05,400
you know what we'd rather have is some

815
00:48:01,289 --> 00:48:11,278
notion of the speed that's set by the

816
00:48:05,400 --> 00:48:13,168
actual controllers so I guess I'll

817
00:48:11,278 --> 00:48:14,489
forego that part right now and then

818
00:48:13,168 --> 00:48:18,118
we'll try to get that in later because

819
00:48:14,489 --> 00:48:19,289
that'll be the harder part since we

820
00:48:18,119 --> 00:48:28,289
don't really have a way of getting it

821
00:48:19,289 --> 00:48:29,969
directly okay so and we kind of do know

822
00:48:28,289 --> 00:48:31,969
that because like we have a permanent

823
00:48:29,969 --> 00:48:38,338
placement point for this entity

824
00:48:31,969 --> 00:48:41,818
generally right there are world

825
00:48:38,338 --> 00:48:46,588
locations for each of these I think that

826
00:48:41,818 --> 00:48:49,259
we store at some point maybe not I guess

827
00:48:46,588 --> 00:48:55,018
we only store those in in actual stored

828
00:48:49,259 --> 00:48:57,088
entities but so we'll assume we can do

829
00:48:55,018 --> 00:48:58,498
something about that later

830
00:48:57,088 --> 00:49:05,338
but let's go ahead and look at this

831
00:48:58,498 --> 00:49:09,238
first so if we want to do something more

832
00:49:05,338 --> 00:49:12,208
sensible here then let's start storing

833
00:49:09,239 --> 00:49:17,400
some different parameters the first

834
00:49:12,208 --> 00:49:18,598
thing I want to do is let this let this

835
00:49:17,400 --> 00:49:22,499
thing happen the way that it was

836
00:49:18,599 --> 00:49:26,609
happening currently so meaning maybe

837
00:49:22,498 --> 00:49:28,848
let's switch back to inside a generic

838
00:49:26,608 --> 00:49:28,848
room

839
00:49:35,349 --> 00:49:41,319
and so if inside this room right we can

840
00:49:37,690 --> 00:49:42,880
hop from here not to here and we get our

841
00:49:41,320 --> 00:49:45,730
E's curve the way we wanted

842
00:49:42,880 --> 00:49:47,500
so let's recreate that eaves curve

843
00:49:45,730 --> 00:49:50,170
behavior let's see if we can recreate

844
00:49:47,500 --> 00:49:51,719
that without using the from concept and

845
00:49:50,170 --> 00:49:55,360
instead working mostly with

846
00:49:51,719 --> 00:49:57,789
accelerations you know what I mean

847
00:49:55,360 --> 00:50:03,070
so inside the world mode if I was to

848
00:49:57,789 --> 00:50:06,909
store instead of a frumpy and a target P

849
00:50:03,070 --> 00:50:12,220
if I was to for example not store the

850
00:50:06,909 --> 00:50:13,449
target P at all perhaps and I'm gonna

851
00:50:12,219 --> 00:50:23,019
get rid of the frumpy and the T

852
00:50:13,449 --> 00:50:24,939
interpolation but the target PE the

853
00:50:23,019 --> 00:50:26,320
target P I'm gonna say I'm gonna keep

854
00:50:24,940 --> 00:50:28,929
for now because I don't know if we're

855
00:50:26,320 --> 00:50:30,610
gonna need to track whether we're doing

856
00:50:28,929 --> 00:50:32,529
big Newt movements or small movements at

857
00:50:30,610 --> 00:50:35,950
any given time so I'm gonna say we keep

858
00:50:32,530 --> 00:50:37,900
that but from P is gonna go away so

859
00:50:35,949 --> 00:50:39,609
let's suppose we got rid of from piece

860
00:50:37,900 --> 00:50:41,800
we don't know anymore where we're coming

861
00:50:39,610 --> 00:50:43,660
from and let's suppose we got rid of

862
00:50:41,800 --> 00:50:45,490
this so we don't know this stuff for the

863
00:50:43,659 --> 00:50:47,679
T interpolation right we don't know any

864
00:50:45,489 --> 00:50:52,329
of that and we have to still do

865
00:50:47,679 --> 00:50:56,409
something relating to a an update of

866
00:50:52,329 --> 00:51:00,480
this form okay

867
00:50:56,409 --> 00:51:00,480
how will we how would we do it

868
00:51:08,170 --> 00:51:12,470
right so this is what we've got to work

869
00:51:10,280 --> 00:51:13,430
with we're just getting a target P in

870
00:51:12,469 --> 00:51:15,799
here

871
00:51:13,429 --> 00:51:19,009
and the only thing that we know that we

872
00:51:15,800 --> 00:51:22,130
can remember is basically like our speed

873
00:51:19,010 --> 00:51:24,320
right so our we're not we want we're not

874
00:51:22,130 --> 00:51:25,940
going to store our speed as a vector

875
00:51:24,320 --> 00:51:28,880
we're just going to store it as like a

876
00:51:25,940 --> 00:51:31,909
single value that we say like how fast

877
00:51:28,880 --> 00:51:37,450
like what's the throttle right and it'll

878
00:51:31,909 --> 00:51:41,059
start at zero and go up some max value

879
00:51:37,449 --> 00:51:44,719
so then I'll see you like max camera

880
00:51:41,059 --> 00:51:47,960
speed something here right or maybe I'll

881
00:51:44,719 --> 00:51:51,139
just say DP Max and you know the DP max

882
00:51:47,960 --> 00:51:53,480
is whatever it is and that's that that's

883
00:51:51,139 --> 00:51:56,449
so that's the maximum DP we could get up

884
00:51:53,480 --> 00:52:00,740
to you know and we'll set this value of

885
00:51:56,449 --> 00:52:02,689
something else later or maybe you want

886
00:52:00,739 --> 00:52:02,929
to now I think about it let's not do

887
00:52:02,690 --> 00:52:05,690
that

888
00:52:02,929 --> 00:52:08,179
let's say the DP let's say this is

889
00:52:05,690 --> 00:52:10,639
between zero and one always and then

890
00:52:08,179 --> 00:52:13,039
we'll just multiply it out right so

891
00:52:10,639 --> 00:52:15,109
we'll say one is maximum speed and we

892
00:52:13,039 --> 00:52:16,579
multiply that by a speed coefficient

893
00:52:15,110 --> 00:52:19,599
later but we always just consider it

894
00:52:16,579 --> 00:52:19,599
going between zero and one

895
00:52:20,260 --> 00:52:29,630
okay so now let's look and get some

896
00:52:25,699 --> 00:52:32,659
information about our our behavior here

897
00:52:29,630 --> 00:52:35,510
so we know that we're going to target P

898
00:52:32,659 --> 00:52:39,440
and we know we're coming from P so this

899
00:52:35,510 --> 00:52:41,180
is the Delta P meaning it's not the

900
00:52:39,440 --> 00:52:43,579
derivative of P but it's the it's the

901
00:52:41,179 --> 00:52:46,159
total Delta right it's how far we would

902
00:52:43,579 --> 00:52:49,489
need to go you might even call it the

903
00:52:46,159 --> 00:52:51,440
desired Delta P or total Delta P right

904
00:52:49,489 --> 00:52:55,219
so that's the amount that we would need

905
00:52:51,440 --> 00:52:58,070
to move to get the full to just go

906
00:52:55,219 --> 00:52:59,209
directly where the camera system wants

907
00:52:58,070 --> 00:53:03,710
to view the world from at this

908
00:52:59,210 --> 00:53:08,750
particular time so we know that length

909
00:53:03,710 --> 00:53:12,019
of that vector and we can now consider

910
00:53:08,750 --> 00:53:14,869
mapping that into a space that looks

911
00:53:12,019 --> 00:53:18,349
like this potentially right meaning we

912
00:53:14,869 --> 00:53:22,309
know how we know how

913
00:53:18,349 --> 00:53:25,069
we could go and so we could say well if

914
00:53:22,309 --> 00:53:30,320
we were at this location where would we

915
00:53:25,070 --> 00:53:32,269
be ideally on this curve meaning what do

916
00:53:30,320 --> 00:53:36,200
we want our deceleration region to look

917
00:53:32,269 --> 00:53:38,750
like in terms of something spatial you

918
00:53:36,199 --> 00:53:40,399
know what's a what's the distance out at

919
00:53:38,750 --> 00:53:42,440
which we would start slowing down and

920
00:53:40,400 --> 00:53:44,389
what's the distance here where we would

921
00:53:42,440 --> 00:53:47,450
start accelerating right in this curve

922
00:53:44,389 --> 00:53:49,699
here and I mean it's basically like oh

923
00:53:47,449 --> 00:53:51,349
you know maybe we we do this over the

924
00:53:49,699 --> 00:53:53,750
course of like one meter or something

925
00:53:51,349 --> 00:53:56,360
you know what I mean so what we could

926
00:53:53,750 --> 00:53:58,550
say here is like let let's map into that

927
00:53:56,360 --> 00:54:02,720
space where we expect that fall-off

928
00:53:58,550 --> 00:54:07,300
curve to actually be in terms of taking

929
00:54:02,719 --> 00:54:15,469
Delta steps along it and then we could

930
00:54:07,300 --> 00:54:25,250
you know make that total work out seems

931
00:54:15,469 --> 00:54:27,619
plausible anyway seems plausible um so

932
00:54:25,250 --> 00:54:29,659
if we wanted to do that then what we

933
00:54:27,619 --> 00:54:37,789
could say is we could almost make like a

934
00:54:29,659 --> 00:54:40,879
fictional construction of of where we

935
00:54:37,789 --> 00:54:44,630
are on this curve and solve for that in

936
00:54:40,880 --> 00:54:51,140
a sense I know that sounds kind of weird

937
00:54:44,630 --> 00:54:54,829
but we could still update as if we were

938
00:54:51,139 --> 00:54:57,679
going to always lurk from you know from

939
00:54:54,829 --> 00:55:00,139
a location to another location along

940
00:54:57,679 --> 00:55:03,529
that curve and we would just reconstruct

941
00:55:00,139 --> 00:55:05,920
what the location should actually be you

942
00:55:03,530 --> 00:55:05,920
know what I mean

943
00:55:10,670 --> 00:55:13,670
yeah

944
00:55:21,449 --> 00:55:25,319
that all seems pretty plausible to me so

945
00:55:24,179 --> 00:55:31,919
let's skip that what that would look

946
00:55:25,320 --> 00:55:38,579
like if the total length here is greater

947
00:55:31,920 --> 00:55:41,250
than the the cooldown distance right so

948
00:55:38,579 --> 00:55:42,269
whatever we want that like I guess we

949
00:55:41,250 --> 00:55:44,849
whatever we call that

950
00:55:42,269 --> 00:55:48,119
acceleration/deceleration so we'd call

951
00:55:44,849 --> 00:55:50,940
this the D cell range right so this is

952
00:55:48,119 --> 00:55:52,920
the range over which we decelerate and

953
00:55:50,940 --> 00:55:54,510
who knows what that is right so maybe we

954
00:55:52,920 --> 00:55:57,059
say we've got an AK cell range of 1

955
00:55:54,510 --> 00:55:59,700
meter a deceleration range of 1 meter

956
00:55:57,059 --> 00:56:03,059
right and then we've got a total Delta P

957
00:55:59,699 --> 00:56:05,039
length that tells us where we how far we

958
00:56:03,059 --> 00:56:07,230
are from the target so if we're in

959
00:56:05,039 --> 00:56:10,440
deceleration range we do one thing you

960
00:56:07,230 --> 00:56:12,750
know what I mean otherwise we do

961
00:56:10,440 --> 00:56:15,150
something else so if we're in the

962
00:56:12,750 --> 00:56:16,829
deceleration range then what we need to

963
00:56:15,150 --> 00:56:19,079
do is figure out where in the

964
00:56:16,829 --> 00:56:23,039
deceleration range we are and that would

965
00:56:19,079 --> 00:56:25,710
set our deceleration and in theory we

966
00:56:23,039 --> 00:56:29,279
could just do that directly so I think

967
00:56:25,710 --> 00:56:31,050
and maybe this is just stupid but I

968
00:56:29,280 --> 00:56:33,960
think what we could do there is say

969
00:56:31,050 --> 00:56:38,310
whatever our deceleration range is let's

970
00:56:33,960 --> 00:56:40,588
just always I'm sorry less than whatever

971
00:56:38,309 --> 00:56:42,750
our deceleration range is let's just

972
00:56:40,588 --> 00:56:48,420
pretend that we map the curve into that

973
00:56:42,750 --> 00:56:49,980
space and finish that way there's a

974
00:56:48,420 --> 00:56:59,670
couple of different ways we could do

975
00:56:49,980 --> 00:57:05,068
this my thinking is that you solve the

976
00:56:59,670 --> 00:57:12,170
curve for where you are in the

977
00:57:05,068 --> 00:57:12,170
deceleration and put the P back that far

978
00:57:13,920 --> 00:57:24,750
does that make sense because we have one

979
00:57:23,159 --> 00:57:27,239
more piece of information which is what

980
00:57:24,750 --> 00:57:35,460
the speed was that we were traveling at

981
00:57:27,239 --> 00:57:39,419
at that time right and we know you know

982
00:57:35,460 --> 00:57:41,699
we know what that is if you look at you

983
00:57:39,420 --> 00:57:45,930
know in terms of the speed of the T

984
00:57:41,699 --> 00:57:48,029
parameter right the Delta that's passing

985
00:57:45,929 --> 00:57:49,940
that's being passed in there I mean we

986
00:57:48,030 --> 00:57:54,810
can even do it with finite differencing

987
00:57:49,940 --> 00:57:56,849
by looking at at the two values but in

988
00:57:54,809 --> 00:58:00,150
terms of getting the derivative of this

989
00:57:56,849 --> 00:58:03,239
key value you know you can compute it

990
00:58:00,150 --> 00:58:06,150
directly by just saying well it's a

991
00:58:03,239 --> 00:58:08,489
times T times T you know this was T to

992
00:58:06,150 --> 00:58:11,780
the third so it'd be three times eight

993
00:58:08,489 --> 00:58:18,809
times three times two right plus two

994
00:58:11,780 --> 00:58:21,000
times B times T plus you know C so we

995
00:58:18,809 --> 00:58:25,559
can compute the derivative of the input

996
00:58:21,000 --> 00:58:27,869
value trivially and since we know that

997
00:58:25,559 --> 00:58:29,699
these are we're constant values there we

998
00:58:27,869 --> 00:58:34,319
know what the derivative is is just D

999
00:58:29,699 --> 00:58:37,529
blend times those values like we can we

1000
00:58:34,320 --> 00:58:40,530
can do that derivative directly as well

1001
00:58:37,530 --> 00:58:43,230
so we'd be able to compute what we were

1002
00:58:40,530 --> 00:58:45,180
actually using as a speed wherever we

1003
00:58:43,230 --> 00:58:48,210
are in these curves pretty trivially by

1004
00:58:45,179 --> 00:58:50,879
just setting D blend however we want I

1005
00:58:48,210 --> 00:58:52,159
mean just computing D blend whenever we

1006
00:58:50,880 --> 00:58:54,960
want

1007
00:58:52,159 --> 00:58:56,879
so that should be possible as well let's

1008
00:58:54,960 --> 00:59:00,599
transfer how we would want to set this

1009
00:58:56,880 --> 00:59:04,050
up and it's kind of a little bit of a

1010
00:59:00,599 --> 00:59:11,190
mind bender so if you imagine us going

1011
00:59:04,050 --> 00:59:13,680
from one location to another then if you

1012
00:59:11,190 --> 00:59:16,380
were to set up what the curve should

1013
00:59:13,679 --> 00:59:19,458
look like there

1014
00:59:16,380 --> 00:59:19,459
[Music]

1015
00:59:20,139 --> 00:59:26,298
you would want to set the maximum speed

1016
00:59:24,048 --> 00:59:28,608
you're going to hit based on that

1017
00:59:26,298 --> 00:59:32,000
distance and then do a little ease and

1018
00:59:28,608 --> 00:59:34,269
ease out of just that much probably

1019
00:59:32,000 --> 00:59:34,269
right

1020
00:59:40,119 --> 00:59:44,069
I would think

1021
00:59:55,588 --> 01:00:06,578
hmm meaning like based on where you are

1022
01:00:02,108 --> 01:00:10,900
and whatever your speed was you can then

1023
01:00:06,579 --> 01:00:12,940
say well if I was going to assume that

1024
01:00:10,900 --> 01:00:17,039
my speed was based on some other

1025
01:00:12,940 --> 01:00:17,039
position what would that position be

1026
01:00:17,338 --> 01:00:26,230
right so you know meaning in this

1027
01:00:23,769 --> 01:00:28,869
construction if I take a look in my

1028
01:00:26,230 --> 01:00:32,139
speed is whatever it is X or something

1029
01:00:28,869 --> 01:00:36,010
right or s then I know there are two

1030
01:00:32,139 --> 01:00:39,848
places on the curve I could be right I

1031
01:00:36,010 --> 01:00:46,900
could be here or I could be here you

1032
01:00:39,849 --> 01:00:49,690
know what I mean and so if I look and I

1033
01:00:46,900 --> 01:00:53,470
say I'm this distance away from the

1034
01:00:49,690 --> 01:00:58,079
thing I know that this stuff always

1035
01:00:53,469 --> 01:00:58,078
looks a particular way

1036
01:01:03,949 --> 01:01:09,649
then there are some ambiguities I guess

1037
01:01:06,800 --> 01:01:14,300
which is like if you don't know whether

1038
01:01:09,650 --> 01:01:16,880
or not you ever hit your max speed so I

1039
01:01:14,300 --> 01:01:18,260
don't know it might behoove us to try

1040
01:01:16,880 --> 01:01:20,410
and remember whether we're in the

1041
01:01:18,260 --> 01:01:24,079
acceleration or the deceleration region

1042
01:01:20,409 --> 01:01:31,039
meaning if you stored your DP and your

1043
01:01:24,079 --> 01:01:38,240
DDP so you had both the acceleration and

1044
01:01:31,039 --> 01:01:40,099
velocity then you could differentiate

1045
01:01:38,239 --> 01:01:42,049
between the acceleration region and the

1046
01:01:40,099 --> 01:01:51,859
deceleration region by looking at what

1047
01:01:42,050 --> 01:02:03,800
your what your DDP was yeah you know and

1048
01:01:51,858 --> 01:02:06,170
again if we looked at at the if we look

1049
01:02:03,800 --> 01:02:08,150
at the equations you can figure out

1050
01:02:06,170 --> 01:02:14,440
pretty easily what that's going to be

1051
01:02:08,150 --> 01:02:14,440
because if this was your equation then

1052
01:02:14,739 --> 01:02:24,108
then again I can just do the same thing

1053
01:02:17,480 --> 01:02:29,588
it's going to be six right times 82

1054
01:02:24,108 --> 01:02:29,588
times B and this is just going to be

1055
01:02:30,849 --> 01:02:37,750
zero sorry what right

1056
01:02:38,400 --> 01:02:44,199
is that right because yes see to the

1057
01:02:41,978 --> 01:02:46,448
first is one time see to the zeroth

1058
01:02:44,199 --> 01:02:50,019
which is one which is just one

1059
01:02:46,449 --> 01:02:50,739
I believe that's my story and I'm

1060
01:02:50,018 --> 01:02:56,919
sticking to it

1061
01:02:50,739 --> 01:03:01,929
oh wait no that's a constant that's not

1062
01:02:56,920 --> 01:03:04,930
a variable so it's just that right it's

1063
01:03:01,929 --> 01:03:07,629
C times T so this is T to the zeroeth so

1064
01:03:04,929 --> 01:03:09,759
T to the zeroth does not appear anymore

1065
01:03:07,630 --> 01:03:12,249
so it doesn't get a derivative so I

1066
01:03:09,759 --> 01:03:20,108
think we could just we would know all

1067
01:03:12,248 --> 01:03:21,639
these values and could store them and so

1068
01:03:20,108 --> 01:03:23,348
then we would kind of know where on that

1069
01:03:21,639 --> 01:03:24,458
curve we were I guess I mean the other

1070
01:03:23,349 --> 01:03:26,829
question though is why wouldn't you just

1071
01:03:24,458 --> 01:03:32,259
store T what why would you just store

1072
01:03:26,829 --> 01:03:34,839
what your T value actually was and maybe

1073
01:03:32,259 --> 01:03:38,349
that's a better idea it's like look this

1074
01:03:34,838 --> 01:03:39,728
is where we were on the curve and I

1075
01:03:38,349 --> 01:03:42,249
guess the reason not to do that is

1076
01:03:39,728 --> 01:03:46,748
because as it moves around you want to

1077
01:03:42,248 --> 01:03:48,698
preserve you know these are the values

1078
01:03:46,748 --> 01:03:50,738
you wanted to preserve meaning you

1079
01:03:48,699 --> 01:03:54,688
wanted to save you wanted your velocity

1080
01:03:50,739 --> 01:03:57,579
and acceleration to stay the same and

1081
01:03:54,688 --> 01:04:00,009
you wanted them to match you know what I

1082
01:03:57,579 --> 01:04:01,568
mean but you're creating a new curve so

1083
01:04:00,009 --> 01:04:03,608
you might be at a different place on a

1084
01:04:01,568 --> 01:04:07,179
new curve and the Delta that you'll

1085
01:04:03,608 --> 01:04:09,489
apply will be different so you really

1086
01:04:07,179 --> 01:04:11,739
want to match the actual physical values

1087
01:04:09,489 --> 01:04:13,329
that the player could perceive not the

1088
01:04:11,739 --> 01:04:18,159
internal T value which doesn't mean

1089
01:04:13,329 --> 01:04:20,979
anything to them you know so like I said

1090
01:04:18,159 --> 01:04:22,629
this stuff is very much more of a black

1091
01:04:20,978 --> 01:04:24,578
art once you get outside of just doing

1092
01:04:22,630 --> 01:04:26,108
friends and twos because you can see why

1093
01:04:24,579 --> 01:04:27,278
there's a lot more complication here and

1094
01:04:26,108 --> 01:04:29,170
you have to kind of define something

1095
01:04:27,278 --> 01:04:32,548
very nebulous as to what's supposed to

1096
01:04:29,170 --> 01:04:36,849
be going on and it makes it pretty hard

1097
01:04:32,548 --> 01:04:40,268
but if I want to push forward on that

1098
01:04:36,849 --> 01:04:42,099
right so let's see what we get here so

1099
01:04:40,268 --> 01:04:43,198
I'm gonna look I'm gonna what I'm going

1100
01:04:42,099 --> 01:04:46,119
to do here is I'm going to look at the

1101
01:04:43,199 --> 01:04:48,548
DDP and the DP valve stuff like that I'm

1102
01:04:46,119 --> 01:04:50,829
gonna try and figure out what's going on

1103
01:04:48,548 --> 01:04:53,530
in terms of

1104
01:04:50,829 --> 01:04:55,769
how to apply those and go from there

1105
01:04:53,530 --> 01:04:55,769
okay

1106
01:04:58,059 --> 01:05:13,809
so let's suppose that I am in the you

1107
01:05:07,179 --> 01:05:16,449
know I am looking at where I was and I

1108
01:05:13,809 --> 01:05:19,989
know so I know I've got a DDP and a DP

1109
01:05:16,449 --> 01:05:23,469
let's say I want to solve for the curve

1110
01:05:19,989 --> 01:05:28,839
that would get me there and that has

1111
01:05:23,469 --> 01:05:31,869
those two values right so I want to

1112
01:05:28,840 --> 01:05:38,769
solve essentially for the you know the V

1113
01:05:31,869 --> 01:05:44,079
and use that would produce those values

1114
01:05:38,769 --> 01:05:50,949
now I can look at this more as a 2d

1115
01:05:44,079 --> 01:05:52,509
curve and but I don't think I want to I

1116
01:05:50,949 --> 01:06:03,009
think I just want to look at it as a 1d

1117
01:05:52,510 --> 01:06:04,930
curve with a fixed shape right so I

1118
01:06:03,010 --> 01:06:09,340
think what I want to do is try to solve

1119
01:06:04,929 --> 01:06:15,789
like I want to try to solve this as a

1120
01:06:09,340 --> 01:06:21,700
sort of puzzle of the form okay I know

1121
01:06:15,789 --> 01:06:30,130
that I have a curve I know that the

1122
01:06:21,699 --> 01:06:34,179
curve looks like something and I don't

1123
01:06:30,130 --> 01:06:37,480
know what this is I'm going to call that

1124
01:06:34,179 --> 01:06:47,679
D for now so the length between here and

1125
01:06:37,480 --> 01:06:51,550
here is D right and what I now have is I

1126
01:06:47,679 --> 01:06:57,299
have a camera position somewhere along

1127
01:06:51,550 --> 01:06:57,300
this which we'll call P right

1128
01:06:57,789 --> 01:07:03,050
now what I don't know is I don't know

1129
01:07:01,820 --> 01:07:05,809
where I started from

1130
01:07:03,050 --> 01:07:10,700
and I don't know where I'm going on any

1131
01:07:05,809 --> 01:07:13,219
previous frame so at some point the

1132
01:07:10,699 --> 01:07:16,039
camera was like here and was asked to go

1133
01:07:13,219 --> 01:07:18,379
to here and it started moving and it

1134
01:07:16,039 --> 01:07:22,279
eventually got to like here at this

1135
01:07:18,380 --> 01:07:24,380
speed right this is the speed it

1136
01:07:22,280 --> 01:07:25,760
eventually got up to the speed and what

1137
01:07:24,380 --> 01:07:28,579
I know is that it will continue to

1138
01:07:25,760 --> 01:07:29,840
travel at that maximum speed until it

1139
01:07:28,579 --> 01:07:35,029
gets close enough to the point to

1140
01:07:29,840 --> 01:07:38,630
decelerate right this is sort of what

1141
01:07:35,030 --> 01:07:39,830
I'm talking about here um and then when

1142
01:07:38,630 --> 01:07:44,119
it gets to that point it will decelerate

1143
01:07:39,829 --> 01:07:49,909
down and and then will be you know will

1144
01:07:44,119 --> 01:08:01,489
be done does that make sense so I want

1145
01:07:49,909 --> 01:08:04,219
to kind of solve for that behavior and

1146
01:08:01,489 --> 01:08:08,179
there's really one other annoying point

1147
01:08:04,219 --> 01:08:11,209
about that and that is if the curve was

1148
01:08:08,179 --> 01:08:18,349
to collapsed so let's suppose that

1149
01:08:11,210 --> 01:08:23,000
actually you know if this is the those

1150
01:08:18,350 --> 01:08:29,390
two regions if they were to overlap like

1151
01:08:23,000 --> 01:08:33,130
this so you had you know this and oops

1152
01:08:29,390 --> 01:08:33,130
should draw that differently

1153
01:08:43,800 --> 01:08:48,550
so in this case right if I've got a

1154
01:08:46,840 --> 01:08:53,319
thing that's like kind of going up like

1155
01:08:48,550 --> 01:08:58,420
that and then I got another curve that's

1156
01:08:53,319 --> 01:09:01,960
kind of going like that then there's

1157
01:08:58,420 --> 01:09:04,630
actually a point here where we have a

1158
01:09:01,960 --> 01:09:09,189
different max speed now because we can

1159
01:09:04,630 --> 01:09:12,430
never get up to the other max speed and

1160
01:09:09,189 --> 01:09:14,649
I don't know what we want to do there it

1161
01:09:12,430 --> 01:09:16,840
makes a difference because if this is a

1162
01:09:14,649 --> 01:09:19,029
constant versus a variable it makes a

1163
01:09:16,840 --> 01:09:20,680
difference so if if our max speed is

1164
01:09:19,029 --> 01:09:23,619
something we always know exactly what it

1165
01:09:20,680 --> 01:09:26,190
is and when these two things overlap

1166
01:09:23,619 --> 01:09:28,239
then we just they there's a discount

1167
01:09:26,189 --> 01:09:30,549
discontinuous acceleration at that point

1168
01:09:28,239 --> 01:09:32,108
I don't know how bad that is like one

1169
01:09:30,550 --> 01:09:34,329
way or the other I don't know whether we

1170
01:09:32,109 --> 01:09:37,300
need to treat this as something that

1171
01:09:34,329 --> 01:09:41,289
kind of goes more like that you know

1172
01:09:37,300 --> 01:09:44,550
what I mean so I guess we'll cross that

1173
01:09:41,289 --> 01:09:51,340
bridge you know when we come to it

1174
01:09:44,550 --> 01:09:53,800
all right um so let's assume for

1175
01:09:51,340 --> 01:09:56,650
something to start off with a little bit

1176
01:09:53,800 --> 01:09:58,600
easier let's assume that we were always

1177
01:09:56,649 --> 01:10:00,489
gonna solve for like a single one of

1178
01:09:58,600 --> 01:10:02,829
these maybe I guess rather than the slit

1179
01:10:00,489 --> 01:10:06,760
in half one so let's suppose we were

1180
01:10:02,829 --> 01:10:09,029
always solving for a parabola curve so

1181
01:10:06,760 --> 01:10:14,110
we know that we're just going to do that

1182
01:10:09,029 --> 01:10:17,229
and so we have a particular location

1183
01:10:14,109 --> 01:10:19,179
along the curve that we are and we have

1184
01:10:17,229 --> 01:10:21,669
a particular destination that we know we

1185
01:10:19,180 --> 01:10:24,490
want to get to and so the question is

1186
01:10:21,670 --> 01:10:28,630
just where on the curve are we so we

1187
01:10:24,489 --> 01:10:34,750
want to solve for T in an equation that

1188
01:10:28,630 --> 01:10:39,340
looks like this right and that's because

1189
01:10:34,750 --> 01:10:42,420
we actually had an F an integral F here

1190
01:10:39,340 --> 01:10:42,420
that was our original

1191
01:10:46,960 --> 01:10:53,390
right and so we knew that we took the

1192
01:10:50,329 --> 01:10:57,500
derivative of that and we got this so

1193
01:10:53,390 --> 01:10:58,430
it's actually like that you know what I

1194
01:10:57,500 --> 01:11:00,380
mean

1195
01:10:58,430 --> 01:11:05,449
but it's of that form it's a quadratic

1196
01:11:00,380 --> 01:11:09,710
of that form so if we know this value if

1197
01:11:05,448 --> 01:11:11,659
we know F prime of T right which we

1198
01:11:09,710 --> 01:11:14,989
would know because we're storing it it's

1199
01:11:11,659 --> 01:11:17,809
the speed if we know F prime of T then

1200
01:11:14,988 --> 01:11:21,500
we would know what T was because we can

1201
01:11:17,810 --> 01:11:26,420
solve for T right it's a quadratic

1202
01:11:21,500 --> 01:11:29,600
equation with a solution and so we can

1203
01:11:26,420 --> 01:11:31,690
do the what is it I don't even remember

1204
01:11:29,600 --> 01:11:39,560
the quadratic equation at this point

1205
01:11:31,689 --> 01:11:43,609
it's a mmm it's like you know - it's

1206
01:11:39,560 --> 01:11:50,770
like you know - the plus or minus square

1207
01:11:43,609 --> 01:11:55,479
root of 5 over 4 AC you know some

1208
01:11:50,770 --> 01:11:55,480
nonsense like this what is it

1209
01:11:56,890 --> 01:11:59,890
know

1210
01:12:00,079 --> 01:12:12,769
it's something more like this and I'm

1211
01:12:04,489 --> 01:12:22,010
saying um what is it show me the

1212
01:12:12,770 --> 01:12:24,740
equation please I was close it's not C

1213
01:12:22,010 --> 01:12:27,140
square it's B squared so it's negative B

1214
01:12:24,739 --> 01:12:29,599
plus or minus b squared minus 4ac all

1215
01:12:27,140 --> 01:12:32,210
over 2a so weird how you like sort of

1216
01:12:29,600 --> 01:12:35,630
vaguely remember these things when you

1217
01:12:32,210 --> 01:12:38,720
haven't done math in a while so I can

1218
01:12:35,630 --> 01:12:43,130
solve for this and I'm going to get two

1219
01:12:38,720 --> 01:12:49,610
answers to where that derivative was

1220
01:12:43,130 --> 01:12:52,329
equal to that value right so I'm gonna

1221
01:12:49,609 --> 01:12:55,880
get two answers to like where the motion

1222
01:12:52,329 --> 01:12:58,250
where the speed was equal to that the

1223
01:12:55,880 --> 01:12:59,840
reason for that is because well and I

1224
01:12:58,250 --> 01:13:02,149
guess now I think about it that's the

1225
01:12:59,840 --> 01:13:07,039
solution if we are actually solving the

1226
01:13:02,149 --> 01:13:10,250
cubic itself but if you think about it

1227
01:13:07,039 --> 01:13:14,390
if we just want to know on here on the

1228
01:13:10,250 --> 01:13:22,340
speed curve where we were that's easier

1229
01:13:14,390 --> 01:13:23,630
because the speed curve is actually the

1230
01:13:22,340 --> 01:13:26,600
speed curve is actually going to be

1231
01:13:23,630 --> 01:13:30,289
broken into two parts there and we know

1232
01:13:26,600 --> 01:13:33,610
the other derivative right we know we

1233
01:13:30,289 --> 01:13:42,340
could store that as well right so the

1234
01:13:33,609 --> 01:13:42,339
680 plus 2b we know that 2

1235
01:13:45,060 --> 01:13:50,190
and so in a sense we can just solve for

1236
01:13:47,729 --> 01:13:52,199
that one probably right couldn't we if

1237
01:13:50,189 --> 01:13:55,469
we just stored our acceleration whatever

1238
01:13:52,199 --> 01:13:57,149
our acceleration was I mean correct me

1239
01:13:55,470 --> 01:13:58,829
if I'm wrong but why can't why couldn't

1240
01:13:57,149 --> 01:14:04,069
we just say here's what our acceleration

1241
01:13:58,829 --> 01:14:06,600
was and then get back the value and

1242
01:14:04,069 --> 01:14:08,489
that's simplest because that doesn't

1243
01:14:06,600 --> 01:14:11,420
involve a quadratic equation so I'm not

1244
01:14:08,489 --> 01:14:11,420
sure why we wouldn't do that

1245
01:14:11,479 --> 01:14:18,779
that seems better so let's see we just

1246
01:14:16,260 --> 01:14:20,489
did that because then we could solve

1247
01:14:18,779 --> 01:14:21,960
that directly meaning if we store this

1248
01:14:20,489 --> 01:14:24,300
value and we want to know where in the

1249
01:14:21,960 --> 01:14:26,579
curve we were on the new curve so we're

1250
01:14:24,300 --> 01:14:28,170
mapping from the old curve to the new

1251
01:14:26,579 --> 01:14:32,789
curve because it might be the same but

1252
01:14:28,170 --> 01:14:36,600
it might be different right then

1253
01:14:32,789 --> 01:14:39,800
determine where we were on the curve we

1254
01:14:36,600 --> 01:14:44,370
could just map it backwards and say well

1255
01:14:39,800 --> 01:14:46,110
we know a we know B in this case and so

1256
01:14:44,369 --> 01:14:49,409
to map it backwards onto this curve we

1257
01:14:46,109 --> 01:14:56,299
would solve the equation for t minus 2p

1258
01:14:49,409 --> 01:14:59,250
u divided by 6 a so you know be that um

1259
01:14:56,300 --> 01:15:01,680
but the problem is that's not in world

1260
01:14:59,250 --> 01:15:04,409
space right so that assumes that we were

1261
01:15:01,680 --> 01:15:06,869
interpolating these two this way and we

1262
01:15:04,409 --> 01:15:08,939
need to actually look at what that speed

1263
01:15:06,869 --> 01:15:11,729
would be so there's actually a

1264
01:15:08,939 --> 01:15:15,149
multiplier here of another value right

1265
01:15:11,729 --> 01:15:19,109
and that value is this is that whatever

1266
01:15:15,149 --> 01:15:25,829
that stretch is does that make sense

1267
01:15:19,109 --> 01:15:32,939
so really the speed is this multiplied

1268
01:15:25,829 --> 01:15:35,100
by the distance right so whatever that

1269
01:15:32,939 --> 01:15:39,689
distance is has to get multiplied in

1270
01:15:35,100 --> 01:15:44,220
here so you might say the speed is 680

1271
01:15:39,689 --> 01:15:48,210
plus 2b times whatever this length is so

1272
01:15:44,220 --> 01:15:54,260
the length of like P target minus P

1273
01:15:48,210 --> 01:15:57,649
current or ya you know whatever that is

1274
01:15:54,260 --> 01:15:57,650
you know what I mean

1275
01:15:58,738 --> 01:16:03,750
so if we think about it more from that

1276
01:16:00,750 --> 01:16:06,479
perspective so what we actually stored

1277
01:16:03,750 --> 01:16:08,880
was this value and we need to get this

1278
01:16:06,479 --> 01:16:11,428
back then that's when this becomes a

1279
01:16:08,880 --> 01:16:14,460
harder problem because we don't actually

1280
01:16:11,429 --> 01:16:20,699
know what this value is either so we

1281
01:16:14,460 --> 01:16:25,139
really have two unknowns we have we

1282
01:16:20,698 --> 01:16:29,789
don't know what T is and we also don't

1283
01:16:25,139 --> 01:16:30,929
know what the distance is right now the

1284
01:16:29,789 --> 01:16:32,488
reason we don't know what the distance

1285
01:16:30,929 --> 01:16:35,190
is is because the whole thing we're

1286
01:16:32,488 --> 01:16:38,789
talking about here is to solve for what

1287
01:16:35,189 --> 01:16:46,710
the curve would have been so if we were

1288
01:16:38,789 --> 01:16:55,859
to parameterize this on two things the

1289
01:16:46,710 --> 01:17:03,569
total length of the curve right and then

1290
01:16:55,859 --> 01:17:06,420
the T along curve then we know we can

1291
01:17:03,569 --> 01:17:08,309
always perform our update as we wish and

1292
01:17:06,420 --> 01:17:12,359
we can store the information that we

1293
01:17:08,310 --> 01:17:14,789
wanted to store it right but what we

1294
01:17:12,359 --> 01:17:18,299
have to do is we have to solve properly

1295
01:17:14,789 --> 01:17:21,600
for these things so if we have a total

1296
01:17:18,300 --> 01:17:24,630
curve length then what we would be

1297
01:17:21,600 --> 01:17:27,120
saying is the difference you know the

1298
01:17:24,630 --> 01:17:31,289
way that we're updating it is we have a

1299
01:17:27,119 --> 01:17:36,059
T plus delta-t right

1300
01:17:31,289 --> 01:17:41,399
and so our f is this meaning the the

1301
01:17:36,060 --> 01:17:43,230
amount of change is going to be T

1302
01:17:41,399 --> 01:17:46,769
whatever the time is plus whatever the

1303
01:17:43,229 --> 01:17:49,138
delta time is right so if we want to

1304
01:17:46,770 --> 01:17:52,980
know how far along the curve we're going

1305
01:17:49,139 --> 01:17:54,630
to go you know and we've got so in here

1306
01:17:52,979 --> 01:17:58,079
right we want to figure out what's going

1307
01:17:54,630 --> 01:18:04,260
on here then you know in theory this

1308
01:17:58,079 --> 01:18:07,319
works meaning we just need to know

1309
01:18:04,260 --> 01:18:10,869
whatever the the function of T was at

1310
01:18:07,319 --> 01:18:15,189
the time plus whatever the function

1311
01:18:10,868 --> 01:18:18,519
the delta T was you know what I mean now

1312
01:18:15,189 --> 01:18:21,609
this we don't care about because this is

1313
01:18:18,520 --> 01:18:23,469
where we are right this is just P we

1314
01:18:21,609 --> 01:18:25,359
don't need to compute that so all we

1315
01:18:23,469 --> 01:18:28,689
need to do is compute the derivative to

1316
01:18:25,359 --> 01:18:29,408
move us along the trajectory we're

1317
01:18:28,689 --> 01:18:32,079
trying to go

1318
01:18:29,408 --> 01:18:35,799
we know the delta T right because the

1319
01:18:32,079 --> 01:18:39,849
delta T is what's passed in its this

1320
01:18:35,800 --> 01:18:41,920
value right here so that's a trivial

1321
01:18:39,849 --> 01:18:43,210
thing to get as well so really what

1322
01:18:41,920 --> 01:18:45,969
we're talking about is what's the F

1323
01:18:43,210 --> 01:18:51,300
prime well we already said that the F

1324
01:18:45,969 --> 01:19:02,079
prime when you pass this thing in right

1325
01:18:51,300 --> 01:19:07,329
is and you know what I may have jumped

1326
01:19:02,079 --> 01:19:17,670
the gun there a little bit it's not that

1327
01:19:07,329 --> 01:19:21,368
it's delta T times f prime of T my bad

1328
01:19:17,670 --> 01:19:29,920
right that would be the the update if

1329
01:19:21,368 --> 01:19:31,238
you're moving along it um and really I

1330
01:19:29,920 --> 01:19:33,940
guess I don't need to go that route

1331
01:19:31,238 --> 01:19:35,618
because again if I know F prime of T I

1332
01:19:33,939 --> 01:19:38,769
can just set my location there and then

1333
01:19:35,618 --> 01:19:40,750
I just remember the derivative so really

1334
01:19:38,770 --> 01:19:43,420
what we're doing here is just using the

1335
01:19:40,750 --> 01:19:45,039
derivative as a map so all this is we

1336
01:19:43,420 --> 01:19:48,130
don't even need this for an update and

1337
01:19:45,039 --> 01:19:50,560
don't think of it that way right all

1338
01:19:48,130 --> 01:19:53,170
we're doing is saving what this was so

1339
01:19:50,560 --> 01:19:56,020
that when we do our next time we will

1340
01:19:53,170 --> 01:19:58,929
keep the same apparent change in

1341
01:19:56,020 --> 01:20:01,679
velocity so it's smooth does that make

1342
01:19:58,929 --> 01:20:06,449
sense so I need to know my F prime of T

1343
01:20:01,679 --> 01:20:09,368
so if I in obviously my F of T as well

1344
01:20:06,448 --> 01:20:11,799
so if I'm going to update with an F of T

1345
01:20:09,368 --> 01:20:14,098
and I know that my F of T looks like

1346
01:20:11,800 --> 01:20:14,099
this

1347
01:20:18,538 --> 01:20:23,228
right I know that's what that looks like

1348
01:20:20,729 --> 01:20:28,599
but the way that's actually going to be

1349
01:20:23,229 --> 01:20:31,420
interpreted is this way how do I turn

1350
01:20:28,599 --> 01:20:33,369
that around so if I was doing this and

1351
01:20:31,420 --> 01:20:36,609
let's assign this to some value you for

1352
01:20:33,368 --> 01:20:39,880
convenience if I know that I have a P

1353
01:20:36,609 --> 01:20:42,488
you know from and I was going to do 1

1354
01:20:39,880 --> 01:20:43,868
minus u times that and then I was you

1355
01:20:42,488 --> 01:20:46,419
know because we're doing a loop here and

1356
01:20:43,868 --> 01:20:48,880
then over here I was going to do u times

1357
01:20:46,420 --> 01:20:52,510
whatever the target is how do I

1358
01:20:48,880 --> 01:20:57,429
rearrange that to only really talk about

1359
01:20:52,510 --> 01:20:59,710
the change in those two right well if I

1360
01:20:57,429 --> 01:21:05,469
multiply that out I would get P of F

1361
01:20:59,710 --> 01:21:10,170
minus u P of F Plus u P of T right which

1362
01:21:05,469 --> 01:21:11,979
is another way of just saying P of F I

1363
01:21:10,170 --> 01:21:15,880
don't know if you can see this I might

1364
01:21:11,979 --> 01:21:19,869
swap these around Plus u PT minus UPF

1365
01:21:15,880 --> 01:21:27,729
right so it's really just P of F plus u

1366
01:21:19,868 --> 01:21:29,698
times PT minus PF so my update function

1367
01:21:27,729 --> 01:21:34,800
because this is where I'm coming from

1368
01:21:29,698 --> 01:21:39,460
right wherever it was I'm Jimmy hmm and

1369
01:21:34,800 --> 01:21:43,210
this is where I'm going to so my Delta

1370
01:21:39,460 --> 01:21:46,630
update here in this case could be

1371
01:21:43,210 --> 01:21:48,880
phrased in terms terms of the difference

1372
01:21:46,630 --> 01:21:51,219
between these two values which I could

1373
01:21:48,880 --> 01:21:56,069
just consider a single value for all

1374
01:21:51,219 --> 01:21:56,069
intents and purposes right meaning

1375
01:21:58,078 --> 01:22:05,819
trying to think of how to put this into

1376
01:22:01,899 --> 01:22:05,819
a phrase that makes sense

1377
01:22:12,739 --> 01:22:17,840
this value is the entirety of what

1378
01:22:15,710 --> 01:22:20,180
determines my velocity I guess it's time

1379
01:22:17,840 --> 01:22:22,970
trying to say it the derivative of this

1380
01:22:20,180 --> 01:22:24,770
is nothing it doesn't have T in it

1381
01:22:22,970 --> 01:22:26,780
because U is the only thing that

1382
01:22:24,770 --> 01:22:30,380
contains any T's here probably shouldn't

1383
01:22:26,779 --> 01:22:34,789
use T for that um so if I consider this

1384
01:22:30,380 --> 01:22:37,069
to be some P from value plus au times

1385
01:22:34,789 --> 01:22:41,510
some Delta value right this is some

1386
01:22:37,069 --> 01:22:43,729
Delta P value okay then I know that this

1387
01:22:41,510 --> 01:22:52,060
is the entirety of my derivative

1388
01:22:43,729 --> 01:22:56,449
function right so my f prime of my T

1389
01:22:52,060 --> 01:23:00,380
here or you know and I could start from

1390
01:22:56,449 --> 01:23:03,409
here my F of T if that is pf+

1391
01:23:00,380 --> 01:23:08,600
and remember U is this nonsense up here

1392
01:23:03,409 --> 01:23:14,300
so it's a t cubed plus BT squared plus C

1393
01:23:08,600 --> 01:23:16,100
right so if this is the way I phrase my

1394
01:23:14,300 --> 01:23:18,970
function start at the starting location

1395
01:23:16,100 --> 01:23:22,100
which we don't know what it is right

1396
01:23:18,970 --> 01:23:23,570
it's just somewhere that you started

1397
01:23:22,100 --> 01:23:25,850
from we don't know then we're going to

1398
01:23:23,569 --> 01:23:27,619
the update here the nice part is once I

1399
01:23:25,850 --> 01:23:29,660
take the derivative if that's what I'm

1400
01:23:27,619 --> 01:23:32,059
mapping from this goes away and that was

1401
01:23:29,659 --> 01:23:34,729
what I was trying to get at so we're

1402
01:23:32,060 --> 01:23:37,310
left with effectively two unknowns here

1403
01:23:34,729 --> 01:23:41,359
for our purposes because Delta P's

1404
01:23:37,310 --> 01:23:42,650
Direction is known it's always in the

1405
01:23:41,359 --> 01:23:45,409
direction of the target from where we

1406
01:23:42,649 --> 01:23:51,739
are so the only thing we didn't know is

1407
01:23:45,409 --> 01:23:53,029
how long is it right and you might say

1408
01:23:51,739 --> 01:23:55,130
well you know how long it is it's just

1409
01:23:53,029 --> 01:23:56,929
how long from our current location to

1410
01:23:55,130 --> 01:23:59,029
where it is is that's the length no

1411
01:23:56,930 --> 01:24:00,800
because we're talking about a curve that

1412
01:23:59,029 --> 01:24:02,559
may have been executing for some time

1413
01:24:00,800 --> 01:24:05,390
and we're in the middle of it so

1414
01:24:02,560 --> 01:24:06,920
actually this extends behind us and

1415
01:24:05,390 --> 01:24:10,460
that's the whole thing that we're trying

1416
01:24:06,920 --> 01:24:12,739
to get to right so once we take the F

1417
01:24:10,460 --> 01:24:15,380
prime of T then what we're going to get

1418
01:24:12,739 --> 01:24:19,069
here is this is effectively a scalar

1419
01:24:15,380 --> 01:24:21,650
value so we have Delta P let's pretend

1420
01:24:19,069 --> 01:24:26,599
it's in the front times all of our junk

1421
01:24:21,649 --> 01:24:29,299
and Jimmy

1422
01:24:26,599 --> 01:24:31,279
in order to do that derivative it's

1423
01:24:29,300 --> 01:24:32,690
pretty simple we can still do exactly

1424
01:24:31,279 --> 01:24:34,099
what you did it before because this

1425
01:24:32,689 --> 01:24:36,500
Delta P can just multiplying to

1426
01:24:34,099 --> 01:24:42,199
everything right so we would just have

1427
01:24:36,500 --> 01:24:47,779
Delta P 80 cubed plus Delta P be T

1428
01:24:42,198 --> 01:24:54,169
squared plus Delta P C and let me just

1429
01:24:47,779 --> 01:24:57,618
get rid of that for a second right this

1430
01:24:54,170 --> 01:24:59,719
is not varying but it is a variable and

1431
01:24:57,618 --> 01:25:00,979
so when we take the derivative we're

1432
01:24:59,719 --> 01:25:05,210
still left with the exact same answer

1433
01:25:00,979 --> 01:25:16,129
it's three Delta P 80 squared plus 2

1434
01:25:05,210 --> 01:25:18,679
Delta P PT plus Delta P ok so if we

1435
01:25:16,130 --> 01:25:26,328
store both of these things which again

1436
01:25:18,679 --> 01:25:28,639
we can take it again so if we start both

1437
01:25:26,328 --> 01:25:30,710
of these values we would have two

1438
01:25:28,639 --> 01:25:35,659
equations in two unknowns and we could

1439
01:25:30,710 --> 01:25:37,639
get back our T value right we could get

1440
01:25:35,658 --> 01:25:43,598
back whatever the T value was supposed

1441
01:25:37,639 --> 01:25:47,270
to be and whatever our delta p value was

1442
01:25:43,599 --> 01:25:49,960
so if we want to match the velocity and

1443
01:25:47,270 --> 01:25:49,960
the acceleration

1444
01:25:50,800 --> 01:25:57,529
what would our Delta P have to be now

1445
01:25:53,960 --> 01:26:00,399
and what would our T have to be now to

1446
01:25:57,529 --> 01:26:00,399
produce that answer

1447
01:26:07,159 --> 01:26:16,319
right so it's somewhat nasty like I'm

1448
01:26:14,520 --> 01:26:24,780
not sure we really want to do this

1449
01:26:16,319 --> 01:26:26,519
because it seems kind of crazy but not

1450
01:26:24,779 --> 01:26:28,109
sure what else you would do it seems

1451
01:26:26,520 --> 01:26:37,770
like you would have to solve a cubic

1452
01:26:28,109 --> 01:26:39,539
here which doesn't seem good you know

1453
01:26:37,770 --> 01:26:41,670
maybe that's not true so I'm not sure

1454
01:26:39,539 --> 01:26:43,529
how you would go about actually solving

1455
01:26:41,670 --> 01:26:48,720
this you know if you look at this

1456
01:26:43,529 --> 01:26:53,969
equation if you solve if you solve this

1457
01:26:48,720 --> 01:26:57,360
in terms of the quadratic you would get

1458
01:26:53,970 --> 01:27:05,520
T equals you know negative B which is

1459
01:26:57,359 --> 01:27:10,469
this term so negative 2 Delta P be plus

1460
01:27:05,520 --> 01:27:11,580
or minus square root of B squared so

1461
01:27:10,470 --> 01:27:14,250
it's that again

1462
01:27:11,579 --> 01:27:23,809
so you would end up with a delta you

1463
01:27:14,250 --> 01:27:23,810
would end up with a delta P B squared

1464
01:27:25,590 --> 01:27:34,739
right minus 4ac so you'd have Delta P a

1465
01:27:34,920 --> 01:27:42,279
or a delta p c is just Delta P so it'd

1466
01:27:38,289 --> 01:27:50,769
be again a Delta P squared in there over

1467
01:27:42,279 --> 01:27:54,009
to a so to a Delta P so you'd end up

1468
01:27:50,770 --> 01:27:58,360
with something like this for your

1469
01:27:54,010 --> 01:28:02,560
solution for T in terms of Delta P which

1470
01:27:58,359 --> 01:28:04,899
is not pretty as you might expect now

1471
01:28:02,560 --> 01:28:07,600
there are some nice aspects of it so

1472
01:28:04,899 --> 01:28:11,349
since there's a delta p squared in here

1473
01:28:07,600 --> 01:28:15,070
that actually would pull out of the root

1474
01:28:11,350 --> 01:28:16,390
term I believe because inside there what

1475
01:28:15,069 --> 01:28:23,819
you're actually left with is Delta P

1476
01:28:16,390 --> 01:28:28,869
squared times B squared minus 4a and so

1477
01:28:23,819 --> 01:28:32,259
the square root of that should

1478
01:28:28,869 --> 01:28:34,599
distribute just fine right so you should

1479
01:28:32,260 --> 01:28:44,350
be able to pull that out and effectively

1480
01:28:34,600 --> 01:28:47,380
get rid of it and you know what that's

1481
01:28:44,350 --> 01:28:48,789
actually obvious so the reason that's

1482
01:28:47,380 --> 01:28:50,140
obvious is because if you look at what

1483
01:28:48,789 --> 01:28:52,000
happens here there's a delta P in every

1484
01:28:50,140 --> 01:28:53,980
term so you could have just divided the

1485
01:28:52,000 --> 01:28:57,850
entire thing by Delta P and you'd be

1486
01:28:53,979 --> 01:29:00,039
done so actually it doesn't depend at

1487
01:28:57,850 --> 01:29:02,260
all on that I guess unless I'm wrong

1488
01:29:00,039 --> 01:29:04,329
which means you actually can solve for

1489
01:29:02,260 --> 01:29:06,539
the T without knowing what that Delta

1490
01:29:04,329 --> 01:29:06,539
was

1491
01:29:12,710 --> 01:29:25,340
sort of ah no you know why because we're

1492
01:29:21,590 --> 01:29:26,810
not solving for zero that's why what

1493
01:29:25,340 --> 01:29:29,779
we're actually solving for here is a

1494
01:29:26,810 --> 01:29:32,150
value that we had before that's the

1495
01:29:29,779 --> 01:29:34,279
problem so you know in here we're going

1496
01:29:32,149 --> 01:29:36,949
to have some some value that actually we

1497
01:29:34,279 --> 01:29:39,229
want to to to maintain you know whatever

1498
01:29:36,949 --> 01:29:41,869
the previous value was you know call it

1499
01:29:39,229 --> 01:29:42,939
whatever you want call it X or something

1500
01:29:41,869 --> 01:29:46,699
right

1501
01:29:42,939 --> 01:29:48,589
so we since there's an X here that x

1502
01:29:46,699 --> 01:29:51,769
value which is the value that we're

1503
01:29:48,590 --> 01:29:54,710
solving for comes to the other side so

1504
01:29:51,770 --> 01:29:58,700
you've really got an additional term

1505
01:29:54,710 --> 01:30:02,840
here which is that this C is minus X

1506
01:29:58,699 --> 01:30:09,380
right so in the 4ac you'd actually have

1507
01:30:02,840 --> 01:30:15,500
two terms there yeah so again it's just

1508
01:30:09,380 --> 01:30:17,449
pretty nasty I'm not sure I mean we can

1509
01:30:15,500 --> 01:30:19,159
solve it and we can we could use

1510
01:30:17,449 --> 01:30:20,869
computer algebra system to solve it to

1511
01:30:19,159 --> 01:30:26,329
so we wouldn't make so we wouldn't

1512
01:30:20,869 --> 01:30:28,519
necessarily make any mistakes but it

1513
01:30:26,329 --> 01:30:30,738
does seem a little over complicated for

1514
01:30:28,520 --> 01:30:34,540
what I would like you know what I mean I

1515
01:30:30,738 --> 01:30:37,069
would like to just be able to say look

1516
01:30:34,539 --> 01:30:40,539
let's just map this to a curve that

1517
01:30:37,069 --> 01:30:40,539
would make sense for where we are

1518
01:30:44,350 --> 01:30:47,829
and if that makes sense

1519
01:31:20,520 --> 01:31:39,780
I can't think of any other way to do

1520
01:31:30,359 --> 01:31:42,630
this I don't think you could do this

1521
01:31:39,779 --> 01:31:45,929
meaning I don't think if you look and

1522
01:31:42,630 --> 01:31:48,869
you actually stored this instead which

1523
01:31:45,930 --> 01:31:53,640
would get rid of the actual T value so

1524
01:31:48,869 --> 01:31:56,970
you'd end up just going hey whatever

1525
01:31:53,640 --> 01:32:05,910
your triple derivative is takes T out

1526
01:31:56,970 --> 01:32:12,090
and so you know you've got you know

1527
01:32:05,909 --> 01:32:15,809
you've got a correspondence between your

1528
01:32:12,090 --> 01:32:24,270
old 6pa and your new 6pa and so you just

1529
01:32:15,810 --> 01:32:27,390
solve for that first I mean I guess one

1530
01:32:24,270 --> 01:32:31,040
thing is could you just store what the

1531
01:32:27,390 --> 01:32:31,039
length was last time

1532
01:32:40,958 --> 01:32:45,130
and then when you go to use the length

1533
01:32:43,538 --> 01:32:46,688
this time you just look at the

1534
01:32:45,130 --> 01:32:49,949
difference between those two things to

1535
01:32:46,689 --> 01:32:49,949
determine what you're going to do

1536
01:33:00,250 --> 01:33:03,819
yeah I really don't know

1537
01:33:19,949 --> 01:33:23,159
[Music]

1538
01:33:41,979 --> 01:33:46,739
so I guess what I'm leaning towards is

1539
01:33:51,689 --> 01:34:02,799
suppose I were to store where I was on

1540
01:33:57,300 --> 01:34:09,639
this and its derivatives and I just said

1541
01:34:02,800 --> 01:34:11,619
I want to or maybe I just said I want to

1542
01:34:09,639 --> 01:34:18,239
construct something such that the

1543
01:34:11,618 --> 01:34:18,238
derivatives match maybe so

1544
01:34:26,630 --> 01:34:41,748
so you know the idea here is I want to

1545
01:34:31,948 --> 01:34:45,029
make sure that you know F prime of T and

1546
01:34:41,748 --> 01:34:48,809
what if I were to say that he is

1547
01:34:45,029 --> 01:34:54,929
actually gonna be something that we know

1548
01:34:48,809 --> 01:34:58,979
what it is so we're always looking to

1549
01:34:54,929 --> 01:35:02,840
take this same step if I only wanted to

1550
01:34:58,979 --> 01:35:04,918
do Delta P right that would be easier

1551
01:35:02,840 --> 01:35:06,929
basically if I can specify one or the

1552
01:35:04,918 --> 01:35:11,219
other it makes it extremely easy the

1553
01:35:06,929 --> 01:35:15,118
problem is having both trying to back

1554
01:35:11,219 --> 01:35:19,649
figure out what would happen seems bad I

1555
01:35:15,118 --> 01:35:21,538
I could try if I formulate this I could

1556
01:35:19,649 --> 01:35:25,229
try just seeing what the solution ends

1557
01:35:21,538 --> 01:35:27,448
up being if I just let if I just let it

1558
01:35:25,229 --> 01:35:28,829
plug and chug so I don't do it I'll it

1559
01:35:27,448 --> 01:35:30,748
because I would definitely make a

1560
01:35:28,828 --> 01:35:33,630
mistake if I tried to go through that

1561
01:35:30,748 --> 01:35:36,359
entire thing especially on this kind of

1562
01:35:33,630 --> 01:35:37,708
large blackboard thing it's bad enough

1563
01:35:36,359 --> 01:35:40,098
on a piece of graph paper it'd be awful

1564
01:35:37,708 --> 01:35:40,099
on here

1565
01:35:40,368 --> 01:35:51,238
so if we were actually to call this you

1566
01:35:43,918 --> 01:35:54,679
know the function this you know what

1567
01:35:51,238 --> 01:35:59,759
what would happen there so if this was

1568
01:35:54,679 --> 01:36:04,578
if we were trying to solve this to

1569
01:35:59,760 --> 01:36:09,510
maintain our velocity and our

1570
01:36:04,578 --> 01:36:12,688
acceleration and so we actually had all

1571
01:36:09,510 --> 01:36:14,159
names for each of these things so let me

1572
01:36:12,689 --> 01:36:19,489
try to make it a little bit more

1573
01:36:14,158 --> 01:36:25,708
concrete so if I say my f of T equals

1574
01:36:19,488 --> 01:36:29,098
the you know initial position plus the

1575
01:36:25,708 --> 01:36:30,630
Delta P right I don't want to call it

1576
01:36:29,099 --> 01:36:33,479
Delta P cuz that's gonna be hard to put

1577
01:36:30,630 --> 01:36:35,840
into a career algebra system so I'm

1578
01:36:33,479 --> 01:36:37,840
going to call that I guess D for Delta

1579
01:36:35,840 --> 01:36:46,458
right

1580
01:36:37,840 --> 01:36:53,199
time's my tea terms so I would say a chi

1581
01:36:46,458 --> 01:36:56,420
cubed plus B T squared plus C T uh and

1582
01:36:53,198 --> 01:37:00,198
in our case we don't really have a CT

1583
01:36:56,420 --> 01:37:02,929
per se do we we I think we set that

1584
01:37:00,198 --> 01:37:05,208
actually out to zero so oh no it equals

1585
01:37:02,929 --> 01:37:08,389
no it does it's zero so there actually

1586
01:37:05,208 --> 01:37:09,769
is no C term but we'll solve for it

1587
01:37:08,389 --> 01:37:11,479
anyway in case we want to play with

1588
01:37:09,769 --> 01:37:15,289
those I guess if we're gonna be computer

1589
01:37:11,479 --> 01:37:18,979
algebra yet so our derivative here as we

1590
01:37:15,288 --> 01:37:21,050
know is going to just be the derivative

1591
01:37:18,979 --> 01:37:25,489
of this thing with D tacked onto it

1592
01:37:21,050 --> 01:37:27,380
right because D doesn't change I mean

1593
01:37:25,488 --> 01:37:28,908
it's not a constant but it's not a

1594
01:37:27,380 --> 01:37:30,920
variable I know that's a weird thing to

1595
01:37:28,908 --> 01:37:32,058
say but it's not it's like a partial

1596
01:37:30,920 --> 01:37:33,769
derivative in this case it's not

1597
01:37:32,059 --> 01:37:36,769
relevant to the thing we're actually

1598
01:37:33,769 --> 01:37:41,310
solving so you know in this case we

1599
01:37:36,769 --> 01:37:43,119
would say okay it's D I'm sorry 3 dat

1600
01:37:41,310 --> 01:37:54,260
[Music]

1601
01:37:43,118 --> 01:37:57,938
squared plus 2 DB T plus DC and we know

1602
01:37:54,260 --> 01:38:01,219
we want to solve that for some previous

1603
01:37:57,939 --> 01:38:02,809
acceleration here so I guess I don't

1604
01:38:01,219 --> 01:38:04,429
know what we'll call that but I guess

1605
01:38:02,809 --> 01:38:07,400
we'll call the derivative of T we'll

1606
01:38:04,429 --> 01:38:10,939
call that you so since we want that to

1607
01:38:07,399 --> 01:38:15,158
actually be u in this case we want to

1608
01:38:10,939 --> 01:38:24,199
say it's 3 D 8 T squared plus T DB T

1609
01:38:15,158 --> 01:38:28,719
plus DC minus u then if we take the

1610
01:38:24,198 --> 01:38:33,078
derivative one more time of that right

1611
01:38:28,719 --> 01:38:43,208
then that is 3 D that's all right

1612
01:38:33,078 --> 01:38:43,208
6 da plus 2 DB and that all goes away

1613
01:38:52,060 --> 01:39:00,430
this here is zero and zero and so these

1614
01:38:57,020 --> 01:39:04,060
are the equations we're trying to solve

1615
01:39:00,430 --> 01:39:04,060
this has a T in it

1616
01:39:04,180 --> 01:39:11,329
right so looking at this I guess I don't

1617
01:39:09,529 --> 01:39:12,889
know maybe did I make a mistake here but

1618
01:39:11,329 --> 01:39:18,109
it looks like actually for the double

1619
01:39:12,890 --> 01:39:19,610
derivative this would this is gonna be

1620
01:39:18,109 --> 01:39:26,000
something too so maybe we'll say that's

1621
01:39:19,609 --> 01:39:28,069
V right so if we are recording U and V

1622
01:39:26,000 --> 01:39:31,369
and we want to match them we end up with

1623
01:39:28,069 --> 01:39:44,299
this equation which actually is quite

1624
01:39:31,369 --> 01:39:49,880
easy to solve for T right so you know

1625
01:39:44,300 --> 01:39:53,350
that part's not that hard it's only

1626
01:39:49,880 --> 01:39:53,350
really this one that becomes a bear

1627
01:39:57,260 --> 01:40:03,940
so let's say let's let's double check

1628
01:39:59,090 --> 01:40:03,940
our math there let's get let's get a I

1629
01:40:06,130 --> 01:40:10,250
guess just Wolfram now for the best

1630
01:40:08,869 --> 01:40:24,859
place to do this I'm not sure who's the

1631
01:40:10,250 --> 01:40:31,840
best to solve here I don't know how we

1632
01:40:24,859 --> 01:40:31,839
tell it to solve multiple equations

1633
01:40:48,670 --> 01:40:56,480
yeah here it is

1634
01:40:52,270 --> 01:40:58,250
so I guess you do like commas here and

1635
01:40:56,479 --> 01:41:00,439
I'm not sure how you specify what you're

1636
01:40:58,250 --> 01:41:03,949
trying to solve for it looks like you

1637
01:41:00,439 --> 01:41:16,519
say for after it so I guess you would

1638
01:41:03,949 --> 01:41:22,729
say for X Y that seems right so we have

1639
01:41:16,520 --> 01:41:23,840
two equations here they are we have and

1640
01:41:22,729 --> 01:41:29,209
I guess we can just write it directly

1641
01:41:23,840 --> 01:41:34,789
which is U equals 3 dat squared plus 2

1642
01:41:29,210 --> 01:41:44,659
bTW that's all right DB T squared that's

1643
01:41:34,789 --> 01:41:50,210
squared plus DC right and then our other

1644
01:41:44,659 --> 01:41:55,279
equation is V equals 60 80 plus 2 V DB

1645
01:41:50,210 --> 01:41:57,829
oh those don't appear it's not what I

1646
01:41:55,279 --> 01:42:00,130
wanted so we want it to solve for D and

1647
01:41:57,829 --> 01:42:00,130
T

1648
01:42:06,310 --> 01:42:15,600
oh hey did I do something wrong there

1649
01:42:23,930 --> 01:42:43,110
do I need to do this any better this

1650
01:42:41,909 --> 01:42:44,488
always happens when I try to use

1651
01:42:43,109 --> 01:42:46,829
computer algebra systems I never know

1652
01:42:44,488 --> 01:42:48,959
how to get them to do what I want so you

1653
01:42:46,829 --> 01:43:01,710
can see how ridiculously ugly that is

1654
01:42:48,960 --> 01:43:09,810
right it don't look good I mean there's

1655
01:43:01,710 --> 01:43:11,579
the solution and maybe we should just

1656
01:43:09,810 --> 01:43:13,170
try it but it doesn't seem like a good

1657
01:43:11,579 --> 01:43:16,380
idea and debugging it would be a

1658
01:43:13,170 --> 01:43:18,480
nightmare right because it's not an

1659
01:43:16,380 --> 01:43:20,039
intuitive like there's nothing you can

1660
01:43:18,479 --> 01:43:22,529
really pick out about this I mean look

1661
01:43:20,039 --> 01:43:25,619
at what it might mean you've got like

1662
01:43:22,529 --> 01:43:28,409
sort of maybe a little bit like the

1663
01:43:25,619 --> 01:43:30,930
combined length of the a B vectors here

1664
01:43:28,409 --> 01:43:35,159
and then some I mean yeah it's not

1665
01:43:30,930 --> 01:43:36,449
really you know I don't I don't see a

1666
01:43:35,159 --> 01:43:38,519
lot of way we would build a physical

1667
01:43:36,448 --> 01:43:40,529
integration out of that and Mathematica

1668
01:43:38,520 --> 01:43:41,910
is horrible for that like it's really

1669
01:43:40,529 --> 01:43:43,529
hard to get it to give you something

1670
01:43:41,909 --> 01:43:45,000
that you can then reason about it just

1671
01:43:43,529 --> 01:43:48,939
kind of dumps out a giant scale or

1672
01:43:45,000 --> 01:43:52,109
nonsense about you and off you go

1673
01:43:48,939 --> 01:43:52,109
[Music]

1674
01:43:55,560 --> 01:44:07,950
ah so I don't know I don't have really

1675
01:44:05,039 --> 01:44:12,170
any good ideas right now I feel like I

1676
01:44:07,949 --> 01:44:12,170
want to percolate this it on this a bit

1677
01:44:21,208 --> 01:44:26,938
I guess one other thing we could look at

1678
01:44:24,029 --> 01:44:33,179
is maybe what if we looked at it more

1679
01:44:26,939 --> 01:44:34,530
like we just want to have a consistent

1680
01:44:33,179 --> 01:44:39,090
way of accelerating and decelerating

1681
01:44:34,529 --> 01:44:42,029
that follows our curve but we just

1682
01:44:39,090 --> 01:44:44,880
always map it into the same size curve

1683
01:44:42,029 --> 01:44:47,130
and we just say well wherever we would

1684
01:44:44,880 --> 01:44:50,038
want to be on the curve we figure out

1685
01:44:47,130 --> 01:44:55,529
that location based on where we are now

1686
01:44:50,038 --> 01:45:00,238
and we step based on that curve so we

1687
01:44:55,529 --> 01:45:03,259
just look at our current velocity you

1688
01:45:00,238 --> 01:45:06,299
know and we just solved based on that

1689
01:45:03,260 --> 01:45:09,059
because again you know solving this just

1690
01:45:06,300 --> 01:45:13,860
for one of these variables is actually

1691
01:45:09,059 --> 01:45:21,559
much easier right if we just wanted to

1692
01:45:13,859 --> 01:45:21,558
get rid of the D you know what I mean

1693
01:45:26,149 --> 01:45:31,099
if all we were doing was solving for T

1694
01:45:28,489 --> 01:45:36,109
then it's really straightforward it's

1695
01:45:31,100 --> 01:45:38,900
just a basic quadratic and you could

1696
01:45:36,109 --> 01:45:40,759
even solve the other you could even

1697
01:45:38,899 --> 01:45:44,149
solve the second the acceleration

1698
01:45:40,760 --> 01:45:47,570
instead and then it's not even that so

1699
01:45:44,149 --> 01:45:49,939
you know 60 80 plus 2 DB right if we

1700
01:45:47,569 --> 01:46:02,989
just said well yeah okay so it's V

1701
01:45:49,939 --> 01:46:08,210
equals 6 80 plus 2 like that you know

1702
01:46:02,989 --> 01:46:11,510
that's even easier right so if we wanted

1703
01:46:08,210 --> 01:46:13,760
to just say look we're gonna use we're

1704
01:46:11,510 --> 01:46:16,460
not gonna try to be that fancy about it

1705
01:46:13,760 --> 01:46:18,590
so we're gonna just store our DDT and

1706
01:46:16,460 --> 01:46:21,710
we're gonna map that back into wherever

1707
01:46:18,590 --> 01:46:26,440
we would be at the current time on the

1708
01:46:21,710 --> 01:46:26,439
curve that is where we are you know

1709
01:46:33,578 --> 01:46:40,840
I don't know but you know we want to be

1710
01:46:36,729 --> 01:46:43,328
able to step towards the position as if

1711
01:46:40,840 --> 01:46:46,300
we were going as if we knew where we

1712
01:46:43,328 --> 01:46:48,539
were you know on the curve as if we

1713
01:46:46,300 --> 01:46:48,539
could

1714
01:47:04,918 --> 01:47:08,958
yes if we could just take that step

1715
01:47:13,250 --> 01:47:19,710
let me just try that a little bit and

1716
01:47:16,109 --> 01:47:21,899
see so let's suppose that we stored the

1717
01:47:19,710 --> 01:47:24,420
DTE and the DDT

1718
01:47:21,899 --> 01:47:26,698
so what we're storing there is basically

1719
01:47:24,420 --> 01:47:29,279
saying look we're just storing on the

1720
01:47:26,698 --> 01:47:30,779
curve where we were I mean I guess what

1721
01:47:29,279 --> 01:47:32,670
you could do instead is just say look

1722
01:47:30,779 --> 01:47:37,250
you just we just store what the T value

1723
01:47:32,670 --> 01:47:37,250
was that we were trying to be at maybe

1724
01:47:37,609 --> 01:47:42,269
so we do keep that T interpolation

1725
01:47:40,500 --> 01:47:45,059
around like maybe we look at that and

1726
01:47:42,270 --> 01:47:47,130
then we say all right you know when

1727
01:47:45,059 --> 01:47:50,579
we're going to interpolate here we say

1728
01:47:47,130 --> 01:47:52,078
how far away are we you know we know

1729
01:47:50,578 --> 01:47:54,868
what what our parameters would have been

1730
01:47:52,078 --> 01:47:56,939
last time how far away from this are we

1731
01:47:54,868 --> 01:48:00,868
do we need to switch to another part of

1732
01:47:56,939 --> 01:48:04,589
the curve or can we keep going with this

1733
01:48:00,868 --> 01:48:07,948
part of the curve right and once we get

1734
01:48:04,590 --> 01:48:16,110
up to a certain speed then we know we

1735
01:48:07,948 --> 01:48:17,848
can just keep going at that speed I mean

1736
01:48:16,109 --> 01:48:20,969
that's really the only idea I've got and

1737
01:48:17,849 --> 01:48:23,730
then when we get close to the end as

1738
01:48:20,969 --> 01:48:25,139
we're looking at those T updates right

1739
01:48:23,729 --> 01:48:27,178
we're just looking and saying well we

1740
01:48:25,139 --> 01:48:29,010
know we're on the downward slope so we

1741
01:48:27,179 --> 01:48:32,190
look to see you know how far away is the

1742
01:48:29,010 --> 01:48:35,579
thing that we're stepping to and we just

1743
01:48:32,189 --> 01:48:44,029
fit the curve to to that and as it moves

1744
01:48:35,578 --> 01:48:44,029
we just move it as well I don't know

1745
01:48:48,420 --> 01:48:52,829
it seems under defined so I I'm really

1746
01:48:51,359 --> 01:48:54,630
having trouble coming up with a good I

1747
01:48:52,829 --> 01:48:56,279
know that this I know that I have

1748
01:48:54,630 --> 01:48:59,760
literally never seen a good solution to

1749
01:48:56,279 --> 01:49:01,289
this problem so I'm not surprised it's

1750
01:48:59,760 --> 01:49:02,789
tricky like I've never seen a good

1751
01:49:01,289 --> 01:49:05,789
universal interpolator they're all

1752
01:49:02,789 --> 01:49:07,289
pretty bad and there's a lot of kind of

1753
01:49:05,789 --> 01:49:09,238
crazy stuff you can do with them which

1754
01:49:07,289 --> 01:49:12,479
is like there's you know there's actual

1755
01:49:09,238 --> 01:49:14,129
like more statistical fitting model

1756
01:49:12,479 --> 01:49:15,209
kinds of stuff you can also like we've

1757
01:49:14,130 --> 01:49:17,039
done proportional derivative controller

1758
01:49:15,210 --> 01:49:21,539
before and then there's also things that

1759
01:49:17,039 --> 01:49:23,340
use sort of like noisy things that try

1760
01:49:21,539 --> 01:49:26,060
to predict under noise like where things

1761
01:49:23,340 --> 01:49:28,560
are going and then tries to fit that you

1762
01:49:26,060 --> 01:49:30,060
know we could go that route too but I

1763
01:49:28,560 --> 01:49:34,070
was hoping to try and see if we could

1764
01:49:30,060 --> 01:49:36,840
maybe push through to something usable

1765
01:49:34,069 --> 01:49:39,238
on stream because like I normally do on

1766
01:49:36,840 --> 01:49:41,100
handmade hero I try to work through

1767
01:49:39,238 --> 01:49:43,529
stuff myself so you can see the process

1768
01:49:41,100 --> 01:49:44,190
of it but we don't always get to

1769
01:49:43,529 --> 01:49:45,988
something good

1770
01:49:44,189 --> 01:49:47,939
and in this case I'm really not seeing

1771
01:49:45,988 --> 01:49:50,839
too something good from first principles

1772
01:49:47,939 --> 01:49:50,839
on this one

1773
01:50:34,630 --> 01:50:49,340
so I guess one thing I would do is say I

1774
01:50:44,710 --> 01:50:51,920
know the length I could always store

1775
01:50:49,340 --> 01:50:55,460
what I thought my interpolation was from

1776
01:50:51,920 --> 01:51:00,529
last time and I could always store my T

1777
01:50:55,460 --> 01:51:05,359
value right and I could just say well

1778
01:51:00,529 --> 01:51:11,019
I'm going to adjust those two things

1779
01:51:05,359 --> 01:51:11,019
heuristic alee so that as best as I can

1780
01:51:13,960 --> 01:51:17,618
you know I produce

1781
01:51:26,680 --> 01:51:36,280
as best as I can I produce a smooth

1782
01:51:29,689 --> 01:51:39,019
value you know so you've effectively got

1783
01:51:36,279 --> 01:51:41,000
you know two values that you store

1784
01:51:39,020 --> 01:51:43,430
you've got what you thought your length

1785
01:51:41,000 --> 01:51:46,430
was last time and you've got what you

1786
01:51:43,430 --> 01:51:47,810
thought your T was last time and you're

1787
01:51:46,430 --> 01:51:50,360
just gonna update those two values

1788
01:51:47,810 --> 01:51:51,650
heuristic ly to try and you know make it

1789
01:51:50,359 --> 01:52:00,460
so that you're always stepping along a

1790
01:51:51,649 --> 01:52:03,319
reasonable curve you know it's not good

1791
01:52:00,460 --> 01:52:05,210
but like you know if you imagine

1792
01:52:03,319 --> 01:52:08,509
something where instead of this

1793
01:52:05,210 --> 01:52:10,399
construction like I saying before if

1794
01:52:08,510 --> 01:52:14,869
what you did instead was you said well

1795
01:52:10,399 --> 01:52:15,979
we're gonna take a step right and the

1796
01:52:14,869 --> 01:52:17,949
way that we're going to take that step

1797
01:52:15,979 --> 01:52:21,369
is we're gonna say look I want to go

1798
01:52:17,949 --> 01:52:33,470
whatever the the blend value is here I

1799
01:52:21,369 --> 01:52:35,599
want to do the step that is a long that

1800
01:52:33,470 --> 01:52:38,060
I want to step that far along the line

1801
01:52:35,600 --> 01:52:40,160
however much my blend value tells me to

1802
01:52:38,060 --> 01:52:43,010
step right that's restructuring the

1803
01:52:40,159 --> 01:52:54,619
thing in the old way where it's you know

1804
01:52:43,010 --> 01:52:59,380
if I have 1 minus u times target P plus

1805
01:52:54,619 --> 01:52:59,380
u times from P which

1806
01:53:02,520 --> 01:53:07,360
which was the lerp we were doing that's

1807
01:53:05,500 --> 01:53:12,310
just the the part I was saying before

1808
01:53:07,359 --> 01:53:15,849
about how that's from P minus u times

1809
01:53:12,310 --> 01:53:19,480
from P plus u times target P which if

1810
01:53:15,850 --> 01:53:24,220
you then pull out the you it's just from

1811
01:53:19,479 --> 01:53:31,750
P plus you can see in here you've got

1812
01:53:24,220 --> 01:53:34,810
the we go if I rearrange these two terms

1813
01:53:31,750 --> 01:53:41,170
here if I just pull out the U I get a u

1814
01:53:34,810 --> 01:53:43,330
times target pig - from P so if I said

1815
01:53:41,170 --> 01:53:46,810
that I was gonna parameterize it along

1816
01:53:43,329 --> 01:53:51,119
those lines then what I can do here is

1817
01:53:46,810 --> 01:53:57,280
say well let's imagine that I had the

1818
01:53:51,119 --> 01:53:59,439
sort of normalized direction vector so

1819
01:53:57,279 --> 01:54:02,769
you know I've got some derp and that's

1820
01:53:59,439 --> 01:54:04,269
always correct it's whatever the total

1821
01:54:02,770 --> 01:54:06,070
Delta P is it's always that direction

1822
01:54:04,270 --> 01:54:08,380
and if I don't have one then it's just

1823
01:54:06,069 --> 01:54:10,149
zero right

1824
01:54:08,380 --> 01:54:11,800
so I know what that is and I know that

1825
01:54:10,149 --> 01:54:14,079
my update is always going to be along

1826
01:54:11,800 --> 01:54:16,600
that line assuming that I have to update

1827
01:54:14,079 --> 01:54:21,909
at all and so in this case I know that

1828
01:54:16,600 --> 01:54:24,850
this would always be some blend value

1829
01:54:21,909 --> 01:54:27,519
times whatever that length value is so

1830
01:54:24,850 --> 01:54:31,270
for example Toto Delta P length right in

1831
01:54:27,520 --> 01:54:33,750
this case times the direction that's the

1832
01:54:31,270 --> 01:54:38,500
actual update step based on the blend

1833
01:54:33,750 --> 01:54:41,260
and so then what I could say is well

1834
01:54:38,500 --> 01:54:46,239
this can be a parameter that I'm playing

1835
01:54:41,260 --> 01:54:49,270
with and that I can store from frame to

1836
01:54:46,239 --> 01:54:50,559
frame and my T value can also be

1837
01:54:49,270 --> 01:54:53,290
something that I store from frame to

1838
01:54:50,560 --> 01:55:01,300
frame and then it becomes a bit of

1839
01:54:53,289 --> 01:55:05,100
finesse about which one about how I

1840
01:55:01,300 --> 01:55:05,100
update them right

1841
01:55:10,829 --> 01:55:25,149
so in this case you know it would be

1842
01:55:12,880 --> 01:55:31,389
something like this so you know if I was

1843
01:55:25,149 --> 01:55:35,349
to store these two things and then

1844
01:55:31,389 --> 01:55:38,440
adjust them so you know maybe we get a

1845
01:55:35,350 --> 01:55:40,000
delta P in here like that

1846
01:55:38,439 --> 01:55:46,960
and then I'm actually storing it out

1847
01:55:40,000 --> 01:55:48,520
this way and then the question is like

1848
01:55:46,960 --> 01:55:50,469
how am I actually gonna produce those

1849
01:55:48,520 --> 01:55:52,270
things so you know then there's there's

1850
01:55:50,469 --> 01:55:55,090
some update that happens with these

1851
01:55:52,270 --> 01:55:58,420
things but then I still always take the

1852
01:55:55,090 --> 01:56:01,210
same step this way and the D blend and

1853
01:55:58,420 --> 01:56:03,190
the DD blend maybe you know don't need

1854
01:56:01,210 --> 01:56:05,020
to be there I mean I can leave them in

1855
01:56:03,189 --> 01:56:06,609
because they're valid if we ever want to

1856
01:56:05,020 --> 01:56:08,770
use them for some other reason but then

1857
01:56:06,609 --> 01:56:18,279
let me save them you know and off we go

1858
01:56:08,770 --> 01:56:20,619
right so if I want to update that beast

1859
01:56:18,279 --> 01:56:22,118
you know in in some kind of sane way

1860
01:56:20,618 --> 01:56:23,380
here where I knew that I'm getting these

1861
01:56:22,118 --> 01:56:27,158
two things and then I want to do

1862
01:56:23,380 --> 01:56:28,300
something with them right um then the

1863
01:56:27,158 --> 01:56:31,299
first thing I could do is I could say

1864
01:56:28,300 --> 01:56:34,270
well look if if I was gonna use this

1865
01:56:31,300 --> 01:56:36,460
would it be a sensible thing for me to

1866
01:56:34,270 --> 01:56:39,699
do to just use whatever it was last time

1867
01:56:36,460 --> 01:56:42,698
right so meaning when I go to take this

1868
01:56:39,698 --> 01:56:44,948
T value and I want to move by whatever

1869
01:56:42,698 --> 01:56:49,419
the Delta step is that I'm asked to move

1870
01:56:44,948 --> 01:56:52,118
by whatever that is you know if I do

1871
01:56:49,420 --> 01:56:55,118
that to update this value and then I'm

1872
01:56:52,118 --> 01:56:58,630
going to look at what the actual change

1873
01:56:55,118 --> 01:57:03,460
would have been and I probably want to

1874
01:56:58,630 --> 01:57:06,118
do this right another way to do that I

1875
01:57:03,460 --> 01:57:06,118
guess would be this

1876
01:57:10,059 --> 01:57:14,840
so you know if I get the t-value and I

1877
01:57:13,189 --> 01:57:17,808
update it this way and then I say well

1878
01:57:14,840 --> 01:57:21,469
you know what if I actually just plugged

1879
01:57:17,809 --> 01:57:30,380
in that T value here so I you know I'm

1880
01:57:21,469 --> 01:57:33,828
gonna get this out of it what would that

1881
01:57:30,380 --> 01:57:39,130
you know what would that what would that

1882
01:57:33,828 --> 01:57:39,130
give me you know what I mean

1883
01:57:51,250 --> 01:58:04,819
so this is not entirely correct though

1884
01:57:54,738 --> 01:58:07,189
here so yeah like one of the problems

1885
01:58:04,819 --> 01:58:10,519
that we would have here is this

1886
01:58:07,189 --> 01:58:18,678
construction is sent quite right because

1887
01:58:10,520 --> 01:58:22,460
we don't know exactly where the you know

1888
01:58:18,679 --> 01:58:25,880
where that Delta P would have actually

1889
01:58:22,460 --> 01:58:31,118
placed us so you know really we need to

1890
01:58:25,880 --> 01:58:31,118
say something more like this

1891
01:58:40,539 --> 01:58:54,500
yeah so the target P minus the direction

1892
01:58:51,738 --> 01:58:56,328
like yeah I mean even if we did that I

1893
01:58:54,500 --> 01:58:57,859
just trying to talk this through sorry

1894
01:58:56,328 --> 01:58:59,269
I'm I'm taking this out my header we

1895
01:58:57,859 --> 01:59:00,769
can't actually do it that way because we

1896
01:58:59,270 --> 01:59:02,030
don't have the from P anymore so we

1897
01:59:00,770 --> 01:59:06,559
would have to turn this into something

1898
01:59:02,029 --> 01:59:09,828
that was a step that was based on four

1899
01:59:06,559 --> 01:59:13,279
back projecting where we were and then

1900
01:59:09,828 --> 01:59:16,609
taking a step forward towards the goal

1901
01:59:13,279 --> 01:59:23,300
from there we don't have from P here and

1902
01:59:16,609 --> 01:59:31,118
it's not actually this because right if

1903
01:59:23,300 --> 01:59:37,460
it was that then this Delta P value

1904
01:59:31,118 --> 01:59:40,479
would have had to have changed I guess

1905
01:59:37,460 --> 01:59:40,480
is the way to look at it

1906
01:59:45,128 --> 01:59:48,458
yeah I don't know

1907
01:59:59,890 --> 02:00:05,590
I'm not feeling in here folks not

1908
02:00:02,689 --> 02:00:05,589
feeling it

1909
02:00:13,909 --> 02:00:19,050
so trying to think through some other

1910
02:00:16,829 --> 02:00:22,409
options I mean one of the things we

1911
02:00:19,050 --> 02:00:24,210
could say I suppose is if the target if

1912
02:00:22,409 --> 02:00:25,829
we start our target and velocity and we

1913
02:00:24,210 --> 02:00:27,989
always assume that we arrive at the

1914
02:00:25,829 --> 02:00:33,300
target in one second right or at some

1915
02:00:27,988 --> 02:00:35,369
time right no matter what it is then

1916
02:00:33,300 --> 02:00:37,920
given our current velocity what is the

1917
02:00:35,369 --> 02:00:43,140
curve with this particular velocity that

1918
02:00:37,920 --> 02:00:52,250
would give us that and because we don't

1919
02:00:43,140 --> 02:00:52,250
have T we've just the T is not really I

1920
02:00:54,649 --> 02:01:03,299
think that still gets us back to having

1921
02:00:56,819 --> 02:01:06,059
to solve the quadratic because I don't

1922
02:01:03,300 --> 02:01:12,600
really see any way of making that

1923
02:01:06,060 --> 02:01:15,800
simpler because you're always gonna need

1924
02:01:12,600 --> 02:01:15,800
to know those two things

1925
02:02:05,329 --> 02:02:16,010
I mean I guess so here's a super crappy

1926
02:02:12,500 --> 02:02:19,609
way to do it if we actually just assumed

1927
02:02:16,010 --> 02:02:26,810
generally speaking that we were gonna

1928
02:02:19,609 --> 02:02:40,789
set the T value and the T value or

1929
02:02:26,810 --> 02:02:42,890
rather the we were going to ya know I

1930
02:02:40,789 --> 02:02:46,269
don't know I have no good solution to

1931
02:02:42,890 --> 02:02:48,619
this problem other than the nasty solve

1932
02:02:46,270 --> 02:02:49,730
the nasty solve is the only thing I

1933
02:02:48,619 --> 02:02:51,439
could think of that would let us

1934
02:02:49,729 --> 02:02:54,169
actually produce the thing that we want

1935
02:02:51,439 --> 02:02:57,799
which is to figure out which other curve

1936
02:02:54,170 --> 02:03:03,020
we could be following that would place

1937
02:02:57,800 --> 02:03:04,220
us there you know pleasantly right track

1938
02:03:03,020 --> 02:03:05,870
I'm just trying to think of any other

1939
02:03:04,220 --> 02:03:07,780
things that we could really do there and

1940
02:03:05,869 --> 02:03:10,849
I can't really think of what they are

1941
02:03:07,779 --> 02:03:13,849
another way to I guess parameterize this

1942
02:03:10,850 --> 02:03:18,620
would be to say like what if we just had

1943
02:03:13,850 --> 02:03:23,510
a velocity here and we were going to say

1944
02:03:18,619 --> 02:03:27,680
that the velocity is updated based on a

1945
02:03:23,510 --> 02:03:30,350
curve rule so that we have to solve for

1946
02:03:27,680 --> 02:03:33,200
something that will produce that but

1947
02:03:30,350 --> 02:03:38,200
that's the only thing that we saw for so

1948
02:03:33,199 --> 02:03:38,199
like if we know that we have

1949
02:03:44,239 --> 02:03:51,210
some kind of an update rule that just

1950
02:03:48,020 --> 02:03:55,380
does whatever it does so you know we've

1951
02:03:51,210 --> 02:03:58,430
got something here that produces our DP

1952
02:03:55,380 --> 02:04:01,920
and so it's something along the lines of

1953
02:03:58,430 --> 02:04:05,750
what this would be doing here right so

1954
02:04:01,920 --> 02:04:05,750
it's it's something along these lines

1955
02:04:15,350 --> 02:04:24,510
where we produce the D blend and then

1956
02:04:18,060 --> 02:04:29,490
you know we've got we've got to figure

1957
02:04:24,510 --> 02:04:31,140
out what the dip you know we're we're

1958
02:04:29,489 --> 02:04:37,109
always going to actually still be

1959
02:04:31,140 --> 02:04:40,039
applying this thing as as one of these

1960
02:04:37,109 --> 02:04:43,469
so we're going to actually take

1961
02:04:40,039 --> 02:04:45,930
derivative based steps so we're never

1962
02:04:43,470 --> 02:04:49,440
going to try and look at the first order

1963
02:04:45,930 --> 02:04:52,670
curve the zeroth order curve we're only

1964
02:04:49,439 --> 02:04:55,829
ever going to actually use an actual DP

1965
02:04:52,670 --> 02:04:58,890
and then we're gonna store the DP back

1966
02:04:55,829 --> 02:05:01,680
right so we're doing a more traditional

1967
02:04:58,890 --> 02:05:04,380
update step we don't know what T was

1968
02:05:01,680 --> 02:05:09,840
right but we're basically gonna we're

1969
02:05:04,380 --> 02:05:13,560
just trying to compute a DT DP pair

1970
02:05:09,840 --> 02:05:15,630
always so the DT we know and the DP is

1971
02:05:13,560 --> 02:05:17,670
just something that we're going to try

1972
02:05:15,630 --> 02:05:20,460
and compute to give us an update step

1973
02:05:17,670 --> 02:05:26,430
and we're going to do it in the standard

1974
02:05:20,460 --> 02:05:29,569
way where we would say in the case where

1975
02:05:26,430 --> 02:05:33,060
we would arrive at the target exactly

1976
02:05:29,569 --> 02:05:35,099
we're just gonna get there directly but

1977
02:05:33,060 --> 02:05:35,610
in the case where we wouldn't then we

1978
02:05:35,100 --> 02:05:38,940
won't

1979
02:05:35,609 --> 02:05:42,420
right so you know if we say well the

1980
02:05:38,939 --> 02:05:45,539
total Delta P length if that's less than

1981
02:05:42,420 --> 02:05:48,659
the step we would have taken so like if

1982
02:05:45,539 --> 02:05:52,769
that's less or greater than TP I should

1983
02:05:48,659 --> 02:05:54,090
say then we actually do our update but

1984
02:05:52,770 --> 02:05:56,820
otherwise we don't

1985
02:05:54,090 --> 02:06:00,690
and again this always happens in

1986
02:05:56,819 --> 02:06:02,279
the direction so you know we're gonna

1987
02:06:00,689 --> 02:06:04,828
step we're gonna step in derivative

1988
02:06:02,279 --> 02:06:09,328
space we're gonna have a target P here

1989
02:06:04,828 --> 02:06:12,059
and blah blah blah and we're gonna back

1990
02:06:09,328 --> 02:06:14,460
assign these right and so in this case

1991
02:06:12,060 --> 02:06:16,889
we would assign whatever we did use as

1992
02:06:14,460 --> 02:06:19,050
the DP is what we'll use again this time

1993
02:06:16,889 --> 02:06:21,690
and in here what we'll say is well

1994
02:06:19,050 --> 02:06:23,760
whatever we used as the DP is now zero

1995
02:06:21,689 --> 02:06:25,759
because we ever reached our target so

1996
02:06:23,760 --> 02:06:31,889
we're killing our velocity entirely

1997
02:06:25,760 --> 02:06:34,230
right makes sense um and so when we come

1998
02:06:31,889 --> 02:06:38,609
down through here we kind of don't

1999
02:06:34,229 --> 02:06:39,419
really know what we're doing and we

2000
02:06:38,609 --> 02:06:43,618
don't really know how we're gonna

2001
02:06:39,420 --> 02:06:45,510
produce this stuff right but if we look

2002
02:06:43,618 --> 02:06:49,069
at how this would get produced then

2003
02:06:45,510 --> 02:06:49,070
really what we need to figure out is

2004
02:06:55,698 --> 02:07:01,138
yeah um so really what we need to figure

2005
02:06:58,770 --> 02:07:04,590
out is how we would be producing this DP

2006
02:07:01,139 --> 02:07:07,560
right and so if we set the DP to like

2007
02:07:04,590 --> 02:07:12,060
the total Delta P length or something

2008
02:07:07,560 --> 02:07:15,119
like this right and if the DP was

2009
02:07:12,060 --> 02:07:19,500
greater than our maximum speed or

2010
02:07:15,118 --> 02:07:23,908
something like that oh and this is

2011
02:07:19,500 --> 02:07:25,948
actually times DP DT right so this is

2012
02:07:23,908 --> 02:07:29,399
you know I guess you could call that

2013
02:07:25,948 --> 02:07:32,158
belt that's the Delta P so it's the

2014
02:07:29,399 --> 02:07:37,920
actual time step that you're taking you

2015
02:07:32,158 --> 02:07:39,868
know the actual amount so in that case

2016
02:07:37,920 --> 02:07:41,190
where we're actually gonna take the step

2017
02:07:39,868 --> 02:07:43,859
we take the step otherwise we set it to

2018
02:07:41,189 --> 02:07:46,678
zero right and so here what we would say

2019
02:07:43,859 --> 02:07:49,469
is well the DP is going to be equal to

2020
02:07:46,679 --> 02:07:51,779
you know whatever the maximum speed is

2021
02:07:49,469 --> 02:07:54,300
in this case I don't know if it's over

2022
02:07:51,779 --> 02:07:57,118
1.0 then it just equals 1.0 or something

2023
02:07:54,300 --> 02:07:59,010
like that right um and that would give

2024
02:07:57,118 --> 02:08:04,769
us a linear blend right like we had

2025
02:07:59,010 --> 02:08:06,300
before without the curve in theory

2026
02:08:04,770 --> 02:08:09,870
anyway well if I haven't typed in

2027
02:08:06,300 --> 02:08:12,680
something wrong it gives us a very slow

2028
02:08:09,869 --> 02:08:15,750
okay that might that might be excessive

2029
02:08:12,680 --> 02:08:22,110
so let's say it was ten let's make it

2030
02:08:15,750 --> 02:08:29,189
faster than that right so there's a

2031
02:08:22,109 --> 02:08:33,109
speed ten version oh and actually I

2032
02:08:29,189 --> 02:08:33,109
guess what I really want to do is that

2033
02:08:40,220 --> 02:08:45,030
and so there's a non good version right

2034
02:08:43,260 --> 02:08:47,010
but we can see that the update is the

2035
02:08:45,029 --> 02:08:52,949
least happening properly so now the

2036
02:08:47,010 --> 02:08:54,329
question is just alright we know we had

2037
02:08:52,949 --> 02:08:57,119
a lot of trouble figuring out how we

2038
02:08:54,329 --> 02:09:01,380
might compute this value but what should

2039
02:08:57,119 --> 02:09:06,119
DP be in this case right like what do we

2040
02:09:01,380 --> 02:09:07,819
actually want our derivative to be can

2041
02:09:06,119 --> 02:09:10,920
we compute that from some curve that we

2042
02:09:07,819 --> 02:09:15,559
compute more heuristic aliy if solving

2043
02:09:10,920 --> 02:09:17,670
it is going to be pretty nasty right and

2044
02:09:15,560 --> 02:09:19,080
unclear if we really want something of

2045
02:09:17,670 --> 02:09:20,909
that complexity operating in here where

2046
02:09:19,079 --> 02:09:24,059
we can't really form a geometric

2047
02:09:20,909 --> 02:09:25,559
understanding of it right so if we want

2048
02:09:24,060 --> 02:09:30,390
to update that a little bit more

2049
02:09:25,560 --> 02:09:33,090
directly there and just play with it

2050
02:09:30,390 --> 02:09:35,340
more directly then what I'd want to do

2051
02:09:33,090 --> 02:09:38,850
here is say well I have the DP from last

2052
02:09:35,340 --> 02:09:42,360
time right so what I'd like to do is I'd

2053
02:09:38,850 --> 02:09:45,030
like to make something where we're going

2054
02:09:42,359 --> 02:09:46,829
to be stepping along a curve here so I'd

2055
02:09:45,029 --> 02:09:51,239
like to make some way of figuring out

2056
02:09:46,829 --> 02:09:55,559
where on the DP curve we were you know

2057
02:09:51,239 --> 02:10:00,300
based on what I'm going to construct to

2058
02:09:55,560 --> 02:10:02,700
create it right so maybe I just do a

2059
02:10:00,300 --> 02:10:04,980
series of constructions on curves to try

2060
02:10:02,699 --> 02:10:10,380
and solve it and see what would happen

2061
02:10:04,979 --> 02:10:12,689
in that case you know and so you know if

2062
02:10:10,380 --> 02:10:16,710
I was going to construct a curve onto

2063
02:10:12,689 --> 02:10:18,269
the target P you know maybe I can try

2064
02:10:16,710 --> 02:10:22,279
constructing a curve that's a

2065
02:10:18,270 --> 02:10:22,280
deceleration region so

2066
02:10:24,149 --> 02:10:32,279
you know maybe I look at it like this so

2067
02:10:27,460 --> 02:10:37,989
if the total Delta P that I have to go

2068
02:10:32,279 --> 02:10:40,269
is greater than some maximum then I want

2069
02:10:37,989 --> 02:10:42,750
to accelerate up to my maximum speed

2070
02:10:40,270 --> 02:10:48,400
right so I'm trying to increase my speed

2071
02:10:42,750 --> 02:10:50,890
so you know I've got my accel range here

2072
02:10:48,399 --> 02:10:53,079
right so if I know that I'm greater than

2073
02:10:50,890 --> 02:10:55,660
my acceleration range so maybe I'm you

2074
02:10:53,079 --> 02:10:57,970
know I'm over you know one or two away

2075
02:10:55,659 --> 02:11:00,489
then what I'm trying to do is I'm trying

2076
02:10:57,970 --> 02:11:04,000
to fit myself to where I am on an

2077
02:11:00,489 --> 02:11:11,529
acceleration curve right um so maybe I

2078
02:11:04,000 --> 02:11:13,899
say this sort of thing if I'm if I'm

2079
02:11:11,529 --> 02:11:16,119
greater than the than the combined of

2080
02:11:13,899 --> 02:11:18,159
these then I'm just trying to fit myself

2081
02:11:16,119 --> 02:11:20,050
to a curve to figure out where am I in

2082
02:11:18,159 --> 02:11:22,889
an acceleration curve and the

2083
02:11:20,050 --> 02:11:26,650
acceleration curve is of length this

2084
02:11:22,890 --> 02:11:31,240
okay um so what I would do is I would

2085
02:11:26,649 --> 02:11:35,170
solve with a known length this equation

2086
02:11:31,239 --> 02:11:42,599
for T right which I already know is easy

2087
02:11:35,170 --> 02:11:47,350
it's just that you know what I mean um

2088
02:11:42,600 --> 02:11:49,620
so actually I guess I'm solving for T

2089
02:11:47,350 --> 02:11:49,620
here

2090
02:11:53,670 --> 02:12:07,739
so my previous DP I guess I can pull out

2091
02:12:01,229 --> 02:12:10,259
here my previous velocity that I was if

2092
02:12:07,739 --> 02:12:13,769
I solved it this way I would get what

2093
02:12:10,260 --> 02:12:30,659
the T value is by saying V minus 2 BD

2094
02:12:13,770 --> 02:12:33,240
right over 6a and so if we look at what

2095
02:12:30,659 --> 02:12:36,149
that gives us we know what a is we know

2096
02:12:33,239 --> 02:12:37,859
what B is and so D in this case is the

2097
02:12:36,149 --> 02:12:39,210
only thing we don't know but we do

2098
02:12:37,859 --> 02:12:40,859
actually know what it is it's the

2099
02:12:39,210 --> 02:12:44,149
acceleration range because that's the

2100
02:12:40,859 --> 02:12:47,009
curve that we're mapping it into right

2101
02:12:44,149 --> 02:12:49,079
so we're gonna see let's map ourselves

2102
02:12:47,010 --> 02:12:53,670
into and oh and this by the way is the

2103
02:12:49,079 --> 02:12:55,350
DP we're solving for right so let's

2104
02:12:53,670 --> 02:12:57,420
solve for the T that we should get there

2105
02:12:55,350 --> 02:13:00,300
and then what we want to know is let's

2106
02:12:57,420 --> 02:13:03,359
get what our velocity should be now at

2107
02:13:00,300 --> 02:13:06,060
that point so what should DP be if we

2108
02:13:03,359 --> 02:13:09,599
were gonna map it up right like what

2109
02:13:06,060 --> 02:13:11,970
would it be and so in order to get what

2110
02:13:09,600 --> 02:13:14,010
that DP should be now what we want to do

2111
02:13:11,970 --> 02:13:19,020
is feed it back into this equation and

2112
02:13:14,010 --> 02:13:25,380
get what the actual derivative was at

2113
02:13:19,020 --> 02:13:28,110
that at that point right so we want you

2114
02:13:25,380 --> 02:13:30,779
know whatever our Excel range value is

2115
02:13:28,109 --> 02:13:35,219
here times whatever the derivative of

2116
02:13:30,779 --> 02:13:39,079
this curve is which is this right for

2117
02:13:35,220 --> 02:13:39,079
that given T value

2118
02:13:41,469 --> 02:13:47,599
that's what I would argue right again we

2119
02:13:45,288 --> 02:13:49,250
know a we know B bla bla so the only

2120
02:13:47,599 --> 02:13:51,619
thing that we didn't know here in this

2121
02:13:49,250 --> 02:13:55,939
case was T and now we've done that and

2122
02:13:51,618 --> 02:13:57,710
updated our DP so then we're saying look

2123
02:13:55,939 --> 02:14:00,710
that's what the derivative should be it

2124
02:13:57,710 --> 02:14:03,288
should be this because that's the

2125
02:14:00,710 --> 02:14:11,868
derivative of what the actual function

2126
02:14:03,288 --> 02:14:15,139
was in that case right I mean I think

2127
02:14:11,868 --> 02:14:18,679
that's roughly correct and then we would

2128
02:14:15,139 --> 02:14:22,969
say well okay well in the case where the

2129
02:14:18,679 --> 02:14:32,469
total DP length is actually less than

2130
02:14:22,969 --> 02:14:35,029
the deceleration range so you know we I

2131
02:14:32,469 --> 02:14:38,828
mean I guess we could even say look if

2132
02:14:35,029 --> 02:14:38,828
it's less than the deceleration range

2133
02:14:41,710 --> 02:14:45,710
you know here we're gonna do this sort

2134
02:14:44,029 --> 02:14:49,309
of thing and then we're gonna say look

2135
02:14:45,710 --> 02:14:54,349
as we accelerate this T forward we know

2136
02:14:49,309 --> 02:14:57,469
we never want the T to go past 0.5 so we

2137
02:14:54,349 --> 02:15:00,770
would essentially say like if T is

2138
02:14:57,469 --> 02:15:02,658
greater than 0.5 T equals 0.5 right

2139
02:15:00,770 --> 02:15:08,690
other way to say that would be T equals

2140
02:15:02,658 --> 02:15:11,988
clamp between 0 and 0.5 meaning look

2141
02:15:08,689 --> 02:15:14,419
we're gonna accelerate to max pede if we

2142
02:15:11,988 --> 02:15:17,089
can and only if we're inside the

2143
02:15:14,420 --> 02:15:25,219
deceleration range would we back back

2144
02:15:17,090 --> 02:15:26,750
down right seems what we want to do so

2145
02:15:25,219 --> 02:15:29,090
everywhere outside of there the

2146
02:15:26,750 --> 02:15:30,979
acceleration range we're gonna map in to

2147
02:15:29,090 --> 02:15:35,360
where we were and then we're gonna move

2148
02:15:30,979 --> 02:15:38,718
forwards by some amount you know to move

2149
02:15:35,359 --> 02:15:43,179
our T forward there so this goes away

2150
02:15:38,719 --> 02:15:43,179
and this is like that

2151
02:15:46,770 --> 02:15:50,370
right I think

2152
02:15:53,949 --> 02:15:57,889
you know don't quote me on that so in

2153
02:15:56,779 --> 02:15:59,449
this case we're just gonna say look

2154
02:15:57,890 --> 02:16:00,829
let's let's recompute this thing with a

2155
02:15:59,449 --> 02:16:02,779
known range and this is kind of just

2156
02:16:00,829 --> 02:16:04,670
maybe saying look we're just gonna use

2157
02:16:02,779 --> 02:16:06,590
the T acceleration value in this case

2158
02:16:04,670 --> 02:16:08,480
and if we see that we're less than it

2159
02:16:06,590 --> 02:16:10,880
then we're gonna solve that we're gonna

2160
02:16:08,479 --> 02:16:13,309
use the same DP to solve back into a

2161
02:16:10,880 --> 02:16:15,109
deceleration curve which might not be

2162
02:16:13,310 --> 02:16:18,670
what we had been doing but now we've

2163
02:16:15,109 --> 02:16:21,170
fallen into the deceleration range right

2164
02:16:18,670 --> 02:16:23,239
and so now what we need to do is when

2165
02:16:21,170 --> 02:16:28,399
we're in the deceleration range we need

2166
02:16:23,239 --> 02:16:31,789
to say what was the T that we were at

2167
02:16:28,399 --> 02:16:39,799
for that level of deceleration given

2168
02:16:31,789 --> 02:16:41,209
what our distance is now I guess I'm not

2169
02:16:39,799 --> 02:16:42,979
sure what we would do I guess

2170
02:16:41,209 --> 02:16:47,659
if we're inside the deceleration range

2171
02:16:42,979 --> 02:16:51,520
we just do the step without doing the

2172
02:16:47,659 --> 02:16:53,809
deep consideration maybe

2173
02:16:51,520 --> 02:16:56,360
meaning if this is actually true maybe

2174
02:16:53,809 --> 02:16:59,090
we map the T and we take the T step

2175
02:16:56,360 --> 02:17:03,139
based on distance instead you know what

2176
02:16:59,090 --> 02:17:05,420
I mean instead of by T so in other words

2177
02:17:03,138 --> 02:17:07,819
here instead of solving for T if we

2178
02:17:05,420 --> 02:17:10,599
solve for D meaning we solved for

2179
02:17:07,819 --> 02:17:10,599
distance now

2180
02:17:20,649 --> 02:17:25,129
and I guess that's not even really a

2181
02:17:23,209 --> 02:17:28,009
solved that's just saying look let's map

2182
02:17:25,129 --> 02:17:29,899
how far we are so Artie you know we I

2183
02:17:28,010 --> 02:17:37,340
guess we're really just saying look take

2184
02:17:29,899 --> 02:17:42,430
whatever the T value is which is going

2185
02:17:37,340 --> 02:17:45,260
to be our total P length in this case

2186
02:17:42,430 --> 02:17:47,180
right and then we would take so that's

2187
02:17:45,260 --> 02:17:49,639
how far we are and we want to map that

2188
02:17:47,180 --> 02:17:51,950
into our deceleration range that's our T

2189
02:17:49,639 --> 02:17:54,109
value right and we're just going to step

2190
02:17:51,950 --> 02:17:56,329
it forward now we want it to actually be

2191
02:17:54,110 --> 02:17:59,360
a strictly decelerating curve in that

2192
02:17:56,329 --> 02:18:01,520
range so what we would want to do there

2193
02:17:59,360 --> 02:18:04,150
I think is say well we're actually gonna

2194
02:18:01,520 --> 02:18:06,920
step down from you know we're actually

2195
02:18:04,149 --> 02:18:17,719
shifting this so that we start at 0.5

2196
02:18:06,920 --> 02:18:19,430
and go so we really want that if that

2197
02:18:17,719 --> 02:18:23,599
makes sense

2198
02:18:19,430 --> 02:18:25,700
and oops and once we've mapped that then

2199
02:18:23,600 --> 02:18:28,300
we're just going to take the actual T

2200
02:18:25,700 --> 02:18:28,300
step directly

2201
02:18:40,989 --> 02:18:45,949
and we don't really need to do this we

2202
02:18:43,909 --> 02:18:47,360
could just take the T step directly but

2203
02:18:45,950 --> 02:18:48,490
I guess I'm not going to do that right

2204
02:18:47,360 --> 02:18:54,380
now

2205
02:18:48,489 --> 02:19:02,229
um that's absurd probably stupid and it

2206
02:18:54,379 --> 02:19:02,229
probably won't work just for the record

2207
02:19:03,549 --> 02:19:08,929
this stuff will want to work in a

2208
02:19:06,469 --> 02:19:10,699
slightly different way so for right now

2209
02:19:08,930 --> 02:19:14,569
what I'll do is I'm not gonna blend

2210
02:19:10,700 --> 02:19:16,700
those because we will want those I I

2211
02:19:14,569 --> 02:19:18,079
also think we probably like as we were

2212
02:19:16,700 --> 02:19:20,870
seeing we really don't want those

2213
02:19:18,079 --> 02:19:23,149
blending separately we want those to

2214
02:19:20,870 --> 02:19:28,550
blend oh wow you know what I can

2215
02:19:23,149 --> 02:19:30,920
actually just do this we actually want

2216
02:19:28,549 --> 02:19:32,959
those to probably be set directly off

2217
02:19:30,920 --> 02:19:34,670
the camera because it looked like they

2218
02:19:32,959 --> 02:19:36,500
really shouldn't interpolate on their

2219
02:19:34,670 --> 02:19:37,549
own because there was like some bad

2220
02:19:36,500 --> 02:19:40,309
effects that look like they were

2221
02:19:37,549 --> 02:19:42,049
happening there all right so let's try

2222
02:19:40,309 --> 02:19:43,519
and get this working now I'd rather I'd

2223
02:19:42,049 --> 02:19:45,139
like to have it sort of at least working

2224
02:19:43,520 --> 02:19:47,920
crapoly and then we'll pick it up again

2225
02:19:45,139 --> 02:19:47,920
on next dream

2226
02:19:55,189 --> 02:20:15,119
so this actually takes the the DT into

2227
02:20:00,119 --> 02:20:16,920
account here so I guess really now I

2228
02:20:15,119 --> 02:20:24,079
think that's all correct

2229
02:20:16,920 --> 02:20:24,079
but the D cell there needs to update T

2230
02:20:24,680 --> 02:20:27,680
right

2231
02:20:38,250 --> 02:20:46,590
I so yeah looking at these as we kind of

2232
02:20:44,399 --> 02:20:48,930
move along the curve there and get

2233
02:20:46,590 --> 02:20:51,260
whatever that derivative should have

2234
02:20:48,930 --> 02:20:51,260
been

2235
02:21:03,170 --> 02:21:08,540
I don't know if this should really just

2236
02:21:06,139 --> 02:21:10,699
be computing the T equation directly

2237
02:21:08,540 --> 02:21:13,280
because now that we're moving along the

2238
02:21:10,700 --> 02:21:15,829
curve the DP is really just a residual

2239
02:21:13,280 --> 02:21:17,780
value we store for solving so it seems

2240
02:21:15,829 --> 02:21:25,969
like it will waste to do it this way but

2241
02:21:17,780 --> 02:21:29,530
I'll keep doing it this way for now but

2242
02:21:25,969 --> 02:21:29,529
that looks fine

2243
02:21:33,040 --> 02:21:35,700
yeah

2244
02:21:38,870 --> 02:21:43,600
so I feel like that should be okay

2245
02:22:01,060 --> 02:22:09,549
so I'm not really sure why we're not

2246
02:22:03,220 --> 02:22:11,500
able to get any motion there I guess

2247
02:22:09,549 --> 02:22:16,140
with a max speed of one that's not great

2248
02:22:11,500 --> 02:22:16,140
so I mean you could also say well this

2249
02:22:16,771 --> 02:22:22,690
this is probably not great I am

2250
02:22:21,521 --> 02:22:25,090
interested to know if we're just getting

2251
02:22:22,690 --> 02:22:28,471
a slowness factor there but we want to

2252
02:22:25,090 --> 02:22:28,470
push that back into the thing

2253
02:22:43,559 --> 02:22:51,528
you

2254
02:22:45,500 --> 02:22:59,779
so it sort of works it's not good but it

2255
02:22:51,529 --> 02:23:02,930
sort of works so okay so looking at the

2256
02:22:59,779 --> 02:23:06,130
XO and D cell range there and just

2257
02:23:02,930 --> 02:23:06,130
thinking it through a little bit better

2258
02:23:09,459 --> 02:23:13,909
I'll probably leave thinking about this

2259
02:23:12,350 --> 02:23:15,350
because I want to percolate on it and

2260
02:23:13,909 --> 02:23:20,869
think about what we might be able to do

2261
02:23:15,350 --> 02:23:25,000
here that's a little bit better but yeah

2262
02:23:20,870 --> 02:23:25,000
in terms of acceleration

2263
02:23:33,370 --> 02:23:43,040
we should have seen that kind of come up

2264
02:23:36,860 --> 02:23:44,960
to speed like I'm not sure why we were

2265
02:23:43,040 --> 02:23:46,400
seeing what we were seeing there exactly

2266
02:23:44,959 --> 02:23:47,659
like we should have seen that come up to

2267
02:23:46,399 --> 02:23:49,850
speed a little more gradually because

2268
02:23:47,659 --> 02:23:53,180
the DT here is in real-time right so

2269
02:23:49,851 --> 02:23:54,950
this is going to go over the course of a

2270
02:23:53,180 --> 02:23:58,030
second right and this should solve back

2271
02:23:54,950 --> 02:23:58,030
into the same thing

2272
02:24:11,620 --> 02:24:18,729
Oh although are we solving the did I

2273
02:24:15,489 --> 02:24:20,889
solve the wrong thing there that's the

2274
02:24:18,728 --> 02:24:24,340
derivative that's the that's not the

2275
02:24:20,889 --> 02:24:27,519
velocity if that's the acceleration um

2276
02:24:24,340 --> 02:24:33,939
so I need to actually do that slightly

2277
02:24:27,520 --> 02:24:38,439
wrong there it's really that that we

2278
02:24:33,939 --> 02:24:41,020
have done the equation for which yeah I

2279
02:24:38,439 --> 02:24:44,648
guess I don't know any particular reason

2280
02:24:41,020 --> 02:24:47,189
we can't do it that way but that is

2281
02:24:44,648 --> 02:24:47,189
different

2282
02:25:16,011 --> 02:25:19,591
we can do this a lot cleaner in fact we

2283
02:25:18,271 --> 02:25:21,061
can pull these two out you can see

2284
02:25:19,591 --> 02:25:25,739
they're computing the same thing so all

2285
02:25:21,060 --> 02:25:28,380
you really need is the tea you know I

2286
02:25:25,739 --> 02:25:29,399
mean and the end of range but I'm not

2287
02:25:28,380 --> 02:25:32,430
gonna do that quite yet cuz we don't

2288
02:25:29,399 --> 02:25:35,520
really know what we're doing here um so

2289
02:25:32,431 --> 02:25:38,730
if I do that and then store the DDP

2290
02:25:35,521 --> 02:25:45,570
instead and the DP is only used for the

2291
02:25:38,729 --> 02:25:48,359
computation you know maybe that's a

2292
02:25:45,569 --> 02:25:55,020
little better because we're using the

2293
02:25:48,360 --> 02:25:57,060
wrong thing there but I don't know like

2294
02:25:55,021 --> 02:26:01,950
I hack that in pretty quickly so there's

2295
02:25:57,060 --> 02:26:03,449
probably other problems it seems like

2296
02:26:01,950 --> 02:26:08,280
we're not really getting what I expect

2297
02:26:03,450 --> 02:26:11,159
though and like I don't know what's

2298
02:26:08,280 --> 02:26:13,851
going on with that I think that's just

2299
02:26:11,159 --> 02:26:16,409
these um so what I could do is change

2300
02:26:13,851 --> 02:26:18,210
those you know while we're playing with

2301
02:26:16,409 --> 02:26:20,819
this I could go ahead and change the fog

2302
02:26:18,209 --> 02:26:22,770
and alpha spans to just be like out in

2303
02:26:20,819 --> 02:26:24,949
the middle of nowhere you know what I

2304
02:26:22,771 --> 02:26:24,950
mean

2305
02:26:30,430 --> 02:26:35,540
it doesn't help that we get jerky frame

2306
02:26:33,110 --> 02:26:37,630
rates that I'm not really sure exactly

2307
02:26:35,540 --> 02:26:40,160
where they come from at the moment

2308
02:26:37,629 --> 02:26:42,289
possibly the fact that we're a little

2309
02:26:40,159 --> 02:26:44,680
too stressing on the graphics card but

2310
02:26:42,290 --> 02:26:44,680
I'm not sure

2311
02:26:59,078 --> 02:27:05,509
but you can kind of see it it has a

2312
02:27:01,520 --> 02:27:06,588
hitch in there too so yeah so just

2313
02:27:05,509 --> 02:27:11,270
thinking through what we would want to

2314
02:27:06,588 --> 02:27:14,199
do here you know during the acceleration

2315
02:27:11,270 --> 02:27:17,359
phase right we're basically saying look

2316
02:27:14,199 --> 02:27:19,520
we want to try and get up to the speed

2317
02:27:17,359 --> 02:27:21,799
here so we see like where we were at and

2318
02:27:19,520 --> 02:27:24,680
then we would figure out what we would

2319
02:27:21,799 --> 02:27:29,449
want to compute based on oops don't ask

2320
02:27:24,680 --> 02:27:31,578
me why that's that way and then in the

2321
02:27:29,449 --> 02:27:33,560
deceleration range we would just say all

2322
02:27:31,578 --> 02:27:35,509
right map us into however far away we

2323
02:27:33,559 --> 02:27:37,068
are from the target we're going to and

2324
02:27:35,509 --> 02:27:40,398
we'll just slowly you know kind of

2325
02:27:37,068 --> 02:27:42,109
decelerate there and if we wanted to

2326
02:27:40,398 --> 02:27:44,868
again like I saying we could sort of

2327
02:27:42,109 --> 02:27:47,629
make this thing just actually take the

2328
02:27:44,869 --> 02:27:50,119
step by reverse computing what the T

2329
02:27:47,629 --> 02:27:53,719
actually is doing and doing the lerp

2330
02:27:50,119 --> 02:27:56,088
right so you know in here we could just

2331
02:27:53,718 --> 02:28:00,798
say well that's what the DDP is for

2332
02:27:56,088 --> 02:28:04,248
placement but you know we want to

2333
02:28:00,799 --> 02:28:06,259
actually do the lerp here and we do know

2334
02:28:04,248 --> 02:28:09,408
where we're going right we're going to

2335
02:28:06,259 --> 02:28:14,918
the target P always and we're going from

2336
02:28:09,408 --> 02:28:14,918
the target P minus whatever the deep the

2337
02:28:16,449 --> 02:28:24,379
whatever the the size of this curve was

2338
02:28:20,289 --> 02:28:31,039
along that the direction right so we

2339
02:28:24,379 --> 02:28:34,369
want to loop from whatever the the d

2340
02:28:31,039 --> 02:28:40,390
cell range we want to loop from here to

2341
02:28:34,369 --> 02:28:40,390
here using our standard T value right

2342
02:28:40,600 --> 02:28:47,350
and so in order to produce that

2343
02:28:43,488 --> 02:28:47,350
smoothing we need to do this

2344
02:28:49,879 --> 02:28:57,089
but it would just look like that then to

2345
02:28:54,450 --> 02:29:00,721
produce the value that we retained for

2346
02:28:57,090 --> 02:29:04,739
future solving we would just say well

2347
02:29:00,720 --> 02:29:07,680
the deceleration range is the multiplier

2348
02:29:04,739 --> 02:29:10,110
and then the you know the six times

2349
02:29:07,681 --> 02:29:14,700
eight times T plus two times B that's

2350
02:29:10,110 --> 02:29:18,150
the sort of the version of this that

2351
02:29:14,700 --> 02:29:22,110
gets us our derivative right so you know

2352
02:29:18,149 --> 02:29:24,299
we could do that and then you know in

2353
02:29:22,110 --> 02:29:26,159
here where we're actually doing the

2354
02:29:24,299 --> 02:29:39,259
where we're still doing sort of that

2355
02:29:26,159 --> 02:29:42,260
that update I think that just works okay

2356
02:29:39,260 --> 02:29:42,260
probably

2357
02:29:49,271 --> 02:29:59,000
but the DDP part of it again is just

2358
02:29:52,521 --> 02:30:00,800
gonna be you know this here um so yeah

2359
02:29:59,000 --> 02:30:02,840
so looking at the acceleration range if

2360
02:30:00,799 --> 02:30:05,119
this is the acceleration range this is

2361
02:30:02,840 --> 02:30:11,059
how many units we want to accelerate

2362
02:30:05,120 --> 02:30:14,840
over you know what I mean then that's

2363
02:30:11,059 --> 02:30:17,689
how that would work and then down here

2364
02:30:14,840 --> 02:30:19,549
we would have two of these in the

2365
02:30:17,690 --> 02:30:23,690
acceleration case like you wouldn't have

2366
02:30:19,549 --> 02:30:38,449
to do that but in the deceleration case

2367
02:30:23,690 --> 02:30:41,409
you would right so you would essentially

2368
02:30:38,450 --> 02:30:44,180
have this

2369
02:30:41,409 --> 02:30:46,489
alright so either we get there and this

2370
02:30:44,180 --> 02:30:53,000
is zero because it would just be T

2371
02:30:46,489 --> 02:30:54,860
equals one which should in theory give

2372
02:30:53,000 --> 02:30:57,409
us zero for this because that's what

2373
02:30:54,860 --> 02:30:59,930
that's set to so in theory this should

2374
02:30:57,409 --> 02:31:03,079
be actually the deceleration range

2375
02:30:59,930 --> 02:31:09,771
version should just work and the

2376
02:31:03,079 --> 02:31:11,180
acceleration range it's the only one

2377
02:31:09,771 --> 02:31:13,540
that actually need to destroy this value

2378
02:31:11,180 --> 02:31:13,540
right

2379
02:31:26,299 --> 02:31:46,139
um I'm just trying to look at this here

2380
02:31:31,469 --> 02:31:48,179
so yes so looking in here at the range

2381
02:31:46,139 --> 02:31:51,180
we want to accelerate over there's also

2382
02:31:48,180 --> 02:31:58,530
I suppose in addition it's it's really

2383
02:31:51,180 --> 02:32:01,050
not clear to how fast you want to do

2384
02:31:58,530 --> 02:32:11,310
those two things so you have a speed as

2385
02:32:01,049 --> 02:32:13,319
well of of how you want those to go so

2386
02:32:11,309 --> 02:32:14,459
in the deceleration version now where

2387
02:32:13,319 --> 02:32:24,869
it's actually just stepping directly

2388
02:32:14,459 --> 02:32:27,119
there I'm not sure so this is a little

2389
02:32:24,870 --> 02:32:28,530
bit off so if we take the total P length

2390
02:32:27,120 --> 02:32:30,120
and we look at the deceleration range

2391
02:32:28,530 --> 02:32:35,010
then we're gonna say we're gonna map it

2392
02:32:30,120 --> 02:32:36,329
into that space right so this is the

2393
02:32:35,010 --> 02:32:39,228
part of the curve that would be

2394
02:32:36,329 --> 02:32:39,228
decelerating

2395
02:32:43,649 --> 02:32:49,501
then this part is actually needs to be

2396
02:32:47,220 --> 02:32:52,649
to that range because we're only taking

2397
02:32:49,501 --> 02:32:54,810
the halfway so we're actually lurking

2398
02:32:52,649 --> 02:32:59,989
such that it starts twice as far back as

2399
02:32:54,810 --> 02:32:59,989
that I believe that's correct

2400
02:33:17,158 --> 02:33:21,969
yeah so I'm not sure again though why

2401
02:33:20,648 --> 02:33:27,760
I'm getting that I think I might have

2402
02:33:21,969 --> 02:33:31,590
made a mistake in this one so let's make

2403
02:33:27,760 --> 02:33:31,590
these a little larger just temporarily

2404
02:33:36,090 --> 02:33:40,510
so if we're within the deceleration

2405
02:33:38,350 --> 02:33:44,818
range we map the T so that we're getting

2406
02:33:40,510 --> 02:33:50,078
the deceleration range to basically be

2407
02:33:44,818 --> 02:33:52,750
half of T goes from 0.5 to 1 right then

2408
02:33:50,078 --> 02:33:57,100
I want to blend there and I want to say

2409
02:33:52,750 --> 02:33:59,680
I want to lurk to the target P between

2410
02:33:57,100 --> 02:34:02,738
these two things that's that 0.5 is

2411
02:33:59,680 --> 02:34:04,328
actually where we would start on this so

2412
02:34:02,738 --> 02:34:06,879
the deceleration range times the

2413
02:34:04,328 --> 02:34:08,859
direction times 2 is actually back where

2414
02:34:06,879 --> 02:34:11,589
we would have been we use the blend this

2415
02:34:08,859 --> 02:34:13,390
way to go into the target a like so and

2416
02:34:11,590 --> 02:34:18,818
then we have the DDP equals the

2417
02:34:13,389 --> 02:34:20,288
deceleration range times this but again

2418
02:34:18,818 --> 02:34:22,930
that actually is wrong too so that

2419
02:34:20,289 --> 02:34:29,409
actually needed to be 2 as well in there

2420
02:34:22,930 --> 02:34:31,238
so I guess that's about right maybe but

2421
02:34:29,408 --> 02:34:33,578
it still it doesn't seem it doesn't seem

2422
02:34:31,238 --> 02:34:35,049
like it's really working at all so I

2423
02:34:33,578 --> 02:34:36,219
think I've got something very buggy

2424
02:34:35,049 --> 02:34:37,889
happening there but I'm just not sure

2425
02:34:36,219 --> 02:34:47,318
exactly what it is

2426
02:34:37,889 --> 02:34:54,309
Oh weird I'm not actually updating the

2427
02:34:47,318 --> 02:34:59,309
cameras position here though that was

2428
02:34:54,309 --> 02:34:59,309
weird so what was it doing in that case

2429
02:35:05,219 --> 02:35:14,698
what is going on there I'm gonna this

2430
02:35:11,529 --> 02:35:14,699
case at the moment by the way

2431
02:35:25,909 --> 02:35:31,950
so what am i doing weird there so I'm

2432
02:35:29,761 --> 02:35:33,899
lurking between this location on the

2433
02:35:31,950 --> 02:35:36,061
target P and I'm using the blend value

2434
02:35:33,899 --> 02:35:38,729
for that and I know that this has to be

2435
02:35:36,060 --> 02:35:42,270
something between 0.5 and 1 so I know my

2436
02:35:38,729 --> 02:35:49,199
T value is something reasonable right so

2437
02:35:42,271 --> 02:35:50,971
that seems fine and really so I don't

2438
02:35:49,200 --> 02:36:00,091
know I don't see a lot of issues with

2439
02:35:50,970 --> 02:36:02,819
that when I do my lerp here the GDP

2440
02:36:00,091 --> 02:36:04,681
value isn't really used right so that's

2441
02:36:02,819 --> 02:36:07,921
not getting used because I'm not hitting

2442
02:36:04,681 --> 02:36:10,560
this case so I don't really understand

2443
02:36:07,921 --> 02:36:12,120
how I'm getting that behavior what am I

2444
02:36:10,560 --> 02:36:14,690
doing wrong they're doing something

2445
02:36:12,120 --> 02:36:14,690
really wrong

2446
02:36:22,709 --> 02:36:26,919
because I should be able to map that in

2447
02:36:25,239 --> 02:36:33,699
right I mean there's nothing weird about

2448
02:36:26,920 --> 02:36:34,600
what's happening here I don't think you

2449
02:36:33,700 --> 02:36:36,870
know that should be really

2450
02:36:34,600 --> 02:36:36,870
straightforward

2451
02:37:11,431 --> 02:37:18,489
so I guess the mapping here is a little

2452
02:37:15,310 --> 02:37:23,649
bit possibly wrong but I don't think it

2453
02:37:18,489 --> 02:37:26,351
actually is I mean I guess the way you

2454
02:37:23,649 --> 02:37:28,989
could write this instead is to say that

2455
02:37:26,351 --> 02:37:34,540
if it's less than that then you're going

2456
02:37:28,989 --> 02:37:41,079
to map it into the actual double

2457
02:37:34,540 --> 02:37:43,271
deceleration range right and so when you

2458
02:37:41,079 --> 02:37:44,890
map it like that and and but you you

2459
02:37:43,271 --> 02:37:47,051
know when you do this you're gonna

2460
02:37:44,890 --> 02:37:48,550
naturally have to it's going to work out

2461
02:37:47,050 --> 02:37:50,319
to the same exact equation because you

2462
02:37:48,550 --> 02:37:56,619
have to offset it because you want the

2463
02:37:50,319 --> 02:37:58,360
back half of the curve right so I mean

2464
02:37:56,620 --> 02:38:01,030
it's gonna be that one way or the other

2465
02:37:58,360 --> 02:38:03,671
I mean that's that is the T value that

2466
02:38:01,030 --> 02:38:05,801
you are along the curve and then the

2467
02:38:03,671 --> 02:38:09,220
clamp T value is just saying well when I

2468
02:38:05,800 --> 02:38:13,569
update that you know I'd better not go

2469
02:38:09,220 --> 02:38:14,921
over one that all seems fine to the

2470
02:38:13,569 --> 02:38:17,199
blending value is literally just

2471
02:38:14,921 --> 02:38:19,810
computing the straightforward blend so

2472
02:38:17,200 --> 02:38:22,301
it's just doing the exact blend we were

2473
02:38:19,810 --> 02:38:26,619
doing before and then the lerp is just

2474
02:38:22,300 --> 02:38:28,510
using that value to get to the target so

2475
02:38:26,620 --> 02:38:32,851
as far as I know like this is the only

2476
02:38:28,511 --> 02:38:35,140
thing that could be wrong and I guess

2477
02:38:32,851 --> 02:38:38,351
there's plenty of opportunities for that

2478
02:38:35,140 --> 02:38:40,630
to be wrong I mean if I'm going from the

2479
02:38:38,351 --> 02:38:45,120
target position - whatever the direction

2480
02:38:40,630 --> 02:38:45,119
is times two times the range

2481
02:38:48,950 --> 02:39:03,141
oh I do still have to do the solve right

2482
02:38:58,569 --> 02:39:04,699
because that's not actually correct that

2483
02:39:03,140 --> 02:39:12,379
would only be correct if the speed was

2484
02:39:04,700 --> 02:39:14,601
linear right so that tells you your

2485
02:39:12,379 --> 02:39:17,899
linear displacement along the curve so

2486
02:39:14,601 --> 02:39:20,989
you do still need to do the solve right

2487
02:39:17,899 --> 02:39:25,190
you need to be able to solve for T along

2488
02:39:20,989 --> 02:39:28,699
that position so if you map where you

2489
02:39:25,190 --> 02:39:31,670
are in the deceleration range that only

2490
02:39:28,700 --> 02:39:35,420
tells you what your output T that's this

2491
02:39:31,670 --> 02:39:39,379
equation right but it doesn't tell you

2492
02:39:35,420 --> 02:39:41,810
what your input T would be so you

2493
02:39:39,379 --> 02:39:45,020
probably still do want to solve it this

2494
02:39:41,810 --> 02:39:47,079
way because if you don't solve it that

2495
02:39:45,021 --> 02:39:51,800
way you're in kind of a world of hurt

2496
02:39:47,079 --> 02:39:54,729
right I'm trying to think if there's any

2497
02:39:51,799 --> 02:39:54,729
other way to solve it

2498
02:40:02,870 --> 02:40:08,899
because you'd have to solve a cubic

2499
02:40:05,148 --> 02:40:13,329
wouldn't you I mean you have to solve a

2500
02:40:08,898 --> 02:40:13,329
T's cubed plus BT plus CT

2501
02:40:26,890 --> 02:40:31,011
so yeah for that deceleration I have no

2502
02:40:29,720 --> 02:40:33,549
idea how you do that without doing a

2503
02:40:31,011 --> 02:40:33,550
cubic solve

2504
02:40:53,148 --> 02:41:03,090
hmm I tell you man this stuff is really

2505
02:40:59,939 --> 02:41:04,710
nasty this is why most people just strap

2506
02:41:03,090 --> 02:41:07,290
proportional derivative controller to

2507
02:41:04,709 --> 02:41:08,969
everything call it a day it's because

2508
02:41:07,290 --> 02:41:10,680
actually trying to get something that

2509
02:41:08,969 --> 02:41:13,639
has a predictable curve behavior turns

2510
02:41:10,680 --> 02:41:13,639
out to be really nasty

2511
02:41:15,520 --> 02:41:18,908
[Music]

2512
02:41:31,101 --> 02:41:35,730
so I guess what I could do is I could

2513
02:41:33,629 --> 02:41:37,379
solve for the curve that's at this

2514
02:41:35,729 --> 02:41:39,840
starting from this point with this

2515
02:41:37,379 --> 02:41:41,310
velocity and hits the other point with

2516
02:41:39,840 --> 02:41:49,829
the velocity of zero

2517
02:41:41,310 --> 02:41:51,270
what would the curve be but I still

2518
02:41:49,829 --> 02:41:55,409
don't really know how far along that

2519
02:41:51,271 --> 02:41:57,811
curve to step but what I mean to say

2520
02:41:55,409 --> 02:42:00,750
there is I could say well during the

2521
02:41:57,810 --> 02:42:02,969
deceleration phase if I wanted to I

2522
02:42:00,750 --> 02:42:08,700
could do something like say well I know

2523
02:42:02,969 --> 02:42:10,079
I've got you know this this construction

2524
02:42:08,700 --> 02:42:13,829
that I did up here so I know I've got

2525
02:42:10,079 --> 02:42:15,780
this and I guess what I would say is if

2526
02:42:13,829 --> 02:42:19,351
I wanted to have the acceleration that I

2527
02:42:15,780 --> 02:42:27,061
have currently and I want to end at zero

2528
02:42:19,351 --> 02:42:31,409
and I know how far I have to go you know

2529
02:42:27,060 --> 02:42:36,209
what is that curve look like and so that

2530
02:42:31,409 --> 02:42:39,500
would be saying yeah that would be

2531
02:42:36,209 --> 02:42:39,500
saying like okay

2532
02:42:57,511 --> 02:43:07,711
I guess that would be saying okay I know

2533
02:43:00,960 --> 02:43:10,109
that I want to have an acceleration port

2534
02:43:07,710 --> 02:43:12,510
proportional to this T value anyway

2535
02:43:10,110 --> 02:43:16,319
because I know I can't really solve for

2536
02:43:12,511 --> 02:43:19,711
the actual T value without a lot of

2537
02:43:16,319 --> 02:43:22,979
stress so I do still want to produce the

2538
02:43:19,710 --> 02:43:25,229
value as a DP value and the DP value is

2539
02:43:22,979 --> 02:43:27,270
going to be whatever you would expect to

2540
02:43:25,229 --> 02:43:33,511
be along that target but then you'll

2541
02:43:27,271 --> 02:43:35,751
overshoot I just do not see any good

2542
02:43:33,511 --> 02:43:37,890
solution here to do it this way

2543
02:43:35,751 --> 02:43:55,530
everything really wants you to solve a

2544
02:43:37,890 --> 02:44:08,161
cubic or specify time I I see literally

2545
02:43:55,530 --> 02:44:10,461
no good answers I'm gonna have to work

2546
02:44:08,161 --> 02:44:10,460
on it

2547
02:44:22,200 --> 02:44:25,331
I'm gonna have to see if I could come up

2548
02:44:24,190 --> 02:44:28,001
with something that I think would be

2549
02:44:25,331 --> 02:44:29,591
reasonable here we can't always fall

2550
02:44:28,001 --> 02:44:34,780
back to something that is basically just

2551
02:44:29,591 --> 02:44:37,360
a proportional derivative controller you

2552
02:44:34,780 --> 02:44:42,041
know which we can clamp out and probably

2553
02:44:37,360 --> 02:44:43,541
be fine I just it would have been really

2554
02:44:42,040 --> 02:44:48,939
nice if we could have find something

2555
02:44:43,540 --> 02:44:50,109
better than that right you know I would

2556
02:44:48,940 --> 02:44:53,021
have I would have preferred that

2557
02:44:50,110 --> 02:44:57,551
certainly if we did want to do something

2558
02:44:53,021 --> 02:44:59,471
like that then it's easier right if we

2559
02:44:57,550 --> 02:45:02,319
do want to sort of not try to have a

2560
02:44:59,470 --> 02:45:03,939
resolved rate curve proportional

2561
02:45:02,319 --> 02:45:06,069
derivative controller update steps are

2562
02:45:03,940 --> 02:45:09,280
very straightforward which I guess is

2563
02:45:06,069 --> 02:45:11,020
one nice thing and I guess I'll put one

2564
02:45:09,280 --> 02:45:13,239
of those in for now because I would like

2565
02:45:11,021 --> 02:45:16,480
to end the stream with having something

2566
02:45:13,239 --> 02:45:18,130
reasonable in place for that and so if I

2567
02:45:16,479 --> 02:45:22,449
get rid of all of that stuff that we

2568
02:45:18,130 --> 02:45:28,479
were doing there what I want to do here

2569
02:45:22,450 --> 02:45:33,521
is look at the DP and I want to match my

2570
02:45:28,479 --> 02:45:35,921
target DP if ideally as well and so we

2571
02:45:33,521 --> 02:45:37,900
kind of need to get that value from the

2572
02:45:35,921 --> 02:45:41,050
game at some point and we're good so

2573
02:45:37,899 --> 02:45:47,319
we're gonna need that but so we're gonna

2574
02:45:41,050 --> 02:45:49,180
need a DP of the target and right now

2575
02:45:47,319 --> 02:45:52,331
I'll set that to zero but it's gonna

2576
02:45:49,181 --> 02:45:55,721
give us bad behavior and so we're gonna

2577
02:45:52,331 --> 02:45:57,091
have to you know get that out but the

2578
02:45:55,720 --> 02:45:58,930
proportional derivative controller

2579
02:45:57,091 --> 02:46:01,110
construction you've seen me do many

2580
02:45:58,931 --> 02:46:03,730
times before it's not very complicated

2581
02:46:01,110 --> 02:46:06,041
all you're effectively doing is doing an

2582
02:46:03,729 --> 02:46:10,149
update step that you would normally do

2583
02:46:06,040 --> 02:46:12,699
in anything else I'm not gonna do it I'm

2584
02:46:10,149 --> 02:46:16,511
gonna compute it in two steps so I'm

2585
02:46:12,700 --> 02:46:19,121
going to compute the DP first here and

2586
02:46:16,511 --> 02:46:24,371
this is this is gonna be the speed so I

2587
02:46:19,120 --> 02:46:26,409
might say like it's just a velocity

2588
02:46:24,370 --> 02:46:29,439
value so I might call it that because

2589
02:46:26,409 --> 02:46:31,630
it's not the actual vector um if that

2590
02:46:29,440 --> 02:46:32,739
makes sense but we're gonna compute a DP

2591
02:46:31,630 --> 02:46:35,079
vector here

2592
02:46:32,739 --> 02:46:37,420
then we're gonna update it based on the

2593
02:46:35,079 --> 02:46:39,010
time step here right and so I'm gonna

2594
02:46:37,420 --> 02:46:44,290
use the same construction that I used

2595
02:46:39,010 --> 02:46:45,340
before which was this and the reason

2596
02:46:44,290 --> 02:46:48,760
that I'm going to do that is because I

2597
02:46:45,340 --> 02:46:50,560
want to know in this case if the length

2598
02:46:48,760 --> 02:46:52,870
of the thing if you know if the amount

2599
02:46:50,560 --> 02:46:57,549
that I was gonna step by is going to

2600
02:46:52,870 --> 02:46:59,050
exceed the the is gonna exceed the

2601
02:46:57,549 --> 02:47:00,459
distance that I needed to go that I'm

2602
02:46:59,049 --> 02:47:05,289
gonna actually do something more like

2603
02:47:00,459 --> 02:47:07,689
this right so in order to produce the DP

2604
02:47:05,290 --> 02:47:09,790
you know the actual speed value it's

2605
02:47:07,690 --> 02:47:12,010
really just a measure of the distance so

2606
02:47:09,790 --> 02:47:16,181
it's the target it's you know it's it's

2607
02:47:12,010 --> 02:47:24,130
the the Delta that I need to go here

2608
02:47:16,181 --> 02:47:25,450
right and I guess you know now I think

2609
02:47:24,129 --> 02:47:27,129
about it I could probably produce it

2610
02:47:25,450 --> 02:47:38,771
this way so maybe I take it back I can't

2611
02:47:27,129 --> 02:47:40,149
just call it this um so the difference

2612
02:47:38,771 --> 02:47:42,159
between where I'm going and where I'm

2613
02:47:40,149 --> 02:47:48,239
trying to go to right whatever that

2614
02:47:42,159 --> 02:47:48,239
value is I apply some kind of

2615
02:47:48,810 --> 02:47:56,770
coefficient to it and that is my you

2616
02:47:52,090 --> 02:47:59,799
know sort of a coefficient right and

2617
02:47:56,771 --> 02:48:02,380
then I've got another term which is a

2618
02:47:59,799 --> 02:48:09,090
term that specifies how I want to adjust

2619
02:48:02,379 --> 02:48:13,270
the target velocity so whatever my

2620
02:48:09,090 --> 02:48:17,409
current speed is that I was using versus

2621
02:48:13,271 --> 02:48:20,860
the speed that you know that the target

2622
02:48:17,409 --> 02:48:22,989
itself is moving and this is going to be

2623
02:48:20,860 --> 02:48:23,980
what my acceleration value is so

2624
02:48:22,989 --> 02:48:28,060
actually I guess I should have written

2625
02:48:23,979 --> 02:48:30,069
that as a deep DP there right and so I

2626
02:48:28,060 --> 02:48:32,709
want to remember what my actual DP is

2627
02:48:30,069 --> 02:48:34,420
and I guess I want to be able to you

2628
02:48:32,709 --> 02:48:40,350
know feed that back in here so that I

2629
02:48:34,420 --> 02:48:40,351
can so that I can can update it right

2630
02:48:49,500 --> 02:49:03,209
like it written back yeah alright so

2631
02:49:00,521 --> 02:49:05,771
using a simple update step like this

2632
02:49:03,209 --> 02:49:07,449
allows me to set two parameters two

2633
02:49:05,771 --> 02:49:09,280
tuning parameters and those tuning

2634
02:49:07,450 --> 02:49:12,690
parameters are how much I want the

2635
02:49:09,280 --> 02:49:17,891
velocity difference to be accounted for

2636
02:49:12,690 --> 02:49:19,210
and how much I want the positional

2637
02:49:17,890 --> 02:49:22,959
difference to be accounted for

2638
02:49:19,209 --> 02:49:25,239
right and so each of those terms comes

2639
02:49:22,959 --> 02:49:27,279
you know as I get further away from the

2640
02:49:25,239 --> 02:49:29,319
target this term becomes more dominant

2641
02:49:27,280 --> 02:49:32,440
as I get closer to the target this term

2642
02:49:29,319 --> 02:49:36,340
becomes more dominant because you know

2643
02:49:32,440 --> 02:49:37,870
this one starts to fade away and it's

2644
02:49:36,340 --> 02:49:39,340
more about the difference in velocity

2645
02:49:37,870 --> 02:49:42,070
between the two things which this often

2646
02:49:39,340 --> 02:49:43,450
times will be zero and this often times

2647
02:49:42,069 --> 02:49:46,539
will be larger because I'm trying to

2648
02:49:43,450 --> 02:49:47,159
like get those you know to to line up to

2649
02:49:46,540 --> 02:49:50,440
come to rest

2650
02:49:47,159 --> 02:49:52,869
um so typically what I want to do here

2651
02:49:50,440 --> 02:49:54,851
is I want to say well what whatever the

2652
02:49:52,870 --> 02:49:57,490
difference is in these two things you

2653
02:49:54,851 --> 02:49:59,470
know I want my I want to match the speed

2654
02:49:57,489 --> 02:50:01,299
of the target what's gonna be zero so

2655
02:49:59,469 --> 02:50:03,399
this this value is actually gonna like

2656
02:50:01,299 --> 02:50:04,449
penalize me for going too fast right and

2657
02:50:03,399 --> 02:50:05,619
we're gonna have to play with these two

2658
02:50:04,450 --> 02:50:09,130
values and see what we want them to

2659
02:50:05,620 --> 02:50:12,910
actually be right and we got to actually

2660
02:50:09,129 --> 02:50:15,189
get this in there at some point so now

2661
02:50:12,909 --> 02:50:16,719
in order to produce this this actual you

2662
02:50:15,190 --> 02:50:18,489
know make all this work right I've got

2663
02:50:16,719 --> 02:50:21,399
to be able to integrate this D D you

2664
02:50:18,489 --> 02:50:23,110
know this d DP up right and so in order

2665
02:50:21,399 --> 02:50:26,109
to integrate it up I need to produce a

2666
02:50:23,110 --> 02:50:27,550
DP value which is actually like the more

2667
02:50:26,110 --> 02:50:32,950
correct speed there right I need to

2668
02:50:27,549 --> 02:50:35,770
produce the actual I need to produce the

2669
02:50:32,950 --> 02:50:37,240
actual velocity and since that wants to

2670
02:50:35,771 --> 02:50:42,010
be smooth I need to take the

2671
02:50:37,239 --> 02:50:45,310
acceleration and I need to produce the

2672
02:50:42,010 --> 02:50:47,350
the delta from that right so I need to

2673
02:50:45,310 --> 02:50:49,389
say look I'm going to take the

2674
02:50:47,350 --> 02:50:54,430
however much I said I was supposed to

2675
02:50:49,389 --> 02:50:59,439
change here and I guess that's one of

2676
02:50:54,430 --> 02:51:02,590
those two yeah cuz this is all this is

2677
02:50:59,440 --> 02:51:03,940
all in three dimensions now right so I

2678
02:51:02,590 --> 02:51:06,790
need to take however much I was supposed

2679
02:51:03,940 --> 02:51:09,880
to do here I need to integrate that up

2680
02:51:06,790 --> 02:51:13,450
so I need to produce this by multiplying

2681
02:51:09,879 --> 02:51:16,599
by my DT you know and I need to add

2682
02:51:13,450 --> 02:51:21,010
whatever the old one was so whatever the

2683
02:51:16,600 --> 02:51:25,890
cameras DP used to be I'm doing gonna do

2684
02:51:21,010 --> 02:51:30,550
that now so once I produce those values

2685
02:51:25,889 --> 02:51:32,529
then finally I need to take the step so

2686
02:51:30,549 --> 02:51:37,149
whatever the p-value should have been

2687
02:51:32,530 --> 02:51:41,530
here I need to take that actual step and

2688
02:51:37,149 --> 02:51:43,149
doing that actually requires me to if I

2689
02:51:41,530 --> 02:51:47,860
wanted to do the integration a little

2690
02:51:43,149 --> 02:51:53,170
more carefully here you know technically

2691
02:51:47,860 --> 02:51:55,239
P is equal to whatever the acceleration

2692
02:51:53,170 --> 02:51:59,021
was here and I should probably write the

2693
02:51:55,239 --> 02:52:01,569
DT on the other side of this right it's

2694
02:51:59,021 --> 02:52:06,640
actually 1/2 a teaspoon to grate it up

2695
02:52:01,569 --> 02:52:08,100
twice and that's the acceleration that's

2696
02:52:06,639 --> 02:52:11,729
actually the correct way that it would

2697
02:52:08,100 --> 02:52:15,069
that it would apply over the time step

2698
02:52:11,729 --> 02:52:19,840
and then I've got my velocity which I've

2699
02:52:15,069 --> 02:52:24,039
just computed which is this right so

2700
02:52:19,840 --> 02:52:28,239
that's that gets applied times the times

2701
02:52:24,040 --> 02:52:34,450
DT in this case I just want to apply the

2702
02:52:28,239 --> 02:52:39,489
old one and then I want to add whatever

2703
02:52:34,450 --> 02:52:40,930
the old position was right so that's the

2704
02:52:39,489 --> 02:52:43,329
full integration with the proportional

2705
02:52:40,930 --> 02:52:47,889
derivative controller in it and then

2706
02:52:43,329 --> 02:52:49,569
I've got my my case where I would just

2707
02:52:47,889 --> 02:52:52,299
set it directly to look at the target P

2708
02:52:49,569 --> 02:52:54,430
with that I could do anything else and

2709
02:52:52,299 --> 02:52:56,949
so in that case again this would just

2710
02:52:54,430 --> 02:52:58,659
become 0 or actually it would become

2711
02:52:56,950 --> 02:53:00,490
whatever the DP of the target was

2712
02:52:58,659 --> 02:53:04,119
because that's I'm just moving

2713
02:53:00,489 --> 02:53:06,069
with it am I my GDP in this case would

2714
02:53:04,120 --> 02:53:13,200
be completely zero case I care I don't

2715
02:53:06,069 --> 02:53:16,959
but in case I do right and so yeah

2716
02:53:13,200 --> 02:53:20,290
moving looking at what's gonna happen

2717
02:53:16,959 --> 02:53:21,849
here I mean you still need an if to see

2718
02:53:20,290 --> 02:53:23,950
whether I'm close enough to the target

2719
02:53:21,850 --> 02:53:27,460
that I shouldn't actually take the step

2720
02:53:23,950 --> 02:53:31,110
and so this update here is one giant

2721
02:53:27,459 --> 02:53:34,089
vector right this is effectively a new P

2722
02:53:31,110 --> 02:53:42,540
in a sense right and so if I wanted to

2723
02:53:34,090 --> 02:53:45,130
take this as a delta P it's just this

2724
02:53:42,540 --> 02:53:47,950
right that's the amount that I'm moving

2725
02:53:45,129 --> 02:53:50,259
it by if I wanted to take that Delta P

2726
02:53:47,950 --> 02:53:54,430
what I can do is say look if the length

2727
02:53:50,260 --> 02:53:56,200
of the Delta P is less than some amount

2728
02:53:54,430 --> 02:53:57,850
I don't care about and I could avoid the

2729
02:53:56,200 --> 02:54:01,240
square root here by just saying look if

2730
02:53:57,850 --> 02:54:07,329
the length squared is less than you know

2731
02:54:01,239 --> 02:54:09,159
some epsilon right or sorry if the

2732
02:54:07,329 --> 02:54:13,329
length squared is less than the distance

2733
02:54:09,159 --> 02:54:17,020
to the target right so in this case

2734
02:54:13,329 --> 02:54:19,170
whatever the total Delta P was and these

2735
02:54:17,020 --> 02:54:21,760
are not is there anymore

2736
02:54:19,170 --> 02:54:25,270
so if the length squared is less than

2737
02:54:21,760 --> 02:54:27,250
how far I have to go then just you know

2738
02:54:25,270 --> 02:54:29,500
or maybe I'll get to the right if it's

2739
02:54:27,250 --> 02:54:31,899
greater than then do the actual update

2740
02:54:29,500 --> 02:54:35,680
step otherwise just assume I arrive at

2741
02:54:31,899 --> 02:54:37,899
the target you know I mean um and then

2742
02:54:35,680 --> 02:54:39,309
we just track that Delta P each time so

2743
02:54:37,899 --> 02:54:41,199
you know when we write everything back

2744
02:54:39,309 --> 02:54:43,260
we write back our Delta P as well so our

2745
02:54:41,200 --> 02:54:47,079
camera keeps its acceleration and stuff

2746
02:54:43,260 --> 02:54:48,550
and that's again just a very simple

2747
02:54:47,079 --> 02:54:50,079
controller they're not good they can

2748
02:54:48,549 --> 02:54:54,579
overshoot they could do a lot of stupid

2749
02:54:50,079 --> 02:54:56,020
things but the bonus is at least if I do

2750
02:54:54,579 --> 02:54:58,299
bug why it's doing something weird like

2751
02:54:56,020 --> 02:55:04,329
that if the length squared is of the

2752
02:54:58,299 --> 02:55:05,799
Delta P sorry it is less than if the

2753
02:55:04,329 --> 02:55:09,389
amount I would move it is less than the

2754
02:55:05,799 --> 02:55:09,389
total that's what I meant to do

2755
02:55:13,069 --> 02:55:19,520
and now you can kind of see like the

2756
02:55:16,790 --> 02:55:22,070
cameras just kind of doing its thing

2757
02:55:19,520 --> 02:55:25,040
I got a again we don't have a lerp for

2758
02:55:22,069 --> 02:55:30,020
the for these guys right now so we got

2759
02:55:25,040 --> 02:55:38,630
to kind of pretend they're you know out

2760
02:55:30,020 --> 02:55:41,600
in la-la land they're like so um but

2761
02:55:38,629 --> 02:55:46,549
that will give an always smooth approach

2762
02:55:41,600 --> 02:55:49,280
there you can kind of see and the easing

2763
02:55:46,549 --> 02:55:51,679
in is not quite where we would like it

2764
02:55:49,280 --> 02:55:54,260
and you can see it kind of circling

2765
02:55:51,680 --> 02:55:58,010
there a little bit and so you know you

2766
02:55:54,260 --> 02:56:00,909
gotta adjust these terms a bit to make

2767
02:55:58,010 --> 02:56:04,130
them stiffer I don't know what the best

2768
02:56:00,909 --> 02:56:08,270
time to be probably something higher

2769
02:56:04,129 --> 02:56:10,819
here no we could put we could put those

2770
02:56:08,270 --> 02:56:13,930
in as dialable parameters as well right

2771
02:56:10,819 --> 02:56:13,930
in our camera code

2772
02:56:18,630 --> 02:56:25,409
yes so I think we want some pretty high

2773
02:56:22,331 --> 02:56:25,409
values for a there

2774
02:56:44,260 --> 02:56:49,870
so you know again most of the reason why

2775
02:56:47,780 --> 02:56:51,620
you use one of these is just because

2776
02:56:49,870 --> 02:56:55,130
proportional derivative controller us

2777
02:56:51,620 --> 02:56:57,950
have the benefit of they kind of just

2778
02:56:55,129 --> 02:57:00,979
work and they don't give you any

2779
02:56:57,950 --> 02:57:02,780
resolved like any absolutes so you can

2780
02:57:00,979 --> 02:57:05,930
get some drifting and some weirdness in

2781
02:57:02,780 --> 02:57:07,940
there but they don't really have any

2782
02:57:05,930 --> 02:57:11,360
other issues related to them in that

2783
02:57:07,940 --> 02:57:13,760
sense so I would like something better

2784
02:57:11,360 --> 02:57:15,829
than that but just that exploration did

2785
02:57:13,760 --> 02:57:17,239
not seem fruitful and it seemed like we

2786
02:57:15,829 --> 02:57:20,209
were gonna get something pretty hard to

2787
02:57:17,239 --> 02:57:22,430
control if that makes sense we can clamp

2788
02:57:20,209 --> 02:57:24,409
these values as well so we can make sure

2789
02:57:22,430 --> 02:57:25,640
that we're actually not gonna get into

2790
02:57:24,409 --> 02:57:27,110
some really bad state

2791
02:57:25,640 --> 02:57:30,079
cuz that's usually what you worry about

2792
02:57:27,110 --> 02:57:35,150
when your values start to overflow so we

2793
02:57:30,079 --> 02:57:36,351
can put a clamp in there and we should

2794
02:57:35,149 --> 02:57:38,840
probably do that but the other thing I

2795
02:57:36,351 --> 02:57:41,960
want to do is for these with the target

2796
02:57:38,840 --> 02:57:44,690
expected focus Minzy and that stuff um I

2797
02:57:41,959 --> 02:57:47,560
think what I'd like to do there is just

2798
02:57:44,690 --> 02:57:47,560
make it so that

2799
02:57:52,909 --> 02:57:59,180
I'd like to have some notion of the

2800
02:57:56,351 --> 02:58:02,710
interpolation being based on how far we

2801
02:57:59,180 --> 02:58:06,319
are from the target that makes sense

2802
02:58:02,709 --> 02:58:11,659
like I want the expected min focus and

2803
02:58:06,319 --> 02:58:14,000
stuff I would like that to be kind of

2804
02:58:11,659 --> 02:58:16,489
more based on just where the camera is

2805
02:58:14,000 --> 02:58:22,280
but the problem is it's hard to know how

2806
02:58:16,489 --> 02:58:25,899
to do that exactly I'm not sure how to

2807
02:58:22,280 --> 02:58:31,940
put in a good blend here you know

2808
02:58:25,899 --> 02:58:38,649
something that would make thing these

2809
02:58:31,940 --> 02:58:38,649
things track the distance better

2810
02:58:47,828 --> 02:58:54,270
I mean we could kind of make them follow

2811
02:58:51,039 --> 02:58:54,270
this approach

2812
02:59:02,379 --> 02:59:08,539
and another way maybe to do that would

2813
02:59:06,140 --> 02:59:11,119
be to say look we can figure out how far

2814
02:59:08,540 --> 02:59:15,400
we are from the target camera and use

2815
02:59:11,120 --> 02:59:18,521
that as the blend amount or make that

2816
02:59:15,399 --> 02:59:21,011
imply the speed I don't know

2817
02:59:18,521 --> 02:59:23,061
blending these together is going to be

2818
02:59:21,011 --> 02:59:28,700
sort of tricky because if you think

2819
02:59:23,060 --> 02:59:31,761
about what we actually want Jimmy um

2820
02:59:28,700 --> 02:59:36,070
when we're setting these like the entity

2821
02:59:31,761 --> 02:59:45,159
focus in the room focus values here for

2822
02:59:36,069 --> 02:59:45,159
for these blending those together

2823
02:59:48,700 --> 02:59:52,880
blending those is going to be tough

2824
02:59:50,780 --> 02:59:55,641
because you can see what happens there

2825
02:59:52,879 --> 02:59:56,420
how we get a blackout right that's

2826
02:59:55,640 --> 02:59:58,850
because they're getting set

2827
02:59:56,420 --> 03:00:00,560
instantaneously to the new one so we

2828
02:59:58,851 --> 03:00:02,721
want to blend smoothly between the new

2829
03:00:00,560 --> 03:00:06,101
one and the old one but we what we

2830
03:00:02,720 --> 03:00:18,109
really want is something that maintains

2831
03:00:06,101 --> 03:00:21,250
sort of a notion of of where the

2832
03:00:18,110 --> 03:00:25,391
intermediate target would have been

2833
03:00:21,250 --> 03:00:30,440
versus us like I almost want to say that

2834
03:00:25,390 --> 03:00:32,810
when you're doing this blend you know if

2835
03:00:30,440 --> 03:00:35,271
you're looking here the room focus see

2836
03:00:32,810 --> 03:00:37,250
is based on the camera arm and the

2837
03:00:35,271 --> 03:00:40,551
camera arm is something that we sort of

2838
03:00:37,250 --> 03:00:43,521
vaguely know what it is because we know

2839
03:00:40,550 --> 03:00:45,260
what it was and then we know what it's

2840
03:00:43,521 --> 03:00:47,570
going to be and so you could almost

2841
03:00:45,261 --> 03:00:52,181
imagine interpolating that as like

2842
03:00:47,569 --> 03:00:57,129
another target parameter that could be

2843
03:00:52,181 --> 03:00:57,130
interpolated along with this right

2844
03:01:19,889 --> 03:01:25,989
so yeah I don't really know how else we

2845
03:01:22,870 --> 03:01:28,570
would do that other than setting it up

2846
03:01:25,989 --> 03:01:39,329
to interpolate sort of the same way that

2847
03:01:28,569 --> 03:01:39,329
this is interpolating or just probing it

2848
03:01:47,959 --> 03:02:01,219
I don't got a lot of ideas there if I'm

2849
03:01:53,180 --> 03:02:03,770
honest about it you know that's the

2850
03:02:01,219 --> 03:02:07,939
target entity focus see the current

2851
03:02:03,770 --> 03:02:13,970
entity focus see he's just looking at

2852
03:02:07,940 --> 03:02:15,680
where the right like wherever the entity

2853
03:02:13,969 --> 03:02:19,039
is that we're trying to look at

2854
03:02:15,680 --> 03:02:22,760
we know that wherever we are so this is

2855
03:02:19,040 --> 03:02:24,650
the actual entity focus Z and so the

2856
03:02:22,760 --> 03:02:27,710
thing that I'm wondering about is like

2857
03:02:24,649 --> 03:02:29,629
do we want to just base things off of

2858
03:02:27,709 --> 03:02:35,089
that more I don't know what that would

2859
03:02:29,629 --> 03:02:37,129
do probably nothing good so yeah a lot

2860
03:02:35,090 --> 03:02:40,880
of puzzlers here I'm not sure what the

2861
03:02:37,129 --> 03:02:45,139
best way would be to make that code

2862
03:02:40,879 --> 03:02:46,609
happen because you want it synchronized

2863
03:02:45,139 --> 03:02:49,119
with something that I'm not sure exactly

2864
03:02:46,610 --> 03:02:49,120
what it is

2865
03:03:00,101 --> 03:03:04,450
and you want to interpolate at some rate

2866
03:03:03,069 --> 03:03:06,399
that's roughly commensurate with how

2867
03:03:04,450 --> 03:03:08,290
fast the cameras interpolating but since

2868
03:03:06,399 --> 03:03:09,459
the camera is using a proportional

2869
03:03:08,290 --> 03:03:21,101
derivative control you really don't have

2870
03:03:09,459 --> 03:03:29,020
that option you know hmm so that's a

2871
03:03:21,101 --> 03:03:31,090
little bit tricky but I don't know so

2872
03:03:29,021 --> 03:03:32,530
I'll just throw them into the

2873
03:03:31,090 --> 03:03:34,989
proportional derivative controller with

2874
03:03:32,530 --> 03:03:38,141
the rest of the system and see what

2875
03:03:34,989 --> 03:03:41,560
happens I wish I had a better answer for

2876
03:03:38,140 --> 03:03:45,729
you than that but I don't and so if we

2877
03:03:41,560 --> 03:03:51,069
were to do that you know we just compute

2878
03:03:45,729 --> 03:03:54,039
that directly right we would say all

2879
03:03:51,069 --> 03:04:08,789
right you know what's the speed of these

2880
03:03:54,040 --> 03:04:19,601
things right and then we'd update them

2881
03:04:08,790 --> 03:04:31,480
so we just say yeah like this code

2882
03:04:19,601 --> 03:04:34,120
literally and this is all F 32s now but

2883
03:04:31,479 --> 03:04:36,159
you're literally doing this and when you

2884
03:04:34,120 --> 03:04:37,931
go to compute this thing you're gonna

2885
03:04:36,159 --> 03:04:39,700
use the same thing but now like the

2886
03:04:37,931 --> 03:04:42,069
targets and stuff are specified from

2887
03:04:39,700 --> 03:04:45,159
here so you'd basically have like okay

2888
03:04:42,069 --> 03:04:48,640
whatever the target expected focus mimsy

2889
03:04:45,159 --> 03:04:50,229
is right is where we're going to and

2890
03:04:48,640 --> 03:04:56,289
whatever the expected focus mimsy is

2891
03:04:50,229 --> 03:04:58,779
this where we're coming from you don't

2892
03:04:56,290 --> 03:05:03,630
have this term because you know it's

2893
03:04:58,780 --> 03:05:06,070
always zero because you don't haven't a

2894
03:05:03,629 --> 03:05:07,689
changing value of that really although I

2895
03:05:06,069 --> 03:05:11,079
guess you could argue that you actually

2896
03:05:07,690 --> 03:05:13,301
do when you're going downstairs so maybe

2897
03:05:11,079 --> 03:05:13,729
I shouldn't say that so maybe you really

2898
03:05:13,300 --> 03:05:16,220
do

2899
03:05:13,729 --> 03:05:25,341
have this which is the DP target value

2900
03:05:16,220 --> 03:05:27,199
for this thing right and then you've got

2901
03:05:25,341 --> 03:05:29,780
the velocity in there you then compute

2902
03:05:27,200 --> 03:05:34,690
what your DP is and you do it exactly

2903
03:05:29,780 --> 03:05:36,681
the same way and you use the you know

2904
03:05:34,690 --> 03:05:42,521
expect to focus them in there you

2905
03:05:36,681 --> 03:05:55,909
compute the Delta the exact same code

2906
03:05:42,521 --> 03:05:57,950
and then you see you know if if the

2907
03:05:55,909 --> 03:05:59,780
absolute value of those two things or

2908
03:05:57,950 --> 03:06:01,790
just the square of those two things you

2909
03:05:59,780 --> 03:06:08,841
could do right you could also just do if

2910
03:06:01,790 --> 03:06:12,820
square then you you set otherwise you're

2911
03:06:08,841 --> 03:06:12,819
done right

2912
03:06:16,479 --> 03:06:21,619
since I don't really think this should

2913
03:06:19,370 --> 03:06:24,141
be changing much because most of the

2914
03:06:21,620 --> 03:06:27,021
time the target relative to the camera

2915
03:06:24,140 --> 03:06:28,841
since you're moving the camera I think

2916
03:06:27,021 --> 03:06:32,870
you could probably eliminate this term

2917
03:06:28,841 --> 03:06:36,171
so I'm going to say like for now this is

2918
03:06:32,870 --> 03:06:36,921
always zero and so you would do this for

2919
03:06:36,171 --> 03:06:44,979
both of them

2920
03:06:36,921 --> 03:06:44,979
for both min and Max right oops

2921
03:06:46,360 --> 03:06:50,650
and then you call it a day

2922
03:06:55,140 --> 03:07:06,790
so yeah that's I think most of what you

2923
03:07:00,610 --> 03:07:16,060
would be doing and you know if we did

2924
03:07:06,790 --> 03:07:18,100
this real quick we could just say those

2925
03:07:16,060 --> 03:07:21,421
are the three update steps and we can

2926
03:07:18,101 --> 03:07:24,461
pull that out into code that actually

2927
03:07:21,421 --> 03:07:26,530
makes more sense

2928
03:07:24,460 --> 03:07:31,869
and is little were used on the next

2929
03:07:26,530 --> 03:07:34,811
stream so the total Delta P in this case

2930
03:07:31,870 --> 03:07:39,660
I need to actually compute right so this

2931
03:07:34,810 --> 03:07:39,659
would be the best value

2932
03:07:50,829 --> 03:07:57,869
and in this case - we've got the the

2933
03:07:52,719 --> 03:08:13,658
p-value is not actually that right it's

2934
03:07:57,869 --> 03:08:22,810
this so in this case we would just set

2935
03:08:13,658 --> 03:08:24,850
them directly and off we go and you can

2936
03:08:22,809 --> 03:08:27,760
see how we would be pretty easy to just

2937
03:08:24,850 --> 03:08:29,590
make the utilities that did these for us

2938
03:08:27,760 --> 03:08:31,420
so even though it looks like a lot of

2939
03:08:29,590 --> 03:08:33,398
code it's just the same code so we

2940
03:08:31,420 --> 03:08:36,189
should be able to just run that twice by

2941
03:08:33,398 --> 03:08:41,228
calling a function right and we'd be

2942
03:08:36,189 --> 03:08:42,550
done so you know that in theory attaches

2943
03:08:41,228 --> 03:08:46,510
the same proportional derivative

2944
03:08:42,549 --> 03:08:48,219
controller to both things but they're in

2945
03:08:46,510 --> 03:08:50,800
different spaces in one sweetie and

2946
03:08:48,219 --> 03:08:52,209
one's 1d so you know we don't have a lot

2947
03:08:50,799 --> 03:08:53,559
of reason to believe that they're

2948
03:08:52,209 --> 03:08:55,778
actually gonna work particularly well

2949
03:08:53,559 --> 03:08:58,299
and you can kind of see that there it's

2950
03:08:55,779 --> 03:09:00,908
taking a lot longer to do that now we

2951
03:08:58,299 --> 03:09:04,329
can adjust all the parameters to try and

2952
03:09:00,908 --> 03:09:06,010
make it so they you know are stiffer or

2953
03:09:04,329 --> 03:09:09,369
because that you know they're like I

2954
03:09:06,010 --> 03:09:11,439
said they're in different spaces so I

2955
03:09:09,369 --> 03:09:13,869
don't know I mean we can certainly say

2956
03:09:11,439 --> 03:09:16,568
that you know the a B here are not the

2957
03:09:13,869 --> 03:09:19,149
same a be that we have here you know

2958
03:09:16,568 --> 03:09:27,189
maybe this is like way stronger or

2959
03:09:19,148 --> 03:09:28,809
something but like I said that's that's

2960
03:09:27,189 --> 03:09:30,520
maybe something for next change time

2961
03:09:28,809 --> 03:09:32,969
like massively over time now it's like

2962
03:09:30,520 --> 03:09:32,970
almost four o'clock

2963
03:09:55,610 --> 03:10:00,540
and you can see where the DP target

2964
03:09:58,500 --> 03:10:02,100
might have been useful there right

2965
03:10:00,540 --> 03:10:05,010
because that would probably have

2966
03:10:02,100 --> 03:10:09,559
improved the the speed at which would

2967
03:10:05,010 --> 03:10:09,559
interpolate up to the entity there

2968
03:10:23,420 --> 03:10:33,478
are we not using the entity no we are so

2969
03:10:26,549 --> 03:10:37,159
what was that it does it does seem yeah

2970
03:10:33,478 --> 03:10:40,608
well anyway maybe I'll make this even

2971
03:10:37,159 --> 03:10:40,609
stronger than it was

2972
03:10:50,190 --> 03:10:54,040
because it just doesn't seem like it

2973
03:10:52,149 --> 03:10:55,299
catches up quite quickly enough as it as

2974
03:10:54,040 --> 03:10:59,620
it seems like it should

2975
03:10:55,299 --> 03:11:02,529
oh and you know why it's because it's

2976
03:10:59,620 --> 03:11:04,540
not actually measuring what the entity Z

2977
03:11:02,530 --> 03:11:07,720
it's it's measuring what it will be

2978
03:11:04,540 --> 03:11:09,930
after it interpolates so I can sort of

2979
03:11:07,719 --> 03:11:12,809
see why that would be wrong too

2980
03:11:09,930 --> 03:11:22,930
so we we have some more work to do there

2981
03:11:12,809 --> 03:11:24,789
right yeah so we'll have to take a look

2982
03:11:22,930 --> 03:11:26,649
at that I'll go to a really brief QA but

2983
03:11:24,790 --> 03:11:31,229
I I gotta go like it's way we're way

2984
03:11:26,649 --> 03:11:31,228
over time here this is a disaster

2985
03:11:51,680 --> 03:11:57,350
Paul MMH moving my racket to Linux is

2986
03:11:55,728 --> 03:12:01,369
always like sort of an eventual goal

2987
03:11:57,350 --> 03:12:02,930
someday you know we already have a

2988
03:12:01,370 --> 03:12:05,810
problem we're like like I don't want to

2989
03:12:02,930 --> 03:12:07,579
use Windows 10 because I really don't

2990
03:12:05,809 --> 03:12:11,689
like Windows 10 it's very unpredictable

2991
03:12:07,579 --> 03:12:13,010
and bad I mean they can't even chip

2992
03:12:11,689 --> 03:12:14,329
updates anymore right you saw what

2993
03:12:13,010 --> 03:12:15,978
happened the October update they tried

2994
03:12:14,329 --> 03:12:19,068
three times to ship the update and

2995
03:12:15,978 --> 03:12:22,340
couldn't do it it's like a fourth times

2996
03:12:19,068 --> 03:12:24,260
a charm kind of situation and and it's

2997
03:12:22,340 --> 03:12:25,488
just the unpredictability of it updating

2998
03:12:24,260 --> 03:12:28,670
it's on its own and doing all these

2999
03:12:25,488 --> 03:12:31,520
ridiculous things it's just not it's

3000
03:12:28,670 --> 03:12:33,260
Windows 10 is not a real opera it's not

3001
03:12:31,520 --> 03:12:33,979
a production quality operating system

3002
03:12:33,260 --> 03:12:35,600
right anymore

3003
03:12:33,978 --> 03:12:37,639
I mean you're not it's not something you

3004
03:12:35,600 --> 03:12:40,640
would ever trust to run mission-critical

3005
03:12:37,639 --> 03:12:53,448
stuff you know it's it's so far past

3006
03:12:40,639 --> 03:12:54,920
that ensue you know like I would like to

3007
03:12:53,449 --> 03:12:56,750
switch to Linux because I can lock that

3008
03:12:54,920 --> 03:12:58,609
down you know I can pick which kernel

3009
03:12:56,750 --> 03:13:00,260
gets built and I can put it on the

3010
03:12:58,609 --> 03:13:04,250
machines and I and I don't have to worry

3011
03:13:00,260 --> 03:13:06,559
about Microsoft like ruining our week

3012
03:13:04,250 --> 03:13:14,270
all the time by changing some update or

3013
03:13:06,559 --> 03:13:16,369
doing whatever right and so you know I

3014
03:13:14,270 --> 03:13:18,439
really want to do that but the problem

3015
03:13:16,370 --> 03:13:21,439
is that since most people don't use

3016
03:13:18,439 --> 03:13:24,550
Linux for things like this game

3017
03:13:21,439 --> 03:13:26,960
development on Linux is not that common

3018
03:13:24,549 --> 03:13:28,488
most of the stuff isn't it I mean I

3019
03:13:26,959 --> 03:13:30,829
don't even know what the status of n

3020
03:13:28,488 --> 03:13:32,930
site is on Linux hopefully it's you know

3021
03:13:30,829 --> 03:13:34,909
okay or there's something like that

3022
03:13:32,930 --> 03:13:37,488
there that you can use reliably right

3023
03:13:34,909 --> 03:13:40,369
but the Dib buggers aren't very good

3024
03:13:37,488 --> 03:13:42,260
you know gdb is very bad it crashes most

3025
03:13:40,370 --> 03:13:44,779
the time on this machine like just like

3026
03:13:42,260 --> 03:13:49,670
I just tried to debug a very simple like

3027
03:13:44,779 --> 03:13:51,380
program was it nearly as complicated and

3028
03:13:49,670 --> 03:13:54,978
made hero and gdb would crash every

3029
03:13:51,379 --> 03:13:56,809
second run just gdb let alone if I try

3030
03:13:54,978 --> 03:14:01,068
to attach a front end to gdb and that

3031
03:13:56,809 --> 03:14:04,068
crashes on its own often right and so

3032
03:14:01,068 --> 03:14:05,569
like it's just not I don't know like the

3033
03:14:04,068 --> 03:14:09,979
actual debugging

3034
03:14:05,569 --> 03:14:11,840
of it seems pretty bad the actual dev

3035
03:14:09,979 --> 03:14:18,229
environment for it just seems really bad

3036
03:14:11,840 --> 03:14:20,420
and I don't know why you know I don't

3037
03:14:18,229 --> 03:14:21,979
know why it's so bad since it's

3038
03:14:20,420 --> 03:14:24,280
something that lots of people do dev on

3039
03:14:21,979 --> 03:14:24,279
now

3040
03:14:33,860 --> 03:14:37,290
is the planet change to character face

3041
03:14:36,030 --> 03:14:39,329
direction when they move in a direction

3042
03:14:37,290 --> 03:14:42,360
over that we mapped a different key it's

3043
03:14:39,329 --> 03:14:45,899
a map to different keys so right now the

3044
03:14:42,360 --> 03:14:49,950
way that it works is you you can point

3045
03:14:45,899 --> 03:14:52,500
any direction you want and you can hop

3046
03:14:49,950 --> 03:14:57,120
in any direction you want which will

3047
03:14:52,500 --> 03:15:05,610
probably remain the same I don't know

3048
03:14:57,120 --> 03:15:06,840
for sure but probably right you can see

3049
03:15:05,610 --> 03:15:08,851
the proportion of college of stuff just

3050
03:15:06,840 --> 03:15:11,280
doesn't work that good for that for

3051
03:15:08,851 --> 03:15:12,840
first sliding I I'm we may want to

3052
03:15:11,280 --> 03:15:16,051
change it to something more linear like

3053
03:15:12,840 --> 03:15:17,851
just update those linearly you know like

3054
03:15:16,050 --> 03:15:21,319
we may want to not have an a/b value

3055
03:15:17,851 --> 03:15:21,319
like you may want to just do this

3056
03:15:32,950 --> 03:15:42,159
and you just say hey yeah we don't we

3057
03:15:41,139 --> 03:15:45,039
don't use a proportional derivative

3058
03:15:42,159 --> 03:15:51,629
controller for these we just say look if

3059
03:15:45,040 --> 03:15:53,500
we were gonna step you know the Delta

3060
03:15:51,629 --> 03:15:55,709
well you know I'm not gonna do that

3061
03:15:53,500 --> 03:16:03,399
right now there's just too much code

3062
03:15:55,709 --> 03:16:04,750
right if there were truly good better

3063
03:16:03,399 --> 03:16:06,039
than visual studio debugger for Linux

3064
03:16:04,750 --> 03:16:08,860
would that make Linux viable for game

3065
03:16:06,040 --> 03:16:10,750
dev probably although I don't know how

3066
03:16:08,860 --> 03:16:13,380
good the GPU support is still it used to

3067
03:16:10,750 --> 03:16:17,110
be very bad so hopefully that's better

3068
03:16:13,379 --> 03:16:21,819
but I'm not really sure I guess what I

3069
03:16:17,110 --> 03:16:24,610
would say is it would be a big big

3070
03:16:21,819 --> 03:16:27,789
improvement and you need both a debugger

3071
03:16:24,610 --> 03:16:30,689
for code and for GPU so both of those

3072
03:16:27,790 --> 03:16:30,689
need to be available

3073
03:16:32,728 --> 03:16:36,459
it looks like the average size dream is

3074
03:16:35,200 --> 03:16:37,870
currently too big to be seen without

3075
03:16:36,459 --> 03:16:39,489
scrolling is that what we want in the

3076
03:16:37,870 --> 03:16:41,829
end or is it just the average size room

3077
03:16:39,489 --> 03:16:43,809
is so I'm sorry yeah we we will play

3078
03:16:41,829 --> 03:16:46,049
with that later but we want to support

3079
03:16:43,809 --> 03:16:46,049
both

3080
03:16:58,810 --> 03:17:02,501
Oh as for code releases code releases

3081
03:17:01,181 --> 03:17:04,211
won't be released till after the game

3082
03:17:02,501 --> 03:17:05,829
it's it says right on the webpage two

3083
03:17:04,210 --> 03:17:10,569
years after the game gets released we

3084
03:17:05,829 --> 03:17:12,220
will release the code the updates for

3085
03:17:10,569 --> 03:17:15,729
you get applied for the camera for the

3086
03:17:12,220 --> 03:17:18,479
fog all right I'm gonna wrap it up I

3087
03:17:15,729 --> 03:17:18,479
gotta go

3088
03:17:26,398 --> 03:17:30,668
all right thank you everyone for joining

3089
03:17:28,959 --> 03:17:32,588
me for those set of handmade here it's a

3090
03:17:30,668 --> 03:17:33,699
pleasure coding with you as always even

3091
03:17:32,588 --> 03:17:36,850
if we couldn't quite figure out how to

3092
03:17:33,699 --> 03:17:37,810
get a good solver based approach in

3093
03:17:36,850 --> 03:17:39,220
there

3094
03:17:37,809 --> 03:17:40,988
I don't love for shield River

3095
03:17:39,219 --> 03:17:42,578
controllers for a lot of reasons but you

3096
03:17:40,988 --> 03:17:43,719
know that seems to be the most

3097
03:17:42,578 --> 03:17:45,189
straightforward way to get one that's

3098
03:17:43,719 --> 03:17:47,019
tunable then I guess that's what we got

3099
03:17:45,189 --> 03:17:49,148
to work with people reason for a reason

3100
03:17:47,020 --> 03:17:54,789
I do some other things sometimes in my

3101
03:17:49,148 --> 03:17:56,318
own code but yeah I I can't think of

3102
03:17:54,789 --> 03:17:58,709
anything in this particular situation

3103
03:17:56,318 --> 03:18:01,148
that really is going to be simple enough

3104
03:17:58,709 --> 03:18:04,050
so I don't know so we may just be stuck

3105
03:18:01,148 --> 03:18:07,448
with that and if we are that's okay

3106
03:18:04,049 --> 03:18:10,059
anyway that's it for now I'll be back

3107
03:18:07,449 --> 03:18:12,489
probably next weekend with the final one

3108
03:18:10,059 --> 03:18:13,868
before winter break you can always

3109
03:18:12,488 --> 03:18:16,538
stretch the watch page for the schedule

3110
03:18:13,869 --> 03:18:19,418
I try to keep it updated until then have

3111
03:18:16,539 --> 03:18:21,600
fun programming and I will see you next

3112
03:18:19,418 --> 03:18:21,600
time

