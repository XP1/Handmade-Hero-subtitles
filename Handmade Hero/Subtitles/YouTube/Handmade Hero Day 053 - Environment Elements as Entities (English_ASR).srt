1
00:00:00,140 --> 00:00:06,899
there we go hello everyone and welcome

2
00:00:04,259 --> 00:00:08,550
to handmade Hero the only show in the

3
00:00:06,899 --> 00:00:11,789
known universe where we show how to code

4
00:00:08,550 --> 00:00:15,210
a game live on the air from scratch

5
00:00:11,789 --> 00:00:16,948
every single line explained even when we

6
00:00:15,210 --> 00:00:18,839
have no idea what's going on and we're

7
00:00:16,949 --> 00:00:20,730
confused we will still explain every

8
00:00:18,839 --> 00:00:21,989
line and then we'll just correct

9
00:00:20,730 --> 00:00:24,118
ourselves later when we realize we've

10
00:00:21,989 --> 00:00:26,698
made a horrible horrible mistake that is

11
00:00:24,118 --> 00:00:29,189
my promise to you here on handmade hero

12
00:00:26,699 --> 00:00:32,250
no engines no libraries just good

13
00:00:29,189 --> 00:00:33,480
old-fashioned quote unquote engineering

14
00:00:32,250 --> 00:00:35,308
because my understanding is that

15
00:00:33,479 --> 00:00:37,259
engineering technically is a more

16
00:00:35,308 --> 00:00:38,039
defined term and like software engineers

17
00:00:37,259 --> 00:00:39,149
shouldn't really shouldn't use it

18
00:00:38,039 --> 00:00:41,189
because really they're just programmers

19
00:00:39,149 --> 00:00:43,829
but either way whatever you want to call

20
00:00:41,189 --> 00:00:45,119
it it's pretty awesome and we're about

21
00:00:43,829 --> 00:00:49,590
to do some more of it so I highly

22
00:00:45,119 --> 00:00:52,799
recommend sticking around for precisely

23
00:00:49,590 --> 00:00:54,390
that kind of awesome now if you are one

24
00:00:52,799 --> 00:00:56,488
of those sorts of people who has

25
00:00:54,390 --> 00:00:58,500
pre-ordered the game on handmade hair

26
00:00:56,488 --> 00:01:00,119
org you should have gotten a link in

27
00:00:58,500 --> 00:01:01,378
your email where you can download the

28
00:01:00,119 --> 00:01:05,239
source code so if you would like to

29
00:01:01,378 --> 00:01:08,429
follow along at home this is day 53

30
00:01:05,239 --> 00:01:10,798
unzip day 52 source code and you will be

31
00:01:08,430 --> 00:01:12,360
where I am so when that big zip that has

32
00:01:10,799 --> 00:01:14,368
tons of little zip files one for every

33
00:01:12,359 --> 00:01:14,938
day funds at 52 and you'll be right

34
00:01:14,368 --> 00:01:17,188
where I am

35
00:01:14,938 --> 00:01:20,099
and that may lead you to ask the

36
00:01:17,188 --> 00:01:21,839
question which is where actually am I

37
00:01:20,099 --> 00:01:25,949
and that's a very good question

38
00:01:21,840 --> 00:01:27,810
where I am is we just started doing sort

39
00:01:25,950 --> 00:01:29,009
of some reworking of how we want it to

40
00:01:27,810 --> 00:01:31,530
structure the game so that we could

41
00:01:29,009 --> 00:01:33,390
start doing things in a in a more

42
00:01:31,530 --> 00:01:35,400
logical fashion where basically things

43
00:01:33,390 --> 00:01:37,618
around the player that we are simulating

44
00:01:35,400 --> 00:01:40,978
that are on-screen and and sort of

45
00:01:37,618 --> 00:01:43,049
nearby are getting mapped into sort of

46
00:01:40,978 --> 00:01:43,890
an active set that we process and that

47
00:01:43,049 --> 00:01:46,530
we're going to do all the collision

48
00:01:43,890 --> 00:01:48,450
detection on and all the gameplay logic

49
00:01:46,530 --> 00:01:50,368
on and then things that aren't are

50
00:01:48,450 --> 00:01:52,200
getting mapped out into a lower

51
00:01:50,368 --> 00:01:54,450
frequency update space where they can

52
00:01:52,200 --> 00:01:56,790
still have stuff happen to them but it

53
00:01:54,450 --> 00:01:58,109
just may not be stuff that's happening

54
00:01:56,790 --> 00:01:59,640
at as high a frequency so we can support

55
00:01:58,109 --> 00:02:02,099
very large numbers of entities in the

56
00:01:59,640 --> 00:02:03,478
world all with autonomous behaviors

57
00:02:02,099 --> 00:02:05,280
even if there's like hundreds of

58
00:02:03,478 --> 00:02:07,129
thousands of them and still have it work

59
00:02:05,280 --> 00:02:10,128
okay without making the framerate

60
00:02:07,129 --> 00:02:10,129
intolerable

61
00:02:10,689 --> 00:02:15,189
but one of the things I said that I

62
00:02:13,389 --> 00:02:17,619
wanted to do and that was change all the

63
00:02:15,189 --> 00:02:21,280
collision detection over to working on

64
00:02:17,620 --> 00:02:24,250
entities instead of working on the tile

65
00:02:21,280 --> 00:02:26,469
map and so now we no longer have tile

66
00:02:24,250 --> 00:02:28,210
map collisions with our walls right you

67
00:02:26,469 --> 00:02:32,849
can see that we just straight up you

68
00:02:28,210 --> 00:02:36,610
know go kind of off these things oh dear

69
00:02:32,849 --> 00:02:38,620
what have I done what have I done indeed

70
00:02:36,610 --> 00:02:39,880
it looks like we're drawing a bitmap in

71
00:02:38,620 --> 00:02:43,960
in an illegal way

72
00:02:39,879 --> 00:02:45,669
well I correct me if I'm wrong but

73
00:02:43,960 --> 00:02:47,920
anytime we have a bug we should fix the

74
00:02:45,669 --> 00:02:50,469
bug so hold pretend I didn't say any of

75
00:02:47,919 --> 00:02:51,669
the things that I just said and let's

76
00:02:50,469 --> 00:02:54,039
let's find out what happened here

77
00:02:51,669 --> 00:02:55,929
because that is way more important at

78
00:02:54,039 --> 00:03:00,639
the moment I don't like having bugs in

79
00:02:55,930 --> 00:03:03,879
the code if I I really strongly dislike

80
00:03:00,639 --> 00:03:06,639
having bugs in the code at any time

81
00:03:03,879 --> 00:03:09,879
really so anytime I get a repro I like

82
00:03:06,639 --> 00:03:12,909
to look into it so let's take a look at

83
00:03:09,879 --> 00:03:17,019
what happened here presumably we were

84
00:03:12,909 --> 00:03:20,020
half some valid things but we ended up

85
00:03:17,020 --> 00:03:23,080
drawing them to or from invalid

86
00:03:20,020 --> 00:03:27,459
locations presumably so taking a look at

87
00:03:23,080 --> 00:03:29,560
this here we do in fact in fact let me

88
00:03:27,459 --> 00:03:32,739
let me check to see what our source row

89
00:03:29,560 --> 00:03:36,580
pointer is even here source row so

90
00:03:32,739 --> 00:03:39,400
source row is wrong in general where are

91
00:03:36,580 --> 00:03:42,760
we on run why 180 and what is our max

92
00:03:39,400 --> 00:03:44,349
why is 181 so this is the last row of

93
00:03:42,759 --> 00:03:47,319
the bitmap and it looks like we are

94
00:03:44,349 --> 00:03:50,680
basically fetching off the end of our

95
00:03:47,319 --> 00:03:52,689
bitmap for some bad reason and I'm not

96
00:03:50,680 --> 00:03:55,330
sure exactly what that reason actually

97
00:03:52,689 --> 00:03:58,030
is so let's try and figure that out so

98
00:03:55,330 --> 00:04:00,850
let's see we've got a buffer here that

99
00:03:58,030 --> 00:04:02,169
we are trying to draw to I guess that's

100
00:04:00,849 --> 00:04:04,870
not the problem at the moment and we

101
00:04:02,169 --> 00:04:08,768
have a bitmap that we're loading from it

102
00:04:04,870 --> 00:04:10,840
has a height of 217 and so it looks like

103
00:04:08,769 --> 00:04:17,069
this must be our offset code that is

104
00:04:10,840 --> 00:04:17,069
busted am i right about this

105
00:04:18,490 --> 00:04:25,579
plus source offset X soft source at Y so

106
00:04:24,139 --> 00:04:28,639
essentially the way we were doing this

107
00:04:25,579 --> 00:04:31,069
is we backed ourselves up right so

108
00:04:28,639 --> 00:04:34,669
here's our bitmap pixel splinter we

109
00:04:31,069 --> 00:04:38,089
backed ourselves up to just before the

110
00:04:34,670 --> 00:04:40,460
the last the the last row because the

111
00:04:38,089 --> 00:04:43,639
bitmaps the as we were loading them were

112
00:04:40,459 --> 00:04:46,009
inverted they were flipped so basically

113
00:04:43,639 --> 00:04:47,930
the bitmaps in BMP format are stored

114
00:04:46,009 --> 00:04:50,689
from the bottom up and so what we had to

115
00:04:47,930 --> 00:04:52,040
do was start at that top row because we

116
00:04:50,689 --> 00:04:54,110
were doing our blitz from the top down

117
00:04:52,040 --> 00:04:57,050
so we basically go ahead and back up to

118
00:04:54,110 --> 00:05:00,949
that point by saying bitmap height minus

119
00:04:57,050 --> 00:05:03,079
1 so that seems reasonable there and

120
00:05:00,949 --> 00:05:04,909
then we're pre-incrementing our pixels

121
00:05:03,079 --> 00:05:06,560
to that right then we've got a source

122
00:05:04,910 --> 00:05:09,590
offset X in this case there isn't one

123
00:05:06,560 --> 00:05:13,490
what's the source offset why it's 37 so

124
00:05:09,589 --> 00:05:15,799
if the source offset is 37 37 plus where

125
00:05:13,490 --> 00:05:21,769
we were at where were we at there plus

126
00:05:15,800 --> 00:05:24,740
180 right well that that does seem to

127
00:05:21,769 --> 00:05:28,609
indicate a problem here so what have we

128
00:05:24,740 --> 00:05:31,310
done wrong what have we done wrong here

129
00:05:28,610 --> 00:05:33,949
so what we did is we said when we are

130
00:05:31,310 --> 00:05:35,509
off the screen so we can see what the

131
00:05:33,949 --> 00:05:39,019
value is that we passed in right we

132
00:05:35,509 --> 00:05:40,550
passed in real X we rounded that down so

133
00:05:39,019 --> 00:05:42,709
that would have been

134
00:05:40,550 --> 00:05:45,670
oops I didn't want real X I want to real

135
00:05:42,709 --> 00:05:49,099
Y so that's where we were trying to draw

136
00:05:45,670 --> 00:05:53,240
when we round that guy I assume that we

137
00:05:49,100 --> 00:05:55,850
got 37 Y so we got 37 rounded it up so

138
00:05:53,240 --> 00:05:59,930
we ended up with 37 so we came in here

139
00:05:55,850 --> 00:06:02,780
and we said well the 37 is less than 0

140
00:05:59,930 --> 00:06:05,180
so what we need to do is we need to set

141
00:06:02,779 --> 00:06:08,719
our min Y actually equal to 0 and we

142
00:06:05,180 --> 00:06:19,400
need to offset where we are drawing so

143
00:06:08,720 --> 00:06:23,240
that we don't Oh hmm this is very very

144
00:06:19,399 --> 00:06:28,060
interesting people this is particularly

145
00:06:23,240 --> 00:06:31,069
interesting so what is the bitmap height

146
00:06:28,060 --> 00:06:39,500
right the bitmap height is 2

147
00:06:31,069 --> 00:06:43,159
17 so if we were actually adding real

148
00:06:39,500 --> 00:06:44,839
why this is this is this is particularly

149
00:06:43,160 --> 00:06:46,640
odd so let's find out what's going on

150
00:06:44,839 --> 00:06:54,679
here if we were actually adding this

151
00:06:46,639 --> 00:07:01,939
right we would be going we would be

152
00:06:54,680 --> 00:07:05,720
going from 37 to 181 right those are the

153
00:07:01,939 --> 00:07:07,699
rows that should actually be involved

154
00:07:05,720 --> 00:07:11,900
here although 181 should be the row at

155
00:07:07,699 --> 00:07:17,479
which we would stop right so that is

156
00:07:11,899 --> 00:07:22,009
we're not gonna fill row 181 yeah so

157
00:07:17,480 --> 00:07:27,650
then if we find that we are actually I

158
00:07:22,009 --> 00:07:38,379
should say that for negative 37 right so

159
00:07:27,649 --> 00:07:38,379
then if we find that we've actually Wow

160
00:07:41,050 --> 00:07:47,420
is this actually because this straddles

161
00:07:44,540 --> 00:07:52,030
the positive and negative line and it

162
00:07:47,420 --> 00:07:57,100
happens to be exactly 0.5 so it rounded

163
00:07:52,029 --> 00:08:01,639
in a different direction each time is

164
00:07:57,100 --> 00:08:04,460
that actually what occurred check check

165
00:08:01,639 --> 00:08:07,159
that logic right so basically if it's if

166
00:08:04,459 --> 00:08:08,689
it was doing even odd rounding right

167
00:08:07,160 --> 00:08:10,580
which says that if the number is even

168
00:08:08,689 --> 00:08:12,949
you round one way in if it's odd you

169
00:08:10,579 --> 00:08:16,430
round the other way right I wonder if it

170
00:08:12,949 --> 00:08:23,060
rounded this one up and rounded that one

171
00:08:16,430 --> 00:08:26,060
down I guess that's not even it it's

172
00:08:23,060 --> 00:08:29,780
just if you round towards infinity in

173
00:08:26,060 --> 00:08:33,080
either direction that would Wow all

174
00:08:29,779 --> 00:08:35,839
right so I guess I guess that means that

175
00:08:33,080 --> 00:08:38,900
this we can't really do this anymore we

176
00:08:35,840 --> 00:08:42,110
do actually have to go ahead and use the

177
00:08:38,899 --> 00:08:43,789
width and height after the in after we

178
00:08:42,110 --> 00:08:44,778
do our rounding to make sure that we

179
00:08:43,789 --> 00:08:49,009
don't ever have that

180
00:08:44,778 --> 00:08:51,318
happen it's kind of a little unfortunate

181
00:08:49,009 --> 00:08:52,870
I guess the way the real renderer would

182
00:08:51,318 --> 00:08:57,229
work wouldn't have to worry about this

183
00:08:52,870 --> 00:09:00,169
hmm that's that's crazy

184
00:08:57,230 --> 00:09:01,879
but I believe that's actually true so

185
00:09:00,169 --> 00:09:04,188
I'm gonna go ahead and see if we could

186
00:09:01,879 --> 00:09:05,389
repro that I need my editor here I'm

187
00:09:04,188 --> 00:09:07,009
gonna go ahead and see if I can repo

188
00:09:05,389 --> 00:09:09,919
that let's see here

189
00:09:07,009 --> 00:09:12,169
so Winston oops it's not don't need any

190
00:09:09,919 --> 00:09:15,438
win32 there so in drawbitmap

191
00:09:12,169 --> 00:09:17,120
I'm just gonna flat out say that when we

192
00:09:15,438 --> 00:09:21,708
go ahead and draw this bitmap I'm gonna

193
00:09:17,120 --> 00:09:24,078
set it so that real Y is is negative

194
00:09:21,708 --> 00:09:29,539
thirty-six point five just to see what

195
00:09:24,078 --> 00:09:33,019
happens just to see and let's find out

196
00:09:29,539 --> 00:09:36,679
hey look we immediately get a crash so

197
00:09:33,019 --> 00:09:38,659
that's good that's a good thing right

198
00:09:36,679 --> 00:09:40,729
and of course what I need to do now is

199
00:09:38,659 --> 00:09:43,399
turn off that other draw bit Matt call

200
00:09:40,730 --> 00:09:49,089
so I only get one draw a bitmap call so

201
00:09:43,399 --> 00:09:55,159
there we go let's get back let's see so

202
00:09:49,089 --> 00:10:00,050
first things first we compute min Y and

203
00:09:55,159 --> 00:10:06,169
Max Y right and let's see what real X

204
00:10:00,049 --> 00:10:14,078
plus bitmap wit is here oops

205
00:10:06,169 --> 00:10:17,870
plus a bitmap hiked there we go so yeah

206
00:10:14,078 --> 00:10:21,109
this is this is this is exactly what

207
00:10:17,870 --> 00:10:23,269
what one might expect so when we compute

208
00:10:21,110 --> 00:10:26,539
this right that is exactly what's

209
00:10:23,269 --> 00:10:30,318
happening so we're getting real Y in

210
00:10:26,539 --> 00:10:32,899
here and it's exactly 0.5 is where the

211
00:10:30,318 --> 00:10:36,558
value happened to end up so it rounded

212
00:10:32,899 --> 00:10:38,839
min Y down but it ran round admire

213
00:10:36,558 --> 00:10:40,969
because it was positive after the

214
00:10:38,839 --> 00:10:42,470
addition right so the negative rounded

215
00:10:40,970 --> 00:10:43,939
towards negative infinity I assume and

216
00:10:42,470 --> 00:10:45,139
this one round toward to positive

217
00:10:43,938 --> 00:10:46,338
infinity it's either that or it's even

218
00:10:45,139 --> 00:10:48,850
odd Ronny I don't know what the rounding

219
00:10:46,339 --> 00:10:53,629
mode is right now set on the processor

220
00:10:48,850 --> 00:10:55,699
so it actually expanded the size of the

221
00:10:53,629 --> 00:10:58,230
blip by one more pixel than should have

222
00:10:55,698 --> 00:11:02,789
been legal right

223
00:10:58,230 --> 00:11:06,659
so I guess and I this is a little wonky

224
00:11:02,789 --> 00:11:09,919
but I guess we will have to do this the

225
00:11:06,659 --> 00:11:12,719
other way we will have to do it this way

226
00:11:09,919 --> 00:11:14,250
so that we avoid that possibility which

227
00:11:12,720 --> 00:11:18,210
I didn't really want to have to do

228
00:11:14,250 --> 00:11:20,549
before because I wanted to talk about

229
00:11:18,210 --> 00:11:22,080
you know I was I was thinking it'd be

230
00:11:20,549 --> 00:11:23,969
better when we talk to rendering work to

231
00:11:22,080 --> 00:11:27,509
talk about the things in actual float

232
00:11:23,970 --> 00:11:30,480
space but that's okay so I think this is

233
00:11:27,509 --> 00:11:32,279
actually what we need to do to make sure

234
00:11:30,480 --> 00:11:34,139
that we don't ever have that problem so

235
00:11:32,279 --> 00:11:36,169
that we essentially only do the rounding

236
00:11:34,139 --> 00:11:38,000
once and then whatever happens happens

237
00:11:36,169 --> 00:11:40,649
so there we go

238
00:11:38,000 --> 00:11:43,139
all right well that was pretty cool

239
00:11:40,649 --> 00:11:45,139
quite a way to start the stream but at

240
00:11:43,139 --> 00:11:49,529
least we've got it now so there we go

241
00:11:45,139 --> 00:11:52,049
alright so back to what I was saying

242
00:11:49,529 --> 00:11:55,039
what we have not done yet with our new

243
00:11:52,049 --> 00:11:57,569
system is actually put anything in place

244
00:11:55,039 --> 00:11:59,579
for the wall entities and that sort of

245
00:11:57,570 --> 00:12:02,160
stuff so basically what I wanted to do

246
00:11:59,580 --> 00:12:05,220
was stop having the tile map be checked

247
00:12:02,159 --> 00:12:06,870
at all for really anything and to start

248
00:12:05,220 --> 00:12:08,550
just checking for entities so I want to

249
00:12:06,870 --> 00:12:10,799
make it so that he can't walk through

250
00:12:08,549 --> 00:12:12,629
these little white tiles that we've got

251
00:12:10,799 --> 00:12:15,569
here I want to make it so that you can't

252
00:12:12,629 --> 00:12:17,490
walk through those but basically in

253
00:12:15,570 --> 00:12:20,490
order to do that I have to add them to

254
00:12:17,490 --> 00:12:21,899
the actual entity list right and so what

255
00:12:20,490 --> 00:12:25,230
we need to do is we need to actually

256
00:12:21,899 --> 00:12:28,199
formalize now how we are bringing things

257
00:12:25,230 --> 00:12:29,550
into and out of that set right and the

258
00:12:28,200 --> 00:12:32,220
other thing that we need to have an idea

259
00:12:29,549 --> 00:12:33,629
for is how we're gonna actually manage

260
00:12:32,220 --> 00:12:36,240
these entity sets because one of the

261
00:12:33,629 --> 00:12:39,450
things that's true is I don't actually

262
00:12:36,240 --> 00:12:41,310
know if I it's it's kind of hard to say

263
00:12:39,450 --> 00:12:45,780
at this point I don't actually know

264
00:12:41,309 --> 00:12:47,969
whether I want a low entity for every

265
00:12:45,779 --> 00:12:52,350
single thing that could be in the tile

266
00:12:47,970 --> 00:12:54,660
map like trees and stuff or I should say

267
00:12:52,350 --> 00:12:57,029
a dormant entity I don't know if that's

268
00:12:54,659 --> 00:13:00,449
a particularly good way to store all

269
00:12:57,029 --> 00:13:02,250
that stuff it might be just a waste of

270
00:13:00,450 --> 00:13:04,500
storage I don't know it's kind of hard

271
00:13:02,250 --> 00:13:07,230
to say and we might want to compress

272
00:13:04,500 --> 00:13:08,820
those in other ways but the other thing

273
00:13:07,230 --> 00:13:10,710
that's kind of hard for me to think

274
00:13:08,820 --> 00:13:12,150
about right now and this is why I'm not

275
00:13:10,710 --> 00:13:14,790
and I don't want to take any steps

276
00:13:12,149 --> 00:13:16,529
towards it just yet is I don't know how

277
00:13:14,789 --> 00:13:18,899
crazy you want to go with modifiable

278
00:13:16,529 --> 00:13:20,100
scenes as well like if we have a thing

279
00:13:18,899 --> 00:13:23,279
where we wanted you to be able to burn

280
00:13:20,100 --> 00:13:25,139
down trees or break through walls then

281
00:13:23,279 --> 00:13:28,079
it is kind of true that the more

282
00:13:25,139 --> 00:13:29,340
destructible that the environment is the

283
00:13:28,080 --> 00:13:31,710
more of those things might want to

284
00:13:29,340 --> 00:13:33,810
actually be stored as entities so it's a

285
00:13:31,710 --> 00:13:36,000
little bit hard to say without getting

286
00:13:33,809 --> 00:13:37,589
further down the game design path to

287
00:13:36,000 --> 00:13:41,580
know really how much of each individual

288
00:13:37,590 --> 00:13:42,990
thing we're doing so for now I guess the

289
00:13:41,580 --> 00:13:45,270
first thing to do is say alright let's

290
00:13:42,990 --> 00:13:48,000
just start by simplifying our world

291
00:13:45,269 --> 00:13:49,980
state a little bit here let's just say

292
00:13:48,000 --> 00:13:51,720
that instead of doing that many screens

293
00:13:49,980 --> 00:13:54,000
we're just going to do just the one

294
00:13:51,720 --> 00:13:55,440
screen right so the only thing we're

295
00:13:54,000 --> 00:13:57,960
going to do is just this screen so this

296
00:13:55,440 --> 00:13:59,280
is it so since we only have one screen

297
00:13:57,960 --> 00:14:01,320
being generated now which is just this

298
00:13:59,279 --> 00:14:02,789
one it'd be safe we won't have too many

299
00:14:01,320 --> 00:14:04,500
entities to worry about so we can try

300
00:14:02,789 --> 00:14:06,599
just just dealing with the ones that we

301
00:14:04,500 --> 00:14:10,169
see on the screen here making those into

302
00:14:06,600 --> 00:14:12,509
entities and seeing what we get right so

303
00:14:10,169 --> 00:14:17,159
let's go ahead and do that what I want

304
00:14:12,509 --> 00:14:19,080
to do here is say okay we we have sort

305
00:14:17,159 --> 00:14:21,209
of this concept here of the camera

306
00:14:19,080 --> 00:14:24,030
moving right this is the concept of the

307
00:14:21,210 --> 00:14:26,580
camera moving and what we haven't really

308
00:14:24,029 --> 00:14:29,879
done yet is is formalize what happens

309
00:14:26,580 --> 00:14:33,120
when the camera moves and that camera

310
00:14:29,879 --> 00:14:34,950
having to sort of bring with it you know

311
00:14:33,120 --> 00:14:38,129
get rid of any stuff that is now off

312
00:14:34,950 --> 00:14:40,560
camera right and bring in any stuff that

313
00:14:38,129 --> 00:14:42,870
has now come on camera so I'm going to

314
00:14:40,559 --> 00:14:45,119
do is try to break that off now into a

315
00:14:42,870 --> 00:14:47,519
separate function so that we kind of

316
00:14:45,120 --> 00:14:50,279
have unknown place where this sort of

317
00:14:47,519 --> 00:14:51,899
stuff actually happens right and so what

318
00:14:50,279 --> 00:14:54,409
I want to do is take this stuff

319
00:14:51,899 --> 00:14:54,409
basically

320
00:14:54,590 --> 00:14:58,800
well that stuff's fine but it's it's

321
00:14:56,940 --> 00:15:02,760
this stuff right here like this entity

322
00:14:58,799 --> 00:15:04,409
offset for frame and this this stuff

323
00:15:02,759 --> 00:15:07,110
where we actually move the camera here I

324
00:15:04,409 --> 00:15:08,519
want to sort of pull that out so what

325
00:15:07,110 --> 00:15:11,490
I'm going to do is I'm going to go ahead

326
00:15:08,519 --> 00:15:13,019
and make a function here right and that

327
00:15:11,490 --> 00:15:15,710
function is going to be something

328
00:15:13,019 --> 00:15:18,720
actually not gonna be inclined internal

329
00:15:15,710 --> 00:15:21,750
function and that's going to be a set

330
00:15:18,720 --> 00:15:24,120
camera or something like this right and

331
00:15:21,750 --> 00:15:26,818
set camera is going to take a game state

332
00:15:24,120 --> 00:15:29,039
and that game state it's gonna take that

333
00:15:26,818 --> 00:15:30,990
and it's also going to take what you

334
00:15:29,039 --> 00:15:33,058
wanted to set the camera to be so

335
00:15:30,990 --> 00:15:35,370
basically they'll be a tile map position

336
00:15:33,058 --> 00:15:39,539
that is where you want the camera to be

337
00:15:35,370 --> 00:15:46,620
a new camera P right so that's what I

338
00:15:39,539 --> 00:15:49,019
want to do and so now instead of doing

339
00:15:46,620 --> 00:15:50,789
this math directly what I want to do is

340
00:15:49,019 --> 00:15:52,860
do it this way say there's going to be a

341
00:15:50,789 --> 00:15:55,948
new camera P and then everything here

342
00:15:52,860 --> 00:16:01,860
just operates on the new camera P okay

343
00:15:55,948 --> 00:16:06,120
so we do this like so and then we say

344
00:16:01,860 --> 00:16:10,470
new camera P right this is actually

345
00:16:06,120 --> 00:16:12,149
going to go ahead and go up here so and

346
00:16:10,470 --> 00:16:15,689
we're gonna have to deal with the entity

347
00:16:12,149 --> 00:16:17,308
offset for frame in a more special way

348
00:16:15,688 --> 00:16:18,958
as well which you may actually just do

349
00:16:17,308 --> 00:16:20,188
in there for now but eventually we'll

350
00:16:18,958 --> 00:16:24,958
probably try to roll it into a different

351
00:16:20,188 --> 00:16:27,179
iteration so what we want to do now is

352
00:16:24,958 --> 00:16:29,248
when we finish this we'll just call set

353
00:16:27,179 --> 00:16:31,588
camera and in fact you know what I could

354
00:16:29,249 --> 00:16:33,839
do for now actually to just to keep it a

355
00:16:31,589 --> 00:16:36,360
little more straightforward I could do

356
00:16:33,839 --> 00:16:37,649
it this way just for now so that we can

357
00:16:36,360 --> 00:16:39,389
keep the same data flow that we had

358
00:16:37,649 --> 00:16:41,249
before so we're not changing too many

359
00:16:39,389 --> 00:16:43,709
things at once okay so we could do that

360
00:16:41,249 --> 00:16:49,290
and we could say all right entity offset

361
00:16:43,708 --> 00:16:51,359
for frame we go ahead and do that set

362
00:16:49,289 --> 00:16:53,009
camera we past the game state and we

363
00:16:51,360 --> 00:16:59,928
pass that new location that we want to

364
00:16:53,009 --> 00:17:08,220
go to and so that should see tile map

365
00:16:59,928 --> 00:17:12,568
that should be able to be ported pretty

366
00:17:08,220 --> 00:17:15,659
directly so we have our D camera P is

367
00:17:12,568 --> 00:17:17,908
just whatever the camera P was so we've

368
00:17:15,659 --> 00:17:19,980
got in fact what is our what is our

369
00:17:17,909 --> 00:17:24,919
actual camera P here there it is

370
00:17:19,980 --> 00:17:29,849
canapé so we've got our game state

371
00:17:24,919 --> 00:17:32,130
camera P and then we've got well

372
00:17:29,849 --> 00:17:33,898
actually it's this way there we go and

373
00:17:32,130 --> 00:17:35,880
then we've got our new camera P that's

374
00:17:33,898 --> 00:17:37,389
basically what's going on here after we

375
00:17:35,880 --> 00:17:39,430
do that difference

376
00:17:37,390 --> 00:17:43,120
our gamestate camera P should be set to

377
00:17:39,430 --> 00:17:44,320
the new camera P like so and then we

378
00:17:43,119 --> 00:17:46,179
have then at the offset that we've

379
00:17:44,319 --> 00:17:47,549
computed so that's just doing the same

380
00:17:46,180 --> 00:17:49,720
thing that we were doing before

381
00:17:47,549 --> 00:17:53,289
hopefully that'll still work just fine

382
00:17:49,720 --> 00:17:55,390
when I walk off screen and then walk

383
00:17:53,289 --> 00:17:57,909
back on screen yes we're moving camera

384
00:17:55,390 --> 00:18:02,470
properly and so now what needs to happen

385
00:17:57,910 --> 00:18:08,200
is whenever we do this move we now need

386
00:18:02,470 --> 00:18:12,610
to do two things first we need to go

387
00:18:08,200 --> 00:18:15,670
through all of our high-end entities

388
00:18:12,609 --> 00:18:18,909
right so all of the entities that are in

389
00:18:15,670 --> 00:18:21,550
the hiset and we need to remove them

390
00:18:18,910 --> 00:18:23,500
right so we need to basically say well

391
00:18:21,549 --> 00:18:27,569
not remove those that are too far away

392
00:18:23,500 --> 00:18:30,430
right so we know where the camera is

393
00:18:27,569 --> 00:18:33,669
right and we know what the end of the

394
00:18:30,430 --> 00:18:35,950
offset for frame is so I guess when we

395
00:18:33,670 --> 00:18:37,960
this this is exactly you know what this

396
00:18:35,950 --> 00:18:39,250
is gonna happen immediately essentially

397
00:18:37,960 --> 00:18:42,400
so I guess I didn't really need to do

398
00:18:39,250 --> 00:18:44,890
that that's fine I guess that one one

399
00:18:42,400 --> 00:18:47,230
little bit of testing yeah so get rid of

400
00:18:44,890 --> 00:18:48,970
that so what I'm gonna do is I'm gonna

401
00:18:47,230 --> 00:18:51,309
go ahead and and do it right here

402
00:18:48,970 --> 00:18:52,930
eventually we may try to roll this in to

403
00:18:51,309 --> 00:18:54,490
to another loop so we don't have to loop

404
00:18:52,930 --> 00:18:57,220
over the highway rip and entities

405
00:18:54,490 --> 00:18:59,500
multiple times but for now we'll do it

406
00:18:57,220 --> 00:19:02,970
this way so we basically have our entity

407
00:18:59,500 --> 00:19:06,160
index here right and we're gonna go over

408
00:19:02,970 --> 00:19:08,049
all of those entities so this is the

409
00:19:06,160 --> 00:19:11,550
array count of the high entities and

410
00:19:08,049 --> 00:19:16,359
we're gonna look at them and say okay

411
00:19:11,549 --> 00:19:21,129
let's go ahead and and get whatever

412
00:19:16,359 --> 00:19:22,750
entity we're on and see index I should

413
00:19:21,130 --> 00:19:26,470
mention you know this isn't normally the

414
00:19:22,750 --> 00:19:27,849
way I'd do it by the way I've been doing

415
00:19:26,470 --> 00:19:29,410
it this way for the sake of people who

416
00:19:27,849 --> 00:19:30,909
watch because it's usually the way that

417
00:19:29,410 --> 00:19:31,990
things are normally done I wonder if I

418
00:19:30,910 --> 00:19:35,110
should just do it the way nobody good I

419
00:19:31,990 --> 00:19:39,250
actually normally do it this way I don't

420
00:19:35,109 --> 00:19:42,669
know what people think about that that's

421
00:19:39,250 --> 00:19:44,650
how I usually when I'm not doing it for

422
00:19:42,670 --> 00:19:47,140
the benefit of other people that's how I

423
00:19:44,650 --> 00:19:49,269
usually actually write my array

424
00:19:47,140 --> 00:19:51,330
accessors because then you don't have to

425
00:19:49,269 --> 00:19:52,529
take the address of something

426
00:19:51,329 --> 00:19:54,720
because this is essentially a

427
00:19:52,529 --> 00:19:56,490
dereference er right that dereferences

428
00:19:54,720 --> 00:19:59,850
the pointer and gets what it's pointing

429
00:19:56,490 --> 00:20:01,079
to but I still want a pointer so I feel

430
00:19:59,849 --> 00:20:02,939
like that's a little bit better maybe

431
00:20:01,079 --> 00:20:03,269
we'll leave that for now what do you

432
00:20:02,940 --> 00:20:06,029
know

433
00:20:03,269 --> 00:20:10,769
all right so when we do this we're gonna

434
00:20:06,029 --> 00:20:13,529
take the high end of the right and that

435
00:20:10,769 --> 00:20:17,970
high entity we are going to go ahead and

436
00:20:13,529 --> 00:20:22,019
take its P and we're gonna add the

437
00:20:17,970 --> 00:20:25,319
entity offset for frame right and then

438
00:20:22,019 --> 00:20:28,650
we're gonna check to see if that P is

439
00:20:25,319 --> 00:20:32,609
inside or outside of basically are valid

440
00:20:28,650 --> 00:20:33,930
rectangular region right and this is the

441
00:20:32,609 --> 00:20:35,849
kind of thing that we probably will

442
00:20:33,930 --> 00:20:37,370
start doing a lot of and so I kind of

443
00:20:35,849 --> 00:20:41,699
feel like I may want to introduce

444
00:20:37,369 --> 00:20:45,119
something here for example this is just

445
00:20:41,700 --> 00:20:46,920
you know mm-hmm a convenient sort of

446
00:20:45,119 --> 00:20:51,989
thing you could imagine wanting to do

447
00:20:46,920 --> 00:20:53,880
something like is in rectangle right or

448
00:20:51,990 --> 00:20:56,970
something like that where you basically

449
00:20:53,880 --> 00:21:00,360
say here is the min here is the max you

450
00:20:56,970 --> 00:21:02,130
know and here is the test value and

451
00:21:00,359 --> 00:21:03,539
similarly what I almost would like to do

452
00:21:02,130 --> 00:21:06,900
as well is just say that there's a

453
00:21:03,539 --> 00:21:11,460
rectangle to write structure something

454
00:21:06,900 --> 00:21:16,050
like that and it's got its min and it's

455
00:21:11,460 --> 00:21:21,900
max right and we can test we can test it

456
00:21:16,049 --> 00:21:25,769
that way why do I like to bundle them

457
00:21:21,900 --> 00:21:27,360
like that so the reason that I like to

458
00:21:25,769 --> 00:21:32,129
bundle my rectangle sometimes that way

459
00:21:27,359 --> 00:21:34,490
is because rectangles oftentimes want to

460
00:21:32,130 --> 00:21:36,870
be constructed in lots of different ways

461
00:21:34,490 --> 00:21:39,750
if you do it this way it becomes very

462
00:21:36,869 --> 00:21:42,329
hard to do right because let's say I do

463
00:21:39,750 --> 00:21:43,980
is in rectangle and I want to test

464
00:21:42,329 --> 00:21:46,230
inside a rectangle and I've got like the

465
00:21:43,980 --> 00:21:49,140
center and the dimensions of the

466
00:21:46,230 --> 00:21:51,660
rectangle right well then I've got to

467
00:21:49,140 --> 00:21:53,370
first construct the min and the max here

468
00:21:51,660 --> 00:21:54,870
right or have a function that constructs

469
00:21:53,369 --> 00:21:57,409
them and then I gotta pass them into the

470
00:21:54,869 --> 00:22:00,949
max right and it's just kind of annoying

471
00:21:57,410 --> 00:22:04,200
whereas if I take a rectangle to here

472
00:22:00,950 --> 00:22:04,950
like so then what I can do is I can

473
00:22:04,200 --> 00:22:07,019
actually just

474
00:22:04,950 --> 00:22:09,390
a bunch of functions that are like you

475
00:22:07,019 --> 00:22:11,849
know wrecked min/max

476
00:22:09,390 --> 00:22:14,670
you know these little just little inline

477
00:22:11,849 --> 00:22:17,609
bundling functions that create

478
00:22:14,670 --> 00:22:21,029
rectangles in different ways so rectum

479
00:22:17,609 --> 00:22:24,899
max rect Center dim is another one that

480
00:22:21,029 --> 00:22:26,879
I often do which is basically like you

481
00:22:24,900 --> 00:22:28,590
know constructs a rectangle in in a

482
00:22:26,880 --> 00:22:32,670
slightly different way so here's like

483
00:22:28,589 --> 00:22:35,849
rectangle - this way looks like this

484
00:22:32,670 --> 00:22:37,830
right gets just directly setting them in

485
00:22:35,849 --> 00:22:44,159
the max of the rectangle but this

486
00:22:37,829 --> 00:22:48,480
rectangle on the other hand does the min

487
00:22:44,160 --> 00:22:51,060
is the center - the dim right and the

488
00:22:48,480 --> 00:22:53,400
max is the center plus the dim so this

489
00:22:51,059 --> 00:22:57,659
is basically like stores half width and

490
00:22:53,400 --> 00:23:00,150
half height right like so on and I

491
00:22:57,660 --> 00:23:02,310
should probably say that rec center half

492
00:23:00,150 --> 00:23:04,500
dim just so you know that that's what

493
00:23:02,309 --> 00:23:05,700
that is because we could do it the other

494
00:23:04,500 --> 00:23:09,690
way but then we have to multiply by it

495
00:23:05,700 --> 00:23:11,100
by 0.5 as well right and so you could

496
00:23:09,690 --> 00:23:19,350
imagine lots of these like another one

497
00:23:11,099 --> 00:23:20,659
would be rectangle min min dim right

498
00:23:19,349 --> 00:23:23,639
would be another one that's very common

499
00:23:20,660 --> 00:23:25,890
and so this one would actually be the

500
00:23:23,640 --> 00:23:27,480
min sets the min and the max is the the

501
00:23:25,890 --> 00:23:29,880
min plus the dim so that's like if I

502
00:23:27,480 --> 00:23:31,769
want to do the corner and so that allows

503
00:23:29,880 --> 00:23:33,960
me to do stuff like now when I call this

504
00:23:31,769 --> 00:23:36,329
if I wanted to I can just do rec center

505
00:23:33,960 --> 00:23:37,980
half dim here and I just pass it and

506
00:23:36,329 --> 00:23:39,960
then I pass the thing that I'm trying to

507
00:23:37,980 --> 00:23:41,430
do and it allows me to just have a lot

508
00:23:39,960 --> 00:23:43,970
of different notations for stuff that

509
00:23:41,430 --> 00:23:46,500
takes rectangles does that make sense

510
00:23:43,970 --> 00:23:48,720
so that's just kind of you know that's

511
00:23:46,500 --> 00:23:51,630
one of those things that I just know I

512
00:23:48,720 --> 00:23:53,009
like from experience I there was no way

513
00:23:51,630 --> 00:23:54,060
for me to know that just from looking at

514
00:23:53,009 --> 00:23:55,109
the code I was doing they're just

515
00:23:54,059 --> 00:23:55,769
something that I was thinking of it I

516
00:23:55,109 --> 00:23:56,909
was like well if we're gonna do

517
00:23:55,769 --> 00:23:58,710
rectangle it's probably good time for me

518
00:23:56,910 --> 00:24:02,070
to talk about how I like to do that so

519
00:23:58,710 --> 00:24:04,079
just something to think about there you

520
00:24:02,069 --> 00:24:06,269
go in this case I don't think it'll be

521
00:24:04,079 --> 00:24:09,689
particularly important for that I was

522
00:24:06,269 --> 00:24:11,099
just sort of a thing a side and a side I

523
00:24:09,690 --> 00:24:12,960
don't think will actually have to use

524
00:24:11,099 --> 00:24:14,039
that here but that is how I typically

525
00:24:12,960 --> 00:24:17,700
like to do it so I thought I'd do it

526
00:24:14,039 --> 00:24:18,750
that way all right so anyway when I want

527
00:24:17,700 --> 00:24:21,840
to do my inside rect

528
00:24:18,750 --> 00:24:23,579
test right I've got my result here and

529
00:24:21,839 --> 00:24:26,129
my result is going to be equal to

530
00:24:23,579 --> 00:24:29,159
whether or not this guy is inside or

531
00:24:26,130 --> 00:24:32,150
outside and here I remember the other

532
00:24:29,160 --> 00:24:34,620
day gharlane abloom was asking about

533
00:24:32,150 --> 00:24:36,269
whether I thought that inclusive

534
00:24:34,619 --> 00:24:37,829
rectangles were okay because that's the

535
00:24:36,269 --> 00:24:41,220
way like unity did it or whatever and I

536
00:24:37,829 --> 00:24:45,449
think I said like just whatever you

537
00:24:41,220 --> 00:24:50,880
write your code to expect and so for our

538
00:24:45,450 --> 00:24:53,940
purposes here I feel like if I had to

539
00:24:50,880 --> 00:24:55,890
guess I would say maybe we shouldn't do

540
00:24:53,940 --> 00:24:57,539
them though I don't know I'm leaning

541
00:24:55,890 --> 00:24:59,370
towards keeping our other rectangle

542
00:24:57,539 --> 00:25:03,149
convention where the max is not the very

543
00:24:59,369 --> 00:25:05,489
max is not included because it allows

544
00:25:03,150 --> 00:25:07,230
you to but abut two rectangles so that

545
00:25:05,490 --> 00:25:09,180
they're perfectly touching but that's so

546
00:25:07,230 --> 00:25:12,450
something that's right on the edge only

547
00:25:09,180 --> 00:25:14,310
falls into one or the other so for now

548
00:25:12,450 --> 00:25:15,720
I'm not gonna do that but again like I

549
00:25:14,309 --> 00:25:19,619
don't think unity is necessarily wrong

550
00:25:15,720 --> 00:25:22,920
for doing it that way I just I just

551
00:25:19,619 --> 00:25:24,149
don't know I just I just feel like maybe

552
00:25:22,920 --> 00:25:26,700
we should try it this way and if it

553
00:25:24,150 --> 00:25:29,250
turns out to be bad then we will switch

554
00:25:26,700 --> 00:25:33,470
but for now I think that's probably the

555
00:25:29,250 --> 00:25:35,609
way that I would prefer to do it okay so

556
00:25:33,470 --> 00:25:37,259
obviously the test to see whether

557
00:25:35,609 --> 00:25:39,089
something's in a rectangle is basically

558
00:25:37,259 --> 00:25:40,849
just testing the four conditions the

559
00:25:39,089 --> 00:25:44,879
four boundaries of the rectangle right

560
00:25:40,849 --> 00:25:48,329
whatever my test thing was basically I

561
00:25:44,880 --> 00:25:50,940
have to say that I want the test to be

562
00:25:48,329 --> 00:25:53,339
greater than or equal to the min right

563
00:25:50,940 --> 00:25:56,190
so both the Y on both the Y I want to be

564
00:25:53,339 --> 00:25:58,109
greater than or equal to that min and

565
00:25:56,190 --> 00:26:00,180
then the same is true for the max only

566
00:25:58,109 --> 00:26:01,409
instead of less than or equal to I'm

567
00:26:00,180 --> 00:26:04,680
just going to do less than so that we

568
00:26:01,410 --> 00:26:08,100
don't include that final coordinate it's

569
00:26:04,680 --> 00:26:10,640
just not quite in there not quite in

570
00:26:08,099 --> 00:26:13,469
there yet right and so that would be a

571
00:26:10,640 --> 00:26:18,060
point in a rectangle test right so it

572
00:26:13,470 --> 00:26:19,710
tests this against this so that's you

573
00:26:18,059 --> 00:26:21,240
know just a simple thing so I'm gonna go

574
00:26:19,710 --> 00:26:22,590
ahead and do that here and again I just

575
00:26:21,240 --> 00:26:24,240
kind of spam those out there we may have

576
00:26:22,589 --> 00:26:25,709
all kinds of bugs in there we're not at

577
00:26:24,240 --> 00:26:27,420
the point where we're testing things

578
00:26:25,710 --> 00:26:30,240
rigorously or anything like that here

579
00:26:27,420 --> 00:26:32,310
again this is just exploratory engine

580
00:26:30,240 --> 00:26:32,529
code so you can see how things work so I

581
00:26:32,309 --> 00:26:33,909
don't

582
00:26:32,529 --> 00:26:38,349
care too much about that we'll debug it

583
00:26:33,910 --> 00:26:41,590
as we as necessary so let's go ahead and

584
00:26:38,349 --> 00:26:44,859
say so what we have here is our camera

585
00:26:41,589 --> 00:26:47,980
inbounds or something right and the

586
00:26:44,859 --> 00:26:50,169
camera inbounds is going to be a

587
00:26:47,980 --> 00:26:52,779
rectangle centered about the origin so

588
00:26:50,170 --> 00:26:56,410
it's a rec center half dim kind of a

589
00:26:52,779 --> 00:26:58,420
situation certainly right and it's the

590
00:26:56,410 --> 00:27:04,690
center is just going to be the origin

591
00:26:58,420 --> 00:27:05,620
and because the definition of our local

592
00:27:04,690 --> 00:27:06,940
coordinate system that we're doing

593
00:27:05,619 --> 00:27:08,019
everything in is that the center point

594
00:27:06,940 --> 00:27:10,509
where the cameras looking is at the

595
00:27:08,019 --> 00:27:13,269
origin right and all of our high entity

596
00:27:10,509 --> 00:27:17,500
positions are relative to that so then

597
00:27:13,269 --> 00:27:19,660
it's just how big in meters is the

598
00:27:17,500 --> 00:27:24,579
actual span of the area that I want to

599
00:27:19,660 --> 00:27:27,220
cover and so we know we've got the tile

600
00:27:24,579 --> 00:27:30,669
side in meters right and so the real

601
00:27:27,220 --> 00:27:33,789
question is just how many tiles do I

602
00:27:30,670 --> 00:27:36,390
want to have in that working set right

603
00:27:33,789 --> 00:27:40,659
that's really all we have to decide here

604
00:27:36,390 --> 00:27:42,520
and so we're gonna have another v2 it's

605
00:27:40,660 --> 00:27:44,230
gonna be multiplied by this tile sided

606
00:27:42,519 --> 00:27:46,359
meters and it's just gonna be how many

607
00:27:44,230 --> 00:27:48,309
tiles we want in the working set so you

608
00:27:46,359 --> 00:27:49,839
know let's say we did some we're just

609
00:27:48,309 --> 00:27:54,519
totally you know this is just going to

610
00:27:49,839 --> 00:28:00,879
be to do I am totally picking these

611
00:27:54,519 --> 00:28:03,400
numbers randomly right I just figure

612
00:28:00,880 --> 00:28:06,370
well we said we were 17 across so maybe

613
00:28:03,400 --> 00:28:08,170
the dim and you know what I'm gonna make

614
00:28:06,369 --> 00:28:10,659
another one here which is correct root

615
00:28:08,170 --> 00:28:14,620
rec center dim so I can actually also do

616
00:28:10,660 --> 00:28:18,970
one that just automatically does does

617
00:28:14,619 --> 00:28:23,469
that x by half for me so Center 0.5 F

618
00:28:18,970 --> 00:28:25,630
Jim again again just making it easy on

619
00:28:23,470 --> 00:28:28,600
myself so I'm going to go ahead and do

620
00:28:25,630 --> 00:28:32,020
recta rec center dim so I'm gonna say

621
00:28:28,599 --> 00:28:34,149
that I want it to be 17 times 3 which is

622
00:28:32,019 --> 00:28:35,200
just three screens worth that way and I

623
00:28:34,150 --> 00:28:36,910
don't know what we said nine or

624
00:28:35,200 --> 00:28:38,980
something times three up and down right

625
00:28:36,910 --> 00:28:43,920
that's that's gonna be the camera in

626
00:28:38,980 --> 00:28:43,920
bounce and oops it's no good

627
00:28:44,819 --> 00:28:54,879
yeah so when I say this I'm just say say

628
00:28:52,388 --> 00:28:56,918
that is all I guess I'll call it camera

629
00:28:54,880 --> 00:28:58,210
bounce that is the camera bounce so from

630
00:28:56,919 --> 00:29:00,340
then on I could check against those

631
00:28:58,210 --> 00:29:02,200
camera bonds and say if this guy is in

632
00:29:00,339 --> 00:29:03,038
the rectangle then it's okay that he's

633
00:29:02,200 --> 00:29:06,399
here

634
00:29:03,038 --> 00:29:08,440
but if he's outside the rectangle then

635
00:29:06,398 --> 00:29:10,750
he's not allowed to be a high entity

636
00:29:08,440 --> 00:29:13,690
anymore and he should become dormant so

637
00:29:10,750 --> 00:29:16,240
I'll just do change entity residence at

638
00:29:13,690 --> 00:29:17,889
that point right and I'll change the

639
00:29:16,240 --> 00:29:22,990
entity residence for this entity index

640
00:29:17,888 --> 00:29:26,199
right yeah game state where is my game

641
00:29:22,990 --> 00:29:28,329
state changed it to the index so that's

642
00:29:26,200 --> 00:29:30,759
probably gonna take the game state and

643
00:29:28,329 --> 00:29:32,528
it's gonna take the fact that he can now

644
00:29:30,759 --> 00:29:33,970
become low or dormant I don't really

645
00:29:32,528 --> 00:29:37,000
know which one we want to do yet like I

646
00:29:33,970 --> 00:29:40,409
said I guess I guess low is probably

647
00:29:37,000 --> 00:29:43,960
what he becomes at that point all right

648
00:29:40,409 --> 00:29:46,659
so that does the first part of the thing

649
00:29:43,960 --> 00:29:48,278
that I need what is my problem here you

650
00:29:46,659 --> 00:29:52,600
entity residents our whips it's the

651
00:29:48,278 --> 00:29:55,808
other way around yeah camera doesn't

652
00:29:52,599 --> 00:29:57,519
return to value so that goes that goes

653
00:29:55,808 --> 00:29:59,168
ahead and demotes people but then we

654
00:29:57,519 --> 00:30:02,169
have another thing we have to do which

655
00:29:59,169 --> 00:30:05,919
is now we also have to take anyone who

656
00:30:02,169 --> 00:30:08,559
should have come into being and you know

657
00:30:05,919 --> 00:30:11,549
that is within there and those people

658
00:30:08,558 --> 00:30:15,069
should come into the high empty set

659
00:30:11,548 --> 00:30:16,778
right so as that camera moves to

660
00:30:15,069 --> 00:30:19,178
encompass them they should come in there

661
00:30:16,778 --> 00:30:20,648
right and so that's it to do because we

662
00:30:19,179 --> 00:30:21,788
don't really have the knowledge to do

663
00:30:20,648 --> 00:30:26,229
that yet and that's the thing that we

664
00:30:21,788 --> 00:30:30,038
should start working on move entities

665
00:30:26,230 --> 00:30:32,620
into hiset here and then the other thing

666
00:30:30,038 --> 00:30:37,929
we want to do now is say all right let's

667
00:30:32,619 --> 00:30:40,449
go ahead and move in any tiles that we

668
00:30:37,929 --> 00:30:41,590
now have to sort of do the fake since we

669
00:30:40,450 --> 00:30:43,149
don't really have it worked out quite

670
00:30:41,589 --> 00:30:45,038
yet exactly how it would work we have to

671
00:30:43,148 --> 00:30:47,888
move in the entities that should be

672
00:30:45,038 --> 00:30:51,538
there for those tiles that are sort of

673
00:30:47,888 --> 00:30:51,538
in the in the tile map and I guess now

674
00:30:51,839 --> 00:31:00,939
now that I'm thinking about this

675
00:30:55,210 --> 00:31:03,819
I don't know that I really want to go

676
00:31:00,940 --> 00:31:06,100
ahead just yet and actually change the

677
00:31:03,819 --> 00:31:08,349
tile map to be storing entities directly

678
00:31:06,099 --> 00:31:09,969
but that's kind of where this is going

679
00:31:08,349 --> 00:31:12,009
eventually right like what we want to do

680
00:31:09,970 --> 00:31:13,569
eventually is the tile map just

681
00:31:12,009 --> 00:31:16,359
basically now instead of being a tile

682
00:31:13,569 --> 00:31:18,220
map that's that's that's locked where we

683
00:31:16,359 --> 00:31:20,469
just have States of tiles I just want to

684
00:31:18,220 --> 00:31:22,600
have those entities right in there where

685
00:31:20,470 --> 00:31:24,759
the entities are sort of positioned so

686
00:31:22,599 --> 00:31:27,369
that it creates whatever the map

687
00:31:24,759 --> 00:31:31,000
actually is and I'm just trying to think

688
00:31:27,369 --> 00:31:32,798
of how I would do that what's the

689
00:31:31,000 --> 00:31:34,778
easiest steps to get to that point

690
00:31:32,798 --> 00:31:36,579
whether I want to leave the tile map as

691
00:31:34,778 --> 00:31:38,440
a tile map for now and generate entities

692
00:31:36,579 --> 00:31:41,558
as we pull them in or whether I kind of

693
00:31:38,440 --> 00:31:43,000
want them to be out there I think I

694
00:31:41,558 --> 00:31:45,940
think I'm just gonna go for the gust oh

695
00:31:43,000 --> 00:31:47,859
I feel like at this point I'm I'm happy

696
00:31:45,940 --> 00:31:50,528
with the way these things are going and

697
00:31:47,859 --> 00:31:51,369
I kind of want to just keep going in

698
00:31:50,528 --> 00:31:55,000
that direction

699
00:31:51,369 --> 00:31:58,778
so yeah well I forgot we had a jump in

700
00:31:55,000 --> 00:32:01,089
the QA last night or levitate really

701
00:31:58,778 --> 00:32:03,398
because there's no jump implies that I

702
00:32:01,089 --> 00:32:05,019
couldn't keep doing it but he's more

703
00:32:03,398 --> 00:32:06,729
like a hot-air-balloon essentially at

704
00:32:05,019 --> 00:32:08,648
this point he's under the influence of

705
00:32:06,730 --> 00:32:10,750
gravity but anytime we want to we can

706
00:32:08,648 --> 00:32:12,819
always just make him float up by holding

707
00:32:10,750 --> 00:32:14,859
down the up arrow so it's only if you

708
00:32:12,819 --> 00:32:17,980
tap the up arrow that it's actually jump

709
00:32:14,859 --> 00:32:22,000
in any real sense of the word

710
00:32:17,980 --> 00:32:23,769
so anyway what I wanted to talk about

711
00:32:22,000 --> 00:32:25,569
here was just say all right so maybe I

712
00:32:23,769 --> 00:32:27,788
actually want to go ahead and start

713
00:32:25,569 --> 00:32:29,379
doing that work for the tile map system

714
00:32:27,788 --> 00:32:31,538
moving moving entities in and out of

715
00:32:29,380 --> 00:32:33,278
that and what that would basically mean

716
00:32:31,538 --> 00:32:35,740
is that you know those dormant entities

717
00:32:33,278 --> 00:32:43,869
would actually be sort of stored if you

718
00:32:35,740 --> 00:32:48,298
will in the tile map basically so in one

719
00:32:43,869 --> 00:32:51,278
way or another the tile map is actually

720
00:32:48,298 --> 00:32:53,259
sort of a compendium it's sort of a

721
00:32:51,278 --> 00:32:56,619
thing that lets us pull out the entities

722
00:32:53,259 --> 00:33:00,398
less so than something where we actually

723
00:32:56,619 --> 00:33:02,648
pull out tiles from it right and that's

724
00:33:00,398 --> 00:33:03,969
a pretty major change but again yet well

725
00:33:02,648 --> 00:33:06,129
so what I want to do is do that

726
00:33:03,970 --> 00:33:08,500
basically so that I could make it so

727
00:33:06,130 --> 00:33:09,160
that all of these individual things were

728
00:33:08,500 --> 00:33:11,380
tied

729
00:33:09,160 --> 00:33:12,700
so there is one thing I can do to make

730
00:33:11,380 --> 00:33:14,799
that transition a little easier what I

731
00:33:12,700 --> 00:33:17,289
could do is just slam in some entities

732
00:33:14,798 --> 00:33:20,910
that are basically walls that are that

733
00:33:17,289 --> 00:33:24,009
are there right so let's try that let's

734
00:33:20,910 --> 00:33:24,790
try that first because that's relatively

735
00:33:24,009 --> 00:33:27,160
simple to do

736
00:33:24,789 --> 00:33:28,899
so what's relatively simple to do there

737
00:33:27,160 --> 00:33:32,019
is when we're actually creating these

738
00:33:28,900 --> 00:33:34,420
things right when we're setting the tile

739
00:33:32,019 --> 00:33:38,048
map value I could just flat-out add an

740
00:33:34,420 --> 00:33:40,509
entity now that is whatever this thing

741
00:33:38,048 --> 00:33:44,740
is right that that is at its location

742
00:33:40,509 --> 00:33:46,869
and has that width and height right so

743
00:33:44,740 --> 00:33:48,190
let's let's just do that we know what

744
00:33:46,869 --> 00:33:50,678
the tile position is because it's the

745
00:33:48,190 --> 00:33:53,650
ABS tile XY and Z which we've got right

746
00:33:50,679 --> 00:33:55,059
and so I'm gonna add I'm gonna add so

747
00:33:53,650 --> 00:33:57,548
that there's basically a little handmade

748
00:33:55,058 --> 00:34:01,240
hero guy a little one of him all around

749
00:33:57,548 --> 00:34:03,089
the whole outside right so let's go

750
00:34:01,240 --> 00:34:06,509
ahead and do that so we've got

751
00:34:03,089 --> 00:34:08,949
initialized an initialized player right

752
00:34:06,509 --> 00:34:11,519
which which works this way I don't know

753
00:34:08,949 --> 00:34:13,898
why we didn't do a dent atif or that

754
00:34:11,519 --> 00:34:16,358
this maybe should have been an ad player

755
00:34:13,898 --> 00:34:17,829
call what do you guys think about that

756
00:34:16,358 --> 00:34:20,529
do you think it should be an ad player

757
00:34:17,829 --> 00:34:22,449
call for now because we do at we do it

758
00:34:20,530 --> 00:34:24,340
this way we just doing the ad right here

759
00:34:22,449 --> 00:34:28,648
anyway so I kind of feel like we could

760
00:34:24,340 --> 00:34:32,679
have just done it this way for now right

761
00:34:28,648 --> 00:34:34,918
enemy and x equals ad player something

762
00:34:32,679 --> 00:34:36,960
like that what do you think about that

763
00:34:34,918 --> 00:34:39,940
seems reasonable to me

764
00:34:36,960 --> 00:34:43,260
initialize player right so we just

765
00:34:39,940 --> 00:34:49,480
facially have internal you went 30 to

766
00:34:43,260 --> 00:34:53,169
add layer I don't know why I cut and

767
00:34:49,480 --> 00:35:01,320
paste it that way that's dumb results or

768
00:34:53,168 --> 00:35:06,099
I should say entity index equals entity

769
00:35:01,320 --> 00:35:09,250
so and I guess what I don't know though

770
00:35:06,099 --> 00:35:10,269
is does this guy have to no he doesn't

771
00:35:09,250 --> 00:35:17,880
so

772
00:35:10,269 --> 00:35:22,630
I don't think there's empty index yeah

773
00:35:17,880 --> 00:35:26,860
yeah alright Adam D function does not

774
00:35:22,630 --> 00:35:29,050
take yes that's true no second player

775
00:35:26,860 --> 00:35:31,119
must return to value returned entity

776
00:35:29,050 --> 00:35:34,210
index so there we go we change it to add

777
00:35:31,119 --> 00:35:36,820
player and we run it and we can add a

778
00:35:34,210 --> 00:35:39,250
player so that's good and now let's go

779
00:35:36,820 --> 00:35:44,200
ahead and add another one of these that

780
00:35:39,250 --> 00:35:46,630
adds a wall so let's do add wall for now

781
00:35:44,199 --> 00:35:49,989
and what we want to do there is take a

782
00:35:46,630 --> 00:35:55,390
tile map I guess we want to do ABS tile

783
00:35:49,989 --> 00:35:58,019
X abs tight Y AB style Z so now since I

784
00:35:55,389 --> 00:36:04,829
don't know what else really to set there

785
00:35:58,019 --> 00:36:09,940
so we'll just do ABS X ABS Y ABS tiles Z

786
00:36:04,829 --> 00:36:13,090
the offset can be nothing we are zeroing

787
00:36:09,940 --> 00:36:16,510
these are we not though I feel like

788
00:36:13,090 --> 00:36:18,160
additively already zeroes them yes it

789
00:36:16,510 --> 00:36:20,800
does so I feel like there's really no

790
00:36:18,159 --> 00:36:23,049
reason for that to be done I don't know

791
00:36:20,800 --> 00:36:25,450
why we're doing it out there and then

792
00:36:23,050 --> 00:36:30,750
the height is gonna be that game state

793
00:36:25,449 --> 00:36:36,210
world tile map tile side and meters

794
00:36:30,750 --> 00:36:39,159
right because that's how big our hmm

795
00:36:36,210 --> 00:36:41,949
oops that's how big our tiles are

796
00:36:39,159 --> 00:36:44,829
supposed to be on a side and it does

797
00:36:41,949 --> 00:36:48,339
collide that's true and we don't really

798
00:36:44,829 --> 00:36:49,690
care what its residence is I guess at

799
00:36:48,340 --> 00:36:51,850
the moment that'll be a test to see if

800
00:36:49,690 --> 00:36:53,500
it gets brought into the hiset when it

801
00:36:51,849 --> 00:36:56,230
does and we would not want to follow the

802
00:36:53,500 --> 00:36:59,349
camera so that's basically the entirety

803
00:36:56,230 --> 00:37:04,059
of our ad wall code oh whoops

804
00:36:59,349 --> 00:37:06,730
of course I accidentally and it hits the

805
00:37:04,059 --> 00:37:08,730
wrong one but that's okay that's what

806
00:37:06,730 --> 00:37:12,190
happens on the stream sometimes people

807
00:37:08,730 --> 00:37:15,400
yeah you know it does alright so let's

808
00:37:12,190 --> 00:37:17,139
go ahead and fix that they're freaked

809
00:37:15,400 --> 00:37:18,820
out I don't even want to know what kind

810
00:37:17,139 --> 00:37:23,349
of cut and paste mistakes I just

811
00:37:18,820 --> 00:37:24,160
introduced there alright so in theory we

812
00:37:23,349 --> 00:37:25,568
have now added

813
00:37:24,159 --> 00:37:27,940
some walls oh well we haven't yet

814
00:37:25,568 --> 00:37:29,588
because we didn't actually call it but

815
00:37:27,940 --> 00:37:32,409
in theory we have written a function

816
00:37:29,588 --> 00:37:33,880
that lets us add some walls and so let's

817
00:37:32,409 --> 00:37:38,348
go ahead and do that so let's do add

818
00:37:33,880 --> 00:37:39,838
wall and we will take the gamestate and

819
00:37:38,349 --> 00:37:44,950
this stuff

820
00:37:39,838 --> 00:37:48,119
right there it is and we'll see what

821
00:37:44,949 --> 00:37:54,909
happens I don't know what happened Oh oh

822
00:37:48,119 --> 00:37:55,480
my well you know that's that was a

823
00:37:54,909 --> 00:37:59,500
mistake

824
00:37:55,480 --> 00:38:01,690
and I admit that I realized that in

825
00:37:59,500 --> 00:38:05,048
retrospect we should only add it when

826
00:38:01,690 --> 00:38:09,700
there actually is a wall we did not do

827
00:38:05,048 --> 00:38:10,000
that so you know my bad I'm sorry about

828
00:38:09,699 --> 00:38:12,608
that

829
00:38:10,000 --> 00:38:13,929
that was a mistake so let's go ahead and

830
00:38:12,608 --> 00:38:16,088
say that let's pretend that didn't

831
00:38:13,929 --> 00:38:19,149
happen pretend that we didn't just fill

832
00:38:16,088 --> 00:38:20,469
the screens with with dudes and we'll go

833
00:38:19,150 --> 00:38:23,650
ahead and try something else here so

834
00:38:20,469 --> 00:38:26,769
we'll say okay which tile value do we

835
00:38:23,650 --> 00:38:28,900
actually want we want tile value too so

836
00:38:26,769 --> 00:38:35,019
only if the tile value actually equals

837
00:38:28,900 --> 00:38:38,798
to will we use behind my head there okay

838
00:38:35,019 --> 00:38:40,630
so there we go now I don't know why that

839
00:38:38,798 --> 00:38:42,818
only happens oh I dunno why it only

840
00:38:40,630 --> 00:38:44,940
happens nevermind and that's way too

841
00:38:42,818 --> 00:38:47,048
much for our poor little really crappy

842
00:38:44,940 --> 00:38:48,639
blit code to handle because especially

843
00:38:47,048 --> 00:38:50,079
because we're not even trimming this guy

844
00:38:48,639 --> 00:38:53,048
down so it's like bleeding and tire

845
00:38:50,079 --> 00:38:56,349
extra you know a huge area around him as

846
00:38:53,048 --> 00:38:58,269
well but that's correct now at the very

847
00:38:56,349 --> 00:39:01,119
least and so in theory I can't go

848
00:38:58,269 --> 00:39:03,159
through this either so that's all good

849
00:39:01,119 --> 00:39:07,000
so what I'll probably do is change it so

850
00:39:03,159 --> 00:39:08,469
that those walls will get drawn as just

851
00:39:07,000 --> 00:39:10,420
little squares and then I'll stop

852
00:39:08,469 --> 00:39:13,000
drawing the tile map but you'll notice

853
00:39:10,420 --> 00:39:15,068
that it didn't actually add any of the

854
00:39:13,000 --> 00:39:16,449
walls into the high entity set until we

855
00:39:15,068 --> 00:39:18,730
actually did a set camera call and

856
00:39:16,449 --> 00:39:20,078
that's because right we was waiting

857
00:39:18,730 --> 00:39:21,639
until we had a camera following entity

858
00:39:20,079 --> 00:39:23,710
to actually do that so it's until the

859
00:39:21,639 --> 00:39:24,788
player joined it never called our set

860
00:39:23,710 --> 00:39:27,849
camera call which is the thing that

861
00:39:24,789 --> 00:39:30,278
brings things into the hiset so what we

862
00:39:27,849 --> 00:39:32,910
wanted to do there right is we wanted to

863
00:39:30,278 --> 00:39:32,909
go ahead and say

864
00:39:40,889 --> 00:39:44,579
although now that I think about it we've

865
00:39:42,840 --> 00:39:52,880
had to implement that yet either so

866
00:39:44,579 --> 00:39:55,880
that's a little wonky right that is

867
00:39:52,880 --> 00:39:55,880
bizarre

868
00:39:59,309 --> 00:40:07,059
mmm that I'm gonna go ahead and step

869
00:40:04,510 --> 00:40:09,390
into his I don't understand why that

870
00:40:07,059 --> 00:40:14,619
just happened now that I think about it

871
00:40:09,389 --> 00:40:17,159
now that I think about it because that

872
00:40:14,619 --> 00:40:19,719
should not have worked that just

873
00:40:17,159 --> 00:40:23,139
straight-up should not have worked why

874
00:40:19,719 --> 00:40:23,859
did that work because we had implemented

875
00:40:23,139 --> 00:40:33,549
that yet

876
00:40:23,860 --> 00:40:37,660
I didn't actually write the code okay

877
00:40:33,550 --> 00:40:40,480
Wow all right so uh all right I know how

878
00:40:37,659 --> 00:40:48,489
it works now that was bizarre

879
00:40:40,480 --> 00:40:49,809
okay okay Wow all right okay do I even

880
00:40:48,489 --> 00:40:50,969
know it I don't know if I really know

881
00:40:49,809 --> 00:40:54,099
how it worked

882
00:40:50,969 --> 00:40:56,139
yeah I guess I maybe do so when we're

883
00:40:54,099 --> 00:40:59,529
we're doing it here I think I would have

884
00:40:56,139 --> 00:41:03,219
expected to see those entities right but

885
00:40:59,530 --> 00:41:06,550
they didn't have their hi there they

886
00:41:03,219 --> 00:41:08,169
hadn't actually been mapped into into

887
00:41:06,550 --> 00:41:10,420
that space yet because it didn't have it

888
00:41:08,170 --> 00:41:14,139
didn't have any those guys didn't have

889
00:41:10,420 --> 00:41:18,909
any entity residents whatsoever right so

890
00:41:14,139 --> 00:41:22,089
I guess what must have happened is when

891
00:41:18,909 --> 00:41:26,289
we finally go and make the set camera

892
00:41:22,090 --> 00:41:28,360
call it moves it must just be because

893
00:41:26,289 --> 00:41:32,380
we're finally calling change residents

894
00:41:28,360 --> 00:41:42,550
it just so happens that since they were

895
00:41:32,380 --> 00:41:48,640
all non-existent well but yeah none of

896
00:41:42,550 --> 00:41:50,680
them even pass so how is it tell me how

897
00:41:48,639 --> 00:41:53,739
it is possible that any of these guys

898
00:41:50,679 --> 00:41:55,960
are getting drunk what is going on here

899
00:41:53,739 --> 00:41:57,879
that's just quite the that's quite the

900
00:41:55,960 --> 00:42:04,269
oddity because I would have expected it

901
00:41:57,880 --> 00:42:07,260
not to draw any of these right and it

902
00:42:04,269 --> 00:42:07,259
doesn't draw them

903
00:42:11,889 --> 00:42:18,949
okay I now know what's going on yeah

904
00:42:16,880 --> 00:42:21,320
that was that was bizarre that was like

905
00:42:18,949 --> 00:42:24,980
I guess that's our system being a little

906
00:42:21,320 --> 00:42:27,200
bit too clever so because I wrote it so

907
00:42:24,980 --> 00:42:29,420
that whenever you see what's happening

908
00:42:27,199 --> 00:42:31,489
now finally because I wrote it that

909
00:42:29,420 --> 00:42:33,139
whenever you ask for a thing at high

910
00:42:31,489 --> 00:42:34,849
resolution it does the mapping correctly

911
00:42:33,139 --> 00:42:36,589
and all that stuff as soon as the

912
00:42:34,849 --> 00:42:37,699
collision detector we wrote the

913
00:42:36,590 --> 00:42:39,320
collision detector so that we're just

914
00:42:37,699 --> 00:42:41,868
like well for right now we'll just check

915
00:42:39,320 --> 00:42:43,039
all the entities we wrote the collision

916
00:42:41,869 --> 00:42:45,380
detector to check all the entities so

917
00:42:43,039 --> 00:42:47,150
the collision detector actually is the

918
00:42:45,380 --> 00:42:50,930
thing that goes through and makes all of

919
00:42:47,150 --> 00:42:55,970
those guys come back up - hi oh that's

920
00:42:50,929 --> 00:43:00,230
hilarious all right so it's actually

921
00:42:55,969 --> 00:43:03,739
this call right here that's doing it so

922
00:43:00,230 --> 00:43:05,570
that's pretty funny well I guess the

923
00:43:03,739 --> 00:43:07,639
system's nice and resilient that's good

924
00:43:05,570 --> 00:43:09,609
but that was not what I expected that

925
00:43:07,639 --> 00:43:12,618
was not what I was trying to do at all

926
00:43:09,608 --> 00:43:17,449
not what I was trying to do it all so

927
00:43:12,619 --> 00:43:18,559
yeah okay that's fine let's go ahead and

928
00:43:17,449 --> 00:43:20,719
do something a little more

929
00:43:18,559 --> 00:43:23,630
straightforward here though so we can

930
00:43:20,719 --> 00:43:26,480
kind of get get back to what we were

931
00:43:23,630 --> 00:43:28,010
doing that was crazy I I didn't realize

932
00:43:26,480 --> 00:43:29,929
I forgot kind of that I had made a

933
00:43:28,010 --> 00:43:31,850
system that would always do the hi

934
00:43:29,929 --> 00:43:36,349
movement correctly if you just asked for

935
00:43:31,849 --> 00:43:38,029
one who wasn't already in the hiset I

936
00:43:36,349 --> 00:43:40,429
don't know that I really want that to

937
00:43:38,030 --> 00:43:42,980
happen I think I may want that to not be

938
00:43:40,429 --> 00:43:44,750
the way it works but I forgot that I've

939
00:43:42,980 --> 00:43:46,480
added that and so it was like hey poof

940
00:43:44,750 --> 00:43:48,909
as soon as someone needs to know

941
00:43:46,480 --> 00:43:55,990
magically everyone's map properly

942
00:43:48,909 --> 00:43:59,179
surprised okay so let's go ahead and say

943
00:43:55,989 --> 00:44:02,000
that inside our entity struck structure

944
00:43:59,179 --> 00:44:04,579
here let's go ahead and make a entity

945
00:44:02,000 --> 00:44:10,039
type as well for now right so we'll just

946
00:44:04,579 --> 00:44:12,230
say entity type and inside there I'm

947
00:44:10,039 --> 00:44:17,090
just gonna do there's a well will do

948
00:44:12,230 --> 00:44:19,360
here oh and then we'll do wall and

949
00:44:17,090 --> 00:44:20,740
that's really all we've got right now

950
00:44:19,360 --> 00:44:25,120
so I'm gonna say that we've got to type

951
00:44:20,739 --> 00:44:30,459
in here to type oops that's not our

952
00:44:25,119 --> 00:44:33,940
entry structure though they're like so

953
00:44:30,460 --> 00:44:37,539
and now I'm gonna say that whenever we

954
00:44:33,940 --> 00:44:41,079
add the entity like this you're gonna

955
00:44:37,539 --> 00:44:44,259
pass and add entity type that you want

956
00:44:41,079 --> 00:44:46,179
that entity to be and then I'm just

957
00:44:44,260 --> 00:44:47,340
gonna set it to that so we now know so

958
00:44:46,179 --> 00:45:05,079
we can at least tell the difference

959
00:44:47,340 --> 00:45:06,309
between a wall oops that's not right so

960
00:45:05,079 --> 00:45:09,039
now we can tell the difference between a

961
00:45:06,309 --> 00:45:12,369
wall and a player which of course is

962
00:45:09,039 --> 00:45:14,889
something we would want to do so for the

963
00:45:12,369 --> 00:45:20,769
wall we will set wall and for the player

964
00:45:14,889 --> 00:45:22,119
we will set hero that and then that null

965
00:45:20,769 --> 00:45:28,050
entity oh I guess that's a good thing

966
00:45:22,119 --> 00:45:28,049
too we can also have a null entity right

967
00:45:31,079 --> 00:45:36,639
so then when we actually draw the

968
00:45:34,480 --> 00:45:38,349
entities we can just do a simple draw

969
00:45:36,639 --> 00:45:43,119
rectangle call so what we'll do here is

970
00:45:38,349 --> 00:45:47,909
we'll say okay if this entity if the

971
00:45:43,119 --> 00:45:52,750
dormant entity type equals entity type

972
00:45:47,909 --> 00:45:56,349
player or hero rather we'll do the hero

973
00:45:52,750 --> 00:45:58,079
draw otherwise we'll do well I guess for

974
00:45:56,349 --> 00:46:03,579
anything else that happens to exist

975
00:45:58,079 --> 00:46:09,429
we'll do the draw rectangle call and so

976
00:46:03,579 --> 00:46:11,409
that is gonna be in here okay and let's

977
00:46:09,429 --> 00:46:13,750
think about this so how is this doing

978
00:46:11,409 --> 00:46:16,629
it's doing the ground point meters two

979
00:46:13,750 --> 00:46:21,369
pixels high and deep thing but the Blasi

980
00:46:16,630 --> 00:46:25,269
player left top and entity with height

981
00:46:21,369 --> 00:46:27,880
so I that might still be correct what I

982
00:46:25,269 --> 00:46:32,699
want to do is stop drawing the tile map

983
00:46:27,880 --> 00:46:36,900
entirely right so that goes away

984
00:46:32,699 --> 00:46:38,939
and then we can just see what happens

985
00:46:36,900 --> 00:46:43,200
here

986
00:46:38,940 --> 00:46:47,849
so that looks right those are our tiles

987
00:46:43,199 --> 00:46:53,548
right and in theory if I was to change

988
00:46:47,849 --> 00:46:56,818
it so that we were going to disallow so

989
00:46:53,548 --> 00:47:03,989
let's say we do two screens and we were

990
00:46:56,818 --> 00:47:08,429
going to disallow disallow up-and-down

991
00:47:03,989 --> 00:47:11,568
movement right so I'm just gonna say

992
00:47:08,429 --> 00:47:15,210
that the random choice when it does this

993
00:47:11,568 --> 00:47:18,210
it's going to always do one of the first

994
00:47:15,210 --> 00:47:19,260
two so we're not gonna allow that up and

995
00:47:18,210 --> 00:47:21,929
down we're not gonna allow the

996
00:47:19,260 --> 00:47:24,119
stairwells anywhere Oh

997
00:47:21,929 --> 00:47:28,558
conditional expression is constant

998
00:47:24,119 --> 00:47:30,660
really I had no idea how could it

999
00:47:28,559 --> 00:47:32,940
possibly be constant compiler thank you

1000
00:47:30,659 --> 00:47:34,469
for warning me you'd think of that it

1001
00:47:32,940 --> 00:47:36,568
would be smart enough to not warn you if

1002
00:47:34,469 --> 00:47:40,798
you put a 1 in there as opposed to

1003
00:47:36,568 --> 00:47:42,239
something evaluated to a constant but

1004
00:47:40,798 --> 00:47:44,909
that is not how compilers are written

1005
00:47:42,239 --> 00:47:49,159
ladies gentlemen well thanks for that

1006
00:47:44,909 --> 00:47:51,588
warning I guess I'll have to do this the

1007
00:47:49,159 --> 00:47:54,269
old-fashioned way

1008
00:47:51,588 --> 00:47:57,328
what are you smart enough to do that no

1009
00:47:54,269 --> 00:48:02,849
personally not all right so we'll just

1010
00:47:57,329 --> 00:48:04,470
do we'll just do this I guess yeah thank

1011
00:48:02,849 --> 00:48:07,680
you mister compiler for making my life

1012
00:48:04,469 --> 00:48:09,389
harder something that Microsoft to

1013
00:48:07,679 --> 00:48:12,149
science whole teams of people to do as

1014
00:48:09,389 --> 00:48:15,269
far as I know so if we do two screens

1015
00:48:12,150 --> 00:48:18,269
now in theory you can walk through here

1016
00:48:15,269 --> 00:48:19,949
and that's good but we only have two

1017
00:48:18,269 --> 00:48:21,929
screens again so all of those are

1018
00:48:19,949 --> 00:48:22,889
entities now and they appear to be

1019
00:48:21,929 --> 00:48:26,460
working correctly

1020
00:48:22,889 --> 00:48:28,679
so that's good of course there's so a

1021
00:48:26,460 --> 00:48:30,329
bunch of yellow blobs and we still

1022
00:48:28,679 --> 00:48:32,039
should be able to collide with things

1023
00:48:30,329 --> 00:48:33,510
even though they're on the other screen

1024
00:48:32,039 --> 00:48:35,369
right we're still treating them so I

1025
00:48:33,510 --> 00:48:37,920
still have to go through the wall to the

1026
00:48:35,369 --> 00:48:40,318
hole right that makes sense so that's

1027
00:48:37,920 --> 00:48:43,349
kind of cool and the other thing that in

1028
00:48:40,318 --> 00:48:46,588
theory should work as well is if we

1029
00:48:43,349 --> 00:48:50,999
wanted to do you know

1030
00:48:46,588 --> 00:48:53,338
smooth scrolling I feel like we could do

1031
00:48:50,998 --> 00:48:56,248
it at is at whatever granularity we

1032
00:48:53,338 --> 00:49:01,528
wanted right so that kept camera call I

1033
00:48:56,248 --> 00:49:05,669
think should probably work just fine if

1034
00:49:01,528 --> 00:49:07,528
we if we just always you know if we had

1035
00:49:05,670 --> 00:49:13,440
a much shorter tolerance so you know if

1036
00:49:07,528 --> 00:49:17,009
we if we did something that caused us to

1037
00:49:13,440 --> 00:49:19,858
be off alignment so for example if we

1038
00:49:17,009 --> 00:49:27,329
were doing something where it was just

1039
00:49:19,858 --> 00:49:31,048
like you know one or something in either

1040
00:49:27,329 --> 00:49:32,309
direction I don't know it's gonna work

1041
00:49:31,048 --> 00:49:36,358
quite right because of the hysteresis

1042
00:49:32,309 --> 00:49:39,869
and stuff but let's just see so if I do

1043
00:49:36,358 --> 00:49:41,489
it this way yeah so we can actually just

1044
00:49:39,869 --> 00:49:45,289
change the camera at whatever frequency

1045
00:49:41,489 --> 00:49:51,079
we want and it's all good so that's fine

1046
00:49:45,289 --> 00:49:55,440
as you can see that's all good and yeah

1047
00:49:51,079 --> 00:49:56,999
no real issues so that's good and I

1048
00:49:55,440 --> 00:50:00,858
think that's basically everything that I

1049
00:49:56,998 --> 00:50:04,018
wanted to do with that test all right

1050
00:50:00,858 --> 00:50:05,788
yeah we could actually do smooth going

1051
00:50:04,018 --> 00:50:07,798
to write up I don't really want that so

1052
00:50:05,789 --> 00:50:09,059
I'm not gonna actually bother but it's

1053
00:50:07,798 --> 00:50:10,409
good to know that that's just a good

1054
00:50:09,059 --> 00:50:12,778
test to run the make sure that

1055
00:50:10,409 --> 00:50:14,248
everything still works so we've got

1056
00:50:12,778 --> 00:50:15,539
about 10 minutes left so now I think

1057
00:50:14,248 --> 00:50:17,399
what I'd like to do is sort of

1058
00:50:15,539 --> 00:50:18,719
concentrate a little bit more on what we

1059
00:50:17,400 --> 00:50:21,568
were actually trying to do here with the

1060
00:50:18,719 --> 00:50:23,729
set camera moving stuff in so what we

1061
00:50:21,568 --> 00:50:27,599
want to do now is say move anything in

1062
00:50:23,728 --> 00:50:31,468
that sit have been in right and so again

1063
00:50:27,599 --> 00:50:36,329
the sort of the lousy way to do that is

1064
00:50:31,469 --> 00:50:40,318
to come through here and say go through

1065
00:50:36,329 --> 00:50:41,900
all of like the dormant entities right

1066
00:50:40,318 --> 00:50:45,268
and move them to high

1067
00:50:41,900 --> 00:50:48,858
so we basically say okay let's see what

1068
00:50:45,268 --> 00:50:52,368
the dormant entities are dormant and

1069
00:50:48,858 --> 00:50:52,369
dormant empties

1070
00:50:52,409 --> 00:50:56,818
and we will say that well I I just love

1071
00:50:55,170 --> 00:50:58,950
typing doormat I typed that so many

1072
00:50:56,818 --> 00:51:00,420
times if that's not reason enough to

1073
00:50:58,949 --> 00:51:02,278
call them dormant I don't know what is

1074
00:51:00,420 --> 00:51:04,710
because justing doormat all the time

1075
00:51:02,278 --> 00:51:06,298
it's funny and basically what we'll do

1076
00:51:04,710 --> 00:51:09,150
here is say that we'll move stuff into

1077
00:51:06,298 --> 00:51:11,548
the hiset and as I'm doing this by the

1078
00:51:09,150 --> 00:51:14,369
way I'm starting to be kind of convinced

1079
00:51:11,548 --> 00:51:16,288
that I probably only want to and not

1080
00:51:14,369 --> 00:51:21,298
three so there just be a high and a low

1081
00:51:16,289 --> 00:51:22,349
and there'd be no dormant I think it's

1082
00:51:21,298 --> 00:51:26,940
just gonna get too complicated with

1083
00:51:22,349 --> 00:51:27,599
three but just calling out my gut my gut

1084
00:51:26,940 --> 00:51:34,798
feeling

1085
00:51:27,599 --> 00:51:36,599
my feels as I feels them so when we're

1086
00:51:34,798 --> 00:51:38,429
doing this what we're gonna do now is

1087
00:51:36,599 --> 00:51:39,930
check because we're going to make this a

1088
00:51:38,429 --> 00:51:42,118
more intelligent query in the future

1089
00:51:39,929 --> 00:51:45,298
because this one's going to have to be

1090
00:51:42,119 --> 00:51:48,150
more spatial what I'd like to do here is

1091
00:51:45,298 --> 00:51:50,909
just test against the tile locations of

1092
00:51:48,150 --> 00:51:55,410
these guys so essentially this dormant

1093
00:51:50,909 --> 00:51:57,868
guy he's got the ABS tile X so basically

1094
00:51:55,409 --> 00:52:00,710
I say if it's ABS tile Z equals hours

1095
00:51:57,869 --> 00:52:03,358
right equals our new camera P AB style Z

1096
00:52:00,710 --> 00:52:09,539
that means he's on the same plane as us

1097
00:52:03,358 --> 00:52:12,058
so that's good and if the dormant P AB

1098
00:52:09,539 --> 00:52:15,000
style X is greater than equal to the min

1099
00:52:12,059 --> 00:52:19,069
tile X which will have to compute all

1100
00:52:15,000 --> 00:52:22,318
right blah blah blah so you know

1101
00:52:19,068 --> 00:52:29,400
something like this I guess I can do

1102
00:52:22,318 --> 00:52:32,130
this as a maximum X so if I do this

1103
00:52:29,400 --> 00:52:34,230
check and basically say when I loop over

1104
00:52:32,130 --> 00:52:37,680
the dormant entities if they are inside

1105
00:52:34,230 --> 00:52:40,289
the rectangular region tile map wise

1106
00:52:37,679 --> 00:52:49,098
then we're going to move them into high

1107
00:52:40,289 --> 00:52:54,960
right min tile Y min tile oops

1108
00:52:49,099 --> 00:52:58,400
maxed out x max hat Y and what I can do

1109
00:52:54,960 --> 00:53:01,019
here is just say that essentially these

1110
00:52:58,400 --> 00:53:03,920
are actually going to be computed off

1111
00:53:01,018 --> 00:53:06,239
the same stuff that this is right

1112
00:53:03,920 --> 00:53:11,818
essentially what I have here is

1113
00:53:06,239 --> 00:53:14,758
Tyl spandex and a tile span why this is

1114
00:53:11,818 --> 00:53:17,190
our towel spandex right

1115
00:53:14,759 --> 00:53:20,998
and this is our towel span Y which is

1116
00:53:17,190 --> 00:53:23,190
how big that camera view actually is not

1117
00:53:20,998 --> 00:53:25,259
the actual usable camera but sort of the

1118
00:53:23,190 --> 00:53:28,920
apron that Cole area that we want to

1119
00:53:25,259 --> 00:53:32,539
calculate and so the min tile X is just

1120
00:53:28,920 --> 00:53:38,548
going to be the negative of that right

1121
00:53:32,539 --> 00:53:43,410
and the positive there and right tile

1122
00:53:38,548 --> 00:53:48,358
right like so on yeah

1123
00:53:43,409 --> 00:53:52,440
so I think that is and it's it's half of

1124
00:53:48,358 --> 00:53:56,400
this right so it's it's a half it's a

1125
00:53:52,440 --> 00:53:59,150
half size I believe that's correct with

1126
00:53:56,400 --> 00:54:03,499
who should be brought in

1127
00:53:59,150 --> 00:54:03,499
she should be brought into the system so

1128
00:54:04,130 --> 00:54:10,130
now what are you complaining about

1129
00:54:10,219 --> 00:54:21,028
you know - oh yeah sorry about that

1130
00:54:15,778 --> 00:54:24,659
my bad I admit that I admit that so this

1131
00:54:21,028 --> 00:54:28,230
is going to be camera bounds sorry a new

1132
00:54:24,659 --> 00:54:30,268
camera P ABS tile X - because this is

1133
00:54:28,230 --> 00:54:34,170
based off of where the camera actually

1134
00:54:30,268 --> 00:54:35,939
is obviously plus plus so that's

1135
00:54:34,170 --> 00:54:37,440
actually what I wanted now again we're

1136
00:54:35,940 --> 00:54:39,809
we're you know we're there's a little

1137
00:54:37,440 --> 00:54:43,048
bit of a bug here that really doesn't

1138
00:54:39,809 --> 00:54:44,670
affect us much but remember we're not

1139
00:54:43,048 --> 00:54:46,349
supposed to be wrapping and we will be

1140
00:54:44,670 --> 00:54:49,259
wrapping here because we haven't moved

1141
00:54:46,349 --> 00:54:50,068
the world to the center yet so there's a

1142
00:54:49,259 --> 00:54:51,748
little bit of a bug here but I don't

1143
00:54:50,068 --> 00:54:54,469
think it affects us yet so we don't

1144
00:54:51,748 --> 00:54:56,909
really have to worry too much about it

1145
00:54:54,469 --> 00:55:00,959
you just got to put those hands in there

1146
00:54:56,909 --> 00:55:03,778
there we go and so now I think we would

1147
00:55:00,960 --> 00:55:05,009
be correct yes oh there we go well of

1148
00:55:03,778 --> 00:55:07,230
course I don't actually know yet because

1149
00:55:05,009 --> 00:55:09,778
I have to call that set camera call at

1150
00:55:07,230 --> 00:55:14,690
the start of the game as well so what we

1151
00:55:09,778 --> 00:55:16,588
want to do we want to do that set camera

1152
00:55:14,690 --> 00:55:19,619
somewhere where you can force it to

1153
00:55:16,588 --> 00:55:23,568
actually do the entity change

1154
00:55:19,619 --> 00:55:23,568
so what we want to do there is say

1155
00:55:24,349 --> 00:55:29,969
basically when we start the game really

1156
00:55:27,329 --> 00:55:32,999
when we do this camera P what we'd want

1157
00:55:29,969 --> 00:55:37,200
to do is actually you know make the

1158
00:55:32,998 --> 00:55:40,848
camera P be set this way right so we'd

1159
00:55:37,199 --> 00:55:46,828
want to do is say a tiled map position

1160
00:55:40,849 --> 00:55:49,140
camera new camera P right and we'd want

1161
00:55:46,829 --> 00:55:51,450
to we'd want to set the new camera P AB

1162
00:55:49,139 --> 00:55:54,118
style X and AB style Y and then we just

1163
00:55:51,449 --> 00:55:57,710
want to we want to set it that way so

1164
00:55:54,119 --> 00:56:03,210
that we set the we set the camera

1165
00:55:57,710 --> 00:56:04,858
exactly that way now I don't know why

1166
00:56:03,210 --> 00:56:07,048
it's being set there though so I feel

1167
00:56:04,858 --> 00:56:08,940
like all of this stuff should actually

1168
00:56:07,048 --> 00:56:12,838
happen at the very end so that

1169
00:56:08,940 --> 00:56:15,509
everything gets moved in properly what

1170
00:56:12,838 --> 00:56:18,900
did I do badly they're missing initially

1171
00:56:15,509 --> 00:56:19,978
yes it is miss exact : so that should

1172
00:56:18,900 --> 00:56:22,528
actually get things initialized properly

1173
00:56:19,978 --> 00:56:27,960
now it's startup I would think but it

1174
00:56:22,528 --> 00:56:30,329
still didn't why is that so let's take a

1175
00:56:27,960 --> 00:56:33,960
look at what happened there I think I've

1176
00:56:30,329 --> 00:56:37,559
typed too much code oops that's the

1177
00:56:33,960 --> 00:56:39,719
wrong set camera call there we go that's

1178
00:56:37,559 --> 00:56:41,009
the one we actually want so let's take a

1179
00:56:39,719 --> 00:56:43,619
look at what happens here we come

1180
00:56:41,009 --> 00:56:46,588
through there are no entities in the

1181
00:56:43,619 --> 00:56:51,900
high set at the moment well oh well I

1182
00:56:46,588 --> 00:56:53,728
guess there are so of course what I

1183
00:56:51,900 --> 00:56:56,068
should do here as well although this is

1184
00:56:53,728 --> 00:57:00,538
going to change pretty soon as well I

1185
00:56:56,068 --> 00:57:05,719
should do this as well let's see if game

1186
00:57:00,539 --> 00:57:08,160
state into your residents the index

1187
00:57:05,719 --> 00:57:10,338
equals high so we should only actually

1188
00:57:08,159 --> 00:57:16,949
check the people who are at high alright

1189
00:57:10,338 --> 00:57:20,929
so go and and this is going to be for

1190
00:57:16,949 --> 00:57:20,929
the people who are dormant and I believe

1191
00:57:20,989 --> 00:57:27,528
should be remember to actually set would

1192
00:57:24,838 --> 00:57:27,528
be the other thing

1193
00:57:32,019 --> 00:57:38,929
did we remember to actually set the wall

1194
00:57:35,440 --> 00:57:42,079
to dormant or not yes we did okay so

1195
00:57:38,929 --> 00:57:43,699
that's good all right but we're still

1196
00:57:42,079 --> 00:57:45,409
not working properly so we got a we got

1197
00:57:43,699 --> 00:57:47,029
a debug this here we've got about a

1198
00:57:45,409 --> 00:57:48,500
minute left before the QA because the

1199
00:57:47,030 --> 00:57:53,660
timer is still running one minute ahead

1200
00:57:48,500 --> 00:57:55,579
I gotta remember to fix that so we come

1201
00:57:53,659 --> 00:57:57,469
through here and and we shouldn't have

1202
00:57:55,579 --> 00:57:59,960
any entities in hi right so those should

1203
00:57:57,469 --> 00:58:02,869
all get skipped right we should come

1204
00:57:59,960 --> 00:58:04,789
down here and we should compute these so

1205
00:58:02,869 --> 00:58:07,130
I wonder if this is our wrapping yeah

1206
00:58:04,789 --> 00:58:09,440
nevermind you know I said the wrapping

1207
00:58:07,130 --> 00:58:14,170
wouldn't bite us and it totally did

1208
00:58:09,440 --> 00:58:18,200
right it totally did that's too bad

1209
00:58:14,170 --> 00:58:19,550
I'm alright so we do have the problem

1210
00:58:18,199 --> 00:58:23,809
that we're on the edge of the world so I

1211
00:58:19,550 --> 00:58:26,769
think we're gonna have to solve that get

1212
00:58:23,809 --> 00:58:30,769
that wrapping thing straightened out so

1213
00:58:26,769 --> 00:58:34,429
let's go ahead and and say that we'll do

1214
00:58:30,769 --> 00:58:36,380
that first thing tomorrow where we'll go

1215
00:58:34,429 --> 00:58:38,960
ahead and and actually address the

1216
00:58:36,380 --> 00:58:40,610
wrapping problem because you know we've

1217
00:58:38,960 --> 00:58:41,659
kind of done what we wanted to do in

1218
00:58:40,610 --> 00:58:43,820
terms of splitting things up a little

1219
00:58:41,659 --> 00:58:48,469
bit and the next step is to get these

1220
00:58:43,820 --> 00:58:50,360
things rolling through a nice having not

1221
00:58:48,469 --> 00:58:52,759
having totally duplicate arrays for

1222
00:58:50,360 --> 00:58:54,860
everything and storing the guys more

1223
00:58:52,760 --> 00:58:56,210
sensibly in the tile map anyway so that

1224
00:58:54,860 --> 00:58:57,829
kind of dovetail nicely they're just

1225
00:58:56,210 --> 00:59:01,730
going okay let's go into the tile map

1226
00:58:57,829 --> 00:59:05,420
and actually make it will actually make

1227
00:59:01,730 --> 00:59:07,070
it store them sparsely so that we can

1228
00:59:05,420 --> 00:59:09,920
start in the middle of the world instead

1229
00:59:07,070 --> 00:59:11,750
of all the way at the end like so so

1230
00:59:09,920 --> 00:59:14,480
yeah so let's say that what we'll do

1231
00:59:11,750 --> 00:59:16,690
tomorrow that'll be our thing and so

1232
00:59:14,480 --> 00:59:20,360
this will be our to-do to concentrate on

1233
00:59:16,690 --> 00:59:26,329
on tomorrow all right so let's go ahead

1234
00:59:20,360 --> 00:59:30,470
and and and start the QA then so if you

1235
00:59:26,329 --> 00:59:32,449
could let's see CD I gotta set up my

1236
00:59:30,469 --> 00:59:34,189
little thing here if you could please

1237
00:59:32,449 --> 00:59:35,689
prefix your questions with Q :

1238
00:59:34,190 --> 00:59:38,420
so that I can see them and please keep

1239
00:59:35,690 --> 00:59:39,579
the questions to stuff that we have done

1240
00:59:38,420 --> 00:59:41,499
today or that

1241
00:59:39,579 --> 00:59:42,969
we'll do that we did on a previous one

1242
00:59:41,498 --> 00:59:45,098
if you want to ask stuff about like

1243
00:59:42,969 --> 00:59:46,929
stuff we're going to do or if you want

1244
00:59:45,099 --> 00:59:48,459
to ask stuff about just totally off

1245
00:59:46,929 --> 00:59:50,528
topic questions those are totally fine

1246
00:59:48,458 --> 00:59:53,469
but ask them during the pre stream so

1247
00:59:50,528 --> 00:59:55,478
come about 15 minutes before the stream

1248
00:59:53,469 --> 00:59:57,119
starts on any given day and I'll answer

1249
00:59:55,478 --> 01:00:00,118
I answer all kinds of crazy questions

1250
00:59:57,119 --> 01:00:00,119
then

1251
01:00:02,190 --> 01:00:06,249
all right sort of the signs of them they

1252
01:00:04,539 --> 01:00:07,539
may well be someone's asking if some of

1253
01:00:06,248 --> 01:00:12,068
the signs are wrong in the mint I'll

1254
01:00:07,539 --> 01:00:14,019
xiii put those in quite quickly yes they

1255
01:00:12,068 --> 01:00:17,380
are but of course the wrapping we have a

1256
01:00:14,018 --> 01:00:19,389
wrapping problem whether those are right

1257
01:00:17,380 --> 01:00:21,608
or wrong so unfortunately I don't think

1258
01:00:19,389 --> 01:00:23,440
that's gonna help us here these are

1259
01:00:21,608 --> 01:00:26,650
these are all kinds of messed up

1260
01:00:23,440 --> 01:00:29,769
actually so this is if we actually want

1261
01:00:26,650 --> 01:00:33,459
to do this let's let's fix that so we've

1262
01:00:29,768 --> 01:00:40,689
got mint i'll xmax tuile X min tau Y max

1263
01:00:33,458 --> 01:00:43,629
tau Y AB style X ABS top X tau Y okay so

1264
01:00:40,690 --> 01:00:46,179
the min is the absolute minus the half

1265
01:00:43,630 --> 01:00:49,568
span this should be twice the half span

1266
01:00:46,179 --> 01:00:51,489
of Y so these are all wise men men AB

1267
01:00:49,568 --> 01:00:56,400
star y yeah there we go

1268
01:00:51,489 --> 01:00:59,528
all right but again I think we're still

1269
01:00:56,400 --> 01:01:01,150
we're still not gonna yeah it still

1270
01:00:59,528 --> 01:01:04,509
isn't gonna work because just because of

1271
01:01:01,150 --> 01:01:09,568
the wrapping problem so but yes good

1272
01:01:04,509 --> 01:01:09,568
catch that was wrong we just you know

1273
01:01:12,440 --> 01:01:17,789
what does internal modifier which is

1274
01:01:15,088 --> 01:01:19,768
applied to the set camera function I

1275
01:01:17,789 --> 01:01:26,059
mean what is the difference between non

1276
01:01:19,768 --> 01:01:28,889
static and static function so basically

1277
01:01:26,059 --> 01:01:32,180
it may seem a little bit like voodoo and

1278
01:01:28,889 --> 01:01:32,179
it is I guess a little bit like voodoo

1279
01:01:32,719 --> 01:01:37,708
because of the unity build but I can

1280
01:01:36,630 --> 01:01:40,048
explain that

1281
01:01:37,708 --> 01:01:42,929
so internal is just a pound to find that

1282
01:01:40,048 --> 01:01:44,400
I pound to find two static so it's the

1283
01:01:42,929 --> 01:01:45,538
same as saying static which obviously

1284
01:01:44,400 --> 01:01:48,150
you already knew because you put that

1285
01:01:45,539 --> 01:01:50,789
into the question so the question is why

1286
01:01:48,150 --> 01:01:54,690
am i defining these functions as static

1287
01:01:50,789 --> 01:01:57,930
and the answer is because any function

1288
01:01:54,690 --> 01:02:01,798
that is not defined as static can be

1289
01:01:57,929 --> 01:02:04,048
linked by the linker to other compiled

1290
01:02:01,798 --> 01:02:06,329
modules right that's that's what static

1291
01:02:04,048 --> 01:02:08,219
being static means that when I compile a

1292
01:02:06,329 --> 01:02:10,140
particular what's called a compilation

1293
01:02:08,219 --> 01:02:11,519
unit which is oftentimes one CPP file

1294
01:02:10,139 --> 01:02:13,199
but the way we're doing it it's lots of

1295
01:02:11,518 --> 01:02:17,179
secret files cuz i you know concatenate

1296
01:02:13,199 --> 01:02:17,179
them together during the compile right

1297
01:02:17,208 --> 01:02:23,728
static says do not put this function in

1298
01:02:20,818 --> 01:02:26,190
the table of functions that are actually

1299
01:02:23,728 --> 01:02:28,528
in this compiled module don't export it

1300
01:02:26,190 --> 01:02:30,659
no one else could call it only the

1301
01:02:28,528 --> 01:02:33,768
people inside this same module can call

1302
01:02:30,659 --> 01:02:37,078
it compilation unit is the correct term

1303
01:02:33,768 --> 01:02:40,198
so the reason I do that is because since

1304
01:02:37,079 --> 01:02:41,759
I know that we're just one big bill

1305
01:02:40,199 --> 01:02:44,548
we're just one big unit II build right

1306
01:02:41,759 --> 01:02:46,528
we you any bill is the term for when you

1307
01:02:44,548 --> 01:02:48,298
put all of your CPP files you just pound

1308
01:02:46,528 --> 01:02:52,108
include them all into one translation

1309
01:02:48,298 --> 01:02:53,489
unit right and you just go sorry when I

1310
01:02:52,108 --> 01:02:58,619
said complex me I met translation unit

1311
01:02:53,489 --> 01:03:01,318
before too many terms so basically if

1312
01:02:58,619 --> 01:03:03,838
you have a system where you're compiling

1313
01:03:01,318 --> 01:03:06,028
lots of different CPP's they compile the

1314
01:03:03,838 --> 01:03:09,748
CPP is compiled to OBJ's well you know

1315
01:03:06,028 --> 01:03:15,119
what I'll just draw it might as well

1316
01:03:09,748 --> 01:03:18,808
draw it so this is the typical set up in

1317
01:03:15,119 --> 01:03:20,789
C for C++ or whatever right the typical

1318
01:03:18,809 --> 01:03:23,249
setup is you have a dot H file or

1319
01:03:20,789 --> 01:03:26,119
sometimes a dot h PP file depends on how

1320
01:03:23,248 --> 01:03:29,848
people do it and a dot CPP file right

1321
01:03:26,119 --> 01:03:32,759
and these define like you know a class

1322
01:03:29,849 --> 01:03:34,229
or something right so the definition of

1323
01:03:32,759 --> 01:03:35,548
the class goes in here and the class

1324
01:03:34,228 --> 01:03:39,208
contents go in here

1325
01:03:35,548 --> 01:03:42,449
right and then you have tons of these

1326
01:03:39,208 --> 01:03:46,018
right so you've got like 500 of these

1327
01:03:42,449 --> 01:03:47,969
pairs right and you compile them right

1328
01:03:46,018 --> 01:03:52,828
you call the compiler to translate each

1329
01:03:47,969 --> 01:03:55,829
CPP file over into a dot obj file right

1330
01:03:52,829 --> 01:03:58,259
and the obj file is basically assembly

1331
01:03:55,829 --> 01:04:00,959
language but it's not really it still

1332
01:03:58,259 --> 01:04:02,940
has a bunch of sort of markup in it

1333
01:04:00,958 --> 01:04:04,919
because what's gonna happen is for all

1334
01:04:02,940 --> 01:04:08,249
500 these you're then going to get 500

1335
01:04:04,920 --> 01:04:09,509
obj files right and those all have to go

1336
01:04:08,248 --> 01:04:11,998
and this this is the compiler that's

1337
01:04:09,509 --> 01:04:16,548
doing the step right those then have to

1338
01:04:11,998 --> 01:04:19,528
go with the linker here's the linker

1339
01:04:16,548 --> 01:04:21,809
gathers up all the obj files and that

1340
01:04:19,528 --> 01:04:23,789
makes it into an executable right and so

1341
01:04:21,809 --> 01:04:25,920
the question is at this stage when the

1342
01:04:23,789 --> 01:04:26,900
linker takes these OBJ's and builds them

1343
01:04:25,920 --> 01:04:30,449
into an executable

1344
01:04:26,900 --> 01:04:33,420
how does it know how to resolve cross

1345
01:04:30,449 --> 01:04:36,568
cpp function calls so if i have two

1346
01:04:33,420 --> 01:04:38,309
CPP's Fuu dot CPP and Bar dot CPP which

1347
01:04:36,568 --> 01:04:41,038
are both part of this build and they're

1348
01:04:38,309 --> 01:04:42,989
both becoming obj files right so

1349
01:04:41,039 --> 01:04:46,440
actually I'll be more success

1350
01:04:42,989 --> 01:04:49,559
excuse me I'll be more specific they

1351
01:04:46,440 --> 01:04:52,829
become food obj when they get compiled

1352
01:04:49,559 --> 01:04:55,769
in bar obj right I've done the compile

1353
01:04:52,829 --> 01:04:58,890
here and let's say bar calls a function

1354
01:04:55,768 --> 01:05:00,988
inside foo what that means is that foo

1355
01:04:58,889 --> 01:05:02,969
had to have that function defined in one

1356
01:05:00,989 --> 01:05:05,159
of its H file somewhere bar had to

1357
01:05:02,969 --> 01:05:10,229
include that H file and then when they

1358
01:05:05,159 --> 01:05:13,588
became obj files the compiler had to put

1359
01:05:10,228 --> 01:05:16,169
something in to these to sort of leave

1360
01:05:13,588 --> 01:05:19,858
the name dangling so let's say the

1361
01:05:16,170 --> 01:05:22,108
function was called blah right it had to

1362
01:05:19,858 --> 01:05:25,440
put a thing in here which basically said

1363
01:05:22,108 --> 01:05:27,840
you know this calls blah

1364
01:05:25,440 --> 01:05:31,320
and had to put a thing in here that said

1365
01:05:27,840 --> 01:05:33,210
here's where blah is and then the linker

1366
01:05:31,320 --> 01:05:35,519
is responsible for making these things

1367
01:05:33,210 --> 01:05:37,530
line up it's a put its roster for taking

1368
01:05:35,519 --> 01:05:39,659
the call to blah and patching it so it

1369
01:05:37,530 --> 01:05:42,720
actually calls the location of where

1370
01:05:39,659 --> 01:05:45,480
blah is when it assembles these OBJ's

1371
01:05:42,719 --> 01:05:47,339
into a big executable so food out obj

1372
01:05:45,480 --> 01:05:52,230
goes somewhere in here right into the

1373
01:05:47,340 --> 01:05:53,610
executable Wow so here is the food obj

1374
01:05:52,230 --> 01:05:55,260
but it's not really the obj it's like a

1375
01:05:53,610 --> 01:05:57,809
condensed version right it's it's

1376
01:05:55,260 --> 01:06:01,260
compiled down and bar dot obj goes

1377
01:05:57,809 --> 01:06:03,570
somewhere in here right and it finds the

1378
01:06:01,260 --> 01:06:05,730
call to blah and it patches it to just

1379
01:06:03,570 --> 01:06:07,650
point directly into wherever food obj

1380
01:06:05,730 --> 01:06:09,570
actually is so that the name blah is not

1381
01:06:07,650 --> 01:06:11,849
still sticking around hopefully all that

1382
01:06:09,570 --> 01:06:14,850
makes some sense now what happens when

1383
01:06:11,849 --> 01:06:17,250
you call something static is that let's

1384
01:06:14,849 --> 01:06:19,049
the compiler know it doesn't have to

1385
01:06:17,250 --> 01:06:21,690
record what the name of it was because

1386
01:06:19,050 --> 01:06:23,880
nobody else can call it so what that

1387
01:06:21,690 --> 01:06:26,519
means is your obj files get smaller and

1388
01:06:23,880 --> 01:06:28,829
your link time goes down because now

1389
01:06:26,519 --> 01:06:32,639
it's not looking at this giant table of

1390
01:06:28,829 --> 01:06:34,590
8,000 10,000 20,000 strings that are all

1391
01:06:32,639 --> 01:06:36,629
the functions in your program so you

1392
01:06:34,590 --> 01:06:39,539
always want to put static on anything

1393
01:06:36,630 --> 01:06:41,820
that you can because if you don't call

1394
01:06:39,539 --> 01:06:44,489
it outside of its translation unit the

1395
01:06:41,820 --> 01:06:46,680
static will will reduce that compile

1396
01:06:44,489 --> 01:06:50,069
time overhead and again this is all

1397
01:06:46,679 --> 01:06:53,699
total crufty nonsense right crufty

1398
01:06:50,070 --> 01:06:55,890
nonsense that it's because c and c++ has

1399
01:06:53,699 --> 01:06:57,269
such a broken compilation model that you

1400
01:06:55,889 --> 01:06:58,710
even have to care about this because you

1401
01:06:57,269 --> 01:07:01,139
should never be thinking about this it's

1402
01:06:58,710 --> 01:07:05,250
it's dumb but that's just the way it

1403
01:07:01,139 --> 01:07:07,429
goes yeah hopefully that makes some

1404
01:07:05,250 --> 01:07:07,429
sense

1405
01:07:09,829 --> 01:07:15,180
why do we consider a wall and entity so

1406
01:07:13,710 --> 01:07:19,470
the reason that we consider a wall empty

1407
01:07:15,179 --> 01:07:21,449
is for two reasons and to be clear we

1408
01:07:19,469 --> 01:07:23,308
don't consider a wall in envy I am

1409
01:07:21,449 --> 01:07:24,838
considering considering well identity

1410
01:07:23,309 --> 01:07:28,289
this is again exploratory code so I'm

1411
01:07:24,838 --> 01:07:29,608
seeing how I like it there are two

1412
01:07:28,289 --> 01:07:31,589
reasons I consider a wall identity

1413
01:07:29,608 --> 01:07:33,509
reason number one is because I would

1414
01:07:31,588 --> 01:07:35,969
like to have a uniform way in which I

1415
01:07:33,509 --> 01:07:37,710
process things so I basically like to

1416
01:07:35,969 --> 01:07:40,379
have it so that everything that's in the

1417
01:07:37,710 --> 01:07:43,019
high entity list there's basically just

1418
01:07:40,380 --> 01:07:45,240
one big thing which is sort of like here

1419
01:07:43,018 --> 01:07:46,528
is a uniform way you can look at all of

1420
01:07:45,239 --> 01:07:48,149
the things that have collision info

1421
01:07:46,528 --> 01:07:49,798
because that's gonna be something that

1422
01:07:48,150 --> 01:07:52,769
we have to deal with and spatially sort

1423
01:07:49,798 --> 01:07:54,659
and whatever right the second reason

1424
01:07:52,768 --> 01:07:56,038
that I want walls to be entities is

1425
01:07:54,659 --> 01:07:57,868
because I would like you to be able to

1426
01:07:56,039 --> 01:07:59,309
do stuff to walls potentially I'd like

1427
01:07:57,869 --> 01:08:01,160
to be able to potentially damage them

1428
01:07:59,309 --> 01:08:04,289
I'd like you to be able to potentially

1429
01:08:01,159 --> 01:08:06,449
imbue them with properties for example

1430
01:08:04,289 --> 01:08:07,980
if something that has a magical property

1431
01:08:06,449 --> 01:08:12,149
hits a wall that wall should now have

1432
01:08:07,980 --> 01:08:14,940
that magical property so I I want to

1433
01:08:12,150 --> 01:08:17,460
probably have the flexibility to have

1434
01:08:14,940 --> 01:08:19,109
walls be active rather than just sitting

1435
01:08:17,460 --> 01:08:20,819
there and so those are the two reasons

1436
01:08:19,109 --> 01:08:21,960
that I'm sort of considering it now that

1437
01:08:20,819 --> 01:08:23,370
doesn't mean that that's what we'll do

1438
01:08:21,960 --> 01:08:29,069
in the end it's just what I'm

1439
01:08:23,369 --> 01:08:30,448
considering now well tile chunk in town

1440
01:08:29,069 --> 01:08:32,460
that structures go away and walls will

1441
01:08:30,448 --> 01:08:34,408
be stored only as entities no the tile

1442
01:08:32,460 --> 01:08:36,060
chunk and tile map will stay but I'm

1443
01:08:34,408 --> 01:08:38,849
what I'm leaning towards is they will

1444
01:08:36,060 --> 01:08:45,839
become the things that hold dormant

1445
01:08:38,850 --> 01:08:47,670
entities we have to do some cool screen

1446
01:08:45,838 --> 01:08:51,479
shakes and some whip pan transitions

1447
01:08:47,670 --> 01:08:54,690
between screens noted and we will do we

1448
01:08:51,479 --> 01:08:58,198
will do exactly that will there be a

1449
01:08:54,689 --> 01:09:02,448
doormat enemy there will be now let me

1450
01:08:58,198 --> 01:09:02,448
open up the reminders file

1451
01:09:04,479 --> 01:09:17,079
let's see reminders doormat entity don't

1452
01:09:15,100 --> 01:09:23,079
know what he'll do but we'll definitely

1453
01:09:17,079 --> 01:09:26,079
have one okay can we have some old man

1454
01:09:23,079 --> 01:09:30,278
that transforms you into a dog and says

1455
01:09:26,079 --> 01:09:41,579
you're the dog now man that's that's a

1456
01:09:30,279 --> 01:09:45,429
lot of work but okay into a dog and says

1457
01:09:41,579 --> 01:09:47,439
you're the dog now man alright I will

1458
01:09:45,429 --> 01:09:55,569
take care of that just for you garland

1459
01:09:47,439 --> 01:09:58,539
Oh bloom uh so that looks like it for

1460
01:09:55,569 --> 01:09:59,710
questions I don't see any more am I

1461
01:09:58,539 --> 01:10:09,100
wrong about that

1462
01:09:59,710 --> 01:10:10,448
I will wait a little bit just to see if

1463
01:10:09,100 --> 01:10:21,610
there's any other questions otherwise we

1464
01:10:10,448 --> 01:10:25,029
can all go home early I see nothing all

1465
01:10:21,609 --> 01:10:28,149
right cool well that is it for tonight

1466
01:10:25,029 --> 01:10:31,539
then we are in we are in pretty good

1467
01:10:28,149 --> 01:10:32,500
shape I think so this should be pretty

1468
01:10:31,539 --> 01:10:35,439
straightforward

1469
01:10:32,500 --> 01:10:37,390
like I said we're kind of getting close

1470
01:10:35,439 --> 01:10:39,609
to the point where we're like I'm

1471
01:10:37,390 --> 01:10:41,920
thinking maybe next week will be time to

1472
01:10:39,609 --> 01:10:43,269
do some gamey stuff as well just maybe

1473
01:10:41,920 --> 01:10:43,690
making some hit points and that sort of

1474
01:10:43,270 --> 01:10:48,600
stuff

1475
01:10:43,689 --> 01:10:53,019
oh thank you

1476
01:10:48,600 --> 01:10:54,640
Thank You mo Zuko that is that is a very

1477
01:10:53,020 --> 01:10:55,900
good idea he reminded me that there was

1478
01:10:54,640 --> 01:10:57,190
a collision thing that we wanted to do

1479
01:10:55,899 --> 01:11:01,029
that we were talking about in the forums

1480
01:10:57,189 --> 01:11:03,039
that was wrong and I said I'd like to

1481
01:11:01,029 --> 01:11:05,800
fix it on streem so we should fix that

1482
01:11:03,039 --> 01:11:10,689
there was a calculation bug in the

1483
01:11:05,800 --> 01:11:12,579
collision detector er we've player that

1484
01:11:10,689 --> 01:11:14,639
makes him be able to move a little

1485
01:11:12,579 --> 01:11:16,988
further than he should

1486
01:11:14,640 --> 01:11:19,199
so let's yeah let's fix this that's a

1487
01:11:16,988 --> 01:11:21,428
great idea thank you very much

1488
01:11:19,198 --> 01:11:24,129
thank you very much for reminding me

1489
01:11:21,429 --> 01:11:26,710
because now we've got some time it's a

1490
01:11:24,130 --> 01:11:29,170
great time to fix it so here was the

1491
01:11:26,710 --> 01:11:32,050
problem I'll tell you what I thought I

1492
01:11:29,170 --> 01:11:32,590
was doing but I didn't actually type

1493
01:11:32,050 --> 01:11:34,000
this in

1494
01:11:32,590 --> 01:11:36,578
so hey guess what it's not what I was

1495
01:11:34,000 --> 01:11:38,738
doing so here's mr. wall right and

1496
01:11:36,578 --> 01:11:40,929
here's a dude who's trying to step

1497
01:11:38,738 --> 01:11:42,519
through the wall what we were doing is

1498
01:11:40,929 --> 01:11:46,270
we were finding the point of collision

1499
01:11:42,520 --> 01:11:49,239
right and then we were taking this

1500
01:11:46,270 --> 01:11:50,860
vector and we were clipping off the part

1501
01:11:49,238 --> 01:11:52,238
of it that ran against the wall

1502
01:11:50,859 --> 01:11:54,399
so what I was thinking in my head I was

1503
01:11:52,238 --> 01:11:58,899
I was like oh okay that means we'll be

1504
01:11:54,399 --> 01:12:00,908
generating that vector right and so the

1505
01:11:58,899 --> 01:12:02,618
next time we try to do a move we should

1506
01:12:00,908 --> 01:12:04,598
try to move the whole distance of that

1507
01:12:02,618 --> 01:12:07,118
vector because we've already taken care

1508
01:12:04,599 --> 01:12:10,239
of the fact that there's less distance

1509
01:12:07,118 --> 01:12:12,549
now to go right but that's not what I

1510
01:12:10,238 --> 01:12:16,689
actually typed in what I actually did

1511
01:12:12,550 --> 01:12:19,119
was I took this vector and clipped it so

1512
01:12:16,689 --> 01:12:21,759
now it's that long and then I applied it

1513
01:12:19,118 --> 01:12:23,799
here so really there's an extra amount

1514
01:12:21,760 --> 01:12:26,289
that he can go there that he shouldn't

1515
01:12:23,800 --> 01:12:27,670
have been able to go so in my head I was

1516
01:12:26,288 --> 01:12:29,590
thinking I was doing that but actually

1517
01:12:27,670 --> 01:12:31,420
that's not what I did right and you can

1518
01:12:29,590 --> 01:12:35,409
see what I typed it in here right I

1519
01:12:31,420 --> 01:12:39,158
clipped player Delta which is this whole

1520
01:12:35,408 --> 01:12:40,960
distance not just the distance from here

1521
01:12:39,158 --> 01:12:44,979
to here which is actually what I was

1522
01:12:40,960 --> 01:12:50,050
trying to clip right hopefully that

1523
01:12:44,979 --> 01:12:52,779
makes some sense and so yeah I think if

1524
01:12:50,050 --> 01:12:54,788
I'm not mistaken I think you could

1525
01:12:52,779 --> 01:12:56,859
probably do this and at the risk of

1526
01:12:54,788 --> 01:12:59,618
making now a bug on top of a bug I'm

1527
01:12:56,859 --> 01:13:02,049
gonna try doing something a little

1528
01:12:59,618 --> 01:13:05,069
different I think you might be able to

1529
01:13:02,050 --> 01:13:07,989
just get rid of T remaining altogether

1530
01:13:05,069 --> 01:13:10,058
so basically like I think you might be

1531
01:13:07,988 --> 01:13:12,848
able to do it this way so you just get

1532
01:13:10,059 --> 01:13:15,690
rid of T remaining and instead what you

1533
01:13:12,849 --> 01:13:21,659
do you know there's there's player Delta

1534
01:13:15,689 --> 01:13:25,058
right player Delta and instead of

1535
01:13:21,658 --> 01:13:27,638
actually clipping player Delta what we

1536
01:13:25,059 --> 01:13:30,849
do is we take wherever player Delta

1537
01:13:27,639 --> 01:13:32,020
would have put us so new player P right

1538
01:13:30,849 --> 01:13:35,079
is where we

1539
01:13:32,020 --> 01:13:39,340
be and so player Delta is essentially

1540
01:13:35,079 --> 01:13:44,109
equal to whatever wherever the player is

1541
01:13:39,340 --> 01:13:45,520
player Delta once we know where the

1542
01:13:44,109 --> 01:13:49,509
player would have liked to have gone

1543
01:13:45,520 --> 01:13:51,040
right so basically we say at the start

1544
01:13:49,510 --> 01:13:54,070
of this what we're gonna do this

1545
01:13:51,039 --> 01:13:59,079
iteration we just say target position or

1546
01:13:54,069 --> 01:14:04,210
a desired position is just wherever the

1547
01:13:59,079 --> 01:14:05,710
player was right so old player P or I

1548
01:14:04,210 --> 01:14:08,140
should say wherever he is now so

1549
01:14:05,710 --> 01:14:11,319
whatever we update what do we update we

1550
01:14:08,140 --> 01:14:14,890
update entity hi P right so we say

1551
01:14:11,319 --> 01:14:17,949
wherever the player is plus whatever

1552
01:14:14,890 --> 01:14:21,789
we're trying to do that's where he wants

1553
01:14:17,949 --> 01:14:23,710
to be we'll do the update and then

1554
01:14:21,789 --> 01:14:25,329
instead of updating player Delta this

1555
01:14:23,710 --> 01:14:27,310
way right

1556
01:14:25,329 --> 01:14:31,510
we'll say player Delta now equals

1557
01:14:27,310 --> 01:14:37,480
desired position minus the current

1558
01:14:31,510 --> 01:14:40,630
entity position I think that is is

1559
01:14:37,479 --> 01:14:42,219
actually correct right because that's

1560
01:14:40,630 --> 01:14:42,609
doing what I thought I was doing in my

1561
01:14:42,220 --> 01:14:45,520
head

1562
01:14:42,609 --> 01:14:50,649
so we'll see so I believe that's

1563
01:14:45,520 --> 01:14:51,910
actually more correct now but yeah we'll

1564
01:14:50,649 --> 01:14:54,219
see

1565
01:14:51,909 --> 01:14:55,449
so that just gets rid of that T

1566
01:14:54,220 --> 01:14:57,520
remaining thing which was kind of

1567
01:14:55,449 --> 01:14:58,960
annoying and I didn't really like it

1568
01:14:57,520 --> 01:15:01,330
and so now we don't really have to worry

1569
01:14:58,960 --> 01:15:03,850
about the T remaining so much and so

1570
01:15:01,329 --> 01:15:07,500
what I'm doing now right because I'm

1571
01:15:03,850 --> 01:15:11,740
just going okay so we have here two here

1572
01:15:07,500 --> 01:15:17,380
right this is player Delta right this is

1573
01:15:11,739 --> 01:15:21,309
player Delta that span when we hit

1574
01:15:17,380 --> 01:15:22,840
something I then compute this as player

1575
01:15:21,310 --> 01:15:25,780
Delta right because this we have a

1576
01:15:22,840 --> 01:15:28,510
desired location I then compute this

1577
01:15:25,779 --> 01:15:31,149
vector I clip it and then I try to move

1578
01:15:28,510 --> 01:15:33,460
by that and that'll work if I hit the

1579
01:15:31,149 --> 01:15:36,399
wall again right it'll keep doing that

1580
01:15:33,460 --> 01:15:37,960
so I think that's more correct and again

1581
01:15:36,399 --> 01:15:41,769
you guys can take a look at it now

1582
01:15:37,960 --> 01:15:43,270
and see if you agree with me and we can

1583
01:15:41,770 --> 01:15:45,580
take a look at offline iostream so I

1584
01:15:43,270 --> 01:15:47,530
think that is more

1585
01:15:45,579 --> 01:15:49,149
correct and it won't do the wrong

1586
01:15:47,529 --> 01:15:50,590
calculation for the case where he hit

1587
01:15:49,149 --> 01:15:53,879
just that one frame where he hits the

1588
01:15:50,590 --> 01:15:53,880
wall it would be wrong right

1589
01:16:03,270 --> 01:16:07,860
what do you think of message buses and

1590
01:16:06,090 --> 01:16:10,409
what is your favorite implementation of

1591
01:16:07,859 --> 01:16:13,380
one I'm sorry I don't think I really

1592
01:16:10,409 --> 01:16:15,119
know what you mean by message bus if you

1593
01:16:13,380 --> 01:16:20,880
want to post on the forums a link to one

1594
01:16:15,119 --> 01:16:22,649
I can take a look at it though are you

1595
01:16:20,880 --> 01:16:26,970
planning on having any game screens that

1596
01:16:22,649 --> 01:16:29,699
pan the camera I wasn't really planning

1597
01:16:26,970 --> 01:16:36,270
on it but I want to make sure we support

1598
01:16:29,699 --> 01:16:38,519
it if that makes sense so like we may

1599
01:16:36,270 --> 01:16:40,110
use it in some places I don't know but

1600
01:16:38,520 --> 01:16:42,060
either way I want to make sure that the

1601
01:16:40,109 --> 01:16:44,009
game works without it because there are

1602
01:16:42,060 --> 01:16:47,610
people who wanted to learn how to do

1603
01:16:44,010 --> 01:16:49,050
free scrolling stuff so we're going to

1604
01:16:47,609 --> 01:16:52,219
do we're going to make sure that we

1605
01:16:49,050 --> 01:16:52,220
allow that sort of thing as well

1606
01:17:11,510 --> 01:17:16,289
all right I think we're basically done

1607
01:17:14,090 --> 01:17:21,180
this I don't think this question is

1608
01:17:16,289 --> 01:17:23,250
particularly on topic but have you ever

1609
01:17:21,180 --> 01:17:25,770
played path of exile or heard of it they

1610
01:17:23,250 --> 01:17:27,510
have this desync problem that they claim

1611
01:17:25,770 --> 01:17:29,850
is unfixable because they handle stuff

1612
01:17:27,510 --> 01:17:33,449
server-side just wondering if you've

1613
01:17:29,850 --> 01:17:35,000
heard of that game it's or torus bugs so

1614
01:17:33,448 --> 01:17:38,009
what I would say is that obviously

1615
01:17:35,000 --> 01:17:39,630
nothing is unfixable really so that's a

1616
01:17:38,010 --> 01:17:40,739
bit odd but no I'm sorry I haven't heard

1617
01:17:39,630 --> 01:17:43,829
of that so I can't really speak about

1618
01:17:40,738 --> 01:17:46,009
bugs that they may or may not have sorry

1619
01:17:43,829 --> 01:17:46,010
about that

1620
01:17:46,219 --> 01:17:55,198
all right looks like we are basically

1621
01:17:48,600 --> 01:17:56,820
done basically done so let me see if

1622
01:17:55,198 --> 01:17:59,250
there's any other off topics to answer

1623
01:17:56,819 --> 01:18:00,090
here are using a stylus and creature or

1624
01:17:59,250 --> 01:18:02,189
a mouse

1625
01:18:00,090 --> 01:18:03,810
stylists most the time but sometimes I

1626
01:18:02,189 --> 01:18:06,299
use the mouse if I don't want to grab

1627
01:18:03,810 --> 01:18:14,870
the stylus so as I use the mouse as well

1628
01:18:06,300 --> 01:18:14,869
depends on which is easier all right

1629
01:18:17,750 --> 01:18:26,090
just forcing a game to a certain refresh

1630
01:18:19,939 --> 01:18:28,669
rate introduced lag uh it depends what

1631
01:18:26,090 --> 01:18:31,039
you mean by lag I would I would highly

1632
01:18:28,670 --> 01:18:32,180
recommend going back and watching one of

1633
01:18:31,039 --> 01:18:34,159
the earlier videos where I draw the

1634
01:18:32,180 --> 01:18:35,600
frame-by-frame diagrams and talk about

1635
01:18:34,159 --> 01:18:39,739
where things get displayed on the screen

1636
01:18:35,600 --> 01:18:43,039
and so on monitors most monitors

1637
01:18:39,739 --> 01:18:45,439
nowadays have a fixed refresh rate

1638
01:18:43,039 --> 01:18:48,109
anyway so you kinda have to sync to that

1639
01:18:45,439 --> 01:18:51,349
if you want to have a image that gets

1640
01:18:48,109 --> 01:18:55,069
displayed properly now you know there's

1641
01:18:51,350 --> 01:19:00,110
I talked to yeah I guess I say is I go

1642
01:18:55,069 --> 01:19:01,219
back and go back and watch those and go

1643
01:19:00,109 --> 01:19:02,809
back and watch those I've talked a lot

1644
01:19:01,220 --> 01:19:04,039
about that and it'd probably be

1645
01:19:02,810 --> 01:19:09,500
retreading it here if I answered it

1646
01:19:04,039 --> 01:19:10,310
again let's see all right well I'm gonna

1647
01:19:09,500 --> 01:19:11,539
call it for now

1648
01:19:10,310 --> 01:19:13,910
cuz you seem to be mostly off-topic

1649
01:19:11,539 --> 01:19:15,979
questions so but if you do want to do

1650
01:19:13,909 --> 01:19:17,960
off-topic shot I do enjoy a good

1651
01:19:15,979 --> 01:19:19,669
off-topic chat and we do so for about 15

1652
01:19:17,960 --> 01:19:22,489
minutes before the stream every time so

1653
01:19:19,670 --> 01:19:23,899
definitely don't don't forget you're off

1654
01:19:22,489 --> 01:19:24,469
topic questions I would be happy to

1655
01:19:23,899 --> 01:19:27,649
answer them

1656
01:19:24,470 --> 01:19:29,180
I just like to to do those and

1657
01:19:27,649 --> 01:19:30,710
non-record in part of the Q&amp;A because

1658
01:19:29,180 --> 01:19:33,289
sometimes they get silly and you know

1659
01:19:30,710 --> 01:19:35,060
and we're goofing around and so I just

1660
01:19:33,289 --> 01:19:36,680
try to keep that for the free stream so

1661
01:19:35,060 --> 01:19:38,150
come back tomorrow we'll be here at same

1662
01:19:36,680 --> 01:19:40,820
time same place 8 p.m. Pacific Standard

1663
01:19:38,149 --> 01:19:42,469
Time right here on twitch so come back

1664
01:19:40,819 --> 01:19:44,059
tomorrow if you want to do about 15

1665
01:19:42,470 --> 01:19:46,369
minutes before 8 p.m.

1666
01:19:44,060 --> 01:19:48,289
let's say Pacific Standard Time if you

1667
01:19:46,369 --> 01:19:49,489
want to do off-topic chat because we

1668
01:19:48,289 --> 01:19:51,710
always do off talk chat and it's usually

1669
01:19:49,489 --> 01:19:54,469
a lot of fun so hope to see you there

1670
01:19:51,710 --> 01:19:55,819
anyway thank you for joining me for

1671
01:19:54,470 --> 01:19:56,869
another episode of hand made here it's

1672
01:19:55,819 --> 01:20:00,019
been a pleasure coding with you as

1673
01:19:56,869 --> 01:20:01,340
always if you would like to get a copy

1674
01:20:00,020 --> 01:20:03,890
the source code to play around with that

1675
01:20:01,340 --> 01:20:05,090
home you can pre-order the game and it

1676
01:20:03,890 --> 01:20:07,280
comes with a source code so if you

1677
01:20:05,090 --> 01:20:08,360
preorder here on handmade hero org you'd

1678
01:20:07,279 --> 01:20:09,619
get a copy of source code and you can

1679
01:20:08,359 --> 01:20:12,199
play around with it just like I'm doing

1680
01:20:09,619 --> 01:20:13,430
try your own stuff out see and try to

1681
01:20:12,199 --> 01:20:14,960
learn along with the stream if you're

1682
01:20:13,430 --> 01:20:15,800
interested in low-level programming that

1683
01:20:14,960 --> 01:20:18,770
sort of stuff

1684
01:20:15,800 --> 01:20:19,940
and and if you do and you want to ask

1685
01:20:18,770 --> 01:20:23,540
questions about it you can go to our

1686
01:20:19,939 --> 01:20:25,699
news and forum site which has a bunch of

1687
01:20:23,539 --> 01:20:27,649
stuff for example it's got an episode

1688
01:20:25,699 --> 01:20:28,970
guide for catching up with old episodes

1689
01:20:27,649 --> 01:20:31,189
got the schedule of the week posted

1690
01:20:28,970 --> 01:20:31,610
every week on Monday I've got a coding

1691
01:20:31,189 --> 01:20:35,238
resource

1692
01:20:31,609 --> 01:20:37,099
page which basically lists all sorts of

1693
01:20:35,238 --> 01:20:39,439
people who have contributed like ports

1694
01:20:37,100 --> 01:20:41,210
to Mac or Linux or guides about how to

1695
01:20:39,439 --> 01:20:42,109
do certain things and there's been a lot

1696
01:20:41,210 --> 01:20:43,520
of people have done some really cool

1697
01:20:42,109 --> 01:20:44,599
stuff there I highly recommend checking

1698
01:20:43,520 --> 01:20:47,420
it out especially if you're trying to

1699
01:20:44,600 --> 01:20:48,619
follow along on a Mac or on Linux it

1700
01:20:47,420 --> 01:20:50,630
could make your life a lot easier and

1701
01:20:48,618 --> 01:20:51,710
then it also about for if you can you

1702
01:20:50,630 --> 01:20:53,359
can post questions on if you have

1703
01:20:51,710 --> 01:20:54,889
questions I answer questions on there so

1704
01:20:53,359 --> 01:20:56,149
do other people who are experienced

1705
01:20:54,889 --> 01:20:58,130
programmers so it's a great place to go

1706
01:20:56,149 --> 01:21:00,019
talk about the series so however been

1707
01:20:58,130 --> 01:21:02,270
checking it out if you're traveling from

1708
01:21:00,020 --> 01:21:03,679
Sirius it's a great place and of course

1709
01:21:02,270 --> 01:21:05,119
we also have a patreon if you would like

1710
01:21:03,679 --> 01:21:07,460
to subscribe to support the video series

1711
01:21:05,118 --> 01:21:10,519
you can do so right there that's about

1712
01:21:07,460 --> 01:21:12,170
it until tomorrow again hope see

1713
01:21:10,520 --> 01:21:13,610
everyone here 8:00 p.m. start time

1714
01:21:12,170 --> 01:21:15,529
tomorrow come fifty minutes early if you

1715
01:21:13,609 --> 01:21:18,439
want to be in the pre stream off-topic

1716
01:21:15,529 --> 01:21:19,670
chat and we will do some more entity

1717
01:21:18,439 --> 01:21:21,349
coding it's starting to get exciting now

1718
01:21:19,670 --> 01:21:24,770
I'm starting to get starting get pretty

1719
01:21:21,350 --> 01:21:25,940
excited about this yeah yeah still got

1720
01:21:24,770 --> 01:21:26,989
one more big thing the render is gonna

1721
01:21:25,939 --> 01:21:28,339
be a big thing we gotta get through but

1722
01:21:26,988 --> 01:21:29,359
we're starting to get we're starting to

1723
01:21:28,340 --> 01:21:30,650
get to some of the really cool stuff but

1724
01:21:29,359 --> 01:21:31,939
the render is gonna be a lot of fun - I

1725
01:21:30,649 --> 01:21:34,488
think people really enjoy it so we'll

1726
01:21:31,939 --> 01:21:38,109
see all right thanks everyone and I will

1727
01:21:34,488 --> 01:21:38,109
see you tomorrow

