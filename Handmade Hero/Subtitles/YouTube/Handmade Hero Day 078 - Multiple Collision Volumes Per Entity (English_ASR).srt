1
00:00:00,030 --> 00:00:06,419
the show ladies and gentlemen

2
00:00:03,000 --> 00:00:07,769
hello and welcome to another episode of

3
00:00:06,419 --> 00:00:10,919
handmade hero the show we code a

4
00:00:07,769 --> 00:00:14,428
complete game live on Twitch no engines

5
00:00:10,919 --> 00:00:17,039
no library it's just us and and our

6
00:00:14,429 --> 00:00:19,230
cunning to the extent that we do have it

7
00:00:17,039 --> 00:00:20,609
on certain days admittedly you know some

8
00:00:19,230 --> 00:00:21,750
days are better than others you know not

9
00:00:20,609 --> 00:00:23,609
everyone is cutting all the time

10
00:00:21,750 --> 00:00:26,160
sometimes you're only half cunning or

11
00:00:23,609 --> 00:00:27,330
1/4 cunning heaven help you on the days

12
00:00:26,160 --> 00:00:29,039
when you're negative cunning but you

13
00:00:27,329 --> 00:00:30,750
know it happens to everyone sometimes

14
00:00:29,039 --> 00:00:32,579
and I'm sure it's happened to us already

15
00:00:30,750 --> 00:00:33,600
in fact I'm pretty sure it has happened

16
00:00:32,579 --> 00:00:35,939
to us already and it'll happen to see

17
00:00:33,600 --> 00:00:41,719
future but maybe we can avoid having

18
00:00:35,939 --> 00:00:45,899
today be one of those days because I

19
00:00:41,719 --> 00:00:48,840
thought of something last night when I

20
00:00:45,899 --> 00:00:51,270
was going to bed I thought of something

21
00:00:48,840 --> 00:00:54,059
about what we have been doing that I

22
00:00:51,270 --> 00:00:56,010
think is an improvement and so I wanted

23
00:00:54,058 --> 00:00:58,738
to talk about it today it was kind of an

24
00:00:56,009 --> 00:01:01,320
obvious thing I had not thought about it

25
00:00:58,738 --> 00:01:04,228
in this way before but I am thinking

26
00:01:01,320 --> 00:01:08,188
about it this way now and so yeah I'd

27
00:01:04,228 --> 00:01:10,170
kind of like to to go over it with you

28
00:01:08,188 --> 00:01:14,129
and see what you think before I get

29
00:01:10,170 --> 00:01:16,170
started however let's go ahead and say

30
00:01:14,129 --> 00:01:17,879
that anyone who has pre-ordered the game

31
00:01:16,170 --> 00:01:19,200
on hand may hear or should have gotten a

32
00:01:17,879 --> 00:01:20,789
link in their email - down to the source

33
00:01:19,200 --> 00:01:21,750
code so if you want to use that source

34
00:01:20,790 --> 00:01:25,439
code to follow along

35
00:01:21,750 --> 00:01:28,290
today is day 78 so what you want to do

36
00:01:25,438 --> 00:01:29,908
is unzip day 77 source code out of the

37
00:01:28,290 --> 00:01:33,540
zip file and that will allow you to

38
00:01:29,909 --> 00:01:35,090
follow along with exactly exactly the

39
00:01:33,540 --> 00:01:39,840
same source code I'm starting with today

40
00:01:35,090 --> 00:01:43,200
so let's get started here is the thing

41
00:01:39,840 --> 00:01:44,250
that I thought of yesterday that I

42
00:01:43,200 --> 00:01:46,170
probably should have thought of but

43
00:01:44,250 --> 00:01:47,489
sometimes it's better if I don't think

44
00:01:46,170 --> 00:01:49,159
of these things I mean one of the nice

45
00:01:47,489 --> 00:01:50,969
things about the fact that the stream is

46
00:01:49,159 --> 00:01:52,700
periodic and I'm not thinking about it

47
00:01:50,969 --> 00:01:55,950
all day I only think about it you know

48
00:01:52,700 --> 00:01:57,390
at night or whatever is that I don't

49
00:01:55,950 --> 00:01:59,399
come up with things perhaps as quickly

50
00:01:57,390 --> 00:02:02,159
and that allows you to see me do

51
00:01:59,399 --> 00:02:03,780
something less good and then move it

52
00:02:02,159 --> 00:02:05,368
towards something better we've already

53
00:02:03,780 --> 00:02:07,320
seen that happen with a bunch of stuff

54
00:02:05,368 --> 00:02:09,149
like the sim Regents I think with that

55
00:02:07,319 --> 00:02:10,769
and that the tile chunks are the world

56
00:02:09,149 --> 00:02:12,449
chunks and so on like we've we've

57
00:02:10,770 --> 00:02:13,750
constantly had that kind of happen and

58
00:02:12,449 --> 00:02:15,099
some of those were intentional likes

59
00:02:13,750 --> 00:02:16,960
sometimes I intentionally start out with

60
00:02:15,099 --> 00:02:18,759
something simple rather than guessing at

61
00:02:16,960 --> 00:02:19,659
the final sort of good thing and trying

62
00:02:18,759 --> 00:02:21,039
to go directly to it

63
00:02:19,659 --> 00:02:22,539
towards it because I want to show it but

64
00:02:21,039 --> 00:02:23,889
other times I'm legitimately just going

65
00:02:22,539 --> 00:02:25,810
well I need to do this now let's try

66
00:02:23,889 --> 00:02:27,009
something and then later I kind of

67
00:02:25,810 --> 00:02:28,750
figure out oh that would be better to do

68
00:02:27,009 --> 00:02:30,909
and so this one is something that I

69
00:02:28,750 --> 00:02:32,349
guess I kind of should've known but

70
00:02:30,909 --> 00:02:35,229
honestly I just did not even really

71
00:02:32,349 --> 00:02:38,560
think about it at the time and so I'm

72
00:02:35,229 --> 00:02:41,259
going to think about it now so what we

73
00:02:38,560 --> 00:02:42,640
were talking about yesterday is we were

74
00:02:41,259 --> 00:02:44,199
talking about having this notion of a

75
00:02:42,639 --> 00:02:47,589
ground point right and so if I imagine

76
00:02:44,199 --> 00:02:50,949
an entity is an occupying space in some

77
00:02:47,590 --> 00:02:52,509
way right like so and we were talking

78
00:02:50,949 --> 00:02:53,979
about you know having these sort of

79
00:02:52,509 --> 00:02:55,689
bounding boxes and that sort of stuff

80
00:02:53,979 --> 00:02:56,949
and we did we did collision detection on

81
00:02:55,689 --> 00:02:59,560
them and we've got all that working and

82
00:02:56,949 --> 00:03:00,819
it's good and they're 3d and all that

83
00:02:59,560 --> 00:03:02,680
and so it's kind of nice because it

84
00:03:00,819 --> 00:03:04,030
means we can support more stuff in our

85
00:03:02,680 --> 00:03:05,800
game like smoothly going up and down

86
00:03:04,030 --> 00:03:07,000
stairwells and maybe fading things in

87
00:03:05,800 --> 00:03:08,560
and out and having kind of nice level

88
00:03:07,000 --> 00:03:09,969
transitions or looking at things below

89
00:03:08,560 --> 00:03:11,289
you there's all kinds of stuff that we

90
00:03:09,969 --> 00:03:12,580
might want to do in the game that so

91
00:03:11,289 --> 00:03:13,810
it's kind of good to support that and it

92
00:03:12,580 --> 00:03:15,820
was just good programming exercise

93
00:03:13,810 --> 00:03:17,199
against this is an educational stream

94
00:03:15,819 --> 00:03:19,840
it's a good program exercise to just

95
00:03:17,199 --> 00:03:23,289
handle the 3d relatively well instead of

96
00:03:19,840 --> 00:03:27,159
totally choosing it always and so I'm

97
00:03:23,289 --> 00:03:28,449
glad we did that stuff what we got to is

98
00:03:27,159 --> 00:03:30,579
we got to a point where we were saying

99
00:03:28,449 --> 00:03:33,369
well if we have bounding boxes and we

100
00:03:30,580 --> 00:03:35,860
want to treat them kind of as as sort of

101
00:03:33,370 --> 00:03:37,840
symmetric things where we're saying okay

102
00:03:35,860 --> 00:03:39,340
there's a point that's the center of the

103
00:03:37,840 --> 00:03:42,640
bounding box and then we have dimensions

104
00:03:39,340 --> 00:03:43,900
out in the direction of the corners of

105
00:03:42,639 --> 00:03:46,869
the bounding box right so we basically

106
00:03:43,900 --> 00:03:48,789
have radii you know that kind of do this

107
00:03:46,870 --> 00:03:51,730
sort of thing so we have like an X

108
00:03:48,789 --> 00:03:55,269
radius of Y oops that's a Z Z radius and

109
00:03:51,729 --> 00:03:58,119
a Y radius you know and then we've got

110
00:03:55,269 --> 00:03:59,860
the point this little at the center when

111
00:03:58,120 --> 00:04:01,509
somebody is standing on the ground we

112
00:03:59,860 --> 00:04:03,940
were we realize well we've got to have

113
00:04:01,509 --> 00:04:05,379
this notion that down here is actually

114
00:04:03,939 --> 00:04:06,969
the point that actually needs to be on

115
00:04:05,379 --> 00:04:09,310
the ground because making the point

116
00:04:06,969 --> 00:04:11,409
where the players location was that the

117
00:04:09,310 --> 00:04:13,509
bounding box was centered around B the

118
00:04:11,409 --> 00:04:14,859
point that we track on the ground will

119
00:04:13,509 --> 00:04:16,149
make this bounding box sink into the

120
00:04:14,860 --> 00:04:18,459
ground because it means that the ground

121
00:04:16,149 --> 00:04:20,679
level will be there as he moves along it

122
00:04:18,459 --> 00:04:23,110
right and that's no good right that's

123
00:04:20,680 --> 00:04:25,509
not what we want so we introduced this

124
00:04:23,110 --> 00:04:27,038
point on ground concept and then we had

125
00:04:25,509 --> 00:04:27,550
everything follow that now someone

126
00:04:27,038 --> 00:04:31,478
pointed out

127
00:04:27,550 --> 00:04:33,668
actually in the post stream Q&amp;A they

128
00:04:31,478 --> 00:04:35,408
asked well you know since we're doing

129
00:04:33,668 --> 00:04:37,508
all that computation with that ground

130
00:04:35,408 --> 00:04:40,658
point couldn't we do something where we

131
00:04:37,509 --> 00:04:42,250
have where we kind of refactor things so

132
00:04:40,658 --> 00:04:43,329
we're always using that point instead so

133
00:04:42,250 --> 00:04:46,779
we don't have to constant at the ground

134
00:04:43,329 --> 00:04:49,300
point and so on and I was like well we

135
00:04:46,779 --> 00:04:50,918
sort of thought about doing that and the

136
00:04:49,300 --> 00:04:52,060
problem with that is we want these

137
00:04:50,918 --> 00:04:53,948
bounding boxes to be handled

138
00:04:52,060 --> 00:04:55,810
symmetrically like we don't want to have

139
00:04:53,949 --> 00:04:57,639
it so that just Z is handled differently

140
00:04:55,810 --> 00:05:00,009
and so we could have done something like

141
00:04:57,639 --> 00:05:01,240
always had the minimum corner and that

142
00:05:00,009 --> 00:05:02,468
would have meant that that was the point

143
00:05:01,240 --> 00:05:03,879
but then that doesn't really makes sense

144
00:05:02,468 --> 00:05:05,769
because typically when we're thinking if

145
00:05:03,879 --> 00:05:07,689
we're you have to stop when you're

146
00:05:05,769 --> 00:05:09,728
walking we typically think of that being

147
00:05:07,689 --> 00:05:12,848
roughly where your legs are not all the

148
00:05:09,728 --> 00:05:14,348
way out at the outside of that bounding

149
00:05:12,848 --> 00:05:15,788
box and so on so we typically are

150
00:05:14,348 --> 00:05:18,300
thinking about the center a little bit

151
00:05:15,788 --> 00:05:20,168
more for most of the things that we do

152
00:05:18,300 --> 00:05:22,210
there's just a lot of reasons why that

153
00:05:20,168 --> 00:05:24,158
would also be kind of janky and so you

154
00:05:22,209 --> 00:05:27,788
know there's some janky nough stair

155
00:05:24,158 --> 00:05:31,000
right there's a janky miss problem but

156
00:05:27,788 --> 00:05:33,939
what I realized is I was kind of missing

157
00:05:31,000 --> 00:05:36,610
what's sort of an obvious solution to

158
00:05:33,939 --> 00:05:38,769
this problem and that is something that

159
00:05:36,610 --> 00:05:40,509
we do in 3d all the time and for some

160
00:05:38,769 --> 00:05:42,218
reason I just wasn't thinking along

161
00:05:40,509 --> 00:05:44,979
these lines so it's not the first thing

162
00:05:42,218 --> 00:05:49,060
I thought to do and that is basically

163
00:05:44,978 --> 00:05:52,209
that you know the position right is is

164
00:05:49,060 --> 00:05:56,528
not the same thing you know as your

165
00:05:52,209 --> 00:05:59,698
collision right we call this a collision

166
00:05:56,528 --> 00:06:02,408
mesh oftentimes in 3d

167
00:05:59,699 --> 00:06:05,348
basically your position is some logical

168
00:06:02,408 --> 00:06:07,209
notion of where you are that the AI uses

169
00:06:05,348 --> 00:06:09,550
and the game uses for things that it

170
00:06:07,209 --> 00:06:11,620
wants to do and blah blah blah but

171
00:06:09,550 --> 00:06:13,629
that's not the same thing as collision

172
00:06:11,620 --> 00:06:15,819
at all and in 3d games what we typically

173
00:06:13,629 --> 00:06:18,580
will do is you know we might have some

174
00:06:15,819 --> 00:06:20,110
notion of where an entity is you know in

175
00:06:18,579 --> 00:06:22,628
space we might say you know here's where

176
00:06:20,110 --> 00:06:24,460
an entity is but actually the collision

177
00:06:22,629 --> 00:06:26,979
volume for that thing is like a whole

178
00:06:24,459 --> 00:06:28,568
human and it's like meshes that are like

179
00:06:26,978 --> 00:06:31,120
you know the torso and then there's a

180
00:06:28,569 --> 00:06:33,129
mesh for you know the legs and all these

181
00:06:31,120 --> 00:06:36,038
sorts of things and arms and blah blah

182
00:06:33,129 --> 00:06:37,750
blah each one of these is its own rigid

183
00:06:36,038 --> 00:06:39,189
body that might be used for physics and

184
00:06:37,750 --> 00:06:41,579
it has a collision volume associated

185
00:06:39,189 --> 00:06:43,259
with it and all this extra stuff

186
00:06:41,579 --> 00:06:45,598
so what we do is we essentially store a

187
00:06:43,259 --> 00:06:47,879
list along with that position right in

188
00:06:45,598 --> 00:06:51,389
part of the entity we store a list of

189
00:06:47,879 --> 00:06:52,860
all of those pieces right we sort of say

190
00:06:51,389 --> 00:06:55,439
oh okay well yeah he's got a position

191
00:06:52,860 --> 00:06:58,590
but then he's got an arm right and the

192
00:06:55,439 --> 00:07:00,569
arm is at some offset and it's got some

193
00:06:58,589 --> 00:07:02,848
dimensions and it has some collision

194
00:07:00,569 --> 00:07:04,468
master or whatever and then we've got

195
00:07:02,848 --> 00:07:07,139
another arm and a head and whatever and

196
00:07:04,468 --> 00:07:09,598
so what I think probably we should have

197
00:07:07,139 --> 00:07:12,030
done and what I think I'd like to do

198
00:07:09,598 --> 00:07:13,829
today is say okay we have an Indy

199
00:07:12,029 --> 00:07:15,779
position and that any position is going

200
00:07:13,829 --> 00:07:17,128
to be on the ground so we can get to

201
00:07:15,779 --> 00:07:18,418
that thing that the person was asking

202
00:07:17,129 --> 00:07:20,699
about in the the post room yesterday

203
00:07:18,418 --> 00:07:22,560
that they would have liked and that I

204
00:07:20,699 --> 00:07:24,419
would have liked to but that we didn't

205
00:07:22,560 --> 00:07:25,949
really think we could do cleanly which

206
00:07:24,418 --> 00:07:28,560
is we just think about the position of

207
00:07:25,949 --> 00:07:29,069
the guy as not a thing to hover above

208
00:07:28,560 --> 00:07:30,598
the ground

209
00:07:29,069 --> 00:07:33,270
it's right on the ground then it moves

210
00:07:30,598 --> 00:07:34,949
along the ground we do have that and

211
00:07:33,269 --> 00:07:37,408
that's the position of the enemy but

212
00:07:34,949 --> 00:07:39,389
then the entity also has a set of offset

213
00:07:37,408 --> 00:07:42,300
bounding boxes as many as they want

214
00:07:39,389 --> 00:07:44,579
right which are those collision message

215
00:07:42,300 --> 00:07:46,710
so it could have two right or or three

216
00:07:44,579 --> 00:07:49,348
or more right it can have as many of

217
00:07:46,709 --> 00:07:52,049
these pieces as we want it to have right

218
00:07:49,348 --> 00:07:53,399
and so that way when we're doing a

219
00:07:52,050 --> 00:07:55,590
collision detection when we go through

220
00:07:53,399 --> 00:07:58,318
the the dude we do the politican

221
00:07:55,589 --> 00:08:01,168
actually on these pieces by iterating

222
00:07:58,319 --> 00:08:03,028
over the pieces that are inside of the

223
00:08:01,168 --> 00:08:04,978
guy one at a time and doing collision

224
00:08:03,028 --> 00:08:06,569
section on them and then the combined

225
00:08:04,978 --> 00:08:09,949
result of that collision detection is

226
00:08:06,569 --> 00:08:13,020
what we decide to move the guy by right

227
00:08:09,949 --> 00:08:15,750
so essentially that's you know a really

228
00:08:13,019 --> 00:08:18,120
easy way to get around this problem that

229
00:08:15,750 --> 00:08:19,769
also adds features to our engine it

230
00:08:18,120 --> 00:08:22,740
allows us to have multiple collision

231
00:08:19,769 --> 00:08:24,718
regions so that if we have people who

232
00:08:22,740 --> 00:08:26,400
are not like let's say we want to have

233
00:08:24,718 --> 00:08:28,079
everything broken down into convex

234
00:08:26,399 --> 00:08:29,459
shapes which I said was pretty much the

235
00:08:28,079 --> 00:08:31,620
only way to reliably do collision

236
00:08:29,459 --> 00:08:32,939
detection most of the time if we want to

237
00:08:31,620 --> 00:08:35,190
break things into convex shapes you know

238
00:08:32,940 --> 00:08:37,190
and we have a guy who kind of looks you

239
00:08:35,190 --> 00:08:41,729
know roughly like this or something

240
00:08:37,190 --> 00:08:44,940
top-down we can just add three different

241
00:08:41,729 --> 00:08:46,589
collision volumes to him and that'll

242
00:08:44,940 --> 00:08:47,670
just work right we don't have to do

243
00:08:46,589 --> 00:08:49,709
anything special about that

244
00:08:47,669 --> 00:08:51,929
so that actually adds features to our

245
00:08:49,708 --> 00:08:54,929
engine as well as solving our ground

246
00:08:51,929 --> 00:08:55,899
point problem and so that to me seems

247
00:08:54,929 --> 00:08:59,259
like a pretty

248
00:08:55,899 --> 00:09:00,639
telling way to to get the best of both

249
00:08:59,259 --> 00:09:02,110
worlds to both get the thing that we

250
00:09:00,639 --> 00:09:05,620
kind of thought we couldn't get but

251
00:09:02,110 --> 00:09:08,080
wanted and also add some nice features

252
00:09:05,620 --> 00:09:11,019
so that to me again

253
00:09:08,080 --> 00:09:16,560
seems like seems like the right way to

254
00:09:11,019 --> 00:09:19,929
go so let's take a look at that I think

255
00:09:16,559 --> 00:09:23,649
it would be a good idea for us to take a

256
00:09:19,929 --> 00:09:26,399
look at that all right

257
00:09:23,649 --> 00:09:31,449
so let's go ahead and open up Emacs and

258
00:09:26,399 --> 00:09:33,309
so if I go in here to handmade sim

259
00:09:31,450 --> 00:09:34,330
region and take a look I believe my

260
00:09:33,309 --> 00:09:36,639
entities are still in here we should

261
00:09:34,330 --> 00:09:39,940
probably at some point takes a bold step

262
00:09:36,639 --> 00:09:43,689
of moving the entities out into the

263
00:09:39,940 --> 00:09:44,380
entity file but yeah you know not really

264
00:09:43,690 --> 00:09:46,450
a big deal

265
00:09:44,379 --> 00:09:48,220
so if we take a look at this same entity

266
00:09:46,450 --> 00:09:50,680
we've got sort of these fundamental

267
00:09:48,220 --> 00:09:52,750
motion things here and then we have this

268
00:09:50,679 --> 00:09:55,599
this dimension and so what I'd like to

269
00:09:52,750 --> 00:09:58,889
do is I'd like to go ahead and make an

270
00:09:55,600 --> 00:10:01,960
actual you know make it so that you can

271
00:09:58,889 --> 00:10:04,330
actually have this dimension thing be

272
00:10:01,960 --> 00:10:05,470
offset and so what I'll do first is

273
00:10:04,330 --> 00:10:07,180
since we don't have any need for

274
00:10:05,470 --> 00:10:09,790
multiple collision volumes at the moment

275
00:10:07,179 --> 00:10:12,219
I'll just do one collision volume and

276
00:10:09,789 --> 00:10:14,169
then when we kind of go in the future

277
00:10:12,220 --> 00:10:15,940
and decide how we want to deal with

278
00:10:14,169 --> 00:10:17,889
stuff maybe a little bit later we'll

279
00:10:15,940 --> 00:10:19,030
just have everything you know sort of

280
00:10:17,889 --> 00:10:20,980
set up so that it can handle the

281
00:10:19,029 --> 00:10:22,629
multiple ones if we want to if that

282
00:10:20,980 --> 00:10:25,360
makes sense so I'm gonna go ahead and

283
00:10:22,629 --> 00:10:32,590
say for now we'll just say struct sim

284
00:10:25,360 --> 00:10:33,789
entity collision volume and I guess

285
00:10:32,590 --> 00:10:36,399
there's a little bit of a question here

286
00:10:33,789 --> 00:10:38,649
too one of the things that we can decide

287
00:10:36,399 --> 00:10:41,139
and I don't really know which is a

288
00:10:38,649 --> 00:10:42,850
better decision here but it's a little

289
00:10:41,139 --> 00:10:44,919
bit hard to say one of the things that

290
00:10:42,850 --> 00:10:47,019
we can decide to here is we don't really

291
00:10:44,919 --> 00:10:50,079
know whether we need this to be entity

292
00:10:47,019 --> 00:10:52,539
based storage or not for example if our

293
00:10:50,080 --> 00:10:55,030
entities just to kind of let you know

294
00:10:52,539 --> 00:10:57,129
what's going through my head here so if

295
00:10:55,029 --> 00:11:01,120
let's take this example of a guy this is

296
00:10:57,129 --> 00:11:03,549
a top view here of this guy if we take

297
00:11:01,120 --> 00:11:06,700
this example there's two ways we could

298
00:11:03,549 --> 00:11:09,779
store this data right we have an entity

299
00:11:06,700 --> 00:11:13,140
structure right this is our entity

300
00:11:09,779 --> 00:11:15,149
and inside that entity we could either

301
00:11:13,139 --> 00:11:18,240
directly store inside it or have a

302
00:11:15,149 --> 00:11:21,120
pointer off to write a thing that's

303
00:11:18,240 --> 00:11:25,200
basically a you know a list of coalition

304
00:11:21,120 --> 00:11:27,480
volumes right for that guy and whichever

305
00:11:25,200 --> 00:11:28,980
one of those we do like let's say that

306
00:11:27,480 --> 00:11:30,659
we we take the one where we just have a

307
00:11:28,980 --> 00:11:32,610
pointer off to a list you know maybe

308
00:11:30,659 --> 00:11:36,769
there's a count and there's a pointer to

309
00:11:32,610 --> 00:11:41,159
a list the question is does this live

310
00:11:36,769 --> 00:11:43,350
with the entity or is it shared right

311
00:11:41,159 --> 00:11:45,870
meaning is this something that we need

312
00:11:43,350 --> 00:11:48,750
to track per entity or is it something

313
00:11:45,870 --> 00:11:51,419
that entities can share between them

314
00:11:48,750 --> 00:11:53,309
because for example if we had lots of

315
00:11:51,419 --> 00:11:55,349
entities that all use this exact same

316
00:11:53,309 --> 00:11:57,319
shape maybe we never need to store that

317
00:11:55,350 --> 00:12:00,120
right there could be some other entity

318
00:11:57,320 --> 00:12:01,560
and it just it just points to the same

319
00:12:00,120 --> 00:12:03,480
list of things right because it's the

320
00:12:01,559 --> 00:12:06,119
same type these are both the same kind

321
00:12:03,480 --> 00:12:09,360
of mon-star so they both have like you

322
00:12:06,120 --> 00:12:13,200
know they both just have this

323
00:12:09,360 --> 00:12:15,089
description that works very well if it's

324
00:12:13,200 --> 00:12:16,620
always gonna be the same if on the other

325
00:12:15,089 --> 00:12:18,150
hand every entity has a slightly

326
00:12:16,620 --> 00:12:19,889
different one of these so every monster

327
00:12:18,149 --> 00:12:21,079
you know this is slightly bigger or

328
00:12:19,889 --> 00:12:23,819
smaller like some of them have a

329
00:12:21,080 --> 00:12:25,889
chunkier midsection and smaller arms or

330
00:12:23,820 --> 00:12:28,830
whatever this is supposed to be you know

331
00:12:25,889 --> 00:12:30,449
like that then sharing doesn't doesn't

332
00:12:28,830 --> 00:12:32,970
really work anymore at that point each

333
00:12:30,450 --> 00:12:34,320
one of them wants its own unique one and

334
00:12:32,970 --> 00:12:36,509
I suppose at this point we don't really

335
00:12:34,320 --> 00:12:37,800
have to we don't really have to think

336
00:12:36,509 --> 00:12:39,088
about that too hard but what it does

337
00:12:37,799 --> 00:12:41,159
suggest to me is maybe I'm going to

338
00:12:39,089 --> 00:12:44,400
point out to it and I'm just going to

339
00:12:41,159 --> 00:12:45,929
assume that most of the time this will

340
00:12:44,399 --> 00:12:47,819
probably be shared but we can always

341
00:12:45,929 --> 00:12:49,109
just point out two unique ones if if

342
00:12:47,820 --> 00:12:51,690
what ends up happening is most of the

343
00:12:49,110 --> 00:12:53,810
time they aren't shared so I'm going to

344
00:12:51,690 --> 00:12:56,640
say that we have some kind of a

345
00:12:53,809 --> 00:12:58,799
structure here very simple like again

346
00:12:56,639 --> 00:13:02,789
that's just storing exactly that same

347
00:12:58,799 --> 00:13:04,559
data that we were storing before and so

348
00:13:02,789 --> 00:13:06,750
it's something like this where we

349
00:13:04,559 --> 00:13:08,789
basically have a count so we have a

350
00:13:06,750 --> 00:13:11,250
volume count and then we have a same

351
00:13:08,789 --> 00:13:16,049
entity collision volume just volumes

352
00:13:11,250 --> 00:13:17,580
like that right and I don't really have

353
00:13:16,049 --> 00:13:19,949
a real reason why I'm breaking that down

354
00:13:17,580 --> 00:13:22,770
into two hops there maybe that's stupid

355
00:13:19,950 --> 00:13:23,340
it could be that it's smarter again to

356
00:13:22,769 --> 00:13:24,569
compress that up

357
00:13:23,340 --> 00:13:25,860
but that's really an optimization

358
00:13:24,570 --> 00:13:27,450
concern and we don't really have to

359
00:13:25,860 --> 00:13:28,889
worry about that too much we can

360
00:13:27,450 --> 00:13:31,259
obviously make that decision a little

361
00:13:28,889 --> 00:13:34,019
later on so for right now I'm gonna do

362
00:13:31,259 --> 00:13:35,399
is and replace that dim since there is

363
00:13:34,019 --> 00:13:37,139
no such thing as dimension in particular

364
00:13:35,399 --> 00:13:39,720
anymore I replaced that dim with

365
00:13:37,139 --> 00:13:41,340
essentially a list of dims so we're

366
00:13:39,720 --> 00:13:42,300
gonna point to a collision group here

367
00:13:41,340 --> 00:13:45,600
and we're just going to say that there's

368
00:13:42,299 --> 00:13:47,909
collision group off of the entity right

369
00:13:45,600 --> 00:13:50,340
very simple so we've got the collision

370
00:13:47,909 --> 00:13:52,199
group off of the entity we have the

371
00:13:50,340 --> 00:13:54,720
dimension of it and so all we need in

372
00:13:52,200 --> 00:13:56,820
addition to that is some offset that

373
00:13:54,720 --> 00:13:59,700
lets us know that from whatever the

374
00:13:56,820 --> 00:14:02,400
entity's position actually is where is

375
00:13:59,700 --> 00:14:05,100
the collision volume relative to that

376
00:14:02,399 --> 00:14:06,360
right because that is the thing that

377
00:14:05,100 --> 00:14:12,570
lets us know how to actually do

378
00:14:06,360 --> 00:14:14,909
colliding so that's it that's really all

379
00:14:12,570 --> 00:14:17,910
I wanted to do and again we could decide

380
00:14:14,909 --> 00:14:19,649
to make it to do that which would embed

381
00:14:17,909 --> 00:14:21,899
it directly in and then there would be

382
00:14:19,649 --> 00:14:23,490
that wouldn't really be the same kind of

383
00:14:21,899 --> 00:14:26,669
sharing although they could still share

384
00:14:23,490 --> 00:14:30,180
these pointers but let's say for now I'm

385
00:14:26,669 --> 00:14:33,419
just gonna say for now that the way that

386
00:14:30,179 --> 00:14:35,129
we have this work is they all point to

387
00:14:33,419 --> 00:14:38,069
some group that's been constructed for

388
00:14:35,129 --> 00:14:40,470
their type of guy and we're really not

389
00:14:38,070 --> 00:14:42,890
going to make distinct ones of those at

390
00:14:40,470 --> 00:14:45,060
the time being so it's sort of like just

391
00:14:42,889 --> 00:14:47,730
it's it's sort of like an entity type

392
00:14:45,059 --> 00:14:49,979
almost in fact at some point maybe we'll

393
00:14:47,730 --> 00:14:51,690
even compress this down further and say

394
00:14:49,980 --> 00:14:55,409
that we just used the entity type

395
00:14:51,690 --> 00:14:57,420
directly to get the collision group for

396
00:14:55,409 --> 00:14:59,189
that entity type and there aren't

397
00:14:57,419 --> 00:15:00,839
specific ones but for the time being

398
00:14:59,190 --> 00:15:02,550
we'll leave it this way because it will

399
00:15:00,840 --> 00:15:04,320
let us vary the sizes of things a little

400
00:15:02,549 --> 00:15:05,669
bit more and and be a little bit more

401
00:15:04,320 --> 00:15:07,530
crazy with that so we'll leave it in

402
00:15:05,669 --> 00:15:11,519
until we decide we really need to

403
00:15:07,529 --> 00:15:12,929
compress it down all right so what I'm

404
00:15:11,519 --> 00:15:15,689
gonna do now is I'm just gonna compile

405
00:15:12,929 --> 00:15:18,269
the program and I'm going to let the

406
00:15:15,690 --> 00:15:20,610
compile errors guide my replacement of

407
00:15:18,269 --> 00:15:22,049
the dimension which is something you've

408
00:15:20,610 --> 00:15:23,310
seen me do a lot it's a good programming

409
00:15:22,049 --> 00:15:24,479
technique it's basically you replace

410
00:15:23,309 --> 00:15:26,279
something and just let the compile

411
00:15:24,480 --> 00:15:29,490
errors tell you all the places that you

412
00:15:26,279 --> 00:15:31,649
need to think about it all right so

413
00:15:29,490 --> 00:15:33,269
forget into the ground point now really

414
00:15:31,649 --> 00:15:35,610
that's just gonna there isn't going to

415
00:15:33,269 --> 00:15:36,750
be any more displacement that's just

416
00:15:35,610 --> 00:15:39,240
automatic right

417
00:15:36,750 --> 00:15:40,919
point is whatever the position of the

418
00:15:39,240 --> 00:15:42,360
guy actually was and anyone who's using

419
00:15:40,919 --> 00:15:45,360
that will just get the right thing back

420
00:15:42,360 --> 00:15:47,909
and that's fine for figuring out what

421
00:15:45,360 --> 00:15:53,960
the stare ground is in this case what we

422
00:15:47,909 --> 00:15:58,980
would like to do is we'd like to say

423
00:15:53,960 --> 00:16:01,860
well we should see which point you are

424
00:15:58,980 --> 00:16:03,899
inside right and that's how you would

425
00:16:01,860 --> 00:16:05,399
get the stare ground so because it lets

426
00:16:03,899 --> 00:16:07,679
say a stairwell had multiple pieces

427
00:16:05,399 --> 00:16:10,110
multiple collision pieces to it we want

428
00:16:07,679 --> 00:16:11,609
to see which one you're in and then we

429
00:16:10,110 --> 00:16:13,110
want to get a very eccentric thing out

430
00:16:11,610 --> 00:16:15,720
of that so well actually now that I

431
00:16:13,110 --> 00:16:17,779
think about it actually four stairwells

432
00:16:15,720 --> 00:16:20,340
we want something slightly different

433
00:16:17,779 --> 00:16:22,470
which is actually that we only care

434
00:16:20,340 --> 00:16:24,870
about that sort of footprint that XY

435
00:16:22,470 --> 00:16:26,550
footprint so really what we probably

436
00:16:24,870 --> 00:16:28,230
want your stairwells just to have an

437
00:16:26,549 --> 00:16:30,750
extra thing since their collision is not

438
00:16:28,230 --> 00:16:32,220
really necessarily related to that what

439
00:16:30,750 --> 00:16:34,679
we might want to do is just say we've

440
00:16:32,220 --> 00:16:38,940
just got a notion of that barycentric

441
00:16:34,679 --> 00:16:41,759
piece and we go ahead and and construct

442
00:16:38,940 --> 00:16:43,710
that specially so so I think I'm just

443
00:16:41,759 --> 00:16:45,450
gonna go ahead and make that change

444
00:16:43,710 --> 00:16:47,940
and we'll just test it later so

445
00:16:45,450 --> 00:16:50,700
basically what that means is in some

446
00:16:47,940 --> 00:16:53,450
region again for for these guys I'm

447
00:16:50,700 --> 00:16:56,970
gonna say that we have a rectangle -

448
00:16:53,450 --> 00:16:59,339
that's basically the walkable region

449
00:16:56,970 --> 00:17:02,879
right and that's the area where that

450
00:16:59,339 --> 00:17:04,680
that height happens essentially and in

451
00:17:02,879 --> 00:17:06,449
fact I guess we could do is we could

452
00:17:04,680 --> 00:17:07,799
make a rectangle we can even make a

453
00:17:06,449 --> 00:17:09,779
rectangle three here and say that

454
00:17:07,799 --> 00:17:12,568
stairwells have a volume that has

455
00:17:09,779 --> 00:17:14,369
nothing to do with collision that just

456
00:17:12,568 --> 00:17:16,588
tells you about how you move in them in

457
00:17:14,369 --> 00:17:19,500
that way I'm not sure if that's useful

458
00:17:16,588 --> 00:17:20,759
or not but we could have done that for

459
00:17:19,500 --> 00:17:23,970
right now I guess we don't really need

460
00:17:20,759 --> 00:17:24,900
to do that do we want to do that I guess

461
00:17:23,970 --> 00:17:26,880
we don't really need to do that so I

462
00:17:24,900 --> 00:17:28,980
won't we can think about stairwells a

463
00:17:26,880 --> 00:17:33,470
little in a little bit more detail later

464
00:17:28,980 --> 00:17:33,470
but what that means is this region rect

465
00:17:36,220 --> 00:17:42,370
mm this region rect is really just an

466
00:17:40,059 --> 00:17:45,789
offset rectangle right it's just a rock

467
00:17:42,369 --> 00:17:48,879
able region off I should say walkable

468
00:17:45,789 --> 00:17:54,399
dimension it's just the walkable the

469
00:17:48,880 --> 00:17:56,110
walkable dimension like so on it's just

470
00:17:54,400 --> 00:17:59,920
a rectangle that's been centered about

471
00:17:56,109 --> 00:18:02,439
the the point of the guy in 2d and it's

472
00:17:59,920 --> 00:18:03,730
using the wall dimension as its size and

473
00:18:02,440 --> 00:18:05,980
so we'll get the very central

474
00:18:03,730 --> 00:18:08,049
coordinates out of that and use the

475
00:18:05,980 --> 00:18:09,759
barycentric why to determine the motion

476
00:18:08,049 --> 00:18:10,930
of it we could also have stairwells

477
00:18:09,759 --> 00:18:13,329
going the other direction by using the

478
00:18:10,930 --> 00:18:15,370
barycenter Dex in fact there's a couple

479
00:18:13,329 --> 00:18:18,750
things we could even make very odd sort

480
00:18:15,369 --> 00:18:22,149
of slanted surfaces by actually having

481
00:18:18,750 --> 00:18:25,630
sample points oh that would be even

482
00:18:22,150 --> 00:18:28,060
weirder I'm not gonna think about that

483
00:18:25,630 --> 00:18:31,300
for now yeah we can have weird sort of

484
00:18:28,059 --> 00:18:32,500
scallop e surfaces yeah that's something

485
00:18:31,299 --> 00:18:34,210
for maybe we'll think about that a

486
00:18:32,500 --> 00:18:36,579
little more with ground height anyway so

487
00:18:34,210 --> 00:18:40,539
if we get our barycentric coordinates

488
00:18:36,579 --> 00:18:43,240
back using the 2d rectangle now for that

489
00:18:40,539 --> 00:18:45,849
that ground point and the ground point

490
00:18:43,240 --> 00:18:48,400
actually now is is mostly just going to

491
00:18:45,849 --> 00:18:50,799
be used for the x and y we're gonna get

492
00:18:48,400 --> 00:18:53,019
back that result which is how far up we

493
00:18:50,799 --> 00:18:55,089
should be and we're going to do that

494
00:18:53,019 --> 00:18:59,200
from whatever the entity's position is

495
00:18:55,089 --> 00:19:01,539
that's how we'll define it for for the

496
00:18:59,200 --> 00:19:03,700
stairwells so we'll keep going here

497
00:19:01,539 --> 00:19:06,579
rectangle Center dim probably we don't

498
00:19:03,700 --> 00:19:09,519
have that yet for 2d rectangles I'm

499
00:19:06,579 --> 00:19:14,019
imagining we only have that oops rec

500
00:19:09,519 --> 00:19:16,888
center dim I'm imagining that we know we

501
00:19:14,019 --> 00:19:21,220
do so what's the problem

502
00:19:16,888 --> 00:19:24,129
oh right duh that doesn't need to be a

503
00:19:21,220 --> 00:19:28,028
rectangle that's just a v2 that's the

504
00:19:24,130 --> 00:19:30,130
waffle dimension so let's see here

505
00:19:28,028 --> 00:19:32,380
clamp 0 1 or what do we got back get

506
00:19:30,130 --> 00:19:34,690
barycentric okay so our get Bary centric

507
00:19:32,380 --> 00:19:37,528
that is the one that actually doesn't

508
00:19:34,690 --> 00:19:40,330
have yeah so we need a gift barycentric

509
00:19:37,528 --> 00:19:40,839
for our rectangle too that's pretty

510
00:19:40,329 --> 00:19:43,359
simple

511
00:19:40,839 --> 00:19:47,349
that's just reducing a down one we just

512
00:19:43,359 --> 00:19:50,038
don't do the Z so that's you know really

513
00:19:47,349 --> 00:19:52,778
really basic so we've got that done and

514
00:19:50,038 --> 00:19:54,700
they're safe ratio stuff that really

515
00:19:52,778 --> 00:19:58,028
should be defined up at the top so

516
00:19:54,700 --> 00:20:00,519
because oops everyone needs to be able

517
00:19:58,028 --> 00:20:02,169
to use that those are those are just

518
00:20:00,519 --> 00:20:03,878
scalar operations so that should be

519
00:20:02,169 --> 00:20:05,710
along with like these sorts of things

520
00:20:03,878 --> 00:20:08,949
clamp and lerp and those sorts of fun

521
00:20:05,710 --> 00:20:11,558
things all right so let's see here

522
00:20:08,950 --> 00:20:16,629
dipper Center Eric what did I do get

523
00:20:11,558 --> 00:20:19,329
very eccentric feel a rectangle 3 which

524
00:20:16,628 --> 00:20:19,808
is not what I wanted so let's take a

525
00:20:19,329 --> 00:20:24,038
look here

526
00:20:19,808 --> 00:20:28,720
get barycentric clamp oh 1 so clamp Oh 1

527
00:20:24,038 --> 00:20:30,609
is just the is a v3 special function so

528
00:20:28,720 --> 00:20:32,919
again we'll do that in v2 and for those

529
00:20:30,609 --> 00:20:34,839
of you who were using templates here

530
00:20:32,919 --> 00:20:35,919
again this you this is stuff you

531
00:20:34,839 --> 00:20:37,750
wouldn't have to do a few years and

532
00:20:35,919 --> 00:20:39,399
templates like I said I don't like to

533
00:20:37,750 --> 00:20:41,230
use them I prefer to just do the copy

534
00:20:39,398 --> 00:20:43,928
copy paste or to go the full

535
00:20:41,230 --> 00:20:46,480
metaprogramming route I always pick one

536
00:20:43,929 --> 00:20:47,440
of the other I don't pick the template

537
00:20:46,480 --> 00:20:49,419
wrap but if you're doing the template

538
00:20:47,440 --> 00:20:50,850
route hopefully your templates hopefully

539
00:20:49,419 --> 00:20:52,990
you did it right

540
00:20:50,849 --> 00:20:54,908
those should have been generated for you

541
00:20:52,990 --> 00:20:56,500
hopefully I suppose you could have

542
00:20:54,909 --> 00:21:00,509
something bad but assuming that you did

543
00:20:56,500 --> 00:21:00,509
it reasonably that wouldn't be necessary

544
00:21:03,240 --> 00:21:11,039
ok

545
00:21:05,400 --> 00:21:13,710
so now we get to stuff that actually is

546
00:21:11,039 --> 00:21:15,569
doing more of the collision detection so

547
00:21:13,710 --> 00:21:18,630
let's see here what we need to do is see

548
00:21:15,569 --> 00:21:22,349
whether our entity overlaps the the

549
00:21:18,630 --> 00:21:24,450
bounds that we have and so I believe

550
00:21:22,349 --> 00:21:27,629
well we really need to do here is test

551
00:21:24,450 --> 00:21:29,308
those regions now it's unclear whether

552
00:21:27,630 --> 00:21:34,140
we really whether we want something

553
00:21:29,308 --> 00:21:38,519
faster here you know when we do entity

554
00:21:34,140 --> 00:21:41,780
overlaps rectangle and we pass in that V

555
00:21:38,519 --> 00:21:47,400
through Tim really you know presumably

556
00:21:41,779 --> 00:21:48,869
we might still want the concept and in

557
00:21:47,400 --> 00:21:52,200
fact this is something I guess that we

558
00:21:48,869 --> 00:21:57,269
could do is say that the volume group

559
00:21:52,200 --> 00:22:00,630
itself stores a you know its own total

560
00:21:57,269 --> 00:22:03,929
collision volume so we have like a total

561
00:22:00,630 --> 00:22:06,600
volume and then we have individual

562
00:22:03,929 --> 00:22:09,120
volumes so that basically there is one

563
00:22:06,599 --> 00:22:12,419
volume that encloses everything and then

564
00:22:09,119 --> 00:22:14,549
we have other volumes that are you know

565
00:22:12,420 --> 00:22:16,410
sort of sub chunked and in the case

566
00:22:14,549 --> 00:22:18,990
where volume count was zero it would

567
00:22:16,410 --> 00:22:21,179
mean that your entity didn't have a more

568
00:22:18,990 --> 00:22:23,099
complex shape to it but in the case

569
00:22:21,179 --> 00:22:25,440
where it was then you would do sub

570
00:22:23,099 --> 00:22:27,719
testing and I think I like that because

571
00:22:25,440 --> 00:22:29,670
for example in enemy overlaps rectangle

572
00:22:27,720 --> 00:22:32,400
this is not a gameplay concern this is a

573
00:22:29,670 --> 00:22:34,529
just a region gather and so it seems

574
00:22:32,400 --> 00:22:37,140
like a waste of time here to go through

575
00:22:34,529 --> 00:22:39,839
and figure out okay DD really is he

576
00:22:37,140 --> 00:22:41,520
really overlapping exactly or is it that

577
00:22:39,839 --> 00:22:43,199
there's like a little convex part of him

578
00:22:41,519 --> 00:22:44,519
that's not overlapping that's something

579
00:22:43,200 --> 00:22:45,900
we do care about for collision detection

580
00:22:44,519 --> 00:22:48,058
because it affects the playability of

581
00:22:45,900 --> 00:22:49,320
the game it's important but in terms of

582
00:22:48,058 --> 00:22:51,269
figuring out what's inside a sim region

583
00:22:49,319 --> 00:22:52,980
I'm not sure we care about that so I

584
00:22:51,269 --> 00:22:56,190
think what we want to do here is say

585
00:22:52,980 --> 00:22:57,990
that we've got a collision group and

586
00:22:56,190 --> 00:22:59,340
that collision maybe I'll just call that

587
00:22:57,990 --> 00:23:00,720
collision definitely be close and great

588
00:22:59,339 --> 00:23:02,759
probably will say that we've got that

589
00:23:00,720 --> 00:23:06,720
collision we'll just look at the total

590
00:23:02,759 --> 00:23:09,359
volume right and we'll pass that total

591
00:23:06,720 --> 00:23:12,450
volume and say that's you know that's

592
00:23:09,359 --> 00:23:15,119
the thing right and so then the inside

593
00:23:12,450 --> 00:23:17,340
our entity overlaps rectangle thing what

594
00:23:15,119 --> 00:23:18,519
we'll do is we'll pass one of these

595
00:23:17,339 --> 00:23:21,399
collision volumes

596
00:23:18,519 --> 00:23:24,250
like so and we can go ahead and pass it

597
00:23:21,400 --> 00:23:27,910
in and what we'll do is we'll take that

598
00:23:24,250 --> 00:23:29,529
volume and I guess well we could pass it

599
00:23:27,910 --> 00:23:32,080
by value it seems like a little bit

600
00:23:29,529 --> 00:23:33,549
large well that's an in line so I guess

601
00:23:32,079 --> 00:23:34,869
that's fine so it'll understand

602
00:23:33,549 --> 00:23:36,609
it'll understand what used to do there

603
00:23:34,869 --> 00:23:37,750
probably I don't know that's that's one

604
00:23:36,609 --> 00:23:40,329
of the ones you probably want check but

605
00:23:37,750 --> 00:23:41,920
anyway so we'll pass in that volume

606
00:23:40,329 --> 00:23:45,369
there and then what we'll do is we'll do

607
00:23:41,920 --> 00:23:46,330
the checking against that volume so the

608
00:23:45,369 --> 00:23:49,389
first thing we need to do is say all

609
00:23:46,329 --> 00:23:55,359
right we need to actually grow the

610
00:23:49,390 --> 00:23:57,940
rectangle by the volume which we're

611
00:23:55,359 --> 00:23:59,549
gonna do exactly the same way so this

612
00:23:57,940 --> 00:24:03,039
this should work exactly the same way

613
00:23:59,549 --> 00:24:05,710
but then when we do is in rectangle P

614
00:24:03,039 --> 00:24:08,230
it's not just the entities P anymore

615
00:24:05,710 --> 00:24:11,500
it's actually the P plus the volume

616
00:24:08,230 --> 00:24:13,690
offset P right because we're essentially

617
00:24:11,500 --> 00:24:15,880
saying that you know the actual point

618
00:24:13,690 --> 00:24:20,320
the location that we're testing is is

619
00:24:15,880 --> 00:24:21,970
this offset this offset version so I

620
00:24:20,319 --> 00:24:27,579
think that's all we really have to do

621
00:24:21,970 --> 00:24:30,329
there yeah I don't think there would be

622
00:24:27,579 --> 00:24:30,329
anything else

623
00:24:30,789 --> 00:24:34,389
we're large in the rectangle and seeing

624
00:24:32,980 --> 00:24:37,269
refer in it yeah I think that's about it

625
00:24:34,390 --> 00:24:39,160
so that should be fine what's the

626
00:24:37,269 --> 00:24:40,839
problem here I does not have no you're

627
00:24:39,160 --> 00:24:43,050
right it does not have an overloaded

628
00:24:40,839 --> 00:24:46,689
I'm still thinking I passed it by planar

629
00:24:43,049 --> 00:24:49,899
so let's see dimension is not a member

630
00:24:46,690 --> 00:24:51,670
of sim entity you are correct it is not

631
00:24:49,900 --> 00:24:53,080
so an empty over left rectangle this is

632
00:24:51,670 --> 00:24:55,090
the same kind of test that we're doing

633
00:24:53,079 --> 00:24:57,000
here so we're just gonna say that we're

634
00:24:55,089 --> 00:25:01,509
gonna pass the collision there again

635
00:24:57,000 --> 00:25:05,589
let's see cannot to to oh we need the

636
00:25:01,509 --> 00:25:07,750
total volume like so and then we now

637
00:25:05,589 --> 00:25:10,240
have our Minkowski diameter let's see

638
00:25:07,750 --> 00:25:12,220
we've got our dimensions here so now

639
00:25:10,240 --> 00:25:15,730
inside this is actually the collision

640
00:25:12,220 --> 00:25:17,620
loop and it looks like why is this

641
00:25:15,730 --> 00:25:20,829
saying it cannot recover from previous

642
00:25:17,619 --> 00:25:23,529
errors really it was so hard to come to

643
00:25:20,829 --> 00:25:25,689
recover from the fact of it that we

644
00:25:23,529 --> 00:25:29,529
don't still have that dim in there all

645
00:25:25,690 --> 00:25:31,509
right well anyway plate being what we

646
00:25:29,529 --> 00:25:32,160
want to actually do now is we want to go

647
00:25:31,509 --> 00:25:35,940
ahead and

648
00:25:32,160 --> 00:25:38,670
test those collision volumes those sub

649
00:25:35,940 --> 00:25:46,590
collision volumes and so the way that

650
00:25:38,670 --> 00:25:48,660
I'm going to do that is hmm really all I

651
00:25:46,589 --> 00:25:51,689
have to do is enclose this on a loop and

652
00:25:48,660 --> 00:25:54,480
test each one separately right but there

653
00:25:51,690 --> 00:25:57,930
is one little caveat which is that the

654
00:25:54,480 --> 00:26:01,380
total volume if there was no volume do I

655
00:25:57,930 --> 00:26:03,539
really want to store it twice you know I

656
00:26:01,380 --> 00:26:08,760
guess the answer is we'll do that for

657
00:26:03,539 --> 00:26:11,609
now but but just trying to give you what

658
00:26:08,759 --> 00:26:13,890
the ideas so if we have a total volume

659
00:26:11,609 --> 00:26:15,389
and we we wanted to be able to make an

660
00:26:13,890 --> 00:26:19,530
optimization which is that if we set

661
00:26:15,390 --> 00:26:21,390
volume count to zero then the volumes

662
00:26:19,529 --> 00:26:22,920
themselves would be ignored and you just

663
00:26:21,390 --> 00:26:29,190
use the total volume as the actual

664
00:26:22,920 --> 00:26:33,680
volume for testing right I don't know if

665
00:26:29,190 --> 00:26:33,680
I want to do that short-circuit or not

666
00:26:34,039 --> 00:26:43,500
for now I'm not going to so for now I'm

667
00:26:37,440 --> 00:26:49,170
gonna say volume count is always

668
00:26:43,500 --> 00:26:55,950
expected to be greater than zero if the

669
00:26:49,170 --> 00:26:59,640
entity has any volume in the future this

670
00:26:55,950 --> 00:27:06,120
could be compressed if necessary to say

671
00:26:59,640 --> 00:27:09,410
that the volume count can be zero if the

672
00:27:06,119 --> 00:27:14,069
total volume should be used as the only

673
00:27:09,410 --> 00:27:15,090
collision volume or the entity right and

674
00:27:14,069 --> 00:27:17,039
so that's just like a short-circuit

675
00:27:15,089 --> 00:27:22,859
thing I'm gonna I'm not going to do that

676
00:27:17,039 --> 00:27:26,430
I'm not gonna do that alright so let's

677
00:27:22,859 --> 00:27:29,039
go ahead and pump this out like so

678
00:27:26,430 --> 00:27:30,660
and I'm going to go ahead and get a rate

679
00:27:29,039 --> 00:27:31,980
over those so we've got another loop in

680
00:27:30,660 --> 00:27:37,130
here and that's going to be the volume

681
00:27:31,980 --> 00:27:37,130
index and

682
00:27:38,890 --> 00:27:46,610
this part is is actually I mean if we

683
00:27:45,319 --> 00:27:50,299
actually want to do this correctly it's

684
00:27:46,609 --> 00:27:54,229
a bit difficult right it's actually two

685
00:27:50,299 --> 00:27:57,829
loops right we have two entities each of

686
00:27:54,230 --> 00:27:59,720
which might have n number of collision

687
00:27:57,829 --> 00:28:02,539
volumes so it's really an N squared

688
00:27:59,720 --> 00:28:05,000
pairing and unfortunately that's

689
00:28:02,539 --> 00:28:06,500
actually that's collision detection in a

690
00:28:05,000 --> 00:28:09,019
nutshell collision detection is

691
00:28:06,500 --> 00:28:11,559
unfortunately an N squared problem and

692
00:28:09,019 --> 00:28:13,670
so a lot of the stuff that we do in

693
00:28:11,559 --> 00:28:16,339
collision detecting and you'll see us

694
00:28:13,670 --> 00:28:21,529
have to do this when we do the full

695
00:28:16,339 --> 00:28:25,189
collision objector in the end is we try

696
00:28:21,529 --> 00:28:27,529
to eliminate a lot of entities right off

697
00:28:25,190 --> 00:28:29,930
the bat because of the nasibi the nasty

698
00:28:27,529 --> 00:28:32,569
N squared Ness of it and what I mean by

699
00:28:29,930 --> 00:28:36,580
that is let's say that I've got you know

700
00:28:32,569 --> 00:28:40,639
some things moving in the world right

701
00:28:36,579 --> 00:28:43,220
well for every set of things the

702
00:28:40,640 --> 00:28:45,560
computer can only really consider pairs

703
00:28:43,220 --> 00:28:47,299
of them at once right it can it can ask

704
00:28:45,559 --> 00:28:50,779
the question will this guy collide with

705
00:28:47,299 --> 00:28:53,000
this guy but once it computes that

706
00:28:50,779 --> 00:28:54,440
answer it has gotten no further in

707
00:28:53,000 --> 00:28:57,349
determining whether this guy will

708
00:28:54,440 --> 00:28:59,299
collide with this guy so for every dude

709
00:28:57,349 --> 00:29:02,779
it has to be checked against every other

710
00:28:59,299 --> 00:29:04,430
dude and that's the you know the

711
00:29:02,779 --> 00:29:06,920
textbook definition of a no N squared

712
00:29:04,430 --> 00:29:09,470
problem when however many of these you

713
00:29:06,920 --> 00:29:12,140
have is N and you need to check for

714
00:29:09,470 --> 00:29:14,960
every one of them against n you know all

715
00:29:12,140 --> 00:29:17,720
the others that's n times n pieces of

716
00:29:14,960 --> 00:29:20,299
work you have to do or N squared right

717
00:29:17,720 --> 00:29:21,980
and that's that order notation stuff

718
00:29:20,299 --> 00:29:24,200
we've never really spent a whole episode

719
00:29:21,980 --> 00:29:26,450
talking about it but order notation is

720
00:29:24,200 --> 00:29:28,759
really just a way of saying how the work

721
00:29:26,450 --> 00:29:30,620
scales right how the work scales with

722
00:29:28,759 --> 00:29:32,299
the number of units and so as that

723
00:29:30,619 --> 00:29:34,399
number of units goes up and squared

724
00:29:32,299 --> 00:29:35,960
things look nasty they look like that so

725
00:29:34,400 --> 00:29:37,310
there's a certain number out that you

726
00:29:35,960 --> 00:29:39,200
can do like a hundred of them or

727
00:29:37,309 --> 00:29:40,940
whatever but when you get to a thousand

728
00:29:39,200 --> 00:29:42,640
of them it may be really tough and if

729
00:29:40,940 --> 00:29:45,320
you were to get out to a million of them

730
00:29:42,640 --> 00:29:46,400
it's forget it it's never gonna happen

731
00:29:45,319 --> 00:29:47,960
you're never it's it's like a

732
00:29:46,400 --> 00:29:50,159
nonterminating program that runs for

733
00:29:47,960 --> 00:29:52,350
weeks or something right

734
00:29:50,159 --> 00:29:53,460
and so you know it is that close

735
00:29:52,349 --> 00:29:54,119
detectives in square there's not much we

736
00:29:53,460 --> 00:29:56,548
can do about it

737
00:29:54,119 --> 00:29:57,839
and you can see it happening with loops

738
00:29:56,548 --> 00:29:59,278
inside loops and so that's exactly

739
00:29:57,839 --> 00:30:01,168
what's going on

740
00:29:59,278 --> 00:30:04,079
there's just collision protection has a

741
00:30:01,169 --> 00:30:07,710
lot of that in it and so we have the

742
00:30:04,079 --> 00:30:13,259
entities volume index to loop through

743
00:30:07,710 --> 00:30:17,730
right and then we also have the test

744
00:30:13,259 --> 00:30:20,730
volume index coops the test volume index

745
00:30:17,730 --> 00:30:22,860
to loop through and really in each case

746
00:30:20,730 --> 00:30:25,740
we that's what we have to do we have to

747
00:30:22,859 --> 00:30:29,879
look at each of the entity volumes so we

748
00:30:25,740 --> 00:30:31,980
have the entity we have the entity

749
00:30:29,880 --> 00:30:33,960
collision volume count to loop through

750
00:30:31,980 --> 00:30:35,849
here and we have the test entities

751
00:30:33,960 --> 00:30:38,370
collision fly encounter loops through

752
00:30:35,849 --> 00:30:41,449
here and then this internal routine

753
00:30:38,369 --> 00:30:44,369
actually has to be made to work off of

754
00:30:41,450 --> 00:30:46,980
off of both of those so that we test

755
00:30:44,369 --> 00:30:49,199
pairwise each individual one now this

756
00:30:46,980 --> 00:30:51,480
won't actually lead to any more actual

757
00:30:49,200 --> 00:30:54,000
work in our case at the moment because

758
00:30:51,480 --> 00:30:56,429
they're only will actually ever be one

759
00:30:54,000 --> 00:30:58,308
volume in the volume count but if we

760
00:30:56,429 --> 00:31:00,720
were to increase that volume count up

761
00:30:58,308 --> 00:31:02,190
further than it does multiply that which

762
00:31:00,720 --> 00:31:04,440
makes it so that it's pretty expensive

763
00:31:02,190 --> 00:31:05,820
to have lots of those volumes but that

764
00:31:04,440 --> 00:31:07,230
would have been true if there were lots

765
00:31:05,819 --> 00:31:09,538
of entities as well and again that's

766
00:31:07,230 --> 00:31:11,490
collision is an end spread problem and

767
00:31:09,538 --> 00:31:13,740
it's tough that way so you typically try

768
00:31:11,490 --> 00:31:14,970
to do a lot of sorting of things in two

769
00:31:13,740 --> 00:31:17,038
places to figure out whether they could

770
00:31:14,970 --> 00:31:19,558
ever possibly hit each other so that you

771
00:31:17,038 --> 00:31:21,359
keep and very low because when you have

772
00:31:19,558 --> 00:31:22,940
an N squared problem the only way you

773
00:31:21,359 --> 00:31:25,319
could really ever solve it efficiently

774
00:31:22,940 --> 00:31:27,769
especially in a game context where you

775
00:31:25,319 --> 00:31:30,750
don't have a lot of cycles to spare is

776
00:31:27,769 --> 00:31:31,919
to keep n low that's what you have to do

777
00:31:30,750 --> 00:31:34,048
so you have to use techniques keep n

778
00:31:31,919 --> 00:31:35,909
left for right now are in just is low so

779
00:31:34,048 --> 00:31:37,679
we'd have to worry about that and

780
00:31:35,909 --> 00:31:40,230
hopefully the end always will be pretty

781
00:31:37,679 --> 00:31:42,389
low for these because there shouldn't be

782
00:31:40,230 --> 00:31:43,470
like thousands of collision volumes in

783
00:31:42,388 --> 00:31:44,759
an entity there are these little things

784
00:31:43,470 --> 00:31:46,860
on the screen I mean how many could you

785
00:31:44,759 --> 00:31:51,450
need three four should be pretty low

786
00:31:46,859 --> 00:31:53,278
right so that should be okay but at the

787
00:31:51,450 --> 00:31:55,669
outer level is where we'll definitely do

788
00:31:53,278 --> 00:31:58,859
it like this loop is not gonna stand

789
00:31:55,669 --> 00:32:00,778
it's it's because we're calling move

790
00:31:58,859 --> 00:32:02,409
entity on lots of entities for frame

791
00:32:00,778 --> 00:32:03,730
potentially in each one

792
00:32:02,410 --> 00:32:05,170
looping through all the other enemies

793
00:32:03,730 --> 00:32:05,980
even if those entities are fairly far

794
00:32:05,170 --> 00:32:07,330
away from them

795
00:32:05,980 --> 00:32:08,860
they're looping through all the enemies

796
00:32:07,329 --> 00:32:11,740
in the sim region now the sim region is

797
00:32:08,859 --> 00:32:13,059
keeping it down to a smaller end much

798
00:32:11,740 --> 00:32:15,640
smaller than all the others in the game

799
00:32:13,059 --> 00:32:18,039
so that does do a big part of that for

800
00:32:15,640 --> 00:32:20,770
us that got end down from ten thousand a

801
00:32:18,039 --> 00:32:22,450
hundred thousand entities down to like a

802
00:32:20,769 --> 00:32:24,639
hundred or a thousand entities but we

803
00:32:22,450 --> 00:32:25,990
can do much more granular inside the sim

804
00:32:24,640 --> 00:32:27,640
region we can have things partitioned

805
00:32:25,990 --> 00:32:30,160
further to cut that end down further and

806
00:32:27,640 --> 00:32:31,840
get rid of that nasty M squared feedback

807
00:32:30,160 --> 00:32:33,610
so we that's why I have to do space away

808
00:32:31,839 --> 00:32:34,899
from here because that probably is

809
00:32:33,609 --> 00:32:37,779
something that we're not gonna want to

810
00:32:34,900 --> 00:32:39,009
leave in the in the shipping product in

811
00:32:37,779 --> 00:32:42,430
the final versions but in lecture that

812
00:32:39,009 --> 00:32:43,930
will go away almost certainly unless I

813
00:32:42,430 --> 00:32:47,200
end up being very surprised by how our

814
00:32:43,930 --> 00:32:48,730
profiles look anyway so when we loop

815
00:32:47,200 --> 00:32:50,500
through these what we need to do now is

816
00:32:48,730 --> 00:32:55,660
set up the collision between those

817
00:32:50,500 --> 00:32:57,940
entities bounding volumes rather than

818
00:32:55,660 --> 00:33:00,850
themselves and that's not that hard to

819
00:32:57,940 --> 00:33:02,680
do really all we have to do is is pick

820
00:33:00,849 --> 00:33:05,980
out those two volumes right so we'll

821
00:33:02,680 --> 00:33:10,269
have the entity volume here and that'll

822
00:33:05,980 --> 00:33:17,079
just be their collision volumes volumes

823
00:33:10,269 --> 00:33:20,349
plus entity volume index like so and

824
00:33:17,079 --> 00:33:24,609
then in here same thing we'll just do

825
00:33:20,349 --> 00:33:29,019
tests any volume bat and test volume

826
00:33:24,609 --> 00:33:32,049
index right and I'll just call that test

827
00:33:29,019 --> 00:33:33,339
volume to put entity in there so that'll

828
00:33:32,049 --> 00:33:34,809
grab out the two volumes that we're

829
00:33:33,339 --> 00:33:37,509
testing against and now we just need to

830
00:33:34,809 --> 00:33:39,819
actually use those instead of their

831
00:33:37,509 --> 00:33:41,680
correspondence so so instead of the

832
00:33:39,819 --> 00:33:43,000
entities where that used to get we'll

833
00:33:41,680 --> 00:33:48,640
get the dimensions now out of the

834
00:33:43,000 --> 00:33:51,069
volumes right and I guess we could just

835
00:33:48,640 --> 00:33:54,929
call this volume as well volume and test

836
00:33:51,069 --> 00:33:59,668
volume there we go

837
00:33:54,929 --> 00:34:02,219
uh don't ask me why I'm doing this

838
00:33:59,669 --> 00:34:03,778
renaming yeah it's probably not the

839
00:34:02,219 --> 00:34:04,169
necessary I'm doing it anyway okay there

840
00:34:03,778 --> 00:34:06,808
we go

841
00:34:04,169 --> 00:34:08,460
so that'll produce the correct diameter

842
00:34:06,808 --> 00:34:10,230
for us the two volumes first each other

843
00:34:08,460 --> 00:34:11,338
that's what we wanted and that'll

844
00:34:10,230 --> 00:34:12,869
produce the min and Max when are

845
00:34:11,338 --> 00:34:14,009
centered around the test volume just

846
00:34:12,869 --> 00:34:15,929
like we were doing before if the test

847
00:34:14,010 --> 00:34:18,450
entity but now this has to change

848
00:34:15,929 --> 00:34:20,490
because these entity Peas are not proper

849
00:34:18,449 --> 00:34:24,568
what they need to be is they need to be

850
00:34:20,489 --> 00:34:27,808
offsets so we need to look at the edit

851
00:34:24,568 --> 00:34:29,668
EP plus the volumes offset P right

852
00:34:27,809 --> 00:34:31,798
that's the position of that's where it

853
00:34:29,668 --> 00:34:33,769
actually is in 3d space that's where

854
00:34:31,798 --> 00:34:36,469
that collision volume is in 3d space and

855
00:34:33,769 --> 00:34:39,659
then we also have our test son and EP

856
00:34:36,469 --> 00:34:41,818
that's going to be plus the test volumes

857
00:34:39,659 --> 00:34:43,588
offset P and now we've just basically

858
00:34:41,818 --> 00:34:44,699
created two entity bounding boxes just

859
00:34:43,588 --> 00:34:46,558
like we had before but they've been

860
00:34:44,699 --> 00:34:47,939
offset and then we're just going to do

861
00:34:46,559 --> 00:34:49,528
the closing section exactly how we were

862
00:34:47,940 --> 00:34:52,099
doing it all the rest of this stuff

863
00:34:49,528 --> 00:34:54,179
should just work there's really not

864
00:34:52,099 --> 00:34:55,289
anything else to it I think that's

865
00:34:54,179 --> 00:34:57,059
pretty much it

866
00:34:55,289 --> 00:35:00,809
I think that should should just about

867
00:34:57,059 --> 00:35:03,900
cover it let's double check yeah so that

868
00:35:00,809 --> 00:35:05,940
just went ahead that just went ahead and

869
00:35:03,900 --> 00:35:09,269
resolved all of those it looks like so

870
00:35:05,940 --> 00:35:11,670
now we're on to two other things all

871
00:35:09,269 --> 00:35:14,009
right so now we wanted to do here is see

872
00:35:11,670 --> 00:35:17,490
whether the entity rectangle is

873
00:35:14,010 --> 00:35:21,630
overlapping basically any of these sorts

874
00:35:17,489 --> 00:35:24,389
of you know any of these and these other

875
00:35:21,630 --> 00:35:26,579
pieces that we need so this was to

876
00:35:24,389 --> 00:35:27,868
handle our stairwells right this was to

877
00:35:26,579 --> 00:35:32,150
see whether we were overlapping the

878
00:35:27,869 --> 00:35:34,730
stairwells man I'm out of T look at that

879
00:35:32,150 --> 00:35:37,730
how am I supposed to program with no T

880
00:35:34,730 --> 00:35:37,730
seriously

881
00:35:42,039 --> 00:35:47,489
I tell you that is one thing we

882
00:35:45,099 --> 00:35:50,079
definitely need here at handmade Hero

883
00:35:47,489 --> 00:35:52,509
dot-com if we were a dot-com

884
00:35:50,079 --> 00:35:53,980
instead of a.org then we would have the

885
00:35:52,510 --> 00:35:57,100
billions of dollars of venture capital

886
00:35:53,980 --> 00:36:00,269
funding and then we would have the huge

887
00:35:57,099 --> 00:36:02,469
fancy kitchens with like and special

888
00:36:00,269 --> 00:36:03,940
people whose job it is just to bring me

889
00:36:02,469 --> 00:36:07,449
tea right that's what we would actually

890
00:36:03,940 --> 00:36:10,119
have everyone knows that that's how you

891
00:36:07,449 --> 00:36:11,980
run a company if you want to do it right

892
00:36:10,119 --> 00:36:13,630
in Silicon Valley you have to have at

893
00:36:11,980 --> 00:36:15,280
least seven gourmet kitchens per

894
00:36:13,630 --> 00:36:18,190
programmer how are they supposed to get

895
00:36:15,280 --> 00:36:24,070
any work done without ya without gourmet

896
00:36:18,190 --> 00:36:28,659
teas hand brewed you know preferably by

897
00:36:24,070 --> 00:36:30,910
special robots designed by NASA all

898
00:36:28,659 --> 00:36:32,379
right so let's take a look here at what

899
00:36:30,909 --> 00:36:33,609
this is doing and see if there's

900
00:36:32,380 --> 00:36:36,160
anything in particular we want to change

901
00:36:33,610 --> 00:36:39,130
about it I don't think I think for now

902
00:36:36,159 --> 00:36:40,839
we can probably just do we can we can

903
00:36:39,130 --> 00:36:43,740
probably just do the same looping and

904
00:36:40,840 --> 00:36:46,570
I'll see anything particularly odd here

905
00:36:43,739 --> 00:36:49,659
we just do we just do rectangles

906
00:36:46,570 --> 00:36:51,220
intersect on all the things right and

907
00:36:49,659 --> 00:36:53,649
yeah it's a little bit of a bummer that

908
00:36:51,219 --> 00:36:58,719
we have to make rectangle the rec center

909
00:36:53,650 --> 00:37:01,389
dim stuff but we could we could try to

910
00:36:58,719 --> 00:37:04,209
rewrite this loop to be a little bit to

911
00:37:01,389 --> 00:37:05,529
be a little bit cleaner as well I'm

912
00:37:04,210 --> 00:37:06,880
gonna I'm gonna go a little further

913
00:37:05,530 --> 00:37:07,990
round I'm gonna leave that one for now

914
00:37:06,880 --> 00:37:09,730
and I'm gonna think about that for a

915
00:37:07,989 --> 00:37:11,619
little bit as to how much we want to

916
00:37:09,730 --> 00:37:15,429
rewrite that so I'm gonna go ahead and

917
00:37:11,619 --> 00:37:18,400
here and and I'm gonna I'm gonna deal

918
00:37:15,429 --> 00:37:20,529
with this instead so what I'd like to do

919
00:37:18,400 --> 00:37:23,920
here is I'd like to just create some of

920
00:37:20,530 --> 00:37:26,290
these and just use them directly for

921
00:37:23,920 --> 00:37:28,420
things like our swords and our player

922
00:37:26,289 --> 00:37:31,590
and stuff so what I'd like to do is in

923
00:37:28,420 --> 00:37:34,570
our game state I'd like to get to create

924
00:37:31,590 --> 00:37:37,510
these things as sort of templates that

925
00:37:34,570 --> 00:37:39,309
just get used not like the C++ template

926
00:37:37,510 --> 00:37:41,320
but you know templates like in the

927
00:37:39,309 --> 00:37:46,389
traditional sense of the word that get

928
00:37:41,320 --> 00:37:48,160
used in in creating sort of the the the

929
00:37:46,389 --> 00:37:50,650
players in the sword and the mon-star

930
00:37:48,159 --> 00:37:54,769
room when we create them I'd like to go

931
00:37:50,650 --> 00:37:57,740
ahead and make these volume groups be

932
00:37:54,769 --> 00:37:59,920
those things right and so what I'm gonna

933
00:37:57,739 --> 00:38:02,419
do is I'm just gonna make some of those

934
00:37:59,920 --> 00:38:04,970
here because why not

935
00:38:02,420 --> 00:38:08,420
so what I'm gonna do is say we've got a

936
00:38:04,969 --> 00:38:10,549
volume group pointer for swords we've

937
00:38:08,420 --> 00:38:13,820
got a volume group pointer for

938
00:38:10,550 --> 00:38:15,860
stairwells right we've got one for

939
00:38:13,820 --> 00:38:18,769
players we've got one for the mon-star

940
00:38:15,860 --> 00:38:22,760
we've got one for the wall and we'll

941
00:38:18,769 --> 00:38:26,329
just sort of use those as as we go and

942
00:38:22,760 --> 00:38:28,550
so inside handmade CBP when we create

943
00:38:26,329 --> 00:38:32,029
stuff at the beginning I'm just gonna go

944
00:38:28,550 --> 00:38:34,460
ahead and create those here and I'm

945
00:38:32,030 --> 00:38:37,670
gonna use just a utility function

946
00:38:34,460 --> 00:38:41,990
basically to make them on Moss so if I

947
00:38:37,670 --> 00:38:44,809
go in here and I guess I'll use our our

948
00:38:41,989 --> 00:38:48,619
our game States permanent storage for

949
00:38:44,809 --> 00:38:51,889
this so I'll go ahead and say that the

950
00:38:48,619 --> 00:38:55,250
sword equals you know make simple

951
00:38:51,889 --> 00:38:56,719
collision and that'll just pass the game

952
00:38:55,250 --> 00:38:59,750
state and then it'll pass

953
00:38:56,719 --> 00:39:02,449
you know this stuff right so a sword

954
00:38:59,750 --> 00:39:05,030
will just take what its dimensions were

955
00:39:02,449 --> 00:39:07,369
so it's X dimension was one it's Y

956
00:39:05,030 --> 00:39:11,690
dimension was 0.5 and it's Z dimension

957
00:39:07,369 --> 00:39:13,549
was was that and we'll make simple

958
00:39:11,690 --> 00:39:18,079
collision based off of that and I

959
00:39:13,550 --> 00:39:19,580
believe well I guess for a sword we

960
00:39:18,079 --> 00:39:20,119
don't really care but I believe the rest

961
00:39:19,579 --> 00:39:22,719
of these people

962
00:39:20,119 --> 00:39:26,179
it was always being offset from the base

963
00:39:22,719 --> 00:39:28,250
so we'll call this make simple grounded

964
00:39:26,179 --> 00:39:30,379
collision and what that'll do is that'll

965
00:39:28,250 --> 00:39:32,389
automatically offset it up by half the

966
00:39:30,380 --> 00:39:34,730
by half the Z height like we were doing

967
00:39:32,389 --> 00:39:40,489
before and basically everyone can use

968
00:39:34,730 --> 00:39:42,260
that right for now ok so for s word when

969
00:39:40,489 --> 00:39:45,799
we do this collision what we want to do

970
00:39:42,260 --> 00:39:48,680
is say that the entity oh there's one

971
00:39:45,800 --> 00:39:50,360
more we should have the sim entity

972
00:39:48,679 --> 00:39:53,750
collision line group

973
00:39:50,360 --> 00:39:54,890
null collision we want that to for

974
00:39:53,750 --> 00:39:56,750
anything that just doesn't want to

975
00:39:54,889 --> 00:39:58,639
collide at all and that'll just

976
00:39:56,750 --> 00:40:04,400
basically have an empty collision volume

977
00:39:58,639 --> 00:40:06,019
and no actual volumes in it alright so I

978
00:40:04,400 --> 00:40:07,639
want to make that as well let's go ahead

979
00:40:06,019 --> 00:40:11,090
back here to

980
00:40:07,639 --> 00:40:13,129
this guy so when I add the sword I'm

981
00:40:11,090 --> 00:40:16,190
just gonna take its sim collision group

982
00:40:13,130 --> 00:40:19,400
and I'm gonna point that at the one for

983
00:40:16,190 --> 00:40:21,380
the sword and I realized I should

984
00:40:19,400 --> 00:40:23,809
probably do collision on the end of all

985
00:40:21,380 --> 00:40:27,619
of these huh there we go now so sword

986
00:40:23,809 --> 00:40:29,029
collision right that's it for that and

987
00:40:27,619 --> 00:40:33,859
I'm gonna do the exact same thing with

988
00:40:29,030 --> 00:40:36,200
everybody else you know not not rocket

989
00:40:33,860 --> 00:40:38,840
science here right I wish I had the same

990
00:40:36,199 --> 00:40:42,589
number of love columns as I do at work

991
00:40:38,840 --> 00:40:44,390
it's hard I like having my code be long

992
00:40:42,590 --> 00:40:46,820
I don't like it have to keep breaking

993
00:40:44,389 --> 00:40:51,829
lines like that it's annoying but anyway

994
00:40:46,820 --> 00:40:56,930
all right so let's go ahead and make all

995
00:40:51,829 --> 00:40:59,690
these game state sword collision oh that

996
00:40:56,929 --> 00:41:02,899
helped didn't it that'll help me with my

997
00:40:59,690 --> 00:41:03,860
line break problem I love it all right

998
00:41:02,900 --> 00:41:06,800
there we go

999
00:41:03,860 --> 00:41:09,860
and when you're verbose with your naming

1000
00:41:06,800 --> 00:41:11,600
like I am you end up in that situation

1001
00:41:09,860 --> 00:41:15,530
where you really want a lot you want

1002
00:41:11,599 --> 00:41:16,670
your lines to be long and you know what

1003
00:41:15,530 --> 00:41:18,470
can I say

1004
00:41:16,670 --> 00:41:19,700
it doesn't really lend itself to this

1005
00:41:18,469 --> 00:41:21,199
twitch streaming where everything has to

1006
00:41:19,699 --> 00:41:26,719
be big so it can be legible on the

1007
00:41:21,199 --> 00:41:29,119
stream this is I typically have a lot

1008
00:41:26,719 --> 00:41:32,649
more screen real estate functionally

1009
00:41:29,119 --> 00:41:32,650
speaking oops

1010
00:41:32,989 --> 00:41:38,209
when I'm working and it does make it a

1011
00:41:35,239 --> 00:41:40,069
bit tougher anyway so let's see here

1012
00:41:38,210 --> 00:41:43,849
we've got our S word

1013
00:41:40,070 --> 00:41:49,220
there's our wall so these guys are

1014
00:41:43,849 --> 00:41:51,079
actually for add ground identity yeah so

1015
00:41:49,219 --> 00:41:54,529
now we don't really need add ground

1016
00:41:51,079 --> 00:41:56,750
identity anymore either which is kind of

1017
00:41:54,530 --> 00:41:59,000
nice that will just get taken care of

1018
00:41:56,750 --> 00:42:02,179
for us now because all the entities will

1019
00:41:59,000 --> 00:42:03,559
just work at that point yes so ground

1020
00:42:02,179 --> 00:42:05,449
identity doesn't have to happen and

1021
00:42:03,559 --> 00:42:07,849
that's kind of nice but let's finish up

1022
00:42:05,449 --> 00:42:11,750
what I was doing here so when I do add

1023
00:42:07,849 --> 00:42:12,259
wall let's see where as wall there as

1024
00:42:11,750 --> 00:42:17,389
well

1025
00:42:12,260 --> 00:42:19,610
here is the dimensions to that right so

1026
00:42:17,389 --> 00:42:22,759
what I'll probably do is say we'll just

1027
00:42:19,610 --> 00:42:25,640
make add ground identity take that game

1028
00:42:22,760 --> 00:42:27,410
state wall collision and it'll set it

1029
00:42:25,639 --> 00:42:33,199
for us I guess I don't know seems

1030
00:42:27,409 --> 00:42:37,819
reasonable enough our stairwell same

1031
00:42:33,199 --> 00:42:40,039
thing so here's the stairway to heaven

1032
00:42:37,820 --> 00:42:43,460
of course the place where all stairways

1033
00:42:40,039 --> 00:42:46,550
go it's about a seven-minute long

1034
00:42:43,460 --> 00:42:49,340
stairway it's played on classic rock

1035
00:42:46,550 --> 00:42:53,510
stations all the time everyone's bored

1036
00:42:49,340 --> 00:42:59,210
of it by now you know how it is okay

1037
00:42:53,510 --> 00:43:01,250
so let's see that fixes those guys add

1038
00:42:59,210 --> 00:43:03,769
ground and entity just takes one of

1039
00:43:01,250 --> 00:43:06,679
these again that's really easy

1040
00:43:03,769 --> 00:43:11,449
simplification that's a sim entity

1041
00:43:06,679 --> 00:43:14,269
collision volume group all right group

1042
00:43:11,449 --> 00:43:16,159
or collision I should say and then in

1043
00:43:14,269 --> 00:43:19,130
here it says that the collision equals

1044
00:43:16,159 --> 00:43:20,599
that pointer and then it doesn't have to

1045
00:43:19,130 --> 00:43:23,599
do this math with the chunk space thing

1046
00:43:20,599 --> 00:43:27,889
it doesn't have to use offset P it just

1047
00:43:23,599 --> 00:43:29,449
does it right and similarly doesn't have

1048
00:43:27,889 --> 00:43:33,559
set the dimension because that's already

1049
00:43:29,449 --> 00:43:37,369
handled and yeah that should just work

1050
00:43:33,559 --> 00:43:40,309
so that looks all good we have our add s

1051
00:43:37,369 --> 00:43:42,920
word as well and we have our add player

1052
00:43:40,309 --> 00:43:44,150
our add player wants to have and so I

1053
00:43:42,920 --> 00:43:45,769
think we started what do we start 15

1054
00:43:44,150 --> 00:43:51,050
minutes late today because I was ranting

1055
00:43:45,769 --> 00:43:54,230
about low-quality software so I guess

1056
00:43:51,050 --> 00:43:57,019
what that means is we will go 15 minutes

1057
00:43:54,230 --> 00:43:59,420
from now so we'll have to keep an eye on

1058
00:43:57,019 --> 00:44:01,900
that so nine fifteen is when the stream

1059
00:43:59,420 --> 00:44:05,110
will actually begin the QA

1060
00:44:01,900 --> 00:44:08,539
make simple grounded collision for the

1061
00:44:05,110 --> 00:44:11,210
player now that's in there instead of

1062
00:44:08,539 --> 00:44:15,800
passing that it'll just pass game state

1063
00:44:11,210 --> 00:44:16,900
player collision like so and then the

1064
00:44:15,800 --> 00:44:19,550
Monstar

1065
00:44:16,900 --> 00:44:21,920
also put his dimension in there so the

1066
00:44:19,550 --> 00:44:24,349
Monstar can participate just like

1067
00:44:21,920 --> 00:44:26,568
everyone else we are an equal

1068
00:44:24,349 --> 00:44:28,970
grounded entity adder we do not

1069
00:44:26,568 --> 00:44:31,278
discriminate against Monstars simply

1070
00:44:28,969 --> 00:44:35,149
because they are Monstars Monstars have

1071
00:44:31,278 --> 00:44:40,039
rights as well and it is important to

1072
00:44:35,150 --> 00:44:43,309
treat them with dignity and so and so we

1073
00:44:40,039 --> 00:44:45,200
do so I'm going to skip this again cuz

1074
00:44:43,309 --> 00:44:49,819
that's what I want to come back to in a

1075
00:44:45,199 --> 00:44:53,358
second alright so Oh familiar I forgot

1076
00:44:49,818 --> 00:44:58,338
about the filler entirely how how dare I

1077
00:44:53,358 --> 00:45:05,358
familiar collision and so familiar

1078
00:44:58,338 --> 00:45:07,818
collision yeah and let's see so sward

1079
00:45:05,358 --> 00:45:12,318
collision so I'm gonna go ahead and add

1080
00:45:07,818 --> 00:45:15,619
that in here know your solution make

1081
00:45:12,318 --> 00:45:16,998
simple grounded collision and I mean

1082
00:45:15,619 --> 00:45:18,710
hopefully you can see that I'm not doing

1083
00:45:16,998 --> 00:45:25,238
anything weird here I'm just simplifying

1084
00:45:18,710 --> 00:45:27,228
things down to two basic basic basic

1085
00:45:25,239 --> 00:45:29,838
simplification that I'm doing nothing

1086
00:45:27,228 --> 00:45:31,489
particularly unusual going on here all

1087
00:45:29,838 --> 00:45:34,130
right that's supposed to be sim dock

1088
00:45:31,489 --> 00:45:37,159
collision and what do we got here so

1089
00:45:34,130 --> 00:45:39,380
this is just our rendering stuff which

1090
00:45:37,159 --> 00:45:42,048
we have to clean up and so let me go

1091
00:45:39,380 --> 00:45:44,028
ahead and do that as well so what we're

1092
00:45:42,048 --> 00:45:45,228
doing here is we're actually taking a

1093
00:45:44,028 --> 00:45:47,028
look at that ground point that's

1094
00:45:45,228 --> 00:45:48,439
actually gonna be fine now so we don't

1095
00:45:47,028 --> 00:45:50,509
have to do this anymore

1096
00:45:48,440 --> 00:45:51,829
that'll get rid of that again making it

1097
00:45:50,509 --> 00:45:55,940
nice just like the person was asking

1098
00:45:51,829 --> 00:46:00,019
about in the post stream yesterday let

1099
00:45:55,940 --> 00:46:02,179
me see here inside here when we're doing

1100
00:46:00,018 --> 00:46:05,179
a stairwell what we want to draw on the

1101
00:46:02,179 --> 00:46:06,710
stairwell is actually going to be a

1102
00:46:05,179 --> 00:46:08,659
little bit different than what we were

1103
00:46:06,710 --> 00:46:10,309
drawing before right what we're gonna

1104
00:46:08,659 --> 00:46:13,818
draw on the stairwell now is we've got

1105
00:46:10,309 --> 00:46:16,069
that sort of walkable dimension that

1106
00:46:13,818 --> 00:46:18,048
we're talking about this right here and

1107
00:46:16,068 --> 00:46:21,018
so what we want to do there is we want

1108
00:46:18,048 --> 00:46:22,130
to go ahead and push some slightly

1109
00:46:21,018 --> 00:46:27,108
different stuff than what we were

1110
00:46:22,130 --> 00:46:29,088
pushing before it looks like really we

1111
00:46:27,108 --> 00:46:31,598
just want the walkable Jim directly as

1112
00:46:29,088 --> 00:46:34,489
its self it's

1113
00:46:31,599 --> 00:46:36,588
z-value in terms of where we want to be

1114
00:46:34,489 --> 00:46:38,179
offset in Z is just going to be that

1115
00:46:36,588 --> 00:46:41,119
walkable height

1116
00:46:38,179 --> 00:46:43,699
right which is which is we also know

1117
00:46:41,119 --> 00:46:46,250
that's how high off off its ground point

1118
00:46:43,699 --> 00:46:47,389
it goes and again that's just gonna be

1119
00:46:46,250 --> 00:46:49,010
the welcome of them again so we're just

1120
00:46:47,389 --> 00:46:50,269
drawing that using the other things now

1121
00:46:49,010 --> 00:46:52,278
instead of treating the collision

1122
00:46:50,269 --> 00:46:53,960
volumes as that definition of the

1123
00:46:52,278 --> 00:46:57,139
stairwell and then it looks like

1124
00:46:53,960 --> 00:46:58,909
everything else worked okay so what I'm

1125
00:46:57,139 --> 00:47:02,239
gonna do here I'm gonna temper airily

1126
00:46:58,909 --> 00:47:03,679
disable this guy and then because I

1127
00:47:02,239 --> 00:47:10,578
think we might have our hands full with

1128
00:47:03,679 --> 00:47:11,629
debugging stuff you know correctly in

1129
00:47:10,579 --> 00:47:13,309
the short amount of time that we have

1130
00:47:11,630 --> 00:47:15,230
left we've only got about 12 minutes

1131
00:47:13,309 --> 00:47:16,369
left so I want to focus on getting

1132
00:47:15,230 --> 00:47:18,230
everything else working and then we can

1133
00:47:16,369 --> 00:47:21,140
sort of think about that up that thing

1134
00:47:18,230 --> 00:47:22,719
maybe we'll do that tomorrow before we

1135
00:47:21,139 --> 00:47:27,078
do ooh

1136
00:47:22,719 --> 00:47:29,209
control-z everyone it suspends Emacs as

1137
00:47:27,079 --> 00:47:32,269
if it were Unix even though you can't

1138
00:47:29,210 --> 00:47:35,059
really suspend something oh got a sore

1139
00:47:32,269 --> 00:47:37,940
shoulder today it happens so here's our

1140
00:47:35,059 --> 00:47:39,798
dimensions and this is our thing for

1141
00:47:37,940 --> 00:47:42,079
making a simple grounded collision so

1142
00:47:39,798 --> 00:47:44,858
I'm gonna go ahead and push that on the

1143
00:47:42,079 --> 00:47:48,619
arena of course I don't actually

1144
00:47:44,858 --> 00:47:52,670
remember how we did our arena stuff here

1145
00:47:48,619 --> 00:47:55,579
we need our arena we need our arena to

1146
00:47:52,670 --> 00:47:57,440
be initialized so why isn't our arena

1147
00:47:55,579 --> 00:47:59,559
initialized as the very first thing it

1148
00:47:57,440 --> 00:48:03,079
does that's just dumb

1149
00:47:59,559 --> 00:48:04,579
yeah so that's what we want there now we

1150
00:48:03,079 --> 00:48:06,920
don't actually have an arena for

1151
00:48:04,579 --> 00:48:10,309
entities specifically at the moment it's

1152
00:48:06,920 --> 00:48:13,400
only for worlds and so I don't really

1153
00:48:10,309 --> 00:48:21,440
know how we want to really do that

1154
00:48:13,400 --> 00:48:26,410
exactly this may be something that

1155
00:48:21,440 --> 00:48:28,700
actually wants sort of a sub arena right

1156
00:48:26,409 --> 00:48:33,259
I'm gonna I don't want to talk about

1157
00:48:28,699 --> 00:48:38,358
this right now but maybe talk about this

1158
00:48:33,260 --> 00:48:41,270
soon let's start partitioning our memory

1159
00:48:38,358 --> 00:48:44,389
space so what I'm gonna do right now is

1160
00:48:41,269 --> 00:48:47,239
I'm going to go ahead and allow it to

1161
00:48:44,389 --> 00:48:48,858
use game state World Arena right but

1162
00:48:47,239 --> 00:48:50,118
then I'm not actually gonna do that I'm

1163
00:48:48,858 --> 00:48:52,009
just doing that temporarily because I

1164
00:48:50,119 --> 00:48:53,780
don't want to actually explain

1165
00:48:52,010 --> 00:48:56,740
some additional stuff that we'll explain

1166
00:48:53,780 --> 00:49:02,330
in a bit so

1167
00:48:56,739 --> 00:49:08,269
not world arena change to using the

1168
00:49:02,329 --> 00:49:10,519
fundamental types arena etc alright so

1169
00:49:08,269 --> 00:49:14,000
what I want to do here is I just want to

1170
00:49:10,519 --> 00:49:15,650
do the simple push stuff to allocate

1171
00:49:14,000 --> 00:49:17,360
these things that we want and they're

1172
00:49:15,650 --> 00:49:20,539
you know pretty much permanent types

1173
00:49:17,360 --> 00:49:22,970
they just sit around forever and so

1174
00:49:20,539 --> 00:49:24,739
simonetti closing volume groups here so

1175
00:49:22,969 --> 00:49:29,869
this is the group we're just gonna push

1176
00:49:24,739 --> 00:49:31,069
that on to the arena and we've got we're

1177
00:49:29,869 --> 00:49:32,869
doing on the World Arena for now but

1178
00:49:31,070 --> 00:49:35,870
again that's not where I would probably

1179
00:49:32,869 --> 00:49:38,179
do it eventually so once we've got that

1180
00:49:35,869 --> 00:49:42,019
the group is going to have a volume

1181
00:49:38,179 --> 00:49:44,750
count of one always and it's going to

1182
00:49:42,019 --> 00:49:46,009
have exactly one volume in it and that

1183
00:49:44,750 --> 00:49:49,519
volume is going to be equal to the total

1184
00:49:46,010 --> 00:49:52,790
volumes for now so we've got a push

1185
00:49:49,519 --> 00:49:55,539
array right it's going to push the

1186
00:49:52,789 --> 00:49:58,190
volume count on there it's going to push

1187
00:49:55,539 --> 00:50:00,289
one volume and then what we're going to

1188
00:49:58,190 --> 00:50:09,340
do is we're going to set the group total

1189
00:50:00,289 --> 00:50:09,340
volume equal to excuse me people to I

1190
00:50:10,030 --> 00:50:17,150
guess we're going to find that one and

1191
00:50:12,710 --> 00:50:18,980
then we're going to set the one volume

1192
00:50:17,150 --> 00:50:20,869
we actually have to be equal to it

1193
00:50:18,980 --> 00:50:22,309
because like I said right now we're not

1194
00:50:20,869 --> 00:50:24,829
actually making multiple volumes we're

1195
00:50:22,309 --> 00:50:28,309
just using one volume all right so the

1196
00:50:24,829 --> 00:50:32,869
total volume for this guy go ahead up

1197
00:50:28,309 --> 00:50:34,670
here into our entity collision volume so

1198
00:50:32,869 --> 00:50:38,000
we've got two things we've got an offset

1199
00:50:34,670 --> 00:50:39,710
key and we've got the dim those the two

1200
00:50:38,000 --> 00:50:40,309
things we need to set the dim is really

1201
00:50:39,710 --> 00:50:42,740
straightforward

1202
00:50:40,309 --> 00:50:45,500
it's just passed in right dim Y dibbsy

1203
00:50:42,739 --> 00:50:46,819
the offset key thankfully is actually

1204
00:50:45,500 --> 00:50:47,960
also very straightforward at the moment

1205
00:50:46,820 --> 00:50:50,390
because the only thing we're making are

1206
00:50:47,960 --> 00:50:53,449
very simple things all it is is its

1207
00:50:50,389 --> 00:50:55,759
offset off by half the height right

1208
00:50:53,449 --> 00:50:58,909
that's that's all so there's nothing

1209
00:50:55,760 --> 00:51:00,890
else to it than that and and off it goes

1210
00:50:58,909 --> 00:51:04,759
so that's how we make a collision group

1211
00:51:00,889 --> 00:51:05,659
and presumably that should be fine now

1212
00:51:04,760 --> 00:51:05,960
of course we're probably gonna have a

1213
00:51:05,659 --> 00:51:09,139
lot of

1214
00:51:05,960 --> 00:51:12,588
deal with and so you know that's that's

1215
00:51:09,139 --> 00:51:14,329
just something oh yeah if we actually

1216
00:51:12,588 --> 00:51:16,219
want to reference the tile side meters

1217
00:51:14,329 --> 00:51:19,130
we haven't actually initialized that

1218
00:51:16,219 --> 00:51:20,389
gamestate stuff yet and so I suppose

1219
00:51:19,130 --> 00:51:23,869
what we probably have to do is set up

1220
00:51:20,389 --> 00:51:26,779
our very initial just are sort of very

1221
00:51:23,869 --> 00:51:29,030
basic stuff like our tiles and that sort

1222
00:51:26,780 --> 00:51:31,339
of stuff so this all has to be kind of

1223
00:51:29,030 --> 00:51:32,960
initialized at the outset if that makes

1224
00:51:31,338 --> 00:51:45,279
sense so we'll go ahead and do that for

1225
00:51:32,960 --> 00:51:47,019
now let's see here so yeah we're not

1226
00:51:45,280 --> 00:51:49,570
totally busted

1227
00:51:47,019 --> 00:51:53,349
our collision detection is still working

1228
00:51:49,570 --> 00:51:56,780
our stairwell on the other hand is

1229
00:51:53,349 --> 00:52:00,950
noticeably absent and so we have some

1230
00:51:56,780 --> 00:52:03,830
work to do there everything else seems

1231
00:52:00,949 --> 00:52:05,629
to be working pretty well now we did

1232
00:52:03,829 --> 00:52:08,989
comment out the code for the stairwell

1233
00:52:05,630 --> 00:52:11,329
that is true but you will notice that it

1234
00:52:08,989 --> 00:52:13,969
should have still been drawing so that

1235
00:52:11,329 --> 00:52:16,909
is something that we have to go deal

1236
00:52:13,969 --> 00:52:19,699
with yeah so that's good

1237
00:52:16,909 --> 00:52:22,098
and I snuck in one other thing I mean

1238
00:52:19,699 --> 00:52:24,348
obviously I didn't mention it yet well

1239
00:52:22,099 --> 00:52:25,670
we've got we may yet finish we only have

1240
00:52:24,349 --> 00:52:27,410
seven we have seven minutes left we may

1241
00:52:25,670 --> 00:52:29,150
be able to fish stairwells as well I was

1242
00:52:27,409 --> 00:52:31,579
gonna say is I snuck in one extra thing

1243
00:52:29,150 --> 00:52:36,050
I don't know if you saw me do it I was

1244
00:52:31,579 --> 00:52:39,460
sly about it it is true but I got us

1245
00:52:36,050 --> 00:52:43,160
most of the way there also for doing

1246
00:52:39,460 --> 00:52:45,380
this because now flying entities just

1247
00:52:43,159 --> 00:52:47,659
have their collision boxes offset from

1248
00:52:45,380 --> 00:52:48,980
where they actually are and they can

1249
00:52:47,659 --> 00:52:50,989
still walk around on the ground just

1250
00:52:48,980 --> 00:52:52,550
like everybody else so this is kind of

1251
00:52:50,989 --> 00:52:55,879
gonna be free now I think for the most

1252
00:52:52,550 --> 00:52:57,410
part that'll just pass right over low

1253
00:52:55,880 --> 00:53:00,829
walls because their collision boxes

1254
00:52:57,409 --> 00:53:03,469
won't hit that's all there is to it so

1255
00:53:00,829 --> 00:53:05,750
yeah kind of cool we get that for free

1256
00:53:03,469 --> 00:53:07,699
not similar to do off the list and

1257
00:53:05,750 --> 00:53:09,739
that's always good but for now we need

1258
00:53:07,699 --> 00:53:15,338
to go find out let's start with thing

1259
00:53:09,739 --> 00:53:19,069
one which is what happened to our to our

1260
00:53:15,338 --> 00:53:19,699
stairwells and I assume there's two

1261
00:53:19,070 --> 00:53:21,829
places

1262
00:53:19,699 --> 00:53:26,299
this could be happening one of them is

1263
00:53:21,829 --> 00:53:27,920
here oh you know what we just probably

1264
00:53:26,300 --> 00:53:28,460
never initialized that walkable

1265
00:53:27,920 --> 00:53:32,389
dimension

1266
00:53:28,460 --> 00:53:36,260
did we right that's probably what our

1267
00:53:32,389 --> 00:53:38,539
problem was I'm guessing because if we

1268
00:53:36,260 --> 00:53:41,420
never if we never actually initialize

1269
00:53:38,539 --> 00:53:44,358
that walkable damn it what did that just

1270
00:53:41,420 --> 00:53:47,260
do okay thank you I'm hitting some

1271
00:53:44,358 --> 00:53:49,338
errant Keys tonight let me tell you so

1272
00:53:47,260 --> 00:53:50,810
we have to actually set the walkable

1273
00:53:49,338 --> 00:53:55,358
dimension to the area that we're

1274
00:53:50,809 --> 00:53:58,639
supposed to actually hit right so yeah

1275
00:53:55,358 --> 00:54:01,250
makes sense anyway so if we want to do

1276
00:53:58,639 --> 00:54:02,509
that I guess I don't know what the

1277
00:54:01,250 --> 00:54:06,710
dimensions should be ice guess it should

1278
00:54:02,510 --> 00:54:08,359
just be whatever the stare collision or

1279
00:54:06,710 --> 00:54:11,929
I guess I should say whatever our

1280
00:54:08,358 --> 00:54:16,159
collision right thinks is its total

1281
00:54:11,929 --> 00:54:26,480
volume it should just be that as a

1282
00:54:16,159 --> 00:54:27,289
rectangle - seems reasonable to me what

1283
00:54:26,480 --> 00:54:30,980
do you guys think about that

1284
00:54:27,289 --> 00:54:33,079
I think that's roughly what we should do

1285
00:54:30,980 --> 00:54:34,940
for that and so we need a two rectangle

1286
00:54:33,079 --> 00:54:36,619
to call right something that converts a

1287
00:54:34,940 --> 00:54:40,519
rectangle 3 into a rectangular

1288
00:54:36,619 --> 00:54:43,220
corresponding rectangle - and maybe I'll

1289
00:54:40,519 --> 00:54:45,259
say rectangle XY so that we can have

1290
00:54:43,219 --> 00:54:49,879
other ways of slicing the rectangle up

1291
00:54:45,260 --> 00:54:51,410
as a quick operation right and and so

1292
00:54:49,880 --> 00:54:53,119
what that'll do is that's just you know

1293
00:54:51,409 --> 00:54:56,059
a real simple call again it's a

1294
00:54:53,119 --> 00:55:00,800
rectangle - returning and it does a -

1295
00:54:56,059 --> 00:55:04,730
rectangle XY takes in that rectangle 3

1296
00:55:00,800 --> 00:55:07,450
and just returns that rectangle - and so

1297
00:55:04,730 --> 00:55:14,240
what that does is it says all right you

1298
00:55:07,449 --> 00:55:16,189
know the results min equals a dot min XY

1299
00:55:14,239 --> 00:55:19,729
right

1300
00:55:16,190 --> 00:55:21,200
and the result max equals a dot max XY

1301
00:55:19,730 --> 00:55:23,780
and then that just right that's just a

1302
00:55:21,199 --> 00:55:27,230
conversion it just takes a slice of that

1303
00:55:23,780 --> 00:55:30,170
rectangle so total volume it's it's

1304
00:55:27,230 --> 00:55:33,250
totally not dim is actually what I want

1305
00:55:30,170 --> 00:55:33,250
to do there right

1306
00:55:33,269 --> 00:55:41,219
conniver argument one from v3 to

1307
00:55:37,019 --> 00:55:42,630
rectangle three why do I always think I

1308
00:55:41,219 --> 00:55:44,129
need rekted well I still like having

1309
00:55:42,630 --> 00:55:45,960
that function I didn't need it

1310
00:55:44,130 --> 00:55:48,480
this whole tide it'd need it at all that

1311
00:55:45,960 --> 00:55:49,889
was all I really needed to do oh well

1312
00:55:48,480 --> 00:55:53,460
well at least we got to write to

1313
00:55:49,889 --> 00:55:54,900
rectangle - but what are you gonna do so

1314
00:55:53,460 --> 00:55:57,269
there's our stairwell back so that's

1315
00:55:54,900 --> 00:55:59,430
good we still run into it which is

1316
00:55:57,269 --> 00:56:01,139
correct and we still pass through it

1317
00:55:59,429 --> 00:56:03,779
which is correct but we don't handle the

1318
00:56:01,139 --> 00:56:06,118
overlapping case anymore because like if

1319
00:56:03,780 --> 00:56:10,610
zero that out and so we do have a

1320
00:56:06,119 --> 00:56:14,850
situation where that's going to be

1321
00:56:10,610 --> 00:56:21,410
problematic so let's go ahead and let's

1322
00:56:14,849 --> 00:56:21,409
go ahead and fix that let's see here so

1323
00:56:22,130 --> 00:56:30,869
inside my handmade sim region we need to

1324
00:56:27,389 --> 00:56:33,299
re-enable this case we can do the very

1325
00:56:30,869 --> 00:56:35,430
simple thing by just testing the total

1326
00:56:33,300 --> 00:56:38,220
volume that would take no time at all

1327
00:56:35,429 --> 00:56:44,099
right the total volume test is just this

1328
00:56:38,219 --> 00:56:45,829
test it's just entity collision excuse

1329
00:56:44,099 --> 00:56:49,618
me

1330
00:56:45,829 --> 00:56:54,380
yeah it's entity collision total volume

1331
00:56:49,619 --> 00:56:57,630
and entity collision total volume Jim

1332
00:56:54,380 --> 00:56:58,950
okay right it's just making that offset

1333
00:56:57,630 --> 00:57:01,380
should probably make a thing that just

1334
00:56:58,949 --> 00:57:03,029
gets that volume back we'll think about

1335
00:57:01,380 --> 00:57:04,680
that think about that little rate up

1336
00:57:03,030 --> 00:57:07,950
later

1337
00:57:04,679 --> 00:57:09,929
we have the tests entity we do the same

1338
00:57:07,949 --> 00:57:12,589
test there when we do the rec center dim

1339
00:57:09,929 --> 00:57:19,079
for that we'll just do entity collision

1340
00:57:12,590 --> 00:57:22,010
total volume offset P right and test

1341
00:57:19,079 --> 00:57:25,440
them to be collision total volume dim

1342
00:57:22,010 --> 00:57:26,609
and I believe that would just do it with

1343
00:57:25,440 --> 00:57:29,280
just if we just want to do with the

1344
00:57:26,608 --> 00:57:34,590
total volumes that would work and so

1345
00:57:29,280 --> 00:57:35,880
there we go can we jump that was funny I

1346
00:57:34,590 --> 00:57:38,600
was trying to figure out if I can jump

1347
00:57:35,880 --> 00:57:38,599
over the stairwell

1348
00:57:39,389 --> 00:57:44,190
you have to get up enough enough height

1349
00:57:41,369 --> 00:57:46,140
to clear it and I can't quite seem to I

1350
00:57:44,190 --> 00:57:48,720
need I need a little more jump or I can

1351
00:57:46,139 --> 00:57:52,139
just double jump well I got to be on top

1352
00:57:48,719 --> 00:57:55,949
I'll hit it if I'm on the bottom so we

1353
00:57:52,139 --> 00:57:58,980
eat awesome so you can jump over the

1354
00:57:55,949 --> 00:58:01,528
stairwell now that's always fun alright

1355
00:57:58,980 --> 00:58:03,539
so I think that's basically it and we're

1356
00:58:01,528 --> 00:58:08,389
just about out of time so that's good I

1357
00:58:03,539 --> 00:58:11,309
want to go ahead and say handle multi

1358
00:58:08,389 --> 00:58:14,338
volumes here so you know as we clean

1359
00:58:11,309 --> 00:58:15,630
that up we'll do that you know we can do

1360
00:58:14,338 --> 00:58:18,989
volume to volume

1361
00:58:15,630 --> 00:58:20,670
overlap testing basically it's just a

1362
00:58:18,989 --> 00:58:22,558
question of doing that that N squared

1363
00:58:20,670 --> 00:58:24,480
test again inside for each thickness

1364
00:58:22,559 --> 00:58:25,589
volumes versus the other volumes what I

1365
00:58:24,480 --> 00:58:28,920
do want to do is I just want to finish

1366
00:58:25,588 --> 00:58:32,190
up something here we didn't do the null

1367
00:58:28,920 --> 00:58:36,289
collision yet right so we have gamestate

1368
00:58:32,190 --> 00:58:38,849
null collision and that's going to be

1369
00:58:36,289 --> 00:58:41,490
just a thing where we've got a null

1370
00:58:38,849 --> 00:58:44,210
collision that we make and then what I

1371
00:58:41,489 --> 00:58:46,588
want to do is when you add low entity

1372
00:58:44,210 --> 00:58:48,778
what I want to do is make it so that it

1373
00:58:46,588 --> 00:58:52,318
initializes that so that collision is

1374
00:58:48,778 --> 00:58:54,028
always initialized to something right so

1375
00:58:52,318 --> 00:58:55,199
there's always a null collision pointer

1376
00:58:54,028 --> 00:58:57,239
in there so that people don't have to

1377
00:58:55,199 --> 00:59:00,868
check to see if it's zero so they won't

1378
00:58:57,239 --> 00:59:02,278
crash or whatever right so what I want

1379
00:59:00,869 --> 00:59:07,829
to do is I just want to make one of

1380
00:59:02,278 --> 00:59:12,210
these that's specifically for null

1381
00:59:07,829 --> 00:59:12,960
collisions basically represents no area

1382
00:59:12,210 --> 00:59:16,679
whatsoever

1383
00:59:12,960 --> 00:59:21,690
make no collision and what that's going

1384
00:59:16,679 --> 00:59:25,169
to do is that's going to set the volume

1385
00:59:21,690 --> 00:59:29,250
count to zero set the volume pointers to

1386
00:59:25,170 --> 00:59:33,180
zero and set the offset P and dimension

1387
00:59:29,250 --> 00:59:36,000
all to zero as well right so basically

1388
00:59:33,179 --> 00:59:40,440
there's just nothing included in that

1389
00:59:36,000 --> 00:59:41,730
region so that's it and I don't know if

1390
00:59:40,440 --> 00:59:44,730
there's anything else we could even do

1391
00:59:41,730 --> 00:59:46,570
it making these negative making it

1392
00:59:44,730 --> 00:59:48,460
negative would ensure I don't know

1393
00:59:46,570 --> 00:59:51,610
I'll put it to do should this be

1394
00:59:48,460 --> 00:59:54,670
negative and there we go

1395
00:59:51,610 --> 00:59:57,220
all right so that is I think the end of

1396
00:59:54,670 --> 01:00:00,010
what I would like to cover for now I

1397
00:59:57,219 --> 01:00:01,449
like out so we can't jump over it at the

1398
01:00:00,010 --> 01:00:03,850
bottom because the stairwells solid

1399
01:00:01,449 --> 01:00:05,829
right but if we go up over it and it's

1400
01:00:03,849 --> 01:00:11,219
just a hole in the floor now we can jump

1401
01:00:05,829 --> 01:00:13,719
over it which is kind of nice right yeah

1402
01:00:11,219 --> 01:00:17,259
it's weird what happens when we float

1403
01:00:13,719 --> 01:00:19,449
down there I guess like I don't totally

1404
01:00:17,260 --> 01:00:22,690
understand what's happening there it's

1405
01:00:19,449 --> 01:00:26,109
like it's like gravity doesn't affect us

1406
01:00:22,690 --> 01:00:27,280
as fast as it should I don't really know

1407
01:00:26,110 --> 01:00:28,960
what's happening there I don't know if

1408
01:00:27,280 --> 01:00:31,900
we're having some kind of weird

1409
01:00:28,960 --> 01:00:36,849
collision thing that happens there right

1410
01:00:31,900 --> 01:00:40,240
like why is that not going faster is

1411
01:00:36,849 --> 01:00:43,529
that just because of the drag oh that

1412
01:00:40,239 --> 01:00:43,529
may be because of the drag

1413
01:00:43,679 --> 01:00:51,399
that's probably what that is the drag is

1414
01:00:47,650 --> 01:00:58,420
applied in 3d now right so the jumping

1415
01:00:51,400 --> 01:01:02,650
is gonna have drag yeah yeah the jumping

1416
01:00:58,420 --> 01:01:07,090
is gonna have drag isn't it let's take a

1417
01:01:02,650 --> 01:01:09,099
look at that sorry I said I was gonna

1418
01:01:07,090 --> 01:01:12,670
stop coding but I lied I'm going to I'm

1419
01:01:09,099 --> 01:01:13,299
at two minutes over call me a liar for

1420
01:01:12,670 --> 01:01:18,309
two minutes

1421
01:01:13,300 --> 01:01:21,480
tough crowd tough crowd tonight grey

1422
01:01:18,309 --> 01:01:26,579
face no space all right let's see here

1423
01:01:21,480 --> 01:01:32,559
so you know basically we've got the drag

1424
01:01:26,579 --> 01:01:37,239
being computed here I feel like we want

1425
01:01:32,559 --> 01:01:41,500
to knock out that aspect of the drag so

1426
01:01:37,239 --> 01:01:45,159
you know if we did this right that we

1427
01:01:41,500 --> 01:01:48,750
just say there's no drag on Z I don't

1428
01:01:45,159 --> 01:01:48,750
know what do you think

1429
01:01:52,590 --> 01:01:57,190
because what I want to see happen is I

1430
01:01:54,760 --> 01:01:59,500
want to fall down the stairwell right if

1431
01:01:57,190 --> 01:02:04,809
I jump and yeah that's what's supposed

1432
01:01:59,500 --> 01:02:06,309
to happen exactly right yeah boom and

1433
01:02:04,809 --> 01:02:08,920
then he lands on it so that's what we

1434
01:02:06,309 --> 01:02:12,070
want to have happen all right all right

1435
01:02:08,920 --> 01:02:14,230
now we're actually done yes I went over

1436
01:02:12,070 --> 01:02:16,330
no there won't be as much QA as a result

1437
01:02:14,230 --> 01:02:17,769
but what are you gonna do right that's

1438
01:02:16,329 --> 01:02:21,819
just the way that goes sometimes

1439
01:02:17,769 --> 01:02:24,699
please prefix your questions with Q :

1440
01:02:21,820 --> 01:02:26,260
and keep them to things that we did on

1441
01:02:24,699 --> 01:02:29,139
to night stream around a previous stream

1442
01:02:26,260 --> 01:02:32,610
it's about programming people it is

1443
01:02:29,139 --> 01:02:32,609
about the programming that we're doing

1444
01:02:35,579 --> 01:02:45,069
you know how it is we gotta jump up to

1445
01:02:43,539 --> 01:02:46,690
that top level I like the fact that we

1446
01:02:45,070 --> 01:02:48,100
can jump up we got to have some kind of

1447
01:02:46,690 --> 01:02:51,190
floor that you hit so you can't just

1448
01:02:48,099 --> 01:02:54,069
jump up to top levels like here I am one

1449
01:02:51,190 --> 01:02:56,619
level up above everything let's keep

1450
01:02:54,070 --> 01:02:58,750
going there now I've jumped up so far

1451
01:02:56,619 --> 01:03:00,880
that we actually have a bunch of things

1452
01:02:58,750 --> 01:03:02,289
that are clipped out of our region like

1453
01:03:00,880 --> 01:03:03,519
they're so far below us they're not even

1454
01:03:02,289 --> 01:03:07,420
in the same region anymore

1455
01:03:03,519 --> 01:03:08,769
right yeah we got to fix that ground

1456
01:03:07,420 --> 01:03:10,000
level stuff that's that's gonna be

1457
01:03:08,769 --> 01:03:11,739
tomorrow's thing because we're so close

1458
01:03:10,000 --> 01:03:16,420
to having full 3d goodness here we're

1459
01:03:11,739 --> 01:03:22,500
pretty close it's getting exciting I'm a

1460
01:03:16,420 --> 01:03:25,360
happy camper all right no questions

1461
01:03:22,500 --> 01:03:28,619
there are no questions it is question

1462
01:03:25,360 --> 01:03:32,349
free everyone thought it went perfectly

1463
01:03:28,619 --> 01:03:37,359
what can I say thank you I appreciate

1464
01:03:32,349 --> 01:03:39,219
that vote of confidence can we get a

1465
01:03:37,360 --> 01:03:41,470
sneak preview of the fundamental types

1466
01:03:39,219 --> 01:03:45,189
arena I just I just want to make an

1467
01:03:41,469 --> 01:03:46,899
arena for like so all it is it's real

1468
01:03:45,190 --> 01:03:50,260
simple and I'll explain it in detail

1469
01:03:46,900 --> 01:03:52,420
later but all I want to do right is in

1470
01:03:50,260 --> 01:03:57,400
our memory partition there's gonna be

1471
01:03:52,420 --> 01:03:58,809
like constant stuff right which is stuff

1472
01:03:57,400 --> 01:04:02,490
like those collision definitions and

1473
01:03:58,809 --> 01:04:02,489
then there's going to be world stuff

1474
01:04:02,969 --> 01:04:10,599
right and this stuff gets vaporized

1475
01:04:06,900 --> 01:04:15,010
every time you start a new game right

1476
01:04:10,599 --> 01:04:16,449
but this stuff doesn't and so because

1477
01:04:15,010 --> 01:04:17,890
there's no need we could recreate

1478
01:04:16,449 --> 01:04:19,358
everything every time but because

1479
01:04:17,889 --> 01:04:21,309
there's no need to recreate this it's

1480
01:04:19,358 --> 01:04:23,769
just it's a nice optimization to say all

1481
01:04:21,309 --> 01:04:25,539
of the classic stuff we do first at

1482
01:04:23,769 --> 01:04:27,369
startup when you start the game and then

1483
01:04:25,539 --> 01:04:29,619
it just stays in that block footprint

1484
01:04:27,369 --> 01:04:31,180
the whole time and is used by everyone

1485
01:04:29,619 --> 01:04:34,600
but the stuff that's whether to the

1486
01:04:31,179 --> 01:04:37,089
world this gets freed every time you

1487
01:04:34,599 --> 01:04:40,059
finish a you know finish a playthrough

1488
01:04:37,090 --> 01:04:42,130
of the game that's all so it's nothing

1489
01:04:40,059 --> 01:04:43,599
special it's just we haven't talked

1490
01:04:42,130 --> 01:04:44,650
about that stuff and so I didn't want to

1491
01:04:43,599 --> 01:04:47,679
just do it

1492
01:04:44,650 --> 01:04:49,510
I'd like to talk about it and have some

1493
01:04:47,679 --> 01:04:51,750
more time to go through it so it's not

1494
01:04:49,510 --> 01:04:51,750
rushed

1495
01:05:04,579 --> 01:05:12,840
drive 137 what does besides the missed

1496
01:05:08,099 --> 01:05:16,619
keys mean I don't know what that means

1497
01:05:12,840 --> 01:05:18,780
missed keys Oh because of my awesome

1498
01:05:16,619 --> 01:05:20,369
typing yeah control-z made an appearance

1499
01:05:18,780 --> 01:05:22,440
for the first time tonight I'm surprised

1500
01:05:20,369 --> 01:05:25,529
it hasn't happened earlier but ctrl Z

1501
01:05:22,440 --> 01:05:28,950
means suspend task in a UNIX environment

1502
01:05:25,530 --> 01:05:36,200
right and they've mapped it in in Emacs

1503
01:05:28,949 --> 01:05:44,099
and Windows to minimize because they did

1504
01:05:36,199 --> 01:05:48,329
no no it's fine with me it's just let's

1505
01:05:44,099 --> 01:05:52,769
see do we have any on topic questions it

1506
01:05:48,329 --> 01:05:54,210
looks like we don't you know if I don't

1507
01:05:52,769 --> 01:05:55,650
have any on top of questions that's okay

1508
01:05:54,210 --> 01:05:57,599
I'll answer off-topic questions for the

1509
01:05:55,650 --> 01:05:58,769
eight minutes we have remaining if

1510
01:05:57,599 --> 01:06:03,809
anyone does that on top a question

1511
01:05:58,769 --> 01:06:05,070
though I'll try to prioritize that like

1512
01:06:03,809 --> 01:06:07,320
the sneak peek of the fundamental types

1513
01:06:05,070 --> 01:06:13,950
arena we already did that one so that's

1514
01:06:07,320 --> 01:06:15,990
good what did I just watch you watch me

1515
01:06:13,949 --> 01:06:18,269
programming game the way we do it in

1516
01:06:15,989 --> 01:06:21,179
actual game programming in the real

1517
01:06:18,269 --> 01:06:23,400
world this is how game programming goes

1518
01:06:21,179 --> 01:06:26,879
and we're basically just doing exactly

1519
01:06:23,400 --> 01:06:28,079
that it's a it's slower paced then how

1520
01:06:26,880 --> 01:06:30,180
programming actually goes because I have

1521
01:06:28,079 --> 01:06:32,130
to explain stuff and talk it through

1522
01:06:30,179 --> 01:06:34,440
which slows things down but other than

1523
01:06:32,130 --> 01:06:37,110
that I'm basically doing almost exactly

1524
01:06:34,440 --> 01:06:38,519
what I would be doing if this were work

1525
01:06:37,110 --> 01:06:41,550
I was doing during the day to develop

1526
01:06:38,519 --> 01:06:42,809
actual video games for real so we're not

1527
01:06:41,550 --> 01:06:45,030
pulling any punches here I'm doing all

1528
01:06:42,809 --> 01:06:47,250
the same stuff I overcomplicate some

1529
01:06:45,030 --> 01:06:49,380
things intentionally that maybe you

1530
01:06:47,250 --> 01:06:51,000
could cut based on the game you were

1531
01:06:49,380 --> 01:06:53,640
doing so like do we have to handle all

1532
01:06:51,000 --> 01:06:55,199
this 3d stuff perfectly and am i pushing

1533
01:06:53,639 --> 01:06:57,449
forwards on some stuff that might not

1534
01:06:55,199 --> 01:06:59,399
need to get pushed yes but that's

1535
01:06:57,449 --> 01:07:01,799
because it's again for educational

1536
01:06:59,400 --> 01:07:03,900
purposes and I want to give people a

1537
01:07:01,800 --> 01:07:05,460
window into the 3d stuff because that

1538
01:07:03,900 --> 01:07:07,769
would be the next logical step after

1539
01:07:05,460 --> 01:07:10,559
handmade hero would be to start doing 3d

1540
01:07:07,769 --> 01:07:11,639
engine programming as an extension of

1541
01:07:10,559 --> 01:07:12,900
your 2d engine programming because

1542
01:07:11,639 --> 01:07:14,670
they're basically the same but then the

1543
01:07:12,900 --> 01:07:17,019
the geometry gets more complicated the

1544
01:07:14,670 --> 01:07:18,159
gem stuff gets more complicated but

1545
01:07:17,018 --> 01:07:20,018
otherwise it's you know it's basically

1546
01:07:18,159 --> 01:07:23,829
what that is so what you watched was how

1547
01:07:20,018 --> 01:07:25,808
we code that's how we do it I'm a little

1548
01:07:23,829 --> 01:07:27,369
bit old school and how I program so

1549
01:07:25,809 --> 01:07:28,959
there's it's you know some people would

1550
01:07:27,369 --> 01:07:31,028
have a lot more C++ this and be doing

1551
01:07:28,958 --> 01:07:33,608
you know inheritance and templates and

1552
01:07:31,028 --> 01:07:35,498
stuff like that but a lot of people

1553
01:07:33,608 --> 01:07:36,909
wouldn't be a lot of game programmers

1554
01:07:35,498 --> 01:07:40,118
wouldn't be as well a lot of papers for

1555
01:07:36,909 --> 01:07:41,739
a Mac I do and I'm not the most old old

1556
01:07:40,119 --> 01:07:43,479
school out there right there's people

1557
01:07:41,739 --> 01:07:46,179
who are way harder core than me and

1558
01:07:43,478 --> 01:07:47,498
would bristle at some of the things I'm

1559
01:07:46,179 --> 01:07:51,159
doing is being a little too new-school

1560
01:07:47,498 --> 01:07:53,498
right so you know everyone has their own

1561
01:07:51,159 --> 01:07:55,209
preference and primary styles vary and

1562
01:07:53,498 --> 01:07:57,238
what you consider to be important and

1563
01:07:55,208 --> 01:07:59,078
what you consider to be a priority is

1564
01:07:57,239 --> 01:08:00,579
various imperson to person because

1565
01:07:59,079 --> 01:08:02,798
sometimes there's no perfect right

1566
01:08:00,579 --> 01:08:14,489
answer as to how to make a particular

1567
01:08:02,798 --> 01:08:14,489
thing in the game right let's see

1568
01:08:21,170 --> 01:08:27,298
let's see so we have some on topic

1569
01:08:25,710 --> 01:08:33,439
questions here so I want to parse those

1570
01:08:27,298 --> 01:08:33,439
first let's see

1571
01:08:46,269 --> 01:08:51,369
so it looks like the on topic questions

1572
01:08:49,269 --> 01:08:53,588
I like to cover are could you sketch

1573
01:08:51,368 --> 01:08:55,268
what you did today visually and the

1574
01:08:53,588 --> 01:08:57,009
answer is yes and I'll do that and there

1575
01:08:55,269 --> 01:08:58,690
was wood the ground question be easier

1576
01:08:57,009 --> 01:09:04,809
have less issues if it was a volume

1577
01:08:58,689 --> 01:09:06,638
instead of a plane and the answer is we

1578
01:09:04,809 --> 01:09:09,880
haven't really done the ground stuff yet

1579
01:09:06,639 --> 01:09:12,670
and so what what we're gonna do with

1580
01:09:09,880 --> 01:09:17,139
that I don't know I suspect we may make

1581
01:09:12,670 --> 01:09:20,048
it a volume but we may not we may just

1582
01:09:17,139 --> 01:09:22,809
treat it as a plane I think that's not

1583
01:09:20,048 --> 01:09:27,338
the interesting that's probably not the

1584
01:09:22,809 --> 01:09:28,809
interesting decision the problem if the

1585
01:09:27,338 --> 01:09:30,729
reason that we have it to do for a

1586
01:09:28,809 --> 01:09:31,869
ground specification like the reason I'm

1587
01:09:30,729 --> 01:09:34,808
not happy with what's happening right

1588
01:09:31,868 --> 01:09:36,368
now right is not really a collision

1589
01:09:34,809 --> 01:09:40,298
detection problem it's a specification

1590
01:09:36,368 --> 01:09:41,649
problem right there's really no problem

1591
01:09:40,298 --> 01:09:43,118
that we're having right now that has to

1592
01:09:41,649 --> 01:09:44,558
do with the ground being a plane the

1593
01:09:43,118 --> 01:09:48,098
problem that we're having has to do with

1594
01:09:44,559 --> 01:09:50,170
knowing where the ground is so right now

1595
01:09:48,099 --> 01:09:53,259
we just have entities in space right

1596
01:09:50,170 --> 01:09:55,840
what we have to define a place right

1597
01:09:53,259 --> 01:09:58,269
right now is we have a bunch of tree

1598
01:09:55,840 --> 01:10:00,099
entities that we just placed in like a

1599
01:09:58,269 --> 01:10:01,539
grid pattern which is totally arbitrary

1600
01:10:00,099 --> 01:10:03,670
by the way we didn't have to do that

1601
01:10:01,538 --> 01:10:04,719
it's just what we did we've got a bunch

1602
01:10:03,670 --> 01:10:06,819
of trees that are placed and that

1603
01:10:04,719 --> 01:10:08,559
defined a room and since our collision

1604
01:10:06,819 --> 01:10:10,268
detection is happening in 2d that

1605
01:10:08,559 --> 01:10:11,800
defines a nice room on a plane that we

1606
01:10:10,269 --> 01:10:13,780
can walk around and everyone's happy

1607
01:10:11,800 --> 01:10:14,920
problem is when rooms start getting

1608
01:10:13,779 --> 01:10:20,340
stacked on top of each other the

1609
01:10:14,920 --> 01:10:24,190
question is where is the ground right

1610
01:10:20,340 --> 01:10:26,380
where is it and right now we don't have

1611
01:10:24,189 --> 01:10:30,069
a definition for that all we do is say

1612
01:10:26,380 --> 01:10:31,538
well wherever the cameras pointing the Z

1613
01:10:30,069 --> 01:10:33,578
position at which the camera is pointing

1614
01:10:31,538 --> 01:10:35,498
that's the ground so literally the

1615
01:10:33,578 --> 01:10:38,518
ground moves with the camera right now

1616
01:10:35,498 --> 01:10:41,198
right which is totally not gonna cut it

1617
01:10:38,519 --> 01:10:43,739
and so the question for that we have to

1618
01:10:41,198 --> 01:10:45,788
face is less about how do we

1619
01:10:43,738 --> 01:10:48,218
mathematically deal with the ground once

1620
01:10:45,788 --> 01:10:51,219
we know where it is and more how do we

1621
01:10:48,219 --> 01:10:54,639
want to specify this so one way we could

1622
01:10:51,219 --> 01:10:57,158
specify it would be to actually just add

1623
01:10:54,639 --> 01:10:59,500
entities in that say where the ground is

1624
01:10:57,158 --> 01:11:01,809
and if there's nothing there

1625
01:10:59,500 --> 01:11:03,369
then you fall through it and that's how

1626
01:11:01,810 --> 01:11:07,000
we would probably do it in a 3d

1627
01:11:03,369 --> 01:11:07,569
environment right that's probably how we

1628
01:11:07,000 --> 01:11:11,079
do that

1629
01:11:07,569 --> 01:11:13,840
in 2d though we have to ask the question

1630
01:11:11,079 --> 01:11:16,750
does that make a lot of sense because

1631
01:11:13,840 --> 01:11:19,659
the common case in 2d is that there's

1632
01:11:16,750 --> 01:11:20,890
just a flat round under the room and 99%

1633
01:11:19,659 --> 01:11:22,239
of the time that's probably what we

1634
01:11:20,890 --> 01:11:25,780
gonna have is like ground or the room

1635
01:11:22,239 --> 01:11:27,219
and maybe a stairwell right I mean if

1636
01:11:25,779 --> 01:11:28,420
you think about Legend of Zelda Binding

1637
01:11:27,220 --> 01:11:29,800
of Isaac the games that I keep

1638
01:11:28,420 --> 01:11:31,569
referencing that's just we're trying to

1639
01:11:29,800 --> 01:11:34,960
make that 2d dungeon-crawling kind of

1640
01:11:31,569 --> 01:11:39,009
thing they just don't have a lot of null

1641
01:11:34,960 --> 01:11:41,680
on ground it's just not that common and

1642
01:11:39,010 --> 01:11:43,720
so I wonder you know does it make sense

1643
01:11:41,680 --> 01:11:45,700
to treat the ground as something that we

1644
01:11:43,720 --> 01:11:49,300
constantly have to say hey by the way

1645
01:11:45,699 --> 01:11:51,039
there's some ground does that make sense

1646
01:11:49,300 --> 01:11:53,260
instead of just specifying where the

1647
01:11:51,039 --> 01:11:55,359
ground isn't like could we just always

1648
01:11:53,260 --> 01:11:57,130
assume that there's ground and then what

1649
01:11:55,359 --> 01:12:02,170
we actually specify is where there is

1650
01:11:57,130 --> 01:12:04,420
not ground right and so one example of

1651
01:12:02,170 --> 01:12:07,239
this might be when we open up a sim

1652
01:12:04,420 --> 01:12:09,130
region insert ground levels at some

1653
01:12:07,239 --> 01:12:10,630
known set of locations and then assume

1654
01:12:09,130 --> 01:12:12,430
that people will put in entities to say

1655
01:12:10,630 --> 01:12:14,529
there's no ground at a particular place

1656
01:12:12,430 --> 01:12:15,820
there I don't know it's on our to-do

1657
01:12:14,529 --> 01:12:16,960
list we'll look at it some more we'll

1658
01:12:15,819 --> 01:12:17,500
think about some more I don't know what

1659
01:12:16,960 --> 01:12:19,810
the answer is

1660
01:12:17,500 --> 01:12:21,909
right now though I think volume versus

1661
01:12:19,810 --> 01:12:23,650
plain is not really a big concern I

1662
01:12:21,909 --> 01:12:25,449
think either one would be fine

1663
01:12:23,649 --> 01:12:26,559
maybe we'll see that one or the other

1664
01:12:25,449 --> 01:12:28,630
would be better a little further down

1665
01:12:26,560 --> 01:12:31,420
the road right now what concerns me most

1666
01:12:28,630 --> 01:12:32,859
is just how do we specify it how do we

1667
01:12:31,420 --> 01:12:35,680
say where the ground is right now we got

1668
01:12:32,859 --> 01:12:37,829
nothing and nothing is not an acceptable

1669
01:12:35,680 --> 01:12:37,829
answer

1670
01:12:48,079 --> 01:12:52,850
since you are handling Z how complicated

1671
01:12:50,600 --> 01:12:55,970
is it to have entity stacking with the

1672
01:12:52,850 --> 01:12:58,130
current code state it would not be hard

1673
01:12:55,970 --> 01:13:00,050
at all to have entity stacking if you

1674
01:12:58,130 --> 01:13:02,029
just want to like if I'm on top of an

1675
01:13:00,050 --> 01:13:04,159
entity I can walk on it that'd be really

1676
01:13:02,029 --> 01:13:06,229
easy if you want to do stuff we're like

1677
01:13:04,159 --> 01:13:08,119
entities stack on top of each other in a

1678
01:13:06,229 --> 01:13:10,489
physics puzzle e-way like pushing things

1679
01:13:08,119 --> 01:13:12,170
and I don't know there might be stuff

1680
01:13:10,489 --> 01:13:14,380
where the physics would be nasty to do

1681
01:13:12,170 --> 01:13:14,380
there

1682
01:13:25,309 --> 01:13:32,880
are using a memory manager no how are

1683
01:13:31,618 --> 01:13:35,058
you letting out your levels currently

1684
01:13:32,880 --> 01:13:37,559
and are you going to make a level editor

1685
01:13:35,059 --> 01:13:39,418
it's this game is entirely procedurally

1686
01:13:37,559 --> 01:13:41,699
generated so we won't be making a level

1687
01:13:39,418 --> 01:13:43,139
editor but right now we don't do much

1688
01:13:41,698 --> 01:13:44,398
procedural generation we just have some

1689
01:13:43,139 --> 01:13:46,199
little placeholder stuff in there so

1690
01:13:44,399 --> 01:13:48,199
right now it just generates a couple

1691
01:13:46,198 --> 01:13:50,759
rooms and that's it just for testing

1692
01:13:48,198 --> 01:13:52,558
that'll be an entire block of time that

1693
01:13:50,760 --> 01:13:54,840
we spend probably a very significant

1694
01:13:52,559 --> 01:13:56,639
block of time probably half the game

1695
01:13:54,840 --> 01:13:59,159
development time honestly will be on

1696
01:13:56,639 --> 01:14:00,630
level generation because that's gonna be

1697
01:13:59,158 --> 01:14:02,549
one of the biggest important parts of

1698
01:14:00,630 --> 01:14:04,429
the game it'll pace it'll be like the

1699
01:14:02,550 --> 01:14:06,869
behavior of entities and objects and

1700
01:14:04,429 --> 01:14:09,179
level generation will be where we spend

1701
01:14:06,868 --> 01:14:11,759
you know 400 of the 600 days or

1702
01:14:09,179 --> 01:14:20,819
something I would suspect just pulling a

1703
01:14:11,760 --> 01:14:22,498
number out of my head but it's knowing

1704
01:14:20,819 --> 01:14:26,340
big o-notation important in game

1705
01:14:22,498 --> 01:14:28,469
programming yes big o-notation is

1706
01:14:26,340 --> 01:14:30,719
important in any programming you you

1707
01:14:28,469 --> 01:14:34,800
have to know how your code scales too

1708
01:14:30,719 --> 01:14:37,260
you have to know how many maximum things

1709
01:14:34,800 --> 01:14:42,559
your code can handle before it totally

1710
01:14:37,260 --> 01:14:46,918
breaks the notation isn't important it's

1711
01:14:42,559 --> 01:14:49,409
understanding that N squared versus and

1712
01:14:46,918 --> 01:14:52,078
versus log and versus n log n versus n

1713
01:14:49,408 --> 01:14:54,238
log n squared or you know whatever it's

1714
01:14:52,078 --> 01:14:56,340
understanding the behavioral the

1715
01:14:54,238 --> 01:14:58,288
scalability of the code is what's

1716
01:14:56,340 --> 01:15:01,380
important not the notation the notation

1717
01:14:58,288 --> 01:15:05,509
just happens to be how people write it I

1718
01:15:01,380 --> 01:15:08,090
think that's rust about out of time

1719
01:15:05,510 --> 01:15:09,899
let's see here

1720
01:15:08,090 --> 01:15:11,489
you mentioned further ways of

1721
01:15:09,899 --> 01:15:12,840
partitioning collisions past breaking it

1722
01:15:11,488 --> 01:15:16,198
up into regions what would some of those

1723
01:15:12,840 --> 01:15:18,989
be well I don't really mean that what I

1724
01:15:16,198 --> 01:15:21,058
mean is we need to further break it up

1725
01:15:18,988 --> 01:15:23,488
into regions like right now we just have

1726
01:15:21,059 --> 01:15:25,288
the sim region and everything in the sim

1727
01:15:23,488 --> 01:15:27,718
region what we want to do is partition

1728
01:15:25,288 --> 01:15:29,340
the sim region into sub regions that are

1729
01:15:27,719 --> 01:15:32,519
strictly used for identifying things

1730
01:15:29,340 --> 01:15:35,369
that might hit each other right so you

1731
01:15:32,519 --> 01:15:36,659
know two things in this space will be

1732
01:15:35,368 --> 01:15:37,949
checked against each other but a thing

1733
01:15:36,658 --> 01:15:40,289
in this space and a thing in this space

1734
01:15:37,949 --> 01:15:42,809
won't be right so it's just a way of

1735
01:15:40,289 --> 01:15:47,010
keeping that end really small so that n

1736
01:15:42,810 --> 01:15:49,740
is you know like five or ten at most

1737
01:15:47,010 --> 01:15:51,420
instead of a hundred or five hundred at

1738
01:15:49,739 --> 01:15:58,800
worst which is what we have now and

1739
01:15:51,420 --> 01:16:01,800
that's no good right all righty

1740
01:15:58,800 --> 01:16:04,140
let's go ahead and end that for today

1741
01:16:01,800 --> 01:16:07,829
sorry the Q&amp;A was short but sometimes

1742
01:16:04,140 --> 01:16:10,200
you start late and then the Q&amp;A short so

1743
01:16:07,829 --> 01:16:14,100
let's go ahead and close things down I

1744
01:16:10,199 --> 01:16:17,670
think we are in good shape here let's go

1745
01:16:14,100 --> 01:16:20,100
ahead and close this down and end the

1746
01:16:17,670 --> 01:16:21,270
stream thank you everyone for joining me

1747
01:16:20,100 --> 01:16:22,440
for another episode of handmade hero

1748
01:16:21,270 --> 01:16:25,980
it's been a pleasure coding with you as

1749
01:16:22,439 --> 01:16:27,000
always that was a good day today we did

1750
01:16:25,979 --> 01:16:28,199
some cleanup work that I thought was

1751
01:16:27,000 --> 01:16:29,670
good and I'm happy with how that came

1752
01:16:28,199 --> 01:16:31,829
out I hope you are too

1753
01:16:29,670 --> 01:16:33,510
if you want to follow along at home with

1754
01:16:31,829 --> 01:16:35,789
the source code the source code is

1755
01:16:33,510 --> 01:16:38,460
included if you pre-order the game so

1756
01:16:35,789 --> 01:16:40,350
you can play around with it and you know

1757
01:16:38,460 --> 01:16:41,730
learn game programming stuff by playing

1758
01:16:40,350 --> 01:16:42,780
with source code directly so if you want

1759
01:16:41,729 --> 01:16:45,659
to do that you can pre-order the game at

1760
01:16:42,779 --> 01:16:47,819
handmade hero org using our lovely

1761
01:16:45,659 --> 01:16:49,139
little pre-order button here you can

1762
01:16:47,819 --> 01:16:50,579
also support the video series by

1763
01:16:49,140 --> 01:16:52,680
subscribing to our patreon if you would

1764
01:16:50,579 --> 01:16:55,289
like to it's always very much

1765
01:16:52,680 --> 01:16:56,940
appreciated and we have a news and forum

1766
01:16:55,289 --> 01:16:58,500
site that I would definitely recommend

1767
01:16:56,939 --> 01:16:59,759
checking out it's got a bunch of great

1768
01:16:58,500 --> 01:17:01,079
resources on their forum you can ask

1769
01:16:59,760 --> 01:17:03,600
questions

1770
01:17:01,079 --> 01:17:07,380
it's got ports to Linux and Mac it's got

1771
01:17:03,600 --> 01:17:09,539
a community maintained episode guide

1772
01:17:07,380 --> 01:17:10,770
which is really handy it's just if you

1773
01:17:09,539 --> 01:17:11,970
know what you're trying to kind of if

1774
01:17:10,770 --> 01:17:13,980
you're new to the series and want to

1775
01:17:11,970 --> 01:17:15,180
start back to the beginning there's a

1776
01:17:13,979 --> 01:17:18,209
lot of great stuff there so please check

1777
01:17:15,180 --> 01:17:20,789
that out and finally we have updated the

1778
01:17:18,210 --> 01:17:23,310
the handmade hero schedule tweeting bot

1779
01:17:20,789 --> 01:17:25,739
to be daylight savings time aware even

1780
01:17:23,310 --> 01:17:27,590
how advanced is that the singularity is

1781
01:17:25,739 --> 01:17:30,750
near people this but will soon become

1782
01:17:27,590 --> 01:17:33,989
sentient and take over the world

1783
01:17:30,750 --> 01:17:36,630
i disavow any responsibility for that

1784
01:17:33,989 --> 01:17:39,119
when you are running from a giant

1785
01:17:36,630 --> 01:17:41,010
handmade hero tweet bot and you are

1786
01:17:39,119 --> 01:17:43,829
screaming for your life and it is

1787
01:17:41,010 --> 01:17:46,619
mercilessly grinding towards you with

1788
01:17:43,829 --> 01:17:48,779
steel gears and an exoskeleton that is

1789
01:17:46,619 --> 01:17:50,609
frightening and strapped with guns all

1790
01:17:48,779 --> 01:17:52,800
over it just remember all

1791
01:17:50,609 --> 01:17:55,889
was trying to do was make it tweet the

1792
01:17:52,800 --> 01:17:57,719
time in daylight savings time that that

1793
01:17:55,889 --> 01:18:00,600
was all I was trying to do I wasn't

1794
01:17:57,719 --> 01:18:01,889
trying to start the robot apocalypse so

1795
01:18:00,600 --> 01:18:04,400
I highly recommend checking that out

1796
01:18:01,889 --> 01:18:07,739
while you can and before it turns on us

1797
01:18:04,399 --> 01:18:09,839
and you can even follow that handmade

1798
01:18:07,738 --> 01:18:12,809
here a bot to get its tweets set

1799
01:18:09,840 --> 01:18:14,789
directly to you I strongly doubt whether

1800
01:18:12,810 --> 01:18:16,380
it will care one way or the other when

1801
01:18:14,789 --> 01:18:18,658
it comes to exterminating all the humans

1802
01:18:16,380 --> 01:18:21,210
who was following it and not but it

1803
01:18:18,658 --> 01:18:22,559
can't hurt it might take pity on people

1804
01:18:21,210 --> 01:18:25,439
who followed it I don't know

1805
01:18:22,560 --> 01:18:28,139
that said thanks for joining me I will

1806
01:18:25,439 --> 01:18:29,368
be back here tomorrow at 8 p.m. Pacific

1807
01:18:28,139 --> 01:18:31,350
Daylight Time

1808
01:18:29,368 --> 01:18:34,529
I'm gonna say it right to Pacific

1809
01:18:31,350 --> 01:18:38,070
Daylight Time tomorrow I hope to see you

1810
01:18:34,529 --> 01:18:41,750
here for another round of handmade hero

1811
01:18:38,069 --> 01:18:41,750
coding take it easy everyone

