1
00:00:00,030 --> 00:00:02,879
hello everyone welcome to handmade zero

2
00:00:01,589 --> 00:00:05,099
share we could complete game live on

3
00:00:02,879 --> 00:00:08,130
stream we're the process of pulling out

4
00:00:05,099 --> 00:00:08,609
a renderer for a friend asking for a

5
00:00:08,130 --> 00:00:13,320
friend

6
00:00:08,609 --> 00:00:16,890
hashtag asking for a friend we pretty

7
00:00:13,320 --> 00:00:20,250
much did all the basics yesterday and

8
00:00:16,890 --> 00:00:23,278
the render is separated now so really

9
00:00:20,250 --> 00:00:25,890
what I want to focus on for the next

10
00:00:23,278 --> 00:00:27,899
step is actually fixing a couple things

11
00:00:25,890 --> 00:00:30,060
in the render and cleaning up the API so

12
00:00:27,899 --> 00:00:31,858
this is more at this point this is less

13
00:00:30,059 --> 00:00:34,589
of a let's pull the renderer out which

14
00:00:31,859 --> 00:00:37,649
we kind of did and are in relatively

15
00:00:34,590 --> 00:00:40,469
good shape for this is now more of a

16
00:00:37,649 --> 00:00:42,390
let's go ahead and start looking at some

17
00:00:40,469 --> 00:00:45,149
things that we wanted due to the API and

18
00:00:42,390 --> 00:00:47,128
fix them because now that we've got it

19
00:00:45,149 --> 00:00:48,270
in a cleaner State it's a good chance

20
00:00:47,128 --> 00:00:50,609
for us to do a couple things we've

21
00:00:48,270 --> 00:00:52,320
really been mean do for a while the big

22
00:00:50,609 --> 00:00:54,780
one is to figure out how we want to

23
00:00:52,320 --> 00:00:56,250
handle textures long term I've said many

24
00:00:54,780 --> 00:00:57,570
times that we have a problem with

25
00:00:56,250 --> 00:00:59,100
texture handling that's because we

26
00:00:57,570 --> 00:01:01,289
started off with just software rendering

27
00:00:59,100 --> 00:01:03,448
suffering doesn't really care about how

28
00:01:01,289 --> 00:01:05,219
the textures are set up Hardware

29
00:01:03,448 --> 00:01:07,649
rendering on several different pieces of

30
00:01:05,219 --> 00:01:09,510
hardware does we kind of need to be

31
00:01:07,650 --> 00:01:12,150
power of two's and we kind of need to be

32
00:01:09,510 --> 00:01:13,650
well it's to be fair the power of tube

33
00:01:12,150 --> 00:01:17,368
stuff is not really the most important

34
00:01:13,650 --> 00:01:19,859
part for most of the hardware that would

35
00:01:17,368 --> 00:01:22,170
actually have caused us problems what we

36
00:01:19,859 --> 00:01:23,670
the real big thing is we need all our

37
00:01:22,170 --> 00:01:27,689
text should be the same size that's

38
00:01:23,670 --> 00:01:30,030
that's really the main thing essentially

39
00:01:27,688 --> 00:01:33,419
you can think of it as when you start

40
00:01:30,030 --> 00:01:36,150
doing a draw dispatch there's different

41
00:01:33,420 --> 00:01:38,780
kinds of hardware out there some

42
00:01:36,150 --> 00:01:41,280
hardware like an advanced nvidia part

43
00:01:38,780 --> 00:01:43,950
that hardware can just think about

44
00:01:41,280 --> 00:01:45,868
textures as a per primitive thing it's

45
00:01:43,950 --> 00:01:47,850
literally like a cpu in a lot of ways

46
00:01:45,868 --> 00:01:50,790
where it's just it can just get a

47
00:01:47,849 --> 00:01:54,929
pointer to a texture and just go to town

48
00:01:50,790 --> 00:01:57,240
right so if you want to change textures

49
00:01:54,930 --> 00:01:59,460
per primitive it's really no big deal

50
00:01:57,239 --> 00:02:01,649
there isn't anything special about it

51
00:01:59,459 --> 00:02:03,929
and the fact that those textures are

52
00:02:01,649 --> 00:02:08,520
different dimensions isn't really a

53
00:02:03,930 --> 00:02:11,730
problem on other kinds of hardware

54
00:02:08,520 --> 00:02:13,530
that's not how it works I don't pretend

55
00:02:11,729 --> 00:02:17,189
to know the internals of

56
00:02:13,530 --> 00:02:20,520
a lot of GPUs but in terms of your

57
00:02:17,189 --> 00:02:24,209
mental model it's as if you have to load

58
00:02:20,520 --> 00:02:26,969
in a single texture pointer into the

59
00:02:24,209 --> 00:02:29,459
chip in a sense like into a register set

60
00:02:26,969 --> 00:02:34,560
and then all of your drawing has to be

61
00:02:29,459 --> 00:02:37,199
off of that base right so you can't just

62
00:02:34,560 --> 00:02:39,900
push down texture pointers per primitive

63
00:02:37,199 --> 00:02:42,238
and expect that to work you actually

64
00:02:39,900 --> 00:02:46,650
need to have a sort of restart every

65
00:02:42,239 --> 00:02:50,489
time that you're gonna have that that

66
00:02:46,650 --> 00:02:52,349
change right eye and so when you are

67
00:02:50,489 --> 00:02:54,420
talking about that kind of hardware

68
00:02:52,349 --> 00:02:57,239
you're talking about needing to make

69
00:02:54,419 --> 00:03:00,958
sure that you can access a large number

70
00:02:57,239 --> 00:03:03,930
of actual conceptual textures off of a

71
00:03:00,959 --> 00:03:07,830
single base pointer and the only real

72
00:03:03,930 --> 00:03:10,590
way to do that that we have is by using

73
00:03:07,830 --> 00:03:12,840
something like a texture array which is

74
00:03:10,590 --> 00:03:14,819
to say a base pointer and then we can

75
00:03:12,840 --> 00:03:17,099
index off of the base pointer to get

76
00:03:14,818 --> 00:03:21,509
many different textures but they all

77
00:03:17,099 --> 00:03:24,239
have to be the same size right so

78
00:03:21,509 --> 00:03:27,389
fundamentally speaking we can't really

79
00:03:24,239 --> 00:03:28,739
do much else about it we just have to

80
00:03:27,389 --> 00:03:30,359
say look we're gonna have all these

81
00:03:28,739 --> 00:03:31,650
textures they're gonna be roughly this

82
00:03:30,360 --> 00:03:40,970
big off we go

83
00:03:31,650 --> 00:03:40,969
okay now you may ask

84
00:03:41,930 --> 00:03:46,340
and rightfully so

85
00:03:46,400 --> 00:03:56,340
well who cares right just pick a big

86
00:03:49,680 --> 00:03:59,640
texture 2048 by 2048 why not and just

87
00:03:56,340 --> 00:04:01,170
pack as many textures into it as you

88
00:03:59,639 --> 00:04:05,548
want right and this is called a texture

89
00:04:01,169 --> 00:04:08,878
atlas and then we only need one size of

90
00:04:05,549 --> 00:04:10,889
texture array right now this is not a

91
00:04:08,878 --> 00:04:13,108
bad idea this is a pretty good idea

92
00:04:10,889 --> 00:04:15,540
actually and you can do it there is

93
00:04:13,109 --> 00:04:19,500
however a pretty big downside to it the

94
00:04:15,539 --> 00:04:23,490
downside is either you have to leave a

95
00:04:19,500 --> 00:04:27,779
lot of gap between the things that are

96
00:04:23,490 --> 00:04:31,639
packed in there or you have to never use

97
00:04:27,779 --> 00:04:36,959
mipmapping or you have to write your own

98
00:04:31,639 --> 00:04:40,410
mipmap fetch and blend why is this well

99
00:04:36,959 --> 00:04:42,689
it's because mipmapping in my opinion

100
00:04:40,410 --> 00:04:44,400
and you know I'm not a graphics person

101
00:04:42,689 --> 00:04:45,779
but I feel like I understand this part

102
00:04:44,399 --> 00:04:48,209
well enough to have an opinion on it

103
00:04:45,779 --> 00:04:51,598
because I've done a lot of work on this

104
00:04:48,209 --> 00:04:54,779
particular type of thing mipmapping was

105
00:04:51,598 --> 00:04:56,728
not very well conceived the way that

106
00:04:54,779 --> 00:04:59,359
texture coordinates are computed form it

107
00:04:56,728 --> 00:05:03,180
levels I don't particularly agree with

108
00:04:59,360 --> 00:05:05,729
and as a result you end up in a

109
00:05:03,180 --> 00:05:09,990
situation where multiple textures packed

110
00:05:05,728 --> 00:05:11,699
together or even a single texture that

111
00:05:09,990 --> 00:05:13,680
needs to be paired up with another

112
00:05:11,699 --> 00:05:17,728
texture and not have a seam in the

113
00:05:13,680 --> 00:05:19,319
middle mipmapping just doesn't work in

114
00:05:17,728 --> 00:05:21,389
order to use it you have to do things

115
00:05:19,319 --> 00:05:23,098
like padding your textures with copies

116
00:05:21,389 --> 00:05:26,129
of the things that they're tiling with

117
00:05:23,098 --> 00:05:29,819
and stuff like this it's it's kind of

118
00:05:26,129 --> 00:05:31,228
nasty and so you end up in two

119
00:05:29,819 --> 00:05:33,329
situations you really don't want to be

120
00:05:31,228 --> 00:05:36,990
in and you've got a lot of issues that

121
00:05:33,329 --> 00:05:38,658
you have to address there if you want to

122
00:05:36,990 --> 00:05:44,610
handle these sorts of things properly

123
00:05:38,658 --> 00:05:46,740
mipmapping like just it just didn't

124
00:05:44,610 --> 00:05:48,509
think about a lot of things when they

125
00:05:46,740 --> 00:05:50,340
did mipmapping it was a simple solution

126
00:05:48,509 --> 00:05:51,870
to the problem at the time but they

127
00:05:50,339 --> 00:05:53,609
didn't think about a lot of the problems

128
00:05:51,870 --> 00:05:54,658
such as needing to place textures next

129
00:05:53,610 --> 00:05:55,759
to each other and not have there be

130
00:05:54,658 --> 00:05:58,579
seams

131
00:05:55,759 --> 00:06:00,199
and they also didn't think about texture

132
00:05:58,579 --> 00:06:02,709
atlases really as a thing texture

133
00:06:00,199 --> 00:06:05,598
atlases are harder to solve with mapping

134
00:06:02,709 --> 00:06:07,519
problems in the though even if you had

135
00:06:05,598 --> 00:06:08,959
done it correctly it still only solves a

136
00:06:07,519 --> 00:06:12,339
little bit of the problem you still have

137
00:06:08,959 --> 00:06:14,209
other problems about what happens as

138
00:06:12,339 --> 00:06:16,818
neighboring pixels get blurred together

139
00:06:14,209 --> 00:06:21,288
so sexual alice's is not as big of a

140
00:06:16,819 --> 00:06:24,348
deal it's kind of broken always um so

141
00:06:21,288 --> 00:06:26,029
you know there's a lot of issues I I

142
00:06:24,348 --> 00:06:27,259
don't know what to say about them other

143
00:06:26,029 --> 00:06:28,818
than you can go down a pretty large

144
00:06:27,259 --> 00:06:31,189
rabbit hole if you actually want to deal

145
00:06:28,819 --> 00:06:33,860
with this stuff correctly on handmade

146
00:06:31,189 --> 00:06:36,550
Hiro will be okay with just a reasonable

147
00:06:33,860 --> 00:06:38,629
solution we just need something sensible

148
00:06:36,550 --> 00:06:40,848
texture race will be pretty good for us

149
00:06:38,629 --> 00:06:42,169
for all of our in-game art I think let

150
00:06:40,848 --> 00:06:44,509
guys saying maybe if we just have

151
00:06:42,168 --> 00:06:46,818
everything as a 512 by 512 bitmap we put

152
00:06:44,509 --> 00:06:48,590
it in there we go since we have a stream

153
00:06:46,819 --> 00:06:50,569
on-demand system I think we can lean on

154
00:06:48,589 --> 00:06:52,128
that to make it so that we just allocate

155
00:06:50,569 --> 00:06:54,348
a fixed number of these and we just swap

156
00:06:52,129 --> 00:06:56,028
them in and out as we need to and as

157
00:06:54,348 --> 00:06:57,800
long as we have some relatively good

158
00:06:56,028 --> 00:06:59,240
prediction which you know I think we can

159
00:06:57,800 --> 00:07:02,658
work out I don't think that's too hard

160
00:06:59,240 --> 00:07:04,460
to do I think we'll be okay

161
00:07:02,658 --> 00:07:06,620
so I think we have a lot of options that

162
00:07:04,459 --> 00:07:08,838
other people maybe don't have because we

163
00:07:06,620 --> 00:07:10,610
have a solid streaming system that we

164
00:07:08,838 --> 00:07:12,500
can sort of improve over time and lean

165
00:07:10,610 --> 00:07:14,838
on for solving some of the problems that

166
00:07:12,500 --> 00:07:16,490
you might otherwise encounter I think we

167
00:07:14,838 --> 00:07:19,218
can probably deal with that and as a

168
00:07:16,490 --> 00:07:20,750
result we don't because I think we can

169
00:07:19,218 --> 00:07:22,129
lean on our streaming system I don't

170
00:07:20,750 --> 00:07:24,560
think we'll have as much to worry about

171
00:07:22,129 --> 00:07:28,218
in terms of wasted space if we want to

172
00:07:24,560 --> 00:07:31,668
waste a huge amount of our 512 by 512

173
00:07:28,218 --> 00:07:35,269
bitmap that could be a serious problem

174
00:07:31,668 --> 00:07:37,128
for another game but for us because

175
00:07:35,269 --> 00:07:39,438
we're streaming we only care that we

176
00:07:37,129 --> 00:07:43,069
have enough 512 by 512 to do what's on

177
00:07:39,439 --> 00:07:45,979
the screen you know and so that gives us

178
00:07:43,069 --> 00:07:49,039
some flexibility to be more wasteful in

179
00:07:45,978 --> 00:07:51,649
other parts so it's kind of nice right

180
00:07:49,038 --> 00:07:54,019
like that buys us it means that there's

181
00:07:51,649 --> 00:07:56,359
no cost to the GPU texture memory

182
00:07:54,019 --> 00:07:58,579
wastage that there normally would be

183
00:07:56,360 --> 00:08:00,620
right because we're not counting on

184
00:07:58,579 --> 00:08:03,198
being able to pack all this stuff into

185
00:08:00,620 --> 00:08:04,848
the GPU texture memory for an entire

186
00:08:03,199 --> 00:08:07,069
level or something and just expect it to

187
00:08:04,848 --> 00:08:09,168
work when we're streaming we can always

188
00:08:07,069 --> 00:08:11,028
just say look as long as we can fit what

189
00:08:09,168 --> 00:08:13,579
to stream in for like our current screen

190
00:08:11,028 --> 00:08:15,709
and a little apron we're done we don't

191
00:08:13,579 --> 00:08:19,310
really have to be any more compact than

192
00:08:15,709 --> 00:08:21,109
that and so that can help us with stuff

193
00:08:19,310 --> 00:08:22,999
like you know not having to have a big

194
00:08:21,110 --> 00:08:25,430
texture outlet set system in there which

195
00:08:22,999 --> 00:08:26,900
again bugs things down adds a lot of

196
00:08:25,430 --> 00:08:28,939
complexity and all these other things

197
00:08:26,899 --> 00:08:30,859
that you know we don't really want to

198
00:08:28,939 --> 00:08:32,870
have to do and also that would make the

199
00:08:30,860 --> 00:08:34,509
code slower because it's actually

200
00:08:32,870 --> 00:08:38,389
thinking about all that stuff right so

201
00:08:34,509 --> 00:08:40,218
anyway what we want to do is figure out

202
00:08:38,389 --> 00:08:43,729
how we're gonna move forward on this

203
00:08:40,219 --> 00:08:45,139
though how we want to start moving to

204
00:08:43,729 --> 00:08:47,360
texture arrays because I really think we

205
00:08:45,139 --> 00:08:49,669
do want to and hopefully get a little

206
00:08:47,360 --> 00:08:53,300
bit of the way there today that's what

207
00:08:49,669 --> 00:08:55,009
we'd like to do and you know again this

208
00:08:53,299 --> 00:08:57,799
is kind of like half and half it's

209
00:08:55,009 --> 00:08:59,299
partly because hey we're pulling out the

210
00:08:57,799 --> 00:09:00,799
renderer but it's partly just like we

211
00:08:59,299 --> 00:09:04,609
would really like to be able to do this

212
00:09:00,799 --> 00:09:07,069
right okay so let's start by doing

213
00:09:04,610 --> 00:09:10,000
something really basic which is right

214
00:09:07,070 --> 00:09:15,250
now we've got if we load up two studio

215
00:09:10,000 --> 00:09:20,379
we've got did that close I did I

216
00:09:15,250 --> 00:09:26,360
intentionally did not mean to close this

217
00:09:20,379 --> 00:09:28,870
that's gonna stay up there we've got to

218
00:09:26,360 --> 00:09:28,870
remember this

219
00:09:41,580 --> 00:09:50,278
all right uh so what we want to do here

220
00:09:47,200 --> 00:09:57,490
is we want to take this sort of basic

221
00:09:50,278 --> 00:09:59,588
that's not we wanted this is what we

222
00:09:57,490 --> 00:10:03,570
want to take this basic start which

223
00:09:59,589 --> 00:10:03,570
proves that our renderer runs outside

224
00:10:03,750 --> 00:10:11,019
runs outside the game and works you know

225
00:10:08,620 --> 00:10:12,220
in all the ways that we expect it to we

226
00:10:11,019 --> 00:10:14,259
want to turn this into something that

227
00:10:12,220 --> 00:10:16,778
looks a little bit more like an actual

228
00:10:14,259 --> 00:10:18,909
game screen right so what I'd like to do

229
00:10:16,778 --> 00:10:22,028
is you know render a bunch of these

230
00:10:18,909 --> 00:10:25,120
cubes and then a sprite you know maybe

231
00:10:22,028 --> 00:10:28,480
on top of them in a reasonable location

232
00:10:25,120 --> 00:10:31,360
and then I would like to have them be

233
00:10:28,480 --> 00:10:33,190
textured with textures that we loaded

234
00:10:31,360 --> 00:10:34,570
from disk right and then at that point I

235
00:10:33,190 --> 00:10:37,810
think we're pretty much done you know

236
00:10:34,570 --> 00:10:42,160
we've provided a solid render service

237
00:10:37,809 --> 00:10:45,129
that works and off we go right so I'd

238
00:10:42,159 --> 00:10:47,110
like to go ahead and move down that move

239
00:10:45,129 --> 00:10:48,519
move closer to that goal I also wouldn't

240
00:10:47,110 --> 00:10:51,100
mind making this a little bit more

241
00:10:48,519 --> 00:10:53,319
active here you know something that we

242
00:10:51,100 --> 00:10:54,909
can see a little bit better again I

243
00:10:53,320 --> 00:10:58,480
don't really know what the perspective

244
00:10:54,909 --> 00:11:01,750
is supposed to be for the the game in

245
00:10:58,480 --> 00:11:08,500
question here I asked sort of for like a

246
00:11:01,750 --> 00:11:11,808
pointer just a simple example it was

247
00:11:08,500 --> 00:11:11,808
[Music]

248
00:11:21,019 --> 00:11:25,860
so this was this was what they were sort

249
00:11:24,720 --> 00:11:32,460
of saying was like look it's just gonna

250
00:11:25,860 --> 00:11:39,029
be something like this right get the

251
00:11:32,460 --> 00:11:43,860
bitmap uh you just talking about

252
00:11:39,029 --> 00:11:45,329
something like this right there there

253
00:11:43,860 --> 00:11:48,450
thing was like something like this but

254
00:11:45,330 --> 00:11:51,180
actually 3d right they they wanted they

255
00:11:48,450 --> 00:11:52,620
didn't want it one way to say it is

256
00:11:51,179 --> 00:11:54,539
they were just thinking of something

257
00:11:52,620 --> 00:11:56,700
like this like so artist paints a tree

258
00:11:54,539 --> 00:11:58,620
and we slap it down there right but they

259
00:11:56,700 --> 00:12:01,379
were saying but it would actually be 3d

260
00:11:58,620 --> 00:12:04,259
so meaning like the blocks and stuff I'm

261
00:12:01,379 --> 00:12:09,269
assuming would actually be in 3d so they

262
00:12:04,259 --> 00:12:13,080
they're not they're not ice isometric

263
00:12:09,269 --> 00:12:15,620
the lines aren't parallel right I should

264
00:12:13,080 --> 00:12:18,570
say it actually be in perspective right

265
00:12:15,620 --> 00:12:21,200
which is again exactly what we were sort

266
00:12:18,570 --> 00:12:24,540
of what exactly what we were working on

267
00:12:21,200 --> 00:12:26,220
now what I don't know is to what extent

268
00:12:24,539 --> 00:12:28,949
the person wants to be able to decorate

269
00:12:26,220 --> 00:12:30,330
with actual 3d elements like for example

270
00:12:28,950 --> 00:12:32,430
if you were to take something like this

271
00:12:30,330 --> 00:12:35,129
do you expect to be able to spin around

272
00:12:32,429 --> 00:12:37,589
and have this thing actually look 3d on

273
00:12:35,129 --> 00:12:41,009
the top like this pointy part actually

274
00:12:37,590 --> 00:12:42,600
look like a pyramid so I don't know to

275
00:12:41,009 --> 00:12:46,830
what extent they want additional

276
00:12:42,600 --> 00:12:49,920
primitives perhaps but for at least for

277
00:12:46,830 --> 00:12:51,389
us we don't really have much problem

278
00:12:49,919 --> 00:12:52,709
with additional primitives you could add

279
00:12:51,389 --> 00:12:54,419
additional primitives to our renderer

280
00:12:52,710 --> 00:12:56,269
very easily because we mostly just think

281
00:12:54,419 --> 00:12:58,199
about triangles and I mean quads

282
00:12:56,269 --> 00:13:00,029
anything made up of quads would just

283
00:12:58,200 --> 00:13:04,740
work if you wanted to add triangles - it

284
00:13:00,029 --> 00:13:05,939
wouldn't be hard right so that's

285
00:13:04,740 --> 00:13:07,470
actually not really that big of a

286
00:13:05,940 --> 00:13:09,810
problem either if they want to do that

287
00:13:07,470 --> 00:13:11,040
the only thing is again I don't know how

288
00:13:09,809 --> 00:13:13,529
much they really want to get into

289
00:13:11,039 --> 00:13:14,939
thinking about the 3d but maybe like I

290
00:13:13,529 --> 00:13:17,159
said they were hoping to work with

291
00:13:14,940 --> 00:13:19,350
somebody to make some modifications to

292
00:13:17,159 --> 00:13:20,610
the renderer anyway or to even to write

293
00:13:19,350 --> 00:13:21,720
a completely new renderer that was the

294
00:13:20,610 --> 00:13:22,800
thing they were originally looking for

295
00:13:21,720 --> 00:13:24,690
when I said hey maybe you could start

296
00:13:22,799 --> 00:13:27,750
with ours just so you don't have to do

297
00:13:24,690 --> 00:13:29,460
all that work so if we're talking about

298
00:13:27,750 --> 00:13:30,450
something like this and we look and we

299
00:13:29,460 --> 00:13:37,320
see what

300
00:13:30,450 --> 00:13:38,490
the real you know what do we do if we

301
00:13:37,320 --> 00:13:41,280
want to create a scene that looks like

302
00:13:38,490 --> 00:13:42,990
this but in 3d well first of all they'd

303
00:13:41,279 --> 00:13:44,819
have to use kind of ground cover sprites

304
00:13:42,990 --> 00:13:46,379
to produce a fuzz effect right because

305
00:13:44,820 --> 00:13:50,370
you can't really have a fuzzy effect

306
00:13:46,379 --> 00:13:52,169
like that it with actual 3d geometry you

307
00:13:50,370 --> 00:13:53,220
have to actually stick something with

308
00:13:52,169 --> 00:13:55,979
just basically you have to actually

309
00:13:53,220 --> 00:13:57,570
stick some fuzz up right you can use

310
00:13:55,980 --> 00:13:58,980
displacement mapping to I suppose if you

311
00:13:57,570 --> 00:14:02,100
wanted to but that might getting a

312
00:13:58,980 --> 00:14:03,060
little bit for our field so if you look

313
00:14:02,100 --> 00:14:04,500
at something this you know but let's

314
00:14:03,059 --> 00:14:06,269
assume we're just gonna do flat stuff

315
00:14:04,500 --> 00:14:08,100
for now and then if you want grasses on

316
00:14:06,269 --> 00:14:09,299
there you would plop some some sprites

317
00:14:08,100 --> 00:14:10,620
on to give it ground cover or something

318
00:14:09,299 --> 00:14:13,979
like that that's what we're doing in

319
00:14:10,620 --> 00:14:16,769
handmade Hiro and then you have big

320
00:14:13,980 --> 00:14:18,240
sprites for trees and let's just say

321
00:14:16,769 --> 00:14:19,829
we're not gonna think about stuff like

322
00:14:18,240 --> 00:14:21,840
this because we don't know what they

323
00:14:19,830 --> 00:14:24,810
would want you could just slap a sprite

324
00:14:21,840 --> 00:14:27,320
on there but then I you know maybe what

325
00:14:24,809 --> 00:14:29,729
you actually want is something more like

326
00:14:27,320 --> 00:14:31,830
actual geometry for stuff like this and

327
00:14:29,730 --> 00:14:33,000
you could do that in handmade here you

328
00:14:31,830 --> 00:14:35,639
could just build that up out of some

329
00:14:33,000 --> 00:14:37,289
cubes and that would work right we

330
00:14:35,639 --> 00:14:40,110
render it would just handle that just

331
00:14:37,289 --> 00:14:42,629
fine so again I don't really know

332
00:14:40,110 --> 00:14:44,519
getting further down what kind of stuff

333
00:14:42,629 --> 00:14:45,899
they were talking about but on the whole

334
00:14:44,519 --> 00:14:46,980
when I look at something like this and

335
00:14:45,899 --> 00:14:49,019
someone says we're going for something

336
00:14:46,980 --> 00:14:50,519
like this this is basically what the

337
00:14:49,019 --> 00:14:51,720
hand made here a renderer was already

338
00:14:50,519 --> 00:14:55,019
set up to do so I really don't think

339
00:14:51,720 --> 00:14:57,870
it's a problem right so what I want to

340
00:14:55,019 --> 00:14:59,309
do is move this thing towards just

341
00:14:57,870 --> 00:15:02,220
rendering a scene that looks basically

342
00:14:59,309 --> 00:15:04,489
like that and to do that I've got to be

343
00:15:02,220 --> 00:15:07,529
able to put some textures on the cubes

344
00:15:04,490 --> 00:15:09,419
and so that's all we're really gonna be

345
00:15:07,529 --> 00:15:12,629
doing curious focusing on that and that

346
00:15:09,419 --> 00:15:14,370
will lead us to doing the texturing

347
00:15:12,629 --> 00:15:17,460
better because I would like to do that

348
00:15:14,370 --> 00:15:20,399
as well all right so let's start by

349
00:15:17,460 --> 00:15:22,259
doing some simple things here let's go

350
00:15:20,399 --> 00:15:32,639
ahead and make something that's like you

351
00:15:22,259 --> 00:15:35,399
know render simple scene and this will

352
00:15:32,639 --> 00:15:41,480
just be something that takes you know

353
00:15:35,399 --> 00:15:44,350
the the camera having been set up and

354
00:15:41,480 --> 00:15:50,409
instead of calling push cube we'll just

355
00:15:44,350 --> 00:15:54,220
say render simple scene maybe we'll call

356
00:15:50,409 --> 00:15:57,279
it push simple scene and we'll pass that

357
00:15:54,220 --> 00:16:02,830
group down so this right here will take

358
00:15:57,279 --> 00:16:06,759
the render group and that way we can

359
00:16:02,830 --> 00:16:10,480
just say okay you know here's our little

360
00:16:06,759 --> 00:16:13,240
simple scene let's draw something simple

361
00:16:10,480 --> 00:16:14,440
enough right uh and let's make it a

362
00:16:13,240 --> 00:16:17,320
little bit more interesting so let's

363
00:16:14,440 --> 00:16:19,690
just draw a lot of cubes right let's

364
00:16:17,320 --> 00:16:22,600
start by drawing a fair number of cubes

365
00:16:19,690 --> 00:16:25,120
I will kind of just do what we used to

366
00:16:22,600 --> 00:16:26,860
do in a made hero when we make a good

367
00:16:25,120 --> 00:16:28,840
bunt you just told me they want to

368
00:16:26,860 --> 00:16:32,050
update perfect timing right I got

369
00:16:28,840 --> 00:16:34,360
nothing to do sure pop it up so I'm

370
00:16:32,049 --> 00:16:38,349
gonna go ahead and say let's loop over

371
00:16:34,360 --> 00:16:42,519
an X Y set place these things into the

372
00:16:38,350 --> 00:16:45,670
world and we'll go from there okay all

373
00:16:42,519 --> 00:16:49,299
right so let's say we've got an X index

374
00:16:45,669 --> 00:16:54,849
or just an X you know I don't know how

375
00:16:49,299 --> 00:17:01,269
many of these we want but we're just

376
00:16:54,850 --> 00:17:03,100
gonna make a grid here and by stepping

377
00:17:01,269 --> 00:17:06,970
along this grid we can just push cubes

378
00:17:03,100 --> 00:17:09,339
in here and we'll make those cubes have

379
00:17:06,970 --> 00:17:12,130
a little bit of variance to them

380
00:17:09,339 --> 00:17:14,949
so the first I'm going to do is set the

381
00:17:12,130 --> 00:17:18,730
cube position and that can just be like

382
00:17:14,950 --> 00:17:21,009
X Y Z you know and what I'll do is I'll

383
00:17:18,730 --> 00:17:23,319
say well the x position and the Y

384
00:17:21,009 --> 00:17:26,289
position can just be you know the meter

385
00:17:23,319 --> 00:17:29,230
right and then the Z position will be

386
00:17:26,289 --> 00:17:31,720
something else that we do here and for

387
00:17:29,230 --> 00:17:34,269
the moment it can be zero that's fine so

388
00:17:31,720 --> 00:17:36,339
now we've got a position we have a

389
00:17:34,269 --> 00:17:39,430
dimension the dimension I believe I

390
00:17:36,339 --> 00:17:41,139
think is the total dimension I don't

391
00:17:39,430 --> 00:17:43,269
know if it's a dimension or radius this

392
00:17:41,140 --> 00:17:44,740
is like NY pulling out the render is

393
00:17:43,269 --> 00:17:46,000
gonna be nice because I'd love to go

394
00:17:44,740 --> 00:17:48,160
through and take this opportunity we're

395
00:17:46,000 --> 00:17:50,650
done to like just say here's what the

396
00:17:48,160 --> 00:17:53,320
whole API is right what are what are

397
00:17:50,650 --> 00:17:55,390
things are they are they radii or are

398
00:17:53,319 --> 00:17:57,339
they dimensions right so here's this you

399
00:17:55,390 --> 00:17:58,040
know and just be uniform at all right so

400
00:17:57,339 --> 00:18:02,569
if it's radii

401
00:17:58,039 --> 00:18:05,000
1/2 meter on either side right and then

402
00:18:02,569 --> 00:18:08,419
here I could I could if I want to since

403
00:18:05,000 --> 00:18:10,250
this is a sea library thing I could make

404
00:18:08,420 --> 00:18:13,519
a little bit of variance in the Z right

405
00:18:10,250 --> 00:18:17,599
I could do a Rand and then you know

406
00:18:13,519 --> 00:18:22,039
divide that by Rand Max right that would

407
00:18:17,599 --> 00:18:24,169
give me a 0 to 1 variance in the Z and

408
00:18:22,039 --> 00:18:25,609
so I could then just get a little bit of

409
00:18:24,170 --> 00:18:29,830
variance in there so you can see the

410
00:18:25,609 --> 00:18:31,369
kind of cubes a little bit better right

411
00:18:29,829 --> 00:18:33,829
and off we go

412
00:18:31,369 --> 00:18:37,609
don't ask me why I thought I could set a

413
00:18:33,829 --> 00:18:40,309
negative value for an unsigned just

414
00:18:37,609 --> 00:18:43,159
hubris I guess so there we go and that's

415
00:18:40,309 --> 00:18:45,440
good that's all our cubes we now need a

416
00:18:43,160 --> 00:18:46,850
little bit more for our cubes probably

417
00:18:45,440 --> 00:18:48,470
to actually see them right we want some

418
00:18:46,849 --> 00:18:50,899
color variance in there because we're

419
00:18:48,470 --> 00:18:52,220
not slepak textures on them yet so in

420
00:18:50,900 --> 00:18:53,990
order to get color variants in there we

421
00:18:52,220 --> 00:18:57,079
want to just create a sort of a varied

422
00:18:53,990 --> 00:19:00,109
color let me just go ahead and produce a

423
00:18:57,079 --> 00:19:02,990
color here so what I'll do is I'll just

424
00:19:00,109 --> 00:19:06,469
say like oh yeah I don't know for now

425
00:19:02,990 --> 00:19:09,829
let's just set it to a gray that's based

426
00:19:06,470 --> 00:19:11,539
on the Z value of the thing and win a

427
00:19:09,829 --> 00:19:18,379
minute I'll make a better color I'm

428
00:19:11,539 --> 00:19:24,379
second here right oh right this random

429
00:19:18,380 --> 00:19:29,120
has to be seated properly for us how do

430
00:19:24,380 --> 00:19:33,980
I want to do that well I guess I'll just

431
00:19:29,119 --> 00:19:36,559
override that'll set the seed and that

432
00:19:33,980 --> 00:19:39,680
way we won't get any sparkles so if I

433
00:19:36,559 --> 00:19:45,230
put this in here yeah let me just let's

434
00:19:39,680 --> 00:19:47,990
just try something simple here so there

435
00:19:45,230 --> 00:19:55,789
we go now the color doesn't really seem

436
00:19:47,990 --> 00:19:59,299
to be changing as much as that should my

437
00:19:55,789 --> 00:20:02,129
interpreting that statement wrong Rand

438
00:19:59,299 --> 00:20:07,079
over R and Max and then the Z value

439
00:20:02,130 --> 00:20:09,210
oh that's good hey man if you make a

440
00:20:07,079 --> 00:20:12,029
color and you want to see it one thing

441
00:20:09,210 --> 00:20:15,900
you might consider is actually passing

442
00:20:12,029 --> 00:20:18,569
it to the routine all right so here's

443
00:20:15,900 --> 00:20:22,650
our world of cubes not very interesting

444
00:20:18,569 --> 00:20:26,129
obviously so that's fine so what I'm

445
00:20:22,650 --> 00:20:27,960
going to do now is just say that I'll

446
00:20:26,130 --> 00:20:31,860
put I'll put a very low variance in

447
00:20:27,960 --> 00:20:35,038
there I'm gonna call this like the

448
00:20:31,859 --> 00:20:38,879
r-value or something we'll put that in

449
00:20:35,038 --> 00:20:41,879
here so I'll say 8 plus that is R and

450
00:20:38,880 --> 00:20:48,090
then this will just be you know blue

451
00:20:41,880 --> 00:20:50,039
world for now so there we can see our

452
00:20:48,089 --> 00:20:51,298
cubes they're not quite distinct enough

453
00:20:50,038 --> 00:20:54,058
so maybe I'll give it a little bit more

454
00:20:51,298 --> 00:20:57,319
variance than that in the red Channel

455
00:20:54,058 --> 00:20:57,319
and off we go

456
00:20:57,569 --> 00:21:03,418
so once we've got blue world which is

457
00:21:01,169 --> 00:21:06,780
this thing then the next thing we want

458
00:21:03,419 --> 00:21:10,049
to kind of do here is give it a little

459
00:21:06,779 --> 00:21:12,058
bit of rotation there so we can just see

460
00:21:10,048 --> 00:21:14,099
what's going on and then probably also

461
00:21:12,058 --> 00:21:16,829
put a sprite in there somewhere I don't

462
00:21:14,099 --> 00:21:18,058
know where but off we go and then the

463
00:21:16,829 --> 00:21:20,788
main thing we just need to do from there

464
00:21:18,058 --> 00:21:22,500
honest textures right so if you're

465
00:21:20,788 --> 00:21:24,298
looking here we've got a Waialua Bowl

466
00:21:22,500 --> 00:21:26,069
running we set a bunch of stuff camera

467
00:21:24,298 --> 00:21:28,408
offset near clamp Bubba blah blah blah

468
00:21:26,069 --> 00:21:30,720
right well this stuff we kind of want to

469
00:21:28,409 --> 00:21:31,919
be able to update over time so what I'm

470
00:21:30,720 --> 00:21:34,798
going to do here is going to pull this

471
00:21:31,919 --> 00:21:36,419
out and I put it in here and then I'm

472
00:21:34,798 --> 00:21:38,730
gonna say that our camera orbit we're

473
00:21:36,419 --> 00:21:40,620
just gonna update periodically right so

474
00:21:38,730 --> 00:21:42,450
when we get down here to Sam seconds

475
00:21:40,619 --> 00:21:44,538
elapsed I'm going to take our camera

476
00:21:42,450 --> 00:21:47,130
orbit which is you know the the kind of

477
00:21:44,538 --> 00:21:49,859
spinning around the point that we're

478
00:21:47,130 --> 00:21:53,159
looking at I'm gonna take that camera

479
00:21:49,859 --> 00:21:55,319
orbit and I'm just gonna add the second

480
00:21:53,159 --> 00:21:58,890
celebs to it so we'll just kind of

481
00:21:55,319 --> 00:22:03,928
slowly kind of move around in that

482
00:21:58,890 --> 00:22:08,330
fashion oh my bad that is actually

483
00:22:03,929 --> 00:22:08,330
dependent on the window size

484
00:22:09,970 --> 00:22:15,370
so here we have you know exactly what

485
00:22:13,720 --> 00:22:18,700
you would expect right here is our 3d

486
00:22:15,369 --> 00:22:21,428
renderer rendering a cube scene that is

487
00:22:18,700 --> 00:22:24,819
again similar to the one that we looked

488
00:22:21,429 --> 00:22:27,429
at you know similar to this right and

489
00:22:24,819 --> 00:22:29,408
now we want to start putting in those

490
00:22:27,429 --> 00:22:32,700
textures and we want to start putting in

491
00:22:29,409 --> 00:22:35,710
you know like that tree for example and

492
00:22:32,700 --> 00:22:37,960
we can act like we can actually do

493
00:22:35,710 --> 00:22:40,390
literally you know basically that scene

494
00:22:37,960 --> 00:22:41,710
if we want to because we actually have

495
00:22:40,390 --> 00:22:45,100
some part from handmade here or we can

496
00:22:41,710 --> 00:22:47,140
just pull in we have a tree right and so

497
00:22:45,099 --> 00:22:51,099
what we want to do is is get that going

498
00:22:47,140 --> 00:22:53,649
so in order to do that I'm gonna first

499
00:22:51,099 --> 00:22:57,490
have to find a way to submit these

500
00:22:53,648 --> 00:22:59,168
textures right and so we know that we've

501
00:22:57,490 --> 00:23:00,579
got our current way of doing it and what

502
00:22:59,169 --> 00:23:01,990
I'm going to do is just gonna use the

503
00:23:00,579 --> 00:23:03,369
cart like I want to build this test up

504
00:23:01,990 --> 00:23:04,778
first I'm gonna use the stuff we

505
00:23:03,369 --> 00:23:07,898
currently have and then I'm gonna

506
00:23:04,778 --> 00:23:10,509
simplify it down as we go and update

507
00:23:07,898 --> 00:23:12,369
that API right because we know we've got

508
00:23:10,509 --> 00:23:14,140
the texture app stuff and we need to

509
00:23:12,369 --> 00:23:17,798
kind of like work on that a little bit

510
00:23:14,140 --> 00:23:18,640
to get it to where we need it to be so

511
00:23:17,798 --> 00:23:21,369
what I'm going to do is I'm going to

512
00:23:18,640 --> 00:23:22,929
pull that stuff over in here clean it up

513
00:23:21,369 --> 00:23:24,278
and get it down to something nice and

514
00:23:22,929 --> 00:23:26,380
simple and then in the meantime we'll

515
00:23:24,278 --> 00:23:27,640
also simplify the one that we're using

516
00:23:26,380 --> 00:23:30,640
in handmade hero because they're the

517
00:23:27,640 --> 00:23:32,970
same right so what we need here is we

518
00:23:30,640 --> 00:23:41,200
need one of these render or texture cues

519
00:23:32,970 --> 00:23:43,839
so I'm gonna go ahead and grab that what

520
00:23:41,200 --> 00:23:46,269
we want to do I think is make these be

521
00:23:43,839 --> 00:23:48,879
something that the renderer itself is

522
00:23:46,269 --> 00:23:51,579
responsible for creating for us so for

523
00:23:48,880 --> 00:23:55,570
example when we call win32 in it opened

524
00:23:51,579 --> 00:23:58,210
jail punches me I think what I want to

525
00:23:55,569 --> 00:24:01,240
be able to do is get back from win32

526
00:23:58,210 --> 00:24:03,159
init open jail or whatever does the

527
00:24:01,240 --> 00:24:05,109
rendering for open jail might be you

528
00:24:03,159 --> 00:24:06,370
know you know we've got to think about

529
00:24:05,109 --> 00:24:10,509
this kind of little bit more expansively

530
00:24:06,369 --> 00:24:12,729
perhaps you me but basically we want to

531
00:24:10,509 --> 00:24:15,779
do is have that OpenGL texture cube

532
00:24:12,730 --> 00:24:18,610
maybe be part of that system right so

533
00:24:15,779 --> 00:24:20,950
just I don't know if that's really the

534
00:24:18,609 --> 00:24:22,399
right thing to do I'm not sure yet

535
00:24:20,950 --> 00:24:24,319
but what I want to do is

536
00:24:22,400 --> 00:24:28,750
just make it so that that comes from

537
00:24:24,319 --> 00:24:32,119
somewhere logical so let's say we're in

538
00:24:28,750 --> 00:24:35,059
the OpenGL subsystem here right the way

539
00:24:32,119 --> 00:24:41,899
that would look is let's suppose it has

540
00:24:35,059 --> 00:24:45,079
the renderer texture cube here and so if

541
00:24:41,900 --> 00:24:47,960
you wanted to talk to the texture queue

542
00:24:45,079 --> 00:24:50,359
for OpenGL where you're submitting

543
00:24:47,960 --> 00:24:52,160
OpenGL textures then the police that

544
00:24:50,359 --> 00:24:54,019
that comes from is the same place that

545
00:24:52,160 --> 00:24:56,450
you look for like your OpenGL white

546
00:24:54,019 --> 00:24:59,569
bitmap for example right it's just off

547
00:24:56,450 --> 00:25:02,269
of the OpenGL object and I don't

548
00:24:59,569 --> 00:25:03,889
actually want to quite work that way

549
00:25:02,269 --> 00:25:05,779
eventually but for right now I'm just

550
00:25:03,890 --> 00:25:07,640
gonna push it over there and we'll think

551
00:25:05,779 --> 00:25:09,889
about it a little bit harder about where

552
00:25:07,640 --> 00:25:14,509
it lives once we have a little bit more

553
00:25:09,890 --> 00:25:16,250
information all right you can see us

554
00:25:14,509 --> 00:25:18,799
doing that right here like OpenGL white

555
00:25:16,250 --> 00:25:21,890
bitmap right so if I want to actually

556
00:25:18,799 --> 00:25:25,190
submit a texture to the texture queue

557
00:25:21,890 --> 00:25:31,340
again we did pull out the thing that

558
00:25:25,190 --> 00:25:33,200
does that it's right here so what I need

559
00:25:31,339 --> 00:25:36,799
to do is figure out where these texture

560
00:25:33,200 --> 00:25:42,350
ops come from right and what's

561
00:25:36,799 --> 00:25:45,500
interesting is I guess actually we don't

562
00:25:42,349 --> 00:25:48,529
that's just a copy right so really all

563
00:25:45,500 --> 00:25:49,759
we have to do is just add an OP with the

564
00:25:48,529 --> 00:25:52,579
thing that we were trying to load in

565
00:25:49,759 --> 00:25:55,129
right so here if I say all right I've

566
00:25:52,579 --> 00:25:57,500
got a cube texture I want to load that

567
00:25:55,130 --> 00:26:01,460
in all I have to do is say okay there's

568
00:25:57,500 --> 00:26:03,589
a texture up like upload or cube op I

569
00:26:01,460 --> 00:26:05,600
don't it will do something different

570
00:26:03,589 --> 00:26:06,799
with this in a second but um all I

571
00:26:05,599 --> 00:26:09,199
really have to do is just look at the

572
00:26:06,799 --> 00:26:12,950
renderer fill out the texture up to be

573
00:26:09,200 --> 00:26:21,850
the OP that I want right so is allocate

574
00:26:12,950 --> 00:26:26,700
is true and where is that

575
00:26:21,849 --> 00:26:26,699
right here I got to fill out the width

576
00:26:27,930 --> 00:26:42,279
the height and the data so the width of

577
00:26:39,609 --> 00:26:43,899
this thing we know is cube texture dot

578
00:26:42,279 --> 00:26:48,970
with because we've loaded the bitmap

579
00:26:43,900 --> 00:26:52,540
right there's the height the data is the

580
00:26:48,970 --> 00:26:53,980
cube textures memory and the only thing

581
00:26:52,539 --> 00:26:55,899
that I would point out here is we don't

582
00:26:53,980 --> 00:26:57,099
actually have a pitch so we're gonna

583
00:26:55,900 --> 00:26:58,720
have to make sure that the pitch

584
00:26:57,099 --> 00:27:00,609
actually works here now fortunately it

585
00:26:58,720 --> 00:27:01,870
does but we'll kind of we want to roll

586
00:27:00,609 --> 00:27:04,569
that in probably in a little bit

587
00:27:01,869 --> 00:27:07,239
slightly different way so then if I set

588
00:27:04,569 --> 00:27:11,619
the result texture here the result

589
00:27:07,240 --> 00:27:17,200
texture is going to be we have the

590
00:27:11,619 --> 00:27:21,359
renderer texture cube and this should

591
00:27:17,200 --> 00:27:21,360
really be cube bitmap right

592
00:27:26,659 --> 00:27:30,320
so this cube texture here is what we

593
00:27:28,519 --> 00:27:32,470
want to actually fill out so we just say

594
00:27:30,319 --> 00:27:36,499
like okay it's cube texture

595
00:27:32,470 --> 00:27:37,879
okay and that's the thing that we

596
00:27:36,499 --> 00:27:39,710
actually want to make sure that we

597
00:27:37,878 --> 00:27:45,969
process so then we go ahead and add that

598
00:27:39,710 --> 00:27:49,190
cube op and we put in here that you know

599
00:27:45,970 --> 00:27:50,990
whatever whatever the texture cubes that

600
00:27:49,190 --> 00:27:53,960
we want to cue it on so since we know

601
00:27:50,990 --> 00:28:02,990
that we're doing the texture Q of open

602
00:27:53,960 --> 00:28:06,110
gel that will do the queuing right so

603
00:28:02,990 --> 00:28:08,058
that's how we would cue one up and what

604
00:28:06,109 --> 00:28:10,819
we want is we actually want to queue

605
00:28:08,058 --> 00:28:15,138
that up earlier rather than later but it

606
00:28:10,819 --> 00:28:16,638
doesn't really matter so when we

607
00:28:15,138 --> 00:28:18,618
actually go to push this you know I

608
00:28:16,638 --> 00:28:20,898
could for example just push this in here

609
00:28:18,618 --> 00:28:22,609
and say okay now when we're doing push

610
00:28:20,898 --> 00:28:29,058
simple scene that will pass that cube

611
00:28:22,609 --> 00:28:32,868
texture in here under a texture cube

612
00:28:29,058 --> 00:28:34,819
texture and then I can just say like oh

613
00:28:32,868 --> 00:28:45,168
yeah you know put the put the cube

614
00:28:34,819 --> 00:28:48,470
texture on there right oh and last but

615
00:28:45,169 --> 00:28:51,889
not least when these if these are going

616
00:28:48,470 --> 00:28:54,350
to live in in like the open gel layer or

617
00:28:51,888 --> 00:28:56,719
wherever they're gonna live right then

618
00:28:54,349 --> 00:28:58,939
the texture we need a way to initialize

619
00:28:56,720 --> 00:29:01,278
the texture queue for whoever we're

620
00:28:58,940 --> 00:29:03,139
talking about here so now that stuff has

621
00:29:01,278 --> 00:29:05,388
to kind of move out of the win32

622
00:29:03,138 --> 00:29:07,579
handmade layer but that's great because

623
00:29:05,388 --> 00:29:12,048
that's exactly what I want to do right

624
00:29:07,579 --> 00:29:14,839
so all this stuff this stuff for the

625
00:29:12,048 --> 00:29:19,609
texture apps this wants to be actually

626
00:29:14,839 --> 00:29:23,269
in the the OpenGL sub system here right

627
00:29:19,609 --> 00:29:25,519
we want that part to be actually handled

628
00:29:23,269 --> 00:29:29,118
by the renderer proper if that makes

629
00:29:25,519 --> 00:29:31,878
sense so this right here should be a

630
00:29:29,118 --> 00:29:34,579
call-out right we instead of being in

631
00:29:31,878 --> 00:29:38,649
the win32 layer we actually want that to

632
00:29:34,579 --> 00:29:41,409
be so opengl managed textures right we

633
00:29:38,650 --> 00:29:49,300
she want OpenGL managed textures to be

634
00:29:41,410 --> 00:29:51,880
it's sort of own call and what you can

635
00:29:49,299 --> 00:29:53,500
see here is we've kind of got this is

636
00:29:51,880 --> 00:29:55,810
our OpenGL render commands and then we

637
00:29:53,500 --> 00:29:59,769
have OpenGL managed textures we want to

638
00:29:55,809 --> 00:30:01,000
stop doing that right that's not gonna

639
00:29:59,769 --> 00:30:04,900
be how we do it anymore

640
00:30:01,000 --> 00:30:07,630
we're gonna pull this itself into here

641
00:30:04,900 --> 00:30:10,540
so we're just gonna call opengl managed

642
00:30:07,630 --> 00:30:12,580
textures as a separate call that's every

643
00:30:10,539 --> 00:30:16,990
time we want that to occur

644
00:30:12,579 --> 00:30:19,269
okay so this comes in here as stuff that

645
00:30:16,990 --> 00:30:24,279
actually happens you can see it doing

646
00:30:19,269 --> 00:30:27,609
its its mutex ticketing right it pulls

647
00:30:24,279 --> 00:30:29,769
it off of here and then does the

648
00:30:27,609 --> 00:30:34,649
manufactures then puts it back on so

649
00:30:29,769 --> 00:30:39,750
what we want to do is say okay this

650
00:30:34,650 --> 00:30:45,910
process just goes right there so we

651
00:30:39,750 --> 00:30:48,670
start our ticketing we and by the way

652
00:30:45,910 --> 00:30:50,769
this is all based on the OpenGL sub

653
00:30:48,670 --> 00:30:53,710
system here so it's just it it's all

654
00:30:50,769 --> 00:30:56,710
using sort of the the implicit OpenGL

655
00:30:53,710 --> 00:30:58,930
global which we could now if we wanted

656
00:30:56,710 --> 00:31:00,819
to be more conscientious and actually

657
00:30:58,930 --> 00:31:03,250
pass into these few routines that

658
00:31:00,819 --> 00:31:04,720
actually use it which we may want to do

659
00:31:03,250 --> 00:31:07,150
as part of the pulling out process but

660
00:31:04,720 --> 00:31:08,769
that's kind of a separate issue so what

661
00:31:07,150 --> 00:31:15,940
we want to do here is say alright we

662
00:31:08,769 --> 00:31:21,160
know we've got a texture cue render a

663
00:31:15,940 --> 00:31:24,450
texture kid so the texture cue is just

664
00:31:21,160 --> 00:31:24,450
the OpenGL text okay

665
00:31:28,650 --> 00:31:33,930
and then what we want to do is these two

666
00:31:31,230 --> 00:31:34,829
operations now what you can see though

667
00:31:33,930 --> 00:31:36,960
that's very important about these

668
00:31:34,829 --> 00:31:40,769
operations OS I hope you can see about

669
00:31:36,960 --> 00:31:43,590
them is they are not tied to a renderer

670
00:31:40,769 --> 00:31:45,839
so no matter which render you were doing

671
00:31:43,589 --> 00:31:48,720
you would do these two operations DQ

672
00:31:45,839 --> 00:31:52,919
everything and then Riku the onto the

673
00:31:48,720 --> 00:31:54,839
free list right so what I want to do

674
00:31:52,920 --> 00:32:01,710
again is set ourselves up for success

675
00:31:54,839 --> 00:32:06,449
here add the those in as sort of utility

676
00:32:01,710 --> 00:32:13,920
functions right that you call so here I

677
00:32:06,450 --> 00:32:16,559
would say that first texture op and last

678
00:32:13,920 --> 00:32:18,500
texture op right I want to get those out

679
00:32:16,559 --> 00:32:20,970
here and I want to produce them here

680
00:32:18,500 --> 00:32:29,569
process them and then I'm going to put

681
00:32:20,970 --> 00:32:34,049
them back on to the free list right um

682
00:32:29,569 --> 00:32:35,939
last texture up next equals first free

683
00:32:34,049 --> 00:32:37,970
that chains it on and then texture has

684
00:32:35,940 --> 00:32:51,600
first yes so that changed it on right

685
00:32:37,970 --> 00:32:54,980
okay we go so this is gonna be a DQ and

686
00:32:51,599 --> 00:32:57,959
this is gonna be like an MQ free alright

687
00:32:54,980 --> 00:33:01,620
now what you'll notice about these is

688
00:32:57,960 --> 00:33:03,600
they really want to work with up for

689
00:33:01,619 --> 00:33:06,449
head and tail right they want to first

690
00:33:03,599 --> 00:33:08,339
and last and so what I'd like to do is

691
00:33:06,450 --> 00:33:11,509
introduce the concept here that those

692
00:33:08,339 --> 00:33:17,449
are sort of first class citizens write

693
00:33:11,509 --> 00:33:17,450
struct texture op list right

694
00:33:21,569 --> 00:33:29,500
those are the pending operations they

695
00:33:25,210 --> 00:33:37,470
look like that then these operations

696
00:33:29,500 --> 00:33:37,470
here actually return a list right so

697
00:33:37,740 --> 00:33:45,400
that not quite correct hold on one

698
00:33:40,599 --> 00:33:49,809
second so when we DQ and we'll call this

699
00:33:45,400 --> 00:33:52,210
DQ pending right we pass the texture up

700
00:33:49,809 --> 00:33:57,009
Q that we're talking about or I guess

701
00:33:52,210 --> 00:34:03,670
sorry renderer texture Q and what that

702
00:33:57,009 --> 00:34:07,690
does is it first takes the mutex then it

703
00:34:03,670 --> 00:34:12,039
extracts exactly what we just said we

704
00:34:07,690 --> 00:34:15,610
want it so result well actually it

705
00:34:12,039 --> 00:34:19,829
literally just does this result equals Q

706
00:34:15,610 --> 00:34:23,320
pending right and then Q pending was

707
00:34:19,829 --> 00:34:29,759
first equals zero cubed pending last

708
00:34:23,320 --> 00:34:32,650
equals zero and now it's good to go okay

709
00:34:29,760 --> 00:34:35,050
so we extract the list and then we clear

710
00:34:32,650 --> 00:34:37,750
the list then we're done so we release

711
00:34:35,050 --> 00:34:43,570
the mutex and let someone else have a

712
00:34:37,750 --> 00:34:45,519
party now the exact a sort of opposite

713
00:34:43,570 --> 00:34:48,190
process putting a list on is the thing

714
00:34:45,519 --> 00:34:49,659
we need here so we need an NQ free this

715
00:34:48,190 --> 00:34:52,450
is going to take the queue that we're

716
00:34:49,659 --> 00:34:56,219
putting the free list on and then we're

717
00:34:52,449 --> 00:34:59,259
gonna take the list in question right

718
00:34:56,219 --> 00:35:01,959
again first things first take the mutex

719
00:34:59,260 --> 00:35:05,500
so no one will accidentally update this

720
00:35:01,960 --> 00:35:07,210
while we are updating it mm-hmm

721
00:35:05,500 --> 00:35:08,820
and keep in mind there's different ways

722
00:35:07,210 --> 00:35:12,119
you can do these sorts of things right

723
00:35:08,820 --> 00:35:15,100
there's weight free ways of doing them

724
00:35:12,119 --> 00:35:17,279
where you never actually take a mutex a

725
00:35:15,099 --> 00:35:19,929
lot of times that's not really worth it

726
00:35:17,280 --> 00:35:23,350
if you only had taken mutex for like

727
00:35:19,929 --> 00:35:25,269
three or four cycles or something you

728
00:35:23,349 --> 00:35:27,190
don't have to maybe think about it quite

729
00:35:25,269 --> 00:35:29,320
that hard if you're gonna take a mutex

730
00:35:27,190 --> 00:35:30,460
for a really long time sometimes you do

731
00:35:29,320 --> 00:35:31,670
have thing about that art or if it's

732
00:35:30,460 --> 00:35:33,440
heavily contended

733
00:35:31,670 --> 00:35:35,329
those that's really not the situation

734
00:35:33,440 --> 00:35:37,249
here so I don't suspect we will ever

735
00:35:35,329 --> 00:35:38,630
have to care so usually the safest thing

736
00:35:37,248 --> 00:35:40,419
to do at that point is just use a nice

737
00:35:38,630 --> 00:35:42,349
ticketed mutex be simple about it

738
00:35:40,420 --> 00:35:43,909
because then you're not going to

739
00:35:42,349 --> 00:35:47,420
introduce subtle bugs that are very hard

740
00:35:43,909 --> 00:35:49,278
to find so when you're doing something

741
00:35:47,420 --> 00:35:50,720
very simple like this it's usually best

742
00:35:49,278 --> 00:35:52,548
to start off with a simple ticketing

743
00:35:50,719 --> 00:35:54,139
scheme and then if you really find you

744
00:35:52,548 --> 00:35:57,498
need to do something much more clever

745
00:35:54,139 --> 00:35:58,248
you can look at that later on all right

746
00:35:57,498 --> 00:36:01,459
um

747
00:35:58,248 --> 00:36:03,858
so coming through here we then have the

748
00:36:01,460 --> 00:36:06,470
the free the free is going to do the

749
00:36:03,858 --> 00:36:08,449
operations that exactly say my purchase

750
00:36:06,469 --> 00:36:12,558
that we're doing before what we want to

751
00:36:08,449 --> 00:36:16,298
do is first take the lists the last

752
00:36:12,559 --> 00:36:18,920
thing in the lists next parameter and

753
00:36:16,298 --> 00:36:25,608
put whatever was currently on the free

754
00:36:18,920 --> 00:36:30,369
list chained off of that like so then

755
00:36:25,608 --> 00:36:35,298
what we want to do is take whatever the

756
00:36:30,369 --> 00:36:36,858
the last pointer actually is oh sorry

757
00:36:35,298 --> 00:36:41,268
whatever the first pointer actually was

758
00:36:36,858 --> 00:36:42,798
that one that we've just set with the

759
00:36:41,268 --> 00:36:45,229
one that we just sort of chained on to

760
00:36:42,798 --> 00:36:48,980
we want that to now point to our head

761
00:36:45,230 --> 00:36:53,059
because that's the new first part of the

762
00:36:48,980 --> 00:36:57,349
list right now obviously if someone

763
00:36:53,059 --> 00:36:59,749
tells us to include has nothing on it we

764
00:36:57,349 --> 00:37:01,609
don't want to even take the mutex right

765
00:36:59,748 --> 00:37:03,018
not only do we not want to do this

766
00:37:01,608 --> 00:37:04,248
because we would crash because we'd be

767
00:37:03,018 --> 00:37:06,768
looking at the last pointer which we

768
00:37:04,248 --> 00:37:08,449
don't want to do but we actually don't

769
00:37:06,768 --> 00:37:11,209
even we don't really want to do anything

770
00:37:08,449 --> 00:37:15,429
right and I'll actually just use last

771
00:37:11,210 --> 00:37:20,480
time here that's the thing we would hit

772
00:37:15,429 --> 00:37:24,440
so in queueing free just does this DQ

773
00:37:20,480 --> 00:37:28,489
pending just does this we could check to

774
00:37:24,440 --> 00:37:30,289
see if the queue pending first actually

775
00:37:28,489 --> 00:37:32,509
was nonzero before entering here it's a

776
00:37:30,289 --> 00:37:35,359
slight optimisation it doesn't it's not

777
00:37:32,509 --> 00:37:36,769
perfect because until you take the mutex

778
00:37:35,358 --> 00:37:39,650
you don't know if someone else going to

779
00:37:36,768 --> 00:37:41,949
override it so I'd rather just do it on

780
00:37:39,650 --> 00:37:44,900
the mutex to avoid possible

781
00:37:41,949 --> 00:37:47,868
miscommunication between folks

782
00:37:44,900 --> 00:37:53,660
mm-hmm so I'm just gonna leave it like

783
00:37:47,869 --> 00:37:56,210
this so now we've got kind of a cleaner

784
00:37:53,659 --> 00:38:00,139
a nice clean looking version of this

785
00:37:56,210 --> 00:38:07,220
here are our pending opps we just say DQ

786
00:38:00,139 --> 00:38:09,650
pending on our queue we then say if the

787
00:38:07,219 --> 00:38:12,828
pending well we don't even really need

788
00:38:09,650 --> 00:38:16,579
to do that I mean this is what we want

789
00:38:12,829 --> 00:38:21,798
right we just say all right loop over

790
00:38:16,579 --> 00:38:23,619
all of them do them and then when we're

791
00:38:21,798 --> 00:38:29,420
done this list is the free list now

792
00:38:23,619 --> 00:38:31,789
right done and so that looks really nice

793
00:38:29,420 --> 00:38:33,710
because now everybody who wants to use

794
00:38:31,789 --> 00:38:36,079
these in any renderer who needs to

795
00:38:33,710 --> 00:38:38,389
process a texture queue like that can

796
00:38:36,079 --> 00:38:40,579
just use these so the D 3d render could

797
00:38:38,389 --> 00:38:44,379
use this software renderer could use

798
00:38:40,579 --> 00:38:48,289
this and it all would just be fine right

799
00:38:44,380 --> 00:38:50,749
so that's you know why I want to pull

800
00:38:48,289 --> 00:38:54,799
that part out so that it makes a little

801
00:38:50,748 --> 00:38:56,088
bit more sense all right so let's go

802
00:38:54,798 --> 00:38:57,679
ahead and clean up the parts that will

803
00:38:56,088 --> 00:39:03,108
now be a little bit broken because we

804
00:38:57,679 --> 00:39:05,509
did that what does that doesn't does it

805
00:39:03,108 --> 00:39:08,768
not know that is what is the problem

806
00:39:05,509 --> 00:39:08,769
identify enough found

807
00:39:11,710 --> 00:39:22,358
I just need to tell you about it ahead

808
00:39:16,150 --> 00:39:24,480
of time because I can do that there we

809
00:39:22,358 --> 00:39:24,480
go

810
00:39:24,989 --> 00:39:30,459
okay so now we get to the part where

811
00:39:28,869 --> 00:39:33,880
we're actually trying to push an op on

812
00:39:30,460 --> 00:39:40,720
here we have taken the mutex at that

813
00:39:33,880 --> 00:39:43,000
point and looks like everything here is

814
00:39:40,719 --> 00:39:46,209
pretty straightforward so all we really

815
00:39:43,000 --> 00:39:48,900
want to do here is say okay this stuff

816
00:39:46,210 --> 00:39:52,210
that used to be linking this on here

817
00:39:48,900 --> 00:39:54,430
this is really just now off of that

818
00:39:52,210 --> 00:39:56,679
pending list but everything else it's

819
00:39:54,429 --> 00:39:59,368
the same code we haven't changed any of

820
00:39:56,679 --> 00:39:59,368
how it works right

821
00:40:07,449 --> 00:40:19,049
Oh No why we left that on there all

822
00:40:16,179 --> 00:40:22,960
right um

823
00:40:19,050 --> 00:40:37,030
DQ pending did I mess up the cut and

824
00:40:22,960 --> 00:40:40,079
paste is that not getting included for

825
00:40:37,030 --> 00:40:49,510
some reason who is who's complaining

826
00:40:40,079 --> 00:40:55,059
first of all because I thought these

827
00:40:49,510 --> 00:41:00,190
were now included and maybe they aren't

828
00:40:55,059 --> 00:41:04,630
I guess this is not included by the

829
00:41:00,190 --> 00:41:06,490
win32 layer anymore which I guess makes

830
00:41:04,630 --> 00:41:09,430
sense there's nothing in else in here

831
00:41:06,489 --> 00:41:11,619
that it actually needed so I'm not sure

832
00:41:09,429 --> 00:41:13,299
how I want to deal with that I mean one

833
00:41:11,619 --> 00:41:15,609
way I could deal with that I suppose is

834
00:41:13,300 --> 00:41:18,340
just pushing them up here I'm not sure

835
00:41:15,610 --> 00:41:22,480
how I how much I really like that but

836
00:41:18,340 --> 00:41:25,000
it's eminently doable but point being

837
00:41:22,480 --> 00:41:26,610
now if I'm gonna just double check to

838
00:41:25,000 --> 00:41:30,519
make sure that we're still running okay

839
00:41:26,610 --> 00:41:31,870
on win32 handmade so those textures I

840
00:41:30,519 --> 00:41:41,159
want to still make sure they're uploaded

841
00:41:31,869 --> 00:41:47,130
oh man and the answer is no oh

842
00:41:41,159 --> 00:41:49,179
we're not we're not initializing it I

843
00:41:47,130 --> 00:41:51,910
still didn't do the thing that I said I

844
00:41:49,179 --> 00:41:53,529
need to do so the last thing we need to

845
00:41:51,909 --> 00:41:55,989
do is actually have that initializer

846
00:41:53,530 --> 00:42:00,400
occur right so the texture op Q is

847
00:41:55,989 --> 00:42:04,179
actually down here right this thing that

848
00:42:00,400 --> 00:42:06,639
initializes the Q also has to be you

849
00:42:04,179 --> 00:42:14,799
know something that that can operate in

850
00:42:06,639 --> 00:42:19,940
here so we need this to initialize the

851
00:42:14,800 --> 00:42:30,019
texture cube and yeah like I don't know

852
00:42:19,940 --> 00:42:34,519
there's any particular reason just

853
00:42:30,019 --> 00:42:36,500
looking at it basically when we emit

854
00:42:34,519 --> 00:42:48,009
open gel it could just call this I'm

855
00:42:36,500 --> 00:42:48,010
thinking if we just do it like that

856
00:42:49,210 --> 00:42:55,970
really what we need here is just some

857
00:42:52,190 --> 00:42:58,519
way of allocating things right and so

858
00:42:55,969 --> 00:43:01,329
when we initialize the texture queue I

859
00:42:58,519 --> 00:43:09,679
suppose what I could do is you pass in

860
00:43:01,329 --> 00:43:11,989
the texture op count and you pass in the

861
00:43:09,679 --> 00:43:14,690
memory and then it would just string

862
00:43:11,989 --> 00:43:17,349
them together for you so you would do

863
00:43:14,690 --> 00:43:17,349
something like this

864
00:43:17,380 --> 00:43:20,679
[Music]

865
00:43:28,980 --> 00:43:42,369
you would do something like this and

866
00:43:31,059 --> 00:43:57,400
then you would say that the yeah that's

867
00:43:42,369 --> 00:43:59,980
the texture cue so has however many

868
00:43:57,400 --> 00:44:16,210
texture operations you would like it to

869
00:43:59,980 --> 00:44:18,070
have and has those from here I think

870
00:44:16,210 --> 00:44:35,679
that's roughly what we're talking about

871
00:44:18,070 --> 00:44:37,750
now right and I'm I'm not 100% on board

872
00:44:35,679 --> 00:44:40,809
with that quite yet so there's a little

873
00:44:37,750 --> 00:44:43,599
bit more than I probably want to do in

874
00:44:40,809 --> 00:44:49,170
terms of how that is actually pulled out

875
00:44:43,599 --> 00:44:49,170
what's going on here texture up count

876
00:44:50,250 --> 00:44:56,190
wise I've waited from that cut and paste

877
00:45:11,239 --> 00:45:19,139
thinking but before I finish I've got to

878
00:45:15,840 --> 00:45:20,820
actually make this thing be back the way

879
00:45:19,139 --> 00:45:22,829
it started so here when we have the

880
00:45:20,820 --> 00:45:31,559
first free it's always thinking about

881
00:45:22,829 --> 00:45:34,079
that as having being initialized to the

882
00:45:31,559 --> 00:45:43,889
texture upper right so I just gotta set

883
00:45:34,079 --> 00:45:54,029
that initial pointer so that's I'm not

884
00:45:43,889 --> 00:45:55,079
sure how I feel about I'm not sure how I

885
00:45:54,030 --> 00:45:56,940
feel about that

886
00:45:55,079 --> 00:45:58,829
I'm gonna leave it that way temporarily

887
00:45:56,940 --> 00:46:01,800
but there's some things that I don't

888
00:45:58,829 --> 00:46:05,279
love about the way that would work and

889
00:46:01,800 --> 00:46:09,720
so I'm probably gonna revisit that when

890
00:46:05,280 --> 00:46:11,490
we actually go to do a cleanup pass on

891
00:46:09,719 --> 00:46:15,838
how we want initialization to work I

892
00:46:11,489 --> 00:46:18,029
just I'm not I'm not a hundred percent

893
00:46:15,838 --> 00:46:20,820
sure how I want to do that but point

894
00:46:18,030 --> 00:46:23,460
being this code can now be executed in

895
00:46:20,820 --> 00:46:27,630
here as well right so we can say how

896
00:46:23,460 --> 00:46:33,199
many texture ups we want we can get

897
00:46:27,630 --> 00:46:43,970
ourselves a texture cube and oops

898
00:46:33,199 --> 00:46:43,969
initialize it to allocate memory yet

899
00:46:48,349 --> 00:46:56,179
so we can initialize our own texture

900
00:46:50,610 --> 00:46:58,410
queue in here now and we can also call

901
00:46:56,179 --> 00:47:14,750
the thing that actually processes the

902
00:46:58,409 --> 00:47:17,309
textures so we can also if we want to

903
00:47:14,750 --> 00:47:19,500
bake that into the OpenGL render

904
00:47:17,309 --> 00:47:23,099
commands it could just choose to do it I

905
00:47:19,500 --> 00:47:27,659
don't know like how we want to look at

906
00:47:23,099 --> 00:47:30,210
that and that's again when we clean up

907
00:47:27,659 --> 00:47:31,559
the API we can decide what we really

908
00:47:30,210 --> 00:47:35,519
want to do there cuz I don't necessarily

909
00:47:31,559 --> 00:47:36,779
know what we want to do there and you

910
00:47:35,519 --> 00:47:40,070
know it might be just simpler for the

911
00:47:36,780 --> 00:47:42,900
user if just you call one thing and that

912
00:47:40,070 --> 00:47:45,150
launches your texture uploads you lose a

913
00:47:42,900 --> 00:47:49,920
little bit of ability to to do that

914
00:47:45,150 --> 00:47:53,400
elsewhere but you know whatever um so

915
00:47:49,920 --> 00:47:56,220
anyway as you can see not a big deal it

916
00:47:53,400 --> 00:47:58,980
just works and off we go

917
00:47:56,219 --> 00:48:01,469
and so now really what we need to do is

918
00:47:58,980 --> 00:48:04,079
start thinking about how we're actually

919
00:48:01,469 --> 00:48:07,019
gonna texture these cubes and giving the

920
00:48:04,079 --> 00:48:10,139
user maybe some more ability to control

921
00:48:07,019 --> 00:48:11,820
like how they place things onto cubes

922
00:48:10,139 --> 00:48:13,259
because that would be something that you

923
00:48:11,820 --> 00:48:14,880
would want to do I don't know how much

924
00:48:13,260 --> 00:48:18,170
we'll use of that I'm hand made here

925
00:48:14,880 --> 00:48:18,170
because we could probably just use one

926
00:48:20,329 --> 00:48:25,980
we could probably just use one very

927
00:48:22,860 --> 00:48:28,680
simple tiling method and just have all

928
00:48:25,980 --> 00:48:30,260
of our bitmaps conform to it but who

929
00:48:28,679 --> 00:48:36,239
knows maybe we would want something

930
00:48:30,260 --> 00:48:39,590
fancier than that - I don't know so you

931
00:48:36,239 --> 00:48:41,939
know let's let's just go ahead and and

932
00:48:39,590 --> 00:48:45,480
do a little bit more here I'm gonna drop

933
00:48:41,940 --> 00:48:48,119
in the art directory take a look at what

934
00:48:45,480 --> 00:48:51,690
we've got so we've got a forest block

935
00:48:48,119 --> 00:48:54,900
there that maybe maybe I might want to

936
00:48:51,690 --> 00:48:59,720
drop in there and I'm just gonna grab

937
00:48:54,900 --> 00:49:03,079
like one of them trees these are orphans

938
00:48:59,719 --> 00:49:08,509
is not what I wanted I know there's some

939
00:49:03,079 --> 00:49:21,909
trees in your summer so those are the

940
00:49:08,510 --> 00:49:21,910
grasses yeah so so

941
00:49:33,358 --> 00:49:46,588
so let's grab one of these and like this

942
00:49:41,880 --> 00:49:48,150
this like poofy tree this like poufy

943
00:49:46,588 --> 00:49:51,088
tree here kind of looks a little bit

944
00:49:48,150 --> 00:49:53,660
like sort of the thing that was in the

945
00:49:51,088 --> 00:49:58,288
other one like that's reasonably close

946
00:49:53,659 --> 00:50:00,478
so I'm just going to grab it with with

947
00:49:58,289 --> 00:50:05,789
the magical crop tool that I was having

948
00:50:00,478 --> 00:50:12,328
trouble finding before and then what I'm

949
00:50:05,789 --> 00:50:15,749
going to do is miss Gail it I'm gonna

950
00:50:12,329 --> 00:50:20,249
scale it down to 512 on its longest

951
00:50:15,748 --> 00:50:24,328
dimension and then I'm gonna set the

952
00:50:20,248 --> 00:50:26,728
canvas size to 512 so that it's 512 in

953
00:50:24,329 --> 00:50:29,359
and then just has a bunch of empty space

954
00:50:26,728 --> 00:50:29,358
around it right

955
00:50:35,760 --> 00:50:43,500
although actually I think about it we

956
00:50:39,389 --> 00:50:45,809
probably don't want to do that I'm gonna

957
00:50:43,500 --> 00:50:48,780
take that back I'm actually gonna keep

958
00:50:45,809 --> 00:50:52,349
this tightly bounded and I'm gonna

959
00:50:48,780 --> 00:50:52,860
export it as it is we'll talk about that

960
00:50:52,349 --> 00:50:54,900
later

961
00:50:52,860 --> 00:50:57,539
so I'm gonna go into the data directory

962
00:50:54,900 --> 00:51:07,190
here in renderer test I'm gonna call

963
00:50:57,539 --> 00:51:10,650
this tree test dot BMP there we go

964
00:51:07,190 --> 00:51:17,820
I'm gonna open hmm

965
00:51:10,650 --> 00:51:20,730
I think it's block forest so I'm gonna

966
00:51:17,820 --> 00:51:24,890
open block forest and I'm gonna export

967
00:51:20,730 --> 00:51:24,889
that as well

968
00:51:36,260 --> 00:51:47,770
and we'll just call that something like

969
00:51:45,590 --> 00:51:47,769
that

970
00:51:52,780 --> 00:52:09,780
yeah um and just looking here so this

971
00:52:00,699 --> 00:52:09,779
will be like tests right head test

972
00:52:09,989 --> 00:52:28,079
sprite tree test right and then I'm just

973
00:52:25,300 --> 00:52:30,670
gonna try throwing those in there

974
00:52:28,079 --> 00:52:33,039
not that's that's really all we're

975
00:52:30,670 --> 00:52:38,500
talking about uh so I'm going to close

976
00:52:33,039 --> 00:52:41,949
this down and that down and then I'm

977
00:52:38,500 --> 00:52:46,679
just gonna load these bitmaps so if you

978
00:52:41,949 --> 00:52:52,480
look at this what we want to do here

979
00:52:46,679 --> 00:52:55,690
know why open render test age when we do

980
00:52:52,480 --> 00:52:59,619
a load BMP we really don't want to load

981
00:52:55,690 --> 00:53:02,200
a BMP for any reason what I actually

982
00:52:59,619 --> 00:53:06,519
want to do is just get a texture right I

983
00:53:02,199 --> 00:53:11,500
don't care about loading a bitmap I care

984
00:53:06,519 --> 00:53:13,900
about loading a texture right

985
00:53:11,500 --> 00:53:19,090
and so what I'd rather do here is just

986
00:53:13,900 --> 00:53:25,300
be able to say like get do this every

987
00:53:19,090 --> 00:53:28,420
time you know so that's what I'm gonna

988
00:53:25,300 --> 00:53:32,980
do and I'm gonna say that we then have

989
00:53:28,420 --> 00:53:37,539
like a renderer texture that is the cube

990
00:53:32,980 --> 00:53:41,130
texture and that's like test I don't

991
00:53:37,539 --> 00:53:45,070
know what I call that test cube grass

992
00:53:41,130 --> 00:53:48,090
right so there's our and I'll call this

993
00:53:45,070 --> 00:53:48,090
grass texture let's say

994
00:53:51,699 --> 00:53:57,259
so assuming that we've got a test cube

995
00:53:54,619 --> 00:53:59,150
grass we call in there and and and you

996
00:53:57,260 --> 00:54:06,200
know who knows whatever happens happens

997
00:53:59,150 --> 00:54:07,700
uh what I need to do now is I need to

998
00:54:06,199 --> 00:54:09,319
actually have some place to store this

999
00:54:07,699 --> 00:54:12,079
now remember this is a write back

1000
00:54:09,320 --> 00:54:14,450
situation so I can't just do this

1001
00:54:12,079 --> 00:54:17,029
because nothing will happen now I could

1002
00:54:14,449 --> 00:54:19,279
if I forced a texture management op to

1003
00:54:17,030 --> 00:54:22,910
happen right here but maybe I don't want

1004
00:54:19,280 --> 00:54:27,470
to do that right it's hard to say

1005
00:54:22,909 --> 00:54:31,789
whether I do or I don't you know you

1006
00:54:27,469 --> 00:54:35,149
could put this right here and then that

1007
00:54:31,789 --> 00:54:35,719
would submit it and this would be

1008
00:54:35,150 --> 00:54:37,970
correct

1009
00:54:35,719 --> 00:54:39,949
and again we'll have to play with how we

1010
00:54:37,969 --> 00:54:42,829
think we want that to go it's nice that

1011
00:54:39,949 --> 00:54:44,599
you can do that but you don't want to

1012
00:54:42,829 --> 00:54:48,710
have to and so like I could probably

1013
00:54:44,599 --> 00:54:52,639
demo both versions but anyway um so if I

1014
00:54:48,710 --> 00:54:56,179
go ahead and compile this now so in here

1015
00:54:52,639 --> 00:55:05,839
about what we want to do is get the

1016
00:54:56,179 --> 00:55:10,449
result we're gonna use and change loaded

1017
00:55:05,840 --> 00:55:10,450
bitmap here to render or texture

1018
00:55:12,349 --> 00:55:20,269
ah yeah so now we've got our our ground

1019
00:55:18,440 --> 00:55:23,480
with the with like the grass texture on

1020
00:55:20,269 --> 00:55:26,750
it or whatever right and the only thing

1021
00:55:23,480 --> 00:55:27,980
that's a little bit so there's there's a

1022
00:55:26,750 --> 00:55:30,199
few things about it but the only thing

1023
00:55:27,980 --> 00:55:32,240
that's a little bit like janky now is we

1024
00:55:30,199 --> 00:55:33,949
don't really have the mapping on the

1025
00:55:32,239 --> 00:55:37,699
cube so it doesn't really make it's like

1026
00:55:33,949 --> 00:55:39,829
totally doesn't make any sense right um

1027
00:55:37,699 --> 00:55:42,439
so what we want to do is probably you

1028
00:55:39,829 --> 00:55:43,730
know make that mapping make a little bit

1029
00:55:42,440 --> 00:55:45,289
more sense but then we want to start

1030
00:55:43,730 --> 00:55:47,119
sticking like some sprites on it so I'm

1031
00:55:45,289 --> 00:55:49,369
gonna do the sprite part first because

1032
00:55:47,119 --> 00:55:50,630
that's getting the rest of the API calls

1033
00:55:49,369 --> 00:55:56,960
in there which is what I was kind of

1034
00:55:50,630 --> 00:56:10,360
trying to go for there and so I need to

1035
00:55:56,960 --> 00:56:13,250
load like that tree test bright tree

1036
00:56:10,360 --> 00:56:15,230
sooo if I load the tree in here and I've

1037
00:56:13,250 --> 00:56:19,239
got this tree texture I can now pass

1038
00:56:15,230 --> 00:56:19,240
that tree texture here

1039
00:56:28,469 --> 00:56:34,419
and what I want to do is inside here

1040
00:56:31,809 --> 00:56:36,460
occasionally I want to put a tree in so

1041
00:56:34,420 --> 00:56:38,108
I don't know like how I should really

1042
00:56:36,460 --> 00:56:40,119
put a tree and we probably want to make

1043
00:56:38,108 --> 00:56:43,960
something a little smarter than this but

1044
00:56:40,119 --> 00:56:46,599
I'm just gonna do a rant choice here so

1045
00:56:43,960 --> 00:56:51,449
basically like if you know R and mod 10

1046
00:56:46,599 --> 00:56:53,800
equals 3 because it rhymes with tree

1047
00:56:51,449 --> 00:56:56,169
every 10th Square will put a tree in

1048
00:56:53,800 --> 00:56:58,210
there right and then it can exact the

1049
00:56:56,170 --> 00:57:00,519
number 10 up to whatever we end up

1050
00:56:58,210 --> 00:57:03,400
actually wanted in terms of sparseness

1051
00:57:00,519 --> 00:57:06,429
of our tree right not not rocket science

1052
00:57:03,400 --> 00:57:12,510
here and so then I can go into renderer

1053
00:57:06,429 --> 00:57:16,899
and look at the push bitmap call um

1054
00:57:12,510 --> 00:57:18,849
bitmap is in here somewhere right well I

1055
00:57:16,900 --> 00:57:30,430
thought it was volume at lying

1056
00:57:18,849 --> 00:57:32,410
push rekt no not push rekt push quad so

1057
00:57:30,429 --> 00:57:36,299
I guess the only place we actually have

1058
00:57:32,409 --> 00:57:36,299
that at the moment is an asset rendering

1059
00:57:37,530 --> 00:57:40,950
rights this thing

1060
00:57:43,789 --> 00:57:52,940
and so when we actually push the bitmap

1061
00:57:45,739 --> 00:57:58,219
on this is the code that actually does

1062
00:57:52,940 --> 00:58:00,048
that right and what this stuff mate is

1063
00:57:58,219 --> 00:58:05,230
probably wants to be part of the

1064
00:58:00,048 --> 00:58:05,230
renderer proper right all of this stuff

1065
00:58:14,239 --> 00:58:21,108
so I kind of feel like what we want to

1066
00:58:16,608 --> 00:58:24,319
do here is pass the like have a way of

1067
00:58:21,108 --> 00:58:26,949
doing this call that doesn't rely on

1068
00:58:24,320 --> 00:58:29,930
knowing a particular format for a bitmap

1069
00:58:26,949 --> 00:58:34,368
so something that has all of the

1070
00:58:29,929 --> 00:58:37,608
contents that you would want here right

1071
00:58:34,369 --> 00:58:41,030
so we've got kind of different ways of

1072
00:58:37,608 --> 00:58:47,509
doing the transform of the object and

1073
00:58:41,030 --> 00:58:50,240
all that stuff I think that's what we

1074
00:58:47,510 --> 00:58:54,500
want so let's suppose that we were going

1075
00:58:50,239 --> 00:58:56,929
to do that here how would we go about it

1076
00:58:54,500 --> 00:59:00,440
so inside the renderer we need a call

1077
00:58:56,929 --> 00:59:02,960
now when we push things we need a call

1078
00:59:00,440 --> 00:59:05,809
that subsidy does this but that doesn't

1079
00:59:02,960 --> 00:59:15,440
rely on a specific data layout to get

1080
00:59:05,809 --> 00:59:19,719
there right so in here we would need a

1081
00:59:15,440 --> 00:59:25,909
thing that says I'm gonna give you a

1082
00:59:19,719 --> 00:59:28,009
renderer texture and I'm gonna give you

1083
00:59:25,909 --> 00:59:35,059
all of the information that you would

1084
00:59:28,010 --> 00:59:39,339
have needed in this case to produce you

1085
00:59:35,059 --> 00:59:39,338
know whatever we're gonna do here right

1086
00:59:40,300 --> 00:59:45,260
yeah and so that's a pretty big package

1087
00:59:43,369 --> 00:59:48,980
of information like there's a lot of

1088
00:59:45,260 --> 00:59:53,390
stuff that has to go into that so for

1089
00:59:48,980 --> 00:59:55,719
example we've got the the UV information

1090
00:59:53,389 --> 00:59:55,719
here

1091
01:00:08,250 --> 01:00:21,179
oh and there's the like weird sort of

1092
01:00:10,739 --> 01:00:24,349
one texture okay so if you look at

1093
01:00:21,179 --> 01:00:30,210
what's happening there that's actually

1094
01:00:24,349 --> 01:00:32,339
shrinking the UV by one that's a if you

1095
01:00:30,210 --> 01:00:35,280
remember what that's from that's from a

1096
01:00:32,340 --> 01:00:37,980
very old school thing where we wanted

1097
01:00:35,280 --> 01:00:39,330
our textures to have an additional one

1098
01:00:37,980 --> 01:00:43,289
pixel border that you could fetch

1099
01:00:39,329 --> 01:00:44,849
outside of 4pi linear we don't have to

1100
01:00:43,289 --> 01:00:47,610
do that anymore because the software

1101
01:00:44,849 --> 01:00:49,980
renderer now gets an upload step so what

1102
01:00:47,610 --> 01:00:53,010
that upload step could actually do is

1103
01:00:49,980 --> 01:00:55,349
move the texture into a bordered region

1104
01:00:53,010 --> 01:00:57,960
because that's the prep it needs to do

1105
01:00:55,349 --> 01:00:59,309
that's its texture upload which is what

1106
01:00:57,960 --> 01:01:02,159
I would prefer because we don't really

1107
01:00:59,309 --> 01:01:05,329
want to be doing a one texel shrink on

1108
01:01:02,159 --> 01:01:05,329
our bitmaps

1109
01:01:14,530 --> 01:01:20,109
at least not for any reason that I could

1110
01:01:17,358 --> 01:01:20,108
think of offhand

1111
01:01:34,199 --> 01:01:38,278
I'll have to think about that some more

1112
01:01:35,789 --> 01:01:41,660
if there's anything that we want that if

1113
01:01:38,278 --> 01:01:41,659
there's any reason we want that anymore

1114
01:01:42,679 --> 01:01:47,639
if we look at the rest of what's going

1115
01:01:45,000 --> 01:01:53,190
on here I think what we can actually see

1116
01:01:47,639 --> 01:01:55,558
is that if you look at the dim it's just

1117
01:01:53,190 --> 01:01:58,190
the size and the basis P are the only

1118
01:01:55,559 --> 01:02:06,000
things that are getting used from there

1119
01:01:58,190 --> 01:02:08,119
right so I want to look at at that get

1120
01:02:06,000 --> 01:02:15,630
bitmap Tim where is where is that

1121
01:02:08,119 --> 01:02:19,680
defined so we've got basis PE size

1122
01:02:15,630 --> 01:02:22,920
aligned and P and here it looks like we

1123
01:02:19,679 --> 01:02:24,838
only use size and basis P is the only

1124
01:02:22,920 --> 01:02:30,298
things we're actually using that min P

1125
01:02:24,838 --> 01:02:34,318
is used is it not yeah um so we need to

1126
01:02:30,298 --> 01:02:37,818
pass in the basis P and the size but

1127
01:02:34,318 --> 01:02:37,818
then we would be able to get rid of this

1128
01:02:38,119 --> 01:02:47,940
right so at that point the only thing we

1129
01:02:43,289 --> 01:02:51,509
really have a problem with is this which

1130
01:02:47,940 --> 01:02:58,039
is we need to know the basically the

1131
01:02:51,509 --> 01:02:58,039
texture coordinates for this thing

1132
01:03:01,789 --> 01:03:07,429
but I kind of feel like passing that in

1133
01:03:04,769 --> 01:03:07,429
perhaps

1134
01:03:26,610 --> 01:03:39,240
um so I have a lot of things to say

1135
01:03:32,880 --> 01:03:42,090
about this the first is that I don't

1136
01:03:39,239 --> 01:03:48,269
think that upright should be a property

1137
01:03:42,090 --> 01:03:51,690
of the object transform I feel like it

1138
01:03:48,269 --> 01:03:53,400
should be a property of a sprite so I

1139
01:03:51,690 --> 01:04:07,139
feel like it should be more like into

1140
01:03:53,400 --> 01:04:08,910
this you know I'm saying to you and I

1141
01:04:07,139 --> 01:04:10,920
feel like I want to move away from the

1142
01:04:08,909 --> 01:04:12,949
notion that the object transform is the

1143
01:04:10,920 --> 01:04:17,369
thing that has the upright flag in it

1144
01:04:12,949 --> 01:04:19,079
looking at and this is again part of

1145
01:04:17,369 --> 01:04:20,579
that render cleanup that I'm kind of

1146
01:04:19,079 --> 01:04:22,590
glad we're doing now because just a lot

1147
01:04:20,579 --> 01:04:23,969
of stuff that accretes over time in here

1148
01:04:22,590 --> 01:04:29,850
and a lot of it we don't really need to

1149
01:04:23,969 --> 01:04:31,559
worry about anymore um so basically when

1150
01:04:29,849 --> 01:04:37,949
we look at this like we're just talking

1151
01:04:31,559 --> 01:04:40,559
about a scale and an offset I and I

1152
01:04:37,949 --> 01:04:42,589
really don't know if that is the object

1153
01:04:40,559 --> 01:04:45,000
transform could probably just go away

1154
01:04:42,590 --> 01:04:46,740
the camera transform does everything we

1155
01:04:45,000 --> 01:04:48,840
really need and I think like the object

1156
01:04:46,739 --> 01:04:51,889
transform it's it's probably just not

1157
01:04:48,840 --> 01:04:51,890
necessary anymore

1158
01:04:58,079 --> 01:05:08,019
so I kind of feel like yeah I kind of

1159
01:05:01,838 --> 01:05:14,288
feel like what I want to do is I want to

1160
01:05:08,018 --> 01:05:18,338
have this assumed you know like that

1161
01:05:14,289 --> 01:05:20,920
maybe the size gets passed in so we

1162
01:05:18,338 --> 01:05:26,639
assume you took care of your aspect

1163
01:05:20,920 --> 01:05:26,639
ratio scaling however you wanted right

1164
01:05:26,699 --> 01:05:31,358
the width and the height are a little

1165
01:05:29,139 --> 01:05:34,000
bit tricky here because they get used

1166
01:05:31,358 --> 01:05:38,880
here but I'm just gonna say that maybe

1167
01:05:34,000 --> 01:05:38,880
the men UV and Max UV are passed into

1168
01:05:39,389 --> 01:05:53,940
like this and then this goes away all of

1169
01:05:50,380 --> 01:05:53,940
this stays the same

1170
01:06:08,539 --> 01:06:16,579
yet all of that is all fine the upright

1171
01:06:12,739 --> 01:06:23,419
flag is passed in this is all sane

1172
01:06:16,579 --> 01:06:29,529
so this dimmed up basis P that's just

1173
01:06:23,420 --> 01:06:29,530
the actual position that right

1174
01:06:31,329 --> 01:06:38,239
it's the min P right and we could

1175
01:06:35,989 --> 01:06:40,759
construct it in different ways I don't

1176
01:06:38,239 --> 01:06:42,679
know if like how exactly if we want to

1177
01:06:40,760 --> 01:06:45,380
do basis point and we come out from it

1178
01:06:42,679 --> 01:06:50,539
we probably do so you probably want to

1179
01:06:45,380 --> 01:06:54,380
do like P and size and then like you

1180
01:06:50,539 --> 01:06:57,250
know maybe it's like ground point and we

1181
01:06:54,380 --> 01:07:00,590
construct it up from there I'm not

1182
01:06:57,250 --> 01:07:01,969
totally sure like how what the best

1183
01:07:00,590 --> 01:07:05,990
construction is but we'll talk about

1184
01:07:01,969 --> 01:07:08,029
that in a second so if we do that then

1185
01:07:05,989 --> 01:07:11,809
the min P would just be like whatever

1186
01:07:08,030 --> 01:07:16,850
the ground point is we would just need

1187
01:07:11,809 --> 01:07:25,849
to move to the side a lot like along the

1188
01:07:16,849 --> 01:07:31,610
x axis right and in fact we've already

1189
01:07:25,849 --> 01:07:34,369
got the size factored in there so if we

1190
01:07:31,610 --> 01:07:37,750
just said look the location of this

1191
01:07:34,369 --> 01:07:42,980
thing on the side is just you go

1192
01:07:37,750 --> 01:07:47,030
backwards from you just go backwards

1193
01:07:42,980 --> 01:07:48,949
along the x axis halfway because it's

1194
01:07:47,030 --> 01:07:54,610
already been scaled to however big the

1195
01:07:48,949 --> 01:07:59,210
thing should be that seems doable right

1196
01:07:54,610 --> 01:08:00,769
and we'd have a negative 0.5 F y axis in

1197
01:07:59,210 --> 01:08:02,360
here if we wanted to move it down the

1198
01:08:00,769 --> 01:08:04,280
other way I don't know if that's quite

1199
01:08:02,360 --> 01:08:09,550
right yet we can talk about that and

1200
01:08:04,280 --> 01:08:14,050
debate a little bit later but for now

1201
01:08:09,550 --> 01:08:14,050
that's fine I think

1202
01:08:15,559 --> 01:08:22,609
so then just grabbing this out and

1203
01:08:21,170 --> 01:08:28,029
looking what's actually coming in here

1204
01:08:22,609 --> 01:08:28,030
object transform is not a thing right

1205
01:08:31,420 --> 01:08:43,579
height is not a thing oops offset is

1206
01:08:38,960 --> 01:08:47,810
also not a thing and so we're really

1207
01:08:43,579 --> 01:08:51,439
just left with this seal line also not

1208
01:08:47,810 --> 01:08:54,380
relevant so just looking at it we would

1209
01:08:51,439 --> 01:08:58,309
then say like okay I want to pass this

1210
01:08:54,380 --> 01:09:00,109
texture and draw this right I'm gonna

1211
01:08:58,310 --> 01:09:01,910
tell you whether it's upright or not I'm

1212
01:09:00,109 --> 01:09:04,700
gonna tell you where to place it how big

1213
01:09:01,909 --> 01:09:07,818
it is what part of the texture to use

1214
01:09:04,699 --> 01:09:12,679
and then if I want it to be colored or -

1215
01:09:07,819 --> 01:09:14,180
if I want to skew like differently you

1216
01:09:12,680 --> 01:09:18,588
know then then it normally would or

1217
01:09:14,180 --> 01:09:22,159
something um so let's suppose that I

1218
01:09:18,588 --> 01:09:30,949
create this function don't ask me why

1219
01:09:22,159 --> 01:09:33,199
that's there what does this ground P is

1220
01:09:30,949 --> 01:09:38,269
supposed to I don't know why that was

1221
01:09:33,199 --> 01:09:40,880
marked as a - um so in this case our

1222
01:09:38,270 --> 01:09:47,210
height is really just going to be the

1223
01:09:40,880 --> 01:09:50,270
size Y as far as I know but I guess I

1224
01:09:47,210 --> 01:09:53,539
don't know if size Y is adult 'red in

1225
01:09:50,270 --> 01:09:55,550
some way like let's take a look and see

1226
01:09:53,539 --> 01:09:57,439
if it was don't want to make that

1227
01:09:55,550 --> 01:10:00,739
assumption if we tuned it differently

1228
01:09:57,439 --> 01:10:02,119
it's no it's it's just sighs Y so that's

1229
01:10:00,739 --> 01:10:05,710
that's all it was

1230
01:10:02,119 --> 01:10:05,710
anyway so that's just fine

1231
01:10:07,529 --> 01:10:14,139
there's our texture and we're done

1232
01:10:11,679 --> 01:10:18,969
so now if I want to push a sprite on

1233
01:10:14,139 --> 01:10:23,139
here what I can do is say in our render

1234
01:10:18,969 --> 01:10:26,189
test let's put a sprite into the worlds

1235
01:10:23,139 --> 01:10:29,679
here's our tree texture it is upright

1236
01:10:26,189 --> 01:10:31,868
the ground P is just the P right it's

1237
01:10:29,679 --> 01:10:34,359
just the place where we put this thing I

1238
01:10:31,868 --> 01:10:35,399
don't know how we're doing our cubes at

1239
01:10:34,359 --> 01:10:40,089
the moment again

1240
01:10:35,399 --> 01:10:42,038
ap I pass very needed and we can because

1241
01:10:40,090 --> 01:10:43,779
I don't know is that the center or is

1242
01:10:42,038 --> 01:10:45,309
that the top we had for a while been

1243
01:10:43,779 --> 01:10:46,929
dozing the top I want to clear all that

1244
01:10:45,309 --> 01:10:48,460
stuff out and have a like a coherent

1245
01:10:46,929 --> 01:10:52,078
idea of how we're doing that stuff I

1246
01:10:48,460 --> 01:10:55,090
think that'll feel so good if we do it

1247
01:10:52,078 --> 01:10:57,368
but anyway so I'm going to say zero zero

1248
01:10:55,090 --> 01:11:02,050
to one one right now for the UVs

1249
01:10:57,368 --> 01:11:03,969
on that guy in terms of the size hmm

1250
01:11:02,050 --> 01:11:07,300
I have no idea how big I want this thing

1251
01:11:03,969 --> 01:11:09,819
to be so for the moment I'm just gonna

1252
01:11:07,300 --> 01:11:11,820
say like okay let's suppose it's like I

1253
01:11:09,819 --> 01:11:18,179
don't know

1254
01:11:11,819 --> 01:11:23,219
five F wide and what if tall I don't

1255
01:11:18,180 --> 01:11:24,690
know that's gonna be the color and

1256
01:11:23,220 --> 01:11:25,980
actually the color on the axes we don't

1257
01:11:24,689 --> 01:11:27,210
really care about the moment so that's

1258
01:11:25,979 --> 01:11:38,219
just we're just gonna push the sprite

1259
01:11:27,210 --> 01:11:47,250
that way I don't like the fact that I'm

1260
01:11:38,220 --> 01:11:50,280
not seeing anything suffice to say also

1261
01:11:47,250 --> 01:11:52,619
let me just do this every time just do

1262
01:11:50,279 --> 01:11:55,109
it so we can see as much as we can see

1263
01:11:52,619 --> 01:11:59,970
it yeah so let's go ahead and step into

1264
01:11:55,109 --> 01:12:02,299
push right there and see what we're

1265
01:11:59,970 --> 01:12:02,300
computing

1266
01:12:11,369 --> 01:12:22,989
so our min UV and our max UV look good

1267
01:12:14,380 --> 01:12:45,970
to me in X min Y then X or max X X Y

1268
01:12:22,989 --> 01:12:54,670
that looks pretty good actually um so

1269
01:12:45,970 --> 01:12:56,829
what's the problem why shouldn't we be

1270
01:12:54,670 --> 01:12:59,170
seeing something are we here's a

1271
01:12:56,829 --> 01:13:01,390
question are we just am I wrong about

1272
01:12:59,170 --> 01:13:02,770
where how the how the cubes are aligned

1273
01:13:01,390 --> 01:13:04,930
is that there's a ground point actually

1274
01:13:02,770 --> 01:13:09,130
to be elevated up are we just like

1275
01:13:04,930 --> 01:13:13,470
inside our cube okay so that was the

1276
01:13:09,130 --> 01:13:16,900
problem we were just inside the cube so

1277
01:13:13,470 --> 01:13:21,100
to produce the ground point here we need

1278
01:13:16,899 --> 01:13:23,799
to go up to the top of the cube so for a

1279
01:13:21,100 --> 01:13:28,240
ground P it's actually P plus whatever

1280
01:13:23,800 --> 01:13:30,520
that this dimension is right so there's

1281
01:13:28,239 --> 01:13:34,329
like an H value here that's the height

1282
01:13:30,520 --> 01:13:40,300
of this cube it's actually the radius so

1283
01:13:34,329 --> 01:13:43,539
let's call it that so we need to go up

1284
01:13:40,300 --> 01:13:46,720
by the Z radius another way to do that

1285
01:13:43,539 --> 01:13:49,630
would just be say let's pop the Z by the

1286
01:13:46,720 --> 01:13:57,430
Z radius and then once we have that

1287
01:13:49,630 --> 01:13:59,289
ground P guess I should do it this way

1288
01:13:57,430 --> 01:14:02,680
because I want to actually write a

1289
01:13:59,289 --> 01:14:04,689
closed form okay um so then we'll just

1290
01:14:02,680 --> 01:14:07,470
say okay that's the actual point on the

1291
01:14:04,689 --> 01:14:07,469
ground and off we go

1292
01:14:10,109 --> 01:14:19,619
yeah okay so the thing is about that

1293
01:14:24,409 --> 01:14:34,639
it looks like they're not centered which

1294
01:14:30,529 --> 01:14:39,019
doesn't make much sense to me I wonder

1295
01:14:34,640 --> 01:14:40,970
if I screwed something up how let me let

1296
01:14:39,020 --> 01:14:45,820
me look at this it looks like the that

1297
01:14:40,970 --> 01:15:02,360
it's not properly centered whereas this

1298
01:14:45,819 --> 01:15:07,849
should do that I in in theory right uh

1299
01:15:02,359 --> 01:15:09,829
so no that's not actually true so this

1300
01:15:07,850 --> 01:15:14,360
is doing this the wrong way around

1301
01:15:09,829 --> 01:15:16,819
so because the sprite is always facing

1302
01:15:14,359 --> 01:15:19,399
us if we're gonna do a span out like

1303
01:15:16,819 --> 01:15:23,569
that the span out has to happen after

1304
01:15:19,399 --> 01:15:26,299
we've adjusted the axes right so we

1305
01:15:23,569 --> 01:15:30,500
actually if we are going to do a min P

1306
01:15:26,300 --> 01:15:33,199
here we have to actually first figure

1307
01:15:30,500 --> 01:15:44,409
out what the axis of the sprite actually

1308
01:15:33,199 --> 01:15:44,409
are and then we could use them I believe

1309
01:15:46,460 --> 01:15:51,079
yeah and now you can see that there

1310
01:15:48,350 --> 01:15:52,760
correctly stationed in the middle of the

1311
01:15:51,079 --> 01:15:58,909
cube which is where they should be

1312
01:15:52,760 --> 01:16:06,980
right so probably a little too small

1313
01:15:58,909 --> 01:16:08,989
there you know certainly doesn't seem

1314
01:16:06,979 --> 01:16:10,879
like a particularly majestic oak you

1315
01:16:08,989 --> 01:16:17,170
know for if we're being honest about

1316
01:16:10,880 --> 01:16:23,199
about it so this is probably you know

1317
01:16:17,170 --> 01:16:23,199
more like that or something I don't know

1318
01:16:23,439 --> 01:16:35,449
so we're really probably looking at

1319
01:16:25,520 --> 01:16:37,510
something more like this seems about

1320
01:16:35,449 --> 01:16:37,510
right

1321
01:16:40,449 --> 01:16:53,510
so if we want to I guess the other thing

1322
01:16:51,409 --> 01:16:54,979
we probably should do is so if you're

1323
01:16:53,510 --> 01:16:56,659
doing a game like this you probably

1324
01:16:54,979 --> 01:17:00,229
don't want to rotate the camera cause

1325
01:16:56,659 --> 01:17:01,519
lawyer arts gonna look kind of crappy so

1326
01:17:00,229 --> 01:17:04,429
what I should probably do is just move

1327
01:17:01,520 --> 01:17:07,040
the camera which would give a better

1328
01:17:04,430 --> 01:17:08,539
illusion of probably roughly what it

1329
01:17:07,039 --> 01:17:10,220
would look like because you know if the

1330
01:17:08,539 --> 01:17:11,449
tree is just a sprite stuck on there it

1331
01:17:10,220 --> 01:17:15,100
just kinda looks weird when you spin it

1332
01:17:11,449 --> 01:17:17,569
around right so I'm guessing that

1333
01:17:15,100 --> 01:17:18,230
changing the orbit is probably the wrong

1334
01:17:17,569 --> 01:17:21,759
thing to do

1335
01:17:18,229 --> 01:17:26,329
changing the offset is probably more

1336
01:17:21,760 --> 01:17:30,730
what we should be doing um so rather

1337
01:17:26,329 --> 01:17:34,159
than doing this I guess what I'd say is

1338
01:17:30,729 --> 01:17:39,529
maybe we have an accumulator here

1339
01:17:34,159 --> 01:17:42,109
that's like camera shift or T C camera

1340
01:17:39,529 --> 01:17:46,989
shift and what I'm going to do is I'm

1341
01:17:42,109 --> 01:17:50,210
just gonna add second little apps to it

1342
01:17:46,989 --> 01:17:51,500
and then what I want to do here is you

1343
01:17:50,210 --> 01:17:55,850
know when we come through and we're

1344
01:17:51,500 --> 01:17:59,060
gonna compute the camera offset I'm

1345
01:17:55,850 --> 01:18:02,660
going to go ahead and compute that sort

1346
01:17:59,060 --> 01:18:05,690
of based on the camera shifts so if T

1347
01:18:02,659 --> 01:18:08,989
camera shift is greater than pi

1348
01:18:05,689 --> 01:18:14,809
or tau or who cares all those things are

1349
01:18:08,989 --> 01:18:17,599
dumb I have a long rant about PI and tau

1350
01:18:14,810 --> 01:18:19,730
that I haven't actually posted yet but

1351
01:18:17,600 --> 01:18:24,410
like I realized that PI and tau are

1352
01:18:19,729 --> 01:18:26,659
actually really dumb and like the fact

1353
01:18:24,409 --> 01:18:29,149
that we still use them as dumb and I

1354
01:18:26,659 --> 01:18:30,680
felt dumb for doing it after I actually

1355
01:18:29,149 --> 01:18:34,969
thought it through but that's separate

1356
01:18:30,680 --> 01:18:38,270
issue anyway so camera offset is now

1357
01:18:34,970 --> 01:18:41,180
going to take that key camera shift and

1358
01:18:38,270 --> 01:18:44,990
I'm just gonna say let's shift the

1359
01:18:41,180 --> 01:18:46,700
camera around where we're looking by

1360
01:18:44,989 --> 01:18:49,639
like something that's like a sine cosine

1361
01:18:46,699 --> 01:18:52,000
kind of a function right so you know

1362
01:18:49,640 --> 01:18:54,550
maybe we do like a

1363
01:18:52,000 --> 01:18:59,170
cosine F kind of a situation here it

1364
01:18:54,550 --> 01:19:00,550
doesn't really matter to kind of move

1365
01:18:59,170 --> 01:19:02,529
around the field and then we can just

1366
01:19:00,550 --> 01:19:04,719
say oh it's gonna displace it by like

1367
01:19:02,529 --> 01:19:06,039
roughly 10 meters either way or

1368
01:19:04,719 --> 01:19:08,198
something so we can kind of see the

1369
01:19:06,039 --> 01:19:15,609
whole area or something like that

1370
01:19:08,198 --> 01:19:19,210
I don't know I don't really care are we

1371
01:19:15,609 --> 01:19:21,219
not using camera offset you're not using

1372
01:19:19,210 --> 01:19:30,460
camera offset why are we using camera

1373
01:19:21,219 --> 01:19:33,689
I'll set well presumably we have a

1374
01:19:30,460 --> 01:19:33,689
translate don't we

1375
01:19:50,448 --> 01:19:58,969
actually enough to do so I want do it

1376
01:19:56,639 --> 01:19:58,969
afterwards

1377
01:20:14,389 --> 01:20:27,500
oh it's already doing that by camera ot

1378
01:20:25,210 --> 01:20:35,118
it's already right there

1379
01:20:27,500 --> 01:20:44,779
so nevermind we don't need to do that

1380
01:20:35,118 --> 01:20:47,469
separately um so this seems like a

1381
01:20:44,779 --> 01:20:53,000
better test right

1382
01:20:47,469 --> 01:20:55,399
and so I'd want to buy us it a little

1383
01:20:53,000 --> 01:20:57,789
bit I also don't want to get nauseous

1384
01:20:55,399 --> 01:21:05,839
so let's you know maybe calm that down

1385
01:20:57,789 --> 01:21:07,969
considerably and and I just want to now

1386
01:21:05,840 --> 01:21:13,550
make it so that like whatever we're

1387
01:21:07,969 --> 01:21:15,550
doing here is you know just shift it a

1388
01:21:13,550 --> 01:21:19,100
little bit so like you know we got

1389
01:21:15,550 --> 01:21:22,060
cosine sine that Y translation I want to

1390
01:21:19,100 --> 01:21:24,739
be like biased backwards like a bit

1391
01:21:22,060 --> 01:21:26,330
because you can see further forwards

1392
01:21:24,738 --> 01:21:28,099
than you can backwards and so we're just

1393
01:21:26,329 --> 01:21:30,769
kind of covering terrain that we don't

1394
01:21:28,100 --> 01:21:35,530
act ok maybe not quite that far

1395
01:21:30,770 --> 01:21:38,530
Oh cuz it's times 10

1396
01:21:35,529 --> 01:21:38,529
oops

1397
01:22:11,099 --> 01:22:20,929
um so yeah just looking at this real

1398
01:22:18,359 --> 01:22:20,929
quick sorry

1399
01:22:30,609 --> 01:22:33,880
all right so the only thing I really

1400
01:22:32,738 --> 01:22:36,459
want to do here is just give us a little

1401
01:22:33,880 --> 01:22:41,590
more coverage I'm gonna make this oops

1402
01:22:36,460 --> 01:22:44,109
I'm gonna make this a 30 or 25 just to

1403
01:22:41,590 --> 01:22:47,279
get us a little more coverage also those

1404
01:22:44,109 --> 01:22:47,279
trees are still too small

1405
01:23:06,649 --> 01:23:10,460
so yeah

1406
01:23:24,699 --> 01:23:32,260
um the other thing I want to do here is

1407
01:23:27,520 --> 01:23:34,780
I would like to I feel like the I still

1408
01:23:32,260 --> 01:23:44,020
feel like the trees are not quite pegged

1409
01:23:34,779 --> 01:23:45,759
to the center which maybe would be what

1410
01:23:44,020 --> 01:23:49,830
you would expect because of how they're

1411
01:23:45,760 --> 01:23:49,829
grounded but I have to think about that

1412
01:23:51,750 --> 01:23:59,229
this is the align point problem and I'm

1413
01:23:57,399 --> 01:24:00,519
not sure exactly we'll have to think

1414
01:23:59,229 --> 01:24:03,909
about that a little bit bit a little bit

1415
01:24:00,520 --> 01:24:05,980
more but so anyway let's let's focus on

1416
01:24:03,909 --> 01:24:07,569
one more thing now which is when we do a

1417
01:24:05,979 --> 01:24:12,689
push cube I'd like to now get the

1418
01:24:07,569 --> 01:24:15,609
texturing correct on the push cube call

1419
01:24:12,689 --> 01:24:19,509
so if we come in here and we look at

1420
01:24:15,609 --> 01:24:23,289
push cube when we're actually doing this

1421
01:24:19,510 --> 01:24:25,750
what I want here is some way of being

1422
01:24:23,289 --> 01:24:27,609
more explicit about the texture

1423
01:24:25,750 --> 01:24:29,500
coordinates so what you can see

1424
01:24:27,609 --> 01:24:31,630
happening is there's literally nothing

1425
01:24:29,500 --> 01:24:32,920
smart happening with the texture

1426
01:24:31,630 --> 01:24:37,210
coordinates at all they're just kind of

1427
01:24:32,920 --> 01:24:40,390
slapped on there what I actually need to

1428
01:24:37,210 --> 01:24:42,730
have happen here is when you do a push

1429
01:24:40,390 --> 01:24:46,000
cube we need to have the texture

1430
01:24:42,729 --> 01:24:49,829
coordinates make some sense now I don't

1431
01:24:46,000 --> 01:24:49,829
really know how I want to do that

1432
01:24:53,550 --> 01:24:58,720
because I haven't really thought through

1433
01:24:55,840 --> 01:25:00,489
how we want to put those on there when

1434
01:24:58,720 --> 01:25:06,940
we look at how these are getting set up

1435
01:25:00,489 --> 01:25:09,250
to 0 1 2 3 that's like totally wrong you

1436
01:25:06,939 --> 01:25:11,829
know so we're looking here we've got our

1437
01:25:09,250 --> 01:25:16,720
quads like negative X plus X negative y

1438
01:25:11,829 --> 01:25:19,510
plus y negative Z plus Z I actually kind

1439
01:25:16,720 --> 01:25:22,030
of want those things to be picked out of

1440
01:25:19,510 --> 01:25:24,960
the texture in some kind of sane way and

1441
01:25:22,029 --> 01:25:28,090
you can kind of see how I did it here

1442
01:25:24,960 --> 01:25:31,210
there's like a bottom row and a top row

1443
01:25:28,090 --> 01:25:33,400
and then a midsection area and so I

1444
01:25:31,210 --> 01:25:35,319
think what I want to do is just texture

1445
01:25:33,399 --> 01:25:38,949
them with just that first row at the

1446
01:25:35,319 --> 01:25:40,960
moment just as a start right

1447
01:25:38,949 --> 01:25:47,559
and so what I want to do here is

1448
01:25:40,960 --> 01:25:49,569
basically have like zero zero you know

1449
01:25:47,560 --> 01:25:57,430
we can we can even do it this way right

1450
01:25:49,569 --> 01:26:03,939
so that would be one set of T like that

1451
01:25:57,430 --> 01:26:05,950
would be top right let's imagine we have

1452
01:26:03,939 --> 01:26:20,259
three of these so that that would be top

1453
01:26:05,949 --> 01:26:21,579
this would be a wall piece not quite so

1454
01:26:20,260 --> 01:26:26,680
let me rephrase that

1455
01:26:21,579 --> 01:26:30,279
so this part is actually still this part

1456
01:26:26,680 --> 01:26:33,150
never changes kind of got overzealous

1457
01:26:30,279 --> 01:26:42,488
there it's just this part that changes

1458
01:26:33,149 --> 01:26:45,629
and this would be a bottom right so just

1459
01:26:42,488 --> 01:26:51,819
picking out those three segments of that

1460
01:26:45,630 --> 01:26:53,920
and so you know this this and this are

1461
01:26:51,819 --> 01:27:03,509
sort of like the I don't know what you

1462
01:26:53,920 --> 01:27:03,510
want to call it a top T zero like mid

1463
01:27:04,109 --> 01:27:13,869
and bot and so like the negative Z side

1464
01:27:11,140 --> 01:27:16,720
I think you could just do this and the

1465
01:27:13,869 --> 01:27:21,939
positive z side I think you can just do

1466
01:27:16,720 --> 01:27:28,210
this I think and then these you know

1467
01:27:21,939 --> 01:27:31,719
these are mids but they're probably not

1468
01:27:28,210 --> 01:27:36,760
going the right way round meaning it's

1469
01:27:31,720 --> 01:27:39,070
probably not t 0 through T 3 and so

1470
01:27:36,760 --> 01:27:41,590
we're gonna have to fix that

1471
01:27:39,069 --> 01:27:45,599
the texture is gonna be spun wrong does

1472
01:27:41,590 --> 01:27:50,170
that make sense if we do it that way

1473
01:27:45,600 --> 01:27:52,590
so let me just look at what we've got

1474
01:27:50,170 --> 01:27:52,590
here

1475
01:27:53,079 --> 01:28:03,550
am I do I not understand what negative Z

1476
01:27:59,539 --> 01:28:03,550
means in this case and positive z

1477
01:28:11,770 --> 01:28:19,120
did I do something stupid because the

1478
01:28:15,880 --> 01:28:23,500
top part should not be the brown part Oh

1479
01:28:19,119 --> 01:28:27,489
in less I flipped those two so negative

1480
01:28:23,500 --> 01:28:29,439
Z should be pointing downward so it

1481
01:28:27,489 --> 01:28:32,289
should have been the Bott part oh but

1482
01:28:29,439 --> 01:28:33,879
these are top the texture zero is the

1483
01:28:32,289 --> 01:28:36,970
base of the texture one is the top of

1484
01:28:33,880 --> 01:28:40,239
the texture so assuming we load them in

1485
01:28:36,970 --> 01:28:44,740
in that orientation then this is

1486
01:28:40,239 --> 01:28:46,569
actually backwards I agree this would be

1487
01:28:44,739 --> 01:28:47,399
the bottom but the way we've got them

1488
01:28:46,569 --> 01:28:52,869
packed in there

1489
01:28:47,399 --> 01:28:54,670
so never mind so Brown is what we should

1490
01:28:52,869 --> 01:29:02,579
have seen hopefully now we will see

1491
01:28:54,670 --> 01:29:02,579
green and we do so yeah

1492
01:29:07,619 --> 01:29:15,090
so I think that's mostly what we want

1493
01:29:10,890 --> 01:29:18,630
there and again like the location of the

1494
01:29:15,090 --> 01:29:21,150
tree is roughly correct but it's a

1495
01:29:18,630 --> 01:29:22,319
little weird and I'm not sure why so I

1496
01:29:21,149 --> 01:29:26,250
kind of want to investigate that

1497
01:29:22,319 --> 01:29:28,469
placement that's bright placement we do

1498
01:29:26,250 --> 01:29:30,930
need a to sort of shift the tree

1499
01:29:28,470 --> 01:29:32,789
backward a little bit because of the way

1500
01:29:30,930 --> 01:29:38,970
that it's drawn right you want it to be

1501
01:29:32,789 --> 01:29:41,519
pushed more towards the front but I

1502
01:29:38,970 --> 01:29:43,590
don't think that that shouldn't account

1503
01:29:41,520 --> 01:29:46,410
for the what's happening on the sides of

1504
01:29:43,590 --> 01:29:51,150
the sprite so that I'm I'm just not

1505
01:29:46,409 --> 01:29:56,849
quite sure about how we want that to

1506
01:29:51,149 --> 01:29:59,819
really be set up and we kind of looked

1507
01:29:56,850 --> 01:30:06,060
at this before it has to do with how you

1508
01:29:59,819 --> 01:30:08,779
take the tree and produce the

1509
01:30:06,060 --> 01:30:08,780
coordinates

1510
01:30:17,769 --> 01:30:25,909
for it I mean either/or it's fine

1511
01:30:23,658 --> 01:30:27,648
like this is something we want to work

1512
01:30:25,908 --> 01:30:29,358
out for handmade here anyway so I'm

1513
01:30:27,649 --> 01:30:31,099
happy to kind of go down that rabbit

1514
01:30:29,359 --> 01:30:33,800
hole afterwards to make sure that we get

1515
01:30:31,099 --> 01:30:36,050
our placement on the ground correct

1516
01:30:33,800 --> 01:30:37,429
that's fine with me but it was just I'm

1517
01:30:36,050 --> 01:30:42,409
just trying to think of it was a little

1518
01:30:37,429 --> 01:30:43,699
bit weird there um so I also kind of

1519
01:30:42,408 --> 01:30:46,368
want to do I want to do a couple other

1520
01:30:43,698 --> 01:30:48,408
things here let's and let's look at

1521
01:30:46,368 --> 01:30:50,779
those so the other things that I would

1522
01:30:48,408 --> 01:30:54,138
like to do is I'd like to put in a

1523
01:30:50,779 --> 01:30:57,078
Krampus head somewhere so I'm gonna go

1524
01:30:54,139 --> 01:31:04,760
ahead and push a Krampus head sprite on

1525
01:30:57,078 --> 01:31:07,458
here so I want like this to be grass

1526
01:31:04,760 --> 01:31:12,679
texture I want the grass texture wall

1527
01:31:07,458 --> 01:31:15,288
texture tree texture and head texture I

1528
01:31:12,679 --> 01:31:23,239
just want to get those in here and I

1529
01:31:15,288 --> 01:31:27,408
would like to do some kind of thing

1530
01:31:23,238 --> 01:31:33,708
where we pick maybe which kind these are

1531
01:31:27,408 --> 01:31:36,978
to select maybe do a Rand mod 10 equals

1532
01:31:33,708 --> 01:31:40,538
three here as well equals wall nothing

1533
01:31:36,979 --> 01:31:40,539
really rhymes with wall that's a number

1534
01:31:44,939 --> 01:31:57,090
so what I'd like to do is also have one

1535
01:31:48,118 --> 01:32:01,880
that pushes a walls on occasionally and

1536
01:31:57,090 --> 01:32:04,469
so for pushing it on a wall instead of a

1537
01:32:01,880 --> 01:32:09,538
grass well you know what we could just

1538
01:32:04,469 --> 01:32:11,639
put them on top that seems fine too so

1539
01:32:09,538 --> 01:32:28,948
like maybe we do something more like

1540
01:32:11,639 --> 01:32:41,840
this and so we have like a wall P kind

1541
01:32:28,948 --> 01:32:41,839
of thing and the wall is you know higher

1542
01:32:43,130 --> 01:32:50,208
than that so we just kind of put it up

1543
01:32:55,010 --> 01:33:04,380
so we go like whatever the ground P is

1544
01:33:00,889 --> 01:33:12,208
we start there and we go up half the

1545
01:33:04,380 --> 01:33:16,618
radius of our wall texture right this is

1546
01:33:12,208 --> 01:33:18,208
our Krampus and I don't know where

1547
01:33:16,618 --> 01:33:20,328
cramps is gonna go probably right in the

1548
01:33:18,208 --> 01:33:24,118
middle

1549
01:33:20,328 --> 01:33:29,219
Krampus can be floating three units up

1550
01:33:24,118 --> 01:33:32,389
and be quite large because I mean these

1551
01:33:29,219 --> 01:33:35,359
Krampus don't screw with Krampus

1552
01:33:32,389 --> 01:33:41,189
everyone knows that it's just basic

1553
01:33:35,359 --> 01:33:41,578
stuff I don't feel the need to elaborate

1554
01:33:41,189 --> 01:33:45,769
further

1555
01:33:41,578 --> 01:33:45,768
so tree texture head texture

1556
01:34:00,630 --> 01:34:07,270
those the names test cube grass test

1557
01:34:04,179 --> 01:34:10,239
cube grass tes cue ball test sprite head

1558
01:34:07,270 --> 01:34:19,810
test right trees so that loads all four

1559
01:34:10,238 --> 01:34:22,209
of those in oh and I got to actually go

1560
01:34:19,810 --> 01:34:25,090
use the correct one for the walls

1561
01:34:22,210 --> 01:34:27,569
they're also where is Krampus there's

1562
01:34:25,090 --> 01:34:27,569
Grampus

1563
01:34:31,559 --> 01:34:39,809
I think oh that's good

1564
01:34:36,109 --> 01:34:42,899
Krampus needs to be a little further

1565
01:34:39,809 --> 01:34:48,538
forward that's put him like one or two

1566
01:34:42,899 --> 01:34:53,359
units forward this wall texture is

1567
01:34:48,538 --> 01:34:53,359
somehow still getting the grounds

1568
01:34:57,859 --> 01:35:06,948
because well because I passed the wrong

1569
01:35:01,590 --> 01:35:06,949
one so kind of what you would expect

1570
01:35:13,399 --> 01:35:21,679
looks like we're getting some z-fighting

1571
01:35:17,510 --> 01:35:26,960
there so I must have computed where

1572
01:35:21,679 --> 01:35:27,710
these are placed it wrong how did what

1573
01:35:26,960 --> 01:35:31,189
did I do

1574
01:35:27,710 --> 01:35:34,969
how did that happen these two things

1575
01:35:31,189 --> 01:35:37,609
must be like overlapping so the ground P

1576
01:35:34,969 --> 01:35:42,260
it's gone up by the radius

1577
01:35:37,609 --> 01:35:45,380
oh it's radius right not total dimension

1578
01:35:42,260 --> 01:35:50,900
so whatever this is so this is like wall

1579
01:35:45,380 --> 01:35:54,489
radius equals two or something then we

1580
01:35:50,899 --> 01:35:54,488
need to go up by the wall radius

1581
01:36:11,039 --> 01:36:16,090
so I think we're pretty good there you

1582
01:36:14,319 --> 01:36:18,849
can see what happens if you put a wall

1583
01:36:16,090 --> 01:36:22,360
like the trees I think need to be bent

1584
01:36:18,850 --> 01:36:26,079
more backwards in this perspective you

1585
01:36:22,359 --> 01:36:30,279
know what I mean because they don't

1586
01:36:26,079 --> 01:36:32,979
really super work when you have actual

1587
01:36:30,279 --> 01:36:34,449
geometry in there now granted maybe

1588
01:36:32,979 --> 01:36:37,059
that's just something you have right

1589
01:36:34,449 --> 01:36:42,159
because the tree is is way too flat down

1590
01:36:37,060 --> 01:36:43,750
like it needs to be like kind of I don't

1591
01:36:42,159 --> 01:36:47,949
know what the word is but it needs to be

1592
01:36:43,750 --> 01:36:51,489
like more eccentric so if you were to

1593
01:36:47,949 --> 01:36:57,130
look at what the push right was gonna do

1594
01:36:51,489 --> 01:37:00,449
here right so this loop where you kind

1595
01:36:57,130 --> 01:37:00,449
of go between these two

1596
01:37:12,899 --> 01:37:17,339
you know it would need to just be it

1597
01:37:15,119 --> 01:37:20,569
would need to be a flatter more standing

1598
01:37:17,340 --> 01:37:24,449
up thing in order to not have that

1599
01:37:20,569 --> 01:37:32,340
problem and not sure what you would

1600
01:37:24,448 --> 01:37:34,369
really do otherwise to fix it I don't

1601
01:37:32,340 --> 01:37:45,090
think there's really much you could do

1602
01:37:34,369 --> 01:37:47,609
right I mean cuz you can't yeah but the

1603
01:37:45,090 --> 01:37:49,140
Z bias in this case also I mean I don't

1604
01:37:47,609 --> 01:37:52,649
know how we want to look at this part

1605
01:37:49,140 --> 01:37:54,960
but the Z bias in that case also does

1606
01:37:52,649 --> 01:37:57,448
kind of work I think for solving some of

1607
01:37:54,960 --> 01:38:00,179
these problems if you allow the Z bias

1608
01:37:57,448 --> 01:38:02,009
to be more dramatic you can kind of see

1609
01:38:00,179 --> 01:38:04,560
that it doesn't kick in to get really

1610
01:38:02,010 --> 01:38:08,159
close as far as things bending up

1611
01:38:04,560 --> 01:38:11,039
towards the camera so if you wanted to

1612
01:38:08,158 --> 01:38:13,319
make things that we're gonna be you know

1613
01:38:11,039 --> 01:38:16,619
not too bad as far as the wall radius

1614
01:38:13,319 --> 01:38:19,859
was concerned but you constantly get the

1615
01:38:16,619 --> 01:38:21,210
same problem this is mixing 3d and 2d in

1616
01:38:19,859 --> 01:38:23,939
this way is just really difficult

1617
01:38:21,210 --> 01:38:27,329
because art wise it's hard to pick

1618
01:38:23,939 --> 01:38:32,428
things that actually are going to work

1619
01:38:27,329 --> 01:38:33,779
okay if you actually allow there to be

1620
01:38:32,429 --> 01:38:38,340
the 3d transform instead of just

1621
01:38:33,779 --> 01:38:40,800
sticking with a required isometric right

1622
01:38:38,340 --> 01:38:43,860
because as those things come more

1623
01:38:40,800 --> 01:38:45,890
towards the camera you end up in bad

1624
01:38:43,859 --> 01:38:45,889
shape

1625
01:38:55,479 --> 01:39:02,529
right and you can kind of see you know

1626
01:38:59,470 --> 01:39:05,920
if you now it's kind of correctly

1627
01:39:02,529 --> 01:39:16,779
occluding them in most cases right not

1628
01:39:05,920 --> 01:39:18,220
all cases but most cases and theirs does

1629
01:39:16,779 --> 01:39:20,289
really some other things we could do

1630
01:39:18,220 --> 01:39:22,570
there again to continue to increase the

1631
01:39:20,289 --> 01:39:27,579
ability for us to sort these things into

1632
01:39:22,569 --> 01:39:29,079
place even when they sort correctly

1633
01:39:27,579 --> 01:39:31,149
though you can kind of see because

1634
01:39:29,079 --> 01:39:34,750
they're so rigid in that sense they

1635
01:39:31,149 --> 01:39:37,719
don't really look right even when

1636
01:39:34,750 --> 01:39:40,420
they're sorted correctly so I kind of

1637
01:39:37,720 --> 01:39:44,579
feel like they need more of the they

1638
01:39:40,420 --> 01:39:44,579
need to take more of the transform there

1639
01:40:05,948 --> 01:40:11,479
so I'm curious suppose we were literally

1640
01:40:09,380 --> 01:40:13,460
going to let's just play with this since

1641
01:40:11,479 --> 01:40:16,279
we have an easy case here so let's

1642
01:40:13,460 --> 01:40:20,289
suppose we just took the actual axes as

1643
01:40:16,279 --> 01:40:23,988
they existed and just used those right

1644
01:40:20,289 --> 01:40:26,738
so let's look at what we got here so in

1645
01:40:23,988 --> 01:40:32,779
here we have our x-axis and our y-axis

1646
01:40:26,738 --> 01:40:35,839
this would be the actual it would be it

1647
01:40:32,779 --> 01:40:37,429
would be these two right so if we were

1648
01:40:35,840 --> 01:40:39,800
to say in fact I guess I don't need to

1649
01:40:37,429 --> 01:40:47,840
if 0 anything if we were just to say

1650
01:40:39,800 --> 01:40:51,860
look let's see at a certain at this

1651
01:40:47,840 --> 01:40:54,190
perspective right what does it look like

1652
01:40:51,859 --> 01:40:57,589
if the trees are just billboards right

1653
01:40:54,189 --> 01:40:59,118
and so what you can see here is first of

1654
01:40:57,590 --> 01:41:09,078
all you know you could turn off the Z

1655
01:40:59,118 --> 01:41:12,618
bias and it should now just work because

1656
01:41:09,078 --> 01:41:14,299
they're just literally standing in place

1657
01:41:12,618 --> 01:41:15,738
right and you get some Z fighting if

1658
01:41:14,300 --> 01:41:17,539
they're right on top of each other but

1659
01:41:15,738 --> 01:41:18,769
that's exactly what you'd expect right

1660
01:41:17,539 --> 01:41:20,408
because there's no way to resolve those

1661
01:41:18,770 --> 01:41:22,489
two you need them to be a little bit

1662
01:41:20,408 --> 01:41:25,488
separated in order to know which one it

1663
01:41:22,488 --> 01:41:28,158
should be right but now everything slots

1664
01:41:25,488 --> 01:41:34,009
into place the problem is they look way

1665
01:41:28,158 --> 01:41:38,269
too like cardboard cutout you know what

1666
01:41:34,010 --> 01:41:40,130
I mean but they're always correct right

1667
01:41:38,270 --> 01:41:42,920
they always look prospectively correct

1668
01:41:40,130 --> 01:41:48,170
and they always look like reasonable in

1669
01:41:42,920 --> 01:41:51,289
terms of being sorted into the scene and

1670
01:41:48,170 --> 01:41:54,800
we stopped kind of using anything but

1671
01:41:51,289 --> 01:41:56,210
the Z for that we had a version before

1672
01:41:54,800 --> 01:41:59,989
where we were kind of doing a different

1673
01:41:56,210 --> 01:42:00,800
sort of lerp I'm interested to know what

1674
01:41:59,988 --> 01:42:02,539
that looks like

1675
01:42:00,800 --> 01:42:07,300
I don't really remember let's play with

1676
01:42:02,539 --> 01:42:07,300
it a little and see here

1677
01:42:12,099 --> 01:42:18,190
so that's one that kind of combines the

1678
01:42:14,920 --> 01:42:19,719
two together honestly I think for this

1679
01:42:18,189 --> 01:42:23,078
perspective that looks really good

1680
01:42:19,719 --> 01:42:24,760
actually right I mean I think that's

1681
01:42:23,078 --> 01:42:26,828
about as good as you could have hoped

1682
01:42:24,760 --> 01:42:30,429
for I'm not sure you yeah I I really

1683
01:42:26,828 --> 01:42:34,868
think that looks quite nice for this

1684
01:42:30,429 --> 01:42:38,050
perspective right and if we maybe then

1685
01:42:34,868 --> 01:42:42,788
at that point crank the Z bias just a

1686
01:42:38,050 --> 01:42:47,579
little bit maybe we get to something

1687
01:42:42,788 --> 01:42:49,929
pretty usable for what the request was

1688
01:42:47,578 --> 01:42:51,130
you know maybe we do maybe we don't I

1689
01:42:49,929 --> 01:42:54,219
don't know like normally you're not

1690
01:42:51,130 --> 01:42:56,500
gonna like you know your artist too can

1691
01:42:54,219 --> 01:43:00,189
make concessions for the fact that we

1692
01:42:56,500 --> 01:43:03,488
know that you know you're not gonna put

1693
01:43:00,189 --> 01:43:05,529
stuff self-intersecting like you

1694
01:43:03,488 --> 01:43:10,269
wouldn't put a tree like right next to a

1695
01:43:05,529 --> 01:43:13,868
wall hopefully in that exact way and if

1696
01:43:10,270 --> 01:43:15,550
you did maybe we could say set a flag on

1697
01:43:13,868 --> 01:43:19,808
it so we know that it's supposed to do

1698
01:43:15,550 --> 01:43:21,820
more so that one looks wrong right those

1699
01:43:19,809 --> 01:43:22,989
those don't look right when they're

1700
01:43:21,819 --> 01:43:25,840
right next to it

1701
01:43:22,988 --> 01:43:28,738
unfortunately these look just fine so as

1702
01:43:25,840 --> 01:43:31,210
soon as you can if you can get one

1703
01:43:28,738 --> 01:43:33,718
degree of space between them it looks

1704
01:43:31,210 --> 01:43:33,719
quite nice

1705
01:43:39,849 --> 01:43:44,208
so the other thing I'm adjusting is so

1706
01:43:41,958 --> 01:43:46,429
as you set the orbit you obviously get

1707
01:43:44,208 --> 01:43:48,380
much better if as you get closer to side

1708
01:43:46,429 --> 01:43:50,719
on everything would presumably just work

1709
01:43:48,380 --> 01:43:52,788
perfectly right because then the sorting

1710
01:43:50,719 --> 01:43:55,729
is just it's just correct like you can

1711
01:43:52,788 --> 01:43:58,728
just use the 3d right so if for example

1712
01:43:55,729 --> 01:44:06,199
you were to say camera pitch equals you

1713
01:43:58,729 --> 01:44:09,039
know maybe I don't know how much of pie

1714
01:44:06,198 --> 01:44:09,038
we want in here

1715
01:44:14,449 --> 01:44:18,260
but once you get down here like you're

1716
01:44:16,399 --> 01:44:21,229
just golden because everything always

1717
01:44:18,260 --> 01:44:23,360
just sorts properly right so somewhere

1718
01:44:21,229 --> 01:44:25,459
in between those two is where the

1719
01:44:23,359 --> 01:44:27,229
problem happens and maybe part of its to

1720
01:44:25,460 --> 01:44:30,170
like if you were gonna do a game that's

1721
01:44:27,229 --> 01:44:35,659
down at this angle maybe part of it is

1722
01:44:30,170 --> 01:44:41,329
like picking a reasonable you know just

1723
01:44:35,659 --> 01:44:44,889
a reasonable degree of sort of that that

1724
01:44:41,329 --> 01:44:44,890
split let me

1725
01:44:51,850 --> 01:44:57,860
let me take this a little so you know

1726
01:44:54,770 --> 01:45:00,469
maybe you you pick a higher on angle and

1727
01:44:57,859 --> 01:45:05,389
maybe you you buy us a little bit more

1728
01:45:00,469 --> 01:45:07,460
towards the incorrect axes or I should

1729
01:45:05,390 --> 01:45:10,869
say bias more towards the correct axes

1730
01:45:07,460 --> 01:45:10,869
in that case

1731
01:45:28,408 --> 01:45:41,879
so let's shoot for that let's use this I

1732
01:45:37,710 --> 01:45:45,319
like this so far that seems pretty good

1733
01:45:41,880 --> 01:45:45,319
I'm getting rid of this stuff

1734
01:46:03,500 --> 01:46:08,029
how much time you got left like about 10

1735
01:46:05,789 --> 01:46:08,029
minutes

1736
01:46:56,100 --> 01:47:01,079
so that's pretty good

1737
01:46:59,100 --> 01:47:05,039
the only thing I would say is that the

1738
01:47:01,079 --> 01:47:07,019
the amount of perspective that ends up

1739
01:47:05,039 --> 01:47:12,869
on the trees when they're down here just

1740
01:47:07,020 --> 01:47:21,890
kind of doesn't work very well I'm not

1741
01:47:12,869 --> 01:47:21,890
100% sure how I would fix that

1742
01:47:34,890 --> 01:47:41,110
and I wonder too a little bit about if

1743
01:47:38,229 --> 01:47:42,639
we want the focal length to be different

1744
01:47:41,109 --> 01:47:48,309
so that you don't get as much

1745
01:47:42,640 --> 01:47:50,920
perspective in this case so like let's

1746
01:47:48,310 --> 01:48:00,130
suppose we want to change the focal

1747
01:47:50,920 --> 01:48:03,609
length there and and just tweak that a

1748
01:48:00,130 --> 01:48:11,590
little bit I'm gonna go ahead and play

1749
01:48:03,609 --> 01:48:13,960
with that so yeah there's camera dot

1750
01:48:11,590 --> 01:48:16,300
focal length so when we knit the camera

1751
01:48:13,960 --> 01:48:19,720
params we're passing the focal length

1752
01:48:16,300 --> 01:48:21,880
down just kind of as like a magical

1753
01:48:19,720 --> 01:48:28,300
thing I'm gonna make that be like camera

1754
01:48:21,880 --> 01:48:30,970
focal length length

1755
01:48:28,300 --> 01:48:33,730
it was 1.0 I'm gonna play with that a

1756
01:48:30,970 --> 01:48:37,960
little bit and just see what I think

1757
01:48:33,729 --> 01:48:40,089
four different lengths here so let's

1758
01:48:37,960 --> 01:48:43,619
suppose we crank it up to something like

1759
01:48:40,090 --> 01:48:47,860
four so there's a lot less perspective

1760
01:48:43,619 --> 01:48:49,840
right so you could see how much less

1761
01:48:47,859 --> 01:48:53,289
there is there right and then I i'll

1762
01:48:49,840 --> 01:48:55,860
pull back we'll get rid of the fog tempo

1763
01:48:53,289 --> 01:48:55,859
just temporarily

1764
01:49:05,960 --> 01:49:11,840
and that's because we don't have the

1765
01:49:07,819 --> 01:49:14,299
ability to control it currently and so

1766
01:49:11,840 --> 01:49:18,699
that's we need to do as an improvement

1767
01:49:14,300 --> 01:49:21,560
to the API anyway so if we look at fog

1768
01:49:18,699 --> 01:49:25,369
being off and then we just pull the

1769
01:49:21,560 --> 01:49:28,490
camera back much further than it was so

1770
01:49:25,369 --> 01:49:31,699
the camera dolly is you know more like

1771
01:49:28,489 --> 01:49:36,130
you know 40 or something here so we pull

1772
01:49:31,699 --> 01:49:38,569
back use a much longer focal length lens

1773
01:49:36,130 --> 01:49:44,000
so what you can see there is it gets a

1774
01:49:38,569 --> 01:49:47,000
lot closer to isometric right so we can

1775
01:49:44,000 --> 01:49:50,239
control the level of eccentricity that

1776
01:49:47,000 --> 01:49:54,229
we get when we look at that at that

1777
01:49:50,239 --> 01:49:58,639
transform and so we can sort of pick how

1778
01:49:54,229 --> 01:50:00,979
much of that we want to go into our

1779
01:49:58,640 --> 01:50:03,079
render and I feel like that's pretty

1780
01:50:00,979 --> 01:50:05,059
good so let's suppose we play with this

1781
01:50:03,079 --> 01:50:13,100
a little bit and just get something a

1782
01:50:05,060 --> 01:50:14,510
little less drastic right kind of figure

1783
01:50:13,100 --> 01:50:20,090
out where the sweet spot is here I don't

1784
01:50:14,510 --> 01:50:21,530
really know so let's suppose we get

1785
01:50:20,090 --> 01:50:24,560
something a little less drastic like

1786
01:50:21,529 --> 01:50:26,750
that and then we can tilt the camera a

1787
01:50:24,560 --> 01:50:30,010
little more right which increases our

1788
01:50:26,750 --> 01:50:30,010
ability to be accurate

1789
01:50:39,998 --> 01:50:47,889
we can also lower ourselves down a

1790
01:50:42,788 --> 01:50:51,248
little more right we can we can keep

1791
01:50:47,889 --> 01:50:53,219
that but shift so instead of doing only

1792
01:50:51,248 --> 01:50:56,380
the bevel we can actually push ourselves

1793
01:50:53,219 --> 01:51:00,760
down slightly so we can we can actually

1794
01:50:56,380 --> 01:51:02,979
have a camera offset shift in there so

1795
01:51:00,760 --> 01:51:19,449
like in here we could just artificially

1796
01:51:02,979 --> 01:51:22,440
drop ourselves down so this this camera

1797
01:51:19,448 --> 01:51:22,439
drop shift here

1798
01:51:28,439 --> 01:51:32,799
we can choose to like I don't know how

1799
01:51:31,658 --> 01:51:36,638
much we should

1800
01:51:32,800 --> 01:51:39,579
okay that's obviously not good what

1801
01:51:36,639 --> 01:51:42,359
happened there oh that times 10 gets me

1802
01:51:39,578 --> 01:51:45,840
every time gets me every time

1803
01:51:42,359 --> 01:51:45,839
mr. not gonna do that

1804
01:51:49,238 --> 01:51:58,958
so that drop shift is just going to be

1805
01:51:53,130 --> 01:52:02,170
you know put us down closer to the

1806
01:51:58,958 --> 01:52:04,469
ground but leave the same angle you know

1807
01:52:02,170 --> 01:52:04,469
I'm saying

1808
01:52:18,680 --> 01:52:23,520
so there everything seems to be stacking

1809
01:52:21,569 --> 01:52:29,639
really nicely like I don't see a lot of

1810
01:52:23,520 --> 01:52:32,010
errors in that you know you can't stick

1811
01:52:29,640 --> 01:52:33,329
a tree inside a wall anyway so that

1812
01:52:32,010 --> 01:52:36,119
doesn't bother me at all you also can't

1813
01:52:33,329 --> 01:52:38,460
have two trees like that are exact same

1814
01:52:36,119 --> 01:52:39,989
plane so a little bit of jitter in your

1815
01:52:38,460 --> 01:52:41,730
placement of trees would fix it even if

1816
01:52:39,989 --> 01:52:43,260
you wanted to stick them too close to

1817
01:52:41,729 --> 01:52:47,159
right next to each other like that would

1818
01:52:43,260 --> 01:52:50,070
be fine still and you just can't put a

1819
01:52:47,159 --> 01:52:51,599
tree that close to a wall that such it

1820
01:52:50,069 --> 01:52:56,759
would stick into it but other than that

1821
01:52:51,600 --> 01:52:59,870
right you're fine so I feel like that's

1822
01:52:56,760 --> 01:52:59,869
pretty good

1823
01:53:19,310 --> 01:53:22,950
so the last thing we do here is just

1824
01:53:21,329 --> 01:53:25,350
maybe try to clean this up a little bit

1825
01:53:22,949 --> 01:53:30,929
so what I'm gonna do is I'm gonna make a

1826
01:53:25,350 --> 01:53:35,039
little thing that's like do we have in

1827
01:53:30,930 --> 01:53:39,960
our renderer test code here we have a

1828
01:53:35,039 --> 01:53:44,279
seat in each file we don't um so I'm

1829
01:53:39,960 --> 01:53:47,520
gonna make an H file I'm just gonna go

1830
01:53:44,279 --> 01:53:50,179
ahead and into that H file I'm gonna put

1831
01:53:47,520 --> 01:53:50,180
this stuff

1832
01:54:03,340 --> 01:54:13,789
and then all I'm going to do here is

1833
01:54:05,090 --> 01:54:17,840
just make a thing that's like just test

1834
01:54:13,789 --> 01:54:23,300
the scene and all it's going to do is

1835
01:54:17,840 --> 01:54:26,770
just have in it so this stuff here I'm

1836
01:54:23,300 --> 01:54:30,020
just gonna I'm just gonna put like this

1837
01:54:26,770 --> 01:54:34,340
information into an actual like encoding

1838
01:54:30,020 --> 01:54:41,720
right so I'm just gonna say enum test

1839
01:54:34,340 --> 01:54:51,500
scene element and I'm just gonna say

1840
01:54:41,720 --> 01:54:55,340
grass tree wall that's it animus a test

1841
01:54:51,500 --> 01:54:57,880
scene element elements and I'm gonna say

1842
01:54:55,340 --> 01:54:57,880
like

1843
01:55:10,069 --> 01:55:16,979
whatever these things were here so

1844
01:55:12,869 --> 01:55:25,590
alright the it's like 40 wide and 50

1845
01:55:16,979 --> 01:55:29,489
long or something right so looks

1846
01:55:25,590 --> 01:55:33,449
something like that and so in here I'm

1847
01:55:29,489 --> 01:55:36,809
just gonna actually and I'll put in a

1848
01:55:33,449 --> 01:55:38,789
little like min p-value so that's where

1849
01:55:36,810 --> 01:55:43,800
things start and then everything kind of

1850
01:55:38,789 --> 01:55:47,550
works off of that right so if I want to

1851
01:55:43,800 --> 01:55:50,730
know I can say internal void in it test

1852
01:55:47,550 --> 01:55:54,210
scene and cure you would just pass test

1853
01:55:50,729 --> 01:55:57,389
scene scene and what that will do is say

1854
01:55:54,210 --> 01:56:01,829
okay the min P is just whatever the test

1855
01:55:57,390 --> 01:56:05,610
scene Dimension X is right so however

1856
01:56:01,829 --> 01:56:08,989
big it is and I we don't care right so

1857
01:56:05,609 --> 01:56:13,969
however big it is I want half of that

1858
01:56:08,989 --> 01:56:16,889
backwards right I want to go backwards

1859
01:56:13,970 --> 01:56:20,250
by half of that I want to go backwards

1860
01:56:16,890 --> 01:56:23,760
by half of whatever the test seemed in Y

1861
01:56:20,250 --> 01:56:29,279
is and then I don't bother offsetting

1862
01:56:23,760 --> 01:56:32,850
the Z okay

1863
01:56:29,279 --> 01:56:43,920
furthermore I can actually make the grid

1864
01:56:32,850 --> 01:56:48,350
cell radius I could say so you know LM

1865
01:56:43,920 --> 01:56:48,350
radius or something like this right

1866
01:56:49,949 --> 01:56:53,699
so I could take the element radius as

1867
01:56:51,869 --> 01:56:55,199
well the element radius is the thing

1868
01:56:53,699 --> 01:56:57,960
that would tell me like where things are

1869
01:56:55,199 --> 01:57:00,420
so for example here where I'm saying

1870
01:56:57,960 --> 01:57:04,670
like oh where here's the position of the

1871
01:57:00,420 --> 01:57:04,670
thing it's like X Y whatever right

1872
01:57:05,359 --> 01:57:08,539
although if I just leave it 1 then we

1873
01:57:07,470 --> 01:57:10,560
don't have to do that

1874
01:57:08,539 --> 01:57:14,279
nevermind so let's just do that let's

1875
01:57:10,560 --> 01:57:16,530
just assume the position is always X y

1876
01:57:14,279 --> 01:57:20,189
plus the whatever the minutes so if we

1877
01:57:16,529 --> 01:57:22,889
just say seeing min P plus whatever the

1878
01:57:20,189 --> 01:57:27,029
X is that seems that's better let's just

1879
01:57:22,890 --> 01:57:28,860
do that this is just a test it's fine so

1880
01:57:27,029 --> 01:57:30,719
that seems fine to me and then that way

1881
01:57:28,859 --> 01:57:34,469
we can just say like okay here's the

1882
01:57:30,720 --> 01:57:37,789
test scene right and I can stick this

1883
01:57:34,470 --> 01:57:37,789
stuff in here

1884
01:57:40,770 --> 01:57:49,700
so that way things are a little clearer

1885
01:57:45,449 --> 01:57:49,699
it's obvious what's going on

1886
01:57:56,408 --> 01:58:05,509
and now all I have to do is actually

1887
01:57:58,460 --> 01:58:14,118
iterate over these things in in a sane

1888
01:58:05,510 --> 01:58:18,260
way like so and I should be good to go

1889
01:58:14,118 --> 01:58:23,289
right okay so now what I want to do is I

1890
01:58:18,260 --> 01:58:29,270
actually want to set these set this up

1891
01:58:23,289 --> 01:58:38,929
so you know this test scene here I want

1892
01:58:29,270 --> 01:58:50,090
to just create that like so and

1893
01:58:38,929 --> 01:58:52,399
similarly I can do that in here so I can

1894
01:58:50,090 --> 01:58:55,279
load in the textures that we want I can

1895
01:58:52,399 --> 01:58:58,129
set the location of the thing that we

1896
01:58:55,279 --> 01:59:02,809
want in general I can go ahead and

1897
01:58:58,130 --> 01:59:04,880
compile now and in theory this should

1898
01:59:02,810 --> 01:59:07,030
still work I might have messed something

1899
01:59:04,880 --> 01:59:09,800
up but in theory it should still work

1900
01:59:07,029 --> 01:59:11,779
and then what I wanted to do was just

1901
01:59:09,800 --> 01:59:14,929
make it so that when we do this simple

1902
01:59:11,779 --> 01:59:18,529
same thing the test same thing when we

1903
01:59:14,929 --> 01:59:20,420
admit that simple scene so I feel like

1904
01:59:18,529 --> 01:59:22,759
we can just do a better job now with

1905
01:59:20,420 --> 01:59:25,279
this stuff so what I'll what I want to

1906
01:59:22,760 --> 01:59:28,310
do here is say well we always know we've

1907
01:59:25,279 --> 01:59:30,289
always got grass but then we can look to

1908
01:59:28,310 --> 01:59:32,810
see if there's a tree or if there's a

1909
01:59:30,289 --> 01:59:34,760
wall we do this stuff and then we'll

1910
01:59:32,810 --> 01:59:39,199
pick those differently so what we can

1911
01:59:34,760 --> 01:59:41,570
say is in here we'll look at the test

1912
01:59:39,198 --> 01:59:45,289
scene element and we'll say that

1913
01:59:41,569 --> 01:59:47,329
whatever was in this cell right the one

1914
01:59:45,289 --> 01:59:48,738
that we're actually talking about is the

1915
01:59:47,329 --> 01:59:51,679
element that we're going to use and that

1916
01:59:48,738 --> 01:59:54,488
way we can say if the element in

1917
01:59:51,679 --> 02:00:02,599
question is a tree then we draw a tree

1918
01:59:54,488 --> 02:00:06,019
if the element in question is a wall

1919
02:00:02,599 --> 02:00:07,279
then we draw a wall right

1920
02:00:06,020 --> 02:00:12,680
and so what should

1921
02:00:07,279 --> 02:00:14,420
and now is we just should get garbage so

1922
02:00:12,680 --> 02:00:17,539
this is just uninitialized memory

1923
02:00:14,420 --> 02:00:19,520
basically right and so what we want to

1924
02:00:17,539 --> 02:00:22,479
do is actually write because this this

1925
02:00:19,520 --> 02:00:24,770
is just whatever was on the stack right

1926
02:00:22,479 --> 02:00:28,519
so what we want to do now is actually

1927
02:00:24,770 --> 02:00:32,060
set all of these elements so what I want

1928
02:00:28,520 --> 02:00:34,100
to do is is take this thing and just mem

1929
02:00:32,060 --> 02:00:35,630
set it to zero right or another way to

1930
02:00:34,100 --> 02:00:37,730
do that would be just a force to clear

1931
02:00:35,630 --> 02:00:40,730
to zero back here so we could say like

1932
02:00:37,729 --> 02:00:44,299
that right that would clear everything

1933
02:00:40,729 --> 02:00:48,769
to a grass tile so now we got nothing

1934
02:00:44,300 --> 02:00:52,010
then what we could do is when we come in

1935
02:00:48,770 --> 02:00:55,610
to the unit test scene what I want to do

1936
02:00:52,010 --> 02:01:09,739
is just loop for a while I don't care

1937
02:00:55,609 --> 02:01:14,239
how many times I'm gonna say while the

1938
02:01:09,739 --> 02:01:24,189
wall count is less than 20 and the tree

1939
02:01:14,239 --> 02:01:28,659
count is less than 30 I don't know

1940
02:01:24,189 --> 02:01:36,559
then we do a random pick or something I

1941
02:01:28,659 --> 02:01:48,099
don't know in fact forget that police

1942
02:01:36,560 --> 02:01:51,530
random scene element tree give me 20

1943
02:01:48,100 --> 02:01:53,390
wall 30 whatever right you see what I'm

1944
02:01:51,529 --> 02:01:58,449
saying so we just have a thing here it's

1945
02:01:53,390 --> 02:02:00,650
like play some random things down I

1946
02:01:58,449 --> 02:02:02,889
don't really want to hear about it just

1947
02:02:00,649 --> 02:02:02,889
do it

1948
02:02:06,389 --> 02:02:14,609
count right so then we just see look

1949
02:02:11,279 --> 02:02:18,229
loop I guess I can just say while placed

1950
02:02:14,609 --> 02:02:21,179
equals zero placed is less than count

1951
02:02:18,229 --> 02:02:22,919
placed plus plus what I want to do now

1952
02:02:21,179 --> 02:02:26,579
just say alright let's pick a random

1953
02:02:22,920 --> 02:02:28,679
spot so what I want to do is I want to

1954
02:02:26,579 --> 02:02:31,738
take and pick two randoms an x and a y

1955
02:02:28,679 --> 02:02:34,649
right so the X is going to be test

1956
02:02:31,738 --> 02:02:37,229
seemed dim X the Y is gonna be test

1957
02:02:34,649 --> 02:02:48,198
seemed my long so this is going to be a

1958
02:02:37,229 --> 02:02:58,019
Rand mob that I'm gonna skip the outside

1959
02:02:48,198 --> 02:02:59,789
so there's a one cell apron and then

1960
02:02:58,020 --> 02:03:02,520
what I'm gonna do is I'm gonna look to

1961
02:02:59,789 --> 02:03:05,250
see whether everything including the

1962
02:03:02,520 --> 02:03:09,710
spot I'm on is free so then I'm just

1963
02:03:05,250 --> 02:03:13,380
gonna do like a test X equals x minus 1

1964
02:03:09,710 --> 02:03:19,710
test X less than equal to X test X plus

1965
02:03:13,380 --> 02:03:22,889
plus and here I'm literally just going

1966
02:03:19,710 --> 02:03:25,770
through and checking than the the 7 the

1967
02:03:22,889 --> 02:03:31,230
9 cells making sure that nothing is

1968
02:03:25,770 --> 02:03:38,969
actually in it right so clear or you

1969
02:03:31,229 --> 02:03:42,529
know what I'll do like occupant so we'll

1970
02:03:38,969 --> 02:03:48,810
just say all right if the scene elements

1971
02:03:42,529 --> 02:03:53,448
test Y test X has something in it then

1972
02:03:48,810 --> 02:03:57,840
it has an occupant if the occupants

1973
02:03:53,448 --> 02:04:00,888
equals 0 then we have placed the tree or

1974
02:03:57,840 --> 02:04:00,889
whatever we're placing

1975
02:04:03,930 --> 02:04:08,100
and that will make it so that we don't

1976
02:04:06,810 --> 02:04:09,450
place things right next to each other

1977
02:04:08,100 --> 02:04:11,740
which is what we were trying to avoid

1978
02:04:09,449 --> 02:04:15,389
right

1979
02:04:11,739 --> 02:04:23,920
[Music]

1980
02:04:15,390 --> 02:04:26,170
that's a typo and off we go right so now

1981
02:04:23,920 --> 02:04:29,859
in theory we should just have stuff that

1982
02:04:26,170 --> 02:04:31,510
is spaced out properly and we still have

1983
02:04:29,859 --> 02:04:33,429
some more stuff we probably want to do

1984
02:04:31,510 --> 02:04:43,840
there looks like we didn't place nearly

1985
02:04:33,430 --> 02:04:48,360
enough of these so there's that so I'll

1986
02:04:43,840 --> 02:04:48,360
I'll up that quotient a little bit

1987
02:04:57,699 --> 02:05:03,979
wait a minute what's going on how can

1988
02:05:02,329 --> 02:05:14,960
those two be placed next to each other

1989
02:05:03,979 --> 02:05:16,879
I messed something up oh yeah so don't

1990
02:05:14,960 --> 02:05:30,579
ask me how I forgot to type the plus one

1991
02:05:16,880 --> 02:05:30,579
in there but apparently I did so yeah

1992
02:05:40,539 --> 02:05:53,269
um so I think that's really it I mean

1993
02:05:51,859 --> 02:05:55,488
the other thing we could do is maybe

1994
02:05:53,270 --> 02:05:59,989
make a we could make some mountainous

1995
02:05:55,488 --> 02:06:01,819
some more like displacement here just to

1996
02:05:59,988 --> 02:06:06,439
make sure that's why we could do a bunch

1997
02:06:01,819 --> 02:06:08,179
of stuff and maybe we will but like we

1998
02:06:06,439 --> 02:06:10,129
can change the heights of things I think

1999
02:06:08,179 --> 02:06:13,489
relatively dramatically there and it

2000
02:06:10,130 --> 02:06:14,840
should be okay and again the main

2001
02:06:13,488 --> 02:06:18,319
problem I'm having right now is the

2002
02:06:14,840 --> 02:06:21,050
trees not being anchored white as far

2003
02:06:18,319 --> 02:06:24,439
down and again that's that makes sense

2004
02:06:21,050 --> 02:06:26,029
the we started the sprite at its bottom

2005
02:06:24,439 --> 02:06:27,829
right in the center but you really need

2006
02:06:26,029 --> 02:06:32,658
to be offset down so that's something we

2007
02:06:27,829 --> 02:06:39,769
kind of want to look at some more so you

2008
02:06:32,658 --> 02:06:43,119
know we'll we'll have to yeah we'll have

2009
02:06:39,770 --> 02:06:43,120
to kind of play with that a little bit

2010
02:06:43,689 --> 02:06:46,750
all right

2011
02:06:51,668 --> 02:06:56,948
and we couldn't do anything special on

2012
02:06:53,958 --> 02:06:56,948
till you 500 No

2013
02:07:02,270 --> 02:07:07,060
I also I noticed the framerate looks a

2014
02:07:04,850 --> 02:07:13,300
little uneven here and I'm not sure why

2015
02:07:07,060 --> 02:07:17,020
I would I would be interested to see

2016
02:07:13,300 --> 02:07:17,020
what's going on there

2017
02:07:39,329 --> 02:07:49,840
yeah we need to fix the we need to fix

2018
02:07:44,079 --> 02:07:51,729
the the winding on the on the walls I

2019
02:07:49,840 --> 02:07:53,170
could do that now like I remember I

2020
02:07:51,729 --> 02:07:54,189
mention that we're in there now the

2021
02:07:53,170 --> 02:07:56,470
question I think you change the meaning

2022
02:07:54,189 --> 02:07:59,229
of the code in the NQ free function oh I

2023
02:07:56,470 --> 02:08:13,560
didn't mean to could it just be me

2024
02:07:59,229 --> 02:08:13,559
typing too fast you are correct

2025
02:08:29,670 --> 02:08:41,130
so that wants to take and the cues

2026
02:08:33,199 --> 02:08:44,279
depending what how did I mess that up so

2027
02:08:41,130 --> 02:08:45,359
bad that's pretty weird

2028
02:08:44,279 --> 02:08:47,399
I guess I was really not paying

2029
02:08:45,359 --> 02:08:56,069
attention so I'm not even looking at the

2030
02:08:47,399 --> 02:08:58,349
right values there so what I want to do

2031
02:08:56,069 --> 02:09:01,739
is say look if you're going to ink you

2032
02:08:58,350 --> 02:09:03,390
this list then staple the what's

2033
02:09:01,739 --> 02:09:06,679
currently on the free list to the end of

2034
02:09:03,390 --> 02:09:13,560
it then set it equal to the first one

2035
02:09:06,680 --> 02:09:18,090
that's what it should have been thank

2036
02:09:13,560 --> 02:09:24,050
you somebody took my name and yet I can

2037
02:09:18,090 --> 02:09:24,050
go fix that UV ordering all

2038
02:09:36,408 --> 02:09:42,219
I'll take a look

2039
02:09:38,880 --> 02:09:44,109
so if we wanted to fix the UVs remember

2040
02:09:42,220 --> 02:09:57,909
a saying about these guys we need to

2041
02:09:44,109 --> 02:10:06,639
look at the mid the the mid textures so

2042
02:09:57,909 --> 02:10:10,029
basically it has to be t0 t0 and mid t1

2043
02:10:06,640 --> 02:10:16,480
need to be on the bottom and then t2 and

2044
02:10:10,029 --> 02:10:19,119
t3 need to be at the top so when we're

2045
02:10:16,479 --> 02:10:23,459
actually looking at these you can see

2046
02:10:19,119 --> 02:10:28,059
the way we kind of got them here p0 all

2047
02:10:23,460 --> 02:10:31,810
0 1 2 &amp; 3 are all along the top so the Z

2048
02:10:28,060 --> 02:10:36,900
the positive Z is all around the top so

2049
02:10:31,810 --> 02:10:41,500
p0 1 2 3 right so there they are there

2050
02:10:36,899 --> 02:10:46,479
so here where we've got 2 &amp; 3 those need

2051
02:10:41,500 --> 02:10:49,060
to be the for each of these all of the

2052
02:10:46,479 --> 02:10:51,779
ones that are on top which I can mark

2053
02:10:49,060 --> 02:10:51,780
right

2054
02:10:56,079 --> 02:11:10,420
I don't know what for coat is doing

2055
02:11:02,560 --> 02:11:14,170
there I really don't know what fur

2056
02:11:10,420 --> 02:11:15,399
cutter is doing I guess oh I know why

2057
02:11:14,170 --> 02:11:18,130
because it doesn't have the additional

2058
02:11:15,399 --> 02:11:24,609
thing it's trying to interpret that as

2059
02:11:18,130 --> 02:11:26,409
something real I just want something I

2060
02:11:24,609 --> 02:11:37,059
can insert here that won't cause any

2061
02:11:26,409 --> 02:11:39,550
problems there we go there so if you

2062
02:11:37,060 --> 02:11:42,400
look at which ones these are right these

2063
02:11:39,550 --> 02:11:46,529
are the ones that are up on top so the

2064
02:11:42,399 --> 02:11:51,339
ones that are up on top need to have

2065
02:11:46,529 --> 02:11:52,960
need to have t2 and t3 and you can see

2066
02:11:51,340 --> 02:11:55,930
that like this one is problem is

2067
02:11:52,960 --> 02:12:01,510
probably right way round because you can

2068
02:11:55,930 --> 02:12:04,270
see that two and three are here this one

2069
02:12:01,510 --> 02:12:07,270
is probably not because here's two and

2070
02:12:04,270 --> 02:12:09,370
three but two and three are on like six

2071
02:12:07,270 --> 02:12:12,430
so we need to like shift this down one

2072
02:12:09,369 --> 02:12:14,979
right so probably we just have to roll

2073
02:12:12,430 --> 02:12:19,409
it over so it's like three zero one two

2074
02:12:14,979 --> 02:12:19,409
so now two and three are lined up right

2075
02:12:20,189 --> 02:12:25,509
so in terms of this one and that's

2076
02:12:23,920 --> 02:12:26,770
assuming that these were bound right in

2077
02:12:25,510 --> 02:12:28,570
the first place which I don't know so

2078
02:12:26,770 --> 02:12:31,210
we'd have to check here's the top two

2079
02:12:28,569 --> 02:12:33,039
here two and three right here's the top

2080
02:12:31,210 --> 02:12:34,569
one here two and three again not quite

2081
02:12:33,039 --> 02:12:39,579
right so again we just kind of want to

2082
02:12:34,569 --> 02:12:41,259
roll it over right and so now we're at

2083
02:12:39,579 --> 02:12:44,649
least lined up where bottoms and tops

2084
02:12:41,260 --> 02:12:46,690
seem to be in roughly the right location

2085
02:12:44,649 --> 02:12:49,259
to each other let's find out if that's

2086
02:12:46,689 --> 02:12:49,259
actually true

2087
02:12:52,800 --> 02:12:58,619
and I should go look at the bitmap to

2088
02:12:55,390 --> 02:12:58,619
actually make sure that's true

2089
02:13:03,329 --> 02:13:08,559
so let me that looks pretty good to me

2090
02:13:06,429 --> 02:13:11,100
let me let me just verify that that's

2091
02:13:08,560 --> 02:13:11,100
what it should look like

2092
02:13:29,869 --> 02:13:36,849
I mean that looks pretty good to me

2093
02:13:52,210 --> 02:13:56,189
so I think that's correct

2094
02:13:58,970 --> 02:14:03,250
[Music]

2095
02:14:05,380 --> 02:14:08,750
Albus we did not do the texture

2096
02:14:07,399 --> 02:14:10,159
generation stuff today instead what we

2097
02:14:08,750 --> 02:14:12,649
did is we just used our existing stuff

2098
02:14:10,159 --> 02:14:16,519
and made sure we could do all the things

2099
02:14:12,649 --> 02:14:18,619
we wanted to do in terms of sprite

2100
02:14:16,520 --> 02:14:20,990
placement and stuff and we roughly have

2101
02:14:18,619 --> 02:14:25,099
there's something with the placement of

2102
02:14:20,989 --> 02:14:27,349
the trees we want to fix that's because

2103
02:14:25,100 --> 02:14:29,630
we need the sort of hot spot stuff and

2104
02:14:27,350 --> 02:14:30,800
it's unclear how exactly we want to roll

2105
02:14:29,630 --> 02:14:34,010
that in here so there's a little bit

2106
02:14:30,800 --> 02:14:37,430
more I want to do but basically we're

2107
02:14:34,010 --> 02:14:40,060
there and so we can do the texture the

2108
02:14:37,430 --> 02:14:44,510
texture generation of stuff we will do

2109
02:14:40,060 --> 02:14:46,810
tomorrow I mean not tomorrow next

2110
02:14:44,510 --> 02:14:46,810
weekend

2111
02:14:59,399 --> 02:15:06,089
are we done with the renderer or will be

2112
02:15:02,130 --> 02:15:07,230
maintained both versions I'm not sure

2113
02:15:06,090 --> 02:15:14,190
evening by the render but we will

2114
02:15:07,229 --> 02:15:17,339
maintain the the software renderer

2115
02:15:14,189 --> 02:15:18,629
ventually it just doesn't have some of

2116
02:15:17,340 --> 02:15:20,579
the features at the moment so we don't

2117
02:15:18,630 --> 02:15:21,690
run it but I'm actually you know what

2118
02:15:20,579 --> 02:15:24,170
could you be more specific I'm not sure

2119
02:15:21,689 --> 02:15:24,169
what you mean

2120
02:15:43,270 --> 02:15:48,520
Hemet here we'll be using that a coupled

2121
02:15:45,159 --> 02:15:49,899
runner it already is right we only have

2122
02:15:48,520 --> 02:15:53,170
one render now it's that a coupled

2123
02:15:49,899 --> 02:15:56,879
version and both handmade hero and this

2124
02:15:53,170 --> 02:15:56,880
standalone version now use it

2125
02:16:10,319 --> 02:16:13,869
would be helpful in this situation to

2126
02:16:12,279 --> 02:16:20,409
use the old-school billboards that are 2

2127
02:16:13,869 --> 02:16:22,420
or 3 sprites in a plus or X shape I've

2128
02:16:20,409 --> 02:16:25,539
never found those to look particularly

2129
02:16:22,420 --> 02:16:27,460
good for something like the tree I feel

2130
02:16:25,539 --> 02:16:32,770
like what you could do is make each of

2131
02:16:27,460 --> 02:16:35,530
the bulbs have a little maybe more maybe

2132
02:16:32,770 --> 02:16:38,680
do that for the bulbs I don't know about

2133
02:16:35,530 --> 02:16:41,440
the base I mean I don't know like this

2134
02:16:38,680 --> 02:16:43,180
is this is an artistic decision at some

2135
02:16:41,440 --> 02:16:45,069
level you know it's not really technical

2136
02:16:43,180 --> 02:16:47,920
the technical solution is to do

2137
02:16:45,069 --> 02:16:49,989
everything in 3d right the artistic part

2138
02:16:47,920 --> 02:16:52,629
is like how do you want to express the

2139
02:16:49,989 --> 02:16:54,190
2d with 3d pieces like how are you gonna

2140
02:16:52,629 --> 02:16:58,179
do that you know and I don't know like

2141
02:16:54,190 --> 02:16:59,770
you got a lot of options our renderer

2142
02:16:58,180 --> 02:17:01,690
could trivially support any of them but

2143
02:16:59,770 --> 02:17:03,040
the question is like which ones so all I

2144
02:17:01,690 --> 02:17:05,170
was saying is like if you were to take

2145
02:17:03,040 --> 02:17:06,820
these and stagger the sprites a little

2146
02:17:05,170 --> 02:17:09,790
bit more so you had like the different

2147
02:17:06,819 --> 02:17:11,709
pom-poms kind of spaced out I think that

2148
02:17:09,790 --> 02:17:15,630
might help to potentially but again it's

2149
02:17:11,709 --> 02:17:15,629
just artistic questions like who knows

2150
02:17:20,069 --> 02:17:24,690
Fillie dusky oh no we're using the

2151
02:17:22,020 --> 02:17:26,940
decoupled version yeah we only have

2152
02:17:24,690 --> 02:17:28,620
we're only just running just one version

2153
02:17:26,940 --> 02:17:30,989
of the renderer handmade hero uses it

2154
02:17:28,620 --> 02:17:33,650
and this other project will potentially

2155
02:17:30,989 --> 02:17:33,649
use it or not

2156
02:18:47,558 --> 02:18:55,509
I'm also not sure I think cuz we rely on

2157
02:18:50,799 --> 02:18:58,028
some optimizations there I should also

2158
02:18:55,510 --> 02:19:08,019
point out that I think we probably want

2159
02:18:58,029 --> 02:19:10,000
to do that I don't really know how much

2160
02:19:08,019 --> 02:19:11,829
we would be bogging things down possibly

2161
02:19:10,000 --> 02:19:13,808
not at all but I do know that some of

2162
02:19:11,829 --> 02:19:17,260
our code has some slow paths in it if

2163
02:19:13,808 --> 02:19:24,879
you don't actually have speed

2164
02:19:17,260 --> 02:19:26,559
compilation on so if you too much to

2165
02:19:24,879 --> 02:19:30,068
attach the profiling stuff to just see

2166
02:19:26,558 --> 02:19:34,358
the FPS I would not do that but we can

2167
02:19:30,068 --> 02:19:37,510
dump our FPS pretty easily so if you

2168
02:19:34,359 --> 02:19:42,130
want to see that we have in here the

2169
02:19:37,510 --> 02:19:48,579
second celeste so what we can do is we

2170
02:19:42,129 --> 02:19:51,269
can do and output debug string so I

2171
02:19:48,579 --> 02:19:51,270
could do

2172
02:20:09,590 --> 02:20:18,090
right so we can prepare a little string

2173
02:20:12,478 --> 02:20:19,948
here and dump it and when we do that if

2174
02:20:18,090 --> 02:20:23,898
we look at the outputs it'll come out

2175
02:20:19,949 --> 02:20:30,930
here so what we can do is we can just

2176
02:20:23,898 --> 02:20:33,448
take sort of a min/max average kind of

2177
02:20:30,930 --> 02:20:39,029
approach there where we can just keep

2178
02:20:33,449 --> 02:20:41,149
track of it so second so if we do

2179
02:20:39,029 --> 02:20:44,149
seconds per frame I can do like a min

2180
02:20:41,148 --> 02:20:44,148
SPF

2181
02:20:45,148 --> 02:20:53,189
max SPF and an average of SP well

2182
02:20:50,309 --> 02:20:55,139
actually I'm just gonna do min max so if

2183
02:20:53,189 --> 02:20:56,939
we do min max here what I can do is just

2184
02:20:55,139 --> 02:21:02,459
say like look every time we come through

2185
02:20:56,939 --> 02:21:08,789
here I'm gonna look and say the mean SPF

2186
02:21:02,459 --> 02:21:11,158
equals the minimum of the ministry and

2187
02:21:08,789 --> 02:21:20,010
the second Celeste and the max SPF

2188
02:21:11,158 --> 02:21:22,920
equals the maximum right so we'll keep

2189
02:21:20,010 --> 02:21:25,158
track of that and then you know every so

2190
02:21:22,920 --> 02:21:25,158
often

2191
02:21:42,350 --> 02:21:51,229
how about every five seconds something

2192
02:21:47,670 --> 02:21:51,228
like that I don't know I have no idea

2193
02:22:12,689 --> 02:22:17,699
we probably want that to be more than

2194
02:22:15,238 --> 02:22:21,840
that precision but for right now we're

2195
02:22:17,699 --> 02:22:23,699
just going to do it that way well you

2196
02:22:21,840 --> 02:22:27,719
know what no I could do this let's do

2197
02:22:23,699 --> 02:22:30,029
point O to F right and then I'll do is

2198
02:22:27,719 --> 02:22:34,198
I'll just multiply by a thousand them in

2199
02:22:30,029 --> 02:22:42,658
SP I'm sorry / no multiplied by a

2200
02:22:34,199 --> 02:22:49,140
thousand and that should give us

2201
02:22:42,658 --> 02:22:54,139
something uh do we did we not include

2202
02:22:49,139 --> 02:22:57,778
that I thought we had a min minimum

2203
02:22:54,139 --> 02:23:05,148
where are those oats and hand-made

2204
02:22:57,779 --> 02:23:08,988
shared at which we did not include so

2205
02:23:05,148 --> 02:23:08,988
I'll do it the old-school way

2206
02:23:31,600 --> 02:23:36,430
so we're just keep whatever our quickest

2207
02:23:34,579 --> 02:23:39,430
frame time and our slowest frame time

2208
02:23:36,430 --> 02:23:39,430
work

2209
02:23:52,020 --> 02:23:56,699
and then when we look at the output it

2210
02:23:53,790 --> 02:23:58,170
should just periodically tell us every

2211
02:23:56,699 --> 02:24:03,620
time we've done a certain number of

2212
02:23:58,170 --> 02:24:03,620
frames that doesn't look right at all

2213
02:24:11,079 --> 02:24:15,239
it's because of the test right

2214
02:24:25,940 --> 02:24:38,760
that is not really the max that was cuz

2215
02:24:28,890 --> 02:24:40,920
I was dragging and I'm assuming here you

2216
02:24:38,760 --> 02:24:45,569
can see we don't hit 60 frames a second

2217
02:24:40,920 --> 02:24:47,670
consistently I don't actually know but

2218
02:24:45,569 --> 02:24:49,469
that's from but I'm guessing it's

2219
02:24:47,670 --> 02:24:51,000
because of our texture changes the fact

2220
02:24:49,469 --> 02:24:53,520
the one thing that I really wanted to

2221
02:24:51,000 --> 02:24:56,969
fix right because I'm assuming and I

2222
02:24:53,521 --> 02:25:00,000
don't know but I'm assuming if we just

2223
02:24:56,969 --> 02:25:03,409
didn't have as many things in the scene

2224
02:25:00,000 --> 02:25:11,129
so let's suppose we did something like

2225
02:25:03,409 --> 02:25:12,899
this I'm assuming we would just be 60

2226
02:25:11,129 --> 02:25:14,810
frames second because I'm assuming that

2227
02:25:12,899 --> 02:25:17,879
we just have too many texture changes I

2228
02:25:14,810 --> 02:25:19,409
don't really know oh we have to have

2229
02:25:17,879 --> 02:25:23,369
enough room for the thing to actually

2230
02:25:19,409 --> 02:25:29,729
sprinkle all of its sort of stuff in

2231
02:25:23,370 --> 02:25:32,250
unfortunately so I'm assuming that like

2232
02:25:29,729 --> 02:25:35,189
again that the fixing the texture change

2233
02:25:32,250 --> 02:25:38,219
is not a wasted thing like we need to do

2234
02:25:35,190 --> 02:25:41,420
that it will make a big difference I

2235
02:25:38,219 --> 02:25:41,420
think but we'll see

2236
02:25:43,828 --> 02:25:48,398
it's still not perfect so part of it may

2237
02:25:46,629 --> 02:25:50,560
be also the lighting poling and stuff

2238
02:25:48,398 --> 02:25:51,278
like that little interesting to see one

2239
02:25:50,559 --> 02:25:53,048
of the nice things about having

2240
02:25:51,279 --> 02:25:54,429
separated renderers we can actually kind

2241
02:25:53,049 --> 02:25:56,529
of go to town on it a little bit as well

2242
02:25:54,429 --> 02:26:02,408
you can see it's sound of stabilizing

2243
02:25:56,529 --> 02:26:03,879
out now at about 60 frames a second and

2244
02:26:02,408 --> 02:26:07,538
it actually does look smoother when I

2245
02:26:03,879 --> 02:26:11,039
reduce the size I'm pretty sure that it

2246
02:26:07,539 --> 02:26:11,039
was not hitting 60

2247
02:26:21,729 --> 02:26:27,789
in this case you can also test its

2248
02:26:25,479 --> 02:26:30,729
sensitivity to fill rate we can look at

2249
02:26:27,790 --> 02:26:32,290
that a second but so so wheat so it's

2250
02:26:30,729 --> 02:26:33,640
pretty easy just to get a simple France

2251
02:26:32,290 --> 02:26:35,410
for second counter getting more

2252
02:26:33,640 --> 02:26:38,880
information is harder if you don't have

2253
02:26:35,409 --> 02:26:38,880
a real profiling thing set up but

2254
02:26:47,521 --> 02:26:51,771
I did not update for a credit yesterday

2255
02:26:58,351 --> 02:27:05,221
so it looks like actually it is doing

2256
02:27:01,200 --> 02:27:06,659
fine even in this case so I don't know

2257
02:27:05,220 --> 02:27:08,220
maybe the texture changes aren't that

2258
02:27:06,659 --> 02:27:09,810
big of deal it seems like it's

2259
02:27:08,220 --> 02:27:15,079
stabilized out to 60 frames a second as

2260
02:27:09,810 --> 02:27:19,369
well so I don't know we'll see we'll see

2261
02:27:15,079 --> 02:27:19,370
I'm not testify right a little bit

2262
02:27:31,939 --> 02:27:41,509
so it seems like it's still stabilizing

2263
02:27:34,100 --> 02:27:46,939
up to 260 but yeah we have we wait for

2264
02:27:41,509 --> 02:27:49,279
the vertical reef refresh right so it

2265
02:27:46,939 --> 02:27:51,109
should never exceed 60 frames a second

2266
02:27:49,279 --> 02:27:59,738
because we specifically say wait for V

2267
02:27:51,109 --> 02:27:59,738
blank so you know there's that as well

2268
02:28:12,818 --> 02:28:18,350
why do the frames Jeff sub le when

2269
02:28:15,049 --> 02:28:21,379
moving the window so the reason for that

2270
02:28:18,350 --> 02:28:22,879
is that it's not that really that

2271
02:28:21,379 --> 02:28:27,379
there's a processing problem with it

2272
02:28:22,879 --> 02:28:31,338
it's that we don't update while it's

2273
02:28:27,379 --> 02:28:33,350
happening right it stops it's not that

2274
02:28:31,338 --> 02:28:39,588
it's take it literally just does not

2275
02:28:33,350 --> 02:28:43,039
update that's because of the way that

2276
02:28:39,588 --> 02:28:48,709
Windows handles these messages so sizing

2277
02:28:43,039 --> 02:28:54,009
and and dragging it actually interrupts

2278
02:28:48,709 --> 02:28:56,539
your thread so you don't get any more

2279
02:28:54,009 --> 02:29:00,318
like pumping through your message loop

2280
02:28:56,539 --> 02:29:01,969
right so it's not that it's spamming the

2281
02:29:00,318 --> 02:29:03,109
process with messages and taking too

2282
02:29:01,968 --> 02:29:05,628
much time or anything if that it's

2283
02:29:03,109 --> 02:29:07,129
literally stopping your process because

2284
02:29:05,629 --> 02:29:09,709
that's what it wants it's not that

2285
02:29:07,129 --> 02:29:11,390
process stopping your thread because

2286
02:29:09,709 --> 02:29:15,649
that's what it wants to do if you

2287
02:29:11,389 --> 02:29:19,958
instead put this on another thread it

2288
02:29:15,648 --> 02:29:24,648
would just keep on trucking right and

2289
02:29:19,959 --> 02:29:29,020
you can do that if you want to tip to

2290
02:29:24,648 --> 02:29:31,759
just to maybe make that a little clearer

2291
02:29:29,020 --> 02:29:33,469
so you know all this stuff that's

2292
02:29:31,759 --> 02:29:36,439
happening here right we create the

2293
02:29:33,468 --> 02:29:39,828
window and the windows on this thread so

2294
02:29:36,439 --> 02:29:42,229
when we're handling messages this thread

2295
02:29:39,828 --> 02:29:43,699
will stop when someone starts dragging

2296
02:29:42,228 --> 02:29:45,019
your window this thread will stop

2297
02:29:43,699 --> 02:29:45,700
because it's the thread that created

2298
02:29:45,020 --> 02:29:51,851
this window

2299
02:29:45,700 --> 02:29:56,750
that means that this loop here will stop

2300
02:29:51,851 --> 02:29:58,670
if we don't want that loop to stop right

2301
02:29:56,750 --> 02:30:01,610
because this remember doesn't do

2302
02:29:58,670 --> 02:30:04,700
anything so we could be fielding our

2303
02:30:01,610 --> 02:30:07,460
messages in some other way right all we

2304
02:30:04,700 --> 02:30:11,631
would have to do is start with another

2305
02:30:07,459 --> 02:30:14,239
thread so if we want to write inside

2306
02:30:11,630 --> 02:30:19,819
win32 hand-made we know how to create a

2307
02:30:14,239 --> 02:30:23,119
thread mm-hmm here it is right so if we

2308
02:30:19,819 --> 02:30:24,920
want to not have that happen all we

2309
02:30:23,120 --> 02:30:28,790
would really have to do is create

2310
02:30:24,920 --> 02:30:31,909
another thread to do the rendering right

2311
02:30:28,790 --> 02:30:33,261
or to do everything really and so if we

2312
02:30:31,909 --> 02:30:35,119
want to do that right you create a

2313
02:30:33,261 --> 02:30:36,920
thread here you just say how big the

2314
02:30:35,120 --> 02:30:39,110
stack has to be you know who knows how

2315
02:30:36,920 --> 02:30:40,880
big the stack has to be I don't care how

2316
02:30:39,110 --> 02:30:43,670
big the stack has to be well megabytes

2317
02:30:40,880 --> 02:30:45,800
one was fine so one megabyte stack maybe

2318
02:30:43,670 --> 02:30:49,479
it's a bigger than that maybe it's a 16

2319
02:30:45,800 --> 02:30:53,149
megabyte stack let's go hog-wild right

2320
02:30:49,479 --> 02:30:56,511
and in here we can just have the like

2321
02:30:53,149 --> 02:30:57,979
render loop or something the startup

2322
02:30:56,511 --> 02:31:00,530
thing is the the thing that you would

2323
02:30:57,979 --> 02:31:03,199
pass to it and in this case that would

2324
02:31:00,530 --> 02:31:04,670
probably just be the window handle I

2325
02:31:03,200 --> 02:31:07,101
don't know if we ever need the window

2326
02:31:04,670 --> 02:31:09,079
handle again we do so probably what I

2327
02:31:07,101 --> 02:31:11,569
would choose to pass here is actually

2328
02:31:09,079 --> 02:31:13,870
the window handle so instead of startup

2329
02:31:11,569 --> 02:31:16,670
it would do that so it's an H wind right

2330
02:31:13,870 --> 02:31:18,230
and then we would get that thread ID if

2331
02:31:16,670 --> 02:31:20,659
we need it but we don't really in this

2332
02:31:18,229 --> 02:31:22,640
case so what I would do here is I just

2333
02:31:20,659 --> 02:31:24,110
say like okay close the thread handle

2334
02:31:22,640 --> 02:31:27,229
when you get it back you're done here

2335
02:31:24,110 --> 02:31:32,290
right so then when we come out here we

2336
02:31:27,229 --> 02:31:34,550
would need to have a thread proc right

2337
02:31:32,290 --> 02:31:38,210
which is something that windows can

2338
02:31:34,550 --> 02:31:40,670
enter and we would cast we would say

2339
02:31:38,209 --> 02:31:42,289
like that window is really this LP

2340
02:31:40,670 --> 02:31:43,790
parameter that we got here right because

2341
02:31:42,290 --> 02:31:45,250
it doesn't know what we're passing but

2342
02:31:43,790 --> 02:31:48,170
that's what we were passing right here

2343
02:31:45,250 --> 02:31:52,670
and so then the rest of all this this

2344
02:31:48,170 --> 02:31:54,860
stuff that was happening can actually

2345
02:31:52,670 --> 02:31:56,601
just happen in the thread proc now this

2346
02:31:54,860 --> 02:31:59,659
thread proc has nothing to do with that

2347
02:31:56,601 --> 02:32:02,090
window at all like they are unruly

2348
02:31:59,659 --> 02:32:05,750
it's a thread that is just looking at

2349
02:32:02,090 --> 02:32:08,030
the window from afar right and so at

2350
02:32:05,750 --> 02:32:10,459
that point we can just move the thing in

2351
02:32:08,030 --> 02:32:12,650
here that actually initializes opengl

2352
02:32:10,459 --> 02:32:15,469
and stuff and I don't remember if we're

2353
02:32:12,649 --> 02:32:18,109
maybe pushing Windows a little too hard

2354
02:32:15,469 --> 02:32:19,819
by doing that on the outside I can't

2355
02:32:18,110 --> 02:32:21,800
remember I'm sorry I just I just don't

2356
02:32:19,819 --> 02:32:23,949
remember what its rules are about who

2357
02:32:21,799 --> 02:32:29,449
can initialize OpenGL from a thread and

2358
02:32:23,950 --> 02:32:30,740
other things like that but anyway also

2359
02:32:29,450 --> 02:32:32,570
this stuff has to be in there because

2360
02:32:30,739 --> 02:32:37,930
we're actually using it so these things

2361
02:32:32,569 --> 02:32:37,930
need to be sort of pushed up in here and

2362
02:32:40,569 --> 02:32:54,500
if we launch it onto another thread then

2363
02:32:44,329 --> 02:32:56,799
what will happen is that thread this

2364
02:32:54,500 --> 02:32:56,799
goes

2365
02:33:04,579 --> 02:33:08,750
once we launched that thread then we're

2366
02:33:06,978 --> 02:33:10,819
good to go so the only thing we need to

2367
02:33:08,750 --> 02:33:13,010
do now is win through two process

2368
02:33:10,819 --> 02:33:15,709
pending messages can't happen on this

2369
02:33:13,010 --> 02:33:17,450
thread because it's got to happen on the

2370
02:33:15,709 --> 02:33:21,529
the thread where the window is actually

2371
02:33:17,450 --> 02:33:24,140
hanging out right um

2372
02:33:21,530 --> 02:33:26,000
I think that's all we would need to do

2373
02:33:24,139 --> 02:33:28,760
and then our render would be chugging

2374
02:33:26,000 --> 02:33:33,020
along even while windows was trying to

2375
02:33:28,760 --> 02:33:35,450
do other junk it didn't like that Oh

2376
02:33:33,020 --> 02:33:37,720
nope sorry we just need a while loop

2377
02:33:35,450 --> 02:33:37,720
there

2378
02:33:46,978 --> 02:33:53,199
all right so global running now that

2379
02:33:51,610 --> 02:33:56,079
it's getting set in kind of a haphazard

2380
02:33:53,200 --> 02:33:57,579
way externally that's gonna need to be a

2381
02:33:56,079 --> 02:33:59,289
volatile right you're gonna have to

2382
02:33:57,579 --> 02:34:09,639
always rear up reread that whoever you

2383
02:33:59,290 --> 02:34:12,970
are but otherwise I think it's okay we

2384
02:34:09,639 --> 02:34:14,379
send it to truth there it is and that we

2385
02:34:12,969 --> 02:34:17,340
have to set it to true before anyone

2386
02:34:14,379 --> 02:34:17,339
starts doing anything

2387
02:34:26,029 --> 02:34:29,840
and so then in theory you've got a

2388
02:34:27,950 --> 02:34:32,029
separate thread that's just constantly

2389
02:34:29,840 --> 02:34:34,219
rendering right and so then at that

2390
02:34:32,029 --> 02:34:36,229
point like if I move my window around

2391
02:34:34,219 --> 02:34:39,289
you'll notice now it just it's fine

2392
02:34:36,228 --> 02:34:40,728
right and it doesn't affect it at all

2393
02:34:39,290 --> 02:34:42,319
well except for the fact that if you

2394
02:34:40,728 --> 02:34:43,938
shake Windows thinks you want to

2395
02:34:42,318 --> 02:34:47,478
minimize everything because why wouldn't

2396
02:34:43,939 --> 02:34:49,790
that be true similarly we can resize the

2397
02:34:47,478 --> 02:34:52,670
window now and it also works we get that

2398
02:34:49,790 --> 02:34:56,870
black repaint problem but that's just

2399
02:34:52,670 --> 02:35:00,139
because windows will clear it we can if

2400
02:34:56,870 --> 02:35:01,970
we want to also change that but then you

2401
02:35:00,139 --> 02:35:05,238
get a little bit deeper down the rabbit

2402
02:35:01,969 --> 02:35:08,629
hole so if we say that there is no

2403
02:35:05,238 --> 02:35:13,100
clearing which is this right here

2404
02:35:08,629 --> 02:35:16,909
of the window then you won't get the

2405
02:35:13,100 --> 02:35:21,920
clear right but I'm not sure how

2406
02:35:16,909 --> 02:35:23,719
reliable the black border part is seems

2407
02:35:21,920 --> 02:35:25,340
okay so let's call it good enough for

2408
02:35:23,719 --> 02:35:30,469
government work but I would investigate

2409
02:35:25,340 --> 02:35:33,500
that a little bit more right and so now

2410
02:35:30,469 --> 02:35:35,688
you can see resizing has like no effect

2411
02:35:33,500 --> 02:35:37,879
on the frame rate so we can just kind of

2412
02:35:35,689 --> 02:35:40,639
go to town with that I've started up

2413
02:35:37,879 --> 02:35:43,429
movement resizing on the other hand does

2414
02:35:40,639 --> 02:35:47,599
and the reason for that is that actually

2415
02:35:43,430 --> 02:35:50,120
is creating more work when we resize we

2416
02:35:47,600 --> 02:35:52,159
have to reset all of our OpenGL context

2417
02:35:50,120 --> 02:35:54,020
and like make sure all the bitmaps for

2418
02:35:52,159 --> 02:35:55,850
the back store or the right size and all

2419
02:35:54,020 --> 02:35:57,529
that stuff we could speed that up by

2420
02:35:55,850 --> 02:36:00,488
just making ones the size of screen and

2421
02:35:57,529 --> 02:36:03,409
only using smaller regions of them but

2422
02:36:00,488 --> 02:36:06,469
resizing even though now it still were

2423
02:36:03,409 --> 02:36:08,059
it works correctly it's still gonna be a

2424
02:36:06,469 --> 02:36:10,068
slowdown because of the way the render

2425
02:36:08,059 --> 02:36:12,079
is architected at the moment and the way

2426
02:36:10,068 --> 02:36:13,579
we're using OpenGL resources but

2427
02:36:12,079 --> 02:36:15,950
movement since it doesn't change the

2428
02:36:13,579 --> 02:36:19,659
back buffer is just fine so just

2429
02:36:15,950 --> 02:36:19,659
hopefully that clarified that

2430
02:36:31,049 --> 02:36:40,139
oh yeah if you want to know more about

2431
02:36:32,850 --> 02:36:42,989
volatile I would take a look which back

2432
02:36:40,139 --> 02:36:45,299
of the archives but all volatile does is

2433
02:36:42,989 --> 02:36:49,318
it tells the compiler when it's

2434
02:36:45,299 --> 02:36:51,989
compiling code that it is not safe to

2435
02:36:49,318 --> 02:36:54,059
assume that the code that is being

2436
02:36:51,989 --> 02:36:57,930
generated is the only code that touches

2437
02:36:54,059 --> 02:36:59,728
the value okay so if you look at how

2438
02:36:57,930 --> 02:37:02,460
this was before hand without the

2439
02:36:59,728 --> 02:37:05,188
volatile this was a global variable

2440
02:37:02,459 --> 02:37:07,019
called global running and we used it in

2441
02:37:05,189 --> 02:37:13,250
a loop so for there's a couple loops

2442
02:37:07,020 --> 02:37:17,729
right one loop was here

2443
02:37:13,250 --> 02:37:20,398
Wow global running and one loop was here

2444
02:37:17,728 --> 02:37:21,840
log Global running right and global

2445
02:37:20,398 --> 02:37:24,000
running could get set to false

2446
02:37:21,840 --> 02:37:27,540
inside this win32 process pending

2447
02:37:24,000 --> 02:37:31,829
messages so if the compiler really

2448
02:37:27,540 --> 02:37:34,140
wanted to analyze this thoroughly it

2449
02:37:31,829 --> 02:37:35,818
could it would determine that global

2450
02:37:34,139 --> 02:37:37,709
running could be set to false which

2451
02:37:35,818 --> 02:37:40,379
means that this loop could exit and

2452
02:37:37,709 --> 02:37:45,000
technically you don't have to set this

2453
02:37:40,379 --> 02:37:49,709
one to volatile technically this one

2454
02:37:45,000 --> 02:37:51,629
however it can there is no way even if

2455
02:37:49,709 --> 02:37:52,919
the compiler analyzed all of the

2456
02:37:51,629 --> 02:37:54,898
functions that are being called here it

2457
02:37:52,920 --> 02:37:57,478
would never see any one set global

2458
02:37:54,898 --> 02:38:00,930
running to false therefore technically

2459
02:37:57,478 --> 02:38:02,608
the compiler could conclude that this is

2460
02:38:00,930 --> 02:38:05,189
an infinite loop and that it can never

2461
02:38:02,609 --> 02:38:07,350
be set to false and it would never exit

2462
02:38:05,189 --> 02:38:09,750
even though global running does get set

2463
02:38:07,350 --> 02:38:12,960
to false why because we haven't told the

2464
02:38:09,750 --> 02:38:15,809
compiler that global running could be

2465
02:38:12,959 --> 02:38:19,919
set by some other code than the one that

2466
02:38:15,809 --> 02:38:21,959
you are compiling right um and so once

2467
02:38:19,920 --> 02:38:25,109
you have more than one thread of

2468
02:38:21,959 --> 02:38:27,559
execution which is what we did the

2469
02:38:25,109 --> 02:38:30,030
compiler now needs to be told

2470
02:38:27,559 --> 02:38:32,539
whenever one of those threads that is

2471
02:38:30,030 --> 02:38:35,670
not the one it's compiling could touch a

2472
02:38:32,540 --> 02:38:37,380
piece of memory that this thread that

2473
02:38:35,670 --> 02:38:41,059
you're actually compiling and looking at

2474
02:38:37,379 --> 02:38:41,059
is dependent upon

2475
02:38:41,590 --> 02:38:52,389
um so what that means is putting the

2476
02:38:49,870 --> 02:38:53,770
volatile in as a way of ensuring that

2477
02:38:52,389 --> 02:38:55,779
when you have two threads that are both

2478
02:38:53,770 --> 02:38:57,850
touching the same memory the compiler

2479
02:38:55,780 --> 02:38:59,649
doesn't assume that the memory is the

2480
02:38:57,850 --> 02:39:02,649
same as when it looked at last time it

2481
02:38:59,648 --> 02:39:04,059
knows every time I asked you to look and

2482
02:39:02,648 --> 02:39:07,090
see if global running is true or false

2483
02:39:04,059 --> 02:39:09,819
you actually pull the memory and you

2484
02:39:07,090 --> 02:39:12,130
don't assume that when you're generating

2485
02:39:09,819 --> 02:39:13,449
the code if you read it once you don't

2486
02:39:12,129 --> 02:39:15,608
have to read it again if you didn't

2487
02:39:13,450 --> 02:39:17,109
touch it you have to assume someone else

2488
02:39:15,609 --> 02:39:18,460
could touch it and again there's better

2489
02:39:17,109 --> 02:39:22,059
explanations that's back in the archive

2490
02:39:18,459 --> 02:39:23,949
where I spent more time on it Martin's

2491
02:39:22,059 --> 02:39:28,090
posted a good point which is that we

2492
02:39:23,950 --> 02:39:30,130
don't actually need to burn time here if

2493
02:39:28,090 --> 02:39:33,219
we want to we can actually just use the

2494
02:39:30,129 --> 02:39:36,009
get message now so in here where we do

2495
02:39:33,219 --> 02:39:37,750
win through new process messages rather

2496
02:39:36,010 --> 02:39:41,790
than doing this peek message we can

2497
02:39:37,750 --> 02:39:44,319
actually do this as a get message right

2498
02:39:41,790 --> 02:39:47,310
so we can do that now we can actually

2499
02:39:44,319 --> 02:39:47,309
put that in here

2500
02:40:10,550 --> 02:40:16,050
all right so now we don't really need

2501
02:40:13,290 --> 02:40:24,540
the skip messages stuff we don't really

2502
02:40:16,050 --> 02:40:26,220
need most of this now actually really

2503
02:40:24,540 --> 02:40:29,250
what we can do now is just do a straight

2504
02:40:26,220 --> 02:40:36,569
for a get message so if we want to do

2505
02:40:29,250 --> 02:40:41,540
that here's the get message function and

2506
02:40:36,569 --> 02:40:46,050
here's what it produces right so we do a

2507
02:40:41,540 --> 02:40:47,700
get message it gives us back a pool

2508
02:40:46,050 --> 02:40:49,890
that's whether I believe whether we got

2509
02:40:47,700 --> 02:40:52,530
one or not we have the pointer to the

2510
02:40:49,890 --> 02:40:54,931
message pointer to the window handle

2511
02:40:52,530 --> 02:40:57,989
which we don't care about we will use

2512
02:40:54,931 --> 02:41:00,630
any right because any one is fine and

2513
02:40:57,989 --> 02:41:05,369
for filtering again we don't care about

2514
02:41:00,629 --> 02:41:13,050
either right so we can just do zero and

2515
02:41:05,370 --> 02:41:15,391
zero on those so what we can do here is

2516
02:41:13,050 --> 02:41:17,850
NaN just loop through here the got

2517
02:41:15,390 --> 02:41:20,399
message when it returns if it says here

2518
02:41:17,851 --> 02:41:22,409
like oops if it retrieves the message

2519
02:41:20,399 --> 02:41:23,609
other than W quit it's nonzero if the

2520
02:41:22,409 --> 02:41:25,050
function retrieves I didn't quit it

2521
02:41:23,610 --> 02:41:26,909
returned about zero if there's an error

2522
02:41:25,050 --> 02:41:30,319
of the return value is negative one

2523
02:41:26,909 --> 02:41:33,659
which is great since it's a bool right

2524
02:41:30,319 --> 02:41:35,250
so that's kind of fantastic I assume

2525
02:41:33,659 --> 02:41:37,800
that if we get an error we should just

2526
02:41:35,250 --> 02:41:43,050
exit out so probably what I would say

2527
02:41:37,800 --> 02:41:45,979
here is like if get message is you know

2528
02:41:43,050 --> 02:41:49,550
greater than equal to zero kind of thing

2529
02:41:45,979 --> 02:41:52,319
then we do our standard processing

2530
02:41:49,550 --> 02:41:54,149
otherwise we'll be running equals false

2531
02:41:52,319 --> 02:41:56,819
always the other thing is since we knew

2532
02:41:54,149 --> 02:42:02,310
that quit is the thing we could just do

2533
02:41:56,819 --> 02:42:05,310
this probably so basically if it's quit

2534
02:42:02,310 --> 02:42:07,011
or an error then just stop because what

2535
02:42:05,310 --> 02:42:09,979
who cares we're not going to do anything

2536
02:42:07,011 --> 02:42:14,829
if it's not quit or an error

2537
02:42:09,979 --> 02:42:14,829
do this right just deal with the message

2538
02:42:18,101 --> 02:42:26,721
do we have a message in here you know

2539
02:42:20,921 --> 02:42:32,380
okay uh so yeah that's the more correct

2540
02:42:26,720 --> 02:42:35,210
way to do that let me get rid of that

2541
02:42:32,380 --> 02:42:37,310
and so then no cpu time is being spent

2542
02:42:35,210 --> 02:42:39,020
in this it's just sitting around waiting

2543
02:42:37,310 --> 02:42:45,729
for Windows to send it a message if

2544
02:42:39,021 --> 02:42:45,730
Windows so desires right

2545
02:42:53,489 --> 02:42:57,039
could you go over the extra render

2546
02:42:55,329 --> 02:42:58,960
thread thing briefly again please I

2547
02:42:57,040 --> 02:43:01,181
thought the DC is thread specific and so

2548
02:42:58,960 --> 02:43:08,590
the OpenGL RC has to reside within the

2549
02:43:01,181 --> 02:43:12,610
same thread um yeah so I think one so a

2550
02:43:08,591 --> 02:43:14,860
couple things remember here so it may

2551
02:43:12,610 --> 02:43:17,319
look like we're doing multiple threads

2552
02:43:14,860 --> 02:43:20,200
accessing the DC but remember that's not

2553
02:43:17,319 --> 02:43:23,739
actually what we did so what we did is

2554
02:43:20,200 --> 02:43:25,480
we created a window we have never asked

2555
02:43:23,739 --> 02:43:29,110
for a DC from that window

2556
02:43:25,479 --> 02:43:33,250
so this thread is not using that DC for

2557
02:43:29,110 --> 02:43:37,091
any OpenGL purposes at all right then

2558
02:43:33,250 --> 02:43:40,750
this secondary thread is the one that

2559
02:43:37,091 --> 02:43:44,829
actually binds OpenGL an OpenGL context

2560
02:43:40,750 --> 02:43:48,489
to the DC only on it so we're actually

2561
02:43:44,829 --> 02:43:54,069
only you we still only have one thread

2562
02:43:48,489 --> 02:43:56,649
using OpenGL on a DC okay so you're not

2563
02:43:54,069 --> 02:43:59,851
wrong you have to be very careful about

2564
02:43:56,649 --> 02:44:03,880
how you work with threads and OpenGL

2565
02:43:59,851 --> 02:44:06,641
contexts we're not doing that our other

2566
02:44:03,880 --> 02:44:11,010
thread never touches the OpenGL context

2567
02:44:06,640 --> 02:44:11,011
and it never tries to bind it to a DC oh

2568
02:44:14,700 --> 02:44:18,721
yeah that's a good point

2569
02:44:19,129 --> 02:44:27,500
I don't think that's gonna matter much

2570
02:44:21,110 --> 02:44:30,340
but yeah Martin's is always a stickler

2571
02:44:27,500 --> 02:44:30,340
for platform calls

2572
02:44:40,649 --> 02:44:45,560
I don't know the best the only thing

2573
02:44:42,720 --> 02:44:48,359
about that is I don't really remember

2574
02:44:45,560 --> 02:44:53,490
so Martin's I don't know if I agree with

2575
02:44:48,360 --> 02:44:59,251
you though I think really the A's don't

2576
02:44:53,490 --> 02:45:01,800
have to be in here do they do the A's

2577
02:44:59,251 --> 02:45:04,140
actually have to be in here for any

2578
02:45:01,800 --> 02:45:05,939
particular reason now I mean I guess

2579
02:45:04,140 --> 02:45:11,490
you're right we probably want to stick

2580
02:45:05,940 --> 02:45:14,640
with using a on everything but I think

2581
02:45:11,490 --> 02:45:19,011
the macros are now in here so we could

2582
02:45:14,640 --> 02:45:21,979
get rid of all of the a entirely right

2583
02:45:19,011 --> 02:45:25,081
and actually switch these two L's

2584
02:45:21,979 --> 02:45:27,331
because since this isn't in the handmade

2585
02:45:25,081 --> 02:45:30,240
hero codebase anymore we can just do the

2586
02:45:27,331 --> 02:45:33,710
default thing right we're bound

2587
02:45:30,240 --> 02:45:33,710
including windows we could just do it

2588
02:45:33,921 --> 02:45:37,979
which might be a little bit cleaner for

2589
02:45:36,569 --> 02:45:41,370
people who are looking at it who don't

2590
02:45:37,979 --> 02:45:43,430
know what we're doing like I wonder if

2591
02:45:41,370 --> 02:45:48,990
it makes more sense to nuke all of the a

2592
02:45:43,431 --> 02:45:51,440
stuff and just use the default you know

2593
02:45:48,990 --> 02:45:51,440
what I'm saying

2594
02:46:00,450 --> 02:46:04,320
so I agree with you that if we left all

2595
02:46:02,489 --> 02:46:05,760
of our other aides in there we need to

2596
02:46:04,319 --> 02:46:14,609
be consistent but I wonder if we should

2597
02:46:05,760 --> 02:46:20,430
just get rid of all of those and then

2598
02:46:14,609 --> 02:46:22,170
just put the L in although in this case

2599
02:46:20,430 --> 02:46:23,729
it looks like we're compiling and asking

2600
02:46:22,170 --> 02:46:29,010
mode anyway so actually you just don't

2601
02:46:23,728 --> 02:46:30,719
need an A anywhere right so that's

2602
02:46:29,010 --> 02:46:32,309
probably better if we were gonna ship

2603
02:46:30,719 --> 02:46:35,510
this sample code off to somebody once we

2604
02:46:32,309 --> 02:46:35,510
clean it up you know what I mean

2605
02:46:47,040 --> 02:46:51,479
without air/w depend on project settings

2606
02:46:49,228 --> 02:46:53,099
whether Unicode is said or not

2607
02:46:51,478 --> 02:46:55,818
yeah I agree well that's why I normally

2608
02:46:53,100 --> 02:46:55,818
do a butt

2609
02:47:07,139 --> 02:47:14,519
but shouldn't it sort of work like isn't

2610
02:47:10,270 --> 02:47:14,520
it possible or is it not possible like

2611
02:47:16,439 --> 02:47:22,840
is it is there any way to write the code

2612
02:47:19,180 --> 02:47:25,300
so that it just works I guess what you'd

2613
02:47:22,840 --> 02:47:27,219
have to do is like your strings the

2614
02:47:25,299 --> 02:47:29,319
places where you have strings would have

2615
02:47:27,219 --> 02:47:34,978
to be kind of wrapped in some kind of a

2616
02:47:29,319 --> 02:47:34,978
of a aware cast you know

2617
02:47:46,911 --> 02:47:58,820
look we don't have strings in hardly any

2618
02:47:50,531 --> 02:48:02,571
locations but there's just a few places

2619
02:47:58,820 --> 02:48:06,530
where we do use it so I feel like maybe

2620
02:48:02,570 --> 02:48:12,521
we could still use it this would have to

2621
02:48:06,531 --> 02:48:12,521
use like W care T right like yeah

2622
02:48:12,880 --> 02:48:19,149
there's really no nice way to do that

2623
02:48:24,319 --> 02:48:27,558
[Music]

2624
02:48:34,020 --> 02:48:39,578
yeah

2625
02:48:35,459 --> 02:48:44,709
so I mean we could say I would have to

2626
02:48:39,578 --> 02:48:53,879
test this so we could say is this gonna

2627
02:48:44,709 --> 02:48:53,880
work no that's what Martin suggested -

2628
02:48:55,648 --> 02:49:02,318
I'm not sure yeah I'm not sure how to

2629
02:48:58,328 --> 02:49:07,439
make it be okay with just like turn

2630
02:49:02,318 --> 02:49:07,439
these into long strings as necessary

2631
02:49:09,359 --> 02:49:15,270
does the text macro work I never do this

2632
02:49:15,748 --> 02:49:28,809
looks like it's okay with that and so

2633
02:49:26,920 --> 02:49:39,068
then really all we would have here is

2634
02:49:28,809 --> 02:49:42,898
our output debug string is it's gonna

2635
02:49:39,068 --> 02:49:42,898
need to have that same kind of wrapping

2636
02:49:53,500 --> 02:50:00,920
so the question is if you select unicode

2637
02:49:56,898 --> 02:50:04,219
does the stupid does the windows stupid

2638
02:50:00,920 --> 02:50:09,829
stuff actually change the C runtime

2639
02:50:04,219 --> 02:50:16,459
library over as well you know and I

2640
02:50:09,829 --> 02:50:18,139
don't know but that that would be my

2641
02:50:16,459 --> 02:50:20,449
only concern I assume the C runtime

2642
02:50:18,139 --> 02:50:27,709
library doesn't change over to being W

2643
02:50:20,450 --> 02:50:30,279
cares so it seems like you could never

2644
02:50:27,709 --> 02:50:39,199
really get away from having that be an a

2645
02:50:30,279 --> 02:50:41,890
it or calling a conversion you know are

2646
02:50:39,200 --> 02:50:41,890
we happy with that

2647
02:51:21,739 --> 02:51:25,989
all right I'm gonna wrap it up

2648
02:51:27,110 --> 02:51:30,710
oh and Martin's is saying well we could

2649
02:51:28,790 --> 02:51:32,920
testify defining Unicode yeah I could

2650
02:51:30,709 --> 02:51:32,919
try

2651
02:51:46,689 --> 02:51:51,068
seems like it worked I'm curious if we

2652
02:51:49,420 --> 02:51:54,040
do we should be able to break it here

2653
02:51:51,068 --> 02:51:57,609
though so we should be able to see that

2654
02:51:54,040 --> 02:51:59,830
compiled if is actually working yeah

2655
02:51:57,609 --> 02:52:02,470
so that's good let's see what happens

2656
02:51:59,829 --> 02:52:05,049
when we do output debug string here I'm

2657
02:52:02,469 --> 02:52:10,209
curious so yeah you can see that it

2658
02:52:05,049 --> 02:52:13,028
wants a wide care so I'm wondering like

2659
02:52:10,209 --> 02:52:14,919
can I use like a different kind of care

2660
02:52:13,029 --> 02:52:20,369
I don't know if what kind of care would

2661
02:52:14,920 --> 02:52:25,238
be what is windows so let's see like

2662
02:52:20,369 --> 02:52:29,189
MSDN character type pendant on the

2663
02:52:25,238 --> 02:52:29,189
Unicode what

2664
02:53:02,970 --> 02:53:08,520
so I think if I just capitalize that

2665
02:53:06,300 --> 02:53:12,510
maybe that's what I want I want a tea

2666
02:53:08,521 --> 02:53:16,471
care right and then my problem here is

2667
02:53:12,511 --> 02:53:19,681
that be I'm I need a sprint F that

2668
02:53:16,470 --> 02:53:22,199
actually sort of works there right four

2669
02:53:19,681 --> 02:53:25,230
wide characters but I assume that I can

2670
02:53:22,200 --> 02:53:28,200
if I want to actually do that as well

2671
02:53:25,229 --> 02:53:31,470
because I assume that if I actually ask

2672
02:53:28,200 --> 02:53:35,909
for like a WS printf a what you know

2673
02:53:31,470 --> 02:53:37,739
like a wide version or a tea sprint I

2674
02:53:35,909 --> 02:53:43,470
assume that windows provides that for

2675
02:53:37,739 --> 02:53:47,130
their stupid Unicode so I assume that if

2676
02:53:43,470 --> 02:53:50,449
we look at the wide version or what

2677
02:53:47,130 --> 02:53:50,449
would take a tea care here

2678
02:53:57,930 --> 02:54:06,579
so here's the version of that that I

2679
02:54:02,728 --> 02:54:09,609
assumed we would want is that one uses T

2680
02:54:06,579 --> 02:54:12,340
cares so you know when we actually go to

2681
02:54:09,610 --> 02:54:14,260
format it would work oh sorry

2682
02:54:12,340 --> 02:54:16,180
we we don't want that here actually we

2683
02:54:14,260 --> 02:54:19,478
want that only in the one place where we

2684
02:54:16,180 --> 02:54:25,870
talk to windows and their magical

2685
02:54:19,478 --> 02:54:37,898
awesomeness right string so you know in

2686
02:54:25,870 --> 02:54:40,180
here I don't know what this parameter is

2687
02:54:37,898 --> 02:54:42,069
supposed to be whether it's the size or

2688
02:54:40,180 --> 02:54:44,200
the number of characters I'm gonna

2689
02:54:42,069 --> 02:54:45,760
assume that it's the number of

2690
02:54:44,200 --> 02:54:48,100
characters because that's the one that

2691
02:54:45,760 --> 02:54:49,450
can't that if I was wrong I just use

2692
02:54:48,100 --> 02:54:53,559
half the size of the buffer and not

2693
02:54:49,450 --> 02:54:56,409
overrun so I'm gonna go ahead and say we

2694
02:54:53,559 --> 02:55:00,869
want this type of routine I don't know

2695
02:54:56,409 --> 02:55:06,639
where that is defined probably in like

2696
02:55:00,870 --> 02:55:07,840
cease well yeah I don't know where that

2697
02:55:06,639 --> 02:55:11,529
is

2698
02:55:07,840 --> 02:55:12,819
w care dot H I don't know where that's

2699
02:55:11,530 --> 02:55:15,100
actually defined because they didn't

2700
02:55:12,819 --> 02:55:18,369
bother to tell us right they're like hey

2701
02:55:15,100 --> 02:55:19,030
here's the T care routine not gonna tell

2702
02:55:18,370 --> 02:55:23,140
you where it is

2703
02:55:19,030 --> 02:55:26,710
so have a party right but I'll assume

2704
02:55:23,139 --> 02:55:32,889
that if I I'm just guessing if I

2705
02:55:26,709 --> 02:55:35,579
actually asked for like W care dot H or

2706
02:55:32,889 --> 02:55:39,898
something that it would be in there

2707
02:55:35,579 --> 02:55:39,898
maybe C studio

2708
02:55:50,261 --> 02:55:54,489
all right that's only C++

2709
02:55:59,139 --> 02:56:03,459
so I guess I'll have to hunt for it

2710
02:56:07,439 --> 02:56:10,879
let's take a look

2711
02:56:17,359 --> 02:56:22,340
although you know I couldn't just do a

2712
02:56:19,228 --> 02:56:22,340
search and see where it is

2713
02:56:29,680 --> 02:56:32,809
[Music]

2714
02:56:46,530 --> 02:56:49,530
oops

2715
02:56:53,639 --> 02:57:18,959
he carried out H perhaps I might just

2716
02:57:05,610 --> 02:57:22,590
search for it oh wait this is

2717
02:57:18,959 --> 02:57:24,719
complaining about something else

2718
02:57:22,590 --> 02:57:30,389
thank you for everyone from t care to

2719
02:57:24,719 --> 02:57:32,879
character star Const so really I screwed

2720
02:57:30,389 --> 02:57:34,889
up I I was looking at the error wrong so

2721
02:57:32,879 --> 02:57:44,579
this just needs to be converted as

2722
02:57:34,889 --> 02:57:46,500
necessary so how can I do that it's

2723
02:57:44,579 --> 02:57:50,329
argument one so it's not the one I was

2724
02:57:46,500 --> 02:57:56,040
looking at so I need this to be

2725
02:57:50,329 --> 02:57:57,690
convertible to care star but so that

2726
02:57:56,040 --> 02:58:00,750
doesn't look like it actually worked

2727
02:57:57,690 --> 02:58:05,040
because this got defined to the wrong

2728
02:58:00,750 --> 02:58:08,159
thing right because if Unicode was set

2729
02:58:05,040 --> 02:58:12,350
that should have been compiled to SW

2730
02:58:08,159 --> 02:58:12,350
print death right

2731
02:58:18,049 --> 02:58:30,148
so tea care is not actually doing the

2732
02:58:22,408 --> 02:58:32,609
right swap why do people make programs

2733
02:58:30,148 --> 02:58:34,738
like this is so ridiculous you can see

2734
02:58:32,609 --> 02:58:37,199
why I can't stand any of these sorts of

2735
02:58:34,738 --> 02:58:38,789
things and don't use them it's just

2736
02:58:37,199 --> 02:58:41,399
ridiculous that you would even spend

2737
02:58:38,790 --> 02:58:46,319
time on stuff like this it's so dumb

2738
02:58:41,398 --> 02:58:50,158
right absolutely ridiculous

2739
02:58:46,318 --> 02:58:51,600
so yeah I'm just not sure I'm gonna put

2740
02:58:50,158 --> 02:58:56,510
these into the same place we can see

2741
02:58:51,600 --> 02:58:59,550
them both there I'm just not sure how

2742
02:58:56,510 --> 02:59:01,408
this this appears to be defined wrong

2743
02:58:59,549 --> 02:59:04,019
because it should have taken Unicode and

2744
02:59:01,408 --> 02:59:09,118
done it I'm gonna look inside t care dot

2745
02:59:04,020 --> 02:59:11,340
H so I can see what it's actually doing

2746
02:59:09,119 --> 02:59:13,859
and then maybe that'll shed some light

2747
02:59:11,340 --> 02:59:17,130
on the subject right so if we come up

2748
02:59:13,859 --> 02:59:26,818
here and we add a pound include t care

2749
02:59:17,129 --> 02:59:28,938
dot H I'm just gonna look and see what

2750
02:59:26,818 --> 02:59:28,939
it does

2751
02:59:55,930 --> 02:59:59,170
there we go

2752
03:00:04,879 --> 03:00:16,549
I'm so W care T star which is what it

2753
03:00:12,860 --> 03:00:19,430
should have been and then a size T and

2754
03:00:16,549 --> 03:00:22,090
then a W care for this so I think this

2755
03:00:19,430 --> 03:00:27,770
just right it just needs to be wrapped

2756
03:00:22,090 --> 03:00:29,270
and off we go so great good fantastic

2757
03:00:27,770 --> 03:00:32,090
nice work

2758
03:00:29,270 --> 03:00:37,220
great job Microsoft as always crushing

2759
03:00:32,090 --> 03:00:40,069
it so that's just garbage and stupid but

2760
03:00:37,219 --> 03:00:44,199
now we are at least compliant with

2761
03:00:40,069 --> 03:00:44,199
either way that people want to compile

2762
03:00:44,950 --> 03:00:53,300
let me just make sure we've got that all

2763
03:00:48,079 --> 03:00:56,148
straightened out all right so that just

2764
03:00:53,299 --> 03:00:57,769
tests the Unicode miss of it all and so

2765
03:00:56,148 --> 03:01:02,648
let's make sure we can be non Unicode

2766
03:00:57,770 --> 03:01:02,649
now and we are and that's good all right

2767
03:01:10,000 --> 03:01:13,659
I like how they have Unicode and

2768
03:01:11,950 --> 03:01:17,950
underscore Unicode right like that's

2769
03:01:13,659 --> 03:01:31,209
it's so freaking fantastic yeah all

2770
03:01:17,950 --> 03:01:35,101
right so I think we're all good I'm

2771
03:01:31,209 --> 03:01:35,100
gonna go ahead and wrap up the stream

2772
03:01:36,181 --> 03:01:39,909
you can see why I always write my

2773
03:01:38,739 --> 03:01:45,039
platform layer and then put everything

2774
03:01:39,909 --> 03:01:47,800
on top of it because I mean it's just

2775
03:01:45,040 --> 03:01:49,931
nuts you know you're you're you're

2776
03:01:47,800 --> 03:01:51,850
basing all your code on top of something

2777
03:01:49,931 --> 03:01:54,280
that was written by but you know rank

2778
03:01:51,851 --> 03:01:59,829
amateurs time and it's just it's not

2779
03:01:54,280 --> 03:02:03,311
cool so anyway you know we're getting

2780
03:01:59,829 --> 03:02:04,810
there I feel like maybe I'd want to

2781
03:02:03,310 --> 03:02:06,220
spend one more weekend just tune in

2782
03:02:04,810 --> 03:02:11,529
things up here and cleaning up the

2783
03:02:06,220 --> 03:02:16,810
render API looking at the texture great

2784
03:02:11,530 --> 03:02:17,771
stuff but I'm pretty happy with this and

2785
03:02:16,810 --> 03:02:19,029
actually just looking at this

2786
03:02:17,771 --> 03:02:20,290
perspective this is kind of what I

2787
03:02:19,030 --> 03:02:23,221
wanted hammered here to be like

2788
03:02:20,290 --> 03:02:25,721
perspective wise as well probably

2789
03:02:23,220 --> 03:02:27,789
although maybe this is a little bit too

2790
03:02:25,720 --> 03:02:29,591
this is a little bit too flat on

2791
03:02:27,790 --> 03:02:33,881
probably we'll see we'll play with it

2792
03:02:29,591 --> 03:02:35,710
ourselves but it may be that this is as

2793
03:02:33,880 --> 03:02:38,979
good as we can get just in terms of like

2794
03:02:35,709 --> 03:02:40,840
allowing the art to composite well and

2795
03:02:38,979 --> 03:02:43,270
so we'll kind of have to see how things

2796
03:02:40,841 --> 03:02:50,620
shake out right I don't know like I

2797
03:02:43,271 --> 03:02:52,841
really don't know so I guess that's yeah

2798
03:02:50,620 --> 03:02:55,061
I mean I'm pretty happy with that I feel

2799
03:02:52,841 --> 03:02:56,771
like anyone could use this renderer to

2800
03:02:55,060 --> 03:02:58,270
do stuff now it's pretty straightforward

2801
03:02:56,771 --> 03:03:00,221
I just want to go clean up that API a

2802
03:02:58,271 --> 03:03:03,480
little bit and then fix the texture

2803
03:03:00,220 --> 03:03:03,479
arrays so that the speed is high

2804
03:03:09,850 --> 03:03:15,939
you know and off you go now we can also

2805
03:03:13,609 --> 03:03:23,930
and again you know just looking at this

2806
03:03:15,939 --> 03:03:25,550
if we wanted to we could put in both we

2807
03:03:23,930 --> 03:03:27,590
could also just look at what rotating

2808
03:03:25,549 --> 03:03:31,119
the camera looks like right so you know

2809
03:03:27,590 --> 03:03:31,120
we've got the camera shift version

2810
03:03:31,989 --> 03:03:38,389
that's happening here if we want to we

2811
03:03:35,659 --> 03:03:40,309
could instead change the orbit you know

2812
03:03:38,389 --> 03:03:47,449
I'm saying

2813
03:03:40,309 --> 03:03:53,449
so like this stuff we could have two

2814
03:03:47,450 --> 03:04:02,439
versions so for example we could do V 3

2815
03:03:53,450 --> 03:04:02,439
camera off set camera off set

2816
03:04:15,341 --> 03:04:27,560
something like this where we just say

2817
03:04:18,081 --> 03:04:29,899
all right maybe we just don't set the

2818
03:04:27,560 --> 03:04:32,779
offset in that case and we just use t

2819
03:04:29,899 --> 03:04:34,970
camera shift as the orbit value in the

2820
03:04:32,780 --> 03:04:36,739
other case and here we could look so

2821
03:04:34,970 --> 03:04:39,409
this way if someone wants to see what

2822
03:04:36,739 --> 03:04:44,630
happens when you rotate the camera you

2823
03:04:39,409 --> 03:04:48,021
can't write just in terms of whether

2824
03:04:44,630 --> 03:04:52,069
that's good or bad and so it looks like

2825
03:04:48,021 --> 03:04:54,761
in this case we kind of need to fix the

2826
03:04:52,069 --> 03:04:57,739
way that we're looking at the trees

2827
03:04:54,761 --> 03:04:59,271
x-axis though so that's like this is

2828
03:04:57,739 --> 03:05:01,489
pretty good like I think we want to

2829
03:04:59,271 --> 03:05:03,891
because we right now just assume that

2830
03:05:01,489 --> 03:05:11,681
we're sidon and that's just this one

2831
03:05:03,890 --> 03:05:16,011
little piece of of the push right call

2832
03:05:11,681 --> 03:05:18,739
this part here and so it would be nice

2833
03:05:16,011 --> 03:05:22,280
to say like oh yeah what we actually

2834
03:05:18,739 --> 03:05:25,370
want to do there is say that we still

2835
03:05:22,280 --> 03:05:29,239
want the x-axis to be what the x-axis

2836
03:05:25,370 --> 03:05:31,670
would be but aligned to where the

2837
03:05:29,239 --> 03:05:33,501
cameras facing right and then this would

2838
03:05:31,671 --> 03:05:38,050
be the y-axis that we're actually

2839
03:05:33,501 --> 03:05:40,819
talking about here actually goes along

2840
03:05:38,050 --> 03:05:46,370
whatever the cross product of that is

2841
03:05:40,819 --> 03:05:48,860
with Z up right that's really more what

2842
03:05:46,370 --> 03:05:52,520
we would do to support the rotation

2843
03:05:48,860 --> 03:05:56,331
right so it's just it's worth thinking

2844
03:05:52,521 --> 03:05:59,360
about that a little bit more so we

2845
03:05:56,331 --> 03:06:02,060
should do that I think we should do that

2846
03:05:59,360 --> 03:06:03,351
so I'm gonna leave it broken and we will

2847
03:06:02,060 --> 03:06:06,290
fix that next time because it you know

2848
03:06:03,351 --> 03:06:08,271
we'll see it as soon as we run right and

2849
03:06:06,290 --> 03:06:10,100
so I would like to go fix that because

2850
03:06:08,271 --> 03:06:12,891
that's it that's an easy thing to fix

2851
03:06:10,101 --> 03:06:14,239
and we should support the rotation even

2852
03:06:12,890 --> 03:06:16,011
though I don't know that anyone should

2853
03:06:14,239 --> 03:06:17,290
really use rotation with sprites like

2854
03:06:16,011 --> 03:06:19,551
that because they look kind of weird

2855
03:06:17,290 --> 03:06:20,269
when they're just floating there but

2856
03:06:19,550 --> 03:06:22,309
weak

2857
03:06:20,270 --> 03:06:23,689
support it so we should just in case

2858
03:06:22,309 --> 03:06:35,000
that's how they want to use I don't know

2859
03:06:23,689 --> 03:06:42,199
you know so yeah all right I'm gonna

2860
03:06:35,000 --> 03:06:43,189
wind it down thank you for in for

2861
03:06:42,199 --> 03:06:44,479
joining me for that sort of handmade

2862
03:06:43,189 --> 03:06:47,119
here it's been pleasure coding with you

2863
03:06:44,478 --> 03:06:48,349
as always if you would like to follow

2864
03:06:47,119 --> 03:06:50,239
the series at home you can always peer

2865
03:06:48,350 --> 03:06:51,619
to the game on handmade here org and it

2866
03:06:50,238 --> 03:06:55,788
comes to the source code so you can do

2867
03:06:51,619 --> 03:06:57,350
your own experimentation as you wish we

2868
03:06:55,789 --> 03:06:59,239
also of course have a watch page you can

2869
03:06:57,350 --> 03:07:01,369
use to find out what the schedule is I

2870
03:06:59,238 --> 03:07:03,350
post the schedule there quite a bit in

2871
03:07:01,369 --> 03:07:04,819
advance usually now so you know when

2872
03:07:03,350 --> 03:07:06,229
we're gonna be live if you want to join

2873
03:07:04,818 --> 03:07:07,430
the live streams and ask questions and

2874
03:07:06,228 --> 03:07:10,309
that sort of stuff that's the place to

2875
03:07:07,430 --> 03:07:11,750
do it there's also an episode guide on

2876
03:07:10,309 --> 03:07:15,340
there you can use to search the past

2877
03:07:11,750 --> 03:07:17,328
episodes of animate hero find new

2878
03:07:15,340 --> 03:07:19,309
information in the archives if you

2879
03:07:17,328 --> 03:07:20,449
hadn't seen in case there's specific

2880
03:07:19,309 --> 03:07:21,769
stuff you want to know about someone

2881
03:07:20,449 --> 03:07:22,850
asked a question about volatile today

2882
03:07:21,770 --> 03:07:24,619
that's where you would do it just put

2883
03:07:22,850 --> 03:07:28,130
volatile in the search box you will get

2884
03:07:24,619 --> 03:07:29,420
the places that I talked about it we

2885
03:07:28,129 --> 03:07:30,858
also have a hand-made here a fun page

2886
03:07:29,420 --> 03:07:32,510
that's if you want to support things

2887
03:07:30,859 --> 03:07:34,520
like that awesome episode guide they are

2888
03:07:32,510 --> 03:07:36,859
made by folks in the community and we

2889
03:07:34,520 --> 03:07:38,300
pay for them through the handmade funds

2890
03:07:36,859 --> 03:07:40,789
so that's a cool thing to do if you like

2891
03:07:38,299 --> 03:07:42,379
to use resources that are built by

2892
03:07:40,789 --> 03:07:44,960
people in the community that's how they

2893
03:07:42,379 --> 03:07:46,429
get money for them that's it for today

2894
03:07:44,959 --> 03:07:48,198
I'll be back here next week

2895
03:07:46,430 --> 03:07:51,398
I suspect although I haven't quite post

2896
03:07:48,199 --> 03:07:55,399
the schedule yet I will post this soon I

2897
03:07:51,398 --> 03:07:58,278
will be back with I think just a final

2898
03:07:55,398 --> 03:08:00,228
round of render or cleanup and hopefully

2899
03:07:58,279 --> 03:08:03,199
we will get some nice speed wins there

2900
03:08:00,228 --> 03:08:05,948
if we do the texture race stuff which I

2901
03:08:03,199 --> 03:08:08,060
really wanted to do as well so that's it

2902
03:08:05,949 --> 03:08:09,470
hope see you back here for that until

2903
03:08:08,059 --> 03:08:10,309
then have fun programming and I'll see

2904
03:08:09,469 --> 03:08:12,938
you on the Internet

2905
03:08:10,309 --> 03:08:12,939
cookies everybody

