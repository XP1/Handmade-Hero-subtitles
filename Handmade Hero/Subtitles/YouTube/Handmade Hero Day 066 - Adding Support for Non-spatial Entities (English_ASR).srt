1
00:00:00,000 --> 00:00:05,849
there we go it is time ladies and

2
00:00:03,600 --> 00:00:08,099
gentlemen it's time for day 66 of

3
00:00:05,849 --> 00:00:09,209
handmade hero welcome and thank you for

4
00:00:08,099 --> 00:00:11,580
joining me this morning it is a

5
00:00:09,210 --> 00:00:13,110
beautiful morning here in sunny Seattle

6
00:00:11,580 --> 00:00:14,939
Washington I don't know why it's sunny

7
00:00:13,109 --> 00:00:16,919
we have a reputation for rain but it's

8
00:00:14,939 --> 00:00:18,778
been very sunny this summer I don't know

9
00:00:16,920 --> 00:00:21,090
global warming who knows I don't really

10
00:00:18,778 --> 00:00:22,890
know not a climatologist but what I will

11
00:00:21,089 --> 00:00:24,960
say is it is sunny here and I've had to

12
00:00:22,890 --> 00:00:27,028
block out the light there's still some

13
00:00:24,960 --> 00:00:28,800
leaking in in the back here you would

14
00:00:27,028 --> 00:00:32,009
just see me in a giant halo of light

15
00:00:28,800 --> 00:00:33,120
today anyway thank you for joining me

16
00:00:32,009 --> 00:00:34,890
for Hammer hero this of course is the

17
00:00:33,119 --> 00:00:37,859
show where we code a complete game live

18
00:00:34,890 --> 00:00:41,070
on Twitch from scratch no engine no

19
00:00:37,859 --> 00:00:42,628
libraries and again it's it's it's

20
00:00:41,070 --> 00:00:43,950
really been a pleasure doing it it's

21
00:00:42,628 --> 00:00:45,808
something I like to do it's the way I

22
00:00:43,950 --> 00:00:47,399
like to code things because I just I

23
00:00:45,808 --> 00:00:48,718
don't know maybe I'm a control freak is

24
00:00:47,399 --> 00:00:50,730
partially the reason I like to have a

25
00:00:48,719 --> 00:00:52,379
you know sort of that that entire thing

26
00:00:50,729 --> 00:00:53,729
no engine and no library I like to kind

27
00:00:52,378 --> 00:00:55,710
of go in there and know how every little

28
00:00:53,729 --> 00:00:58,229
part works but I think it's also just

29
00:00:55,710 --> 00:00:59,759
it's a great knowledge base really you

30
00:00:58,229 --> 00:01:02,099
know to to go through and do all this

31
00:00:59,759 --> 00:01:04,948
sort of thing I think every you know

32
00:01:02,100 --> 00:01:06,478
programmer should should do it once get

33
00:01:04,948 --> 00:01:08,310
that sort of understanding of the

34
00:01:06,478 --> 00:01:10,289
complete pipeline and really just be

35
00:01:08,310 --> 00:01:12,420
able to sort of know how everything

36
00:01:10,290 --> 00:01:14,850
works even if you do end up deciding to

37
00:01:12,420 --> 00:01:16,530
use engines use libraries because there

38
00:01:14,849 --> 00:01:18,929
are good good stuff out there for that

39
00:01:16,530 --> 00:01:20,310
it just kind of makes you so much more

40
00:01:18,930 --> 00:01:22,530
well-rounded so much more able to deal

41
00:01:20,310 --> 00:01:24,060
with stuff and I don't know it's just

42
00:01:22,530 --> 00:01:26,310
it's a great feeling knowing you know

43
00:01:24,060 --> 00:01:27,780
how to do everything even if you then

44
00:01:26,310 --> 00:01:29,219
choose not to you can make better

45
00:01:27,780 --> 00:01:30,829
decisions and you can also be more

46
00:01:29,219 --> 00:01:32,789
powerful in terms of dealing with

47
00:01:30,828 --> 00:01:35,219
problems and the stuff that you do use

48
00:01:32,790 --> 00:01:36,750
and and heaven knows there's problems

49
00:01:35,219 --> 00:01:40,769
and most of stuff we use these days it's

50
00:01:36,750 --> 00:01:41,640
true software's complicated so let's get

51
00:01:40,769 --> 00:01:43,560
started

52
00:01:41,640 --> 00:01:45,239
we're on day 66 today so if you have

53
00:01:43,560 --> 00:01:48,390
pre-order the game on handmade here org

54
00:01:45,239 --> 00:01:50,399
you will want to unzip day 65 source

55
00:01:48,390 --> 00:01:53,250
code that's something you can download

56
00:01:50,399 --> 00:01:55,349
obviously tons a day 65 source code and

57
00:01:53,250 --> 00:01:56,640
you'll be exactly where I am today so if

58
00:01:55,349 --> 00:01:59,938
you'd like to follow along at home with

59
00:01:56,640 --> 00:02:03,468
a code that is how you would do it let's

60
00:01:59,938 --> 00:02:07,078
go ahead and open up the the

61
00:02:03,468 --> 00:02:09,299
aforementioned handmade hero I believe

62
00:02:07,078 --> 00:02:11,370
that we had just finished up updating

63
00:02:09,300 --> 00:02:12,810
our code to use simulation regions which

64
00:02:11,370 --> 00:02:15,689
was kind of a cool thing I

65
00:02:12,810 --> 00:02:18,090
think I liked whoa don't accidentally

66
00:02:15,689 --> 00:02:20,189
hit that button the guy told Windows I

67
00:02:18,090 --> 00:02:22,890
wanted help don't want to see what

68
00:02:20,189 --> 00:02:25,020
that's gonna do so what we've done is

69
00:02:22,889 --> 00:02:26,699
we'd finished updating our code to use

70
00:02:25,020 --> 00:02:28,650
simulation regions but we hadn't

71
00:02:26,699 --> 00:02:31,530
actually gotten a chance to go through

72
00:02:28,650 --> 00:02:33,360
and actually debug it all and there's a

73
00:02:31,530 --> 00:02:35,879
couple features we need to add to it

74
00:02:33,360 --> 00:02:37,380
still in order to make it be complete

75
00:02:35,879 --> 00:02:39,000
and do all the things that we needed and

76
00:02:37,379 --> 00:02:41,098
so today we just kind of need to go

77
00:02:39,000 --> 00:02:42,509
through you know make sure that

78
00:02:41,098 --> 00:02:44,639
everything's cleaned out and working

79
00:02:42,509 --> 00:02:48,329
properly with our new code and we need

80
00:02:44,639 --> 00:02:49,529
to add one or two small things to it to

81
00:02:48,330 --> 00:02:59,580
make sure that does everything that we

82
00:02:49,530 --> 00:03:03,239
need so what we have here if I remember

83
00:02:59,580 --> 00:03:06,269
correctly is we have a simulation region

84
00:03:03,239 --> 00:03:11,340
which does not currently have the option

85
00:03:06,269 --> 00:03:15,480
of allowing entities to not essentially

86
00:03:11,340 --> 00:03:18,060
exist at a location in other words there

87
00:03:15,479 --> 00:03:20,159
was already concept sort of in our game

88
00:03:18,060 --> 00:03:22,709
we had only just started toying around

89
00:03:20,159 --> 00:03:24,509
with it but there was already a concept

90
00:03:22,709 --> 00:03:26,549
that you could have something like a

91
00:03:24,509 --> 00:03:28,889
sword that the hero was carrying or

92
00:03:26,549 --> 00:03:30,269
could use and that that sword wasn't

93
00:03:28,889 --> 00:03:32,939
anywhere in the world in particular

94
00:03:30,269 --> 00:03:35,909
until they chose to use it or swing it

95
00:03:32,939 --> 00:03:37,379
right and again this is not a fully

96
00:03:35,909 --> 00:03:38,129
fleshed out concept yet it was just

97
00:03:37,379 --> 00:03:41,009
something we were playing around with

98
00:03:38,129 --> 00:03:42,329
but it seemed very potentially useful to

99
00:03:41,009 --> 00:03:44,518
be able to have entities that don't have

100
00:03:42,329 --> 00:03:46,409
a specific position in the world so they

101
00:03:44,519 --> 00:03:48,500
can come into being and out of being as

102
00:03:46,409 --> 00:03:51,150
far as rendering and stuff is concerned

103
00:03:48,500 --> 00:03:51,689
that seems very useful and we could do a

104
00:03:51,150 --> 00:03:54,389
lot with that

105
00:03:51,689 --> 00:03:55,620
so in our simulation region what we

106
00:03:54,389 --> 00:03:58,769
would like to do is support that

107
00:03:55,620 --> 00:04:02,639
operation and so what we kind of want to

108
00:03:58,769 --> 00:04:05,730
do is have some sort of a flag or some

109
00:04:02,639 --> 00:04:07,650
kind of something where when we load

110
00:04:05,729 --> 00:04:11,340
something into the simulation region to

111
00:04:07,650 --> 00:04:12,959
update it we can smoothly handle the

112
00:04:11,340 --> 00:04:15,719
fact that it doesn't actually exist

113
00:04:12,959 --> 00:04:18,418
spatially it only exists logically and

114
00:04:15,719 --> 00:04:20,970
then when we restream it out we will

115
00:04:18,418 --> 00:04:22,949
keep that information so basically on

116
00:04:20,970 --> 00:04:24,599
the in and out keep track of it and then

117
00:04:22,949 --> 00:04:25,810
on any of the updates what we do in the

118
00:04:24,598 --> 00:04:27,279
sim region understand

119
00:04:25,810 --> 00:04:30,699
it's not actually participating

120
00:04:27,279 --> 00:04:34,479
spatially in our simulation so how do we

121
00:04:30,699 --> 00:04:36,550
do that right and that's a good question

122
00:04:34,480 --> 00:04:38,560
since it's a concept we haven't really

123
00:04:36,550 --> 00:04:39,939
done much with it's kind of we don't

124
00:04:38,560 --> 00:04:42,009
really know much about the requirements

125
00:04:39,939 --> 00:04:44,019
of it but what I would say is we do

126
00:04:42,009 --> 00:04:46,779
already have this this collides concept

127
00:04:44,019 --> 00:04:49,959
here and so what I wonder what I mean I

128
00:04:46,779 --> 00:04:52,418
think is I do wonder if maybe now's a

129
00:04:49,959 --> 00:04:54,549
good time to just kind of introduce the

130
00:04:52,418 --> 00:04:58,109
concept of having flags on our entity

131
00:04:54,550 --> 00:04:58,110
now we've seen flags before already

132
00:04:58,680 --> 00:05:03,850
they're kind of a good catch-all for

133
00:05:01,209 --> 00:05:06,039
just a simple small piece of storage

134
00:05:03,850 --> 00:05:08,229
that allow us to tag our entities with

135
00:05:06,040 --> 00:05:14,200
special conditions that we want them to

136
00:05:08,228 --> 00:05:17,139
have and so to me and so it seems to me

137
00:05:14,199 --> 00:05:20,918
that since this is kind of a special

138
00:05:17,139 --> 00:05:23,680
concept that we want to make sure we can

139
00:05:20,918 --> 00:05:25,449
always check about or check for it seems

140
00:05:23,680 --> 00:05:26,889
like it would be a nice thing to put in

141
00:05:25,449 --> 00:05:28,620
those flags right it seems like it'd be

142
00:05:26,889 --> 00:05:31,470
a nice thing to be able to mark entities

143
00:05:28,620 --> 00:05:34,209
specifically as being spatially

144
00:05:31,470 --> 00:05:35,950
non-existent so that we can specially

145
00:05:34,209 --> 00:05:38,469
check for that in code and not have to

146
00:05:35,949 --> 00:05:40,418
do something we're like the Pete the the

147
00:05:38,470 --> 00:05:43,570
position is set to a large value and

148
00:05:40,418 --> 00:05:45,668
that's the only clue right so I think

149
00:05:43,569 --> 00:05:47,439
what I might do is go ahead and just do

150
00:05:45,668 --> 00:05:50,019
that I'm gonna just make a little enum

151
00:05:47,439 --> 00:05:52,689
here to kind of hold our flags and again

152
00:05:50,019 --> 00:05:55,418
we don't there's no particular reason to

153
00:05:52,689 --> 00:05:57,519
make an enum it's kind of just a

154
00:05:55,418 --> 00:05:59,709
habitual thing that I do just to group

155
00:05:57,519 --> 00:06:01,538
things together where I'll put them in

156
00:05:59,709 --> 00:06:03,189
an enum we could alternatively just make

157
00:06:01,538 --> 00:06:04,810
a series of pound defines or if you're a

158
00:06:03,189 --> 00:06:05,529
person who likes cost values you could

159
00:06:04,810 --> 00:06:07,509
do them that way

160
00:06:05,529 --> 00:06:11,619
basically all we need to do is define a

161
00:06:07,509 --> 00:06:13,629
bunch of flags that basically say what

162
00:06:11,620 --> 00:06:14,829
what the properties of entities are that

163
00:06:13,629 --> 00:06:16,930
we want store in the in these flags

164
00:06:14,829 --> 00:06:18,490
right so I'll go ahead and say

165
00:06:16,930 --> 00:06:20,500
underneath the entity type we're just

166
00:06:18,490 --> 00:06:21,970
gonna have a flag field right and then

167
00:06:20,500 --> 00:06:25,240
we're gonna get rid of this collides and

168
00:06:21,970 --> 00:06:30,750
I'm gonna say entity flag underscore

169
00:06:25,240 --> 00:06:32,650
collides right so I'll do it this way so

170
00:06:30,750 --> 00:06:36,189
there's different ways you can write

171
00:06:32,649 --> 00:06:37,899
these flag fields and I usually write

172
00:06:36,189 --> 00:06:39,339
them a different way I usually write

173
00:06:37,899 --> 00:06:41,739
flag fields

174
00:06:39,339 --> 00:06:44,439
like this where I do like you know that

175
00:06:41,740 --> 00:06:46,780
and then as I go down I do two four

176
00:06:44,439 --> 00:06:49,120
eight right because what we want to do

177
00:06:46,779 --> 00:06:51,069
for flags is we want to have a bit field

178
00:06:49,120 --> 00:06:54,030
right where each bit of a value

179
00:06:51,069 --> 00:06:57,459
represents a different boolean condition

180
00:06:54,029 --> 00:07:00,339
but lately I've been wondering why I do

181
00:06:57,459 --> 00:07:01,839
that I've been wondering why I don't

182
00:07:00,339 --> 00:07:05,079
just do it this way because this seems

183
00:07:01,839 --> 00:07:08,739
like a lot easier to read where you just

184
00:07:05,079 --> 00:07:11,079
kind of do like like that right where

185
00:07:08,740 --> 00:07:13,569
you just shift one up by an increasing

186
00:07:11,079 --> 00:07:14,949
decimal value because that's just a lot

187
00:07:13,569 --> 00:07:16,418
easier to read than this so I'm gonna

188
00:07:14,949 --> 00:07:17,800
try doing it this way because I feel

189
00:07:16,418 --> 00:07:19,209
like I just been doing it wrong I mean

190
00:07:17,800 --> 00:07:20,079
that wrong there's no wrong way to do it

191
00:07:19,209 --> 00:07:22,810
as long as they come out to the right

192
00:07:20,079 --> 00:07:26,079
values but I feel like this is maybe I'm

193
00:07:22,810 --> 00:07:27,730
just easier slightly in my own code as

194
00:07:26,079 --> 00:07:29,259
well I've been thinking I should

195
00:07:27,730 --> 00:07:30,970
probably just write it like this now

196
00:07:29,259 --> 00:07:33,039
ideally what we have is a thing that

197
00:07:30,970 --> 00:07:35,229
makes it so that this just happened for

198
00:07:33,040 --> 00:07:37,510
you automatically and I believe that

199
00:07:35,228 --> 00:07:40,990
John blows language already has this

200
00:07:37,509 --> 00:07:44,759
feature but unfortunately you know we

201
00:07:40,990 --> 00:07:47,590
don't have Jumbo's language yet yet

202
00:07:44,759 --> 00:07:50,829
someday all right so if you have

203
00:07:47,589 --> 00:07:53,168
collides and then maybe we have a thing

204
00:07:50,829 --> 00:07:55,629
that's like non spatial or something

205
00:07:53,168 --> 00:07:57,490
like that where an entity can can sort

206
00:07:55,629 --> 00:07:59,829
of just be tagged as non spatial and

207
00:07:57,490 --> 00:08:01,840
then at that point we know that that

208
00:07:59,829 --> 00:08:03,819
entity is not going to participate in

209
00:08:01,839 --> 00:08:06,489
any spatial operations and the p-value

210
00:08:03,819 --> 00:08:08,829
for it is essentially meaningless right

211
00:08:06,490 --> 00:08:10,240
I might want to arrange some of these

212
00:08:08,829 --> 00:08:13,478
things a little bit differently here as

213
00:08:10,240 --> 00:08:16,269
well like so we have some cleanup to do

214
00:08:13,478 --> 00:08:18,129
here as in here as well look we haven't

215
00:08:16,269 --> 00:08:20,379
really dealt with Z's yet so that might

216
00:08:18,129 --> 00:08:23,800
be something to do in the relatively

217
00:08:20,379 --> 00:08:26,050
near future as well because we haven't

218
00:08:23,800 --> 00:08:27,280
really thought about that much and it

219
00:08:26,050 --> 00:08:29,228
would be nice to get that under control

220
00:08:27,279 --> 00:08:31,329
as well as one thing we do before we go

221
00:08:29,228 --> 00:08:32,830
much further with our enemy stuff maybe

222
00:08:31,329 --> 00:08:34,389
put in some stairs where you go up and

223
00:08:32,830 --> 00:08:35,800
down and just think about how you want

224
00:08:34,389 --> 00:08:38,199
to handle that and get that going so

225
00:08:35,799 --> 00:08:40,569
anyway if I have these here what I can

226
00:08:38,200 --> 00:08:41,950
do now to get to kick off this change is

227
00:08:40,570 --> 00:08:45,310
to just compile the program and see

228
00:08:41,950 --> 00:08:47,140
where it collides was happening and then

229
00:08:45,309 --> 00:08:49,989
decide how I want to handle like these

230
00:08:47,139 --> 00:08:52,419
positions right and so there's a bunch

231
00:08:49,990 --> 00:08:53,019
of different ways I could do this one

232
00:08:52,419 --> 00:08:56,500
way I could do

233
00:08:53,019 --> 00:08:58,809
this was is having calls to check each

234
00:08:56,500 --> 00:09:03,480
individual flag what I think I might

235
00:08:58,809 --> 00:09:05,979
want to do is basically say you know

236
00:09:03,480 --> 00:09:09,250
just have something that's like flag is

237
00:09:05,980 --> 00:09:12,580
set or something where I do the entity

238
00:09:09,250 --> 00:09:15,850
and I pass which flag it is that I'm

239
00:09:12,580 --> 00:09:17,440
looking for like this I think that might

240
00:09:15,850 --> 00:09:20,050
just be an easier way to do it

241
00:09:17,440 --> 00:09:21,850
so I can just say you know is or maybe

242
00:09:20,049 --> 00:09:25,000
just even is set entity and then I

243
00:09:21,850 --> 00:09:26,950
passed that that that flag value that I

244
00:09:25,000 --> 00:09:28,389
want right that seems relatively

245
00:09:26,950 --> 00:09:30,190
straightforward to me so I think that's

246
00:09:28,389 --> 00:09:32,049
what I'm gonna I'm start with and that's

247
00:09:30,190 --> 00:09:33,970
just an easy way of making it so that

248
00:09:32,049 --> 00:09:35,469
it's clear what's going on and it's just

249
00:09:33,970 --> 00:09:38,110
a you know it's a really simple function

250
00:09:35,470 --> 00:09:41,200
the function is just taking one of these

251
00:09:38,110 --> 00:09:43,090
same entities like so and then a flag

252
00:09:41,200 --> 00:09:45,970
value like that

253
00:09:43,090 --> 00:09:49,440
I can I can make it so that it this is

254
00:09:45,970 --> 00:09:51,580
kind of an annoying part right in see

255
00:09:49,440 --> 00:09:53,410
one of the things is kind of annoying is

256
00:09:51,580 --> 00:09:55,360
what I'd like to be able to do is say I

257
00:09:53,409 --> 00:09:58,149
want to take flag value here but it has

258
00:09:55,360 --> 00:10:00,909
to be a one of it has to be some

259
00:09:58,149 --> 00:10:01,929
combination of cementited flags that

260
00:10:00,909 --> 00:10:02,620
would give me a little extra type

261
00:10:01,929 --> 00:10:04,599
checking or something like that

262
00:10:02,620 --> 00:10:06,100
unfortunately can't really do stuff like

263
00:10:04,600 --> 00:10:07,930
that and see I can understand why it's a

264
00:10:06,100 --> 00:10:09,820
little bit of a hard problem but so as a

265
00:10:07,929 --> 00:10:11,019
result I'm just gonna take a unit 32

266
00:10:09,820 --> 00:10:13,660
there the reason I don't take a

267
00:10:11,019 --> 00:10:15,009
simonetti Flags value there is because

268
00:10:13,659 --> 00:10:16,870
you wouldn't be able to or these

269
00:10:15,009 --> 00:10:19,210
together like if I wanted to use a

270
00:10:16,870 --> 00:10:22,000
single is set call to check for these

271
00:10:19,210 --> 00:10:24,009
two things together that obviously isn't

272
00:10:22,000 --> 00:10:26,559
going to be passable to a sim entity

273
00:10:24,009 --> 00:10:28,000
flag taking argument because as soon as

274
00:10:26,559 --> 00:10:30,009
you are it together it becomes an

275
00:10:28,000 --> 00:10:33,149
integer value and so that's why I'm

276
00:10:30,009 --> 00:10:37,509
using that u + 3 to flag there right

277
00:10:33,149 --> 00:10:39,279
anyway so this is very simple this is

278
00:10:37,509 --> 00:10:40,960
just saying there's we have you know we

279
00:10:39,279 --> 00:10:42,759
know we have the entity we've got that

280
00:10:40,960 --> 00:10:45,250
flag field so I'm just gonna do in

281
00:10:42,759 --> 00:10:46,899
binary and with whatever the value is

282
00:10:45,250 --> 00:10:49,059
whichever one of those values you've

283
00:10:46,899 --> 00:10:52,659
passed in and that's gonna give me a

284
00:10:49,059 --> 00:10:55,629
value that would be 0 or 1 base well 0

285
00:10:52,659 --> 00:10:57,519
or the flag value right after it was

286
00:10:55,629 --> 00:11:00,220
done so then I'm gonna return that value

287
00:10:57,519 --> 00:11:01,720
back and that will be fine for anything

288
00:11:00,220 --> 00:11:03,730
that people need to if on because as

289
00:11:01,720 --> 00:11:05,410
long as it's a zero non zero that's all

290
00:11:03,730 --> 00:11:05,930
that's necessary and see you don't have

291
00:11:05,409 --> 00:11:11,000
to have it be

292
00:11:05,929 --> 00:11:14,028
exactly zero one so that'd be the bad VD

293
00:11:11,000 --> 00:11:17,179
is set call and that's totally trivial

294
00:11:14,028 --> 00:11:19,039
so I'll go ahead and stash that in fact

295
00:11:17,179 --> 00:11:21,139
do we have it we have an entity dot H

296
00:11:19,039 --> 00:11:23,120
file I don't know if that maybe is more

297
00:11:21,139 --> 00:11:24,500
appropriate to put in here we haven't

298
00:11:23,120 --> 00:11:26,629
really done much with entities yet so

299
00:11:24,500 --> 00:11:32,269
it's hard to say but let's go ahead and

300
00:11:26,629 --> 00:11:35,059
do that so now let's see do we have any

301
00:11:32,269 --> 00:11:38,319
dot CPP that should probably go I guess

302
00:11:35,059 --> 00:11:43,969
in in here let's see here there we go

303
00:11:38,320 --> 00:11:46,160
and so we'll do this as well these this

304
00:11:43,970 --> 00:11:49,009
collisions that's a that's the same

305
00:11:46,159 --> 00:11:52,039
thing this is test entity and this is

306
00:11:49,009 --> 00:11:55,250
entity flag collides so we got to see if

307
00:11:52,039 --> 00:11:58,519
both of the entities collide let's see

308
00:11:55,250 --> 00:12:02,600
for stuff like this when we add a wall

309
00:11:58,519 --> 00:12:04,490
we will want to add in that flag we

310
00:12:02,600 --> 00:12:07,670
could actually do an ADD flag here

311
00:12:04,490 --> 00:12:11,269
something like that where we where we

312
00:12:07,669 --> 00:12:12,740
set instead of instead of doing the set

313
00:12:11,269 --> 00:12:14,899
manually we go through a setting call

314
00:12:12,740 --> 00:12:18,740
again don't really know if that's

315
00:12:14,899 --> 00:12:20,600
necessary but I find this is more of a

316
00:12:18,740 --> 00:12:22,509
notational thing this is not really a

317
00:12:20,600 --> 00:12:24,920
necessary programming thing I'm not

318
00:12:22,509 --> 00:12:25,429
anticipating us doing complicated things

319
00:12:24,919 --> 00:12:28,009
in here

320
00:12:25,429 --> 00:12:29,449
this is not me like guessing about

321
00:12:28,009 --> 00:12:32,569
what's gonna happen in the code later on

322
00:12:29,450 --> 00:12:34,879
and saying I think we want control over

323
00:12:32,570 --> 00:12:36,890
how these are set in red I would be fine

324
00:12:34,879 --> 00:12:40,429
writing the code by hand in there easily

325
00:12:36,889 --> 00:12:42,080
it's not really a big deal but the

326
00:12:40,429 --> 00:12:43,849
reason that I kind of want to have an

327
00:12:42,080 --> 00:12:45,709
add flag in is set and that sort of

328
00:12:43,850 --> 00:12:49,220
thing for these guys is more for

329
00:12:45,708 --> 00:12:51,889
readability I just kind of like having

330
00:12:49,220 --> 00:12:53,629
that readability so if I want to say

331
00:12:51,889 --> 00:12:56,838
like add flag it's just easier for me to

332
00:12:53,629 --> 00:13:00,049
see that that's what's going on right so

333
00:12:56,839 --> 00:13:03,140
if I do an ADD flag here I could go

334
00:13:00,049 --> 00:13:04,490
ahead and do the exact same format for

335
00:13:03,139 --> 00:13:06,379
the call you pass what flag you're

336
00:13:04,490 --> 00:13:08,720
trying to do and then it just takes that

337
00:13:06,379 --> 00:13:11,208
entity flags and it ORS in the flag that

338
00:13:08,720 --> 00:13:13,610
you give it right and so our NV flag

339
00:13:11,208 --> 00:13:18,339
glides is there and

340
00:13:13,610 --> 00:13:23,090
and we're all good right so that's about

341
00:13:18,340 --> 00:13:24,440
it let's just finish because we've got

342
00:13:23,090 --> 00:13:25,940
that same thing that we want to be able

343
00:13:24,440 --> 00:13:28,820
to do here right we want to be able to

344
00:13:25,940 --> 00:13:30,920
add that whoops that was wrong

345
00:13:28,820 --> 00:13:32,090
collides it goes false we don't have to

346
00:13:30,919 --> 00:13:34,969
do anything for because we're assuming

347
00:13:32,090 --> 00:13:38,720
the flags are start at zero so you only

348
00:13:34,970 --> 00:13:43,070
have to turn them on there we go this

349
00:13:38,720 --> 00:13:49,850
one's gonna be a one that collides

350
00:13:43,070 --> 00:13:51,200
entity flag lies so and again another

351
00:13:49,850 --> 00:13:55,840
hoops another one

352
00:13:51,200 --> 00:14:02,450
it's our Monstar see empty flag slides

353
00:13:55,840 --> 00:14:08,269
so and the familiar also collides entity

354
00:14:02,450 --> 00:14:10,850
blow sim entity flag collides alright so

355
00:14:08,269 --> 00:14:15,319
that should be about it and now we just

356
00:14:10,850 --> 00:14:19,100
need to deal with the sword again which

357
00:14:15,320 --> 00:14:22,490
is non spatial so since the sword is non

358
00:14:19,100 --> 00:14:33,639
spatial we will say add flag entity low

359
00:14:22,490 --> 00:14:36,889
sim fly oops entity flag non spatial so

360
00:14:33,639 --> 00:14:38,330
now we know that the sword is a non

361
00:14:36,889 --> 00:14:41,949
spatial entity that's not actually

362
00:14:38,330 --> 00:14:44,990
anywhere in the world at the moment so

363
00:14:41,950 --> 00:14:47,210
given that that's the fact that that's

364
00:14:44,990 --> 00:14:48,860
the case I suppose you know what we

365
00:14:47,210 --> 00:14:51,310
actually probably don't quite need to do

366
00:14:48,860 --> 00:14:55,370
that either now that I think about it

367
00:14:51,309 --> 00:14:57,229
because technically I think we know when

368
00:14:55,370 --> 00:15:00,110
things are spatial and non-spatial at

369
00:14:57,230 --> 00:15:02,750
the moment the way that that's actually

370
00:15:00,110 --> 00:15:07,100
working is when we do a change entity

371
00:15:02,750 --> 00:15:10,669
location for things we're actually that

372
00:15:07,100 --> 00:15:12,320
whether or not that p-value happens to

373
00:15:10,669 --> 00:15:14,149
be valid we kind of already know this

374
00:15:12,320 --> 00:15:17,300
right I don't know if you remember but

375
00:15:14,149 --> 00:15:20,209
the way this was working is we have that

376
00:15:17,299 --> 00:15:22,339
null position for the peas and non so

377
00:15:20,210 --> 00:15:24,200
what we could do pretty easily is in

378
00:15:22,340 --> 00:15:26,840
here just say that the way that this

379
00:15:24,200 --> 00:15:29,330
works is the low entities

380
00:15:26,840 --> 00:15:32,240
sym when when we change this position

381
00:15:29,330 --> 00:15:35,330
the low entities sim will set it to non

382
00:15:32,240 --> 00:15:39,379
spatial or spatial right so we basically

383
00:15:35,330 --> 00:15:41,530
have whether there's an upir not if

384
00:15:39,379 --> 00:15:44,509
there isn't a new position we'll just

385
00:15:41,529 --> 00:15:45,829
oops we'll add that non spatial flag and

386
00:15:44,509 --> 00:15:48,169
if there is a new position will clear

387
00:15:45,830 --> 00:15:51,320
the flag and so at that point we kind of

388
00:15:48,169 --> 00:15:53,599
just have this easy way of making sure

389
00:15:51,320 --> 00:15:57,410
that that flag is always set based on

390
00:15:53,600 --> 00:15:59,509
that value right and that seems pretty

391
00:15:57,409 --> 00:16:01,069
straightforward to me now we almost

392
00:15:59,509 --> 00:16:04,490
don't even need that because the low

393
00:16:01,070 --> 00:16:11,780
entity stores it already but and so I

394
00:16:04,490 --> 00:16:22,159
guess to some degree we could even have

395
00:16:11,779 --> 00:16:23,480
this flag only be set at load time but

396
00:16:22,159 --> 00:16:25,250
for now I guess I'll leave it that way

397
00:16:23,480 --> 00:16:27,740
when we go and do a little bit more with

398
00:16:25,250 --> 00:16:29,899
streaming entities in and out we could

399
00:16:27,740 --> 00:16:31,129
do some more with that all right let's

400
00:16:29,899 --> 00:16:33,049
take a look at how this is going to work

401
00:16:31,129 --> 00:16:35,899
in our stream in and out let's take a

402
00:16:33,049 --> 00:16:37,099
clear flag in here and so clear is

403
00:16:35,899 --> 00:16:39,709
just going to do the exact same thing

404
00:16:37,100 --> 00:16:42,050
clear flag will basically and with not

405
00:16:39,710 --> 00:16:44,840
the flag which means it passes all other

406
00:16:42,049 --> 00:16:46,159
flags through except that flag pretty

407
00:16:44,840 --> 00:16:48,350
straightforward again it just gets rid

408
00:16:46,159 --> 00:16:50,750
of it so if you want to remove a flag

409
00:16:48,350 --> 00:16:52,879
you can do that so that should be about

410
00:16:50,750 --> 00:16:54,440
it now when we're actually in the sim

411
00:16:52,879 --> 00:16:57,200
region we can go ahead and start

412
00:16:54,440 --> 00:17:01,100
handling these let's see what we got

413
00:16:57,200 --> 00:17:04,069
here so obviously for move entity I

414
00:17:01,100 --> 00:17:06,110
think we want to say yeah with move

415
00:17:04,069 --> 00:17:08,359
entity we probably want to make sure

416
00:17:06,109 --> 00:17:10,519
that no one's trying to move an entity

417
00:17:08,359 --> 00:17:12,589
that has a non spatial flag set because

418
00:17:10,519 --> 00:17:14,180
that wouldn't make any sense so probably

419
00:17:12,589 --> 00:17:18,139
what I would want to do here is assert

420
00:17:14,180 --> 00:17:22,430
just for now that whatever this entity

421
00:17:18,140 --> 00:17:24,140
is it doesn't have the non spatial flag

422
00:17:22,430 --> 00:17:26,959
set because if it did it wouldn't make

423
00:17:24,140 --> 00:17:31,330
very much sense and similarly we should

424
00:17:26,959 --> 00:17:35,930
probably assume that collides is

425
00:17:31,329 --> 00:17:39,439
authoritative here but what we could

426
00:17:35,930 --> 00:17:41,330
also do is we could say that we want

427
00:17:39,440 --> 00:17:44,720
make sure that both of these things are

428
00:17:41,329 --> 00:17:52,398
set right that we want we want these are

429
00:17:44,720 --> 00:17:55,519
or we want so yeah this is kind of

430
00:17:52,398 --> 00:17:57,969
interesting what we could do here is say

431
00:17:55,519 --> 00:18:00,980
we want env flag collides and

432
00:17:57,970 --> 00:18:06,470
non-spatial to not be set right so we

433
00:18:00,980 --> 00:18:07,669
want is set and not is set if that makes

434
00:18:06,470 --> 00:18:12,110
sense

435
00:18:07,669 --> 00:18:13,509
entity flag non-spatial right we could

436
00:18:12,109 --> 00:18:17,689
say that

437
00:18:13,509 --> 00:18:19,128
and again like I don't really know

438
00:18:17,690 --> 00:18:21,500
that's that's on both of these guys

439
00:18:19,128 --> 00:18:23,329
right I don't really know if that should

440
00:18:21,500 --> 00:18:24,980
be necessary we could just assert that

441
00:18:23,329 --> 00:18:26,599
because maybe collides should never be

442
00:18:24,980 --> 00:18:28,069
set on something that's not spatial but

443
00:18:26,599 --> 00:18:30,888
I don't know so just something to think

444
00:18:28,069 --> 00:18:32,839
about when we're testing entities I'll

445
00:18:30,888 --> 00:18:34,250
leave it like that for now there's also

446
00:18:32,839 --> 00:18:37,398
a question of whether we want to have

447
00:18:34,250 --> 00:18:39,919
our own sort of collapsing for that

448
00:18:37,398 --> 00:18:42,589
because the test for something and not

449
00:18:39,919 --> 00:18:44,149
something else in flagged language could

450
00:18:42,589 --> 00:18:46,158
be boiled down to more simply but we

451
00:18:44,148 --> 00:18:47,928
could also just assume the compiler is

452
00:18:46,159 --> 00:18:52,399
smart enough to do that for us or that

453
00:18:47,929 --> 00:18:58,429
we just don't care we can think about

454
00:18:52,398 --> 00:19:03,408
that but yeah so let's see here what

455
00:18:58,429 --> 00:19:06,620
else we got we want to be able to in our

456
00:19:03,409 --> 00:19:08,299
begin sim check to see if we've got that

457
00:19:06,619 --> 00:19:11,888
situation going where things are non

458
00:19:08,298 --> 00:19:15,740
spatial right so when we add entities in

459
00:19:11,888 --> 00:19:18,528
obviously when we load something when we

460
00:19:15,740 --> 00:19:21,220
do our is in rectangle check we're going

461
00:19:18,528 --> 00:19:25,339
to have a situation where for any entity

462
00:19:21,220 --> 00:19:28,730
that we were looking at if we have the

463
00:19:25,339 --> 00:19:30,619
the low entity itself we don't really

464
00:19:28,730 --> 00:19:32,240
need if it's non spatial we don't really

465
00:19:30,619 --> 00:19:33,918
need to do a rectangle check on it

466
00:19:32,240 --> 00:19:37,190
because it can never be inside the

467
00:19:33,919 --> 00:19:40,278
rectangle if it's non spatial right so

468
00:19:37,190 --> 00:19:44,000
if the entity flag non spatial is set on

469
00:19:40,278 --> 00:19:46,788
this guy then we don't need to check

470
00:19:44,000 --> 00:19:49,069
right so if he we only want to do things

471
00:19:46,788 --> 00:19:51,230
that don't have non spatial set if non

472
00:19:49,069 --> 00:19:51,740
spatial isn't set then we would go ahead

473
00:19:51,230 --> 00:19:54,500
and pull

474
00:19:51,740 --> 00:19:56,980
in this way when we're in our ad entity

475
00:19:54,500 --> 00:19:59,740
call that's where it'll get pulled in

476
00:19:56,980 --> 00:20:02,839
which is kind of a separate issue but

477
00:19:59,740 --> 00:20:05,058
let's go ahead and do the enzyme first

478
00:20:02,839 --> 00:20:07,819
as well so when we're in the enzyme in

479
00:20:05,058 --> 00:20:09,440
the NCM we have our stored entity

480
00:20:07,819 --> 00:20:11,240
reference which we've we've written back

481
00:20:09,440 --> 00:20:14,299
what we want to do now is when we do our

482
00:20:11,240 --> 00:20:16,190
map into chunks base we don't want to do

483
00:20:14,299 --> 00:20:20,149
a map into chunks base for any entity

484
00:20:16,190 --> 00:20:21,259
that isn't going to be spatial right we

485
00:20:20,150 --> 00:20:22,700
want to just set them to the null

486
00:20:21,259 --> 00:20:24,558
position when we map them out if he's

487
00:20:22,700 --> 00:20:27,769
not spatial so what we can do there is

488
00:20:24,558 --> 00:20:31,609
we can say again is if it's set the

489
00:20:27,769 --> 00:20:35,859
entity that we're dealing with we can

490
00:20:31,609 --> 00:20:35,859
say if that entity has the entity flag

491
00:20:36,369 --> 00:20:43,009
non-spatial if it has that set then

492
00:20:40,009 --> 00:20:44,750
instead of setting it to whatever the

493
00:20:43,009 --> 00:20:46,069
chunk space position of that entity is

494
00:20:44,750 --> 00:20:50,029
we'll just set it to the null position

495
00:20:46,069 --> 00:20:51,710
right like so so that way on stream in

496
00:20:50,029 --> 00:20:54,529
we don't check if it's not supposed to

497
00:20:51,710 --> 00:20:56,269
be spatial and if we and when we're

498
00:20:54,529 --> 00:21:00,829
streaming out we write it back correctly

499
00:20:56,269 --> 00:21:02,629
based on that value right so that's one

500
00:21:00,829 --> 00:21:05,659
way to do it seems reasonable for now I

501
00:21:02,630 --> 00:21:08,240
don't know well you know we'll take a

502
00:21:05,660 --> 00:21:10,550
look at it in more detail as we start to

503
00:21:08,240 --> 00:21:12,558
use it more so the only thing that we

504
00:21:10,549 --> 00:21:15,440
need to do now is take a look at entity

505
00:21:12,558 --> 00:21:17,509
because identity will still add entities

506
00:21:15,440 --> 00:21:19,130
by pulling them in if they're referenced

507
00:21:17,509 --> 00:21:21,230
by some other entity right so load

508
00:21:19,130 --> 00:21:23,030
entity reference will pull in new

509
00:21:21,230 --> 00:21:24,950
entities even if they're non spatial

510
00:21:23,029 --> 00:21:26,210
like if the guy is holding a sword it'll

511
00:21:24,950 --> 00:21:29,509
pull in the sword and that sort of stuff

512
00:21:26,210 --> 00:21:32,420
so when we do that and we do that at

513
00:21:29,509 --> 00:21:34,490
entity call right that add entity call

514
00:21:32,420 --> 00:21:40,250
does stuff like figuring out where

515
00:21:34,490 --> 00:21:42,799
things should live in the world and so I

516
00:21:40,250 --> 00:21:45,230
just want to verify that we do something

517
00:21:42,799 --> 00:21:48,409
logical in that particular circumstance

518
00:21:45,230 --> 00:21:51,230
right so when we're doing identity when

519
00:21:48,410 --> 00:21:52,880
we add the entity and we pass it so

520
00:21:51,230 --> 00:21:54,529
there's there's I believe there's

521
00:21:52,880 --> 00:21:56,510
multiple ways of doing that call there's

522
00:21:54,529 --> 00:21:58,339
the identity that takes a location and

523
00:21:56,509 --> 00:22:00,619
there's an identity call that does not

524
00:21:58,339 --> 00:22:03,699
take a location right and the get sim

525
00:22:00,619 --> 00:22:04,879
space P is something that that happens

526
00:22:03,700 --> 00:22:09,019
when

527
00:22:04,880 --> 00:22:13,160
we don't pass that that pointer there

528
00:22:09,019 --> 00:22:15,410
right and so I think let's take a look

529
00:22:13,160 --> 00:22:18,050
here I think load entity reference

530
00:22:15,410 --> 00:22:19,700
technically is doing it wrong at the

531
00:22:18,049 --> 00:22:21,559
moment I think this is just a bug that

532
00:22:19,700 --> 00:22:23,450
we just never really encountered because

533
00:22:21,559 --> 00:22:26,119
we haven't done anything with the sim

534
00:22:23,450 --> 00:22:28,220
region's yet but if you take a look at

535
00:22:26,119 --> 00:22:31,039
low entity reference you can see that

536
00:22:28,220 --> 00:22:33,259
it's actually calling this version of

537
00:22:31,039 --> 00:22:36,649
identity which is one that does not

538
00:22:33,259 --> 00:22:39,049
actually take a position and I think

539
00:22:36,650 --> 00:22:43,460
that that's wrong so what I'm gonna do

540
00:22:39,049 --> 00:22:45,470
is is I'm gonna like label that as a

541
00:22:43,460 --> 00:22:49,610
call that nobody should actually be

542
00:22:45,470 --> 00:22:51,460
doing oops I hit my num lock key don't

543
00:22:49,609 --> 00:22:53,869
know why I did that

544
00:22:51,460 --> 00:22:57,319
so I'm gonna label that as identity raw

545
00:22:53,869 --> 00:23:00,109
and basically I don't want anyone to

546
00:22:57,319 --> 00:23:02,119
call that call I don't think I think

547
00:23:00,109 --> 00:23:04,849
what we want them to do is we want them

548
00:23:02,119 --> 00:23:07,609
to call this always so that it actually

549
00:23:04,849 --> 00:23:10,339
people get a position properly when they

550
00:23:07,609 --> 00:23:13,789
need it and so we'll just have this this

551
00:23:10,339 --> 00:23:19,939
guy call into that function where it'll

552
00:23:13,789 --> 00:23:22,879
pass a zero right i mm what

553
00:23:19,940 --> 00:23:24,860
that's good call it raw there we go and

554
00:23:22,880 --> 00:23:26,780
that way it'll always call this get sim

555
00:23:24,859 --> 00:23:29,899
space P and then all we have to do is

556
00:23:26,779 --> 00:23:33,109
forget some space P now what we can do

557
00:23:29,900 --> 00:23:35,900
is say well alright the v2 for the

558
00:23:33,109 --> 00:23:38,179
position of this entity what we're gonna

559
00:23:35,900 --> 00:23:40,400
do is we're gonna initialize that to

560
00:23:38,180 --> 00:23:42,250
something and then only in the case

561
00:23:40,400 --> 00:23:46,430
where we know that this entity is

562
00:23:42,250 --> 00:23:49,160
something that is legitimately supposed

563
00:23:46,430 --> 00:23:55,190
to be spatial so basically again we just

564
00:23:49,160 --> 00:23:57,259
use that not is set entity flag non

565
00:23:55,190 --> 00:23:59,570
spatial so assuming that it's not a non

566
00:23:57,259 --> 00:24:00,859
spatial entity then we will go ahead and

567
00:23:59,569 --> 00:24:03,409
actually figure out where it is in the

568
00:24:00,859 --> 00:24:06,049
world otherwise we will set its position

569
00:24:03,410 --> 00:24:08,600
to something totally random now what we

570
00:24:06,049 --> 00:24:13,039
could do again is set this to some weird

571
00:24:08,599 --> 00:24:15,709
value right like so so that we know that

572
00:24:13,039 --> 00:24:17,240
it's it's not involved we could also in

573
00:24:15,710 --> 00:24:17,730
debug mode set it to something weird

574
00:24:17,240 --> 00:24:21,450
like a

575
00:24:17,730 --> 00:24:23,460
nann value I don't know if we want to do

576
00:24:21,450 --> 00:24:27,840
that but we could put it to do here do

577
00:24:23,460 --> 00:24:32,160
we want to set this to signaling man to

578
00:24:27,839 --> 00:24:37,019
make sure man in debug mode to make sure

579
00:24:32,160 --> 00:24:39,870
nobody ever uses the position of a non

580
00:24:37,019 --> 00:24:42,269
spatial entity and I don't know the

581
00:24:39,869 --> 00:24:43,469
answer to that question there are there

582
00:24:42,269 --> 00:24:45,420
are values there are floating-point

583
00:24:43,470 --> 00:24:48,420
values you can set that will cause the

584
00:24:45,420 --> 00:24:51,000
FPU to cause a hard exception anytime

585
00:24:48,420 --> 00:24:52,890
you touch them and that might be

586
00:24:51,000 --> 00:24:55,589
something we want to stick in here in

587
00:24:52,890 --> 00:24:57,750
developer mode you know when we're not

588
00:24:55,589 --> 00:25:01,319
in release mode so that if anyone ever

589
00:24:57,750 --> 00:25:03,690
tries to use a position value that you

590
00:25:01,319 --> 00:25:07,109
know that would obviously that would

591
00:25:03,690 --> 00:25:08,850
break this this situation that for a non

592
00:25:07,109 --> 00:25:10,319
spatial entity it would tell us right

593
00:25:08,849 --> 00:25:12,509
away that might be interesting we could

594
00:25:10,319 --> 00:25:14,730
do something like that all right so

595
00:25:12,509 --> 00:25:16,319
anyway we cannot convert the argument

596
00:25:14,730 --> 00:25:18,569
because I did not pass the pointer as I

597
00:25:16,319 --> 00:25:21,659
was supposed to so that should handle

598
00:25:18,569 --> 00:25:24,029
that situation right now I don't know

599
00:25:21,660 --> 00:25:25,050
again where we just know that that was

600
00:25:24,029 --> 00:25:27,599
one of the things that we needed to do

601
00:25:25,049 --> 00:25:29,759
so I went ahead and did it but we have

602
00:25:27,599 --> 00:25:31,079
other things probably that we want to be

603
00:25:29,759 --> 00:25:33,059
able to do so let's go ahead and start

604
00:25:31,079 --> 00:25:37,109
debugging this and see where we're at so

605
00:25:33,059 --> 00:25:38,220
an update sword this is interesting so

606
00:25:37,109 --> 00:25:41,699
for update sword

607
00:25:38,220 --> 00:25:43,559
we never handled this as well and we've

608
00:25:41,700 --> 00:25:45,180
got this need to make yeah so we

609
00:25:43,559 --> 00:25:46,589
actually kind of knew that we hadn't

610
00:25:45,180 --> 00:25:48,630
finished this yet I guess it looks like

611
00:25:46,589 --> 00:25:50,039
I've even put an assertion in there so

612
00:25:48,630 --> 00:25:52,560
let's go ahead and finish porting the

613
00:25:50,039 --> 00:25:54,750
update sword routine to correctly be

614
00:25:52,559 --> 00:25:56,519
non-spatial and that should be pretty

615
00:25:54,750 --> 00:25:58,829
easy to do now that we actually have it

616
00:25:56,519 --> 00:26:00,629
cuz before we didn't have it so when we

617
00:25:58,829 --> 00:26:03,240
update sword I think there's probably

618
00:26:00,630 --> 00:26:05,430
nothing really that we need to do if

619
00:26:03,240 --> 00:26:09,089
it's in its non-spatial state so

620
00:26:05,430 --> 00:26:10,700
basically if that non-spatial maybe

621
00:26:09,089 --> 00:26:15,750
there will be in the future but for now

622
00:26:10,700 --> 00:26:17,819
if that enemy flag non-spatial is is set

623
00:26:15,750 --> 00:26:19,710
we don't actually need to do anything so

624
00:26:17,819 --> 00:26:22,230
all we need to do is when it is actually

625
00:26:19,710 --> 00:26:25,380
set and once it travels the total

626
00:26:22,230 --> 00:26:26,700
distance that the sword traveled I don't

627
00:26:25,380 --> 00:26:29,180
know why we don't have it to do here but

628
00:26:26,700 --> 00:26:29,180
we should

629
00:26:29,240 --> 00:26:35,890
to handle the fact that distance

630
00:26:31,849 --> 00:26:40,509
travelled might not have enough distance

631
00:26:35,890 --> 00:26:42,440
for the total entity move or the frame

632
00:26:40,509 --> 00:26:45,379
we'll deal with that a little bit later

633
00:26:42,440 --> 00:26:47,150
on so anyway yeah inside our update

634
00:26:45,380 --> 00:26:48,770
sword call assuming that the entity

635
00:26:47,150 --> 00:26:50,480
actually is spatial then we'll do the

636
00:26:48,769 --> 00:26:52,279
thing where we move the sword and when

637
00:26:50,480 --> 00:26:55,579
it gets to the end what we want to do

638
00:26:52,279 --> 00:26:57,470
here is now make the entity not exist

639
00:26:55,579 --> 00:27:00,319
anymore so we can just have a make

640
00:26:57,470 --> 00:27:03,529
entity non spatial or something like

641
00:27:00,319 --> 00:27:05,419
this some kind of call where we just say

642
00:27:03,529 --> 00:27:07,819
make any non spatial and we pass that

643
00:27:05,420 --> 00:27:10,190
entity and that will sort of delete it

644
00:27:07,819 --> 00:27:12,500
from the spatial nough sub right and

645
00:27:10,190 --> 00:27:14,450
that be I don't know why these are all

646
00:27:12,500 --> 00:27:16,130
in line at the moment I guess probably

647
00:27:14,450 --> 00:27:17,569
because we're doing them inside a switch

648
00:27:16,130 --> 00:27:19,790
kind of a situation so maybe that does

649
00:27:17,569 --> 00:27:21,649
make some sense but basically make enemy

650
00:27:19,789 --> 00:27:23,839
non spatial is a really trivial routine

651
00:27:21,650 --> 00:27:24,890
all that's gonna do is set that flag I

652
00:27:23,839 --> 00:27:27,559
don't think we really need to do

653
00:27:24,890 --> 00:27:29,780
anything else at the moment we could

654
00:27:27,559 --> 00:27:31,549
update the sim space key to be the eval

655
00:27:29,779 --> 00:27:34,250
ocation in fact I could do something

656
00:27:31,549 --> 00:27:36,369
where we have a pound to find for this

657
00:27:34,250 --> 00:27:38,960
you know what I'm saying like something

658
00:27:36,369 --> 00:27:44,179
where essentially in this entity that H

659
00:27:38,960 --> 00:27:46,400
we say pound define invalid P or

660
00:27:44,180 --> 00:27:47,900
something like that and we just can make

661
00:27:46,400 --> 00:27:50,269
that be whatever the value is that we're

662
00:27:47,900 --> 00:27:54,019
going to do so we have our invalid P

663
00:27:50,269 --> 00:27:56,150
here and we can set our invalid P here

664
00:27:54,019 --> 00:27:58,549
as well so we do make entity non spatial

665
00:27:56,150 --> 00:28:03,970
they'll set its p equal to that and it

666
00:27:58,549 --> 00:28:07,730
will set the flag on the entity that's

667
00:28:03,970 --> 00:28:10,519
to me that says that it's not spatial so

668
00:28:07,730 --> 00:28:10,910
an ad flag non spatial comes in there we

669
00:28:10,519 --> 00:28:14,779
go

670
00:28:10,910 --> 00:28:16,400
and that's about it that's all that

671
00:28:14,779 --> 00:28:18,349
should really have to do and then we

672
00:28:16,400 --> 00:28:21,470
similarly have the inverse thing which

673
00:28:18,349 --> 00:28:23,149
would be make entity spatial right and

674
00:28:21,470 --> 00:28:24,589
to make the end of these spatial honest

675
00:28:23,150 --> 00:28:27,560
amenity what you would need to do is

676
00:28:24,589 --> 00:28:29,240
pass in of a position that's where you

677
00:28:27,559 --> 00:28:31,190
actually want it to be and what that

678
00:28:29,240 --> 00:28:33,829
would do is exactly the opposite right

679
00:28:31,190 --> 00:28:35,660
it would clear that non spatial flag and

680
00:28:33,829 --> 00:28:38,539
then it would set the entity's position

681
00:28:35,660 --> 00:28:41,029
to the position that you asked for right

682
00:28:38,539 --> 00:28:41,599
and similarly I guess we could say that

683
00:28:41,029 --> 00:28:44,509
it would set

684
00:28:41,599 --> 00:28:45,949
the velocity of the entity probably to

685
00:28:44,509 --> 00:28:48,259
zero to clear that out as well

686
00:28:45,950 --> 00:28:49,819
or maybe you pass one in we could say

687
00:28:48,259 --> 00:28:52,059
that you pass in whatever it's starting

688
00:28:49,819 --> 00:28:54,139
velocity should be something like that

689
00:28:52,059 --> 00:28:55,819
either way it seems pretty

690
00:28:54,140 --> 00:28:58,370
straightforward so let's just go ahead

691
00:28:55,819 --> 00:29:01,220
and assume that we've got those guys and

692
00:28:58,369 --> 00:29:03,769
that they're hanging out all right we

693
00:29:01,220 --> 00:29:06,440
can deal with that later so that's what

694
00:29:03,769 --> 00:29:07,970
we want to do there let's see where

695
00:29:06,440 --> 00:29:10,340
we're at again just trying to figure out

696
00:29:07,970 --> 00:29:15,920
exactly what's going on with all of our

697
00:29:10,339 --> 00:29:17,269
stuff so in our end sim see here in our

698
00:29:15,920 --> 00:29:19,190
end somwhat entity we're doing what

699
00:29:17,269 --> 00:29:21,019
we're dealing with the sword here let's

700
00:29:19,190 --> 00:29:22,279
let's go ahead and see why we're getting

701
00:29:21,019 --> 00:29:24,339
this assertion because our sword

702
00:29:22,279 --> 00:29:26,690
shouldn't have had its location changed

703
00:29:24,339 --> 00:29:27,980
like that or it should have had a

704
00:29:26,690 --> 00:29:29,330
location change but it shouldn't be

705
00:29:27,980 --> 00:29:34,339
having an assertion problem I don't

706
00:29:29,329 --> 00:29:37,099
think so I don't actually know what this

707
00:29:34,339 --> 00:29:40,909
is complaining about flags equals this

708
00:29:37,099 --> 00:29:43,369
oh I I do sort of see I guess what it's

709
00:29:40,910 --> 00:29:47,930
complaining about here where is our

710
00:29:43,369 --> 00:29:49,489
stored value P well the stored that's

711
00:29:47,930 --> 00:29:51,590
that's actually fine the stored value

712
00:29:49,490 --> 00:29:53,900
it's coming from an invalid chunk it

713
00:29:51,589 --> 00:29:57,829
looks like is that correct

714
00:29:53,900 --> 00:29:59,420
let's see stored P it's coming from

715
00:29:57,829 --> 00:30:01,609
invalid chunk and it's staying an

716
00:29:59,420 --> 00:30:04,310
invalid chunk so what was the assertion

717
00:30:01,609 --> 00:30:08,929
what was the problem there that was

718
00:30:04,309 --> 00:30:12,220
complaining about assert not old P or is

719
00:30:08,930 --> 00:30:15,860
valid so it was expecting us to pass no

720
00:30:12,220 --> 00:30:18,230
in in both cases where the things were

721
00:30:15,859 --> 00:30:22,459
not going to be valid so that's kind of

722
00:30:18,230 --> 00:30:25,400
interesting hmm I wonder if that's just

723
00:30:22,460 --> 00:30:27,829
a bad idea for how it because it makes

724
00:30:25,400 --> 00:30:29,690
this call kind of harder to use if that

725
00:30:27,829 --> 00:30:32,439
makes sense what we'd rather be able to

726
00:30:29,690 --> 00:30:36,019
do is pass the null position in here and

727
00:30:32,440 --> 00:30:38,420
and have that actually be the way that

728
00:30:36,019 --> 00:30:41,299
that works so I wonder if this is

729
00:30:38,420 --> 00:30:43,490
actually kind of just annoying and not

730
00:30:41,299 --> 00:30:45,470
really what we would want for the way

731
00:30:43,490 --> 00:30:47,089
that this call works because basically

732
00:30:45,470 --> 00:30:48,769
it just gonna it would make us do a

733
00:30:47,089 --> 00:30:51,069
bunch of busy work here like I'd have to

734
00:30:48,769 --> 00:30:54,139
go ahead and make sure I check to see

735
00:30:51,069 --> 00:30:54,869
exactly whether it was spatial and now

736
00:30:54,140 --> 00:30:57,330
it's not

737
00:30:54,869 --> 00:30:59,299
and vice-versa and stuff and then past

738
00:30:57,329 --> 00:31:02,099
nulls are not in each of these

739
00:30:59,299 --> 00:31:04,559
conditions for the new P that's not such

740
00:31:02,099 --> 00:31:06,119
a big deal but again for the old P it

741
00:31:04,559 --> 00:31:08,399
would be I'd have to go actually start

742
00:31:06,119 --> 00:31:11,669
looking at that which isn't so good and

743
00:31:08,400 --> 00:31:13,380
so I wonder if maybe we just want that

744
00:31:11,670 --> 00:31:16,080
code to kind of be a little more

745
00:31:13,380 --> 00:31:18,180
intelligent about how it works and maybe

746
00:31:16,079 --> 00:31:21,359
change up sort of how we're thinking

747
00:31:18,180 --> 00:31:22,759
about these old Peas new peas and new

748
00:31:21,359 --> 00:31:26,309
Peas if that makes sense

749
00:31:22,759 --> 00:31:27,690
furthermore passing in the old P doesn't

750
00:31:26,309 --> 00:31:30,720
really make any sense anymore because

751
00:31:27,690 --> 00:31:33,210
the Lowe entity itself actually has this

752
00:31:30,720 --> 00:31:35,069
information in it so this is all kind of

753
00:31:33,210 --> 00:31:37,350
a little janky and kind of more about

754
00:31:35,069 --> 00:31:40,619
the old way we're doing things and

755
00:31:37,349 --> 00:31:42,659
doesn't really necessarily reflect what

756
00:31:40,619 --> 00:31:45,599
we actually do now if that makes sense

757
00:31:42,660 --> 00:31:47,070
so I wonder if yeah if this is just kind

758
00:31:45,599 --> 00:31:49,740
of stupid and we shouldn't just take the

759
00:31:47,069 --> 00:31:51,809
opportunity to modernize this a little

760
00:31:49,740 --> 00:31:54,950
bit based on the fact that we now know

761
00:31:51,809 --> 00:31:58,379
that it can always work directly on

762
00:31:54,950 --> 00:31:59,490
correct values that seems like a good

763
00:31:58,380 --> 00:32:01,590
idea so I'm going to go ahead and do

764
00:31:59,490 --> 00:32:03,299
that so I'm gonna go ahead and say let's

765
00:32:01,589 --> 00:32:06,089
get rid of this call entirely this one

766
00:32:03,299 --> 00:32:08,970
right here basically and let's fold this

767
00:32:06,089 --> 00:32:11,759
up into here in some kind of nice way so

768
00:32:08,970 --> 00:32:17,940
instead we could just say we have a low

769
00:32:11,759 --> 00:32:19,589
entity index and we have whatever maybe

770
00:32:17,940 --> 00:32:22,320
when you say change and early location

771
00:32:19,589 --> 00:32:24,689
you always also have to pass the entity

772
00:32:22,319 --> 00:32:27,059
not just the index because it is going

773
00:32:24,690 --> 00:32:35,820
to update yeah it's going to update that

774
00:32:27,059 --> 00:32:36,990
call so what we could do yeah sorry I'm

775
00:32:35,819 --> 00:32:38,220
just thinking this through it thickens

776
00:32:36,990 --> 00:32:42,870
through what the best way to do this is

777
00:32:38,220 --> 00:32:45,089
so all right I'll start with this let's

778
00:32:42,869 --> 00:32:47,519
split this way I'll start with this so

779
00:32:45,089 --> 00:32:49,919
what we'll do at first is we'll say okay

780
00:32:47,519 --> 00:32:51,809
we have the low entity we're going to

781
00:32:49,920 --> 00:32:53,700
take it a world position and the world

782
00:32:51,809 --> 00:32:55,859
position for now will the new position

783
00:32:53,700 --> 00:32:58,230
will always be an actual position and

784
00:32:55,859 --> 00:32:59,699
you'll just pass null position if you

785
00:32:58,230 --> 00:33:04,170
don't want it to set to a new position

786
00:32:59,700 --> 00:33:06,660
right does that make sense because we

787
00:33:04,170 --> 00:33:08,620
have the null position right and so we

788
00:33:06,660 --> 00:33:09,790
can just do an is valid on something

789
00:33:08,619 --> 00:33:11,769
we don't need to be able to we don't

790
00:33:09,789 --> 00:33:14,019
need to pass pointers for that right so

791
00:33:11,769 --> 00:33:16,690
we can say is valid new P and then we

792
00:33:14,019 --> 00:33:18,879
get this right so what I could do is

793
00:33:16,690 --> 00:33:22,090
make this work essentially that way

794
00:33:18,880 --> 00:33:23,650
right so we've got a new P in it like

795
00:33:22,089 --> 00:33:25,689
that I guess I could actually do it this

796
00:33:23,650 --> 00:33:29,410
way and then we'll just have this guy do

797
00:33:25,690 --> 00:33:31,480
old P world position new P like so these

798
00:33:29,410 --> 00:33:32,950
will both start out being nulls which is

799
00:33:31,480 --> 00:33:34,450
what this routine wanted in the first

800
00:33:32,950 --> 00:33:38,529
place and then what we'll do is we'll

801
00:33:34,450 --> 00:33:41,590
say if new P in it is valid right if the

802
00:33:38,529 --> 00:33:42,940
new position that's pointing in that

803
00:33:41,589 --> 00:33:45,519
we're getting is valid then we'll

804
00:33:42,940 --> 00:33:47,500
actually set new P equal to point to it

805
00:33:45,519 --> 00:33:49,210
otherwise it will remain null and for

806
00:33:47,500 --> 00:33:54,039
old P what we'll do is we'll say if flow

807
00:33:49,210 --> 00:33:59,670
entity if that flag is if it's not set

808
00:33:54,039 --> 00:34:00,960
oops that's ass in there entity flag

809
00:33:59,670 --> 00:34:04,000
non-spatial

810
00:34:00,960 --> 00:34:06,549
in the case where the low entity is not

811
00:34:04,000 --> 00:34:08,440
supposed to be spatial it will leave it

812
00:34:06,549 --> 00:34:10,090
set to zero but in the case where it is

813
00:34:08,440 --> 00:34:14,648
a spatial entity then it will go ahead

814
00:34:10,090 --> 00:34:16,329
and grab that position out of out of the

815
00:34:14,648 --> 00:34:17,829
low entity and use it so that would keep

816
00:34:16,329 --> 00:34:20,469
it working basically the same way to do

817
00:34:17,829 --> 00:34:23,110
this now and but it will you know make

818
00:34:20,469 --> 00:34:25,779
it so that that we can call it in a more

819
00:34:23,110 --> 00:34:27,070
sensible fashion right and so now when

820
00:34:25,780 --> 00:34:29,050
you can change any location you don't

821
00:34:27,070 --> 00:34:30,820
ever have to pass that you just pass

822
00:34:29,050 --> 00:34:34,030
whatever the new P is going to be and

823
00:34:30,820 --> 00:34:36,730
and let's take a look here so when we

824
00:34:34,030 --> 00:34:40,899
add low entities in the same thing would

825
00:34:36,730 --> 00:34:42,699
be true instead now when we pass that p

826
00:34:40,898 --> 00:34:47,829
value here let's just go ahead and pass

827
00:34:42,699 --> 00:34:49,888
real P values through for now let's take

828
00:34:47,829 --> 00:34:52,809
a look we'll just pass a null position

829
00:34:49,889 --> 00:34:54,760
in the cases here and again I think we

830
00:34:52,809 --> 00:34:59,079
probably want to clean this up one step

831
00:34:54,760 --> 00:35:02,940
further but for now this will be this

832
00:34:59,079 --> 00:35:06,759
will be okay let's keep going here and

833
00:35:02,940 --> 00:35:11,730
so on all right so let's see how that

834
00:35:06,760 --> 00:35:15,970
gets us let's just take a look all right

835
00:35:11,730 --> 00:35:18,260
well this is interesting what is going

836
00:35:15,969 --> 00:35:22,598
on here

837
00:35:18,260 --> 00:35:27,470
get world shunk what is our problem

838
00:35:22,599 --> 00:35:29,119
chunk whoa that's weird that is just

839
00:35:27,469 --> 00:35:32,838
bizarre

840
00:35:29,119 --> 00:35:35,660
get world chunk chunk is returning kind

841
00:35:32,838 --> 00:35:40,070
of garbagey values there what what what

842
00:35:35,659 --> 00:35:44,449
has happened add low entity let's see

843
00:35:40,070 --> 00:35:46,970
here so we're in we're in this call is

844
00:35:44,449 --> 00:35:48,348
this the first where are we on this okay

845
00:35:46,969 --> 00:35:51,379
so it's our first one so let's go ahead

846
00:35:48,349 --> 00:35:54,588
and step in there that's good so we do

847
00:35:51,380 --> 00:35:57,470
our ad low entity our ad low enemy it's

848
00:35:54,588 --> 00:35:59,929
going to initialize that to essentially

849
00:35:57,469 --> 00:36:02,358
the invalid value then we go in to add

850
00:35:59,929 --> 00:36:04,730
it it's going to do the ad and then it's

851
00:36:02,358 --> 00:36:11,809
gonna try and call that change location

852
00:36:04,730 --> 00:36:13,670
ah well that's true so we actually have

853
00:36:11,809 --> 00:36:18,078
to also check to make sure that that

854
00:36:13,670 --> 00:36:21,619
isn't and valid value and that the

855
00:36:18,079 --> 00:36:24,349
spatial yeah yeah so again this is a

856
00:36:21,619 --> 00:36:25,849
little jakey I'm just yeah it's just a

857
00:36:24,349 --> 00:36:27,980
little not quite right because you have

858
00:36:25,849 --> 00:36:29,869
two things that both represent the same

859
00:36:27,980 --> 00:36:31,280
value you have the fact that it's non

860
00:36:29,869 --> 00:36:33,410
spatial which is a flag and then you

861
00:36:31,280 --> 00:36:36,050
also have the fact that this p-value can

862
00:36:33,409 --> 00:36:37,879
be set to an invalid value it's a little

863
00:36:36,050 --> 00:36:39,140
janky right you see why I think that's a

864
00:36:37,880 --> 00:36:40,130
little janky I don't know maybe you

865
00:36:39,139 --> 00:36:43,578
don't see why I think that's a little

866
00:36:40,130 --> 00:36:46,910
janky but essentially what we would have

867
00:36:43,579 --> 00:36:51,859
to do here for the catch-all is say also

868
00:36:46,909 --> 00:36:53,899
the p-value has to be valid right both

869
00:36:51,858 --> 00:36:56,420
of those things have to be true in order

870
00:36:53,900 --> 00:36:58,910
for this to be set right and that would

871
00:36:56,420 --> 00:37:03,559
go this way and I just don't love that

872
00:36:58,909 --> 00:37:09,259
like I just don't love that concept oops

873
00:37:03,559 --> 00:37:11,769
I do that wrong because like it just

874
00:37:09,260 --> 00:37:11,770
seems like

875
00:37:13,900 --> 00:37:21,579
I I didn't do it wrong I just have to go

876
00:37:17,860 --> 00:37:24,370
set that in here it just seems like I

877
00:37:21,579 --> 00:37:26,199
don't really like that idea I never like

878
00:37:24,369 --> 00:37:28,420
having state stored in two places right

879
00:37:26,199 --> 00:37:30,279
it just invites errors where people said

880
00:37:28,420 --> 00:37:33,519
it in one and not the other and so I'd

881
00:37:30,280 --> 00:37:34,990
like to think it through how I might get

882
00:37:33,519 --> 00:37:37,389
rid of that it might be sometimes you

883
00:37:34,989 --> 00:37:40,629
can't avoid it and so you know if it has

884
00:37:37,389 --> 00:37:43,719
to be that way it has to be that way but

885
00:37:40,630 --> 00:37:47,470
it just it just makes me unhappy it's

886
00:37:43,719 --> 00:37:49,269
all but yeah so all we have to do really

887
00:37:47,469 --> 00:37:50,349
is initialize the P to know position and

888
00:37:49,269 --> 00:37:53,190
that solves the problem that we were

889
00:37:50,349 --> 00:37:58,750
having there but it's just it's just not

890
00:37:53,190 --> 00:38:00,420
fantastic so yeah anyway I don't know

891
00:37:58,750 --> 00:38:04,630
what exactly is going on with that guy

892
00:38:00,420 --> 00:38:06,460
see here so I think that solved most of

893
00:38:04,630 --> 00:38:09,210
our problems we just have a few weird

894
00:38:06,460 --> 00:38:12,280
things going on now we start out

895
00:38:09,210 --> 00:38:13,630
centered wrong and so I have a to do in

896
00:38:12,280 --> 00:38:14,769
there to look at why now that we're

897
00:38:13,630 --> 00:38:16,869
switch to stimulation reasons we're

898
00:38:14,769 --> 00:38:22,269
centered wrong and then the other thing

899
00:38:16,869 --> 00:38:24,849
that we have to do is I was gonna say oh

900
00:38:22,269 --> 00:38:27,789
we need to update our camera code so

901
00:38:24,849 --> 00:38:29,559
that it follows the guy again but again

902
00:38:27,789 --> 00:38:32,759
we'll leave that low and spatial thing

903
00:38:29,559 --> 00:38:35,650
for now maybe I'll put in a little note

904
00:38:32,760 --> 00:38:37,150
just as something to think about is so

905
00:38:35,650 --> 00:38:39,099
that we don't forget about it and when

906
00:38:37,150 --> 00:38:41,289
we're looking through things in future

907
00:38:39,099 --> 00:38:43,420
clean up class passes if we have a good

908
00:38:41,289 --> 00:38:48,789
idea where we're like this is how we

909
00:38:43,420 --> 00:38:54,369
could fix this right we'll fix it so to

910
00:38:48,789 --> 00:39:00,130
do it's kind of busted that P's can be

911
00:38:54,369 --> 00:39:04,809
invalid here and we store whether they

912
00:39:00,130 --> 00:39:09,099
would be invalid in the flags field can

913
00:39:04,809 --> 00:39:10,509
we do something better here and so you

914
00:39:09,099 --> 00:39:12,099
know now might not be the best time to

915
00:39:10,510 --> 00:39:13,660
tackle that it might be better to tackle

916
00:39:12,099 --> 00:39:16,199
that little later on when we're doing

917
00:39:13,659 --> 00:39:18,670
when we understand the structure that

918
00:39:16,199 --> 00:39:21,129
active and enacted like stimulated and

919
00:39:18,670 --> 00:39:22,840
nonce and and store identities are going

920
00:39:21,130 --> 00:39:24,640
to look like how they're gonna look and

921
00:39:22,840 --> 00:39:25,720
that's for stuff but it's just something

922
00:39:24,639 --> 00:39:29,019
that's on my mind

923
00:39:25,719 --> 00:39:31,239
I don't love so that's that all right so

924
00:39:29,019 --> 00:39:32,559
what I want to do now is go ahead and

925
00:39:31,239 --> 00:39:34,000
start cleaning up the rest of this stuff

926
00:39:32,559 --> 00:39:36,549
let's find out why the camera's not

927
00:39:34,000 --> 00:39:39,099
tracking the guy that would be a good

928
00:39:36,550 --> 00:39:40,599
idea so when we when we add a player

929
00:39:39,099 --> 00:39:43,210
we're setting the camera following index

930
00:39:40,599 --> 00:39:46,030
equal to that player so I think that

931
00:39:43,210 --> 00:39:50,079
should still be working but we are not

932
00:39:46,030 --> 00:39:52,869
currently tracking the the movement so

933
00:39:50,079 --> 00:39:55,239
let's find out why it we I thought we

934
00:39:52,869 --> 00:39:57,010
copied that code in here in fact we did

935
00:39:55,239 --> 00:39:59,139
it's right here so we should try to

936
00:39:57,010 --> 00:40:03,430
figure out you know why isn't that

937
00:39:59,139 --> 00:40:05,379
working right so the entity itself we

938
00:40:03,429 --> 00:40:07,179
want to figure out why this is never

939
00:40:05,380 --> 00:40:09,309
getting triggered or if it is getting

940
00:40:07,179 --> 00:40:10,989
triggered why it's not taking any effect

941
00:40:09,309 --> 00:40:14,230
it looks like the reason is because the

942
00:40:10,989 --> 00:40:15,939
camera P never gets written back like we

943
00:40:14,230 --> 00:40:17,769
update new camera P here because we used

944
00:40:15,940 --> 00:40:20,050
to have a change call here and now we

945
00:40:17,769 --> 00:40:22,210
don't anymore so it may be as simple as

946
00:40:20,050 --> 00:40:23,859
just saying whatever the new camera P is

947
00:40:22,210 --> 00:40:28,030
we could just flat-out set it to the

948
00:40:23,858 --> 00:40:29,619
camera P and have that work so let's I

949
00:40:28,030 --> 00:40:34,390
guess that's one way to do it let's

950
00:40:29,619 --> 00:40:36,099
let's go ahead and take a look now yeah

951
00:40:34,389 --> 00:40:38,469
now I guess that would be it that would

952
00:40:36,099 --> 00:40:40,210
be all we'd have to do I'm not sure if

953
00:40:38,469 --> 00:40:44,079
that'll work or not but let's take a

954
00:40:40,210 --> 00:40:44,650
look why is my guy floating off into

955
00:40:44,079 --> 00:40:46,598
space

956
00:40:44,650 --> 00:40:47,950
I think his D Z never gets updated

957
00:40:46,599 --> 00:40:50,170
anymore as well so we got to go take a

958
00:40:47,949 --> 00:40:52,750
look at that it once he starts jumping

959
00:40:50,170 --> 00:40:55,329
he never stops all right so that fix the

960
00:40:52,750 --> 00:40:58,179
camera problem - let's take a look at

961
00:40:55,329 --> 00:41:00,579
why our D Z is busted that's I guess

962
00:40:58,179 --> 00:41:03,159
probably something that's still we never

963
00:41:00,579 --> 00:41:04,960
really did anything with Z like I said

964
00:41:03,159 --> 00:41:09,608
before but we might as well keep it

965
00:41:04,960 --> 00:41:11,650
working so let's see here so we have the

966
00:41:09,608 --> 00:41:13,989
DZ value it should be getting updated

967
00:41:11,650 --> 00:41:16,510
and entities it looks like right it's

968
00:41:13,989 --> 00:41:19,149
coming in through here and the DZ values

969
00:41:16,510 --> 00:41:23,799
should be getting set

970
00:41:19,150 --> 00:41:28,539
I'm not sure why it isn't that's kind of

971
00:41:23,798 --> 00:41:29,230
odd I wonder what the problem is with

972
00:41:28,539 --> 00:41:32,140
that

973
00:41:29,230 --> 00:41:38,019
so if controller start ended down Kon

974
00:41:32,139 --> 00:41:41,858
hero DZ equals three looks like what is

975
00:41:38,018 --> 00:41:44,169
con hero con hero it looks like we never

976
00:41:41,858 --> 00:41:48,429
clear it is the problem so we never

977
00:41:44,170 --> 00:41:50,829
clear the con hero D requests at all and

978
00:41:48,429 --> 00:41:52,179
that's obviously going to cause the

979
00:41:50,829 --> 00:41:54,369
problem remember we're storing the

980
00:41:52,179 --> 00:41:56,889
controller input now in anticipation for

981
00:41:54,369 --> 00:41:59,048
doing some stuff later so that is pretty

982
00:41:56,889 --> 00:42:04,868
straightforward that obviously makes

983
00:41:59,048 --> 00:42:06,998
perfect sense yeah it's still that's a

984
00:42:04,869 --> 00:42:08,230
little weird why is it moving down in

985
00:42:06,998 --> 00:42:10,449
that yes so we still have some weird

986
00:42:08,230 --> 00:42:12,219
bugs going on here all right so assuming

987
00:42:10,449 --> 00:42:13,659
that the DZ is set to zero now I don't

988
00:42:12,219 --> 00:42:15,189
remember exactly how we did this control

989
00:42:13,659 --> 00:42:17,440
chair thing so we have our DZ we have

990
00:42:15,190 --> 00:42:19,358
our D story our GDP seems like all of

991
00:42:17,440 --> 00:42:22,119
those things probably want to be set to

992
00:42:19,358 --> 00:42:25,298
zero well the D sword doesn't actually

993
00:42:22,119 --> 00:42:27,130
do anything well no it does that's true

994
00:42:25,298 --> 00:42:29,108
so we want to kind of zero this out I

995
00:42:27,130 --> 00:42:30,940
think entirely for now we can think

996
00:42:29,108 --> 00:42:32,380
about how we want to do that exactly a

997
00:42:30,940 --> 00:42:34,239
little bit more in the future but we

998
00:42:32,380 --> 00:42:38,309
want to zero those things out and then

999
00:42:34,239 --> 00:42:41,769
when we come down here and we set those

1000
00:42:38,309 --> 00:42:44,440
yes so the entity DZ we only want to

1001
00:42:41,768 --> 00:42:47,848
update that DZ if the con hero DZ was

1002
00:42:44,440 --> 00:42:50,619
actually it was set to something right

1003
00:42:47,849 --> 00:42:52,480
yeah so we do want to actually say as

1004
00:42:50,619 --> 00:42:54,430
long as long as that is a it's not a

1005
00:42:52,480 --> 00:42:56,409
zero value then they're actually trying

1006
00:42:54,429 --> 00:42:57,608
to jump this is kind of janky again we

1007
00:42:56,409 --> 00:42:59,409
don't really care about this very much

1008
00:42:57,608 --> 00:43:01,630
but that restores our jump control

1009
00:42:59,409 --> 00:43:02,980
anyway so that's fine cuz we I don't

1010
00:43:01,630 --> 00:43:04,809
know we had that jump in there we -

1011
00:43:02,980 --> 00:43:06,309
we'll keep it for now so the last thing

1012
00:43:04,809 --> 00:43:09,069
I want to do is figure out why our

1013
00:43:06,309 --> 00:43:10,869
camera is what's going on with our

1014
00:43:09,068 --> 00:43:13,268
camera focus in general like what's

1015
00:43:10,869 --> 00:43:15,400
what's the deal with with the camera

1016
00:43:13,268 --> 00:43:18,608
location why are we staring at not at

1017
00:43:15,400 --> 00:43:19,960
the center of the room and so I'm gonna

1018
00:43:18,608 --> 00:43:22,150
take a look at what's going on there

1019
00:43:19,960 --> 00:43:24,338
because I think we've got either a bug

1020
00:43:22,150 --> 00:43:27,190
or just a misunderstanding

1021
00:43:24,338 --> 00:43:31,268
in how our code is working and so I want

1022
00:43:27,190 --> 00:43:33,519
to take care of that so we have done

1023
00:43:31,268 --> 00:43:35,459
this to do add logic to the same region

1024
00:43:33,518 --> 00:43:37,568
to handle um place entities we have not

1025
00:43:35,460 --> 00:43:38,858
done this to do yet which is what we

1026
00:43:37,568 --> 00:43:41,259
need to do now which is figure out why

1027
00:43:38,858 --> 00:43:45,248
the camera is a little wonky so let's

1028
00:43:41,259 --> 00:43:48,338
take a look at that we know that that's

1029
00:43:45,248 --> 00:43:50,858
startup we do set the camera right or at

1030
00:43:48,338 --> 00:43:52,509
least we were here is how we set the

1031
00:43:50,858 --> 00:43:55,478
camera right we said new camera PE

1032
00:43:52,509 --> 00:43:57,608
equals this camera tile X capital y

1033
00:43:55,478 --> 00:43:59,710
situation right there's there's our new

1034
00:43:57,608 --> 00:44:02,108
camera P and then we were adding

1035
00:43:59,710 --> 00:44:05,699
Monstars and familiars near there and

1036
00:44:02,108 --> 00:44:08,108
whatever we did all that stuff right so

1037
00:44:05,699 --> 00:44:10,088
is it just because we never call set

1038
00:44:08,108 --> 00:44:11,920
camera it is just because we never call

1039
00:44:10,088 --> 00:44:13,599
set camera yeah that's exactly what it

1040
00:44:11,920 --> 00:44:15,999
is we had those change camera calls we

1041
00:44:13,599 --> 00:44:18,489
deleted them I never put them back in so

1042
00:44:15,998 --> 00:44:22,389
basically we would want to do that right

1043
00:44:18,489 --> 00:44:23,619
that seems pretty obvious that maybe it

1044
00:44:22,389 --> 00:44:25,748
and that was it

1045
00:44:23,619 --> 00:44:31,539
so that's the entirety of our problem it

1046
00:44:25,748 --> 00:44:34,419
looks like yeah all right well that's

1047
00:44:31,539 --> 00:44:36,640
good so now we should restore our sword

1048
00:44:34,420 --> 00:44:38,499
functionality probably as well again we

1049
00:44:36,639 --> 00:44:40,239
started about 15 minutes late today so

1050
00:44:38,498 --> 00:44:41,649
to get an hour's with the programming in

1051
00:44:40,239 --> 00:44:44,380
I'm gonna go another 15 minutes

1052
00:44:41,650 --> 00:44:45,729
certainly and then we'll still do Q&amp;A so

1053
00:44:44,380 --> 00:44:47,499
don't worry about that but I don't want

1054
00:44:45,728 --> 00:44:50,048
to do less programming than we're gonna

1055
00:44:47,498 --> 00:44:52,298
do looks like our sim region seems to be

1056
00:44:50,048 --> 00:44:55,298
working pretty well no particular

1057
00:44:52,298 --> 00:44:57,130
problems yeah everything seems to be

1058
00:44:55,298 --> 00:44:58,929
restored and so now we just should

1059
00:44:57,130 --> 00:45:00,369
probably do our quote unquote sword

1060
00:44:58,929 --> 00:45:02,259
again we don't have the sword graphic

1061
00:45:00,369 --> 00:45:05,759
game yet so it's just a stupid little

1062
00:45:02,259 --> 00:45:08,108
rock but gotta start somewhere

1063
00:45:05,759 --> 00:45:09,818
people probably fought with rocks back

1064
00:45:08,108 --> 00:45:11,978
in the day the other thing we should

1065
00:45:09,818 --> 00:45:15,880
probably do sometime soon

1066
00:45:11,978 --> 00:45:17,498
is is get this sorting stuff in there

1067
00:45:15,880 --> 00:45:19,150
because sorting wouldn't be too hard for

1068
00:45:17,498 --> 00:45:20,318
us to do and that way we actually pass

1069
00:45:19,150 --> 00:45:21,670
in front of these entities instead of

1070
00:45:20,318 --> 00:45:23,318
behind them right now things are getting

1071
00:45:21,670 --> 00:45:25,989
drawn in whatever order they were added

1072
00:45:23,318 --> 00:45:27,278
to the sim right and so that's not

1073
00:45:25,989 --> 00:45:29,349
particularly useful we want to be able

1074
00:45:27,278 --> 00:45:30,909
to sort them so that things you know I

1075
00:45:29,349 --> 00:45:31,599
should've clued those trees not the

1076
00:45:30,909 --> 00:45:34,719
other way around

1077
00:45:31,599 --> 00:45:36,068
anyway yeah I think we just need to take

1078
00:45:34,719 --> 00:45:37,329
a look at what's going on with our store

1079
00:45:36,068 --> 00:45:40,838
because we never actually ported that

1080
00:45:37,329 --> 00:45:44,920
code so let's take a look at that when

1081
00:45:40,838 --> 00:45:46,358
we do our sword code where is that

1082
00:45:44,920 --> 00:45:49,709
that's going to be in our in our hero

1083
00:45:46,358 --> 00:45:52,298
control code right that's going to be

1084
00:45:49,708 --> 00:45:54,759
basically down here where we do our MD

1085
00:45:52,298 --> 00:45:58,329
type hero well we take a look at that D

1086
00:45:54,759 --> 00:46:00,759
sword what we really need to do here is

1087
00:45:58,329 --> 00:46:02,289
just I guess figure out what's going on

1088
00:46:00,759 --> 00:46:05,170
with this guy

1089
00:46:02,289 --> 00:46:07,089
I guess our sword the problem is is we

1090
00:46:05,170 --> 00:46:09,849
didn't we have to make the sword spatial

1091
00:46:07,088 --> 00:46:11,858
at this point right so what we want to

1092
00:46:09,849 --> 00:46:15,729
do is say okay if we had a sword we need

1093
00:46:11,858 --> 00:46:18,998
to do is make entity spatial right and

1094
00:46:15,728 --> 00:46:23,108
we want to pass this stuff in here we

1095
00:46:18,998 --> 00:46:25,058
want to pass the entity P as the

1096
00:46:23,108 --> 00:46:26,739
position for them and this is going to

1097
00:46:25,059 --> 00:46:29,140
be the DP so we already sort did the

1098
00:46:26,739 --> 00:46:29,708
work that we need to do here to make

1099
00:46:29,139 --> 00:46:31,900
that happen

1100
00:46:29,708 --> 00:46:33,548
so I think that's it just telling you to

1101
00:46:31,900 --> 00:46:34,930
make it spatial so that it participates

1102
00:46:33,548 --> 00:46:38,380
in the sim properly

1103
00:46:34,929 --> 00:46:40,228
yeah and that looks fine that looks like

1104
00:46:38,380 --> 00:46:45,099
what's what it should look like although

1105
00:46:40,228 --> 00:46:48,429
I am a little bit weirded out by why the

1106
00:46:45,099 --> 00:46:51,459
shadow is so toe if the shadows probably

1107
00:46:48,429 --> 00:46:53,528
so dark because it's probably just a

1108
00:46:51,458 --> 00:46:58,739
full dark well I don't know I'm a little

1109
00:46:53,528 --> 00:47:01,028
this that shadow looks super dark to you

1110
00:46:58,739 --> 00:47:03,130
why is this it looks like it's drawing

1111
00:47:01,028 --> 00:47:04,659
the shadow many times or maybe there's

1112
00:47:03,130 --> 00:47:07,209
already a shadow on the stone I don't

1113
00:47:04,659 --> 00:47:10,690
know but it looks wrong to me that looks

1114
00:47:07,208 --> 00:47:12,879
wrong so I'm gonna go ahead and set a

1115
00:47:10,690 --> 00:47:17,349
loop point here right I'm gonna go ahead

1116
00:47:12,880 --> 00:47:19,838
and and and just set a loop point so I

1117
00:47:17,349 --> 00:47:22,359
can fire that and just leave it kind of

1118
00:47:19,838 --> 00:47:25,268
firing there and then I'm gonna go in

1119
00:47:22,358 --> 00:47:30,068
here and take a look at what's going on

1120
00:47:25,268 --> 00:47:32,018
so here's my sword right and I'm gonna

1121
00:47:30,068 --> 00:47:37,298
go ahead and and comment out the shadow

1122
00:47:32,018 --> 00:47:38,679
a bit map entirely so I think that sword

1123
00:47:37,298 --> 00:47:41,079
that sword really feels like it's

1124
00:47:38,679 --> 00:47:43,389
getting drawn multiple times to me that

1125
00:47:41,079 --> 00:47:45,370
really does right that's what it feels

1126
00:47:43,389 --> 00:47:48,879
like to me so what I'm gonna do

1127
00:47:45,369 --> 00:47:52,690
here is I'm gonna go ahead and take I'm

1128
00:47:48,880 --> 00:47:57,090
just gonna see you know are we somehow

1129
00:47:52,690 --> 00:48:00,550
getting multiple calls is there somehow

1130
00:47:57,090 --> 00:48:02,579
more than one sword like getting drawn

1131
00:48:00,550 --> 00:48:04,750
or getting added in here I don't know

1132
00:48:02,579 --> 00:48:06,190
because that would be pretty easy to do

1133
00:48:04,750 --> 00:48:07,510
and we might may not want to add some

1134
00:48:06,190 --> 00:48:09,490
shucky to make sure that that since

1135
00:48:07,510 --> 00:48:11,680
we're creating things in the sim region

1136
00:48:09,489 --> 00:48:13,299
and then writing back out I wonder if

1137
00:48:11,679 --> 00:48:14,500
you know we should add some code there

1138
00:48:13,300 --> 00:48:17,320
to make sure that stuff doesn't get

1139
00:48:14,500 --> 00:48:19,420
loaded in and and written out twice

1140
00:48:17,320 --> 00:48:21,670
especially in the early times when we're

1141
00:48:19,420 --> 00:48:24,789
getting this in region working in might

1142
00:48:21,670 --> 00:48:31,480
have bugs right so alright let's take a

1143
00:48:24,789 --> 00:48:33,250
look here what have we got when we do

1144
00:48:31,480 --> 00:48:34,929
our update sword and then we do the push

1145
00:48:33,250 --> 00:48:37,780
bitmap what would be an easy way to do

1146
00:48:34,929 --> 00:48:40,929
this let's say that we took the entity

1147
00:48:37,780 --> 00:48:43,480
index here like so whatever the entity

1148
00:48:40,929 --> 00:48:45,639
index was of this of this guy let me

1149
00:48:43,480 --> 00:48:49,510
just go ahead and add that in to the

1150
00:48:45,639 --> 00:48:51,879
location the offset in pixels of that so

1151
00:48:49,510 --> 00:48:56,200
I might say to do 10 times the entity

1152
00:48:51,880 --> 00:49:02,430
index like so and I'm just gonna run

1153
00:48:56,199 --> 00:49:05,639
that right oh I guess that was too much

1154
00:49:02,429 --> 00:49:05,639
never mind

1155
00:49:07,690 --> 00:49:11,809
so now you'll notice that I'm only

1156
00:49:09,949 --> 00:49:13,818
seeing one of them alright so let's go

1157
00:49:11,809 --> 00:49:18,858
ahead and add a fractional value in

1158
00:49:13,818 --> 00:49:20,949
there there you go so we've got lots of

1159
00:49:18,858 --> 00:49:23,900
entity indexes that are all the sword

1160
00:49:20,949 --> 00:49:25,879
apparently and so that's no good

1161
00:49:23,900 --> 00:49:28,220
doesn't make any sense so we've clearly

1162
00:49:25,880 --> 00:49:30,858
done something wrong probably again we

1163
00:49:28,219 --> 00:49:34,009
have a bug with our sim region how our

1164
00:49:30,858 --> 00:49:38,630
entity's system brings in elements we're

1165
00:49:34,010 --> 00:49:40,310
probably not I made that hash table

1166
00:49:38,630 --> 00:49:42,500
specifically to prevent things from

1167
00:49:40,309 --> 00:49:44,599
being loaded multiple times through the

1168
00:49:42,500 --> 00:49:46,699
referencing system I probably have a bug

1169
00:49:44,599 --> 00:49:49,280
there is what I would guess although I

1170
00:49:46,699 --> 00:49:50,750
don't really know so point being we

1171
00:49:49,280 --> 00:49:53,599
should we now kind of want to go and

1172
00:49:50,750 --> 00:49:55,369
check to see what's going on there I

1173
00:49:53,599 --> 00:50:01,250
think that's that's priority number

1174
00:49:55,369 --> 00:50:03,349
number one so let's take a look we now

1175
00:50:01,250 --> 00:50:05,539
know that my suspicion was correct about

1176
00:50:03,349 --> 00:50:09,559
the fact that these things are broken

1177
00:50:05,539 --> 00:50:11,630
and so we should be able to - yeah we

1178
00:50:09,559 --> 00:50:13,699
should be able to figure out why so

1179
00:50:11,630 --> 00:50:15,410
let's go into our handmade sim region

1180
00:50:13,699 --> 00:50:16,578
and see we know that we're having some

1181
00:50:15,409 --> 00:50:18,500
kind of problem with multiple entities

1182
00:50:16,579 --> 00:50:20,480
we know we only ever created one sword

1183
00:50:18,500 --> 00:50:22,670
anyway at least we thought we did and so

1184
00:50:20,480 --> 00:50:24,530
I want to first do a very simple thing

1185
00:50:22,670 --> 00:50:26,539
which is try to add some stuff into the

1186
00:50:24,530 --> 00:50:28,609
sim region code to guard against having

1187
00:50:26,539 --> 00:50:30,769
multiple entities in the sim region that

1188
00:50:28,608 --> 00:50:33,348
all represent the same storage index

1189
00:50:30,769 --> 00:50:36,440
right and so one thing that I could do

1190
00:50:33,349 --> 00:50:40,039
here is for example when we do an end

1191
00:50:36,440 --> 00:50:44,108
sim I could do something where I try to

1192
00:50:40,039 --> 00:50:47,000
guard against that rewriting by doing a

1193
00:50:44,108 --> 00:50:50,210
check on up up and back loading

1194
00:50:47,000 --> 00:50:52,159
basically so what I'm going to do is I'm

1195
00:50:50,210 --> 00:50:56,690
gonna go in here - we already added

1196
00:50:52,159 --> 00:50:59,809
these flags right in our in our handmade

1197
00:50:56,690 --> 00:51:02,349
entity right what I'm going to do is I'm

1198
00:50:59,809 --> 00:51:05,119
gonna have a flag here which is like

1199
00:51:02,349 --> 00:51:06,440
siming or something like this right and

1200
00:51:05,119 --> 00:51:08,150
I'm gonna make that be a flag that's

1201
00:51:06,440 --> 00:51:11,059
kind of at the end here it's like a

1202
00:51:08,150 --> 00:51:12,880
debug flag essentially what I'm gonna do

1203
00:51:11,059 --> 00:51:16,039
is I'm gonna say that when we load

1204
00:51:12,880 --> 00:51:17,539
something out right when we when we do

1205
00:51:16,039 --> 00:51:18,050
our begin sim and we pull something in

1206
00:51:17,539 --> 00:51:20,779
so when

1207
00:51:18,050 --> 00:51:23,630
you add in D right when we do an ad

1208
00:51:20,780 --> 00:51:28,880
entity call at the time that something

1209
00:51:23,630 --> 00:51:32,680
gets get some added in right I am going

1210
00:51:28,880 --> 00:51:35,180
to oh you know what and we don't really

1211
00:51:32,679 --> 00:51:37,489
yeah well at the time when something

1212
00:51:35,179 --> 00:51:41,750
gets added in I'm gonna say at that

1213
00:51:37,489 --> 00:51:44,689
point we mark it as having been we mark

1214
00:51:41,750 --> 00:51:46,969
its source entity as having been loaded

1215
00:51:44,690 --> 00:51:52,820
in right so we'll say that will

1216
00:51:46,969 --> 00:51:56,059
basically do an ad flag right sinning to

1217
00:51:52,820 --> 00:51:59,539
the the the source version of that in me

1218
00:51:56,059 --> 00:52:02,029
right so the source SIM version gets

1219
00:51:59,539 --> 00:52:04,369
that flag added and I also want to

1220
00:52:02,030 --> 00:52:08,810
assert before I add it that it was not

1221
00:52:04,369 --> 00:52:10,609
flat set right like so so basically will

1222
00:52:08,809 --> 00:52:12,320
assert here that it was not set so that

1223
00:52:10,610 --> 00:52:17,240
we can see if we loaded something twice

1224
00:52:12,320 --> 00:52:19,160
and then when we write things when we go

1225
00:52:17,239 --> 00:52:22,069
through and write things out again we

1226
00:52:19,159 --> 00:52:25,250
will go ahead and clear that flag on the

1227
00:52:22,070 --> 00:52:28,039
right so when we go into NCM will do the

1228
00:52:25,250 --> 00:52:31,400
same thing right here when we store it

1229
00:52:28,039 --> 00:52:34,039
out will basically do an assert that the

1230
00:52:31,400 --> 00:52:37,160
the place that we're storing it out to

1231
00:52:34,039 --> 00:52:39,349
had that sinning flag set so we'll say

1232
00:52:37,159 --> 00:52:41,329
okay let's assert that the store

1233
00:52:39,349 --> 00:52:44,480
identity had that something flat set and

1234
00:52:41,329 --> 00:52:46,759
then we will clear it although I guess

1235
00:52:44,480 --> 00:52:50,030
at this point actually this call will

1236
00:52:46,760 --> 00:52:53,120
clear it itself so we'll go ahead and in

1237
00:52:50,030 --> 00:52:57,140
assert that it's not set after that okay

1238
00:52:53,119 --> 00:52:59,420
so those are just again purely you know

1239
00:52:57,139 --> 00:53:02,839
purely debug code it's just there to

1240
00:52:59,420 --> 00:53:04,809
guard against bugs on our part and catch

1241
00:53:02,840 --> 00:53:09,050
them earlier so that we don't have to

1242
00:53:04,809 --> 00:53:11,269
you know sort of notice them like we did

1243
00:53:09,050 --> 00:53:14,450
with the sword so let's see too many

1244
00:53:11,269 --> 00:53:15,889
actual parameters for assert oops let's

1245
00:53:14,449 --> 00:53:20,449
just put the parentheses in the wrong

1246
00:53:15,889 --> 00:53:22,699
place there let's see what is it oh this

1247
00:53:20,449 --> 00:53:23,960
is supposed to be an address F so let's

1248
00:53:22,699 --> 00:53:26,389
see

1249
00:53:23,960 --> 00:53:29,480
conversion from sim entity flags to you

1250
00:53:26,389 --> 00:53:33,710
and 32 signed unsigned mismatched oh

1251
00:53:29,480 --> 00:53:36,099
please are you telling me that this is

1252
00:53:33,710 --> 00:53:39,949
this is always thinking itself is is

1253
00:53:36,099 --> 00:53:44,480
signed versus unsigned that's that's

1254
00:53:39,949 --> 00:53:47,689
really annoying all right

1255
00:53:44,480 --> 00:53:51,230
does that help anything

1256
00:53:47,690 --> 00:53:58,298
does this help basically this is

1257
00:53:51,230 --> 00:53:58,298
complaining because it's saying that

1258
00:53:58,568 --> 00:54:02,719
conversion percent any flags to you and

1259
00:54:01,068 --> 00:54:06,230
three to sign its saying that so many

1260
00:54:02,719 --> 00:54:08,568
flags is signed but I don't want it to

1261
00:54:06,230 --> 00:54:10,909
be signed I want it to be unsigned and

1262
00:54:08,568 --> 00:54:14,659
I'm not sure how to make it understand

1263
00:54:10,909 --> 00:54:15,889
that which is unfortunate we can get

1264
00:54:14,659 --> 00:54:18,798
around it by doing this

1265
00:54:15,889 --> 00:54:21,618
but that's really annoying well we'll

1266
00:54:18,798 --> 00:54:23,719
think about that later all right let's

1267
00:54:21,619 --> 00:54:27,079
see here too many actual parameters for

1268
00:54:23,719 --> 00:54:29,209
macro assert same thing I just cut and

1269
00:54:27,079 --> 00:54:32,450
paste bugged that let's go ahead and do

1270
00:54:29,210 --> 00:54:35,749
that there cannot news my conversion

1271
00:54:32,449 --> 00:54:37,939
that's just of and there we go

1272
00:54:35,748 --> 00:54:40,518
so now let's see if that catches our bug

1273
00:54:37,940 --> 00:54:43,369
I was kind of hoping that it would and

1274
00:54:40,518 --> 00:54:46,098
it does so that's good so when I went

1275
00:54:43,369 --> 00:54:49,700
ahead and and pushed the sword button we

1276
00:54:46,099 --> 00:54:52,818
got that assert of that siming flag

1277
00:54:49,699 --> 00:54:53,899
basically so let's see what's going on

1278
00:54:52,818 --> 00:54:56,659
here

1279
00:54:53,900 --> 00:55:00,588
during begin sim it's pulling something

1280
00:54:56,659 --> 00:55:03,440
in so it looks like what's happening if

1281
00:55:00,588 --> 00:55:05,328
I had to guess is our sword is getting

1282
00:55:03,440 --> 00:55:08,509
pulled in both by the spatial query and

1283
00:55:05,329 --> 00:55:10,789
by the reference and so what I'd like to

1284
00:55:08,509 --> 00:55:12,469
do is figure out why that's happening oh

1285
00:55:10,789 --> 00:55:15,619
you know what I do know why that's

1286
00:55:12,469 --> 00:55:17,959
happening that's actually totally what

1287
00:55:15,619 --> 00:55:20,239
would happen right now we're not

1288
00:55:17,960 --> 00:55:22,940
checking to make sure that we don't

1289
00:55:20,239 --> 00:55:25,278
already have the entity when we do an

1290
00:55:22,940 --> 00:55:28,730
identity raw which technically could

1291
00:55:25,278 --> 00:55:31,818
happen because basically all we did is

1292
00:55:28,730 --> 00:55:33,650
prevent references from bringing in

1293
00:55:31,818 --> 00:55:35,900
entities that were already brought in by

1294
00:55:33,650 --> 00:55:37,639
references but we haven't prevented

1295
00:55:35,900 --> 00:55:39,019
spatial queries

1296
00:55:37,639 --> 00:55:41,568
from bringing in entities that were

1297
00:55:39,018 --> 00:55:43,368
already referenced by references if that

1298
00:55:41,568 --> 00:55:45,920
makes sense so what we want to do is

1299
00:55:43,369 --> 00:55:47,329
make it so that everybody checks to make

1300
00:55:45,920 --> 00:55:49,730
sure that something hasn't already been

1301
00:55:47,329 --> 00:55:52,220
brought in through the hash table before

1302
00:55:49,730 --> 00:55:56,210
it does that right so what we would like

1303
00:55:52,219 --> 00:55:58,129
to do is much like in ludendi reference

1304
00:55:56,210 --> 00:56:00,409
where we check this the the hash entry

1305
00:55:58,130 --> 00:56:02,829
first before adding the end entry what

1306
00:56:00,409 --> 00:56:05,778
we want to do here is do that same check

1307
00:56:02,829 --> 00:56:08,630
before we do this guy right so we want

1308
00:56:05,778 --> 00:56:10,730
to do here is say let's make sure that

1309
00:56:08,630 --> 00:56:12,789
whatever that storage index is let's

1310
00:56:10,730 --> 00:56:15,710
make sure that that doesn't actually

1311
00:56:12,789 --> 00:56:18,049
exist yet before we go ahead and do this

1312
00:56:15,710 --> 00:56:20,298
like so right and the other thing we can

1313
00:56:18,048 --> 00:56:25,969
do is now map storage index to entity

1314
00:56:20,298 --> 00:56:28,278
map storage index to entity I think now

1315
00:56:25,969 --> 00:56:31,669
should collapse into the atom dere or

1316
00:56:28,278 --> 00:56:34,670
routine right basically this should now

1317
00:56:31,670 --> 00:56:37,249
be done right here because we already

1318
00:56:34,670 --> 00:56:39,318
have that hash entry we already know

1319
00:56:37,248 --> 00:56:41,149
that it's there and so we can just go

1320
00:56:39,318 --> 00:56:45,889
ahead and use it we don't have to look

1321
00:56:41,150 --> 00:56:49,220
for it again right and so that's fine so

1322
00:56:45,889 --> 00:56:52,998
that looks totally fine to me let's go

1323
00:56:49,219 --> 00:57:00,048
ahead and try that get rid of that right

1324
00:56:52,998 --> 00:57:01,088
and I think that should do it there we

1325
00:57:00,048 --> 00:57:06,829
go

1326
00:57:01,088 --> 00:57:08,929
and that looks much better now we're

1327
00:57:06,829 --> 00:57:11,680
only getting one which is what we wanted

1328
00:57:08,929 --> 00:57:14,179
and we're not hitting that cert at all

1329
00:57:11,679 --> 00:57:14,808
and so on all right so let's just clean

1330
00:57:14,179 --> 00:57:16,608
that up a bit

1331
00:57:14,809 --> 00:57:18,769
obviously we want to get rid of that

1332
00:57:16,608 --> 00:57:20,568
drawing change I made there we don't

1333
00:57:18,768 --> 00:57:21,409
want to be offsetting this by its entity

1334
00:57:20,568 --> 00:57:24,199
index anymore

1335
00:57:21,409 --> 00:57:26,358
let's go ahead and fix that and

1336
00:57:24,199 --> 00:57:28,489
similarly we also want to add code to

1337
00:57:26,358 --> 00:57:30,889
make sure that the like I don't know if

1338
00:57:28,489 --> 00:57:33,259
you noticed but if I hold down the key

1339
00:57:30,889 --> 00:57:34,848
it keeps resetting the sword we want to

1340
00:57:33,259 --> 00:57:36,380
make it so that if you get the key if

1341
00:57:34,849 --> 00:57:38,390
the swords already there it doesn't

1342
00:57:36,380 --> 00:57:40,519
realize the sword again pretty easy to

1343
00:57:38,389 --> 00:57:42,828
do now that we know whether the sword is

1344
00:57:40,518 --> 00:57:46,429
active or not basically all we have to

1345
00:57:42,829 --> 00:57:47,298
do is take it take a look and say all

1346
00:57:46,429 --> 00:57:49,548
right when we get it

1347
00:57:47,298 --> 00:57:56,268
if sword and you know

1348
00:57:49,548 --> 00:57:57,588
is that non-spatial then we know that

1349
00:57:56,268 --> 00:58:00,288
the sword is not in existence right now

1350
00:57:57,588 --> 00:58:01,849
and can be shot and so that's fine and

1351
00:58:00,289 --> 00:58:04,009
so now I can't do that anymore I have to

1352
00:58:01,849 --> 00:58:08,659
wait till it's done to fire again so

1353
00:58:04,009 --> 00:58:11,179
that's good I think now we've fixed the

1354
00:58:08,659 --> 00:58:12,919
two dues that we had there and we are

1355
00:58:11,179 --> 00:58:15,259
back into good position with the sim

1356
00:58:12,918 --> 00:58:16,728
regions we've got a bunch of stuff we

1357
00:58:15,259 --> 00:58:18,019
can do now to the sim regions are

1358
00:58:16,728 --> 00:58:20,148
working well and they allow us to do

1359
00:58:18,018 --> 00:58:21,468
references and pull things to reference

1360
00:58:20,148 --> 00:58:24,199
it so I think everything is in pretty

1361
00:58:21,469 --> 00:58:26,179
good shape we have one more thing to do

1362
00:58:24,199 --> 00:58:27,909
which is the apron stuff which I guess

1363
00:58:26,179 --> 00:58:30,949
we can do tomorrow

1364
00:58:27,909 --> 00:58:32,659
which is this right here so I guess

1365
00:58:30,949 --> 00:58:35,389
that'll be what we'll focus on tomorrow

1366
00:58:32,659 --> 00:58:37,699
and that may be it for upgrading our

1367
00:58:35,389 --> 00:58:39,199
stuff again I don't can't think of

1368
00:58:37,699 --> 00:58:42,108
anything else that we really had to do

1369
00:58:39,199 --> 00:58:43,519
in there so that's pretty good so with

1370
00:58:42,108 --> 00:58:46,998
that in mind maybe it's time to go to

1371
00:58:43,518 --> 00:58:48,918
the QA if you could go ahead and prefix

1372
00:58:46,998 --> 00:58:51,498
your questions with Q :

1373
00:58:48,918 --> 00:58:53,688
and keep them two things that we've done

1374
00:58:51,498 --> 00:58:54,828
on today's stream or in previous streams

1375
00:58:53,688 --> 00:58:57,199
if you want to ask off-topic questions

1376
00:58:54,829 --> 00:58:59,089
that's totally cool but not for right

1377
00:58:57,199 --> 00:59:02,239
now I asked those during the pre stream

1378
00:58:59,088 --> 00:59:03,739
come about 15 minutes before the stream

1379
00:59:02,239 --> 00:59:06,318
is scheduled to start and we handle

1380
00:59:03,739 --> 00:59:07,999
off-topic questions then so that's

1381
00:59:06,318 --> 00:59:10,599
totally cool but let's just do it make

1382
00:59:07,998 --> 00:59:10,598
sure we do it then

1383
00:59:39,619 --> 00:59:44,358
no question there's gonna be a quick Q&amp;A

1384
00:59:50,028 --> 00:59:54,659
probably it's too early in the morning

1385
00:59:52,670 --> 00:59:56,429
nobody has questions because they're

1386
00:59:54,659 --> 01:00:07,108
sleepy which I don't blame them because

1387
00:59:56,429 --> 01:00:08,849
I'm sleepy too does the current

1388
01:00:07,108 --> 01:00:11,998
Collision code support walls that are

1389
01:00:08,849 --> 01:00:13,439
not 90 degrees say if the wall was at 45

1390
01:00:11,998 --> 01:00:15,149
degrees where the collision codes still

1391
01:00:13,438 --> 01:00:18,719
work um

1392
01:00:15,150 --> 01:00:20,670
so I'm the the general part of the

1393
01:00:18,719 --> 01:00:25,079
collision code would work but I'm pretty

1394
01:00:20,670 --> 01:00:26,938
sure we don't have a a wall routine in

1395
01:00:25,079 --> 01:00:29,189
there at the moment for anything that's

1396
01:00:26,938 --> 01:00:30,358
45 degrees because we kind of just put

1397
01:00:29,188 --> 01:00:32,909
in place hold or collision detection

1398
01:00:30,358 --> 01:00:35,518
right we haven't really done the full

1399
01:00:32,909 --> 01:00:38,899
collision detection stuff yet so if I

1400
01:00:35,518 --> 01:00:44,488
remember correctly let's take a look

1401
01:00:38,900 --> 01:00:47,608
it's move entity yes so so the test wall

1402
01:00:44,489 --> 01:00:49,438
right this is the call and basically

1403
01:00:47,608 --> 01:00:55,170
what needs to happen is you need to

1404
01:00:49,438 --> 01:00:58,678
compute the intersection time of a ray

1405
01:00:55,170 --> 01:01:01,199
and the wall and right now we only wrote

1406
01:00:58,679 --> 01:01:03,449
a routine for doing that for horizontal

1407
01:01:01,199 --> 01:01:05,548
or vertical walls so if you wanted to do

1408
01:01:03,449 --> 01:01:08,459
walls at 45-degree angles or any other

1409
01:01:05,548 --> 01:01:11,188
angle you would just have to write this

1410
01:01:08,458 --> 01:01:14,219
part of the code to him you'd have to

1411
01:01:11,188 --> 01:01:16,498
write one of these that did that it's

1412
01:01:14,219 --> 01:01:20,278
very simple math to do so but we didn't

1413
01:01:16,498 --> 01:01:22,348
do that yet and we don't necessarily

1414
01:01:20,278 --> 01:01:24,119
know if we will ever do that because

1415
01:01:22,349 --> 01:01:27,059
what we might do is use a slightly

1416
01:01:24,119 --> 01:01:28,349
different way of computing collision in

1417
01:01:27,059 --> 01:01:31,890
the final collision protector that

1418
01:01:28,349 --> 01:01:33,390
doesn't quite do it this way so whether

1419
01:01:31,889 --> 01:01:37,798
we will do that or not

1420
01:01:33,389 --> 01:01:40,139
I don't know but again it's not too hard

1421
01:01:37,798 --> 01:01:42,088
to figure out how to do it it's the same

1422
01:01:40,139 --> 01:01:47,009
exact math that we were doing before

1423
01:01:42,088 --> 01:01:48,659
it's basically you know it's basically

1424
01:01:47,009 --> 01:01:50,849
just trying to figure out

1425
01:01:48,659 --> 01:01:54,000
the intersection time where you've got

1426
01:01:50,849 --> 01:01:56,369
two two rays that are going at each

1427
01:01:54,000 --> 01:01:57,929
other and you could you could look up

1428
01:01:56,369 --> 01:02:00,059
online how to do that pretty easily if

1429
01:01:57,929 --> 01:02:03,269
you wanted to just to the intersection

1430
01:02:00,059 --> 01:02:06,779
of two line segments basically or ray

1431
01:02:03,269 --> 01:02:08,670
versus line segment is all that needs to

1432
01:02:06,780 --> 01:02:12,480
go in there but the rest of this code is

1433
01:02:08,670 --> 01:02:15,180
it's fine I mean there is one thing to

1434
01:02:12,480 --> 01:02:17,880
that we want to do like this code is

1435
01:02:15,179 --> 01:02:21,779
fragile at the moment the reason being

1436
01:02:17,880 --> 01:02:24,150
because when it's it's good this code is

1437
01:02:21,780 --> 01:02:25,470
good in the sense that it tests to see

1438
01:02:24,150 --> 01:02:26,809
if you're going to hit things and it

1439
01:02:25,469 --> 01:02:30,509
doesn't allow you to tunnel through them

1440
01:02:26,809 --> 01:02:33,960
but once you actually finish the step it

1441
01:02:30,510 --> 01:02:37,800
doesn't handle do numerical numerical

1442
01:02:33,960 --> 01:02:40,440
precision properly in a safe way so if

1443
01:02:37,800 --> 01:02:42,870
the step happens to numerically put you

1444
01:02:40,440 --> 01:02:44,400
right on that edge you could end up

1445
01:02:42,869 --> 01:02:46,019
inside something on the next frame

1446
01:02:44,400 --> 01:02:48,030
because of the way the numerical stuff

1447
01:02:46,019 --> 01:02:49,949
works out so we do have more work to do

1448
01:02:48,030 --> 01:02:52,470
to make a really good collision sector

1449
01:02:49,949 --> 01:02:55,619
this is not one that I would ship for

1450
01:02:52,469 --> 01:02:59,039
that reason but but yeah but in general

1451
01:02:55,619 --> 01:03:00,690
the logic here of testing doesn't care

1452
01:02:59,039 --> 01:03:02,789
whether the walls are 45 degrees or

1453
01:03:00,690 --> 01:03:05,130
anything else it's just this one part

1454
01:03:02,789 --> 01:03:06,329
that cares and it this is the only thing

1455
01:03:05,130 --> 01:03:09,000
that cares even that it's a line

1456
01:03:06,329 --> 01:03:11,969
basically as long as you can produce the

1457
01:03:09,000 --> 01:03:14,489
time that team in you could test against

1458
01:03:11,969 --> 01:03:16,259
anything here circles or whatever right

1459
01:03:14,489 --> 01:03:19,129
this code doesn't care what you're

1460
01:03:16,260 --> 01:03:19,130
testing against really

1461
01:03:28,219 --> 01:03:35,699
why not set a boolean value to be

1462
01:03:31,440 --> 01:03:36,960
removed I assume you mean the sword it

1463
01:03:35,699 --> 01:03:38,639
seems like setting the position to some

1464
01:03:36,960 --> 01:03:40,230
arbitrary position isn't an explicit as

1465
01:03:38,639 --> 01:03:41,940
setting a flag to say that the entities

1466
01:03:40,230 --> 01:03:46,380
should be removed on the next update

1467
01:03:41,940 --> 01:03:49,250
frame but we do set a flag right it's

1468
01:03:46,380 --> 01:03:52,079
non-spatial is the flag

1469
01:03:49,250 --> 01:03:54,989
so we I'm not sure what you mean it's

1470
01:03:52,079 --> 01:03:56,460
not if we're not removing the entity the

1471
01:03:54,989 --> 01:03:59,269
entity is still there we're just setting

1472
01:03:56,460 --> 01:04:02,340
it to not be in a spatial location right

1473
01:03:59,269 --> 01:04:04,469
and so that that is what we're doing

1474
01:04:02,340 --> 01:04:07,680
essentially is is setting a pool right

1475
01:04:04,469 --> 01:04:10,349
we're setting it to be non spatial when

1476
01:04:07,679 --> 01:04:13,980
it gets removed right so making so when

1477
01:04:10,349 --> 01:04:16,889
we call make entity non spatial which is

1478
01:04:13,980 --> 01:04:18,449
in entity that's VP when we call make

1479
01:04:16,889 --> 01:04:23,639
entity non spatial that's what we're

1480
01:04:18,449 --> 01:04:25,230
doing the reason that I was setting it

1481
01:04:23,639 --> 01:04:26,789
speech when invalid P is just for

1482
01:04:25,230 --> 01:04:28,800
further debugging like I want to make

1483
01:04:26,789 --> 01:04:31,230
sure that people aren't still using that

1484
01:04:28,800 --> 01:04:32,580
P and so I want to be able to when we

1485
01:04:31,230 --> 01:04:34,469
look at things I want to be able to see

1486
01:04:32,579 --> 01:04:37,349
that it's it's in an invalid P so that

1487
01:04:34,469 --> 01:04:39,000
it doesn't we don't accidentally get

1488
01:04:37,349 --> 01:04:41,250
people who are processing it after it

1489
01:04:39,000 --> 01:04:42,780
becomes non spatial basically but the

1490
01:04:41,250 --> 01:04:44,989
entity is not getting deleted it's still

1491
01:04:42,780 --> 01:04:44,990
there

1492
01:05:03,210 --> 01:05:08,769
hi Casey the rearranging of code did did

1493
01:05:06,909 --> 01:05:10,690
some errors in the code I think I guess

1494
01:05:08,769 --> 01:05:13,409
I think it probably means like at there

1495
01:05:10,690 --> 01:05:15,789
were errors introduced in the in the

1496
01:05:13,409 --> 01:05:19,139
rearranging of code is this normal for

1497
01:05:15,789 --> 01:05:21,250
daily coding yes any complicated system

1498
01:05:19,139 --> 01:05:22,599
when you rearrange stuff you're gonna

1499
01:05:21,250 --> 01:05:24,760
make some mistakes and that's fine

1500
01:05:22,599 --> 01:05:26,739
that's totally fine I would feel

1501
01:05:24,760 --> 01:05:28,510
comfortable when I would run in such

1502
01:05:26,739 --> 01:05:30,519
errors I would feel uncomfortable when I

1503
01:05:28,510 --> 01:05:32,230
would run in such errors but you seem to

1504
01:05:30,519 --> 01:05:35,710
get the logic even better after such

1505
01:05:32,230 --> 01:05:38,920
encounters yeah I mean I feel like

1506
01:05:35,710 --> 01:05:42,789
that's that is a skill that you have to

1507
01:05:38,920 --> 01:05:44,409
kind of develop again hopefully I'm kind

1508
01:05:42,789 --> 01:05:46,329
of showing you some techniques as we go

1509
01:05:44,409 --> 01:05:49,299
that can help you with air like you

1510
01:05:46,329 --> 01:05:52,929
notice when I saw that the shadow was

1511
01:05:49,300 --> 01:05:54,940
busted on the entity I was like oh yeah

1512
01:05:52,929 --> 01:05:57,069
one thing we should probably do is put

1513
01:05:54,940 --> 01:05:58,809
in some checking here to guard against

1514
01:05:57,070 --> 01:06:00,910
multiple and like the same nd getting

1515
01:05:58,809 --> 01:06:03,480
pulled in in multiple ways that is a

1516
01:06:00,909 --> 01:06:06,609
better thing to do in my opinion right

1517
01:06:03,480 --> 01:06:09,099
then just debugging that one problem

1518
01:06:06,610 --> 01:06:10,390
because like you said whenever you're

1519
01:06:09,099 --> 01:06:11,559
rearranging code and whenever you're

1520
01:06:10,389 --> 01:06:13,239
trying to move things around you're

1521
01:06:11,559 --> 01:06:20,159
gonna like it's so complicated

1522
01:06:13,239 --> 01:06:22,689
any good game high performance and

1523
01:06:20,159 --> 01:06:23,649
flexibility and kind of interesting game

1524
01:06:22,690 --> 01:06:25,780
mechanics all those sorts of things

1525
01:06:23,650 --> 01:06:28,030
there's gonna be a ton of complexity

1526
01:06:25,780 --> 01:06:30,400
there and you want to try and develop

1527
01:06:28,030 --> 01:06:32,890
programming methods that allow you to

1528
01:06:30,400 --> 01:06:35,079
catch those things so that you don't

1529
01:06:32,889 --> 01:06:38,619
have to be afraid of reorganizing your

1530
01:06:35,079 --> 01:06:39,909
code right and like a lot of people ask

1531
01:06:38,619 --> 01:06:42,009
about unit testing and unfortunately

1532
01:06:39,909 --> 01:06:44,559
unit testing isn't really that useful in

1533
01:06:42,010 --> 01:06:45,730
games because it's too hard to write

1534
01:06:44,559 --> 01:06:47,920
unit tests that cover all the things

1535
01:06:45,730 --> 01:06:49,510
that could happen but that doesn't mean

1536
01:06:47,920 --> 01:06:52,420
that you can't put in lots of debug

1537
01:06:49,510 --> 01:06:55,720
checking just the same so constantly

1538
01:06:52,420 --> 01:06:58,300
look for places you can do not so unit

1539
01:06:55,719 --> 01:07:00,039
testing but ways in which you can put in

1540
01:06:58,300 --> 01:07:02,890
assertions and debug checks that will

1541
01:07:00,039 --> 01:07:05,019
validate your assumptions when you can

1542
01:07:02,889 --> 01:07:06,730
is still good right you want to do that

1543
01:07:05,019 --> 01:07:07,869
because it'll help you debug them so

1544
01:07:06,730 --> 01:07:11,800
that's something I did and that's an

1545
01:07:07,869 --> 01:07:13,420
example those assertions on the siming

1546
01:07:11,800 --> 01:07:14,860
flag that's an example of something

1547
01:07:13,420 --> 01:07:15,940
that's designed to catch those kind of

1548
01:07:14,860 --> 01:07:17,559
problems that

1549
01:07:15,940 --> 01:07:19,360
can be introduced in reorganization or

1550
01:07:17,559 --> 01:07:22,500
that I think are going to be common and

1551
01:07:19,360 --> 01:07:25,690
so that's just like yes it's it's tough

1552
01:07:22,500 --> 01:07:28,750
but learning how to write code that

1553
01:07:25,690 --> 01:07:31,659
tends to learning how to write code that

1554
01:07:28,750 --> 01:07:36,460
tends to fail in ways that you can

1555
01:07:31,659 --> 01:07:38,949
notice is very important right and so I

1556
01:07:36,460 --> 01:07:42,039
do try to write code that's gonna be

1557
01:07:38,949 --> 01:07:43,539
clear and fail in ways that we will

1558
01:07:42,039 --> 01:07:45,519
notice and when I think that there's

1559
01:07:43,539 --> 01:07:46,869
gonna be subtle failures I try to add

1560
01:07:45,519 --> 01:07:48,759
those assertions so that's it's a

1561
01:07:46,869 --> 01:07:50,710
fellated today with catching that sword

1562
01:07:48,760 --> 01:07:53,680
problem I was like ah this is gonna be a

1563
01:07:50,710 --> 01:07:55,000
subtle kind of bug so let me try and add

1564
01:07:53,679 --> 01:07:57,879
something to the system that's

1565
01:07:55,000 --> 01:08:01,000
artificial that will make the bud bug be

1566
01:07:57,880 --> 01:08:02,289
loud and non subtle and so bringing

1567
01:08:01,000 --> 01:08:04,510
those to the surface in that way is a

1568
01:08:02,289 --> 01:08:06,809
good way of trying to get around the

1569
01:08:04,510 --> 01:08:10,360
problem you're talking about which is

1570
01:08:06,809 --> 01:08:11,590
being uncomfortable about making those

1571
01:08:10,360 --> 01:08:19,180
changes because of the errors they can

1572
01:08:11,590 --> 01:08:21,220
introduce right do we expect most

1573
01:08:19,180 --> 01:08:22,990
entities to be colliding if so does it

1574
01:08:21,220 --> 01:08:27,789
make sense to have the flag be non

1575
01:08:22,989 --> 01:08:29,949
colliding instead yeah I would say that

1576
01:08:27,789 --> 01:08:34,899
that isn't a bad suggestion I'll put in

1577
01:08:29,949 --> 01:08:38,109
a Sidhu for that I don't know I haven't

1578
01:08:34,899 --> 01:08:42,489
really thought about exactly all the and

1579
01:08:38,109 --> 01:08:44,769
it - entity types we're going to have so

1580
01:08:42,489 --> 01:08:48,880
I don't know but I could certainly say

1581
01:08:44,770 --> 01:08:54,150
to do does it make more sense to have

1582
01:08:48,880 --> 01:08:58,500
the flag be for non colliding entities

1583
01:08:54,149 --> 01:08:58,500
and I don't know that's a good question

1584
01:09:03,380 --> 01:09:11,880
then why set null position uh where are

1585
01:09:10,859 --> 01:09:13,529
we talking about setting they'll

1586
01:09:11,880 --> 01:09:18,500
position are you talking about sending

1587
01:09:13,529 --> 01:09:18,500
null position in the same region here

1588
01:09:21,380 --> 01:09:25,039
sorry I'm still very sick

1589
01:09:31,948 --> 01:09:37,259
would using a tagged Union for entity

1590
01:09:34,710 --> 01:09:44,039
references fix issues were having with

1591
01:09:37,259 --> 01:09:49,560
load entity reference what issues are

1592
01:09:44,039 --> 01:09:51,119
you talking about I'm not sure I'm not

1593
01:09:49,560 --> 01:09:54,420
sure what issues you're actually

1594
01:09:51,119 --> 01:09:54,988
referring to if you want to be more

1595
01:09:54,420 --> 01:10:03,000
specific

1596
01:09:54,988 --> 01:10:04,709
I could elaborate do you have the whole

1597
01:10:03,000 --> 01:10:06,510
big picture game architecture in your

1598
01:10:04,710 --> 01:10:07,969
head at every point or do you have to

1599
01:10:06,510 --> 01:10:10,500
check what you did from time to time

1600
01:10:07,969 --> 01:10:12,119
usually I have the entire big picture in

1601
01:10:10,500 --> 01:10:18,920
my head but I don't know if that'll be

1602
01:10:12,119 --> 01:10:22,250
true I'm on handmade hero because like I

1603
01:10:18,920 --> 01:10:25,050
only do it an hour a day and I'm program

1604
01:10:22,250 --> 01:10:28,109
you know full time during the day as

1605
01:10:25,050 --> 01:10:30,270
well so my mind is mostly occupied by

1606
01:10:28,109 --> 01:10:32,549
stuff that I do for the main program I'm

1607
01:10:30,270 --> 01:10:34,410
doing during the day and so I don't know

1608
01:10:32,550 --> 01:10:37,560
if I'll be able to keep all of him a

1609
01:10:34,409 --> 01:10:40,559
hero in my head as a result but normally

1610
01:10:37,560 --> 01:10:41,820
I would sew on handmade hero I think I

1611
01:10:40,560 --> 01:10:43,980
may have to check from time to time

1612
01:10:41,819 --> 01:10:45,319
because I feel like I won't probably

1613
01:10:43,979 --> 01:10:47,968
have that same kind of situation

1614
01:10:45,319 --> 01:10:50,488
situational awareness they'll have when

1615
01:10:47,969 --> 01:10:52,469
I'm programming things every day full

1616
01:10:50,488 --> 01:10:54,928
time because I know that I certainly

1617
01:10:52,469 --> 01:10:57,779
like after I leave a project for a while

1618
01:10:54,929 --> 01:10:59,130
when I come back to it like if it's been

1619
01:10:57,779 --> 01:11:01,500
a couple months and I come back to a

1620
01:10:59,130 --> 01:11:03,810
project I don't remember how everything

1621
01:11:01,500 --> 01:11:05,460
worked and I have to look right and so I

1622
01:11:03,810 --> 01:11:08,429
think that might happen to me here

1623
01:11:05,460 --> 01:11:10,969
because it's not my main focus it's only

1624
01:11:08,429 --> 01:11:10,969
an hour day

1625
01:11:13,170 --> 01:11:21,260
no more questions looks like no more

1626
01:11:16,469 --> 01:11:21,260
questions I see no more questions

1627
01:11:47,310 --> 01:11:52,410
all right well doesn't look like we've

1628
01:11:49,439 --> 01:11:56,519
got any more questions so I think that

1629
01:11:52,409 --> 01:11:58,880
means it is time to wrap things up which

1630
01:11:56,520 --> 01:12:02,040
is totally fine

1631
01:11:58,880 --> 01:12:03,900
that actually means we're on time even

1632
01:12:02,039 --> 01:12:06,779
though we started the stream 15 minutes

1633
01:12:03,899 --> 01:12:08,250
late all right well thank you everyone

1634
01:12:06,779 --> 01:12:09,809
for joining me for another episode of

1635
01:12:08,250 --> 01:12:12,479
handmade hero it is been a pleasure

1636
01:12:09,810 --> 01:12:13,890
coding with you as always if you would

1637
01:12:12,479 --> 01:12:15,539
like to follow along at home with the

1638
01:12:13,890 --> 01:12:17,369
source code you can always go to

1639
01:12:15,539 --> 01:12:19,529
handmade hero org and pre-order the game

1640
01:12:17,369 --> 01:12:21,029
it comes with the source code which you

1641
01:12:19,529 --> 01:12:23,969
can download every night I upload it

1642
01:12:21,029 --> 01:12:25,590
after I finish coding every day on the

1643
01:12:23,970 --> 01:12:27,000
stream so if you'd like to do that you

1644
01:12:25,590 --> 01:12:29,279
can do that here you can also support

1645
01:12:27,000 --> 01:12:30,750
the video series by subscribing to our

1646
01:12:29,279 --> 01:12:34,289
patreon which you can do here which is

1647
01:12:30,750 --> 01:12:35,880
very much appreciated and if you would

1648
01:12:34,289 --> 01:12:37,529
like to be notified of the schedule we

1649
01:12:35,880 --> 01:12:39,869
do have a tweet bot that sits there and

1650
01:12:37,529 --> 01:12:41,699
tweets the schedule to you so you can

1651
01:12:39,869 --> 01:12:43,109
always know when we are streaming we

1652
01:12:41,699 --> 01:12:44,519
also have a news and forum site if you'd

1653
01:12:43,109 --> 01:12:48,960
like to discuss things ask questions

1654
01:12:44,520 --> 01:12:51,180
check out our episode guide or look at

1655
01:12:48,960 --> 01:12:52,680
people a community ports to Linux and

1656
01:12:51,180 --> 01:12:53,550
Mac that sort of thing it's not a great

1657
01:12:52,680 --> 01:12:54,619
stuff on there so I highly recommend

1658
01:12:53,550 --> 01:12:57,840
checking that out if you're interested

1659
01:12:54,619 --> 01:13:00,720
in the series it's a good resource to go

1660
01:12:57,840 --> 01:13:02,489
to so that's about it I will be here

1661
01:13:00,720 --> 01:13:05,220
tomorrow at our regular time 8 p.m.

1662
01:13:02,489 --> 01:13:07,920
Pacific Standard Time tomorrow so I hope

1663
01:13:05,220 --> 01:13:10,280
to see you all there when we will wrap

1664
01:13:07,920 --> 01:13:12,899
up the sim rage and stuff I think

1665
01:13:10,279 --> 01:13:15,659
there's really I guess there's really

1666
01:13:12,899 --> 01:13:17,159
nothing else on the to-do list there

1667
01:13:15,659 --> 01:13:18,989
except that apron thing which I wanted

1668
01:13:17,159 --> 01:13:19,859
to think about a little bit so I guess

1669
01:13:18,989 --> 01:13:21,809
we'll just kind of go through and think

1670
01:13:19,859 --> 01:13:24,149
about the apron thing a bit and then

1671
01:13:21,810 --> 01:13:26,550
we'll decide tomorrow night what it is

1672
01:13:24,149 --> 01:13:28,049
we're going to do next we'll just kind

1673
01:13:26,550 --> 01:13:32,340
of see I guess probably what we'll do is

1674
01:13:28,050 --> 01:13:33,960
finish our sort of combat sort of stuff

1675
01:13:32,340 --> 01:13:35,250
where we can have the sword hit the

1676
01:13:33,960 --> 01:13:36,960
monster the monster could fight back

1677
01:13:35,250 --> 01:13:38,340
those sorts of things I guess that's

1678
01:13:36,960 --> 01:13:40,529
probably the next logical thing to do so

1679
01:13:38,340 --> 01:13:43,909
we'll probably do that but we will see

1680
01:13:40,529 --> 01:13:46,579
tomorrow night hope see you there and

1681
01:13:43,909 --> 01:13:48,659
yeah have a good rest of your day and

1682
01:13:46,579 --> 01:13:50,279
rest of tomorrow and hopes to you

1683
01:13:48,659 --> 01:13:53,389
tomorrow night so thanks for joining me

1684
01:13:50,279 --> 01:13:53,389
take it easy everyone

