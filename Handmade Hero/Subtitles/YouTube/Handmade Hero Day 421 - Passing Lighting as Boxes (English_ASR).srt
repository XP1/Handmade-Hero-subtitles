1
00:00:00,030 --> 00:00:04,919
hello everyone and welcome to handmade

2
00:00:02,428 --> 00:00:06,179
here a power outage edition we were

3
00:00:04,919 --> 00:00:09,388
supposed to start at 9:00 this morning

4
00:00:06,179 --> 00:00:11,189
least that's when I originally scheduled

5
00:00:09,388 --> 00:00:14,669
this particular broadcast to occur

6
00:00:11,189 --> 00:00:17,390
however what we quickly found and by we

7
00:00:14,669 --> 00:00:23,219
I mean what I quickly found was that the

8
00:00:17,390 --> 00:00:27,679
power was not actually the the entire I

9
00:00:23,219 --> 00:00:31,829
want to say six blocks Square area that

10
00:00:27,679 --> 00:00:35,179
the office is in went completely dark

11
00:00:31,829 --> 00:00:38,399
just was like and I had been playing

12
00:00:35,179 --> 00:00:40,649
actually player unknowns battlegrounds

13
00:00:38,399 --> 00:00:42,629
with some friends and I was right in the

14
00:00:40,649 --> 00:00:48,000
middle of sniping someone out a window

15
00:00:42,628 --> 00:00:50,308
and the screen just went and all the

16
00:00:48,000 --> 00:00:53,570
lights went out and I was like all right

17
00:00:50,308 --> 00:00:56,519
so I guess I won't be streaming tomorrow

18
00:00:53,570 --> 00:01:00,270
so I posted on Twitter that there's

19
00:00:56,520 --> 00:01:07,170
going to be some issues after that

20
00:01:00,270 --> 00:01:10,228
happened when the power kick it's a long

21
00:01:07,170 --> 00:01:11,490
story I posted some issues that I posted

22
00:01:10,228 --> 00:01:12,478
some information on where it's like okay

23
00:01:11,489 --> 00:01:14,609
we won't be able certain time but the

24
00:01:12,478 --> 00:01:16,438
power did come back so I'll you know

25
00:01:14,609 --> 00:01:17,670
when I get to the office we will be able

26
00:01:16,438 --> 00:01:19,978
to do a stream which is gonna be later

27
00:01:17,670 --> 00:01:21,629
and so here we are three hours later

28
00:01:19,978 --> 00:01:26,519
from when we were supposed to be but we

29
00:01:21,629 --> 00:01:28,859
are streaming so hopefully the reason I

30
00:01:26,519 --> 00:01:33,379
bring all this up hopefully if the power

31
00:01:28,859 --> 00:01:36,900
is back in a way that is sustainable

32
00:01:33,379 --> 00:01:41,129
because if it's not we're gonna lose

33
00:01:36,900 --> 00:01:43,228
this stream so yeah if you see this

34
00:01:41,129 --> 00:01:45,259
stream suddenly go dead sometime in the

35
00:01:43,228 --> 00:01:48,629
next two hours before I actually finish

36
00:01:45,259 --> 00:01:52,530
that is what happens and I apologize but

37
00:01:48,629 --> 00:01:54,688
yeah one of the sort of problems of

38
00:01:52,530 --> 00:01:57,149
modern life is that without electricity

39
00:01:54,688 --> 00:02:00,508
pretty much nothing we do can continue

40
00:01:57,149 --> 00:02:03,769
to be done and we all have to go back to

41
00:02:00,509 --> 00:02:06,989
being cavemen and foraging for food

42
00:02:03,769 --> 00:02:09,389
alright let's go ahead and get back to

43
00:02:06,989 --> 00:02:11,098
what we were doing last weekend I was

44
00:02:09,389 --> 00:02:13,079
right in the middle of making some

45
00:02:11,098 --> 00:02:13,919
fairly important changes to the lighting

46
00:02:13,080 --> 00:02:16,260
specifically what

47
00:02:13,919 --> 00:02:17,879
wanted to do was make it so the lighting

48
00:02:16,259 --> 00:02:19,699
system would receive primarily

49
00:02:17,879 --> 00:02:23,189
[Music]

50
00:02:19,699 --> 00:02:26,039
rectangular elements right rectangular

51
00:02:23,189 --> 00:02:29,129
prisms sort of axis aligned bounding

52
00:02:26,039 --> 00:02:32,429
boxes if you will that would be used as

53
00:02:29,129 --> 00:02:36,349
the lighting elements and so instead of

54
00:02:32,430 --> 00:02:38,879
having it be sent down to the system as

55
00:02:36,349 --> 00:02:40,379
individual faces because what we were

56
00:02:38,879 --> 00:02:42,689
doing was sending them down individual

57
00:02:40,379 --> 00:02:45,539
faces of cubes what I want to do instead

58
00:02:42,689 --> 00:02:47,729
is have it so it sends them down

59
00:02:45,539 --> 00:02:50,849
in this fashion instead where you've got

60
00:02:47,729 --> 00:02:55,379
this sort of yet where you kind of have

61
00:02:50,849 --> 00:02:57,299
this this understanding that the only

62
00:02:55,379 --> 00:02:59,609
way that light gets transported around

63
00:02:57,299 --> 00:03:01,920
is as a series of of these right

64
00:02:59,610 --> 00:03:05,430
rectangular prisms and there's never a

65
00:03:01,919 --> 00:03:09,000
case where you've got sort of individual

66
00:03:05,430 --> 00:03:12,510
faces happening anymore so we started

67
00:03:09,000 --> 00:03:14,519
that change and it's in progress what we

68
00:03:12,509 --> 00:03:16,229
did is we made it so that we are

69
00:03:14,519 --> 00:03:18,120
directly pushing the lighting now but

70
00:03:16,229 --> 00:03:21,090
we're still directly pushing it on as a

71
00:03:18,120 --> 00:03:22,950
series of faces so when we go to push a

72
00:03:21,090 --> 00:03:25,409
lighting elements instead of pushing the

73
00:03:22,949 --> 00:03:28,560
cube on as a cube we are pushing it on

74
00:03:25,409 --> 00:03:32,579
as an individual face now what I want to

75
00:03:28,560 --> 00:03:34,979
do is slowly move from there to you know

76
00:03:32,579 --> 00:03:36,239
I'm going to do each successive step I

77
00:03:34,979 --> 00:03:38,340
want to slowly move from there to

78
00:03:36,239 --> 00:03:40,739
pushing on the actual cubes themselves

79
00:03:38,340 --> 00:03:44,370
but again I'm trying to take it one step

80
00:03:40,739 --> 00:03:45,810
at a time now even though we don't

81
00:03:44,370 --> 00:03:47,519
actually care if this code works or not

82
00:03:45,810 --> 00:03:48,719
because we're just sort of doing it to

83
00:03:47,519 --> 00:03:51,569
have baby steps we just want to make

84
00:03:48,719 --> 00:03:54,000
sure it's roughly working it is the case

85
00:03:51,569 --> 00:03:55,858
that we made an error some folks found

86
00:03:54,000 --> 00:03:59,699
it when they were working with the code

87
00:03:55,859 --> 00:04:02,069
over the week it is a case that I made a

88
00:03:59,699 --> 00:04:04,229
typo in the order in which the faces get

89
00:04:02,068 --> 00:04:05,988
pushed on well I guess it's not the

90
00:04:04,229 --> 00:04:09,328
order in which the faces get pushed on

91
00:04:05,989 --> 00:04:12,000
it's actually in how I believe that

92
00:04:09,329 --> 00:04:15,900
which order the faces were facing I want

93
00:04:12,000 --> 00:04:17,370
to say so this routine is actually not

94
00:04:15,900 --> 00:04:20,548
quite correct

95
00:04:17,370 --> 00:04:22,978
I guess it's this one right here I'm not

96
00:04:20,548 --> 00:04:24,959
sure I have to go look at it but point

97
00:04:22,978 --> 00:04:26,519
being some folks found a bug in there

98
00:04:24,959 --> 00:04:28,439
which I'm quite sure is

99
00:04:26,519 --> 00:04:30,870
is going to turn out to actually be a

100
00:04:28,439 --> 00:04:32,939
bug because yeah I did that really

101
00:04:30,870 --> 00:04:35,098
quickly and there's a lot of sort of

102
00:04:32,939 --> 00:04:37,348
fussy stuff that's that's easy to get

103
00:04:35,098 --> 00:04:39,990
incorrect so if we take a look at what's

104
00:04:37,348 --> 00:04:41,699
happening here here's our place where

105
00:04:39,990 --> 00:04:45,598
we're pushing on the lighting

106
00:04:41,699 --> 00:04:46,620
information and then if you look here

107
00:04:45,598 --> 00:04:49,110
here's where we're pushing on the

108
00:04:46,620 --> 00:04:52,019
lighting points and then finally we're

109
00:04:49,110 --> 00:04:53,610
pushing on the actual quads right and

110
00:04:52,019 --> 00:04:55,168
you can see that there's just a lot of

111
00:04:53,610 --> 00:04:56,729
business involved here and this is one

112
00:04:55,168 --> 00:04:58,918
of the reasons why I want to keep kind

113
00:04:56,728 --> 00:05:00,779
of cutting this stuff down to it's

114
00:04:58,918 --> 00:05:02,668
because it's just it's just a lot of

115
00:05:00,779 --> 00:05:06,359
information traffic I mean all of this

116
00:05:02,668 --> 00:05:08,609
work costs real CPU time and it's just

117
00:05:06,360 --> 00:05:10,288
unnecessary because if we know we're

118
00:05:08,610 --> 00:05:11,610
kind of got a good way to do the

119
00:05:10,288 --> 00:05:13,379
lighting based on cubes and that's

120
00:05:11,610 --> 00:05:15,000
really all we need from the thing we

121
00:05:13,379 --> 00:05:16,918
don't really want to be specifying them

122
00:05:15,000 --> 00:05:18,930
as individual little faces because it's

123
00:05:16,918 --> 00:05:22,348
just adding complexity and tot and

124
00:05:18,930 --> 00:05:24,269
wasting time in the system that doesn't

125
00:05:22,348 --> 00:05:25,949
actually give us any benefit right if we

126
00:05:24,269 --> 00:05:27,750
can't express something more simply and

127
00:05:25,949 --> 00:05:30,090
more compactly usually it's a benefit

128
00:05:27,750 --> 00:05:34,079
for us to do so and so that's exactly

129
00:05:30,089 --> 00:05:37,709
what we're doing here all right so now

130
00:05:34,079 --> 00:05:39,839
let's take a look at what the the the

131
00:05:37,709 --> 00:05:45,750
bug was I have the report actually I can

132
00:05:39,839 --> 00:05:53,098
bring it up on on the github here a hold

133
00:05:45,750 --> 00:05:57,538
on a second let's take a look at the

134
00:05:53,098 --> 00:05:59,158
github I'm doing this on the streaming

135
00:05:57,538 --> 00:06:05,718
computer which is why you don't see it

136
00:05:59,158 --> 00:06:11,459
happening so in the issues list it says

137
00:06:05,718 --> 00:06:13,110
and this was reported by IROC I ruk I

138
00:06:11,459 --> 00:06:15,329
don't really know how that is pronounced

139
00:06:13,110 --> 00:06:17,218
but switched X surfaces positive and

140
00:06:15,329 --> 00:06:21,389
negative and push group render group

141
00:06:17,218 --> 00:06:26,728
function its specifying that online for

142
00:06:21,389 --> 00:06:29,158
99 which is oops which is this one right

143
00:06:26,728 --> 00:06:30,959
here it says we start with negative X

144
00:06:29,158 --> 00:06:33,418
but the first push quad below is this

145
00:06:30,959 --> 00:06:37,680
one and it has the you know separate

146
00:06:33,418 --> 00:06:40,180
quad there and so the lighting surfaces

147
00:06:37,680 --> 00:06:42,220
are just getting swapped on X

148
00:06:40,180 --> 00:06:46,870
right it's basically what's happening

149
00:06:42,220 --> 00:06:49,600
here is this is getting negative x

150
00:06:46,870 --> 00:06:51,699
positive x but I guess the two phases

151
00:06:49,600 --> 00:06:55,210
are actually positive X negative x for

152
00:06:51,699 --> 00:07:01,750
whatever reason so in other words in

153
00:06:55,209 --> 00:07:07,209
here right here P 1 P 5 P 6 P 2 let's

154
00:07:01,750 --> 00:07:10,300
see what that actually is yeah so these

155
00:07:07,209 --> 00:07:16,329
are positive X's so so that is correct

156
00:07:10,300 --> 00:07:18,189
so this is actually supposed to be the

157
00:07:16,329 --> 00:07:19,810
positive x face and if it's the positive

158
00:07:18,189 --> 00:07:21,879
x face that means it's normal points

159
00:07:19,810 --> 00:07:26,199
that way and the same here the negative

160
00:07:21,879 --> 00:07:32,649
x face it points that way similarly once

161
00:07:26,199 --> 00:07:34,240
we flip these two we've got the x axis

162
00:07:32,649 --> 00:07:36,669
is going to be flipped because it's

163
00:07:34,240 --> 00:07:38,079
going to be rotated around other than

164
00:07:36,670 --> 00:07:39,610
that they're pretty much identical

165
00:07:38,079 --> 00:07:42,699
there's nothing else that's gonna change

166
00:07:39,610 --> 00:07:45,069
between them I don't suspect that makes

167
00:07:42,699 --> 00:07:46,839
much of a difference basically all that

168
00:07:45,069 --> 00:07:48,310
means is the lighting from one face got

169
00:07:46,839 --> 00:07:50,379
assigned to another face and vice-versa

170
00:07:48,310 --> 00:07:52,990
so the lighting solution should still

171
00:07:50,379 --> 00:07:54,939
run pretty much identically it's just

172
00:07:52,990 --> 00:07:56,920
the lighting would have been subtly

173
00:07:54,939 --> 00:07:58,329
wrong all the X faces you would have

174
00:07:56,920 --> 00:08:00,069
seen the lighting on the wrong side of

175
00:07:58,329 --> 00:08:03,669
the cube so as you moved a light past

176
00:08:00,069 --> 00:08:08,379
for X you would see it on the wrong side

177
00:08:03,670 --> 00:08:11,560
of the cube now I don't know if we can

178
00:08:08,379 --> 00:08:16,120
really get a look at that happening per

179
00:08:11,560 --> 00:08:18,250
se but let's let's do this so this would

180
00:08:16,120 --> 00:08:21,009
be the X face of the cube right here for

181
00:08:18,250 --> 00:08:22,810
example so if I move the light around it

182
00:08:21,009 --> 00:08:25,240
you can kind of see that it that is it

183
00:08:22,810 --> 00:08:28,899
on the correct side of it at the moment

184
00:08:25,240 --> 00:08:31,750
right and so if I go back here and I and

185
00:08:28,899 --> 00:08:34,840
I flip these two again if I just kind of

186
00:08:31,750 --> 00:08:42,059
put it back the way it was we should be

187
00:08:34,840 --> 00:08:44,080
able to see that face be dark instead

188
00:08:42,059 --> 00:08:45,609
because it's getting lighting from the

189
00:08:44,080 --> 00:08:50,310
other side where there isn't any light

190
00:08:45,610 --> 00:08:52,330
coming in right so if I kind of oops

191
00:08:50,309 --> 00:08:53,469
yeah and you can actually see that's

192
00:08:52,330 --> 00:08:54,089
exactly what's happening right so you

193
00:08:53,470 --> 00:08:55,860
can see that

194
00:08:54,089 --> 00:08:58,199
missing there and like I say it's kind

195
00:08:55,860 --> 00:09:00,089
of a subtle bug because it's easy to not

196
00:08:58,198 --> 00:09:01,948
notice especially in a game that happens

197
00:09:00,089 --> 00:09:03,509
to have the x-axis going this way it's

198
00:09:01,948 --> 00:09:05,419
it's understandable why we didn't

199
00:09:03,509 --> 00:09:08,480
immediately see it because all the other

200
00:09:05,419 --> 00:09:11,188
directional services are working fine so

201
00:09:08,480 --> 00:09:14,399
you know that that's why that bug was

202
00:09:11,188 --> 00:09:18,389
not immediately obvious to us when when

203
00:09:14,399 --> 00:09:24,448
we made that error but I think that's

204
00:09:18,389 --> 00:09:35,850
fixed now that seems okay let's test the

205
00:09:24,448 --> 00:09:38,278
other side as well all right so that

206
00:09:35,850 --> 00:09:48,829
seems reasonable and I can close this

207
00:09:38,278 --> 00:09:48,828
bug here for 21 yeah

208
00:10:10,230 --> 00:10:21,240
all right all good

209
00:10:17,789 --> 00:10:24,629
well we're on here what else do we have

210
00:10:21,240 --> 00:10:27,549
there's some handmade raised stuff but

211
00:10:24,629 --> 00:10:28,778
not a whole lot in there that we need to

212
00:10:27,549 --> 00:10:32,679
look at right now so we'll leave that

213
00:10:28,778 --> 00:10:37,059
all right so now all we really need to

214
00:10:32,679 --> 00:10:39,099
do is start looking at how we're going

215
00:10:37,059 --> 00:10:42,129
to pass these down to the lighting

216
00:10:39,100 --> 00:10:44,740
system more directly right so now that

217
00:10:42,129 --> 00:10:47,679
we know that when we do this push right

218
00:10:44,740 --> 00:10:51,490
and we do the push cube on here we're

219
00:10:47,679 --> 00:10:53,319
producing all of this business right and

220
00:10:51,490 --> 00:10:56,919
what we would like to do is replace all

221
00:10:53,320 --> 00:11:00,339
of this business with a single thing you

222
00:10:56,919 --> 00:11:03,278
know just just one call that would allow

223
00:11:00,339 --> 00:11:06,970
us to represent all of this information

224
00:11:03,278 --> 00:11:13,149
more concisely now it's worth noting

225
00:11:06,970 --> 00:11:17,980
that we can't really do exactly some of

226
00:11:13,149 --> 00:11:20,110
this stuff needs to be done explicitly

227
00:11:17,980 --> 00:11:22,269
and the part that needs to be done

228
00:11:20,110 --> 00:11:26,230
explicitly is the placement of the

229
00:11:22,269 --> 00:11:28,778
points for light sampling on the cube so

230
00:11:26,230 --> 00:11:31,000
for example all of this stuff here is

231
00:11:28,778 --> 00:11:34,328
all easy to procedurally generate

232
00:11:31,000 --> 00:11:39,698
meaning we can just say here is the

233
00:11:34,328 --> 00:11:41,889
description of the center radius the

234
00:11:39,698 --> 00:11:44,919
center and radius of the cube and that's

235
00:11:41,889 --> 00:11:46,860
really all you need to know right that's

236
00:11:44,919 --> 00:11:51,219
a pretty straightforward thing for us to

237
00:11:46,860 --> 00:11:53,620
to figure out and to have work so this

238
00:11:51,220 --> 00:11:56,319
pushing this information on is is fairly

239
00:11:53,620 --> 00:11:59,500
trivial the thing that's not so trivial

240
00:11:56,318 --> 00:12:01,000
is the point assignment point assignment

241
00:11:59,500 --> 00:12:03,730
could easily be something that we

242
00:12:01,000 --> 00:12:05,889
actually want to vary per cube that we

243
00:12:03,730 --> 00:12:09,220
send down there's a couple different

244
00:12:05,889 --> 00:12:10,850
reasons for this one is that the number

245
00:12:09,220 --> 00:12:13,278
of points that we sample for

246
00:12:10,850 --> 00:12:14,959
lighting on each cube may want to be

247
00:12:13,278 --> 00:12:16,879
proportional to a number of things that

248
00:12:14,958 --> 00:12:19,549
are not immediately known about the cube

249
00:12:16,879 --> 00:12:22,850
for example if it is something that's a

250
00:12:19,549 --> 00:12:24,708
very important element of a seam we may

251
00:12:22,850 --> 00:12:26,839
want it to be sampled more densely than

252
00:12:24,708 --> 00:12:28,008
things that are less important and that

253
00:12:26,839 --> 00:12:29,420
we don't really care what kind of

254
00:12:28,009 --> 00:12:30,919
lighting they get things off on the

255
00:12:29,419 --> 00:12:35,208
periphery or back in the middle of a

256
00:12:30,919 --> 00:12:38,019
forest or something right so it's

257
00:12:35,208 --> 00:12:40,939
entirely possible that there's actual

258
00:12:38,019 --> 00:12:44,810
game knowledge that when the world

259
00:12:40,940 --> 00:12:46,699
generator is generating the the scenes

260
00:12:44,809 --> 00:12:49,039
for the game and it's putting everything

261
00:12:46,698 --> 00:12:51,439
down it's going to want the ability to

262
00:12:49,039 --> 00:12:53,208
specify more specifically what these

263
00:12:51,440 --> 00:12:57,050
points are and how they are sampled

264
00:12:53,208 --> 00:12:59,239
right and so in order to accommodate

265
00:12:57,049 --> 00:13:04,399
that we kind of need to be pushing the

266
00:12:59,240 --> 00:13:05,448
points on very directly so that's the

267
00:13:04,399 --> 00:13:08,809
part that's going to be the most

268
00:13:05,448 --> 00:13:10,939
complicated here that's the part that

269
00:13:08,809 --> 00:13:12,708
doesn't translate directly this part

270
00:13:10,940 --> 00:13:15,620
right here will translate very directly

271
00:13:12,708 --> 00:13:17,838
all we have to do is just effectively

272
00:13:15,620 --> 00:13:21,828
push on the center and radius of the

273
00:13:17,839 --> 00:13:23,089
cubes and I that's literally it like

274
00:13:21,828 --> 00:13:27,469
there's nothing else that has to

275
00:13:23,089 --> 00:13:29,360
translate but the point index which

276
00:13:27,470 --> 00:13:33,500
points go with which faces of the cube

277
00:13:29,360 --> 00:13:36,519
and how many there are that part is is

278
00:13:33,500 --> 00:13:41,448
the part we're gonna have to sort of

279
00:13:36,519 --> 00:13:43,639
rida terminally we need some way of

280
00:13:41,448 --> 00:13:45,528
putting that information in and it's not

281
00:13:43,639 --> 00:13:49,938
going to be straightforward there's not

282
00:13:45,528 --> 00:13:51,350
an obvious right way to do that all

283
00:13:49,938 --> 00:13:59,179
right so let's start with the stuff that

284
00:13:51,350 --> 00:14:03,069
we can deal with right so what I'm doing

285
00:13:59,179 --> 00:14:03,068
here is going to pull out the stuff

286
00:14:08,679 --> 00:14:24,099
they can all just get collapsed down so

287
00:14:20,960 --> 00:14:26,900
all of this information here this stuff

288
00:14:24,100 --> 00:14:30,769
this is all stuff that we could specify

289
00:14:26,899 --> 00:14:33,079
very succinctly okay so the way that we

290
00:14:30,769 --> 00:14:34,939
would do this right is we could just say

291
00:14:33,080 --> 00:14:37,730
like we were going to push on some kind

292
00:14:34,940 --> 00:14:39,680
of a light cube right or it's not really

293
00:14:37,730 --> 00:14:42,680
a light cube but it's a light box let's

294
00:14:39,679 --> 00:14:53,089
say and we know that it's got a minimum

295
00:14:42,679 --> 00:14:55,069
corner and a max corner and we have that

296
00:14:53,090 --> 00:15:06,889
that information just readily available

297
00:14:55,070 --> 00:15:11,780
right why is this P dot X oh no no we

298
00:15:06,889 --> 00:15:12,889
want you just want this right yeah

299
00:15:11,779 --> 00:15:15,289
because that's the position these are

300
00:15:12,889 --> 00:15:18,100
the positives and negatives so we know

301
00:15:15,289 --> 00:15:21,019
the bounds of our cube there right there

302
00:15:18,100 --> 00:15:22,070
so once we have the bounds of the cube

303
00:15:21,019 --> 00:15:24,439
it's trivial to just push that

304
00:15:22,070 --> 00:15:26,360
information on and then from that

305
00:15:24,440 --> 00:15:27,920
information all of the rest of this

306
00:15:26,360 --> 00:15:29,509
could be discovered right there's

307
00:15:27,919 --> 00:15:33,699
nothing else in here that we actually

308
00:15:29,509 --> 00:15:37,129
need there is a transparency coefficient

309
00:15:33,700 --> 00:15:39,050
which we either one specified per point

310
00:15:37,129 --> 00:15:40,820
or per cube at the moment we don't have

311
00:15:39,049 --> 00:15:43,309
any at all so we'll just assume that

312
00:15:40,820 --> 00:15:45,379
it's per cube if the cube can pass light

313
00:15:43,309 --> 00:15:46,849
through it we'll maybe put something on

314
00:15:45,379 --> 00:15:50,559
there I don't know but that's kind of

315
00:15:46,850 --> 00:15:53,720
ignore everything else on here is is

316
00:15:50,559 --> 00:15:57,789
actually completely recoverable just

317
00:15:53,720 --> 00:15:57,790
from that piece of information right

318
00:15:58,039 --> 00:16:03,589
so the light box all of this work this

319
00:16:01,970 --> 00:16:05,810
incredible amount of work necessary to

320
00:16:03,590 --> 00:16:07,280
communicate this stuff down there that

321
00:16:05,809 --> 00:16:08,779
can really all just be moved into the

322
00:16:07,279 --> 00:16:10,579
lighting system and furthermore we can

323
00:16:08,779 --> 00:16:12,259
even bake it into a lot of the equations

324
00:16:10,580 --> 00:16:14,060
so that we probably don't even need to

325
00:16:12,259 --> 00:16:16,220
explicitly expand this out anymore the

326
00:16:14,059 --> 00:16:17,629
first step will do will be to expand it

327
00:16:16,220 --> 00:16:21,379
out explicitly because again I'm trying

328
00:16:17,629 --> 00:16:23,090
to do some baby steps very complicated

329
00:16:21,379 --> 00:16:25,340
it's not complicated intellectually it's

330
00:16:23,090 --> 00:16:27,230
complicated bookkeeping wise and you

331
00:16:25,340 --> 00:16:28,670
typically try to take those steps slow

332
00:16:27,230 --> 00:16:30,320
so you don't introduce a little bit we

333
00:16:28,669 --> 00:16:35,870
already had one right like that positive

334
00:16:30,320 --> 00:16:38,420
negative flip so I want to take baby

335
00:16:35,870 --> 00:16:40,460
steps but right we we probably will

336
00:16:38,419 --> 00:16:42,589
never even have to generate all of this

337
00:16:40,460 --> 00:16:44,720
information explicitly inside the

338
00:16:42,590 --> 00:16:46,519
lighting system we can probably rewrite

339
00:16:44,720 --> 00:16:48,800
a lot of our equations like our ray

340
00:16:46,519 --> 00:16:51,319
caster to operate directly on the box

341
00:16:48,799 --> 00:16:53,389
itself and only generate this piece of

342
00:16:51,320 --> 00:16:54,650
information on demand which again will

343
00:16:53,389 --> 00:16:56,929
save us a lot of space a lot of cash

344
00:16:54,649 --> 00:16:59,600
bandwidth all kinds of stuff right so

345
00:16:56,929 --> 00:17:02,120
it's potentially very important to do

346
00:16:59,600 --> 00:17:04,490
this change not even just for the fact

347
00:17:02,120 --> 00:17:06,170
that we need it structurally so that we

348
00:17:04,490 --> 00:17:08,029
can start attacking this problem in a

349
00:17:06,170 --> 00:17:10,850
more multi-resolution sense but also

350
00:17:08,029 --> 00:17:12,170
because this is just even if we were

351
00:17:10,849 --> 00:17:13,879
just gonna leave the lighting algorithm

352
00:17:12,170 --> 00:17:15,470
exactly it is right now and not make any

353
00:17:13,880 --> 00:17:17,209
further improvements to it we would

354
00:17:15,470 --> 00:17:21,350
still be in a situation where we kind of

355
00:17:17,209 --> 00:17:25,029
want we kind of want this to be the case

356
00:17:21,349 --> 00:17:27,980
regardless right we kind of want this

357
00:17:25,029 --> 00:17:33,200
more compact representation no matter

358
00:17:27,980 --> 00:17:38,240
what so the thing that we don't know how

359
00:17:33,200 --> 00:17:41,000
to do is we then have this light to

360
00:17:38,240 --> 00:17:42,380
point that this sorry cube face these

361
00:17:41,000 --> 00:17:47,210
are the faces of the cube that we were

362
00:17:42,380 --> 00:17:49,670
recording here right or box it's not a

363
00:17:47,210 --> 00:17:55,460
cube it has different dimensions XY and

364
00:17:49,670 --> 00:17:57,140
Z well at the moment I think moment the

365
00:17:55,460 --> 00:18:01,299
only dimension that can vary is actually

366
00:17:57,140 --> 00:18:04,009
Z x and y are always the same size as

367
00:18:01,299 --> 00:18:06,079
each other they're always equivalent but

368
00:18:04,009 --> 00:18:07,670
the Z can vary but that's not a

369
00:18:06,079 --> 00:18:09,799
requirement for a lighting system anyway

370
00:18:07,670 --> 00:18:13,700
so if we take a look at what's going on

371
00:18:09,799 --> 00:18:15,379
here the problem that we see is that

372
00:18:13,700 --> 00:18:17,120
each one of these faces of the cube was

373
00:18:15,380 --> 00:18:20,450
previous is saying okay there's a

374
00:18:17,119 --> 00:18:21,949
certain number of things that I record

375
00:18:20,450 --> 00:18:26,509
right there's a certain number of points

376
00:18:21,950 --> 00:18:28,490
that I am accounting and the problem

377
00:18:26,509 --> 00:18:31,970
that here is that we don't really have

378
00:18:28,490 --> 00:18:33,058
any way of specifying that in the cube

379
00:18:31,970 --> 00:18:38,308
in some kind of

380
00:18:33,058 --> 00:18:40,859
a concise way so what I'm going to do is

381
00:18:38,308 --> 00:18:42,990
I'm just going to do it in a non concise

382
00:18:40,859 --> 00:18:44,758
way first and we'll work on improving it

383
00:18:42,990 --> 00:18:45,960
later because we don't really know what

384
00:18:44,759 --> 00:18:47,730
we're gonna see as we sort of get a

385
00:18:45,960 --> 00:18:49,169
little bit further down there so what

386
00:18:47,730 --> 00:18:52,440
I'm gonna do instead is just literally

387
00:18:49,169 --> 00:18:56,940
record exactly this if we just say light

388
00:18:52,440 --> 00:18:59,850
box light index and say that there's

389
00:18:56,940 --> 00:19:03,149
going to be six of these then I can just

390
00:18:59,849 --> 00:19:05,189
pretty much specify them directly right

391
00:19:03,148 --> 00:19:08,839
I can just say all right there's light

392
00:19:05,190 --> 00:19:08,840
index there's light in an X plus four

393
00:19:10,940 --> 00:19:14,840
you see where I'm done with this right

394
00:19:15,528 --> 00:19:19,138
and furthermore we could actually have

395
00:19:17,669 --> 00:19:21,960
an extra one in here and I'll show you

396
00:19:19,138 --> 00:19:29,808
what why we would do that in a second

397
00:19:21,960 --> 00:19:34,649
so we have 4 8 12 16 20 24 right and

398
00:19:29,808 --> 00:19:36,118
there's our 24 hour 24 pieces of light

399
00:19:34,648 --> 00:19:38,609
information which is exactly how many we

400
00:19:36,118 --> 00:19:41,730
would expect there to be we get rid of

401
00:19:38,609 --> 00:19:43,288
all this stuff entirely right well I

402
00:19:41,730 --> 00:19:49,889
guess I shouldn't get rid of it entirely

403
00:19:43,288 --> 00:19:51,450
because this stuff is going to be used

404
00:19:49,888 --> 00:19:52,829
probably in the light system so what I

405
00:19:51,450 --> 00:19:56,369
will do instead is I'll just move it

406
00:19:52,829 --> 00:19:59,249
over to the lower part of render group

407
00:19:56,368 --> 00:20:00,868
where the extract Hall was happening for

408
00:19:59,249 --> 00:20:02,730
us we've deleted that call because we

409
00:20:00,868 --> 00:20:06,888
don't actually have to extract anymore I

410
00:20:02,730 --> 00:20:06,889
believe where is that

411
00:20:10,589 --> 00:20:15,490
so in here we're we're actually doing

412
00:20:13,269 --> 00:20:18,299
the lighting right before we make that

413
00:20:15,490 --> 00:20:20,859
call you could see we set up stuff for

414
00:20:18,299 --> 00:20:22,629
bike by grabbing out the information

415
00:20:20,859 --> 00:20:25,209
from the lighting group which is this

416
00:20:22,630 --> 00:20:27,220
stuff here so what we would want to do

417
00:20:25,210 --> 00:20:29,650
here is it's just take a second to

418
00:20:27,220 --> 00:20:43,509
actually expand this stuff out here

419
00:20:29,650 --> 00:20:51,519
right all right so that's this going to

420
00:20:43,509 --> 00:20:52,839
go there and I suppose not sure exactly

421
00:20:51,519 --> 00:20:53,950
how I want to do lighting stuff so we'll

422
00:20:52,839 --> 00:20:55,769
look at that probably do it pretty

423
00:20:53,950 --> 00:21:01,690
similar to how we're doing it before but

424
00:20:55,769 --> 00:21:03,519
there we go if we take a look at what's

425
00:21:01,690 --> 00:21:04,840
going on here we now no longer after

426
00:21:03,519 --> 00:21:07,900
that fussing with light index either

427
00:21:04,839 --> 00:21:09,639
because it's just going to be the it's

428
00:21:07,900 --> 00:21:13,180
just gonna be exactly what we think it

429
00:21:09,640 --> 00:21:14,440
should be I'm not sure why okay latex is

430
00:21:13,180 --> 00:21:16,960
right there I was gonna say it should be

431
00:21:14,440 --> 00:21:18,519
somewhere right here so if you take a

432
00:21:16,960 --> 00:21:20,470
look at what I did here is I said okay

433
00:21:18,519 --> 00:21:23,559
the zeroth one is the first light index

434
00:21:20,470 --> 00:21:25,029
we're supposed to use the one element is

435
00:21:23,559 --> 00:21:26,679
going to be that plus four then plus

436
00:21:25,029 --> 00:21:28,329
another four plus another four plus

437
00:21:26,680 --> 00:21:29,500
another four plus another four that's

438
00:21:28,329 --> 00:21:31,569
all the lighting sees you'll notice I

439
00:21:29,500 --> 00:21:33,940
went one over so this would be if there

440
00:21:31,569 --> 00:21:36,189
was a seventh face of the cube this is

441
00:21:33,940 --> 00:21:39,279
or the box this is what it would be

442
00:21:36,190 --> 00:21:42,640
right here now the reason I did that is

443
00:21:39,279 --> 00:21:45,220
because this allows me if I have a one

444
00:21:42,640 --> 00:21:47,620
extra element it allows me to just use

445
00:21:45,220 --> 00:21:49,600
the concept that I can take the one

446
00:21:47,619 --> 00:21:52,719
higher element and subtract the previous

447
00:21:49,599 --> 00:21:55,029
element to get the count for any slot so

448
00:21:52,720 --> 00:21:58,860
light blacks light index zero tells me

449
00:21:55,029 --> 00:22:05,430
where I am for the first face of my cube

450
00:21:58,859 --> 00:22:08,799
right but the next element also tells me

451
00:22:05,430 --> 00:22:12,370
if I take what the next face starts at

452
00:22:08,799 --> 00:22:14,529
if I subtract that if I subtract away

453
00:22:12,369 --> 00:22:18,459
the one I'm on from the next one I get

454
00:22:14,529 --> 00:22:21,339
the number of points that I am using for

455
00:22:18,460 --> 00:22:22,960
my face right so what happens is when

456
00:22:21,339 --> 00:22:23,679
you get to the last one which is light

457
00:22:22,960 --> 00:22:27,519
index five

458
00:22:23,680 --> 00:22:30,070
here if I didn't put in one extra entry

459
00:22:27,519 --> 00:22:31,779
I wouldn't know how many were assigned

460
00:22:30,069 --> 00:22:35,409
to the fifth face because there'd be

461
00:22:31,779 --> 00:22:37,599
nothing to use as the next bound so by

462
00:22:35,410 --> 00:22:39,759
adding one extra entry to the array it

463
00:22:37,599 --> 00:22:42,730
allows us to use it as a set of spans

464
00:22:39,759 --> 00:22:44,950
instead of just a set of indices and so

465
00:22:42,730 --> 00:22:49,660
that's just basically a cap a pad on

466
00:22:44,950 --> 00:22:51,850
there for that purpose okay so we can

467
00:22:49,660 --> 00:22:53,800
basically pass all of the information

468
00:22:51,849 --> 00:22:55,629
all of this stuff that we were passing

469
00:22:53,799 --> 00:22:57,849
before it can all be passed effectively

470
00:22:55,630 --> 00:22:59,350
this way and so that's what we're going

471
00:22:57,849 --> 00:23:02,289
to do because you can see how much more

472
00:22:59,349 --> 00:23:03,459
concise that is so what we want to do is

473
00:23:02,289 --> 00:23:06,069
we want to say that there's something

474
00:23:03,460 --> 00:23:10,390
called a lighting box let's say and we

475
00:23:06,069 --> 00:23:14,039
just call this light box we now have

476
00:23:10,390 --> 00:23:14,040
something called like a light box count

477
00:23:14,730 --> 00:23:29,710
and that just gets added you know a plus

478
00:23:19,150 --> 00:23:32,110
plus simple in there I'm not sure why so

479
00:23:29,710 --> 00:23:33,819
this yet so this surface indexed stuff

480
00:23:32,109 --> 00:23:35,289
also needs to kind of get changed a

481
00:23:33,819 --> 00:23:37,569
little bit since these are packed in

482
00:23:35,289 --> 00:23:40,119
order now but this stuff doesn't really

483
00:23:37,569 --> 00:23:44,220
have to work this way this really just

484
00:23:40,119 --> 00:23:44,219
looks like that right

485
00:23:50,890 --> 00:24:02,630
so all we're doing is is getting the

486
00:23:53,329 --> 00:24:05,269
next lightbox and that's all we have to

487
00:24:02,630 --> 00:24:08,750
do and again we're not really super

488
00:24:05,269 --> 00:24:13,000
concerned about any specificity on here

489
00:24:08,750 --> 00:24:15,410
this is this is all just pretty basic

490
00:24:13,000 --> 00:24:17,450
sort of test code of how we're gonna do

491
00:24:15,410 --> 00:24:18,769
it we may not push it on exactly this

492
00:24:17,450 --> 00:24:21,710
way in the future but we just will kind

493
00:24:18,769 --> 00:24:24,829
of want to get the basic idea here so

494
00:24:21,710 --> 00:24:29,808
the group light index part that's still

495
00:24:24,829 --> 00:24:31,849
gonna be the same as it was so that part

496
00:24:29,808 --> 00:24:33,589
this part still hasn't been sort of

497
00:24:31,849 --> 00:24:36,349
fussed with at all it's really just this

498
00:24:33,589 --> 00:24:40,158
part that we're talking about so now the

499
00:24:36,349 --> 00:24:42,139
surface index part it's we still have to

500
00:24:40,159 --> 00:24:44,900
do this loop in order to put the points

501
00:24:42,140 --> 00:24:46,850
on here but it no longer has to be

502
00:24:44,900 --> 00:24:50,000
talking about any particular surface

503
00:24:46,849 --> 00:24:52,609
index right you can just put these

504
00:24:50,000 --> 00:24:59,140
points on directly and they're all going

505
00:24:52,609 --> 00:24:59,139
to come from the same light box and the

506
00:24:59,829 --> 00:25:05,329
the challenge that we're gonna face here

507
00:25:02,569 --> 00:25:07,099
and I don't again this is the part where

508
00:25:05,329 --> 00:25:09,589
I say this this point assignment stuff

509
00:25:07,099 --> 00:25:11,058
is pretty tricky the challenge that

510
00:25:09,589 --> 00:25:13,899
we're going to face here is that we

511
00:25:11,058 --> 00:25:18,980
don't really know for any given surface

512
00:25:13,900 --> 00:25:21,769
point we don't know which part of the

513
00:25:18,980 --> 00:25:23,929
cube it corresponds to so we have to

514
00:25:21,769 --> 00:25:26,150
kind of see in the lighting system could

515
00:25:23,929 --> 00:25:28,880
we get away with not ever having the

516
00:25:26,150 --> 00:25:31,580
backwards index happen and I think it

517
00:25:28,880 --> 00:25:35,440
might be possible that we could but

518
00:25:31,579 --> 00:25:40,519
we're just I'm just not 100% sure right

519
00:25:35,440 --> 00:25:43,610
but if we take a look here we can kind

520
00:25:40,519 --> 00:25:45,230
of see a little bit more what's going on

521
00:25:43,609 --> 00:25:47,719
so let's just continue down this road a

522
00:25:45,230 --> 00:25:50,690
little bit i if you take a look at how

523
00:25:47,720 --> 00:25:54,589
these are specified here's the lighting

524
00:25:50,690 --> 00:25:55,640
point and the lighting surfaces here

525
00:25:54,589 --> 00:25:57,558
you're letting point is here you could

526
00:25:55,640 --> 00:26:00,380
see the piece of information we have

527
00:25:57,558 --> 00:26:02,779
this surface index that's you know

528
00:26:00,380 --> 00:26:04,310
recorded as part of the point

529
00:26:02,779 --> 00:26:07,190
the question really is where does that

530
00:26:04,309 --> 00:26:09,109
get used right and this is us just

531
00:26:07,190 --> 00:26:10,640
pushing it on I assume that's behind my

532
00:26:09,109 --> 00:26:22,399
head there what's going on there why can

533
00:26:10,640 --> 00:26:25,130
I see that yeah alright so inside in the

534
00:26:22,400 --> 00:26:27,590
surface in next thing here you can see

535
00:26:25,130 --> 00:26:29,990
that really the only place that this is

536
00:26:27,589 --> 00:26:31,909
getting talked about is actually in the

537
00:26:29,990 --> 00:26:38,599
output function so that's kind of nice

538
00:26:31,910 --> 00:26:41,440
and if we look at why that is I it's

539
00:26:38,599 --> 00:26:45,439
really just to grab those those axes

540
00:26:41,440 --> 00:26:48,380
those two right there so what's really

541
00:26:45,440 --> 00:26:53,080
interesting about that is that means we

542
00:26:48,380 --> 00:26:53,080
effectively just don't need it right

543
00:26:54,309 --> 00:26:58,789
that's that's pretty fantastic so what

544
00:26:57,349 --> 00:26:59,480
that means is this will be even easier

545
00:26:58,789 --> 00:27:01,789
than I thought

546
00:26:59,480 --> 00:27:07,730
unless we run into another situation

547
00:27:01,789 --> 00:27:10,069
where we find that we're doing something

548
00:27:07,730 --> 00:27:11,660
new in the lighting that does require

549
00:27:10,069 --> 00:27:13,609
that back pointer but I really don't

550
00:27:11,660 --> 00:27:16,100
want that like I didn't want that there

551
00:27:13,609 --> 00:27:18,019
so the answer is yeah we really kind of

552
00:27:16,099 --> 00:27:19,909
want something more like this where

553
00:27:18,019 --> 00:27:21,710
lighting points just really do not have

554
00:27:19,910 --> 00:27:27,710
any kind of back pointer back to the

555
00:27:21,710 --> 00:27:34,390
surface that they're doing so we will

556
00:27:27,710 --> 00:27:34,390
continue on doing exactly that

557
00:27:35,039 --> 00:27:46,019
okay so if we yeah if we go back to how

558
00:27:40,589 --> 00:27:56,129
we were pushing these points on is that

559
00:27:46,019 --> 00:27:57,720
uh I suppose we probably don't want to

560
00:27:56,130 --> 00:28:07,170
leave that in there this is when we

561
00:27:57,720 --> 00:28:08,759
prefer when we were debugging um sorry

562
00:28:07,170 --> 00:28:10,710
that's just funny to see that in there

563
00:28:08,759 --> 00:28:12,119
so when we're pushing these points on

564
00:28:10,710 --> 00:28:13,590
that's really great news that basically

565
00:28:12,119 --> 00:28:16,709
means that the points just don't ever

566
00:28:13,589 --> 00:28:18,209
have to know and so we can get rid of

567
00:28:16,710 --> 00:28:20,150
the lighting surface stuff here all

568
00:28:18,210 --> 00:28:22,500
together it's just not relevant anymore

569
00:28:20,150 --> 00:28:26,190
but what we do have to do is have a way

570
00:28:22,500 --> 00:28:28,799
of producing the information we actually

571
00:28:26,190 --> 00:28:30,390
need to distribute the points as far as

572
00:28:28,799 --> 00:28:33,450
where the points are actually supposed

573
00:28:30,390 --> 00:28:34,770
to go now we can do this a little bit

574
00:28:33,450 --> 00:28:38,880
more procedurally than we were doing it

575
00:28:34,769 --> 00:28:41,279
before and so we can make this probably

576
00:28:38,880 --> 00:28:43,500
a more compact something more compact

577
00:28:41,279 --> 00:28:45,329
routine than the one that had like all

578
00:28:43,500 --> 00:28:47,819
of you know all of this stuff kind of

579
00:28:45,329 --> 00:28:50,460
blown out completely so let's try and

580
00:28:47,819 --> 00:28:52,019
make sure that we can do that so here we

581
00:28:50,460 --> 00:28:55,350
take a look at what we need for our

582
00:28:52,019 --> 00:28:58,470
surface and you can kind of see all the

583
00:28:55,349 --> 00:28:59,929
information that we need right and it's

584
00:28:58,470 --> 00:29:03,420
the information that we had sort of

585
00:28:59,930 --> 00:29:06,120
expanded out in here into individual

586
00:29:03,420 --> 00:29:09,420
values so we need to be able to compute

587
00:29:06,119 --> 00:29:10,949
this stuff and we need to be able to

588
00:29:09,420 --> 00:29:13,980
just compute it on the fly inside the

589
00:29:10,950 --> 00:29:16,590
loop for what we need so we need the

590
00:29:13,980 --> 00:29:18,150
position of the face in terms of the

591
00:29:16,589 --> 00:29:20,069
center position of the face although

592
00:29:18,150 --> 00:29:22,680
well if you look at we really don't

593
00:29:20,069 --> 00:29:24,839
necessarily need to do it that way we

594
00:29:22,680 --> 00:29:26,340
could rewrite this routine as being just

595
00:29:24,839 --> 00:29:29,609
in terms of the positive and negative

596
00:29:26,339 --> 00:29:31,649
portions of it so we could choose to do

597
00:29:29,609 --> 00:29:33,029
it either way since this isn't a

598
00:29:31,650 --> 00:29:34,620
particularly important routine I'll just

599
00:29:33,029 --> 00:29:36,089
leave it the way it is because this is

600
00:29:34,619 --> 00:29:38,819
going to go away and these will be

601
00:29:36,089 --> 00:29:40,709
specified by the world generation code I

602
00:29:38,819 --> 00:29:43,679
suspect in the in the end like I was

603
00:29:40,710 --> 00:29:45,240
suggesting but so what we really need to

604
00:29:43,680 --> 00:29:49,930
do here is to have a way of specifying

605
00:29:45,240 --> 00:29:53,049
this information in a more procedural

606
00:29:49,930 --> 00:30:03,279
then we work and there's a couple

607
00:29:53,049 --> 00:30:06,690
different ways we could do this I'm not

608
00:30:03,279 --> 00:30:06,690
sure exactly which one is throw

609
00:30:12,690 --> 00:30:17,080
one way is we can just make it be

610
00:30:14,798 --> 00:30:23,369
table-based another way is we can sort

611
00:30:17,079 --> 00:30:27,099
of figure out how to generate it as a

612
00:30:23,369 --> 00:30:30,359
tableau where we just kind of look at

613
00:30:27,099 --> 00:30:30,359
the pattern that happens in them

614
00:30:58,159 --> 00:31:05,130
so I'm not sure what the most concise

615
00:31:01,079 --> 00:31:06,480
way to do this would be uh bear my three

616
00:31:05,130 --> 00:31:12,059
for one second we do have a way of

617
00:31:06,480 --> 00:31:14,579
looking at at the yeah so if we at least

618
00:31:12,058 --> 00:31:16,288
we have a nice debug view here so we can

619
00:31:14,579 --> 00:31:19,648
look to see if we're generating a

620
00:31:16,288 --> 00:31:22,919
sensible set of reflectors you know we

621
00:31:19,648 --> 00:31:29,548
can kind of get them at a glance here as

622
00:31:22,919 --> 00:31:31,860
we as we as we look at them you know and

623
00:31:29,548 --> 00:31:33,599
I would also add potentially it looks

624
00:31:31,859 --> 00:31:35,339
kind of like we're not really doing a

625
00:31:33,599 --> 00:31:37,740
very good job distributing these things

626
00:31:35,339 --> 00:31:39,359
it looks like there's a bug yeah like

627
00:31:37,740 --> 00:31:42,690
these these are higher than they should

628
00:31:39,359 --> 00:31:46,139
be these are offset upward compared to

629
00:31:42,690 --> 00:31:49,080
where they should be so when we did that

630
00:31:46,140 --> 00:31:51,270
port we had another bug right here that

631
00:31:49,079 --> 00:31:53,369
nobody found which is okay like I said

632
00:31:51,269 --> 00:31:54,990
this code is just mangy at the moment

633
00:31:53,369 --> 00:31:56,369
anyway we're just kind of we haven't

634
00:31:54,990 --> 00:32:00,829
gotten the point where we're locking it

635
00:31:56,369 --> 00:32:06,928
down at all so it's fine but that

636
00:32:00,829 --> 00:32:09,808
computation there is incorrect or one of

637
00:32:06,929 --> 00:32:12,450
these was incorrect like for example

638
00:32:09,808 --> 00:32:18,440
that maybe the width and height is

639
00:32:12,450 --> 00:32:20,429
incorrect in some way or the x-axis

640
00:32:18,440 --> 00:32:22,288
doesn't doesn't look like those could be

641
00:32:20,429 --> 00:32:26,759
wrong that this don't look so it's

642
00:32:22,288 --> 00:32:32,190
mostly this stuff that's that's looking

643
00:32:26,759 --> 00:32:38,990
a bit scans here I'm not sure I'm not

644
00:32:32,190 --> 00:32:38,990
sure why because it looks

645
00:32:40,500 --> 00:32:48,089
yeah well yeah I mean that that does

646
00:32:46,589 --> 00:32:50,428
yeah now that I look at it that doesn't

647
00:32:48,089 --> 00:32:51,928
look good anyway ignore that for a

648
00:32:50,429 --> 00:32:54,059
second because we will do this slightly

649
00:32:51,929 --> 00:32:55,320
differently but point being when we do

650
00:32:54,058 --> 00:32:58,038
this surface in next year we're gonna

651
00:32:55,319 --> 00:33:01,980
have to have some way of translating

652
00:32:58,038 --> 00:33:04,849
from a surface index or any other kind

653
00:33:01,980 --> 00:33:06,839
of loop we could do you know more than

654
00:33:04,849 --> 00:33:09,209
one loop we could do a nested for-loops

655
00:33:06,839 --> 00:33:11,970
if you want to who knows but we need to

656
00:33:09,210 --> 00:33:14,480
have some way of translating from the

657
00:33:11,970 --> 00:33:16,230
like an index for a face of some kind

658
00:33:14,480 --> 00:33:18,599
into something that gives us the

659
00:33:16,230 --> 00:33:20,730
information that we need now like I said

660
00:33:18,599 --> 00:33:22,889
we don't really need this surface

661
00:33:20,730 --> 00:33:24,839
p-value the way that it was before it

662
00:33:22,890 --> 00:33:26,570
said and we don't need the x-axis or

663
00:33:24,839 --> 00:33:29,158
y-axis or any of those things actually

664
00:33:26,569 --> 00:33:31,019
all we really need is the min/max

665
00:33:29,159 --> 00:33:34,260
that the point needs to be distributed

666
00:33:31,019 --> 00:33:38,668
in right so for example what we could

667
00:33:34,259 --> 00:33:42,480
say is that X sub is going to give a

668
00:33:38,669 --> 00:33:44,730
proportion of how far along the surface

669
00:33:42,480 --> 00:33:46,279
we're supposed to go and then we just go

670
00:33:44,730 --> 00:33:49,919
that far between the min and the max

671
00:33:46,279 --> 00:33:52,619
right so for example if we were to say

672
00:33:49,919 --> 00:33:55,559
that X sub you know in this case this

673
00:33:52,619 --> 00:33:58,288
it's going to be 0 and 1 we divide that

674
00:33:55,558 --> 00:34:00,750
by 2 and we get 0 and 0.5 if we offset

675
00:33:58,288 --> 00:34:03,480
that by 0.25 we could then just do that

676
00:34:00,750 --> 00:34:08,190
far in between right so we could do

677
00:34:03,480 --> 00:34:12,719
something where we said all right we

678
00:34:08,190 --> 00:34:17,668
want this point to be you know some kind

679
00:34:12,719 --> 00:34:22,259
of alert in between the the min corner

680
00:34:17,668 --> 00:34:23,730
in the max corner X and some lurk

681
00:34:22,260 --> 00:34:26,270
between the min quarter and the max

682
00:34:23,730 --> 00:34:26,269
corner Y

683
00:34:31,940 --> 00:34:50,420
so we just have like em in corner X next

684
00:34:39,630 --> 00:34:50,420
corner X in 2000 I max corner Y n oops I

685
00:34:50,599 --> 00:34:58,469
did not want that to just happen and

686
00:34:56,059 --> 00:35:00,719
that's really all we would need to do

687
00:34:58,469 --> 00:35:03,779
right so we could just produce something

688
00:35:00,719 --> 00:35:06,980
like this and then we would need the the

689
00:35:03,780 --> 00:35:06,980
normal to the surface

690
00:35:07,769 --> 00:35:12,539
so we need the certain we we don't need

691
00:35:09,869 --> 00:35:14,309
this service index at all anymore so we

692
00:35:12,539 --> 00:35:16,110
just need the surface normal and the min

693
00:35:14,309 --> 00:35:18,269
and Max corner right that's really all

694
00:35:16,110 --> 00:35:22,220
the information we actually need to

695
00:35:18,269 --> 00:35:26,250
produce we don't need any of this stuff

696
00:35:22,219 --> 00:35:27,809
at all right and so what we can do is we

697
00:35:26,250 --> 00:35:29,849
could just do it this way and we know

698
00:35:27,809 --> 00:35:32,659
what the X sub ratio and the Y sub ratio

699
00:35:29,849 --> 00:35:45,599
are the Y sub ratio is just going to be

700
00:35:32,659 --> 00:35:47,039
0.25 F plus y sub / y sub count so

701
00:35:45,599 --> 00:35:48,710
that'll give us point two five and point

702
00:35:47,039 --> 00:35:51,329
seven five which is I think roughly

703
00:35:48,710 --> 00:35:52,470
where we wanted to place these and who

704
00:35:51,329 --> 00:35:54,779
knows where we want to place them in

705
00:35:52,469 --> 00:35:58,199
reality well like I said this is just

706
00:35:54,780 --> 00:36:00,030
kind of you know temporary stand-in code

707
00:35:58,199 --> 00:36:01,679
for at some point we're assuming we'll

708
00:36:00,030 --> 00:36:02,970
figure out exactly how we want to place

709
00:36:01,679 --> 00:36:07,469
points when we're generating world

710
00:36:02,969 --> 00:36:10,019
geometry so that just gives us sort of a

711
00:36:07,469 --> 00:36:12,089
generic placement of those points and

712
00:36:10,019 --> 00:36:15,449
then we know that really all we have to

713
00:36:12,090 --> 00:36:17,730
do is figure out just those three things

714
00:36:15,449 --> 00:36:22,609
min corner max corner normal right so

715
00:36:17,730 --> 00:36:22,610
it's min corner max corner

716
00:36:25,690 --> 00:36:32,769
serves normal and I think that is

717
00:36:29,030 --> 00:36:32,769
everything that we actually needed oops

718
00:36:35,380 --> 00:36:38,500
all right

719
00:36:38,900 --> 00:36:44,750
so once that's done then we need to and

720
00:36:43,760 --> 00:36:46,960
we're gonna have to go back there and

721
00:36:44,750 --> 00:36:48,829
actually do that computation we need to

722
00:36:46,960 --> 00:36:51,170
specify this stuff that we're actually

723
00:36:48,829 --> 00:36:52,700
storing here now and you can see we've

724
00:36:51,170 --> 00:36:58,099
got our lighting box that we had started

725
00:36:52,699 --> 00:36:59,529
on but we didn't quite finish and we had

726
00:36:58,099 --> 00:37:06,289
already come to this conclusion

727
00:36:59,530 --> 00:37:07,970
amusingly enough put this like that what

728
00:37:06,289 --> 00:37:09,858
we didn't do yet is specify how these

729
00:37:07,969 --> 00:37:11,209
like lighting indices and stuff works so

730
00:37:09,858 --> 00:37:12,940
like I said I think I'm just going to go

731
00:37:11,210 --> 00:37:16,220
with the fact that the lighting indices

732
00:37:12,940 --> 00:37:17,599
will be the 0 through 6 work so we're

733
00:37:16,219 --> 00:37:22,189
gonna have seven of these just like 1

734
00:37:17,599 --> 00:37:24,680
extra we don't really want to have an

735
00:37:22,190 --> 00:37:27,559
extra short sitting there probably that

736
00:37:24,679 --> 00:37:29,989
doesn't sound particularly good so you

737
00:37:27,559 --> 00:37:34,578
know we probably want eight of them for

738
00:37:29,989 --> 00:37:41,029
now like I guess we could do it this way

739
00:37:34,579 --> 00:37:45,920
right because we really just don't want

740
00:37:41,030 --> 00:37:47,900
you know these things to be we don't

741
00:37:45,920 --> 00:37:49,338
want seven shorts like so there's a 16

742
00:37:47,900 --> 00:37:50,420
bit thing hanging there we need to think

743
00:37:49,338 --> 00:37:52,239
about you maybe there's something we

744
00:37:50,420 --> 00:37:54,710
could put in here as well or you know

745
00:37:52,239 --> 00:38:00,159
we've basically got a slot to use there

746
00:37:54,710 --> 00:38:02,030
we're not gonna leave that fallow anyway

747
00:38:00,159 --> 00:38:04,039
so now we have to make sure that this

748
00:38:02,030 --> 00:38:05,480
piece is this piece piece of information

749
00:38:04,039 --> 00:38:09,980
are sent down let me just take a quick

750
00:38:05,480 --> 00:38:12,490
look at this what is the question it

751
00:38:09,980 --> 00:38:12,490
doesn't like

752
00:38:14,170 --> 00:38:18,400
what doesn't like about that that seems

753
00:38:19,900 --> 00:38:24,700
Semenko international argument list ah

754
00:38:24,969 --> 00:38:43,129
here we go so right right right right I

755
00:38:40,909 --> 00:38:50,509
jumped the gun on that here this is not

756
00:38:43,130 --> 00:38:53,300
a component based ad so what this

757
00:38:50,510 --> 00:38:57,680
actually is is we need to start at the

758
00:38:53,300 --> 00:39:01,430
min corner right cuz we don't know we're

759
00:38:57,679 --> 00:39:03,589
in three dimensions we are we're on some

760
00:39:01,429 --> 00:39:06,199
2d surface that's embedded in three

761
00:39:03,590 --> 00:39:08,900
dimensions and we want to move along its

762
00:39:06,199 --> 00:39:11,719
two axes along these ratios the X sub

763
00:39:08,900 --> 00:39:14,210
ratio and the y sub ratio so we need to

764
00:39:11,719 --> 00:39:17,359
start at the min corner then we need to

765
00:39:14,210 --> 00:39:19,699
go from the min corner the the axis that

766
00:39:17,360 --> 00:39:27,440
is from the min corner to the max corner

767
00:39:19,699 --> 00:39:30,049
along one way right we need to to move

768
00:39:27,440 --> 00:39:31,280
along that by the X sub ratio and then

769
00:39:30,050 --> 00:39:33,019
we need to move along the other one by

770
00:39:31,280 --> 00:39:37,310
the Y sub ratio so it is a little more

771
00:39:33,019 --> 00:39:39,800
complicated than I was making it out to

772
00:39:37,309 --> 00:39:41,329
be because we don't have the information

773
00:39:39,800 --> 00:39:42,470
that we need just from the min chord in

774
00:39:41,329 --> 00:39:44,329
the max pointer without looking at the

775
00:39:42,469 --> 00:39:46,879
individual elements to see which ones

776
00:39:44,329 --> 00:39:49,279
are equal to know which one we have to

777
00:39:46,880 --> 00:39:52,420
move along if that makes sense

778
00:39:49,280 --> 00:39:52,420
stated alternately

779
00:40:06,590 --> 00:40:09,340
so

780
00:40:21,210 --> 00:40:33,639
if we assume that we want to produce

781
00:40:29,969 --> 00:40:36,879
points like here here here and here

782
00:40:33,639 --> 00:40:39,159
which is what we were doing we need some

783
00:40:36,880 --> 00:40:41,829
way of being able to actually arrive at

784
00:40:39,159 --> 00:40:44,079
these locations from the information

785
00:40:41,829 --> 00:40:47,429
that we have and the MA for Asian we

786
00:40:44,079 --> 00:40:49,690
have is a min corner and a max corner

787
00:40:47,429 --> 00:40:53,919
but the problem is we don't actually

788
00:40:49,690 --> 00:40:57,940
know where those are in space so they

789
00:40:53,920 --> 00:41:00,450
could be you know such that it looks

790
00:40:57,940 --> 00:41:00,450
like this

791
00:41:06,559 --> 00:41:12,048
right it could be such that it looks

792
00:41:09,599 --> 00:41:12,048
like this

793
00:41:20,590 --> 00:41:30,470
it's etc so the problem is just how do

794
00:41:25,760 --> 00:41:32,720
we yeah how do we come up with a clean

795
00:41:30,469 --> 00:41:33,889
way of doing that that doesn't just to

796
00:41:32,719 --> 00:41:35,329
generate to exactly what I was doing

797
00:41:33,889 --> 00:41:36,679
before and the answer is maybe we have

798
00:41:35,329 --> 00:41:38,869
to do it the exact way that I was doing

799
00:41:36,679 --> 00:41:40,730
it before it may be that we have to just

800
00:41:38,869 --> 00:41:41,869
generate an x and y axis because we know

801
00:41:40,730 --> 00:41:43,579
that this equation is going to require

802
00:41:41,869 --> 00:41:45,079
those two it's not immediately obvious

803
00:41:43,579 --> 00:41:46,429
to me how you generate that for them and

804
00:41:45,079 --> 00:41:48,019
max that's just looking at the elements

805
00:41:46,429 --> 00:41:55,730
and seeing which ones they have in

806
00:41:48,019 --> 00:42:01,730
common so yeah so I think we may have to

807
00:41:55,730 --> 00:42:08,389
be a little bit more a little bit more

808
00:42:01,730 --> 00:42:09,679
explicit here which is unfortunate I was

809
00:42:08,389 --> 00:42:10,670
hoping there would be some really nice

810
00:42:09,679 --> 00:42:13,690
way to do this but I don't know that

811
00:42:10,670 --> 00:42:13,690
they're really actually is

812
00:42:21,340 --> 00:42:38,960
so here's the thought supposed to be

813
00:42:34,849 --> 00:42:49,940
goof by acts by axis X Y Z and then for

814
00:42:38,960 --> 00:42:52,570
each axis we do the positive and

815
00:42:49,940 --> 00:42:52,570
negative version

816
00:43:05,210 --> 00:43:15,108
Sarris I each my ankle do not ask me why

817
00:43:07,789 --> 00:43:17,509
but get you ankle fleas probably so if

818
00:43:15,108 --> 00:43:19,699
we go access by access and then do

819
00:43:17,510 --> 00:43:22,400
positive and negative then at least one

820
00:43:19,699 --> 00:43:25,818
thing we could say is we immediately

821
00:43:22,400 --> 00:43:27,740
know the surface normal right because if

822
00:43:25,818 --> 00:43:30,619
we assume that the surface normal starts

823
00:43:27,739 --> 00:43:33,439
as just all zeros and then we just go

824
00:43:30,619 --> 00:43:37,039
ahead and say well whatever element we

825
00:43:33,440 --> 00:43:40,608
were whatever axis were on that element

826
00:43:37,039 --> 00:43:43,250
of the normal equals either one or

827
00:43:40,608 --> 00:43:45,889
negative one depending on whether we're

828
00:43:43,250 --> 00:43:54,710
on the positive or negative version of

829
00:43:45,889 --> 00:43:56,719
it right similarly I think we could

830
00:43:54,710 --> 00:43:58,818
generate the min and Max corner that way

831
00:43:56,719 --> 00:44:00,289
so like for example once we know the

832
00:43:58,818 --> 00:44:02,119
surface once we know which one the

833
00:44:00,289 --> 00:44:06,588
surface normal is it seems like getting

834
00:44:02,119 --> 00:44:08,269
the X and y axis becomes relatively it

835
00:44:06,588 --> 00:44:13,039
becomes possible at that point as well

836
00:44:08,269 --> 00:44:15,559
because we can produce the other axes

837
00:44:13,039 --> 00:44:22,190
related to that axis probably in a

838
00:44:15,559 --> 00:44:23,809
similar way right if we assume that we

839
00:44:22,190 --> 00:44:28,250
want our thing to be pointing

840
00:44:23,809 --> 00:44:30,440
counterclockwise out the axis that we're

841
00:44:28,250 --> 00:44:32,960
on we should be able to do something

842
00:44:30,440 --> 00:44:35,780
like well just take the cross-product

843
00:44:32,960 --> 00:44:44,179
with that axis or something similar

844
00:44:35,780 --> 00:44:48,069
right for example if we took some other

845
00:44:44,179 --> 00:44:50,328
axis we know is orthogonal to this one

846
00:44:48,068 --> 00:44:53,630
so whichever direction the surface

847
00:44:50,329 --> 00:44:57,380
normal is pointing in i if we want to

848
00:44:53,630 --> 00:45:00,980
produce a coordinate system that is just

849
00:44:57,380 --> 00:45:04,088
an X and Y axis based on that coordinate

850
00:45:00,980 --> 00:45:07,750
system we should be able to do so I

851
00:45:04,088 --> 00:45:07,750
think that's a little more

852
00:45:07,949 --> 00:45:12,828
let's start with the min and Max corner

853
00:45:09,659 --> 00:45:17,338
because I think we can use those as well

854
00:45:12,829 --> 00:45:19,170
so we know that the min corner of the we

855
00:45:17,338 --> 00:45:23,489
know the min corner and Max corner of

856
00:45:19,170 --> 00:45:27,059
the cube are coming from these right

857
00:45:23,489 --> 00:45:33,598
here and we know what they are right so

858
00:45:27,059 --> 00:45:35,278
we we know just by default that that if

859
00:45:33,599 --> 00:45:37,890
all we wanted was the min and Max corner

860
00:45:35,278 --> 00:45:40,829
of the cube we could just get that right

861
00:45:37,889 --> 00:45:42,358
that's it's just trivial so the question

862
00:45:40,829 --> 00:45:44,250
then is well if we know the minimax

863
00:45:42,358 --> 00:45:46,219
corner of the cube how do we know what

864
00:45:44,250 --> 00:45:51,059
the min and Max corner of the face are

865
00:45:46,219 --> 00:45:53,568
right because if you look they're not

866
00:45:51,059 --> 00:45:53,569
the same thing

867
00:46:01,150 --> 00:46:07,568
for the cube if you assume the axes look

868
00:46:04,509 --> 00:46:10,900
like this then this is the max corner

869
00:46:07,568 --> 00:46:13,449
and this is the min corner right of the

870
00:46:10,900 --> 00:46:15,068
cube but for any given face you know

871
00:46:13,449 --> 00:46:16,538
like it might be more like this like

872
00:46:15,068 --> 00:46:20,998
this maybe the min corner and this may

873
00:46:16,539 --> 00:46:24,400
be the max corner for this face so

874
00:46:20,998 --> 00:46:26,368
whatever and I and the way that that

875
00:46:24,400 --> 00:46:30,579
works right is that if it's the positive

876
00:46:26,369 --> 00:46:32,380
face then you're gonna replace like the

877
00:46:30,579 --> 00:46:36,490
min and Max corner are always gonna be

878
00:46:32,380 --> 00:46:39,249
exactly the same on two of the axes

879
00:46:36,489 --> 00:46:42,098
right it's just one of the axes gets

880
00:46:39,248 --> 00:46:44,798
drawn back so basically the min in the

881
00:46:42,099 --> 00:46:46,599
min corner what you're going to do is

882
00:46:44,798 --> 00:46:48,068
force one of these elements to be

883
00:46:46,599 --> 00:46:49,298
positive and you're gonna force the

884
00:46:48,068 --> 00:46:51,338
element to be positive

885
00:46:49,298 --> 00:46:54,489
that's whichever face you were doing so

886
00:46:51,338 --> 00:46:57,998
for example if I'm going out the

887
00:46:54,489 --> 00:47:00,248
positive x face then the min corners x

888
00:46:57,998 --> 00:47:03,998
axis just has to be moved up to the

889
00:47:00,248 --> 00:47:06,838
positive side right so that that's all

890
00:47:03,998 --> 00:47:06,838
that's happening here

891
00:47:24,170 --> 00:47:30,500
likewise the max corner is going to do

892
00:47:26,750 --> 00:47:32,838
the same thing the max corner is going

893
00:47:30,500 --> 00:47:34,849
to to have the same change and we can

894
00:47:32,838 --> 00:47:38,088
write this more compactly actually by

895
00:47:34,849 --> 00:47:39,890
just saying well if it's positive or if

896
00:47:38,088 --> 00:47:42,559
it's negative we do one or the other

897
00:47:39,889 --> 00:47:44,328
right so in the positive case we have to

898
00:47:42,559 --> 00:47:48,070
move the min corner up in the negative

899
00:47:44,329 --> 00:47:48,070
case we have to move the max corner back

900
00:47:51,010 --> 00:47:59,960
right so that's that's all we're really

901
00:47:57,769 --> 00:48:02,838
doing so I think that gives us the

902
00:47:59,960 --> 00:48:06,019
surface and the min Max corner of the

903
00:48:02,838 --> 00:48:07,849
face that we're talking about so at that

904
00:48:06,019 --> 00:48:12,050
point what we need to figure out is all

905
00:48:07,849 --> 00:48:16,099
right if we're going to do the the

906
00:48:12,050 --> 00:48:18,440
placement of something on this face we

907
00:48:16,099 --> 00:48:21,349
need some way of knowing how to apply

908
00:48:18,440 --> 00:48:23,780
our to like because since we're trying

909
00:48:21,349 --> 00:48:27,019
to distribute things along those surface

910
00:48:23,780 --> 00:48:29,420
according to the AXI somehow we need

911
00:48:27,019 --> 00:48:37,009
some way of having the x axis and the y

912
00:48:29,420 --> 00:48:43,519
axis for that we would move along and in

913
00:48:37,010 --> 00:48:47,560
order to do that I guess trying to think

914
00:48:43,519 --> 00:48:47,559
of how this would work

915
00:48:57,940 --> 00:49:07,070
so I can't think of any straightforward

916
00:49:00,800 --> 00:49:08,690
way to do it there probably is one well

917
00:49:07,070 --> 00:49:11,960
you know we could do let's just do this

918
00:49:08,690 --> 00:49:13,789
by tableau because I was gonna say we

919
00:49:11,960 --> 00:49:15,619
could do the cross this doesn't seem

920
00:49:13,789 --> 00:49:17,420
like we should have to we should be able

921
00:49:15,619 --> 00:49:19,300
to read this off exactly because that is

922
00:49:17,420 --> 00:49:22,250
axis aligned it should be a lot simpler

923
00:49:19,300 --> 00:49:26,359
than then doing something fancy like

924
00:49:22,250 --> 00:49:29,679
that right while we're at it we can

925
00:49:26,358 --> 00:49:29,679
simplify this part a little bit here

926
00:49:38,920 --> 00:49:44,119
right so this is our fix up for the

927
00:49:41,389 --> 00:49:46,309
positive a negative case so let's take a

928
00:49:44,119 --> 00:49:49,300
look at what our x and y axes actually

929
00:49:46,309 --> 00:49:49,299
would have been in these cases

930
00:49:54,429 --> 00:49:58,118
so here's axis

931
00:49:59,739 --> 00:50:11,389
here's positive right so the axis goes 0

932
00:50:09,019 --> 00:50:15,679
0 1 1 2 2 and the positive is just

933
00:50:11,389 --> 00:50:17,389
alternating 0 1 0 1 0 1 0 so now we just

934
00:50:15,679 --> 00:50:18,919
need to know well ok for each one of

935
00:50:17,389 --> 00:50:24,338
these what would the X and y axis

936
00:50:18,920 --> 00:50:24,338
actually be right so here's the x axis

937
00:50:24,789 --> 00:50:28,389
just the y axis

938
00:50:30,780 --> 00:50:57,210
maybe I'll leave space alright so the

939
00:50:53,349 --> 00:51:00,180
question is what should each of these be

940
00:50:57,210 --> 00:51:03,970
for the order we're doing them in here

941
00:51:00,179 --> 00:51:07,659
so I in this case we've got a surface

942
00:51:03,969 --> 00:51:09,699
normal we're gonna start off with axis 0

943
00:51:07,659 --> 00:51:11,618
which is the x axis and we're starting

944
00:51:09,699 --> 00:51:14,529
off with positive being 0 so this can be

945
00:51:11,619 --> 00:51:16,390
negative so the surface normal is going

946
00:51:14,530 --> 00:51:18,790
to be negative 1 so it's pointing out

947
00:51:16,389 --> 00:51:25,539
the negative x axis right which is he

948
00:51:18,789 --> 00:51:27,480
which is here so we want our in that

949
00:51:25,539 --> 00:51:31,570
case we want our Y axis

950
00:51:27,480 --> 00:51:32,429
to be the up you know the z axis right

951
00:51:31,570 --> 00:51:35,109
we did this before

952
00:51:32,429 --> 00:51:38,559
so our Y axis is the z axis is just

953
00:51:35,108 --> 00:51:43,059
pointing up and our x axis is going to

954
00:51:38,559 --> 00:51:49,210
be the the negative Y axis right it's

955
00:51:43,059 --> 00:51:52,239
going to be coming out this way does

956
00:51:49,210 --> 00:51:55,030
that seem fair I hope it does we would

957
00:51:52,239 --> 00:51:58,149
then do the positive x axis and that

958
00:51:55,030 --> 00:52:01,300
means that we would have the opposite

959
00:51:58,150 --> 00:52:04,539
thing for the Y so the y axis our x axis

960
00:52:01,300 --> 00:52:06,130
is going to be positive Y instead of

961
00:52:04,539 --> 00:52:13,000
negative Y so it would be like that but

962
00:52:06,130 --> 00:52:15,608
our y axis would still be Z up right we

963
00:52:13,000 --> 00:52:18,039
would then move on to the Y faces so

964
00:52:15,608 --> 00:52:20,858
these are the Y faces so the negative Y

965
00:52:18,039 --> 00:52:25,289
face is facing facing up this way so the

966
00:52:20,858 --> 00:52:27,608
Z is still it's still going to be the

967
00:52:25,289 --> 00:52:31,989
axis for that face that points upwards

968
00:52:27,608 --> 00:52:35,019
right now mind you we may want this to

969
00:52:31,989 --> 00:52:39,368
we this may this might make the tableau

970
00:52:35,019 --> 00:52:41,050
harder to do this way but it doesn't

971
00:52:39,369 --> 00:52:42,369
really matter how we choose to do these

972
00:52:41,050 --> 00:52:43,298
so I'm just doing it that way because

973
00:52:42,369 --> 00:52:45,068
that's

974
00:52:43,298 --> 00:52:47,728
more human intuition when you look at

975
00:52:45,068 --> 00:52:50,079
the cube but we could be more like

976
00:52:47,728 --> 00:52:51,428
winding oriented about it and say that

977
00:52:50,079 --> 00:52:52,719
it should be this other thing because of

978
00:52:51,429 --> 00:52:54,789
the cross product or something right so

979
00:52:52,719 --> 00:52:56,588
there's other ways we could decide to do

980
00:52:54,789 --> 00:52:58,359
this because there's more than one X and

981
00:52:56,588 --> 00:53:00,909
y axis you could use that would be

982
00:52:58,358 --> 00:53:02,498
orthogonal on this plane and still

983
00:53:00,909 --> 00:53:04,829
aligned with the cube right there's

984
00:53:02,498 --> 00:53:07,538
several permutations you could choose

985
00:53:04,829 --> 00:53:09,039
so anyway assuming that's the y axis is

986
00:53:07,539 --> 00:53:11,589
this case then we need to know well what

987
00:53:09,039 --> 00:53:13,269
is the x axis in this case for the

988
00:53:11,588 --> 00:53:16,119
negative one it's going to be the

989
00:53:13,268 --> 00:53:17,848
positive x and we get around to the

990
00:53:16,119 --> 00:53:22,599
other side it's going to be the opposite

991
00:53:17,849 --> 00:53:25,149
right so it looks like that and then

992
00:53:22,599 --> 00:53:27,939
finally when we do the Z we're going to

993
00:53:25,148 --> 00:53:30,489
end up with sort of the opposite thing

994
00:53:27,938 --> 00:53:32,918
happening here so if we take a look at

995
00:53:30,489 --> 00:53:37,599
what needs to happen for the y axis in

996
00:53:32,918 --> 00:53:39,489
the z case the y axis could be a number

997
00:53:37,599 --> 00:53:41,380
of different things but I suppose if

998
00:53:39,489 --> 00:53:46,389
we're looking down from the top of it we

999
00:53:41,380 --> 00:53:48,939
would expect to see for the positive z

1000
00:53:46,389 --> 00:53:51,489
face we would want the x axis and the y

1001
00:53:48,938 --> 00:53:55,058
axis to be actually themselves so for

1002
00:53:51,489 --> 00:53:57,668
the positive z face here we respect to

1003
00:53:55,059 --> 00:54:02,229
have an actual x axis an actual Y axis

1004
00:53:57,668 --> 00:54:04,418
be enough and then when you would flip

1005
00:54:02,228 --> 00:54:06,129
it around on the other side well there's

1006
00:54:04,418 --> 00:54:07,898
there's two different ways that we could

1007
00:54:06,130 --> 00:54:09,489
look at it but probably the thing we

1008
00:54:07,898 --> 00:54:10,778
would do is flip the x axis on it

1009
00:54:09,489 --> 00:54:13,179
because what we've been doing is

1010
00:54:10,778 --> 00:54:17,199
flipping the x axis so we'll just stick

1011
00:54:13,179 --> 00:54:18,849
with that as sort of the convention so

1012
00:54:17,199 --> 00:54:21,548
order so you can skip it the y axis

1013
00:54:18,849 --> 00:54:27,399
would remain the same so it just looks

1014
00:54:21,548 --> 00:54:28,688
like this and instead of of the x axis

1015
00:54:27,398 --> 00:54:33,818
pointing this way it would now point

1016
00:54:28,688 --> 00:54:37,509
this way down negative x right so that's

1017
00:54:33,818 --> 00:54:39,159
for the negative z face so if you take a

1018
00:54:37,509 --> 00:54:42,338
look at what we've got here this is a

1019
00:54:39,159 --> 00:54:44,349
pretty interesting tableau to look at

1020
00:54:42,338 --> 00:54:45,880
the only thing that I would point out is

1021
00:54:44,349 --> 00:54:48,579
so you can see what I was talking about

1022
00:54:45,880 --> 00:54:50,648
before in terms of how the x axis the y

1023
00:54:48,579 --> 00:54:53,469
axis are a little bit wonky compared to

1024
00:54:50,648 --> 00:54:54,728
what you might expect you could probably

1025
00:54:53,469 --> 00:54:56,110
make this a little bit more of a

1026
00:54:54,728 --> 00:54:57,519
straightforward tableau by p

1027
00:54:56,110 --> 00:55:02,110
a little bit smarter about how these two

1028
00:54:57,519 --> 00:55:03,730
things are set up because you can see

1029
00:55:02,110 --> 00:55:05,920
the x-axis doesn't follow a particularly

1030
00:55:03,730 --> 00:55:08,079
good pattern it's like negative 1 1 1

1031
00:55:05,920 --> 00:55:09,670
negative 1 negative 1 1 right which is

1032
00:55:08,079 --> 00:55:12,039
we probably could have got that to be a

1033
00:55:09,670 --> 00:55:13,570
negative 1 1 negative 1 1 negative 1 1

1034
00:55:12,039 --> 00:55:17,050
all the way down if we wanted to

1035
00:55:13,570 --> 00:55:22,269
by changing sort of a rule for how we

1036
00:55:17,050 --> 00:55:26,860
were doing those but so that y-axis is

1037
00:55:22,269 --> 00:55:29,440
pretty straightforward right it's just

1038
00:55:26,860 --> 00:55:35,559
always that and the only thing that we

1039
00:55:29,440 --> 00:55:40,920
really have to do is say if axis index

1040
00:55:35,559 --> 00:55:43,570
equals 2 y axis equals something else

1041
00:55:40,920 --> 00:55:44,800
right and I suppose since that's the

1042
00:55:43,570 --> 00:55:46,510
only place we do that I can just

1043
00:55:44,800 --> 00:55:59,350
represent that pretty compactly right

1044
00:55:46,510 --> 00:56:03,760
here so in that case you're just saying

1045
00:55:59,349 --> 00:56:05,589
all right we've got the axis index that

1046
00:56:03,760 --> 00:56:08,800
determines which one of these 2 we use

1047
00:56:05,590 --> 00:56:11,740
as soon as we're on Z we switch either

1048
00:56:08,800 --> 00:56:13,240
way and maybe we need something else

1049
00:56:11,739 --> 00:56:15,909
here when we do this we'll see and then

1050
00:56:13,239 --> 00:56:17,319
we'd have to expand that back out but it

1051
00:56:15,909 --> 00:56:21,219
looks like the x axis is kind of a

1052
00:56:17,320 --> 00:56:23,140
little bit wonky just in general so we

1053
00:56:21,219 --> 00:56:25,029
need two things for the x axis we need

1054
00:56:23,139 --> 00:56:27,699
to the sign and then which slot it goes

1055
00:56:25,030 --> 00:56:32,440
into right so down here we're going to

1056
00:56:27,699 --> 00:56:39,189
kind of do v3 x axis and we're going to

1057
00:56:32,440 --> 00:56:47,340
do something like I guess this if the

1058
00:56:39,190 --> 00:56:51,780
axis index is 0 it's going to be that

1059
00:56:47,340 --> 00:56:51,780
otherwise that

1060
00:56:55,309 --> 00:56:59,420
and the problem here is we need to know

1061
00:56:57,018 --> 00:57:02,118
what the sign of that is right because

1062
00:56:59,420 --> 00:57:04,009
it's only takes on two values those two

1063
00:57:02,119 --> 00:57:07,190
values but we don't know which sign it

1064
00:57:04,009 --> 00:57:10,460
is so we've got two cases where it's

1065
00:57:07,190 --> 00:57:16,338
negative 1 1 so in this case we could

1066
00:57:10,460 --> 00:57:19,338
say well it's positive based on the

1067
00:57:16,338 --> 00:57:21,679
positive value if it's 0 its negative if

1068
00:57:19,338 --> 00:57:25,400
it's 1 it's positive right except for

1069
00:57:21,679 --> 00:57:33,219
the y-axis case so we just say you know

1070
00:57:25,400 --> 00:57:33,219
if Y axis or sorry x axis index equals 1

1071
00:57:42,849 --> 00:57:47,900
and now we've got all that information

1072
00:57:45,760 --> 00:57:49,640
at this one I don't think we need the

1073
00:57:47,900 --> 00:57:53,090
max corner anymore we didn't end up

1074
00:57:49,639 --> 00:57:56,239
using the max corner really too much in

1075
00:57:53,090 --> 00:57:59,269
this so really all we need is the span

1076
00:57:56,239 --> 00:58:03,909
like how far it is to go between those

1077
00:57:59,269 --> 00:58:06,980
two so we really just need this value

1078
00:58:03,909 --> 00:58:08,869
but you know whatever now we've got all

1079
00:58:06,980 --> 00:58:11,719
the information we need could probably

1080
00:58:08,869 --> 00:58:13,460
ever need so in this case we just need

1081
00:58:11,719 --> 00:58:29,509
to go all right we're gonna go to the

1082
00:58:13,460 --> 00:58:32,119
min corner the X sub ratio I guess

1083
00:58:29,510 --> 00:58:34,820
that's not entirely true

1084
00:58:32,119 --> 00:58:37,460
I suppose we still want to take the

1085
00:58:34,820 --> 00:58:42,230
measure of the span on the x axis and

1086
00:58:37,460 --> 00:58:44,630
the y axis as well so we sort of want

1087
00:58:42,230 --> 00:58:46,969
our scaled x axis here I guess that

1088
00:58:44,630 --> 00:58:48,950
makes sense but anyway so we've got our

1089
00:58:46,969 --> 00:58:52,699
min corner we're gonna do our X sub

1090
00:58:48,949 --> 00:58:58,309
ratio times scaled X plus y sub ratio

1091
00:58:52,699 --> 00:59:00,349
times scaled Y and what we need to do is

1092
00:58:58,309 --> 00:59:06,259
figure out what those two things are if

1093
00:59:00,349 --> 00:59:09,949
those are not particularly hard once we

1094
00:59:06,260 --> 00:59:14,780
have our x axis and y axis we just need

1095
00:59:09,949 --> 00:59:18,049
to figure out how far we would go along

1096
00:59:14,780 --> 00:59:21,100
them to get all the way to the end and

1097
00:59:18,050 --> 00:59:21,100
we already know what that is

1098
00:59:26,440 --> 00:59:32,929
right that's just the the dot product of

1099
00:59:29,119 --> 00:59:34,339
the x-axis with whatever the span of the

1100
00:59:32,929 --> 00:59:36,440
side of the face is is going to tell us

1101
00:59:34,340 --> 00:59:41,300
how far along that axis we would go to

1102
00:59:36,440 --> 00:59:42,800
get to the end of the face right and so

1103
00:59:41,300 --> 00:59:45,500
now we've got a thing that will generate

1104
00:59:42,800 --> 00:59:54,620
this information for us in theory and we

1105
00:59:45,500 --> 01:00:09,579
should be good to go all right here we

1106
00:59:54,619 --> 01:00:09,579
go okay where are we out here here we go

1107
01:00:09,880 --> 01:00:20,599
just like our conversion you don't have

1108
01:00:15,440 --> 01:00:24,019
a surface index and I think that's it

1109
01:00:20,599 --> 01:00:27,349
that looks all good all right so we're

1110
01:00:24,019 --> 01:00:30,099
done with that part and now we have to

1111
01:00:27,349 --> 01:00:34,159
actually record like have a place to

1112
01:00:30,099 --> 01:00:37,069
record that lightbox information so now

1113
01:00:34,159 --> 01:00:39,049
I'm gonna switch back over to just doing

1114
01:00:37,070 --> 01:00:40,640
the bookkeeping here's the game render

1115
01:00:39,050 --> 01:00:43,010
commands we've got the surface to the

1116
01:00:40,639 --> 01:00:45,079
surface count we are now no longer going

1117
01:00:43,010 --> 01:01:01,970
to have surfaces we're just going to

1118
01:00:45,079 --> 01:01:04,219
have light boxes like so and everyone

1119
01:01:01,969 --> 01:01:06,669
who initializes one of these has to pass

1120
01:01:04,219 --> 01:01:06,669
one in

1121
01:01:15,880 --> 01:01:41,329
light Oh change the wrong one all right

1122
01:01:38,119 --> 01:01:43,250
uh and in theory that will have

1123
01:01:41,329 --> 01:01:44,329
generated a problem in win32 hand-made

1124
01:01:43,250 --> 01:01:50,019
where we're not actually pointing those

1125
01:01:44,329 --> 01:01:50,019
down there it is there's like boxes and

1126
01:01:59,050 --> 01:02:05,360
we're good so I think now we've got

1127
01:02:02,150 --> 01:02:09,019
everything done except for the part

1128
01:02:05,360 --> 01:02:13,329
where we actually light with these and

1129
01:02:09,019 --> 01:02:17,150
we'll take that again as sort of a a

1130
01:02:13,329 --> 01:02:19,759
slow step process so what I think we

1131
01:02:17,150 --> 01:02:21,260
should do here is just blow out using

1132
01:02:19,760 --> 01:02:27,980
the same algorithm we were using before

1133
01:02:21,260 --> 01:02:32,150
actually blow it out into the same the

1134
01:02:27,980 --> 01:02:35,829
same set of services from every lighting

1135
01:02:32,150 --> 01:02:38,630
box that we got recorded and we know

1136
01:02:35,829 --> 01:02:40,579
what those were effectively we could use

1137
01:02:38,630 --> 01:02:43,880
the exact same routine in fact I suppose

1138
01:02:40,579 --> 01:02:47,389
when I think about it if we want to we

1139
01:02:43,880 --> 01:02:50,539
can take this same algorithm we were

1140
01:02:47,389 --> 01:02:51,980
doing here which generates this stuff we

1141
01:02:50,539 --> 01:02:54,199
could actually just make this be a

1142
01:02:51,980 --> 01:03:01,699
function call that you call and it gets

1143
01:02:54,199 --> 01:03:02,809
you this information that seems pretty

1144
01:03:01,699 --> 01:03:06,669
good to me

1145
01:03:02,809 --> 01:03:06,670
so it would just be something like this

1146
01:03:11,809 --> 01:03:18,650
where you just asked for this stuff and

1147
01:03:14,969 --> 01:03:18,649
you get it so basically like

1148
01:03:39,070 --> 01:03:44,050
so you just need them in corner in max

1149
01:03:41,710 --> 01:03:45,740
corner to be passed into you I think

1150
01:03:44,050 --> 01:03:48,820
it's pretty much it

1151
01:03:45,739 --> 01:03:48,819
[Music]

1152
01:03:57,559 --> 01:04:04,230
you would pass in what the min corner

1153
01:04:00,358 --> 01:04:10,170
and Max corner were and the surface

1154
01:04:04,230 --> 01:04:14,818
index and then it would just pass you

1155
01:04:10,170 --> 01:04:17,519
back a result which just had all these

1156
01:04:14,818 --> 01:04:22,710
things in it so do light box surface

1157
01:04:17,518 --> 01:04:47,578
results results surface n so we could

1158
01:04:22,710 --> 01:04:49,289
just call that n just an y-axis whether

1159
01:04:47,579 --> 01:04:52,490
we need to scaled Y and scaled X I don't

1160
01:04:49,289 --> 01:04:52,490
know I'll leave them there for now but

1161
01:04:54,798 --> 01:04:58,619
but now you've got all the information

1162
01:04:56,880 --> 01:05:06,119
that you need to reconstruct one of

1163
01:04:58,619 --> 01:05:07,200
these guys and again I'm just doing that

1164
01:05:06,119 --> 01:05:12,048
so that way we know that they're

1165
01:05:07,199 --> 01:05:14,548
computed the same in both places right

1166
01:05:12,048 --> 01:05:17,190
because we need these two things to line

1167
01:05:14,548 --> 01:05:21,480
up and so we want this as much as

1168
01:05:17,190 --> 01:05:23,159
possible to use similar code to extract

1169
01:05:21,480 --> 01:05:25,108
them so that if we change it in one

1170
01:05:23,159 --> 01:05:27,409
place it'll still be reflected properly

1171
01:05:25,108 --> 01:05:27,409
in the other

1172
01:05:34,969 --> 01:05:40,969
all right so these light box services as

1173
01:05:37,730 --> 01:05:43,159
they are coming through here let me grab

1174
01:05:40,969 --> 01:05:46,309
this out as well because it's kind of

1175
01:05:43,159 --> 01:05:48,460
more appropriate to this routine now so

1176
01:05:46,309 --> 01:05:56,829
this kit box surface call we can just do

1177
01:05:48,460 --> 01:05:56,829
light box surface get box surface oh

1178
01:05:59,409 --> 01:06:16,670
whoops it's not surface index sorry its

1179
01:06:03,400 --> 01:06:19,059
axis index positive it's that and we

1180
01:06:16,670 --> 01:06:22,909
could just pass in a single index here I

1181
01:06:19,059 --> 01:06:25,869
and just generate those two from it and

1182
01:06:22,909 --> 01:06:29,809
maybe that's the better way to do it I

1183
01:06:25,869 --> 01:06:40,579
don't know so you know for example what

1184
01:06:29,809 --> 01:06:42,650
we could do is this suppose you were to

1185
01:06:40,579 --> 01:06:44,840
pass in a flat surface index so there's

1186
01:06:42,650 --> 01:06:46,849
just you just pass zero through six well

1187
01:06:44,840 --> 01:06:49,550
we know the low bit is just whether it's

1188
01:06:46,849 --> 01:06:52,250
positive or not right because that goes

1189
01:06:49,550 --> 01:06:54,970
zero one zero one zero one already so

1190
01:06:52,250 --> 01:06:58,400
positive is just surface index and one

1191
01:06:54,969 --> 01:07:00,259
right and the axis index is just a

1192
01:06:58,400 --> 01:07:01,940
surface in that shifted down by one

1193
01:07:00,260 --> 01:07:09,950
because getting rid of that bottom bit

1194
01:07:01,940 --> 01:07:11,510
oops right so we could just choose to do

1195
01:07:09,949 --> 01:07:13,759
it this way and then it's a little

1196
01:07:11,510 --> 01:07:17,360
cleaner as well I suppose because then

1197
01:07:13,760 --> 01:07:19,640
you can just say like alright I'm just

1198
01:07:17,360 --> 01:07:25,039
gonna go through the phases of this cube

1199
01:07:19,639 --> 01:07:27,579
and I don't want to have to like keep

1200
01:07:25,039 --> 01:07:29,869
doing all these loops and stuff because

1201
01:07:27,579 --> 01:07:35,380
why bother it's just more bookkeeping

1202
01:07:29,869 --> 01:07:35,380
let's just do it that way you know

1203
01:07:36,760 --> 01:07:42,610
so that's that's one way to do it seems

1204
01:07:39,099 --> 01:07:45,460
pretty reasonable you know who knows if

1205
01:07:42,610 --> 01:07:48,460
it actually is or isn't so in this case

1206
01:07:45,460 --> 01:07:50,920
where you see we've got the P X n X

1207
01:07:48,460 --> 01:07:51,970
thing here and we don't actually know

1208
01:07:50,920 --> 01:07:53,590
what those are anymore because they

1209
01:07:51,969 --> 01:07:55,089
haven't been passed in but we actually

1210
01:07:53,590 --> 01:07:56,140
do know this was just because they

1211
01:07:55,090 --> 01:07:59,190
happen to be in that routine that we did

1212
01:07:56,139 --> 01:08:01,569
it this way we could have easily said oh

1213
01:07:59,190 --> 01:08:03,130
and you know what this shouldn't be in X

1214
01:08:01,570 --> 01:08:05,550
and px anyway this is this was a bug

1215
01:08:03,130 --> 01:08:07,780
anyway these these should actually be

1216
01:08:05,550 --> 01:08:09,039
based off of the access index oh this

1217
01:08:07,780 --> 01:08:16,180
should be whatever the access index was

1218
01:08:09,039 --> 01:08:17,289
right it should have been this right but

1219
01:08:16,180 --> 01:08:18,609
anyway the plain thing is just because

1220
01:08:17,289 --> 01:08:20,649
we don't have the P and n values this

1221
01:08:18,609 --> 01:08:21,730
madam they got passed in as min corner

1222
01:08:20,649 --> 01:08:26,108
in Max corner anyway

1223
01:08:21,729 --> 01:08:27,639
so really it's just this it's just it's

1224
01:08:26,109 --> 01:08:30,730
really just pulling from from these

1225
01:08:27,640 --> 01:08:32,140
anyway so that's that doesn't matter and

1226
01:08:30,729 --> 01:08:35,319
hey we found a book which is even better

1227
01:08:32,140 --> 01:08:39,640
so we got a free bug fix out of it just

1228
01:08:35,319 --> 01:08:44,439
the same all right so we just need to

1229
01:08:39,640 --> 01:08:49,380
access these off of surface now so we'll

1230
01:08:44,439 --> 01:08:49,379
do that and then in here

1231
01:08:55,810 --> 01:09:13,310
and maybe we'll call this box surface

1232
01:08:58,189 --> 01:09:16,009
index like so I so all we need to do now

1233
01:09:13,310 --> 01:09:22,580
is we need to extract each one of these

1234
01:09:16,010 --> 01:09:24,109
out yeah excuse me as I stretch and we

1235
01:09:22,579 --> 01:09:27,470
don't really need any of this anymore

1236
01:09:24,109 --> 01:09:29,390
right all of this information we can get

1237
01:09:27,470 --> 01:09:32,960
from what we have now so really what we

1238
01:09:29,390 --> 01:09:35,300
just need to do is translate this sort

1239
01:09:32,960 --> 01:09:37,520
of systematically these lighting surface

1240
01:09:35,300 --> 01:09:43,010
values we just need to translate those

1241
01:09:37,520 --> 01:09:45,650
systematically back into from the

1242
01:09:43,010 --> 01:09:52,460
lighting box routine that we just wrote

1243
01:09:45,649 --> 01:09:54,409
into this routine and we'll be done well

1244
01:09:52,460 --> 01:10:00,980
modular debugging but you know what I

1245
01:09:54,409 --> 01:10:12,590
mean all right so anyway we've got tip

1246
01:10:00,979 --> 01:10:18,379
box surface here and that requires the

1247
01:10:12,590 --> 01:10:19,940
mid corner in the next corner we're

1248
01:10:18,380 --> 01:10:21,619
gonna have that because it's going to

1249
01:10:19,939 --> 01:10:24,049
come in as the box that we're reading

1250
01:10:21,619 --> 01:10:26,119
off of and then we need to create this

1251
01:10:24,050 --> 01:10:28,190
stuff fortunately we only have to do it

1252
01:10:26,119 --> 01:10:30,199
once we also do one of these these

1253
01:10:28,189 --> 01:10:35,960
because this loop will now take care of

1254
01:10:30,199 --> 01:10:37,429
all of these like so and we also need to

1255
01:10:35,960 --> 01:10:39,949
be able to generate that other

1256
01:10:37,430 --> 01:10:44,840
information that we cared about which

1257
01:10:39,949 --> 01:10:48,710
was if you remember inside that lighting

1258
01:10:44,840 --> 01:10:51,909
surface thing that we have to do light

1259
01:10:48,710 --> 01:10:51,909
index in the light count as well

1260
01:10:58,520 --> 01:11:04,020
okay so if we take a look at what's

1261
01:11:01,500 --> 01:11:06,000
going on here it's producing the surface

1262
01:11:04,020 --> 01:11:09,510
fee it's basically the same thing that

1263
01:11:06,000 --> 01:11:14,600
we were doing before if we were to take

1264
01:11:09,510 --> 01:11:17,250
box surface or rather box mid-corner

1265
01:11:14,600 --> 01:11:24,840
start at the box link corner and just do

1266
01:11:17,250 --> 01:11:35,300
box surface scaled X Box surface scaled

1267
01:11:24,840 --> 01:11:35,300
Y this would produce oops it's not true

1268
01:11:40,880 --> 01:11:52,020
we need to record one more piece of

1269
01:11:43,079 --> 01:11:54,149
information here that also needs to be

1270
01:11:52,020 --> 01:11:57,290
there right we need the min and the max

1271
01:11:54,149 --> 01:12:01,439
of the thing or just at least the min

1272
01:11:57,289 --> 01:12:05,180
right and the span that gives us the min

1273
01:12:01,439 --> 01:12:07,349
and the max the way that we want

1274
01:12:05,180 --> 01:12:08,970
actually I suppose the span we can just

1275
01:12:07,350 --> 01:12:13,289
go halfway along as well so we could

1276
01:12:08,970 --> 01:12:15,840
just say box surface min plus 0.5 X

1277
01:12:13,289 --> 01:12:18,840
times Box surface span that gets us

1278
01:12:15,840 --> 01:12:22,949
halfway across and into the center which

1279
01:12:18,840 --> 01:12:24,510
is what we wanted and so that's a bug in

1280
01:12:22,949 --> 01:12:28,139
our other routine as well let me just go

1281
01:12:24,510 --> 01:12:37,739
fix that so we don't forget get box

1282
01:12:28,140 --> 01:12:44,190
surface in here this isn't min corner

1283
01:12:37,738 --> 01:12:47,879
it's it's actually the min as computed

1284
01:12:44,189 --> 01:12:50,219
by this routine right min corner is not

1285
01:12:47,880 --> 01:12:52,970
supposed to be used except just to call

1286
01:12:50,220 --> 01:12:52,970
it right

1287
01:12:53,039 --> 01:12:59,909
and in fact we could avoid that being

1288
01:12:55,560 --> 01:13:01,829
used well we don't really want to though

1289
01:12:59,909 --> 01:13:05,960
I mean we want that to just be made once

1290
01:13:01,828 --> 01:13:19,139
and used here but you know either way I

1291
01:13:05,960 --> 01:13:22,500
guess we could do it this way all right

1292
01:13:19,139 --> 01:13:28,289
so taking a look at what we've got here

1293
01:13:22,500 --> 01:13:30,359
I think that's pretty much how we want

1294
01:13:28,289 --> 01:13:32,250
to do it and so now we just have to loop

1295
01:13:30,359 --> 01:13:33,899
we have to actually have a place to put

1296
01:13:32,250 --> 01:13:36,689
these and make sure that the light

1297
01:13:33,899 --> 01:13:38,879
indices line up before we do that I want

1298
01:13:36,689 --> 01:13:41,129
to make sure that this routine here

1299
01:13:38,880 --> 01:13:47,670
records the min max the min corner max

1300
01:13:41,130 --> 01:13:52,340
corner so result min needs to be and

1301
01:13:47,670 --> 01:13:57,420
corner like so and I think we're good

1302
01:13:52,340 --> 01:13:59,360
all right so that all seems good now

1303
01:13:57,420 --> 01:14:03,630
what we need to do is actually create

1304
01:13:59,359 --> 01:14:08,460
these arrays here in some more sensible

1305
01:14:03,630 --> 01:14:11,760
fashion so what we've got is the this

1306
01:14:08,460 --> 01:14:14,010
sort of lighting solution here where we

1307
01:14:11,760 --> 01:14:16,170
were pointing to surfaces before we

1308
01:14:14,010 --> 01:14:20,760
don't want to do we actually want this

1309
01:14:16,170 --> 01:14:21,868
to be a real thing now and what we're

1310
01:14:20,760 --> 01:14:26,699
going to do is we're going to loop over

1311
01:14:21,868 --> 01:14:29,389
each of those input boxes that we got

1312
01:14:26,698 --> 01:14:32,339
and blow them out into actual surfaces

1313
01:14:29,389 --> 01:14:34,949
so we know ahead of time what the

1314
01:14:32,340 --> 01:14:37,679
surface count is going to be the surface

1315
01:14:34,948 --> 01:14:40,558
count is just going to be whatever the

1316
01:14:37,679 --> 01:14:44,639
box count is times 6 because we're just

1317
01:14:40,559 --> 01:14:46,529
you know running through them and we

1318
01:14:44,639 --> 01:14:53,210
know that the lighting surface we should

1319
01:14:46,529 --> 01:15:00,000
also probably assert or I can even do it

1320
01:14:53,210 --> 01:15:01,739
count surfaces um so if you take a look

1321
01:15:00,000 --> 01:15:06,809
at what what we want to do here we need

1322
01:15:01,738 --> 01:15:11,459
the surface to sort of slowly go through

1323
01:15:06,809 --> 01:15:12,480
here so you know as we come through here

1324
01:15:11,460 --> 01:15:15,149
we just want to start at the first

1325
01:15:12,479 --> 01:15:15,359
surface record as each of these goes

1326
01:15:15,149 --> 01:15:17,519
through

1327
01:15:15,359 --> 01:15:19,979
we record one new surface and advance

1328
01:15:17,520 --> 01:15:23,300
the service pointer and off we go so all

1329
01:15:19,979 --> 01:15:34,368
we really need here is the box index and

1330
01:15:23,300 --> 01:15:38,130
the box count and we need to pull out

1331
01:15:34,368 --> 01:15:41,039
that box that were you know the source

1332
01:15:38,130 --> 01:15:51,868
box that was pushed on we need to pull

1333
01:15:41,039 --> 01:15:53,969
that out from here so where we gonna get

1334
01:15:51,868 --> 01:16:00,689
the box count from well it should in

1335
01:15:53,969 --> 01:16:02,880
theory have already been recorded right

1336
01:16:00,689 --> 01:16:07,198
it should have been recorded when we

1337
01:16:02,880 --> 01:16:12,409
push the cube on in the first place so

1338
01:16:07,198 --> 01:16:12,408
it should have been recorded right here

1339
01:16:14,420 --> 01:16:21,449
so we should have that information

1340
01:16:16,170 --> 01:16:23,090
available once we get here we just need

1341
01:16:21,448 --> 01:16:25,439
to actually fill in the rest of these

1342
01:16:23,090 --> 01:16:27,690
piece of information we're not really

1343
01:16:25,439 --> 01:16:33,960
doing transparency yet but we can pass

1344
01:16:27,689 --> 01:16:38,069
it through oops the width and height of

1345
01:16:33,960 --> 01:16:40,560
any particular face is actually now we

1346
01:16:38,069 --> 01:16:47,789
know that as well again it's the inner

1347
01:16:40,560 --> 01:16:49,949
product which we could have stored in

1348
01:16:47,789 --> 01:16:51,750
the Box surface piece of information

1349
01:16:49,948 --> 01:16:54,448
there but we kind of didn't that might

1350
01:16:51,750 --> 01:16:57,300
have been a mistake

1351
01:16:54,448 --> 01:17:05,579
but anyway box surface the inner product

1352
01:16:57,300 --> 01:17:09,810
of the normal and the span I'm sorry

1353
01:17:05,579 --> 01:17:12,600
that's x-axis and the stand and the

1354
01:17:09,810 --> 01:17:16,260
y-axis in the span give us our width and

1355
01:17:12,600 --> 01:17:22,110
height we know the X these two axes

1356
01:17:16,260 --> 01:17:23,699
because they already got computed so all

1357
01:17:22,109 --> 01:17:26,158
we really needed to know was the light

1358
01:17:23,698 --> 01:17:28,439
index in the light count and fortunately

1359
01:17:26,158 --> 01:17:29,519
for us that actually is also was

1360
01:17:28,439 --> 01:17:35,549
recorded in the box

1361
01:17:29,520 --> 01:17:37,920
information right the box has a light

1362
01:17:35,550 --> 01:17:40,440
index field so whichever surface were

1363
01:17:37,920 --> 01:17:44,250
all invested when we use and we can

1364
01:17:40,439 --> 01:17:45,599
actually just take whatever the next one

1365
01:17:44,250 --> 01:17:47,729
would have been remember I said we put

1366
01:17:45,600 --> 01:17:52,740
an extra into the array to figure out

1367
01:17:47,729 --> 01:17:55,409
how the count correspond it so that that

1368
01:17:52,739 --> 01:17:57,989
is again a lot of bookkeeping but that

1369
01:17:55,409 --> 01:18:01,079
is basically it there's there's really

1370
01:17:57,989 --> 01:18:05,519
not anything else to it

1371
01:18:01,079 --> 01:18:09,359
off we go never just get rid of that

1372
01:18:05,520 --> 01:18:15,780
residual their surface index what are

1373
01:18:09,359 --> 01:18:17,699
you talking about ah so for our debug

1374
01:18:15,779 --> 01:18:21,389
output where we're doing output lighting

1375
01:18:17,699 --> 01:18:26,309
points we have a couple of choices here

1376
01:18:21,390 --> 01:18:30,539
that we can how we choose to output this

1377
01:18:26,310 --> 01:18:38,670
information and I'm not sure exactly how

1378
01:18:30,539 --> 01:18:40,500
we want to do it we don't store the

1379
01:18:38,670 --> 01:18:42,869
surface index anymore for a lighting

1380
01:18:40,500 --> 01:18:44,039
point and we don't want to write we

1381
01:18:42,869 --> 01:18:45,720
don't want to be in the business of

1382
01:18:44,039 --> 01:18:47,010
having back pointers in our low-level

1383
01:18:45,720 --> 01:18:49,949
rendering stuff which is effectively

1384
01:18:47,010 --> 01:18:52,079
what that was so the more we can get rid

1385
01:18:49,949 --> 01:18:53,789
of stuff like that the better so the

1386
01:18:52,079 --> 01:18:56,039
only place that we're actually using it

1387
01:18:53,789 --> 01:19:00,779
is in the place where we're doing sort

1388
01:18:56,039 --> 01:19:04,260
of debug output right and the debug

1389
01:19:00,779 --> 01:19:06,119
output is not it's not essential so we'd

1390
01:19:04,260 --> 01:19:07,739
rather just spend a little more time in

1391
01:19:06,119 --> 01:19:09,510
here and generate something we can use

1392
01:19:07,739 --> 01:19:10,769
without having to have a back pointer

1393
01:19:09,510 --> 01:19:14,280
rather than compromise our whole

1394
01:19:10,770 --> 01:19:15,480
rendering data structure is just to put

1395
01:19:14,279 --> 01:19:17,189
in something that's only necessary and

1396
01:19:15,479 --> 01:19:19,469
debug I mean we could if debug it or

1397
01:19:17,189 --> 01:19:21,719
something like that but I don't really

1398
01:19:19,470 --> 01:19:23,310
want to if I don't have to so if we

1399
01:19:21,720 --> 01:19:25,230
delete the fact that we're getting a

1400
01:19:23,310 --> 01:19:27,810
service at all we immediately see the

1401
01:19:25,229 --> 01:19:31,739
two places we need it which are the two

1402
01:19:27,810 --> 01:19:35,870
axis values now the bonus here is that

1403
01:19:31,739 --> 01:19:35,869
we could just choose to use

1404
01:19:38,680 --> 01:19:43,700
we could do two things we could choose

1405
01:19:41,029 --> 01:19:46,670
to generate an axis or we could actually

1406
01:19:43,699 --> 01:19:50,050
just make the axis into some kind of a

1407
01:19:46,670 --> 01:19:52,640
temporary array by looping through the

1408
01:19:50,050 --> 01:19:56,029
surfaces and outputting the axes there

1409
01:19:52,640 --> 01:19:57,650
and I feel like that might be a more fun

1410
01:19:56,029 --> 01:20:01,159
way to do it because then we actually

1411
01:19:57,649 --> 01:20:03,619
are seeing which axis is actually being

1412
01:20:01,159 --> 01:20:05,539
used as a because there could be bugs in

1413
01:20:03,619 --> 01:20:09,079
that and it would be nice to see that

1414
01:20:05,539 --> 01:20:12,979
rather than generate it from the normal

1415
01:20:09,079 --> 01:20:20,449
which we have and us assume that the

1416
01:20:12,979 --> 01:20:23,049
axes were correct on the way in right so

1417
01:20:20,449 --> 01:20:26,960
hard to say but that's the basic idea

1418
01:20:23,050 --> 01:20:29,480
and I don't really know which one we

1419
01:20:26,960 --> 01:20:30,980
want to do it's really hard to say and

1420
01:20:29,479 --> 01:20:41,750
again it depends on whether we want

1421
01:20:30,979 --> 01:20:43,789
these to be debug things or not yeah so

1422
01:20:41,750 --> 01:20:45,289
I think I'm gonna do this way so here's

1423
01:20:43,789 --> 01:20:47,659
the way I'm gonna suggest we do this

1424
01:20:45,289 --> 01:20:49,069
here we were being rather literal we're

1425
01:20:47,659 --> 01:20:50,210
saying well we want output the letting

1426
01:20:49,069 --> 01:20:53,059
points let's loop over the points the

1427
01:20:50,210 --> 01:20:54,949
problem with doing that is that if we do

1428
01:20:53,060 --> 01:20:57,740
that it means that we don't actually

1429
01:20:54,949 --> 01:20:59,569
know what service they came from but

1430
01:20:57,739 --> 01:21:09,800
what we could do instead is just loop

1431
01:20:59,569 --> 01:21:11,389
over the surfaces right and if we loop

1432
01:21:09,800 --> 01:21:13,810
over the services and then loop over the

1433
01:21:11,390 --> 01:21:13,810
points

1434
01:21:25,578 --> 01:21:31,728
then we would know what the x and y-axes

1435
01:21:28,050 --> 01:21:31,729
work is we could get it from the surface

1436
01:21:31,788 --> 01:21:36,148
right so just by changing the way we

1437
01:21:34,649 --> 01:21:46,519
were iterating it we can get at that

1438
01:21:36,149 --> 01:21:46,519
information and that's all we need

1439
01:21:49,399 --> 01:21:56,639
what is the problem

1440
01:21:52,488 --> 01:22:00,089
lady Nixon like count ah those are

1441
01:21:56,639 --> 01:22:01,199
signed that must just be integral

1442
01:22:00,090 --> 01:22:02,909
promotion because they shouldn't be

1443
01:22:01,198 --> 01:22:05,069
signed there you 16 so it must just be

1444
01:22:02,908 --> 01:22:07,738
integral promotion if I was changed to

1445
01:22:05,069 --> 01:22:11,308
that it shouldn't complain right yeah it

1446
01:22:07,738 --> 01:22:15,089
was promoting this this you 16 - it s 32

1447
01:22:11,309 --> 01:22:18,958
I guess C's integral promotion rules or

1448
01:22:15,090 --> 01:22:21,659
not are not fabulous all right so let's

1449
01:22:18,958 --> 01:22:24,389
I think I think we have put everything

1450
01:22:21,658 --> 01:22:28,978
in place that we need to for this change

1451
01:22:24,389 --> 01:22:31,800
but we may have have buggy buggy booze

1452
01:22:28,979 --> 01:22:33,659
all over the place so let's go ahead and

1453
01:22:31,800 --> 01:22:35,128
start stepping through there let me make

1454
01:22:33,658 --> 01:22:39,509
sure I get a clean build on this as well

1455
01:22:35,128 --> 01:22:48,149
okay and start debugging these so let's

1456
01:22:39,510 --> 01:22:52,429
see what is the problem here so it looks

1457
01:22:48,149 --> 01:22:52,429
like our surface is sort of off the end

1458
01:22:52,729 --> 01:22:57,800
as we were looping through it

1459
01:23:03,819 --> 01:23:19,739
can i oh I'm like why can't expect your

1460
01:23:07,300 --> 01:23:19,739
thing we're in time overtime all right

1461
01:23:20,250 --> 01:23:28,630
yeah uh so if we take a look at our

1462
01:23:25,539 --> 01:23:31,449
surface you can see here that it's bogus

1463
01:23:28,630 --> 01:23:33,279
right it it sort of has valid memory up

1464
01:23:31,449 --> 01:23:36,519
to about here and then it becomes not

1465
01:23:33,279 --> 01:23:39,880
valid memory so first thing I want to do

1466
01:23:36,520 --> 01:23:41,260
is figure out what number we're on so

1467
01:23:39,880 --> 01:23:43,150
you can see we're we're not even

1468
01:23:41,260 --> 01:23:47,350
something's wrong like right off the bat

1469
01:23:43,149 --> 01:23:51,129
here it's just just bad so let me take a

1470
01:23:47,350 --> 01:23:52,210
look at is that can i define that wrong

1471
01:23:51,130 --> 01:23:57,909
and make sure I even defined it

1472
01:23:52,210 --> 01:24:00,909
correctly so we should have a ton of

1473
01:23:57,909 --> 01:24:03,279
these right you should have a ton of

1474
01:24:00,909 --> 01:24:12,460
these so let's see what's going on here

1475
01:24:03,279 --> 01:24:15,750
so solution surfaces so these are all

1476
01:24:12,460 --> 01:24:23,739
fairly valid so all of this looks ah

1477
01:24:15,750 --> 01:24:25,689
well that's our first problem I have no

1478
01:24:23,739 --> 01:24:30,809
idea what that what that was about right

1479
01:24:25,689 --> 01:24:33,069
there do you see it like what is

1480
01:24:30,810 --> 01:24:34,840
happening here I don't even understand

1481
01:24:33,069 --> 01:24:38,469
it's just so it's gonna stay in this

1482
01:24:34,840 --> 01:24:40,779
loop forever basically incrementing

1483
01:24:38,470 --> 01:24:45,220
surface ad infinitum until it runs out

1484
01:24:40,779 --> 01:24:52,059
of space so yeah that's not great you

1485
01:24:45,220 --> 01:24:57,310
know not a particularly good idea all

1486
01:24:52,060 --> 01:24:59,440
right so we are sort of part of the way

1487
01:24:57,310 --> 01:25:02,980
there but you can see we're messed up

1488
01:24:59,439 --> 01:25:06,549
right we should we should arrive back at

1489
01:25:02,979 --> 01:25:08,619
the same sort of lighting that we had

1490
01:25:06,550 --> 01:25:12,070
before but we're nowhere close right

1491
01:25:08,619 --> 01:25:15,609
this is not even really lighting it's

1492
01:25:12,069 --> 01:25:16,438
got stuff on kind of weird signs and so

1493
01:25:15,609 --> 01:25:17,698
on I'm

1494
01:25:16,439 --> 01:25:20,369
go ahead and switch to being able to

1495
01:25:17,698 --> 01:25:23,009
view the information that we should see

1496
01:25:20,368 --> 01:25:25,259
pretty clearly what's going on like it

1497
01:25:23,010 --> 01:25:26,939
should be completely wrong right so this

1498
01:25:25,260 --> 01:25:29,429
should have shown us our lighting points

1499
01:25:26,939 --> 01:25:31,590
we don't see any of them at all so we've

1500
01:25:29,429 --> 01:25:33,269
got a bunch of work to do let's get

1501
01:25:31,590 --> 01:25:34,619
started first things first I'm just

1502
01:25:33,269 --> 01:25:36,510
gonna jump into lighting test and just

1503
01:25:34,618 --> 01:25:38,819
get a sense of what the data looks like

1504
01:25:36,510 --> 01:25:40,530
like how wrong is it right does it look

1505
01:25:38,819 --> 01:25:42,538
sensible in here and maybe it's just

1506
01:25:40,529 --> 01:25:45,509
subtly wrong or is it just completely

1507
01:25:42,538 --> 01:25:48,478
fanciful totally stupid like there's all

1508
01:25:45,510 --> 01:25:50,159
kinds of problems whatever so let's

1509
01:25:48,479 --> 01:25:52,260
first take a look at that box surface

1510
01:25:50,158 --> 01:25:53,698
routine and what we can see from just

1511
01:25:52,260 --> 01:25:57,269
quick inspection of the box service

1512
01:25:53,698 --> 01:26:00,469
routine is it's not ludicrous right like

1513
01:25:57,269 --> 01:26:02,579
all of these things make some sense but

1514
01:26:00,469 --> 01:26:05,819
one thing jumps out is Mia being

1515
01:26:02,578 --> 01:26:09,058
obviously wrong our x-axis and wax set

1516
01:26:05,819 --> 01:26:13,018
to the same thing and I don't know about

1517
01:26:09,059 --> 01:26:15,570
you but chances are if I go to define

1518
01:26:13,019 --> 01:26:18,389
something with an x and y axis in there

1519
01:26:15,569 --> 01:26:20,759
the same I'm not gonna get a lot of

1520
01:26:18,389 --> 01:26:22,349
value have fat because you can't

1521
01:26:20,760 --> 01:26:25,349
actually make a two-dimensional surface

1522
01:26:22,349 --> 01:26:32,819
with only one dimensions worth of axes

1523
01:26:25,349 --> 01:26:35,569
so what is the problem well for starters

1524
01:26:32,819 --> 01:26:35,569
the problem

1525
01:26:39,399 --> 01:26:50,149
would appear to be wait that shouldn't

1526
01:26:47,000 --> 01:26:52,340
oh okay that's from I'm like that looks

1527
01:26:50,149 --> 01:26:54,289
right well turns out if you assign the

1528
01:26:52,340 --> 01:26:55,840
x-axis to both of them you don't get

1529
01:26:54,289 --> 01:26:59,238
very far

1530
01:26:55,840 --> 01:27:00,469
all right let's try that again also

1531
01:26:59,238 --> 01:27:01,789
let's take a quick look at what the

1532
01:27:00,469 --> 01:27:03,380
result is if it's any different I was

1533
01:27:01,789 --> 01:27:04,850
doing it's not because that that would

1534
01:27:03,380 --> 01:27:07,010
not have been sufficient to cause that

1535
01:27:04,850 --> 01:27:09,079
problem well it's a little bit different

1536
01:27:07,010 --> 01:27:11,030
so I guess it was it was enough

1537
01:27:09,079 --> 01:27:15,800
different all right

1538
01:27:11,029 --> 01:27:17,719
so you can see here these are the these

1539
01:27:15,800 --> 01:27:21,440
are the services that we're now working

1540
01:27:17,719 --> 01:27:24,520
with right you can you can see them

1541
01:27:21,439 --> 01:27:27,678
pretty plainly they actually don't look

1542
01:27:24,520 --> 01:27:30,679
all that wrong they're not right like

1543
01:27:27,679 --> 01:27:37,340
you can see we're getting some weirdness

1544
01:27:30,679 --> 01:27:43,929
here the positive Y services look kind

1545
01:27:37,340 --> 01:27:43,929
of like they're not working at all were

1546
01:27:46,689 --> 01:27:50,918
because this is the light right here and

1547
01:27:49,208 --> 01:27:52,448
we should have been seeing some light on

1548
01:27:50,918 --> 01:27:54,429
that it's okay that we're not seeing you

1549
01:27:52,448 --> 01:27:56,589
life back here but you can see that's

1550
01:27:54,429 --> 01:28:04,469
kind of a kind of looks bogus the other

1551
01:27:56,590 --> 01:28:06,880
thing is well yeah yeah yeah yeah

1552
01:28:04,469 --> 01:28:12,668
let me also quick take a quick spot

1553
01:28:06,880 --> 01:28:17,639
check out the timing how much time we

1554
01:28:12,668 --> 01:28:17,639
got left how much time do we have left

1555
01:28:20,429 --> 01:28:25,179
thirty few minutes we have a half hour

1556
01:28:22,630 --> 01:28:30,400
so we should be able to debug this in 30

1557
01:28:25,179 --> 01:28:32,199
minutes that's a lot of time hmm I did

1558
01:28:30,399 --> 01:28:37,259
not get much sleep last night due to the

1559
01:28:32,198 --> 01:28:42,009
power outage it was kind of annoying I

1560
01:28:37,260 --> 01:28:45,039
had to swim around for some lights and

1561
01:28:42,010 --> 01:28:46,239
deal with wondering about whether what

1562
01:28:45,038 --> 01:28:47,639
to do with the refrigerator and all

1563
01:28:46,238 --> 01:28:49,149
these sorts of things it doesn't matter

1564
01:28:47,639 --> 01:28:54,340
anyway

1565
01:28:49,149 --> 01:28:56,408
so running this in release mode yeah so

1566
01:28:54,340 --> 01:28:58,569
it's not like super slow right now or

1567
01:28:56,408 --> 01:29:02,228
anything so it didn't take a massive hit

1568
01:28:58,569 --> 01:29:04,899
or anything but so we're not too far off

1569
01:29:02,229 --> 01:29:08,918
but you can see like only some of our

1570
01:29:04,899 --> 01:29:11,098
services ever get light on them we

1571
01:29:08,918 --> 01:29:13,479
probably have some index mismatches or

1572
01:29:11,099 --> 01:29:15,189
some of the faces are not being computed

1573
01:29:13,479 --> 01:29:18,849
properly or various other things like

1574
01:29:15,189 --> 01:29:21,159
this right all right so let's slowly go

1575
01:29:18,849 --> 01:29:26,199
back through this and let's try to

1576
01:29:21,158 --> 01:29:27,969
figure out where we're at so I'm gonna

1577
01:29:26,198 --> 01:29:30,578
switch back to debug mode here and I'm

1578
01:29:27,969 --> 01:29:33,279
gonna adjust first things first we

1579
01:29:30,578 --> 01:29:37,328
introduced that light box service

1580
01:29:33,279 --> 01:29:39,099
routine and I would like to kind of go

1581
01:29:37,328 --> 01:29:41,319
through it and have some understanding

1582
01:29:39,099 --> 01:29:43,689
about whether or not I think it's

1583
01:29:41,319 --> 01:29:47,828
producing results that are plausible

1584
01:29:43,689 --> 01:29:54,760
right so I'm going to go into the push

1585
01:29:47,828 --> 01:29:58,118
cube function and you know kind of after

1586
01:29:54,760 --> 01:30:00,489
we do all of this business here and we

1587
01:29:58,118 --> 01:30:02,319
come down to specifying the light box

1588
01:30:00,488 --> 01:30:04,238
I'm gonna just take a quick look and

1589
01:30:02,319 --> 01:30:05,349
make sure that like all of its data is

1590
01:30:04,238 --> 01:30:08,589
correct and then I'm gonna look at what

1591
01:30:05,349 --> 01:30:09,880
we get for that that routine that

1592
01:30:08,590 --> 01:30:15,909
generates our various pieces of

1593
01:30:09,880 --> 01:30:19,840
information so our light index values 1

1594
01:30:15,908 --> 01:30:21,729
5 9 13 17 21 25 all look valid 0

1595
01:30:19,840 --> 01:30:26,019
obviously is reserved

1596
01:30:21,729 --> 01:30:28,718
so as for not having any lighting so it

1597
01:30:26,019 --> 01:30:30,610
makes sense that that starts 1 M goes up

1598
01:30:28,719 --> 01:30:34,288
that the way it does that's exactly what

1599
01:30:30,609 --> 01:30:37,089
you expect it's all good

1600
01:30:34,288 --> 01:30:39,880
mid-corner max corner certainly seem

1601
01:30:37,090 --> 01:30:41,460
fine nothing particularly odd there and

1602
01:30:39,880 --> 01:30:47,260
transparency is currently ignored

1603
01:30:41,460 --> 01:30:49,239
service index now we loop over and we're

1604
01:30:47,260 --> 01:30:51,369
going to go through six different zero

1605
01:30:49,238 --> 01:30:54,279
one two three and four and five and then

1606
01:30:51,368 --> 01:30:56,948
we're gonna take a look and see whether

1607
01:30:54,279 --> 01:30:58,868
we're getting you know sane results here

1608
01:30:56,948 --> 01:31:00,969
in terms of how we distribute these

1609
01:30:58,868 --> 01:31:05,529
points it's more or less all I really

1610
01:31:00,969 --> 01:31:08,889
want to know okay so let's suppose I

1611
01:31:05,529 --> 01:31:10,689
come in here to the box surface call and

1612
01:31:08,889 --> 01:31:12,670
I want to look at what the axis index is

1613
01:31:10,689 --> 01:31:14,848
it's zero meaning x-axis positive is

1614
01:31:12,670 --> 01:31:17,139
zero meaning it's the negative x-axis

1615
01:31:14,849 --> 01:31:19,210
that's what we'd expect I mean zero

1616
01:31:17,139 --> 01:31:21,760
shifted down and zero ended with a 1

1617
01:31:19,210 --> 01:31:23,920
both will produce zero so we're

1618
01:31:21,760 --> 01:31:29,199
specifically talking and why this screen

1619
01:31:23,920 --> 01:31:32,199
is flickering like mad like the no-good

1620
01:31:29,198 --> 01:31:34,569
gnome 3 or whatever it is is has all

1621
01:31:32,198 --> 01:31:39,598
sorts of weird bugs in it for window

1622
01:31:34,569 --> 01:31:42,038
compositing it's it's weird anyway so

1623
01:31:39,599 --> 01:31:45,400
this is the case that we're specifically

1624
01:31:42,038 --> 01:31:48,158
talking about here here's our normal and

1625
01:31:45,399 --> 01:31:51,670
we're going to compute that by using a

1626
01:31:48,158 --> 01:31:58,420
knockout here here is our span that is

1627
01:31:51,670 --> 01:32:04,920
ah that is incorrect that the span has

1628
01:31:58,420 --> 01:32:07,239
to be computed after this hold please we

1629
01:32:04,920 --> 01:32:09,130
before we go any further let me fix that

1630
01:32:07,238 --> 01:32:11,399
because the other values the dependent

1631
01:32:09,130 --> 01:32:11,400
are going

1632
01:32:19,649 --> 01:32:23,619
yeah because we can't take the entire

1633
01:32:22,060 --> 01:32:25,630
distance between the minimum and Max

1634
01:32:23,619 --> 01:32:27,039
quarter of the cube we want the distance

1635
01:32:25,630 --> 01:32:42,430
between the min corn in the max corner

1636
01:32:27,039 --> 01:32:44,890
of the face right yeah I think

1637
01:32:42,430 --> 01:32:50,590
everything else is fine all right so if

1638
01:32:44,890 --> 01:33:05,730
we now go ahead and try this one more

1639
01:32:50,590 --> 01:33:05,730
time let's take a look at what we get so

1640
01:33:07,750 --> 01:33:12,670
we've got our min and that should be

1641
01:33:10,149 --> 01:33:14,439
just the same as the min corner in this

1642
01:33:12,670 --> 01:33:16,300
case because it doesn't have to knock

1643
01:33:14,439 --> 01:33:18,519
out for the positive negative case so

1644
01:33:16,300 --> 01:33:20,079
it's it's all good all right so that's

1645
01:33:18,520 --> 01:33:22,539
these two should be equivalent and they

1646
01:33:20,078 --> 01:33:25,569
are the span should just be what it

1647
01:33:22,538 --> 01:33:28,179
takes to get to the max corner in two of

1648
01:33:25,569 --> 01:33:31,448
the dimensions but not the other so

1649
01:33:28,179 --> 01:33:34,270
since we are talking about this is the

1650
01:33:31,448 --> 01:33:37,538
positive x face there should be no span

1651
01:33:34,270 --> 01:33:39,219
along the x axis so the min corner Max

1652
01:33:37,538 --> 01:33:40,809
runner we should see this reflected in

1653
01:33:39,219 --> 01:33:44,469
the span and this reflected in the span

1654
01:33:40,809 --> 01:33:46,750
but not this right and that is what we

1655
01:33:44,469 --> 01:33:49,149
get that's exactly what we get so that's

1656
01:33:46,750 --> 01:33:50,920
great that that is what we want the

1657
01:33:49,149 --> 01:33:53,979
normal again negative x face should be

1658
01:33:50,920 --> 01:33:57,309
native X and it is x axis and y axis

1659
01:33:53,979 --> 01:34:01,118
look plausible to me and our scaled

1660
01:33:57,309 --> 01:34:03,699
versions also look plausible right so

1661
01:34:01,118 --> 01:34:07,738
that's good we now need to just just

1662
01:34:03,698 --> 01:34:07,738
distribute points on these surfaces

1663
01:34:12,329 --> 01:34:16,840
Our Lady mix is one which is the point

1664
01:34:14,890 --> 01:34:19,030
that we would expect to be distributing

1665
01:34:16,840 --> 01:34:33,039
so that's good you have an excess of

1666
01:34:19,029 --> 01:34:34,929
ratio and a y sub ratio so we have an X

1667
01:34:33,039 --> 01:34:37,269
sub ratio and a y sub ratio of 0.25

1668
01:34:34,930 --> 01:34:39,699
which is what we would want and we're

1669
01:34:37,270 --> 01:34:41,860
gonna set the surface normal for this

1670
01:34:39,698 --> 01:34:44,109
light thing to be whatever our radio

1671
01:34:41,859 --> 01:34:45,339
service normal was which we did we're

1672
01:34:44,109 --> 01:34:47,500
gonna take the surface man and we're

1673
01:34:45,340 --> 01:34:49,390
gonna add X sub ratio and scale times

1674
01:34:47,500 --> 01:34:51,729
scaled X and the y sub ratio times the

1675
01:34:49,390 --> 01:34:54,900
scaled why we should get a point that's

1676
01:34:51,729 --> 01:34:54,899
still within the bounds

1677
01:35:04,960 --> 01:35:13,059
and it should be but it should be pegged

1678
01:35:08,559 --> 01:35:13,949
to the minimum X which it is and we do

1679
01:35:13,059 --> 01:35:17,829
so that's good

1680
01:35:13,948 --> 01:35:20,799
we set the refere and the light index

1681
01:35:17,828 --> 01:35:26,698
here which is what we would expect to do

1682
01:35:20,800 --> 01:35:31,059
and we're off this won't change

1683
01:35:26,698 --> 01:35:38,169
substantively these are all the same

1684
01:35:31,059 --> 01:35:41,159
just with 75 now and now we come through

1685
01:35:38,170 --> 01:35:41,158
with another surface

1686
01:35:49,859 --> 01:35:54,739
so now we've moved on to the positive Y

1687
01:35:55,159 --> 01:36:00,800
and I guess I do still want to see white

1688
01:35:58,979 --> 01:36:03,379
box

1689
01:36:00,800 --> 01:36:09,000
corner oops

1690
01:36:03,380 --> 01:36:15,960
light box max corner it correctly set X

1691
01:36:09,000 --> 01:36:16,939
to be the positive version now so that

1692
01:36:15,960 --> 01:36:28,829
all looks good

1693
01:36:16,939 --> 01:36:31,429
normal looks correct yeah everything

1694
01:36:28,829 --> 01:36:31,430
looks fine to me

1695
01:36:45,529 --> 01:36:58,319
so now we're on Y negative that looks

1696
01:36:53,670 --> 01:37:00,859
right that looks right those are

1697
01:36:58,319 --> 01:37:00,859
plausible

1698
01:37:09,899 --> 01:37:12,899
yep

1699
01:37:19,238 --> 01:37:22,139
yep

1700
01:37:25,579 --> 01:37:34,260
that so that now oops

1701
01:37:27,960 --> 01:37:38,760
Oh God I don't do that how do I have I

1702
01:37:34,260 --> 01:37:44,760
make it stop okay so that actually looks

1703
01:37:38,760 --> 01:37:46,380
fairly reasonable so I'm not sure why

1704
01:37:44,760 --> 01:37:48,329
now we're gonna have to go look at the

1705
01:37:46,380 --> 01:37:52,619
other side routine because I've that

1706
01:37:48,329 --> 01:37:53,969
looked pretty plausible to me in terms

1707
01:37:52,619 --> 01:37:58,409
of the surfaces that were being

1708
01:37:53,969 --> 01:38:00,659
generated there so I'm not sure exactly

1709
01:37:58,409 --> 01:38:01,529
what we're seeing as a problem there so

1710
01:38:00,659 --> 01:38:03,170
we're gonna have to go look at the other

1711
01:38:01,529 --> 01:38:05,670
side of it unless I missed something

1712
01:38:03,170 --> 01:38:07,289
this looks this routine looks like it's

1713
01:38:05,670 --> 01:38:08,909
reasonably solid now I see any obvious

1714
01:38:07,289 --> 01:38:10,859
problems with it

1715
01:38:08,909 --> 01:38:14,988
furthermore when I run this and look at

1716
01:38:10,859 --> 01:38:17,219
the locations where it put the points

1717
01:38:14,988 --> 01:38:19,259
they're actually more correct than they

1718
01:38:17,219 --> 01:38:20,819
were before this now looks like they're

1719
01:38:19,260 --> 01:38:22,829
actually in the correct locations

1720
01:38:20,819 --> 01:38:28,019
whereas for we actually had look like we

1721
01:38:22,829 --> 01:38:33,090
had a bug there so I'm fairly sure that

1722
01:38:28,020 --> 01:38:36,300
we're at least not you know grotesquely

1723
01:38:33,090 --> 01:38:38,010
wrong in some way producing those light

1724
01:38:36,300 --> 01:38:39,270
box functions because these now all look

1725
01:38:38,010 --> 01:38:42,110
like they're in pretty recent positions

1726
01:38:39,270 --> 01:38:46,380
what I don't know is whether the

1727
01:38:42,109 --> 01:38:48,899
correspondence is correct one thing that

1728
01:38:46,380 --> 01:38:52,260
you have to remember here is we're in a

1729
01:38:48,899 --> 01:38:58,049
bad position in terms of music who is

1730
01:38:52,260 --> 01:39:00,420
using that debug view to tell us whether

1731
01:38:58,050 --> 01:39:01,860
or not our lighting points correspond

1732
01:39:00,420 --> 01:39:03,810
with our lighting services correctly

1733
01:39:01,859 --> 01:39:07,469
because that the lighting services are

1734
01:39:03,810 --> 01:39:09,210
all regular they all go negative x

1735
01:39:07,469 --> 01:39:11,069
positive x negative Y positive Y

1736
01:39:09,210 --> 01:39:13,198
negative Z positive Z it's a threat

1737
01:39:11,069 --> 01:39:17,429
right right and when we're doing your

1738
01:39:13,198 --> 01:39:20,099
debug output we just go by surface so if

1739
01:39:17,429 --> 01:39:22,109
all of the services were assigned to

1740
01:39:20,100 --> 01:39:24,989
somehow the wrong lighting information

1741
01:39:22,109 --> 01:39:27,420
you would not know because the x-axis E

1742
01:39:24,988 --> 01:39:30,329
X axes are always the same for them all

1743
01:39:27,420 --> 01:39:34,619
so as long as they were only off by one

1744
01:39:30,329 --> 01:39:36,569
whole 24 block of light indices you'd

1745
01:39:34,619 --> 01:39:37,949
never know because it's not like they

1746
01:39:36,569 --> 01:39:39,779
all have different

1747
01:39:37,949 --> 01:39:41,760
AXYZ so that you would see that they

1748
01:39:39,779 --> 01:39:45,449
would be spun improperly or something

1749
01:39:41,760 --> 01:39:47,550
right so that particular view doesn't

1750
01:39:45,449 --> 01:39:49,170
really tell us you know we'd have to add

1751
01:39:47,550 --> 01:39:50,579
more information that debug view in

1752
01:39:49,170 --> 01:39:53,100
order to tell us stuff like whether they

1753
01:39:50,579 --> 01:39:55,710
were corresponding properly let's go

1754
01:39:53,100 --> 01:39:57,630
ahead and and take a look now at the

1755
01:39:55,710 --> 01:40:01,439
place where we actually pull this

1756
01:39:57,630 --> 01:40:06,510
information out temporarily again in the

1757
01:40:01,439 --> 01:40:09,289
baby steps kind of a paradigm let's just

1758
01:40:06,510 --> 01:40:12,480
go in here and see what we've got

1759
01:40:09,289 --> 01:40:17,180
so it says that we've got 77 boxes that

1760
01:40:12,479 --> 01:40:22,169
were processing that seems reasonable we

1761
01:40:17,180 --> 01:40:27,780
figured that that will generate 462

1762
01:40:22,170 --> 01:40:31,319
surfaces we're gonna loop over each of

1763
01:40:27,779 --> 01:40:33,750
the boxes one by one when we pull them

1764
01:40:31,319 --> 01:40:37,679
out we're gonna ask again for this this

1765
01:40:33,750 --> 01:40:39,659
piece of in this same box calculation to

1766
01:40:37,680 --> 01:40:41,909
be run and then we're gonna generate a

1767
01:40:39,659 --> 01:40:44,909
point by taking them in and going half

1768
01:40:41,909 --> 01:40:46,739
way along the span that should put us in

1769
01:40:44,909 --> 01:40:52,529
the center which is what the service

1770
01:40:46,739 --> 01:40:54,500
wants and the Box surface tells us to

1771
01:40:52,529 --> 01:40:57,500
normal

1772
01:40:54,500 --> 01:40:57,500
oops

1773
01:41:04,569 --> 01:41:09,500
so here's our source and here's our

1774
01:41:06,439 --> 01:41:24,199
destination in the sense let's take a

1775
01:41:09,500 --> 01:41:26,779
look at what our width and height are so

1776
01:41:24,199 --> 01:41:29,479
really we go we want to know the

1777
01:41:26,779 --> 01:41:39,139
absolute value of that - in order to get

1778
01:41:29,479 --> 01:41:41,059
the width to be correct because if it's

1779
01:41:39,140 --> 01:41:43,660
pointing along a negative axis that will

1780
01:41:41,060 --> 01:41:43,660
be negative

1781
01:41:52,060 --> 01:41:58,090
so I guess that sort of implies that

1782
01:41:54,640 --> 01:41:59,860
what we would prefer is that we always

1783
01:41:58,090 --> 01:42:03,720
were pointing along the positive

1784
01:41:59,859 --> 01:42:03,719
versions of our axes

1785
01:42:30,930 --> 01:42:35,640
see there's a couple of ways to

1786
01:42:32,800 --> 01:42:39,369
interpret this and it's tough to say I

1787
01:42:35,640 --> 01:42:42,670
guess we would want to say that the men

1788
01:42:39,369 --> 01:42:48,970
value is not really a min value that's

1789
01:42:42,670 --> 01:42:50,619
the wrong way to think about that let me

1790
01:42:48,970 --> 01:42:54,340
just discuss this a little bit here so a

1791
01:42:50,619 --> 01:42:58,029
little subtle so because this face can

1792
01:42:54,340 --> 01:43:01,270
be anywhere min does not really mean min

1793
01:42:58,029 --> 01:43:03,460
it doesn't have to be the minimum right

1794
01:43:01,270 --> 01:43:09,670
it's it's not necessarily minimum

1795
01:43:03,460 --> 01:43:14,770
anymore relative to what the x and y

1796
01:43:09,670 --> 01:43:17,770
axes are it's the minimum in absolute

1797
01:43:14,770 --> 01:43:19,480
axis XYZ world space but it's not

1798
01:43:17,770 --> 01:43:22,270
necessarily minimum relative to these

1799
01:43:19,479 --> 01:43:24,339
because it might be the x axis might be

1800
01:43:22,270 --> 01:43:28,390
pointing along a negative direction in

1801
01:43:24,340 --> 01:43:31,420
which case it's actually the maximum now

1802
01:43:28,390 --> 01:43:35,230
because it's you know the minimum for

1803
01:43:31,420 --> 01:43:37,329
the non negative version of that axis so

1804
01:43:35,229 --> 01:43:41,129
it's really more like a base point it's

1805
01:43:37,329 --> 01:43:41,130
probably the right way to think about it

1806
01:43:42,329 --> 01:43:48,489
it's basically saying like hey with the

1807
01:43:45,310 --> 01:43:51,340
base in the span you can get from the

1808
01:43:48,489 --> 01:43:54,420
face out to the to the you know the end

1809
01:43:51,340 --> 01:43:57,640
of it but it's not really telling you

1810
01:43:54,420 --> 01:44:00,180
anything else and the x axis and y axis

1811
01:43:57,640 --> 01:44:04,480
don't necessarily point out from there

1812
01:44:00,180 --> 01:44:07,800
in and we need to sort of fix that I

1813
01:44:04,479 --> 01:44:07,799
guess is the thing

1814
01:44:17,479 --> 01:44:20,169
yeah

1815
01:44:26,149 --> 01:44:31,339
so I think yeah yeah that's just that's

1816
01:44:28,760 --> 01:44:32,570
just a little tricky so maybe I the way

1817
01:44:31,340 --> 01:44:37,150
that we were doing it before was better

1818
01:44:32,569 --> 01:44:37,149
cuz it's a lot less it's just a lot less

1819
01:44:37,180 --> 01:45:00,050
room for error there I guess so maybe

1820
01:44:58,550 --> 01:45:01,579
we'll stick with sort of roughly the way

1821
01:45:00,050 --> 01:45:03,860
we were doing it before cuz that's that

1822
01:45:01,579 --> 01:45:05,239
is like a little clearer and I want to

1823
01:45:03,859 --> 01:45:09,409
avoid that error that I just made in

1824
01:45:05,239 --> 01:45:10,760
terms of how I was thinking about it so

1825
01:45:09,409 --> 01:45:12,439
yeah if we take a look at what we'd have

1826
01:45:10,760 --> 01:45:14,239
to do to do this this all is still fine

1827
01:45:12,439 --> 01:45:17,119
right we can we can produce all of this

1828
01:45:14,239 --> 01:45:18,619
information in terms of the min and the

1829
01:45:17,119 --> 01:45:21,590
max coordinates of it but now we want to

1830
01:45:18,619 --> 01:45:24,170
do is say all right we want to generate

1831
01:45:21,590 --> 01:45:26,900
a p-value and we know where that is

1832
01:45:24,170 --> 01:45:31,880
right we do know that the the p-value is

1833
01:45:26,899 --> 01:45:42,289
just going to be the min corner we don't

1834
01:45:31,880 --> 01:45:43,909
want this the p-values could be halfway

1835
01:45:42,289 --> 01:45:47,229
between the min core in the max V Max

1836
01:45:43,909 --> 01:45:54,769
weren't that's the center point right I

1837
01:45:47,229 --> 01:46:00,019
and so that gives us the the information

1838
01:45:54,770 --> 01:46:02,210
that we need to that gives us this

1839
01:46:00,020 --> 01:46:03,860
because now we have the center point now

1840
01:46:02,210 --> 01:46:08,140
if we want to know what the half width

1841
01:46:03,859 --> 01:46:11,420
is we just need to take the absolute

1842
01:46:08,140 --> 01:46:17,829
value of what the span would have been

1843
01:46:11,420 --> 01:46:23,239
and times those axes so I guess I I

1844
01:46:17,829 --> 01:46:25,539
still do want this and we still can do

1845
01:46:23,239 --> 01:46:25,539
it this way

1846
01:46:26,829 --> 01:46:30,859
same equation but just written slightly

1847
01:46:28,939 --> 01:46:32,799
differently right so we still do want

1848
01:46:30,859 --> 01:46:35,809
this because we do need to produce those

1849
01:46:32,800 --> 01:46:50,659
with the height values so the absolute

1850
01:46:35,810 --> 01:46:53,780
values those gives us the width and

1851
01:46:50,659 --> 01:46:56,510
height and we can store that half width

1852
01:46:53,779 --> 01:47:06,769
and that half height directly out of

1853
01:46:56,510 --> 01:47:09,170
that and I think that's a saner way to

1854
01:47:06,770 --> 01:47:09,680
do that and we just won't store this man

1855
01:47:09,170 --> 01:47:18,199
at all

1856
01:47:09,680 --> 01:47:20,480
I think I like that better

1857
01:47:18,199 --> 01:47:23,229
and so here yeah we can do the same

1858
01:47:20,479 --> 01:47:23,229
thing we were doing before

1859
01:47:30,929 --> 01:47:46,300
so we'll do basically the same

1860
01:47:33,158 --> 01:47:48,248
construction like so and what I need to

1861
01:47:46,300 --> 01:47:50,170
know now is I need to know I need to

1862
01:47:48,248 --> 01:47:53,889
make these X sub ratio and y sub ratio

1863
01:47:50,170 --> 01:47:57,609
things be more about going halfway in

1864
01:47:53,889 --> 01:48:00,190
either direction right so it's really

1865
01:47:57,609 --> 01:48:01,748
just it's pretty straightforward right

1866
01:48:00,189 --> 01:48:05,018
because of the way we happen to have

1867
01:48:01,748 --> 01:48:06,969
written it it's really just this it's

1868
01:48:05,019 --> 01:48:08,320
just you start at negative 0.5 so half

1869
01:48:06,969 --> 01:48:09,489
in the other direction and then we

1870
01:48:08,319 --> 01:48:10,840
switch to half in the other direction

1871
01:48:09,488 --> 01:48:12,098
when we go to the next because we just

1872
01:48:10,840 --> 01:48:14,078
happen to only be doing two at the

1873
01:48:12,099 --> 01:48:19,449
moment so it's pretty straightforward

1874
01:48:14,078 --> 01:48:20,859
right this becomes now incredibly simple

1875
01:48:19,448 --> 01:48:29,228
because it actually is the information

1876
01:48:20,859 --> 01:48:32,158
that we wanted and this can be used

1877
01:48:29,229 --> 01:48:32,159
basically directly

1878
01:48:37,840 --> 01:48:50,199
and off we go so yeah let me just I want

1879
01:48:43,840 --> 01:48:55,239
to see that debug view again all right

1880
01:48:50,199 --> 01:48:59,010
so this again looks roughly correct no

1881
01:48:55,239 --> 01:48:59,010
obvious errors here that I can see

1882
01:49:03,659 --> 01:49:16,090
actually don't really know what's going

1883
01:49:08,229 --> 01:49:19,029
on with some of these points there oh I

1884
01:49:16,090 --> 01:49:21,789
do they I know what's going on those are

1885
01:49:19,029 --> 01:49:23,889
just very tiny that's what's going on so

1886
01:49:21,789 --> 01:49:26,859
the size at which we're drawing the

1887
01:49:23,890 --> 01:49:29,619
lighting elements themselves is actually

1888
01:49:26,859 --> 01:49:31,839
bigger than the size of the cube the

1889
01:49:29,619 --> 01:49:36,630
lighting cube I think it's a that's what

1890
01:49:31,840 --> 01:49:36,630
I think is going on there all right so

1891
01:49:37,210 --> 01:49:40,279
[Music]

1892
01:49:41,010 --> 01:49:48,060
it looks like everything else is fine

1893
01:49:52,779 --> 01:50:04,929
I don't see any other issues all right

1894
01:50:02,679 --> 01:50:06,880
so I don't see any other issues with the

1895
01:50:04,929 --> 01:50:10,090
exact app there but again we're still in

1896
01:50:06,880 --> 01:50:12,279
that white home free because we're not

1897
01:50:10,090 --> 01:50:15,190
getting the lighting still doesn't look

1898
01:50:12,279 --> 01:50:19,420
correct can see it here if I run it at

1899
01:50:15,189 --> 01:50:23,379
full speed we're getting what appears to

1900
01:50:19,420 --> 01:50:30,699
be a reasonable lighting on some

1901
01:50:23,380 --> 01:50:32,770
surfaces but not others right so we're

1902
01:50:30,698 --> 01:50:37,899
definitely getting some weird like

1903
01:50:32,770 --> 01:50:40,659
assignment stuff happening possibly with

1904
01:50:37,899 --> 01:50:43,299
the light indices it's hard to say but

1905
01:50:40,658 --> 01:50:45,279
it's definitely wonky and it doesn't

1906
01:50:43,300 --> 01:50:54,038
look like it's properly reflected in

1907
01:50:45,279 --> 01:50:57,009
this view pun intended so we're almost

1908
01:50:54,038 --> 01:51:02,590
there but we've got a little bit more

1909
01:50:57,010 --> 01:51:06,099
work to do so if we want to yeah we have

1910
01:51:02,590 --> 01:51:08,020
to sort of figure out how to make how to

1911
01:51:06,099 --> 01:51:10,929
debug that correspondence a little bit

1912
01:51:08,020 --> 01:51:12,670
better maybe I should try to update that

1913
01:51:10,929 --> 01:51:14,828
view - show us the information we need

1914
01:51:12,670 --> 01:51:16,210
not sure exactly how we would do that at

1915
01:51:14,828 --> 01:51:18,158
the moment which is why I'm not doing it

1916
01:51:16,210 --> 01:51:23,288
if I had a good idea I would go do that

1917
01:51:18,158 --> 01:51:24,698
first the light index here you can see

1918
01:51:23,288 --> 01:51:28,420
exactly it's just getting read out of

1919
01:51:24,698 --> 01:51:30,868
the boxes as we would expect and we're

1920
01:51:28,420 --> 01:51:33,250
doing this subtraction here to determine

1921
01:51:30,868 --> 01:51:35,109
how many of them there are for any

1922
01:51:33,250 --> 01:51:38,109
particular surface and we're assuming

1923
01:51:35,109 --> 01:51:40,658
that they got pushed in that order now I

1924
01:51:38,109 --> 01:51:43,149
don't think I ever really verified that

1925
01:51:40,658 --> 01:51:46,509
fact so what I could do first just to

1926
01:51:43,149 --> 01:51:48,189
avoid any obvious stupidity is I could

1927
01:51:46,510 --> 01:51:50,320
go and make sure that when we do the

1928
01:51:48,189 --> 01:51:54,219
push we are pushing on the values we

1929
01:51:50,319 --> 01:52:01,118
think we're pushing on so if I step in

1930
01:51:54,219 --> 01:52:03,609
to push cube in here you know we go

1931
01:52:01,118 --> 01:52:06,098
through this index tour process we say

1932
01:52:03,609 --> 01:52:06,639
okay we're gonna I don't know wide light

1933
01:52:06,099 --> 01:52:12,489
count is

1934
01:52:06,640 --> 01:52:14,170
for specifically but whatever so in here

1935
01:52:12,489 --> 01:52:17,409
we set the light count to four because

1936
01:52:14,170 --> 01:52:22,480
it's for a per surface we advance the

1937
01:52:17,409 --> 01:52:24,550
light index so that we allocate that

1938
01:52:22,479 --> 01:52:28,239
many of them this again is sort of it to

1939
01:52:24,550 --> 01:52:29,529
do because we don't really properly do

1940
01:52:28,239 --> 01:52:30,699
the allocation stuff we're supposed to

1941
01:52:29,529 --> 01:52:33,639
do here but that's sort of a separate

1942
01:52:30,699 --> 01:52:36,699
issue then we have the light box that we

1943
01:52:33,640 --> 01:52:41,320
pull out and in there we put you know

1944
01:52:36,699 --> 01:52:45,960
the one the one five nine thirteen

1945
01:52:41,319 --> 01:52:45,960
seventeen twenty one twenty five right

1946
01:52:47,550 --> 01:53:05,739
and coming through here we do one to see

1947
01:53:03,520 --> 01:53:07,600
if we get up to here yeah twenty-five so

1948
01:53:05,739 --> 01:53:16,059
that's correct we then we set it back

1949
01:53:07,600 --> 01:53:20,800
down to one so those look like they're

1950
01:53:16,060 --> 01:53:24,160
getting pushed on oh but we have not

1951
01:53:20,800 --> 01:53:30,940
reorganized these to be in line yet so

1952
01:53:24,159 --> 01:53:37,470
that that makes forever since I forgot

1953
01:53:30,939 --> 01:53:40,089
one piece of the of the puzzle there

1954
01:53:37,470 --> 01:53:42,850
which is that in here as we're going

1955
01:53:40,090 --> 01:53:44,470
through obviously when we push these on

1956
01:53:42,850 --> 01:53:48,250
they have to be in the same order as our

1957
01:53:44,470 --> 01:53:56,250
new routine right so that's negative x

1958
01:53:48,250 --> 01:54:00,010
positive x yeah negative x positive x

1959
01:53:56,250 --> 01:54:01,960
negative Y positive Y and so on so let's

1960
01:54:00,010 --> 01:54:03,520
just go ahead and reorder these to be in

1961
01:54:01,960 --> 01:54:08,230
that order that's the first thing we

1962
01:54:03,520 --> 01:54:13,690
need to do so if we take a look at 0 1 2

1963
01:54:08,229 --> 01:54:15,969
3 here 0 1 2 3 is the positive z face so

1964
01:54:13,689 --> 01:54:18,329
the positive Z face is actually the last

1965
01:54:15,970 --> 01:54:18,329
face

1966
01:54:23,369 --> 01:54:39,640
miles will write these down seven six

1967
01:54:26,079 --> 01:54:57,819
five four is the negative Z face four

1968
01:54:39,640 --> 01:55:00,000
five one zero negative Y to six seven

1969
01:54:57,819 --> 01:55:00,000
three

1970
01:55:04,779 --> 01:55:34,359
positive why I like count like count

1971
01:55:30,859 --> 01:55:42,109
like yeah like yeah and now we've got

1972
01:55:34,359 --> 01:55:47,929
one five six two one five six - those

1973
01:55:42,109 --> 01:55:50,500
are all positive x so this must be

1974
01:55:47,930 --> 01:55:50,500
negative x

1975
01:55:58,448 --> 01:56:01,448
7403

1976
01:56:15,140 --> 01:56:21,770
ah and now we're closer we still have

1977
01:56:19,520 --> 01:56:23,960
some issues here like I'm not seeing

1978
01:56:21,770 --> 01:56:25,400
light show up on there but we're

1979
01:56:23,960 --> 01:56:29,390
definitely getting a little closer so

1980
01:56:25,399 --> 01:56:33,469
that's something also let me click look

1981
01:56:29,390 --> 01:56:36,640
here so I can move around and just see

1982
01:56:33,470 --> 01:56:36,640
how the light is playing off surfaces

1983
01:56:48,149 --> 01:57:02,249
so it looks like we still have a face

1984
01:56:50,399 --> 01:57:03,959
inversion there right like maybe those

1985
01:57:02,248 --> 01:57:10,319
faces don't seem to be getting any at

1986
01:57:03,958 --> 01:57:16,618
all like there's the light and yet there

1987
01:57:10,319 --> 01:57:20,998
is no light on those surfaces which I

1988
01:57:16,618 --> 01:57:31,918
don't understand because they're being

1989
01:57:20,998 --> 01:57:33,658
output apparently properly I don't know

1990
01:57:31,918 --> 01:57:37,529
why the positive line negative wire

1991
01:57:33,658 --> 01:57:41,038
reversed there must be a cut-and-paste

1992
01:57:37,529 --> 01:57:43,378
bug I doubt that is sufficient to cause

1993
01:57:41,038 --> 01:57:46,618
the problem but maybe if we're lucky

1994
01:57:43,378 --> 01:57:49,529
that's all this I don't think said oh it

1995
01:57:46,618 --> 01:57:52,679
looked worse than that but no maybe it

1996
01:57:49,529 --> 01:57:54,359
wasn't it looked worse than that so I'm

1997
01:57:52,679 --> 01:57:56,658
not quite sure we're out of the weeds

1998
01:57:54,359 --> 01:57:56,658
yet

1999
01:58:05,868 --> 01:58:12,808
all right so that's seeming pretty good

2000
01:58:10,139 --> 01:58:15,868
now again not quite willing to say its

2001
01:58:12,809 --> 01:58:21,269
100% but it's looking pretty darn good

2002
01:58:15,868 --> 01:58:23,969
and I think we should be at the point

2003
01:58:21,269 --> 01:58:26,159
where tomorrow we can start first thing

2004
01:58:23,969 --> 01:58:27,328
on actually making the lighting

2005
01:58:26,158 --> 01:58:29,698
algorithm just work with the cubes

2006
01:58:27,328 --> 01:58:31,529
directly which I think will also give us

2007
01:58:29,698 --> 01:58:32,819
a speed improvement not that we

2008
01:58:31,529 --> 01:58:34,708
necessarily at the point where we're

2009
01:58:32,819 --> 01:58:36,719
trying to optimize that level of it yet

2010
01:58:34,708 --> 01:58:38,309
but just the fact that it won't have to

2011
01:58:36,719 --> 01:58:45,059
deal with as many services should

2012
01:58:38,309 --> 01:58:48,229
provide some additional speed and hey

2013
01:58:45,059 --> 01:58:48,229
we're right in time

2014
01:58:57,779 --> 01:59:00,779
questions

2015
01:59:24,029 --> 01:59:27,170
[Music]

2016
02:00:02,429 --> 02:00:14,199
is there any way to put a breakpoint

2017
02:00:04,948 --> 02:00:17,799
outside Visual Studio can you be more

2018
02:00:14,198 --> 02:00:21,428
specific do you mean do you mean you

2019
02:00:17,800 --> 02:00:26,380
want to tell Visual Studio to set a

2020
02:00:21,429 --> 02:00:28,510
breakpoint from another program or do

2021
02:00:26,380 --> 02:00:34,840
you just mean you want to issue a debug

2022
02:00:28,510 --> 02:00:35,920
break like just I'm not sure exactly

2023
02:00:34,840 --> 02:00:38,020
what you mean can you be more specific

2024
02:00:35,920 --> 02:00:43,800
about exactly what you want to have

2025
02:00:38,020 --> 02:00:43,800
happen the answer will possibly vary

2026
02:02:11,970 --> 02:02:15,310
this by the way it's a nice profile

2027
02:02:14,079 --> 02:02:16,809
right here because we can base to see

2028
02:02:15,310 --> 02:02:18,310
all of our time spent and compute light

2029
02:02:16,810 --> 02:02:21,940
propagation which is exactly what we

2030
02:02:18,310 --> 02:02:26,160
want because that means that as we do

2031
02:02:21,939 --> 02:02:26,159
the speed ups we should be in good stuff

2032
02:02:32,329 --> 02:02:35,899
let me see what the other question what

2033
02:02:34,310 --> 02:02:37,310
do you think about the blockchain future

2034
02:02:35,899 --> 02:02:40,129
I have no idea of questions outside of

2035
02:02:37,310 --> 02:02:44,090
the game are allowed generally speaking

2036
02:02:40,130 --> 02:02:45,920
I just answered on topic questions the

2037
02:02:44,090 --> 02:02:47,060
pre stream is for off-topic questions I

2038
02:02:45,920 --> 02:02:51,289
have already answered the blockchain

2039
02:02:47,060 --> 02:02:52,940
thing basically I don't really

2040
02:02:51,289 --> 02:02:58,550
understand the point of it it doesn't

2041
02:02:52,939 --> 02:03:04,069
make a lot of sense to me my short

2042
02:02:58,550 --> 02:03:06,170
answer is currencies aren't hard the the

2043
02:03:04,069 --> 02:03:07,429
the central problem of currency was

2044
02:03:06,170 --> 02:03:09,859
never that we didn't have a mathematical

2045
02:03:07,429 --> 02:03:11,359
way to do it or something like I mean

2046
02:03:09,859 --> 02:03:12,759
yes that's an interesting thing for

2047
02:03:11,359 --> 02:03:15,979
people for humans to have figured out

2048
02:03:12,760 --> 02:03:17,690
but that's really not the hard part the

2049
02:03:15,979 --> 02:03:19,569
hard part about currency is enforcement

2050
02:03:17,689 --> 02:03:21,469
I mean that's the hard part and

2051
02:03:19,569 --> 02:03:21,979
enforcement means having an army in the

2052
02:03:21,469 --> 02:03:25,210
police force

2053
02:03:21,979 --> 02:03:28,189
that's what currency is currency is

2054
02:03:25,210 --> 02:03:29,779
because you know we could do whatever we

2055
02:03:28,189 --> 02:03:31,129
wanted for currency I could I could give

2056
02:03:29,779 --> 02:03:33,920
you a little pieces of paper that just

2057
02:03:31,130 --> 02:03:36,260
said something that you know the hard

2058
02:03:33,920 --> 02:03:40,069
part about is enforcement what do you do

2059
02:03:36,260 --> 02:03:42,500
when somebody doesn't honor of a valid

2060
02:03:40,069 --> 02:03:44,210
version of the currency and blockchain

2061
02:03:42,500 --> 02:03:50,389
is just about saying there's a way to

2062
02:03:44,210 --> 02:03:52,130
prove who owned something too weak or a

2063
02:03:50,389 --> 02:03:55,310
strong sense but that's not the hard

2064
02:03:52,130 --> 02:03:58,219
part who cares if you can prove it is

2065
02:03:55,310 --> 02:04:01,280
the other person gonna pay that's the

2066
02:03:58,219 --> 02:04:02,989
that's the important part and so all the

2067
02:04:01,279 --> 02:04:06,319
only reason blockchain can exist at all

2068
02:04:02,988 --> 02:04:08,809
is because it exists within a system

2069
02:04:06,319 --> 02:04:11,359
where governments have armies and police

2070
02:04:08,810 --> 02:04:14,330
forces that force you to honor contracts

2071
02:04:11,359 --> 02:04:17,809
and that's what a currency actually is

2072
02:04:14,329 --> 02:04:20,359
so there is no blockchain future it's

2073
02:04:17,810 --> 02:04:22,369
it's that's not a thing currencies

2074
02:04:20,359 --> 02:04:24,948
require armies without an army you have

2075
02:04:22,368 --> 02:04:27,469
no currency you can be a sub currency

2076
02:04:24,948 --> 02:04:29,509
inside of someone else's currency regime

2077
02:04:27,469 --> 02:04:34,429
who does have an army in a police force

2078
02:04:29,510 --> 02:04:37,460
but that's all you'll ever be to me this

2079
02:04:34,429 --> 02:04:39,349
is like a very obvious to anyone who's

2080
02:04:37,460 --> 02:04:41,480
ever read any history so I don't know

2081
02:04:39,349 --> 02:04:44,210
why people even think there's anything

2082
02:04:41,479 --> 02:04:45,169
interesting about blockchains in terms

2083
02:04:44,210 --> 02:04:47,029
of a

2084
02:04:45,170 --> 02:04:53,390
future way that currency would work

2085
02:04:47,029 --> 02:04:56,109
because there isn't but somehow this

2086
02:04:53,390 --> 02:04:58,310
escapes people's understanding and I

2087
02:04:56,109 --> 02:04:59,750
maybe I'm missing some really obvious

2088
02:04:58,310 --> 02:05:04,810
way in which these things can be

2089
02:04:59,750 --> 02:05:08,779
enforced but math doesn't enforce itself

2090
02:05:04,810 --> 02:05:11,080
you know I mean you know someone can say

2091
02:05:08,779 --> 02:05:13,069
that two plus two equals five and

2092
02:05:11,079 --> 02:05:16,159
there's nothing you can do about it

2093
02:05:13,069 --> 02:05:17,599
right the math itself it's not like the

2094
02:05:16,159 --> 02:05:22,340
laws of physics where you can't break

2095
02:05:17,600 --> 02:05:23,570
them right i if that's not the kind of

2096
02:05:22,340 --> 02:05:25,429
math we're dealing with here we're just

2097
02:05:23,569 --> 02:05:28,369
dealing with abstract math and yes you

2098
02:05:25,429 --> 02:05:31,520
could all say well now we have a way to

2099
02:05:28,369 --> 02:05:33,529
verify I can verify that you actually

2100
02:05:31,520 --> 02:05:35,510
did this thing you said you did but

2101
02:05:33,529 --> 02:05:38,659
that's not the hard part of currency

2102
02:05:35,510 --> 02:05:41,719
that is a very irrelevant part of

2103
02:05:38,659 --> 02:05:43,670
currency the only time you would ever

2104
02:05:41,719 --> 02:05:47,448
care about that feature of currency is

2105
02:05:43,670 --> 02:05:49,819
in the case where you already had a

2106
02:05:47,448 --> 02:05:53,599
functional enforced currency system and

2107
02:05:49,819 --> 02:05:55,219
you need to create a sub currency but

2108
02:05:53,600 --> 02:05:58,460
who cares why don't just use the actual

2109
02:05:55,219 --> 02:06:00,948
currency because you're still gonna have

2110
02:05:58,460 --> 02:06:02,929
to obey all the laws that that sovereign

2111
02:06:00,948 --> 02:06:04,729
who gives you these the original

2112
02:06:02,929 --> 02:06:07,909
currency you're gonna have to obey all

2113
02:06:04,729 --> 02:06:09,559
their laws because all they have the

2114
02:06:07,909 --> 02:06:11,300
army they can just tell you tomorrow you

2115
02:06:09,560 --> 02:06:13,699
can't you can't do anything with that

2116
02:06:11,300 --> 02:06:20,869
sub currency and you can't game over

2117
02:06:13,698 --> 02:06:22,609
right so you know sorry to rant about it

2118
02:06:20,869 --> 02:06:24,109
but I just I don't get it I do not

2119
02:06:22,609 --> 02:06:25,939
understand what people are thinking it

2120
02:06:24,109 --> 02:06:31,189
seems like a tulip bulb craze nonsense

2121
02:06:25,939 --> 02:06:32,689
thing to me but shouldn't we go back to

2122
02:06:31,189 --> 02:06:34,879
do more stuff in December like on the

2123
02:06:32,689 --> 02:06:36,319
Amiga yes if we could just have the

2124
02:06:34,880 --> 02:06:39,560
Amiga back again and that was what we

2125
02:06:36,319 --> 02:06:41,269
made games on that would be awesome how

2126
02:06:39,560 --> 02:06:42,739
do you jump to function during debugging

2127
02:06:41,270 --> 02:06:45,980
usually there's a lot of functions and

2128
02:06:42,738 --> 02:06:49,849
not easy to find them uh I don't have a

2129
02:06:45,979 --> 02:06:52,549
good way of doing it I mean you've seen

2130
02:06:49,850 --> 02:06:54,560
how I do it I wish the debugger were

2131
02:06:52,550 --> 02:06:56,960
built into for coder because there are

2132
02:06:54,560 --> 02:06:58,520
ways to do it in here like you can do

2133
02:06:56,960 --> 02:06:59,060
like push quad and lists all the

2134
02:06:58,520 --> 02:07:01,820
location

2135
02:06:59,060 --> 02:07:06,620
of that that it's called and also where

2136
02:07:01,819 --> 02:07:08,090
it's defined so but that doesn't work in

2137
02:07:06,619 --> 02:07:10,189
Visual Studio like you have to have like

2138
02:07:08,090 --> 02:07:11,300
browse info turned on or something to do

2139
02:07:10,189 --> 02:07:12,500
that and you can't do that without a

2140
02:07:11,300 --> 02:07:14,180
project and I'm we don't have a project

2141
02:07:12,500 --> 02:07:16,039
frame here because it's not built using

2142
02:07:14,180 --> 02:07:19,610
their build system and blah blah blah

2143
02:07:16,039 --> 02:07:20,689
right so I don't know how you do it the

2144
02:07:19,609 --> 02:07:22,189
bugger but I'm just hoping that someday

2145
02:07:20,689 --> 02:07:24,139
we'll have it a better built into for

2146
02:07:22,189 --> 02:07:26,119
coder and I can get rid of that vigil

2147
02:07:24,140 --> 02:07:29,770
studio nonsense anyway but I don't have

2148
02:07:26,119 --> 02:07:29,769
a good answer for you

2149
02:07:37,099 --> 02:07:41,900
Johan tweeted once about how X forward

2150
02:07:39,828 --> 02:07:45,198
right-handed coordinate systems should

2151
02:07:41,899 --> 02:07:52,279
be standard do no details on why is that

2152
02:07:45,198 --> 02:07:54,589
important I died so I don't know why

2153
02:07:52,279 --> 02:07:57,408
that's important but I and I don't know

2154
02:07:54,590 --> 02:07:59,150
why John said that but I can hypothesize

2155
02:07:57,408 --> 02:08:00,920
some reasons why he might have said that

2156
02:07:59,149 --> 02:08:03,198
but he is a better person to ask and he

2157
02:08:00,920 --> 02:08:08,179
does stream programming fairly often so

2158
02:08:03,198 --> 02:08:11,509
hopefully you could ask him the choice

2159
02:08:08,179 --> 02:08:17,060
of of coordinate systems this is 100%

2160
02:08:11,510 --> 02:08:21,770
arbitrary I if if nothing else I I'm

2161
02:08:17,060 --> 02:08:22,849
signed taught us that maybe the choice

2162
02:08:21,770 --> 02:08:24,560
of coordinate system is completely

2163
02:08:22,849 --> 02:08:26,119
arbitrary frames of reference or

2164
02:08:24,560 --> 02:08:27,530
arbitrary so there's nothing special

2165
02:08:26,118 --> 02:08:28,880
about a right-handed coordinate system

2166
02:08:27,529 --> 02:08:30,590
and there's certainly nothing special

2167
02:08:28,880 --> 02:08:32,118
about an X forward coordinate system so

2168
02:08:30,590 --> 02:08:34,400
it's important to understand that first

2169
02:08:32,118 --> 02:08:36,078
and foremost and I would suspect John

2170
02:08:34,399 --> 02:08:38,750
would tell you exactly the same thing I

2171
02:08:36,078 --> 02:08:40,130
can't speak for him but if I had to

2172
02:08:38,750 --> 02:08:41,719
guess I would say what's exactly what I

2173
02:08:40,130 --> 02:08:45,980
just said the choice of courting system

2174
02:08:41,719 --> 02:08:49,158
is 100% arbitrary that said he is an

2175
02:08:45,979 --> 02:08:51,439
unnecessary complexity to pick them

2176
02:08:49,158 --> 02:08:54,408
arbitrarily when we all talk to each

2177
02:08:51,439 --> 02:08:55,969
other about routines and rewrite shared

2178
02:08:54,408 --> 02:08:58,819
libraries that each other want to use

2179
02:08:55,969 --> 02:09:01,609
and we read matrices in print that we

2180
02:08:58,819 --> 02:09:03,380
need to understand having an arbitrary

2181
02:09:01,609 --> 02:09:04,460
sense of here's a left-handed quarter

2182
02:09:03,380 --> 02:09:05,690
system oh this one's a right and

2183
02:09:04,460 --> 02:09:07,250
coordinate system oh this one has D

2184
02:09:05,689 --> 02:09:09,279
facing up oh this one has D facing

2185
02:09:07,250 --> 02:09:13,099
forward so this one sec facing right

2186
02:09:09,279 --> 02:09:16,099
having all of those complexities just

2187
02:09:13,099 --> 02:09:17,779
wastes programmers time because they are

2188
02:09:16,099 --> 02:09:20,179
constantly suffering from mental

2189
02:09:17,779 --> 02:09:24,050
overhead of remembering they have to

2190
02:09:20,179 --> 02:09:25,578
translate these things right so it's

2191
02:09:24,050 --> 02:09:27,889
kind of like saying your choice of

2192
02:09:25,578 --> 02:09:32,389
languages arbitrary is Chinese a better

2193
02:09:27,889 --> 02:09:35,659
language then you know I don't know

2194
02:09:32,389 --> 02:09:38,359
Indian an Indian language is better than

2195
02:09:35,658 --> 02:09:43,509
a European language French let's say or

2196
02:09:38,359 --> 02:09:46,130
something like this who knows right and

2197
02:09:43,510 --> 02:09:48,170
the choice of language there may be

2198
02:09:46,130 --> 02:09:50,328
slight pluses or minuses to some

2199
02:09:48,170 --> 02:09:51,199
language maybe you know this writing

2200
02:09:50,328 --> 02:09:53,029
system is harder

2201
02:09:51,199 --> 02:09:56,779
this one has more ways of expressing

2202
02:09:53,029 --> 02:09:58,250
tenths or whatever but largely we know

2203
02:09:56,779 --> 02:10:01,429
that humans can communicate many of them

2204
02:09:58,250 --> 02:10:03,439
so you might say well let's just write

2205
02:10:01,430 --> 02:10:04,909
books in all the languages and everyone

2206
02:10:03,439 --> 02:10:06,500
just learns to read all the languages

2207
02:10:04,909 --> 02:10:08,510
right but we know that that's ludicrous

2208
02:10:06,500 --> 02:10:10,699
because it's so much more mental

2209
02:10:08,510 --> 02:10:12,400
overhead to do that it would obviously

2210
02:10:10,699 --> 02:10:15,050
be way better if we could just

2211
02:10:12,399 --> 02:10:16,879
standardize on one language and then

2212
02:10:15,050 --> 02:10:18,260
everyone could just learn one language

2213
02:10:16,880 --> 02:10:19,940
and they wouldn't have to have all this

2214
02:10:18,260 --> 02:10:21,409
mental overhead and there wouldn't be

2215
02:10:19,939 --> 02:10:23,960
things that were difficult for them to

2216
02:10:21,409 --> 02:10:27,649
access right so that's kind of the like

2217
02:10:23,960 --> 02:10:29,569
extreme example but scale that back to

2218
02:10:27,649 --> 02:10:31,819
the coordinate systems it's it's just

2219
02:10:29,569 --> 02:10:33,739
like a language you start to learn all

2220
02:10:31,819 --> 02:10:36,259
of the ways to interpret what you're

2221
02:10:33,739 --> 02:10:38,179
reading quickly when you know that it's

2222
02:10:36,260 --> 02:10:39,530
always one coordinate system you're just

2223
02:10:38,180 --> 02:10:40,880
like oh yeah I know the right hand rule

2224
02:10:39,529 --> 02:10:42,289
always applies so when I see these two

2225
02:10:40,880 --> 02:10:46,940
things I just my brain just does this

2226
02:10:42,289 --> 02:10:48,680
right I don't have to stop and think and

2227
02:10:46,939 --> 02:10:50,449
so I suspect that was what John was

2228
02:10:48,680 --> 02:10:52,430
talking about but don't really know so

2229
02:10:50,449 --> 02:10:53,779
from my perspective yet if we did

2230
02:10:52,430 --> 02:10:55,730
standardize on a coordinate system that

2231
02:10:53,779 --> 02:10:56,840
might be a nice thing and the reason

2232
02:10:55,729 --> 02:10:58,789
that that might be a nice thing even

2233
02:10:56,840 --> 02:11:01,970
though the choices arbitrary is because

2234
02:10:58,789 --> 02:11:06,829
much like language it would be nice if

2235
02:11:01,970 --> 02:11:08,690
we could just eliminate that work you

2236
02:11:06,829 --> 02:11:11,659
know eliminate that work that people

2237
02:11:08,689 --> 02:11:14,299
have to do of learning and relearning

2238
02:11:11,659 --> 02:11:17,149
and translation in their head in order

2239
02:11:14,300 --> 02:11:20,449
to work with things written in these

2240
02:11:17,149 --> 02:11:21,920
different systems and obviously for

2241
02:11:20,449 --> 02:11:23,449
language it's a much worse problem than

2242
02:11:21,920 --> 02:11:25,970
for coordinate systems right languages

2243
02:11:23,449 --> 02:11:27,109
is an infinitely harder situation than

2244
02:11:25,970 --> 02:11:30,170
coordinate systems but it's the same

2245
02:11:27,109 --> 02:11:32,119
basic principle if you allow people to

2246
02:11:30,170 --> 02:11:34,609
start making assumptions about what is

2247
02:11:32,119 --> 02:11:36,500
true they can be quicker about how they

2248
02:11:34,609 --> 02:11:38,389
do things whereas if they constantly

2249
02:11:36,500 --> 02:11:39,560
have to recheck those assumptions and

2250
02:11:38,390 --> 02:11:41,090
always be like wait a minute

2251
02:11:39,560 --> 02:11:42,890
oh wait which access system we're using

2252
02:11:41,090 --> 02:11:44,569
oh right okay that's just a mental

2253
02:11:42,890 --> 02:11:48,380
overhead and a source of potential

2254
02:11:44,569 --> 02:11:52,519
mistakes I mean another example would be

2255
02:11:48,380 --> 02:11:54,230
metric system versus standard right in

2256
02:11:52,520 --> 02:11:56,030
that case unlike coordinate systems

2257
02:11:54,229 --> 02:11:57,259
there's there's some real obvious ways

2258
02:11:56,029 --> 02:11:59,090
where the metric system might be a

2259
02:11:57,260 --> 02:12:01,340
better choice right there are some ways

2260
02:11:59,090 --> 02:12:02,569
the English system it has some nice

2261
02:12:01,340 --> 02:12:04,730
things too but actually believe it or

2262
02:12:02,569 --> 02:12:05,960
not but either way

2263
02:12:04,729 --> 02:12:07,459
you know the metric system might be a

2264
02:12:05,960 --> 02:12:09,079
much clearer choice for what you would

2265
02:12:07,460 --> 02:12:11,869
want for your measurement system right

2266
02:12:09,079 --> 02:12:14,510
but there's still somewhat arbitrary you

2267
02:12:11,869 --> 02:12:16,670
can do everything you want to do in both

2268
02:12:14,510 --> 02:12:18,530
systems right the metric system has some

2269
02:12:16,670 --> 02:12:19,789
advantages so there's a good reason to

2270
02:12:18,529 --> 02:12:20,750
pick one over the other potentially

2271
02:12:19,789 --> 02:12:23,180
which is not necessary tree of

2272
02:12:20,750 --> 02:12:27,800
coordinate systems but still similar

2273
02:12:23,180 --> 02:12:31,310
problem the cost of having multiple of

2274
02:12:27,800 --> 02:12:33,560
them is very high so high that I think

2275
02:12:31,310 --> 02:12:35,780
we even had a case where a probe crashed

2276
02:12:33,560 --> 02:12:38,030
into a planet in outer space because

2277
02:12:35,779 --> 02:12:41,619
someone was using kilometers and someone

2278
02:12:38,029 --> 02:12:41,619
was using miles or something like this

2279
02:12:42,488 --> 02:12:47,109
you see if I can pull that up for you

2280
02:12:53,930 --> 02:12:58,070
metric mishap caused loss of nasa orbit

2281
02:12:56,479 --> 02:12:59,539
earth the engine fire but spacecraft

2282
02:12:58,069 --> 02:13:01,429
came within 60 kilometers or so miles

2283
02:12:59,539 --> 02:13:06,949
the planet about 100 kilometers close to

2284
02:13:01,430 --> 02:13:12,190
the planet and it looks like a math

2285
02:13:06,949 --> 02:13:12,189
mistake right here's the wiki Wikipedia

2286
02:13:15,100 --> 02:13:18,920
one piece of ground soars flighted by

2287
02:13:17,149 --> 02:13:20,929
Lucky Brand produced results in United

2288
02:13:18,920 --> 02:13:22,699
States customary unit contrary to its

2289
02:13:20,930 --> 02:13:24,079
software interface specification while

2290
02:13:22,699 --> 02:13:25,550
second systems lawyer nasa expected

2291
02:13:24,079 --> 02:13:26,659
those drills to be in SI units in

2292
02:13:25,550 --> 02:13:28,730
accordance with the SIS

2293
02:13:26,659 --> 02:13:30,109
just specifically suffer that calculate

2294
02:13:28,729 --> 02:13:32,269
the total impulse produced by thrust to

2295
02:13:30,109 --> 02:13:33,409
first reduce tilts in pounds seconds the

2296
02:13:32,270 --> 02:13:35,239
director calculus offered then you see

2297
02:13:33,409 --> 02:13:36,680
results tried to be in Newtons seconds

2298
02:13:35,238 --> 02:13:41,539
to update to predicted position of

2299
02:13:36,680 --> 02:13:43,640
spacecraft right so this is basically

2300
02:13:41,539 --> 02:13:45,829
the same thing right a probe crashed

2301
02:13:43,640 --> 02:13:49,520
into a planet not because anyone had a

2302
02:13:45,829 --> 02:13:51,500
bug in the actual computation but just

2303
02:13:49,520 --> 02:13:53,660
because one person assumed they were in

2304
02:13:51,500 --> 02:13:56,238
one coordinate system and one person

2305
02:13:53,659 --> 02:14:00,170
thought they were in another right and

2306
02:13:56,238 --> 02:14:03,349
and these are like really highly checked

2307
02:14:00,170 --> 02:14:05,779
pieces of software so you know in games

2308
02:14:03,350 --> 02:14:07,190
we are way less rigorous about what

2309
02:14:05,779 --> 02:14:09,319
we're doing because it's you know

2310
02:14:07,189 --> 02:14:12,139
nothing crashes into a planet when we

2311
02:14:09,319 --> 02:14:14,559
make a mistake and so you can understand

2312
02:14:12,140 --> 02:14:17,390
why reducing these sources of possible

2313
02:14:14,560 --> 02:14:18,620
unnecessary error are very important

2314
02:14:17,390 --> 02:14:20,360
everywhere

2315
02:14:18,619 --> 02:14:22,399
they're important even in highly

2316
02:14:20,359 --> 02:14:25,519
scrutinized software it still makes it

2317
02:14:22,399 --> 02:14:28,969
through and causes severe even in this

2318
02:14:25,520 --> 02:14:30,590
case catastrophic errors right where the

2319
02:14:28,970 --> 02:14:32,690
entire mission didn't go the way it was

2320
02:14:30,590 --> 02:14:34,610
supposed to because somebody didn't use

2321
02:14:32,689 --> 02:14:38,599
the metric system or somebody didn't use

2322
02:14:34,609 --> 02:14:40,609
the English system right so I suspect

2323
02:14:38,600 --> 02:14:42,289
that's all John's talking about but I

2324
02:14:40,609 --> 02:14:44,569
don't know I would say the same thing

2325
02:14:42,289 --> 02:14:46,310
about Indian Asst there should be no

2326
02:14:44,569 --> 02:14:47,599
more big endian processors for the end

2327
02:14:46,310 --> 02:14:50,510
period

2328
02:14:47,600 --> 02:14:52,940
I think anyone who dips a big-endian

2329
02:14:50,510 --> 02:14:55,699
processor from now on it should just be

2330
02:14:52,939 --> 02:14:59,869
immediately forced out of the market and

2331
02:14:55,699 --> 02:15:02,179
the reason is because again there's

2332
02:14:59,869 --> 02:15:04,039
nothing particularly difficult about

2333
02:15:02,180 --> 02:15:06,860
building software that works across

2334
02:15:04,039 --> 02:15:09,470
multiple Indian architectures it it is

2335
02:15:06,859 --> 02:15:12,679
not to use a pun for the priest example

2336
02:15:09,470 --> 02:15:16,909
rocket science that said it is

2337
02:15:12,680 --> 02:15:19,760
unnecessary work there is no reason to

2338
02:15:16,909 --> 02:15:23,239
choose big-endian or little-endian it's

2339
02:15:19,760 --> 02:15:24,949
arbitrary to a large extent so the fact

2340
02:15:23,239 --> 02:15:27,889
that we now have mostly processors that

2341
02:15:24,949 --> 02:15:29,840
are little endian means let's just lock

2342
02:15:27,890 --> 02:15:32,210
it down it's little-endian from now on

2343
02:15:29,840 --> 02:15:33,170
hardware people no more big endian you

2344
02:15:32,210 --> 02:15:38,930
don't get to do it

2345
02:15:33,170 --> 02:15:40,670
it's over right and so I think that

2346
02:15:38,930 --> 02:15:43,460
would be a crucial thing to just force

2347
02:15:40,670 --> 02:15:45,289
the industry to do big endian is done we

2348
02:15:43,460 --> 02:15:46,550
will not program for it anymore if you

2349
02:15:45,289 --> 02:15:49,279
ship a beginning and chip

2350
02:15:46,550 --> 02:15:51,800
no one will code for it we like roundly

2351
02:15:49,279 --> 02:15:53,389
reject this like a programmers Union or

2352
02:15:51,800 --> 02:15:57,199
something that goes to the bargaining

2353
02:15:53,390 --> 02:15:59,930
table it's like we will we will pick it

2354
02:15:57,199 --> 02:16:02,539
your factory if you ship a big endian

2355
02:15:59,930 --> 02:16:04,340
ship because it just it's hardware

2356
02:16:02,539 --> 02:16:07,010
companies creating work for software

2357
02:16:04,340 --> 02:16:09,500
companies period that is all it is

2358
02:16:07,010 --> 02:16:11,449
because we're done we don't need we've

2359
02:16:09,500 --> 02:16:13,789
proven that little-endian can be the

2360
02:16:11,449 --> 02:16:14,630
only platform that we need we're doing

2361
02:16:13,789 --> 02:16:18,699
it right now

2362
02:16:14,630 --> 02:16:18,699
why muck it up right

2363
02:16:24,829 --> 02:16:28,439
Ilyn are for UK what kind of memory

2364
02:16:27,270 --> 02:16:30,060
allocations do you use

2365
02:16:28,439 --> 02:16:33,079
are there any custom stack allocations

2366
02:16:30,060 --> 02:16:37,739
pools etc or are using standard math new

2367
02:16:33,079 --> 02:16:42,149
we are using 100% custom we don't use

2368
02:16:37,739 --> 02:16:46,829
any standard malloc or new and we use

2369
02:16:42,149 --> 02:16:49,319
stacks we don't really use pools

2370
02:16:46,829 --> 02:16:51,629
explicitly per se but we do sometimes

2371
02:16:49,319 --> 02:16:53,399
allocate from stacks and fixed chunks

2372
02:16:51,629 --> 02:16:55,979
which can then go back on a free list

2373
02:16:53,399 --> 02:16:58,739
which effectively creates a pool so we

2374
02:16:55,979 --> 02:17:00,959
have a in a very limited sense some pool

2375
02:16:58,739 --> 02:17:06,718
in in like one or two places some

2376
02:17:00,959 --> 02:17:07,949
pooling did you manually build all the

2377
02:17:06,718 --> 02:17:09,718
menus on the screen or got it from

2378
02:17:07,950 --> 02:17:13,740
somewhere manually well everything we

2379
02:17:09,718 --> 02:17:16,769
did is built by us there's no code that

2380
02:17:13,739 --> 02:17:18,059
wasn't built by us the only we're still

2381
02:17:16,770 --> 02:17:20,310
calling the C runtime libraries like

2382
02:17:18,059 --> 02:17:22,549
sine and cosine functions because we

2383
02:17:20,309 --> 02:17:26,250
haven't put in our own sine and cosine

2384
02:17:22,549 --> 02:17:28,019
sim D sine and cosine yet but that's

2385
02:17:26,250 --> 02:17:33,360
about the only thing that wasn't 100%

2386
02:17:28,020 --> 02:17:35,099
written on stream so far compute light

2387
02:17:33,360 --> 02:17:37,710
propagation 92% seems too high at the

2388
02:17:35,099 --> 02:17:41,030
moment does it I mean it's the only

2389
02:17:37,709 --> 02:17:41,029
thing really doing a lot of work

2390
02:17:45,690 --> 02:17:48,850
well there were nine one one nine hi

2391
02:17:47,829 --> 02:17:49,870
Casey would you be able to recommend

2392
02:17:48,850 --> 02:17:55,630
good resources to learn and practice

2393
02:17:49,870 --> 02:17:59,079
deficient programming habits no I I

2394
02:17:55,629 --> 02:18:01,979
don't know much other than what the

2395
02:17:59,079 --> 02:18:01,979
sorts of things we talked about

2396
02:18:22,200 --> 02:18:25,380
in generic and metaprogramming do

2397
02:18:24,299 --> 02:18:26,159
everything and solve all the world's

2398
02:18:25,379 --> 02:18:34,109
problems

2399
02:18:26,159 --> 02:18:36,478
yes obvious obviously alright I think

2400
02:18:34,110 --> 02:18:38,540
we're actually over time anyway so I'm

2401
02:18:36,478 --> 02:18:41,399
gonna go ahead and shut this stream down

2402
02:18:38,540 --> 02:18:42,570
let's go ahead and close this up we

2403
02:18:41,399 --> 02:18:44,670
accomplished exactly what I want you

2404
02:18:42,569 --> 02:18:48,929
today that's always good when you don't

2405
02:18:44,670 --> 02:18:51,780
get hung up on any sort of problematic

2406
02:18:48,929 --> 02:18:52,739
sort of piece of code thank you everyone

2407
02:18:51,780 --> 02:18:53,729
for joining you further up sort of

2408
02:18:52,739 --> 02:18:56,789
handmade hero it's been a pleasure

2409
02:18:53,728 --> 02:18:57,808
coding with you as always if you would

2410
02:18:56,790 --> 02:18:59,309
like to follow along at home you can

2411
02:18:57,808 --> 02:19:00,659
always pre-order the game on hand made

2412
02:18:59,308 --> 02:19:02,039
here at Oregon comes a little source

2413
02:19:00,659 --> 02:19:03,950
code so you can play around with it

2414
02:19:02,040 --> 02:19:08,519
yourself

2415
02:19:03,950 --> 02:19:10,620
tomorrow we will be doing the sort of

2416
02:19:08,519 --> 02:19:12,149
movement of the lighting from working

2417
02:19:10,620 --> 02:19:13,679
with services to working with cubes

2418
02:19:12,149 --> 02:19:14,968
directly so that should be interesting

2419
02:19:13,679 --> 02:19:16,700
if you want to try that you've got the

2420
02:19:14,968 --> 02:19:19,259
rest of the day today to do it shouldn't

2421
02:19:16,700 --> 02:19:21,599
be too hard of a thing to try although

2422
02:19:19,260 --> 02:19:22,710
you know it we'll see we'll see how long

2423
02:19:21,599 --> 02:19:24,030
it takes me to do it tomorrow it might

2424
02:19:22,709 --> 02:19:25,228
take more than one episode to do but

2425
02:19:24,030 --> 02:19:26,340
point being if you want to play around

2426
02:19:25,228 --> 02:19:28,319
the source code that would be a good

2427
02:19:26,340 --> 02:19:30,540
thing to try change the lighting to be

2428
02:19:28,319 --> 02:19:32,308
working on cubes directly it's a little

2429
02:19:30,540 --> 02:19:36,479
bit challenging so that might be a fun

2430
02:19:32,308 --> 02:19:38,039
thing for you to try anyway we also have

2431
02:19:36,478 --> 02:19:41,670
obviously an episode guide if you want

2432
02:19:38,040 --> 02:19:42,960
to check out the past episode of the

2433
02:19:41,670 --> 02:19:44,909
series it's a really nice annotated

2434
02:19:42,959 --> 02:19:47,549
episode I've done by Midler from the

2435
02:19:44,909 --> 02:19:49,049
chat it's it's fantastic I highly

2436
02:19:47,549 --> 02:19:50,639
recommend it

2437
02:19:49,049 --> 02:19:51,750
and if you want to contribute to

2438
02:19:50,639 --> 02:19:53,519
projects like that that people in the

2439
02:19:51,750 --> 02:19:54,930
community do we do have a community fund

2440
02:19:53,520 --> 02:19:57,630
here on the contribute button that

2441
02:19:54,930 --> 02:19:59,010
actually lets you contribute sort of a

2442
02:19:57,629 --> 02:20:00,659
recurring donation that just goes to

2443
02:19:59,010 --> 02:20:02,130
people who do stuff like that so it goes

2444
02:20:00,659 --> 02:20:03,600
to the the folks at ham braid network

2445
02:20:02,129 --> 02:20:06,500
who hopes the episode guide it goes to

2446
02:20:03,600 --> 02:20:09,960
midlow for making the episode guide and

2447
02:20:06,500 --> 02:20:12,209
we are constantly looking for donations

2448
02:20:09,959 --> 02:20:15,299
to support other projects that are hand

2449
02:20:12,209 --> 02:20:17,188
made here are related so yeah give that

2450
02:20:15,299 --> 02:20:20,728
a give that a look at well that's that's

2451
02:20:17,189 --> 02:20:22,020
it we'll see you back here tomorrow for

2452
02:20:20,728 --> 02:20:23,760
some more lighting programming until

2453
02:20:22,020 --> 02:20:25,530
then have fun programming on your own

2454
02:20:23,760 --> 02:20:28,100
and I'll see you all on the Internet

2455
02:20:25,530 --> 02:20:28,100
take these everybody

