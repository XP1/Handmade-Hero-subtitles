1
00:00:00,000 --> 00:00:04,589
like so and then we can get started

2
00:00:02,970 --> 00:00:06,450
hello everyone and welcome to handmade

3
00:00:04,589 --> 00:00:10,410
Hiro the show Rico to complete game live

4
00:00:06,450 --> 00:00:13,679
on Twitch no engine no libraries and and

5
00:00:10,410 --> 00:00:15,000
basically like you know I have to say

6
00:00:13,679 --> 00:00:16,800
I've been having a lot of fun with it I

7
00:00:15,000 --> 00:00:17,850
really have I'm looking forward to some

8
00:00:16,800 --> 00:00:19,439
of the stuff that's coming up now we're

9
00:00:17,850 --> 00:00:21,600
kind of trying to wind things down

10
00:00:19,439 --> 00:00:22,859
because we're gonna take a week off next

11
00:00:21,600 --> 00:00:23,789
week people have been asking for some

12
00:00:22,859 --> 00:00:25,019
time to catch up and I'm gonna be

13
00:00:23,789 --> 00:00:26,910
traveling next week so I thought that

14
00:00:25,018 --> 00:00:28,589
would be a good time to do it

15
00:00:26,910 --> 00:00:30,480
it would kind of prevent what I'm sure

16
00:00:28,589 --> 00:00:32,460
will be a lot of frustrations if we were

17
00:00:30,480 --> 00:00:34,950
trying to stream next week and were

18
00:00:32,460 --> 00:00:36,750
we're constantly having tons of dropped

19
00:00:34,950 --> 00:00:38,040
frames and other sorts of nasty ices

20
00:00:36,750 --> 00:00:40,619
that will happen from various inter

21
00:00:38,039 --> 00:00:44,820
internet connections elsewhere in the

22
00:00:40,619 --> 00:00:46,378
world but anyway I like I said I've been

23
00:00:44,820 --> 00:00:47,820
pretty excited with how it's been going

24
00:00:46,378 --> 00:00:49,229
in I'm pretty happy with the progress

25
00:00:47,820 --> 00:00:51,420
we've been making so let's go ahead and

26
00:00:49,229 --> 00:00:53,729
get back into it right now we're working

27
00:00:51,420 --> 00:00:54,840
on deciding how we want to handle Z so

28
00:00:53,729 --> 00:00:58,409
we're just gonna play around that today

29
00:00:54,840 --> 00:00:59,850
and see what happens if you have

30
00:00:58,409 --> 00:01:01,468
pre-ordered the game on handmade hero

31
00:00:59,850 --> 00:01:03,618
org you should have gotten a link in

32
00:01:01,469 --> 00:01:05,728
your email and that link in that email

33
00:01:03,618 --> 00:01:06,989
is something that you can open up to

34
00:01:05,728 --> 00:01:08,099
download the source code anytime you

35
00:01:06,989 --> 00:01:09,449
want and if you download that source

36
00:01:08,099 --> 00:01:11,728
code you get the zip file that zip file

37
00:01:09,450 --> 00:01:14,640
has little tiny baby zip files all in it

38
00:01:11,728 --> 00:01:16,950
one for each day today is day 73

39
00:01:14,640 --> 00:01:18,689
unzipped day 72 source code and you will

40
00:01:16,950 --> 00:01:21,090
be exactly where I am right now and you

41
00:01:18,688 --> 00:01:23,519
could follow along with me at home it's

42
00:01:21,090 --> 00:01:25,320
kind of like does anyone ever watch Bill

43
00:01:23,519 --> 00:01:27,868
Cosby's picture pages when they were a

44
00:01:25,319 --> 00:01:30,328
kid this is before lawsuits and things

45
00:01:27,868 --> 00:01:31,950
when Bill Cosby was just a person who

46
00:01:30,328 --> 00:01:33,839
had a kid show and you know you would

47
00:01:31,950 --> 00:01:35,040
color along with Bill Cosby or something

48
00:01:33,840 --> 00:01:36,719
like this I don't know I don't think I

49
00:01:35,040 --> 00:01:38,609
ever had the picture pages but he would

50
00:01:36,719 --> 00:01:40,679
come on he'd be like picture pages

51
00:01:38,609 --> 00:01:42,629
picture pages you know something along

52
00:01:40,680 --> 00:01:44,250
with picture pages come and watch Bill

53
00:01:42,629 --> 00:01:47,099
Cosby do with picture page with you it's

54
00:01:44,250 --> 00:01:49,560
like that you can follow it at home just

55
00:01:47,099 --> 00:01:51,658
like with Bill Cosby before the

56
00:01:49,560 --> 00:01:53,490
controversy you know what I'm saying and

57
00:01:51,659 --> 00:01:56,600
that's the best time probably to enjoy

58
00:01:53,489 --> 00:01:59,699
Bill Cosby when you didn't have to worry

59
00:01:56,599 --> 00:02:02,780
about other sorts of things he might be

60
00:01:59,700 --> 00:02:07,140
doing now let's go ahead and get back to

61
00:02:02,780 --> 00:02:08,219
where we were like I said we kind of

62
00:02:07,140 --> 00:02:11,038
finished up yesterday I don't think we

63
00:02:08,219 --> 00:02:12,689
had any particular bugs or to dues that

64
00:02:11,038 --> 00:02:13,919
we're kind of left hanging we we sort of

65
00:02:12,689 --> 00:02:15,598
just recreated

66
00:02:13,919 --> 00:02:17,429
everything that we were doing before but

67
00:02:15,598 --> 00:02:19,018
with full Z handling and the pipeline

68
00:02:17,430 --> 00:02:21,060
and so now we kinda have to think about

69
00:02:19,019 --> 00:02:24,120
is what are we actually going to do with

70
00:02:21,060 --> 00:02:26,969
Z we don't really know we need some kind

71
00:02:24,120 --> 00:02:29,400
of a feel for that and so what I want to

72
00:02:26,969 --> 00:02:31,289
do is I want to be able to make it so I

73
00:02:29,400 --> 00:02:33,469
can go like up and down stairs and stuff

74
00:02:31,289 --> 00:02:35,729
and I think that will help me to

75
00:02:33,469 --> 00:02:38,669
understand what I want to have happen

76
00:02:35,729 --> 00:02:40,439
with Z and we can kind of sort of you

77
00:02:38,669 --> 00:02:42,059
know get some idea for it now in order

78
00:02:40,439 --> 00:02:42,598
to do that we have a little bit of a

79
00:02:42,060 --> 00:02:45,239
problem

80
00:02:42,598 --> 00:02:48,209
there is no ground right now so there is

81
00:02:45,239 --> 00:02:50,640
no real understanding of even where a

82
00:02:48,209 --> 00:02:52,949
stairwell would be so I kind of need to

83
00:02:50,639 --> 00:02:56,128
put something in I guess that would be a

84
00:02:52,949 --> 00:02:57,988
stairwell put put in something that's

85
00:02:56,128 --> 00:02:59,759
that's going to indicate that we can go

86
00:02:57,989 --> 00:03:02,519
up and down in a particular area and

87
00:02:59,759 --> 00:03:04,500
then I can you know do something about

88
00:03:02,519 --> 00:03:05,760
it from there so let's just start with

89
00:03:04,500 --> 00:03:08,280
doing that because I got to get

90
00:03:05,759 --> 00:03:11,250
somewhere before I can even really do

91
00:03:08,280 --> 00:03:13,769
anything else with it now we have some

92
00:03:11,250 --> 00:03:15,870
more stuff in the art directory I'm just

93
00:03:13,769 --> 00:03:18,599
gonna pick something random we don't

94
00:03:15,870 --> 00:03:20,549
actually have anything that is drawn for

95
00:03:18,598 --> 00:03:22,138
this purpose yet I could certainly ask

96
00:03:20,549 --> 00:03:24,120
for it but we just haven't got to that

97
00:03:22,139 --> 00:03:27,469
point yet and we basically got some

98
00:03:24,120 --> 00:03:31,680
ground patches we've got a rock-like so

99
00:03:27,469 --> 00:03:34,409
we've got trees we've got some grass so

100
00:03:31,680 --> 00:03:35,040
I don't know maybe I'll just use one of

101
00:03:34,409 --> 00:03:37,859
these rocks

102
00:03:35,039 --> 00:03:39,539
we'll use this Rocco to bitmap maybe

103
00:03:37,859 --> 00:03:41,099
I'll just use Rocco to dot bitmap and

104
00:03:39,539 --> 00:03:43,858
we'll basically say that that's gonna be

105
00:03:41,098 --> 00:03:45,659
a stairwell and then we'll just kind of

106
00:03:43,859 --> 00:03:46,349
pretend that it is one and we'll see

107
00:03:45,659 --> 00:03:48,840
what happens

108
00:03:46,348 --> 00:03:51,418
you know kind of as we play route that

109
00:03:48,840 --> 00:03:52,979
with going up and down and so on I can

110
00:03:51,419 --> 00:03:55,109
also do some stuff where maybe I put

111
00:03:52,979 --> 00:03:57,179
something in front of the stairwell and

112
00:03:55,109 --> 00:03:58,739
you know you can walk down and go sort

113
00:03:57,180 --> 00:04:00,120
of behind it so it occludes it I don't

114
00:03:58,739 --> 00:04:02,039
know we'll play with that a little bit

115
00:04:00,120 --> 00:04:03,689
and if we need to make a test asset we

116
00:04:02,039 --> 00:04:06,388
can also go ahead and open up and

117
00:04:03,689 --> 00:04:08,340
just make a test asset right that sort

118
00:04:06,389 --> 00:04:11,099
of is whatever we want as a debugging

119
00:04:08,340 --> 00:04:12,449
aid so that's what I'd like to do so

120
00:04:11,098 --> 00:04:14,459
let's go ahead and load that what did I

121
00:04:12,449 --> 00:04:16,530
say that was that's Rocco to dot bitmap

122
00:04:14,459 --> 00:04:17,339
let's just load that into the set so we

123
00:04:16,529 --> 00:04:20,638
can play with it

124
00:04:17,339 --> 00:04:23,069
and we'll go from there right so we have

125
00:04:20,639 --> 00:04:26,879
that quote unquote sword and now we have

126
00:04:23,069 --> 00:04:27,540
a quote unquote stairwell right and I

127
00:04:26,879 --> 00:04:29,519
don't know I guess we

128
00:04:27,540 --> 00:04:32,310
got stairs up and stairs down so we have

129
00:04:29,519 --> 00:04:34,769
stair up and stare down so maybe we need

130
00:04:32,310 --> 00:04:36,899
to do actually like two different kinds

131
00:04:34,769 --> 00:04:39,629
of rock woman one that's gonna be the up

132
00:04:36,899 --> 00:04:43,289
and one that's gonna be the down now

133
00:04:39,629 --> 00:04:44,879
it's a little bit a little bit crazy but

134
00:04:43,290 --> 00:04:46,800
you know what are you gonna do so

135
00:04:44,879 --> 00:04:48,990
there's our stair up there's our stair

136
00:04:46,800 --> 00:04:51,600
down so we'll load those two in and now

137
00:04:48,990 --> 00:04:55,050
we can draw this I don't actually know

138
00:04:51,600 --> 00:04:57,360
if we ever made a stairwell type we may

139
00:04:55,050 --> 00:04:59,730
never have actually done that let's take

140
00:04:57,360 --> 00:05:01,740
a look it looks like we've never

141
00:04:59,730 --> 00:05:05,160
actually made one of those so let me go

142
00:05:01,740 --> 00:05:07,019
ahead and make a stairwell here we'll do

143
00:05:05,160 --> 00:05:08,760
a stairwell I guess we'll do a stairwell

144
00:05:07,019 --> 00:05:10,500
up and a stairwell down I don't know if

145
00:05:08,759 --> 00:05:14,490
we really need to do that in fact I

146
00:05:10,500 --> 00:05:17,430
guess if we want it to be kind of fancy

147
00:05:14,490 --> 00:05:19,259
about it we could sort of think of it as

148
00:05:17,430 --> 00:05:20,879
one entity that was just placed there

149
00:05:19,259 --> 00:05:22,589
and it's if you're coming from the

150
00:05:20,879 --> 00:05:25,199
bottom of it you go up and if you're

151
00:05:22,589 --> 00:05:28,500
coming from the top of it you go down we

152
00:05:25,199 --> 00:05:29,329
could do it that way maybe that makes

153
00:05:28,500 --> 00:05:33,589
some sense

154
00:05:29,329 --> 00:05:40,949
I don't really know that's a good

155
00:05:33,589 --> 00:05:43,259
question I suppose it all right you know

156
00:05:40,949 --> 00:05:45,209
let's do it that way I mean you might as

157
00:05:43,259 --> 00:05:46,259
well start with something we'll just you

158
00:05:45,209 --> 00:05:47,789
know we'll just start with it that way

159
00:05:46,259 --> 00:05:49,110
so then we'll just place it there and

160
00:05:47,790 --> 00:05:51,270
you know assume it's got a little

161
00:05:49,110 --> 00:05:53,670
graphic and it shows on either side I

162
00:05:51,269 --> 00:05:56,069
really don't like I said I've never made

163
00:05:53,670 --> 00:05:58,230
a game of this kind I've never worked on

164
00:05:56,069 --> 00:06:00,540
a game of this kind before where you had

165
00:05:58,230 --> 00:06:01,830
like I usually work on 3d stuff and in

166
00:06:00,540 --> 00:06:03,660
there you've got to build an actual

167
00:06:01,829 --> 00:06:05,370
stairwell that actually you walk up the

168
00:06:03,660 --> 00:06:08,460
stairs and all this stuff so I don't

169
00:06:05,370 --> 00:06:09,990
know what the good approximation is I've

170
00:06:08,459 --> 00:06:12,569
certainly seen plenty of games do like

171
00:06:09,990 --> 00:06:15,000
you know things ranging from very cheesy

172
00:06:12,569 --> 00:06:16,349
to not so cheesy and 2d about it and you

173
00:06:15,000 --> 00:06:18,389
know where we want to be on that cheese

174
00:06:16,350 --> 00:06:20,730
cheese scale I don't know

175
00:06:18,389 --> 00:06:22,560
so all right so we got our stairwell

176
00:06:20,730 --> 00:06:24,330
here we've got that loaded so let's go

177
00:06:22,560 --> 00:06:26,300
ahead and re-enable I think we had some

178
00:06:24,329 --> 00:06:30,839
code that already generated a concept of

179
00:06:26,300 --> 00:06:32,670
up and down levels basically and you

180
00:06:30,839 --> 00:06:35,899
know maybe let's go ahead and try to try

181
00:06:32,670 --> 00:06:38,699
to put that in here just just sort of

182
00:06:35,899 --> 00:06:41,248
re-enable the code if you will that was

183
00:06:38,699 --> 00:06:43,618
creating those so that we can have some

184
00:06:41,249 --> 00:06:45,719
of levels and so this I believe is what

185
00:06:43,619 --> 00:06:47,369
we were doing before we were you know

186
00:06:45,718 --> 00:06:50,038
it's basically saying that we could have

187
00:06:47,369 --> 00:06:52,139
doors that go up and down when we're

188
00:06:50,038 --> 00:06:55,829
doing our random number generation and I

189
00:06:52,139 --> 00:06:57,809
think that's probably all we need but we

190
00:06:55,829 --> 00:07:00,149
will need to now put in a thing I don't

191
00:06:57,809 --> 00:07:03,389
know that there's any actual code in

192
00:07:00,149 --> 00:07:06,959
here so yeah this tile value equals 1 2

193
00:07:03,389 --> 00:07:08,639
&amp; 3 stuff basically what we need to do

194
00:07:06,959 --> 00:07:10,139
because these tile values we used to

195
00:07:08,639 --> 00:07:11,728
write into our tile map but we got rid

196
00:07:10,139 --> 00:07:13,739
of the tile map we just use entities now

197
00:07:11,728 --> 00:07:15,598
for everything what we want to do is

198
00:07:13,738 --> 00:07:18,478
take whatever the tile map was that

199
00:07:15,598 --> 00:07:20,368
chorus bonded to a stairwell and

200
00:07:18,478 --> 00:07:22,468
actually just put that in there and you

201
00:07:20,369 --> 00:07:25,409
can see us doing that here essentially

202
00:07:22,468 --> 00:07:28,110
right this is where we were setting

203
00:07:25,408 --> 00:07:30,718
those tile values so really we can kind

204
00:07:28,110 --> 00:07:32,519
of change this code up a little bit we

205
00:07:30,718 --> 00:07:33,689
could we could just well I mean I might

206
00:07:32,519 --> 00:07:35,429
as well leave a guess that the way it

207
00:07:33,689 --> 00:07:37,979
was but what we can do here is say

208
00:07:35,428 --> 00:07:40,288
alright if they've got a tile value 3 or

209
00:07:37,978 --> 00:07:43,709
a tile value for what we can do is add

210
00:07:40,288 --> 00:07:47,818
in that stairwell right there

211
00:07:43,709 --> 00:07:49,259
so door up and door down we want to if

212
00:07:47,819 --> 00:07:51,028
we're going to add an entity the way

213
00:07:49,259 --> 00:07:52,860
that I was saying where there's just one

214
00:07:51,028 --> 00:07:55,678
entity then we don't really need to

215
00:07:52,860 --> 00:07:58,348
think about both door types we just add

216
00:07:55,678 --> 00:08:00,388
one and we don't need to add the reverse

217
00:07:58,348 --> 00:08:01,199
kind if that makes sense because it's

218
00:08:00,389 --> 00:08:04,348
just sitting there

219
00:08:01,199 --> 00:08:06,149
so thinking about how that works what we

220
00:08:04,348 --> 00:08:09,298
do here is when we do a random choice we

221
00:08:06,149 --> 00:08:13,199
do a created Z door thing the created Z

222
00:08:09,298 --> 00:08:16,138
door flag it tells us essentially I

223
00:08:13,199 --> 00:08:18,449
guess whether we created it on this path

224
00:08:16,139 --> 00:08:20,968
so what we really want to do here is we

225
00:08:18,449 --> 00:08:24,658
want to say you know we only really want

226
00:08:20,968 --> 00:08:29,548
to do this work if we created a Z door

227
00:08:24,658 --> 00:08:31,949
right like so so if we created a Z door

228
00:08:29,548 --> 00:08:33,568
then we're gonna say you know whichever

229
00:08:31,949 --> 00:08:35,308
kind it was we're gonna put it in there

230
00:08:33,568 --> 00:08:39,028
we don't care if it's a door up or a

231
00:08:35,308 --> 00:08:40,769
door or a door down we we only need to

232
00:08:39,028 --> 00:08:46,230
know that to position where the entity

233
00:08:40,769 --> 00:08:48,539
is in Z I guess right that's pretty much

234
00:08:46,230 --> 00:08:50,670
all we need to do so what we're going to

235
00:08:48,539 --> 00:08:54,199
do is we're gonna do an ADD stairs here

236
00:08:50,669 --> 00:08:56,539
and when we do our add stairs

237
00:08:54,200 --> 00:08:58,730
I guess what we have to do is say we're

238
00:08:56,539 --> 00:09:01,578
gonna put it at this AB style x ab cell

239
00:08:58,730 --> 00:09:04,129
y ab style Z what we want to do is say

240
00:09:01,578 --> 00:09:06,469
if it was a door going down let's put

241
00:09:04,129 --> 00:09:08,028
the base let's say let's say that we put

242
00:09:06,470 --> 00:09:11,269
the stairwell starting at the lower

243
00:09:08,028 --> 00:09:14,139
level so either it's at our ab stiles e

244
00:09:11,269 --> 00:09:16,669
or if it's a door that's going downward

245
00:09:14,139 --> 00:09:19,370
then we would like to put it at one

246
00:09:16,669 --> 00:09:22,069
below us right so we're basically gonna

247
00:09:19,370 --> 00:09:23,328
say if it's a door going downwards its

248
00:09:22,070 --> 00:09:25,850
AB x -1

249
00:09:23,328 --> 00:09:27,129
otherwise it's that AB Stiles E and then

250
00:09:25,850 --> 00:09:30,500
we don't really care about this anymore

251
00:09:27,129 --> 00:09:32,720
at all we also don't really care about

252
00:09:30,500 --> 00:09:34,789
this tile value stuff very much we

253
00:09:32,720 --> 00:09:38,690
really just want to know should be door

254
00:09:34,789 --> 00:09:40,778
right and that's gonna equal false and

255
00:09:38,690 --> 00:09:44,180
these are basically just should be door

256
00:09:40,778 --> 00:09:46,939
equal true cases right I think that's

257
00:09:44,179 --> 00:09:48,919
basically it these are just kind of kind

258
00:09:46,940 --> 00:09:50,480
of wrote so let's just get rid of that

259
00:09:48,919 --> 00:09:52,909
so we don't have this concept of tile

260
00:09:50,480 --> 00:09:54,589
bail anymore so should be door and will

261
00:09:52,909 --> 00:09:56,028
basically say like okay if it should be

262
00:09:54,589 --> 00:09:59,060
a door then we'll add a wall otherwise

263
00:09:56,028 --> 00:10:02,149
if we created a Z door here then we'll

264
00:09:59,059 --> 00:10:04,819
do this add stair nests and again this

265
00:10:02,149 --> 00:10:06,440
code is all just garbage we're sort of

266
00:10:04,820 --> 00:10:07,970
waiting to do world creation until a

267
00:10:06,440 --> 00:10:09,649
little bit further down but we need to

268
00:10:07,970 --> 00:10:11,509
always kind of come back to it and add

269
00:10:09,649 --> 00:10:14,149
little things for now just so we have

270
00:10:11,509 --> 00:10:16,069
stuff that we can test and so that's

271
00:10:14,149 --> 00:10:18,169
really all I'm doing here this code is

272
00:10:16,070 --> 00:10:20,778
is it's just complete throwaway code it

273
00:10:18,169 --> 00:10:21,799
doesn't matter at all it's not like some

274
00:10:20,778 --> 00:10:23,600
of this other codes where we're actually

275
00:10:21,799 --> 00:10:25,879
trying to design something that works

276
00:10:23,600 --> 00:10:27,800
well so that we can see how you know

277
00:10:25,879 --> 00:10:29,778
it's gonna slot in the world code is

278
00:10:27,799 --> 00:10:32,629
assumed to just be you know complete

279
00:10:29,778 --> 00:10:36,679
stand-in so if we add a stairwell at

280
00:10:32,629 --> 00:10:40,429
this location we're gonna go ahead and

281
00:10:36,679 --> 00:10:43,219
do this so we add an enmity and then all

282
00:10:40,429 --> 00:10:47,899
we really have to do I guess is set its

283
00:10:43,220 --> 00:10:49,490
extents to be reasonable I think that

284
00:10:47,899 --> 00:10:51,139
this should be basically the same as a

285
00:10:49,490 --> 00:10:53,720
wall take up roughly the same amount of

286
00:10:51,139 --> 00:10:57,259
space let's say for now but it's also

287
00:10:53,720 --> 00:11:00,649
we're gonna use that that Z value now

288
00:10:57,259 --> 00:11:03,919
that height value to sort of say well

289
00:11:00,649 --> 00:11:05,948
how how tall really do we want

290
00:11:03,919 --> 00:11:09,909
stairwells to be right

291
00:11:05,948 --> 00:11:12,938
and we've got this stuff here we've got

292
00:11:09,909 --> 00:11:16,808
tile depth in meters so we kind of want

293
00:11:12,938 --> 00:11:19,748
to be one full depth high one full tile

294
00:11:16,808 --> 00:11:22,688
high I would say so it stretches up to

295
00:11:19,749 --> 00:11:25,480
the next floor wherever that next floor

296
00:11:22,688 --> 00:11:27,969
is that seems to me like probably what I

297
00:11:25,480 --> 00:11:30,489
want to do right so I want to say that

298
00:11:27,970 --> 00:11:31,749
so it's that high I don't know if maybe

299
00:11:30,489 --> 00:11:33,189
it needs to be higher than that I don't

300
00:11:31,749 --> 00:11:34,959
know how we're in but that's really what

301
00:11:33,188 --> 00:11:38,818
we need to start figuring out now is how

302
00:11:34,958 --> 00:11:46,479
we're gonna sort of size this stuff okay

303
00:11:38,818 --> 00:11:48,519
so if I do this I'm not sure we need to

304
00:11:46,480 --> 00:11:51,249
think about how we're doing our collide

305
00:11:48,519 --> 00:11:52,720
stuff that stuff sort of still needs to

306
00:11:51,249 --> 00:11:54,668
get worked on a little bit still on our

307
00:11:52,720 --> 00:11:57,699
to-do list I'm gonna say it doesn't

308
00:11:54,668 --> 00:11:58,899
collide at the moment I got to think

309
00:11:57,698 --> 00:12:01,838
about a little bit more about how that's

310
00:11:58,899 --> 00:12:04,239
gonna work okay so what we want to do

311
00:12:01,839 --> 00:12:05,619
now is draw our stairwell as well we

312
00:12:04,239 --> 00:12:08,528
want to be able to kind of put that in

313
00:12:05,619 --> 00:12:10,989
here somehow and so when we're actually

314
00:12:08,528 --> 00:12:12,999
doing our loop throughs when we do our

315
00:12:10,989 --> 00:12:15,459
our stairwell we need to decide how we

316
00:12:12,999 --> 00:12:16,869
want to draw stairwells for now I mean I

317
00:12:15,458 --> 00:12:18,849
think we're just gonna draw just that

318
00:12:16,869 --> 00:12:21,548
bitmap there and it's you know nothing

319
00:12:18,850 --> 00:12:23,619
particularly useful going on there and

320
00:12:21,548 --> 00:12:24,818
we need to figure out what the offset is

321
00:12:23,619 --> 00:12:27,309
for that bitmap because we don't

322
00:12:24,818 --> 00:12:30,668
actually know I guess I said it was rock

323
00:12:27,308 --> 00:12:35,428
OH - so let's take a look at that in the

324
00:12:30,668 --> 00:12:40,568
ladies and gentlemen the I

325
00:12:35,428 --> 00:12:42,938
present to you the and so I guess

326
00:12:40,568 --> 00:12:45,308
we'll just put it at the center roughly

327
00:12:42,938 --> 00:12:46,928
or maybe right about there I guess might

328
00:12:45,308 --> 00:12:50,438
be the thing because it sort of extends

329
00:12:46,928 --> 00:12:54,220
up it does I don't know so what we want

330
00:12:50,438 --> 00:12:57,368
to do is say all right that guy is 37 37

331
00:12:54,220 --> 00:13:01,360
roughly let's say so that's right about

332
00:12:57,369 --> 00:13:04,629
there oops and and we'll see how that

333
00:13:01,360 --> 00:13:06,938
goes so now we should in theory get a

334
00:13:04,629 --> 00:13:09,220
stairwell Oh our poor are poor Monstar

335
00:13:06,938 --> 00:13:11,618
has been created where the stairwell is

336
00:13:09,220 --> 00:13:14,129
which is not really what we want to do

337
00:13:11,619 --> 00:13:16,320
so maybe I will

338
00:13:14,129 --> 00:13:18,000
the Monstar around I could move the

339
00:13:16,320 --> 00:13:20,180
stairwell as well I suppose but let's go

340
00:13:18,000 --> 00:13:24,480
ahead and move the Monstar

341
00:13:20,179 --> 00:13:26,609
let's move the Monstar out of the way so

342
00:13:24,480 --> 00:13:28,409
now we've got our stairwell there and

343
00:13:26,610 --> 00:13:30,180
that's good again we don't see sort I

344
00:13:28,409 --> 00:13:31,649
mean we don't why sort our entities yet

345
00:13:30,179 --> 00:13:33,120
that's why these things are in showing

346
00:13:31,649 --> 00:13:34,139
up in totally random order something I

347
00:13:33,120 --> 00:13:36,840
don't really want to deal with at the

348
00:13:34,139 --> 00:13:40,679
moment so we're gonna do that when we

349
00:13:36,840 --> 00:13:42,110
start doing the renderer work but you

350
00:13:40,679 --> 00:13:44,399
know the familiar is kind of annoying

351
00:13:42,110 --> 00:13:45,210
it's annoying to have someone follow you

352
00:13:44,399 --> 00:13:46,559
around all the time

353
00:13:45,210 --> 00:13:50,400
you know what I'm saying it's like go

354
00:13:46,559 --> 00:13:54,029
get your own life you know Sam anyway so

355
00:13:50,399 --> 00:13:55,590
we've got our our our quote-unquote

356
00:13:54,029 --> 00:13:57,120
stairwell in here now and so what we

357
00:13:55,590 --> 00:13:58,950
want to do now is make it so that when

358
00:13:57,120 --> 00:14:02,580
we walk over this we can kind of go up

359
00:13:58,950 --> 00:14:05,070
and down the stairs and so maybe just

360
00:14:02,580 --> 00:14:08,670
what I'll say is that like you know

361
00:14:05,070 --> 00:14:10,200
going I'm trying to think of how we went

362
00:14:08,669 --> 00:14:13,409
do this like going forwards into a

363
00:14:10,200 --> 00:14:15,270
stairs is goes down them and going back

364
00:14:13,409 --> 00:14:16,500
from a stairs kind of comes up them or

365
00:14:15,269 --> 00:14:17,730
something like that I don't know if

366
00:14:16,500 --> 00:14:18,990
there should be a convention so the

367
00:14:17,730 --> 00:14:23,159
player knows like you know they just

368
00:14:18,990 --> 00:14:25,500
walk you know down it or something like

369
00:14:23,159 --> 00:14:26,850
this but this may tie in to our

370
00:14:25,500 --> 00:14:29,570
collision detection stuff we may end up

371
00:14:26,850 --> 00:14:32,759
wanting to do just take a look here

372
00:14:29,570 --> 00:14:34,379
right we may want to do this stuff as

373
00:14:32,759 --> 00:14:37,289
well because what we sort of want to do

374
00:14:34,379 --> 00:14:39,809
now is we want to say when my guy starts

375
00:14:37,289 --> 00:14:41,879
walking on top of this entity right when

376
00:14:39,809 --> 00:14:45,179
I walk on this thing I want that entity

377
00:14:41,879 --> 00:14:48,689
to take me down in Z as I go right

378
00:14:45,179 --> 00:14:50,250
that's what I'd like to write and again

379
00:14:48,690 --> 00:14:51,570
since we haven't really gotten much in

380
00:14:50,250 --> 00:14:53,700
the way of collision detection in there

381
00:14:51,570 --> 00:14:56,340
yet beyond just the basic sort of did I

382
00:14:53,700 --> 00:14:59,100
hit something that seems harder to do so

383
00:14:56,340 --> 00:15:00,180
I think maybe this may imply that we've

384
00:14:59,100 --> 00:15:01,560
got to take these two guys together

385
00:15:00,179 --> 00:15:03,329
because that's what I want to write and

386
00:15:01,559 --> 00:15:05,429
I'm not thinking of a lot of ways to

387
00:15:03,330 --> 00:15:07,500
write that right now conveniently with

388
00:15:05,429 --> 00:15:09,359
what we have so does that make sense

389
00:15:07,500 --> 00:15:11,970
hopefully that makes sense what I want

390
00:15:09,360 --> 00:15:17,519
to do is say what I want to be able to

391
00:15:11,970 --> 00:15:23,279
do is okay so we're on day 73 let's see

392
00:15:17,519 --> 00:15:24,929
here let's get some space day 73 what I

393
00:15:23,279 --> 00:15:26,289
want to be able to do is sort of say

394
00:15:24,929 --> 00:15:28,059
okay

395
00:15:26,289 --> 00:15:29,649
if you imagine this in actual three

396
00:15:28,059 --> 00:15:33,250
dimensions right what we have here

397
00:15:29,649 --> 00:15:37,269
here's one plane of motion and here's

398
00:15:33,250 --> 00:15:38,980
another one that's below it right so

399
00:15:37,269 --> 00:15:42,340
what we want to do here is we want to

400
00:15:38,980 --> 00:15:44,200
basically draw in you know something

401
00:15:42,340 --> 00:15:46,810
that's gonna operate like a stairwell or

402
00:15:44,200 --> 00:15:48,430
you know a ramp a ramp is probably more

403
00:15:46,809 --> 00:15:50,139
more accurate because we I don't know

404
00:15:48,429 --> 00:15:53,199
that we care about sternness we just

405
00:15:50,139 --> 00:15:54,519
want the player to be able to go down so

406
00:15:53,200 --> 00:15:56,950
we've got something that essentially

407
00:15:54,519 --> 00:15:59,049
like you know the player approach is and

408
00:15:56,950 --> 00:16:00,730
we want them to be able to move forward

409
00:15:59,049 --> 00:16:02,349
and have them go down as they move

410
00:16:00,730 --> 00:16:04,060
forwards whereas if they were going the

411
00:16:02,350 --> 00:16:07,680
other direction they would move upwards

412
00:16:04,059 --> 00:16:15,789
right so kind of what I want to do is

413
00:16:07,679 --> 00:16:18,609
something roughly that says you know if

414
00:16:15,789 --> 00:16:22,120
you imagine this part projected in a to

415
00:16:18,610 --> 00:16:24,039
a top view I think what I'd like is I'd

416
00:16:22,120 --> 00:16:28,330
like to say okay we've got you know

417
00:16:24,039 --> 00:16:31,599
we've got a region and when the player

418
00:16:28,330 --> 00:16:36,970
enters this region I want their Z

419
00:16:31,600 --> 00:16:42,250
coordinate to equal how far you know in

420
00:16:36,970 --> 00:16:46,779
Y they've gone right so when they're

421
00:16:42,250 --> 00:16:50,289
here when they're at this level I want

422
00:16:46,779 --> 00:16:52,750
their Z loops whatever happened there Z

423
00:16:50,289 --> 00:16:56,919
to be the stair max right wherever the

424
00:16:52,750 --> 00:17:00,899
maximum is and when they come here I

425
00:16:56,919 --> 00:17:04,269
want this Z to be the stair minimum

426
00:17:00,899 --> 00:17:07,389
right and as they walk along it I want

427
00:17:04,269 --> 00:17:11,109
it to change now what I'd like to do

428
00:17:07,390 --> 00:17:13,990
further is I'd like to say when they

429
00:17:11,109 --> 00:17:18,779
exit the stairwell I'd like to probably

430
00:17:13,990 --> 00:17:22,569
create some regions here I suppose right

431
00:17:18,779 --> 00:17:26,440
something like this I'd like to be able

432
00:17:22,569 --> 00:17:28,919
to say that when the player is in this

433
00:17:26,440 --> 00:17:31,840
region they cannot exit the stairwell

434
00:17:28,920 --> 00:17:35,019
right like I want them to only exit the

435
00:17:31,839 --> 00:17:37,240
stairwell relatively close to one or the

436
00:17:35,019 --> 00:17:39,009
other side of it and so when they are

437
00:17:37,240 --> 00:17:39,960
within you know when they're in like the

438
00:17:39,009 --> 00:17:43,140
bottom third

439
00:17:39,960 --> 00:17:46,950
they can exit out to the zmax when

440
00:17:43,140 --> 00:17:49,590
they're in maybe the the far third they

441
00:17:46,950 --> 00:17:51,690
can exit out to z-man but we're in when

442
00:17:49,589 --> 00:17:53,189
they're in the middle third of the

443
00:17:51,690 --> 00:17:55,890
stairwell they just can't leave either

444
00:17:53,190 --> 00:17:57,269
side right and I don't know that we

445
00:17:55,890 --> 00:17:58,710
necessarily want that we may find that

446
00:17:57,269 --> 00:17:59,849
it's better to just let them exit and

447
00:17:58,710 --> 00:18:02,038
we'll just snap them to which either

448
00:17:59,849 --> 00:18:04,469
side it is but point being I want that

449
00:18:02,038 --> 00:18:07,500
option I want whatever solution we come

450
00:18:04,470 --> 00:18:10,110
up here come up with here to allow me to

451
00:18:07,500 --> 00:18:11,548
choose that if I find that it's better I

452
00:18:10,109 --> 00:18:12,990
don't want that to be like some really

453
00:18:11,548 --> 00:18:14,730
impossible thing it's like oh my god how

454
00:18:12,990 --> 00:18:15,929
I can implement that I want that to be

455
00:18:14,730 --> 00:18:17,610
like pretty obvious in the

456
00:18:15,929 --> 00:18:19,320
implementation like no you just do it

457
00:18:17,609 --> 00:18:21,119
this way and it's easy and if we choose

458
00:18:19,319 --> 00:18:23,398
not to use it that's fine but it should

459
00:18:21,119 --> 00:18:25,709
be possible so I don't know if that

460
00:18:23,398 --> 00:18:28,139
makes sense to you hopefully that makes

461
00:18:25,710 --> 00:18:30,870
some sense so what I want to do now is I

462
00:18:28,140 --> 00:18:32,669
want to talk about that in terms of how

463
00:18:30,869 --> 00:18:34,019
we're going to actually implement it so

464
00:18:32,669 --> 00:18:40,009
you'll notice on the collision detection

465
00:18:34,019 --> 00:18:42,509
thing I was talking about reprojection

466
00:18:40,009 --> 00:18:47,819
basically what I want to do is I want to

467
00:18:42,509 --> 00:18:50,190
have a concept of inside and outside in

468
00:18:47,819 --> 00:18:54,538
our collision system I want to be able

469
00:18:50,190 --> 00:18:56,940
to say is am i inside or outside some

470
00:18:54,538 --> 00:19:00,720
region and we're going to use that for

471
00:18:56,940 --> 00:19:03,929
two purposes purpose one is for like

472
00:19:00,720 --> 00:19:06,960
behavior you know actual game logic

473
00:19:03,929 --> 00:19:09,840
right and this is an example of that

474
00:19:06,960 --> 00:19:12,000
right in this case I'm just saying when

475
00:19:09,839 --> 00:19:14,879
the player enters into this stairwell

476
00:19:12,000 --> 00:19:18,380
region that I've created I want it to

477
00:19:14,880 --> 00:19:20,610
behave in a specific fashion right

478
00:19:18,380 --> 00:19:22,860
that's that's sort of what we're saying

479
00:19:20,609 --> 00:19:24,990
here but the second thing that we want

480
00:19:22,859 --> 00:19:27,479
to do is we want to use that for

481
00:19:24,990 --> 00:19:29,308
robustness in the collision sector

482
00:19:27,480 --> 00:19:30,960
because right now we have a problem in

483
00:19:29,308 --> 00:19:32,250
the collision sector where you know we

484
00:19:30,960 --> 00:19:34,798
are currently doing it such that you

485
00:19:32,250 --> 00:19:37,440
know if you have a wall and you you sort

486
00:19:34,798 --> 00:19:39,179
of go against that wall we try to put

487
00:19:37,440 --> 00:19:40,590
you so that you're not when you hit that

488
00:19:39,179 --> 00:19:43,559
wall we're try to put you so that you're

489
00:19:40,589 --> 00:19:46,829
not interpenetrating the wall but if due

490
00:19:43,558 --> 00:19:49,558
to floating-point precision we mess that

491
00:19:46,829 --> 00:19:51,418
up meaning we do place you just slightly

492
00:19:49,558 --> 00:19:53,329
on the other side of the wall since all

493
00:19:51,419 --> 00:19:56,540
we check for is collision with that

494
00:19:53,329 --> 00:19:58,699
all you've now been embedded inside the

495
00:19:56,539 --> 00:20:01,460
wall and you can only walk around inside

496
00:19:58,700 --> 00:20:03,019
the wall right and so we could choose to

497
00:20:01,460 --> 00:20:04,789
solve that problem by just constantly

498
00:20:03,019 --> 00:20:06,230
fighting there buses and try to make our

499
00:20:04,789 --> 00:20:09,319
collision detector so that it never did

500
00:20:06,230 --> 00:20:10,730
that but that's kind of a losing battle

501
00:20:09,319 --> 00:20:12,529
usually because sweating point precision

502
00:20:10,730 --> 00:20:14,059
is very hard to do properly in all cases

503
00:20:12,529 --> 00:20:16,009
it's very hard to know if you've tested

504
00:20:14,059 --> 00:20:19,309
all of the possible ways so what I'd

505
00:20:16,009 --> 00:20:22,190
rather do is go ahead and say okay once

506
00:20:19,309 --> 00:20:24,649
we have this inside outside concept we

507
00:20:22,190 --> 00:20:27,170
can then use it to say are we inside a

508
00:20:24,650 --> 00:20:29,660
wall if we are project the player out to

509
00:20:27,170 --> 00:20:34,670
whatever the closest place is that's not

510
00:20:29,660 --> 00:20:37,850
inside the wall right so I'd like this

511
00:20:34,670 --> 00:20:39,620
for both reasons right I wanted it we

512
00:20:37,849 --> 00:20:42,199
were gonna do it primarily for the

513
00:20:39,619 --> 00:20:44,119
robustness but it's already the case if

514
00:20:42,200 --> 00:20:47,059
we want to do our Z stuff it's already

515
00:20:44,119 --> 00:20:49,609
the case that I also would like it for

516
00:20:47,059 --> 00:20:52,250
actual gameplay purposes and so let's

517
00:20:49,609 --> 00:20:53,389
start out by doing the gameplay part of

518
00:20:52,250 --> 00:20:55,700
it which is what we were trying to do

519
00:20:53,390 --> 00:20:58,400
and then we'll also keep an eye on this

520
00:20:55,700 --> 00:21:00,920
because maybe we can do it all in one

521
00:20:58,400 --> 00:21:02,690
sort of series where we actually do

522
00:21:00,920 --> 00:21:06,080
everything there where we get all of

523
00:21:02,690 --> 00:21:11,509
that stuff worked out together and that

524
00:21:06,079 --> 00:21:14,119
would be nice right so yes so what I'd

525
00:21:11,509 --> 00:21:17,299
like to do is is go ahead into the

526
00:21:14,119 --> 00:21:19,039
collision system and sort of take a look

527
00:21:17,299 --> 00:21:21,409
at what's going on in there right let's

528
00:21:19,039 --> 00:21:24,319
take a look I don't know why where did

529
00:21:21,410 --> 00:21:26,000
my yeah we have that bug there's a weird

530
00:21:24,319 --> 00:21:27,710
bug if someone could remind me to write

531
00:21:26,000 --> 00:21:29,180
this down after streams over there's

532
00:21:27,710 --> 00:21:31,130
some kind of bug with my weird little

533
00:21:29,180 --> 00:21:34,759
clock thing that I wrote where the it

534
00:21:31,130 --> 00:21:37,310
goes the little head outline thing goes

535
00:21:34,759 --> 00:21:39,890
away which is you I use to prevent

536
00:21:37,309 --> 00:21:44,299
myself from typing where you can't see

537
00:21:39,890 --> 00:21:45,770
it basically where did it go so remind

538
00:21:44,299 --> 00:21:47,450
me to go take a look at that bug because

539
00:21:45,769 --> 00:21:50,779
it's probably just a bug in the code for

540
00:21:47,450 --> 00:21:57,559
a little timer app and I'd like to fix

541
00:21:50,779 --> 00:21:59,599
it so let's see here we have our move

542
00:21:57,559 --> 00:22:01,579
entity code which is really all that

543
00:21:59,599 --> 00:22:05,209
we've written for collision detection so

544
00:22:01,579 --> 00:22:07,730
far so it's pretty easy for us to test

545
00:22:05,210 --> 00:22:09,230
to see if we are inside something

546
00:22:07,730 --> 00:22:11,900
we've already done that with the is

547
00:22:09,230 --> 00:22:13,759
inside rectangle thing and so really

548
00:22:11,900 --> 00:22:18,410
what we need to do in here is sort of

549
00:22:13,759 --> 00:22:20,990
say all right we've got you know we're

550
00:22:18,410 --> 00:22:23,390
doing these this this movement we need

551
00:22:20,990 --> 00:22:26,359
to start thinking about the concept that

552
00:22:23,390 --> 00:22:30,350
the player may be inside regions of

553
00:22:26,359 --> 00:22:34,699
space when he actually moves and to do

554
00:22:30,349 --> 00:22:37,129
things you know based on that so how do

555
00:22:34,700 --> 00:22:39,380
I want to do that I don't know that I

556
00:22:37,130 --> 00:22:41,510
want to store that stuff at the moment

557
00:22:39,380 --> 00:22:47,060
doesn't seem like a good idea

558
00:22:41,509 --> 00:22:50,359
I think what I'd rather do is just

559
00:22:47,059 --> 00:22:51,769
quickly build the set of things so I'd

560
00:22:50,359 --> 00:22:53,689
like to do say like what are all the

561
00:22:51,769 --> 00:22:56,299
entities that were inside at the start

562
00:22:53,690 --> 00:22:59,090
and again this just shows the need for

563
00:22:56,299 --> 00:23:01,819
that spatial partition again because you

564
00:22:59,089 --> 00:23:03,500
can see how much of this entity like

565
00:23:01,819 --> 00:23:05,659
testing that we're doing it's it's too

566
00:23:03,500 --> 00:23:07,640
much right so what we want to do is be

567
00:23:05,660 --> 00:23:10,009
able to quickly test the entities here

568
00:23:07,640 --> 00:23:12,770
we really want a spatial partition for

569
00:23:10,009 --> 00:23:14,269
this right but we haven't done that work

570
00:23:12,769 --> 00:23:16,099
yet anyway

571
00:23:14,269 --> 00:23:18,619
so we've got we're gonna go ahead and

572
00:23:16,099 --> 00:23:23,599
check for the entities we're gonna see

573
00:23:18,619 --> 00:23:27,229
for any entity for any entity that we

574
00:23:23,599 --> 00:23:30,740
basically is not us I guess I would say

575
00:23:27,230 --> 00:23:32,480
so we have should collide I don't know

576
00:23:30,740 --> 00:23:34,279
if we actually want should collide as a

577
00:23:32,480 --> 00:23:37,519
thing probably we can just you should

578
00:23:34,279 --> 00:23:39,109
collide for now so let's do that

579
00:23:37,519 --> 00:23:41,150
so basically say that assuming that this

580
00:23:39,109 --> 00:23:44,709
is a should collide scenario so if

581
00:23:41,150 --> 00:23:50,740
should collide past the game state and

582
00:23:44,710 --> 00:23:50,740
the entity and the test entity so

583
00:23:50,890 --> 00:23:55,190
assuming that we should collide I just

584
00:23:53,029 --> 00:23:58,069
want to test to see whether I'm inside

585
00:23:55,190 --> 00:24:00,650
that entity or not right I just want to

586
00:23:58,069 --> 00:24:02,750
see so we can go ahead and do that we

587
00:24:00,650 --> 00:24:06,650
can say all right for all of the

588
00:24:02,750 --> 00:24:08,750
entities that are there you know if the

589
00:24:06,650 --> 00:24:11,120
rectangles overlap because we know that

590
00:24:08,750 --> 00:24:16,539
they both have a dimension so we can say

591
00:24:11,119 --> 00:24:18,519
if rectangles overlap or intersect say

592
00:24:16,539 --> 00:24:23,319
so

593
00:24:18,519 --> 00:24:26,619
we can pass the the rectangles in so I

594
00:24:23,319 --> 00:24:31,599
guess they would basically be let's see

595
00:24:26,619 --> 00:24:33,789
and that's right there so we've got that

596
00:24:31,599 --> 00:24:35,769
dim that's the dimension of the entity

597
00:24:33,789 --> 00:24:38,230
so I'm gonna say I want to make a

598
00:24:35,769 --> 00:24:39,639
rectangle I don't remember what we

599
00:24:38,230 --> 00:24:43,480
called this but I think we called it

600
00:24:39,640 --> 00:24:45,070
Center plot Center diameter is what we

601
00:24:43,480 --> 00:24:47,440
want and if I don't have that I'll write

602
00:24:45,069 --> 00:24:48,929
it so we want to make one rectangle and

603
00:24:47,440 --> 00:24:52,930
we want to make it from the entities

604
00:24:48,930 --> 00:24:54,490
position and then using the entities

605
00:24:52,930 --> 00:24:56,620
dimension and then we want to do the

606
00:24:54,490 --> 00:25:01,569
same thing for the test entity right I

607
00:24:56,619 --> 00:25:03,099
want to say the test entities so and

608
00:25:01,569 --> 00:25:04,750
we're just gonna say if those two

609
00:25:03,099 --> 00:25:05,919
rectangles intersect and maybe so that I

610
00:25:04,750 --> 00:25:08,980
can inspect it easier in the debugger

611
00:25:05,920 --> 00:25:11,350
I'll say you know MTT rect equals this

612
00:25:08,980 --> 00:25:13,480
and you know that doesn't change as well

613
00:25:11,349 --> 00:25:16,149
so really I can also just put that right

614
00:25:13,480 --> 00:25:17,650
here I should say right here where we

615
00:25:16,150 --> 00:25:20,590
just node that's what the entity rect is

616
00:25:17,650 --> 00:25:22,180
at the moment and I might bind this up

617
00:25:20,589 --> 00:25:24,459
so we can see what stuff is in here as

618
00:25:22,180 --> 00:25:29,009
well so let's do it this way and just

619
00:25:24,460 --> 00:25:33,009
put a little note here check for initial

620
00:25:29,009 --> 00:25:34,809
inclusion and so we've got our entity

621
00:25:33,009 --> 00:25:37,900
rect and then we've got our tests in an

622
00:25:34,809 --> 00:25:43,960
erect and that will just come here

623
00:25:37,900 --> 00:25:45,880
so rectangle three rep so now I've got

624
00:25:43,960 --> 00:25:47,350
both rectangles and I can test to see if

625
00:25:45,880 --> 00:25:49,660
they intersect right so if the

626
00:25:47,349 --> 00:25:52,949
rectangles intersect then we know that

627
00:25:49,660 --> 00:25:58,420
we started out basically overlapping

628
00:25:52,950 --> 00:26:02,789
whatever this thing was right and I

629
00:25:58,420 --> 00:26:07,779
don't really know so it's hard for me to

630
00:26:02,789 --> 00:26:10,149
say really what we want to do in terms

631
00:26:07,779 --> 00:26:14,619
of the stairwell stuff but I'm gonna go

632
00:26:10,150 --> 00:26:16,330
ahead and say probably you know here's

633
00:26:14,619 --> 00:26:22,389
what I'm thinking just just to give you

634
00:26:16,329 --> 00:26:27,309
a little a little sort of diagrammatical

635
00:26:22,390 --> 00:26:30,580
it was a little illustration so in some

636
00:26:27,309 --> 00:26:32,950
sense we may only want the player

637
00:26:30,579 --> 00:26:34,750
in this case - we may not really want

638
00:26:32,950 --> 00:26:37,960
overlap testing right because if the

639
00:26:34,750 --> 00:26:40,480
players sort of stance point is anywhere

640
00:26:37,960 --> 00:26:43,029
other than being included sort of mostly

641
00:26:40,480 --> 00:26:44,769
within the stairwell we don't really

642
00:26:43,029 --> 00:26:46,299
wanted to go down the stairs we wanted

643
00:26:44,769 --> 00:26:48,940
to kind of channel in there we want to

644
00:26:46,299 --> 00:26:51,639
make like a sort of a thin region but he

645
00:26:48,940 --> 00:26:52,960
can walk up and down in but instead of

646
00:26:51,640 --> 00:26:54,850
having that especially I think what I'm

647
00:26:52,960 --> 00:26:57,730
gonna do is just say that our stairwells

648
00:26:54,849 --> 00:27:01,990
will have their collision area specified

649
00:26:57,730 --> 00:27:03,370
to be narrow like that or something

650
00:27:01,990 --> 00:27:05,710
similar to that where it's basically

651
00:27:03,369 --> 00:27:06,969
like the stairwells this wide but the

652
00:27:05,710 --> 00:27:09,340
air you can walk down so actually only

653
00:27:06,970 --> 00:27:11,740
that wide and we'll try to deal with it

654
00:27:09,339 --> 00:27:13,779
in in that way perhaps the other thing

655
00:27:11,740 --> 00:27:15,519
we could do is say once you overlap it

656
00:27:13,779 --> 00:27:16,899
we kind of suck you into it I don't know

657
00:27:15,519 --> 00:27:19,629
we have to think about how we want to

658
00:27:16,900 --> 00:27:21,190
deal with that and and that's kind of

659
00:27:19,630 --> 00:27:22,800
more gonna be about player movement

660
00:27:21,190 --> 00:27:24,940
handling and stuff like that but for now

661
00:27:22,799 --> 00:27:27,099
I'm just gonna say that we'll just do

662
00:27:24,940 --> 00:27:29,650
this test uniformly and we'll kind of

663
00:27:27,099 --> 00:27:33,039
work up towards how we're gonna deal

664
00:27:29,650 --> 00:27:35,470
with that more friendly wise when we get

665
00:27:33,039 --> 00:27:37,659
there so I'm going to check to see if

666
00:27:35,470 --> 00:27:39,069
the entities intersect assuming they do

667
00:27:37,660 --> 00:27:42,130
intersect then I'm going to kind of

668
00:27:39,069 --> 00:27:44,259
record the fact that this is one of them

669
00:27:42,130 --> 00:27:46,900
and I don't know how I want to do this

670
00:27:44,259 --> 00:27:48,970
exactly yet I think I want to sort of

671
00:27:46,900 --> 00:27:51,610
say that we'll process some number of

672
00:27:48,970 --> 00:27:52,930
overlapping nests but only a certain

673
00:27:51,609 --> 00:27:54,519
number right meaning like I don't think

674
00:27:52,930 --> 00:27:56,320
we want to say that we just kind of have

675
00:27:54,519 --> 00:27:58,150
an unbounded number of overlapping

676
00:27:56,319 --> 00:28:01,029
things that you can do that seems like

677
00:27:58,150 --> 00:28:02,800
that would be problematic and costly so

678
00:28:01,029 --> 00:28:06,759
I think I just want to keep it to sort

679
00:28:02,799 --> 00:28:09,669
of a more I don't know a more limited

680
00:28:06,759 --> 00:28:11,170
set if you will but assuming that they

681
00:28:09,670 --> 00:28:14,620
intersect then this means that we've got

682
00:28:11,170 --> 00:28:18,130
a new intersection and so I'll basically

683
00:28:14,619 --> 00:28:22,149
say that we have you know an overlapping

684
00:28:18,130 --> 00:28:24,550
account here like so and we'll also say

685
00:28:22,150 --> 00:28:26,920
that we have you know overlapping and

686
00:28:24,549 --> 00:28:28,930
please write and we'll just say that

687
00:28:26,920 --> 00:28:30,730
like there's not you can't just have an

688
00:28:28,930 --> 00:28:32,710
arbitrary number of those you know I

689
00:28:30,730 --> 00:28:34,150
don't know that's way too many already I

690
00:28:32,710 --> 00:28:35,620
don't even like that number I feel like

691
00:28:34,150 --> 00:28:37,900
that's ridiculous but you know whatever

692
00:28:35,619 --> 00:28:40,029
so what we'll do here is we'll we'll

693
00:28:37,900 --> 00:28:43,410
basically say if the overlapping count

694
00:28:40,029 --> 00:28:46,769
is less than overlapping entities

695
00:28:43,410 --> 00:28:48,420
overlapping kennedys I just make it

696
00:28:46,769 --> 00:28:50,009
through this the gameplay bug because I

697
00:28:48,420 --> 00:28:51,750
don't think we can reliably write the

698
00:28:50,009 --> 00:28:54,420
engine to handle an arbitrary number of

699
00:28:51,750 --> 00:28:54,930
those it sounds just sounds bad let's

700
00:28:54,420 --> 00:28:58,710
put it that way

701
00:28:54,930 --> 00:29:00,539
I'll put got an invalid code path right

702
00:28:58,710 --> 00:29:02,730
yeah I'll just say that's an invalid

703
00:29:00,539 --> 00:29:04,559
code path there and so assuming that we

704
00:29:02,730 --> 00:29:06,870
can add another one we'll basically just

705
00:29:04,559 --> 00:29:09,480
say that overlapping entities with the

706
00:29:06,869 --> 00:29:11,039
overlapping count plus plus is going to

707
00:29:09,480 --> 00:29:14,490
be equal to whatever this entity was

708
00:29:11,039 --> 00:29:16,470
that we just tested there now test

709
00:29:14,490 --> 00:29:20,069
entity needs to get advanced in this

710
00:29:16,470 --> 00:29:22,079
loop why where does test enemy get

711
00:29:20,069 --> 00:29:24,419
advanced in this loop I don't understand

712
00:29:22,079 --> 00:29:26,699
oh it's it's not actually done it's

713
00:29:24,420 --> 00:29:29,220
grabbed out there I see so we actually

714
00:29:26,700 --> 00:29:32,880
need me to that grab out as well there

715
00:29:29,220 --> 00:29:35,160
we go so and so that'll tell us all the

716
00:29:32,880 --> 00:29:39,390
things that we're overlapping initially

717
00:29:35,160 --> 00:29:41,670
and then whenever we sort of collide

718
00:29:39,390 --> 00:29:43,470
with something in particular if that was

719
00:29:41,670 --> 00:29:46,470
one of the things that we were already

720
00:29:43,470 --> 00:29:49,220
colliding with we want to remove that

721
00:29:46,470 --> 00:29:51,720
from the set of things that need to get

722
00:29:49,220 --> 00:29:54,150
processed because we're on top of them

723
00:29:51,720 --> 00:29:55,829
if that makes sense so assuming that the

724
00:29:54,150 --> 00:30:01,259
hit entity if the hit entity is

725
00:29:55,829 --> 00:30:03,419
something that was in our our set right

726
00:30:01,259 --> 00:30:05,789
in our overlapping entity set then

727
00:30:03,420 --> 00:30:07,740
that's something that we want to do so I

728
00:30:05,789 --> 00:30:09,450
guess I'll do that as a check again I'm

729
00:30:07,740 --> 00:30:11,490
not sure exactly how I want to do this

730
00:30:09,450 --> 00:30:13,080
we may have speed concerns here that we

731
00:30:11,490 --> 00:30:13,980
want to address later but so I'm just

732
00:30:13,079 --> 00:30:16,829
going to do the most straightforward

733
00:30:13,980 --> 00:30:21,720
thing so assuming that we have a hit

734
00:30:16,829 --> 00:30:25,319
entity then in the case where we are

735
00:30:21,720 --> 00:30:29,569
leaving which means right like if I go

736
00:30:25,319 --> 00:30:35,399
through all of my entities if if overlap

737
00:30:29,569 --> 00:30:38,639
index or index is less than what I call

738
00:30:35,400 --> 00:30:44,930
it overlapping camp yeah it's less than

739
00:30:38,640 --> 00:30:44,930
overlapping count so on then I will

740
00:30:45,210 --> 00:30:55,240
go ahead and remove it from there so if

741
00:30:48,009 --> 00:30:59,049
hit entity equals overlap the entities

742
00:30:55,240 --> 00:31:01,150
overlap index assuming that I find it in

743
00:30:59,049 --> 00:31:02,558
that list then I need to remove it so

744
00:31:01,150 --> 00:31:06,460
basically what I'll do is I'll just

745
00:31:02,558 --> 00:31:08,859
again remove it from the end of that

746
00:31:06,460 --> 00:31:13,210
list so if that's the case then whatever

747
00:31:08,859 --> 00:31:17,369
the one is here equals whatever is at

748
00:31:13,210 --> 00:31:27,730
the end essentially of my list so

749
00:31:17,369 --> 00:31:30,459
something like this you think and this

750
00:31:27,730 --> 00:31:36,370
of course has to do incrementing only

751
00:31:30,460 --> 00:31:39,308
when I don't so basically I'll just go

752
00:31:36,369 --> 00:31:41,049
through here I'll say is the thing that

753
00:31:39,308 --> 00:31:43,329
I ran is the thing whose boundary I'm

754
00:31:41,049 --> 00:31:47,409
crossing at this time one of the

755
00:31:43,329 --> 00:31:49,089
overlapping entities if if it is then I

756
00:31:47,410 --> 00:31:52,269
want to remove it for my list of

757
00:31:49,089 --> 00:31:54,549
overlapping entities otherwise if it

758
00:31:52,269 --> 00:31:56,500
turns out that it's not then I want to

759
00:31:54,549 --> 00:31:58,629
actually add this to the list of

760
00:31:56,500 --> 00:32:03,910
overlapping entities right so I want to

761
00:31:58,630 --> 00:32:08,170
do is say you know removed is false in

762
00:32:03,910 --> 00:32:10,779
this case removed equals true right like

763
00:32:08,170 --> 00:32:12,100
so and you can break out of that as well

764
00:32:10,779 --> 00:32:14,049
because once you remove it you don't

765
00:32:12,099 --> 00:32:16,359
need to keep looking so if we do that

766
00:32:14,049 --> 00:32:18,490
then we can also say at the end if we

767
00:32:16,359 --> 00:32:19,779
didn't remove it then we need to add it

768
00:32:18,490 --> 00:32:21,730
because that means we're entering into

769
00:32:19,779 --> 00:32:22,808
it right like if we hit something

770
00:32:21,730 --> 00:32:24,880
either it was something we're

771
00:32:22,808 --> 00:32:29,889
overlapping and now it's not or you know

772
00:32:24,880 --> 00:32:33,880
vice-versa so if we hit entity I suppose

773
00:32:29,890 --> 00:32:35,980
stops on collision is really the only is

774
00:32:33,880 --> 00:32:38,710
really the case where if we were

775
00:32:35,980 --> 00:32:42,789
entering if we if we stop ourselves from

776
00:32:38,710 --> 00:32:45,819
entering it yeah in fact now that I

777
00:32:42,789 --> 00:32:50,139
think about it this is almost we could

778
00:32:45,819 --> 00:32:52,329
almost use this to make our stuff a

779
00:32:50,140 --> 00:32:53,830
little more logical because we don't

780
00:32:52,329 --> 00:32:56,379
want to prevent you from leaving things

781
00:32:53,829 --> 00:32:58,210
most of the time so actually we could

782
00:32:56,380 --> 00:33:01,030
kind of think of this as

783
00:32:58,210 --> 00:33:02,980
one step maybe towards doing more

784
00:33:01,029 --> 00:33:04,180
reasonable collision stuff right instead

785
00:33:02,980 --> 00:33:05,319
of doing it the way I was going to do it

786
00:33:04,180 --> 00:33:07,690
where it's like a separate handle thing

787
00:33:05,319 --> 00:33:09,809
we could just say here like okay when

788
00:33:07,690 --> 00:33:13,799
you hit an entity let's first figure out

789
00:33:09,809 --> 00:33:15,669
were you was that entity that you were

790
00:33:13,799 --> 00:33:19,480
overlapping with in the first place

791
00:33:15,670 --> 00:33:21,220
right so I could do that so let's let's

792
00:33:19,480 --> 00:33:24,130
let's do that that seems that seems a

793
00:33:21,220 --> 00:33:27,600
little bit better actually so in here we

794
00:33:24,130 --> 00:33:30,580
could sort of say all right let's take

795
00:33:27,599 --> 00:33:34,149
over overlap index or something like

796
00:33:30,579 --> 00:33:36,579
this right and we'll do a test we'll run

797
00:33:34,150 --> 00:33:39,250
through the things that are in our

798
00:33:36,579 --> 00:33:42,669
overlapping our set of overlapping

799
00:33:39,250 --> 00:33:44,410
entities and if we find it in there we

800
00:33:42,670 --> 00:33:47,789
will set our I don't know why that's set

801
00:33:44,410 --> 00:33:50,830
to false that's no good we will set our

802
00:33:47,789 --> 00:33:53,289
overlap index equal to the one that we

803
00:33:50,829 --> 00:33:56,169
found and then we'll break so now we

804
00:33:53,289 --> 00:33:58,000
know definitively whether or not we

805
00:33:56,170 --> 00:33:59,620
overlapped because overlap index will

806
00:33:58,000 --> 00:34:02,619
either be equal to overlap and count or

807
00:33:59,619 --> 00:34:04,419
it will be equal to the entity that we

808
00:34:02,619 --> 00:34:06,399
were overlapping with so then when we

809
00:34:04,420 --> 00:34:07,870
come through here we can look we can we

810
00:34:06,400 --> 00:34:09,430
now know whether we're supposed to stop

811
00:34:07,869 --> 00:34:11,170
when we hit this entity whether we can

812
00:34:09,429 --> 00:34:13,029
go into it or not

813
00:34:11,170 --> 00:34:15,519
and so in the case where it does not

814
00:34:13,030 --> 00:34:17,350
stop on collision then we just need to

815
00:34:15,519 --> 00:34:19,090
do the toggle like we were doing it

816
00:34:17,349 --> 00:34:20,799
before right either we add it or we

817
00:34:19,090 --> 00:34:23,500
remove it depending on the circumstance

818
00:34:20,800 --> 00:34:25,090
but in the case where we do stuff on

819
00:34:23,500 --> 00:34:26,650
collision then what we could sort of do

820
00:34:25,090 --> 00:34:28,450
is say don't stop you from leaving

821
00:34:26,650 --> 00:34:32,710
something you weren't supposed to be

822
00:34:28,449 --> 00:34:41,019
ever in right I don't know if that makes

823
00:34:32,710 --> 00:34:43,420
sense so basically we kind of need sort

824
00:34:41,019 --> 00:34:44,650
of yeah and we might even pass this in

825
00:34:43,420 --> 00:34:46,119
here that that might be interesting so

826
00:34:44,650 --> 00:34:49,539
we'll basically say we've got a bull

827
00:34:46,119 --> 00:34:52,449
which says was over laughing right and

828
00:34:49,539 --> 00:34:56,860
that's like overlap index not equal to

829
00:34:52,449 --> 00:34:58,419
overlapping count like so and so then

830
00:34:56,860 --> 00:35:00,849
when we come in here we could also say

831
00:34:58,420 --> 00:35:02,470
what do we actually want to do do we

832
00:35:00,849 --> 00:35:05,319
want to add the thing do we want to

833
00:35:02,469 --> 00:35:08,409
remove the thing and so I'll do add to

834
00:35:05,320 --> 00:35:11,289
overlapping equals false and

835
00:35:08,409 --> 00:35:11,769
to remove from over laughing it was

836
00:35:11,289 --> 00:35:12,760
false

837
00:35:11,769 --> 00:35:15,068
again just writing this out as

838
00:35:12,760 --> 00:35:17,049
explicitly as I can think and we can

839
00:35:15,068 --> 00:35:19,989
worry about collapsing it down to better

840
00:35:17,048 --> 00:35:22,538
code later so anyway if we're supposed

841
00:35:19,989 --> 00:35:34,088
to stop on collision then what I might

842
00:35:22,539 --> 00:35:35,289
say is let's let's if we're supposed to

843
00:35:34,088 --> 00:35:37,088
stop on collision then the state doesn't

844
00:35:35,289 --> 00:35:39,010
change I guess it's the way I would say

845
00:35:37,088 --> 00:35:41,170
it right if we're supposed to stop the

846
00:35:39,010 --> 00:35:43,599
player the state doesn't change so we

847
00:35:41,170 --> 00:35:46,599
probably should do is pass was

848
00:35:43,599 --> 00:35:48,970
overlapping in just to handle collision

849
00:35:46,599 --> 00:35:50,650
it will then decide do you want to stop

850
00:35:48,969 --> 00:35:52,629
the player from crossing this boundary

851
00:35:50,650 --> 00:35:55,720
now knowing whether you were leaving it

852
00:35:52,630 --> 00:35:59,818
or entering it right and that seems good

853
00:35:55,719 --> 00:36:03,879
right that seems like a good thing I

854
00:35:59,818 --> 00:36:06,730
don't actually know did I accidentally

855
00:36:03,880 --> 00:36:08,410
oh no so candle collision will will

856
00:36:06,730 --> 00:36:08,949
actually now also be able to do yes so

857
00:36:08,409 --> 00:36:10,690
that's perfect

858
00:36:08,949 --> 00:36:12,009
I like this I like this already it's

859
00:36:10,690 --> 00:36:13,659
it's a little jakey I think we got a

860
00:36:12,010 --> 00:36:15,520
ways to go but I like this already we

861
00:36:13,659 --> 00:36:16,960
passing to handle collision whether it

862
00:36:15,519 --> 00:36:18,250
was overlapping it can now take the

863
00:36:16,960 --> 00:36:21,548
appropriate action because it knows

864
00:36:18,250 --> 00:36:23,559
whether it was entering or exiting the

865
00:36:21,548 --> 00:36:26,349
thing which is a nice additional piece

866
00:36:23,559 --> 00:36:28,240
of information right then we can say

867
00:36:26,349 --> 00:36:30,400
okay did you want us to stop it or not

868
00:36:28,239 --> 00:36:32,558
if you wanted us to stop it then it does

869
00:36:30,400 --> 00:36:34,088
not change right then then it didn't

870
00:36:32,559 --> 00:36:36,430
enter or exit because we stopped so

871
00:36:34,088 --> 00:36:39,278
we're not supposed to go in or out but

872
00:36:36,429 --> 00:36:41,528
on the other hand if we're not supposed

873
00:36:39,278 --> 00:36:46,588
to stop on collision then what we can do

874
00:36:41,528 --> 00:36:46,588
is say all right let's go ahead and

875
00:36:47,730 --> 00:36:53,740
let's go ahead and and start tracking

876
00:36:50,440 --> 00:36:56,470
that guy either we remove him or we or

877
00:36:53,739 --> 00:36:58,058
we or we add him so if he was

878
00:36:56,469 --> 00:37:01,028
overlapping me after remove him if he

879
00:36:58,059 --> 00:37:03,548
wasn't overlapping we have to add him so

880
00:37:01,028 --> 00:37:05,500
if he was overlapping again that's the

881
00:37:03,548 --> 00:37:08,019
really simple case that I just said

882
00:37:05,500 --> 00:37:10,480
which is we're going to take wherever he

883
00:37:08,019 --> 00:37:11,739
was and we just need to move whatever's

884
00:37:10,480 --> 00:37:13,809
at the end of the array into that

885
00:37:11,739 --> 00:37:16,919
position right so that's just going to

886
00:37:13,809 --> 00:37:19,800
be that overlapping count like

887
00:37:16,920 --> 00:37:21,900
said- - right so what that's doing is

888
00:37:19,800 --> 00:37:23,519
basically saying wherever the guy that

889
00:37:21,900 --> 00:37:26,190
we restoring was let's just get rid of

890
00:37:23,519 --> 00:37:27,269
him by taking whatever was at the end of

891
00:37:26,190 --> 00:37:30,840
the array which is obviously the count

892
00:37:27,269 --> 00:37:33,659
minus one and stuffing that into where

893
00:37:30,840 --> 00:37:38,880
he is this is exactly the same code that

894
00:37:33,659 --> 00:37:41,460
we wrote code the one line of code but

895
00:37:38,880 --> 00:37:41,910
it's the same exact thing we did right

896
00:37:41,460 --> 00:37:44,159
here

897
00:37:41,909 --> 00:37:45,389
right just remember this guy where we

898
00:37:44,159 --> 00:37:46,829
basically just want it's it's how you

899
00:37:45,389 --> 00:37:48,839
take an array and you remove an item

900
00:37:46,829 --> 00:37:51,059
from in the middle of it you just copy

901
00:37:48,840 --> 00:37:54,990
the last thing into its slot it's very

902
00:37:51,059 --> 00:37:56,759
very simple right so there you go that's

903
00:37:54,989 --> 00:38:00,089
that's what that is and that's what this

904
00:37:56,760 --> 00:38:01,320
is and it decrements the count by one so

905
00:38:00,090 --> 00:38:03,329
that you know that those no less in

906
00:38:01,320 --> 00:38:05,519
there now on the other hand if we're in

907
00:38:03,329 --> 00:38:08,789
this circumstance we want to go ahead

908
00:38:05,519 --> 00:38:10,980
and do this exact thing that we did

909
00:38:08,789 --> 00:38:12,989
before we want to do an invalid code

910
00:38:10,980 --> 00:38:15,630
bath in the case that we can't fit it

911
00:38:12,989 --> 00:38:17,909
but otherwise we say assuming that

912
00:38:15,630 --> 00:38:20,570
overlapping entities can fit it we will

913
00:38:17,909 --> 00:38:25,440
go ahead and add it right overlapping

914
00:38:20,570 --> 00:38:28,230
count plus plus equals that at that new

915
00:38:25,440 --> 00:38:30,929
entity whatever that hit entity was you

916
00:38:28,230 --> 00:38:33,449
know so that's pretty good and then our

917
00:38:30,929 --> 00:38:37,529
handle collision just has to now take a

918
00:38:33,449 --> 00:38:39,689
bill 32 was overlapping and now it knows

919
00:38:37,530 --> 00:38:43,110
whether it's something's going into or

920
00:38:39,690 --> 00:38:46,170
coming out of something and that's you

921
00:38:43,110 --> 00:38:48,690
know that's what we want to know so now

922
00:38:46,170 --> 00:38:51,059
we can sort of start to construct some

923
00:38:48,690 --> 00:38:52,860
more interesting things that happen in

924
00:38:51,059 --> 00:38:54,059
collision this is probably some code

925
00:38:52,860 --> 00:38:55,650
that we should start to think about a

926
00:38:54,059 --> 00:38:57,480
little bit more specifically and how we

927
00:38:55,650 --> 00:38:59,910
want to write it more cleanly as well we

928
00:38:57,480 --> 00:39:05,460
haven't talked about that too much again

929
00:38:59,909 --> 00:39:08,269
but assuming that assuming that we want

930
00:39:05,460 --> 00:39:11,220
to start start

931
00:39:08,269 --> 00:39:13,108
using this a little bit more I feel like

932
00:39:11,219 --> 00:39:15,509
this would be a good example of how we

933
00:39:13,108 --> 00:39:18,170
could do the sort of collision for

934
00:39:15,510 --> 00:39:20,670
example without actually needing to do

935
00:39:18,170 --> 00:39:23,639
week we could we could basically get rid

936
00:39:20,670 --> 00:39:25,289
of some of that code that we're doing

937
00:39:23,639 --> 00:39:26,940
with add collision rule we could

938
00:39:25,289 --> 00:39:29,250
implement the sword this way as well we

939
00:39:26,940 --> 00:39:30,809
would have a problem with if we had

940
00:39:29,250 --> 00:39:32,880
floating-point precision things were you

941
00:39:30,809 --> 00:39:34,230
know we might get problems but we could

942
00:39:32,880 --> 00:39:36,329
start implementing the sword thing now

943
00:39:34,230 --> 00:39:37,980
that we have exit and entrance we would

944
00:39:36,329 --> 00:39:39,569
not need to add those collision rules

945
00:39:37,980 --> 00:39:43,469
anymore because they'd be handled just

946
00:39:39,570 --> 00:39:44,670
inside this logic right here so let's

947
00:39:43,469 --> 00:39:47,399
let's go ahead and take a look at this

948
00:39:44,670 --> 00:39:49,829
let me just go ahead and finish this

949
00:39:47,400 --> 00:39:52,740
stuff out so when we do that rectangle

950
00:39:49,829 --> 00:39:56,039
Center diameter test right I've said

951
00:39:52,739 --> 00:39:57,089
when we do that construction it's not

952
00:39:56,039 --> 00:39:58,199
actually a five-minute warning it's the

953
00:39:57,090 --> 00:40:00,358
20 minute warning because remember I

954
00:39:58,199 --> 00:40:02,730
said we'd go we'd go for an hour and we

955
00:40:00,358 --> 00:40:05,400
started 15 minutes late so we've got

956
00:40:02,730 --> 00:40:07,800
some extra we've got some extra the time

957
00:40:05,400 --> 00:40:11,940
to play with here so we've got rec

958
00:40:07,800 --> 00:40:14,550
centre dim and rec center dim is exactly

959
00:40:11,940 --> 00:40:16,200
I guess the thing we want I don't know

960
00:40:14,550 --> 00:40:17,820
if rec center dim is the best name for

961
00:40:16,199 --> 00:40:19,649
it cuz diameters a little bit better but

962
00:40:17,820 --> 00:40:22,650
you know we'll we'll stick with it for

963
00:40:19,650 --> 00:40:25,320
now so we'll do that and that's actually

964
00:40:22,650 --> 00:40:30,858
exactly the thing that I wanted so that

965
00:40:25,320 --> 00:40:33,240
creates that rec center dim so on and

966
00:40:30,858 --> 00:40:35,219
the rectangles are sucked call we have

967
00:40:33,239 --> 00:40:38,669
never actually written we were doing it

968
00:40:35,219 --> 00:40:41,338
before by just doing the Minkowski sum

969
00:40:38,670 --> 00:40:43,769
and we could do it exactly that way

970
00:40:41,338 --> 00:40:45,269
again here now what's the problem test

971
00:40:43,769 --> 00:40:46,500
entity ref that isn't that what we want

972
00:40:45,269 --> 00:40:48,690
you want to store the test entity not

973
00:40:46,500 --> 00:40:50,670
it's rectangle so the rectangles

974
00:40:48,690 --> 00:40:54,450
intersect call we could choose to do

975
00:40:50,670 --> 00:40:57,930
this by using the entity overlaps

976
00:40:54,449 --> 00:40:59,608
rectangle version of this right and in

977
00:40:57,929 --> 00:41:00,659
fact we could call that directly but

978
00:40:59,608 --> 00:41:04,279
instead what I'm going to do is just

979
00:41:00,659 --> 00:41:07,440
break that out into a rectangle overlap

980
00:41:04,280 --> 00:41:11,790
function angles overlap or sorry inter

981
00:41:07,440 --> 00:41:14,700
intersect so and then we'll just sort of

982
00:41:11,789 --> 00:41:17,690
do do it that way so we've got a

983
00:41:14,699 --> 00:41:17,689
rectangle three

984
00:41:17,920 --> 00:41:27,460
so this isn't I shouldn't - that this is

985
00:41:20,260 --> 00:41:31,870
not exactly the same right in fact in

986
00:41:27,460 --> 00:41:33,730
fact this is not correct now that I

987
00:41:31,869 --> 00:41:35,949
think about it is it no I guess it is

988
00:41:33,730 --> 00:41:38,050
because it checks the ingrown point P so

989
00:41:35,949 --> 00:41:40,059
it's fine no that's correct

990
00:41:38,050 --> 00:41:42,070
never mind I lied I was I was at the I

991
00:41:40,059 --> 00:41:43,719
was in the moment I was like wait a

992
00:41:42,070 --> 00:41:45,039
minute that's not quite right but then I

993
00:41:43,719 --> 00:41:47,439
realize it is cuz it checks for is a

994
00:41:45,039 --> 00:41:48,730
rectangle P sorry I just got I got

995
00:41:47,440 --> 00:41:51,130
nervous there for a second

996
00:41:48,730 --> 00:41:52,510
wasn't necessary so we've got two

997
00:41:51,130 --> 00:41:56,230
rectangles and we want to test to see if

998
00:41:52,510 --> 00:41:57,550
they overlap right and I could reduce it

999
00:41:56,230 --> 00:42:00,579
down to this but it might be interesting

1000
00:41:57,550 --> 00:42:02,230
to just go ahead and write it in a

1001
00:42:00,579 --> 00:42:04,599
different way just for fun just to see a

1002
00:42:02,230 --> 00:42:07,769
different way to do it so how would we

1003
00:42:04,599 --> 00:42:10,299
know right if our rectangles intersected

1004
00:42:07,769 --> 00:42:11,829
you know how would we figure that out so

1005
00:42:10,300 --> 00:42:14,920
if we had two rectangles and we just

1006
00:42:11,829 --> 00:42:16,989
wanted to do some checks to see if they

1007
00:42:14,920 --> 00:42:19,599
did or if they didn't right so I've got

1008
00:42:16,989 --> 00:42:22,569
my two rectangles here and I want to

1009
00:42:19,599 --> 00:42:24,489
know if they intersect so what you can

1010
00:42:22,570 --> 00:42:26,710
actually do to figure this out is you

1011
00:42:24,489 --> 00:42:29,379
can actually think about it strictly in

1012
00:42:26,710 --> 00:42:31,869
terms of one axis at a time and it will

1013
00:42:29,380 --> 00:42:35,380
actually tell you the answer because

1014
00:42:31,869 --> 00:42:38,409
since we know that in order for

1015
00:42:35,380 --> 00:42:44,730
rectangles to intersect they must have

1016
00:42:38,409 --> 00:42:50,500
to have at least one point in common

1017
00:42:44,730 --> 00:42:53,230
right so they must have one point

1018
00:42:50,500 --> 00:42:55,360
somewhere at least one that they share

1019
00:42:53,230 --> 00:42:57,610
if they don't have one point that they

1020
00:42:55,360 --> 00:42:59,380
share then there's no way they could

1021
00:42:57,610 --> 00:43:02,890
intersect because they share no common

1022
00:42:59,380 --> 00:43:07,090
points so one easy way to think about

1023
00:43:02,889 --> 00:43:09,519
that problem is if I have one point in

1024
00:43:07,090 --> 00:43:12,730
common then

1025
00:43:09,519 --> 00:43:14,710
these rectangles must overlap in all

1026
00:43:12,730 --> 00:43:18,400
three of their dimensions because their

1027
00:43:14,710 --> 00:43:20,889
axis aligned right and so if any of the

1028
00:43:18,400 --> 00:43:22,599
dimensions has a gap in it right if

1029
00:43:20,889 --> 00:43:25,000
which it does in this case right here

1030
00:43:22,599 --> 00:43:27,069
right if any of the dimensions has a gap

1031
00:43:25,000 --> 00:43:29,639
in it then I know that it could not have

1032
00:43:27,070 --> 00:43:32,309
intersected but if none of them have

1033
00:43:29,639 --> 00:43:33,750
have a gap then because their access a

1034
00:43:32,309 --> 00:43:35,820
line because you know they're strictly

1035
00:43:33,750 --> 00:43:37,079
existing on the on the XY and z axes

1036
00:43:35,820 --> 00:43:38,400
they're totally authoring with each

1037
00:43:37,079 --> 00:43:41,869
other

1038
00:43:38,400 --> 00:43:45,539
there's no way that they could possibly

1039
00:43:41,869 --> 00:43:47,609
they could possibly not intersect they

1040
00:43:45,539 --> 00:43:49,199
have to at that point that's not true if

1041
00:43:47,610 --> 00:43:52,140
these things rotate right like if you

1042
00:43:49,199 --> 00:43:54,779
imagine these things being rotated you

1043
00:43:52,139 --> 00:43:56,849
could have something that that projected

1044
00:43:54,780 --> 00:43:58,380
onto all three axes such that it looked

1045
00:43:56,849 --> 00:44:01,049
like it was overlapping but it never

1046
00:43:58,380 --> 00:44:06,539
actually did because the plane along

1047
00:44:01,050 --> 00:44:08,460
which they don't overlap is actually you

1048
00:44:06,539 --> 00:44:10,619
know that that's separating act plane if

1049
00:44:08,460 --> 00:44:13,440
you will kind of passes diagonally

1050
00:44:10,619 --> 00:44:15,750
through things so it is true that that

1051
00:44:13,440 --> 00:44:18,840
that trick doesn't actually work in the

1052
00:44:15,750 --> 00:44:21,239
case where you've got rotation but in

1053
00:44:18,840 --> 00:44:23,820
the case where both things are have the

1054
00:44:21,239 --> 00:44:24,869
same rotation in this case they do it

1055
00:44:23,820 --> 00:44:26,309
doesn't actually matter if it's axes

1056
00:44:24,869 --> 00:44:28,619
like just as long as the axes were

1057
00:44:26,309 --> 00:44:31,799
measuring are the same on each of the

1058
00:44:28,619 --> 00:44:33,480
guys we can trivially do that so really

1059
00:44:31,800 --> 00:44:36,030
all we have to end up doing is checking

1060
00:44:33,480 --> 00:44:38,429
to see if in each axis they overlap at

1061
00:44:36,030 --> 00:44:40,620
all and that's actually relatively

1062
00:44:38,429 --> 00:44:43,289
straightforward to do because in any one

1063
00:44:40,619 --> 00:44:47,420
axis right let's just take this axis

1064
00:44:43,289 --> 00:44:55,469
here for example we have you know a min

1065
00:44:47,420 --> 00:44:59,159
and a max and a min and a max right for

1066
00:44:55,469 --> 00:45:02,819
a and for B and so all we need to do is

1067
00:44:59,159 --> 00:45:07,649
go well all right I know that the

1068
00:45:02,820 --> 00:45:13,950
minimum so for a right the minimum for a

1069
00:45:07,650 --> 00:45:16,079
if the maximum for B was below it then

1070
00:45:13,949 --> 00:45:17,759
it would not be touching right it'd be

1071
00:45:16,079 --> 00:45:21,420
somewhere over here right so if the

1072
00:45:17,760 --> 00:45:23,610
maximum for B is is on the other side of

1073
00:45:21,420 --> 00:45:25,349
the minimum then I know that the min

1074
00:45:23,610 --> 00:45:27,840
obviously nothing inside it could be

1075
00:45:25,349 --> 00:45:29,880
touching right so I'm basically checking

1076
00:45:27,840 --> 00:45:32,850
the the min of a versus the max of be

1077
00:45:29,880 --> 00:45:35,789
there right similarly if the min for B

1078
00:45:32,849 --> 00:45:38,549
is on the other side of the max of a

1079
00:45:35,789 --> 00:45:41,159
then they couldn't be touching in any

1080
00:45:38,550 --> 00:45:43,380
other case they are touching right if

1081
00:45:41,159 --> 00:45:46,170
the min isn't is

1082
00:45:43,380 --> 00:45:48,119
not going to be you know if the min is

1083
00:45:46,170 --> 00:45:51,000
not greater than the max and that means

1084
00:45:48,119 --> 00:45:53,190
that this interval for B is somewhere

1085
00:45:51,000 --> 00:45:56,009
behind the max which means that the only

1086
00:45:53,190 --> 00:45:58,108
way they couldn't overlap is if the max

1087
00:45:56,009 --> 00:46:00,088
for B goes below the min for a which was

1088
00:45:58,108 --> 00:46:02,250
the other check and the same is true in

1089
00:46:00,088 --> 00:46:04,139
Reverse so you can imagine sliding this

1090
00:46:02,250 --> 00:46:07,108
right you can imagine saying I've got my

1091
00:46:04,139 --> 00:46:09,618
a here's the min and the max you could

1092
00:46:07,108 --> 00:46:13,380
imagine sliding this right here this B

1093
00:46:09,619 --> 00:46:16,980
you can imagine sliding it sort of down

1094
00:46:13,380 --> 00:46:19,048
right and as you slide it down you can

1095
00:46:16,980 --> 00:46:22,769
think of projecting it up on to here and

1096
00:46:19,048 --> 00:46:25,440
see where it can go and all the times

1097
00:46:22,768 --> 00:46:29,308
when it's intersecting you know that

1098
00:46:25,440 --> 00:46:30,960
that minimum bound of B must not be past

1099
00:46:29,309 --> 00:46:33,059
the max and you know similarly you

1100
00:46:30,960 --> 00:46:36,179
haven't slid it far enough to slide it

1101
00:46:33,059 --> 00:46:39,000
past the min of a right to slide the max

1102
00:46:36,179 --> 00:46:40,618
past the min of a and so that's really

1103
00:46:39,000 --> 00:46:43,380
the only check that we need to do on an

1104
00:46:40,619 --> 00:46:46,829
axis right so if you imagine writing

1105
00:46:43,380 --> 00:46:49,230
this all we really need to say to find

1106
00:46:46,829 --> 00:46:53,119
the result for a given axis we would

1107
00:46:49,230 --> 00:46:56,969
just need to say okay we've got a min

1108
00:46:53,119 --> 00:47:00,059
and we've got a max so what we want to

1109
00:46:56,969 --> 00:47:01,618
do is say like I said before in our

1110
00:47:00,059 --> 00:47:03,869
diagram so I got to grab that Mouse

1111
00:47:01,619 --> 00:47:09,269
again in our diagram we wanted to say if

1112
00:47:03,869 --> 00:47:13,650
B's max is less than a x' min right so

1113
00:47:09,268 --> 00:47:18,979
if if these max is less than s min and

1114
00:47:13,650 --> 00:47:23,338
B's min you know I should say or right

1115
00:47:18,980 --> 00:47:26,009
so so if see if I got this right

1116
00:47:23,338 --> 00:47:29,068
B's max is less than s min so B's max is

1117
00:47:26,009 --> 00:47:31,259
less than as men and B's min is greater

1118
00:47:29,068 --> 00:47:34,500
than or B's min is greater than as Max

1119
00:47:31,259 --> 00:47:37,619
so B's min is greater than nice max then

1120
00:47:34,500 --> 00:47:39,838
it's not going to do it right so that

1121
00:47:37,619 --> 00:47:42,390
would be right that would be a

1122
00:47:39,838 --> 00:47:45,389
determination right there now we could

1123
00:47:42,389 --> 00:47:47,429
also multiply that through we could we

1124
00:47:45,389 --> 00:47:49,259
could do you know the binary logic

1125
00:47:47,429 --> 00:47:51,449
therap to change these around but it's

1126
00:47:49,259 --> 00:47:53,219
really not much point in doing so that

1127
00:47:51,449 --> 00:47:56,969
pretty much tells us what we would need

1128
00:47:53,219 --> 00:47:59,789
to do for any individual axis so if we

1129
00:47:56,969 --> 00:48:01,739
wanted to do you know dot X we just do

1130
00:47:59,789 --> 00:48:05,429
that X and there's a check for the

1131
00:48:01,739 --> 00:48:07,858
x-axis right assuming that I didn't mess

1132
00:48:05,429 --> 00:48:10,079
something up so similarly we can check

1133
00:48:07,858 --> 00:48:12,210
all the rest of the axes and they just

1134
00:48:10,079 --> 00:48:15,119
all kind of compound in there right we

1135
00:48:12,210 --> 00:48:20,159
can just keep on checking our Y's and

1136
00:48:15,119 --> 00:48:25,200
our Z's and say okay if any of those if

1137
00:48:20,159 --> 00:48:26,819
any of those at all happen to to fall on

1138
00:48:25,199 --> 00:48:28,679
either side of the boundary like we're

1139
00:48:26,820 --> 00:48:30,660
checking then we know that the whole

1140
00:48:28,679 --> 00:48:32,730
thing can't intersect so you know we're

1141
00:48:30,659 --> 00:48:35,368
done in that case so all of them are

1142
00:48:32,730 --> 00:48:36,750
essentially ORS and we want we can say

1143
00:48:35,369 --> 00:48:38,550
that any of them is sufficient for

1144
00:48:36,750 --> 00:48:41,250
telling that the rectangles don't

1145
00:48:38,550 --> 00:48:42,780
actually intersect so that's pretty much

1146
00:48:41,250 --> 00:48:46,019
all we need to do I'm going to move that

1147
00:48:42,780 --> 00:48:47,790
over to our math library though because

1148
00:48:46,019 --> 00:48:51,989
that's that's more of a math library

1149
00:48:47,789 --> 00:48:54,000
thing right and that should should

1150
00:48:51,989 --> 00:48:56,189
basically do it barring some kind of

1151
00:48:54,000 --> 00:48:58,050
error in in how I've constructed it

1152
00:48:56,190 --> 00:49:01,108
there that's really all we need to do

1153
00:48:58,050 --> 00:49:05,849
oops didn't mean to put an X there fix

1154
00:49:01,108 --> 00:49:08,759
that and what was the actual I don't

1155
00:49:05,849 --> 00:49:11,700
actually even remember what our I don't

1156
00:49:08,760 --> 00:49:13,500
actually even remember what our what our

1157
00:49:11,699 --> 00:49:19,230
rectangle structure things are called oh

1158
00:49:13,500 --> 00:49:27,530
it's just capitalized capitalization

1159
00:49:19,230 --> 00:49:30,539
very important okay so that's about it

1160
00:49:27,530 --> 00:49:33,060
and now we just have to think a little

1161
00:49:30,539 --> 00:49:34,440
bit more about our collision detection

1162
00:49:33,059 --> 00:49:37,469
stuff I didn't realize the game was

1163
00:49:34,440 --> 00:49:39,690
still running I guess that it is so now

1164
00:49:37,469 --> 00:49:42,179
inside our closure detector we in theory

1165
00:49:39,690 --> 00:49:44,130
are keeping track of those things so we

1166
00:49:42,179 --> 00:49:46,169
could pass through something if we

1167
00:49:44,130 --> 00:49:48,300
wanted to and not have to use a

1168
00:49:46,170 --> 00:49:50,190
collision rule to do it so let's see if

1169
00:49:48,300 --> 00:49:53,070
we can do that for our stairwell let's

1170
00:49:50,190 --> 00:50:01,769
just go in here and change that code in

1171
00:49:53,070 --> 00:50:03,920
hand-made sim region move entity so what

1172
00:50:01,769 --> 00:50:06,000
I'd like to do is say while we're

1173
00:50:03,920 --> 00:50:08,608
actually I guess we don't need to that

1174
00:50:06,000 --> 00:50:10,530
it's it's actually an should collide so

1175
00:50:08,608 --> 00:50:13,650
in should collide

1176
00:50:10,530 --> 00:50:16,590
and or and handle collision so what we

1177
00:50:13,650 --> 00:50:20,940
want to do here is say when we handle a

1178
00:50:16,590 --> 00:50:26,400
collision between the stairwell and the

1179
00:50:20,940 --> 00:50:32,550
guy right and we're sort of saying if if

1180
00:50:26,400 --> 00:50:36,059
the a type equals a hero and the B type

1181
00:50:32,550 --> 00:50:38,070
equals the stairwell then what we're

1182
00:50:36,059 --> 00:50:40,500
going to do is say that stops on

1183
00:50:38,070 --> 00:50:43,710
collision is false you do not have stop

1184
00:50:40,500 --> 00:50:46,590
on collision you can go ahead through

1185
00:50:43,710 --> 00:50:51,329
now the collision rule stuff we don't

1186
00:50:46,590 --> 00:50:54,750
have really enough here to to deal with

1187
00:50:51,329 --> 00:50:57,269
that I wonder if this add collision rule

1188
00:50:54,750 --> 00:51:01,079
stuff should actually yeah I feel like

1189
00:50:57,269 --> 00:51:03,119
that should really be happening sort of

1190
00:51:01,079 --> 00:51:05,309
up one level right I feel like that

1191
00:51:03,119 --> 00:51:06,180
should be something it's kind of at the

1192
00:51:05,309 --> 00:51:09,179
wrong place

1193
00:51:06,179 --> 00:51:10,169
I feel like inside our handle collision

1194
00:51:09,179 --> 00:51:12,449
is the place to do that

1195
00:51:10,170 --> 00:51:14,309
because the only time we really wanted

1196
00:51:12,449 --> 00:51:17,250
to do that was for our sword right we

1197
00:51:14,309 --> 00:51:21,389
wanted that to happen here and so really

1198
00:51:17,250 --> 00:51:23,130
this was the place for that kind of that

1199
00:51:21,389 --> 00:51:25,529
seems better so I'm going to do that

1200
00:51:23,130 --> 00:51:27,838
here for now and again we kind of want

1201
00:51:25,530 --> 00:51:29,609
to start to work with this code and make

1202
00:51:27,838 --> 00:51:31,108
it a little cleaner anyway so we'll just

1203
00:51:29,608 --> 00:51:34,980
start with that and we'll see where that

1204
00:51:31,108 --> 00:51:36,480
takes us okay so our sword still works

1205
00:51:34,980 --> 00:51:37,679
presumably it does look like it does

1206
00:51:36,480 --> 00:51:39,119
let's just make sure cuz that's the

1207
00:51:37,679 --> 00:51:41,009
other thing that was using the system

1208
00:51:39,119 --> 00:51:46,289
that looks fine and now let's see if we

1209
00:51:41,010 --> 00:51:48,990
can pass through our stairwell no so

1210
00:51:46,289 --> 00:51:52,259
let's double check and see why that is

1211
00:51:48,989 --> 00:51:54,118
not working because that is what we want

1212
00:51:52,260 --> 00:51:57,720
to to get working so let's take a look

1213
00:51:54,119 --> 00:52:05,430
at handle collision I'll go ahead and

1214
00:51:57,719 --> 00:52:08,069
stop in here let's see there we go so we

1215
00:52:05,429 --> 00:52:11,250
have we have hit and let's take a look

1216
00:52:08,070 --> 00:52:16,890
at what our a type and our B type is so

1217
00:52:11,250 --> 00:52:18,449
a type B type oh you know what I think I

1218
00:52:16,889 --> 00:52:18,659
already know what this is actually now

1219
00:52:18,449 --> 00:52:21,119
that

1220
00:52:18,659 --> 00:52:23,549
think about it this is just the problem

1221
00:52:21,119 --> 00:52:26,130
that we're still actually going to then

1222
00:52:23,550 --> 00:52:28,200
reprocess the collision inside our

1223
00:52:26,130 --> 00:52:30,119
collision iterations because our should

1224
00:52:28,199 --> 00:52:32,639
collide doesn't check against that

1225
00:52:30,119 --> 00:52:34,650
temporary list right which we needed to

1226
00:52:32,639 --> 00:52:39,719
do we needed to act just like the other

1227
00:52:34,650 --> 00:52:42,000
one so really we want that that list to

1228
00:52:39,719 --> 00:52:45,239
to check in here which I wonder if that

1229
00:52:42,000 --> 00:52:48,539
argues for us just actually using the

1230
00:52:45,239 --> 00:52:49,500
collision rules locally now that I think

1231
00:52:48,539 --> 00:52:53,070
about it right

1232
00:52:49,500 --> 00:52:55,260
we could just have our add collision

1233
00:52:53,070 --> 00:52:57,900
rules it adds them and removes the

1234
00:52:55,260 --> 00:52:59,280
collision rules as like something that

1235
00:52:57,900 --> 00:53:03,030
it does inside so it doesn't have to

1236
00:52:59,280 --> 00:53:07,110
keep a separate list right because

1237
00:53:03,030 --> 00:53:10,320
should collide is already checking that

1238
00:53:07,110 --> 00:53:13,019
hash table right it's already doing this

1239
00:53:10,320 --> 00:53:15,360
hash bucket thing we could just use that

1240
00:53:13,019 --> 00:53:16,800
instead of the little separate stack and

1241
00:53:15,360 --> 00:53:19,800
then remove them at the end so we add

1242
00:53:16,800 --> 00:53:21,060
and then remove that is kind of

1243
00:53:19,800 --> 00:53:22,620
appealing I don't know why and think of

1244
00:53:21,059 --> 00:53:26,539
that in the first place because there's

1245
00:53:22,619 --> 00:53:26,539
no reason we can't just do it that way

1246
00:53:26,570 --> 00:53:35,820
that actually sounds pretty good yeah

1247
00:53:32,880 --> 00:53:39,980
doesn't that sound good to you that

1248
00:53:35,820 --> 00:53:39,980
sounds pretty good to me

1249
00:53:45,268 --> 00:53:49,568
yeah I like that better I like that

1250
00:53:48,099 --> 00:53:50,709
better than what my first instinct was

1251
00:53:49,568 --> 00:53:52,509
which was having the separate

1252
00:53:50,708 --> 00:53:54,098
overlapping thing so I think what we

1253
00:53:52,509 --> 00:53:56,440
actually do here is instead of doing

1254
00:53:54,099 --> 00:53:58,930
this we just had a collision rule right

1255
00:53:56,440 --> 00:54:02,108
so check this out this is this is this

1256
00:53:58,929 --> 00:54:06,489
is how I think we should roll let's go

1257
00:54:02,108 --> 00:54:11,429
into and made whatever we want to call

1258
00:54:06,489 --> 00:54:15,539
it handmade handmade just in here

1259
00:54:11,429 --> 00:54:19,028
pushing rules yeah so let's go in here

1260
00:54:15,539 --> 00:54:21,190
and take a look at this we've got our

1261
00:54:19,028 --> 00:54:23,588
collision rule hash what we could do is

1262
00:54:21,190 --> 00:54:26,440
just add them in there and when we add

1263
00:54:23,588 --> 00:54:30,699
it so when we do add collision rule when

1264
00:54:26,440 --> 00:54:33,969
we add it we'll just return essentially

1265
00:54:30,699 --> 00:54:37,389
our our hash bucket if you or our hash

1266
00:54:33,969 --> 00:54:39,519
entry will add it so that it can be

1267
00:54:37,389 --> 00:54:42,368
removed right we can just sort of say

1268
00:54:39,518 --> 00:54:45,548
all right you know we'll we'll pull that

1269
00:54:42,369 --> 00:54:49,420
back out what's the best way for us to

1270
00:54:45,548 --> 00:54:52,739
to record that I guess it's I guess we

1271
00:54:49,420 --> 00:54:55,059
don't really even need to we can just

1272
00:54:52,739 --> 00:54:57,400
yeah this is this is this is really

1273
00:54:55,059 --> 00:54:59,619
simple trying to think if there's any

1274
00:54:57,400 --> 00:55:00,999
downside to this there's a slight

1275
00:54:59,619 --> 00:55:02,680
downside I guess which is we're using

1276
00:55:00,998 --> 00:55:06,338
the centralized hash function instead of

1277
00:55:02,679 --> 00:55:08,759
a little localized table which maybe

1278
00:55:06,338 --> 00:55:14,949
isn't such a great idea

1279
00:55:08,759 --> 00:55:17,769
it's really tough mmm I don't know I

1280
00:55:14,949 --> 00:55:19,420
think let's let's go ahead and let's go

1281
00:55:17,768 --> 00:55:21,958
ahead and do it let's go ahead and do it

1282
00:55:19,420 --> 00:55:24,818
so what we want to do here is say

1283
00:55:21,958 --> 00:55:26,259
alright we're gonna when we do add

1284
00:55:24,818 --> 00:55:27,818
collision rule we're gonna return a

1285
00:55:26,259 --> 00:55:29,858
boolean and the boolean is whether or

1286
00:55:27,818 --> 00:55:31,929
not we added it right whether or not it

1287
00:55:29,858 --> 00:55:34,088
was already there so we're gonna do

1288
00:55:31,929 --> 00:55:36,698
added equals false and then when we come

1289
00:55:34,088 --> 00:55:41,009
in here we're gonna do added equals true

1290
00:55:36,699 --> 00:55:43,869
in the case where it wasn't found right

1291
00:55:41,009 --> 00:55:46,019
that's what we're going to do and then

1292
00:55:43,869 --> 00:55:48,759
we're going to return at it like so and

1293
00:55:46,018 --> 00:55:52,889
so what I want to do with that is

1294
00:55:48,759 --> 00:55:55,809
basically say okay every time through

1295
00:55:52,889 --> 00:55:56,779
when we do this every time through I

1296
00:55:55,809 --> 00:55:58,220
want to

1297
00:55:56,780 --> 00:56:01,370
basically say that we're gonna add a

1298
00:55:58,219 --> 00:56:03,799
collision rule and I'm gonna record the

1299
00:56:01,369 --> 00:56:07,099
fact that I added that collision rule if

1300
00:56:03,800 --> 00:56:09,080
I it was new so if there wasn't already

1301
00:56:07,099 --> 00:56:11,059
collision rule in there for this guy so

1302
00:56:09,079 --> 00:56:15,199
we're gonna do add collision rule like

1303
00:56:11,059 --> 00:56:19,670
so on and we're gonna pass those those

1304
00:56:15,199 --> 00:56:24,169
indices so here's the Kennedy right

1305
00:56:19,670 --> 00:56:28,070
storage index storage index and the test

1306
00:56:24,170 --> 00:56:30,079
entity storage index we're gonna go

1307
00:56:28,070 --> 00:56:31,250
ahead and add that collision rule and

1308
00:56:30,079 --> 00:56:33,679
we're gonna say that this should not

1309
00:56:31,250 --> 00:56:35,980
collide because we're you know we're

1310
00:56:33,679 --> 00:56:40,609
penetrating it already so let's do that

1311
00:56:35,980 --> 00:56:43,610
so then assuming that this that the

1312
00:56:40,610 --> 00:56:46,700
collision rule stuff actually I guess we

1313
00:56:43,610 --> 00:56:48,320
do that in here so assuming that the

1314
00:56:46,699 --> 00:56:50,169
collision rule actually is new I'm going

1315
00:56:48,320 --> 00:56:52,490
to record it and we'll just track it

1316
00:56:50,170 --> 00:56:56,000
right track it is something that we need

1317
00:56:52,489 --> 00:56:59,569
to remember to remove like so on and

1318
00:56:56,000 --> 00:57:01,699
again I don't actually know if we need

1319
00:56:59,570 --> 00:57:03,559
to do that we could we could do this

1320
00:57:01,699 --> 00:57:06,609
even in a slightly different way where

1321
00:57:03,559 --> 00:57:08,869
we just do something a little more a

1322
00:57:06,610 --> 00:57:10,400
little more clever I don't know if I

1323
00:57:08,869 --> 00:57:12,349
want to do that or not but we'll do it

1324
00:57:10,400 --> 00:57:15,230
this way for now so we still do the same

1325
00:57:12,349 --> 00:57:17,869
tracking and then when we come back out

1326
00:57:15,230 --> 00:57:21,800
here we'll just remove those ones when

1327
00:57:17,869 --> 00:57:24,019
we're done right so at the end we we go

1328
00:57:21,800 --> 00:57:25,789
ahead and remove the coalition rule I

1329
00:57:24,019 --> 00:57:30,650
don't know we don't really want to clear

1330
00:57:25,789 --> 00:57:32,449
collision rules we want to just remove a

1331
00:57:30,650 --> 00:57:35,389
single one at a time so we basically

1332
00:57:32,449 --> 00:57:38,929
have removed collision rule right like

1333
00:57:35,389 --> 00:57:42,259
so on remove collision rule which is not

1334
00:57:38,929 --> 00:57:43,929
really clear yeah so we need to

1335
00:57:42,260 --> 00:57:46,700
implement that that hasn't been

1336
00:57:43,929 --> 00:57:50,869
implemented yet so we remove a collision

1337
00:57:46,699 --> 00:57:53,299
rule and and you know off the coast so

1338
00:57:50,869 --> 00:57:57,289
when we remove a collision rule we will

1339
00:57:53,300 --> 00:57:58,490
do that by doing and in fact we really

1340
00:57:57,289 --> 00:57:59,539
don't have to track these that accurate

1341
00:57:58,489 --> 00:58:01,429
cuz we could do a slightly different

1342
00:57:59,539 --> 00:58:03,800
scheme which maybe we should go with

1343
00:58:01,429 --> 00:58:04,909
something to basically restore in the

1344
00:58:03,800 --> 00:58:06,440
collision rule whether it's going to be

1345
00:58:04,909 --> 00:58:10,129
a temporary thing and then we

1346
00:58:06,440 --> 00:58:13,280
pull it out right and similarly we could

1347
00:58:10,130 --> 00:58:15,230
we could even do that using something

1348
00:58:13,280 --> 00:58:18,740
like this where we just actually search

1349
00:58:15,230 --> 00:58:20,539
the ones that might be even better god

1350
00:58:18,739 --> 00:58:23,449
there's so many options this all just

1351
00:58:20,539 --> 00:58:25,159
opened up for me it's too bad this is

1352
00:58:23,449 --> 00:58:28,879
right at the end of the stream let's put

1353
00:58:25,159 --> 00:58:30,710
it that way I'm gonna I'm gonna stop

1354
00:58:28,880 --> 00:58:32,030
because we're at 5:15 I'm gonna write

1355
00:58:30,710 --> 00:58:33,139
down what I want to do we're gonna do

1356
00:58:32,030 --> 00:58:36,079
this tomorrow cuz I think this is

1357
00:58:33,139 --> 00:58:39,348
basically does exactly what I want it to

1358
00:58:36,079 --> 00:58:42,260
do so I'm gonna go ahead and do this

1359
00:58:39,349 --> 00:58:45,349
here we're gonna take ad collision rule

1360
00:58:42,260 --> 00:58:46,790
let's see ad collision rule I think we

1361
00:58:45,349 --> 00:58:48,890
maybe don't even need to return that

1362
00:58:46,789 --> 00:58:51,289
then right I'm just gonna say that

1363
00:58:48,889 --> 00:58:56,239
probably what we'll do is we'll start

1364
00:58:51,289 --> 00:58:58,449
passing here a more than just a bool for

1365
00:58:56,239 --> 00:59:01,250
should collide will actually pass

1366
00:58:58,449 --> 00:59:03,439
transience like say say whether it's

1367
00:59:01,250 --> 00:59:05,420
supposed to be transient or not right so

1368
00:59:03,440 --> 00:59:08,240
what I'm thinking here and this as well

1369
00:59:05,420 --> 00:59:09,889
just make the notes for tomorrow what

1370
00:59:08,239 --> 00:59:12,068
I'm thinking here is if we kind of come

1371
00:59:09,889 --> 00:59:14,868
up here to our collision royal thing

1372
00:59:12,068 --> 00:59:18,349
what I want to do is change this to a

1373
00:59:14,869 --> 00:59:21,980
pair wise gudgeon rule flag and that

1374
00:59:18,349 --> 00:59:25,039
flag will tell us like collision flag

1375
00:59:21,980 --> 00:59:28,550
pair collision flag or something like

1376
00:59:25,039 --> 00:59:31,190
that that that flag will tell us two

1377
00:59:28,550 --> 00:59:32,930
things it'll say whether or not this is

1378
00:59:31,190 --> 00:59:34,429
the thing that should collide like

1379
00:59:32,929 --> 00:59:36,769
whether or not we're overriding that

1380
00:59:34,429 --> 00:59:38,568
right and then the other thing it will

1381
00:59:36,769 --> 00:59:43,519
do is it will tell us whether it was

1382
00:59:38,568 --> 00:59:45,818
temporary right like that and so then we

1383
00:59:43,519 --> 00:59:49,280
can pass these flags here like so and

1384
00:59:45,818 --> 00:59:52,880
have those stored instead of should

1385
00:59:49,280 --> 00:59:54,140
collide right that's what we'll do

1386
00:59:52,880 --> 00:59:58,539
now I won't do that quite yet because

1387
00:59:54,139 --> 01:00:00,739
we'll need the code compiling oops a

1388
00:59:58,539 --> 01:00:04,849
mistake

1389
01:00:00,739 --> 01:00:06,949
so that actually will allow us to make

1390
01:00:04,849 --> 01:00:08,900
it so that we just add the temporary one

1391
01:00:06,949 --> 01:00:10,009
and then we just clear out the

1392
01:00:08,900 --> 01:00:11,300
temporaries when we're done with the

1393
01:00:10,010 --> 01:00:12,950
movement and then everything just goes

1394
01:00:11,300 --> 01:00:14,329
to do the same table we can have

1395
01:00:12,949 --> 01:00:17,179
permanent things in there as well as

1396
01:00:14,329 --> 01:00:20,130
transient things in there and that

1397
01:00:17,179 --> 01:00:21,960
it's pretty compelling to me so I'm

1398
01:00:20,130 --> 01:00:25,250
gonna go ahead and make that be that to

1399
01:00:21,960 --> 01:00:27,329
do for tomorrow that I really like that

1400
01:00:25,250 --> 01:00:28,949
we'll see that maybe it won't work out

1401
01:00:27,329 --> 01:00:31,440
but I feel like I really like that

1402
01:00:28,949 --> 01:00:33,598
so actually what we're gonna do here is

1403
01:00:31,440 --> 01:00:34,619
we're moving this up because we've kind

1404
01:00:33,599 --> 01:00:37,619
of got that

1405
01:00:34,619 --> 01:00:42,630
so we'll basically say transient

1406
01:00:37,619 --> 01:00:47,460
collision rules we are based on flag

1407
01:00:42,630 --> 01:00:51,420
right and allow non transient rules to

1408
01:00:47,460 --> 01:00:54,750
override transient ones I think this is

1409
01:00:51,420 --> 01:00:57,510
gonna be good all right all right so

1410
01:00:54,750 --> 01:00:58,739
that's about it for that I am pretty

1411
01:00:57,510 --> 01:01:00,150
psyched about that that was not

1412
01:00:58,739 --> 01:01:03,929
something I thought about when I came

1413
01:01:00,150 --> 01:01:05,550
into this but I think that is good it's

1414
01:01:03,929 --> 01:01:07,469
pretty cool

1415
01:01:05,550 --> 01:01:10,109
basically what I'm thinking is will sort

1416
01:01:07,469 --> 01:01:12,480
of make it so that when we're doing our

1417
01:01:10,108 --> 01:01:14,519
movement inside the movement we can just

1418
01:01:12,480 --> 01:01:16,710
put those collision rules in transiently

1419
01:01:14,519 --> 01:01:19,679
then when we're done we remove them and

1420
01:01:16,710 --> 01:01:22,710
that way whatever stuff we wanted that

1421
01:01:19,679 --> 01:01:24,419
doesn't necessarily have to last can all

1422
01:01:22,710 --> 01:01:25,500
just sort of be cleaned up automatically

1423
01:01:24,420 --> 01:01:27,990
in there and that gets rid of the

1424
01:01:25,500 --> 01:01:29,250
lifetime management problem that I was

1425
01:01:27,989 --> 01:01:31,019
worried about for pairwise collision

1426
01:01:29,250 --> 01:01:32,190
rules because remember the problem that

1427
01:01:31,019 --> 01:01:34,679
I was saying we were gonna have before

1428
01:01:32,190 --> 01:01:37,200
was for these pairwise collision rules

1429
01:01:34,679 --> 01:01:38,460
well if you go into something and we add

1430
01:01:37,199 --> 01:01:40,889
a rule that says that's okay you can

1431
01:01:38,460 --> 01:01:46,019
move around in it we never know when to

1432
01:01:40,889 --> 01:01:47,159
get rid of that right for those of you

1433
01:01:46,019 --> 01:01:48,509
that like garbage collection this is

1434
01:01:47,159 --> 01:01:51,420
like the garbage collectors worst

1435
01:01:48,510 --> 01:01:52,859
nightmare right it's a thing that we the

1436
01:01:51,420 --> 01:01:54,000
rule comes into existence and then we

1437
01:01:52,858 --> 01:01:57,358
never know when to get rid of we don't

1438
01:01:54,000 --> 01:01:58,920
know when we're done right and so that

1439
01:01:57,358 --> 01:02:00,328
was a problem in it was gonna keep us

1440
01:01:58,920 --> 01:02:02,548
from using pairwise collision rules for

1441
01:02:00,329 --> 01:02:04,289
everything so I kind of implemented them

1442
01:02:02,548 --> 01:02:07,139
just for stuff like the sword but with

1443
01:02:04,289 --> 01:02:09,599
this because we can just can't we can

1444
01:02:07,139 --> 01:02:12,598
what would I and so again what I was

1445
01:02:09,599 --> 01:02:13,890
thinking with entry/exit right was oh

1446
01:02:12,599 --> 01:02:15,568
well we'll just implement a more

1447
01:02:13,889 --> 01:02:16,798
standard entry/exit scheme where you

1448
01:02:15,568 --> 01:02:17,940
just when you go into something you go

1449
01:02:16,798 --> 01:02:19,500
out of something those are lucky

1450
01:02:17,940 --> 01:02:20,849
notifications we can act on or something

1451
01:02:19,500 --> 01:02:23,760
and that's how we'll do like stepping on

1452
01:02:20,849 --> 01:02:26,190
triggers and stuff we can actually unify

1453
01:02:23,760 --> 01:02:28,020
these two schemes bring them together by

1454
01:02:26,190 --> 01:02:29,798
saying okay the pairwise digital rules

1455
01:02:28,019 --> 01:02:32,619
can just be transient and will

1456
01:02:29,798 --> 01:02:34,119
them up at the end of the move that way

1457
01:02:32,619 --> 01:02:35,469
there's no lifetime and we'll recreate

1458
01:02:34,119 --> 01:02:37,838
them at the start by checking for

1459
01:02:35,469 --> 01:02:39,458
overlapping right so now we don't have

1460
01:02:37,838 --> 01:02:41,288
that lifetime problem and we can push

1461
01:02:39,458 --> 01:02:42,818
everything in the same system we don't

1462
01:02:41,289 --> 01:02:44,049
care whether they're things that should

1463
01:02:42,818 --> 01:02:46,329
live for a long time or things are doing

1464
01:02:44,048 --> 01:02:47,708
for a brief time so we don't have to

1465
01:02:46,329 --> 01:02:49,449
worry about that lifetime management

1466
01:02:47,708 --> 01:02:52,358
problem that we had before where we

1467
01:02:49,449 --> 01:02:54,459
don't ever know we can't tell the system

1468
01:02:52,358 --> 01:02:57,518
yes it's ok to forget about this rule we

1469
01:02:54,458 --> 01:02:59,858
wouldn't know now we know so that's

1470
01:02:57,518 --> 01:03:01,568
really nice I really like that I think

1471
01:02:59,858 --> 01:03:02,828
we can build on this so I'm excited

1472
01:03:01,568 --> 01:03:05,768
about that that's definitely we're gonna

1473
01:03:02,829 --> 01:03:10,479
do tomorrow all right so let's go ahead

1474
01:03:05,768 --> 01:03:13,718
and and do it let's go ahead and do it

1475
01:03:10,478 --> 01:03:16,149
go to the QA we've still got about 11

1476
01:03:13,719 --> 01:03:16,809
minutes left you might as well do some

1477
01:03:16,150 --> 01:03:18,489
QA

1478
01:03:16,809 --> 01:03:19,839
in the meantime I'm very happy about

1479
01:03:18,489 --> 01:03:22,329
that that was a good discovery

1480
01:03:19,838 --> 01:03:25,989
accidental discovery so that's what

1481
01:03:22,329 --> 01:03:28,229
we're going to do yes I like it I like

1482
01:03:25,989 --> 01:03:30,938
it I like it

1483
01:03:28,228 --> 01:03:35,018
okay let's go to the QA does anyone have

1484
01:03:30,938 --> 01:03:36,188
any questions if you could please prefix

1485
01:03:35,018 --> 01:03:37,568
time with Q :

1486
01:03:36,188 --> 01:03:38,708
that'll help I can see them I have a

1487
01:03:37,568 --> 01:03:41,498
little filter that looks for things that

1488
01:03:38,708 --> 01:03:43,389
you : so I don't have to look at the

1489
01:03:41,498 --> 01:03:45,098
chat and try to mine questions out I'd

1490
01:03:43,389 --> 01:03:46,808
like him to see them come out so if

1491
01:03:45,099 --> 01:03:50,259
anyone has questions please prefix time

1492
01:03:46,809 --> 01:03:51,640
with Q : and type them in and I will

1493
01:03:50,259 --> 01:03:53,079
answer them but if you could please keep

1494
01:03:51,639 --> 01:03:55,598
them to coding questions stuff we've

1495
01:03:53,079 --> 01:03:57,130
done on the stream you know so that we

1496
01:03:55,599 --> 01:03:59,709
can kind of keep it on topic and then we

1497
01:03:57,130 --> 01:04:00,759
can always do off-topic questions at the

1498
01:03:59,708 --> 01:04:04,498
King industry we did a bunch of them

1499
01:04:00,759 --> 01:04:04,498
today we do a bunch from tomorrow too

1500
01:04:10,760 --> 01:04:20,780
no questions it's question free

1501
01:04:14,269 --> 01:04:25,059
apparently everyone totally was down

1502
01:04:20,780 --> 01:04:33,400
with everything well that seems good

1503
01:04:25,059 --> 01:04:33,400
certainly we can all go home early

1504
01:04:37,329 --> 01:04:47,750
anyone anyone no why did you decide to

1505
01:04:44,360 --> 01:04:51,200
code at like four actually it was

1506
01:04:47,750 --> 01:04:53,210
because of a reschedule had to happen

1507
01:04:51,199 --> 01:04:54,319
family emergency wise death and the

1508
01:04:53,210 --> 01:04:56,539
family is the short answer

1509
01:04:54,320 --> 01:04:59,950
long answer is more complicated but I

1510
01:04:56,539 --> 01:04:59,949
had to move the stream

1511
01:05:20,039 --> 01:05:24,000
glad to see the AABB collision detection

1512
01:05:22,349 --> 01:05:28,380
code come up took me way too long to

1513
01:05:24,000 --> 01:05:32,760
figure that one out yeah I didn't

1514
01:05:28,380 --> 01:05:34,829
explain it super well I I think like

1515
01:05:32,760 --> 01:05:36,810
most of my collision stuff was gjk

1516
01:05:34,829 --> 01:05:40,230
oriented so I don't think about overlap

1517
01:05:36,809 --> 01:05:46,259
test that well the way to think about

1518
01:05:40,230 --> 01:05:57,570
overlap testing is is usually in terms

1519
01:05:46,260 --> 01:06:01,440
of the separating oops parading rating I

1520
01:05:57,570 --> 01:06:05,088
don't know having a Facebook spelling

1521
01:06:01,440 --> 01:06:05,088
moment they're separating axis theorem

1522
01:06:05,719 --> 01:06:10,730
which is usually to say that for any two

1523
01:06:08,579 --> 01:06:15,150
shapes it doesn't matter what they are

1524
01:06:10,730 --> 01:06:17,309
if they overlap then I'm sorry if they

1525
01:06:15,150 --> 01:06:20,338
do not overlap you will be able to find

1526
01:06:17,309 --> 01:06:22,559
some axis along which they are separated

1527
01:06:20,338 --> 01:06:24,568
right and basically you can think of a

1528
01:06:22,559 --> 01:06:26,519
separating plane and the access is like

1529
01:06:24,568 --> 01:06:30,239
you know normal to that plane or

1530
01:06:26,519 --> 01:06:32,219
whatever right and so a lot of times

1531
01:06:30,239 --> 01:06:34,769
what you're trying to do when you're

1532
01:06:32,219 --> 01:06:36,838
doing quick overlap tests like the ABB

1533
01:06:34,769 --> 01:06:39,809
one is you're trying to figure out what

1534
01:06:36,838 --> 01:06:45,000
are the possible axes what are the

1535
01:06:39,809 --> 01:06:48,150
possible right axes that you could test

1536
01:06:45,000 --> 01:06:50,309
and so for arbitrary shapes it's

1537
01:06:48,150 --> 01:06:52,200
somewhat complicated because you have to

1538
01:06:50,309 --> 01:06:54,509
think about what all of the possible

1539
01:06:52,199 --> 01:06:58,618
planes that could separate the two

1540
01:06:54,510 --> 01:07:00,869
objects would be right and that's a more

1541
01:06:58,619 --> 01:07:03,180
complicated thing there are proofs that

1542
01:07:00,869 --> 01:07:04,980
say that you know for comics objects it

1543
01:07:03,179 --> 01:07:07,129
has to be a combination of elements on

1544
01:07:04,980 --> 01:07:10,079
the abused and bla bla bla bla bla

1545
01:07:07,130 --> 01:07:12,588
there's like things that can help you

1546
01:07:10,079 --> 01:07:16,589
but in general it's complicated right

1547
01:07:12,588 --> 01:07:18,539
for axis aligned bounding boxes the nice

1548
01:07:16,588 --> 01:07:20,460
part about it is things that are so

1549
01:07:18,539 --> 01:07:23,190
straight forward is that they it's it's

1550
01:07:20,460 --> 01:07:25,829
basically a convex object with a known

1551
01:07:23,190 --> 01:07:28,829
alignment where the actual shape of the

1552
01:07:25,829 --> 01:07:31,829
object lines up with the axis system you

1553
01:07:28,829 --> 01:07:33,509
have this nice pasta sort of thing that

1554
01:07:31,829 --> 01:07:35,669
happens where the possible

1555
01:07:33,509 --> 01:07:37,798
separating axes are the actual axes of

1556
01:07:35,668 --> 01:07:40,798
the coordinate system right it's x y and

1557
01:07:37,798 --> 01:07:44,130
z are the three possible separating axes

1558
01:07:40,798 --> 01:07:47,518
so you only have to look to see that all

1559
01:07:44,130 --> 01:07:49,229
three of them are SEP that that you have

1560
01:07:47,518 --> 01:07:50,938
to look to three to see that none of

1561
01:07:49,228 --> 01:07:54,208
those three are separated and then you

1562
01:07:50,938 --> 01:07:57,148
know you have an intersection but it's

1563
01:07:54,208 --> 01:08:01,318
harder when you go up to other kinds of

1564
01:07:57,148 --> 01:08:04,048
shapes like I said usually I end up

1565
01:08:01,318 --> 01:08:05,268
going gjk for arbitrary stuff just

1566
01:08:04,048 --> 01:08:08,458
because that's what I'm familiar with

1567
01:08:05,268 --> 01:08:12,418
and so my experience with these kinds of

1568
01:08:08,458 --> 01:08:15,509
algorithms is much more limited I am NOT

1569
01:08:12,418 --> 01:08:16,798
a very good separating access guy but

1570
01:08:15,509 --> 01:08:18,179
there are people who do a lot more work

1571
01:08:16,798 --> 01:08:19,679
with those because you knows you can

1572
01:08:18,179 --> 01:08:22,259
come up with fast separating access

1573
01:08:19,679 --> 01:08:25,139
theorems they help you make ways of you

1574
01:08:22,259 --> 01:08:27,059
know figure out ways to do you know

1575
01:08:25,139 --> 01:08:29,309
simple kind of tests for things

1576
01:08:27,059 --> 01:08:32,609
sometimes a really good example would be

1577
01:08:29,309 --> 01:08:34,829
if you had two spheres right because

1578
01:08:32,609 --> 01:08:36,779
spheres are equidistant in all

1579
01:08:34,828 --> 01:08:39,210
directions from their center point right

1580
01:08:36,779 --> 01:08:41,579
then what you know is if you connect

1581
01:08:39,210 --> 01:08:44,250
those two Center points you know that if

1582
01:08:41,578 --> 01:08:46,170
anything was ever going to separate them

1583
01:08:44,250 --> 01:08:49,078
it would have to be a plane

1584
01:08:46,170 --> 01:08:53,368
perpendicular to that right because that

1585
01:08:49,078 --> 01:08:56,278
is the closest a point of approach for

1586
01:08:53,368 --> 01:08:59,189
those spheres always and so you know

1587
01:08:56,279 --> 01:09:00,509
that if those were touching if those

1588
01:08:59,189 --> 01:09:01,558
were not touching then no other point

1589
01:09:00,509 --> 01:09:03,929
could be touching right

1590
01:09:01,559 --> 01:09:05,788
and so sphere separating access is

1591
01:09:03,929 --> 01:09:08,279
really nice it's just whatever the the

1592
01:09:05,788 --> 01:09:10,880
axis is that that runs between the two

1593
01:09:08,279 --> 01:09:13,319
sphere centers and that's really handy

1594
01:09:10,880 --> 01:09:15,239
but for arbitration it's much more

1595
01:09:13,319 --> 01:09:20,940
complicated X line bounding boxes

1596
01:09:15,238 --> 01:09:22,798
spheres very good right skiers are

1597
01:09:20,939 --> 01:09:25,259
actually easier than axel I'm bounding

1598
01:09:22,798 --> 01:09:27,599
boxes in some sense conceptually because

1599
01:09:25,259 --> 01:09:28,559
you only have to check one axis although

1600
01:09:27,599 --> 01:09:30,359
it may not work out that the

1601
01:09:28,559 --> 01:09:31,798
calculations are easier because you do

1602
01:09:30,359 --> 01:09:35,210
have to do that subtraction and other

1603
01:09:31,798 --> 01:09:35,210
things like that but you get the idea

1604
01:09:50,279 --> 01:09:54,700
you mentioned yesterday about choosing

1605
01:09:52,569 --> 01:09:56,230
between two ways to solve the problem of

1606
01:09:54,699 --> 01:09:57,639
large entities that overlap the same

1607
01:09:56,229 --> 01:09:59,289
region but are not in the selected

1608
01:09:57,640 --> 01:10:01,180
chunks it looked to me like you could

1609
01:09:59,289 --> 01:10:03,279
use both solutions if the entity is

1610
01:10:01,180 --> 01:10:04,659
larger than the max entity size still

1611
01:10:03,279 --> 01:10:06,309
allow it and use the add it twice

1612
01:10:04,659 --> 01:10:07,779
approach would this get you all the

1613
01:10:06,310 --> 01:10:11,380
advantages of both with neither of the

1614
01:10:07,779 --> 01:10:13,630
disadvantages um I guess what I would

1615
01:10:11,380 --> 01:10:14,800
say is that does sound like a very good

1616
01:10:13,630 --> 01:10:20,619
idea to me

1617
01:10:14,800 --> 01:10:22,539
I like that the thing I don't love is

1618
01:10:20,619 --> 01:10:24,460
just the concept of doing the double ad

1619
01:10:22,539 --> 01:10:28,659
I wanted to stay away from that if

1620
01:10:24,460 --> 01:10:30,970
possible but I do like the idea of when

1621
01:10:28,659 --> 01:10:32,170
we get down to it maybe we find that

1622
01:10:30,970 --> 01:10:34,990
that we want to do things more

1623
01:10:32,170 --> 01:10:38,050
efficiently that does sound pretty good

1624
01:10:34,989 --> 01:10:40,590
I like that approach let's let's make a

1625
01:10:38,050 --> 01:10:43,539
note of that in the collision system

1626
01:10:40,590 --> 01:10:46,119
because yeah that is a pretty good idea

1627
01:10:43,539 --> 01:10:49,359
there's no reason we know for any given

1628
01:10:46,119 --> 01:10:52,689
entity we would know that as long as we

1629
01:10:49,359 --> 01:10:55,179
formalize the notion of when its bounds

1630
01:10:52,689 --> 01:10:58,589
can be set we would know at all times

1631
01:10:55,180 --> 01:11:00,909
wet which one of those two it would be

1632
01:10:58,590 --> 01:11:09,690
so I do like that's a very good idea

1633
01:11:00,909 --> 01:11:14,769
good thinking let's say perhaps try

1634
01:11:09,689 --> 01:11:18,189
using a dual system here where we

1635
01:11:14,770 --> 01:11:22,990
support entities larger than the max

1636
01:11:18,189 --> 01:11:29,979
empty radius by adding them multiple

1637
01:11:22,989 --> 01:11:33,389
times to the spatial partition yeah

1638
01:11:29,979 --> 01:11:33,389
that's a good idea

1639
01:11:36,109 --> 01:11:40,349
would it make sense to just put a wall

1640
01:11:38,579 --> 01:11:43,289
of 1/3 the length on each side of the

1641
01:11:40,350 --> 01:11:45,750
stairwell to handle the collision um we

1642
01:11:43,289 --> 01:11:47,310
could certainly do that I think that

1643
01:11:45,750 --> 01:11:49,289
because we have to do all the work of

1644
01:11:47,310 --> 01:11:51,150
handling walking down the stairs I think

1645
01:11:49,289 --> 01:11:54,029
it'll probably end up being free at the

1646
01:11:51,149 --> 01:11:55,259
end of that to prevent motion outside of

1647
01:11:54,029 --> 01:11:57,479
it but that would be a totally

1648
01:11:55,260 --> 01:12:00,230
reasonable solution but because we have

1649
01:11:57,479 --> 01:12:03,239
to do that thing where we walk down I

1650
01:12:00,229 --> 01:12:03,449
think we're gonna already know where we

1651
01:12:03,239 --> 01:12:05,130
are

1652
01:12:03,449 --> 01:12:07,349
along the stairwell and so I think we'll

1653
01:12:05,130 --> 01:12:08,100
be able to kind of just do it but yeah

1654
01:12:07,350 --> 01:12:09,450
if it turned out to be really

1655
01:12:08,100 --> 01:12:15,930
problematic for some reason we could do

1656
01:12:09,449 --> 01:12:18,389
we could do the wall method is that you

1657
01:12:15,930 --> 01:12:19,920
do this in the platform layer a more or

1658
01:12:18,390 --> 01:12:21,030
less comprehensive list of change do you

1659
01:12:19,920 --> 01:12:22,920
do before shipping or there's some

1660
01:12:21,029 --> 01:12:24,929
additional things one should note I'm

1661
01:12:22,920 --> 01:12:26,760
not sure I don't know that it's

1662
01:12:24,930 --> 01:12:28,590
exhaustive it had most of the things I

1663
01:12:26,760 --> 01:12:30,329
thought of at the time but it might not

1664
01:12:28,590 --> 01:12:32,569
be exhaustive it there may be other

1665
01:12:30,329 --> 01:12:32,569
things

1666
01:12:42,059 --> 01:12:45,369
yesterday you mentioned that when

1667
01:12:43,719 --> 01:12:46,719
jumping up to a chunk above the

1668
01:12:45,368 --> 01:12:48,488
character would jump over the ground

1669
01:12:46,719 --> 01:12:50,469
level z equals zero and then come down

1670
01:12:48,488 --> 01:12:51,899
however since the jump go is making the

1671
01:12:50,469 --> 01:12:54,248
Z position go to zero if negative

1672
01:12:51,899 --> 01:12:56,408
wouldn't the character be pushed up to

1673
01:12:54,248 --> 01:12:58,630
zero as soon as it reached the low side

1674
01:12:56,408 --> 01:13:00,038
of the upper chunk and won't this cause

1675
01:12:58,630 --> 01:13:02,679
problems when trying to move the

1676
01:13:00,038 --> 01:13:06,340
character up the stairs yeah I mean it

1677
01:13:02,679 --> 01:13:08,309
it presumably will do that that's a

1678
01:13:06,340 --> 01:13:12,179
that's a correct way to think about it

1679
01:13:08,309 --> 01:13:14,769
we need to get rid of that code entirely

1680
01:13:12,179 --> 01:13:18,069
because it's not correct even for

1681
01:13:14,769 --> 01:13:19,929
jumping right so what we need to do is

1682
01:13:18,069 --> 01:13:22,899
we need to do something that actually

1683
01:13:19,929 --> 01:13:25,059
looks to see what we are actually doing

1684
01:13:22,899 --> 01:13:26,379
a Z motion wise and that's why we have

1685
01:13:25,059 --> 01:13:28,210
this to do that's why we're doing what

1686
01:13:26,380 --> 01:13:31,690
we're doing now is because we have to go

1687
01:13:28,210 --> 01:13:33,550
through and kind of actually handle how

1688
01:13:31,689 --> 01:13:34,868
we want to do that kind of motion now

1689
01:13:33,550 --> 01:13:36,550
for jumping we don't have to care

1690
01:13:34,868 --> 01:13:39,399
because we don't really actually allow

1691
01:13:36,550 --> 01:13:41,739
jumping right but for the stairwells we

1692
01:13:39,399 --> 01:13:43,420
need to do this properly either way and

1693
01:13:41,738 --> 01:13:46,379
so we'll be actually writing some code

1694
01:13:43,420 --> 01:13:48,489
that actually thinks about the Z

1695
01:13:46,380 --> 01:13:49,929
logically it doesn't compare to the

1696
01:13:48,488 --> 01:13:53,848
arbitrary value of zero which means

1697
01:13:49,929 --> 01:13:53,849
nothing really if that makes sense

1698
01:13:56,960 --> 01:14:00,260
all of these algorithms all specify

1699
01:13:59,329 --> 01:14:02,239
convex shapes

1700
01:14:00,260 --> 01:14:04,070
is there anything usable for concave

1701
01:14:02,239 --> 01:14:05,510
shapes or is it usually always the case

1702
01:14:04,069 --> 01:14:07,309
that it's better to just split up a

1703
01:14:05,510 --> 01:14:12,170
concave shape into multiple convex

1704
01:14:07,310 --> 01:14:15,440
shapes I don't want to say that there's

1705
01:14:12,170 --> 01:14:17,029
nothing usable for concave shapes but I

1706
01:14:15,439 --> 01:14:18,619
will say that I don't know any

1707
01:14:17,029 --> 01:14:21,590
algorithms that are usable for concave

1708
01:14:18,619 --> 01:14:23,800
shapes so they might exist some out

1709
01:14:21,590 --> 01:14:27,319
there I just don't know what they are

1710
01:14:23,800 --> 01:14:28,880
I've certainly never written one on the

1711
01:14:27,319 --> 01:14:30,829
whole everyone I've ever seen do

1712
01:14:28,880 --> 01:14:33,100
collision detection always does it by

1713
01:14:30,829 --> 01:14:35,750
first breaking things up into concave

1714
01:14:33,100 --> 01:14:37,820
pieces because you can take any I'm

1715
01:14:35,750 --> 01:14:40,159
sorry convex pieces you can always take

1716
01:14:37,819 --> 01:14:43,670
a concave shape and break it up into

1717
01:14:40,159 --> 01:14:45,769
convex shapes so you can always produce

1718
01:14:43,670 --> 01:14:47,989
the convex problem from the concave

1719
01:14:45,770 --> 01:14:49,790
problem and everyone I've ever seen

1720
01:14:47,989 --> 01:14:51,889
solve collision protection always does

1721
01:14:49,789 --> 01:14:53,539
that step they always take their concave

1722
01:14:51,890 --> 01:14:56,500
shapes break them into convex shapes and

1723
01:14:53,539 --> 01:14:56,500
then run them that way

1724
01:15:11,618 --> 01:15:14,679
about the to-do lists you mentioned a

1725
01:15:13,510 --> 01:15:16,360
while back that you want to code some

1726
01:15:14,679 --> 01:15:19,179
sort of zooming out that would let you

1727
01:15:16,359 --> 01:15:20,948
see entities outside the sim region yes

1728
01:15:19,179 --> 01:15:22,690
and I may want to do zooming out just in

1729
01:15:20,948 --> 01:15:25,149
general the promise our renderer doesn't

1730
01:15:22,689 --> 01:15:26,439
really handle it yet so I'm hoping we

1731
01:15:25,149 --> 01:15:32,049
can kind of do that once the renderer

1732
01:15:26,439 --> 01:15:36,279
has scaling in it but we'll see an

1733
01:15:32,050 --> 01:15:37,869
episode on metaprogramming please you

1734
01:15:36,279 --> 01:15:39,130
seem to ignore it I'm not going to teach

1735
01:15:37,868 --> 01:15:42,750
meta programming down the stream it's

1736
01:15:39,130 --> 01:15:44,859
it's too far outside what we're doing so

1737
01:15:42,750 --> 01:15:46,899
we're sticking with regular programming

1738
01:15:44,859 --> 01:15:49,210
after what the end of handmade hero if

1739
01:15:46,899 --> 01:15:51,189
everyone totally is down at that point

1740
01:15:49,210 --> 01:15:52,239
with everything we've done maybe we can

1741
01:15:51,189 --> 01:15:55,059
think about starting on meta programming

1742
01:15:52,238 --> 01:15:56,799
at that point but but we're not gonna do

1743
01:15:55,060 --> 01:16:02,230
meta programming until we've got

1744
01:15:56,800 --> 01:16:04,289
programming down so yeah I could throw

1745
01:16:02,229 --> 01:16:06,848
that in here

1746
01:16:04,289 --> 01:16:10,929
for multiple sim regions where is our

1747
01:16:06,849 --> 01:16:15,099
multiple sim region stuff zoomed simple

1748
01:16:10,929 --> 01:16:19,420
zoom mount simple zoomed out view for

1749
01:16:15,099 --> 01:16:21,789
testing there yeah alright so we're out

1750
01:16:19,420 --> 01:16:26,139
of time you're out of time we go ahead

1751
01:16:21,789 --> 01:16:31,389
and save our blackboard I'm gonna go

1752
01:16:26,139 --> 01:16:33,069
ahead and close this down and conclude

1753
01:16:31,389 --> 01:16:34,539
the screen thank you everyone for

1754
01:16:33,069 --> 01:16:35,649
joining me for another episode of hand

1755
01:16:34,539 --> 01:16:36,189
made here it's been a pleasure coding

1756
01:16:35,649 --> 01:16:37,329
with you as always

1757
01:16:36,189 --> 01:16:38,589
in the especially a pleasure today

1758
01:16:37,329 --> 01:16:40,300
because we figured out something that I

1759
01:16:38,590 --> 01:16:42,039
haven't been thinking about that seems

1760
01:16:40,300 --> 01:16:44,440
like a pretty cool thing that we can

1761
01:16:42,039 --> 01:16:45,760
pursue so I'm gonna be working on that

1762
01:16:44,439 --> 01:16:47,019
tomorrow tomorrow will be at our

1763
01:16:45,760 --> 01:16:48,670
regularly scheduled time I believe it

1764
01:16:47,020 --> 01:16:52,389
should be 8 p.m. stick Standard Time

1765
01:16:48,670 --> 01:16:53,949
tomorrow as originally scheduled it will

1766
01:16:52,389 --> 01:16:57,550
not be one that we have to move like we

1767
01:16:53,948 --> 01:16:58,928
did today apologize for that so yeah if

1768
01:16:57,550 --> 01:17:00,489
you come back tomorrow 8 p.m. Pacific

1769
01:16:58,929 --> 01:17:01,750
Standard Time we will take a look at

1770
01:17:00,488 --> 01:17:04,419
that collision real stuff now that we

1771
01:17:01,750 --> 01:17:06,099
kind of had a good idea about it and see

1772
01:17:04,420 --> 01:17:07,239
what we can do that's that's cool in

1773
01:17:06,099 --> 01:17:08,710
there I think we'll be able to do some

1774
01:17:07,238 --> 01:17:09,698
cool stuff so I'm looking forward to

1775
01:17:08,710 --> 01:17:11,920
that I think that'll be pretty awesome

1776
01:17:09,698 --> 01:17:13,388
if you want to follow along at home at

1777
01:17:11,920 --> 01:17:14,829
the source code you can always do so by

1778
01:17:13,389 --> 01:17:17,800
pre-ordering the game on handmade here

1779
01:17:14,829 --> 01:17:19,238
org if you preorder the game you can get

1780
01:17:17,800 --> 01:17:20,619
a link that allows you download source

1781
01:17:19,238 --> 01:17:21,879
code all the time and follow along at

1782
01:17:20,618 --> 01:17:23,259
home which is kind of cool it also comes

1783
01:17:21,880 --> 01:17:24,779
with the test assets you see us using on

1784
01:17:23,260 --> 01:17:26,159
the stream so you can

1785
01:17:24,779 --> 01:17:27,750
you know play around with it and it

1786
01:17:26,158 --> 01:17:29,729
looks exactly like what I'm working with

1787
01:17:27,750 --> 01:17:31,050
we also have a patreon if you want

1788
01:17:29,729 --> 01:17:32,158
support the video series you can

1789
01:17:31,050 --> 01:17:34,380
subscribe to that it's very much

1790
01:17:32,158 --> 01:17:35,819
appreciated we also have a tweet bot

1791
01:17:34,380 --> 01:17:37,440
that tweets the schedule so if you want

1792
01:17:35,819 --> 01:17:38,729
to know when the things are or you want

1793
01:17:37,439 --> 01:17:40,799
to be notified of last-minute changes

1794
01:17:38,729 --> 01:17:42,868
like what happened today the tweet bot

1795
01:17:40,800 --> 01:17:43,920
is is the place to go it always tweets

1796
01:17:42,868 --> 01:17:46,348
the most accurate version of the

1797
01:17:43,920 --> 01:17:48,328
schedule in so much as we can make it do

1798
01:17:46,349 --> 01:17:50,038
so and so that's a good place for that

1799
01:17:48,328 --> 01:17:51,389
also we have a news and forum site which

1800
01:17:50,038 --> 01:17:52,979
is pretty cool it has a bunch of

1801
01:17:51,389 --> 01:17:54,809
resources on there people have ported

1802
01:17:52,979 --> 01:17:56,669
the thing to Mac &amp; Linux so if you want

1803
01:17:54,809 --> 01:17:58,349
to follow on another platform there's

1804
01:17:56,670 --> 01:18:00,929
also Android and iOS ports up there NAT

1805
01:17:58,349 --> 01:18:02,550
- I think there's a coding forum you can

1806
01:18:00,929 --> 01:18:04,889
ask questions on I answer questions over

1807
01:18:02,550 --> 01:18:06,449
there as do other people and there's

1808
01:18:04,889 --> 01:18:08,099
also a great episode guide made by the

1809
01:18:06,448 --> 01:18:09,899
community which says like notes on the

1810
01:18:08,099 --> 01:18:11,940
episodes and things like that as people

1811
01:18:09,899 --> 01:18:13,259
work through them so we've got all kinds

1812
01:18:11,939 --> 01:18:14,069
of great stuff on there I highly

1813
01:18:13,260 --> 01:18:15,030
recommend you check it out if you're

1814
01:18:14,069 --> 01:18:16,859
trying to learn for the stream it's a

1815
01:18:15,029 --> 01:18:19,019
really great resource thanks everyone

1816
01:18:16,859 --> 01:18:21,538
for joining me I hope to see you again

1817
01:18:19,020 --> 01:18:24,210
here tomorrow have a fabulous Thursday

1818
01:18:21,538 --> 01:18:25,769
if I don't or if I do just have a

1819
01:18:24,210 --> 01:18:27,920
fabulous Thursday I'll tell you see you

1820
01:18:25,770 --> 01:18:27,920
guys later

