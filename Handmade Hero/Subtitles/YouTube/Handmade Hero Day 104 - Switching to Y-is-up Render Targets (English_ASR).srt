1
00:00:01,250 --> 00:00:06,569
hello everyone and welcome to handmade

2
00:00:03,779 --> 00:00:08,970
Heroes show recoat a complete game live

3
00:00:06,569 --> 00:00:14,969
on Twitch no engines no libraries it's

4
00:00:08,970 --> 00:00:19,770
all us and we are actually at the point

5
00:00:14,968 --> 00:00:21,750
where we have just wrapped up doing our

6
00:00:19,769 --> 00:00:24,210
normal map code which was kind of cool

7
00:00:21,750 --> 00:00:26,009
we still have some stuff we want to do

8
00:00:24,210 --> 00:00:27,839
with lighting we we finished the normal

9
00:00:26,010 --> 00:00:28,800
map stuff to a large extent but we have

10
00:00:27,839 --> 00:00:31,018
some stuff we want to do with lighting

11
00:00:28,800 --> 00:00:32,189
there what we kind of decided when we're

12
00:00:31,018 --> 00:00:33,479
in the middle of that was that we was

13
00:00:32,189 --> 00:00:35,429
really getting the point where we had to

14
00:00:33,479 --> 00:00:37,828
sort of lock down all of our coordinate

15
00:00:35,429 --> 00:00:39,929
system stuff in the renderer because

16
00:00:37,829 --> 00:00:41,009
we've never really done that and it was

17
00:00:39,929 --> 00:00:42,808
kind of getting to the point where it

18
00:00:41,009 --> 00:00:45,299
was getting kind of silly because it was

19
00:00:42,808 --> 00:00:47,789
really ad hoc and so we wanted to do

20
00:00:45,299 --> 00:00:49,738
this week before finishing up the

21
00:00:47,789 --> 00:00:52,890
lighting which is going to involve us

22
00:00:49,738 --> 00:00:54,780
sort of playing around with a mapping

23
00:00:52,890 --> 00:00:59,070
like some kind of a mapping to get

24
00:00:54,780 --> 00:01:00,590
localized light sources we have our sort

25
00:00:59,070 --> 00:01:02,460
of sky and ground stuff working

26
00:01:00,590 --> 00:01:04,558
relatively well right now but we don't

27
00:01:02,460 --> 00:01:07,859
have sort of local around you sort of

28
00:01:04,558 --> 00:01:09,989
light stuff working well we wanted to do

29
00:01:07,859 --> 00:01:12,868
before we went and did that was we just

30
00:01:09,989 --> 00:01:15,599
kind of wanted to take a little bit and

31
00:01:12,868 --> 00:01:17,609
go through the render as it stands and

32
00:01:15,599 --> 00:01:19,908
sort of lock down okay what's the

33
00:01:17,609 --> 00:01:24,359
coordinate system who's in charge of

34
00:01:19,909 --> 00:01:25,710
doing what when you know what is the

35
00:01:24,359 --> 00:01:27,478
format for the fit map at the end of the

36
00:01:25,709 --> 00:01:30,629
day is it bottom-up top-down all these

37
00:01:27,478 --> 00:01:32,578
sorts of things and so we you know it's

38
00:01:30,629 --> 00:01:33,780
it's not glamorous work certainly but

39
00:01:32,578 --> 00:01:36,239
it's the kind of work that you want to

40
00:01:33,780 --> 00:01:37,890
do periodically because you don't really

41
00:01:36,239 --> 00:01:39,839
want to let things kind of get into this

42
00:01:37,890 --> 00:01:42,329
state where everything is sort of Rube

43
00:01:39,840 --> 00:01:44,790
Goldberg II relying on hidden knowledge

44
00:01:42,328 --> 00:01:47,158
about who flips what when and there's

45
00:01:44,790 --> 00:01:48,780
lens up being twelve negatives and then

46
00:01:47,159 --> 00:01:50,728
you add the thirteenth one so that it

47
00:01:48,780 --> 00:01:51,780
can actually flip and they're all cancel

48
00:01:50,728 --> 00:01:53,789
each other out and all these sorts of

49
00:01:51,780 --> 00:01:56,280
things you don't want to get into those

50
00:01:53,790 --> 00:01:58,829
situations so periodically when you kind

51
00:01:56,280 --> 00:02:01,739
of get that feeling that it's a good

52
00:01:58,828 --> 00:02:04,349
time to sort of start to solidify some

53
00:02:01,739 --> 00:02:05,578
rules you kind of want to take the time

54
00:02:04,349 --> 00:02:07,319
to go through and do it so that's what

55
00:02:05,578 --> 00:02:08,549
I'd like to do this week I don't they

56
00:02:07,319 --> 00:02:10,169
don't know that it's going to take a

57
00:02:08,550 --> 00:02:11,370
week obviously but what I'd like to do

58
00:02:10,169 --> 00:02:12,259
is start the week with that and just so

59
00:02:11,370 --> 00:02:14,000
we have plenty of time

60
00:02:12,259 --> 00:02:16,429
we need it to go through and just clean

61
00:02:14,000 --> 00:02:19,459
out all of that stuff and you know sort

62
00:02:16,430 --> 00:02:21,469
of have a really good idea of exactly

63
00:02:19,459 --> 00:02:25,128
what the coordinate system is at all

64
00:02:21,469 --> 00:02:27,799
times and there's there's some nuance to

65
00:02:25,128 --> 00:02:29,719
that as well which is that Z is kind of

66
00:02:27,799 --> 00:02:31,280
up in the air at this time as well and

67
00:02:29,719 --> 00:02:35,568
so I feel like what we kind of want to

68
00:02:31,280 --> 00:02:38,239
do in that in that process as well is

69
00:02:35,568 --> 00:02:39,289
get our Z handling straightened out as

70
00:02:38,239 --> 00:02:42,349
well because there was a bunch of things

71
00:02:39,289 --> 00:02:43,489
about like when things get displaced off

72
00:02:42,348 --> 00:02:45,289
of the ground

73
00:02:43,489 --> 00:02:48,500
you know because since we're in

74
00:02:45,289 --> 00:02:49,939
pseudo-3d we kind of have to have little

75
00:02:48,500 --> 00:02:51,859
weird things that we do like moving

76
00:02:49,939 --> 00:02:53,598
things up off the you know moving things

77
00:02:51,859 --> 00:02:54,829
up in Y even though technically they

78
00:02:53,598 --> 00:02:56,030
would only like be coming out of the

79
00:02:54,829 --> 00:02:58,400
screen all sorts of things like that

80
00:02:56,030 --> 00:03:02,419
so when we do this pass I'm also going

81
00:02:58,400 --> 00:03:06,530
to be trying to get that stuff corralled

82
00:03:02,419 --> 00:03:08,208
a little bit more because one of the big

83
00:03:06,530 --> 00:03:11,269
reasons that we decided to do the

84
00:03:08,209 --> 00:03:14,479
renderer at this time in the first place

85
00:03:11,269 --> 00:03:17,930
was because we really wanted to get our

86
00:03:14,479 --> 00:03:19,698
Z handling nailed down right and so we

87
00:03:17,930 --> 00:03:21,739
kind of have to remember to keep an eye

88
00:03:19,699 --> 00:03:24,049
on that at the end of this process when

89
00:03:21,739 --> 00:03:25,819
the renderer that we're doing is done we

90
00:03:24,049 --> 00:03:27,799
want to have that good Z handling in

91
00:03:25,818 --> 00:03:29,750
here and so through that entire process

92
00:03:27,799 --> 00:03:31,459
we kind of have to cop keep looking at Z

93
00:03:29,750 --> 00:03:33,530
and going how do we want to handle this

94
00:03:31,459 --> 00:03:34,579
what are the the you know different

95
00:03:33,530 --> 00:03:35,269
rules that we're going to use what are

96
00:03:34,579 --> 00:03:36,590
the different things we're going to

97
00:03:35,269 --> 00:03:38,780
support and so that's the other thing

98
00:03:36,590 --> 00:03:41,209
that when we go through this process to

99
00:03:38,780 --> 00:03:43,549
sort of clean up our screen transform

100
00:03:41,209 --> 00:03:46,039
stuff now would also be a good time for

101
00:03:43,549 --> 00:03:51,620
us to think about how that zinnias get

102
00:03:46,039 --> 00:03:52,878
cleaned up so today is day 104 so if you

103
00:03:51,620 --> 00:03:56,150
have pre-ordered the game on handmade

104
00:03:52,878 --> 00:03:58,939
hero org and you have the latest source

105
00:03:56,150 --> 00:04:00,919
zip go ahead and unpack day 103 out of

106
00:03:58,939 --> 00:04:02,689
sources out of there that's where I'm

107
00:04:00,919 --> 00:04:05,299
going to be today and so you'll be right

108
00:04:02,689 --> 00:04:08,120
on right on target you'll be right where

109
00:04:05,299 --> 00:04:10,159
I am so if you remember where we left

110
00:04:08,120 --> 00:04:12,229
off last week when we finished

111
00:04:10,158 --> 00:04:14,568
everything in terms of the normal

112
00:04:12,229 --> 00:04:16,220
mapping we sort of finished off just

113
00:04:14,568 --> 00:04:18,348
having the sky and the ground reflected

114
00:04:16,220 --> 00:04:20,930
and we were pretty happy with where we

115
00:04:18,348 --> 00:04:23,120
ended up with that but of course we

116
00:04:20,930 --> 00:04:25,310
still have you notice the middle of our

117
00:04:23,120 --> 00:04:25,699
sphere is not reflecting anything that's

118
00:04:25,310 --> 00:04:27,199
the

119
00:04:25,699 --> 00:04:29,500
Green map here which we have not done

120
00:04:27,199 --> 00:04:34,459
anything with yet and so while we have

121
00:04:29,500 --> 00:04:36,259
sort of a a notion of how the sky and

122
00:04:34,459 --> 00:04:38,389
the ground is reflecting we haven't done

123
00:04:36,259 --> 00:04:40,789
sort of the near-field reflection stuff

124
00:04:38,389 --> 00:04:42,349
and so we're going to just post or we're

125
00:04:40,790 --> 00:04:44,000
going to leave that here where it is

126
00:04:42,350 --> 00:04:46,310
because we're relatively confident that

127
00:04:44,000 --> 00:04:48,470
we're doing the basic reflection stuff

128
00:04:46,310 --> 00:04:50,689
correctly although we you'll notice the

129
00:04:48,470 --> 00:04:51,710
ground one of the motivations for going

130
00:04:50,689 --> 00:04:54,290
through and doing the coordinate system

131
00:04:51,709 --> 00:04:56,689
fixes because right now we actually

132
00:04:54,290 --> 00:04:58,700
don't have the ground and the sky into

133
00:04:56,689 --> 00:05:00,110
in the right places right the sky was

134
00:04:58,699 --> 00:05:03,079
the blue one and the ground was the red

135
00:05:00,110 --> 00:05:06,350
one and that's part of that whole y flip

136
00:05:03,079 --> 00:05:07,639
coordinate thing so there's a couple

137
00:05:06,350 --> 00:05:09,230
things like that that we want to take a

138
00:05:07,639 --> 00:05:10,459
little bit closer look at and then of

139
00:05:09,230 --> 00:05:13,160
course we want to start working on our

140
00:05:10,459 --> 00:05:15,199
near field lighting the middle of the

141
00:05:13,160 --> 00:05:16,610
reflection here and we also have some

142
00:05:15,199 --> 00:05:18,709
stuff we want to do with glossiness and

143
00:05:16,610 --> 00:05:20,300
other sorts of things like this so we're

144
00:05:18,709 --> 00:05:23,870
just gonna put that on hold for a second

145
00:05:20,300 --> 00:05:25,490
remember at all and we're gonna then

146
00:05:23,870 --> 00:05:27,230
just pop over to doing the coordinate

147
00:05:25,490 --> 00:05:29,090
system pass and see if we can't nail the

148
00:05:27,230 --> 00:05:31,340
cornices and pass down then pop back

149
00:05:29,089 --> 00:05:33,469
over written you know sort of return to

150
00:05:31,339 --> 00:05:35,029
the normal map stuff at which point we

151
00:05:33,470 --> 00:05:36,830
know that we straightened out all of our

152
00:05:35,029 --> 00:05:38,839
coordinate things system things we want

153
00:05:36,829 --> 00:05:41,060
so we can make sure that all of the

154
00:05:38,839 --> 00:05:43,399
normal map stuff now is absolutely

155
00:05:41,060 --> 00:05:45,350
working in the correct coordinates paces

156
00:05:43,399 --> 00:05:47,179
because that's one thing that we you

157
00:05:45,350 --> 00:05:48,740
know again don't really want to do we

158
00:05:47,180 --> 00:05:51,350
don't want to go in here for example and

159
00:05:48,740 --> 00:05:53,569
fix this so that it's reflecting the sky

160
00:05:51,350 --> 00:05:55,129
in the top and this in the bottom when

161
00:05:53,569 --> 00:05:56,930
we already know that the coordinate

162
00:05:55,129 --> 00:05:58,310
system stuff is not really being handled

163
00:05:56,930 --> 00:05:59,870
correctly through the pipeline because

164
00:05:58,310 --> 00:06:02,509
at that point what we're doing is we're

165
00:05:59,870 --> 00:06:04,310
just adding a bug on top of a bug you're

166
00:06:02,509 --> 00:06:05,870
sort of adding you know making adding

167
00:06:04,310 --> 00:06:07,069
that second negative to reverse a value

168
00:06:05,870 --> 00:06:09,410
that shouldn't have been negative in the

169
00:06:07,069 --> 00:06:10,849
first place right and so you really just

170
00:06:09,410 --> 00:06:12,500
don't want to do that you want to make

171
00:06:10,850 --> 00:06:14,330
sure that you have the minimal number of

172
00:06:12,500 --> 00:06:15,589
Corrections in a pipeline as possible

173
00:06:14,329 --> 00:06:17,209
you want Corrections to actually be

174
00:06:15,589 --> 00:06:18,439
correcting for something real you don't

175
00:06:17,209 --> 00:06:20,839
want them be correcting for things that

176
00:06:18,439 --> 00:06:22,610
were done improperly up in the pipeline

177
00:06:20,839 --> 00:06:24,019
because later on if you then go to

178
00:06:22,610 --> 00:06:26,150
correct the things in the pipeline up

179
00:06:24,019 --> 00:06:29,659
you will break the stuff later on that

180
00:06:26,149 --> 00:06:33,139
was depending on those bugs right and so

181
00:06:29,660 --> 00:06:36,590
that's again just to reinforce it that's

182
00:06:33,139 --> 00:06:39,229
the reason why from this point here

183
00:06:36,589 --> 00:06:41,060
where we're at I feel like it's a good

184
00:06:39,230 --> 00:06:43,910
time for us to address those other

185
00:06:41,060 --> 00:06:45,800
issues so there we go that's that's

186
00:06:43,910 --> 00:06:48,200
basically what we're looking at so let's

187
00:06:45,800 --> 00:06:50,720
just start we have sort of a lot of

188
00:06:48,199 --> 00:06:54,319
looking to do here so let's just go

189
00:06:50,720 --> 00:06:56,090
ahead and start defining things so we

190
00:06:54,319 --> 00:06:59,449
have our handmade render group right

191
00:06:56,089 --> 00:07:00,979
which is the what we're sort of using at

192
00:06:59,449 --> 00:07:02,689
the moment to build out our renderer and

193
00:07:00,980 --> 00:07:05,720
the way this is working is we have our

194
00:07:02,689 --> 00:07:07,759
push buffers and the push buffer is the

195
00:07:05,720 --> 00:07:09,260
thing that we put all of the render

196
00:07:07,759 --> 00:07:11,420
elements onto like everything that needs

197
00:07:09,259 --> 00:07:13,159
to get rendered could gets an entry into

198
00:07:11,420 --> 00:07:14,720
this push buffer and then it goes out to

199
00:07:13,160 --> 00:07:16,700
the renderer and the renderer just does

200
00:07:14,720 --> 00:07:19,460
whatever it needs to do to make that

201
00:07:16,699 --> 00:07:21,370
happen right to sort of go through all

202
00:07:19,459 --> 00:07:23,930
those commands and make them occur and

203
00:07:21,370 --> 00:07:25,220
so right now we don't really have that

204
00:07:23,930 --> 00:07:29,300
many different types of things we push

205
00:07:25,220 --> 00:07:31,040
on there but what we can already see

206
00:07:29,300 --> 00:07:33,379
even from the basics and you know we can

207
00:07:31,040 --> 00:07:35,030
discount the coordinate system at the

208
00:07:33,379 --> 00:07:39,139
moment right so this one is our test one

209
00:07:35,029 --> 00:07:47,299
right this guy right here this is only

210
00:07:39,139 --> 00:07:48,709
for test this guy is is the thing we

211
00:07:47,300 --> 00:07:49,819
were using to do our normal mapping and

212
00:07:48,709 --> 00:07:51,379
stuff like that so we don't really

213
00:07:49,819 --> 00:07:53,269
necessarily care about him too much but

214
00:07:51,379 --> 00:07:55,129
we want to do is start to look over

215
00:07:53,269 --> 00:07:57,729
these guys here and maybe what I'd like

216
00:07:55,129 --> 00:08:00,620
to do is go ahead and switch back to

217
00:07:57,730 --> 00:08:01,790
rendering the game that we have it as we

218
00:08:00,620 --> 00:08:04,069
had it before we were doing the normal

219
00:08:01,790 --> 00:08:05,840
mapping tests and sort of work from

220
00:08:04,069 --> 00:08:07,810
there to figure out

221
00:08:05,839 --> 00:08:09,619
you know how we want to start

222
00:08:07,810 --> 00:08:10,730
rearranging stuff that get submitted to

223
00:08:09,620 --> 00:08:14,269
the renderer to make sure that

224
00:08:10,730 --> 00:08:17,000
everything is okay and so this is the

225
00:08:14,269 --> 00:08:19,250
code right here that we were we were

226
00:08:17,000 --> 00:08:20,660
using and so I'm just gonna go to draw

227
00:08:19,250 --> 00:08:22,639
the normal map stuff I'm just gonna go

228
00:08:20,660 --> 00:08:24,320
ahead and get rid of that for the moment

229
00:08:22,639 --> 00:08:26,599
right I'm just gonna go ahead and get

230
00:08:24,319 --> 00:08:28,519
rid of that entirely and so if we run

231
00:08:26,600 --> 00:08:29,990
the game now we should see that we don't

232
00:08:28,519 --> 00:08:31,759
actually render it we don't do any of

233
00:08:29,990 --> 00:08:33,379
this mapping stuff we don't draw any of

234
00:08:31,759 --> 00:08:35,629
this coordinate system stuff none of

235
00:08:33,379 --> 00:08:37,970
that should be happening as you can see

236
00:08:35,629 --> 00:08:42,049
we just have a much more straightforward

237
00:08:37,970 --> 00:08:44,629
situation okay and then we have to kind

238
00:08:42,049 --> 00:08:47,299
of come up here and get us back to a

239
00:08:44,629 --> 00:08:49,159
situation where we are actually drawing

240
00:08:47,299 --> 00:08:52,500
everything in the game now if I remember

241
00:08:49,159 --> 00:08:54,679
correctly we actually also had a thing

242
00:08:52,500 --> 00:08:58,860
I'm trying to remember how we ended up

243
00:08:54,679 --> 00:09:01,079
commenting this stuff out so we had our

244
00:08:58,860 --> 00:09:02,789
standard room stuff like it's been so

245
00:09:01,080 --> 00:09:05,790
long we were working on the renderer I

246
00:09:02,789 --> 00:09:07,379
don't even remember what stuff is is

247
00:09:05,789 --> 00:09:09,779
turned on and turned off with the way

248
00:09:07,379 --> 00:09:12,779
that we were doing things in here but

249
00:09:09,779 --> 00:09:14,970
anyway so we it looks like we're still

250
00:09:12,779 --> 00:09:18,480
constructing our world properly I

251
00:09:14,970 --> 00:09:19,980
believe it looks like we that's just

252
00:09:18,480 --> 00:09:22,230
initializing like ground chunks and all

253
00:09:19,980 --> 00:09:23,820
those sorts of things we turned off

254
00:09:22,230 --> 00:09:26,340
generating our ground buffers I suppose

255
00:09:23,820 --> 00:09:28,980
I could turn those back on for the

256
00:09:26,340 --> 00:09:31,460
moment let's go ahead and do that just

257
00:09:28,980 --> 00:09:33,480
to make sure those are still working

258
00:09:31,460 --> 00:09:35,550
although it doesn't appear like they are

259
00:09:33,480 --> 00:09:38,850
although I guess that's only on

260
00:09:35,549 --> 00:09:40,319
executable reload so presumably that's

261
00:09:38,850 --> 00:09:42,629
just the thing that all that actually

262
00:09:40,320 --> 00:09:43,830
does this is force them to regen so I

263
00:09:42,629 --> 00:09:46,409
suppose I don't actually need to turn

264
00:09:43,830 --> 00:09:48,810
that on and so we come through here

265
00:09:46,409 --> 00:09:52,620
here's our you know our adjustment code

266
00:09:48,809 --> 00:09:58,649
for actual controls here's our world

267
00:09:52,620 --> 00:10:01,289
chunk rendering which still looks like

268
00:09:58,649 --> 00:10:03,088
it's active so it looks like we still

269
00:10:01,289 --> 00:10:04,919
actually built everything so I'm

270
00:10:03,089 --> 00:10:06,210
guessing that really I thought we'd

271
00:10:04,919 --> 00:10:08,189
turned off a bunch of stuff but I guess

272
00:10:06,210 --> 00:10:09,870
we didn't I guess all we did was just

273
00:10:08,190 --> 00:10:11,310
inside the render group did we just turn

274
00:10:09,870 --> 00:10:13,139
off the render calls I guess that's all

275
00:10:11,309 --> 00:10:15,209
we did it looks like we just turned off

276
00:10:13,139 --> 00:10:16,679
the bitmaps so I guess we really don't

277
00:10:15,210 --> 00:10:19,139
have to do much to get back to the state

278
00:10:16,679 --> 00:10:22,069
that we were in if I'm not mistaken

279
00:10:19,139 --> 00:10:27,019
about that it looks like this is it just

280
00:10:22,070 --> 00:10:30,150
just turn that bag on and there we go

281
00:10:27,019 --> 00:10:32,250
looks like I also have to update that

282
00:10:30,149 --> 00:10:35,579
for the fact that we changed it to have

283
00:10:32,250 --> 00:10:38,820
a color an actual color value there so

284
00:10:35,580 --> 00:10:41,790
yeah okay if I run this now it looks

285
00:10:38,820 --> 00:10:43,920
like we've got we've got our whole world

286
00:10:41,789 --> 00:10:44,939
back so I guess they're really high I

287
00:10:43,919 --> 00:10:49,588
thought there was I thought we had

288
00:10:44,940 --> 00:10:52,050
turned stuff off we hadn't so we're back

289
00:10:49,589 --> 00:10:54,570
to exactly our game state that we wanted

290
00:10:52,049 --> 00:10:57,599
to be back to so now we can just go

291
00:10:54,570 --> 00:10:59,129
ahead and start trying to make sure that

292
00:10:57,600 --> 00:11:02,399
the render is doing everything that we

293
00:10:59,129 --> 00:11:04,950
want to do I'd like to turn off so that

294
00:11:02,399 --> 00:11:05,938
we can see the edges between those

295
00:11:04,950 --> 00:11:09,569
ground patches

296
00:11:05,938 --> 00:11:11,188
excuse me I'd like to be able to see the

297
00:11:09,568 --> 00:11:13,408
edges between those ground patches and

298
00:11:11,188 --> 00:11:14,998
in order to do that I'm gonna have to

299
00:11:13,408 --> 00:11:16,168
turn off those yellow lines the reason

300
00:11:14,999 --> 00:11:17,908
that I want to do that is because we're

301
00:11:16,168 --> 00:11:19,978
gonna be playing a little bit again with

302
00:11:17,908 --> 00:11:22,708
scaling things up and down now

303
00:11:19,979 --> 00:11:25,109
and because of that I'm a little bit

304
00:11:22,708 --> 00:11:26,488
concerned that if I didn't have if I

305
00:11:25,109 --> 00:11:29,158
have those lines on I won't be able to

306
00:11:26,489 --> 00:11:31,199
see seams or edge problems between the

307
00:11:29,158 --> 00:11:34,099
world tiles so I want to turn off those

308
00:11:31,198 --> 00:11:36,358
yellow lines that we're using for debug

309
00:11:34,099 --> 00:11:37,919
because they're they're gonna be

310
00:11:36,359 --> 00:11:39,809
counterproductive at the moment even

311
00:11:37,918 --> 00:11:42,509
though there are handy so we can kind of

312
00:11:39,808 --> 00:11:45,389
see where our ground tiles are at some

313
00:11:42,509 --> 00:11:47,249
point we you know they're actually going

314
00:11:45,389 --> 00:11:50,009
to obscure potential bugs and so I want

315
00:11:47,249 --> 00:11:53,308
to remove those so let me go ahead and

316
00:11:50,009 --> 00:11:58,979
turn that off I believe it's just this

317
00:11:53,308 --> 00:12:02,639
guy right here and so that'll get rid of

318
00:11:58,979 --> 00:12:06,989
those lines and you know we can even see

319
00:12:02,639 --> 00:12:09,899
actually right now there there actually

320
00:12:06,989 --> 00:12:12,599
are seams between these guys that we

321
00:12:09,899 --> 00:12:14,698
weren't seeing right and so somewhere

322
00:12:12,599 --> 00:12:17,429
along the line when we had those on

323
00:12:14,698 --> 00:12:20,818
probably because of our Y flip again

324
00:12:17,428 --> 00:12:24,418
right because you can actually see these

325
00:12:20,818 --> 00:12:26,538
are these kind of look let me double

326
00:12:24,418 --> 00:12:29,519
check here yeah these kind of look

327
00:12:26,538 --> 00:12:31,918
exactly like they're out of order so you

328
00:12:29,519 --> 00:12:33,509
can see that that little splat right

329
00:12:31,918 --> 00:12:35,220
there looks like it's probably the

330
00:12:33,509 --> 00:12:37,009
bottom of that thing right so these are

331
00:12:35,220 --> 00:12:40,168
kind of going in the wrong order as well

332
00:12:37,009 --> 00:12:41,519
so yeah again just wanted to turn those

333
00:12:40,168 --> 00:12:43,048
off so we can see it because we're

334
00:12:41,519 --> 00:12:44,938
playing we're gonna be trying to get all

335
00:12:43,048 --> 00:12:46,108
this coordinate stuff nailed down we

336
00:12:44,938 --> 00:12:48,509
certainly don't want things that are

337
00:12:46,109 --> 00:12:55,739
gonna obscure obvious bugs like that was

338
00:12:48,509 --> 00:12:57,599
doing so first thing we're going to do

339
00:12:55,739 --> 00:13:00,449
is we're basically we're going to sort

340
00:12:57,599 --> 00:13:03,349
of define a couple of things up here so

341
00:13:00,448 --> 00:13:06,958
we're gonna talk about what the render

342
00:13:03,349 --> 00:13:09,389
has sort of how the renderer is working

343
00:13:06,958 --> 00:13:11,219
here so we're gonna say a couple things

344
00:13:09,389 --> 00:13:14,989
because based on what we've done so far

345
00:13:11,220 --> 00:13:18,629
we kind of know what they are so

346
00:13:14,989 --> 00:13:26,490
everywhere outside the render

347
00:13:18,629 --> 00:13:31,938
why always goes up upward right so it's

348
00:13:26,490 --> 00:13:34,619
always X X to the right and Y upward and

349
00:13:31,938 --> 00:13:36,118
I feel like there's really hasn't been

350
00:13:34,619 --> 00:13:38,160
any problems with that so far our only

351
00:13:36,119 --> 00:13:41,240
problems that is where we have allowed

352
00:13:38,159 --> 00:13:43,948
sort of Y up versus Y down stuff to leak

353
00:13:41,240 --> 00:13:45,028
you know in and out so we want to we

354
00:13:43,948 --> 00:13:47,008
want to go through and make sure that

355
00:13:45,028 --> 00:13:48,808
that's always true the other thing we

356
00:13:47,009 --> 00:13:50,308
want to do is I think at this point we

357
00:13:48,808 --> 00:13:52,259
might as well switch to a bottom-up

358
00:13:50,308 --> 00:13:54,028
bitmap because we actually did work to

359
00:13:52,259 --> 00:13:56,699
give ourselves a top-down bitmap but now

360
00:13:54,028 --> 00:13:58,828
since we're doing everything in that

361
00:13:56,698 --> 00:14:00,178
bottom-up fashion it seems like we

362
00:13:58,828 --> 00:14:03,388
probably just want to switch to being

363
00:14:00,178 --> 00:14:07,198
bottom-up everywhere right and so all

364
00:14:03,389 --> 00:14:13,948
bitmaps including the render target are

365
00:14:07,198 --> 00:14:17,519
assumed to be bottom-up meaning that the

366
00:14:13,948 --> 00:14:25,019
first row pointer points to the bottom

367
00:14:17,519 --> 00:14:26,220
most row when viewed on screen right and

368
00:14:25,019 --> 00:14:30,089
so there's a couple things that we have

369
00:14:26,220 --> 00:14:31,619
to do to make that happen one is a lot

370
00:14:30,089 --> 00:14:33,059
to go back into the platform where and

371
00:14:31,619 --> 00:14:34,829
change a little bit about that

372
00:14:33,058 --> 00:14:36,118
potentially and another one is when

373
00:14:34,828 --> 00:14:37,109
we're doing our bitmap loading we may

374
00:14:36,119 --> 00:14:43,079
have to do a little bit of changing

375
00:14:37,110 --> 00:14:46,818
there so we'll do that finally I guess

376
00:14:43,078 --> 00:14:49,198
probably what we would want to say is

377
00:14:46,818 --> 00:14:50,610
well you know I think that may be it for

378
00:14:49,198 --> 00:14:52,678
now I was gonna say we might want to

379
00:14:50,610 --> 00:14:58,129
talk a little bit about what things are

380
00:14:52,678 --> 00:14:58,129
specified I guess what we could say is I

381
00:14:58,548 --> 00:15:07,259
guess everything like unless otherwise

382
00:15:03,058 --> 00:15:11,240
specified all inputs to the renderer are

383
00:15:07,259 --> 00:15:16,409
in world coordinates which are meters

384
00:15:11,240 --> 00:15:19,850
not pixels and so we'll have we'll you

385
00:15:16,409 --> 00:15:25,528
know anything that is in pixel values

386
00:15:19,850 --> 00:15:27,899
will be explicitly marked as such so the

387
00:15:25,528 --> 00:15:29,519
assumption can always be basically that

388
00:15:27,899 --> 00:15:31,958
everything is going to be in meters

389
00:15:29,519 --> 00:15:33,399
unless otherwise marked

390
00:15:31,958 --> 00:15:38,649
and I think that's probably a pretty

391
00:15:33,399 --> 00:15:40,360
good idea finally as far as the Z stuff

392
00:15:38,649 --> 00:15:43,089
is concerned I think there's maybe one

393
00:15:40,360 --> 00:15:44,680
more thing I want to say which is that

394
00:15:43,089 --> 00:15:46,209
at this point now that we've sort of

395
00:15:44,679 --> 00:15:48,068
gone through enough things I think I'm

396
00:15:46,208 --> 00:15:50,378
kind of comfortable saying I think the

397
00:15:48,068 --> 00:15:56,229
world should just be broken up into

398
00:15:50,379 --> 00:15:58,058
discrete Z slices it really feels like

399
00:15:56,230 --> 00:15:59,709
that's just the way it's going based on

400
00:15:58,058 --> 00:16:01,749
everything that we've done and you know

401
00:15:59,708 --> 00:16:03,489
when we're talking about having sort of

402
00:16:01,749 --> 00:16:05,740
the reflection mapping as well and and

403
00:16:03,490 --> 00:16:07,180
the different layers it feels like we

404
00:16:05,740 --> 00:16:08,709
just want to say we just want to put our

405
00:16:07,179 --> 00:16:10,299
foot down say we're not going to get any

406
00:16:08,708 --> 00:16:12,068
benefit out of having anything other

407
00:16:10,299 --> 00:16:14,078
than discreet Z slices there can be

408
00:16:12,068 --> 00:16:15,899
holes in the slices potentially but I

409
00:16:14,078 --> 00:16:19,899
think we want to say that there are and

410
00:16:15,899 --> 00:16:24,938
so you know I guess I just want to say

411
00:16:19,899 --> 00:16:28,019
something like the world is sure I

412
00:16:24,938 --> 00:16:32,998
should say Z is a special coordinate

413
00:16:28,019 --> 00:16:39,459
because it is broken up into discrete

414
00:16:32,999 --> 00:16:43,350
slices and the renderer actually

415
00:16:39,458 --> 00:16:47,289
understands these slices potentially

416
00:16:43,350 --> 00:16:49,959
meaning that we we're not going to force

417
00:16:47,289 --> 00:16:53,019
the renderer to be Z agnostic the

418
00:16:49,958 --> 00:16:55,208
renderer can if it wants to think about

419
00:16:53,019 --> 00:16:56,980
the fact that there are Z slices for

420
00:16:55,208 --> 00:17:00,008
sorting purposes and all these other

421
00:16:56,980 --> 00:17:01,659
sorts of things because it seems like

422
00:17:00,009 --> 00:17:02,919
that's going to be the way that things

423
00:17:01,659 --> 00:17:04,658
want to go just to based on everything

424
00:17:02,919 --> 00:17:06,220
we've done so far it feels like it's

425
00:17:04,659 --> 00:17:09,159
gonna be hard to make the code work

426
00:17:06,220 --> 00:17:11,259
properly if Z is arbitrary because

427
00:17:09,159 --> 00:17:13,510
there's so many things due to the 2d

428
00:17:11,259 --> 00:17:16,179
nature of how things are working that

429
00:17:13,509 --> 00:17:19,000
really want to know about sort of these

430
00:17:16,179 --> 00:17:24,730
chunked aspects of the ver of the sort

431
00:17:19,000 --> 00:17:26,529
of depth part of the world I think

432
00:17:24,730 --> 00:17:28,000
that's pretty good I'm gonna go ahead

433
00:17:26,529 --> 00:17:30,038
and start with the easiest one today

434
00:17:28,000 --> 00:17:31,419
which is just that the render targets

435
00:17:30,038 --> 00:17:34,240
are going to be assumed to be bottom-up

436
00:17:31,419 --> 00:17:36,669
I think we can get that done relatively

437
00:17:34,240 --> 00:17:39,609
easily and so I'm going to make that be

438
00:17:36,669 --> 00:17:42,970
today's task so let's go ahead and take

439
00:17:39,609 --> 00:17:44,259
a look reach back into your memories for

440
00:17:42,970 --> 00:17:46,029
when we were working

441
00:17:44,259 --> 00:17:49,329
this code way back at the beginning and

442
00:17:46,029 --> 00:17:52,029
we had our resize dip section and the

443
00:17:49,329 --> 00:17:54,730
resize dip section code of course did

444
00:17:52,029 --> 00:17:57,339
this sort of allocation where it was

445
00:17:54,730 --> 00:17:59,980
grabbing using virtual Alec it was

446
00:17:57,339 --> 00:18:01,869
grabbing a chunk of memory and that is

447
00:17:59,980 --> 00:18:06,450
what we were using for our display

448
00:18:01,869 --> 00:18:09,579
buffer correct and so I believe that

449
00:18:06,450 --> 00:18:12,009
what we were doing per the window

450
00:18:09,579 --> 00:18:13,960
specification is if you take a look at

451
00:18:12,009 --> 00:18:17,500
this specification that we were giving

452
00:18:13,960 --> 00:18:20,140
to windows here this is the actual spec

453
00:18:17,500 --> 00:18:22,359
we pass it this this buffer info thing

454
00:18:20,140 --> 00:18:25,540
you can see that that gets passed when

455
00:18:22,359 --> 00:18:27,159
we actually display the buffer this

456
00:18:25,539 --> 00:18:29,319
buffer info is the thing that tells

457
00:18:27,160 --> 00:18:31,060
windows how to interpret the memory that

458
00:18:29,319 --> 00:18:32,169
we allocated so that it can blit it to

459
00:18:31,059 --> 00:18:33,730
the screen and one thing that you'll

460
00:18:32,170 --> 00:18:36,340
notice is there is a negative on the

461
00:18:33,730 --> 00:18:39,599
height and that is windows convention

462
00:18:36,339 --> 00:18:42,459
for saying that something is top-down

463
00:18:39,599 --> 00:18:45,159
windows by default because of the os/2

464
00:18:42,460 --> 00:18:48,640
days long story not worth getting into

465
00:18:45,160 --> 00:18:50,680
they started using bottom-up as their

466
00:18:48,640 --> 00:18:52,810
convention for how things were stored

467
00:18:50,680 --> 00:18:54,519
and something still wanted to be top

468
00:18:52,809 --> 00:18:58,029
down so they introduced a convention of

469
00:18:54,519 --> 00:19:00,970
a negative height means that the height

470
00:18:58,029 --> 00:19:05,200
is going to be interpreted top-down

471
00:19:00,970 --> 00:19:07,890
right so it's almost like a flag they

472
00:19:05,200 --> 00:19:10,120
just used that that high bit to say so

473
00:19:07,890 --> 00:19:12,720
so all we really have to do I think at

474
00:19:10,119 --> 00:19:16,419
the platform side of things right is

475
00:19:12,720 --> 00:19:18,940
negate that right so if we go ahead and

476
00:19:16,420 --> 00:19:22,600
negate that then when we actually run

477
00:19:18,940 --> 00:19:25,960
this we should have at least I would

478
00:19:22,599 --> 00:19:27,459
think I guess I lied I feel like that

479
00:19:25,960 --> 00:19:33,130
should have flipped us around

480
00:19:27,460 --> 00:19:38,860
did it not buffer in photo buffer height

481
00:19:33,130 --> 00:19:41,460
and stretch di bits actually does but

482
00:19:38,859 --> 00:19:41,459
for info

483
00:19:42,069 --> 00:19:49,069
they both use buffer info so I feel like

484
00:19:46,400 --> 00:19:53,360
that should have done it yeah that's

485
00:19:49,069 --> 00:19:54,769
kind of unusual to say the least but

486
00:19:53,359 --> 00:19:56,899
that definitely did not flip this upside

487
00:19:54,769 --> 00:19:58,849
down I mean our guys is there oh alright

488
00:19:56,900 --> 00:20:01,160
I guess I just did not restart I was

489
00:19:58,849 --> 00:20:03,230
like that should have done it so there

490
00:20:01,160 --> 00:20:05,090
we are we're upside down now right and

491
00:20:03,230 --> 00:20:06,740
that's exactly what we want cuz now at

492
00:20:05,089 --> 00:20:08,240
least we know that we're drawing that

493
00:20:06,740 --> 00:20:10,370
our first row is kind of that bottom

494
00:20:08,240 --> 00:20:11,960
round and so now what we want to do is

495
00:20:10,369 --> 00:20:14,179
we want to go into the renderer and

496
00:20:11,960 --> 00:20:16,670
start to work out how to make sure that

497
00:20:14,180 --> 00:20:20,509
it's now going to render us flip to the

498
00:20:16,670 --> 00:20:22,340
right way given this okay so that's

499
00:20:20,509 --> 00:20:25,539
pretty pretty straightforward so be

500
00:20:22,339 --> 00:20:28,159
coming here to our render group and

501
00:20:25,539 --> 00:20:32,119
let's go ahead and take a look in here

502
00:20:28,160 --> 00:20:34,610
and we got quite a bit of stuff that

503
00:20:32,119 --> 00:20:36,349
that comes through here that works with

504
00:20:34,609 --> 00:20:38,269
coordinates and you can see a lot of

505
00:20:36,349 --> 00:20:40,730
things where reduce these negative

506
00:20:38,269 --> 00:20:42,200
offsets so really there's not much we

507
00:20:40,730 --> 00:20:44,150
can do about this other than kind of

508
00:20:42,200 --> 00:20:46,309
going through and taking a look at

509
00:20:44,150 --> 00:20:48,170
things one by one again this is sort of

510
00:20:46,309 --> 00:20:50,359
why I'm saying now is a good time to do

511
00:20:48,170 --> 00:20:51,920
this because you know we've written a

512
00:20:50,359 --> 00:20:53,869
bunch of exploratory code but we're

513
00:20:51,920 --> 00:20:54,950
starting to write real code now like

514
00:20:53,869 --> 00:20:56,569
especially when we go to start

515
00:20:54,950 --> 00:20:58,549
optimizing things that's gonna be code

516
00:20:56,569 --> 00:21:00,049
that we're gonna want to keep and once

517
00:20:58,549 --> 00:21:01,549
you start getting a lot of code in there

518
00:21:00,049 --> 00:21:03,680
that you want to keep it becomes

519
00:21:01,549 --> 00:21:06,230
difficult to go in and make subtle

520
00:21:03,680 --> 00:21:07,549
changes like this and you know your end

521
00:21:06,230 --> 00:21:09,829
up having to look at a lot of code and

522
00:21:07,549 --> 00:21:11,450
see what it's doing and so that's again

523
00:21:09,829 --> 00:21:13,939
kind of the reason why I want to do this

524
00:21:11,450 --> 00:21:15,350
now I want to make sure that basically

525
00:21:13,940 --> 00:21:17,960
where we're sort of set with a good

526
00:21:15,349 --> 00:21:19,369
coordinate system from here on out so

527
00:21:17,960 --> 00:21:25,100
that we will never have to worry about

528
00:21:19,369 --> 00:21:27,019
fussing with that again so all of these

529
00:21:25,099 --> 00:21:28,759
things let's see bilinear sample that's

530
00:21:27,019 --> 00:21:31,129
you know these are using wise that are

531
00:21:28,759 --> 00:21:33,049
going upwards it looks like again we've

532
00:21:31,130 --> 00:21:35,030
got kind of that convention in here for

533
00:21:33,049 --> 00:21:37,789
all the new stuff that we wrote it looks

534
00:21:35,029 --> 00:21:39,980
like we wrote it so that our Y's were

535
00:21:37,789 --> 00:21:41,599
generally going upwards and so that's a

536
00:21:39,980 --> 00:21:44,750
good thing sampling the environment map

537
00:21:41,599 --> 00:21:47,389
again that looks like that's going

538
00:21:44,750 --> 00:21:50,690
upwards as well and so on let's take a

539
00:21:47,390 --> 00:21:53,680
look at this here we've got the x-axis

540
00:21:50,690 --> 00:21:58,630
y-axis stuff that's coming through

541
00:21:53,680 --> 00:22:02,080
the origin properly and so on that all

542
00:21:58,630 --> 00:22:04,930
looks good yeah this all looks good

543
00:22:02,079 --> 00:22:10,929
nothing really unusual here now you can

544
00:22:04,930 --> 00:22:12,430
see this is also its pre stepping and

545
00:22:10,930 --> 00:22:13,920
it's pre stepping properly so this is

546
00:22:12,430 --> 00:22:17,310
not adding in any kind of displacement

547
00:22:13,920 --> 00:22:22,090
so that's also correct not going why up

548
00:22:17,309 --> 00:22:25,029
so this all looks pretty good I feel

549
00:22:22,089 --> 00:22:27,789
like for the most part that looks like

550
00:22:25,029 --> 00:22:33,009
that is it's kind of working the way

551
00:22:27,789 --> 00:22:36,670
that we expect it to so I'm gonna leave

552
00:22:33,009 --> 00:22:39,730
that be for now that looks fine that all

553
00:22:36,670 --> 00:22:42,009
looks pretty good and let's go ahead and

554
00:22:39,730 --> 00:22:47,769
take check draw a bitmap draw a bitmap

555
00:22:42,009 --> 00:22:49,839
is so you can see you can see here that

556
00:22:47,769 --> 00:22:52,839
again it's using that same pre stepping

557
00:22:49,839 --> 00:22:54,899
pattern so there's no that does not look

558
00:22:52,839 --> 00:22:57,459
like it's trying to accommodate for any

559
00:22:54,900 --> 00:22:59,440
sort of offset stuff there so that's

560
00:22:57,460 --> 00:23:01,900
good this all looks like it's working

561
00:22:59,440 --> 00:23:06,009
properly so it looks like the drawbitmap

562
00:23:01,900 --> 00:23:07,690
code is also working properly why up so

563
00:23:06,009 --> 00:23:10,359
it's really just the inputs to it it

564
00:23:07,690 --> 00:23:13,180
looked like that would be wrong for the

565
00:23:10,359 --> 00:23:16,059
most part I believe so let's see here

566
00:23:13,180 --> 00:23:18,160
we've got our saturation change code

567
00:23:16,059 --> 00:23:19,240
which someone asked me to add that's

568
00:23:18,160 --> 00:23:21,190
just kind of sitting there that

569
00:23:19,240 --> 00:23:25,240
obviously is operating on all the pixels

570
00:23:21,190 --> 00:23:27,190
so it really doesn't care so here we are

571
00:23:25,240 --> 00:23:28,930
in some draw a rectangle code this draw

572
00:23:27,190 --> 00:23:32,380
a rectangle code looks like it's

573
00:23:28,930 --> 00:23:34,120
treating the Y's and the X is relatively

574
00:23:32,380 --> 00:23:35,590
straightforwardly and again that's

575
00:23:34,119 --> 00:23:38,469
construing an outline it wouldn't really

576
00:23:35,589 --> 00:23:40,179
care again which direction the Y was

577
00:23:38,470 --> 00:23:45,100
going per se so I think that's probably

578
00:23:40,180 --> 00:23:51,850
fine we've got our mat and that looks

579
00:23:45,099 --> 00:23:54,129
good as well again no apparent pre step

580
00:23:51,849 --> 00:23:55,929
problems there so this all looks good so

581
00:23:54,130 --> 00:23:57,760
it looks like most of our code looks

582
00:23:55,930 --> 00:24:00,549
like it's pretty sane nothing

583
00:23:57,759 --> 00:24:02,140
particularly weird going on there but

584
00:24:00,549 --> 00:24:02,769
here we now we're starting to get into

585
00:24:02,140 --> 00:24:04,630
stuff

586
00:24:02,769 --> 00:24:07,039
that's got it baked in so you can see

587
00:24:04,630 --> 00:24:10,670
this is now handling these two things

588
00:24:07,039 --> 00:24:13,579
a symmetrically right we are sort of

589
00:24:10,670 --> 00:24:15,890
having all of our of our points come in

590
00:24:13,579 --> 00:24:17,210
with Y going the wrong direction right

591
00:24:15,890 --> 00:24:18,770
so you can see there is that negative in

592
00:24:17,210 --> 00:24:21,019
there and what an interesting thing

593
00:24:18,769 --> 00:24:24,680
about this is it looks like if I wanted

594
00:24:21,019 --> 00:24:27,500
to I could do entity ground point here

595
00:24:24,680 --> 00:24:31,240
as a v2 and take that screen Center

596
00:24:27,500 --> 00:24:35,119
right and just do screen Center plus

597
00:24:31,240 --> 00:24:38,029
plus that right plus the entity base P

598
00:24:35,119 --> 00:24:41,149
XY right because this is just this is

599
00:24:38,029 --> 00:24:42,980
the exact same equation in both cases

600
00:24:41,150 --> 00:24:46,480
right nothing particularly weird going

601
00:24:42,980 --> 00:24:48,950
on there and that means we can also do

602
00:24:46,480 --> 00:24:52,309
essentially probably that that same

603
00:24:48,950 --> 00:24:54,200
thing where if this is the equation for

604
00:24:52,309 --> 00:24:56,839
the center it's the entity ground point

605
00:24:54,200 --> 00:24:58,580
X and then the entity base is offset so

606
00:24:56,839 --> 00:25:02,149
we could we could also similarly its

607
00:24:58,579 --> 00:25:04,730
route point entity ground point we could

608
00:25:02,150 --> 00:25:08,960
similarly just take these guys together

609
00:25:04,730 --> 00:25:12,700
like so and then just add in this this Z

610
00:25:08,960 --> 00:25:12,700
offset here right like that

611
00:25:13,690 --> 00:25:22,279
yeah so that looks all pretty reasonable

612
00:25:18,789 --> 00:25:25,129
see anything strange there now this is I

613
00:25:22,279 --> 00:25:27,710
feel like this is something that this

614
00:25:25,130 --> 00:25:29,380
has sort of that that zenus in it so I'm

615
00:25:27,710 --> 00:25:32,000
gonna go ahead and put it to do here

616
00:25:29,380 --> 00:25:35,120
we're gonna introduce a to do term I

617
00:25:32,000 --> 00:25:38,630
think that we can search for later which

618
00:25:35,119 --> 00:25:43,459
is like you know Z handling is going to

619
00:25:38,630 --> 00:25:44,720
be our term this is our to do and I'm

620
00:25:43,460 --> 00:25:46,700
just going to put that in here

621
00:25:44,720 --> 00:25:48,920
in fact I'll just make a little cut and

622
00:25:46,700 --> 00:25:50,569
paste er that I can use here and so as

623
00:25:48,920 --> 00:25:52,970
we go through this when I see things

624
00:25:50,569 --> 00:25:56,179
when we're we've got that Z handling

625
00:25:52,970 --> 00:25:58,519
baked in I'm just gonna tag them and

626
00:25:56,180 --> 00:26:00,440
that way we can go through on a second

627
00:25:58,519 --> 00:26:02,329
pass so after we finished getting the

628
00:26:00,440 --> 00:26:04,549
top down stuff going and we want to

629
00:26:02,329 --> 00:26:05,809
start working on the Z and how we handle

630
00:26:04,549 --> 00:26:07,639
that we don't have to go through and

631
00:26:05,809 --> 00:26:12,169
look again cuz will already know kind of

632
00:26:07,640 --> 00:26:13,940
where it is all right so let's take a

633
00:26:12,170 --> 00:26:16,250
look here now we've got the render group

634
00:26:13,940 --> 00:26:18,080
to output call the render group to

635
00:26:16,250 --> 00:26:19,849
output call is just what interprets

636
00:26:18,079 --> 00:26:26,058
everything in our push buffer

637
00:26:19,849 --> 00:26:27,619
it looks to me it looks to me here like

638
00:26:26,058 --> 00:26:29,960
we don't have anything particularly

639
00:26:27,619 --> 00:26:32,389
weird going on in here

640
00:26:29,960 --> 00:26:34,850
these are just kind of passing through

641
00:26:32,390 --> 00:26:36,980
for the most part and calling utility

642
00:26:34,849 --> 00:26:40,038
functions they are not really

643
00:26:36,980 --> 00:26:43,130
interpreting the the Y at all

644
00:26:40,038 --> 00:26:44,359
this guy is again our test code so we

645
00:26:43,130 --> 00:26:47,000
don't really have to care too much about

646
00:26:44,359 --> 00:26:48,319
that well we'll revisit that again in a

647
00:26:47,000 --> 00:26:50,179
little bit

648
00:26:48,319 --> 00:26:52,129
our allocator obviously nothing weird

649
00:26:50,179 --> 00:26:53,690
going on there our push render element

650
00:26:52,130 --> 00:26:56,210
is just a thing for creating stuff on

651
00:26:53,690 --> 00:26:59,029
the push buffer so here we go down to

652
00:26:56,210 --> 00:27:00,679
push piece push piece again doing that

653
00:26:59,029 --> 00:27:08,569
negation so we want to get rid of that

654
00:27:00,679 --> 00:27:12,140
negation certainly now the alignment the

655
00:27:08,569 --> 00:27:14,000
alignment is interesting because I would

656
00:27:12,140 --> 00:27:17,210
like to also know where that alignment

657
00:27:14,000 --> 00:27:19,099
is coming in the alignment would have to

658
00:27:17,210 --> 00:27:20,630
have the Y would have to have some

659
00:27:19,099 --> 00:27:23,449
opinion of how the Y is supposed to work

660
00:27:20,630 --> 00:27:25,159
as well and so we should probably go

661
00:27:23,450 --> 00:27:29,058
take a look at how we are computing

662
00:27:25,159 --> 00:27:31,580
those alignment values when we load the

663
00:27:29,058 --> 00:27:33,950
bitmap right because if I remember

664
00:27:31,579 --> 00:27:36,109
correctly we kind of have a thing in

665
00:27:33,950 --> 00:27:38,779
here where we where we sort of load our

666
00:27:36,109 --> 00:27:41,959
bitmaps and make those alignments like

667
00:27:38,779 --> 00:27:45,798
so you can see these alignments are

668
00:27:41,960 --> 00:27:49,880
actually done they're kind of baked with

669
00:27:45,798 --> 00:27:53,389
the top down miss in them right this is

670
00:27:49,880 --> 00:27:56,720
a top down value and that's technically

671
00:27:53,390 --> 00:27:59,419
wrong so I don't know exactly how we

672
00:27:56,720 --> 00:28:02,509
want to fix that I would say that we

673
00:27:59,419 --> 00:28:05,480
probably want to fix that right here at

674
00:28:02,509 --> 00:28:07,429
the head end so I think what I might do

675
00:28:05,480 --> 00:28:10,339
is say all of these alignment values

676
00:28:07,429 --> 00:28:14,570
should actually be correct coming in so

677
00:28:10,339 --> 00:28:16,069
I'm gonna do set top down a line or

678
00:28:14,569 --> 00:28:19,069
something like this I'm going to go

679
00:28:16,069 --> 00:28:20,750
ahead and introduce a function that we

680
00:28:19,069 --> 00:28:22,428
can use so that we can keep the data

681
00:28:20,750 --> 00:28:24,230
being specified the way that it was

682
00:28:22,429 --> 00:28:27,230
because that may be a very intuitive way

683
00:28:24,230 --> 00:28:29,390
to specify that data coming from an art

684
00:28:27,230 --> 00:28:31,370
tool but since we want all of our stuff

685
00:28:29,390 --> 00:28:33,480
to be in this particular coordinate

686
00:28:31,369 --> 00:28:35,189
system which is not what was

687
00:28:33,480 --> 00:28:37,650
which is where we read these values out

688
00:28:35,190 --> 00:28:39,539
of if you remember correctly and you

689
00:28:37,650 --> 00:28:41,220
know we'll have to think kind of more

690
00:28:39,539 --> 00:28:42,470
about how we're gonna get these at the

691
00:28:41,220 --> 00:28:44,640
end of the day but at least for now

692
00:28:42,470 --> 00:28:47,460
we want to make sure that we've got that

693
00:28:44,640 --> 00:28:50,880
handled properly and so those alignment

694
00:28:47,460 --> 00:28:52,289
values just taking a look at them yeah

695
00:28:50,880 --> 00:28:56,000
so I thought that should pretty much

696
00:28:52,289 --> 00:28:56,000
handle it so if we take a look

697
00:28:57,650 --> 00:29:08,009
hmm keep head torsos top-down online the

698
00:29:03,269 --> 00:29:10,980
only problem there well I guess they are

699
00:29:08,009 --> 00:29:12,480
all they're all what they are all Hiro

700
00:29:10,980 --> 00:29:13,860
bitmap types so I guess this will work

701
00:29:12,480 --> 00:29:16,200
okay but it's gonna be a little bit more

702
00:29:13,859 --> 00:29:18,240
complicated function if you think about

703
00:29:16,200 --> 00:29:21,330
it because since it is a thing which

704
00:29:18,240 --> 00:29:25,410
actually has three of these in it we

705
00:29:21,329 --> 00:29:28,168
have to go sort of looking to see how

706
00:29:25,410 --> 00:29:30,090
those are going to be aligned I guess

707
00:29:28,169 --> 00:29:32,009
they're always all the same size and so

708
00:29:30,089 --> 00:29:35,069
I guess it doesn't really matter so I

709
00:29:32,009 --> 00:29:38,700
guess mm-hmm the thing that I'm trying

710
00:29:35,069 --> 00:29:42,000
to get across here what is happening am

711
00:29:38,700 --> 00:29:44,069
i closing down mischeif is mischief just

712
00:29:42,000 --> 00:29:46,619
crashing or something mischeif was

713
00:29:44,069 --> 00:29:48,359
closed before remember the other time on

714
00:29:46,619 --> 00:29:51,000
the stream and I don't know who is

715
00:29:48,359 --> 00:29:52,979
closing it is it me I'm not sure oops I

716
00:29:51,000 --> 00:29:58,339
don't actually want to do that I wanted

717
00:29:52,980 --> 00:30:00,240
to load it in the blackboard there we go

718
00:29:58,339 --> 00:30:05,819
yeah I'm not sure what's going on there

719
00:30:00,240 --> 00:30:07,829
but anyway day 1:04 so what I wanted to

720
00:30:05,819 --> 00:30:09,928
say about that was just that you know

721
00:30:07,829 --> 00:30:16,918
we've got these these sort of bitmaps

722
00:30:09,929 --> 00:30:19,500
here we've got these bitmaps here that

723
00:30:16,919 --> 00:30:20,549
are like you know head torso I don't

724
00:30:19,500 --> 00:30:27,000
even remember what they are

725
00:30:20,548 --> 00:30:29,369
head Cape torso yes okay torso we've got

726
00:30:27,000 --> 00:30:31,890
these bitmaps and we were previously

727
00:30:29,369 --> 00:30:33,808
specifying stuff from here like down

728
00:30:31,890 --> 00:30:36,330
right we were saying how to get there

729
00:30:33,808 --> 00:30:38,460
from here and we have to flip that

730
00:30:36,329 --> 00:30:39,960
around so that now instead we're telling

731
00:30:38,460 --> 00:30:41,009
you how to get it from the bottom up

732
00:30:39,960 --> 00:30:44,220
right Matthew

733
00:30:41,009 --> 00:30:46,558
math style so that this is our

734
00:30:44,220 --> 00:30:46,950
coordinate system in order to do that in

735
00:30:46,558 --> 00:30:48,990
order to

736
00:30:46,950 --> 00:30:51,419
that we need to know how high the thing

737
00:30:48,990 --> 00:30:52,740
is right because without knowing how

738
00:30:51,419 --> 00:30:54,990
high the thing is we wouldn't know

739
00:30:52,740 --> 00:30:57,750
actually what that difference was going

740
00:30:54,990 --> 00:30:59,159
to be and so the weird thing is that

741
00:30:57,750 --> 00:31:00,990
that actually is going to work because

742
00:30:59,159 --> 00:31:02,909
all of these are always the same size at

743
00:31:00,990 --> 00:31:03,929
the moment but that's kind of one of

744
00:31:02,909 --> 00:31:05,250
those things where each one of these

745
00:31:03,929 --> 00:31:06,600
should really probably have its own

746
00:31:05,250 --> 00:31:08,519
align eventually when we get into

747
00:31:06,599 --> 00:31:09,898
animations stuff more because we

748
00:31:08,519 --> 00:31:11,579
probably won't want them to have to all

749
00:31:09,898 --> 00:31:12,778
be the same size that's just the way

750
00:31:11,579 --> 00:31:16,230
they happen to be now because they're

751
00:31:12,778 --> 00:31:19,798
exported for the same source so anyway

752
00:31:16,230 --> 00:31:24,298
let's see if I go ahead and make this

753
00:31:19,798 --> 00:31:27,200
function set top down the line and

754
00:31:24,298 --> 00:31:38,129
that's going to take the hero bitmaps

755
00:31:27,200 --> 00:31:40,259
yeah here are bitmaps so then all that

756
00:31:38,130 --> 00:31:42,120
really needs to do is just take a look

757
00:31:40,259 --> 00:31:43,710
at the first one really and take a look

758
00:31:42,119 --> 00:31:47,428
at whatever that height of the first one

759
00:31:43,710 --> 00:31:49,649
is and it's gonna take the align the Y

760
00:31:47,429 --> 00:31:51,269
component of the align and again we just

761
00:31:49,648 --> 00:31:53,638
want to kind of flip that around now

762
00:31:51,269 --> 00:31:56,609
it's a little bit delicate because again

763
00:31:53,638 --> 00:31:58,740
we actually need to make sure that we

764
00:31:56,609 --> 00:32:00,359
get it exactly right and if we were to

765
00:31:58,740 --> 00:32:03,480
flip it like this what would happen is

766
00:32:00,359 --> 00:32:06,750
remember the height is going to be one

767
00:32:03,480 --> 00:32:09,630
greater than the maximum Y value for

768
00:32:06,750 --> 00:32:12,690
that bitmap right because let's say that

769
00:32:09,630 --> 00:32:14,789
there were 50 let's say the height was

770
00:32:12,690 --> 00:32:18,058
50 well the maximum Y value would

771
00:32:14,788 --> 00:32:19,679
actually be 49 so if Y was set to 49 we

772
00:32:18,058 --> 00:32:21,898
want it to be on the zero width row

773
00:32:19,679 --> 00:32:24,059
which means we really want this to be

774
00:32:21,898 --> 00:32:25,829
minus 1 right we really want to talk

775
00:32:24,058 --> 00:32:27,240
about it it's it's a little bit of a

776
00:32:25,829 --> 00:32:29,308
fence posting thing there right I'm not

777
00:32:27,240 --> 00:32:30,929
a fence post oh I don't know what you

778
00:32:29,308 --> 00:32:35,819
call those just the off-by-one kind of

779
00:32:30,929 --> 00:32:37,710
thing we want to make sure that we

780
00:32:35,819 --> 00:32:40,648
reduced fi 1 so that when we have an

781
00:32:37,710 --> 00:32:42,450
alignment that's right on the edge it

782
00:32:40,648 --> 00:32:44,699
becomes 0 which is what we actually

783
00:32:42,450 --> 00:32:46,649
wanted so that's actually what the

784
00:32:44,700 --> 00:32:48,210
alignment actually has to be so here we

785
00:32:46,648 --> 00:32:51,209
go it's passing that align we set the

786
00:32:48,210 --> 00:32:54,649
align and now we can go ahead and and

787
00:32:51,210 --> 00:32:56,759
and record it properly right like so I

788
00:32:54,648 --> 00:32:58,349
think that's all we really have to do

789
00:32:56,759 --> 00:33:00,289
for that I don't think there's anything

790
00:32:58,349 --> 00:33:02,419
else so when was that

791
00:33:00,289 --> 00:33:04,069
downline is fixed so that's good let's

792
00:33:02,420 --> 00:33:05,539
pop back over to the render group so now

793
00:33:04,069 --> 00:33:07,519
when we subtract the alignment that's

794
00:33:05,539 --> 00:33:08,990
that'll work properly both in X&amp;Y they

795
00:33:07,519 --> 00:33:13,150
can be handled symmetrically no problem

796
00:33:08,990 --> 00:33:13,150
they're both correct and so that's good

797
00:33:13,240 --> 00:33:17,359
but again that's assuming that the

798
00:33:15,230 --> 00:33:18,529
bitmaps are also bottom-up which we have

799
00:33:17,359 --> 00:33:20,449
a necessary done yet so we're gonna have

800
00:33:18,529 --> 00:33:22,849
to do that as well let's keep going

801
00:33:20,450 --> 00:33:24,319
through here we have again that negation

802
00:33:22,849 --> 00:33:26,689
on the offset Y which we didn't want

803
00:33:24,319 --> 00:33:28,579
we've got our pushed render element here

804
00:33:26,690 --> 00:33:30,650
everything else in here looks relatively

805
00:33:28,579 --> 00:33:33,079
good it's just storing things up nothing

806
00:33:30,650 --> 00:33:35,990
particularly weird going on there we've

807
00:33:33,079 --> 00:33:38,809
got our rect outlines again nothing

808
00:33:35,990 --> 00:33:41,809
we're there iteration coordinate system

809
00:33:38,809 --> 00:33:44,269
so all of that looks relatively good to

810
00:33:41,809 --> 00:33:49,429
first approximation let's go ahead and

811
00:33:44,269 --> 00:33:51,529
close this out and so now we should get

812
00:33:49,430 --> 00:33:54,049
a situation where we are moving properly

813
00:33:51,529 --> 00:33:55,430
which we are and everything should be

814
00:33:54,049 --> 00:33:58,039
going in the correct direction but all

815
00:33:55,430 --> 00:33:59,330
of our bitmaps should be upside down and

816
00:33:58,039 --> 00:34:02,180
the reason that they're upside down is

817
00:33:59,329 --> 00:34:03,859
because we are not loading them bottom

818
00:34:02,180 --> 00:34:06,440
up yet and so that's the next thing that

819
00:34:03,859 --> 00:34:08,599
we have to do there which will be I

820
00:34:06,440 --> 00:34:11,480
believe pretty pretty straightforward

821
00:34:08,599 --> 00:34:15,668
okay so let's let's get started with

822
00:34:11,480 --> 00:34:19,668
that open up handmade that's too creepy

823
00:34:15,668 --> 00:34:22,299
so when we load our bitmaps right we've

824
00:34:19,668 --> 00:34:24,769
got our bitmap debug bitmap loader here

825
00:34:22,300 --> 00:34:27,230
when we load our bitmaps you can

826
00:34:24,769 --> 00:34:30,110
actually you can actually kind of see

827
00:34:27,230 --> 00:34:31,400
we're looping through them here you can

828
00:34:30,110 --> 00:34:33,470
actually kind of see that when we get to

829
00:34:31,400 --> 00:34:35,630
the end we actually go through some

830
00:34:33,469 --> 00:34:37,879
trouble to flip them because the BMP

831
00:34:35,630 --> 00:34:40,400
file format actually normally does store

832
00:34:37,880 --> 00:34:42,349
the things bottom-up but what we did is

833
00:34:40,400 --> 00:34:44,690
we pre stepped to the end of the bitmap

834
00:34:42,349 --> 00:34:47,630
right and then set the pitch to be

835
00:34:44,690 --> 00:34:49,369
negative so if we want to undo this that

836
00:34:47,630 --> 00:34:50,900
so we were like flipping things from the

837
00:34:49,369 --> 00:34:53,659
fact that they were already going

838
00:34:50,900 --> 00:34:54,980
bottom-up so if we want to restore what

839
00:34:53,659 --> 00:34:56,899
it used to work look like we can just

840
00:34:54,980 --> 00:34:58,699
set the pitch back to be something that

841
00:34:56,900 --> 00:35:00,289
steps through the rows in the order they

842
00:34:58,699 --> 00:35:03,079
were actually in the bitmap file and

843
00:35:00,289 --> 00:35:07,039
then just not do the pre step right so

844
00:35:03,079 --> 00:35:09,170
take take get rid of that right and so

845
00:35:07,039 --> 00:35:11,900
if we do that now we should actually

846
00:35:09,170 --> 00:35:13,480
have things that are organized in the

847
00:35:11,900 --> 00:35:14,619
appropriate fashion now one thing I

848
00:35:13,480 --> 00:35:16,750
you want to do though actually now that

849
00:35:14,619 --> 00:35:18,250
I think about it what I'd like to do is

850
00:35:16,750 --> 00:35:20,079
I'd actually make like to make this look

851
00:35:18,250 --> 00:35:26,019
like this and I'd like to just leave

852
00:35:20,079 --> 00:35:28,150
this out like so something like this and

853
00:35:26,019 --> 00:35:30,969
the reason that I wanted to do that is

854
00:35:28,150 --> 00:35:32,440
just because in order to in fact I

855
00:35:30,969 --> 00:35:34,899
couldn't do it like this as well just

856
00:35:32,440 --> 00:35:36,789
whip that guy around what I'd like to do

857
00:35:34,900 --> 00:35:39,280
is later on we might end up loading

858
00:35:36,789 --> 00:35:42,429
things that aren't in that order in fact

859
00:35:39,280 --> 00:35:44,590
I think technically speaking the height

860
00:35:42,429 --> 00:35:46,659
in the header of the bitmap if it is

861
00:35:44,590 --> 00:35:47,970
negative it's a top-down bitmap and we

862
00:35:46,659 --> 00:35:51,339
just don't have any of those right now

863
00:35:47,969 --> 00:35:54,219
and so what I'd like to do is sort of

864
00:35:51,340 --> 00:35:57,070
say okay assert that that result height

865
00:35:54,219 --> 00:36:00,039
is greater than 0 or equal to 0 I guess

866
00:35:57,070 --> 00:36:01,330
and later on we might want to support

867
00:36:00,039 --> 00:36:03,550
the ability to load in either direction

868
00:36:01,329 --> 00:36:05,679
and so this is kind of a nice way that

869
00:36:03,550 --> 00:36:07,119
we can just flip things if we need to so

870
00:36:05,679 --> 00:36:09,069
if the bitmap itself was actually

871
00:36:07,119 --> 00:36:10,420
top-down that would actually not cause a

872
00:36:09,070 --> 00:36:12,220
problem for us we can just turn this

873
00:36:10,420 --> 00:36:13,659
case back on with an if statement or

874
00:36:12,219 --> 00:36:15,879
something so I'm not going to delete it

875
00:36:13,659 --> 00:36:17,440
entirely I'm gonna leave it there but

876
00:36:15,880 --> 00:36:20,108
we're just not going to use it at the

877
00:36:17,440 --> 00:36:22,420
moment and so now we're back to as you

878
00:36:20,108 --> 00:36:25,299
can kind of see we're back to relatively

879
00:36:22,420 --> 00:36:29,530
good in terms of everything being sort

880
00:36:25,300 --> 00:36:31,269
of aligned properly but I don't know if

881
00:36:29,530 --> 00:36:33,880
you can see this here they're sort of

882
00:36:31,269 --> 00:36:36,400
still a there's still a bit of a weird

883
00:36:33,880 --> 00:36:39,910
like offsetting kind of a problem like

884
00:36:36,400 --> 00:36:43,329
I'm able to walk through the tree line

885
00:36:39,909 --> 00:36:45,879
above where the hole actually should be

886
00:36:43,329 --> 00:36:47,500
right so we're not and you can see I can

887
00:36:45,880 --> 00:36:49,329
walk into this line so we're still

888
00:36:47,500 --> 00:36:51,250
offset where we're drawing just a little

889
00:36:49,329 --> 00:36:54,219
bit offset from where everything

890
00:36:51,250 --> 00:36:58,510
actually should be and similarly you can

891
00:36:54,219 --> 00:37:00,639
see if I jump my z is actually going in

892
00:36:58,510 --> 00:37:02,890
the wrong direction as well right I'm

893
00:37:00,639 --> 00:37:06,190
going down instead of instead of up on

894
00:37:02,889 --> 00:37:09,420
my Z which is obviously not what we

895
00:37:06,190 --> 00:37:12,700
would have wanted to have happen ok so

896
00:37:09,420 --> 00:37:16,510
but we're getting there we're almost

897
00:37:12,699 --> 00:37:19,029
done so let's go ahead and fix that Z

898
00:37:16,510 --> 00:37:22,030
thing first because that was kind of a

899
00:37:19,030 --> 00:37:25,180
little bit funny as well so let's take a

900
00:37:22,030 --> 00:37:26,798
look at why that is happening so when we

901
00:37:25,179 --> 00:37:29,379
do our push piece and we

902
00:37:26,798 --> 00:37:31,778
push our entities ease on there I'm

903
00:37:29,380 --> 00:37:35,349
trying to remember exactly how all this

904
00:37:31,778 --> 00:37:37,509
stuff works but I believe we have this

905
00:37:35,349 --> 00:37:41,890
negation here where we're doing the

906
00:37:37,509 --> 00:37:43,298
entity Z this negation again this is

907
00:37:41,889 --> 00:37:45,278
sort of a Z howling thing which haven't

908
00:37:43,298 --> 00:37:48,630
looked up but this negation was designed

909
00:37:45,278 --> 00:37:52,268
to make sure that you go up the screen a

910
00:37:48,630 --> 00:37:54,309
in terms of going up in Y right which

911
00:37:52,268 --> 00:37:55,688
used to be negative now it's positive so

912
00:37:54,309 --> 00:37:58,719
I believe that really all we're seeing

913
00:37:55,688 --> 00:38:01,239
is the fact that that was negated to

914
00:37:58,719 --> 00:38:05,679
make it work in the old scheme so I

915
00:38:01,239 --> 00:38:07,869
suspect that yeah that that was the the

916
00:38:05,679 --> 00:38:10,679
entirety of that problem

917
00:38:07,869 --> 00:38:13,420
so that's leaves us with just this one

918
00:38:10,679 --> 00:38:15,789
which is that we don't quite you can

919
00:38:13,420 --> 00:38:17,139
kind of see we just don't quite pick the

920
00:38:15,789 --> 00:38:19,630
right pace so it's like everything is

921
00:38:17,139 --> 00:38:21,038
being offset up a little bit and it'd be

922
00:38:19,630 --> 00:38:23,769
nice to figure out what was going on

923
00:38:21,039 --> 00:38:25,390
there one possible obviously candidate

924
00:38:23,768 --> 00:38:27,038
for that is that we've done our

925
00:38:25,389 --> 00:38:30,248
alignment wrong even though I tried to

926
00:38:27,039 --> 00:38:32,229
kind of handle that one thing I suspect

927
00:38:30,248 --> 00:38:34,988
is that there might be other alignments

928
00:38:32,228 --> 00:38:37,088
like for drawing the tree weed that we

929
00:38:34,989 --> 00:38:38,739
haven't actually fixed because again

930
00:38:37,088 --> 00:38:40,958
this was all very ad hoc it's very much

931
00:38:38,739 --> 00:38:43,239
test code and so yes you can kind of see

932
00:38:40,958 --> 00:38:46,389
here here's our wall function it's got

933
00:38:43,239 --> 00:38:48,519
an alignment that's baked in and that

934
00:38:46,389 --> 00:38:50,199
alignment means is that alignment is

935
00:38:48,518 --> 00:38:52,868
going to be wrong right that's just an

936
00:38:50,199 --> 00:38:54,699
incorrect alignment and so we want to be

937
00:38:52,869 --> 00:38:57,640
able to adjust and here we go the sword

938
00:38:54,699 --> 00:38:59,709
same way right so we want to be able to

939
00:38:57,639 --> 00:39:02,438
make sure that these alignments are

940
00:38:59,708 --> 00:39:06,368
adjusted and so that they're not all

941
00:39:02,438 --> 00:39:10,298
kinds of all kinds of wrong in terms of

942
00:39:06,369 --> 00:39:13,568
going bottom-up or yeah and in terms of

943
00:39:10,298 --> 00:39:15,188
being expressed in top-down but done in

944
00:39:13,568 --> 00:39:18,188
bottom-up and those appear to be the

945
00:39:15,188 --> 00:39:21,248
only ones that we've got so that should

946
00:39:18,188 --> 00:39:22,748
basically handle it so in order to do

947
00:39:21,248 --> 00:39:27,129
that I guess what I'm going to do is say

948
00:39:22,748 --> 00:39:29,618
I'm gonna do a little thing here where

949
00:39:27,130 --> 00:39:32,229
we'll just do alignment and I'll do

950
00:39:29,619 --> 00:39:34,539
top-down a line and we'll just do

951
00:39:32,228 --> 00:39:38,228
something that actually just returns the

952
00:39:34,539 --> 00:39:40,480
value for us like so and that way I can

953
00:39:38,228 --> 00:39:42,219
do that pretty easily here again this

954
00:39:40,480 --> 00:39:44,170
not code that I think will ever actually

955
00:39:42,219 --> 00:39:46,509
need to use because we'll actually be

956
00:39:44,170 --> 00:39:49,930
getting these alignments from the data

957
00:39:46,510 --> 00:39:54,119
itself eventually when we have more art

958
00:39:49,929 --> 00:39:57,190
assets and we have sort of more of a I

959
00:39:54,119 --> 00:39:59,590
guess a stable data format that we're

960
00:39:57,190 --> 00:40:00,700
loading that isn't just bitmaps but for

961
00:39:59,590 --> 00:40:02,650
the moment while we have these in the

962
00:40:00,699 --> 00:40:05,139
code I just want to make it easy for me

963
00:40:02,650 --> 00:40:07,000
to deal with so that should make it much

964
00:40:05,139 --> 00:40:09,099
easier to deal with so let me just

965
00:40:07,000 --> 00:40:12,099
double check to make sure we've got them

966
00:40:09,099 --> 00:40:14,230
all I think there was one more here if I

967
00:40:12,099 --> 00:40:19,358
remember correctly it wasn't there one

968
00:40:14,230 --> 00:40:22,599
more no there wasn't

969
00:40:19,358 --> 00:40:27,099
so nevermind I guess we've got we've got

970
00:40:22,599 --> 00:40:30,279
the sward we've got the wall and I guess

971
00:40:27,099 --> 00:40:34,150
we just never used one on the familiar

972
00:40:30,280 --> 00:40:37,990
so the familiar is just flat out oh it

973
00:40:34,150 --> 00:40:40,030
uses the hero bitmaps align okay so

974
00:40:37,989 --> 00:40:41,349
that's fine all right so well we really

975
00:40:40,030 --> 00:40:44,050
need to do now is just make sure that we

976
00:40:41,349 --> 00:40:45,339
have that top-down alignment function so

977
00:40:44,050 --> 00:40:48,280
that all of those things are aligned

978
00:40:45,340 --> 00:40:49,059
properly yeah and we can go ahead and

979
00:40:48,280 --> 00:40:53,530
put that in here

980
00:40:49,059 --> 00:40:54,909
there it is top-down line and that just

981
00:40:53,530 --> 00:40:57,190
is going to do exactly what this other

982
00:40:54,909 --> 00:40:59,429
function was doing it's exactly what

983
00:40:57,190 --> 00:41:03,519
this other function was doing only now

984
00:40:59,429 --> 00:41:06,969
hmm it does it just on the vector so

985
00:41:03,519 --> 00:41:09,099
that if you happen to want to have you

986
00:41:06,969 --> 00:41:11,980
know to do it without a full hero

987
00:41:09,099 --> 00:41:14,529
bitmaps thing you can so here's the

988
00:41:11,980 --> 00:41:17,050
bitmap there's the align and so what

989
00:41:14,530 --> 00:41:19,359
we'll do here is say okay the align Y

990
00:41:17,050 --> 00:41:21,580
again equals sir that that bitmaps

991
00:41:19,358 --> 00:41:23,349
height minus one minus the align Y and

992
00:41:21,579 --> 00:41:25,449
then we just don't return the Alliance

993
00:41:23,349 --> 00:41:28,690
exactly what it was and so here we can

994
00:41:25,449 --> 00:41:31,899
just do top down a line bitmap we'll do

995
00:41:28,690 --> 00:41:34,050
it on the head we were and we'll pass it

996
00:41:31,900 --> 00:41:39,170
the alignment that's all it has to do

997
00:41:34,050 --> 00:41:43,519
like so and now

998
00:41:39,170 --> 00:41:46,818
what was that yes cannot convert again

999
00:41:43,519 --> 00:41:54,858
these all need to be pointers there we

1000
00:41:46,818 --> 00:41:56,798
go and now we may even be back to parity

1001
00:41:54,858 --> 00:42:01,009
yes we are there we go

1002
00:41:56,798 --> 00:42:04,009
lovely so now we no longer have any why

1003
00:42:01,010 --> 00:42:05,630
flippin going on and so that's good so

1004
00:42:04,010 --> 00:42:08,630
we're getting closer we're definitely

1005
00:42:05,630 --> 00:42:10,460
getting closer we've got the the

1006
00:42:08,630 --> 00:42:14,150
everything is bottom up which will help

1007
00:42:10,460 --> 00:42:18,650
us to when we do our OpenGL or honestly

1008
00:42:14,150 --> 00:42:20,000
I think it's probably I don't mean to to

1009
00:42:18,650 --> 00:42:21,798
spoil the surprise but honestly I think

1010
00:42:20,000 --> 00:42:25,219
we'll probably be able to do Vulcan I

1011
00:42:21,798 --> 00:42:27,619
don't know I mean we'll see but I'm just

1012
00:42:25,219 --> 00:42:29,449
assuming that based on the way that the

1013
00:42:27,619 --> 00:42:31,490
rendering stuff has gone so far it feels

1014
00:42:29,449 --> 00:42:33,348
like our software a renderer will be

1015
00:42:31,489 --> 00:42:34,789
fast enough to play the game and so we

1016
00:42:33,349 --> 00:42:36,619
will have the luxury of waiting for

1017
00:42:34,789 --> 00:42:38,298
Vulcan or something like that and that's

1018
00:42:36,619 --> 00:42:42,200
really what I prefer cuz way more low

1019
00:42:38,298 --> 00:42:44,509
level you know that'll be way more world

1020
00:42:42,199 --> 00:42:47,088
level stuff then then if we're really

1021
00:42:44,510 --> 00:42:49,720
open gel but anyway point being a lot of

1022
00:42:47,088 --> 00:42:54,710
that stuff tends to be about bottom-up

1023
00:42:49,719 --> 00:42:59,230
coordinate systems as well and so it

1024
00:42:54,710 --> 00:43:01,608
kind of also helps us not have too many

1025
00:42:59,230 --> 00:43:03,469
differences between our software and our

1026
00:43:01,608 --> 00:43:05,239
hardware pipeline which again just

1027
00:43:03,469 --> 00:43:07,818
eliminates frustration and confusion so

1028
00:43:05,239 --> 00:43:10,368
that's pretty good alright so next thing

1029
00:43:07,818 --> 00:43:12,440
we should probably do here we obviously

1030
00:43:10,369 --> 00:43:16,130
had introduced a bug somewhere with our

1031
00:43:12,440 --> 00:43:18,559
ground stuff is now flipped our grounds

1032
00:43:16,130 --> 00:43:20,269
are in the wrong places and so it would

1033
00:43:18,559 --> 00:43:21,680
be probably a good idea just to quick

1034
00:43:20,269 --> 00:43:24,139
take a look at what's going on there I

1035
00:43:21,679 --> 00:43:25,250
have no idea what is going on there so

1036
00:43:24,139 --> 00:43:27,199
we should probably take a look at that

1037
00:43:25,250 --> 00:43:30,559
and just see if we can figure out why

1038
00:43:27,199 --> 00:43:34,848
our grounds are wrong I don't know when

1039
00:43:30,559 --> 00:43:38,599
that when that started happening but so

1040
00:43:34,849 --> 00:43:41,809
in here we've got our ground renderer

1041
00:43:38,599 --> 00:43:44,119
like so it goes ahead and loops through

1042
00:43:41,809 --> 00:43:47,298
all the ground buffers we have and it

1043
00:43:44,119 --> 00:43:50,420
pushes them using the width and the

1044
00:43:47,298 --> 00:43:53,539
height let's see here

1045
00:43:50,420 --> 00:43:56,599
as is that an alignment value yeah it's

1046
00:43:53,539 --> 00:43:59,389
got the Delta XY so this is all this is

1047
00:43:56,599 --> 00:44:05,088
all done in Y up as you would expect it

1048
00:43:59,389 --> 00:44:14,650
to be I don't really see much in the way

1049
00:44:05,088 --> 00:44:20,480
of roblems here I'm going to go ahead I

1050
00:44:14,650 --> 00:44:21,170
am going to go ahead so that looks about

1051
00:44:20,480 --> 00:44:23,298
right

1052
00:44:21,170 --> 00:44:25,460
so our subtraction here that gives us

1053
00:44:23,298 --> 00:44:30,880
our Delta we know that all about is done

1054
00:44:25,460 --> 00:44:33,559
meters which is good so there's some

1055
00:44:30,880 --> 00:44:36,200
something that's a little bit odd but I

1056
00:44:33,559 --> 00:44:42,500
don't super understand is our push bit

1057
00:44:36,199 --> 00:44:46,578
map call actually directly in pixels can

1058
00:44:42,500 --> 00:44:49,130
that be true that's happening let's find

1059
00:44:46,579 --> 00:44:50,359
out I'm really glad we're doing this

1060
00:44:49,130 --> 00:44:51,829
coordinate system stuff because I don't

1061
00:44:50,358 --> 00:44:53,210
like having guests about these sorts of

1062
00:44:51,829 --> 00:44:54,559
things I like to lock them down and then

1063
00:44:53,210 --> 00:44:58,730
not have to think about them anymore so

1064
00:44:54,559 --> 00:45:03,319
that's gonna be very nice so when it

1065
00:44:58,730 --> 00:45:08,269
does a push bitmap call it looks like it

1066
00:45:03,318 --> 00:45:10,308
depends on what our actual setup was

1067
00:45:08,269 --> 00:45:12,829
here because it's going to call get

1068
00:45:10,309 --> 00:45:14,809
render entity basis P right it's going

1069
00:45:12,829 --> 00:45:17,359
to do this on it

1070
00:45:14,809 --> 00:45:20,000
which is kind of a lot of randomness and

1071
00:45:17,358 --> 00:45:22,750
so it is going to do stuff like meters

1072
00:45:20,000 --> 00:45:28,639
to pixels and stuff like that and so I'm

1073
00:45:22,750 --> 00:45:30,949
not entirely certain why what exactly

1074
00:45:28,639 --> 00:45:32,929
that's that is doing I'm guessing that

1075
00:45:30,949 --> 00:45:35,328
must be the alignment it is the

1076
00:45:32,929 --> 00:45:36,710
alignment so that's gonna be that

1077
00:45:35,329 --> 00:45:39,619
alignment is correct

1078
00:45:36,710 --> 00:45:41,088
because it's always going to be no

1079
00:45:39,619 --> 00:45:42,740
matter whether you're going top-down or

1080
00:45:41,088 --> 00:45:44,630
bottom-up it's always going to give you

1081
00:45:42,739 --> 00:45:45,798
the center right because there's no the

1082
00:45:44,630 --> 00:45:48,230
center is the same whether you're

1083
00:45:45,798 --> 00:45:50,329
flipped or not so that shouldn't be

1084
00:45:48,230 --> 00:45:52,809
causing us any problems so I'm wondering

1085
00:45:50,329 --> 00:45:56,450
if it's just in our ground chunk

1086
00:45:52,809 --> 00:45:58,579
construction code if we've baked in the

1087
00:45:56,449 --> 00:46:01,789
flipped y into there and we should

1088
00:45:58,579 --> 00:46:02,860
remove it if that is the majority of the

1089
00:46:01,789 --> 00:46:04,690
problem I'm

1090
00:46:02,860 --> 00:46:09,910
not entirely certain but let's take a

1091
00:46:04,690 --> 00:46:12,460
look so when we come in here we are

1092
00:46:09,909 --> 00:46:17,190
looping through a bunch of chunks

1093
00:46:12,460 --> 00:46:24,329
we are yep we sure did there it is and

1094
00:46:17,190 --> 00:46:32,200
that of course will cause the problem so

1095
00:46:24,329 --> 00:46:33,849
yeah perfect so I think we have now

1096
00:46:32,199 --> 00:46:37,059
successfully gotten rid of a bunch of

1097
00:46:33,849 --> 00:46:39,519
craftiness right we've got about eight

1098
00:46:37,059 --> 00:46:41,230
minutes left but we've gotten rid of a

1099
00:46:39,519 --> 00:46:42,969
ton of the craftiness there in terms of

1100
00:46:41,230 --> 00:46:44,230
people negating Y and other kinds of

1101
00:46:42,969 --> 00:46:46,629
ridiculous like that that we were doing

1102
00:46:44,230 --> 00:46:48,490
oh just working again there was nothing

1103
00:46:46,630 --> 00:46:52,390
wrong with that that wasn't bad what we

1104
00:46:48,489 --> 00:46:53,879
were doing it's you want to focus on

1105
00:46:52,389 --> 00:46:56,079
whatever it is that you're focusing on

1106
00:46:53,880 --> 00:46:58,119
so you don't want to spend a lot of time

1107
00:46:56,079 --> 00:46:59,199
all the time thinking about oh wait I

1108
00:46:58,119 --> 00:47:00,369
got to worry about this I got to worry

1109
00:46:59,199 --> 00:47:02,409
about that yep you won't you need a

1110
00:47:00,369 --> 00:47:04,299
certain degree of concentration so it's

1111
00:47:02,409 --> 00:47:05,409
not bad to do stuff like just negate why

1112
00:47:04,300 --> 00:47:06,430
because we need to do something or

1113
00:47:05,409 --> 00:47:07,629
whatever you saw me do that a bunch of

1114
00:47:06,429 --> 00:47:09,009
times and that's actually totally fine I

1115
00:47:07,630 --> 00:47:11,289
wouldn't have done it on the stream if I

1116
00:47:09,010 --> 00:47:13,780
thought it was a bad idea the important

1117
00:47:11,289 --> 00:47:17,230
thing to remember is always to know when

1118
00:47:13,780 --> 00:47:18,580
to stop and correct things and again

1119
00:47:17,230 --> 00:47:21,490
it's a little bit difficult because it's

1120
00:47:18,579 --> 00:47:23,139
one of those things which requires some

1121
00:47:21,489 --> 00:47:25,119
experience to know because it's a

1122
00:47:23,139 --> 00:47:26,589
trade-off right any time you go and stop

1123
00:47:25,119 --> 00:47:28,059
and correct things you're losing

1124
00:47:26,590 --> 00:47:30,039
momentum on whatever you're working on

1125
00:47:28,059 --> 00:47:31,179
you're losing the context mental context

1126
00:47:30,039 --> 00:47:33,009
or what you're working on there's a

1127
00:47:31,179 --> 00:47:35,139
bunch of cost involved to going and

1128
00:47:33,010 --> 00:47:37,690
doing something right that needs to be

1129
00:47:35,139 --> 00:47:40,089
done right but there's also cost to not

1130
00:47:37,690 --> 00:47:41,200
doing it right and so it's constantly

1131
00:47:40,090 --> 00:47:43,539
this trade-off that you're kind of

1132
00:47:41,199 --> 00:47:44,769
weighing and so I just kind of felt like

1133
00:47:43,539 --> 00:47:46,630
now is the time that we want to go

1134
00:47:44,769 --> 00:47:47,800
through and do that but again I just

1135
00:47:46,630 --> 00:47:49,420
wanted to make sure that everyone knew

1136
00:47:47,800 --> 00:47:51,430
it's totally fine that we did it that

1137
00:47:49,420 --> 00:47:53,380
way it's the way I recommend doing it we

1138
00:47:51,429 --> 00:47:56,019
don't want to always be in a situation

1139
00:47:53,380 --> 00:47:57,400
where we're paralyzed by worrying about

1140
00:47:56,019 --> 00:47:59,110
whether we're doing something correctly

1141
00:47:57,400 --> 00:48:01,450
or not you need to be able to make that

1142
00:47:59,110 --> 00:48:04,930
forward momentum make that always work

1143
00:48:01,449 --> 00:48:06,730
out fine as you sort of iterate on

1144
00:48:04,929 --> 00:48:08,799
things but then the important thing and

1145
00:48:06,730 --> 00:48:10,630
the thing that separates a codebase from

1146
00:48:08,800 --> 00:48:12,580
one that will work and extend overtime

1147
00:48:10,630 --> 00:48:14,200
from one that's just going to collapse

1148
00:48:12,579 --> 00:48:15,039
on its own weight is whether you take

1149
00:48:14,199 --> 00:48:16,929
that time like we're

1150
00:48:15,039 --> 00:48:18,940
doing now to go through and say alright

1151
00:48:16,929 --> 00:48:20,889
we've got enough down here I think we

1152
00:48:18,940 --> 00:48:23,110
know what we want now would be a good

1153
00:48:20,889 --> 00:48:27,609
time to solidify that so that we don't

1154
00:48:23,110 --> 00:48:29,860
keep accreting problems right so that

1155
00:48:27,610 --> 00:48:32,620
looks pretty good to me I think we're in

1156
00:48:29,860 --> 00:48:35,769
good shape there because now we sort of

1157
00:48:32,619 --> 00:48:37,239
gotten we've gotten this straightened

1158
00:48:35,769 --> 00:48:38,349
out now we may have there may be a

1159
00:48:37,239 --> 00:48:39,579
couple of things lurking in there

1160
00:48:38,349 --> 00:48:41,409
somewhere that we haven't gotten to but

1161
00:48:39,579 --> 00:48:44,559
at least we've got a pretty good handle

1162
00:48:41,409 --> 00:48:46,809
on these all working properly this all

1163
00:48:44,559 --> 00:48:49,239
bitmaps including the render target are

1164
00:48:46,809 --> 00:48:53,019
assumed to be bottom up is also true

1165
00:48:49,239 --> 00:48:54,519
right but we've got this situation where

1166
00:48:53,019 --> 00:48:56,019
we got unless otherwise so we haven't

1167
00:48:54,519 --> 00:48:58,300
really taken any look at either of these

1168
00:48:56,019 --> 00:49:01,150
two and those are obviously going to be

1169
00:48:58,300 --> 00:49:03,010
a bunch of work that we want to do and

1170
00:49:01,150 --> 00:49:04,480
so yeah so that's something that we want

1171
00:49:03,010 --> 00:49:07,210
to take a look at pretty soon here

1172
00:49:04,480 --> 00:49:08,380
that'll probably tomorrow's job since

1173
00:49:07,210 --> 00:49:11,170
we're getting to the end of the stream I

1174
00:49:08,380 --> 00:49:16,450
think it's probably a good time to to go

1175
00:49:11,170 --> 00:49:18,250
ahead to go ahead and go to the Q&amp;A I

1176
00:49:16,449 --> 00:49:19,960
can't think of anything else that I want

1177
00:49:18,250 --> 00:49:22,329
to do let me just think if there's

1178
00:49:19,960 --> 00:49:24,340
quickly if there's anything else that I

1179
00:49:22,329 --> 00:49:26,500
wanted to do before that's just a

1180
00:49:24,340 --> 00:49:27,910
five-minute thing I don't think so

1181
00:49:26,500 --> 00:49:33,610
because I think we want to start looking

1182
00:49:27,909 --> 00:49:34,869
at Z tomorrow but yeah yeah I think

1183
00:49:33,610 --> 00:49:38,019
we're all good so I'm gonna I'm gonna

1184
00:49:34,869 --> 00:49:41,679
call it there and I'm gonna go to the

1185
00:49:38,019 --> 00:49:43,179
Q&amp;A so if you could please go ahead and

1186
00:49:41,679 --> 00:49:46,239
post questions with Q :

1187
00:49:43,179 --> 00:49:48,549
before them so I can see them and try to

1188
00:49:46,239 --> 00:49:51,099
keep them to stuff that we've done on

1189
00:49:48,550 --> 00:49:52,510
the on the stream here so that these are

1190
00:49:51,099 --> 00:49:55,329
on topic questions if you want to talk

1191
00:49:52,510 --> 00:49:57,340
about on off-topic stuff come back 15

1192
00:49:55,329 --> 00:50:00,639
minutes before the stream starts some

1193
00:49:57,340 --> 00:50:04,019
day like 4:45 and that's when I answer

1194
00:50:00,639 --> 00:50:04,019
off-topic questions and stuff like that

1195
00:50:04,380 --> 00:50:07,440
all right

1196
00:50:09,000 --> 00:50:16,730
any questions questions questions

1197
00:50:19,780 --> 00:50:22,620
anyone

1198
00:50:31,280 --> 00:50:39,080
has this one wait a minute all right

1199
00:50:35,400 --> 00:50:42,539
this is not good what is happening here

1200
00:50:39,079 --> 00:50:46,349
my little question prompter is not is

1201
00:50:42,539 --> 00:50:50,429
not getting questions I wonder if my hex

1202
00:50:46,349 --> 00:50:52,230
chat is doing something weird well I can

1203
00:50:50,429 --> 00:50:53,519
read them here has this work fixed the

1204
00:50:52,230 --> 00:51:04,019
normal map issue or will we need to

1205
00:50:53,519 --> 00:51:05,759
address that specifically well I'm

1206
00:51:04,019 --> 00:51:07,980
trying to remember if we had any flips

1207
00:51:05,760 --> 00:51:10,680
in there but we can certainly treat

1208
00:51:07,980 --> 00:51:11,840
check we have we kind of need to go

1209
00:51:10,679 --> 00:51:14,699
through that with a fine-toothed comb

1210
00:51:11,840 --> 00:51:17,519
for other for totally separate reasons

1211
00:51:14,699 --> 00:51:21,960
as well but what I can do is I can go

1212
00:51:17,519 --> 00:51:23,190
ahead and turn this back on and and we

1213
00:51:21,960 --> 00:51:28,320
can take a look at what it looks like at

1214
00:51:23,190 --> 00:51:32,789
the moment so yes it has is the answer

1215
00:51:28,320 --> 00:51:34,440
Italy at least it has fixed the which

1216
00:51:32,789 --> 00:51:35,579
one of the bitmaps was at the top at the

1217
00:51:34,440 --> 00:51:38,159
bottom because that was just the case of

1218
00:51:35,579 --> 00:51:41,750
us of that routine wanted to interpret

1219
00:51:38,159 --> 00:51:41,750
it in this direction right

1220
00:51:46,150 --> 00:51:49,599
do you think that making the why

1221
00:51:47,469 --> 00:51:53,108
compared to develop will also help make

1222
00:51:49,599 --> 00:51:54,759
sense of game mechanics like gravity not

1223
00:51:53,108 --> 00:51:56,920
really because we didn't really have any

1224
00:51:54,759 --> 00:51:58,778
problems with that before most of the

1225
00:51:56,920 --> 00:52:01,480
problems that we have with any kind of

1226
00:51:58,778 --> 00:52:05,409
game mechanic stuff is just the fact

1227
00:52:01,480 --> 00:52:07,630
that we just the fact that we don't have

1228
00:52:05,409 --> 00:52:09,068
real geometry so we have to fake it a

1229
00:52:07,630 --> 00:52:10,240
lot of times for in a 2-d game and

1230
00:52:09,068 --> 00:52:12,969
that's a lot of complexity there for

1231
00:52:10,239 --> 00:52:14,798
stuff like gravity but there is one

1232
00:52:12,969 --> 00:52:16,689
thing that's nice about having y always

1233
00:52:14,798 --> 00:52:19,210
be up is that it always looks like math

1234
00:52:16,690 --> 00:52:20,950
right you know when you think about like

1235
00:52:19,210 --> 00:52:21,940
sine and cosine in the circle and

1236
00:52:20,949 --> 00:52:23,980
clockwise and counter clockwise

1237
00:52:21,940 --> 00:52:25,869
rotations those are all correct now

1238
00:52:23,980 --> 00:52:35,528
whereas before they wouldn't quite have

1239
00:52:25,869 --> 00:52:37,390
been right will we be implementing a

1240
00:52:35,528 --> 00:52:39,460
matrix affine transform in order to

1241
00:52:37,389 --> 00:52:46,379
handle changes to coordinate systems we

1242
00:52:39,460 --> 00:52:51,778
did so that's that's what this is I

1243
00:52:46,380 --> 00:52:58,619
don't know if you remember basically

1244
00:52:51,778 --> 00:53:03,219
this right here nope sorry not that this

1245
00:52:58,619 --> 00:53:05,048
this is an affine transform so I mean I

1246
00:53:03,219 --> 00:53:05,949
guess this might be a time to sort of

1247
00:53:05,048 --> 00:53:07,630
just briefly mention on the stream

1248
00:53:05,949 --> 00:53:09,009
because we're probably at some point if

1249
00:53:07,630 --> 00:53:10,599
we actually want to talk about matrices

1250
00:53:09,009 --> 00:53:17,440
more specifically we could talk about it

1251
00:53:10,599 --> 00:53:19,450
but Origin x axis y axis so what I would

1252
00:53:17,440 --> 00:53:20,619
invite you to think about remember we've

1253
00:53:19,449 --> 00:53:22,919
talked about this on stream a bunch of

1254
00:53:20,619 --> 00:53:26,019
times matrix multiplication stuff right

1255
00:53:22,920 --> 00:53:31,210
so let's say I have an incoming vector

1256
00:53:26,018 --> 00:53:34,598
and it's got px py and let's say one

1257
00:53:31,210 --> 00:53:38,199
it's three three dimensions X Y one

1258
00:53:34,599 --> 00:53:44,430
right this part here is where you get

1259
00:53:38,199 --> 00:53:46,838
the homogeneous coordinate system part

1260
00:53:44,429 --> 00:53:49,118
so if you're talking about multiplying

1261
00:53:46,838 --> 00:53:51,460
an incoming vector by a matrix right

1262
00:53:49,119 --> 00:53:52,690
well we've already seen what happens

1263
00:53:51,460 --> 00:53:54,130
here you remember this equation I've

1264
00:53:52,690 --> 00:53:57,369
harped on many many times which is that

1265
00:53:54,130 --> 00:53:59,920
our new point is always equal to the PX

1266
00:53:57,369 --> 00:54:02,559
times the x axis right

1267
00:53:59,920 --> 00:54:05,740
so I guess I'll just write JA an X for

1268
00:54:02,559 --> 00:54:07,539
that py times the y-axis and then of

1269
00:54:05,739 --> 00:54:12,759
course plus the origin right whatever

1270
00:54:07,539 --> 00:54:14,980
the origin is right we could call that P

1271
00:54:12,760 --> 00:54:16,150
origin or something we've done this so

1272
00:54:14,980 --> 00:54:17,320
many times right

1273
00:54:16,150 --> 00:54:20,260
we've done this and done this and done

1274
00:54:17,320 --> 00:54:25,240
this and done this well what's this

1275
00:54:20,260 --> 00:54:27,310
equation P XX p YY p 0 right well you

1276
00:54:25,239 --> 00:54:29,199
know from matrix the way we talked about

1277
00:54:27,309 --> 00:54:31,900
matrix multiplication right the way that

1278
00:54:29,199 --> 00:54:34,539
it works is you take like this and you

1279
00:54:31,900 --> 00:54:35,559
know this position in the matrix and you

1280
00:54:34,539 --> 00:54:37,059
multiply it by this you add them

1281
00:54:35,559 --> 00:54:39,880
together with this multiplied by this

1282
00:54:37,059 --> 00:54:42,519
you take this multiplied by this right

1283
00:54:39,880 --> 00:54:45,070
so it's PX times this py times that one

1284
00:54:42,519 --> 00:54:46,360
times this right and what you see if you

1285
00:54:45,070 --> 00:54:48,250
do that remember we did the column

1286
00:54:46,360 --> 00:54:51,460
picture before of the of the matrix er

1287
00:54:48,250 --> 00:54:53,889
the P X component multiplies the things

1288
00:54:51,460 --> 00:54:55,809
that are in this first column px keeps

1289
00:54:53,889 --> 00:54:58,269
multiplying that right it's PX times

1290
00:54:55,809 --> 00:55:00,880
this for this row its PX times that for

1291
00:54:58,269 --> 00:55:04,420
this row and it's 1 times this for this

1292
00:55:00,880 --> 00:55:08,590
row right so what you end up with is you

1293
00:55:04,420 --> 00:55:11,050
end up with this right here being the

1294
00:55:08,590 --> 00:55:13,480
things that are multiplied by px right

1295
00:55:11,050 --> 00:55:15,519
and this here are the things that are

1296
00:55:13,480 --> 00:55:17,409
multiplied by py and these are the

1297
00:55:15,519 --> 00:55:19,269
things that are multiplied by 1 right

1298
00:55:17,409 --> 00:55:22,779
and if you put that together what you

1299
00:55:19,269 --> 00:55:24,340
get is whatever is in here look we can

1300
00:55:22,780 --> 00:55:27,460
just go if we call that a whatever this

1301
00:55:24,340 --> 00:55:32,410
this row is in fact I can just do it for

1302
00:55:27,460 --> 00:55:43,240
you a x a y AZ I guess we might call

1303
00:55:32,409 --> 00:55:45,069
this a w bx b y UW + CX CY CW like so if

1304
00:55:43,239 --> 00:55:46,719
this is our matrix then what you

1305
00:55:45,070 --> 00:55:47,559
immediately see right by doing this

1306
00:55:46,719 --> 00:55:48,730
thing if we were going to do this

1307
00:55:47,559 --> 00:55:51,880
summing right because you remember how

1308
00:55:48,730 --> 00:56:00,210
it goes it looks like this it's PX ax +

1309
00:55:51,880 --> 00:56:09,880
py b y + 1 right CX that's on the top PX

1310
00:56:00,210 --> 00:56:13,210
a y + py b y + cy and finally just 1/4

1311
00:56:09,880 --> 00:56:17,349
down here so you get aw

1312
00:56:13,210 --> 00:56:17,829
plus BW that whoops no I didn't do that

1313
00:56:17,349 --> 00:56:27,880
quite right

1314
00:56:17,829 --> 00:56:29,230
sorry P XA w XA w py DW c w right so if

1315
00:56:27,880 --> 00:56:31,000
you take a look at how this works right

1316
00:56:29,230 --> 00:56:32,590
I mean all I did was the make

1317
00:56:31,000 --> 00:56:34,000
transportation like I said many times in

1318
00:56:32,590 --> 00:56:36,340
the stream right it's just a dot product

1319
00:56:34,000 --> 00:56:39,610
it's just this this this this this this

1320
00:56:36,340 --> 00:56:41,500
right you start here and here and you

1321
00:56:39,610 --> 00:56:43,150
work in and you multiply that multiply

1322
00:56:41,500 --> 00:56:44,199
add multiply add right then you go down

1323
00:56:43,150 --> 00:56:46,840
to the next road we do the exact same

1324
00:56:44,199 --> 00:56:50,619
thing what hopefully you can see here is

1325
00:56:46,840 --> 00:56:52,450
that PX is the common term for here py

1326
00:56:50,619 --> 00:56:54,609
is the common term from here and there

1327
00:56:52,449 --> 00:56:54,969
in the one right is the common term from

1328
00:56:54,610 --> 00:56:58,680
here

1329
00:56:54,969 --> 00:57:02,230
so this basically just equals px times a

1330
00:56:58,679 --> 00:57:07,210
whatever a the a vector right if this is

1331
00:57:02,230 --> 00:57:12,190
the a vector ax ayaw right its PX times

1332
00:57:07,210 --> 00:57:14,349
a plus py times b plus c right that's

1333
00:57:12,190 --> 00:57:17,679
what this is that's what this this

1334
00:57:14,349 --> 00:57:21,039
matrix multiplication computes and hey

1335
00:57:17,679 --> 00:57:23,500
guess what that's this equation right

1336
00:57:21,039 --> 00:57:25,389
they are exactly the same take a look at

1337
00:57:23,500 --> 00:57:28,269
that in fact you can look at them both

1338
00:57:25,389 --> 00:57:31,629
the same time if you want to write same

1339
00:57:28,269 --> 00:57:37,329
exact equation P prime equals px a ok so

1340
00:57:31,630 --> 00:57:39,340
px X py b py y plus C P Zero so what

1341
00:57:37,329 --> 00:57:41,319
that tells you is if you wanted to use

1342
00:57:39,340 --> 00:57:43,630
matrix math to do the things that we

1343
00:57:41,320 --> 00:57:46,390
were doing literally all you're doing is

1344
00:57:43,630 --> 00:57:49,869
filling out your matrix exactly like

1345
00:57:46,389 --> 00:57:51,969
this the x-axis x-coordinate goes here

1346
00:57:49,869 --> 00:57:55,210
the x axis y-coordinate goes here

1347
00:57:51,969 --> 00:57:57,099
nothing goes there right because we

1348
00:57:55,210 --> 00:57:59,380
don't actually want any additional value

1349
00:57:57,099 --> 00:58:02,589
we don't want px aw we don't have

1350
00:57:59,380 --> 00:58:05,050
anything for that right we've got the

1351
00:58:02,590 --> 00:58:08,400
y-axis is X here the y axis Y goes there

1352
00:58:05,050 --> 00:58:11,710
and nothing here and then for the CX CY

1353
00:58:08,400 --> 00:58:13,059
CW that's the origin the origin x origin

1354
00:58:11,710 --> 00:58:14,679
Y right

1355
00:58:13,059 --> 00:58:15,639
and typically people put a 1 here but

1356
00:58:14,679 --> 00:58:16,899
doesn't actually matter what you put

1357
00:58:15,639 --> 00:58:18,730
here for our purposes we don't care what

1358
00:58:16,900 --> 00:58:20,200
actually comes out but if you started

1359
00:58:18,730 --> 00:58:21,369
doing matrix concatenation you would

1360
00:58:20,199 --> 00:58:22,539
care and that's something we probably

1361
00:58:21,369 --> 00:58:23,710
won't cover today because we'll talk

1362
00:58:22,539 --> 00:58:26,170
about that if we actually start doing

1363
00:58:23,710 --> 00:58:28,510
major stuff but this

1364
00:58:26,170 --> 00:58:31,780
is the homogeneous matrix that you often

1365
00:58:28,510 --> 00:58:36,240
hear about this is you know for a fine

1366
00:58:31,780 --> 00:58:39,490
transforms right and for those who care

1367
00:58:36,239 --> 00:58:43,179
the upper part here that's the linear

1368
00:58:39,489 --> 00:58:47,709
part and this part here really is that

1369
00:58:43,179 --> 00:58:50,980
the affine part is the reason I say that

1370
00:58:47,710 --> 00:58:53,260
is because often times and again this is

1371
00:58:50,980 --> 00:58:54,550
sort of CG lingo to some degree because

1372
00:58:53,260 --> 00:58:58,960
I'm not sure a mathematician would

1373
00:58:54,550 --> 00:59:02,260
really be all that ok with how it's done

1374
00:58:58,960 --> 00:59:04,780
in CG but in CG terms the way that it's

1375
00:59:02,260 --> 00:59:07,780
usually said is you know if you take

1376
00:59:04,780 --> 00:59:13,510
that equation that we had P prime equals

1377
00:59:07,780 --> 00:59:16,900
px X ax s py y axis plus the origin

1378
00:59:13,510 --> 00:59:23,050
right alright this will just say oh if

1379
00:59:16,900 --> 00:59:26,559
you take that and you classify sort of

1380
00:59:23,050 --> 00:59:29,200
how it behaves well you remember I drew

1381
00:59:26,559 --> 00:59:31,000
the diagram I said ok if this is the

1382
00:59:29,199 --> 00:59:35,109
y-axis this is the x-axis this is the

1383
00:59:31,000 --> 00:59:37,809
origin right then the px X plus py y is

1384
00:59:35,110 --> 00:59:40,960
the thing that like scales and rotates

1385
00:59:37,809 --> 00:59:43,570
our points into the correct position but

1386
00:59:40,960 --> 00:59:45,639
it doesn't displace them so you know if

1387
00:59:43,570 --> 00:59:47,230
the origin of the world's coordinate

1388
00:59:45,639 --> 00:59:49,449
system and the origin of the transform

1389
00:59:47,230 --> 00:59:51,280
coordinate system coincided it would be

1390
00:59:49,449 --> 00:59:52,739
at the right place but if the world's

1391
00:59:51,280 --> 00:59:56,830
coordinate system is actually out here

1392
00:59:52,739 --> 00:59:58,659
right you need to add that origin and

1393
00:59:56,829 --> 01:00:01,029
that's why we add that origin in is to

1394
00:59:58,659 --> 01:00:02,409
displace the new coordinate frame to the

1395
01:00:01,030 --> 01:00:04,360
place where it actually is in the world

1396
01:00:02,409 --> 01:00:05,679
in addition to rotating and scaling so

1397
01:00:04,360 --> 01:00:08,260
typically what we talk about is the

1398
01:00:05,679 --> 01:00:11,349
rotation and scaling part is the linear

1399
01:00:08,260 --> 01:00:14,620
part and the death disk can make that

1400
01:00:11,349 --> 01:00:17,079
quite big enough that's the linear part

1401
01:00:14,619 --> 01:00:19,509
and the affine what makes it a fine is

1402
01:00:17,079 --> 01:00:22,059
the fact that we add in the origin right

1403
01:00:19,510 --> 01:00:24,550
so the fact that we have a displacement

1404
01:00:22,059 --> 01:00:28,570
in addition to a rotation in scaling is

1405
01:00:24,550 --> 01:00:32,280
the affine part right and another way to

1406
01:00:28,570 --> 01:00:35,070
think about that is the zero coordinate

1407
01:00:32,280 --> 01:00:37,660
doesn't move in a linear transform

1408
01:00:35,070 --> 01:00:39,289
there's no amount of rotation and

1409
01:00:37,659 --> 01:00:41,539
scaling you can do that would

1410
01:00:39,289 --> 01:00:45,529
the point zero-zero go anywhere why

1411
01:00:41,539 --> 01:00:46,849
because the point is zero zero which

1412
01:00:45,530 --> 01:00:49,280
means that the x axis and the y axis

1413
01:00:46,849 --> 01:00:52,159
literally drop out of the equation so if

1414
01:00:49,280 --> 01:00:54,769
you just have P prime equals px X plus

1415
01:00:52,159 --> 01:00:57,170
py Y you would literally not be able to

1416
01:00:54,769 --> 01:00:58,670
do anything with the zero point and so

1417
01:00:57,170 --> 01:01:00,680
because it's the center it's the

1418
01:00:58,670 --> 01:01:03,800
transform center right it's where that's

1419
01:01:00,679 --> 01:01:05,329
where the transform occurs around it's

1420
01:01:03,800 --> 01:01:07,220
where the scaling occurs or at the

1421
01:01:05,329 --> 01:01:09,469
center of scaling center of rotation so

1422
01:01:07,219 --> 01:01:11,358
nothing will change it but that's where

1423
01:01:09,469 --> 01:01:13,789
the affine comes in the affine part

1424
01:01:11,358 --> 01:01:16,608
allows you to displace everything by a

1425
01:01:13,789 --> 01:01:24,199
certain amount right and so that's what

1426
01:01:16,608 --> 01:01:25,579
how it becomes a fine eventually okay so

1427
01:01:24,199 --> 01:01:29,230
hopefully does that answer your question

1428
01:01:25,579 --> 01:01:32,269
I don't even know my little question

1429
01:01:29,230 --> 01:01:33,469
question grabber thing is not working we

1430
01:01:32,269 --> 01:01:36,199
have to figure out why I don't actually

1431
01:01:33,469 --> 01:01:40,819
know so I can't actually see what's

1432
01:01:36,199 --> 01:01:42,799
going on here but let's take a look the

1433
01:01:40,820 --> 01:01:45,170
mods had to do a lot of work today just

1434
01:01:42,800 --> 01:01:46,940
so you know uh-oh what happened were we

1435
01:01:45,170 --> 01:01:49,340
on the twitch frontpage or something I'm

1436
01:01:46,940 --> 01:01:51,800
sorry mods it had been so good for a

1437
01:01:49,340 --> 01:01:53,780
while we hadn't had people spamming and

1438
01:01:51,800 --> 01:01:55,130
trolling but I guess sometimes it

1439
01:01:53,780 --> 01:01:56,690
happens I'm sorry that you had to deal

1440
01:01:55,130 --> 01:01:59,829
with that and we all appreciate your

1441
01:01:56,690 --> 01:02:03,340
work very much as always I'm sorry that

1442
01:01:59,829 --> 01:02:03,340
you had to do that

1443
01:02:05,469 --> 01:02:09,259
Stegosaurus Casey maybe I missed it but

1444
01:02:07,849 --> 01:02:10,789
when will the zero during be done to

1445
01:02:09,260 --> 01:02:13,520
visually correct sprites in front and

1446
01:02:10,789 --> 01:02:15,440
behind the character as soon as we get

1447
01:02:13,519 --> 01:02:17,780
our Z slicing stuff figured out we can

1448
01:02:15,440 --> 01:02:19,130
add a sort for that but right now we are

1449
01:02:17,780 --> 01:02:20,269
a little it's a little too early because

1450
01:02:19,130 --> 01:02:23,210
we're not exactly sure what exactly

1451
01:02:20,269 --> 01:02:24,679
we're going to be sorting on so you got

1452
01:02:23,210 --> 01:02:28,990
to give it a little bit longer it's not

1453
01:02:24,679 --> 01:02:28,989
quite yet time to call the ball on that

1454
01:02:41,228 --> 01:02:45,468
q it's more correct to call that the

1455
01:02:43,639 --> 01:02:47,868
translation part the entire upper part

1456
01:02:45,469 --> 01:02:50,349
is a find so pseudonym 73 again is the

1457
01:02:47,869 --> 01:02:52,940
resident math person so much like I said

1458
01:02:50,349 --> 01:02:57,249
math people might be uncomfortable with

1459
01:02:52,940 --> 01:03:01,639
it I suspect that they are so maybe

1460
01:02:57,248 --> 01:03:03,889
maybe I guess what we could say is let's

1461
01:03:01,639 --> 01:03:06,228
just use what would be an unambiguous

1462
01:03:03,889 --> 01:03:10,190
term for this so that math people won't

1463
01:03:06,228 --> 01:03:15,409
have to be nervous about it because you

1464
01:03:10,190 --> 01:03:18,380
know they invented this stuff so one way

1465
01:03:15,409 --> 01:03:22,818
you could think about it is this right

1466
01:03:18,380 --> 01:03:24,289
here is like rotation and scaling right

1467
01:03:22,818 --> 01:03:28,038
it's also sharing but we don't actually

1468
01:03:24,289 --> 01:03:31,278
allow that really this right here is

1469
01:03:28,039 --> 01:03:33,859
translation right or you could think of

1470
01:03:31,278 --> 01:03:37,009
it as displacement or you could think of

1471
01:03:33,858 --> 01:03:38,598
it as the origin but it's not really the

1472
01:03:37,009 --> 01:03:40,818
origin probably the wrong way it's the

1473
01:03:38,599 --> 01:03:43,430
displacement cuz origin means things

1474
01:03:40,818 --> 01:03:44,958
that maybe are subjective so it's really

1475
01:03:43,429 --> 01:03:47,899
the part that's gonna translate so this

1476
01:03:44,958 --> 01:03:50,149
rotates the scales this translates this

1477
01:03:47,900 --> 01:03:54,099
part right here is there just to make

1478
01:03:50,150 --> 01:03:56,358
the matrix math again work out it

1479
01:03:54,099 --> 01:03:58,670
literally doesn't really need to be

1480
01:03:56,358 --> 01:03:59,958
stored so when you implement this you

1481
01:03:58,670 --> 01:04:01,940
can often just implement it like this

1482
01:03:59,958 --> 01:04:03,889
which is exactly what I've done here you

1483
01:04:01,940 --> 01:04:06,858
notice I just I just stored the three

1484
01:04:03,889 --> 01:04:09,170
vectors instead of doing this because

1485
01:04:06,858 --> 01:04:10,818
this part will always look like this

1486
01:04:09,170 --> 01:04:12,680
right up into the part where you start

1487
01:04:10,818 --> 01:04:15,139
doing projective things because there's

1488
01:04:12,679 --> 01:04:18,348
an there's a thing you can do where you

1489
01:04:15,139 --> 01:04:19,728
start introducing projection via the

1490
01:04:18,349 --> 01:04:21,949
homogeneous coordinate which is this

1491
01:04:19,728 --> 01:04:23,808
extra part that we added here it's like

1492
01:04:21,949 --> 01:04:27,979
that we have no need for any of that

1493
01:04:23,809 --> 01:04:29,539
stuff at all and so really for our

1494
01:04:27,978 --> 01:04:30,768
purposes we can really think of the

1495
01:04:29,539 --> 01:04:32,749
matrix is pretty much just being this

1496
01:04:30,768 --> 01:04:34,698
part but because the only reason I went

1497
01:04:32,748 --> 01:04:35,899
down this little math hole here was

1498
01:04:34,699 --> 01:04:37,219
because someone was asking about it I

1499
01:04:35,900 --> 01:04:38,989
just kind of wanted to point out what

1500
01:04:37,219 --> 01:04:41,179
those things are so that you start to

1501
01:04:38,989 --> 01:04:42,619
have a little bit of awareness of it but

1502
01:04:41,179 --> 01:04:43,759
I wouldn't really try to super

1503
01:04:42,619 --> 01:04:45,259
understand it just yet because we

1504
01:04:43,759 --> 01:04:46,818
haven't really talked about it much and

1505
01:04:45,259 --> 01:04:49,670
we haven't really seen any reason why we

1506
01:04:46,818 --> 01:04:51,199
would need to do these things and so you

1507
01:04:49,670 --> 01:04:52,320
know you typically want to wait to

1508
01:04:51,199 --> 01:04:53,700
understand something

1509
01:04:52,320 --> 01:04:55,740
until you actually have a good real good

1510
01:04:53,699 --> 01:04:56,699
reason to if you can because then it's

1511
01:04:55,739 --> 01:04:58,439
sort of a little more what I mean it

1512
01:04:56,699 --> 01:04:59,519
sticks a little bit better and so I just

1513
01:04:58,440 --> 01:05:00,510
wanted to give you this because someone

1514
01:04:59,519 --> 01:05:02,039
asked about it I just want to give a

1515
01:05:00,510 --> 01:05:03,450
little bit flavor but it's not really

1516
01:05:02,039 --> 01:05:05,719
the right time to dive into a lot of

1517
01:05:03,449 --> 01:05:05,719
this stuff

1518
01:05:17,809 --> 01:05:21,170
when you exit the program Visual Studio

1519
01:05:19,849 --> 01:05:22,549
says there are about eight threads

1520
01:05:21,170 --> 01:05:24,500
terminated is there more than one

1521
01:05:22,550 --> 01:05:26,360
threaded hand-made here right now yes

1522
01:05:24,500 --> 01:05:29,690
there are many threads in handmade error

1523
01:05:26,360 --> 01:05:31,579
right now unfortunately and the reason

1524
01:05:29,690 --> 01:05:34,130
for that is that the operating system

1525
01:05:31,579 --> 01:05:34,909
creates a bunch of threads without our

1526
01:05:34,130 --> 01:05:39,110
permission

1527
01:05:34,909 --> 01:05:42,289
basically so let me see if I can in fact

1528
01:05:39,110 --> 01:05:44,090
I'll just go ahead and break into the

1529
01:05:42,289 --> 01:05:46,670
bugger here what you can do is you take

1530
01:05:44,090 --> 01:05:48,920
a look at the threads here this threads

1531
01:05:46,670 --> 01:05:51,320
window and what you can see is this is

1532
01:05:48,920 --> 01:05:54,380
the thread that we actually wrote this

1533
01:05:51,320 --> 01:05:56,420
is our code and here are all the threads

1534
01:05:54,380 --> 01:05:58,820
that Windows is running so you can see

1535
01:05:56,420 --> 01:06:00,170
like directsound has two threat three

1536
01:05:58,820 --> 01:06:02,630
threads directsound

1537
01:06:00,170 --> 01:06:05,960
requires three threads so just the fact

1538
01:06:02,630 --> 01:06:08,570
that we started playing sound was there

1539
01:06:05,960 --> 01:06:12,079
right you've got one that's sitting

1540
01:06:08,570 --> 01:06:14,809
inside the mm api you've got a bunch of

1541
01:06:12,079 --> 01:06:17,440
empty DLL which are presumably kernel

1542
01:06:14,809 --> 01:06:21,579
threads doing something I don't know

1543
01:06:17,440 --> 01:06:24,619
that's a terrifying name right there oh

1544
01:06:21,579 --> 01:06:25,340
my god I don't even want to know what

1545
01:06:24,619 --> 01:06:28,849
that means

1546
01:06:25,340 --> 01:06:29,720
why is that in ntdll oh how the mighty

1547
01:06:28,849 --> 01:06:32,420
have fallen

1548
01:06:29,719 --> 01:06:34,189
all right anyway it doesn't matter point

1549
01:06:32,420 --> 01:06:36,470
being these are all threads that are

1550
01:06:34,190 --> 01:06:38,269
running we didn't write any of them we

1551
01:06:36,469 --> 01:06:39,769
didn't even ask for any of them but

1552
01:06:38,269 --> 01:06:41,389
they're just a consequence of using

1553
01:06:39,769 --> 01:06:42,969
Windows services because a lot of

1554
01:06:41,389 --> 01:06:45,889
Windows services are implemented with

1555
01:06:42,969 --> 01:06:48,169
threads in your process space now

1556
01:06:45,889 --> 01:06:50,719
eventually we will thread handmade hero

1557
01:06:48,170 --> 01:06:53,630
and we will have more threads that we

1558
01:06:50,719 --> 01:06:56,389
wrote but at the moment we aren't we

1559
01:06:53,630 --> 01:06:58,400
didn't intend to do that we didn't write

1560
01:06:56,389 --> 01:07:00,769
threads ourselves and do any threading

1561
01:06:58,400 --> 01:07:03,500
that was Windows creating threads for

1562
01:07:00,769 --> 01:07:05,119
its services that it just sort of forces

1563
01:07:03,500 --> 01:07:09,190
us to have and there's really nothing we

1564
01:07:05,119 --> 01:07:09,190
can do it about that

1565
01:07:15,190 --> 01:07:20,179
Coover Caleb would it be possible to

1566
01:07:17,599 --> 01:07:25,630
have the renderer set up so the world

1567
01:07:20,179 --> 01:07:30,139
curves back as you move along the y-axis

1568
01:07:25,630 --> 01:07:36,170
yes that is but that's kind of doing 3d

1569
01:07:30,139 --> 01:07:39,949
rendering at that point so the reason I

1570
01:07:36,170 --> 01:07:41,750
well I mean I guess what I would say is

1571
01:07:39,949 --> 01:07:44,989
the reason I don't want to do that is

1572
01:07:41,750 --> 01:07:48,889
because I don't really want it to look

1573
01:07:44,989 --> 01:07:51,549
like that the game so I apologize for

1574
01:07:48,889 --> 01:07:54,559
not showing how to do it but it's really

1575
01:07:51,550 --> 01:07:56,420
there's very little extra to do but it

1576
01:07:54,559 --> 01:07:57,588
involves having to do perspective

1577
01:07:56,420 --> 01:07:59,858
correction on your textures if you

1578
01:07:57,588 --> 01:08:07,400
really wanted to correct you don't

1579
01:07:59,858 --> 01:08:08,690
really have to do it probably I mean you

1580
01:08:07,400 --> 01:08:09,650
could get away without doing the

1581
01:08:08,690 --> 01:08:11,088
perspective correction and then

1582
01:08:09,650 --> 01:08:13,760
literally we've written everything that

1583
01:08:11,088 --> 01:08:17,539
you need actually for it because all you

1584
01:08:13,760 --> 01:08:18,770
would need to do again is is use the

1585
01:08:17,539 --> 01:08:20,390
texture mapper that we already wrote

1586
01:08:18,770 --> 01:08:22,700
right right now we're texture mapping

1587
01:08:20,390 --> 01:08:25,460
things this way and what you would need

1588
01:08:22,699 --> 01:08:26,960
to do is start texture mapping them this

1589
01:08:25,460 --> 01:08:30,020
way right like we have it so that you

1590
01:08:26,960 --> 01:08:32,750
have something that points like this and

1591
01:08:30,020 --> 01:08:34,640
it's assumed that this is always going

1592
01:08:32,750 --> 01:08:35,600
to be scaled outwards like that what you

1593
01:08:34,640 --> 01:08:39,770
would need to do is the thing that

1594
01:08:35,600 --> 01:08:42,588
allows you to produce smaller rows this

1595
01:08:39,770 --> 01:08:44,210
way and so typically the way 3d render

1596
01:08:42,588 --> 01:08:46,880
is actually work as they rarely operate

1597
01:08:44,210 --> 01:08:49,369
on quads they usually operate on

1598
01:08:46,880 --> 01:08:50,270
triangles and so you know in OpenGL are

1599
01:08:49,369 --> 01:08:51,409
something that you're talking about

1600
01:08:50,270 --> 01:08:52,940
something that looks like this but you

1601
01:08:51,409 --> 01:08:54,199
could write one that that's still you we

1602
01:08:52,939 --> 01:08:55,849
could still write one that was doing the

1603
01:08:54,199 --> 01:08:57,559
quad map or that way but anyway that's

1604
01:08:55,850 --> 01:08:58,969
really all you would be doing there's

1605
01:08:57,560 --> 01:09:01,219
just a couple of annoying things that

1606
01:08:58,969 --> 01:09:02,420
you have to end up doing to make things

1607
01:09:01,219 --> 01:09:04,310
work properly if you want to do it that

1608
01:09:02,420 --> 01:09:06,770
way and so I'm not going to cover how

1609
01:09:04,310 --> 01:09:08,420
you do that but it's not it could it

1610
01:09:06,770 --> 01:09:10,609
could be an exercise to the reader and

1611
01:09:08,420 --> 01:09:14,329
especially if you go read fabien z--

1612
01:09:10,609 --> 01:09:18,920
post if you remember I talked about the

1613
01:09:14,329 --> 01:09:20,778
rigorous blog post that there's like 12

1614
01:09:18,920 --> 01:09:22,250
articles on there or more that are like

1615
01:09:20,779 --> 01:09:24,080
it's seconds more than twelve I think

1616
01:09:22,250 --> 01:09:24,819
that are like graphics pipeline articles

1617
01:09:24,079 --> 01:09:27,759
he talked

1618
01:09:24,819 --> 01:09:30,460
about I think he probably talks about

1619
01:09:27,759 --> 01:09:32,939
perspective correction in there / w and

1620
01:09:30,460 --> 01:09:32,939
stuff like that

1621
01:09:42,909 --> 01:09:57,949
did I get all the questions I think I

1622
01:09:50,719 --> 01:10:00,369
got all the questions any other

1623
01:09:57,949 --> 01:10:00,369
questions

1624
01:10:00,550 --> 01:10:04,250
since I can't guarantee that I got

1625
01:10:02,899 --> 01:10:08,659
everything since my little questions

1626
01:10:04,250 --> 01:10:12,710
groups screener seems to not be able to

1627
01:10:08,659 --> 01:10:16,359
find the the hex chat dump

1628
01:10:12,710 --> 01:10:16,359
I wonder if my hex chat is busted

1629
01:10:19,850 --> 01:10:28,520
anyone all right looking like we could

1630
01:10:23,640 --> 01:10:28,520
probably go ahead and

1631
01:10:37,130 --> 01:10:40,060
and end

1632
01:10:44,960 --> 01:10:49,489
all right folks

1633
01:10:46,738 --> 01:10:55,078
I'll see any other cue Cullen's on there

1634
01:10:49,488 --> 01:10:58,589
so I am going to go ahead and and save

1635
01:10:55,078 --> 01:11:01,049
the mischief board hopefully I'm not

1636
01:10:58,590 --> 01:11:02,340
closing at this time hopefully it was

1637
01:11:01,050 --> 01:11:03,770
just me closing it before and it's not

1638
01:11:02,340 --> 01:11:06,029
like crashing out or something

1639
01:11:03,770 --> 01:11:09,090
so let's go ahead and close all this up

1640
01:11:06,029 --> 01:11:10,408
and thank you everyone for joining me

1641
01:11:09,090 --> 01:11:11,670
for another episode of handmade hero

1642
01:11:10,408 --> 01:11:13,529
it's been a pleasure coding with you as

1643
01:11:11,670 --> 01:11:15,059
always I'm glad that we're doing a bunch

1644
01:11:13,529 --> 01:11:18,300
of cleanup it always feels good to get

1645
01:11:15,059 --> 01:11:20,429
crufty stuff out of the code and yeah I

1646
01:11:18,300 --> 01:11:21,750
mean I feel like the render is going

1647
01:11:20,429 --> 01:11:23,099
really well I've been happy with how

1648
01:11:21,750 --> 01:11:25,198
things are going I think it's gonna be a

1649
01:11:23,099 --> 01:11:26,538
lot of fun to do optimization work on it

1650
01:11:25,198 --> 01:11:29,519
to some kind of looking forward to that

1651
01:11:26,538 --> 01:11:31,198
so here's hoping that our near-field

1652
01:11:29,520 --> 01:11:32,579
light sampling won't turn into too much

1653
01:11:31,198 --> 01:11:34,589
of a rathole since I really just don't

1654
01:11:32,578 --> 01:11:36,269
know how we're gonna do it but so we'll

1655
01:11:34,590 --> 01:11:37,050
continue on we'll probably need a couple

1656
01:11:36,270 --> 01:11:38,730
more days

1657
01:11:37,050 --> 01:11:40,590
just to go through and finish up

1658
01:11:38,729 --> 01:11:41,879
cleaning out all of the coordinate

1659
01:11:40,590 --> 01:11:43,199
system stuff and just making sure that

1660
01:11:41,880 --> 01:11:46,559
that stuff works the way that we want it

1661
01:11:43,198 --> 01:11:48,238
to but hopefully we're in the

1662
01:11:46,559 --> 01:11:50,070
homestretch here maybe a week or two

1663
01:11:48,238 --> 01:11:52,439
more of doing sort of the lighting and

1664
01:11:50,069 --> 01:11:53,578
the cleanup before we can get into the

1665
01:11:52,439 --> 01:11:54,719
optimization stuff which I think it's

1666
01:11:53,578 --> 01:11:57,538
gonna be fun

1667
01:11:54,719 --> 01:11:59,219
and it looks like it's pretty fast too

1668
01:11:57,538 --> 01:12:01,170
even without having been optimized at

1669
01:11:59,219 --> 01:12:02,609
all yet I'm thinking that maybe that

1670
01:12:01,170 --> 01:12:05,130
means we'll be able to run the game and

1671
01:12:02,609 --> 01:12:06,299
software rendering for a good portion of

1672
01:12:05,130 --> 01:12:09,090
the development which is kind of awesome

1673
01:12:06,300 --> 01:12:11,038
as well so anyway thank you for joining

1674
01:12:09,090 --> 01:12:14,360
me I hope you come back tomorrow 5:00

1675
01:12:11,038 --> 01:12:17,069
p.m. same same time same place on Twitch

1676
01:12:14,359 --> 01:12:18,929
again if you want to participate in the

1677
01:12:17,069 --> 01:12:20,158
pre stream discussion we can ask off

1678
01:12:18,929 --> 01:12:22,880
topic questions that's our stuff come

1679
01:12:20,158 --> 01:12:24,779
about 15 minutes early about 4:45 p.m.

1680
01:12:22,880 --> 01:12:27,779
hope see you all there

1681
01:12:24,779 --> 01:12:28,948
in the meantime if you do want to follow

1682
01:12:27,779 --> 01:12:30,689
along with the source code at home you

1683
01:12:28,948 --> 01:12:32,488
can pre-order the game on handmade hero

1684
01:12:30,689 --> 01:12:34,558
org and it comes with a full source code

1685
01:12:32,488 --> 01:12:35,879
already as well as the assets that you

1686
01:12:34,559 --> 01:12:37,199
see here on streams so you can go ahead

1687
01:12:35,880 --> 01:12:38,969
and play around with it and learn for

1688
01:12:37,198 --> 01:12:40,198
the series it's a good way to do that we

1689
01:12:38,969 --> 01:12:41,219
also have a patreon if you want to

1690
01:12:40,198 --> 01:12:42,808
support the video series you can

1691
01:12:41,219 --> 01:12:44,489
subscribe to that we always appreciate

1692
01:12:42,809 --> 01:12:46,739
it there's a forum site where you can

1693
01:12:44,488 --> 01:12:48,718
ask questions and it's also got

1694
01:12:46,738 --> 01:12:53,788
community ports too Mac and Linux on

1695
01:12:48,719 --> 01:12:54,989
there as well as a as a anti episode

1696
01:12:53,788 --> 01:12:55,840
guide so if you want to catch up with

1697
01:12:54,988 --> 01:12:57,729
sort of the early

1698
01:12:55,840 --> 01:12:58,569
so it's if you're new to the series and

1699
01:12:57,729 --> 01:13:00,219
kind of want to start from the beginning

1700
01:12:58,569 --> 01:13:01,989
that's a great place to do that as well

1701
01:13:00,220 --> 01:13:03,280
finally if you're trying to watch the

1702
01:13:01,989 --> 01:13:04,510
series live and you want to know when

1703
01:13:03,279 --> 01:13:06,639
it's going to air there's a tweet bot

1704
01:13:04,510 --> 01:13:07,930
which is pretty helpful basically what

1705
01:13:06,640 --> 01:13:09,310
the tweet bot does is it tweets out the

1706
01:13:07,930 --> 01:13:12,039
schedule on the weekend and it tweets

1707
01:13:09,310 --> 01:13:13,450
out the when the show is starting every

1708
01:13:12,039 --> 01:13:14,619
day in the morning it says what time

1709
01:13:13,449 --> 01:13:16,479
it'll be and then an hour before it

1710
01:13:14,619 --> 01:13:18,369
tells you that it's going live so that's

1711
01:13:16,479 --> 01:13:21,429
a great way to do it too all that stuff

1712
01:13:18,369 --> 01:13:24,010
is is good so check it out and yeah and

1713
01:13:21,430 --> 01:13:26,079
I will sign off for now and I will see

1714
01:13:24,010 --> 01:13:28,650
everyone back here tomorrow 5 p.m. take

1715
01:13:26,079 --> 01:13:28,649
it easy everyone

