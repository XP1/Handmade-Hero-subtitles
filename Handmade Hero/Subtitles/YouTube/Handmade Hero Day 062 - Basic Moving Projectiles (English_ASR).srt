1
00:00:00,060 --> 00:00:04,379
start recording hello everyone and

2
00:00:02,428 --> 00:00:05,669
welcome to handmade Hero the show where

3
00:00:04,379 --> 00:00:08,969
we code a complete game from scratch

4
00:00:05,669 --> 00:00:12,480
live on twitch no engine no libraries

5
00:00:08,970 --> 00:00:15,120
just us in here writing every little

6
00:00:12,480 --> 00:00:17,760
last piece of code so that after this

7
00:00:15,119 --> 00:00:20,698
series is done literally we have we

8
00:00:17,760 --> 00:00:22,618
he'll have done every single piece of

9
00:00:20,699 --> 00:00:25,560
code that is necessary to run a game

10
00:00:22,618 --> 00:00:28,170
from top to bottom no mysteries leaving

11
00:00:25,559 --> 00:00:31,768
no stone unturned that is that is our

12
00:00:28,170 --> 00:00:34,500
mission our goal our charge if you will

13
00:00:31,768 --> 00:00:37,229
now we're trying something here today

14
00:00:34,500 --> 00:00:39,840
that is new I don't know if it's gonna

15
00:00:37,229 --> 00:00:41,279
work we'll see but basically like we

16
00:00:39,840 --> 00:00:44,010
have switched to mischief for the

17
00:00:41,280 --> 00:00:45,929
blackboard and what I did is I went

18
00:00:44,009 --> 00:00:48,030
ahead and got the commercial version and

19
00:00:45,929 --> 00:00:49,500
I'm trying starting a fresh blackboard

20
00:00:48,030 --> 00:00:50,910
and I'm just gonna save it to the

21
00:00:49,500 --> 00:00:55,439
directory and see if this works for

22
00:00:50,909 --> 00:00:57,718
people who can load it up at home the

23
00:00:55,439 --> 00:00:59,519
problem that I see with it is we were

24
00:00:57,719 --> 00:01:00,929
unable to figure out any way to really

25
00:00:59,520 --> 00:01:02,730
get this to work so that people could

26
00:01:00,929 --> 00:01:03,960
view it with a free viewer and I still

27
00:01:02,729 --> 00:01:06,118
don't think that's gonna be possible

28
00:01:03,960 --> 00:01:07,769
because I tried using the free version

29
00:01:06,118 --> 00:01:09,150
of mischief but the free version of

30
00:01:07,769 --> 00:01:12,090
mischief doesn't even let you set a

31
00:01:09,150 --> 00:01:13,830
background color for the canvas and so

32
00:01:12,090 --> 00:01:15,180
people were very sensitive to the colors

33
00:01:13,829 --> 00:01:17,519
I remember when we first started it they

34
00:01:15,180 --> 00:01:19,380
people really want it to have a dark

35
00:01:17,519 --> 00:01:20,728
background so that would match the

36
00:01:19,379 --> 00:01:22,228
editor that we use so that wouldn't be

37
00:01:20,728 --> 00:01:24,000
kind of like very jarring when they

38
00:01:22,228 --> 00:01:24,900
switch between him so I'm afraid we got

39
00:01:24,000 --> 00:01:26,969
to go with the commercial one the

40
00:01:24,900 --> 00:01:29,850
commercial wants only 25 bucks so if

41
00:01:26,969 --> 00:01:31,978
people want to view the art file they

42
00:01:29,849 --> 00:01:34,078
can choose to buy it I don't know it

43
00:01:31,978 --> 00:01:36,030
might load in the free version we're not

44
00:01:34,078 --> 00:01:38,089
sure but we're just gonna go with it as

45
00:01:36,030 --> 00:01:40,618
an experiment we don't really have any

46
00:01:38,090 --> 00:01:43,469
any other choice at this point what I

47
00:01:40,618 --> 00:01:45,750
can do periodically to solve the sort of

48
00:01:43,469 --> 00:01:49,920
the problem is to do some kind of an

49
00:01:45,750 --> 00:01:51,899
export where I could save it out to an

50
00:01:49,920 --> 00:01:53,189
actual bitmap file eventually but this

51
00:01:51,899 --> 00:01:55,079
thing's gonna get so huge I don't know

52
00:01:53,188 --> 00:01:56,429
how likely that's actually going to be

53
00:01:55,078 --> 00:01:58,019
so we'll see we're gonna go with this

54
00:01:56,430 --> 00:02:00,270
for now because the best solution that

55
00:01:58,019 --> 00:02:03,090
we found I can't say it's perfect but

56
00:02:00,269 --> 00:02:04,618
that's basically where we're at so with

57
00:02:03,090 --> 00:02:06,030
that in mind and starting today we'll

58
00:02:04,618 --> 00:02:10,618
see how that goes we can talk about in

59
00:02:06,030 --> 00:02:13,830
the forums again see what happened after

60
00:02:10,618 --> 00:02:16,800
a couple days and again that file is

61
00:02:13,830 --> 00:02:19,500
is now going into in the handmade well

62
00:02:16,800 --> 00:02:21,870
if you have pre-ordered the game on

63
00:02:19,500 --> 00:02:25,020
handmade hero org right you have access

64
00:02:21,870 --> 00:02:28,469
to the source tree that source tree that

65
00:02:25,020 --> 00:02:29,969
same zip file will now have inside the

66
00:02:28,469 --> 00:02:32,490
misc directory there'll be this

67
00:02:29,969 --> 00:02:34,740
blackboard art file and that blackboard

68
00:02:32,490 --> 00:02:36,960
file will hopefully contain all of the

69
00:02:34,740 --> 00:02:42,180
drawings that I do on the stream now ad

70
00:02:36,960 --> 00:02:44,640
infinitum so there we go all right let's

71
00:02:42,180 --> 00:02:47,460
see where we're at if I remember

72
00:02:44,639 --> 00:02:48,869
correctly and you know programming all

73
00:02:47,460 --> 00:02:50,340
day and then coming home and programming

74
00:02:48,870 --> 00:02:52,530
on the stream I gotta admit I don't

75
00:02:50,340 --> 00:02:54,450
always remember where I was in handmade

76
00:02:52,530 --> 00:02:57,509
hero because I have a lot of other

77
00:02:54,449 --> 00:02:59,069
programming that I have to do but if I

78
00:02:57,509 --> 00:03:02,849
remember correctly what we were doing is

79
00:02:59,069 --> 00:03:05,459
we were using a rock bitmap to basically

80
00:03:02,849 --> 00:03:07,829
have a virtual sword for our guy and we

81
00:03:05,459 --> 00:03:10,319
wanted to make the sword be something

82
00:03:07,830 --> 00:03:12,990
that he could use to basically attack

83
00:03:10,319 --> 00:03:15,000
you know another entity so really basic

84
00:03:12,990 --> 00:03:17,490
stuff what's all we want to do and I

85
00:03:15,000 --> 00:03:19,409
think we just did the part where we took

86
00:03:17,490 --> 00:03:20,370
the sword and you could basically drop

87
00:03:19,409 --> 00:03:22,439
it like that's it

88
00:03:20,370 --> 00:03:24,090
and so what we wanted to do now is we

89
00:03:22,439 --> 00:03:25,859
wanted to finish that off so you can

90
00:03:24,090 --> 00:03:28,080
actually kind of throw the sword Zelda

91
00:03:25,860 --> 00:03:29,430
style and when I say sword here I guess

92
00:03:28,080 --> 00:03:31,260
I mean rock because we don't actually

93
00:03:29,430 --> 00:03:32,459
have a sword bitmap probably should

94
00:03:31,259 --> 00:03:33,899
check something like that and at some

95
00:03:32,459 --> 00:03:37,140
point but we are not going going to at

96
00:03:33,900 --> 00:03:38,340
this point because they don't have so we

97
00:03:37,139 --> 00:03:39,659
want to go ahead and make it so you can

98
00:03:38,340 --> 00:03:41,550
kind of throw that there and make it

99
00:03:39,659 --> 00:03:49,469
into a valid you know projectile that

100
00:03:41,550 --> 00:03:50,850
actually makes some sense so we did most

101
00:03:49,469 --> 00:03:51,959
of the work yesterday I think for

102
00:03:50,849 --> 00:03:53,759
actually doing that we might as well

103
00:03:51,959 --> 00:03:57,449
just go ahead and get that working today

104
00:03:53,759 --> 00:03:59,009
right so one thing you'll notice is it's

105
00:03:57,449 --> 00:04:00,419
kind of ridiculous now when we drop the

106
00:03:59,009 --> 00:04:01,768
sword like the whole point was not to

107
00:04:00,419 --> 00:04:03,929
drop the sword the whole point was to

108
00:04:01,769 --> 00:04:07,319
throw the sword so we should probably do

109
00:04:03,930 --> 00:04:08,610
is go ahead and go in there and and make

110
00:04:07,319 --> 00:04:12,629
that stuff a little more sensible now

111
00:04:08,610 --> 00:04:14,670
all right so let's take a look where

112
00:04:12,629 --> 00:04:17,699
what we when we actually did our sword

113
00:04:14,669 --> 00:04:20,250
stuff here this is where we actually put

114
00:04:17,699 --> 00:04:22,379
the sword into a location right here's

115
00:04:20,250 --> 00:04:24,029
here's how that worked and what we'd

116
00:04:22,379 --> 00:04:26,699
want to do presumably because we're

117
00:04:24,029 --> 00:04:27,879
actually making the sword occur we're

118
00:04:26,699 --> 00:04:29,529
making the sword appear here

119
00:04:27,879 --> 00:04:31,629
we probably want to go ahead and give it

120
00:04:29,529 --> 00:04:33,459
a velocity right because that would be

121
00:04:31,629 --> 00:04:36,040
the easiest way to make it sort of sail

122
00:04:33,459 --> 00:04:37,979
across somewhere so if we wanted to we

123
00:04:36,040 --> 00:04:40,780
could we could make it have a velocity

124
00:04:37,980 --> 00:04:43,180
by moving it into the high empty set and

125
00:04:40,779 --> 00:04:44,500
setting its velocity equal to something

126
00:04:43,180 --> 00:04:46,389
equal to the direction that you threw it

127
00:04:44,500 --> 00:04:47,829
in and that would make it travel now

128
00:04:46,389 --> 00:04:49,659
again the other thing that we said is we

129
00:04:47,829 --> 00:04:51,430
might want to make the sword only go a

130
00:04:49,660 --> 00:04:53,470
certain distance so that you can't throw

131
00:04:51,430 --> 00:04:55,810
it infinitely far it will only go a

132
00:04:53,470 --> 00:04:57,340
certain distance or maybe it like hits

133
00:04:55,810 --> 00:04:59,620
the ground so maybe it kind of gets

134
00:04:57,339 --> 00:05:00,689
thrown in an arc I don't know we'll have

135
00:04:59,620 --> 00:05:03,370
to think about that but point being

136
00:05:00,689 --> 00:05:06,100
distance remaining we kind of put that

137
00:05:03,370 --> 00:05:07,990
in there just to see if we could sort of

138
00:05:06,100 --> 00:05:09,550
initialize that to some number of meters

139
00:05:07,990 --> 00:05:10,840
however I could throw the sword so I

140
00:05:09,550 --> 00:05:14,050
want to go ahead and put that in as well

141
00:05:10,839 --> 00:05:16,079
right so first things first let's go

142
00:05:14,050 --> 00:05:17,980
ahead and set the controlling entities

143
00:05:16,079 --> 00:05:19,149
distance remaining.i starting off to

144
00:05:17,980 --> 00:05:21,580
controlling entity the sword entity

145
00:05:19,149 --> 00:05:24,489
right which we have here let's go ahead

146
00:05:21,579 --> 00:05:26,199
and make that sword entity have it have

147
00:05:24,490 --> 00:05:27,699
a distance remaining and let's just say

148
00:05:26,199 --> 00:05:29,589
that it's going to be I don't know three

149
00:05:27,699 --> 00:05:31,389
meters or something like that maybe

150
00:05:29,589 --> 00:05:33,310
that's too short we'll say five meters

151
00:05:31,389 --> 00:05:34,629
and so as soon as the sword has traveled

152
00:05:33,310 --> 00:05:36,339
five meters we'll just say that that's

153
00:05:34,629 --> 00:05:39,790
as far as the sword gets to go and

154
00:05:36,339 --> 00:05:41,829
that's the end of it right and so the

155
00:05:39,790 --> 00:05:43,840
sword at that point we could also say

156
00:05:41,829 --> 00:05:45,370
let's go ahead and set its velocity in

157
00:05:43,839 --> 00:05:47,769
order to set up velocity we have to have

158
00:05:45,370 --> 00:05:52,300
it in the high OD set and so one thing

159
00:05:47,769 --> 00:05:54,969
that I could do here is excuse me one

160
00:05:52,300 --> 00:05:56,470
thing I could do here again is is force

161
00:05:54,970 --> 00:05:57,520
it into the high entity set we didn't do

162
00:05:56,470 --> 00:06:00,190
that yet because there wasn't any

163
00:05:57,519 --> 00:06:03,069
particular reason to do so but it seems

164
00:06:00,189 --> 00:06:04,719
like now there actually is right and so

165
00:06:03,069 --> 00:06:06,339
what's kind of weird about this and you

166
00:06:04,720 --> 00:06:09,010
can sort of see the way this is going

167
00:06:06,339 --> 00:06:12,479
it's kind of annoying again sorry I have

168
00:06:09,009 --> 00:06:16,980
a cold so I'm still sniffily today

169
00:06:12,480 --> 00:06:19,629
believe me there's no fun for me either

170
00:06:16,980 --> 00:06:21,040
anyway the thing that I haven't been

171
00:06:19,629 --> 00:06:22,480
liking very much about the low end

172
00:06:21,040 --> 00:06:24,100
behind the thing although it's been

173
00:06:22,480 --> 00:06:25,600
working relatively well for us in terms

174
00:06:24,100 --> 00:06:26,920
of how it's actually functioning the

175
00:06:25,600 --> 00:06:28,300
code is kind of annoying because you

176
00:06:26,920 --> 00:06:30,340
constantly have all these weird like

177
00:06:28,300 --> 00:06:33,759
pointers and indices and I don't love

178
00:06:30,339 --> 00:06:35,259
the fact that there's so much typing

179
00:06:33,759 --> 00:06:37,389
involved there I don't like the sort of

180
00:06:35,259 --> 00:06:39,279
proliferation of that and so what I'd

181
00:06:37,389 --> 00:06:41,050
like to do is finally maybe get it down

182
00:06:39,279 --> 00:06:41,619
to the point where it's something that's

183
00:06:41,050 --> 00:06:43,090
fair

184
00:06:41,620 --> 00:06:44,470
condensable like it's something that

185
00:06:43,089 --> 00:06:49,089
doesn't have to have so much kind of

186
00:06:44,470 --> 00:06:51,729
janky miss there and so I went back and

187
00:06:49,089 --> 00:06:53,948
forth with using this entity structure

188
00:06:51,728 --> 00:06:57,159
and what I'm wondering is that maybe we

189
00:06:53,949 --> 00:06:59,620
kind of need to just get that that sort

190
00:06:57,160 --> 00:07:00,970
of thing to be more standard right maybe

191
00:06:59,620 --> 00:07:02,709
just kind of figure out what the calls

192
00:07:00,970 --> 00:07:05,260
need to be where this entity actually

193
00:07:02,709 --> 00:07:06,698
happens and then you know actually start

194
00:07:05,259 --> 00:07:08,379
using it because it again like the same

195
00:07:06,699 --> 00:07:09,819
things going to happen here right we're

196
00:07:08,379 --> 00:07:11,199
gonna have like a high sword or

197
00:07:09,819 --> 00:07:17,349
something like this or you know here's

198
00:07:11,199 --> 00:07:19,600
low sword right and and if I do it this

199
00:07:17,350 --> 00:07:21,550
way and then I've got the sword and I go

200
00:07:19,600 --> 00:07:23,080
for centimeter high right it's just

201
00:07:21,550 --> 00:07:24,699
there's now there's a two Porter's to

202
00:07:23,079 --> 00:07:26,740
the sword or two things like it's just

203
00:07:24,699 --> 00:07:29,228
it's just this kind of ugly in annoying

204
00:07:26,740 --> 00:07:31,629
right and so far we haven't really hit

205
00:07:29,228 --> 00:07:33,310
bugs because of it for whatever reason

206
00:07:31,629 --> 00:07:36,100
it just doesn't seem to be error-prone

207
00:07:33,310 --> 00:07:37,810
but it just it resulted to its typing

208
00:07:36,100 --> 00:07:39,789
and it makes the code harder to read and

209
00:07:37,810 --> 00:07:42,280
that just is a constant drag on

210
00:07:39,788 --> 00:07:43,810
development so it's just flagged in my

211
00:07:42,279 --> 00:07:46,029
mind as something that we need to

212
00:07:43,810 --> 00:07:48,098
address going forwards because I just

213
00:07:46,029 --> 00:07:51,069
don't like it and I'm not going to be

214
00:07:48,098 --> 00:07:55,300
willing to have that stay that way added

215
00:07:51,069 --> 00:07:57,699
you know forever basically right so yeah

216
00:07:55,300 --> 00:07:58,960
so let you know let's let's just assume

217
00:07:57,699 --> 00:08:00,129
that we're gonna deal with that and

218
00:07:58,959 --> 00:08:01,959
we'll think about it keep it in the back

219
00:08:00,129 --> 00:08:04,329
of our heads and just know that that's

220
00:08:01,959 --> 00:08:06,848
something that needs to get addressed at

221
00:08:04,329 --> 00:08:09,069
some point so let's say we go ahead and

222
00:08:06,848 --> 00:08:10,329
and do here we go ahead and force it

223
00:08:09,069 --> 00:08:12,519
into the high entity set so it's gonna

224
00:08:10,329 --> 00:08:15,370
be a high frequency update and now we

225
00:08:12,519 --> 00:08:18,098
want to actually set its velocity well

226
00:08:15,370 --> 00:08:19,569
we now already have this D sword thing

227
00:08:18,098 --> 00:08:21,279
which is the direction we want it to go

228
00:08:19,569 --> 00:08:23,259
in right so all we really need to know

229
00:08:21,279 --> 00:08:25,959
is how fast we want it to travel what

230
00:08:23,259 --> 00:08:28,120
its velocity should be right and I'd

231
00:08:25,959 --> 00:08:31,209
only know how many meters per second a

232
00:08:28,120 --> 00:08:34,479
sword should travel I don't know I feel

233
00:08:31,209 --> 00:08:36,129
like maybe if the sword takes one second

234
00:08:34,479 --> 00:08:37,658
or two seconds that seems fairly

235
00:08:36,129 --> 00:08:39,309
reasonable so maybe maybe you know it

236
00:08:37,658 --> 00:08:40,870
should go about two meters per second I

237
00:08:39,309 --> 00:08:43,149
don't know we'll tweak that constant

238
00:08:40,870 --> 00:08:46,740
we'll see but I think that if I go ahead

239
00:08:43,149 --> 00:08:49,149
and set that I feel like that should I

240
00:08:46,740 --> 00:08:51,959
feel like that should allow us to see

241
00:08:49,149 --> 00:08:54,669
that sword sword in my sword I mean Rock

242
00:08:51,958 --> 00:08:56,049
travel actually in a direction

243
00:08:54,669 --> 00:08:57,969
after we launched it although that was

244
00:08:56,049 --> 00:09:00,459
kind of unspectacular I just realized

245
00:08:57,970 --> 00:09:03,160
that what we don't do yet is we don't

246
00:09:00,460 --> 00:09:06,730
actually have any kind of update for our

247
00:09:03,159 --> 00:09:10,689
actual for our actual sort so let's take

248
00:09:06,730 --> 00:09:13,810
a look here are we actually ever dealing

249
00:09:10,690 --> 00:09:17,650
with this guy where do we actually for

250
00:09:13,809 --> 00:09:22,239
our move entity call right for our move

251
00:09:17,649 --> 00:09:29,139
entity call there we go it looks like we

252
00:09:22,240 --> 00:09:31,389
are only ever let's see move entity so

253
00:09:29,139 --> 00:09:34,629
on our update familiar call we do move

254
00:09:31,389 --> 00:09:37,779
it we don't ever have an update call for

255
00:09:34,629 --> 00:09:40,330
our sword right so the sword itself will

256
00:09:37,779 --> 00:09:43,659
never actually move unless I actually at

257
00:09:40,330 --> 00:09:46,180
some point give it you know give it the

258
00:09:43,659 --> 00:09:48,219
actual swords and say update it and then

259
00:09:46,179 --> 00:09:50,259
it can do its move entity now I don't

260
00:09:48,220 --> 00:09:51,910
know if we actually need and this is

261
00:09:50,259 --> 00:09:53,909
kind of interesting point I don't know

262
00:09:51,909 --> 00:09:56,139
that we actually need a special case of

263
00:09:53,909 --> 00:09:58,269
updating the sword it probably could be

264
00:09:56,139 --> 00:10:00,669
using something that updates generic

265
00:09:58,269 --> 00:10:03,490
sort of projectile sorts of stuff but

266
00:10:00,669 --> 00:10:05,079
again this is code that we're meant to

267
00:10:03,490 --> 00:10:06,789
sort of suss out how we want the entity

268
00:10:05,080 --> 00:10:08,920
system to work so for now I'm gonna

269
00:10:06,789 --> 00:10:11,740
write everything explicitly and then I'm

270
00:10:08,919 --> 00:10:13,719
gonna see what things look common to me

271
00:10:11,740 --> 00:10:17,070
across entities and pull those outs as

272
00:10:13,720 --> 00:10:17,070
we go right

273
00:10:17,190 --> 00:10:20,560
again that's compression oriented

274
00:10:19,179 --> 00:10:22,989
programming I think it's the same as we

275
00:10:20,559 --> 00:10:24,039
go at this early stage when we're just

276
00:10:22,990 --> 00:10:25,990
trying to figure out exactly what we

277
00:10:24,039 --> 00:10:27,789
want everything to do so we don't build

278
00:10:25,990 --> 00:10:31,450
our game on top of a bad foundation

279
00:10:27,789 --> 00:10:34,149
basically so I think that if that's the

280
00:10:31,450 --> 00:10:37,390
case then really all we need to do for

281
00:10:34,149 --> 00:10:38,579
move entity I guess now that I look at

282
00:10:37,389 --> 00:10:40,360
it we don't we don't have any

283
00:10:38,580 --> 00:10:42,220
acceleration for the sword the sword

284
00:10:40,360 --> 00:10:44,830
stays the same speed the entire time

285
00:10:42,220 --> 00:10:47,830
that's typically how a Zelda style sword

286
00:10:44,830 --> 00:10:49,300
would would work right so if I'm if I'm

287
00:10:47,830 --> 00:10:50,740
doing that I think really we don't do

288
00:10:49,299 --> 00:10:53,500
anything other than call the move entity

289
00:10:50,740 --> 00:10:56,049
routine that we always called before and

290
00:10:53,500 --> 00:10:58,029
that move entity routine should in

291
00:10:56,049 --> 00:11:00,459
general just work now there's something

292
00:10:58,029 --> 00:11:03,699
that that I got a check here I don't

293
00:11:00,460 --> 00:11:05,830
know if we actually yeah so there's some

294
00:11:03,700 --> 00:11:08,499
things that we need to do in here for

295
00:11:05,830 --> 00:11:12,099
now I'm going to do it right here

296
00:11:08,499 --> 00:11:15,278
I guess right let's see let's see right

297
00:11:12,099 --> 00:11:17,229
here I want to basically turn off

298
00:11:15,278 --> 00:11:19,958
collision detection on the sword for now

299
00:11:17,229 --> 00:11:21,278
so what I want to say for now only and

300
00:11:19,958 --> 00:11:23,078
we're gonna do something a little

301
00:11:21,278 --> 00:11:25,869
fancier here in a minute but for now

302
00:11:23,078 --> 00:11:28,958
only I'm going to say that if something

303
00:11:25,869 --> 00:11:30,579
collides then it does this testing but

304
00:11:28,958 --> 00:11:32,649
if it doesn't collide it doesn't do that

305
00:11:30,578 --> 00:11:35,138
testing and that allows things like the

306
00:11:32,649 --> 00:11:36,519
sword that are marked non colliding to

307
00:11:35,139 --> 00:11:37,658
just sail through stuff because I want

308
00:11:36,519 --> 00:11:39,879
to sort of think about what's going to

309
00:11:37,658 --> 00:11:41,918
happen to them a little bit differently

310
00:11:39,879 --> 00:11:44,139
right so let's go ahead now and finish

311
00:11:41,918 --> 00:11:46,328
things off in here we kind of want to be

312
00:11:44,139 --> 00:11:48,879
able to do update sword right like so

313
00:11:46,328 --> 00:11:51,998
and we pass at the game state the entity

314
00:11:48,879 --> 00:11:55,178
and the DT and I think that that's most

315
00:11:51,999 --> 00:11:57,219
of what we would need for our sword that

316
00:11:55,178 --> 00:12:00,249
was a pretty uninspiring sword through

317
00:11:57,219 --> 00:12:03,159
but I think it actually did move but it

318
00:12:00,249 --> 00:12:05,439
it's actually slowing down and I believe

319
00:12:03,158 --> 00:12:07,058
that we still have a problem here and in

320
00:12:05,438 --> 00:12:08,588
fact this is a good time for us to

321
00:12:07,058 --> 00:12:09,818
actually start to pull this out because

322
00:12:08,589 --> 00:12:12,939
we never actually did this with the

323
00:12:09,818 --> 00:12:15,458
familiar with with the familiar and so

324
00:12:12,938 --> 00:12:17,708
on we still have this this bad notion

325
00:12:15,458 --> 00:12:19,508
where the players speed and the

326
00:12:17,708 --> 00:12:21,548
acceleration and the drag and all that

327
00:12:19,509 --> 00:12:23,949
stuff are actually just built in and

328
00:12:21,548 --> 00:12:25,658
that's really kind of bad because each

329
00:12:23,948 --> 00:12:27,488
individual object is going to want to

330
00:12:25,658 --> 00:12:28,869
have its own things like its own dragon

331
00:12:27,489 --> 00:12:30,369
that sort of stuff so the reason that

332
00:12:28,869 --> 00:12:31,749
are stored sort of stuff going is

333
00:12:30,369 --> 00:12:33,249
because our move entity just has baked

334
00:12:31,749 --> 00:12:37,509
into it the fact that there's always air

335
00:12:33,249 --> 00:12:40,689
resistance right which gives him the

336
00:12:37,509 --> 00:12:42,849
same kind of like stopping as the player

337
00:12:40,688 --> 00:12:44,228
has which is which is totally not what

338
00:12:42,849 --> 00:12:47,049
we want at all we want the sword to just

339
00:12:44,229 --> 00:12:48,519
sail right and so in order to fix that

340
00:12:47,048 --> 00:12:49,688
what we would need to do is say that

341
00:12:48,519 --> 00:12:51,548
these are sort of things that are

342
00:12:49,688 --> 00:12:53,278
parameterised when the entity is is

343
00:12:51,548 --> 00:12:55,720
being moved those are parameters that

344
00:12:53,278 --> 00:12:58,688
control how this update actually happens

345
00:12:55,720 --> 00:13:00,428
right and so the first thing I think

346
00:12:58,688 --> 00:13:02,438
we'd want to do here is make it so that

347
00:13:00,428 --> 00:13:04,568
player speed is no longer this kind of

348
00:13:02,438 --> 00:13:06,728
thing that gets multiplied that the

349
00:13:04,568 --> 00:13:08,198
acceleration gets multiplied by the

350
00:13:06,729 --> 00:13:10,028
player speed right that's what we were

351
00:13:08,198 --> 00:13:12,218
doing here and I think that's just

352
00:13:10,028 --> 00:13:14,558
totally bogus we don't want to do that

353
00:13:12,219 --> 00:13:16,989
at all what we want to do is we want to

354
00:13:14,558 --> 00:13:18,728
say that we have some notion that the

355
00:13:16,989 --> 00:13:21,699
acceleration has already been processed

356
00:13:18,729 --> 00:13:23,290
by whoever it is that's calling us and

357
00:13:21,698 --> 00:13:24,909
is the valid acceleration for the frame

358
00:13:23,289 --> 00:13:26,588
and move entity is only responsible for

359
00:13:24,909 --> 00:13:28,629
actually responding to that acceleration

360
00:13:26,589 --> 00:13:33,069
right so that's the first thing you

361
00:13:28,629 --> 00:13:35,048
wanna do right which is acceleration so

362
00:13:33,068 --> 00:13:36,368
valid acceleration passed in and that's

363
00:13:35,048 --> 00:13:38,289
pretty easy to do we'll do that today I

364
00:13:36,369 --> 00:13:40,778
think and the other thing what we want

365
00:13:38,289 --> 00:13:43,088
to do is in here where we have this drag

366
00:13:40,778 --> 00:13:45,338
coefficient right we'd like to sort of

367
00:13:43,089 --> 00:13:47,769
have some notion that the drag

368
00:13:45,339 --> 00:13:49,720
coefficient was also something that's

369
00:13:47,769 --> 00:13:51,789
passed in right and since this is

370
00:13:49,720 --> 00:13:56,048
something that affects the acceleration

371
00:13:51,789 --> 00:13:58,238
right and it's it has to do with the

372
00:13:56,048 --> 00:14:01,629
equations of motion as well I think we

373
00:13:58,239 --> 00:14:03,489
probably will want to pass in this value

374
00:14:01,629 --> 00:14:04,829
the actual coefficient so that when we

375
00:14:03,489 --> 00:14:08,019
change this into an ordinary

376
00:14:04,828 --> 00:14:09,878
differential equation here which we'll

377
00:14:08,019 --> 00:14:11,470
want to do a little bit later I think

378
00:14:09,879 --> 00:14:13,149
that we'd want that to kind of just be

379
00:14:11,470 --> 00:14:16,209
baked in here so that you can just pass

380
00:14:13,149 --> 00:14:17,289
in a drag coefficient right and so what

381
00:14:16,208 --> 00:14:18,729
we could do there's a number of

382
00:14:17,289 --> 00:14:21,219
different ways we could do this I'm

383
00:14:18,730 --> 00:14:23,079
thinking that may be one of the easiest

384
00:14:21,220 --> 00:14:25,869
things to do would to be have some kind

385
00:14:23,078 --> 00:14:28,418
of an entity spec right and so a move

386
00:14:25,869 --> 00:14:29,980
spec something like this and maybe you

387
00:14:28,418 --> 00:14:31,838
know the move spec has something like

388
00:14:29,980 --> 00:14:33,850
the acceleration and the drag

389
00:14:31,839 --> 00:14:37,449
coefficient right so this is the the

390
00:14:33,850 --> 00:14:39,639
drag coefficient here right and that's

391
00:14:37,448 --> 00:14:43,899
gonna be you know for the player that

392
00:14:39,639 --> 00:14:45,879
was negative 8.0 F so this will actually

393
00:14:43,899 --> 00:14:47,980
be something where we'll take the move

394
00:14:45,879 --> 00:14:49,538
spec I guess we don't want it to be

395
00:14:47,980 --> 00:14:53,319
negative we'll say that it's positive

396
00:14:49,538 --> 00:14:57,609
right so we'll say the move spec drag

397
00:14:53,318 --> 00:15:00,338
whoops you place that there and then the

398
00:14:57,609 --> 00:15:04,209
player speed we could make the speed be

399
00:15:00,339 --> 00:15:05,799
a parameter and then actually do have it

400
00:15:04,208 --> 00:15:08,198
do this as a directional thing

401
00:15:05,798 --> 00:15:09,909
potentially as well I don't know if we

402
00:15:08,198 --> 00:15:12,668
want to do it that way it just kind of

403
00:15:09,909 --> 00:15:14,618
gives easier way to pass in stuff than

404
00:15:12,668 --> 00:15:17,019
having to have it roll its own so maybe

405
00:15:14,619 --> 00:15:19,298
we'll try it that way we'll have a speed

406
00:15:17,019 --> 00:15:22,859
parameter as well right and then we'll

407
00:15:19,298 --> 00:15:32,438
also have a pool which is basically like

408
00:15:22,859 --> 00:15:33,480
cap for I should say unit max accel

409
00:15:32,438 --> 00:15:35,519
vector

410
00:15:33,480 --> 00:15:36,629
something like this right I don't really

411
00:15:35,519 --> 00:15:38,759
know what to call that exactly but

412
00:15:36,629 --> 00:15:40,588
basically if we wanted to keep all of

413
00:15:38,759 --> 00:15:42,269
this stuff as stuff that you could use

414
00:15:40,589 --> 00:15:45,290
when you call move entity and it would

415
00:15:42,269 --> 00:15:48,448
all be fairly common working stuff right

416
00:15:45,289 --> 00:15:50,789
then what we could do is just say that

417
00:15:48,448 --> 00:15:53,099
you know the stuff that we were doing

418
00:15:50,789 --> 00:15:55,679
before is stuff you can just optionally

419
00:15:53,100 --> 00:15:57,778
have this function do for you right so

420
00:15:55,679 --> 00:16:00,359
if you want to make sure that your unit

421
00:15:57,778 --> 00:16:02,009
that your acceleration is that maximum

422
00:16:00,360 --> 00:16:02,879
unit length so it's based on what you're

423
00:16:02,009 --> 00:16:04,409
doing is you're using it as a

424
00:16:02,879 --> 00:16:05,820
proportional scaler like like with the

425
00:16:04,409 --> 00:16:07,980
analog stick like what we were doing

426
00:16:05,820 --> 00:16:10,050
it'll do that for you

427
00:16:07,980 --> 00:16:12,000
for the player speed stuff it'll

428
00:16:10,049 --> 00:16:15,448
actually do that for you as well right

429
00:16:12,000 --> 00:16:16,649
and so this is going to be speed equals

430
00:16:15,448 --> 00:16:18,448
that for when we actually move that out

431
00:16:16,649 --> 00:16:21,720
there so what we could do here is say

432
00:16:18,448 --> 00:16:23,969
that also happens right move speck dot

433
00:16:21,720 --> 00:16:25,920
speed and then you also pass in that

434
00:16:23,970 --> 00:16:27,930
drag and now what you could do is you

435
00:16:25,919 --> 00:16:30,088
could you could have the entity and in

436
00:16:27,929 --> 00:16:32,129
addition to the acceleration you could

437
00:16:30,089 --> 00:16:33,899
pass in that movement spec which is

438
00:16:32,129 --> 00:16:38,039
basically just a thing which says how

439
00:16:33,899 --> 00:16:39,958
you know how this entity moves what are

440
00:16:38,039 --> 00:16:42,088
its equations of motion and we could add

441
00:16:39,958 --> 00:16:44,609
some things perhaps later that will tune

442
00:16:42,089 --> 00:16:47,190
the the motion as well other things that

443
00:16:44,610 --> 00:16:49,769
we might want to control right and so

444
00:16:47,190 --> 00:16:51,510
now we know that if we were to make one

445
00:16:49,769 --> 00:16:56,789
for the player you know it would look

446
00:16:51,509 --> 00:16:59,549
like like this and unit max accel vector

447
00:16:56,789 --> 00:17:02,490
equals one point now right our sorry

448
00:16:59,549 --> 00:17:04,379
equals true and so if we wanted to call

449
00:17:02,490 --> 00:17:07,410
this for the player now we could just go

450
00:17:04,380 --> 00:17:10,020
ahead and do that in the move entity

451
00:17:07,410 --> 00:17:11,459
call for the player right so here's the

452
00:17:10,019 --> 00:17:12,959
one for the familiar and we know that

453
00:17:11,459 --> 00:17:14,548
that was also using the one that the

454
00:17:12,959 --> 00:17:16,318
player was using although probably it

455
00:17:14,548 --> 00:17:18,389
shouldn't probably should be set a

456
00:17:16,318 --> 00:17:20,639
little bit different than that but you

457
00:17:18,390 --> 00:17:22,559
know we'll sort of get to that when we

458
00:17:20,640 --> 00:17:25,049
actually are fussing with things of that

459
00:17:22,558 --> 00:17:27,599
nature so there we go we can pass that

460
00:17:25,048 --> 00:17:29,190
there we can go ahead and you know what

461
00:17:27,599 --> 00:17:31,079
we'd probably want to have this be a

462
00:17:29,190 --> 00:17:35,130
default to we'll make this be a default

463
00:17:31,079 --> 00:17:37,439
mu spec something like that in fact I

464
00:17:35,130 --> 00:17:38,760
like that a lot so we'll say that that

465
00:17:37,440 --> 00:17:41,220
way we know that we've always kind of

466
00:17:38,759 --> 00:17:41,549
got some kind of a default there so

467
00:17:41,220 --> 00:17:45,480
let's

468
00:17:41,549 --> 00:17:51,869
move speck default moves back like so

469
00:17:45,480 --> 00:17:53,910
and put one here so we don't know what

470
00:17:51,869 --> 00:17:56,069
the speed of the sword is exactly I

471
00:17:53,910 --> 00:17:58,560
think oh we do we know that the the

472
00:17:56,069 --> 00:18:00,149
speed is is zero it can't accelerate we

473
00:17:58,559 --> 00:18:02,429
know that it has no drag and we know

474
00:18:00,150 --> 00:18:04,530
that we don't actually need it to do any

475
00:18:02,430 --> 00:18:07,980
of this stuff so that's that's just

476
00:18:04,529 --> 00:18:09,660
completely not doing anything so we've

477
00:18:07,980 --> 00:18:14,430
got the default may expect there we've

478
00:18:09,660 --> 00:18:17,070
got our move entity okay and then we've

479
00:18:14,430 --> 00:18:19,620
got the same same stuff going on here so

480
00:18:17,069 --> 00:18:22,529
that's gonna want to use basically this

481
00:18:19,619 --> 00:18:24,779
guy for now there we go

482
00:18:22,529 --> 00:18:26,639
so alright so that's pretty much all

483
00:18:24,779 --> 00:18:29,309
there is to that and again I don't

484
00:18:26,640 --> 00:18:30,690
really know if I love that or not but it

485
00:18:29,309 --> 00:18:32,460
just seemed like a sensible thing to do

486
00:18:30,690 --> 00:18:33,930
just to kind of clean up what was

487
00:18:32,460 --> 00:18:35,160
happening in that function and kind of

488
00:18:33,930 --> 00:18:37,380
move it out into something that we can

489
00:18:35,160 --> 00:18:39,480
deal with and so what happens here in

490
00:18:37,380 --> 00:18:42,810
this in this default one is I just

491
00:18:39,480 --> 00:18:45,930
wanted to make one where the default

492
00:18:42,809 --> 00:18:47,899
things that should happen will happen

493
00:18:45,930 --> 00:18:49,620
right so that the people if we add

494
00:18:47,900 --> 00:18:52,710
basically what I want to here is if we

495
00:18:49,619 --> 00:18:55,109
add members to this because their

496
00:18:52,710 --> 00:18:57,660
physics parameters I feel like it might

497
00:18:55,109 --> 00:18:59,809
be too hard to do I usually try to make

498
00:18:57,660 --> 00:19:02,430
it so that everything defaults to zero

499
00:18:59,809 --> 00:19:04,500
but in this case the defaults being zero

500
00:19:02,430 --> 00:19:06,000
might not make sense because in physics

501
00:19:04,500 --> 00:19:07,950
some things want to default to one some

502
00:19:06,000 --> 00:19:09,960
things want is fall to zero and you have

503
00:19:07,950 --> 00:19:11,430
to name things in very odd ways to make

504
00:19:09,960 --> 00:19:14,069
that work and so in this case I just

505
00:19:11,430 --> 00:19:15,120
kind of decided well I'm gonna go with

506
00:19:14,069 --> 00:19:16,710
actually having some kind of

507
00:19:15,119 --> 00:19:18,539
initialization here and so basically

508
00:19:16,710 --> 00:19:19,860
most people will just initialize that to

509
00:19:18,539 --> 00:19:22,109
the default spec and they'll go from

510
00:19:19,859 --> 00:19:23,579
there so let's just verify that

511
00:19:22,109 --> 00:19:24,959
everything seems to be still working our

512
00:19:23,579 --> 00:19:27,539
familiar head is still following us

513
00:19:24,960 --> 00:19:30,329
around which is good and there's our

514
00:19:27,539 --> 00:19:32,579
little sword quote unquote sword off it

515
00:19:30,329 --> 00:19:34,259
goes and so that's what we wanted to

516
00:19:32,579 --> 00:19:36,359
have happen it's a bit slow for a sword

517
00:19:34,259 --> 00:19:38,250
so I think to say the very least we

518
00:19:36,359 --> 00:19:39,750
would probably want to make sure that

519
00:19:38,250 --> 00:19:42,599
that sword goes a little bit faster in

520
00:19:39,750 --> 00:19:44,279
the future so let's do that but also

521
00:19:42,599 --> 00:19:45,569
what we now want to do is go ahead and

522
00:19:44,279 --> 00:19:49,049
implement that thing where it can only

523
00:19:45,569 --> 00:19:51,779
travel for a certain distance before it

524
00:19:49,049 --> 00:19:54,059
goes away and so alright first of all

525
00:19:51,779 --> 00:19:55,440
our DP is actually going to be happy

526
00:19:54,059 --> 00:19:57,690
let's higher than that

527
00:19:55,440 --> 00:19:58,950
and then our distance remaining what we

528
00:19:57,690 --> 00:20:01,830
want our distance remaining to do

529
00:19:58,950 --> 00:20:04,410
basically is to sort of act as like a

530
00:20:01,829 --> 00:20:07,799
ticker and so what we do here I think

531
00:20:04,410 --> 00:20:09,570
gives we'd say let's take wherever the

532
00:20:07,799 --> 00:20:11,849
entity was and then we'll take wherever

533
00:20:09,569 --> 00:20:14,819
the entity is now so we'll just say the

534
00:20:11,849 --> 00:20:17,579
old position of the entity equals the

535
00:20:14,819 --> 00:20:20,720
entities you know position at the start

536
00:20:17,579 --> 00:20:27,689
and then we'll say the the distance

537
00:20:20,720 --> 00:20:29,100
traveled equals the length of basically

538
00:20:27,690 --> 00:20:32,070
this vector right here so it's going to

539
00:20:29,099 --> 00:20:34,559
be the entity's current position - his

540
00:20:32,069 --> 00:20:36,899
old position so that'll be the length of

541
00:20:34,559 --> 00:20:39,079
that vector and then what we want to do

542
00:20:36,900 --> 00:20:41,340
is subtract the distance traveled

543
00:20:39,079 --> 00:20:44,970
basically from that now there's a little

544
00:20:41,339 --> 00:20:46,799
bit of a bug in here and I'm not sure

545
00:20:44,970 --> 00:20:50,339
whether we want to address it now or not

546
00:20:46,799 --> 00:20:52,470
but we'll talk about it in a second the

547
00:20:50,339 --> 00:20:55,439
first thing we want to do is say if this

548
00:20:52,470 --> 00:20:58,380
distance remaining drops to zero right

549
00:20:55,440 --> 00:21:03,240
so if the distance remaining falls below

550
00:20:58,380 --> 00:21:05,490
the the if we basically used up all the

551
00:21:03,240 --> 00:21:07,319
distance that we had to travel we want

552
00:21:05,490 --> 00:21:09,359
to go ahead and make the sword disappear

553
00:21:07,319 --> 00:21:11,220
right so we want to do is we want to go

554
00:21:09,359 --> 00:21:14,429
ahead and change our enemy location we

555
00:21:11,220 --> 00:21:18,809
want to change the reuleaux entity index

556
00:21:14,430 --> 00:21:23,130
right for this guy change entity

557
00:21:18,809 --> 00:21:27,450
position into your location so so we

558
00:21:23,130 --> 00:21:31,800
want to go ahead and change its position

559
00:21:27,450 --> 00:21:35,910
to essentially nowhere right so we want

560
00:21:31,799 --> 00:21:40,470
to take want to take that low entity

561
00:21:35,910 --> 00:21:43,920
soar dot low this is actually soared low

562
00:21:40,470 --> 00:21:45,420
index I guess why do we have this

563
00:21:43,920 --> 00:21:47,250
shouldn't be soared this is just the

564
00:21:45,420 --> 00:21:52,230
entity and a lot of types of sword

565
00:21:47,250 --> 00:21:54,390
it's just entity there we go so we go

566
00:21:52,230 --> 00:21:57,870
and past that we have its old position

567
00:21:54,390 --> 00:21:59,880
which is just where it was right and in

568
00:21:57,869 --> 00:22:01,409
some sense it's sub sense I don't even

569
00:21:59,880 --> 00:22:03,510
know why we're passing this anymore in

570
00:22:01,410 --> 00:22:05,279
this this utility function because the

571
00:22:03,509 --> 00:22:08,579
old position is just wherever it was

572
00:22:05,279 --> 00:22:09,269
right so this is always going to be

573
00:22:08,579 --> 00:22:11,908
entity

574
00:22:09,269 --> 00:22:13,168
P right is that old position so I wonder

575
00:22:11,909 --> 00:22:14,669
if we should just get rid of that now it

576
00:22:13,169 --> 00:22:16,259
does seem like we should but anyway and

577
00:22:14,669 --> 00:22:17,669
then the new position is nowhere right

578
00:22:16,259 --> 00:22:20,460
the new position is it's just not gonna

579
00:22:17,669 --> 00:22:22,440
be anywhere at all so I think that would

580
00:22:20,460 --> 00:22:23,819
would basically do it the only thing

581
00:22:22,440 --> 00:22:25,409
that yeah I guess we haven't done yet

582
00:22:23,819 --> 00:22:26,819
because we haven't made a length for our

583
00:22:25,409 --> 00:22:28,320
vectors we made something that does the

584
00:22:26,819 --> 00:22:29,548
length squared but we don't have

585
00:22:28,319 --> 00:22:31,558
anything that actually gets the length

586
00:22:29,548 --> 00:22:34,109
but that's not very difficult obviously

587
00:22:31,558 --> 00:22:35,639
because if we want to get the the length

588
00:22:34,109 --> 00:22:37,079
of something and we already know how to

589
00:22:35,640 --> 00:22:39,778
get the squared length all we have to do

590
00:22:37,079 --> 00:22:40,939
is square root it right and square

591
00:22:39,778 --> 00:22:43,109
rooting

592
00:22:40,940 --> 00:22:45,509
something that's the length squared will

593
00:22:43,109 --> 00:22:46,979
get us the link right so that's pretty

594
00:22:45,509 --> 00:22:48,839
easy so we'll go ahead and return that

595
00:22:46,980 --> 00:22:50,308
and off we go now

596
00:22:48,839 --> 00:22:51,990
at this point you may be asking well

597
00:22:50,308 --> 00:22:54,269
square root is undefined for negative

598
00:22:51,990 --> 00:22:55,919
numbers you're correct it is but what

599
00:22:54,269 --> 00:22:57,269
you have to remember is since we're

600
00:22:55,919 --> 00:22:58,860
calling length squared there is no

601
00:22:57,269 --> 00:23:02,970
actual possible way that it can produce

602
00:22:58,859 --> 00:23:05,609
a negative number now why is that right

603
00:23:02,970 --> 00:23:07,380
well the reason because if you remember

604
00:23:05,609 --> 00:23:09,288
back when we talked about the math the

605
00:23:07,380 --> 00:23:12,240
inner product is when you take a vector

606
00:23:09,288 --> 00:23:13,589
well two vectors and you multiply their

607
00:23:12,240 --> 00:23:16,259
components by each other so you multiply

608
00:23:13,589 --> 00:23:17,939
the X's by the XS and the Y's by the Y's

609
00:23:16,259 --> 00:23:19,589
now normally that could produce a

610
00:23:17,940 --> 00:23:20,909
negative number quite easily as long as

611
00:23:19,589 --> 00:23:23,668
one of these was negative the other one

612
00:23:20,909 --> 00:23:25,020
was positive and the positive you know

613
00:23:23,669 --> 00:23:26,340
times a negative is negative a negative

614
00:23:25,019 --> 00:23:27,720
plus another negative would be a

615
00:23:26,339 --> 00:23:29,339
negative that'd be really easy you can

616
00:23:27,720 --> 00:23:31,798
imagine lots of ways that this result

617
00:23:29,339 --> 00:23:32,699
could be negative and so you would end

618
00:23:31,798 --> 00:23:34,558
up taking a square root of a negative

619
00:23:32,700 --> 00:23:36,509
number which is not a good idea right

620
00:23:34,558 --> 00:23:40,648
complex numbers not something we want to

621
00:23:36,509 --> 00:23:41,970
have happening in here because we don't

622
00:23:40,648 --> 00:23:50,548
even have any place to store we're just

623
00:23:41,970 --> 00:23:52,319
storing a real value right but you have

624
00:23:50,548 --> 00:23:55,788
to remember we are taking the length of

625
00:23:52,319 --> 00:23:59,158
a vector which means we're passing

626
00:23:55,788 --> 00:24:00,599
itself as both parameters to that inner

627
00:23:59,159 --> 00:24:02,730
product which means it's going to be its

628
00:24:00,599 --> 00:24:04,019
own x times its own X and its own Y

629
00:24:02,730 --> 00:24:07,679
times own Y which means it's going to be

630
00:24:04,019 --> 00:24:09,359
a square plus a square and any number

631
00:24:07,679 --> 00:24:10,620
squared is always going to be positive

632
00:24:09,359 --> 00:24:13,619
unless that number was comments

633
00:24:10,619 --> 00:24:15,750
beginwith right any real number times

634
00:24:13,619 --> 00:24:17,668
itself if it was negative it's two

635
00:24:15,750 --> 00:24:19,138
negatives so you know negative times

636
00:24:17,669 --> 00:24:21,059
negative is gonna be a positive if it

637
00:24:19,138 --> 00:24:22,288
was two positives then it was gonna be

638
00:24:21,058 --> 00:24:23,039
positive if it's two zeros gonna be a

639
00:24:22,288 --> 00:24:25,170
zero so there's really

640
00:24:23,039 --> 00:24:26,670
no way that can possibly be a negative

641
00:24:25,170 --> 00:24:28,440
because gonna be one positive number or

642
00:24:26,670 --> 00:24:29,730
zero plus another positive number or

643
00:24:28,440 --> 00:24:31,440
zero which means that our square root

644
00:24:29,730 --> 00:24:34,380
essentially can never fail in this case

645
00:24:31,440 --> 00:24:37,080
right so that's easy enough and we don't

646
00:24:34,380 --> 00:24:38,580
really have to worry about that too much

647
00:24:37,079 --> 00:24:39,629
of course I guess we do have to worry

648
00:24:38,579 --> 00:24:42,659
about the fact that we've never actually

649
00:24:39,630 --> 00:24:44,190
defined our square root which it's kind

650
00:24:42,660 --> 00:24:45,570
of odd we've never had to take a square

651
00:24:44,190 --> 00:24:49,650
root it's right there

652
00:24:45,569 --> 00:24:52,319
if I spell it wrong what happened or is

653
00:24:49,650 --> 00:24:54,240
it that hand made math isn't in it comes

654
00:24:52,319 --> 00:24:59,250
after it or something like this square

655
00:24:54,240 --> 00:25:02,490
root let's see let's see where are those

656
00:24:59,250 --> 00:25:05,240
intrinsic s-- where is hand-made math I

657
00:25:02,490 --> 00:25:07,769
guess is the more important and made

658
00:25:05,240 --> 00:25:12,539
yeah so that's our problem that needs to

659
00:25:07,769 --> 00:25:15,210
go like that all right so we're we're

660
00:25:12,539 --> 00:25:18,180
basically done here we're going to have

661
00:25:15,210 --> 00:25:22,380
to that's that's totally wrong fix up

662
00:25:18,180 --> 00:25:24,269
the typos here and there we go let's see

663
00:25:22,380 --> 00:25:26,130
change in a new location converted five

664
00:25:24,269 --> 00:25:27,779
from world position that's true that

665
00:25:26,130 --> 00:25:30,600
needs to be address of the position and

666
00:25:27,779 --> 00:25:34,079
that's done so now I think that should

667
00:25:30,599 --> 00:25:36,169
move it after it's done traveling or we

668
00:25:34,079 --> 00:25:39,329
might get an error so that's interesting

669
00:25:36,170 --> 00:25:40,950
we hit one of our assertions that

670
00:25:39,329 --> 00:25:42,389
basically says that one of the things

671
00:25:40,950 --> 00:25:45,210
that we were passing was not canonical

672
00:25:42,390 --> 00:25:48,600
what happened there what happened there

673
00:25:45,210 --> 00:25:50,400
change entry location so old P and new P

674
00:25:48,599 --> 00:25:54,750
oh so I think when we wrote this

675
00:25:50,400 --> 00:25:57,990
function we never actually we never

676
00:25:54,750 --> 00:25:59,759
actually did one for a new P being zero

677
00:25:57,990 --> 00:26:01,799
so we've never we've never actually

678
00:25:59,759 --> 00:26:03,150
allowed you to change entries location

679
00:26:01,799 --> 00:26:06,269
from somewhere

680
00:26:03,150 --> 00:26:08,490
to nowhere if you will so basically all

681
00:26:06,269 --> 00:26:09,359
that assertion was telling us was well

682
00:26:08,490 --> 00:26:11,250
actually don't think I was assertion

683
00:26:09,359 --> 00:26:12,719
that was probably actually a no pointer

684
00:26:11,250 --> 00:26:14,880
dereference but could be wrong with that

685
00:26:12,720 --> 00:26:16,890
I think what we actually want to do here

686
00:26:14,880 --> 00:26:18,420
oh no we actually it was an assertion

687
00:26:16,890 --> 00:26:21,000
well we actually wanted you to just say

688
00:26:18,420 --> 00:26:22,470
if both of them are valid and they were

689
00:26:21,000 --> 00:26:24,900
in the new chunk then we leave the

690
00:26:22,470 --> 00:26:27,509
entity where it is otherwise we process

691
00:26:24,900 --> 00:26:29,160
it separately right and so that's I

692
00:26:27,509 --> 00:26:32,250
think we just needed to just check that

693
00:26:29,160 --> 00:26:36,600
there and that should be that should be

694
00:26:32,250 --> 00:26:42,240
it I think let's find out let's find out

695
00:26:36,599 --> 00:26:44,219
um hmm that's a little bit odd what are

696
00:26:42,240 --> 00:26:49,049
we doing what is the actual assertion

697
00:26:44,220 --> 00:26:51,539
there old P is valid so is it suggesting

698
00:26:49,049 --> 00:26:54,329
that it's not actually valid I can't

699
00:26:51,539 --> 00:26:59,369
actually tell ya I want to see what it's

700
00:26:54,329 --> 00:27:02,939
actually complaining about access

701
00:26:59,369 --> 00:27:08,539
violation writing location zero zero

702
00:27:02,940 --> 00:27:11,070
zero what exactly inside that assert is

703
00:27:08,539 --> 00:27:13,589
writing a location well you know what

704
00:27:11,069 --> 00:27:16,200
that may just be that that may be a

705
00:27:13,589 --> 00:27:18,299
slightly furious way that that's being

706
00:27:16,200 --> 00:27:20,580
reported so let's let's actually step in

707
00:27:18,299 --> 00:27:23,490
there and make sure that we actually

708
00:27:20,579 --> 00:27:31,529
know for reals exactly what's going on

709
00:27:23,490 --> 00:27:36,930
there so what's happening here let's see

710
00:27:31,529 --> 00:27:42,450
let's find out so the new chunk P and

711
00:27:36,930 --> 00:27:45,600
the old chunk P that old chunk P is

712
00:27:42,450 --> 00:27:48,059
invalid so basically this is still

713
00:27:45,599 --> 00:27:50,429
moving the guy after he essentially has

714
00:27:48,059 --> 00:27:52,980
been moved to zero so what I guess was

715
00:27:50,430 --> 00:27:56,509
probably the case here now that I think

716
00:27:52,980 --> 00:27:59,420
about this is if we've moved him I

717
00:27:56,509 --> 00:28:01,980
wonder if this is a case where we have

718
00:27:59,420 --> 00:28:04,080
let's go ahead and see here if we're

719
00:28:01,980 --> 00:28:05,970
actually moving somebody out and then

720
00:28:04,079 --> 00:28:08,069
he's still in the hi entity set so while

721
00:28:05,970 --> 00:28:10,680
he's still in that hi entity set he gets

722
00:28:08,069 --> 00:28:12,119
moved again and then that causes a

723
00:28:10,680 --> 00:28:13,950
problem I assume that's what's happening

724
00:28:12,119 --> 00:28:18,089
let's let's actually double check and

725
00:28:13,950 --> 00:28:20,130
find out if that's the case so we need

726
00:28:18,089 --> 00:28:22,409
to be in the other file so what we want

727
00:28:20,130 --> 00:28:26,190
to do is we want to see what happens at

728
00:28:22,410 --> 00:28:27,870
the end here when we move the entity so

729
00:28:26,190 --> 00:28:29,970
the sword we want to disappear at this

730
00:28:27,869 --> 00:28:32,819
point we go in and say change entity

731
00:28:29,970 --> 00:28:34,470
location we go ahead and we change it

732
00:28:32,819 --> 00:28:36,509
everything's fine

733
00:28:34,470 --> 00:28:39,120
the löwe entity is now outside of that

734
00:28:36,509 --> 00:28:40,680
set and so our sword entity which I want

735
00:28:39,119 --> 00:28:43,859
to kind of pay attention to now let's

736
00:28:40,680 --> 00:28:46,830
see which one he is right entity low

737
00:28:43,859 --> 00:28:50,459
index so he's nine two two zero five

738
00:28:46,829 --> 00:28:51,928
right and we can always view him as well

739
00:28:50,460 --> 00:28:56,220
by just saying the gamestate low

740
00:28:51,929 --> 00:28:58,619
entities 9 to 2:05 like so there he is

741
00:28:56,220 --> 00:29:00,269
and you can see that he's got an invalid

742
00:28:58,618 --> 00:29:02,749
chunk X which is what we want because he

743
00:29:00,269 --> 00:29:06,269
doesn't exist in the world at the moment

744
00:29:02,749 --> 00:29:08,278
and so that's that's pretty good now

745
00:29:06,269 --> 00:29:10,980
what I suspect is happening and I'll

746
00:29:08,278 --> 00:29:12,298
just say this again because in fact

747
00:29:10,980 --> 00:29:14,878
thinking it through I'm almost positive

748
00:29:12,298 --> 00:29:17,368
what's happening so when we change an

749
00:29:14,878 --> 00:29:19,918
enemy's location even put a to-do in

750
00:29:17,368 --> 00:29:21,628
here about this before because I was

751
00:29:19,919 --> 00:29:23,610
thinking that it probably should happen

752
00:29:21,628 --> 00:29:24,808
you'll notice we said if this moves an

753
00:29:23,609 --> 00:29:26,368
India to the into the camera Mouse

754
00:29:24,808 --> 00:29:27,720
should automatically go to the highest

755
00:29:26,368 --> 00:29:31,618
set immediately there's a corollary to

756
00:29:27,720 --> 00:29:32,669
this is if it moves out of the camera

757
00:29:31,618 --> 00:29:35,928
bounds

758
00:29:32,669 --> 00:29:40,499
should it be removed from the high set

759
00:29:35,929 --> 00:29:42,869
immediately right and basically

760
00:29:40,499 --> 00:29:45,298
immediately is probably the wrong word

761
00:29:42,868 --> 00:29:49,019
here we maybe don't want to be immediate

762
00:29:45,298 --> 00:29:50,700
but we may want it to happen in some

763
00:29:49,019 --> 00:29:52,378
kind of a more controlled way than

764
00:29:50,700 --> 00:29:54,720
waiting for the next time that set

765
00:29:52,378 --> 00:29:56,069
camera gets called right and so what I

766
00:29:54,720 --> 00:29:58,499
believes happening here is we change the

767
00:29:56,069 --> 00:30:01,528
send of these location and then in the

768
00:29:58,499 --> 00:30:04,230
high set we don't actually do any work

769
00:30:01,528 --> 00:30:05,730
to sort of ensure that it's that it's

770
00:30:04,230 --> 00:30:07,110
removed from that high set and not still

771
00:30:05,730 --> 00:30:08,970
getting updated in the high set as if

772
00:30:07,109 --> 00:30:10,888
it's still in the location that it was

773
00:30:08,970 --> 00:30:12,629
before we moved it right because we're

774
00:30:10,888 --> 00:30:14,729
only changing that low P and we're

775
00:30:12,628 --> 00:30:17,459
moving it out into the middle out into

776
00:30:14,730 --> 00:30:19,769
non-existence that should remove it from

777
00:30:17,460 --> 00:30:21,360
the high set but unfortunately it won't

778
00:30:19,769 --> 00:30:23,069
right like there's nothing there's no

779
00:30:21,359 --> 00:30:24,359
code that will actually do that because

780
00:30:23,069 --> 00:30:26,249
the only thing that removes things from

781
00:30:24,359 --> 00:30:29,668
the high set is when their high position

782
00:30:26,249 --> 00:30:32,278
moves outside the camera bounds right so

783
00:30:29,669 --> 00:30:33,749
I think there's probably a hacky not

784
00:30:32,278 --> 00:30:36,118
particularly good way to solve this

785
00:30:33,749 --> 00:30:40,259
problem right and that would basically

786
00:30:36,118 --> 00:30:42,599
be to set the entities high position to

787
00:30:40,259 --> 00:30:45,329
something super invalid right like you

788
00:30:42,599 --> 00:30:47,548
could imagine setting it taking that and

789
00:30:45,329 --> 00:30:50,249
just doing something like you know this

790
00:30:47,548 --> 00:30:52,200
kind of nonsense right that would

791
00:30:50,249 --> 00:30:53,548
probably do it for us but I want

792
00:30:52,200 --> 00:30:55,379
something that's not going to be so

793
00:30:53,548 --> 00:30:56,908
janky right I want to think this through

794
00:30:55,378 --> 00:30:58,469
and do it in a kind of a relatively easy

795
00:30:56,909 --> 00:31:00,690
way I just want to see if that's the

796
00:30:58,470 --> 00:31:03,600
actual problem is that it's not getting

797
00:31:00,690 --> 00:31:04,100
removed from that set I want to see yeah

798
00:31:03,599 --> 00:31:05,709
so that

799
00:31:04,099 --> 00:31:09,709
I assume and that is actually the case

800
00:31:05,710 --> 00:31:11,210
so that's what I expected and so we have

801
00:31:09,710 --> 00:31:13,038
to kind of think about that and this is

802
00:31:11,210 --> 00:31:15,288
actually a very important problem in my

803
00:31:13,038 --> 00:31:18,019
mind this is exactly the sort of thing

804
00:31:15,288 --> 00:31:19,849
that we want to kind of look at a little

805
00:31:18,019 --> 00:31:23,389
more intelligently because it's the kind

806
00:31:19,849 --> 00:31:24,589
of thing it's the kind of thing that you

807
00:31:23,390 --> 00:31:27,620
really want to get right or you're gonna

808
00:31:24,589 --> 00:31:29,808
have lots of subtle bugs of exactly this

809
00:31:27,619 --> 00:31:31,819
kind because having two frequencies of

810
00:31:29,808 --> 00:31:33,649
up update for your entities is a complex

811
00:31:31,819 --> 00:31:35,149
thing if you don't get the basics of it

812
00:31:33,650 --> 00:31:37,580
right you'll constantly be fighting this

813
00:31:35,150 --> 00:31:44,450
battle of bugs like this that that annoy

814
00:31:37,579 --> 00:31:48,500
you and waste your development time all

815
00:31:44,450 --> 00:31:51,470
right so the question is what do we want

816
00:31:48,500 --> 00:31:55,038
to do here let's review how our enemy

817
00:31:51,470 --> 00:31:56,509
systems actually working right and I use

818
00:31:55,038 --> 00:31:58,490
the term Andy System loosely but the

819
00:31:56,509 --> 00:32:00,970
enemy code that we have so far right we

820
00:31:58,490 --> 00:32:02,990
don't really have any system per se so

821
00:32:00,970 --> 00:32:04,880
what we're doing is we're spinning

822
00:32:02,990 --> 00:32:06,769
through these high entities that we have

823
00:32:04,880 --> 00:32:09,830
and we're updating them as we go and so

824
00:32:06,769 --> 00:32:11,900
when we update the sword eventually it's

825
00:32:09,829 --> 00:32:13,939
time for the sword to sort of get moved

826
00:32:11,900 --> 00:32:16,909
out of existence and so one of the

827
00:32:13,940 --> 00:32:18,590
things that becomes true here is it

828
00:32:16,909 --> 00:32:20,240
shouldn't participate once it gets moved

829
00:32:18,589 --> 00:32:21,349
out of existence it's possibly the case

830
00:32:20,240 --> 00:32:23,329
that it shouldn't participate any

831
00:32:21,349 --> 00:32:24,740
further in anything else that might

832
00:32:23,329 --> 00:32:27,259
happen on this frame or on subsequent

833
00:32:24,740 --> 00:32:29,509
frames so one thing that we could do is

834
00:32:27,259 --> 00:32:32,179
essentially move mark things for

835
00:32:29,509 --> 00:32:34,308
deletion or remove things as part of

836
00:32:32,179 --> 00:32:36,769
this loop right that would be the

837
00:32:34,308 --> 00:32:39,139
first-tier way to deal with this and the

838
00:32:36,769 --> 00:32:41,000
example there would be some sort of a

839
00:32:39,140 --> 00:32:42,799
control flow thing that tells us that

840
00:32:41,000 --> 00:32:46,119
right so you could imagine something

841
00:32:42,798 --> 00:32:49,279
like this which is like remove right

842
00:32:46,119 --> 00:32:52,668
should something sort of highly in index

843
00:32:49,279 --> 00:32:54,769
get removed right and so we'd set that

844
00:32:52,669 --> 00:32:56,299
to false and then what we do is for any

845
00:32:54,769 --> 00:32:58,849
of these people who have an update call

846
00:32:56,298 --> 00:33:00,619
right you'd basically have a remove call

847
00:32:58,849 --> 00:33:02,719
that would that would return to us

848
00:33:00,619 --> 00:33:05,989
whether or not we wanted the thing to

849
00:33:02,720 --> 00:33:07,759
get removed now that's all right

850
00:33:05,990 --> 00:33:09,798
and what we do is at the end of this

851
00:33:07,759 --> 00:33:13,308
right here we just process that out

852
00:33:09,798 --> 00:33:17,490
I don't super love that as an idea

853
00:33:13,308 --> 00:33:21,299
necessarily I think what I prefer

854
00:33:17,490 --> 00:33:24,808
I would prefer something that could set

855
00:33:21,299 --> 00:33:26,970
that on sort of a more global in a more

856
00:33:24,808 --> 00:33:29,428
global sense perhaps something that

857
00:33:26,970 --> 00:33:31,710
could do it so that it'll get processed

858
00:33:29,429 --> 00:33:34,500
the next time through on maybe on that

859
00:33:31,710 --> 00:33:36,200
camera call something like that right I

860
00:33:34,500 --> 00:33:39,420
think that's really what I would prefer

861
00:33:36,200 --> 00:33:40,980
so what I want to do is take a look at

862
00:33:39,420 --> 00:33:43,259
that set camera call and see how that's

863
00:33:40,980 --> 00:33:45,420
working right right now what it's doing

864
00:33:43,259 --> 00:33:48,000
is it's saying offset and check

865
00:33:45,420 --> 00:33:49,590
frequency by area right that's the

866
00:33:48,000 --> 00:33:51,750
that's the call that loops through and

867
00:33:49,589 --> 00:33:55,799
says who's still in the sort of the play

868
00:33:51,750 --> 00:33:58,589
field it would be nice if that in and of

869
00:33:55,799 --> 00:34:01,079
itself could just check to see whether a

870
00:33:58,589 --> 00:34:04,889
high entity should or should not still

871
00:34:01,079 --> 00:34:06,480
be around right and it seems to me like

872
00:34:04,890 --> 00:34:10,829
that's a more sensible place to do this

873
00:34:06,480 --> 00:34:13,079
potentially just thinking it through you

874
00:34:10,829 --> 00:34:20,250
know something like this where we would

875
00:34:13,079 --> 00:34:22,500
say you know if hi you know is alive or

876
00:34:20,250 --> 00:34:24,000
something like this or or we could even

877
00:34:22,500 --> 00:34:28,829
do it a little bit more straightforward

878
00:34:24,000 --> 00:34:31,108
we could say that that that sort of that

879
00:34:28,829 --> 00:34:35,878
low entity position we could say if it's

880
00:34:31,108 --> 00:34:37,378
low entity position is valid right which

881
00:34:35,878 --> 00:34:39,628
I guess do we we don't really know the

882
00:34:37,378 --> 00:34:41,069
low entity position here so it kind of

883
00:34:39,628 --> 00:34:44,489
bites an extra look up which I don't

884
00:34:41,070 --> 00:34:46,500
love but you know we'll we'll sort of

885
00:34:44,489 --> 00:34:48,239
we'll sort of do that for now and just

886
00:34:46,500 --> 00:34:49,469
see we can always we can always put in

887
00:34:48,239 --> 00:34:52,019
something to accelerate that later if we

888
00:34:49,469 --> 00:34:54,329
want to right so I'll just go ahead and

889
00:34:52,019 --> 00:34:58,829
do low entity low and we'll go ahead and

890
00:34:54,329 --> 00:35:02,608
grab that guy off of here like so so

891
00:34:58,829 --> 00:35:07,049
what we'll do is we'll say if that if

892
00:35:02,608 --> 00:35:09,989
that low P is is valid that's that's one

893
00:35:07,050 --> 00:35:11,670
reason but if it's not valid if if the

894
00:35:09,989 --> 00:35:13,529
entity has moved out of existence

895
00:35:11,670 --> 00:35:15,840
basically and its position is in the

896
00:35:13,530 --> 00:35:17,310
ether then we're not going to leave it

897
00:35:15,840 --> 00:35:18,750
in that high empty set now I don't know

898
00:35:17,309 --> 00:35:20,400
if that's the best criteria for now but

899
00:35:18,750 --> 00:35:22,619
that's certainly stronger I think than

900
00:35:20,400 --> 00:35:24,690
what we had previously and I like that a

901
00:35:22,619 --> 00:35:27,240
little bit better so let's take a look

902
00:35:24,690 --> 00:35:29,010
at what happens there let's just take it

903
00:35:27,239 --> 00:35:31,389
take a look at that we've got one other

904
00:35:29,010 --> 00:35:34,180
thing that we kind of need to address

905
00:35:31,389 --> 00:35:36,909
when we do that though which is that

906
00:35:34,179 --> 00:35:38,829
when we're going through this loop if we

907
00:35:36,909 --> 00:35:40,239
don't remove people right away then

908
00:35:38,829 --> 00:35:41,529
they're still getting checked for their

909
00:35:40,239 --> 00:35:43,149
current location

910
00:35:41,530 --> 00:35:44,680
I don't reeled it that's necessarily bad

911
00:35:43,150 --> 00:35:46,539
but it's something to think about right

912
00:35:44,679 --> 00:35:48,369
mean this sword for the rest for the

913
00:35:46,539 --> 00:35:50,409
rest of the Hyades before we get to the

914
00:35:48,369 --> 00:35:52,239
end of this loop the sword is still

915
00:35:50,409 --> 00:35:54,609
where it was originally which I don't

916
00:35:52,239 --> 00:35:55,829
actually know if that's a bad thing but

917
00:35:54,610 --> 00:35:59,440
with something we have to think about

918
00:35:55,829 --> 00:36:01,150
all right and so I think that's also so

919
00:35:59,440 --> 00:36:04,150
you can see that also solves the problem

920
00:36:01,150 --> 00:36:07,269
just fine right our sword still seems to

921
00:36:04,150 --> 00:36:09,010
be incredibly slow which is odd and I

922
00:36:07,269 --> 00:36:11,079
don't know why that does not seem to

923
00:36:09,010 --> 00:36:14,430
have gotten any velocity either that was

924
00:36:11,079 --> 00:36:17,500
particularly weird if I do say so myself

925
00:36:14,429 --> 00:36:21,119
I'm not sure why our sword would ever

926
00:36:17,500 --> 00:36:23,500
not have velocity how did that happen

927
00:36:21,119 --> 00:36:27,699
that's pretty amusing

928
00:36:23,500 --> 00:36:30,059
let's take a look G sword we always do

929
00:36:27,699 --> 00:36:33,279
give the sword some velocity right yeah

930
00:36:30,059 --> 00:36:35,559
distance remaining five it's high DP it

931
00:36:33,280 --> 00:36:37,870
can't collide with anything so it

932
00:36:35,559 --> 00:36:39,820
shouldn't ever be able to have a

933
00:36:37,869 --> 00:36:41,769
velocity that's not zero right because

934
00:36:39,820 --> 00:36:44,050
we specifically said that swords don't

935
00:36:41,769 --> 00:36:47,289
collide pretty sure anyway

936
00:36:44,050 --> 00:36:49,269
when we did add sword right collides is

937
00:36:47,289 --> 00:36:49,929
false so when we're calling move entity

938
00:36:49,269 --> 00:36:51,909
on the sword

939
00:36:49,929 --> 00:36:53,769
I would think there should be no way for

940
00:36:51,909 --> 00:36:58,269
it to ever actually get into a state

941
00:36:53,769 --> 00:37:00,130
where where it can't where it's velocity

942
00:36:58,269 --> 00:37:03,159
would get clipped right because in

943
00:37:00,130 --> 00:37:05,200
theory let's see hit high into the index

944
00:37:03,159 --> 00:37:07,960
that can't ever set get high into the

945
00:37:05,199 --> 00:37:11,339
index right it's always equal to zero so

946
00:37:07,960 --> 00:37:15,610
it should never actually I don't think

947
00:37:11,340 --> 00:37:18,430
be able to have a velocity that is yeah

948
00:37:15,610 --> 00:37:20,980
that is zero so how did that happen I'm

949
00:37:18,429 --> 00:37:22,629
very confused about that that's very

950
00:37:20,980 --> 00:37:24,460
troubling that doesn't seem like a

951
00:37:22,630 --> 00:37:25,990
doesn't seem like a reasonable thing to

952
00:37:24,460 --> 00:37:26,590
have happen I want to know what I'm

953
00:37:25,989 --> 00:37:28,899
missing

954
00:37:26,590 --> 00:37:30,309
basically because if this always gets

955
00:37:28,900 --> 00:37:31,960
set I'm trying to think if there's any

956
00:37:30,309 --> 00:37:34,779
other way that it could get set with the

957
00:37:31,960 --> 00:37:36,760
DP not being able to that but it's DP

958
00:37:34,780 --> 00:37:38,410
should basically always be this I don't

959
00:37:36,760 --> 00:37:41,230
know why it's DP ever would be anything

960
00:37:38,409 --> 00:37:43,839
else yeah so that's that's a little

961
00:37:41,230 --> 00:37:45,510
disconcerting so I'm trying to think of

962
00:37:43,840 --> 00:37:47,730
what would be the best way to catch that

963
00:37:45,510 --> 00:37:49,470
right like what's the best way to hunt

964
00:37:47,730 --> 00:37:54,750
down how that happened cuz it obviously

965
00:37:49,469 --> 00:37:59,539
happened I saw it happen so let's think

966
00:37:54,750 --> 00:37:59,539
about this basically we get a low entity

967
00:38:13,130 --> 00:38:23,430
there shouldn't ever really be a wait

968
00:38:20,730 --> 00:38:27,570
yeah I cannot think of a way to really

969
00:38:23,429 --> 00:38:35,759
have that happen gosh that is really

970
00:38:27,570 --> 00:38:42,930
strange well let's take a look here when

971
00:38:35,760 --> 00:38:44,670
an enemy gets forced into hi ah ha there

972
00:38:42,929 --> 00:38:48,480
we go

973
00:38:44,670 --> 00:38:50,909
so that could easily be our problem if

974
00:38:48,480 --> 00:38:56,670
the entity was going to get moved into

975
00:38:50,909 --> 00:38:59,190
hi by someone other yeah so basically

976
00:38:56,670 --> 00:39:01,858
that is almost certainly where a problem

977
00:38:59,190 --> 00:39:04,740
comes from right so when the entity gets

978
00:39:01,858 --> 00:39:08,279
moved into a tie frequency space its

979
00:39:04,739 --> 00:39:11,118
velocity at that point right it's going

980
00:39:08,280 --> 00:39:14,940
to yeah is going to basically be

981
00:39:11,119 --> 00:39:17,519
shooting its velocity at that point

982
00:39:14,940 --> 00:39:19,590
would get zero so one question is is

983
00:39:17,519 --> 00:39:21,509
there any way right that a sword could

984
00:39:19,590 --> 00:39:23,100
have that happen it does seem like it

985
00:39:21,510 --> 00:39:27,119
would be possible for the sword to get

986
00:39:23,099 --> 00:39:28,739
placed down in low frequency like it

987
00:39:27,119 --> 00:39:30,030
gets transitioned out of low frequency

988
00:39:28,739 --> 00:39:31,618
and then transitions back into high

989
00:39:30,030 --> 00:39:34,109
frequency somehow or something like this

990
00:39:31,619 --> 00:39:35,670
right I I don't think that's entirely

991
00:39:34,108 --> 00:39:38,849
out of the question and so I assume that

992
00:39:35,670 --> 00:39:39,889
is exactly what happened so let's take a

993
00:39:38,849 --> 00:39:42,839
look

994
00:39:39,889 --> 00:39:43,949
move entity let's see if we can actually

995
00:39:42,840 --> 00:39:47,070
make that happen

996
00:39:43,949 --> 00:39:49,980
force empty into high so make any high

997
00:39:47,070 --> 00:39:52,590
frequency so that's one way we could do

998
00:39:49,980 --> 00:39:54,750
this to try and make that that case is

999
00:39:52,590 --> 00:39:57,090
we could go ahead and do an assert here

1000
00:39:54,750 --> 00:39:58,349
or rather we won't do an assertion let's

1001
00:39:57,090 --> 00:40:01,800
just set a breakpoint

1002
00:39:58,349 --> 00:40:07,639
right we'll set a breakpoint where if

1003
00:40:01,800 --> 00:40:09,930
that entity low type equals the sword

1004
00:40:07,639 --> 00:40:12,239
then I'm going to set a breakpoint there

1005
00:40:09,929 --> 00:40:18,239
right so so if I'm looking at a sword

1006
00:40:12,239 --> 00:40:21,029
like so break here right equals five so

1007
00:40:18,239 --> 00:40:23,339
that way I can go ahead and just try to

1008
00:40:21,030 --> 00:40:25,110
make that bug reproduce itself and then

1009
00:40:23,340 --> 00:40:26,250
I can also see at that point I'd be able

1010
00:40:25,110 --> 00:40:29,190
to see the call stack

1011
00:40:26,250 --> 00:40:32,539
to see who it was exactly who was

1012
00:40:29,190 --> 00:40:36,929
causing that to happen right so anyway

1013
00:40:32,539 --> 00:40:41,159
so yeah so in this case I think we're

1014
00:40:36,929 --> 00:40:44,579
okay because this should actually be

1015
00:40:41,159 --> 00:40:45,839
called from game update and render which

1016
00:40:44,579 --> 00:40:48,690
is here so it's gonna it's gonna

1017
00:40:45,840 --> 00:40:53,910
actually call that there right there we

1018
00:40:48,690 --> 00:40:57,150
go and then it gets called a second time

1019
00:40:53,909 --> 00:40:59,039
that seems erroneous right that doesn't

1020
00:40:57,150 --> 00:41:03,440
seem right to me make entity high

1021
00:40:59,039 --> 00:41:08,190
frequency why wasn't it - see already

1022
00:41:03,440 --> 00:41:10,980
what what's going on here did it get

1023
00:41:08,190 --> 00:41:13,309
moved out of the high frequency set you

1024
00:41:10,980 --> 00:41:17,219
saw it happen didn't you

1025
00:41:13,309 --> 00:41:24,599
that seems erroneous to me let's see if

1026
00:41:17,219 --> 00:41:26,459
that happens every time that just seems

1027
00:41:24,599 --> 00:41:28,559
bad so let's go ahead and debug that

1028
00:41:26,460 --> 00:41:29,639
that seems like a bad situation I don't

1029
00:41:28,559 --> 00:41:32,250
think that should be happening

1030
00:41:29,639 --> 00:41:35,730
so basically when we make entity high

1031
00:41:32,250 --> 00:41:39,719
frequency right make entity high

1032
00:41:35,730 --> 00:41:42,059
frequency there's two cases that's

1033
00:41:39,719 --> 00:41:44,159
happening on the sword one is happening

1034
00:41:42,059 --> 00:41:45,869
when we're basically setting the camera

1035
00:41:44,159 --> 00:41:47,069
and so what we're doing is we're looping

1036
00:41:45,869 --> 00:41:49,799
through everything and we're moving it

1037
00:41:47,070 --> 00:41:53,010
here so I'm guessing that what must

1038
00:41:49,800 --> 00:41:56,730
happen is offset and check frequency by

1039
00:41:53,010 --> 00:41:58,680
area must actually be removing the sword

1040
00:41:56,730 --> 00:42:02,400
from the high frequency set for some

1041
00:41:58,679 --> 00:42:05,969
reason right because otherwise why would

1042
00:42:02,400 --> 00:42:08,099
that ever happen right so it must be the

1043
00:42:05,969 --> 00:42:11,969
case that like our low P is judged as

1044
00:42:08,099 --> 00:42:12,150
invalid or something where it happens so

1045
00:42:11,969 --> 00:42:15,239
I

1046
00:42:12,150 --> 00:42:17,639
gonna go ahead and say that this right

1047
00:42:15,239 --> 00:42:19,618
here is a case well I guess I could do

1048
00:42:17,639 --> 00:42:22,949
it and make it any low frequency right

1049
00:42:19,619 --> 00:42:28,260
low frequency so in here what I could do

1050
00:42:22,949 --> 00:42:34,528
is say okay let's go ahead and see when

1051
00:42:28,260 --> 00:42:35,010
we do this deletion yeah so we just do

1052
00:42:34,528 --> 00:42:43,980
this

1053
00:42:35,010 --> 00:42:45,470
if NC low and we've got our type and we

1054
00:42:43,980 --> 00:42:49,108
want that to be the sword

1055
00:42:45,469 --> 00:42:56,239
let's see who's moving that into the low

1056
00:42:49,108 --> 00:42:59,489
frequency set right so that happens and

1057
00:42:56,239 --> 00:43:02,669
then it yeah so so something something

1058
00:42:59,489 --> 00:43:05,429
is amiss in my opinion because as you

1059
00:43:02,670 --> 00:43:08,130
can see we've hit this twice but we

1060
00:43:05,429 --> 00:43:10,889
never hit the oh no that's not true

1061
00:43:08,130 --> 00:43:13,490
I lied we did we actually have to set

1062
00:43:10,889 --> 00:43:17,308
the breakpoint sorry about that

1063
00:43:13,489 --> 00:43:20,308
spoke too soon I'm assuming I was suing

1064
00:43:17,309 --> 00:43:21,450
that should fire but it didn't and I

1065
00:43:20,309 --> 00:43:26,730
realized because I didn't actually set a

1066
00:43:21,449 --> 00:43:28,828
breakpoint on it all right so there we

1067
00:43:26,730 --> 00:43:30,510
go that actually hits that breakpoint

1068
00:43:28,829 --> 00:43:32,519
which is what we expect and then it hits

1069
00:43:30,510 --> 00:43:35,549
this breakpoint all right so basically

1070
00:43:32,519 --> 00:43:36,989
we've got we've got nastiness and that's

1071
00:43:35,548 --> 00:43:39,960
good because now we can actually debug

1072
00:43:36,989 --> 00:43:42,209
our nastiest which is what we want so

1073
00:43:39,960 --> 00:43:43,769
the first time it end it enters into the

1074
00:43:42,210 --> 00:43:45,720
high frequency set that's exactly what

1075
00:43:43,769 --> 00:43:47,788
we wanted to have happen right because

1076
00:43:45,719 --> 00:43:49,739
that's where we actually forced it into

1077
00:43:47,789 --> 00:43:51,869
high and that's where we actually set

1078
00:43:49,739 --> 00:43:55,348
its state right and so that's all good

1079
00:43:51,869 --> 00:43:56,970
and off we go now the next time through

1080
00:43:55,349 --> 00:43:58,890
we find that we've set it to low

1081
00:43:56,969 --> 00:44:00,298
frequency and the question is why are we

1082
00:43:58,889 --> 00:44:02,788
setting it to low frequency like what's

1083
00:44:00,298 --> 00:44:05,130
the reasoning right behind that of

1084
00:44:02,789 --> 00:44:06,630
course Microsoft Visual Studio makes it

1085
00:44:05,130 --> 00:44:08,640
as hard as possible for that to happen

1086
00:44:06,630 --> 00:44:11,640
by giving you absolutely no information

1087
00:44:08,639 --> 00:44:13,769
whatsoever what we'd like to be able to

1088
00:44:11,639 --> 00:44:16,710
see is like what happened in here but we

1089
00:44:13,769 --> 00:44:17,940
can't unfortunately and so what we want

1090
00:44:16,710 --> 00:44:20,460
to do is say all right

1091
00:44:17,940 --> 00:44:21,929
it failed one of these things so let's

1092
00:44:20,460 --> 00:44:26,070
see if we can figure out which one it

1093
00:44:21,929 --> 00:44:29,039
failed yes thank you so much visual

1094
00:44:26,070 --> 00:44:31,440
for being absolutely awful at everything

1095
00:44:29,039 --> 00:44:34,170
that you do okay so let's go ahead and

1096
00:44:31,440 --> 00:44:38,460
see if I can set the next statement to

1097
00:44:34,170 --> 00:44:39,990
just be inside this routine actually you

1098
00:44:38,460 --> 00:44:43,470
know what I could do let me let me step

1099
00:44:39,989 --> 00:44:46,139
out of this first so let's go ahead and

1100
00:44:43,469 --> 00:44:48,389
well you know what this actually has the

1101
00:44:46,139 --> 00:44:50,819
things I need in it to some degree I

1102
00:44:48,389 --> 00:44:53,719
suppose and not really because they're

1103
00:44:50,820 --> 00:44:57,150
gonna get deleted uh Visual Studio

1104
00:44:53,719 --> 00:44:59,759
alright well let me see I guess what I

1105
00:44:57,150 --> 00:45:01,680
could do is trick Visual Studio into

1106
00:44:59,760 --> 00:45:03,690
being less of the world's worst debugger

1107
00:45:01,679 --> 00:45:07,199
and maybe only the world's second worst

1108
00:45:03,690 --> 00:45:09,030
of bugger by putting in some dummy line

1109
00:45:07,199 --> 00:45:11,579
that will allow us to still inspect the

1110
00:45:09,030 --> 00:45:14,880
variables we actually want to inspect so

1111
00:45:11,579 --> 00:45:19,069
here is our dummy line here like so and

1112
00:45:14,880 --> 00:45:21,150
maybe this can help you know as you know

1113
00:45:19,070 --> 00:45:23,100
people at Microsoft don't actually debug

1114
00:45:21,150 --> 00:45:25,139
any of their code so they don't actually

1115
00:45:23,099 --> 00:45:26,369
have to worry about looking at code in

1116
00:45:25,139 --> 00:45:27,960
the debugger so they probably never

1117
00:45:26,369 --> 00:45:30,029
occurred to them that people who

1118
00:45:27,960 --> 00:45:32,429
actually do debug code and ship it

1119
00:45:30,030 --> 00:45:34,410
without the bugs in it would want to

1120
00:45:32,429 --> 00:45:36,899
actually see the variables in their code

1121
00:45:34,409 --> 00:45:38,219
while they were stepping through it

1122
00:45:36,900 --> 00:45:39,690
that's kind of one of the things that

1123
00:45:38,219 --> 00:45:42,000
debugger sometimes do but if you never

1124
00:45:39,690 --> 00:45:43,470
launch it a bugger and you just send it

1125
00:45:42,000 --> 00:45:45,780
out the door however it is you probably

1126
00:45:43,469 --> 00:45:48,750
don't think about those things anyway

1127
00:45:45,780 --> 00:45:51,480
so let's see we got our dummy line here

1128
00:45:48,750 --> 00:45:52,980
so now what I'm hoping to do is when I

1129
00:45:51,480 --> 00:45:55,559
take a look at this make entity low

1130
00:45:52,980 --> 00:45:57,360
frequency I can now actually hopefully

1131
00:45:55,559 --> 00:45:58,650
step out here and since we've inserted

1132
00:45:57,360 --> 00:46:01,710
this dummy line I'll be able to actually

1133
00:45:58,650 --> 00:46:03,900
look at these values right so there's

1134
00:46:01,710 --> 00:46:06,900
the values that we actually have here's

1135
00:46:03,900 --> 00:46:09,360
our high entity here's where he is and

1136
00:46:06,900 --> 00:46:13,410
he's set out in the middle of nowhere

1137
00:46:09,360 --> 00:46:16,519
that is pretty darn clear right so

1138
00:46:13,409 --> 00:46:22,710
that's pretty telling and the low

1139
00:46:16,519 --> 00:46:24,150
position for him not not super sure I

1140
00:46:22,710 --> 00:46:27,510
understand why he's set out in the

1141
00:46:24,150 --> 00:46:31,619
middle of nowhere but he is and then his

1142
00:46:27,510 --> 00:46:33,810
low position is actually doesn't seem to

1143
00:46:31,619 --> 00:46:35,909
correlate with that at all to me right

1144
00:46:33,809 --> 00:46:39,509
am I wrong about that but that that

1145
00:46:35,909 --> 00:46:41,699
seems fairly

1146
00:46:39,510 --> 00:46:43,740
clear so he's failing this but I don't

1147
00:46:41,699 --> 00:46:45,239
understand why he is getting these

1148
00:46:43,739 --> 00:46:48,269
ridiculous values set

1149
00:46:45,239 --> 00:46:52,589
I'm not sure I don't follow why that's

1150
00:46:48,269 --> 00:46:56,360
the case so I want to figure out what's

1151
00:46:52,590 --> 00:46:58,590
going on there in this set camera call

1152
00:46:56,360 --> 00:47:01,289
what is the end of the offset for frame

1153
00:46:58,590 --> 00:47:03,450
and the offset per frame is nothing so

1154
00:47:01,289 --> 00:47:06,509
that's I guess what you know to be

1155
00:47:03,449 --> 00:47:07,799
expected we're in this first game update

1156
00:47:06,510 --> 00:47:09,870
and render through so I don't know

1157
00:47:07,800 --> 00:47:11,730
that's that's pretty bizarre let's find

1158
00:47:09,869 --> 00:47:14,489
out why that's happening so when we

1159
00:47:11,730 --> 00:47:17,130
first enter into the high space where

1160
00:47:14,489 --> 00:47:21,000
does the entity think it is entity high

1161
00:47:17,130 --> 00:47:24,720
let's see here and so moving into camera

1162
00:47:21,000 --> 00:47:27,059
space this is where it thinks it is at

1163
00:47:24,719 --> 00:47:28,649
zero zero right that's where it's

1164
00:47:27,059 --> 00:47:31,920
thinking the entity is at the moment

1165
00:47:28,650 --> 00:47:35,789
that's the camera space P right so let's

1166
00:47:31,920 --> 00:47:37,740
get out of here and double check that

1167
00:47:35,789 --> 00:47:41,190
we've made the end of the high frequency

1168
00:47:37,739 --> 00:47:44,250
here it is we set the low and the high

1169
00:47:41,190 --> 00:47:49,289
there so let's take a look here soared

1170
00:47:44,250 --> 00:47:53,369
like this let's see that low and high

1171
00:47:49,289 --> 00:47:55,199
like so so just taking a look here at

1172
00:47:53,369 --> 00:47:58,469
these values they all look very very

1173
00:47:55,199 --> 00:48:01,589
sane nothing particularly odd there I

1174
00:47:58,469 --> 00:48:08,159
will say if that's the offset negative 5

1175
00:48:01,590 --> 00:48:13,170
5 9 I am wondering a little bit is that

1176
00:48:08,159 --> 00:48:14,399
actually what it should be because I

1177
00:48:13,170 --> 00:48:15,780
guess I don't know exactly where that

1178
00:48:14,400 --> 00:48:18,030
well there might be that the cameras

1179
00:48:15,780 --> 00:48:20,340
there as well let's double check to see

1180
00:48:18,030 --> 00:48:21,810
what the camera state actually is so you

1181
00:48:20,340 --> 00:48:23,250
can see whether that's a sane value

1182
00:48:21,809 --> 00:48:24,779
right just want to make sure that that's

1183
00:48:23,250 --> 00:48:26,309
that's actually makes sense yes so

1184
00:48:24,780 --> 00:48:29,040
that's where the camera is so that all

1185
00:48:26,309 --> 00:48:31,469
worked out exactly as it should and then

1186
00:48:29,039 --> 00:48:33,809
we're going to come down here and we're

1187
00:48:31,469 --> 00:48:35,759
going to actually update the sword so

1188
00:48:33,809 --> 00:48:37,860
let's take a look at that call because

1189
00:48:35,760 --> 00:48:41,430
that's another thing that could do it so

1190
00:48:37,860 --> 00:48:49,430
if we take a look at our entity now like

1191
00:48:41,429 --> 00:48:53,460
so there we go okay so in here in entity

1192
00:48:49,429 --> 00:48:59,429
we still have reasonable

1193
00:48:53,460 --> 00:49:03,420
use for our high and our low values and

1194
00:48:59,429 --> 00:49:06,329
so I'm wondering how we end up with such

1195
00:49:03,420 --> 00:49:09,269
ridiculous stuff I'm guessing that

1196
00:49:06,329 --> 00:49:12,838
something happens in here that causes

1197
00:49:09,269 --> 00:49:14,699
that to occur so let's take a look

1198
00:49:12,838 --> 00:49:17,549
so inside move entity let's see what

1199
00:49:14,699 --> 00:49:20,329
happens in there when we do our movement

1200
00:49:17,550 --> 00:49:23,310
what's our DDP look like it's all zeroes

1201
00:49:20,329 --> 00:49:24,539
what's our new player P look like let's

1202
00:49:23,309 --> 00:49:26,730
take a look at what so let's just take a

1203
00:49:24,539 --> 00:49:32,009
look at what it's trying to do do play a

1204
00:49:26,730 --> 00:49:34,289
P that's a totally sane thing as far as

1205
00:49:32,010 --> 00:49:37,050
I can tell anyway so the desired

1206
00:49:34,289 --> 00:49:39,420
position so let's take a look what's

1207
00:49:37,050 --> 00:49:42,510
that player Delta what's the team in yep

1208
00:49:39,420 --> 00:49:43,950
all looks pretty good nothing

1209
00:49:42,510 --> 00:49:50,220
particularly out of the ordinary there

1210
00:49:43,949 --> 00:49:56,569
as far as I can tell anyway yeah so

1211
00:49:50,219 --> 00:49:59,879
entity hi P is totally sane values

1212
00:49:56,570 --> 00:50:01,380
totally sane values so now let's take a

1213
00:49:59,880 --> 00:50:03,720
look at what happens when we do our map

1214
00:50:01,380 --> 00:50:06,119
into chunk space when we Macan map into

1215
00:50:03,719 --> 00:50:08,759
chunk space we get another totally sane

1216
00:50:06,119 --> 00:50:10,829
value so that seems reasonable as well

1217
00:50:08,760 --> 00:50:13,260
and then when we go ahead and do this

1218
00:50:10,829 --> 00:50:15,858
let's see what happens here so we get

1219
00:50:13,260 --> 00:50:17,339
our new p or low end vp is gonna get set

1220
00:50:15,858 --> 00:50:21,059
so there we go

1221
00:50:17,338 --> 00:50:27,059
then let's take a look at that low

1222
00:50:21,059 --> 00:50:31,409
entity so and that's totally fine as

1223
00:50:27,059 --> 00:50:33,900
well so coming out of here this actually

1224
00:50:31,409 --> 00:50:37,710
looks all pretty good right nothing

1225
00:50:33,900 --> 00:50:40,530
weird actually happened to our guy so

1226
00:50:37,710 --> 00:50:43,409
I'm not sure why we ended up with such

1227
00:50:40,530 --> 00:50:44,880
ridiculous values there but we did

1228
00:50:43,409 --> 00:50:47,069
unless that was just a trick of the

1229
00:50:44,880 --> 00:50:49,070
debugger showing us wrong values which

1230
00:50:47,070 --> 00:50:52,970
could totally be the case obviously

1231
00:50:49,070 --> 00:50:54,630
let's go ahead and keep going with this

1232
00:50:52,969 --> 00:50:56,069
investigation because I'm not satisfied

1233
00:50:54,630 --> 00:50:58,858
that we have any idea what's going on at

1234
00:50:56,070 --> 00:51:00,539
this point all right so if I continue to

1235
00:50:58,858 --> 00:51:02,699
look at my low entities I could also

1236
00:51:00,539 --> 00:51:04,199
look at my high Indy's I suppose here is

1237
00:51:02,699 --> 00:51:07,049
the high any index is high in the next

1238
00:51:04,199 --> 00:51:11,579
97 so what I could do is

1239
00:51:07,050 --> 00:51:13,289
say let's also take a look at it here so

1240
00:51:11,579 --> 00:51:22,230
what I want to do is say I've got my

1241
00:51:13,289 --> 00:51:23,279
game state oh you know what I don't

1242
00:51:22,230 --> 00:51:24,170
think this has anything to do with it

1243
00:51:23,280 --> 00:51:27,300
but I just thought of something

1244
00:51:24,170 --> 00:51:30,030
particularly ugly that we definitely

1245
00:51:27,300 --> 00:51:31,800
probably that we that it's gonna cause

1246
00:51:30,030 --> 00:51:34,140
problems at some point although I don't

1247
00:51:31,800 --> 00:51:35,400
know if that's some point is anywhere

1248
00:51:34,139 --> 00:51:37,199
near now but I just thought of something

1249
00:51:35,400 --> 00:51:41,369
really gross I don't even want to say it

1250
00:51:37,199 --> 00:51:45,899
it's so bad the things I do for the

1251
00:51:41,369 --> 00:51:46,289
stream things I do for the stream all

1252
00:51:45,900 --> 00:51:53,300
right

1253
00:51:46,289 --> 00:51:55,429
no that's one high end of these is that

1254
00:51:53,300 --> 00:52:00,330
like that there we go

1255
00:51:55,429 --> 00:52:02,009
so this is our high entity and we can

1256
00:52:00,329 --> 00:52:05,009
delete all this stuff and just look at

1257
00:52:02,010 --> 00:52:09,330
our high D and our low entity for this

1258
00:52:05,010 --> 00:52:12,800
guy great so here's our sword our full

1259
00:52:09,329 --> 00:52:16,139
description of the sword using totally

1260
00:52:12,800 --> 00:52:20,850
hard offsets so we can just kind of see

1261
00:52:16,139 --> 00:52:24,960
as we go what's gonna happen there

1262
00:52:20,849 --> 00:52:27,569
so let's find out when that craziness

1263
00:52:24,960 --> 00:52:30,000
actually occurs here's the drawing code

1264
00:52:27,570 --> 00:52:33,360
that's fine so now we're gonna have to

1265
00:52:30,000 --> 00:52:38,639
step back into basically game update

1266
00:52:33,360 --> 00:52:40,860
render write game update and render so

1267
00:52:38,639 --> 00:52:44,009
we're gonna have to see coming through

1268
00:52:40,860 --> 00:52:45,720
here I assume we're still all good we go

1269
00:52:44,010 --> 00:52:48,810
through our controller index we haven't

1270
00:52:45,719 --> 00:52:52,049
done anything so there's nothing weird

1271
00:52:48,809 --> 00:52:56,039
that has to happen here let's see you've

1272
00:52:52,050 --> 00:52:58,800
got the low entities are fine yep

1273
00:52:56,039 --> 00:53:01,800
nothing weird there again this is all

1274
00:52:58,800 --> 00:53:04,140
fine and our entity is still totally

1275
00:53:01,800 --> 00:53:06,420
sane it's not in its rediculous state

1276
00:53:04,139 --> 00:53:08,819
that it was and so now when we come

1277
00:53:06,420 --> 00:53:11,460
through here and we're going to go ahead

1278
00:53:08,820 --> 00:53:13,470
and do our set camera call I assume this

1279
00:53:11,460 --> 00:53:15,840
is where we get the weirdness where the

1280
00:53:13,469 --> 00:53:17,669
entity goes haywire although I still

1281
00:53:15,840 --> 00:53:20,309
have not been able to determine why that

1282
00:53:17,670 --> 00:53:21,568
would happen we're gonna see if we can

1283
00:53:20,309 --> 00:53:24,239
find it

1284
00:53:21,568 --> 00:53:27,809
so we get the camera bounds let me step

1285
00:53:24,239 --> 00:53:29,189
into the check the frequency check and

1286
00:53:27,809 --> 00:53:31,588
then we're gonna go through and start

1287
00:53:29,190 --> 00:53:34,200
actually checking these and we checked

1288
00:53:31,588 --> 00:53:36,179
them and they probably should all be

1289
00:53:34,199 --> 00:53:39,000
valid I would say right

1290
00:53:36,179 --> 00:53:40,259
I would think they'd all be valid so I'm

1291
00:53:39,000 --> 00:53:42,659
gonna set a breakpoint at the end of

1292
00:53:40,260 --> 00:53:44,609
this function just let it run through

1293
00:53:42,659 --> 00:53:48,598
there and so it was able to go through

1294
00:53:44,608 --> 00:53:50,400
that no problem so that wasn't where we

1295
00:53:48,599 --> 00:53:52,349
got made low frequency so the first time

1296
00:53:50,400 --> 00:53:54,900
through set camera was actually not a

1297
00:53:52,349 --> 00:53:58,740
problem which is kind of interesting

1298
00:53:54,900 --> 00:54:03,420
right that's that's actually pretty

1299
00:53:58,739 --> 00:54:07,828
pretty unusual yeah that's that's

1300
00:54:03,420 --> 00:54:09,930
bizarre but okay so off we go and then

1301
00:54:07,829 --> 00:54:13,050
so when we finally do it I don't know

1302
00:54:09,929 --> 00:54:15,568
how long it has been since that has

1303
00:54:13,050 --> 00:54:18,119
happened that's kind of weird right this

1304
00:54:15,568 --> 00:54:20,818
happens at some point but we're not

1305
00:54:18,119 --> 00:54:22,559
really sure when it's not in the first

1306
00:54:20,818 --> 00:54:25,889
time we call offset and check frequency

1307
00:54:22,559 --> 00:54:27,900
by area it's in some time sometime quite

1308
00:54:25,889 --> 00:54:30,539
thereafter so I'm guessing that that

1309
00:54:27,900 --> 00:54:33,210
might mean that it's only when we do

1310
00:54:30,539 --> 00:54:35,460
that change location because the change

1311
00:54:33,210 --> 00:54:37,409
location call would cause that to happen

1312
00:54:35,460 --> 00:54:39,269
it looks like it was happening a lot

1313
00:54:37,409 --> 00:54:42,779
faster than that but I guess it wasn't

1314
00:54:39,269 --> 00:54:48,030
so if you remember right when we do our

1315
00:54:42,780 --> 00:54:51,740
update which is it's right somewhere

1316
00:54:48,030 --> 00:54:54,329
where is our update call update call

1317
00:54:51,739 --> 00:54:56,039
update call I wish I had a better way to

1318
00:54:54,329 --> 00:54:57,930
jump to functions in here I'm sure there

1319
00:54:56,039 --> 00:55:00,269
must be one by now I don't know what it

1320
00:54:57,929 --> 00:55:01,710
is in Visual Studio so it must be that

1321
00:55:00,269 --> 00:55:06,480
we're actually doing this

1322
00:55:01,710 --> 00:55:09,088
right Oh awesome

1323
00:55:06,480 --> 00:55:11,309
man I tell you I'm stream i'm always so

1324
00:55:09,088 --> 00:55:13,559
absent-minded so we still left this in

1325
00:55:11,309 --> 00:55:15,809
there why did i leave that in there i

1326
00:55:13,559 --> 00:55:17,730
said specifically that that was just a

1327
00:55:15,809 --> 00:55:19,980
quick hack and then like here's the

1328
00:55:17,730 --> 00:55:24,389
other thing we should do and then there

1329
00:55:19,980 --> 00:55:27,289
I go like totally leaving it in there oh

1330
00:55:24,389 --> 00:55:27,289
man that's hilarious

1331
00:55:30,349 --> 00:55:34,809
yeah the number of typos I have on the

1332
00:55:32,909 --> 00:55:37,509
stream is awful

1333
00:55:34,809 --> 00:55:39,400
I assume we've had some legitimate bugs

1334
00:55:37,510 --> 00:55:43,060
so far but man the time I spend on the

1335
00:55:39,400 --> 00:55:45,250
typos is way worse I don't know I kind

1336
00:55:43,059 --> 00:55:47,259
of need I need some kind of a thing for

1337
00:55:45,250 --> 00:55:48,969
for I got to figure out how I can talk

1338
00:55:47,260 --> 00:55:50,890
and pay attention to my own code at the

1339
00:55:48,969 --> 00:55:53,739
same time I'm not really sure how to do

1340
00:55:50,889 --> 00:55:58,329
that okay let's get back to where we

1341
00:55:53,739 --> 00:56:01,629
were before that ridiculousness all

1342
00:55:58,329 --> 00:56:05,849
right so there's the high frequency and

1343
00:56:01,630 --> 00:56:08,110
there it goes man that was so annoying

1344
00:56:05,849 --> 00:56:11,409
all right so that's actually correct

1345
00:56:08,110 --> 00:56:12,970
that should be low frequency so that's

1346
00:56:11,409 --> 00:56:15,069
fine I want to see if I can repair that

1347
00:56:12,969 --> 00:56:17,079
bug again without that ridiculous being

1348
00:56:15,070 --> 00:56:20,140
in there just so I guess because that

1349
00:56:17,079 --> 00:56:25,119
was probably the entirety of the bug so

1350
00:56:20,139 --> 00:56:28,569
lame yeah so there's one thing that we

1351
00:56:25,119 --> 00:56:32,980
are doing at the moment though that's a

1352
00:56:28,570 --> 00:56:34,870
little annoying which is I feel like I

1353
00:56:32,980 --> 00:56:36,730
don't know exactly how I was able to do

1354
00:56:34,869 --> 00:56:38,380
that but that's pretty cool we don't

1355
00:56:36,730 --> 00:56:40,329
actually ensure that we set the position

1356
00:56:38,380 --> 00:56:42,160
back to where it was so I'm actually

1357
00:56:40,329 --> 00:56:46,299
able to do kind of a cool hook shot

1358
00:56:42,159 --> 00:56:49,359
thing here sometimes like right there so

1359
00:56:46,300 --> 00:56:52,539
that means basically if you look at the

1360
00:56:49,360 --> 00:56:53,890
order it's kind of interesting so this

1361
00:56:52,539 --> 00:56:55,779
is something that we need we've been

1362
00:56:53,889 --> 00:56:57,039
needing to do for a while and that's the

1363
00:56:55,780 --> 00:56:59,019
first time we've actually had this

1364
00:56:57,039 --> 00:57:01,000
happen so if you think about the order

1365
00:56:59,019 --> 00:57:03,449
of operations here everyone's getting

1366
00:57:01,000 --> 00:57:06,250
updated in a particularly coherent way

1367
00:57:03,449 --> 00:57:08,799
except for this ridiculousness this is

1368
00:57:06,250 --> 00:57:11,980
totally outside of the we update the

1369
00:57:08,800 --> 00:57:14,200
player inside this this thing where

1370
00:57:11,980 --> 00:57:16,590
we're processing the input in a total in

1371
00:57:14,199 --> 00:57:18,759
a way that doesn't actually ensure that

1372
00:57:16,590 --> 00:57:20,620
things that should have happened to the

1373
00:57:18,760 --> 00:57:22,930
sword for example actually have happened

1374
00:57:20,619 --> 00:57:24,849
to the sword already so the set camera

1375
00:57:22,929 --> 00:57:27,149
call for example hasn't happened which

1376
00:57:24,849 --> 00:57:30,460
means that you could if you wanted to

1377
00:57:27,150 --> 00:57:34,389
end up getting the low entity of the

1378
00:57:30,460 --> 00:57:40,150
sword and having the low swords P B not

1379
00:57:34,389 --> 00:57:42,969
valid right but it still wouldn't

1380
00:57:40,150 --> 00:57:45,639
actually be outside of the high entity

1381
00:57:42,969 --> 00:57:47,259
set right because it hadn't got moved

1382
00:57:45,639 --> 00:57:49,210
out of there yet which means that its

1383
00:57:47,260 --> 00:57:51,610
position in high entity space this

1384
00:57:49,210 --> 00:57:53,740
wouldn't actually trigger anything right

1385
00:57:51,610 --> 00:57:55,750
which wouldn't move which wouldn't

1386
00:57:53,739 --> 00:57:57,069
restore its position I know this is

1387
00:57:55,750 --> 00:58:00,670
particularly a weird thing to think

1388
00:57:57,070 --> 00:58:02,320
about but basically you could think of

1389
00:58:00,670 --> 00:58:06,010
us as a bug in one of two different ways

1390
00:58:02,320 --> 00:58:07,780
one is that the order of operations is

1391
00:58:06,010 --> 00:58:09,760
odd and that's something that we have to

1392
00:58:07,780 --> 00:58:11,560
sort of work out because we kind of have

1393
00:58:09,760 --> 00:58:13,120
this done piecemeal here so one thing

1394
00:58:11,559 --> 00:58:15,070
that we do kind of want to do is collect

1395
00:58:13,119 --> 00:58:16,949
our user input and then we want to

1396
00:58:15,070 --> 00:58:27,610
update the player in a coherent way

1397
00:58:16,949 --> 00:58:29,589
outside here right so that's one thing

1398
00:58:27,610 --> 00:58:33,550
the other thing that we want to be able

1399
00:58:29,590 --> 00:58:35,050
to do is when we change a location we

1400
00:58:33,550 --> 00:58:37,000
kind of have this problem where if you

1401
00:58:35,050 --> 00:58:39,610
change a location and the entity has a

1402
00:58:37,000 --> 00:58:41,559
representation in high space we want

1403
00:58:39,610 --> 00:58:43,420
those to say in sync and right now those

1404
00:58:41,559 --> 00:58:45,279
can easily get out of sync and so the

1405
00:58:43,420 --> 00:58:47,380
question is how do we design our system

1406
00:58:45,280 --> 00:58:50,019
so that those don't get out of sync

1407
00:58:47,380 --> 00:58:54,340
right and that's kind of a tricky

1408
00:58:50,019 --> 00:58:56,079
problem again this is the reason why I'm

1409
00:58:54,340 --> 00:58:57,610
trying to do the having two different

1410
00:58:56,079 --> 00:58:59,049
sets of entity updates it's because you

1411
00:58:57,610 --> 00:59:00,130
can see it's a lot more complicated to

1412
00:58:59,050 --> 00:59:02,800
write the code this way than it would be

1413
00:59:00,130 --> 00:59:06,070
if we didn't do this and so I'm trying

1414
00:59:02,800 --> 00:59:08,740
to whenever I can I'm trying to pick the

1415
00:59:06,070 --> 00:59:11,650
most complicated type of thing you might

1416
00:59:08,739 --> 00:59:13,389
have to do and do it that way to show

1417
00:59:11,650 --> 00:59:16,240
how you work through all of the problems

1418
00:59:13,389 --> 00:59:17,769
that are involved in it right because I

1419
00:59:16,239 --> 00:59:19,299
want to show how you can make any

1420
00:59:17,769 --> 00:59:21,940
systems that scale up to huge numbers of

1421
00:59:19,300 --> 00:59:23,800
entities even if we could save a lot of

1422
00:59:21,940 --> 00:59:26,349
time by not doing that I don't really

1423
00:59:23,800 --> 00:59:28,390
want to go that route so I would rather

1424
00:59:26,349 --> 00:59:31,599
spend the time for exactly how to work

1425
00:59:28,389 --> 00:59:33,279
through those things so there you go so

1426
00:59:31,599 --> 00:59:35,589
I think that's what we want to probably

1427
00:59:33,280 --> 00:59:38,470
focus on next time I would say that's

1428
00:59:35,590 --> 00:59:40,720
gonna be our to do for tomorrow is to

1429
00:59:38,469 --> 00:59:42,369
sort of okay now that we have a real

1430
00:59:40,719 --> 00:59:45,789
relatively complicated situation

1431
00:59:42,369 --> 00:59:46,960
happening here where we can see the

1432
00:59:45,789 --> 00:59:49,360
consequence of things I would say

1433
00:59:46,960 --> 00:59:51,880
tomorrow's goal is to pull out this code

1434
00:59:49,360 --> 00:59:54,370
and streamline it so that we can have a

1435
00:59:51,880 --> 00:59:57,070
sane system for dealing with positions

1436
00:59:54,369 --> 00:59:58,929
where we're not going to get bugs in

1437
00:59:57,070 --> 01:00:00,250
terms of things moving in and out of the

1438
00:59:58,929 --> 01:00:01,328
high and they set like that like what

1439
01:00:00,250 --> 01:00:04,119
can we do

1440
01:00:01,329 --> 01:00:06,039
to basically increase the usability of

1441
01:00:04,119 --> 01:00:10,358
that system so I'm gonna put it to do in

1442
01:00:06,039 --> 01:00:13,089
here do for tomorrow basically what

1443
01:00:10,358 --> 01:00:20,578
we're gonna do is say now that we have

1444
01:00:13,088 --> 01:00:26,380
some real usage examples let's solidify

1445
01:00:20,579 --> 01:00:30,099
the positioning system okay and that'll

1446
01:00:26,380 --> 01:00:35,130
be fine for you tomorrow so let's go

1447
01:00:30,099 --> 01:00:37,539
ahead and go to the Q and a please

1448
01:00:35,130 --> 01:00:40,269
prefix your questions with Q : so I will

1449
01:00:37,539 --> 01:00:41,769
see them and if you could keep it to

1450
01:00:40,268 --> 01:00:42,909
stuff we've done today stream or on a

1451
01:00:41,768 --> 01:00:44,858
previous stream if you want to ask

1452
01:00:42,909 --> 01:00:47,199
off-topic questions that's okay for the

1453
01:00:44,858 --> 01:00:48,248
pre stream but not post stream so if you

1454
01:00:47,199 --> 01:00:49,808
want to a soft-top of questions come

1455
01:00:48,248 --> 01:00:50,858
back tomorrow 15 minutes before the

1456
01:00:49,809 --> 01:00:55,509
stream scheduled to start

1457
01:00:50,858 --> 01:00:58,208
that's 7:45 Pacific Standard Time 7:45

1458
01:00:55,509 --> 01:00:59,498
p.m. Pacific save time if you want to

1459
01:00:58,208 --> 01:01:00,899
ask off-topic questions that's when we

1460
01:00:59,498 --> 01:01:03,548
do it

1461
01:01:00,900 --> 01:01:06,880
he'll shame do you think that's the I

1462
01:01:03,548 --> 01:01:09,759
love shame I don't know I tend to not to

1463
01:01:06,880 --> 01:01:11,890
a love shame myself if I make a typo

1464
01:01:09,759 --> 01:01:13,478
because like I don't know I I feel like

1465
01:01:11,889 --> 01:01:15,969
well I don't know we could do a love

1466
01:01:13,478 --> 01:01:17,618
shame I'm fine with the a love shame for

1467
01:01:15,969 --> 01:01:19,690
that but that really wasn't much of a

1468
01:01:17,619 --> 01:01:21,489
bug that was just me having typed

1469
01:01:19,690 --> 01:01:23,409
something in and forgetting which is

1470
01:01:21,489 --> 01:01:24,728
really easy to do on the stream so I

1471
01:01:23,409 --> 01:01:27,608
don't feel like that was a legitimate

1472
01:01:24,728 --> 01:01:29,788
mental bug like I architected the system

1473
01:01:27,608 --> 01:01:31,778
wrong or other things like that but I'm

1474
01:01:29,789 --> 01:01:35,549
okay with Alice name for that I just

1475
01:01:31,778 --> 01:01:35,548
don't know how deserve it it really was

1476
01:01:39,860 --> 01:01:49,599
do I ever use GDB yeah on Linux I do do

1477
01:01:46,789 --> 01:01:54,070
you test more than just using asserts

1478
01:01:49,599 --> 01:01:54,069
sometimes it depends on what the code is

1479
01:01:57,400 --> 01:02:01,519
why did you create a struct for each

1480
01:01:59,570 --> 01:02:04,940
vector type instead of using plain float

1481
01:02:01,519 --> 01:02:06,769
arrays the reason is because I like to

1482
01:02:04,940 --> 01:02:09,470
be able to overload to have math

1483
01:02:06,769 --> 01:02:12,289
operators so basically if you take a

1484
01:02:09,469 --> 01:02:14,959
look at if you take a look at handmade

1485
01:02:12,289 --> 01:02:17,449
mat you can see that we actually do

1486
01:02:14,960 --> 01:02:19,760
operators for stuff like x and that sort

1487
01:02:17,449 --> 01:02:21,710
of thing and the reason for that is to

1488
01:02:19,760 --> 01:02:24,170
make it easier to read so let's say

1489
01:02:21,710 --> 01:02:27,769
you've got some code right and I have v2

1490
01:02:24,170 --> 01:02:31,639
a and I have v2 b or whatever right like

1491
01:02:27,769 --> 01:02:34,940
this it's much easier to read a times B

1492
01:02:31,639 --> 01:02:39,650
like this right let's say five times B

1493
01:02:34,940 --> 01:02:41,210
equals three plus a C right that's very

1494
01:02:39,650 --> 01:02:42,559
easy to read

1495
01:02:41,210 --> 01:02:45,199
the equivalent if you would just use

1496
01:02:42,559 --> 01:02:49,880
float arrays is very very difficult to

1497
01:02:45,199 --> 01:02:51,889
read it looks like this it's you know

1498
01:02:49,880 --> 01:02:53,750
mul or whatever you want to call it a

1499
01:02:51,889 --> 01:02:57,769
scale vector I think I've often called

1500
01:02:53,750 --> 01:03:09,289
it scale like that so it would look like

1501
01:02:57,769 --> 01:03:13,309
this these would obviously all be floats

1502
01:03:09,289 --> 01:03:17,929
so you would end up with float a to look

1503
01:03:13,309 --> 01:03:23,480
B of two like so float C of two and so

1504
01:03:17,929 --> 01:03:25,690
you do see that you'd have to multiply

1505
01:03:23,480 --> 01:03:28,369
it that way so five times B goes into C

1506
01:03:25,690 --> 01:03:30,260
three times a goes into and these would

1507
01:03:28,369 --> 01:03:39,139
actually I guess you'd do them temp 1

1508
01:03:30,260 --> 01:03:41,150
and temp 2 right look 10 110 to so so

1509
01:03:39,139 --> 01:03:47,529
you got temp one tip to you do those two

1510
01:03:41,150 --> 01:03:47,530
then you do an ad and you do see

1511
01:03:48,190 --> 01:03:54,519
temp.1 temptu right that's what the code

1512
01:03:51,460 --> 01:03:56,619
looks like so that's why you don't use

1513
01:03:54,519 --> 01:03:57,730
float arrays is because you know which

1514
01:03:56,619 --> 01:04:02,829
do you want to be able to read in your

1515
01:03:57,730 --> 01:04:04,210
code that or that right and so just

1516
01:04:02,829 --> 01:04:07,240
looking at them even without any

1517
01:04:04,210 --> 01:04:08,849
declarations on them you can see that

1518
01:04:07,239 --> 01:04:12,088
this is just really hard to read

1519
01:04:08,849 --> 01:04:12,088
compared to this

1520
01:04:23,599 --> 01:04:27,298
do you think version control would help

1521
01:04:25,829 --> 01:04:29,269
when you go off on a tangent for the

1522
01:04:27,298 --> 01:04:31,440
stream you can roll back hacks like that

1523
01:04:29,269 --> 01:04:34,588
not unless you're gonna check in like

1524
01:04:31,440 --> 01:04:45,780
every 10 seconds so no I don't really

1525
01:04:34,588 --> 01:04:47,009
think version control would help have

1526
01:04:45,780 --> 01:04:48,569
question but that hook shot thing

1527
01:04:47,010 --> 01:04:50,579
actually looked like it would be kind of

1528
01:04:48,568 --> 01:04:53,219
fun to play with I actually agree with

1529
01:04:50,579 --> 01:04:54,359
you so I should probably I was thinking

1530
01:04:53,219 --> 01:04:56,818
that when I was playing us like I should

1531
01:04:54,358 --> 01:04:58,139
probably put this in the game somehow so

1532
01:04:56,818 --> 01:05:00,779
I'll have to try and remember to add

1533
01:04:58,139 --> 01:05:05,400
that in fact I guess I'll add that right

1534
01:05:00,780 --> 01:05:08,309
now to my reminders file I have my game

1535
01:05:05,400 --> 01:05:12,019
player reminders file here and so I

1536
01:05:08,309 --> 01:05:16,740
could go ahead and do that so we'll say

1537
01:05:12,019 --> 01:05:20,969
basically bendable shot which allows you

1538
01:05:16,739 --> 01:05:24,118
to change direction of the shot once or

1539
01:05:20,969 --> 01:05:25,709
something like this I'm not sure how

1540
01:05:24,119 --> 01:05:30,510
that would work out in practice but I

1541
01:05:25,710 --> 01:05:32,220
agree it was kind of fun what are your

1542
01:05:30,510 --> 01:05:35,910
feelings on the vector multiply operator

1543
01:05:32,219 --> 01:05:41,009
performing a dot product I don't love it

1544
01:05:35,909 --> 01:05:42,989
I tend to use inner for that but given

1545
01:05:41,010 --> 01:05:46,770
the fact that like all shader languages

1546
01:05:42,989 --> 01:05:48,088
now do it that way no they don't

1547
01:05:46,769 --> 01:05:50,639
actually they do the Hadamard product

1548
01:05:48,088 --> 01:05:55,230
don't they yeah so I would actually say

1549
01:05:50,639 --> 01:05:56,848
double double bad I would say that it's

1550
01:05:55,230 --> 01:05:58,318
probably real dangerous to have vector

1551
01:05:56,849 --> 01:06:00,539
multiply perform a dot product because

1552
01:05:58,318 --> 01:06:02,250
shading languages I'm pretty sure they

1553
01:06:00,539 --> 01:06:04,139
use the Hadamard product if you use the

1554
01:06:02,250 --> 01:06:05,608
multiply operator so now if you're in a

1555
01:06:04,139 --> 01:06:06,900
shading language you're gonna read those

1556
01:06:05,608 --> 01:06:08,098
and think they're dot products because

1557
01:06:06,900 --> 01:06:09,389
your brains been like train to that

1558
01:06:08,099 --> 01:06:11,338
you're constantly like oh wait no and

1559
01:06:09,389 --> 01:06:14,159
the shading language is not so I'd be

1560
01:06:11,338 --> 01:06:15,568
real careful I would not I would not

1561
01:06:14,159 --> 01:06:17,308
have vector multiply perform a dot

1562
01:06:15,568 --> 01:06:19,318
product personally I don't think vector

1563
01:06:17,309 --> 01:06:20,309
multiply should even be defined I think

1564
01:06:19,318 --> 01:06:22,500
you should have to say which kind of

1565
01:06:20,309 --> 01:06:24,869
product do you want just to avoid

1566
01:06:22,500 --> 01:06:25,920
mistakes but if you were going to define

1567
01:06:24,869 --> 01:06:27,180
one I'd say you'd probably have to

1568
01:06:25,920 --> 01:06:28,470
define two the Hadamard product because

1569
01:06:27,179 --> 01:06:30,808
otherwise every time you switch between

1570
01:06:28,469 --> 01:06:32,129
shader and your code you have to do a

1571
01:06:30,809 --> 01:06:35,930
mental swap and you're gonna make

1572
01:06:32,130 --> 01:06:35,930
mistakes I think I know I would

1573
01:06:36,719 --> 01:06:40,839
do you keep your assertions for release

1574
01:06:38,980 --> 01:06:44,590
code if not at what point do you remove

1575
01:06:40,840 --> 01:06:49,030
them release mode by definition compiles

1576
01:06:44,590 --> 01:06:50,530
out the assertions so yeah I mean the

1577
01:06:49,030 --> 01:06:52,660
the final version of the code just has

1578
01:06:50,530 --> 01:06:53,920
that assertions compiled out the pound

1579
01:06:52,659 --> 01:06:55,899
if you pound to find the assertion to

1580
01:06:53,920 --> 01:07:01,930
not be anything and that's the thing you

1581
01:06:55,900 --> 01:07:05,349
ship why wouldn't you encapsulate each

1582
01:07:01,929 --> 01:07:06,789
entity type into its separate classes so

1583
01:07:05,349 --> 01:07:08,409
we haven't quite gotten there yet I

1584
01:07:06,789 --> 01:07:09,909
would say you're gonna have to come back

1585
01:07:08,409 --> 01:07:11,259
in like a week or two when we're

1586
01:07:09,909 --> 01:07:13,179
actually talking about how we want to

1587
01:07:11,260 --> 01:07:15,430
break down the immune system so I can

1588
01:07:13,179 --> 01:07:17,259
explain to you why you don't do that

1589
01:07:15,429 --> 01:07:19,210
we haven't actually made any system yet

1590
01:07:17,260 --> 01:07:21,100
so even if I was going to do that I

1591
01:07:19,210 --> 01:07:22,750
wouldn't have done it yet because it's

1592
01:07:21,099 --> 01:07:24,940
too early to start thinking about what

1593
01:07:22,750 --> 01:07:26,199
should be an entity class or what the

1594
01:07:24,940 --> 01:07:30,490
different end of classes should be like

1595
01:07:26,199 --> 01:07:32,109
sword or Pierrot or whatever so even if

1596
01:07:30,489 --> 01:07:33,429
I was a fan of object-oriented

1597
01:07:32,110 --> 01:07:37,090
programming and inheritance and stuff

1598
01:07:33,429 --> 01:07:40,239
like that I wouldn't do it yet I would

1599
01:07:37,090 --> 01:07:44,050
wait until I have more done and see how

1600
01:07:40,239 --> 01:07:46,209
things should break apart but even that

1601
01:07:44,050 --> 01:07:48,519
said when we get to that time I will not

1602
01:07:46,210 --> 01:07:50,230
be doing that because there's I don't

1603
01:07:48,519 --> 01:07:51,909
like that concept that you're talking

1604
01:07:50,230 --> 01:07:53,500
about just in general the concept that

1605
01:07:51,909 --> 01:07:56,199
like a sword has a sword class I

1606
01:07:53,500 --> 01:07:57,369
strongly dislike I don't think that's a

1607
01:07:56,199 --> 01:08:00,429
good program model I don't think it's

1608
01:07:57,369 --> 01:08:02,589
very efficient for game development so

1609
01:08:00,429 --> 01:08:04,089
so I don't do that even so but you'll

1610
01:08:02,590 --> 01:08:05,530
have to come back later if you want to

1611
01:08:04,090 --> 01:08:07,059
talk about that more because I'm that's

1612
01:08:05,530 --> 01:08:09,420
something we'll be getting into in a lot

1613
01:08:07,059 --> 01:08:09,420
of detail

1614
01:08:21,560 --> 01:08:26,330
and Tom Forsythe is backing me up on the

1615
01:08:24,770 --> 01:08:27,830
shading language thing that the Hadamard

1616
01:08:26,329 --> 01:08:29,930
product is the standard product in the

1617
01:08:27,829 --> 01:08:34,189
shading language so basically yeah like

1618
01:08:29,930 --> 01:08:36,230
I would say I would say it's it's pretty

1619
01:08:34,189 --> 01:08:38,358
darn sketch to overload the multiply

1620
01:08:36,229 --> 01:08:39,949
operator to be dot product because man

1621
01:08:38,359 --> 01:08:43,039
you're gonna be in a world for a world

1622
01:08:39,949 --> 01:08:45,789
of hurt when you switch between that and

1623
01:08:43,039 --> 01:08:49,250
hlsl or that and GLSL or whatever right

1624
01:08:45,789 --> 01:08:53,088
did you add the quick calc hotkey no I

1625
01:08:49,250 --> 01:09:00,649
didn't I probably should quick calc is

1626
01:08:53,088 --> 01:09:03,619
pretty cool what would I use I got a I

1627
01:09:00,649 --> 01:09:08,088
don't have many keys free is one problem

1628
01:09:03,619 --> 01:09:13,489
right so I don't really know let's take

1629
01:09:08,088 --> 01:09:20,000
a look at the dot Emacs file I don't

1630
01:09:13,489 --> 01:09:22,028
know what Keys I have free um let's see

1631
01:09:20,000 --> 01:09:22,029
here

1632
01:09:29,979 --> 01:09:38,709
yeah maximize frame could probably go

1633
01:09:33,529 --> 01:09:38,710
away I don't really use that anymore I

1634
01:09:39,069 --> 01:09:47,180
used those fairly frequently next let's

1635
01:09:43,069 --> 01:09:49,580
go to that I use I menu undo up case

1636
01:09:47,180 --> 01:09:51,920
word I don't really use nor capitalized

1637
01:09:49,579 --> 01:09:54,649
word fill paragraph I do though replace

1638
01:09:51,920 --> 01:09:58,069
in region start keyboard macros

1639
01:09:54,649 --> 01:10:00,679
all-important kill this buffer always

1640
01:09:58,069 --> 01:10:04,239
use those make that asking yeah so I

1641
01:10:00,680 --> 01:10:10,060
could probably use lose maximize frame

1642
01:10:04,239 --> 01:10:12,439
so all P could be quick calc that is

1643
01:10:10,060 --> 01:10:14,870
plausible because that's not really

1644
01:10:12,439 --> 01:10:19,519
doing anything so we could do quick cap

1645
01:10:14,869 --> 01:10:21,859
like so you val region so we could do

1646
01:10:19,520 --> 01:10:23,660
that so let's let's go ahead and try

1647
01:10:21,859 --> 01:10:27,339
that we'll try that out so yeah that

1648
01:10:23,659 --> 01:10:32,019
goes let's see how it works 3 plus 5

1649
01:10:27,340 --> 01:10:32,020
equals 8 well done max

1650
01:10:32,099 --> 01:10:39,069
is XML fair game in this project it's

1651
01:10:36,519 --> 01:10:43,059
not a library but it still might not be

1652
01:10:39,069 --> 01:10:45,609
handmade enough well it would be fine if

1653
01:10:43,059 --> 01:10:47,469
you wanted to like load and XML file by

1654
01:10:45,609 --> 01:10:50,828
writing the parser yourself

1655
01:10:47,469 --> 01:10:54,929
that's certainly handmade right I don't

1656
01:10:50,828 --> 01:10:59,469
know why we would ever want to do that

1657
01:10:54,929 --> 01:11:00,760
but you know the the handmade part just

1658
01:10:59,469 --> 01:11:03,460
means we write everything with no

1659
01:11:00,760 --> 01:11:05,739
libraries so as long as you parse the

1660
01:11:03,460 --> 01:11:07,300
XML file yourself using your own code

1661
01:11:05,738 --> 01:11:10,689
with your own partial that you wrote by

1662
01:11:07,300 --> 01:11:17,469
hand that would be legal by these

1663
01:11:10,689 --> 01:11:21,158
standards of handmade hero so it looks

1664
01:11:17,469 --> 01:11:23,618
like we are done with questions pretty

1665
01:11:21,158 --> 01:11:25,679
early in fact if I'm not very much

1666
01:11:23,618 --> 01:11:25,679
mistaken

1667
01:11:33,310 --> 01:11:39,720
yeah all right well that was good

1668
01:11:44,779 --> 01:11:49,069
looks like we got one more that don't

1669
01:11:47,448 --> 01:11:51,469
you feel that low entities have already

1670
01:11:49,069 --> 01:11:53,090
too much extraneous stuff in them and it

1671
01:11:51,469 --> 01:11:54,710
would be time soon to split them and

1672
01:11:53,090 --> 01:12:02,719
also things like the sword might not

1673
01:11:54,710 --> 01:12:04,760
need the low part at all so it's not so

1674
01:12:02,719 --> 01:12:10,069
much that it that it wouldn't be

1675
01:12:04,760 --> 01:12:11,929
reasonable to split it now because there

1676
01:12:10,069 --> 01:12:12,889
is a fair bit of stuff in there and we

1677
01:12:11,929 --> 01:12:15,889
could start to think about how you want

1678
01:12:12,889 --> 01:12:18,349
to do it my fear is just that we haven't

1679
01:12:15,889 --> 01:12:20,719
gotten far enough with the types of

1680
01:12:18,349 --> 01:12:22,729
things that are in there so what I'd

1681
01:12:20,719 --> 01:12:24,769
like to see is I want to implement a few

1682
01:12:22,729 --> 01:12:26,809
more things so that I know that we have

1683
01:12:24,769 --> 01:12:29,840
like most of the types of stuff we would

1684
01:12:26,809 --> 01:12:31,400
care about in there some examples would

1685
01:12:29,840 --> 01:12:33,529
be like I'd want to have some property

1686
01:12:31,399 --> 01:12:35,828
transference like I want to be able to

1687
01:12:33,529 --> 01:12:38,090
have like like at a minimum right I

1688
01:12:35,828 --> 01:12:42,038
think what we want to have working

1689
01:12:38,090 --> 01:12:46,069
before we start writing any system is

1690
01:12:42,038 --> 01:12:47,389
there's a blue flame in the middle of

1691
01:12:46,069 --> 01:12:49,518
the screen and if you throw the sword

1692
01:12:47,389 --> 01:12:51,859
through it the sword picks up the blue

1693
01:12:49,519 --> 01:12:54,139
flame property and then when it hits the

1694
01:12:51,859 --> 01:12:56,679
monster it does blue flame damage or

1695
01:12:54,139 --> 01:12:58,729
something right and a minimum we want

1696
01:12:56,679 --> 01:13:00,710
transference of those sorts of things

1697
01:12:58,729 --> 01:13:02,210
happening in the entity system before we

1698
01:13:00,710 --> 01:13:03,679
would start to break it apart because if

1699
01:13:02,210 --> 01:13:05,510
we break it apart now we'll probably

1700
01:13:03,679 --> 01:13:06,139
make simplifying assumptions that are

1701
01:13:05,510 --> 01:13:08,599
wrong

1702
01:13:06,139 --> 01:13:11,449
because we haven't put enough complexity

1703
01:13:08,599 --> 01:13:13,010
in there so I want at least a little

1704
01:13:11,448 --> 01:13:14,629
more complexity in there and since we

1705
01:13:13,010 --> 01:13:17,510
have no reason why we have to break it

1706
01:13:14,630 --> 01:13:18,920
up now right there's nothing we don't

1707
01:13:17,510 --> 01:13:23,389
really care about our memory footman

1708
01:13:18,920 --> 01:13:25,010
footprint right now right we care about

1709
01:13:23,389 --> 01:13:27,078
our memory footprint way down the line

1710
01:13:25,010 --> 01:13:29,030
and so right now it's way easier just

1711
01:13:27,078 --> 01:13:30,768
have everything in that until we get as

1712
01:13:29,029 --> 01:13:33,078
much stuff in there as we can think of

1713
01:13:30,769 --> 01:13:35,599
that might be different like is they

1714
01:13:33,078 --> 01:13:37,429
disparate things we can and then it's

1715
01:13:35,599 --> 01:13:39,788
time to maybe break it apart and think

1716
01:13:37,429 --> 01:13:39,788
about it

1717
01:13:50,460 --> 01:13:57,329
what will we do at 3 p.m. PST when this

1718
01:13:53,699 --> 01:13:59,550
game is finished this game won't be

1719
01:13:57,329 --> 01:14:02,269
finished for like 2 years because we

1720
01:13:59,550 --> 01:14:04,680
only do an hour a day so I think you

1721
01:14:02,270 --> 01:14:07,080
really won't have to worry about that

1722
01:14:04,680 --> 01:14:10,680
for quite some time

1723
01:14:07,079 --> 01:14:12,210
right I mean we've got a little bit more

1724
01:14:10,680 --> 01:14:14,039
work to do a couple more weeks or

1725
01:14:12,210 --> 01:14:15,630
something on entity stuff that we want

1726
01:14:14,039 --> 01:14:18,840
to do then we've got maybe a week or two

1727
01:14:15,630 --> 01:14:21,119
on animation prototyping then we got to

1728
01:14:18,840 --> 01:14:23,090
write the renderer right that's going to

1729
01:14:21,119 --> 01:14:26,729
take several weeks to write the renderer

1730
01:14:23,090 --> 01:14:29,039
and then we're gonna come back and we're

1731
01:14:26,729 --> 01:14:30,839
gonna write the entity systems and stuff

1732
01:14:29,039 --> 01:14:32,460
that's gonna take several weeks then

1733
01:14:30,840 --> 01:14:34,460
we're gonna have to write you know some

1734
01:14:32,460 --> 01:14:36,659
sound stuff for some a couple of weeks

1735
01:14:34,460 --> 01:14:39,029
you know we're gonna be it's gonna be

1736
01:14:36,659 --> 01:14:40,920
June and we're only gonna be starting on

1737
01:14:39,029 --> 01:14:44,009
the game code right or something like

1738
01:14:40,920 --> 01:14:45,690
that and then there's tons of game to

1739
01:14:44,010 --> 01:14:47,100
write we got to write world gen we've

1740
01:14:45,689 --> 01:14:48,809
got to write all the properties that we

1741
01:14:47,100 --> 01:14:51,289
want we've got to write a eyes for the

1742
01:14:48,810 --> 01:14:54,480
monsters I mean in an hour at night

1743
01:14:51,289 --> 01:14:56,670
right so we are gonna be program this

1744
01:14:54,479 --> 01:14:58,679
game for a long time right it's gonna be

1745
01:14:56,670 --> 01:15:00,449
Christmas and we're gonna have only the

1746
01:14:58,680 --> 01:15:03,780
basic stuff working we're gonna have

1747
01:15:00,449 --> 01:15:06,119
like you know very you know half or less

1748
01:15:03,779 --> 01:15:07,380
of the game implemented and then it's

1749
01:15:06,119 --> 01:15:08,460
going to be the next Christmas and we'll

1750
01:15:07,380 --> 01:15:09,719
have most will implement or something

1751
01:15:08,460 --> 01:15:11,699
like that and then we'll still have to

1752
01:15:09,719 --> 01:15:14,520
do ship up shipping versions of the

1753
01:15:11,699 --> 01:15:18,679
win32 linux mac layers there's a lot of

1754
01:15:14,520 --> 01:15:20,730
work a lot of work ahead so so buckle up

1755
01:15:18,680 --> 01:15:24,090
are you happy with the current progress

1756
01:15:20,729 --> 01:15:26,399
yeah pretty happy actually because we've

1757
01:15:24,090 --> 01:15:30,420
only done so we've done like 62 hours of

1758
01:15:26,399 --> 01:15:33,389
programming right which is less than two

1759
01:15:30,420 --> 01:15:35,699
full weeks and we've already got you

1760
01:15:33,390 --> 01:15:37,530
know basic stuff working pretty well so

1761
01:15:35,699 --> 01:15:39,090
I'm pretty happy with the progress we'll

1762
01:15:37,529 --> 01:15:40,199
see how long the renderer takes I'm a

1763
01:15:39,090 --> 01:15:41,940
little nervous about how long the

1764
01:15:40,199 --> 01:15:43,889
renderer is gonna take but we'll see how

1765
01:15:41,939 --> 01:15:45,750
we do hopefully we do the renderer in a

1766
01:15:43,890 --> 01:15:46,890
reasonable amount of time if that if

1767
01:15:45,750 --> 01:15:50,750
that works out then I think we're in

1768
01:15:46,890 --> 01:15:50,750
good shape but what am I not

1769
01:15:58,819 --> 01:16:02,210
more than memory footprint I was

1770
01:16:00,439 --> 01:16:03,679
thinking about unwanted side effects ie

1771
01:16:02,210 --> 01:16:05,210
code that deals with the transfer

1772
01:16:03,680 --> 01:16:06,710
properties ends up triggering hard to

1773
01:16:05,210 --> 01:16:10,640
debunk shenanigans with the positioning

1774
01:16:06,710 --> 01:16:12,319
etc yeah I mean it's true that things

1775
01:16:10,640 --> 01:16:14,140
are harder to debug for us now because

1776
01:16:12,319 --> 01:16:16,250
we don't have any systems in place and

1777
01:16:14,140 --> 01:16:18,170
we don't have any debugging tools in

1778
01:16:16,250 --> 01:16:20,510
place either and so those will be things

1779
01:16:18,170 --> 01:16:23,840
that will get you know a little bit

1780
01:16:20,510 --> 01:16:25,789
further down the line but it's okay to

1781
01:16:23,840 --> 01:16:27,800
suffer through those right now because I

1782
01:16:25,789 --> 01:16:29,180
think it's it's not that hard to debug

1783
01:16:27,800 --> 01:16:31,489
stuff but most the time I'm done bugging

1784
01:16:29,180 --> 01:16:34,159
stuff it's a it's a typo at the moment

1785
01:16:31,489 --> 01:16:38,059
and unfortunately there's not a lot we

1786
01:16:34,159 --> 01:16:39,260
could do to fix that so I don't think

1787
01:16:38,060 --> 01:16:40,580
it's worth it right now to be doing

1788
01:16:39,260 --> 01:16:42,050
those sorts of things it's always a

1789
01:16:40,579 --> 01:16:43,789
tough call to make but I think it's

1790
01:16:42,050 --> 01:16:45,860
really not worth it to be doing that now

1791
01:16:43,789 --> 01:16:47,659
because the work that you'd be doing to

1792
01:16:45,859 --> 01:16:49,609
split apart low entity is all gonna be

1793
01:16:47,659 --> 01:16:51,829
wasted because all gonna be wrong if we

1794
01:16:49,609 --> 01:16:53,539
don't get more stuff in there and so

1795
01:16:51,829 --> 01:16:56,119
doing it to try to eliminate bugs I

1796
01:16:53,539 --> 01:17:06,260
think is a bad trade-off call that's

1797
01:16:56,119 --> 01:17:10,670
just my guess that it do we have any

1798
01:17:06,260 --> 01:17:17,020
more on top of questions mmm I do not

1799
01:17:10,670 --> 01:17:21,890
think so all right all right good deal

1800
01:17:17,020 --> 01:17:23,360
okay ladies and gentlemen thank you so

1801
01:17:21,890 --> 01:17:25,160
much for joining me for another episode

1802
01:17:23,359 --> 01:17:28,339
of hand made hero it was a pleasure

1803
01:17:25,159 --> 01:17:31,250
coding with you as always if you would

1804
01:17:28,340 --> 01:17:33,319
like to continue this adventure with me

1805
01:17:31,250 --> 01:17:35,630
I will be back here tomorrow at 8 p.m.

1806
01:17:33,319 --> 01:17:38,539
Pacific Standard Time same time same

1807
01:17:35,630 --> 01:17:40,369
place right here on Twitch and I would

1808
01:17:38,539 --> 01:17:42,229
love it if you could join me if you want

1809
01:17:40,369 --> 01:17:43,729
to follow along with the game at home

1810
01:17:42,229 --> 01:17:45,289
you can always just pre-order the game

1811
01:17:43,729 --> 01:17:47,449
and it comes with a source code which I

1812
01:17:45,289 --> 01:17:49,399
update every night so you can go ahead

1813
01:17:47,449 --> 01:17:50,949
and follow the video series and code

1814
01:17:49,399 --> 01:17:53,960
along with me to your heart's content

1815
01:17:50,949 --> 01:17:55,970
and and that's a pretty cool way to

1816
01:17:53,960 --> 01:17:57,590
learn from the stream if you are trying

1817
01:17:55,970 --> 01:17:59,570
to learn low-level game programming and

1818
01:17:57,590 --> 01:18:02,779
stuff like that it's a pretty easy way

1819
01:17:59,569 --> 01:18:04,670
to get started actually if you are new

1820
01:18:02,779 --> 01:18:05,960
to the series there's a bunch of stuff

1821
01:18:04,670 --> 01:18:07,909
we have a patreon you can subscribe to

1822
01:18:05,960 --> 01:18:11,420
if you want to support us that's always

1823
01:18:07,909 --> 01:18:12,739
very appreciated and if you're new to

1824
01:18:11,420 --> 01:18:14,000
the series also want to know

1825
01:18:12,739 --> 01:18:15,619
when what the broadcast schedule is we

1826
01:18:14,000 --> 01:18:17,239
have a little Twitter bot you can go

1827
01:18:15,619 --> 01:18:19,399
basically cami here our casts all the

1828
01:18:17,239 --> 01:18:21,229
links you can go to the tweets section

1829
01:18:19,399 --> 01:18:22,869
which is basically like a little bot

1830
01:18:21,229 --> 01:18:26,809
that tweets out the schedule every day

1831
01:18:22,869 --> 01:18:28,729
which is pretty handy and we also have a

1832
01:18:26,810 --> 01:18:30,039
great site the news and forum site which

1833
01:18:28,729 --> 01:18:32,179
I highly recommend checking out

1834
01:18:30,039 --> 01:18:33,710
basically it's got the schedule on the

1835
01:18:32,180 --> 01:18:35,750
front page you can keep track of that

1836
01:18:33,710 --> 01:18:37,760
it's got an episode guide so you can

1837
01:18:35,750 --> 01:18:38,960
kind of go through and go through old

1838
01:18:37,760 --> 01:18:41,119
episodes so if you wanna learn how to

1839
01:18:38,960 --> 01:18:42,380
set up a dev machine to follow along

1840
01:18:41,119 --> 01:18:43,909
with it with a stream if you want to

1841
01:18:42,380 --> 01:18:45,800
learn how to program the Windows

1842
01:18:43,909 --> 01:18:50,119
platform layer or everything that we've

1843
01:18:45,800 --> 01:18:51,260
done is in here and and it really makes

1844
01:18:50,119 --> 01:18:53,000
it much easier to catch up by going

1845
01:18:51,260 --> 01:18:54,710
through there we also have a coding

1846
01:18:53,000 --> 01:18:55,939
resources page which has some cool stuff

1847
01:18:54,710 --> 01:18:57,199
if you're looking to program on a

1848
01:18:55,939 --> 01:18:58,729
different platform people in the

1849
01:18:57,199 --> 01:19:00,409
community have already done ports to it

1850
01:18:58,729 --> 01:19:01,429
ahead of like we're gonna be doing that

1851
01:19:00,409 --> 01:19:03,139
later in this series but they've already

1852
01:19:01,430 --> 01:19:04,550
done it so if you're trying to follow

1853
01:19:03,140 --> 01:19:05,840
along on Linux or Mac that's the place

1854
01:19:04,550 --> 01:19:07,279
to do it and then of course there's our

1855
01:19:05,840 --> 01:19:10,220
code discussion board where you can ask

1856
01:19:07,279 --> 01:19:12,800
questions and stuff like that and I

1857
01:19:10,220 --> 01:19:14,150
answer them and also other people there

1858
01:19:12,800 --> 01:19:15,710
are other experienced programmers who

1859
01:19:14,149 --> 01:19:17,000
hang out on the boards and they answer

1860
01:19:15,710 --> 01:19:17,779
questions too so I highly recommend

1861
01:19:17,000 --> 01:19:19,640
checking that out if you're tryna learn

1862
01:19:17,779 --> 01:19:21,500
for you it's a great place to go so

1863
01:19:19,640 --> 01:19:23,750
thanks everyone for joining me I hope to

1864
01:19:21,500 --> 01:19:25,909
see you back here tomorrow again 8 p.m.

1865
01:19:23,750 --> 01:19:27,890
Pacific Standard Time right here on

1866
01:19:25,909 --> 01:19:29,869
twitch so hope see you back here

1867
01:19:27,890 --> 01:19:32,710
tomorrow and have a wonderful Wednesday

1868
01:19:29,869 --> 01:19:32,710
take it easy everyone

