1
00:00:01,370 --> 00:00:09,240
hello everyone and thank you for joining

2
00:00:04,620 --> 00:00:12,240
me for handmade hero today we are going

3
00:00:09,240 --> 00:00:15,059
to be doing lighting and we pretty much

4
00:00:12,240 --> 00:00:17,190
got lighting working last weekend's in

5
00:00:15,058 --> 00:00:20,579
our sort of test way that we wanted to

6
00:00:17,190 --> 00:00:24,179
make it work and so this weekend really

7
00:00:20,579 --> 00:00:26,278
what we're doing is we're trying to push

8
00:00:24,179 --> 00:00:27,839
the lighting quality forward right like

9
00:00:26,278 --> 00:00:31,410
we've basically got like a rudimentary

10
00:00:27,839 --> 00:00:33,899
version of it working in a little CPU

11
00:00:31,410 --> 00:00:38,609
testbed eventually we will port it to

12
00:00:33,899 --> 00:00:41,429
the GPU to run on there directly but

13
00:00:38,609 --> 00:00:42,840
right now we're using the CPU and the

14
00:00:41,429 --> 00:00:44,340
reason we're using the CPU is because we

15
00:00:42,840 --> 00:00:46,110
can visualize them to plug it a lot

16
00:00:44,340 --> 00:00:48,930
easier on there than we can if it's

17
00:00:46,109 --> 00:00:51,140
running on the GPU so even though we

18
00:00:48,929 --> 00:00:55,019
could have implemented this on the GPU

19
00:00:51,140 --> 00:00:58,500
it's just much nicer and just a lot more

20
00:00:55,020 --> 00:01:00,870
pleasant to to work on the CPU it's sad

21
00:00:58,500 --> 00:01:03,869
that we're still in that situation but

22
00:01:00,869 --> 00:01:07,228
that's just kind of the way it is GPUs

23
00:01:03,869 --> 00:01:09,539
being highly non-standard as it is and

24
00:01:07,228 --> 00:01:11,908
also often not having proper debugging

25
00:01:09,540 --> 00:01:15,750
capabilities built into them which is

26
00:01:11,909 --> 00:01:18,240
another aspect of it but so if you take

27
00:01:15,750 --> 00:01:21,209
a look at the game as it is running at

28
00:01:18,239 --> 00:01:23,789
the moment one of the things you can

29
00:01:21,209 --> 00:01:25,679
note here I'll go ahead and and turn

30
00:01:23,790 --> 00:01:28,409
loops not that's not good we don't look

31
00:01:25,680 --> 00:01:32,700
at the profile if I turn on the lighting

32
00:01:28,409 --> 00:01:35,310
to show reflectors and we can look at

33
00:01:32,700 --> 00:01:37,590
different aspects of the lighting

34
00:01:35,310 --> 00:01:40,409
solution here you can see that if I if I

35
00:01:37,590 --> 00:01:43,409
just look at the reflectors you can kind

36
00:01:40,409 --> 00:01:44,850
of see if I move the the light around

37
00:01:43,409 --> 00:01:47,149
you can see that we have light

38
00:01:44,849 --> 00:01:49,618
propagating kind of around the scene and

39
00:01:47,149 --> 00:01:51,540
there are some weird flickering sorts of

40
00:01:49,618 --> 00:01:53,159
stuff that happen and we're not super

41
00:01:51,540 --> 00:02:00,110
sure if those could just be bugs in

42
00:01:53,159 --> 00:02:03,090
there like that right there they they

43
00:02:00,109 --> 00:02:04,920
could be actual bugs that we're kind of

44
00:02:03,090 --> 00:02:06,570
kind of go start looking for now as we

45
00:02:04,920 --> 00:02:08,399
try to solidify things and get a good

46
00:02:06,569 --> 00:02:11,459
quality solution they could also not be

47
00:02:08,399 --> 00:02:13,419
technically buzz they could be what are

48
00:02:11,459 --> 00:02:16,479
effectively bugs but aren't really

49
00:02:13,419 --> 00:02:17,859
we bug and what I mean by that is with

50
00:02:16,479 --> 00:02:18,818
something like lighting transport

51
00:02:17,860 --> 00:02:20,410
especially when you're simulating

52
00:02:18,818 --> 00:02:22,179
multiple bounces you know we've been

53
00:02:20,409 --> 00:02:24,609
really sloppy so far we're just kind of

54
00:02:22,180 --> 00:02:26,530
hacking some stuff in there in terms of

55
00:02:24,610 --> 00:02:28,090
the lighting transport equations it's

56
00:02:26,530 --> 00:02:30,759
easy to get into a situation where you

57
00:02:28,090 --> 00:02:34,689
could make a solution that can bounce

58
00:02:30,759 --> 00:02:35,979
more light than it receives right and if

59
00:02:34,689 --> 00:02:38,859
you create a solution that can bounce

60
00:02:35,979 --> 00:02:42,759
more life than it receives then what you

61
00:02:38,860 --> 00:02:45,069
create is a sort of an infinite feedback

62
00:02:42,759 --> 00:02:46,539
loop right so the number of times that

63
00:02:45,068 --> 00:02:47,619
you iterate the lighting you can

64
00:02:46,539 --> 00:02:49,900
actually just get brighter and brighter

65
00:02:47,620 --> 00:02:51,789
and brighter right so that's another

66
00:02:49,900 --> 00:02:53,530
thing we haven't done yet is like ensure

67
00:02:51,789 --> 00:02:55,840
that we conserve lighting when it's

68
00:02:53,530 --> 00:02:57,519
bounced around in fact I'm pretty sure

69
00:02:55,840 --> 00:02:59,080
we aren't doing it right now so things

70
00:02:57,519 --> 00:03:02,080
like that where things get infinitely

71
00:02:59,080 --> 00:03:03,700
bright could be straight up bugs meaning

72
00:03:02,080 --> 00:03:07,000
like somebody typed well somebody would

73
00:03:03,699 --> 00:03:09,399
be me but there is a you know typo or an

74
00:03:07,000 --> 00:03:10,449
incorrect part of the algorithm so it's

75
00:03:09,400 --> 00:03:13,120
actually just not functioning properly

76
00:03:10,449 --> 00:03:15,849
that can be one thing but it can also be

77
00:03:13,120 --> 00:03:17,920
the case that you may have types in the

78
00:03:15,849 --> 00:03:20,079
algorithm properly and it's doing what

79
00:03:17,919 --> 00:03:22,030
you expect them to do the problem is

80
00:03:20,079 --> 00:03:23,890
just the algorithm is not conservative

81
00:03:22,030 --> 00:03:25,659
and then therefore you can end up with

82
00:03:23,889 --> 00:03:27,639
feedback loops like that just if the

83
00:03:25,659 --> 00:03:29,530
game happens to get into the right state

84
00:03:27,639 --> 00:03:33,969
with the geometry then there you go

85
00:03:29,530 --> 00:03:35,890
right but either way you can sort of see

86
00:03:33,969 --> 00:03:38,289
like I said that lighting is sort of

87
00:03:35,889 --> 00:03:40,089
working here so we're in the position to

88
00:03:38,289 --> 00:03:41,500
start focusing on whether we're doing it

89
00:03:40,090 --> 00:03:44,590
well and whether the quality is there

90
00:03:41,500 --> 00:03:46,299
and so on now if I turn to show

91
00:03:44,590 --> 00:03:49,719
visibility you can also see the

92
00:03:46,299 --> 00:03:51,189
computation occurring here for ambient

93
00:03:49,719 --> 00:03:52,599
occlusion which is a part of the

94
00:03:51,189 --> 00:04:00,969
lighting computation this is just

95
00:03:52,599 --> 00:04:02,340
viewing just that part of it tuning and

96
00:04:00,969 --> 00:04:04,689
this is an important thing to understand

97
00:04:02,340 --> 00:04:06,219
this algorithm that we sort of started

98
00:04:04,689 --> 00:04:07,719
off using which probably isn't the one

99
00:04:06,219 --> 00:04:08,919
that we'll use in the end now that we've

100
00:04:07,719 --> 00:04:10,479
got things set up and working we

101
00:04:08,919 --> 00:04:13,208
probably can fuss around with a little

102
00:04:10,479 --> 00:04:18,038
more but I now that we've got this

103
00:04:13,209 --> 00:04:20,139
working you can sort of see that it

104
00:04:18,038 --> 00:04:22,269
doesn't really do a very good job of

105
00:04:20,139 --> 00:04:24,180
doing any sort of shadowing that we

106
00:04:22,269 --> 00:04:27,839
might really care about right

107
00:04:24,180 --> 00:04:29,639
so what you can sort of see here is you

108
00:04:27,839 --> 00:04:32,039
know the ambient occlusion may take out

109
00:04:29,639 --> 00:04:35,189
a little bit of what you don't want to

110
00:04:32,040 --> 00:04:37,020
see in terms of light propagating the

111
00:04:35,189 --> 00:04:38,759
places that shouldn't propagate just

112
00:04:37,019 --> 00:04:40,409
based on like the fact that these things

113
00:04:38,759 --> 00:04:43,979
are in like a corner or something like

114
00:04:40,410 --> 00:04:46,439
that and that is nice that does add one

115
00:04:43,978 --> 00:04:49,409
of the main things that we do want to

116
00:04:46,439 --> 00:04:51,660
the image so it is good that we have

117
00:04:49,410 --> 00:04:53,520
that there's no question about that but

118
00:04:51,660 --> 00:04:56,400
it's worth noting that that ambient

119
00:04:53,519 --> 00:04:58,439
occlusion while nice and well it is

120
00:04:56,399 --> 00:05:00,448
important to the look and can be used

121
00:04:58,439 --> 00:05:01,769
for that you can see right there you see

122
00:05:00,449 --> 00:05:03,870
that weird flashiness

123
00:05:01,769 --> 00:05:06,719
yeah it mentions your that it's family

124
00:05:03,870 --> 00:05:09,180
it's it's also not really going to do

125
00:05:06,720 --> 00:05:10,710
some of the stuff that we need to do

126
00:05:09,180 --> 00:05:11,910
with shadowing and it's the only

127
00:05:10,709 --> 00:05:13,159
shadowing that we have in there right

128
00:05:11,910 --> 00:05:18,120
now

129
00:05:13,160 --> 00:05:19,949
so we can forego better shadowing but

130
00:05:18,120 --> 00:05:21,750
it's worth noting what it does and

131
00:05:19,949 --> 00:05:24,660
doesn't do and so right now one of the

132
00:05:21,750 --> 00:05:29,930
things that the shadowing does not do is

133
00:05:24,660 --> 00:05:33,630
if you look at how the game is currently

134
00:05:29,930 --> 00:05:36,269
lighting this area back here well you

135
00:05:33,629 --> 00:05:39,000
know that should be pretty dark because

136
00:05:36,269 --> 00:05:40,649
if you turn off the reflectors you can

137
00:05:39,000 --> 00:05:44,310
kind of see that there's just these big

138
00:05:40,649 --> 00:05:46,319
balls in the way and if I go back here

139
00:05:44,310 --> 00:05:49,019
you can see that this area is really

140
00:05:46,319 --> 00:05:51,839
just pretty much fine in terms of

141
00:05:49,019 --> 00:05:54,918
brightness right there just isn't a lot

142
00:05:51,839 --> 00:05:57,538
of darkening happening back there and

143
00:05:54,918 --> 00:06:00,629
while it's okay to leave it that way

144
00:05:57,538 --> 00:06:03,930
like you know the it's certainly not a

145
00:06:00,629 --> 00:06:05,908
problem to have that be the case because

146
00:06:03,930 --> 00:06:07,680
as we turn to smooth out the lighting

147
00:06:05,908 --> 00:06:09,060
solution you know it could be that the

148
00:06:07,680 --> 00:06:13,709
look of a game is just fine that way

149
00:06:09,060 --> 00:06:17,038
either way but the real issue there is

150
00:06:13,709 --> 00:06:18,899
just that you know if we want a solution

151
00:06:17,038 --> 00:06:20,969
that does a little bit better at

152
00:06:18,899 --> 00:06:24,329
preventing life from bleeding around

153
00:06:20,970 --> 00:06:26,520
edges that's not going to do it for us

154
00:06:24,329 --> 00:06:29,098
right that's not going to that's not

155
00:06:26,519 --> 00:06:30,719
going to take care of it especially

156
00:06:29,098 --> 00:06:33,149
because you know as I kind of come

157
00:06:30,720 --> 00:06:36,599
behind here you can sort of see that you

158
00:06:33,149 --> 00:06:38,279
know this this is getting lit all almost

159
00:06:36,598 --> 00:06:40,199
you know not quite because it's getting

160
00:06:38,279 --> 00:06:42,899
Arkan by these by default but it's

161
00:06:40,199 --> 00:06:45,149
getting lit almost as if this wall were

162
00:06:42,899 --> 00:06:47,909
not here and that doesn't really make

163
00:06:45,149 --> 00:06:49,409
much sense so and again that's because

164
00:06:47,910 --> 00:06:54,240
we're not really doing any work right

165
00:06:49,410 --> 00:06:57,240
now to detect the real we're not really

166
00:06:54,240 --> 00:06:59,579
doing much to say if a light source is

167
00:06:57,240 --> 00:07:01,050
on one side of an occluder it can't

168
00:06:59,579 --> 00:07:03,779
propagate light to the other side of

169
00:07:01,050 --> 00:07:06,960
occluder right we're kind of just doing

170
00:07:03,779 --> 00:07:20,759
ambient occlusion which isn't really the

171
00:07:06,959 --> 00:07:23,099
same thing in that case right so yes so

172
00:07:20,759 --> 00:07:25,860
it's a little bit confusing and it's

173
00:07:23,100 --> 00:07:28,350
certainly like I said something that we

174
00:07:25,860 --> 00:07:32,100
kind of have to think about how much we

175
00:07:28,350 --> 00:07:33,660
want to do in terms of accuracy and how

176
00:07:32,100 --> 00:07:35,430
much we don't you know really

177
00:07:33,660 --> 00:07:36,810
necessarily care about it or just want

178
00:07:35,430 --> 00:07:39,660
to go with something that's going to

179
00:07:36,810 --> 00:07:41,519
produce a pleasant look or whatever but

180
00:07:39,660 --> 00:07:44,820
the first thing first so first things

181
00:07:41,519 --> 00:07:45,930
first we want to kind of work on our

182
00:07:44,819 --> 00:07:47,728
letting solution a little bit here to

183
00:07:45,930 --> 00:07:49,350
try and get to something a little bit

184
00:07:47,728 --> 00:07:52,459
more stable and one of the things you

185
00:07:49,350 --> 00:07:57,360
can see if we just show the disability

186
00:07:52,459 --> 00:08:00,120
is that for the most part the flashing

187
00:07:57,360 --> 00:08:05,699
the super bright flashing doesn't really

188
00:08:00,120 --> 00:08:07,918
happen here so you know as far as we can

189
00:08:05,699 --> 00:08:09,629
tell from looking at the two parts of

190
00:08:07,918 --> 00:08:12,180
the lighting solution there are some

191
00:08:09,629 --> 00:08:15,029
oddities so for example you can see like

192
00:08:12,180 --> 00:08:16,470
right in here how things darken kind of

193
00:08:15,029 --> 00:08:20,819
dramatically in a way that doesn't

194
00:08:16,470 --> 00:08:23,039
necessarily make a whole lot of sense in

195
00:08:20,819 --> 00:08:26,519
terms of visibility because it's like

196
00:08:23,038 --> 00:08:29,038
okay if I'm just moving between here and

197
00:08:26,519 --> 00:08:32,759
here you can kind of see that there must

198
00:08:29,038 --> 00:08:35,639
be some kind of bug or bad feedback it

199
00:08:32,759 --> 00:08:37,860
could just be bad feedback but you can

200
00:08:35,639 --> 00:08:41,399
see how these darkened considerably more

201
00:08:37,860 --> 00:08:44,550
just right along here which doesn't seem

202
00:08:41,399 --> 00:08:46,019
to make a whole lot of sense again it

203
00:08:44,549 --> 00:08:48,389
could be because the ambient occlusion

204
00:08:46,019 --> 00:08:52,049
algorithm is pretty ghetto it's

205
00:08:48,389 --> 00:08:55,379
basically like just doing

206
00:08:52,049 --> 00:08:56,669
new passes of propagating or might be

207
00:08:55,379 --> 00:09:02,159
through at this point of propagating the

208
00:08:56,669 --> 00:09:06,059
shadow information of how much each

209
00:09:02,159 --> 00:09:07,829
occluder shadows every other occluder so

210
00:09:06,059 --> 00:09:13,439
you know hard to say about that

211
00:09:07,830 --> 00:09:16,740
but with that in mind it's just well ok

212
00:09:13,440 --> 00:09:18,390
so you know given this circumstance does

213
00:09:16,740 --> 00:09:20,579
that really make it does that really

214
00:09:18,389 --> 00:09:22,679
seem logical enough and again like I

215
00:09:20,578 --> 00:09:25,379
said I don't know if it does but either

216
00:09:22,679 --> 00:09:27,919
way if we take a look at the difference

217
00:09:25,379 --> 00:09:30,689
between how much effect that's having

218
00:09:27,919 --> 00:09:32,610
and how much effect we're actually

219
00:09:30,690 --> 00:09:35,880
getting when we see these super bright

220
00:09:32,610 --> 00:09:37,620
flashes it just doesn't seem like the

221
00:09:35,879 --> 00:09:40,289
super bright flashes are coming from the

222
00:09:37,620 --> 00:09:44,129
ambient occlusion path now what we can

223
00:09:40,289 --> 00:09:47,309
do as well presumably anyway let's just

224
00:09:44,129 --> 00:09:49,889
verify that so if I come along here and

225
00:09:47,309 --> 00:09:51,689
I move along and we try let me try to

226
00:09:49,889 --> 00:09:52,769
find a place where I can see those super

227
00:09:51,690 --> 00:09:54,600
bright flashes some reason I'm not

228
00:09:52,769 --> 00:09:56,159
getting the super bright ones we were

229
00:09:54,600 --> 00:09:58,769
getting really bright ones before there

230
00:09:56,159 --> 00:10:01,490
we go so you can kind of see that super

231
00:09:58,769 --> 00:10:05,069
bright flash happening there for example

232
00:10:01,490 --> 00:10:07,139
if we go and disable the part oh I guess

233
00:10:05,070 --> 00:10:10,050
I didn't yeah I don't know why felt

234
00:10:07,139 --> 00:10:12,958
compelled to restart we have the live

235
00:10:10,049 --> 00:10:16,078
code reloading controlling CPU side so

236
00:10:12,958 --> 00:10:20,399
that's pretty easy but if I come through

237
00:10:16,078 --> 00:10:21,509
and I take the lighting part that was

238
00:10:20,399 --> 00:10:23,190
just computing the ambient occlusion

239
00:10:21,509 --> 00:10:24,990
which you know here is the part that

240
00:10:23,190 --> 00:10:32,730
sets up the lighting should have

241
00:10:24,990 --> 00:10:35,278
commented this here's the ambient

242
00:10:32,730 --> 00:10:37,199
occlusion part if I was to take the

243
00:10:35,278 --> 00:10:40,198
ambient occlusion part and just get rid

244
00:10:37,198 --> 00:10:45,719
of it entirely so that the visibility is

245
00:10:40,198 --> 00:10:47,639
always set to one right and so here is

246
00:10:45,720 --> 00:10:51,240
the you know visibility oh it's set to

247
00:10:47,639 --> 00:10:53,278
one if the visibility so we set to one

248
00:10:51,240 --> 00:10:57,389
then in theory I should be able to see

249
00:10:53,278 --> 00:11:01,439
whether I still get the sort of the

250
00:10:57,389 --> 00:11:02,789
lighting issue there so if I if I go to

251
00:11:01,440 --> 00:11:04,209
the show reflectors right here's the

252
00:11:02,789 --> 00:11:06,938
visibility so the visible

253
00:11:04,208 --> 00:11:09,578
is now not not changing in any way and

254
00:11:06,938 --> 00:11:10,719
so if I assume that the visibility is

255
00:11:09,578 --> 00:11:12,938
taken out of the equation entirely

256
00:11:10,720 --> 00:11:15,490
device till and you can see I still get

257
00:11:12,938 --> 00:11:17,409
those bright flashes so we know that the

258
00:11:15,490 --> 00:11:19,749
ambient occlusion is not where the

259
00:11:17,409 --> 00:11:22,509
problem lies in terms of the like sort

260
00:11:19,749 --> 00:11:25,058
of slickery weirdness and so what I'd

261
00:11:22,509 --> 00:11:27,220
like to do is just take a second to see

262
00:11:25,058 --> 00:11:30,578
what's going on there because that does

263
00:11:27,220 --> 00:11:31,990
seem a little bit iffy so another thing

264
00:11:30,578 --> 00:11:33,609
is just to take a look at what degree

265
00:11:31,990 --> 00:11:36,039
this has to do with feedback the thing I

266
00:11:33,610 --> 00:11:39,899
can do is I can sort of simplify this

267
00:11:36,039 --> 00:11:42,730
down by saying let's just temporarily

268
00:11:39,899 --> 00:11:45,068
disable any iteration on the lighting as

269
00:11:42,730 --> 00:11:46,449
well and so then oh and you know what I

270
00:11:45,068 --> 00:11:48,278
should also just put us into the mode

271
00:11:46,448 --> 00:11:49,539
permanently in fact that you know what I

272
00:11:48,278 --> 00:11:52,928
could do it in just you to config to

273
00:11:49,539 --> 00:11:54,909
this so if I want to in here what I

274
00:11:52,928 --> 00:11:57,249
could do is say well alright let's look

275
00:11:54,909 --> 00:11:59,438
at the reflectors let's not look at the

276
00:11:57,249 --> 00:12:03,428
visibility let's only do one iteration

277
00:11:59,438 --> 00:12:07,118
of the lighting solution and that will

278
00:12:03,428 --> 00:12:10,028
give me what happens when I only do one

279
00:12:07,119 --> 00:12:12,298
path and so what you can kind of see

280
00:12:10,028 --> 00:12:15,669
here with the one pass of the lighting

281
00:12:12,298 --> 00:12:18,639
is that my my sort of assumption appears

282
00:12:15,669 --> 00:12:21,039
to be correct it appears that the

283
00:12:18,639 --> 00:12:25,259
initial lighting solution is relatively

284
00:12:21,039 --> 00:12:29,019
stable does not have that sort of nasty

285
00:12:25,259 --> 00:12:32,230
propagation problem and so it would

286
00:12:29,019 --> 00:12:36,129
appear that either we have a bug in the

287
00:12:32,230 --> 00:12:38,110
way that we propagate information once

288
00:12:36,129 --> 00:12:39,639
it's already been propagated once so you

289
00:12:38,110 --> 00:12:41,678
know something where we're writing to a

290
00:12:39,639 --> 00:12:44,139
variable in a way that's inconsistent so

291
00:12:41,678 --> 00:12:46,958
if you loop through or something you get

292
00:12:44,139 --> 00:12:50,230
nasty artifacts in that variable either

293
00:12:46,958 --> 00:12:53,498
that's the case or what I was suggesting

294
00:12:50,230 --> 00:13:00,339
before when I was talking about the

295
00:12:53,499 --> 00:13:01,959
problems with having the sort of the non

296
00:13:00,339 --> 00:13:04,059
conservation of light potentially

297
00:13:01,958 --> 00:13:06,669
leading to really bad feedback loops we

298
00:13:04,058 --> 00:13:09,639
don't know that could also be an issue

299
00:13:06,669 --> 00:13:11,798
it's unclear what I will say is that

300
00:13:09,639 --> 00:13:15,129
taking a look at this if we were to

301
00:13:11,798 --> 00:13:16,240
eliminate and I actually goes what I

302
00:13:15,129 --> 00:13:18,399
could also do here is

303
00:13:16,240 --> 00:13:20,889
in addition to having that iterator

304
00:13:18,399 --> 00:13:25,830
controlled we could do it here so we do

305
00:13:20,889 --> 00:13:28,360
global renderer occlusion iteration half

306
00:13:25,830 --> 00:13:36,490
and that could be something that we can

307
00:13:28,360 --> 00:13:39,519
put in here so if we did I guess it's

308
00:13:36,490 --> 00:13:43,149
two iterations I think is that correct

309
00:13:39,519 --> 00:13:46,028
how many of there normally are yeah so

310
00:13:43,149 --> 00:13:51,580
if we do two iterations on the lighting

311
00:13:46,028 --> 00:13:53,080
path the am inclusion pass rather then

312
00:13:51,580 --> 00:13:54,940
what we should be able to see is what

313
00:13:53,080 --> 00:13:57,629
happens if we combined this just a

314
00:13:54,940 --> 00:13:59,770
stable basic lighting solution with

315
00:13:57,629 --> 00:14:01,419
ambient occlusion so here's the

316
00:13:59,769 --> 00:14:04,299
visibility you can see the darkening

317
00:14:01,419 --> 00:14:09,909
sort of happening there and you can see

318
00:14:04,299 --> 00:14:11,829
the the lighting like so right and so

319
00:14:09,909 --> 00:14:14,039
this is the combination of the two of

320
00:14:11,830 --> 00:14:14,040
them

321
00:14:30,149 --> 00:14:38,250
and it's sort of interesting again I'm

322
00:14:36,000 --> 00:14:45,330
just taking a look to see what what it

323
00:14:38,250 --> 00:14:47,970
ends up looking like so

324
00:14:45,330 --> 00:14:53,970
in here if I was to say like okay let's

325
00:14:47,970 --> 00:14:58,379
take this and let's switch to in config

326
00:14:53,970 --> 00:15:01,340
file turning cough ambient occlusion so

327
00:14:58,379 --> 00:15:01,340
and I guess I got it

328
00:15:06,169 --> 00:15:12,269
if I go in here and turn on the

329
00:15:09,269 --> 00:15:15,569
inclusion so the ambient occlusion

330
00:15:12,269 --> 00:15:17,909
definitely does darken things down quite

331
00:15:15,570 --> 00:15:19,350
a bit you know whether or not it darkens

332
00:15:17,909 --> 00:15:23,009
them down in a way that we find useful

333
00:15:19,350 --> 00:15:24,629
is another sort of question but it's

334
00:15:23,009 --> 00:15:26,789
kind of interesting to look at anyway

335
00:15:24,629 --> 00:15:28,470
one thing that I am kind of interested

336
00:15:26,789 --> 00:15:31,259
into is how we're going to sample these

337
00:15:28,470 --> 00:15:32,820
life at the end of the day because right

338
00:15:31,259 --> 00:15:34,830
now we're just sort of reassignment to

339
00:15:32,820 --> 00:15:36,450
the quads that they came from which

340
00:15:34,830 --> 00:15:38,220
doesn't smooth out the lighting in any

341
00:15:36,450 --> 00:15:39,570
way so because obviously we're not going

342
00:15:38,220 --> 00:15:40,860
to want the lighting to be blocky like

343
00:15:39,570 --> 00:15:43,470
that we're going to want the lighting to

344
00:15:40,860 --> 00:15:45,810
be interpolated and so that'll be an

345
00:15:43,470 --> 00:15:48,830
interesting problem as well kind of as

346
00:15:45,809 --> 00:15:52,859
we go but it's sort of a separate issue

347
00:15:48,830 --> 00:15:54,810
so yeah but looking at that you know it

348
00:15:52,860 --> 00:15:56,159
does seem like that's actually still an

349
00:15:54,809 --> 00:15:59,279
improvement there like for example the

350
00:15:56,159 --> 00:16:00,719
stairs don't get that lighting because

351
00:15:59,279 --> 00:16:04,110
they're sort of blocked and out of the

352
00:16:00,720 --> 00:16:06,570
way so it does seem kind of like it does

353
00:16:04,110 --> 00:16:12,300
a reasonable job of improving the

354
00:16:06,570 --> 00:16:14,640
solution somewhat but it's not that

355
00:16:12,299 --> 00:16:17,189
appreciably different right like I don't

356
00:16:14,639 --> 00:16:19,289
think at least at the moment if you were

357
00:16:17,190 --> 00:16:21,960
to show me these two I'd be like well it

358
00:16:19,289 --> 00:16:25,399
doesn't really seem to add much right it

359
00:16:21,960 --> 00:16:28,769
doesn't seem to add much in terms of

360
00:16:25,399 --> 00:16:30,720
what I would suspect we would see when

361
00:16:28,769 --> 00:16:32,850
we finally just do that like a good

362
00:16:30,720 --> 00:16:35,009
sampling of it it doesn't seem to really

363
00:16:32,850 --> 00:16:39,360
provide all that much that you would

364
00:16:35,009 --> 00:16:41,039
bother running it right like it's not it

365
00:16:39,360 --> 00:16:42,779
just doesn't seem like it it sort of has

366
00:16:41,039 --> 00:16:43,730
enough going for it the ambient

367
00:16:42,779 --> 00:16:46,789
occlusion

368
00:16:43,730 --> 00:16:48,889
so I'm all muscle I'm more attempting to

369
00:16:46,789 --> 00:16:50,329
say like you know if we were looking at

370
00:16:48,889 --> 00:16:55,159
that part of the algorithm I think we

371
00:16:50,330 --> 00:16:56,870
probably want to I think we probably

372
00:16:55,159 --> 00:16:58,850
want to do something a little bit

373
00:16:56,870 --> 00:17:00,500
fancier there or try to make that be a

374
00:16:58,850 --> 00:17:02,230
little bit more about shadowing and a

375
00:17:00,500 --> 00:17:04,490
little bit less about ambient occlusion

376
00:17:02,230 --> 00:17:07,610
because the ambient occlusion again is

377
00:17:04,490 --> 00:17:10,279
not it's not really that interesting in

378
00:17:07,609 --> 00:17:13,208
a lot of cases it's kind of not really

379
00:17:10,279 --> 00:17:17,649
what you want in terms of figuring out

380
00:17:13,209 --> 00:17:17,650
where things should be darker or lighter

381
00:17:17,949 --> 00:17:22,699
for light sources that are not

382
00:17:20,088 --> 00:17:25,750
ubiquitous you know if you just have a

383
00:17:22,699 --> 00:17:29,630
skylight that's coming in from the top

384
00:17:25,750 --> 00:17:32,630
then ambient occlusion maybe is your

385
00:17:29,630 --> 00:17:35,600
friend but if you have a situation where

386
00:17:32,630 --> 00:17:37,820
you want to be able to move lights

387
00:17:35,599 --> 00:17:40,189
around in some way like I am moving them

388
00:17:37,819 --> 00:17:43,099
around right now ambient occlusion

389
00:17:40,190 --> 00:17:45,380
doesn't really capture that the

390
00:17:43,099 --> 00:17:46,519
properties of that very well because the

391
00:17:45,380 --> 00:17:49,280
ambient occlusion sort of by definition

392
00:17:46,519 --> 00:17:51,259
is really only talking about the degree

393
00:17:49,279 --> 00:17:56,240
to which the surface can see the general

394
00:17:51,259 --> 00:18:01,369
outside sort of world which isn't that's

395
00:17:56,240 --> 00:18:04,130
really not what that is right okay so

396
00:18:01,369 --> 00:18:05,809
what we want to do now is again start to

397
00:18:04,130 --> 00:18:07,790
look at this lighting a little bit more

398
00:18:05,809 --> 00:18:10,399
what I what I want to do is take a look

399
00:18:07,789 --> 00:18:13,009
reef Li at that flashing up stuff and

400
00:18:10,400 --> 00:18:17,450
just see if we turn occlusion off here

401
00:18:13,009 --> 00:18:20,690
if I if I turn on viewing of reflectors

402
00:18:17,450 --> 00:18:22,279
and we can sort of verify there is no

403
00:18:20,690 --> 00:18:25,430
flashing when I'm just viewing

404
00:18:22,279 --> 00:18:27,700
reflectors by itself so I go in here and

405
00:18:25,430 --> 00:18:30,799
say I cranked up the lighting to two

406
00:18:27,700 --> 00:18:32,660
passes we should see a little bit of a

407
00:18:30,799 --> 00:18:34,970
problem but not as much of a problem at

408
00:18:32,660 --> 00:18:38,540
three I would assume and it actually

409
00:18:34,970 --> 00:18:43,880
looks pretty stable at two passes but if

410
00:18:38,539 --> 00:18:45,559
I crank it to three passes yeah and you

411
00:18:43,880 --> 00:18:48,730
know you can kind of almost just see

412
00:18:45,559 --> 00:18:48,730
right off the bat

413
00:18:51,640 --> 00:18:57,520
just the fact that it's getting brighter

414
00:18:53,880 --> 00:19:02,860
kind of in the you know overall kind of

415
00:18:57,519 --> 00:19:06,519
indicates that the the solution is kind

416
00:19:02,859 --> 00:19:08,469
of tending to go a little bit nuts right

417
00:19:06,519 --> 00:19:10,420
and so presumably what would happen is

418
00:19:08,470 --> 00:19:12,339
if I kept cranking that iteration number

419
00:19:10,420 --> 00:19:14,350
out we would just end up with the whole

420
00:19:12,339 --> 00:19:16,839
scene being white and that is basically

421
00:19:14,349 --> 00:19:19,299
what we see so I think what we're going

422
00:19:16,839 --> 00:19:20,980
to have to do here is and I'm three

423
00:19:19,299 --> 00:19:23,079
seems like a good sweet spot for seeing

424
00:19:20,980 --> 00:19:25,480
the really nasty slashing to so that's

425
00:19:23,079 --> 00:19:27,309
good so let's leave it there so I think

426
00:19:25,480 --> 00:19:30,849
in terms of sort of conducting that

427
00:19:27,309 --> 00:19:32,440
light around I want to start to be a

428
00:19:30,849 --> 00:19:34,599
little bit more careful about this well

429
00:19:32,440 --> 00:19:37,150
we'll leave ambient occlusion for now

430
00:19:34,599 --> 00:19:39,459
and we'll leave it turned off so we

431
00:19:37,150 --> 00:19:41,110
won't fuss with that but we'll take a

432
00:19:39,460 --> 00:19:42,490
look at the compute lighting path and

433
00:19:41,109 --> 00:19:44,709
let's just go through this and think

434
00:19:42,490 --> 00:19:46,299
about what we're doing here and why

435
00:19:44,710 --> 00:19:53,829
we're doing it and whether or not it

436
00:19:46,299 --> 00:19:57,669
makes very much sense right alright so I

437
00:19:53,829 --> 00:20:07,210
think the first thing to think about

438
00:19:57,670 --> 00:20:11,940
here is the sort of directional nosov

439
00:20:07,210 --> 00:20:14,019
the bouncing of the light I guess

440
00:20:11,940 --> 00:20:15,640
because we sort of have a just an

441
00:20:14,019 --> 00:20:17,980
apparent problem to think about and

442
00:20:15,640 --> 00:20:22,900
here's what that that problem looks like

443
00:20:17,980 --> 00:20:26,470
in my mind anyway where is my where is

444
00:20:22,900 --> 00:20:30,640
Milton that is not Milton why do we have

445
00:20:26,470 --> 00:20:32,589
so many things open what's going on do I

446
00:20:30,640 --> 00:20:34,890
have I have more than I guess I have the

447
00:20:32,589 --> 00:20:40,619
standard number of things open alright

448
00:20:34,890 --> 00:20:40,620
so today's day what for Oh oops

449
00:20:41,220 --> 00:20:50,700
whoa so it looks like the fix definitely

450
00:20:45,039 --> 00:20:50,700
did not work whatever it is

451
00:20:55,890 --> 00:21:00,880
it's really weird we have no idea what

452
00:20:58,660 --> 00:21:04,690
causes that problem I need to just find

453
00:21:00,880 --> 00:21:09,130
a way to debug it sometime it's the only

454
00:21:04,690 --> 00:21:10,660
problem that we have at the moment with

455
00:21:09,130 --> 00:21:15,960
any of the tools really we haven't run

456
00:21:10,660 --> 00:21:15,960
into pretty much anything we want that

457
00:21:17,759 --> 00:21:23,279
alright so day

458
00:21:30,980 --> 00:21:35,798
we're the tablet tracking also seems to

459
00:21:33,378 --> 00:21:40,719
be a little bit weird in this one now

460
00:21:35,798 --> 00:21:40,720
gay hi

461
00:21:51,410 --> 00:22:00,080
well who knows you know what I should

462
00:21:56,390 --> 00:22:02,390
also do I should check so is that is

463
00:22:00,079 --> 00:22:04,220
that actually just because our drawing

464
00:22:02,390 --> 00:22:06,759
has gotten too large that's the other

465
00:22:04,220 --> 00:22:10,279
thing that I wonder so if I was to say

466
00:22:06,759 --> 00:22:12,470
have Milton open up a different drawing

467
00:22:10,279 --> 00:22:15,190
so if I just said new Milton canvas

468
00:22:12,470 --> 00:22:15,190
right

469
00:22:30,829 --> 00:22:43,069
so if I'd then said okay open Milton

470
00:22:33,559 --> 00:22:44,720
canvas no blackboard open now so it just

471
00:22:43,069 --> 00:22:48,759
it just seemed like it was some kind of

472
00:22:44,720 --> 00:22:53,180
a temporary thing I guess I don't know

473
00:22:48,759 --> 00:22:58,819
it's so cool that Milton can undo after

474
00:22:53,180 --> 00:23:08,259
you load all right well either right so

475
00:22:58,819 --> 00:23:10,669
let's talk about light conservation here

476
00:23:08,259 --> 00:23:17,799
so fundamentally speaking the problem

477
00:23:10,670 --> 00:23:20,810
that we have is we have an emitter and

478
00:23:17,799 --> 00:23:23,029
so the emitter is sending light out into

479
00:23:20,809 --> 00:23:32,929
the environment and then we have

480
00:23:23,029 --> 00:23:36,470
reflectors right and technically at this

481
00:23:32,930 --> 00:23:39,140
point we are not doing anything to sort

482
00:23:36,470 --> 00:23:41,390
of understand the fact that lighting the

483
00:23:39,140 --> 00:23:43,100
amount of life is conserved so if you

484
00:23:41,390 --> 00:23:45,740
imagine that what we're trying to do is

485
00:23:43,099 --> 00:23:52,059
say okay we have an emitter and this

486
00:23:45,740 --> 00:23:57,980
emitter output say you know X photons

487
00:23:52,059 --> 00:24:00,649
per second then what we could say is

488
00:23:57,980 --> 00:24:02,750
that we know that it's going to you know

489
00:24:00,650 --> 00:24:04,759
in any given frame if we're running it

490
00:24:02,750 --> 00:24:07,400
say 60 frames second or 30 frames a

491
00:24:04,759 --> 00:24:10,730
second we know that if it does X photons

492
00:24:07,400 --> 00:24:16,610
per second then it's going to do x over

493
00:24:10,730 --> 00:24:19,069
30 photons per frame right so we would

494
00:24:16,609 --> 00:24:20,659
or 460 or whatever right whatever

495
00:24:19,069 --> 00:24:22,069
however many frames per second we're

496
00:24:20,660 --> 00:24:23,660
doing we're going to divide the number

497
00:24:22,069 --> 00:24:25,519
of photons with this thing shoots out so

498
00:24:23,660 --> 00:24:27,920
whatever our emitter strength is that's

499
00:24:25,519 --> 00:24:30,710
going to be the case when this emission

500
00:24:27,920 --> 00:24:34,340
comes out and it shifts one of these

501
00:24:30,710 --> 00:24:37,279
reflectors the photons are either going

502
00:24:34,339 --> 00:24:39,079
to be bounced out to other reflectors or

503
00:24:37,279 --> 00:24:42,220
bounced out to the eye I mean some will

504
00:24:39,079 --> 00:24:42,220
be absorbed right

505
00:24:42,250 --> 00:24:46,269
but there wherever the viewer is let's

506
00:24:44,349 --> 00:24:50,439
say the viewer is here right here's our

507
00:24:46,269 --> 00:24:51,879
little eyeball then when a photon comes

508
00:24:50,440 --> 00:24:53,440
in here it's either going to come out

509
00:24:51,880 --> 00:24:55,450
and hit the eye and we're going to see

510
00:24:53,440 --> 00:24:58,269
it or it's going to come over here and

511
00:24:55,450 --> 00:25:01,690
hit this guy right or something but a

512
00:24:58,269 --> 00:25:03,309
photon can't do both right light does a

513
00:25:01,690 --> 00:25:06,549
lot of weird things that's not one of

514
00:25:03,309 --> 00:25:09,099
them and so however many photons come

515
00:25:06,549 --> 00:25:12,759
out of the emitter if we're saying that

516
00:25:09,099 --> 00:25:15,789
a photon went over to a reflector in the

517
00:25:12,759 --> 00:25:18,279
scene it can't also come out and show up

518
00:25:15,789 --> 00:25:20,980
for this reflector so what that means is

519
00:25:18,279 --> 00:25:26,920
the color of this reflector as viewed to

520
00:25:20,980 --> 00:25:28,839
the eye right and the color of this

521
00:25:26,920 --> 00:25:33,640
reflector as you to this other reflector

522
00:25:28,839 --> 00:25:37,359
the brightness hasit has to add up right

523
00:25:33,640 --> 00:25:39,820
it can't put 100% of the photons that

524
00:25:37,359 --> 00:25:42,189
come at it we'll send them over to this

525
00:25:39,819 --> 00:25:43,269
reflector and also send 100% of the

526
00:25:42,190 --> 00:25:52,360
photons over to the eye

527
00:25:43,269 --> 00:25:54,279
right it's just not possible and so by

528
00:25:52,359 --> 00:25:56,979
the same token we end up with the

529
00:25:54,279 --> 00:25:58,629
problem that when we have two reflectors

530
00:25:56,980 --> 00:26:01,450
pointing at each other which is that

531
00:25:58,630 --> 00:26:03,990
what we have here if photons are sent

532
00:26:01,450 --> 00:26:06,430
from this reflector to this reflector

533
00:26:03,990 --> 00:26:08,470
then the same can't

534
00:26:06,430 --> 00:26:12,310
if those those same photons were sent

535
00:26:08,470 --> 00:26:14,440
back right then this reflector would be

536
00:26:12,309 --> 00:26:16,659
black it would be completely dark right

537
00:26:14,440 --> 00:26:18,970
if all the photons hit this reflector it

538
00:26:16,660 --> 00:26:21,490
sent them all to this one and it sent

539
00:26:18,970 --> 00:26:23,799
them all back right then send them to

540
00:26:21,490 --> 00:26:25,120
the eye this one would be black but

541
00:26:23,799 --> 00:26:26,589
that's not what our algorithms are

542
00:26:25,119 --> 00:26:28,750
million at all right now what our

543
00:26:26,589 --> 00:26:30,879
algorithm is actually simulating is that

544
00:26:28,750 --> 00:26:33,190
if all the photons coming here we

545
00:26:30,880 --> 00:26:35,200
consider this this reflector to

546
00:26:33,190 --> 00:26:36,759
basically be however bright it is when

547
00:26:35,200 --> 00:26:39,009
viewed from the eye or from this

548
00:26:36,759 --> 00:26:42,940
reflector now technically that's not

549
00:26:39,009 --> 00:26:45,549
necessarily wrong in the sense that a

550
00:26:42,940 --> 00:26:47,680
diffuse of a perfectly diffused surface

551
00:26:45,549 --> 00:26:50,529
does reflect light equally in all

552
00:26:47,680 --> 00:26:52,299
directions but the question is how much

553
00:26:50,529 --> 00:26:55,299
light does it reflect in all directions

554
00:26:52,299 --> 00:26:55,720
and we have to take into account the

555
00:26:55,299 --> 00:26:56,980
fact

556
00:26:55,720 --> 00:27:00,100
when it reflects light in all directions

557
00:26:56,980 --> 00:27:03,099
it has to divide the amount of light it

558
00:27:00,099 --> 00:27:05,259
reflected by how the angle out of which

559
00:27:03,099 --> 00:27:06,278
it's radiating that light because if it

560
00:27:05,259 --> 00:27:07,750
doesn't and again you're just

561
00:27:06,278 --> 00:27:16,509
multiplying the amount of light in the

562
00:27:07,750 --> 00:27:22,359
scene dramatically right so right now we

563
00:27:16,509 --> 00:27:29,259
have absolutely no we have essentially

564
00:27:22,359 --> 00:27:31,418
no way of sort of keeping that process

565
00:27:29,259 --> 00:27:34,659
under check I don't think so that's

566
00:27:31,419 --> 00:27:37,000
problem number one problem number two is

567
00:27:34,659 --> 00:27:41,320
that we are resampling the emitters

568
00:27:37,000 --> 00:27:43,179
every time as well so basically we push

569
00:27:41,319 --> 00:27:46,798
light into the scene with the emitters

570
00:27:43,179 --> 00:27:50,019
and they are outputting the light and

571
00:27:46,798 --> 00:27:51,308
then in theory when we then convict the

572
00:27:50,019 --> 00:27:53,409
light around so when we're then saying

573
00:27:51,308 --> 00:27:54,579
let's do secondary bounces technically

574
00:27:53,409 --> 00:27:56,080
we shouldn't be looking at these

575
00:27:54,579 --> 00:27:57,699
emitters anymore right because they

576
00:27:56,079 --> 00:28:01,648
already put all the light in the scene

577
00:27:57,700 --> 00:28:03,970
that they're going to put into the scene

578
00:28:01,648 --> 00:28:05,079
they are not receiving any bounce

579
00:28:03,970 --> 00:28:09,069
lighting so that's just kind of

580
00:28:05,079 --> 00:28:11,829
erroneous at that point so that's the

581
00:28:09,069 --> 00:28:13,480
moment in terms of a radiosity solution

582
00:28:11,829 --> 00:28:16,388
this is typically what you call

583
00:28:13,480 --> 00:28:18,220
solutions lighting solutions that are

584
00:28:16,388 --> 00:28:21,788
like this where they bounce light around

585
00:28:18,220 --> 00:28:23,558
and try to reach a steady state this is

586
00:28:21,788 --> 00:28:24,700
not very good specifically because it's

587
00:28:23,558 --> 00:28:28,599
got all of these sort of leakage

588
00:28:24,700 --> 00:28:34,750
problems I don't like that and we're

589
00:28:28,599 --> 00:28:36,189
seeing the results of that just from the

590
00:28:34,750 --> 00:28:37,869
standpoint of our lighting solution

591
00:28:36,190 --> 00:28:40,179
tends to sort of explode it tends to

592
00:28:37,869 --> 00:28:43,359
just go out to bright white rather than

593
00:28:40,179 --> 00:28:46,750
having each iteration converge towards a

594
00:28:43,359 --> 00:28:52,990
smooth answer right so what we want to

595
00:28:46,750 --> 00:28:54,609
do if we imagine that the amount of

596
00:28:52,990 --> 00:28:58,000
total amount of light in the scene it

597
00:28:54,609 --> 00:28:59,798
should be you know some specific value

598
00:28:58,000 --> 00:29:04,109
whatever this is this is like the

599
00:28:59,798 --> 00:29:04,109
correct total light

600
00:29:05,119 --> 00:29:10,769
how much light if we imagine looking at

601
00:29:09,089 --> 00:29:13,649
our iterations of this algorithm over

602
00:29:10,769 --> 00:29:15,509
time what we want is something you know

603
00:29:13,650 --> 00:29:17,070
we don't care how it approaches we don't

604
00:29:15,509 --> 00:29:19,558
care for biased or unbiased really at

605
00:29:17,069 --> 00:29:21,629
this point what we want to know is just

606
00:29:19,558 --> 00:29:25,079
that no matter what happens like however

607
00:29:21,630 --> 00:29:27,600
this happens we just want to know that

608
00:29:25,079 --> 00:29:29,730
we're converging either from too bright

609
00:29:27,599 --> 00:29:32,459
to the right amount from too dark to the

610
00:29:29,730 --> 00:29:34,410
right amount or just stochastic to the

611
00:29:32,460 --> 00:29:36,538
right amount but what we're actually

612
00:29:34,410 --> 00:29:39,120
what our out of they've actually said to

613
00:29:36,538 --> 00:29:41,250
do right now is like this right it's

614
00:29:39,119 --> 00:29:43,229
just set up to just keep increasing the

615
00:29:41,250 --> 00:29:45,240
light in the scene ad infinitum and so

616
00:29:43,230 --> 00:29:47,700
the more iterations you run you don't

617
00:29:45,240 --> 00:29:50,849
get closer to a any kind of good

618
00:29:47,700 --> 00:29:54,029
solution to the light transport you just

619
00:29:50,849 --> 00:29:57,418
are just adding light arbitrarily to the

620
00:29:54,029 --> 00:30:00,690
scene and you don't actually improve the

621
00:29:57,419 --> 00:30:02,370
solution at all right so what I would

622
00:30:00,690 --> 00:30:05,070
say is the first thing that I think we

623
00:30:02,369 --> 00:30:08,908
want to do is we want to start thinking

624
00:30:05,069 --> 00:30:11,939
about the emitters as being a first pass

625
00:30:08,909 --> 00:30:14,730
only thing so I'm thinking that probably

626
00:30:11,940 --> 00:30:18,900
what we want to do is like overwrite the

627
00:30:14,730 --> 00:30:21,240
emissions value sort of with zero or

628
00:30:18,900 --> 00:30:23,280
something like this act or we want some

629
00:30:21,240 --> 00:30:26,038
way of essentially saying once we've

630
00:30:23,279 --> 00:30:27,658
done the first outpouring of light from

631
00:30:26,038 --> 00:30:32,450
the emitters we don't want those

632
00:30:27,659 --> 00:30:37,350
emitters to emit light anymore right

633
00:30:32,450 --> 00:30:41,038
that's just yeah that's just a tenant of

634
00:30:37,349 --> 00:30:42,928
the of the solution and we furthermore

635
00:30:41,038 --> 00:30:45,150
could sort of say that you know we could

636
00:30:42,929 --> 00:30:47,250
even think of it as basically being a

637
00:30:45,150 --> 00:30:49,288
photon bouncing we could sort of say

638
00:30:47,250 --> 00:30:51,329
that at the beginning you load up a

639
00:30:49,288 --> 00:30:53,308
bunch of photons and again I'm just kind

640
00:30:51,329 --> 00:30:55,230
of making this up as I go but you could

641
00:30:53,308 --> 00:30:57,178
say we load up a bunch of photons on the

642
00:30:55,230 --> 00:31:01,829
emitters and then we bounce them out and

643
00:30:57,179 --> 00:31:03,690
we store how many photons the surface is

644
00:31:01,829 --> 00:31:05,490
going to keep for its own illumination

645
00:31:03,690 --> 00:31:07,409
versus how many it's going to send out

646
00:31:05,490 --> 00:31:10,769
into the environment we could imagine

647
00:31:07,409 --> 00:31:13,909
that as actually being a like a quantity

648
00:31:10,769 --> 00:31:13,908
that we track right

649
00:31:15,509 --> 00:31:20,640
and I don't really know if that's a good

650
00:31:17,069 --> 00:31:25,829
idea but that's certainly an idea and we

651
00:31:20,640 --> 00:31:28,830
can do it so the question there is just

652
00:31:25,829 --> 00:31:36,599
how would we start to model something

653
00:31:28,829 --> 00:31:38,308
like this and you know it's it's a

654
00:31:36,599 --> 00:31:41,879
little confusing because if you think

655
00:31:38,308 --> 00:31:44,129
about it it's like well something

656
00:31:41,880 --> 00:31:46,010
doesn't get brighter or darker based on

657
00:31:44,130 --> 00:31:49,470
how many observers there are to it right

658
00:31:46,009 --> 00:31:53,269
but it is uniformly radiating the light

659
00:31:49,470 --> 00:31:55,710
out from its surface and that means that

660
00:31:53,269 --> 00:31:57,539
because it's doing that it is always

661
00:31:55,710 --> 00:31:59,460
darker than it would have been if it was

662
00:31:57,539 --> 00:32:01,589
a specular surface and you were viewing

663
00:31:59,460 --> 00:32:03,808
it from the right angle because a

664
00:32:01,589 --> 00:32:05,970
diffused surface that radiates light in

665
00:32:03,808 --> 00:32:08,308
all directions button by necessity must

666
00:32:05,970 --> 00:32:10,440
have divided the amount of light that it

667
00:32:08,308 --> 00:32:13,859
was radiating by that sort of total

668
00:32:10,440 --> 00:32:16,470
angle right and so all I'm trying to say

669
00:32:13,859 --> 00:32:19,918
there is we need a solution that will

670
00:32:16,470 --> 00:32:22,169
have the property that if it is a

671
00:32:19,919 --> 00:32:24,150
diffused surface the total amount of

672
00:32:22,169 --> 00:32:26,160
light that it could possibly transfer to

673
00:32:24,150 --> 00:32:30,360
things in the environment must be

674
00:32:26,160 --> 00:32:33,269
consistent and that's actually somewhat

675
00:32:30,359 --> 00:32:35,939
tricky for us to do the reason that it's

676
00:32:33,269 --> 00:32:40,558
tricky for us to do is because of the

677
00:32:35,940 --> 00:32:43,500
way that we have set up this the way

678
00:32:40,558 --> 00:32:46,230
that we set up this system and you know

679
00:32:43,500 --> 00:32:50,910
this is just an artifact really of the

680
00:32:46,230 --> 00:32:53,669
set of the sort of the approximation

681
00:32:50,910 --> 00:32:56,610
that we're using if we don't have

682
00:32:53,669 --> 00:32:59,280
shadowing which we don't really then if

683
00:32:56,609 --> 00:33:03,808
you think about an emitter and two

684
00:32:59,279 --> 00:33:06,450
reflectors right we are not looking at

685
00:33:03,808 --> 00:33:07,829
the fact and I guess I should actually

686
00:33:06,450 --> 00:33:13,950
say let's suppose these are all

687
00:33:07,829 --> 00:33:16,409
reflectors so the emitter is here and I

688
00:33:13,950 --> 00:33:19,440
get you know this emitters got light it

689
00:33:16,410 --> 00:33:21,900
shines onto this reflector so this

690
00:33:19,440 --> 00:33:23,759
reflector is now raining light out into

691
00:33:21,900 --> 00:33:25,559
the environment and it's radiating

692
00:33:23,759 --> 00:33:27,058
however much light it received it's

693
00:33:25,558 --> 00:33:27,889
radiating that back out in all

694
00:33:27,058 --> 00:33:31,099
directions

695
00:33:27,890 --> 00:33:34,400
right so if it was taking in a hundred

696
00:33:31,099 --> 00:33:36,199
photons or something then you know maybe

697
00:33:34,400 --> 00:33:37,730
20 of them go up this way and twenty one

698
00:33:36,200 --> 00:33:39,529
go up this way and twenty go out this

699
00:33:37,730 --> 00:33:40,190
way and twenty go up this way and twenty

700
00:33:39,529 --> 00:33:42,678
go out that way

701
00:33:40,190 --> 00:33:44,480
right so but it adds up to a hundred

702
00:33:42,679 --> 00:33:49,220
still or less than 100 if some got

703
00:33:44,480 --> 00:33:52,160
absorbed so the problem is the way that

704
00:33:49,220 --> 00:33:55,279
we're computing how the light bounces

705
00:33:52,160 --> 00:33:57,980
around is we're saying well let's take

706
00:33:55,279 --> 00:34:01,220
each pair of these and see how much of

707
00:33:57,980 --> 00:34:03,440
the solid angle of the world this one

708
00:34:01,220 --> 00:34:06,798
takes up like how much can this one see

709
00:34:03,440 --> 00:34:11,659
and when we do that we end up looking

710
00:34:06,798 --> 00:34:13,730
and seeing that we you know can see this

711
00:34:11,659 --> 00:34:16,369
occluder quite a bit of this reflector

712
00:34:13,730 --> 00:34:18,530
quite a bit from both here and here we

713
00:34:16,369 --> 00:34:22,429
don't take into account that this part

714
00:34:18,530 --> 00:34:25,129
right here is shadowed for this this you

715
00:34:22,429 --> 00:34:27,590
know part of this reflector so really it

716
00:34:25,128 --> 00:34:29,929
can't collect nearly as much light as

717
00:34:27,590 --> 00:34:32,960
this one can from this emitter because

718
00:34:29,929 --> 00:34:34,789
part of its being blocked and since we

719
00:34:32,960 --> 00:34:37,159
aren't taking that into account we will

720
00:34:34,789 --> 00:34:40,809
naturally increase the amount of light

721
00:34:37,159 --> 00:34:43,250
that's in the same kind of ad infinitum

722
00:34:40,809 --> 00:34:46,639
if we're not careful specifically

723
00:34:43,250 --> 00:34:50,659
because of that shadowing that we're not

724
00:34:46,639 --> 00:34:57,650
taking into account so that's a pretty

725
00:34:50,659 --> 00:34:58,940
big problem there and like I said

726
00:34:57,650 --> 00:35:01,608
there's a couple ways we could approach

727
00:34:58,940 --> 00:35:05,510
it one way we could approach it is by

728
00:35:01,608 --> 00:35:15,079
just doing photon distribution in some

729
00:35:05,510 --> 00:35:18,440
kind of more same fashion and so I guess

730
00:35:15,079 --> 00:35:20,239
what I might propose is the problem that

731
00:35:18,440 --> 00:35:24,409
we're going to have with this is that

732
00:35:20,239 --> 00:35:26,299
until we get to the end of the until we

733
00:35:24,409 --> 00:35:28,489
go through everybody and do that letting

734
00:35:26,300 --> 00:35:31,280
computation what we don't actually know

735
00:35:28,489 --> 00:35:35,149
is how much of this sort of thing

736
00:35:31,280 --> 00:35:37,550
occurred right because we have literally

737
00:35:35,150 --> 00:35:38,869
no computations for shadows in there and

738
00:35:37,550 --> 00:35:40,109
even if we ask them they're going to be

739
00:35:38,869 --> 00:35:42,390
pretty approximate so we're

740
00:35:40,108 --> 00:35:45,028
not going to end up with a good position

741
00:35:42,389 --> 00:35:47,900
there but what we could do since we're

742
00:35:45,028 --> 00:35:51,028
sort of overestimating the contributions

743
00:35:47,900 --> 00:35:55,460
there is one thing that we do know which

744
00:35:51,028 --> 00:35:55,460
is we know the total immittance right

745
00:35:56,028 --> 00:36:01,318
however we want to measure it photons

746
00:35:59,219 --> 00:36:02,578
Lux whatever like we you know however we

747
00:36:01,318 --> 00:36:06,599
want to

748
00:36:02,579 --> 00:36:09,390
that's our lumens however we want to

749
00:36:06,599 --> 00:36:10,619
sort of put caps or specify our lighting

750
00:36:09,389 --> 00:36:14,190
or even just an arbitrary value

751
00:36:10,619 --> 00:36:16,349
handmaids whatever it is we know that

752
00:36:14,190 --> 00:36:17,849
how much we started with because our

753
00:36:16,349 --> 00:36:19,559
emitters at the beginning before

754
00:36:17,849 --> 00:36:20,849
anything else happens we know how many

755
00:36:19,559 --> 00:36:23,039
of them there were and how bright they

756
00:36:20,849 --> 00:36:25,470
were supposed to be so we have some

757
00:36:23,039 --> 00:36:26,700
value we can use to say this is the

758
00:36:25,469 --> 00:36:29,939
total brightness that should get

759
00:36:26,699 --> 00:36:34,230
distributed through the scene full-stop

760
00:36:29,940 --> 00:36:37,980
right and so if we know that piece of

761
00:36:34,230 --> 00:36:41,579
information then one interesting aspect

762
00:36:37,980 --> 00:36:46,409
of it is we could say that at the end of

763
00:36:41,579 --> 00:36:49,048
every lighting path we do not expect to

764
00:36:46,409 --> 00:36:55,768
have any more than that light in the

765
00:36:49,048 --> 00:37:01,048
scene so we could track the total light

766
00:36:55,768 --> 00:37:07,798
as a sum and then normalize to that at

767
00:37:01,048 --> 00:37:11,099
the end right now the problem with that

768
00:37:07,798 --> 00:37:13,409
approach is that that's going to be easy

769
00:37:11,099 --> 00:37:16,739
to do on the CPU but I suspect it's

770
00:37:13,409 --> 00:37:17,929
relatively tough to do on the GPU maybe

771
00:37:16,739 --> 00:37:20,338
not

772
00:37:17,929 --> 00:37:22,949
you could use a hierarchical approach to

773
00:37:20,338 --> 00:37:25,108
some of the light in that case but you

774
00:37:22,949 --> 00:37:32,689
can kind of see why it's not maybe the

775
00:37:25,108 --> 00:37:32,690
best idea because of its global nature

776
00:37:37,068 --> 00:37:42,420
essentially the problem with it is you

777
00:37:39,108 --> 00:37:44,338
know if I if I imagine how that would be

778
00:37:42,420 --> 00:37:45,450
done here you could you could see in

779
00:37:44,338 --> 00:37:46,650
this compute lighting thing we could

780
00:37:45,449 --> 00:37:48,980
just have something that was like oh

781
00:37:46,650 --> 00:37:48,980
yeah

782
00:37:49,900 --> 00:37:54,500
you just say the total light is some

783
00:37:52,159 --> 00:37:57,259
value and then we come through here and

784
00:37:54,500 --> 00:37:59,510
we sum it up and at the end we divide by

785
00:37:57,260 --> 00:38:01,700
that value and we're done right

786
00:37:59,510 --> 00:38:06,710
so inside here we just say like you know

787
00:38:01,699 --> 00:38:08,000
total light plus equals right and then

788
00:38:06,710 --> 00:38:11,750
we just want to make sure the total

789
00:38:08,000 --> 00:38:15,920
light matches up at the end and that's

790
00:38:11,750 --> 00:38:17,599
it so we can do something like that but

791
00:38:15,920 --> 00:38:18,858
then again you know you can see when

792
00:38:17,599 --> 00:38:21,829
you're in a straight-line path like this

793
00:38:18,858 --> 00:38:24,679
using accumulators for a global

794
00:38:21,829 --> 00:38:26,900
accumulator is easy because you know you

795
00:38:24,679 --> 00:38:28,969
just put it in line like that but when

796
00:38:26,900 --> 00:38:30,380
you move out to a parallelized version

797
00:38:28,969 --> 00:38:33,409
of the algorithm you have a problem

798
00:38:30,380 --> 00:38:35,838
which is that at the end of it you have

799
00:38:33,409 --> 00:38:38,298
to gather up that sum somehow and that

800
00:38:35,838 --> 00:38:39,980
can be pretty tricky on GPU even though

801
00:38:38,298 --> 00:38:48,288
it wouldn't be tricky on a seat on a

802
00:38:39,980 --> 00:38:50,210
paralyzed version on the CPU whose GPUs

803
00:38:48,289 --> 00:38:53,119
at least but unless you're using like

804
00:38:50,210 --> 00:38:55,278
CUDA or something GPUs are actually

805
00:38:53,119 --> 00:38:58,490
really bad that if you're just using

806
00:38:55,278 --> 00:39:01,518
like a DirectX or open jail they don't

807
00:38:58,489 --> 00:39:04,068
have a lot of good ways of saying here's

808
00:39:01,518 --> 00:39:06,318
the concept of a thread let's have every

809
00:39:04,068 --> 00:39:09,108
thread increment some variable that's

810
00:39:06,318 --> 00:39:12,920
how much it did a thing X and then we'll

811
00:39:09,108 --> 00:39:14,808
sum those at the end again it's just

812
00:39:12,920 --> 00:39:17,059
because the shader stuff wasn't really

813
00:39:14,809 --> 00:39:19,400
initially set up for it so you end up

814
00:39:17,059 --> 00:39:21,589
like having to get pretty far down the

815
00:39:19,400 --> 00:39:24,309
line with extensions and whatever's or

816
00:39:21,588 --> 00:39:26,900
even just let go to something like CUDA

817
00:39:24,309 --> 00:39:30,278
to get to the point where you have basic

818
00:39:26,900 --> 00:39:30,278
threading primitives that you might want

819
00:39:31,268 --> 00:39:38,318
such as value for thread or thread-local

820
00:39:35,088 --> 00:39:38,318
storage whatever you want to call it

821
00:39:38,650 --> 00:39:42,440
which makes that kind of solution which

822
00:39:41,000 --> 00:39:44,329
makes this solution to this problem

823
00:39:42,440 --> 00:39:45,500
trivial but again what I don't really

824
00:39:44,329 --> 00:39:50,900
know that we're going to have access to

825
00:39:45,500 --> 00:39:52,759
it in in a shader model 3 so anyway so

826
00:39:50,900 --> 00:39:56,420
we could do something like that however

827
00:39:52,759 --> 00:39:58,699
even that doesn't necessarily solve our

828
00:39:56,420 --> 00:40:01,278
problem because it doesn't necessarily

829
00:39:58,699 --> 00:40:03,799
mean that the light is saying in terms

830
00:40:01,278 --> 00:40:05,780
of how it bounces around

831
00:40:03,800 --> 00:40:08,180
areas because then what you what you

832
00:40:05,780 --> 00:40:10,280
still might get is a circumstance where

833
00:40:08,179 --> 00:40:12,019
you've got you know two reflectors or

834
00:40:10,280 --> 00:40:14,210
three reflectors or something like this

835
00:40:12,019 --> 00:40:16,699
and immittance that comes in here just

836
00:40:14,210 --> 00:40:19,369
bounces around it here really a lot and

837
00:40:16,699 --> 00:40:22,429
and Jack's the the total lighting in

838
00:40:19,369 --> 00:40:26,529
this area substantially for no real

839
00:40:22,429 --> 00:40:28,489
reason just because it is over

840
00:40:26,530 --> 00:40:31,130
contributing it like it's its

841
00:40:28,489 --> 00:40:32,329
contribution is overvalued because

842
00:40:31,130 --> 00:40:36,410
you're only doing that sort of total

843
00:40:32,329 --> 00:40:39,650
lighting so what we would rather do I

844
00:40:36,409 --> 00:40:41,989
think if we can is figure out some way

845
00:40:39,650 --> 00:40:45,130
of keeping the total radiance from

846
00:40:41,989 --> 00:40:50,659
something the total sort of output

847
00:40:45,130 --> 00:40:53,000
radiance from something to be fairer in

848
00:40:50,659 --> 00:40:55,399
general when it's being computed such

849
00:40:53,000 --> 00:41:01,989
that you know when you see it from two

850
00:40:55,400 --> 00:41:04,820
places and I got my light from you the

851
00:41:01,989 --> 00:41:07,339
like we just sort of having a difference

852
00:41:04,820 --> 00:41:08,990
between that emitted light and the

853
00:41:07,340 --> 00:41:12,530
reflected light to the eye or something

854
00:41:08,989 --> 00:41:17,629
right we need some way of keeping these

855
00:41:12,530 --> 00:41:21,310
values sort of more stable through the

856
00:41:17,630 --> 00:41:23,720
iteration process if that makes sense

857
00:41:21,309 --> 00:41:25,460
and unfortunately I'm not really sure

858
00:41:23,719 --> 00:41:27,679
this is the part where probably what I

859
00:41:25,460 --> 00:41:30,500
would do if I was programming on my own

860
00:41:27,679 --> 00:41:32,179
is I would want to go read some of the

861
00:41:30,500 --> 00:41:34,639
radiosity literature the original

862
00:41:32,179 --> 00:41:36,710
radiosity literature just to find out

863
00:41:34,639 --> 00:41:38,629
how they tend to structure at their

864
00:41:36,710 --> 00:41:43,550
solvers so that the light that bounces

865
00:41:38,630 --> 00:41:47,980
around is summed up proper in a fair you

866
00:41:43,550 --> 00:41:47,980
know it summed up in a fair model right

867
00:41:48,460 --> 00:42:01,670
but I'm not really sure I'm not really

868
00:41:58,789 --> 00:42:03,829
sure how they do that right I'm not sure

869
00:42:01,670 --> 00:42:05,210
how they traditionally set that up it's

870
00:42:03,829 --> 00:42:07,369
good it's again it's going to be asked

871
00:42:05,210 --> 00:42:12,199
to be something fairly careful in terms

872
00:42:07,369 --> 00:42:13,489
of how you account for the light and I

873
00:42:12,199 --> 00:42:15,619
don't know if the approach that they

874
00:42:13,489 --> 00:42:17,328
tended to take was let's make sure we

875
00:42:15,619 --> 00:42:19,038
calculate the lighting transfer

876
00:42:17,329 --> 00:42:21,680
Cheerilee so that we don't have this

877
00:42:19,039 --> 00:42:23,299
problem at all or if they were like no

878
00:42:21,679 --> 00:42:26,538
we try to make something that converges

879
00:42:23,298 --> 00:42:29,208
on the solution and we can have sloppy

880
00:42:26,539 --> 00:42:31,420
calculations for how the light is

881
00:42:29,208 --> 00:42:37,328
transferred and we still expect it to

882
00:42:31,420 --> 00:42:37,329
come back to something reasonable right

883
00:42:38,978 --> 00:42:42,468
so yeah that's what I would normally do

884
00:42:41,179 --> 00:42:43,788
but I don't think that that doesn't tend

885
00:42:42,469 --> 00:42:45,170
to work particularly well in the streams

886
00:42:43,789 --> 00:42:47,390
so I think I'm going to have to just

887
00:42:45,170 --> 00:42:51,889
kind of hack it through myself that make

888
00:42:47,389 --> 00:42:54,108
sense and but I wouldn't say that you

889
00:42:51,889 --> 00:42:55,458
know that's what I would advise doing so

890
00:42:54,108 --> 00:42:57,288
you know in terms of this being an

891
00:42:55,458 --> 00:42:58,489
educational stream what I would say is

892
00:42:57,289 --> 00:43:01,609
that if you were looking at a problem

893
00:42:58,489 --> 00:43:03,528
like this and you're not sure about it

894
00:43:01,608 --> 00:43:07,009
and there is a bunch of literature on it

895
00:43:03,528 --> 00:43:08,748
which in this case like I said this is

896
00:43:07,009 --> 00:43:12,019
just called a radiosity problem in

897
00:43:08,748 --> 00:43:13,488
computer graphics if it's well studied

898
00:43:12,018 --> 00:43:14,508
it's not the kind of thing that you're

899
00:43:13,489 --> 00:43:16,639
going to have to go digging for

900
00:43:14,509 --> 00:43:19,639
extremely esoteric papers to read about

901
00:43:16,639 --> 00:43:20,958
there's a lot of paper static probably

902
00:43:19,639 --> 00:43:22,338
what I would do is go try to read the

903
00:43:20,958 --> 00:43:24,379
radiosity literature a bit and just

904
00:43:22,338 --> 00:43:25,849
tular wise myself with what that's

905
00:43:24,380 --> 00:43:30,650
already done in the area so that I can

906
00:43:25,849 --> 00:43:32,269
kind of you know know what what the

907
00:43:30,650 --> 00:43:34,568
general techniques might be and see if

908
00:43:32,268 --> 00:43:37,909
any of them are going to be you know

909
00:43:34,568 --> 00:43:39,679
worthwhile here but if I have to puzzle

910
00:43:37,909 --> 00:43:41,449
through with myself then I guess what it

911
00:43:39,679 --> 00:43:49,448
comes down to is I'm just I'm a little

912
00:43:41,449 --> 00:43:56,709
bit stuck on on this sort of problem of

913
00:43:49,449 --> 00:44:02,079
not knowing about the occlusion process

914
00:43:56,708 --> 00:44:02,078
I'm just not sure how you deal with that

915
00:44:04,079 --> 00:44:10,259
because without some notion of the total

916
00:44:06,269 --> 00:44:12,869
amount of light that you are expecting

917
00:44:10,260 --> 00:44:15,000
to have I'm just not sure how you deal

918
00:44:12,869 --> 00:44:18,809
with that and furthermore I guess you

919
00:44:15,000 --> 00:44:20,369
know if you don't deal with that

920
00:44:18,809 --> 00:44:21,509
properly you're always going to have the

921
00:44:20,369 --> 00:44:24,630
thing I talked about would be over

922
00:44:21,510 --> 00:44:28,140
contributing so I'm not sure so you may

923
00:44:24,630 --> 00:44:39,680
just need a total light value there may

924
00:44:28,139 --> 00:44:43,710
really be there may really be no

925
00:44:39,679 --> 00:44:45,809
straightforward way to to make sure that

926
00:44:43,710 --> 00:44:53,059
you don't over contribute if you don't

927
00:44:45,809 --> 00:44:53,059
have proper shadowing yeah

928
00:44:58,539 --> 00:45:02,590
it sort of seems like you just have to

929
00:45:00,760 --> 00:45:05,110
have an overall exposure value it's like

930
00:45:02,590 --> 00:45:06,970
here's how much light got transferred

931
00:45:05,110 --> 00:45:08,940
which we know is going to be wrong

932
00:45:06,969 --> 00:45:12,250
because we're not including properly and

933
00:45:08,940 --> 00:45:14,950
then we just have to you know dump it

934
00:45:12,250 --> 00:45:17,369
down from there and I don't know if

935
00:45:14,949 --> 00:45:20,879
there's really any other way to do it

936
00:45:17,369 --> 00:45:23,519
because because without an accurate

937
00:45:20,880 --> 00:45:26,050
without a conservative way of

938
00:45:23,519 --> 00:45:29,259
transferring the light you're always

939
00:45:26,050 --> 00:45:32,050
going to have some overflow and if you

940
00:45:29,260 --> 00:45:33,910
have some overflow without if you don't

941
00:45:32,050 --> 00:45:37,440
have any way to measure the overflow I

942
00:45:33,909 --> 00:45:37,440
don't see what you could really do

943
00:46:04,610 --> 00:46:13,230
yeah I can't think of any other solution

944
00:46:10,650 --> 00:46:15,090
if you want an accurate lighting

945
00:46:13,230 --> 00:46:18,449
transfer it seems like you have to be

946
00:46:15,090 --> 00:46:33,050
some ated now I guess what I could say

947
00:46:18,449 --> 00:46:33,049
is that the that the ambient occlusion

948
00:46:33,440 --> 00:46:38,760
might be enough to make it so that you

949
00:46:36,599 --> 00:46:41,219
never have to worry about it

950
00:46:38,760 --> 00:46:44,970
transferring too much if you do the rest

951
00:46:41,219 --> 00:46:46,969
of it correctly because thinking through

952
00:46:44,969 --> 00:46:51,119
what happens with the ambient occlusion

953
00:46:46,969 --> 00:46:53,539
the ambient occlusion is anything

954
00:46:51,119 --> 00:46:56,279
[Music]

955
00:46:53,539 --> 00:46:58,409
overshadows things so the visibility

956
00:46:56,280 --> 00:47:00,690
value that we compute with the ambient

957
00:46:58,409 --> 00:47:03,210
occlusion is going to knock it down

958
00:47:00,690 --> 00:47:07,650
based on the total amount of occlusion

959
00:47:03,210 --> 00:47:13,519
there could have been and it should over

960
00:47:07,650 --> 00:47:13,519
compensate so in theory this value here

961
00:47:14,030 --> 00:47:18,720
is going to be reflected the fact that

962
00:47:17,400 --> 00:47:21,539
it's taking up part of the solid angle

963
00:47:18,719 --> 00:47:24,719
here isn't reflected I guess what we

964
00:47:21,539 --> 00:47:26,699
don't know however is that that's really

965
00:47:24,719 --> 00:47:28,199
true for light because the light could

966
00:47:26,699 --> 00:47:29,939
be coming from a totally different angle

967
00:47:28,199 --> 00:47:33,859
and the light's coming from a different

968
00:47:29,940 --> 00:47:33,860
angle all bets are off

969
00:48:00,048 --> 00:48:07,108
yeah I'm not sure so let's think about

970
00:48:05,278 --> 00:48:09,719
this from I guess just from the

971
00:48:07,108 --> 00:48:12,358
perspective of if I let myself use the

972
00:48:09,719 --> 00:48:15,568
sort of total lighting approach let's

973
00:48:12,358 --> 00:48:18,239
just see what happens so what I want to

974
00:48:15,568 --> 00:48:21,088
know here is how much total light you

975
00:48:18,239 --> 00:48:22,969
know sort of a have a value that's like

976
00:48:21,088 --> 00:48:26,639
the total amount of light that should be

977
00:48:22,969 --> 00:48:28,858
spread around and so you know what we're

978
00:48:26,639 --> 00:48:31,170
sort of doing at the moment is we have

979
00:48:28,858 --> 00:48:33,869
these lighting elements and some of this

980
00:48:31,170 --> 00:48:35,759
information is dynamic and some of it

981
00:48:33,869 --> 00:48:38,579
static so we should sort of start to

982
00:48:35,759 --> 00:48:48,900
maybe segregate that so here's the

983
00:48:38,579 --> 00:48:50,459
static information and here's the

984
00:48:48,900 --> 00:48:53,849
dynamic information at the moment all

985
00:48:50,458 --> 00:48:58,858
right so I believe transparency and

986
00:48:53,849 --> 00:49:02,190
radius those are not dynamic right they

987
00:48:58,858 --> 00:49:07,650
don't change the rest of this stuff I

988
00:49:02,190 --> 00:49:13,068
guess reflect color so reflect color is

989
00:49:07,650 --> 00:49:13,068
currently not dynamic either we go

990
00:49:13,458 --> 00:49:22,108
probably be on this side to avoid going

991
00:49:17,639 --> 00:49:24,808
underneath my head so if we take a look

992
00:49:22,108 --> 00:49:27,268
at what's going on there with the PNTR

993
00:49:24,809 --> 00:49:29,069
FC there that that top part those are

994
00:49:27,268 --> 00:49:33,028
the values that are actually set by the

995
00:49:29,068 --> 00:49:34,708
game engine sort of irrevocably and they

996
00:49:33,028 --> 00:49:37,978
just remain the same the entire time so

997
00:49:34,708 --> 00:49:40,558
there's no those are not values that

998
00:49:37,978 --> 00:49:44,038
iterate around then we've got sort of

999
00:49:40,559 --> 00:49:45,449
the front emit and vacuum it values the

1000
00:49:44,039 --> 00:49:49,170
front emit and back advised we're not

1001
00:49:45,449 --> 00:49:51,539
doing back a mission yet we should for

1002
00:49:49,170 --> 00:49:54,119
sprite cards obviously and then we've

1003
00:49:51,539 --> 00:49:57,778
got the accumulated color the visibility

1004
00:49:54,119 --> 00:50:01,380
in the shadow so the way this is working

1005
00:49:57,778 --> 00:50:03,420
at the moment is that the shadow the

1006
00:50:01,380 --> 00:50:04,150
shadow value and the visibility value

1007
00:50:03,420 --> 00:50:08,858
are used

1008
00:50:04,150 --> 00:50:19,150
in the ambient occlusion pass right so

1009
00:50:08,858 --> 00:50:24,369
these are really and technically the

1010
00:50:19,150 --> 00:50:27,548
shadow value this is like a transient

1011
00:50:24,369 --> 00:50:29,890
value we don't really use the shadow

1012
00:50:27,548 --> 00:50:32,769
value except as like an accumulator like

1013
00:50:29,889 --> 00:50:35,858
it's really just a cute kewpie for

1014
00:50:32,769 --> 00:50:38,619
ambient occlusion right and so what

1015
00:50:35,858 --> 00:50:40,328
happens is we store our result into that

1016
00:50:38,619 --> 00:50:42,250
shadow value it could just be like a

1017
00:50:40,329 --> 00:50:45,760
temporary array that was right in just

1018
00:50:42,250 --> 00:50:48,130
this loop it doesn't need to persist so

1019
00:50:45,760 --> 00:50:51,849
that's a transient value and the same is

1020
00:50:48,130 --> 00:50:54,940
true of a qmc right of TMC at the moment

1021
00:50:51,849 --> 00:51:00,250
is not used as the actual like permanent

1022
00:50:54,940 --> 00:51:01,900
value it's used as something that gets

1023
00:51:00,250 --> 00:51:05,048
transferred eventually so you can kind

1024
00:51:01,900 --> 00:51:07,230
of see it like in here right when we're

1025
00:51:05,048 --> 00:51:09,759
computing the light source information

1026
00:51:07,230 --> 00:51:12,789
we grab out of the source

1027
00:51:09,760 --> 00:51:15,039
this light color is the front emit C and

1028
00:51:12,789 --> 00:51:18,970
we store back to the desk the

1029
00:51:15,039 --> 00:51:20,859
accumulator then at the end we take the

1030
00:51:18,969 --> 00:51:23,889
front emit color and that's when we take

1031
00:51:20,858 --> 00:51:26,889
that accumulation into account right so

1032
00:51:23,889 --> 00:51:32,710
in here we could also say that this part

1033
00:51:26,889 --> 00:51:37,028
is transient right another way to write

1034
00:51:32,710 --> 00:51:38,289
this I suppose would be like this but I

1035
00:51:37,028 --> 00:51:41,409
don't I'm going to keep them with their

1036
00:51:38,289 --> 00:51:43,829
with their sections and maybe I'll put

1037
00:51:41,409 --> 00:51:43,828
it at the end

1038
00:51:48,440 --> 00:52:04,380
so so basically what we want to do is we

1039
00:52:01,318 --> 00:52:06,088
want to focus on how we would go about

1040
00:52:04,380 --> 00:52:07,410
approaching the light conservation

1041
00:52:06,088 --> 00:52:09,058
problem so what you can see here is

1042
00:52:07,409 --> 00:52:13,348
we've got this friend amid see we've got

1043
00:52:09,059 --> 00:52:15,449
the emission value and the color RGB the

1044
00:52:13,349 --> 00:52:18,209
emission value is just telling how

1045
00:52:15,449 --> 00:52:20,548
bright this thing emits right and so

1046
00:52:18,208 --> 00:52:22,048
that tells us the total emission only

1047
00:52:20,548 --> 00:52:23,429
our lights are going to have front emit

1048
00:52:22,048 --> 00:52:25,920
sees up to something at the beginning

1049
00:52:23,429 --> 00:52:28,078
and off we go now one of the interesting

1050
00:52:25,920 --> 00:52:31,259
things about ref C which is the

1051
00:52:28,079 --> 00:52:33,479
reflected color is we should not never

1052
00:52:31,259 --> 00:52:36,088
allow a surface to reflect 100% of the

1053
00:52:33,478 --> 00:52:37,618
light that it receives why shouldn't we

1054
00:52:36,088 --> 00:52:39,989
allow a service to reflect under percent

1055
00:52:37,619 --> 00:52:48,180
of light receives a because there is no

1056
00:52:39,989 --> 00:52:51,900
such a thing as a perfect reflected

1057
00:52:48,179 --> 00:52:54,298
surface so what we want to probably

1058
00:52:51,900 --> 00:52:56,309
recognize is the fact that the reflected

1059
00:52:54,298 --> 00:52:58,978
color from a surface has to be somewhat

1060
00:52:56,309 --> 00:53:01,140
less than the light coming in on all

1061
00:52:58,978 --> 00:53:04,048
three channels so red green and blue

1062
00:53:01,139 --> 00:53:06,268
light that comes in it has to be

1063
00:53:04,048 --> 00:53:10,108
reflected out at less than what kid it

1064
00:53:06,268 --> 00:53:12,808
only perhaps very slightly the reason

1065
00:53:10,108 --> 00:53:14,400
for that is if you think about trying to

1066
00:53:12,809 --> 00:53:16,170
do any kind of accurate lighting

1067
00:53:14,400 --> 00:53:23,568
solution I don't know why we're still

1068
00:53:16,170 --> 00:53:26,489
running the game by the way what is this

1069
00:53:23,568 --> 00:53:28,699
OpenGL error encountered what's the

1070
00:53:26,489 --> 00:53:28,699
error

1071
00:53:30,730 --> 00:53:37,650
they look about a GLSL shader yeah

1072
00:53:34,690 --> 00:53:37,650
that's no good

1073
00:53:41,940 --> 00:53:48,000
cannot apply dot operator to an array

1074
00:53:49,469 --> 00:53:58,108
what did I accidentally touch something

1075
00:53:53,710 --> 00:53:58,108
in the OpenGL code what was that

1076
00:54:08,019 --> 00:54:23,199
I do not know what it was complaining

1077
00:54:15,760 --> 00:54:24,940
about there hmm to see if that happens

1078
00:54:23,199 --> 00:54:29,189
again or if that's just open jail being

1079
00:54:24,940 --> 00:54:32,019
weird anyway back to what I was saying

1080
00:54:29,190 --> 00:54:34,300
so the problem is that if we actually

1081
00:54:32,019 --> 00:54:36,219
look at what would happen if we allowed

1082
00:54:34,300 --> 00:54:39,550
a hundred percent light transmission is

1083
00:54:36,219 --> 00:54:42,549
that if you have an emitter that emits

1084
00:54:39,550 --> 00:54:45,070
even a single photon right here's one

1085
00:54:42,550 --> 00:54:47,080
photon and these are 100 percent

1086
00:54:45,070 --> 00:54:48,760
reflective surfaces you can get a

1087
00:54:47,079 --> 00:54:51,069
situation with this photon just bounces

1088
00:54:48,760 --> 00:54:53,220
back and forth forever right it

1089
00:54:51,070 --> 00:54:58,150
literally creates an impossible scenario

1090
00:54:53,219 --> 00:55:01,419
where there's no way to ever get the

1091
00:54:58,150 --> 00:55:03,880
light to transfer properly right because

1092
00:55:01,420 --> 00:55:06,340
there has to be in order for there to be

1093
00:55:03,880 --> 00:55:11,230
a stable lighting solution that you can

1094
00:55:06,340 --> 00:55:14,890
end up with there has to be a way that

1095
00:55:11,230 --> 00:55:16,929
all light eventually goes somewhere you

1096
00:55:14,889 --> 00:55:20,289
can't have it that light bounces around

1097
00:55:16,929 --> 00:55:22,599
forever and expect to have any kind of

1098
00:55:20,289 --> 00:55:24,820
converging solution because it's the

1099
00:55:22,599 --> 00:55:27,519
like and bounce around forever in the

1100
00:55:24,820 --> 00:55:31,210
scene then there is no solution right

1101
00:55:27,519 --> 00:55:33,880
there is no actual solution to what the

1102
00:55:31,210 --> 00:55:36,039
color is of each individual surface so

1103
00:55:33,880 --> 00:55:37,920
typically speaking we want to make sure

1104
00:55:36,039 --> 00:55:39,940
for our lighting situation that our

1105
00:55:37,920 --> 00:55:44,110
reflectance should be something like

1106
00:55:39,940 --> 00:55:45,610
this so when people specify RGB colors

1107
00:55:44,110 --> 00:55:48,039
they can use the full range if they want

1108
00:55:45,610 --> 00:55:50,019
to but our actual interpretation of what

1109
00:55:48,039 --> 00:55:51,849
that's going to mean in terms of when we

1110
00:55:50,019 --> 00:55:53,500
reflect light all around we're going to

1111
00:55:51,849 --> 00:55:55,119
assume that what that actually means is

1112
00:55:53,500 --> 00:55:58,900
that the reflected light is less than

1113
00:55:55,119 --> 00:56:00,309
the total light that came in and we'll

1114
00:55:58,900 --> 00:56:01,930
assume that our services can get pretty

1115
00:56:00,309 --> 00:56:07,000
reflective but just not all the way

1116
00:56:01,929 --> 00:56:08,980
reflective 0.95 or 0.9 you know 90% of

1117
00:56:07,000 --> 00:56:11,199
the light 95% of the light can be

1118
00:56:08,980 --> 00:56:14,980
reflected out but not a hundred percent

1119
00:56:11,199 --> 00:56:18,309
right and and so we'll just assume that

1120
00:56:14,980 --> 00:56:21,650
that's the case now so moving on from

1121
00:56:18,309 --> 00:56:23,989
there when we take a look at this

1122
00:56:21,650 --> 00:56:25,818
emission situation right we now have

1123
00:56:23,989 --> 00:56:27,288
reflected that we know reflectance that

1124
00:56:25,818 --> 00:56:30,108
we know would eventually converge and we

1125
00:56:27,289 --> 00:56:36,109
have an emission color that we set when

1126
00:56:30,108 --> 00:56:38,420
we go into the sort of this iteration

1127
00:56:36,108 --> 00:56:40,369
thing if I want to have some idea of the

1128
00:56:38,420 --> 00:56:42,889
total amount of light what I can do is I

1129
00:56:40,369 --> 00:56:43,608
can just have that value be stored in

1130
00:56:42,889 --> 00:56:48,519
here somewhere

1131
00:56:43,608 --> 00:56:48,519
so I could do something like total light

1132
00:56:50,710 --> 00:56:59,269
or total light levels or something like

1133
00:56:56,210 --> 00:57:01,579
this so that we come here and we track

1134
00:56:59,269 --> 00:57:04,579
how much light is going to be emitted at

1135
00:57:01,579 --> 00:57:06,890
the outset of it what I can say is that

1136
00:57:04,579 --> 00:57:10,400
the total light levels are going to be

1137
00:57:06,889 --> 00:57:17,269
the sum of all of the emitters that we

1138
00:57:10,400 --> 00:57:22,910
have and I could say initial total light

1139
00:57:17,269 --> 00:57:26,838
level even just to say which one that

1140
00:57:22,909 --> 00:57:30,670
was so I can keep a total of how much

1141
00:57:26,838 --> 00:57:33,078
emitted light we started with right and

1142
00:57:30,670 --> 00:57:35,389
one thing I'm not wanting a percent sure

1143
00:57:33,079 --> 00:57:41,480
about is the emissions values how we're

1144
00:57:35,389 --> 00:57:45,108
ranging those I'm not really sure how

1145
00:57:41,480 --> 00:57:48,289
that value is supposed to be interpreted

1146
00:57:45,108 --> 00:57:50,150
but we know how much total initial light

1147
00:57:48,289 --> 00:57:53,329
there is in the scene by looking at this

1148
00:57:50,150 --> 00:57:55,490
initial total light level right that's

1149
00:57:53,329 --> 00:57:57,859
sort of our our value that we can

1150
00:57:55,489 --> 00:58:01,250
understand so then when we come through

1151
00:57:57,858 --> 00:58:04,159
here a secondary loop and we do our

1152
00:58:01,250 --> 00:58:06,019
lighting computation we're going to

1153
00:58:04,159 --> 00:58:10,429
transfer a certain amount of light every

1154
00:58:06,019 --> 00:58:11,809
time right so we're going to take a of

1155
00:58:10,429 --> 00:58:14,358
light and we're going to transfer it and

1156
00:58:11,809 --> 00:58:16,940
that transfer however much light got

1157
00:58:14,358 --> 00:58:18,710
transferred we could say that we want it

1158
00:58:16,940 --> 00:58:20,539
to sum up to whatever the initial total

1159
00:58:18,710 --> 00:58:23,510
light level was or something similar

1160
00:58:20,539 --> 00:58:28,190
right so on each iteration we could say

1161
00:58:23,510 --> 00:58:30,470
total light transfer I mean here we

1162
00:58:28,190 --> 00:58:33,650
could say all right every time we do an

1163
00:58:30,469 --> 00:58:36,219
accumulation we will say the total light

1164
00:58:33,650 --> 00:58:36,220
transfer

1165
00:58:37,690 --> 00:58:45,800
get that Valve up well gets that value

1166
00:58:42,099 --> 00:58:47,720
added to it so then at the end we know

1167
00:58:45,800 --> 00:58:52,339
how much total like got transferred on

1168
00:58:47,719 --> 00:58:53,929
each of our channels and we now are in a

1169
00:58:52,338 --> 00:58:57,320
position to potentially do something

1170
00:58:53,929 --> 00:58:59,719
about it if we wanted to right now since

1171
00:58:57,320 --> 00:59:02,660
we don't super care that much about the

1172
00:58:59,719 --> 00:59:04,519
reflectance values we kind of just want

1173
00:59:02,659 --> 00:59:06,649
to know more about how much light we did

1174
00:59:04,519 --> 00:59:09,199
total I'm wondering if this kind of

1175
00:59:06,650 --> 00:59:11,690
though does need to be sort of thought

1176
00:59:09,199 --> 00:59:16,210
about just as a single single power

1177
00:59:11,690 --> 00:59:18,079
value right like a photon power value

1178
00:59:16,210 --> 00:59:21,949
because we don't really want to

1179
00:59:18,079 --> 00:59:28,069
normalize our channels separately so

1180
00:59:21,949 --> 00:59:29,358
it's a little confusing right because

1181
00:59:28,070 --> 00:59:31,280
what we really want to do is say all

1182
00:59:29,358 --> 00:59:33,259
right when we come through here we've

1183
00:59:31,280 --> 00:59:36,260
got the specular light level the diffuse

1184
00:59:33,260 --> 00:59:39,140
light level what we want to do is try to

1185
00:59:36,260 --> 00:59:43,599
say well how much light were we actually

1186
00:59:39,139 --> 00:59:46,579
putting out here we really want it to be

1187
00:59:43,599 --> 00:59:56,480
more like this value here that we're

1188
00:59:46,579 --> 00:59:58,809
tracking and I guess I can do that

1189
00:59:56,480 --> 00:59:58,809
pretty easily

1190
01:00:06,559 --> 01:00:16,049
so if I do something like this because

1191
01:00:08,670 --> 01:00:17,220
these are non these are this is just a

1192
01:00:16,050 --> 01:00:18,630
series of skitters that have been blown

1193
01:00:17,219 --> 01:00:28,259
out so it can multiply the reflective

1194
01:00:18,630 --> 01:00:32,250
color later so that's not quite true

1195
01:00:28,260 --> 01:00:41,130
so it's actually this part in here that

1196
01:00:32,250 --> 01:00:43,769
I want because I don't really want to

1197
01:00:41,130 --> 01:00:45,030
multiply by the light color yet so one

1198
01:00:43,769 --> 01:00:47,429
of the interesting things here is that

1199
01:00:45,030 --> 01:00:51,680
that multiplication actually could have

1200
01:00:47,429 --> 01:00:53,639
been done at the end as well which

1201
01:00:51,679 --> 01:00:56,159
because the light color is the light

1202
01:00:53,639 --> 01:00:58,079
color regardless so if we take a look at

1203
01:00:56,159 --> 01:01:01,980
what's happening here

1204
01:00:58,079 --> 01:01:06,360
I guess it's if you want to change the

1205
01:01:01,980 --> 01:01:08,039
specular color and the and the diffuse

1206
01:01:06,360 --> 01:01:09,660
color separately to have more of a

1207
01:01:08,039 --> 01:01:11,940
control over the light source than it

1208
01:01:09,659 --> 01:01:14,759
makes some sense so I sort of see why we

1209
01:01:11,940 --> 01:01:17,610
did it but still so what I really want

1210
01:01:14,760 --> 01:01:21,290
to do here is just have some some like

1211
01:01:17,610 --> 01:01:21,289
this distance fall-off times diffuse

1212
01:01:21,619 --> 01:01:27,750
coefficient times cosine angle what I

1213
01:01:24,360 --> 01:01:30,230
really want here is Disputes contribs or

1214
01:01:27,750 --> 01:01:30,230
something like that

1215
01:01:37,269 --> 01:01:52,610
so that's the diffuse contribution the

1216
01:01:43,909 --> 01:01:54,259
specular contribution it looks like to

1217
01:01:52,610 --> 01:01:56,420
be done exactly the same way we're not

1218
01:01:54,260 --> 01:01:57,770
using this yet so we don't really have

1219
01:01:56,420 --> 01:02:00,470
to care about this path but I guess

1220
01:01:57,769 --> 01:02:01,880
we'll sort of leave it in nominally so

1221
01:02:00,469 --> 01:02:04,579
if I have both the specular and the

1222
01:02:01,880 --> 01:02:10,340
diffused contributions then what I can

1223
01:02:04,579 --> 01:02:13,219
do is say that the that sort of a team

1224
01:02:10,340 --> 01:02:15,920
light value here is just going to record

1225
01:02:13,219 --> 01:02:20,569
that information so the accumulate is

1226
01:02:15,920 --> 01:02:24,860
going to be the diffuse contributor

1227
01:02:20,570 --> 01:02:27,230
contribs and that's how much and I

1228
01:02:24,860 --> 01:02:31,090
supposed to keep this naming reasonable

1229
01:02:27,230 --> 01:02:33,079
will say that accumulated contribution

1230
01:02:31,090 --> 01:02:34,820
so once we know the accumulated

1231
01:02:33,079 --> 01:02:40,400
contribution we can do the total light

1232
01:02:34,820 --> 01:02:42,110
transfer is plus the acute rib we can

1233
01:02:40,400 --> 01:02:43,670
assume that since we're modulating by

1234
01:02:42,110 --> 01:02:48,880
the visibility we'll do that as well

1235
01:02:43,670 --> 01:02:52,369
right so that modulated visibility there

1236
01:02:48,880 --> 01:02:54,590
that gives us the total light transfer

1237
01:02:52,369 --> 01:02:56,480
and now we know how much light we

1238
01:02:54,590 --> 01:02:59,329
transferred versus how much light we

1239
01:02:56,480 --> 01:03:01,190
should have so what I can do there is

1240
01:02:59,329 --> 01:03:03,139
say here is the initial total light

1241
01:03:01,190 --> 01:03:05,119
level and what we'll do is we'll just

1242
01:03:03,139 --> 01:03:08,029
use that as a scalar value so we'll say

1243
01:03:05,119 --> 01:03:11,329
the initial total light level is going

1244
01:03:08,030 --> 01:03:15,470
to be whatever the vert zero emission

1245
01:03:11,329 --> 01:03:17,449
was and we add that together right so

1246
01:03:15,469 --> 01:03:22,639
now we kind of know how much total light

1247
01:03:17,449 --> 01:03:27,199
we're putting out into the scene in a

1248
01:03:22,639 --> 01:03:29,359
sort of happy way and we should be able

1249
01:03:27,199 --> 01:03:31,129
to then say well if we know the total

1250
01:03:29,360 --> 01:03:37,849
transfer and we know the total light

1251
01:03:31,130 --> 01:03:41,210
level we can correct for the wrongness

1252
01:03:37,849 --> 01:03:46,159
of the transfer right so what we could

1253
01:03:41,210 --> 01:03:48,170
say is like the correction for the light

1254
01:03:46,159 --> 01:03:48,949
amounts is going to be the total light

1255
01:03:48,170 --> 01:03:52,400
transfer

1256
01:03:48,949 --> 01:03:55,039
is how much we got right and we want the

1257
01:03:52,400 --> 01:03:58,970
total light level let's just say the

1258
01:03:55,039 --> 01:04:04,429
initial light level little bit close

1259
01:03:58,969 --> 01:04:05,869
initial what was it called did I call it

1260
01:04:04,429 --> 01:04:17,089
like an initial light level or something

1261
01:04:05,869 --> 01:04:18,319
like that initial total light level so

1262
01:04:17,090 --> 01:04:20,630
we can compute a correction factor

1263
01:04:18,320 --> 01:04:23,150
that's like we should have had this much

1264
01:04:20,630 --> 01:04:24,380
light total machine we ended up

1265
01:04:23,150 --> 01:04:25,820
transferring this much light

1266
01:04:24,380 --> 01:04:29,990
let's just keep those two consistent

1267
01:04:25,820 --> 01:04:36,530
right so what we can do is say that

1268
01:04:29,989 --> 01:04:38,019
correction factor applies to the total

1269
01:04:36,530 --> 01:04:46,280
amount of light that we end up with and

1270
01:04:38,019 --> 01:04:49,789
I guess the problem here is that again

1271
01:04:46,280 --> 01:04:51,400
that transference though we're trying to

1272
01:04:49,789 --> 01:04:58,489
keep the total amount of light constant

1273
01:04:51,400 --> 01:05:02,110
across everything so in theory what we

1274
01:04:58,489 --> 01:05:04,669
would do here I guess is just say that

1275
01:05:02,110 --> 01:05:10,460
we want to keep the total light level

1276
01:05:04,670 --> 01:05:12,920
constant for each go-around and so

1277
01:05:10,460 --> 01:05:15,470
presumably this correction would keep it

1278
01:05:12,920 --> 01:05:21,829
so that we've sent that amount of light

1279
01:05:15,469 --> 01:05:23,029
around but that doesn't really help us

1280
01:05:21,829 --> 01:05:24,909
with the second part of the problem

1281
01:05:23,030 --> 01:05:28,460
which is the fact that each iteration

1282
01:05:24,909 --> 01:05:30,949
will convict that much light but in

1283
01:05:28,460 --> 01:05:35,690
theory right

1284
01:05:30,949 --> 01:05:37,730
as long as we account for the number of

1285
01:05:35,690 --> 01:05:39,920
iterations we're doing by just divided

1286
01:05:37,730 --> 01:05:43,309
like by just saying each step is an

1287
01:05:39,920 --> 01:05:45,619
averaging step that should be okay right

1288
01:05:43,309 --> 01:05:48,049
so in other words the correction could

1289
01:05:45,619 --> 01:05:51,739
also factor in the number of iterations

1290
01:05:48,050 --> 01:05:57,130
we're going to do so you know we add in

1291
01:05:51,739 --> 01:05:57,129
the correction factor and also the

1292
01:06:00,739 --> 01:06:07,118
the total number of iterations we divide

1293
01:06:03,710 --> 01:06:07,119
by the total number of iterations

1294
01:06:12,849 --> 01:06:16,089
seems reasonable

1295
01:06:33,998 --> 01:06:40,068
essentially what we're saying there is

1296
01:06:35,869 --> 01:06:41,960
like okay so each time we add lighting

1297
01:06:40,068 --> 01:06:45,170
in we're going to add as much lighting

1298
01:06:41,960 --> 01:06:46,970
as there was total but we want to make

1299
01:06:45,170 --> 01:06:51,619
sure that we only add that amount of

1300
01:06:46,969 --> 01:06:52,969
light in the end meaning so we're going

1301
01:06:51,619 --> 01:06:54,979
to have however made like stuffs we do

1302
01:06:52,969 --> 01:06:56,538
if we do three lighting steps we want to

1303
01:06:54,978 --> 01:06:59,179
make sure that we add the correct amount

1304
01:06:56,539 --> 01:07:01,489
of light on each step but we also want

1305
01:06:59,179 --> 01:07:03,440
to make sure that we add that we are

1306
01:07:01,489 --> 01:07:06,499
averaging each of those steps together

1307
01:07:03,440 --> 01:07:11,119
and not adding the entire amount of

1308
01:07:06,498 --> 01:07:15,379
light every time right so that should

1309
01:07:11,119 --> 01:07:18,048
give us the answer there however the

1310
01:07:15,380 --> 01:07:23,298
problem with this is the front emit C

1311
01:07:18,048 --> 01:07:26,778
values again for the initial emitters we

1312
01:07:23,298 --> 01:07:29,440
need those to be zeroed out so the

1313
01:07:26,778 --> 01:07:32,989
initial emitter needs to not contribute

1314
01:07:29,440 --> 01:07:36,249
light anymore after the first time that

1315
01:07:32,989 --> 01:07:39,019
it's shot light out into the world right

1316
01:07:36,248 --> 01:07:41,509
because at that point it has done its

1317
01:07:39,018 --> 01:07:48,199
job of putting the light into the world

1318
01:07:41,509 --> 01:07:53,088
it's not supposed to it's not supposed

1319
01:07:48,199 --> 01:07:56,210
to put light out into the world again on

1320
01:07:53,088 --> 01:08:00,078
the next pass so what we really want

1321
01:07:56,210 --> 01:08:03,858
probably here is rather than summing the

1322
01:08:00,079 --> 01:08:06,048
accumulation maybe this just wants to be

1323
01:08:03,858 --> 01:08:09,558
setting the accumulation so this is how

1324
01:08:06,048 --> 01:08:12,079
much light you actually got right we

1325
01:08:09,559 --> 01:08:20,539
push the light out and we bounce it

1326
01:08:12,079 --> 01:08:28,750
around and so if we do that then we

1327
01:08:20,539 --> 01:08:28,750
wouldn't need this I think

1328
01:08:29,759 --> 01:08:35,889
right so again that's really pretty hand

1329
01:08:33,969 --> 01:08:37,689
wavey of me like nothing in there makes

1330
01:08:35,889 --> 01:08:42,690
a whole lot of sense I'm just kind of

1331
01:08:37,689 --> 01:08:42,689
again going for something see if we can

1332
01:08:55,229 --> 01:09:06,519
sorry I'm just trying to like puzzle it

1333
01:09:05,139 --> 01:09:10,509
through a little bit see if I can get to

1334
01:09:06,520 --> 01:09:17,469
something that seems more reasonable in

1335
01:09:10,509 --> 01:09:19,899
terms of convergence okay so specular

1336
01:09:17,469 --> 01:09:40,750
config particular C times cosine rest

1337
01:09:19,899 --> 01:09:44,578
angle there all right cosine is is

1338
01:09:40,750 --> 01:09:44,578
actually care

1339
01:09:52,369 --> 01:10:11,130
all right so yeah the convergence

1340
01:10:09,239 --> 01:10:12,960
properties there I'm starting to get a

1341
01:10:11,130 --> 01:10:14,520
little bit more of a handle on I think

1342
01:10:12,960 --> 01:10:16,859
what should be happening here because he

1343
01:10:14,520 --> 01:10:19,260
has it's like the iterations I'm not

1344
01:10:16,859 --> 01:10:25,500
really entirely sure how those emitters

1345
01:10:19,260 --> 01:10:29,070
should work in that way it's a little

1346
01:10:25,500 --> 01:10:34,529
bit tough to say but I'm interested to

1347
01:10:29,069 --> 01:10:37,469
see what we did so we'll find out so

1348
01:10:34,529 --> 01:10:39,989
anyway let's take a look at how this is

1349
01:10:37,470 --> 01:10:41,970
working just we can kind of get some

1350
01:10:39,989 --> 01:10:47,969
idea of what's going on here

1351
01:10:41,970 --> 01:10:48,420
so if I go into well I guess I can't do

1352
01:10:47,970 --> 01:10:50,250
that

1353
01:10:48,420 --> 01:10:53,100
let's let's set a breakpoint on the

1354
01:10:50,250 --> 01:10:56,789
routine lighting time looks like it's

1355
01:10:53,100 --> 01:10:59,579
not open so if I come through here and

1356
01:10:56,789 --> 01:11:09,800
you know let me compile in debug mode as

1357
01:10:59,579 --> 01:11:09,800
well there we go

1358
01:11:10,520 --> 01:11:14,260
make sure it's still working

1359
01:11:19,220 --> 01:11:26,180
so if I stop in here and I start looping

1360
01:11:21,619 --> 01:11:28,550
through let's see what the initial total

1361
01:11:26,180 --> 01:11:32,210
light level value comes out to be I have

1362
01:11:28,550 --> 01:11:34,010
no idea so six is the total light level

1363
01:11:32,210 --> 01:11:41,149
I assume that's because we have six

1364
01:11:34,010 --> 01:11:45,170
emitters outputting at one right excuse

1365
01:11:41,149 --> 01:11:47,059
me I and again that's not really we

1366
01:11:45,170 --> 01:11:48,859
probably need to improve how we're

1367
01:11:47,060 --> 01:11:51,620
describing that because it's like okay

1368
01:11:48,859 --> 01:11:53,750
how bigger the emitter is you know how

1369
01:11:51,619 --> 01:11:55,849
do we want the light values to be is the

1370
01:11:53,750 --> 01:11:57,319
light value the total amount when we say

1371
01:11:55,850 --> 01:11:59,270
emission is that the total amount over

1372
01:11:57,319 --> 01:12:02,029
the entire surface or is that per unit

1373
01:11:59,270 --> 01:12:04,220
surface area you know bla bla bla so we

1374
01:12:02,029 --> 01:12:05,420
haven't really talked about really how

1375
01:12:04,220 --> 01:12:08,060
that's going to be satisfied yet either

1376
01:12:05,420 --> 01:12:09,529
which is a bit of a problem but we're

1377
01:12:08,060 --> 01:12:11,960
skipping over as the ambient occlusion

1378
01:12:09,529 --> 01:12:15,439
so this should not do anything when we

1379
01:12:11,960 --> 01:12:20,840
go to compute the letting transfer here

1380
01:12:15,439 --> 01:12:22,789
so as we go through we look to see what

1381
01:12:20,840 --> 01:12:30,770
the the light distances are for these

1382
01:12:22,789 --> 01:12:32,619
things see sooner and so on in this case

1383
01:12:30,770 --> 01:12:37,130
this is a non contributing light source

1384
01:12:32,619 --> 01:12:39,260
one of the things that I guess I didn't

1385
01:12:37,130 --> 01:12:42,619
do is I don't take into account the

1386
01:12:39,260 --> 01:12:45,800
emission here which is probably bad this

1387
01:12:42,619 --> 01:12:47,689
is just how much of the light could have

1388
01:12:45,800 --> 01:12:51,650
transferred but we didn't take into

1389
01:12:47,689 --> 01:12:57,819
account how much of an actual transfer

1390
01:12:51,649 --> 01:12:57,819
it was based on the light color right

1391
01:12:58,300 --> 01:13:02,600
and that's sort of like there's sort of

1392
01:13:00,800 --> 01:13:06,380
this notion of how much light that

1393
01:13:02,600 --> 01:13:08,650
surface had to to contribute at that

1394
01:13:06,380 --> 01:13:08,650
point

1395
01:13:10,899 --> 01:13:17,199
so that now that I think about it that's

1396
01:13:14,279 --> 01:13:19,210
that's about the question so the only

1397
01:13:17,199 --> 01:13:21,519
way we could really handle that part

1398
01:13:19,210 --> 01:13:24,340
properly is we have to store how much

1399
01:13:21,520 --> 01:13:27,790
light we bounce to each surface as well

1400
01:13:24,340 --> 01:13:37,119
right like how much light we gave to

1401
01:13:27,789 --> 01:13:38,859
that surface and so I do wonder it seems

1402
01:13:37,119 --> 01:13:40,239
like that's custom like trying to be

1403
01:13:38,859 --> 01:13:42,849
conservative out the light like this is

1404
01:13:40,239 --> 01:13:44,800
just going to sort of drag us down into

1405
01:13:42,850 --> 01:13:46,780
like having to track more and more and

1406
01:13:44,800 --> 01:13:50,110
more values so here's the question for

1407
01:13:46,779 --> 01:13:52,239
you can we just rely on the averaging

1408
01:13:50,109 --> 01:13:59,979
part of it like let's say we didn't try

1409
01:13:52,239 --> 01:14:01,539
to do the sort of the sort of nuts thing

1410
01:13:59,979 --> 01:14:04,389
of trying to actually track the total

1411
01:14:01,539 --> 01:14:06,729
light and keeping it correct what

1412
01:14:04,390 --> 01:14:11,430
happens if we force the emission to not

1413
01:14:06,729 --> 01:14:13,809
be additive and instead we let it bounce

1414
01:14:11,430 --> 01:14:18,360
what do we get I just comes curious to

1415
01:14:13,810 --> 01:14:18,360
know oh and I need to build in

1416
01:14:29,948 --> 01:14:38,409
so you still get very flickery results

1417
01:14:32,770 --> 01:14:48,489
there whether whether you add right or

1418
01:14:38,409 --> 01:14:52,349
not so it gets like slightly brighter

1419
01:14:48,488 --> 01:14:57,339
but it's surprisingly not that different

1420
01:14:52,350 --> 01:15:00,489
which is somewhat interesting so now

1421
01:14:57,340 --> 01:15:15,789
let's see if I do put a correction in

1422
01:15:00,488 --> 01:15:22,139
here I'm curious to know what happens if

1423
01:15:15,789 --> 01:15:26,819
I like make the iteration count relevant

1424
01:15:22,140 --> 01:15:26,820
so you still get you still get a really

1425
01:15:28,079 --> 01:15:37,090
just get a really surprisingly

1426
01:15:30,159 --> 01:15:38,920
temperamental solution so yeah I'm

1427
01:15:37,090 --> 01:15:40,869
really confused about that so I don't

1428
01:15:38,920 --> 01:15:42,520
know maybe we do really need to track

1429
01:15:40,869 --> 01:15:43,840
the total light transfer but now you

1430
01:15:42,520 --> 01:15:45,550
know like when I was looking at that I'm

1431
01:15:43,840 --> 01:15:47,710
like well okay if we actually do want to

1432
01:15:45,550 --> 01:15:50,170
track total I transfer we have to

1433
01:15:47,710 --> 01:15:52,270
actually remember how much light could

1434
01:15:50,170 --> 01:15:54,880
could have been coming from the

1435
01:15:52,270 --> 01:15:56,830
particular source in question because so

1436
01:15:54,880 --> 01:15:58,900
each one of those needs an f32 that's

1437
01:15:56,829 --> 01:16:02,890
like how many photons do I have to

1438
01:15:58,899 --> 01:16:04,479
transfer potentially right because the

1439
01:16:02,890 --> 01:16:06,460
surface that has not had any trans

1440
01:16:04,479 --> 01:16:09,928
photons hit it can't give you any

1441
01:16:06,460 --> 01:16:13,750
protons and so you'd be massively over

1442
01:16:09,929 --> 01:16:15,850
calculating how much light was

1443
01:16:13,750 --> 01:16:22,270
potentially transferred on each path if

1444
01:16:15,850 --> 01:16:23,949
you don't store that value so that does

1445
01:16:22,270 --> 01:16:29,230
seem kind of nasty I don't know how to

1446
01:16:23,948 --> 01:16:32,229
get around that let's think about this

1447
01:16:29,229 --> 01:16:37,109
for a second is there something else I

1448
01:16:32,229 --> 01:16:40,109
could be doing here that would make that

1449
01:16:37,109 --> 01:16:40,109
work

1450
01:17:01,599 --> 01:17:07,229
I can't sit and really think of anything

1451
01:17:20,640 --> 01:17:25,480
well I mean I guess what I should do is

1452
01:17:23,560 --> 01:17:28,630
I think probably the best policy is just

1453
01:17:25,479 --> 01:17:30,759
to try ridiculous stuff until we see

1454
01:17:28,630 --> 01:17:33,940
where we're at and then we can know

1455
01:17:30,760 --> 01:17:36,100
we've simplify later right seems

1456
01:17:33,939 --> 01:17:49,269
reasonable enough so if I was to

1457
01:17:36,100 --> 01:17:50,829
actually say like if I was to do

1458
01:17:49,270 --> 01:17:53,770
something ridiculous like photons to

1459
01:17:50,829 --> 01:17:56,109
send and photons received what I could

1460
01:17:53,770 --> 01:18:00,250
say is like all right you know we come

1461
01:17:56,109 --> 01:18:04,359
through here and we say that this

1462
01:18:00,250 --> 01:18:08,680
element protons to send equals the

1463
01:18:04,359 --> 01:18:12,789
emission the photons

1464
01:18:08,680 --> 01:18:15,220
sieved equals zero and the initial total

1465
01:18:12,789 --> 01:18:19,060
light level is you know the summation of

1466
01:18:15,220 --> 01:18:22,320
the photons will send and initial to the

1467
01:18:19,060 --> 01:18:22,320
light level we'll just we could just say

1468
01:18:23,340 --> 01:18:34,810
photon count total photon gap so that

1469
01:18:32,649 --> 01:18:36,609
tells us some made-up value that's like

1470
01:18:34,810 --> 01:18:38,410
here's how many photons we have to send

1471
01:18:36,609 --> 01:18:41,589
around and off we go

1472
01:18:38,409 --> 01:18:44,260
so then we do when we come through here

1473
01:18:41,590 --> 01:18:49,779
and do the lighting computation we can

1474
01:18:44,260 --> 01:18:53,489
say total photons sent and when we come

1475
01:18:49,779 --> 01:18:53,489
through we'll say all right the source

1476
01:18:54,720 --> 01:19:05,320
let's go here click on send

1477
01:18:59,800 --> 01:19:12,789
so we'll say the photon sense equals

1478
01:19:05,319 --> 01:19:15,219
whatever the this particular whatever

1479
01:19:12,789 --> 01:19:21,250
this particular source is photons defend

1480
01:19:15,220 --> 01:19:27,760
our times the two contribution values

1481
01:19:21,250 --> 01:19:29,470
right so whichever you know however much

1482
01:19:27,760 --> 01:19:30,970
light works could potentially transfer

1483
01:19:29,470 --> 01:19:33,280
time for protoss times as the total

1484
01:19:30,970 --> 01:19:35,079
photon sent then at the end we could say

1485
01:19:33,279 --> 01:19:39,519
is all right

1486
01:19:35,079 --> 01:19:45,939
the total photons that we sent are going

1487
01:19:39,520 --> 01:19:49,210
to be however many photons we sent times

1488
01:19:45,939 --> 01:19:51,729
visibility here and that's a value we

1489
01:19:49,210 --> 01:19:57,039
can actually store right so I guess in

1490
01:19:51,729 --> 01:20:05,500
what I should say is sort of that when

1491
01:19:57,039 --> 01:20:11,470
we loop over the desk here well and I

1492
01:20:05,500 --> 01:20:12,939
guess just learning that value inside

1493
01:20:11,470 --> 01:20:14,829
the destination here and ition to the

1494
01:20:12,939 --> 01:20:16,929
accumulation color that we're

1495
01:20:14,829 --> 01:20:21,059
accumulating there I'm going to take the

1496
01:20:16,930 --> 01:20:25,470
photon sent or rather the photons

1497
01:20:21,060 --> 01:20:27,850
received and I'm going to assume that

1498
01:20:25,470 --> 01:20:29,770
however many photons were sent in this

1499
01:20:27,850 --> 01:20:31,930
path in fact I guess I should name that

1500
01:20:29,770 --> 01:20:41,590
the other way around this is the photons

1501
01:20:31,930 --> 01:20:43,659
received right so it's not all of the

1502
01:20:41,590 --> 01:20:46,180
photons that that were received at the

1503
01:20:43,659 --> 01:20:59,170
end I'll store that and the total

1504
01:20:46,180 --> 01:21:03,750
photons received look like this so that

1505
01:20:59,170 --> 01:21:05,800
gets me how many photons I received and

1506
01:21:03,750 --> 01:21:09,460
how many photons were received in

1507
01:21:05,800 --> 01:21:13,659
general so at the end when we do this

1508
01:21:09,460 --> 01:21:16,390
now we know we can introduce the

1509
01:21:13,659 --> 01:21:20,380
correction we can say that the total

1510
01:21:16,390 --> 01:21:23,380
photons received we want to sort of

1511
01:21:20,380 --> 01:21:27,270
correct those photon values by the total

1512
01:21:23,380 --> 01:21:27,270
photons that there are

1513
01:21:31,350 --> 01:21:36,400
so that's our correction factor so when

1514
01:21:34,449 --> 01:21:52,229
we come through here and we say let's

1515
01:21:36,399 --> 01:21:55,329
take our our destination when we want to

1516
01:21:52,229 --> 01:22:00,909
compute these next values we'll say the

1517
01:21:55,329 --> 01:22:02,859
photons received we're going to clear

1518
01:22:00,909 --> 01:22:06,430
that out for the next pass and the

1519
01:22:02,859 --> 01:22:10,509
photons descend are going to be however

1520
01:22:06,430 --> 01:22:12,670
many we received so we only send however

1521
01:22:10,510 --> 01:22:13,869
many we ended up receiving so then we're

1522
01:22:12,670 --> 01:22:16,210
just kind of convicting it around

1523
01:22:13,869 --> 01:22:18,460
now the emit color so we're going to

1524
01:22:16,210 --> 01:22:21,100
ignore all that stuff now and we're just

1525
01:22:18,460 --> 01:22:27,130
going to draw the photons received so in

1526
01:22:21,100 --> 01:22:31,090
the copy lighting out when we do this

1527
01:22:27,130 --> 01:22:34,539
stuff here I'm going to say if show

1528
01:22:31,090 --> 01:22:39,279
letting visibility else if lighting show

1529
01:22:34,539 --> 01:22:45,039
photons what I'm going to do is in here

1530
01:22:39,279 --> 01:22:47,559
say that the photon descend are going to

1531
01:22:45,039 --> 01:22:53,189
be what we show then what I can do is in

1532
01:22:47,560 --> 01:22:53,190
the config we'll have a thing for that

1533
01:22:53,310 --> 01:23:01,030
to share photon and now we can see what

1534
01:22:57,369 --> 01:23:06,670
the photon transmittance values are for

1535
01:23:01,029 --> 01:23:10,509
everything oh my how do we get blue in

1536
01:23:06,670 --> 01:23:14,199
there I suppose that this is probably

1537
01:23:10,510 --> 01:23:15,820
because the photons to send value needs

1538
01:23:14,199 --> 01:23:18,000
to be divided by the total number of

1539
01:23:15,819 --> 01:23:18,000
photons

1540
01:23:24,380 --> 01:23:27,710
stratum or time

1541
01:23:32,510 --> 01:23:41,720
all right so here we can see this sort

1542
01:23:37,220 --> 01:23:43,880
of nominal photon transference idea it

1543
01:23:41,720 --> 01:23:53,930
still looks busted because how are we

1544
01:23:43,880 --> 01:23:57,940
getting blue I don't know if blue I'm

1545
01:23:53,930 --> 01:23:57,940
not sure how the blue is happening there

1546
01:23:58,000 --> 01:24:03,890
but like yeah because in theory the

1547
01:24:01,550 --> 01:24:06,890
front emit should not ever be able to be

1548
01:24:03,890 --> 01:24:11,560
greater than zero now I'm sorry greater

1549
01:24:06,890 --> 01:24:11,560
than one let's do an assertion

1550
01:24:40,510 --> 01:25:00,409
all right so uh that does look bad so

1551
01:24:57,970 --> 01:25:02,180
our algorithm is definitely not right

1552
01:25:00,409 --> 01:25:04,309
yet because we shouldn't there should be

1553
01:25:02,180 --> 01:25:06,770
no chance for any element to have

1554
01:25:04,310 --> 01:25:08,240
anywhere near the number of photons that

1555
01:25:06,770 --> 01:25:11,150
are the total number of photons in the

1556
01:25:08,239 --> 01:25:17,840
scene right so let's go ahead and

1557
01:25:11,149 --> 01:25:19,879
recheck that so we come through here we

1558
01:25:17,840 --> 01:25:23,710
set the total photons received to be

1559
01:25:19,880 --> 01:25:27,289
zero we loop through all of our sources

1560
01:25:23,710 --> 01:25:30,770
and we say however many photons the

1561
01:25:27,289 --> 01:25:31,909
source had to send we're going to

1562
01:25:30,770 --> 01:25:33,770
multiply well in fact and we don't

1563
01:25:31,909 --> 01:25:35,359
really care about this right whatever

1564
01:25:33,770 --> 01:25:37,900
this number is it doesn't matter we're

1565
01:25:35,359 --> 01:25:40,130
going to get a photons received number

1566
01:25:37,899 --> 01:25:42,379
summed over all the sources is how many

1567
01:25:40,130 --> 01:25:45,050
received we're then going to say that

1568
01:25:42,380 --> 01:25:47,569
the destination that photons received is

1569
01:25:45,050 --> 01:25:49,400
going to be however many that was times

1570
01:25:47,569 --> 01:25:51,049
our visibility which in this case should

1571
01:25:49,399 --> 01:25:52,819
be one that should not be really

1572
01:25:51,050 --> 01:25:54,470
reducing it at all we're then going to

1573
01:25:52,819 --> 01:25:56,659
say that the total number received

1574
01:25:54,470 --> 01:25:59,840
gets incremented by that amount and

1575
01:25:56,659 --> 01:26:02,149
that's checked outside when we finish

1576
01:25:59,840 --> 01:26:04,850
the iteration across all light transfer

1577
01:26:02,149 --> 01:26:06,229
pairs we then say okay the correction

1578
01:26:04,850 --> 01:26:11,420
value is going to be however many

1579
01:26:06,229 --> 01:26:13,250
photons there were total we want to take

1580
01:26:11,420 --> 01:26:15,109
the total number of photons received and

1581
01:26:13,250 --> 01:26:18,050
divide by that so this is going to be

1582
01:26:15,109 --> 01:26:21,349
six right and this is going to be some

1583
01:26:18,050 --> 01:26:22,840
other numbers let's actually like look

1584
01:26:21,350 --> 01:26:26,690
in there

1585
01:26:22,840 --> 01:26:28,159
okay and so like this number is 40 point

1586
01:26:26,689 --> 01:26:30,739
eight five whatever that's the total

1587
01:26:28,159 --> 01:26:33,769
amount of transfer that occurred we only

1588
01:26:30,739 --> 01:26:34,849
want the total number to be at six so

1589
01:26:33,770 --> 01:26:37,100
what we're going to do is we're going to

1590
01:26:34,850 --> 01:26:40,240
take six over that value or whatever

1591
01:26:37,100 --> 01:26:43,720
right oops

1592
01:26:40,239 --> 01:26:45,460
if I can just look at the actual value

1593
01:26:43,720 --> 01:26:51,659
and we're going to correct every one by

1594
01:26:45,460 --> 01:26:51,659
the oh hi how about I actually didn't

1595
01:26:52,920 --> 01:26:57,149
that's pretty good

1596
01:26:54,810 --> 01:27:00,340
how about I do all this work to

1597
01:26:57,149 --> 01:27:03,309
construct a a coefficient for correction

1598
01:27:00,340 --> 01:27:04,810
and then I never bother to like multiply

1599
01:27:03,310 --> 01:27:15,190
anything by it at all

1600
01:27:04,810 --> 01:27:16,660
how's that sound pretty good right all

1601
01:27:15,189 --> 01:27:24,369
right so now we're out of the business

1602
01:27:16,659 --> 01:27:27,699
of of overestimating the light there

1603
01:27:24,369 --> 01:27:31,420
hopefully now when I run we have

1604
01:27:27,699 --> 01:27:34,420
something more sane okay so now we could

1605
01:27:31,420 --> 01:27:38,440
kind of see this looks more correct

1606
01:27:34,420 --> 01:27:40,090
right so it seems it seems a little more

1607
01:27:38,439 --> 01:27:43,000
sane however you'll notice the

1608
01:27:40,090 --> 01:27:44,860
flickering is still awful and so I don't

1609
01:27:43,000 --> 01:27:46,899
know one thing that I'm a little bit

1610
01:27:44,859 --> 01:27:48,309
interested to know at this point is do

1611
01:27:46,899 --> 01:27:50,339
we have another bug in here that's

1612
01:27:48,310 --> 01:27:53,830
actually what cause of that flickering

1613
01:27:50,340 --> 01:27:55,300
in some way I don't think so because you

1614
01:27:53,829 --> 01:27:57,550
know when we don't do multiple

1615
01:27:55,300 --> 01:28:01,300
iterations we don't see it so presume

1616
01:27:57,550 --> 01:28:04,989
like for example if I go into the config

1617
01:28:01,300 --> 01:28:07,810
here and I said the iteration cap was

1618
01:28:04,989 --> 01:28:09,729
one on the photon transfer there it is

1619
01:28:07,810 --> 01:28:12,060
I'm assuming we'd no longer get the

1620
01:28:09,729 --> 01:28:12,059
flicker

1621
01:28:16,569 --> 01:28:20,949
you know and we more or less down

1622
01:28:28,050 --> 01:28:36,260
so there's that one thing that I am a

1623
01:28:30,930 --> 01:28:36,260
little interested to know

1624
01:28:44,109 --> 01:28:50,109
so if I was to say that the lighting

1625
01:28:47,890 --> 01:28:54,640
iteration count was three like we were

1626
01:28:50,109 --> 01:28:58,960
doing before and in fact let's just say

1627
01:28:54,640 --> 01:29:00,250
with six let's just go nuts so we're

1628
01:28:58,960 --> 01:29:10,270
just going to iterate the lighting like

1629
01:29:00,250 --> 01:29:12,789
lots of times right so it really just

1630
01:29:10,270 --> 01:29:14,710
seems kind of nonsensical to me and I

1631
01:29:12,789 --> 01:29:16,000
don't know if maybe that's just like I

1632
01:29:14,710 --> 01:29:18,609
said maybe we've got some other kind of

1633
01:29:16,000 --> 01:29:24,460
bug but in this case here we've got you

1634
01:29:18,609 --> 01:29:26,229
know I'm going to go ahead and just

1635
01:29:24,460 --> 01:29:28,239
assume like here we've got a situation

1636
01:29:26,229 --> 01:29:31,899
where we know we're keeping this total

1637
01:29:28,239 --> 01:29:34,510
photon number even and just the

1638
01:29:31,899 --> 01:29:37,269
distribution of it is is just absurd

1639
01:29:34,510 --> 01:29:39,880
back to six iterations right it seems to

1640
01:29:37,270 --> 01:29:41,620
be like tana arbitrary where the photons

1641
01:29:39,880 --> 01:29:42,840
ended up which is a little bit weird to

1642
01:29:41,619 --> 01:29:45,039
me

1643
01:29:42,840 --> 01:29:48,489
maybe that's what should happen I don't

1644
01:29:45,039 --> 01:29:56,800
know but it seems odd and if I look at

1645
01:29:48,489 --> 01:29:58,539
the if I look at the photons to send

1646
01:29:56,800 --> 01:30:04,210
which is the only value we're actually

1647
01:29:58,539 --> 01:30:12,039
viewing at this point it sure seems like

1648
01:30:04,210 --> 01:30:14,859
it's sanely capped so I don't know I

1649
01:30:12,039 --> 01:30:18,279
don't think I really understand what's

1650
01:30:14,859 --> 01:30:22,889
going on it's a little bit troubling so

1651
01:30:18,279 --> 01:30:22,889
you know here's let me go ahead and

1652
01:30:25,260 --> 01:30:30,360
change the iteration count down to two

1653
01:30:27,970 --> 01:30:30,360
one

1654
01:30:35,260 --> 01:30:47,780
so there's one iteration and then if I

1655
01:30:39,170 --> 01:31:01,639
change it you know and I'm can I still

1656
01:30:47,779 --> 01:31:02,748
do this yeah so yeah if we're kind of if

1657
01:31:01,639 --> 01:31:05,479
we're just taking a look at this

1658
01:31:02,748 --> 01:31:09,469
situation here where we're zooming

1659
01:31:05,479 --> 01:31:14,769
around if I change the iteration count

1660
01:31:09,469 --> 01:31:18,109
to two you know now I get this weird

1661
01:31:14,769 --> 01:31:21,498
concentration of light on the middle guy

1662
01:31:18,109 --> 01:31:23,328
there but why would that be the place

1663
01:31:21,498 --> 01:31:25,908
where the photons get concentrated is

1664
01:31:23,328 --> 01:31:27,408
that just because there's so much more

1665
01:31:25,908 --> 01:31:32,439
transfer for things that are close

1666
01:31:27,408 --> 01:31:32,439
together or something

1667
01:31:47,880 --> 01:31:51,140
and I don't really know

1668
01:32:05,350 --> 01:32:10,300
but I can't oh right cuz I'm playing

1669
01:32:08,890 --> 01:32:11,950
back input I'm like how come I can't

1670
01:32:10,300 --> 01:32:14,699
rotate the camera I'm like that's going

1671
01:32:11,949 --> 01:32:14,699
to take back input

1672
01:32:32,069 --> 01:32:42,840
so the other interesting thing about

1673
01:32:34,380 --> 01:32:47,400
this is I almost want to take the hero

1674
01:32:42,840 --> 01:32:49,650
out for the moment and just be able to

1675
01:32:47,399 --> 01:32:59,449
move the light around so what I might

1676
01:32:49,649 --> 01:32:59,449
say is can we just go to world mode and

1677
01:33:06,770 --> 01:33:22,320
when we add player what if I just don't

1678
01:33:09,750 --> 01:33:26,699
give it any actual pieces actually don't

1679
01:33:22,319 --> 01:33:29,429
want that to running so if I run it now

1680
01:33:26,699 --> 01:33:34,559
I should just have just the light source

1681
01:33:29,430 --> 01:33:40,560
to move around right it looks like it's

1682
01:33:34,560 --> 01:33:44,850
got a health meter as well I'm not sure

1683
01:33:40,560 --> 01:33:48,860
how we have that I'm not sure I remember

1684
01:33:44,850 --> 01:33:48,860
how we said that somebody had health

1685
01:33:52,899 --> 01:34:00,389
but there must be summer it's got a nose

1686
01:33:56,140 --> 01:34:00,390
somehow in it hitpoints

1687
01:34:06,329 --> 01:34:14,460
so now I'm just moving the light right

1688
01:34:19,139 --> 01:34:25,380
and it certainly does seem at least from

1689
01:34:22,050 --> 01:34:28,139
this because now I can go into the

1690
01:34:25,380 --> 01:34:31,289
config and say let's increase the

1691
01:34:28,139 --> 01:34:35,880
learning iteration count it certainly

1692
01:34:31,289 --> 01:34:38,670
does seem like from that that having

1693
01:34:35,880 --> 01:34:41,449
those things stacked together is a

1694
01:34:38,670 --> 01:34:44,429
problem or at least you know it

1695
01:34:41,448 --> 01:34:47,279
exacerbates the problems with our with

1696
01:34:44,429 --> 01:34:55,440
our lighting transfer because you don't

1697
01:34:47,279 --> 01:34:56,759
you don't get I guess is because they're

1698
01:34:55,439 --> 01:34:58,759
so close together

1699
01:34:56,760 --> 01:35:04,889
maybe they because they can sort of

1700
01:34:58,760 --> 01:35:07,110
transfer light at too high of a it might

1701
01:35:04,889 --> 01:35:09,060
just be like a nasty singularity and how

1702
01:35:07,109 --> 01:35:11,549
we were doing our lighting maybe we just

1703
01:35:09,060 --> 01:35:15,150
have a bug in the in the distance

1704
01:35:11,550 --> 01:35:16,619
computation there where if things are

1705
01:35:15,149 --> 01:35:19,579
too close together they can transfer

1706
01:35:16,618 --> 01:35:22,198
light to each other extremely easily and

1707
01:35:19,579 --> 01:35:24,618
they just kind of go supercritical at

1708
01:35:22,198 --> 01:35:24,618
that point

1709
01:35:31,079 --> 01:35:35,569
that does seem plausible anyway

1710
01:35:48,979 --> 01:35:51,979
hmm

1711
01:36:03,920 --> 01:36:08,190
so you can kind of see that a lot of

1712
01:36:06,510 --> 01:36:09,930
that jitteriness goes away when you

1713
01:36:08,189 --> 01:36:12,809
don't have those stacked sprites all

1714
01:36:09,930 --> 01:36:16,170
kind of hopping up and down like they

1715
01:36:12,810 --> 01:36:18,450
were so I think that suggests to me that

1716
01:36:16,170 --> 01:36:20,430
I just need to fix the transfer function

1717
01:36:18,449 --> 01:36:23,090
maybe the transfer function is most of

1718
01:36:20,430 --> 01:36:23,090
the problem there

1719
01:36:36,119 --> 01:36:57,909
hmmm I say let's take a look and how we

1720
01:36:53,829 --> 01:37:06,220
want to go about this so if I look at

1721
01:36:57,909 --> 01:37:08,229
the front emit color here and I assume

1722
01:37:06,220 --> 01:37:09,909
that we're just setting it so so if I

1723
01:37:08,229 --> 01:37:12,209
was to do the summation that we were

1724
01:37:09,909 --> 01:37:12,210
doing before

1725
01:37:17,100 --> 01:37:24,070
all right here's that summation so what

1726
01:37:21,220 --> 01:37:26,579
we can sort of see is it's actually

1727
01:37:24,069 --> 01:37:28,719
totally smooth if you just have

1728
01:37:26,579 --> 01:37:32,050
occluders that are spaced pretty far

1729
01:37:28,720 --> 01:37:35,770
apart so that's pretty important

1730
01:37:32,050 --> 01:37:39,960
information I guess because here we are

1731
01:37:35,770 --> 01:37:42,100
doing like a lot of lighting iterations

1732
01:37:39,960 --> 01:37:46,480
let's see what happens if I crank it up

1733
01:37:42,100 --> 01:37:49,870
further so basically what we find is yet

1734
01:37:46,479 --> 01:37:54,669
you do get the light sort of the too

1735
01:37:49,869 --> 01:37:58,059
much light transfer problem but you

1736
01:37:54,670 --> 01:37:59,980
don't get the flickering so that's very

1737
01:37:58,060 --> 01:38:03,280
important information so we need to like

1738
01:37:59,979 --> 01:38:06,309
deal with that I'm interested to know if

1739
01:38:03,279 --> 01:38:10,509
we take the what happens if we multiply

1740
01:38:06,310 --> 01:38:12,670
the photon correction here I can't

1741
01:38:10,510 --> 01:38:18,090
imagine it's a good idea but let's just

1742
01:38:12,670 --> 01:38:21,039
see it does seem like it's a good idea

1743
01:38:18,090 --> 01:38:23,020
all right so here this is kind of nice

1744
01:38:21,039 --> 01:38:25,930
so our photon correction does do a good

1745
01:38:23,020 --> 01:38:30,130
job of keeping the lighting relatively

1746
01:38:25,930 --> 01:38:31,840
consistent across multiple iterations so

1747
01:38:30,130 --> 01:38:34,060
if I crank up the number of iterations

1748
01:38:31,840 --> 01:38:37,630
here it definitely keeps it a lot more

1749
01:38:34,060 --> 01:38:39,850
sane it's still not sane enough like

1750
01:38:37,630 --> 01:38:43,690
we're still doing something stupid I'm

1751
01:38:39,850 --> 01:38:47,280
not sure what but it still is increasing

1752
01:38:43,689 --> 01:38:47,279
the total amount of light it looks like

1753
01:38:48,229 --> 01:38:59,779
oh because this is a plus equals fit so

1754
01:38:57,409 --> 01:39:02,329
that's that's actually not that that

1755
01:38:59,779 --> 01:39:04,759
unusual if we were to do with three

1756
01:39:02,329 --> 01:39:06,229
equals I think we'd be very dark because

1757
01:39:04,760 --> 01:39:09,079
currently we don't have any exposure

1758
01:39:06,229 --> 01:39:12,109
control or anything like this so that's

1759
01:39:09,079 --> 01:39:18,579
probably not super plausible at the end

1760
01:39:12,109 --> 01:39:18,579
of the day but

1761
01:39:27,399 --> 01:39:33,399
I think we're kind of getting there all

1762
01:39:31,448 --> 01:39:35,859
right so I think what we've learned here

1763
01:39:33,399 --> 01:39:37,809
is that we need to take our distance

1764
01:39:35,859 --> 01:39:41,649
fall-off and we need to fix it so that

1765
01:39:37,810 --> 01:39:44,140
it doesn't have a bad behavior when when

1766
01:39:41,649 --> 01:39:46,988
things interpenetrate or get very close

1767
01:39:44,140 --> 01:39:49,420
to each other I think that's being a big

1768
01:39:46,988 --> 01:39:51,158
problem for us so we need to fix that

1769
01:39:49,420 --> 01:39:54,100
and then the other thing that we need to

1770
01:39:51,158 --> 01:39:59,349
do is then we need to figure out whether

1771
01:39:54,100 --> 01:40:03,610
or not or how we're going to try to keep

1772
01:39:59,350 --> 01:40:11,560
a lid on the amount of lighting that

1773
01:40:03,609 --> 01:40:14,109
gets put out into the scene it's

1774
01:40:11,560 --> 01:40:16,810
possible that we don't really need to do

1775
01:40:14,109 --> 01:40:22,750
it like it's possible that we can choose

1776
01:40:16,810 --> 01:40:27,580
it because it seems like anyway with

1777
01:40:22,750 --> 01:40:30,819
once we get down once we get rid of that

1778
01:40:27,579 --> 01:40:34,059
bad sort of singular behavior when

1779
01:40:30,819 --> 01:40:37,019
things get too close together it looks

1780
01:40:34,060 --> 01:40:40,830
like just simply keeping the light

1781
01:40:37,020 --> 01:40:48,760
relatively under control is enough so

1782
01:40:40,829 --> 01:40:51,340
there's eight iterations here's 16 and

1783
01:40:48,760 --> 01:40:55,150
that's pretty good so I guess I would

1784
01:40:51,340 --> 01:41:00,940
say you know it seems like just keeping

1785
01:40:55,149 --> 01:41:02,679
it so that we only take just keeping it

1786
01:41:00,939 --> 01:41:05,079
so that we are essentially just using an

1787
01:41:02,679 --> 01:41:12,550
averaging process for the color seems

1788
01:41:05,079 --> 01:41:15,210
sufficient to me I so that's good let me

1789
01:41:12,550 --> 01:41:15,210
see here

1790
01:41:32,479 --> 01:41:42,110
all right so yeah I think it why is that

1791
01:41:39,729 --> 01:41:43,729
kind of solves that problem for me so I

1792
01:41:42,109 --> 01:41:45,948
think at this point well we really need

1793
01:41:43,729 --> 01:41:48,679
to do I don't think we'll have to do the

1794
01:41:45,948 --> 01:41:50,569
photon control there so I think all we

1795
01:41:48,679 --> 01:41:52,550
really need to do is keep things from

1796
01:41:50,569 --> 01:41:54,049
going supercritical and we'll be ok

1797
01:41:52,550 --> 01:41:55,670
because again we're not trying to

1798
01:41:54,050 --> 01:41:58,400
compute any kind of exact lighting

1799
01:41:55,670 --> 01:42:03,609
solution here obviously so it seems like

1800
01:41:58,399 --> 01:42:03,609
we should be ok so let's get rid of

1801
01:42:07,899 --> 01:42:11,379
those entirely

1802
01:42:32,630 --> 01:42:37,949
all right and so now we should be able

1803
01:42:35,880 --> 01:42:40,319
to just have yes so now we've got some

1804
01:42:37,949 --> 01:42:42,000
pretty stable light in there which is

1805
01:42:40,319 --> 01:42:44,880
good and we can build on that and make

1806
01:42:42,000 --> 01:42:46,829
it better right so really what we need

1807
01:42:44,880 --> 01:42:48,869
to do now is we need to just go in there

1808
01:42:46,829 --> 01:42:51,449
and figure out why are we getting such a

1809
01:42:48,869 --> 01:42:54,689
bad behavior and I'm assuming it's from

1810
01:42:51,449 --> 01:42:56,789
the distance fall-off but we'll see why

1811
01:42:54,689 --> 01:43:00,239
are we getting such a bad behavior when

1812
01:42:56,789 --> 01:43:02,819
there is a hero added to the mix so

1813
01:43:00,239 --> 01:43:14,069
let's go ahead and add first back in the

1814
01:43:02,819 --> 01:43:21,059
body pieces and see so you can see some

1815
01:43:14,069 --> 01:43:23,250
of that flashing happening right and

1816
01:43:21,060 --> 01:43:25,920
also what we can also we can sort of see

1817
01:43:23,250 --> 01:43:29,600
here is to that you know these things

1818
01:43:25,920 --> 01:43:34,020
are bright completely white essentially

1819
01:43:29,600 --> 01:43:38,160
and so I do wonder to write you know

1820
01:43:34,020 --> 01:43:42,570
look if we only iterated once are they

1821
01:43:38,159 --> 01:43:45,899
white already and they are right so even

1822
01:43:42,569 --> 01:43:48,500
the first bounce of light makes them be

1823
01:43:45,899 --> 01:43:48,500
that bright

1824
01:43:52,090 --> 01:43:54,779
so that's kind of interesting

1825
01:43:58,960 --> 01:44:03,020
all right

1826
01:44:01,489 --> 01:44:05,679
so let's take a look at what we're

1827
01:44:03,020 --> 01:44:10,430
actually computing here for our fall off

1828
01:44:05,680 --> 01:44:17,900
that's not right file so if we're going

1829
01:44:10,430 --> 01:44:20,450
to do here in our compute lighting if

1830
01:44:17,899 --> 01:44:23,089
we're going to do the fall off here's

1831
01:44:20,449 --> 01:44:28,670
our distance off we have one over the

1832
01:44:23,090 --> 01:44:32,690
square of the light distance but that

1833
01:44:28,670 --> 01:44:35,480
just seems wrong because we want the

1834
01:44:32,689 --> 01:44:39,319
distance fall-off to be yet so prep you

1835
01:44:35,479 --> 01:44:44,509
know what probably this is all this is

1836
01:44:39,319 --> 01:44:46,880
just wrong the whole time so if you

1837
01:44:44,510 --> 01:44:49,010
think about what happens in fact you

1838
01:44:46,880 --> 01:44:52,400
know I can probably do this using one of

1839
01:44:49,010 --> 01:44:59,030
those softly grasping things so let's

1840
01:44:52,399 --> 01:45:03,409
see draft square root of x so you can

1841
01:44:59,029 --> 01:45:05,269
see the function that we're taking we're

1842
01:45:03,409 --> 01:45:08,720
looking at here I don't know if I can

1843
01:45:05,270 --> 01:45:10,130
zoom in I just want the I don't know if

1844
01:45:08,720 --> 01:45:12,369
I can tell I just want the one to one

1845
01:45:10,130 --> 01:45:12,369
range

1846
01:45:19,630 --> 01:45:30,010
they're um poor do be how do i ah there

1847
01:45:29,770 --> 01:45:32,850
we go

1848
01:45:30,010 --> 01:45:32,850
that's one looking for

1849
01:45:37,819 --> 01:45:50,880
so if I do that so you can see this

1850
01:45:47,159 --> 01:45:52,829
function here so for our square root of

1851
01:45:50,880 --> 01:45:54,090
x I don't know if I can change am I

1852
01:45:52,829 --> 01:46:01,859
allowed to change that you're not really

1853
01:45:54,090 --> 01:46:03,569
alright we're doing 1 over whatever the

1854
01:46:01,859 --> 01:46:05,579
square root of x is right so we're

1855
01:46:03,569 --> 01:46:07,500
graphing 1 over the square root of x

1856
01:46:05,579 --> 01:46:09,659
unfortunately does it save our graphing

1857
01:46:07,500 --> 01:46:16,260
thing that's all right it's not going to

1858
01:46:09,659 --> 01:46:19,159
the world so you can feed it underneath

1859
01:46:16,260 --> 01:46:21,929
1 here you get this court of super

1860
01:46:19,159 --> 01:46:24,329
ridiculous spike and I think that's

1861
01:46:21,929 --> 01:46:26,609
exactly what we were seeing what we

1862
01:46:24,329 --> 01:46:28,760
wanted was a distance fall-off factor

1863
01:46:26,609 --> 01:46:31,198
that basically said that the fall-off

1864
01:46:28,760 --> 01:46:32,400
presumably at the light source so if

1865
01:46:31,198 --> 01:46:44,969
you're standing right at the light

1866
01:46:32,399 --> 01:46:48,089
source right there we go so at the light

1867
01:46:44,969 --> 01:46:50,180
source looks like we lost lost Milken

1868
01:46:48,090 --> 01:46:53,319
again

1869
01:46:50,180 --> 01:46:53,319
[Music]

1870
01:46:55,489 --> 01:46:58,619
[Applause]

1871
01:46:59,349 --> 01:47:05,139
so at the light source that values to

1872
01:47:03,849 --> 01:47:09,940
because it will be one meaning there's

1873
01:47:05,139 --> 01:47:12,309
no fall-off and far away it should

1874
01:47:09,939 --> 01:47:14,198
approach zero now it will never be

1875
01:47:12,309 --> 01:47:16,538
exactly zero because inverse square law

1876
01:47:14,198 --> 01:47:17,828
it will just keep getting lower and

1877
01:47:16,538 --> 01:47:20,710
lower and lower but we'll never quite

1878
01:47:17,828 --> 01:47:23,859
get zero but what we actually have at

1879
01:47:20,710 --> 01:47:28,538
the light source the distance is going

1880
01:47:23,859 --> 01:47:33,460
to be zero right and so the square root

1881
01:47:28,538 --> 01:47:36,429
of zero is not 1 so we have 1 over the

1882
01:47:33,460 --> 01:47:38,408
square root of 0 it should be 1 at the

1883
01:47:36,429 --> 01:47:43,149
light source it's actually going to be

1884
01:47:38,408 --> 01:47:47,710
going off into infinity right all right

1885
01:47:43,149 --> 01:47:49,058
going down up it's going to be the

1886
01:47:47,710 --> 01:47:51,309
square we're doing at infinity which is

1887
01:47:49,059 --> 01:47:52,510
going to make our Valley R is going to

1888
01:47:51,309 --> 01:47:54,880
go down to zero which is going to make

1889
01:47:52,510 --> 01:47:57,639
our value shoot off into infinity so

1890
01:47:54,880 --> 01:48:02,349
actually what we want to do is say we

1891
01:47:57,639 --> 01:48:05,828
want 1 plus the 1 plus X right because

1892
01:48:02,349 --> 01:48:09,389
that way our value trends up towards 1

1893
01:48:05,828 --> 01:48:12,759
and hits one not infinity at zero right

1894
01:48:09,389 --> 01:48:15,069
and we did that correctly because we

1895
01:48:12,760 --> 01:48:18,520
were working off of the paper in here we

1896
01:48:15,069 --> 01:48:20,078
did reciprocal square root right but

1897
01:48:18,520 --> 01:48:22,090
when I type it in here I'm not sure why

1898
01:48:20,078 --> 01:48:23,859
I just wasn't thinking so I didn't do it

1899
01:48:22,090 --> 01:48:27,190
that way but that's what we actually

1900
01:48:23,859 --> 01:48:29,348
wanted so that value has always been

1901
01:48:27,189 --> 01:48:32,738
wrong and that it would explain where

1902
01:48:29,349 --> 01:48:36,130
that singularity was coming from so now

1903
01:48:32,738 --> 01:48:39,519
that we have it correct actually you can

1904
01:48:36,130 --> 01:48:41,828
already see that now we're okay right so

1905
01:48:39,520 --> 01:48:43,599
we just said we had just had a rogue

1906
01:48:41,828 --> 01:48:45,429
term in there and that was what was

1907
01:48:43,599 --> 01:48:47,349
creating that nasty flickering because

1908
01:48:45,429 --> 01:48:49,989
that was injecting arbitrarily like

1909
01:48:47,349 --> 01:48:51,909
close to infinite powers of light into

1910
01:48:49,988 --> 01:48:53,979
our lighting solution and hey big

1911
01:48:51,908 --> 01:48:57,158
surprise our lighting solution didn't

1912
01:48:53,979 --> 01:48:59,259
like that very much so let's try

1913
01:48:57,158 --> 01:49:03,308
cranking it up to eight iterations and

1914
01:48:59,260 --> 01:49:05,820
see if we're still stable we are so I'm

1915
01:49:03,309 --> 01:49:08,380
going to consider that a good victory

1916
01:49:05,819 --> 01:49:08,829
alright so that was just like this the

1917
01:49:08,380 --> 01:49:10,270
typo

1918
01:49:08,829 --> 01:49:15,090
there so it turns out that's what our

1919
01:49:10,270 --> 01:49:17,650
that is what our flickering problem was

1920
01:49:15,090 --> 01:49:20,829
and then now I think we're pretty good

1921
01:49:17,649 --> 01:49:24,189
in terms of lighting solutions just the

1922
01:49:20,829 --> 01:49:28,359
basic transfer working

1923
01:49:24,189 --> 01:49:30,519
it seems pretty reasonable right I am

1924
01:49:28,359 --> 01:49:35,589
interested to know if we can change the

1925
01:49:30,520 --> 01:49:47,440
color I don't remember myself what we

1926
01:49:35,590 --> 01:49:52,360
were doing here with color when we add a

1927
01:49:47,439 --> 01:49:55,269
standard room and took the cases in here

1928
01:49:52,359 --> 01:50:02,399
so we can alright so what we can do is

1929
01:49:55,270 --> 01:50:02,400
we could say F for color we could take

1930
01:50:04,140 --> 01:50:13,920
this here and do something where we

1931
01:50:09,220 --> 01:50:16,810
actually change the color if it's a wall

1932
01:50:13,920 --> 01:50:22,440
so we could do something like have it be

1933
01:50:16,810 --> 01:50:22,440
a very red sort of wall

1934
01:50:31,539 --> 01:50:36,579
and what I'm interested to see here

1935
01:50:33,460 --> 01:50:38,949
right is I'd like to see if we can get

1936
01:50:36,579 --> 01:50:40,449
some light bleeding happening at some

1937
01:50:38,949 --> 01:50:43,269
point which it doesn't really look like

1938
01:50:40,449 --> 01:50:45,429
we're getting very much of which isn't

1939
01:50:43,270 --> 01:50:47,590
good right what I'd like to see is

1940
01:50:45,430 --> 01:50:49,690
because in theory if this light is

1941
01:50:47,590 --> 01:50:51,880
bouncing around in the way that we think

1942
01:50:49,689 --> 01:50:53,739
it should then when you get in a

1943
01:50:51,880 --> 01:50:57,699
situation like this you should get some

1944
01:50:53,739 --> 01:51:03,840
red contribution coming in here right

1945
01:50:57,699 --> 01:51:08,019
and one way we could exaggerate that I'm

1946
01:51:03,840 --> 01:51:10,779
going to say one way we could exaggerate

1947
01:51:08,020 --> 01:51:16,900
that is if we just said that everything

1948
01:51:10,779 --> 01:51:22,689
was either perfectly red or perfectly

1949
01:51:16,899 --> 01:51:26,289
white and if we go through and look at

1950
01:51:22,689 --> 01:51:29,909
what we get there - do we get any color

1951
01:51:26,289 --> 01:51:32,229
bleeding and you know we get a little

1952
01:51:29,909 --> 01:51:33,639
right you can sort of see that we are

1953
01:51:32,229 --> 01:51:37,899
getting a little bit of color bleeding

1954
01:51:33,640 --> 01:51:39,550
but it's very minor and I don't know if

1955
01:51:37,899 --> 01:51:46,359
that's really what we should be

1956
01:51:39,550 --> 01:51:49,449
expecting here or not but maybe seems a

1957
01:51:46,359 --> 01:51:52,739
little bit less than it should I guess

1958
01:51:49,449 --> 01:51:55,179
would be my only my only thought there

1959
01:51:52,739 --> 01:52:00,399
so the other thing we could do - though

1960
01:51:55,180 --> 01:52:04,869
is I guess we can we can leave ourselves

1961
01:52:00,399 --> 01:52:08,519
with a ambient occlusion path as well

1962
01:52:04,869 --> 01:52:08,519
here just for fun

1963
01:52:10,920 --> 01:52:14,279
but yeah you can just see that that you

1964
01:52:12,988 --> 01:52:18,139
don't really seem to be getting very

1965
01:52:14,279 --> 01:52:18,139
much at the moment

1966
01:52:25,738 --> 01:52:29,479
you don't see me getting very much of it

1967
01:52:43,170 --> 01:52:46,750
and again it's hard to say if that's

1968
01:52:45,609 --> 01:52:50,279
accurate not that's always the problem

1969
01:52:46,750 --> 01:52:50,279
with lighting things like this

1970
01:53:12,418 --> 01:53:16,958
but I mean I guess I would say you do

1971
01:53:14,618 --> 01:53:18,848
get a little bit right it's just not as

1972
01:53:16,958 --> 01:53:23,288
much as I probably would have wanted but

1973
01:53:18,849 --> 01:53:24,729
you do get a little bit of that color

1974
01:53:23,288 --> 01:53:26,408
bleed because you know what you should

1975
01:53:24,729 --> 01:53:28,510
see is these big red reflectors you

1976
01:53:26,408 --> 01:53:31,688
should see more of a red tinge in here

1977
01:53:28,510 --> 01:53:33,639
and you really don't see much and so I

1978
01:53:31,689 --> 01:53:35,280
wonder I feel like that's the next thing

1979
01:53:33,639 --> 01:53:37,359
to start looking at in terms because

1980
01:53:35,279 --> 01:53:38,679
ignoring ambient occlusion which we need

1981
01:53:37,359 --> 01:53:40,059
to sort of start working on separately

1982
01:53:38,679 --> 01:53:42,368
tomorrow I think what I'd like to do is

1983
01:53:40,059 --> 01:53:45,969
figure out why we're not getting enough

1984
01:53:42,368 --> 01:53:48,248
of a transfer there and what happens if

1985
01:53:45,969 --> 01:53:51,069
I start with just one iteration right I

1986
01:53:48,248 --> 01:53:52,868
get none because because I shouldn't be

1987
01:53:51,069 --> 01:53:55,618
able to get any color bleed there with

1988
01:53:52,868 --> 01:54:00,639
two iterations I should have gotten some

1989
01:53:55,618 --> 01:54:06,279
but I don't seem to you know if I did I

1990
01:54:00,639 --> 01:54:08,050
got an extraordinarily little and I feel

1991
01:54:06,279 --> 01:54:12,868
like it should have picked up some from

1992
01:54:08,050 --> 01:54:12,869
that contributor because it is close

1993
01:54:20,979 --> 01:54:25,479
but it just doesn't seem to really have

1994
01:54:22,779 --> 01:54:26,979
done so and if it's not picking it up on

1995
01:54:25,479 --> 01:54:29,738
that second bounce it probably won't

1996
01:54:26,979 --> 01:54:31,238
pick it up ever I don't know it does

1997
01:54:29,738 --> 01:54:33,279
look like as you go through more

1998
01:54:31,238 --> 01:54:37,559
iterations maybe get a little bit but

1999
01:54:33,279 --> 01:54:37,559
I'm not sure so let's go ahead

2000
01:54:45,590 --> 01:54:49,909
to the Q&amp;A so it supposed to be square

2001
01:54:47,779 --> 01:54:51,618
in not square root I might supposed to

2002
01:54:49,908 --> 01:55:06,769
be let me see if I put that wrong in

2003
01:54:51,618 --> 01:55:10,658
there oh yeah sorry about that

2004
01:55:06,770 --> 01:55:10,659
I just graphed it wrong

2005
01:55:24,460 --> 01:55:35,000
so there you can see it passing through

2006
01:55:29,899 --> 01:55:38,229
one as it should right and if I get rid

2007
01:55:35,000 --> 01:55:38,229
of that oops

2008
01:55:39,429 --> 01:55:46,039
you can see how it one over x squared

2009
01:55:43,729 --> 01:55:52,879
has this nasty problem of just shooting

2010
01:55:46,039 --> 01:55:54,738
off as we get down below one you get

2011
01:55:52,880 --> 01:55:59,000
this nasty shooting off into infinity

2012
01:55:54,738 --> 01:56:02,479
right and it makes sense right because

2013
01:55:59,000 --> 01:56:05,448
as you get lower and lower you know zero

2014
01:56:02,479 --> 01:56:07,158
point one squared at 0.01 or whatever

2015
01:56:05,448 --> 01:56:09,289
right you get you keep getting higher

2016
01:56:07,158 --> 01:56:11,658
and higher as this value goes below one

2017
01:56:09,289 --> 01:56:17,719
so you never really want this value to

2018
01:56:11,658 --> 01:56:21,829
go below one and there's two ways you

2019
01:56:17,719 --> 01:56:25,520
can do that you can either square you

2020
01:56:21,829 --> 01:56:27,229
know we could do this is I have to

2021
01:56:25,520 --> 01:56:30,020
actually go see how we actually want to

2022
01:56:27,229 --> 01:56:34,819
do this this is one way to do it right

2023
01:56:30,020 --> 01:56:38,960
which is we can scoops we can do one

2024
01:56:34,819 --> 01:56:41,090
plus the square at because as that goes

2025
01:56:38,960 --> 01:56:43,368
to zero so it just goes up from there or

2026
01:56:41,090 --> 01:56:48,619
we can do the square of of one plus the

2027
01:56:43,368 --> 01:56:51,698
value and I guess not sure which one of

2028
01:56:48,618 --> 01:56:51,698
those is more correct

2029
01:56:55,270 --> 01:56:59,770
I think this one is probably the more

2030
01:56:57,100 --> 01:57:04,050
correct how many iterations are we doing

2031
01:56:59,770 --> 01:57:04,050
here a little bit slow

2032
01:57:26,329 --> 01:57:29,479
so yeah

2033
01:57:58,119 --> 01:58:03,079
question now we don't need to do a

2034
01:58:00,229 --> 01:58:08,959
global pass to normalize light

2035
01:58:03,079 --> 01:58:11,000
yeah because so the thing is that again

2036
01:58:08,960 --> 01:58:14,119
this is an approximate lighting solution

2037
01:58:11,000 --> 01:58:16,489
so we're not doing you know we're not

2038
01:58:14,119 --> 01:58:18,319
trying to do anything that's actually

2039
01:58:16,489 --> 01:58:24,829
going to produce a physically correct

2040
01:58:18,319 --> 01:58:32,029
lighting result so if I can my

2041
01:58:24,829 --> 01:58:33,949
preference is definitely to my

2042
01:58:32,029 --> 01:58:35,479
preference is definitely to make it so

2043
01:58:33,949 --> 01:58:37,819
that we don't have to do a path to

2044
01:58:35,479 --> 01:58:42,109
normalize light that would be my

2045
01:58:37,819 --> 01:58:43,609
preference so because we can do an

2046
01:58:42,109 --> 01:58:45,559
averaging process which is what I'm

2047
01:58:43,609 --> 01:58:48,199
doing now and it appears to keep the

2048
01:58:45,560 --> 01:58:52,870
lighting under control I would say we

2049
01:58:48,199 --> 01:58:55,369
definitely don't want to do the lighting

2050
01:58:52,869 --> 01:58:57,920
to to have to enforce the lighting

2051
01:58:55,369 --> 01:59:00,250
prepass I'm a lighting post basket

2052
01:58:57,920 --> 01:59:00,250
correct

2053
01:59:07,210 --> 01:59:12,489
and shota is it useful to convert the

2054
01:59:09,789 --> 01:59:15,010
surface color from RGB to y UV in these

2055
01:59:12,489 --> 01:59:19,510
equations as in using Y to modulate

2056
01:59:15,010 --> 01:59:20,530
light contribution somehow um I don't

2057
01:59:19,510 --> 01:59:23,110
think so

2058
01:59:20,529 --> 01:59:25,029
because generally speaking you want to

2059
01:59:23,109 --> 01:59:28,149
know the spectrum of life that you're

2060
01:59:25,029 --> 01:59:29,859
like you actually RGB is actually the

2061
01:59:28,149 --> 01:59:34,059
right space to do lighting computations

2062
01:59:29,859 --> 01:59:36,699
in if you're not going to go full pull

2063
01:59:34,060 --> 01:59:40,270
and actually do spectrum information

2064
01:59:36,699 --> 01:59:42,550
right but you definitely don't want to

2065
01:59:40,270 --> 01:59:46,630
convert to something that that doesn't

2066
01:59:42,550 --> 01:59:49,630
tell you which of your colors is the

2067
01:59:46,630 --> 01:59:51,340
color where the intensity is because

2068
01:59:49,630 --> 01:59:55,239
you're trying to bounce around colored

2069
01:59:51,340 --> 01:59:57,420
light specifically so I don't think

2070
01:59:55,239 --> 02:00:00,069
there's any bonus to doing it in y UV

2071
01:59:57,420 --> 02:00:02,560
there is a bonus to doing it in spectra

2072
02:00:00,069 --> 02:00:04,899
in like spectral some way that stores

2073
02:00:02,560 --> 02:00:07,210
more spectrum information because some

2074
02:00:04,899 --> 02:00:10,599
things need to know whether say a yellow

2075
02:00:07,210 --> 02:00:13,270
light is actually a yellow wavelength

2076
02:00:10,600 --> 02:00:16,210
light or a combination of red and green

2077
02:00:13,270 --> 02:00:17,980
wavelength lights so you know if you're

2078
02:00:16,210 --> 02:00:21,579
doing really high-end stuff you may want

2079
02:00:17,979 --> 02:00:24,729
between more spectrum information than

2080
02:00:21,579 --> 02:00:26,529
just three samples RG and B because that

2081
02:00:24,729 --> 02:00:29,349
doesn't tell you very much about the

2082
02:00:26,529 --> 02:00:31,630
incoming light really but I don't think

2083
02:00:29,350 --> 02:00:33,130
you why UV helps in any particular way

2084
02:00:31,630 --> 02:00:35,550
could be wrong about that but I don't

2085
02:00:33,130 --> 02:00:35,550
think so

2086
02:00:55,489 --> 02:01:03,000
do you know how much a CPU gather cost

2087
02:00:59,930 --> 02:01:07,020
how much a CPU gather costs compared to

2088
02:01:03,000 --> 02:01:10,069
a load from a linear memory read so are

2089
02:01:07,020 --> 02:01:10,070
you talking about

2090
02:01:10,100 --> 02:01:20,490
for example the gather call the the

2091
02:01:14,250 --> 02:01:23,250
gather instruction in avx-512 is that

2092
02:01:20,489 --> 02:01:25,710
what you're referring to and how much it

2093
02:01:23,250 --> 02:01:28,859
costs to do to have the CPU do to gather

2094
02:01:25,710 --> 02:01:35,520
as opposed to it's a CPU just just pulls

2095
02:01:28,859 --> 02:01:39,079
in a cache line is that what we're

2096
02:01:35,520 --> 02:01:39,080
talking about I'm not sure what you mean

2097
02:02:00,850 --> 02:02:06,060
oh okay I see your swing GP you gather

2098
02:02:06,750 --> 02:02:20,430
so again what kind of Jeep you gather

2099
02:02:09,279 --> 02:02:20,429
are you talking about and I am tired too

2100
02:02:37,289 --> 02:02:42,368
so by the way if I only do one bounce I

2101
02:02:40,300 --> 02:02:46,779
should not see any light on the backs of

2102
02:02:42,368 --> 02:02:47,948
those things right so it's what's kind

2103
02:02:46,779 --> 02:02:49,509
of cool is when you actually have

2104
02:02:47,948 --> 02:02:53,969
iterative lighting it's kind of neat

2105
02:02:49,510 --> 02:02:53,969
that you get some light now from those

2106
02:02:55,469 --> 02:02:59,920
it's not really quite right yet because

2107
02:02:58,118 --> 02:03:05,109
we're not doing very good shadowing or

2108
02:02:59,920 --> 02:03:07,449
any shadowing but convecting light

2109
02:03:05,109 --> 02:03:10,439
around is just good it tends to make a

2110
02:03:07,448 --> 02:03:10,439
nice another image

2111
02:03:17,038 --> 02:03:21,960
- Caleb spectral loading is something I

2112
02:03:20,099 --> 02:03:26,389
never heard of before can you point out

2113
02:03:21,960 --> 02:03:26,389
some good resources on the topic

2114
02:03:36,010 --> 02:03:39,030
I don't know

2115
02:03:46,399 --> 02:03:49,509
[Music]

2116
02:04:04,719 --> 02:04:08,850
so

2117
02:04:05,739 --> 02:04:08,849
[Music]

2118
02:04:23,429 --> 02:04:30,710
so you might be able to search through

2119
02:04:28,350 --> 02:04:37,310
it this way the other thing I wonder is

2120
02:04:30,710 --> 02:04:37,310
does physically based rendering the book

2121
02:04:38,539 --> 02:04:51,539
have it in there it's pretty standard

2122
02:04:43,380 --> 02:04:57,390
reference on these sorts of topics and I

2123
02:04:51,539 --> 02:04:59,869
don't know if it actually has that in

2124
02:04:57,390 --> 02:04:59,869
there or not

2125
02:05:12,289 --> 02:05:20,010
so it's a little hard to tell just from

2126
02:05:17,250 --> 02:05:26,909
here but you know my hope would be that

2127
02:05:20,010 --> 02:05:29,430
this would have that in it this look has

2128
02:05:26,909 --> 02:05:32,279
a lot of you know it's a pretty good

2129
02:05:29,430 --> 02:05:34,199
basic reference for like I need to learn

2130
02:05:32,279 --> 02:05:39,000
some it's how you know physically based

2131
02:05:34,198 --> 02:05:40,979
rendering works I hope that it has some

2132
02:05:39,000 --> 02:05:46,170
stuff on spectrum but I don't know for

2133
02:05:40,979 --> 02:05:47,909
sure the eighth day says in the CPU it's

2134
02:05:46,170 --> 02:05:50,310
much more efficient to read a cache line

2135
02:05:47,909 --> 02:05:56,579
using in a load and not use the gather

2136
02:05:50,310 --> 02:05:59,210
commands is the same true of the GPU not

2137
02:05:56,579 --> 02:06:03,000
really so I guess what I would say is

2138
02:05:59,210 --> 02:06:09,590
the tricky thing about GPUs is they have

2139
02:06:03,000 --> 02:06:09,590
much more specific memory Swizzle

2140
02:06:12,289 --> 02:06:20,399
inquiry access pattern things they try

2141
02:06:17,189 --> 02:06:23,819
to do where they you know you can

2142
02:06:20,399 --> 02:06:26,939
imagine how textures they rather than

2143
02:06:23,819 --> 02:06:28,529
keeping like a line of pixels in a

2144
02:06:26,939 --> 02:06:30,238
texture that's not very good for cache

2145
02:06:28,529 --> 02:06:32,639
locality because they tend to fetch from

2146
02:06:30,238 --> 02:06:36,718
textures in little square areas right at

2147
02:06:32,640 --> 02:06:39,619
a time so they tend to use like a Z

2148
02:06:36,719 --> 02:06:47,399
pattern of some kind of Swizzle pattern

2149
02:06:39,619 --> 02:06:51,569
for the memory accesses and stuff like

2150
02:06:47,399 --> 02:06:53,609
that is not always known to you unless

2151
02:06:51,569 --> 02:06:57,799
you've talked to the actual GPU vendors

2152
02:06:53,609 --> 02:07:01,710
to find out what goes on in that respect

2153
02:06:57,800 --> 02:07:06,000
so to the best of my knowledge you

2154
02:07:01,710 --> 02:07:09,448
cannot assume that like what is a gather

2155
02:07:06,000 --> 02:07:13,350
on the CPU is going to be a gather on

2156
02:07:09,448 --> 02:07:15,599
the GPU and vice versa obviously doing

2157
02:07:13,350 --> 02:07:17,850
things that fetch through the memory

2158
02:07:15,600 --> 02:07:20,940
subsystem in a coherent way are always

2159
02:07:17,850 --> 02:07:23,640
probably going to be faster than ones

2160
02:07:20,939 --> 02:07:25,109
that don't but what is a coherent read

2161
02:07:23,640 --> 02:07:29,780
on the GPU is

2162
02:07:25,109 --> 02:07:32,898
not obvious right

2163
02:07:29,779 --> 02:07:32,898
[Music]

2164
02:08:07,840 --> 02:08:12,159
does that make does that I sorry if I

2165
02:08:10,929 --> 02:08:15,760
don't know if that's responsive to your

2166
02:08:12,158 --> 02:08:19,509
question but I guess that's the thing

2167
02:08:15,760 --> 02:08:21,670
that I would say is that GPUs have

2168
02:08:19,510 --> 02:08:24,510
highly optimized memory subsystems that

2169
02:08:21,670 --> 02:08:27,609
don't look like CPU memory subsystems in

2170
02:08:24,510 --> 02:08:31,659
internally it's not exact right it's not

2171
02:08:27,609 --> 02:08:34,269
like a GPU memory subsystem is exactly

2172
02:08:31,658 --> 02:08:36,069
the same as a CPU in all respects where

2173
02:08:34,270 --> 02:08:38,020
it's just like cache lines they're

2174
02:08:36,069 --> 02:08:39,609
linear and it's mapped directly and

2175
02:08:38,020 --> 02:08:46,119
there's only one way of mapping it in

2176
02:08:39,609 --> 02:08:49,089
blah blah blah right so I think that

2177
02:08:46,118 --> 02:08:50,948
it's difficult especially if you don't

2178
02:08:49,090 --> 02:08:53,260
have intimate knowledge of the hardware

2179
02:08:50,948 --> 02:08:55,988
I think it's difficult necessarily to

2180
02:08:53,260 --> 02:08:58,360
predict what the actual cache behavior

2181
02:08:55,988 --> 02:09:01,868
of the GPU is going to be at all

2182
02:08:58,359 --> 02:09:04,420
actually because you don't have a lot of

2183
02:09:01,868 --> 02:09:06,339
insight into how things are being stored

2184
02:09:04,420 --> 02:09:08,969
on the GPU in the first place and again

2185
02:09:06,340 --> 02:09:11,230
even if something appears to be linear

2186
02:09:08,969 --> 02:09:13,000
from how it's described or from your

2187
02:09:11,229 --> 02:09:16,559
perspective it says it is not

2188
02:09:13,000 --> 02:09:19,988
necessarily linear on the GPU itself and

2189
02:09:16,560 --> 02:09:24,039
the way in which the GPUs window into

2190
02:09:19,988 --> 02:09:28,049
its own memory causes that memory to be

2191
02:09:24,039 --> 02:09:28,050
organized can be quite a bit different

2192
02:09:30,060 --> 02:09:37,000
than what you would expect so again I

2193
02:09:35,260 --> 02:09:38,800
would just lean on the texture example

2194
02:09:37,000 --> 02:09:42,010
of a way that gather doesn't work the

2195
02:09:38,800 --> 02:09:43,810
way you would expect so you know you

2196
02:09:42,010 --> 02:09:47,139
think of a texture as being a linearly

2197
02:09:43,810 --> 02:09:49,090
map texture and that's how you maybe you

2198
02:09:47,139 --> 02:09:54,340
submitted to the GPU and whatever else

2199
02:09:49,090 --> 02:09:58,389
happens but in reality the GPU wants

2200
02:09:54,340 --> 02:10:01,750
that texture to be Swizzle dry so the

2201
02:09:58,389 --> 02:10:04,599
GPU wants to reorganize the texture so

2202
02:10:01,750 --> 02:10:10,719
that that texture is laid out in a

2203
02:10:04,599 --> 02:10:13,719
different pattern right I and so when we

2204
02:10:10,719 --> 02:10:15,880
think about how that works then you have

2205
02:10:13,719 --> 02:10:17,289
to think about well why does it need to

2206
02:10:15,880 --> 02:10:18,460
put it into a particular pattern well it

2207
02:10:17,289 --> 02:10:19,939
needs to put it into Pickler pattern

2208
02:10:18,460 --> 02:10:24,230
because of the way its memory axes

2209
02:10:19,939 --> 02:10:26,359
these are going to work right and so

2210
02:10:24,229 --> 02:10:29,359
when you think about whether something

2211
02:10:26,359 --> 02:10:32,089
is a gather that makes it difficult

2212
02:10:29,359 --> 02:10:35,029
because since you don't know how the

2213
02:10:32,090 --> 02:10:37,579
graphic card maybe Swizzle enough into

2214
02:10:35,029 --> 02:10:39,800
its memory you don't necessarily know

2215
02:10:37,579 --> 02:10:43,309
what is a gather and what isn't a gather

2216
02:10:39,800 --> 02:10:45,469
right so if you need to do a bilinear

2217
02:10:43,310 --> 02:10:47,780
filter on something or you need to do

2218
02:10:45,469 --> 02:10:49,489
your texture mapping a small area and

2219
02:10:47,779 --> 02:10:52,189
you're like well how coherent is this

2220
02:10:49,488 --> 02:10:53,959
texture mapping going to be I think it's

2221
02:10:52,189 --> 02:10:56,689
pretty hard to really know without

2222
02:10:53,960 --> 02:10:59,420
collecting some statistics or talking to

2223
02:10:56,689 --> 02:11:02,299
a GPU vendor really what's going on on a

2224
02:10:59,420 --> 02:11:05,210
CPU you kind of know to a certain extent

2225
02:11:02,300 --> 02:11:07,760
that the addresses are mapped linearly

2226
02:11:05,210 --> 02:11:09,230
things are stored the way you said that

2227
02:11:07,760 --> 02:11:10,760
they were stored because you wrote them

2228
02:11:09,229 --> 02:11:12,649
and now you're reading them you know the

2229
02:11:10,760 --> 02:11:14,539
size of the cache lines you know the

2230
02:11:12,649 --> 02:11:16,460
alignment of the cache lines and all

2231
02:11:14,539 --> 02:11:19,939
that stuff is very well documented

2232
02:11:16,460 --> 02:11:22,819
understood and that's really just not

2233
02:11:19,939 --> 02:11:25,009
the case on GPUs I mean I don't know for

2234
02:11:22,819 --> 02:11:28,130
example the GPU this machine I have no

2235
02:11:25,010 --> 02:11:31,130
idea how it's storing things I have no

2236
02:11:28,130 --> 02:11:34,010
idea what its cache line size is I have

2237
02:11:31,130 --> 02:11:35,750
no idea how biggest cache is I have no

2238
02:11:34,010 --> 02:11:38,869
information about any of that stuff we

2239
02:11:35,750 --> 02:11:40,850
could try to find it out but you know I

2240
02:11:38,869 --> 02:11:43,219
don't even know how it reserves parts of

2241
02:11:40,850 --> 02:11:44,360
things that are cast you know there's

2242
02:11:43,219 --> 02:11:46,730
all sorts of things like there's a

2243
02:11:44,359 --> 02:11:48,829
texture cache typically or cache unit

2244
02:11:46,729 --> 02:11:52,069
that pulls things in - like texture from

2245
02:11:48,829 --> 02:11:54,439
I mean I have no idea on any particular

2246
02:11:52,069 --> 02:11:56,179
card like what that looks like and once

2247
02:11:54,439 --> 02:11:58,069
in a while you can take a specific card

2248
02:11:56,180 --> 02:12:00,320
and ask a bunch of questions and get

2249
02:11:58,069 --> 02:12:02,299
down to like oh here's exactly how this

2250
02:12:00,319 --> 02:12:04,130
thing does a bunch of stuff and maybe

2251
02:12:02,300 --> 02:12:05,989
you care enough on a particular search

2252
02:12:04,130 --> 02:12:07,819
platform like and say it's a Playstation

2253
02:12:05,988 --> 02:12:09,049
4 or something maybe you care enough to

2254
02:12:07,819 --> 02:12:10,609
find all that stuff out because the

2255
02:12:09,050 --> 02:12:13,699
fixed platform and you want to optimize

2256
02:12:10,609 --> 02:12:17,210
specifically for it but you know it's

2257
02:12:13,698 --> 02:12:20,960
really just it's really just difficult

2258
02:12:17,210 --> 02:12:23,409
to sort of figure out that stuff on a

2259
02:12:20,960 --> 02:12:23,409
broader scale

2260
02:12:25,139 --> 02:12:32,250
and yet you can't really Swizzle

2261
02:12:27,029 --> 02:12:35,250
textures yourself really so my

2262
02:12:32,250 --> 02:12:36,810
understanding on that and and you know

2263
02:12:35,250 --> 02:12:38,329
again this could be dated but my

2264
02:12:36,810 --> 02:12:41,280
understanding on that is that the

2265
02:12:38,329 --> 02:12:43,319
problem with frizzling textures is that

2266
02:12:41,279 --> 02:12:49,829
every card wants textures Swizzle

2267
02:12:43,319 --> 02:12:52,170
differently so the way this works is

2268
02:12:49,829 --> 02:12:54,238
there was a standard fizzell format I

2269
02:12:52,170 --> 02:12:56,819
believe that was introduced for DirectX

2270
02:12:54,238 --> 02:12:59,488
maybe or some kind of standard swittel

2271
02:12:56,819 --> 02:13:02,099
thing there's like a nominal attempt at

2272
02:12:59,488 --> 02:13:05,178
it and I believe all cards have to

2273
02:13:02,100 --> 02:13:07,409
accept data swiveled in that format but

2274
02:13:05,179 --> 02:13:10,199
that may not be the format that's

2275
02:13:07,408 --> 02:13:12,539
fastest for the card so what actually

2276
02:13:10,198 --> 02:13:14,939
happens is every card has a different

2277
02:13:12,539 --> 02:13:16,920
memory subsystem typically and that

2278
02:13:14,939 --> 02:13:19,888
memory subsystem is based on what type

2279
02:13:16,920 --> 02:13:23,460
of memory and memory boss's stuff that

2280
02:13:19,889 --> 02:13:25,230
got set up and so my understanding and

2281
02:13:23,460 --> 02:13:29,850
this is fuzzy because again I don't work

2282
02:13:25,229 --> 02:13:32,099
with this stuff very much is it Nvidia

2283
02:13:29,850 --> 02:13:35,310
cards for the most part at least the

2284
02:13:32,100 --> 02:13:38,820
higher end ones I believe have memory

2285
02:13:35,310 --> 02:13:41,610
subsystems that can do the Swizzle in

2286
02:13:38,819 --> 02:13:47,759
the memory subsystem so they can

2287
02:13:41,609 --> 02:13:50,250
actually accept textures that don't have

2288
02:13:47,760 --> 02:13:52,980
to be Swizzle in a particular Swizzle

2289
02:13:50,250 --> 02:13:57,810
format because they have the ability to

2290
02:13:52,979 --> 02:13:59,428
Swizzle the memory controller I think do

2291
02:13:57,810 --> 02:14:03,600
not quote me on this again this is way

2292
02:13:59,429 --> 02:14:06,750
out of my area of expertise AMD cards

2293
02:14:03,600 --> 02:14:09,800
however because they are often designed

2294
02:14:06,750 --> 02:14:12,899
to target the lower end of the market

2295
02:14:09,800 --> 02:14:15,960
they have specific swivel patterns that

2296
02:14:12,899 --> 02:14:18,329
the memory controller can do and you

2297
02:14:15,960 --> 02:14:19,050
have to be Quizzle in one of those

2298
02:14:18,329 --> 02:14:21,389
formats

2299
02:14:19,050 --> 02:14:23,190
you can't pick an arbitrary Swizzle

2300
02:14:21,389 --> 02:14:26,010
format and expect it to work

2301
02:14:23,189 --> 02:14:27,388
it has to be the one that's whatever

2302
02:14:26,010 --> 02:14:32,039
that memory controller does it's

2303
02:14:27,389 --> 02:14:33,810
different depending on the card SKU so

2304
02:14:32,039 --> 02:14:36,800
my recollection is that it's actually

2305
02:14:33,810 --> 02:14:36,800
kind of a nightmare

2306
02:14:37,680 --> 02:14:44,159
in that right now you really would need

2307
02:14:41,729 --> 02:14:46,979
something like a query call that says

2308
02:14:44,159 --> 02:14:48,840
hey card what's the algorithm for

2309
02:14:46,979 --> 02:14:50,279
Swizzle in your thing and somehow that

2310
02:14:48,840 --> 02:14:52,619
would have to be represented back to you

2311
02:14:50,279 --> 02:14:55,079
and then you would have to Swizzle into

2312
02:14:52,619 --> 02:14:56,970
that format so it's not the case that

2313
02:14:55,079 --> 02:14:58,109
there's just one Swizzle format and you

2314
02:14:56,970 --> 02:14:59,699
could just store all your textures

2315
02:14:58,109 --> 02:15:01,439
prease whistled in that format and

2316
02:14:59,699 --> 02:15:04,889
upload them without having to go through

2317
02:15:01,439 --> 02:15:07,710
a Swizzle that is not the case as far as

2318
02:15:04,890 --> 02:15:10,200
I know you pretty much have to have the

2319
02:15:07,710 --> 02:15:11,819
car it beats whistled to the cards

2320
02:15:10,199 --> 02:15:14,029
format and only the card can really do

2321
02:15:11,819 --> 02:15:16,590
that and there is no way to query it

2322
02:15:14,029 --> 02:15:18,659
however I also was under the

2323
02:15:16,590 --> 02:15:20,159
understanding that Nvidia had some kind

2324
02:15:18,659 --> 02:15:23,159
of stuff on there that allowed you to

2325
02:15:20,159 --> 02:15:25,649
upload flat textures or Swizzle din

2326
02:15:23,159 --> 02:15:27,779
whatever format you want textures and it

2327
02:15:25,649 --> 02:15:29,579
could adapt I thought there was

2328
02:15:27,779 --> 02:15:31,259
something to that effect where the

2329
02:15:29,579 --> 02:15:37,229
memory controller could Swizzle the

2330
02:15:31,260 --> 02:15:41,520
addresses in that way but that's just my

2331
02:15:37,229 --> 02:15:44,119
vague understanding and I could be very

2332
02:15:41,520 --> 02:15:44,120
wrong about that

2333
02:15:58,738 --> 02:16:06,609
his handmade country still at the start

2334
02:16:02,380 --> 02:16:08,710
of 2018 I have not I don't know that

2335
02:16:06,609 --> 02:16:14,529
there's going to be a Sam VidCon 2018

2336
02:16:08,710 --> 02:16:16,529
I'm very much not sure what's going to

2337
02:16:14,529 --> 02:16:18,639
be happening in terms of conferences

2338
02:16:16,529 --> 02:16:20,559
unless somebody else is hosting

2339
02:16:18,640 --> 02:16:22,869
conferences I know there was some talk

2340
02:16:20,560 --> 02:16:26,560
of people wanted to do one in Europe or

2341
02:16:22,869 --> 02:16:28,569
something like that so I'm not sure but

2342
02:16:26,560 --> 02:16:36,179
I have not put anything out about that

2343
02:16:28,569 --> 02:16:38,920
certainly Brian asked see tre

2344
02:16:36,179 --> 02:16:41,469
improvement would you be so kind as to

2345
02:16:38,920 --> 02:16:45,370
give a suggestion of how you tackle

2346
02:16:41,468 --> 02:16:48,909
saving the day number do you prefer temp

2347
02:16:45,370 --> 02:16:50,979
files just keep it simple like how you

2348
02:16:48,909 --> 02:16:54,099
read settings i betray should I look at

2349
02:16:50,978 --> 02:16:56,199
how you save State look and see time you

2350
02:16:54,099 --> 02:16:59,019
can try the tackle on alternative this

2351
02:16:56,200 --> 02:17:07,450
week before I do need to become more

2352
02:16:59,019 --> 02:17:10,659
confident in reading writing to files so

2353
02:17:07,450 --> 02:17:14,340
I mean I would say that it probably

2354
02:17:10,659 --> 02:17:16,780
doesn't matter very much how it's done

2355
02:17:14,340 --> 02:17:18,429
but yes since there's a settings file

2356
02:17:16,780 --> 02:17:21,130
already I would say probably just

2357
02:17:18,429 --> 02:17:23,710
rewrite the settings file and put the

2358
02:17:21,129 --> 02:17:25,299
day number in there I don't really

2359
02:17:23,709 --> 02:17:28,629
remember what the format of the settings

2360
02:17:25,299 --> 02:17:31,920
file is in the C tray because it's been

2361
02:17:28,629 --> 02:17:31,920
a long time since I've looked at that

2362
02:17:34,260 --> 02:17:40,110
but yeah it looks like you could just

2363
02:17:42,120 --> 02:17:48,910
you could just pick the day number down

2364
02:17:44,349 --> 02:17:50,710
at the bottom right and then when you

2365
02:17:48,909 --> 02:17:53,110
just read and write this file so you

2366
02:17:50,709 --> 02:17:55,899
read it in and every time you increment

2367
02:17:53,110 --> 02:17:58,500
the day number you just save it back out

2368
02:17:55,899 --> 02:17:58,500
again right

2369
02:18:04,780 --> 02:18:09,040
yeah I mean I think that's a reason I

2370
02:18:06,610 --> 02:18:12,429
don't know that making it in any file is

2371
02:18:09,040 --> 02:18:14,590
a very good idea necessarily it's not

2372
02:18:12,429 --> 02:18:16,989
necessarily a bad idea since I guess

2373
02:18:14,590 --> 02:18:18,790
since C tre is kind of only a Windows

2374
02:18:16,989 --> 02:18:21,069
program anyway there's no you know it's

2375
02:18:18,790 --> 02:18:22,330
there's hardly any platform knobs very

2376
02:18:21,069 --> 02:18:25,299
part of it almost all of it is like

2377
02:18:22,329 --> 02:18:27,340
talking is talking to windows to get

2378
02:18:25,299 --> 02:18:29,829
those transparent windows to just

2379
02:18:27,340 --> 02:18:31,389
transparent overlays to appear so it's

2380
02:18:29,829 --> 02:18:37,679
not like there's any concern about it

2381
02:18:31,388 --> 02:18:39,759
having to be happened to be

2382
02:18:37,679 --> 02:18:41,739
cross-platform or anything like that

2383
02:18:39,760 --> 02:18:44,019
all right so if you prefer it to be in

2384
02:18:41,739 --> 02:18:46,260
any file yet but you can that's totally

2385
02:18:44,019 --> 02:18:52,510
fine as well

2386
02:18:46,260 --> 02:18:54,579
so I would I would say that's fine I I

2387
02:18:52,510 --> 02:18:58,870
don't I don't really think it needs to

2388
02:18:54,579 --> 02:19:00,308
be changed from that right so what

2389
02:18:58,870 --> 02:19:00,700
you've got in there now seems reasonable

2390
02:19:00,308 --> 02:19:02,549
to me

2391
02:19:00,700 --> 02:19:04,510
I haven't tried it obviously but

2392
02:19:02,549 --> 02:19:06,779
assuming that works okay it should be

2393
02:19:04,510 --> 02:19:06,780
fine

2394
02:19:15,091 --> 02:19:20,341
and so is it possible to mode change

2395
02:19:17,700 --> 02:19:22,200
monitor frequency nowadays so I always

2396
02:19:20,341 --> 02:19:23,809
try to get my game loop to run at 60

2397
02:19:22,200 --> 02:19:30,211
Hertz

2398
02:19:23,809 --> 02:19:32,130
yes and no so if you have a one of those

2399
02:19:30,210 --> 02:19:33,630
fancy monitors for gaming so that has

2400
02:19:32,130 --> 02:19:35,519
like do you think or one of those things

2401
02:19:33,630 --> 02:19:39,479
in then yes you can set it to whatever

2402
02:19:35,520 --> 02:19:41,850
refresh rate you want really if you just

2403
02:19:39,479 --> 02:19:43,800
have a regular monitor than no regular

2404
02:19:41,850 --> 02:19:47,940
monitors typically have a refresh rate

2405
02:19:43,800 --> 02:19:51,029
that is you know sort of prescribed

2406
02:19:47,940 --> 02:19:53,989
ahead of time like you know it's got

2407
02:19:51,030 --> 02:19:56,311
some set of refresh rates it can do and

2408
02:19:53,989 --> 02:19:58,560
I don't think you can just pick an

2409
02:19:56,310 --> 02:20:01,261
arbitrary one if it doesn't support

2410
02:19:58,560 --> 02:20:07,591
sixty Hertz you can't set it to 60 Hertz

2411
02:20:01,261 --> 02:20:10,801
right now most monitors these days would

2412
02:20:07,591 --> 02:20:13,171
support 60 Hertz so I would suspect that

2413
02:20:10,800 --> 02:20:14,130
if your goal is to just set the loop to

2414
02:20:13,171 --> 02:20:16,200
run at 60 Hertz

2415
02:20:14,130 --> 02:20:18,449
most of the time you probably could get

2416
02:20:16,200 --> 02:20:22,230
that mode that's not going to be super

2417
02:20:18,450 --> 02:20:24,480
unusual I don't think if however you

2418
02:20:22,229 --> 02:20:27,210
wanted your game to run it 45 Hertz all

2419
02:20:24,479 --> 02:20:29,761
the time that's the one where you're in

2420
02:20:27,210 --> 02:20:31,290
trouble right running at 45 Hertz all

2421
02:20:29,761 --> 02:20:35,521
the time will work just fine on a do you

2422
02:20:31,290 --> 02:20:38,819
think but it's not going to fly on a

2423
02:20:35,521 --> 02:20:43,011
standard monitor probably doesn't have a

2424
02:20:38,819 --> 02:20:47,069
mode that supports 45 for its update so

2425
02:20:43,011 --> 02:20:51,319
and I believe that mostly just that it's

2426
02:20:47,069 --> 02:20:54,210
really just the that the

2427
02:20:51,319 --> 02:20:55,619
controller on the monitor to the best of

2428
02:20:54,210 --> 02:20:59,550
my knowledge there's no such thing

2429
02:20:55,620 --> 02:21:03,240
really as a LCD refresh rate per se as

2430
02:20:59,550 --> 02:21:05,489
far as I know LCDs are more or less only

2431
02:21:03,239 --> 02:21:07,829
about a maximum rate like you can only

2432
02:21:05,489 --> 02:21:12,329
change them at a certain maximum

2433
02:21:07,829 --> 02:21:15,569
frequency but there's not like a oh I

2434
02:21:12,329 --> 02:21:18,751
built this LCD circuit and it can only

2435
02:21:15,569 --> 02:21:22,560
do 60 Hertz so I'm pretty sure most of

2436
02:21:18,751 --> 02:21:24,931
the time that limitation of it only

2437
02:21:22,560 --> 02:21:26,579
having certain refresh rates is because

2438
02:21:24,931 --> 02:21:29,011
the controller that's on the monitor

2439
02:21:26,579 --> 02:21:30,870
only recognizes those rates and not

2440
02:21:29,011 --> 02:21:33,329
because you couldn't have had the rate

2441
02:21:30,870 --> 02:21:35,370
be arbitrary which is what I think G sig

2442
02:21:33,329 --> 02:21:36,899
monitors typically are teasing monitors

2443
02:21:35,370 --> 02:21:38,370
are just a regular monitor that just

2444
02:21:36,899 --> 02:21:42,149
happens to have the controller replaced

2445
02:21:38,370 --> 02:21:46,101
with one that doesn't arbitrarily say

2446
02:21:42,149 --> 02:21:46,100
you can only have these refresh rates

2447
02:22:06,420 --> 02:22:11,069
teach you a question from Brian as an

2448
02:22:09,600 --> 02:22:12,510
exercise I would like to investigate the

2449
02:22:11,069 --> 02:22:14,520
cost of just bringing the overlays to

2450
02:22:12,510 --> 02:22:16,800
the top and checking first if you

2451
02:22:14,520 --> 02:22:18,300
overlays need to be brought forward what

2452
02:22:16,799 --> 02:22:20,009
should I look for should I profile the

2453
02:22:18,299 --> 02:22:22,170
calls should I run it continuously to

2454
02:22:20,010 --> 02:22:23,670
see if I get error cases I realize this

2455
02:22:22,170 --> 02:22:25,170
may not be the best thing to do as an

2456
02:22:23,670 --> 02:22:37,799
example but it was something I struggled

2457
02:22:25,170 --> 02:22:42,629
with I would say that I would say that

2458
02:22:37,799 --> 02:22:44,309
the problem is not a performance problem

2459
02:22:42,629 --> 02:22:48,839
so the reason I recommended checking

2460
02:22:44,309 --> 02:22:50,489
first is not because of performance what

2461
02:22:48,840 --> 02:22:54,510
I was concerned about is that whenever

2462
02:22:50,489 --> 02:22:57,299
you change the Z order of the windows on

2463
02:22:54,510 --> 02:23:01,670
the screen you run the risk of

2464
02:22:57,299 --> 02:23:05,639
triggering things in Windows that may

2465
02:23:01,670 --> 02:23:07,710
produce unwanted results so for example

2466
02:23:05,639 --> 02:23:10,079
you know you may end up bringing the

2467
02:23:07,709 --> 02:23:12,959
taskbar to the front you may end up

2468
02:23:10,079 --> 02:23:16,649
causing an OpenGL window to lose its

2469
02:23:12,959 --> 02:23:20,239
ability to do its vsync you may end up

2470
02:23:16,649 --> 02:23:25,559
causing you know who knows what right

2471
02:23:20,239 --> 02:23:28,530
and so mostly what I was concerned about

2472
02:23:25,559 --> 02:23:32,039
there was not poking Windows in a bad

2473
02:23:28,530 --> 02:23:33,930
way I don't know that there's really a

2474
02:23:32,040 --> 02:23:36,060
significant performance difference in

2475
02:23:33,930 --> 02:23:38,340
either case I don't even know whether

2476
02:23:36,059 --> 02:23:40,590
Windows is smart enough it might be that

2477
02:23:38,340 --> 02:23:44,520
Windows is smart enough to know to just

2478
02:23:40,590 --> 02:23:47,880
not change do any of those things if you

2479
02:23:44,520 --> 02:23:49,380
during this clause but that was really

2480
02:23:47,879 --> 02:23:51,239
the part that I was concerned about I

2481
02:23:49,379 --> 02:23:53,449
was concerned about the side effects

2482
02:23:51,239 --> 02:23:58,799
that might occur from constantly calling

2483
02:23:53,450 --> 02:24:02,610
those functions not the performance so

2484
02:23:58,799 --> 02:24:04,739
that is why I thought it was safer to

2485
02:24:02,610 --> 02:24:09,300
only change it if it actually needed to

2486
02:24:04,739 --> 02:24:13,459
be changed and not just constantly just

2487
02:24:09,299 --> 02:24:13,459
spam windows with bring to front

2488
02:24:34,510 --> 02:24:42,590
alright oops

2489
02:24:40,909 --> 02:24:50,289
I did not mean to close that and to

2490
02:24:42,590 --> 02:24:50,290
close that let's try that one more time

2491
02:24:53,540 --> 02:25:00,050
what is happening here all right thank

2492
02:24:58,579 --> 02:25:01,069
you everyone for joining me for lips o -

2493
02:25:00,049 --> 02:25:03,619
handmade here it's that a pleasure

2494
02:25:01,069 --> 02:25:05,000
coating with you as always if you would

2495
02:25:03,620 --> 02:25:06,440
like to follow along a series at home

2496
02:25:05,000 --> 02:25:09,139
you can always appear to the game on

2497
02:25:06,440 --> 02:25:10,430
handmade reorg and it comes to the

2498
02:25:09,139 --> 02:25:12,049
source code she gets all along at home

2499
02:25:10,430 --> 02:25:13,639
we also have a forum site go to July ask

2500
02:25:12,049 --> 02:25:15,979
questions a patreon page you can use

2501
02:25:13,639 --> 02:25:17,389
wasp or our video series a schedule Bob

2502
02:25:15,979 --> 02:25:19,010
between schedules you if you want to

2503
02:25:17,389 --> 02:25:21,260
catch us live which as you can see is

2504
02:25:19,010 --> 02:25:23,960
going to be in just twenty one short

2505
02:25:21,260 --> 02:25:25,850
hours from now and an episode guide you

2506
02:25:23,959 --> 02:25:28,579
can go to if you want to catch up on old

2507
02:25:25,850 --> 02:25:31,640
elements of the series we will be back

2508
02:25:28,579 --> 02:25:34,340
here tomorrow same time same place if

2509
02:25:31,639 --> 02:25:35,750
you'd like to see us try to push that

2510
02:25:34,340 --> 02:25:38,450
letting now that we've got some of those

2511
02:25:35,750 --> 02:25:42,260
bugs out we can try to get some higher

2512
02:25:38,450 --> 02:25:44,600
quality in which will be nice as well I

2513
02:25:42,260 --> 02:25:45,771
hope to be back here for that until then

2514
02:25:44,600 --> 02:25:46,940
have fun programming and I'll see

2515
02:25:45,771 --> 02:25:49,060
everyone on the Internet take it easy

2516
02:25:46,940 --> 02:25:49,060
everybody

