1
00:00:00,079 --> 00:00:06,179
all right we have started the recording

2
00:00:03,149 --> 00:00:07,799
so it should be recording hello everyone

3
00:00:06,179 --> 00:00:09,179
and welcome to handmade Hiro the show

4
00:00:07,799 --> 00:00:14,519
where we code a complete game live on

5
00:00:09,179 --> 00:00:17,278
stream we if you remember correctly at

6
00:00:14,519 --> 00:00:19,740
the end of last week's streams I said

7
00:00:17,278 --> 00:00:21,570
that I kind of came upon the fact that I

8
00:00:19,739 --> 00:00:25,049
really didn't feel like I had a solid

9
00:00:21,570 --> 00:00:28,160
understanding of exactly what the right

10
00:00:25,050 --> 00:00:32,399
sorting rule would be for our game and

11
00:00:28,160 --> 00:00:34,530
you know this is kind of a aspect of my

12
00:00:32,399 --> 00:00:36,390
inexperience with 2d games I'm really

13
00:00:34,530 --> 00:00:38,969
more of a 3d game person I've never

14
00:00:36,390 --> 00:00:42,058
really worked on 2d games or 2d game

15
00:00:38,969 --> 00:00:45,000
technology I've only ever worked on 3d

16
00:00:42,058 --> 00:00:46,738
stuff so I just don't have a lot of sort

17
00:00:45,000 --> 00:00:48,450
of like tips and tricks for like oh

18
00:00:46,738 --> 00:00:50,339
here's probably how you want to sort

19
00:00:48,450 --> 00:00:52,170
sprites or here's the best way to sort

20
00:00:50,340 --> 00:00:53,760
of like if you're trying to fake a 3d

21
00:00:52,170 --> 00:00:57,390
effect here's you know maybe the the

22
00:00:53,759 --> 00:01:00,738
most efficacious way to do that and so

23
00:00:57,390 --> 00:01:03,989
you know I just don't feel comfortable

24
00:01:00,738 --> 00:01:05,879
yet specifically saying this is the way

25
00:01:03,988 --> 00:01:07,859
that this should work and so what I

26
00:01:05,879 --> 00:01:09,179
wanted to do today because I just at the

27
00:01:07,859 --> 00:01:10,349
end of last dream I was kind of playing

28
00:01:09,180 --> 00:01:12,180
with and I was like I just don't feel

29
00:01:10,349 --> 00:01:13,919
comfortable here I don't feel like I

30
00:01:12,180 --> 00:01:15,780
really understand what the trade-offs

31
00:01:13,920 --> 00:01:18,570
are I don't feel like I understand what

32
00:01:15,780 --> 00:01:20,460
what the rules should be or what would

33
00:01:18,569 --> 00:01:22,079
produce the best outcome for us in in

34
00:01:20,459 --> 00:01:25,618
most circumstances and lead to the

35
00:01:22,079 --> 00:01:26,908
fewest hack hacks so I decided that I

36
00:01:25,618 --> 00:01:29,909
just want to spend today's stream

37
00:01:26,909 --> 00:01:33,030
figuring out what I think about Z

38
00:01:29,909 --> 00:01:34,500
sorting for a game of this fashion and

39
00:01:33,030 --> 00:01:36,329
so that's really all we're gonna do

40
00:01:34,500 --> 00:01:37,799
today and I mean you know if we've come

41
00:01:36,328 --> 00:01:40,618
up with something relatively quickly

42
00:01:37,799 --> 00:01:42,180
then we'll just try and start putting

43
00:01:40,618 --> 00:01:43,590
that into code but if we don't then we

44
00:01:42,180 --> 00:01:45,600
don't so it's really just a case of

45
00:01:43,590 --> 00:01:47,640
trying to work that through and giving

46
00:01:45,599 --> 00:01:50,219
ourselves enough time to get to a point

47
00:01:47,640 --> 00:01:54,329
where it's like okay this seems pretty

48
00:01:50,219 --> 00:02:00,500
reasonable so here's day 299 and we are

49
00:01:54,328 --> 00:02:00,500
talking about tile Z sorting

50
00:02:01,400 --> 00:02:05,150
now for the moment the part that I'm

51
00:02:03,319 --> 00:02:06,949
concerned about is only sorting within a

52
00:02:05,150 --> 00:02:10,189
layer so I'm gonna go ahead and assume

53
00:02:06,950 --> 00:02:11,840
that layers can be sorted separately and

54
00:02:10,189 --> 00:02:14,659
you know our rooms are kind of in those

55
00:02:11,840 --> 00:02:18,920
slices that you saw where they're kind

56
00:02:14,659 --> 00:02:22,039
of you know discrete sort of pieces that

57
00:02:18,919 --> 00:02:23,959
that are faded in separately and of the

58
00:02:22,039 --> 00:02:27,259
sort stuff like this but inside a given

59
00:02:23,960 --> 00:02:30,800
room I want to think about how the tiles

60
00:02:27,259 --> 00:02:33,500
the sorting should work and the way that

61
00:02:30,800 --> 00:02:34,880
I started thinking about this what

62
00:02:33,500 --> 00:02:38,930
because I was kind of thinking about it

63
00:02:34,879 --> 00:02:42,109
a little bit today was just that we

64
00:02:38,930 --> 00:02:44,330
could say very clearly that if we were

65
00:02:42,110 --> 00:02:46,940
looking directly top-down on something

66
00:02:44,330 --> 00:02:51,310
right so let's say that we were 100%

67
00:02:46,939 --> 00:02:55,909
top-down so here is like our tiles right

68
00:02:51,310 --> 00:02:58,819
if we were directly top-down then what

69
00:02:55,909 --> 00:03:04,039
we would know is that you know looking

70
00:02:58,819 --> 00:03:06,709
at it here's our sort of our camera and

71
00:03:04,039 --> 00:03:09,310
here's the the tiles right so we're

72
00:03:06,709 --> 00:03:11,629
looking kind of this way down at them

73
00:03:09,310 --> 00:03:14,650
what we would know is that the z-value

74
00:03:11,629 --> 00:03:16,939
would be all we would sort on right

75
00:03:14,650 --> 00:03:20,209
basically we would know that whatever

76
00:03:16,939 --> 00:03:23,150
the the topmost z value is of a

77
00:03:20,209 --> 00:03:25,789
character or a sprites whatever its

78
00:03:23,150 --> 00:03:28,129
highest z point is that is the point

79
00:03:25,789 --> 00:03:30,229
that we would sort on because since no

80
00:03:28,129 --> 00:03:33,139
two tiles will ever overlap each other

81
00:03:30,229 --> 00:03:35,209
and they will only be like higher or

82
00:03:33,139 --> 00:03:36,649
lower we only care about sorting things

83
00:03:35,209 --> 00:03:38,239
that are stacked on top of each other

84
00:03:36,650 --> 00:03:40,010
and obviously when things are stacked on

85
00:03:38,239 --> 00:03:42,379
top of each other the highest possible z

86
00:03:40,009 --> 00:03:47,509
point is the point that tells us what

87
00:03:42,379 --> 00:03:49,099
would be viewed right so then we get to

88
00:03:47,509 --> 00:03:51,199
sort of the second stage of that which

89
00:03:49,099 --> 00:03:54,409
is what happens now when we tilt that

90
00:03:51,199 --> 00:03:56,179
slightly so here was previously you know

91
00:03:54,409 --> 00:03:59,060
the way we were looking at things here

92
00:03:56,180 --> 00:04:00,530
is sort of a you know an example of

93
00:03:59,060 --> 00:04:03,409
something that we might be seeing from

94
00:04:00,530 --> 00:04:07,280
the top down and so in this circumstance

95
00:04:03,409 --> 00:04:08,990
if the hero is standing here then what I

96
00:04:07,280 --> 00:04:10,699
see when I'm looking top down is that

97
00:04:08,990 --> 00:04:12,469
well the kurios highest point is here

98
00:04:10,699 --> 00:04:14,449
the cloaks last point is here the torsos

99
00:04:12,469 --> 00:04:16,189
highest point is there we can sort all

100
00:04:14,449 --> 00:04:18,229
those by Z here's the highest one in the

101
00:04:16,189 --> 00:04:20,238
ground if we sort the highest points by

102
00:04:18,230 --> 00:04:22,400
Z we will immediately get the correct

103
00:04:20,238 --> 00:04:25,339
answer and since we never really care

104
00:04:22,399 --> 00:04:28,339
about any other aspects of it we don't

105
00:04:25,339 --> 00:04:33,709
have a problem now is that 100% true no

106
00:04:28,339 --> 00:04:34,418
it's not 100% true and why is it 100%

107
00:04:33,709 --> 00:04:37,310
true

108
00:04:34,418 --> 00:04:40,039
well it's not 100% true because we don't

109
00:04:37,310 --> 00:04:44,329
really have the opportunity to do this

110
00:04:40,040 --> 00:04:46,160
sorting in a way that is partial right

111
00:04:44,329 --> 00:04:48,560
because if you think about what's gonna

112
00:04:46,160 --> 00:04:49,910
happen we're really not gonna get a

113
00:04:48,560 --> 00:04:52,009
perfect set of tile like this we're

114
00:04:49,910 --> 00:04:55,820
gonna get sprites that kind of overlap a

115
00:04:52,009 --> 00:04:59,110
bunch of tiles right and so we don't

116
00:04:55,819 --> 00:05:03,110
necessarily always have the luxury of

117
00:04:59,110 --> 00:05:04,870
you know of doing sort of whatever might

118
00:05:03,110 --> 00:05:07,340
be the most sensible thing to do here

119
00:05:04,870 --> 00:05:09,079
well you know now I think about though I

120
00:05:07,339 --> 00:05:10,728
don't know that might also be kind of

121
00:05:09,079 --> 00:05:12,259
correct most of the time right if this

122
00:05:10,728 --> 00:05:13,909
thing was higher than the thing we were

123
00:05:12,259 --> 00:05:15,500
sorting then it would clip it and so on

124
00:05:13,910 --> 00:05:18,650
so I don't know if that that actually

125
00:05:15,500 --> 00:05:19,100
might also be fine right so I take that

126
00:05:18,649 --> 00:05:20,359
back

127
00:05:19,100 --> 00:05:21,680
I think it we might always be fine

128
00:05:20,360 --> 00:05:23,000
because it'll sort separately for each

129
00:05:21,680 --> 00:05:24,759
of those right because we're sorting

130
00:05:23,000 --> 00:05:28,250
each of those four tiles plus the guy

131
00:05:24,759 --> 00:05:29,509
separately right and furthermore there

132
00:05:28,250 --> 00:05:31,189
are some cases that people brought up

133
00:05:29,509 --> 00:05:33,589
like let's say we have a rug that went

134
00:05:31,189 --> 00:05:35,389
across all of these well again exact

135
00:05:33,589 --> 00:05:37,219
same things should work properly here

136
00:05:35,389 --> 00:05:38,689
the rug would sort relative to these

137
00:05:37,220 --> 00:05:41,389
tiles any tiles that were higher than

138
00:05:38,689 --> 00:05:43,060
the rug in Z would draw in front of it

139
00:05:41,389 --> 00:05:45,439
in any that were lower than Z would drop

140
00:05:43,060 --> 00:05:46,699
behind it and although that may seem

141
00:05:45,439 --> 00:05:48,350
nonsensical because like hey what you

142
00:05:46,699 --> 00:05:50,000
don't really want a rug having be

143
00:05:48,350 --> 00:05:52,010
clipping into a top well that's what

144
00:05:50,000 --> 00:05:54,649
should happen if you know if you created

145
00:05:52,009 --> 00:05:56,300
in a not really possible world where a

146
00:05:54,649 --> 00:05:57,918
rug is sticking directly into a tile

147
00:05:56,300 --> 00:06:00,680
that's sticking up well that's you know

148
00:05:57,918 --> 00:06:01,848
that's not the renderers fault so I feel

149
00:06:00,680 --> 00:06:06,910
like top-down is very straightforward

150
00:06:01,848 --> 00:06:06,909
top-down is just sort by highest Z point

151
00:06:07,689 --> 00:06:13,879
so where does the complication come in

152
00:06:10,038 --> 00:06:15,288
right the complication comes in here and

153
00:06:13,879 --> 00:06:17,269
I guess you know what let me let me go

154
00:06:15,288 --> 00:06:19,279
ahead and and draw this maybe a little

155
00:06:17,269 --> 00:06:20,899
bit so just slightly differently and

156
00:06:19,279 --> 00:06:24,309
maybe you know what I could do it by I

157
00:06:20,899 --> 00:06:24,310
could do it by going like this

158
00:06:27,779 --> 00:06:35,409
so the complication comes in just when

159
00:06:30,220 --> 00:06:37,840
we're doing this sort of thing right so

160
00:06:35,410 --> 00:06:41,110
now when I'm drawing this I get a

161
00:06:37,839 --> 00:06:43,929
situation where the the sorting by the

162
00:06:41,110 --> 00:06:46,120
highest Z is unfortunately not going to

163
00:06:43,930 --> 00:06:47,620
always give me the right answer and the

164
00:06:46,120 --> 00:06:48,879
reason that sorting by the highest e is

165
00:06:47,620 --> 00:06:50,649
not going to give me the right answer is

166
00:06:48,879 --> 00:06:52,779
because this guy is obviously the

167
00:06:50,649 --> 00:06:54,789
highest but he would actually be drawn

168
00:06:52,779 --> 00:06:56,379
last in this scenario and the reason

169
00:06:54,790 --> 00:06:58,270
that he would be drawn last is because

170
00:06:56,379 --> 00:07:01,000
this angle that I've taken on the world

171
00:06:58,269 --> 00:07:04,329
allows the viewing ray to encounter

172
00:07:01,000 --> 00:07:06,839
these things here right before it

173
00:07:04,329 --> 00:07:10,719
encounters these things back here and

174
00:07:06,839 --> 00:07:12,638
you can just sort of see that that would

175
00:07:10,720 --> 00:07:17,950
always be the case right there's really

176
00:07:12,639 --> 00:07:19,900
nothing there's no way - - there's

177
00:07:17,949 --> 00:07:21,728
there's really no way to sort by just Z

178
00:07:19,899 --> 00:07:23,379
and see that that's happening because

179
00:07:21,728 --> 00:07:25,060
the activity that you're concerned about

180
00:07:23,379 --> 00:07:26,560
is happening in a different dimension

181
00:07:25,060 --> 00:07:28,389
right it's not happening in the Z

182
00:07:26,560 --> 00:07:30,430
dimension it's happening in the Y

183
00:07:28,389 --> 00:07:33,069
dimension assuming again that this is

184
00:07:30,430 --> 00:07:34,720
kind of rotating here around X right so

185
00:07:33,069 --> 00:07:39,848
it's rotating kind of into the into the

186
00:07:34,720 --> 00:07:41,500
Y plane but the the sort of the the

187
00:07:39,848 --> 00:07:44,050
trick that I was hoping to rely on

188
00:07:41,500 --> 00:07:45,610
before and maybe we still can but I'm

189
00:07:44,050 --> 00:07:47,740
just gonna try and sort of elaborate on

190
00:07:45,610 --> 00:07:50,919
what it kind of was the fix that I tried

191
00:07:47,740 --> 00:07:53,348
hoping to to sort of work with before

192
00:07:50,918 --> 00:07:55,659
was the fact that we can know that

193
00:07:53,348 --> 00:07:58,389
because we've tilted the camera in this

194
00:07:55,660 --> 00:08:00,550
way that there's a strict ordering of

195
00:07:58,389 --> 00:08:03,490
things where the closest things are

196
00:08:00,550 --> 00:08:06,788
going to be the lowest things in Y right

197
00:08:03,490 --> 00:08:10,810
so this is going to be closest and this

198
00:08:06,788 --> 00:08:13,149
is going to be furthest right so in

199
00:08:10,810 --> 00:08:16,478
theory it would seem that if we sorted

200
00:08:13,149 --> 00:08:19,209
by Y first and then by Z that might

201
00:08:16,478 --> 00:08:20,740
actually solve our problem and I would

202
00:08:19,209 --> 00:08:23,620
go a little bit further and say that the

203
00:08:20,740 --> 00:08:25,930
closest to furthest sorting we could

204
00:08:23,620 --> 00:08:28,030
also and this is I think something that

205
00:08:25,930 --> 00:08:30,639
I missed when we were thinking about it

206
00:08:28,029 --> 00:08:32,259
on Thursday one of the things that was

207
00:08:30,639 --> 00:08:35,769
tripping me up is well when you have

208
00:08:32,259 --> 00:08:36,889
these continuous moving pieces like

209
00:08:35,769 --> 00:08:39,619
entities

210
00:08:36,889 --> 00:08:41,568
right then it gets kind of confusing

211
00:08:39,619 --> 00:08:42,739
because you end up with these sorting

212
00:08:41,568 --> 00:08:46,009
problems where it's like well how does

213
00:08:42,739 --> 00:08:49,009
this guy sort relative to you know this

214
00:08:46,009 --> 00:08:50,659
thing and what I realized is we could

215
00:08:49,009 --> 00:08:53,928
actually get around that fact

216
00:08:50,659 --> 00:08:58,548
potentially by quantizing you to the

217
00:08:53,928 --> 00:09:01,009
tile that you're in right and so in

218
00:08:58,548 --> 00:09:04,698
other words we could say well there's a

219
00:09:01,009 --> 00:09:07,278
sort and the sort quantizes you to a

220
00:09:04,698 --> 00:09:10,578
tile so you're always considered to be

221
00:09:07,278 --> 00:09:12,409
at a tile center when we do the sort so

222
00:09:10,578 --> 00:09:15,558
no matter where this person moves on

223
00:09:12,409 --> 00:09:17,928
here it will always sort inside this

224
00:09:15,558 --> 00:09:22,308
column and then inside this column we

225
00:09:17,928 --> 00:09:23,448
could still sort by ascending Z and I

226
00:09:22,308 --> 00:09:25,278
don't know why I thought of that I

227
00:09:23,448 --> 00:09:26,448
thought of that today when actually Anna

228
00:09:25,278 --> 00:09:28,338
and I were taking a look at some of the

229
00:09:26,448 --> 00:09:29,868
art stuff I just kind of popped into my

230
00:09:28,339 --> 00:09:33,470
head like huh

231
00:09:29,869 --> 00:09:36,798
and so I think there's something to that

232
00:09:33,470 --> 00:09:39,829
I think what may be the part was that I

233
00:09:36,798 --> 00:09:42,019
was missing is since it does appear to

234
00:09:39,828 --> 00:09:46,308
be true that absent any other

235
00:09:42,019 --> 00:09:50,778
information you know that you can always

236
00:09:46,308 --> 00:09:51,889
draw in this order right we know that

237
00:09:50,778 --> 00:09:53,239
that we're always going to encounter

238
00:09:51,889 --> 00:09:55,970
these things before we're gonna

239
00:09:53,239 --> 00:09:58,339
encounter these other things maybe

240
00:09:55,970 --> 00:10:01,369
really what we need to do is just say

241
00:09:58,339 --> 00:10:03,589
okay we need to quantize people into

242
00:10:01,369 --> 00:10:06,319
tiles and sort them inside the tiles

243
00:10:03,589 --> 00:10:10,639
because that's really the only way that

244
00:10:06,318 --> 00:10:13,789
we can you know that we can make sense

245
00:10:10,639 --> 00:10:15,499
of what should be happening right and

246
00:10:13,789 --> 00:10:19,519
the other part that's kind of

247
00:10:15,499 --> 00:10:23,089
interesting about this right is that we

248
00:10:19,519 --> 00:10:25,759
you know if we if we assume that

249
00:10:23,089 --> 00:10:28,279
everything was contained within a tile I

250
00:10:25,759 --> 00:10:29,989
think that would work so I think that if

251
00:10:28,278 --> 00:10:32,178
everything was quantized down to a tile

252
00:10:29,989 --> 00:10:34,519
and everything was roughly tile size

253
00:10:32,178 --> 00:10:37,519
then we would have pretty reasonable

254
00:10:34,519 --> 00:10:39,948
sorting so the part where that starts to

255
00:10:37,519 --> 00:10:41,600
break down is the case that we were

256
00:10:39,948 --> 00:10:46,219
talking about sort of someone brought it

257
00:10:41,600 --> 00:10:49,370
up on the on the on the post stream QA

258
00:10:46,220 --> 00:10:50,840
the problem with doing that is what do

259
00:10:49,370 --> 00:10:52,940
you what happens when you have objects

260
00:10:50,840 --> 00:10:54,710
that don't really do that so let's

261
00:10:52,940 --> 00:10:55,970
suppose you know we have a table or

262
00:10:54,710 --> 00:10:57,290
something like this where I guess a

263
00:10:55,970 --> 00:10:59,210
better example that was brought up

264
00:10:57,289 --> 00:11:01,189
before was like a rug so that someone

265
00:10:59,210 --> 00:11:02,900
could actually more plausibly be on on

266
00:11:01,190 --> 00:11:04,160
top of it right I mean maybe you know

267
00:11:02,899 --> 00:11:07,039
characters don't generally stand on

268
00:11:04,159 --> 00:11:08,809
tables unless everyone's drunk but you

269
00:11:07,039 --> 00:11:11,329
know assuming that we have something

270
00:11:08,809 --> 00:11:13,759
that's like a floor covering well the

271
00:11:11,330 --> 00:11:15,950
problem that we get there is we could

272
00:11:13,759 --> 00:11:17,659
easily still write the quantization rule

273
00:11:15,950 --> 00:11:20,150
that probably makes this work correctly

274
00:11:17,659 --> 00:11:22,100
and that quantization rule is just to

275
00:11:20,149 --> 00:11:23,779
say that it should be sorted along with

276
00:11:22,100 --> 00:11:25,310
its front most tile whatever that

277
00:11:23,779 --> 00:11:26,419
whatever that tile might be it doesn't

278
00:11:25,309 --> 00:11:27,919
really matter which one we pick because

279
00:11:26,419 --> 00:11:30,799
X's are relevant here so as long as a

280
00:11:27,919 --> 00:11:33,289
frontmost tile and Y that's fine and we

281
00:11:30,799 --> 00:11:35,120
can quantize it to like that row but the

282
00:11:33,289 --> 00:11:37,039
problem that we run into there is then

283
00:11:35,120 --> 00:11:38,779
it will draw in front of anything that's

284
00:11:37,039 --> 00:11:41,329
in this back row and that's not actually

285
00:11:38,779 --> 00:11:43,490
what we want we still want this thing to

286
00:11:41,330 --> 00:11:46,910
be sorted relative to these other tiles

287
00:11:43,490 --> 00:11:51,680
right we just want it to be sorted such

288
00:11:46,909 --> 00:11:53,539
that we want it to be sorted such that

289
00:11:51,679 --> 00:11:55,459
it covers over those tiles but allows

290
00:11:53,539 --> 00:12:00,079
other people on those tiles to be

291
00:11:55,460 --> 00:12:02,389
standing on top of it right so that's a

292
00:12:00,080 --> 00:12:03,770
little bit confusing and that I think is

293
00:12:02,389 --> 00:12:05,389
the part where I'm a little bit hung up

294
00:12:03,769 --> 00:12:08,269
and I think that's because once you

295
00:12:05,389 --> 00:12:09,769
start linking those stacks together now

296
00:12:08,269 --> 00:12:12,350
you have a case where you have to say

297
00:12:09,769 --> 00:12:14,179
well now I really can't say that

298
00:12:12,350 --> 00:12:15,409
everything that's here is always drawn

299
00:12:14,179 --> 00:12:17,949
in front of everything that's here

300
00:12:15,409 --> 00:12:20,600
because really this thing is sort of

301
00:12:17,950 --> 00:12:21,920
kind of goes across all of them and

302
00:12:20,600 --> 00:12:24,310
creates this sort of weird cross-cutting

303
00:12:21,919 --> 00:12:24,309
concern

304
00:12:30,750 --> 00:12:37,240
so I don't really know what we do about

305
00:12:32,799 --> 00:12:39,189
that right I mean one thing we can do

306
00:12:37,240 --> 00:12:40,480
about it obviously is we can try to

307
00:12:39,190 --> 00:12:41,889
create some kind of a special sort

308
00:12:40,480 --> 00:12:44,560
system that you know takes these things

309
00:12:41,889 --> 00:12:47,079
into account but what would be nice is

310
00:12:44,559 --> 00:12:50,229
if there was some way to sort of you

311
00:12:47,078 --> 00:12:51,309
know if there'd be nice there's some way

312
00:12:50,230 --> 00:12:52,899
to create a rule that would be

313
00:12:51,309 --> 00:13:00,539
intelligent about how these things are

314
00:12:52,899 --> 00:13:04,299
picked up so let's suppose for for

315
00:13:00,539 --> 00:13:06,458
amusements sake let's suppose that we

316
00:13:04,299 --> 00:13:09,278
want to start taking this into account

317
00:13:06,458 --> 00:13:13,328
in a more systematic way what I was

318
00:13:09,278 --> 00:13:14,799
thinking is somewhat plausible is we

319
00:13:13,328 --> 00:13:17,549
could start to think of the sort as a

320
00:13:14,799 --> 00:13:20,229
little bit more painters algorithm right

321
00:13:17,549 --> 00:13:25,139
we could sort of we could think of the

322
00:13:20,230 --> 00:13:25,139
sort as something that was going to

323
00:13:25,528 --> 00:13:30,338
what's the best way to what's the best

324
00:13:28,690 --> 00:13:31,480
way to say this we could think about the

325
00:13:30,339 --> 00:13:33,339
sort that was something that was going

326
00:13:31,480 --> 00:13:35,769
to take into account sort of the way

327
00:13:33,339 --> 00:13:39,100
things extend like the actual planes and

328
00:13:35,769 --> 00:13:41,259
look at which one should be the correct

329
00:13:39,100 --> 00:13:43,360
one right which which order of drawing

330
00:13:41,259 --> 00:13:46,568
these things should be the correct order

331
00:13:43,360 --> 00:13:48,579
so if we have something that's you know

332
00:13:46,568 --> 00:13:50,229
a flat piece like this and then we have

333
00:13:48,578 --> 00:13:52,088
another thing that's sort of standing

334
00:13:50,230 --> 00:13:53,829
upright on it and we know that here's

335
00:13:52,089 --> 00:13:56,110
the Z of this guy and we know that

336
00:13:53,828 --> 00:13:57,818
here's the Z of this guy you know we

337
00:13:56,110 --> 00:13:59,649
know that he doesn't get higher as it

338
00:13:57,818 --> 00:14:01,269
kind of goes further up because we have

339
00:13:59,649 --> 00:14:03,669
the information about sort of whether

340
00:14:01,269 --> 00:14:06,039
it's you know what kind of a plane it is

341
00:14:03,669 --> 00:14:07,719
and so that kind of gets us back to the

342
00:14:06,039 --> 00:14:10,360
upright versus not upright sorting I

343
00:14:07,720 --> 00:14:11,319
don't really know if you know and we

344
00:14:10,360 --> 00:14:12,759
could generalize a little bit to say

345
00:14:11,318 --> 00:14:14,559
like well we give it a plane equation or

346
00:14:12,759 --> 00:14:16,659
something like this but I don't really

347
00:14:14,559 --> 00:14:19,208
know if that's a profitable route to go

348
00:14:16,659 --> 00:14:20,620
down right it's it's it's sort of in the

349
00:14:19,208 --> 00:14:22,500
back of my mind it's like well you know

350
00:14:20,620 --> 00:14:25,028
we could start sorting these things more

351
00:14:22,500 --> 00:14:26,078
more real but I kind of feel like we

352
00:14:25,028 --> 00:14:27,129
should be able to come up with more of a

353
00:14:26,078 --> 00:14:30,068
tricky

354
00:14:27,129 --> 00:14:33,639
I'm we're a clever sort of way of of

355
00:14:30,068 --> 00:14:37,389
doing this right but I'm just not sure

356
00:14:33,639 --> 00:14:39,278
what that is so you can see if we

357
00:14:37,389 --> 00:14:41,419
enumerate the cases of this particular

358
00:14:39,278 --> 00:14:43,549
of the rug situation right

359
00:14:41,419 --> 00:14:45,949
so here is the problem that we have

360
00:14:43,549 --> 00:14:47,809
suppose that we take those four floor

361
00:14:45,950 --> 00:14:49,640
tiles and now we place this rug on if

362
00:14:47,809 --> 00:14:52,939
the rug is obviously an entity right and

363
00:14:49,639 --> 00:14:57,350
then standing on here is a hero element

364
00:14:52,940 --> 00:14:59,180
right this is this is a hero so what we

365
00:14:57,350 --> 00:15:01,279
would want to see right when we actually

366
00:14:59,179 --> 00:15:03,859
draw this thing and let's say that we

367
00:15:01,279 --> 00:15:05,509
will be more specific here so let's say

368
00:15:03,860 --> 00:15:07,610
we give each of these things a letter so

369
00:15:05,509 --> 00:15:10,100
there's well I guess I can't quite do it

370
00:15:07,610 --> 00:15:17,360
so a maybe I'll draw this a little bit

371
00:15:10,100 --> 00:15:21,159
bigger so I can actually label it so

372
00:15:17,360 --> 00:15:24,590
here's a there's be there see there's D

373
00:15:21,159 --> 00:15:26,569
and then we put on here an e which is

374
00:15:24,590 --> 00:15:31,490
the rug and then we put the hero which

375
00:15:26,570 --> 00:15:33,710
is the F okay so what we want to see

376
00:15:31,490 --> 00:15:37,430
happen in this case is the sort order we

377
00:15:33,710 --> 00:15:39,800
would like to produce always is we don't

378
00:15:37,429 --> 00:15:42,919
really care too much about the order of

379
00:15:39,799 --> 00:15:44,120
C and D relative to each other or a and

380
00:15:42,919 --> 00:15:46,339
B relative to each other but otherwise

381
00:15:44,120 --> 00:15:47,870
we have a pretty much complete ordering

382
00:15:46,340 --> 00:15:50,030
of how we would like to draw these

383
00:15:47,870 --> 00:15:52,700
things back to front right we would like

384
00:15:50,029 --> 00:15:54,470
to draw a first we'd like to draw B

385
00:15:52,700 --> 00:15:55,700
second or these are interchangeable

386
00:15:54,470 --> 00:15:59,779
right we don't really care about those

387
00:15:55,700 --> 00:16:02,570
then we have C and D also

388
00:15:59,779 --> 00:16:04,789
interchangeable then we have E and then

389
00:16:02,570 --> 00:16:08,690
we have F that's the order we would like

390
00:16:04,789 --> 00:16:10,370
to draw them in and with thinking about

391
00:16:08,690 --> 00:16:14,570
sorting things inside columns with

392
00:16:10,370 --> 00:16:16,669
quantization obviously inside if we just

393
00:16:14,570 --> 00:16:18,260
considered the tile B and we sorted it

394
00:16:16,669 --> 00:16:21,829
with that rule everything would work

395
00:16:18,259 --> 00:16:24,889
fine right we would produce the the sort

396
00:16:21,830 --> 00:16:28,040
of sort be e F which is the correct

397
00:16:24,889 --> 00:16:29,600
subsequence for inside this tile the

398
00:16:28,039 --> 00:16:31,370
problem comes when we're trying to

399
00:16:29,600 --> 00:16:36,980
figure out what happens in a C and D

400
00:16:31,370 --> 00:16:38,659
right and you know there is a single

401
00:16:36,980 --> 00:16:41,509
sort order for how these things have to

402
00:16:38,659 --> 00:16:43,459
be drawn but each individual tile sort

403
00:16:41,509 --> 00:16:45,649
could have in theory produced something

404
00:16:43,460 --> 00:16:50,320
different so although this tile sort is

405
00:16:45,649 --> 00:16:53,389
AE which is you know and see e and d e

406
00:16:50,320 --> 00:16:54,120
right inside each of these it does

407
00:16:53,389 --> 00:16:57,269
happen

408
00:16:54,120 --> 00:17:05,730
that sort is all ken can all be

409
00:16:57,269 --> 00:17:07,740
represented here right so I guess that's

410
00:17:05,730 --> 00:17:12,120
the part that's that's really kind of

411
00:17:07,740 --> 00:17:14,640
tricky is it's like if we were to

412
00:17:12,119 --> 00:17:17,068
produce a sort for every tile and then

413
00:17:14,640 --> 00:17:20,730
somehow merge those into a single

414
00:17:17,068 --> 00:17:27,629
drawing list then in theory it would

415
00:17:20,730 --> 00:17:29,279
work right in theory that that works you

416
00:17:27,630 --> 00:17:31,650
obviously have the possibility for

417
00:17:29,279 --> 00:17:34,170
ambiguity here or rather the possibility

418
00:17:31,650 --> 00:17:37,980
for a conflict which is to say let's say

419
00:17:34,170 --> 00:17:39,808
that the way this looked from from a 3d

420
00:17:37,980 --> 00:17:42,230
perspective right was something more

421
00:17:39,808 --> 00:17:42,230
like this

422
00:17:49,279 --> 00:17:55,309
so here is a block this is the block a

423
00:17:51,890 --> 00:17:59,210
we've got C D and B here

424
00:17:55,309 --> 00:18:00,259
right and then in here we've got the rug

425
00:17:59,210 --> 00:18:03,470
that's on here

426
00:18:00,259 --> 00:18:05,629
right and a protrudes straight up

427
00:18:03,470 --> 00:18:09,200
through the rug so the rug is actually

428
00:18:05,630 --> 00:18:10,940
interpenetrating right well if we have

429
00:18:09,200 --> 00:18:12,529
that situation I mean yes it's sort of

430
00:18:10,940 --> 00:18:14,360
illegal but I mean you know in a 3d

431
00:18:12,529 --> 00:18:17,509
rasterizer we use the z-buffer we just

432
00:18:14,359 --> 00:18:18,799
kind of like suck that up right so if we

433
00:18:17,509 --> 00:18:20,750
wanted to produce something reasonable

434
00:18:18,799 --> 00:18:23,000
what we would see here is well in this

435
00:18:20,750 --> 00:18:25,369
one tile even if we produce sorts for

436
00:18:23,000 --> 00:18:31,819
all the tiles we would see that we had e

437
00:18:25,369 --> 00:18:35,569
a here right Electronic Arts registered

438
00:18:31,819 --> 00:18:38,960
trademark you'd say that we'd have e a

439
00:18:35,569 --> 00:18:43,129
there and there is no way to really

440
00:18:38,960 --> 00:18:45,289
produce potentially the the rendering

441
00:18:43,130 --> 00:18:48,380
order that you want because we said

442
00:18:45,289 --> 00:18:50,960
perhaps that we wanted C in front of a

443
00:18:48,380 --> 00:18:52,790
because it comes first and why but then

444
00:18:50,960 --> 00:18:56,480
now we're saying that E which has to be

445
00:18:52,789 --> 00:18:58,879
on top of C is coming behind a so you

446
00:18:56,480 --> 00:19:02,269
have an impossible sort order you can't

447
00:18:58,880 --> 00:19:04,070
you can't have these two things appear

448
00:19:02,269 --> 00:19:05,509
in a particular order and these two

449
00:19:04,069 --> 00:19:09,200
things appear in difficult order if that

450
00:19:05,509 --> 00:19:13,250
order is different right that's just not

451
00:19:09,200 --> 00:19:14,900
going to work and so even if we did do

452
00:19:13,250 --> 00:19:16,430
all the sorts we could still end up in

453
00:19:14,900 --> 00:19:17,750
situations like that and we would have

454
00:19:16,430 --> 00:19:21,049
to have some way of knowing how to

455
00:19:17,750 --> 00:19:25,809
resolve it right and it's unclear how we

456
00:19:21,049 --> 00:19:28,879
would do that so I don't really know

457
00:19:25,809 --> 00:19:31,039
what the right solution is there I mean

458
00:19:28,880 --> 00:19:34,160
one thing we could certainly do is just

459
00:19:31,039 --> 00:19:37,879
break this rights up right you could

460
00:19:34,160 --> 00:19:39,890
just straight up cut this rights into

461
00:19:37,880 --> 00:19:42,890
pieces that get sorted separately and

462
00:19:39,890 --> 00:19:44,509
you know is that a awful idea not

463
00:19:42,890 --> 00:19:48,770
necessarily right that could be a

464
00:19:44,509 --> 00:19:51,049
totally reasonable that could be a

465
00:19:48,769 --> 00:19:57,279
totally reasonable thing to do I don't

466
00:19:51,049 --> 00:19:57,279
know what the right solution is there I

467
00:19:58,089 --> 00:20:01,359
really don't

468
00:20:01,640 --> 00:20:10,550
I mean one thing I guess I would say is

469
00:20:07,730 --> 00:20:14,779
this is why you don't tend to see a lot

470
00:20:10,549 --> 00:20:17,359
of 3d sorts of stuff in 2d games right

471
00:20:14,779 --> 00:20:19,460
typically you actually go ahead and do

472
00:20:17,359 --> 00:20:22,009
regular 3d for this sort of stuff and

473
00:20:19,460 --> 00:20:25,990
you know that's that's the reason why

474
00:20:22,009 --> 00:20:25,990
because there's really not a lot of I

475
00:20:26,200 --> 00:20:29,779
don't know that there's a lot of clarity

476
00:20:28,460 --> 00:20:31,100
that you can really get from something

477
00:20:29,779 --> 00:20:34,819
like this I don't know that there's a

478
00:20:31,099 --> 00:20:36,439
lot of I don't know that there's an

479
00:20:34,819 --> 00:20:37,909
elegant solution to it right and so

480
00:20:36,440 --> 00:20:39,230
typically you end up just not doing

481
00:20:37,910 --> 00:20:41,060
stuff like that right you're like well

482
00:20:39,230 --> 00:20:43,370
we just don't allow like we don't allow

483
00:20:41,059 --> 00:20:45,049
floor coverings to go in that way or you

484
00:20:43,369 --> 00:20:46,309
know we don't allow there to be height

485
00:20:45,049 --> 00:20:48,200
changes in the floor so that way we know

486
00:20:46,309 --> 00:20:49,399
that we always just sort by Z and we're

487
00:20:48,200 --> 00:20:53,360
done

488
00:20:49,400 --> 00:20:55,670
I don't know so yeah it's a little bit

489
00:20:53,359 --> 00:20:58,539
iffy I'm not really sure what I think

490
00:20:55,670 --> 00:20:58,539
about it yet

491
00:21:06,569 --> 00:21:11,579
and I can't say I'm really feeling

492
00:21:09,299 --> 00:21:13,349
particularly enthralled with anything

493
00:21:11,579 --> 00:21:20,909
that I've said so far in terms of like a

494
00:21:13,349 --> 00:21:23,459
key to a good solution what I will say

495
00:21:20,910 --> 00:21:28,950
is that sorting by sorting everything by

496
00:21:23,460 --> 00:21:32,789
Z it purely top-down really does seem

497
00:21:28,950 --> 00:21:39,110
like a very straightforward answer that

498
00:21:32,789 --> 00:21:42,359
does work pretty well right and I do

499
00:21:39,109 --> 00:21:47,219
wonder if perhaps that doesn't generally

500
00:21:42,359 --> 00:21:49,559
work pretty well I wonder if maybe we

501
00:21:47,220 --> 00:21:52,350
can just do something where the Y

502
00:21:49,559 --> 00:21:53,940
component of things maybe we can fold

503
00:21:52,349 --> 00:21:55,889
that into the Z somehow and it just sort

504
00:21:53,940 --> 00:21:58,289
of works I'm I'm curious if there's

505
00:21:55,890 --> 00:21:59,759
maybe something there that I'm

506
00:21:58,289 --> 00:22:02,659
neglecting that's actually a relatively

507
00:21:59,759 --> 00:22:05,759
simple solution and I'm just not sure

508
00:22:02,660 --> 00:22:07,790
but like I said you know if you imagine

509
00:22:05,759 --> 00:22:11,970
kind of looking at this top-down

510
00:22:07,789 --> 00:22:15,899
wherever that was over here I'll draw it

511
00:22:11,970 --> 00:22:18,480
again so if we imagine looking at this

512
00:22:15,900 --> 00:22:20,340
top-down right so here's our and maybe

513
00:22:18,480 --> 00:22:23,130
I'll try to do this in a way that we can

514
00:22:20,339 --> 00:22:24,750
actually draw the actual heights of

515
00:22:23,130 --> 00:22:27,540
things so if you imagine looking at this

516
00:22:24,750 --> 00:22:30,869
top-down you know and here is a hero and

517
00:22:27,539 --> 00:22:32,849
then we sort of look at it more in a 3d

518
00:22:30,869 --> 00:22:36,349
setting and maybe the hero is kind of

519
00:22:32,849 --> 00:22:36,349
down in like a bit of a pit

520
00:22:43,759 --> 00:22:52,099
right and maybe there's like kind of a

521
00:22:46,640 --> 00:22:55,970
very tall one here and it goes down to

522
00:22:52,099 --> 00:22:57,859
like a very short one here so you know

523
00:22:55,970 --> 00:22:59,569
if we were to look at this from here and

524
00:22:57,859 --> 00:23:01,309
the hero you know here's the hero kind

525
00:22:59,569 --> 00:23:04,099
of standing back in here so the hero is

526
00:23:01,309 --> 00:23:06,740
like you know there's like a dotted line

527
00:23:04,099 --> 00:23:17,869
kind of coming well that's not a dotted

528
00:23:06,740 --> 00:23:22,180
line let's try that again so if the

529
00:23:17,869 --> 00:23:26,679
hero's kind of standing over here then

530
00:23:22,180 --> 00:23:26,680
can i erase I don't know if I can erase

531
00:23:30,190 --> 00:23:43,700
the eraser is II the eraser is II

532
00:23:35,109 --> 00:23:46,929
brushes B oh my god it's huge how do I

533
00:23:43,700 --> 00:23:46,930
make tools tinier

534
00:23:48,119 --> 00:23:54,139
brush size let's get that a little

535
00:23:51,269 --> 00:23:54,139
tinier there we go

536
00:23:56,440 --> 00:24:06,670
all right lovely so assuming that the

537
00:24:05,109 --> 00:24:09,339
hero is standing here and this is kind

538
00:24:06,670 --> 00:24:11,590
of what we're looking at right then at

539
00:24:09,339 --> 00:24:13,809
first when were pure top down again

540
00:24:11,589 --> 00:24:15,909
sorting by Z I think just works for most

541
00:24:13,809 --> 00:24:17,980
purposes there might be some artifacts

542
00:24:15,910 --> 00:24:19,690
that that we might worry about a little

543
00:24:17,980 --> 00:24:22,349
bit there but I think for the most part

544
00:24:19,690 --> 00:24:25,660
that's probably what will be acceptable

545
00:24:22,349 --> 00:24:27,969
but what's not good is once we start to

546
00:24:25,660 --> 00:24:31,390
tilt a little in view from the side then

547
00:24:27,970 --> 00:24:32,680
this thing has to occlude here now one

548
00:24:31,390 --> 00:24:35,560
thing that's true about that is that

549
00:24:32,680 --> 00:24:39,039
it's higher in Z so it would actually

550
00:24:35,559 --> 00:24:41,109
sort properly so this one is not really

551
00:24:39,039 --> 00:24:44,649
I guess so much the concern the concern

552
00:24:41,109 --> 00:24:46,240
perhaps is more this one right which

553
00:24:44,650 --> 00:24:48,820
will sort in front of this guy which we

554
00:24:46,240 --> 00:24:52,960
don't want it to and so that's where the

555
00:24:48,819 --> 00:24:56,109
y part of things comes in if we do our

556
00:24:52,960 --> 00:24:58,480
sorting by Y then we you know again I

557
00:24:56,109 --> 00:25:00,219
think we would end up with a reasonable

558
00:24:58,480 --> 00:25:02,410
solution here because we would still

559
00:25:00,220 --> 00:25:04,839
have this you know sort by Y and then

560
00:25:02,410 --> 00:25:07,509
sort by Z this guy is still always above

561
00:25:04,839 --> 00:25:11,289
in Z of whoever he's standing on so

562
00:25:07,509 --> 00:25:12,940
that's not a concern and you know yeah

563
00:25:11,289 --> 00:25:17,230
so it seems like that would really just

564
00:25:12,940 --> 00:25:19,420
not be a problem so I think for the most

565
00:25:17,230 --> 00:25:20,920
part sort by Y a sort by Z works for the

566
00:25:19,420 --> 00:25:23,259
things that are contained in the tiles

567
00:25:20,920 --> 00:25:25,779
so if we then say well now we've got a

568
00:25:23,259 --> 00:25:28,569
situation where we want to extend

569
00:25:25,779 --> 00:25:33,670
something out that that exists kind of

570
00:25:28,569 --> 00:25:35,559
cross tile wise and I guess you know it

571
00:25:33,670 --> 00:25:38,860
seems to me like the only time that can

572
00:25:35,559 --> 00:25:41,139
really work I mean the only time that's

573
00:25:38,859 --> 00:25:44,139
really gonna happen realistically is

574
00:25:41,140 --> 00:25:45,970
when things are flat like when the when

575
00:25:44,140 --> 00:25:47,680
the ground is relatively stable so you

576
00:25:45,970 --> 00:25:52,019
know we're talking about a situation I

577
00:25:47,680 --> 00:25:52,019
think that has to look kind of like this

578
00:25:54,569 --> 00:25:59,069
these Z values all have to be very close

579
00:25:57,059 --> 00:26:00,569
otherwise you can't really put like

580
00:25:59,069 --> 00:26:02,809
you're not gonna be able to put you know

581
00:26:00,569 --> 00:26:05,879
a table or something on top of these

582
00:26:02,809 --> 00:26:07,919
with if they're not fairly flat to begin

583
00:26:05,880 --> 00:26:09,330
with so you're talking about a thing

584
00:26:07,920 --> 00:26:10,740
where they're already pretty flat and

585
00:26:09,329 --> 00:26:13,049
then we're talking about layering on top

586
00:26:10,740 --> 00:26:15,750
of it something like a rug or whatever

587
00:26:13,049 --> 00:26:17,940
we're going to put on top there so in

588
00:26:15,750 --> 00:26:20,759
that circumstance where we layer on top

589
00:26:17,940 --> 00:26:23,549
of it you know a rug or whatever is

590
00:26:20,759 --> 00:26:27,390
going to happen then our problem is that

591
00:26:23,549 --> 00:26:29,789
why sorting is is going to make it

592
00:26:27,390 --> 00:26:31,560
difficult for us because now we have a

593
00:26:29,789 --> 00:26:33,359
situation where the hero who's standing

594
00:26:31,559 --> 00:26:34,980
back here should always sort on top of

595
00:26:33,359 --> 00:26:37,079
this because at the point where the

596
00:26:34,980 --> 00:26:40,829
hero's being sorted the rug is clearly

597
00:26:37,079 --> 00:26:45,480
underneath them but if we were to sort Y

598
00:26:40,829 --> 00:26:47,279
if we're taking the Y into account we

599
00:26:45,480 --> 00:26:49,230
end up in a situation where you know

600
00:26:47,279 --> 00:26:50,940
this would have to be assigned out here

601
00:26:49,230 --> 00:26:52,890
somewhere and why in order to sort in

602
00:26:50,940 --> 00:27:02,640
front of these tiles that it's clearly

603
00:26:52,890 --> 00:27:04,950
on top of so yeah so again really con

604
00:27:02,640 --> 00:27:07,440
tricky what we could maybe do here is

605
00:27:04,950 --> 00:27:09,450
like I said the planar sort of sit thing

606
00:27:07,440 --> 00:27:11,220
does make a little bit of sense what we

607
00:27:09,450 --> 00:27:14,700
might be able to do is say if we were to

608
00:27:11,220 --> 00:27:17,180
say what the plane was of each of these

609
00:27:14,700 --> 00:27:21,120
things don't ask me what that crazy

610
00:27:17,180 --> 00:27:23,340
errant line was if we were to use some

611
00:27:21,119 --> 00:27:24,809
sort of planar math for this then what

612
00:27:23,339 --> 00:27:26,429
we could sort of say is well would this

613
00:27:24,809 --> 00:27:29,329
thing sort in front of this other thing

614
00:27:26,430 --> 00:27:31,560
at the point where they coincide right

615
00:27:29,329 --> 00:27:32,970
so we could say well the point where

616
00:27:31,559 --> 00:27:36,000
they coincide is here would it sort in

617
00:27:32,970 --> 00:27:39,150
front the answer is yes right well there

618
00:27:36,000 --> 00:27:42,859
you know that that is OK in some sense

619
00:27:39,150 --> 00:27:44,820
it's not OK in other senses the the

620
00:27:42,859 --> 00:27:46,229
reason why that's a little bit difficult

621
00:27:44,819 --> 00:27:47,700
is not because we couldn't write the

622
00:27:46,230 --> 00:27:49,019
grater to do it the reason why that's a

623
00:27:47,700 --> 00:27:51,390
little bit difficult is because we also

624
00:27:49,019 --> 00:27:53,160
would have to clip things and the reason

625
00:27:51,390 --> 00:27:56,340
that we'd have to clip things is let's

626
00:27:53,160 --> 00:28:00,540
suppose that we then had some more like

627
00:27:56,339 --> 00:28:03,419
stuff out here this would sort in front

628
00:28:00,539 --> 00:28:04,460
of these which I guess is actually is

629
00:28:03,420 --> 00:28:12,650
that okay I guess

630
00:28:04,460 --> 00:28:16,150
might actually be okay though well no I

631
00:28:12,650 --> 00:28:21,050
mean okay so take this other case right

632
00:28:16,150 --> 00:28:22,910
when we're talking about the tile you

633
00:28:21,049 --> 00:28:24,559
know if you imagine extending this tile

634
00:28:22,910 --> 00:28:27,769
out to sort it against this one or

635
00:28:24,559 --> 00:28:29,149
something as a plane you would see that

636
00:28:27,769 --> 00:28:30,529
this was supposed to draw first but

637
00:28:29,150 --> 00:28:32,470
really we want to draw this one first

638
00:28:30,529 --> 00:28:35,750
right because we don't want these to -

639
00:28:32,470 --> 00:28:40,370
we don't ever want that one - to sort of

640
00:28:35,750 --> 00:28:42,920
intercede right hmm

641
00:28:40,369 --> 00:28:45,259
so I still just I still just don't know

642
00:28:42,920 --> 00:28:46,730
I don't feel like I I don't feel like

643
00:28:45,259 --> 00:28:49,519
I'm getting anywhere on this it feels

644
00:28:46,730 --> 00:28:50,900
like something where I just I I can't

645
00:28:49,519 --> 00:28:52,549
think of what you can do besides

646
00:28:50,900 --> 00:28:56,930
actually start representing the things

647
00:28:52,549 --> 00:28:57,950
in 3d to cover that case now maybe the

648
00:28:56,930 --> 00:29:00,470
right thing to do is just say well we

649
00:28:57,950 --> 00:29:02,870
can't do that then right like we we

650
00:29:00,470 --> 00:29:05,539
don't have the ability to do things like

651
00:29:02,869 --> 00:29:08,049
a rug on the floor that's done that way

652
00:29:05,539 --> 00:29:10,190
like it has to be done in tiles right

653
00:29:08,049 --> 00:29:11,960
but that does seem like kind of an

654
00:29:10,190 --> 00:29:15,049
encumbrance because typically you know

655
00:29:11,960 --> 00:29:17,960
you figure you're gonna want to make a

656
00:29:15,049 --> 00:29:21,879
thing where there's you know a sofa or

657
00:29:17,960 --> 00:29:21,880
something that spans two tiles you know

658
00:29:22,000 --> 00:29:25,750
and you're gonna want that to work

659
00:29:26,049 --> 00:29:30,009
there's my top down sofa

660
00:29:32,279 --> 00:29:50,879
I suppose one thing that maybe would

661
00:29:47,849 --> 00:29:54,299
make sense let's think about this for

662
00:29:50,880 --> 00:29:57,900
one second so suppose that we were to

663
00:29:54,299 --> 00:30:00,240
look at this in a little more like as an

664
00:29:57,900 --> 00:30:03,210
actual three-dimensional problem and

665
00:30:00,240 --> 00:30:04,920
let's suppose that I took what was

666
00:30:03,210 --> 00:30:06,660
happening in that case so I've got two

667
00:30:04,920 --> 00:30:08,220
tiles here's the center point of each of

668
00:30:06,660 --> 00:30:10,320
the tiles I'm looking down on them I

669
00:30:08,220 --> 00:30:11,880
then have a rug that's like you know

670
00:30:10,319 --> 00:30:12,929
stacked on top of it and I've drawn them

671
00:30:11,880 --> 00:30:14,430
a little probably a little more

672
00:30:12,930 --> 00:30:16,440
separated than they would actually be in

673
00:30:14,430 --> 00:30:19,860
reality because I just wanted to be able

674
00:30:16,440 --> 00:30:21,720
to to draw them both you know and I've

675
00:30:19,859 --> 00:30:24,829
kind of got this notion that there's the

676
00:30:21,720 --> 00:30:27,480
highest point on these guys or whatever

677
00:30:24,829 --> 00:30:29,879
and then I've got a Kuro and the hero is

678
00:30:27,480 --> 00:30:32,759
standing here and his high it's got a

679
00:30:29,880 --> 00:30:38,010
highest point so what I actually want to

680
00:30:32,759 --> 00:30:40,259
go and look at these guys if I am to

681
00:30:38,009 --> 00:30:42,119
look at their you know let's take some

682
00:30:40,259 --> 00:30:46,799
examples of like where they project

683
00:30:42,119 --> 00:30:49,889
right so the hero projects on here

684
00:30:46,799 --> 00:30:51,869
you know these got these tile that top

685
00:30:49,890 --> 00:30:53,820
projects like they're this tile projects

686
00:30:51,869 --> 00:30:56,489
like right here and this guy projects

687
00:30:53,819 --> 00:30:58,889
right there right on the line so we

688
00:30:56,490 --> 00:31:00,599
would know what they're sort of z-value

689
00:30:58,890 --> 00:31:02,850
was relative to the camera and the

690
00:31:00,599 --> 00:31:04,740
problem there I guess is that by you

691
00:31:02,849 --> 00:31:08,279
know depending on which point we would

692
00:31:04,740 --> 00:31:10,140
pick on one of these objects right you

693
00:31:08,279 --> 00:31:14,240
know let's say we picked this point it

694
00:31:10,140 --> 00:31:14,240
would sort in front of the hero right

695
00:31:14,720 --> 00:31:19,259
whereas if we picked this point it sorts

696
00:31:17,309 --> 00:31:22,169
behind the hero and you know somewhere

697
00:31:19,259 --> 00:31:23,970
in between it switches so the problem

698
00:31:22,170 --> 00:31:25,700
with that right is that normally when we

699
00:31:23,970 --> 00:31:29,640
want to do some kind of sorting things

700
00:31:25,700 --> 00:31:31,559
we know that we're doing it sort of per

701
00:31:29,640 --> 00:31:34,680
pixel and so we don't have this problem

702
00:31:31,559 --> 00:31:36,839
of well which point do we pick to use

703
00:31:34,680 --> 00:31:39,660
for sorting when we're sorting first of

704
00:31:36,839 --> 00:31:41,939
the camera now what we could do is look

705
00:31:39,660 --> 00:31:45,900
at the minimum and the maximum I suppose

706
00:31:41,940 --> 00:31:47,160
as well so one way to look at to sort of

707
00:31:45,900 --> 00:31:49,380
talk about this problem a little bit

708
00:31:47,160 --> 00:31:51,180
differently I suppose is to look at the

709
00:31:49,380 --> 00:31:53,220
the lowest point right and where does

710
00:31:51,180 --> 00:31:55,259
that project on right and you can see

711
00:31:53,220 --> 00:31:56,730
that if we if we have sort of the

712
00:31:55,259 --> 00:31:58,500
extents I mean the other way like a suit

713
00:31:56,730 --> 00:32:02,549
is like the extents like project the

714
00:31:58,500 --> 00:32:06,299
extents right onto here of the other

715
00:32:02,549 --> 00:32:08,250
thing we would sort of see when objects

716
00:32:06,299 --> 00:32:09,960
sort of encompass other objects we we

717
00:32:08,250 --> 00:32:12,420
actually do know by looking at two

718
00:32:09,960 --> 00:32:15,930
values from them we actually would have

719
00:32:12,420 --> 00:32:19,460
that piece of information right and so I

720
00:32:15,930 --> 00:32:22,320
guess one thing we could say is you know

721
00:32:19,460 --> 00:32:24,840
looking at how this thing projects onto

722
00:32:22,319 --> 00:32:26,879
this other you know onto the line maybe

723
00:32:24,839 --> 00:32:30,419
we can make some determination of that

724
00:32:26,880 --> 00:32:32,940
so you know if we were to take a look at

725
00:32:30,420 --> 00:32:35,880
at sort of the cases that can occur

726
00:32:32,940 --> 00:32:37,440
along this view line for two objects

727
00:32:35,880 --> 00:32:39,240
right you know we've got object a we've

728
00:32:37,440 --> 00:32:42,420
got object B with they're extents

729
00:32:39,240 --> 00:32:44,910
projected onto the view line we have a

730
00:32:42,420 --> 00:32:48,090
couple of different cases we have a case

731
00:32:44,910 --> 00:32:50,970
that looks like this so they're disjoint

732
00:32:48,089 --> 00:32:53,279
and in this case where a and B are

733
00:32:50,970 --> 00:32:55,589
disjoint then it would seem to me that

734
00:32:53,279 --> 00:32:58,109
there'd be probably no way that

735
00:32:55,589 --> 00:33:00,059
projected onto the view line that if a

736
00:32:58,109 --> 00:33:02,459
is always coming if every point in a

737
00:33:00,059 --> 00:33:04,259
comes before every point in B then one

738
00:33:02,460 --> 00:33:06,900
would assume that a always draws in

739
00:33:04,259 --> 00:33:08,519
front of B right because that's the case

740
00:33:06,900 --> 00:33:10,290
where like you know you've got this tile

741
00:33:08,519 --> 00:33:12,119
and it's always here and this tile is

742
00:33:10,289 --> 00:33:13,950
always here so there's never any way

743
00:33:12,119 --> 00:33:15,539
that these you know this tile could

744
00:33:13,950 --> 00:33:18,840
never possibly appear in front of this

745
00:33:15,539 --> 00:33:24,180
one no matter what right we've got the

746
00:33:18,839 --> 00:33:27,720
situation where we have an overlap right

747
00:33:24,180 --> 00:33:32,400
so we've got a is here right and B is

748
00:33:27,720 --> 00:33:35,069
here so they've got some area in common

749
00:33:32,400 --> 00:33:37,860
and so that seems like a more ambiguous

750
00:33:35,069 --> 00:33:40,409
case right and then finally we have the

751
00:33:37,859 --> 00:33:44,909
case where one is inside the other right

752
00:33:40,410 --> 00:33:48,029
so we have like for example here is is a

753
00:33:44,910 --> 00:33:50,660
let's say and B is is is actually the

754
00:33:48,029 --> 00:33:50,660
interior

755
00:33:55,740 --> 00:34:04,079
so be is like sort of wholly contained

756
00:33:58,390 --> 00:34:08,440
in a and so you know looking at these

757
00:34:04,079 --> 00:34:11,139
these cases right when there's a slight

758
00:34:08,440 --> 00:34:13,090
overlap between the two then you know

759
00:34:11,139 --> 00:34:15,190
that again is something that could come

760
00:34:13,090 --> 00:34:18,430
from say you know the rug being

761
00:34:15,190 --> 00:34:20,079
underneath the the person right we could

762
00:34:18,429 --> 00:34:27,629
have that for like let's say here's the

763
00:34:20,079 --> 00:34:31,389
rug here's the rug and here's the human

764
00:34:27,630 --> 00:34:32,890
and here's the view line we would know

765
00:34:31,389 --> 00:34:38,230
that like okay when we project the

766
00:34:32,889 --> 00:34:40,500
extents of this guy onto here and

767
00:34:38,230 --> 00:34:42,820
extends onto here like so

768
00:34:40,500 --> 00:34:47,670
just straight project just looking at

769
00:34:42,820 --> 00:34:47,670
literally just the Z values going down

770
00:34:49,079 --> 00:34:54,099
you know we've got a case like this

771
00:34:51,070 --> 00:34:58,750
where here is our a and here is our B

772
00:34:54,099 --> 00:35:02,619
and in that case we would want to draw

773
00:34:58,750 --> 00:35:04,210
the you know we'd want to draw the guy

774
00:35:02,619 --> 00:35:06,190
first right the guy is standing on top

775
00:35:04,210 --> 00:35:09,730
of this so it should sort of appear over

776
00:35:06,190 --> 00:35:12,280
this but if we were to slide it back so

777
00:35:09,730 --> 00:35:14,050
if we were to put a over here we would

778
00:35:12,280 --> 00:35:16,600
still want to draw but now we've created

779
00:35:14,050 --> 00:35:18,070
exactly the same case right we still

780
00:35:16,599 --> 00:35:20,799
want to draw this guy first but just by

781
00:35:18,070 --> 00:35:23,019
sliding this guy backwards we've shifted

782
00:35:20,800 --> 00:35:26,110
it so that now it's the other way round

783
00:35:23,019 --> 00:35:28,090
so looking at this case it doesn't seem

784
00:35:26,110 --> 00:35:31,510
like there's really a lot of ways we can

785
00:35:28,090 --> 00:35:35,380
tell what was actually supposed to go on

786
00:35:31,510 --> 00:35:38,320
there right I mean it doesn't seem it

787
00:35:35,380 --> 00:35:42,300
doesn't seem like there's really all

788
00:35:38,320 --> 00:35:42,300
that much that we could do

789
00:35:48,369 --> 00:35:55,179
yeah at least not that I can see

790
00:36:01,400 --> 00:36:06,019
so I just I don't know that doing any

791
00:36:04,250 --> 00:36:07,940
kind of slicing in that fashion is

792
00:36:06,019 --> 00:36:10,219
really gonna help us I suppose

793
00:36:07,940 --> 00:36:11,630
you know if we go back to sort of the

794
00:36:10,219 --> 00:36:13,250
concept that there's there there's two

795
00:36:11,630 --> 00:36:15,680
sort of Cardinal things there's things

796
00:36:13,250 --> 00:36:18,230
that are sort of flat and things that

797
00:36:15,679 --> 00:36:19,699
are upright if we look at something more

798
00:36:18,230 --> 00:36:21,349
like that then you could maybe see how

799
00:36:19,699 --> 00:36:23,989
these sorts of cases would get resolved

800
00:36:21,349 --> 00:36:28,279
because we'd have you know here

801
00:36:23,989 --> 00:36:31,789
something where we've got you know a an

802
00:36:28,280 --> 00:36:33,530
upright card and a flat card and the

803
00:36:31,789 --> 00:36:35,269
question is well how do we want to sort

804
00:36:33,530 --> 00:36:37,820
these two together well knowing the

805
00:36:35,269 --> 00:36:40,159
extents of the upright card and the

806
00:36:37,820 --> 00:36:42,380
extents of the flat card I think at that

807
00:36:40,159 --> 00:36:44,809
point it probably isn't so hard to

808
00:36:42,380 --> 00:36:46,519
determine what should happen because

809
00:36:44,809 --> 00:36:49,190
since we know that this is an upright

810
00:36:46,519 --> 00:36:58,969
card all we really need to probably

811
00:36:49,190 --> 00:37:02,300
determine there is is to take a look at

812
00:36:58,969 --> 00:37:04,489
if we projected them out to where they

813
00:37:02,300 --> 00:37:08,360
both would meet which one would be

814
00:37:04,489 --> 00:37:11,299
higher right so meaning you know if we

815
00:37:08,360 --> 00:37:15,769
if we took the intersection of those two

816
00:37:11,300 --> 00:37:19,100
and we looked at and we looked at the is

817
00:37:15,769 --> 00:37:21,440
the is the Z extents of this guy how do

818
00:37:19,099 --> 00:37:22,969
they work when we when we actually look

819
00:37:21,440 --> 00:37:25,099
at the point where they would have in

820
00:37:22,969 --> 00:37:28,239
common that would probably tell us the

821
00:37:25,099 --> 00:37:28,239
sort order I would think

822
00:37:31,929 --> 00:37:38,989
and that seems to get back to our sort

823
00:37:35,599 --> 00:37:40,369
of upright versus not upright you know

824
00:37:38,989 --> 00:37:51,339
what I mean because really all that's

825
00:37:40,369 --> 00:37:51,339
doing is saying that well

826
00:37:52,760 --> 00:37:56,320
what is that saying really

827
00:38:00,670 --> 00:38:07,630
I mean really that's just saying that up

828
00:38:03,250 --> 00:38:10,539
right things have you know are sorted by

829
00:38:07,630 --> 00:38:18,809
via their Z whereas flat things are

830
00:38:10,539 --> 00:38:18,809
sorted via their Y in some sense

831
00:38:24,358 --> 00:38:27,808
mmm I say

832
00:38:40,030 --> 00:38:46,330
I guess there is one more sort of way to

833
00:38:44,440 --> 00:38:47,950
start looking at this that I haven't

834
00:38:46,329 --> 00:38:52,869
really considered yet which is that

835
00:38:47,949 --> 00:38:55,019
there's also just the notion of I mean

836
00:38:52,869 --> 00:38:59,319
for a lack of a better term there's

837
00:38:55,019 --> 00:39:01,090
they're sort of just the let's manually

838
00:38:59,320 --> 00:39:04,539
consider how the sort is supposed to

839
00:39:01,090 --> 00:39:06,100
happen yeah I don't know about this I

840
00:39:04,539 --> 00:39:11,969
don't I don't see a lot of profit in

841
00:39:06,099 --> 00:39:11,969
this this way of looking things yet I

842
00:39:12,269 --> 00:39:16,389
mean without knowing the planes and it

843
00:39:14,860 --> 00:39:20,320
doesn't seem like painters algorithms

844
00:39:16,389 --> 00:39:23,170
are gonna help you there anyway because

845
00:39:20,320 --> 00:39:25,630
since we know that y'see sorting would

846
00:39:23,170 --> 00:39:28,240
work for any I think pretty much just

847
00:39:25,630 --> 00:39:29,829
works for things contained properly

848
00:39:28,239 --> 00:39:32,979
inside cells because you can just sort

849
00:39:29,829 --> 00:39:38,369
the cells by Z and the you sort cells by

850
00:39:32,980 --> 00:39:41,440
Y and things inside the cells by Z I

851
00:39:38,369 --> 00:39:43,119
feel like the only real problem we have

852
00:39:41,440 --> 00:39:45,039
is those things things that span a cell

853
00:39:43,119 --> 00:39:47,400
that's really the only problem that I

854
00:39:45,039 --> 00:39:51,130
that I feel like we keep coming back to

855
00:39:47,400 --> 00:39:52,690
because there really isn't any I don't

856
00:39:51,130 --> 00:39:55,660
think we have any problems with other

857
00:39:52,690 --> 00:39:59,170
with other things so you know one thing

858
00:39:55,659 --> 00:40:01,509
we could say is just oh you know maybe

859
00:39:59,170 --> 00:40:04,480
for those purposes they're just you know

860
00:40:01,510 --> 00:40:09,550
if there's stuff that spans that's a

861
00:40:04,480 --> 00:40:11,679
cell of that size right like the cell is

862
00:40:09,550 --> 00:40:13,930
that size I don't know how well that

863
00:40:11,679 --> 00:40:15,460
works in practice it does seem a little

864
00:40:13,929 --> 00:40:18,269
bit janky I don't know how we would

865
00:40:15,460 --> 00:40:18,269
really pull that off

866
00:40:21,130 --> 00:40:24,829
but then you would be able to do you

867
00:40:23,599 --> 00:40:27,610
know that's that sort of stacking

868
00:40:24,829 --> 00:40:27,610
behavior correctly

869
00:41:11,719 --> 00:41:27,719
well I really ask you don't see a lot of

870
00:41:19,380 --> 00:41:31,108
solutions to this I'm not having the

871
00:41:27,719 --> 00:41:33,929
bright sorting idea I feel like it

872
00:41:31,108 --> 00:41:35,429
really is down to only that case like I

873
00:41:33,929 --> 00:41:38,519
don't feel like there's a lot of other

874
00:41:35,429 --> 00:41:41,548
cases so I feel like sorting cells by

875
00:41:38,519 --> 00:41:52,259
why and then inside cells by Z and then

876
00:41:41,548 --> 00:41:54,269
Y works right I mean I guess it's worth

877
00:41:52,260 --> 00:41:56,880
noting that inside the cell we still do

878
00:41:54,269 --> 00:41:59,699
have the problem of Y right so you know

879
00:41:56,880 --> 00:42:03,358
if we allow you know inside a single

880
00:41:59,699 --> 00:42:05,939
cell here's a cell if there's two things

881
00:42:03,358 --> 00:42:09,630
inside the cell we need to know that the

882
00:42:05,940 --> 00:42:12,389
wat like their placement in Y here this

883
00:42:09,630 --> 00:42:20,490
is looking top-down that this guy draws

884
00:42:12,389 --> 00:42:23,548
second and this guy draws first right so

885
00:42:20,489 --> 00:42:27,389
I guess inside the cell we still do have

886
00:42:23,548 --> 00:42:29,880
a similar problem right which is that we

887
00:42:27,389 --> 00:42:32,159
have to sort things by Y but we don't

888
00:42:29,880 --> 00:42:34,588
really know what to do with things that

889
00:42:32,159 --> 00:42:37,739
are completely flat because things that

890
00:42:34,588 --> 00:42:39,358
are completely flat like that you know

891
00:42:37,739 --> 00:42:41,250
we can use the trick I was talking about

892
00:42:39,358 --> 00:42:42,119
where the sort point is kind of back at

893
00:42:41,250 --> 00:42:44,159
the end of them

894
00:42:42,119 --> 00:42:45,630
or something like that so we can inside

895
00:42:44,159 --> 00:42:47,818
the cell make sure that those are biased

896
00:42:45,630 --> 00:42:49,048
properly in that way or something like

897
00:42:47,818 --> 00:42:51,719
this

898
00:42:49,048 --> 00:42:53,759
but it's not as simple as just sorting

899
00:42:51,719 --> 00:42:55,919
by Z if we also want to take into

900
00:42:53,760 --> 00:42:58,079
account intra cell like things that can

901
00:42:55,920 --> 00:42:59,430
be positioned intra cell which doesn't

902
00:42:58,079 --> 00:43:01,200
happen that much but for things like you

903
00:42:59,429 --> 00:43:03,539
know maybe projectiles flying through

904
00:43:01,199 --> 00:43:04,858
the air right since only one person can

905
00:43:03,539 --> 00:43:06,420
be sitting on a cell at a given time

906
00:43:04,858 --> 00:43:10,588
it's not like there's two people stacked

907
00:43:06,420 --> 00:43:12,599
in the cell but you still do have that

908
00:43:10,588 --> 00:43:14,400
problem of like little floaty things

909
00:43:12,599 --> 00:43:20,088
that float you know flying projectiles

910
00:43:14,400 --> 00:43:20,088
whatever so I'm not sure about that

911
00:43:20,358 --> 00:43:24,989
that's still that does still seem also

912
00:43:23,009 --> 00:43:27,838
kind of come nasty right how to get that

913
00:43:24,989 --> 00:43:29,608
sorting properly because that's that's

914
00:43:27,838 --> 00:43:31,739
why we introduced originally that

915
00:43:29,608 --> 00:43:33,568
concept that there were upright cards

916
00:43:31,739 --> 00:43:36,150
versus non upright cards is like oh okay

917
00:43:33,568 --> 00:43:38,808
we got a deal with that problem at some

918
00:43:36,150 --> 00:43:38,809
point as well

919
00:44:03,130 --> 00:44:16,030
I feel like this is not coming together

920
00:44:08,409 --> 00:44:17,649
I don't love it I don't love it I mean I

921
00:44:16,030 --> 00:44:19,210
guess this is like I said it's it's

922
00:44:17,650 --> 00:44:25,420
maybe why I don't tend to program things

923
00:44:19,210 --> 00:44:27,460
in 2d but I feel like there's got to be

924
00:44:25,420 --> 00:44:32,070
something you can do here with it

925
00:44:27,460 --> 00:44:35,470
doesn't involve having to completely go

926
00:44:32,070 --> 00:44:37,539
all the way down to like a z-buffer I

927
00:44:35,469 --> 00:44:39,939
mean I guess we could just decide to

928
00:44:37,539 --> 00:44:42,639
start using a z-buffer but then of

929
00:44:39,940 --> 00:44:44,590
course we also have to start treating

930
00:44:42,639 --> 00:44:49,170
these as like actually having 3d things

931
00:44:44,590 --> 00:44:49,170
that get rasterized out

932
00:44:54,980 --> 00:44:58,650
not to mention we're wasting all that

933
00:44:57,090 --> 00:45:02,070
bandwidth on the z-buffer that we

934
00:44:58,650 --> 00:45:03,570
wouldn't actually need right because if

935
00:45:02,070 --> 00:45:20,420
we want to do early occlusion we could

936
00:45:03,570 --> 00:45:20,420
do it with the Alpha Channel I think I

937
00:45:25,849 --> 00:45:31,170
mean my understanding of how generally

938
00:45:28,650 --> 00:45:32,639
this stuff works in sort of older things

939
00:45:31,170 --> 00:45:34,409
is that it's much more manual than this

940
00:45:32,639 --> 00:45:35,879
right it doesn't try to be dynamic with

941
00:45:34,409 --> 00:45:37,349
a lot of these things and pretty much

942
00:45:35,880 --> 00:45:38,880
the heights of things were

943
00:45:37,349 --> 00:45:41,219
pre-programmed in and sort of a very

944
00:45:38,880 --> 00:45:44,070
specific way so it wasn't really an

945
00:45:41,219 --> 00:45:45,299
issue if you had something like a rug it

946
00:45:44,070 --> 00:45:47,789
was just known that it was on the floor

947
00:45:45,300 --> 00:45:50,100
in a baked into the bitmaps and so on

948
00:45:47,789 --> 00:45:53,269
and didn't really need to be sorted in

949
00:45:50,099 --> 00:45:53,269
the same sort of way right

950
00:46:31,449 --> 00:46:39,679
so I guess one thing to think about here

951
00:46:35,829 --> 00:46:42,769
let me draw one of those cases again cuz

952
00:46:39,679 --> 00:46:48,159
I'm kind of thinking maybe I might have

953
00:46:42,769 --> 00:46:48,159
messed something up let's see here so

954
00:46:48,789 --> 00:47:09,469
here's the view looking down and we're

955
00:46:57,170 --> 00:47:16,420
looking down on a rug and a hero right

956
00:47:09,469 --> 00:47:16,419
now if we were going to use a z-buffer

957
00:47:16,719 --> 00:47:24,769
then the reason that we know that the

958
00:47:20,989 --> 00:47:27,589
hero sorts in front right because this

959
00:47:24,769 --> 00:47:30,230
is really just an infinitely thin plane

960
00:47:27,590 --> 00:47:33,050
right in in the in the case where we

961
00:47:30,230 --> 00:47:39,079
were doing this with 3d cards we would

962
00:47:33,050 --> 00:47:40,940
just have this right so if we

963
00:47:39,079 --> 00:47:45,559
orthographically are projecting this

964
00:47:40,940 --> 00:47:47,360
against a plane right then you know like

965
00:47:45,559 --> 00:47:48,590
we're gonna actually have the case I

966
00:47:47,360 --> 00:47:53,210
talked about before where we're going to

967
00:47:48,590 --> 00:47:56,240
be projecting these onto here right and

968
00:47:53,210 --> 00:48:00,139
it's gonna look like that and now the

969
00:47:56,239 --> 00:48:03,549
reason why we know that this guy appears

970
00:48:00,139 --> 00:48:07,759
above this guy is because at any given

971
00:48:03,550 --> 00:48:10,280
slice where this guy is where he's gonna

972
00:48:07,760 --> 00:48:12,470
appear on the screen right cuz here's

973
00:48:10,280 --> 00:48:14,840
the area that he appears on the screen

974
00:48:12,469 --> 00:48:17,269
the problem is that's the part that we

975
00:48:14,840 --> 00:48:18,800
need to know if we know where he appears

976
00:48:17,269 --> 00:48:23,300
on the screen he appears on the screen

977
00:48:18,800 --> 00:48:26,720
like right here right here is where he

978
00:48:23,300 --> 00:48:31,360
appears so we only care about the part

979
00:48:26,719 --> 00:48:31,359
of this plane that overlaps that

980
00:48:36,599 --> 00:48:50,619
yes so that might be where we could go

981
00:48:47,708 --> 00:48:56,639
with this painters algorithm wise right

982
00:48:50,619 --> 00:48:56,640
we could say well let's ask the question

983
00:48:57,150 --> 00:49:04,630
where is a point that these two have in

984
00:49:00,039 --> 00:49:06,969
common in this plane right so in the

985
00:49:04,630 --> 00:49:09,749
when when view when we're talking about

986
00:49:06,969 --> 00:49:09,749
viewing them

987
00:49:10,380 --> 00:49:15,789
let's project their extents onto the

988
00:49:13,329 --> 00:49:22,450
x-axis right because we know what their

989
00:49:15,789 --> 00:49:25,150
extents are on the x-axis I'm sorry the

990
00:49:22,449 --> 00:49:27,759
y-axis yeah

991
00:49:25,150 --> 00:49:33,068
it doesn't really matter I guess either

992
00:49:27,759 --> 00:49:35,588
either way is fine so if we were to

993
00:49:33,068 --> 00:49:39,940
reject these on to one of the other axes

994
00:49:35,588 --> 00:49:42,639
not Z right and we found a place where

995
00:49:39,940 --> 00:49:44,889
they overlap so we just say okay we'll

996
00:49:42,639 --> 00:49:47,440
project them on to the x-axis so here

997
00:49:44,889 --> 00:49:55,150
here we go here's here's the proposal

998
00:49:47,440 --> 00:49:58,929
let me know I put the keyword away so

999
00:49:55,150 --> 00:50:03,670
I'm gonna view along this axis so here's

1000
00:49:58,929 --> 00:50:06,669
my Z and here's my Y right and this is

1001
00:50:03,670 --> 00:50:08,289
my view Z and view why not the world Z

1002
00:50:06,670 --> 00:50:11,588
and worldwide but we're talking about

1003
00:50:08,289 --> 00:50:15,999
relative to the viewer here if I now

1004
00:50:11,588 --> 00:50:18,009
have my rug and I've got my dude and I

1005
00:50:15,998 --> 00:50:19,958
guess I'm gonna draw my DS as actual

1006
00:50:18,009 --> 00:50:24,759
cards so here's the rug and here's the

1007
00:50:19,958 --> 00:50:29,708
dude then if I was to reject these back

1008
00:50:24,759 --> 00:50:31,179
on to the the y-axis right so if I'm if

1009
00:50:29,708 --> 00:50:33,608
I'm gonna look at just what their Y

1010
00:50:31,179 --> 00:50:36,998
points are so the min Y and Max Y of

1011
00:50:33,608 --> 00:50:39,429
this guy's card right is here and the

1012
00:50:36,998 --> 00:50:42,268
min Y and the max Y of this guy's card

1013
00:50:39,429 --> 00:50:42,268
are here

1014
00:50:42,789 --> 00:50:51,579
so I know where the sprites are in Y

1015
00:50:46,159 --> 00:50:56,149
right like I know what's happening there

1016
00:50:51,579 --> 00:50:58,789
so if I know a point that they have in

1017
00:50:56,150 --> 00:51:00,500
common which I do if they overlap if

1018
00:50:58,789 --> 00:51:03,590
they don't overlap and why they don't

1019
00:51:00,500 --> 00:51:05,809
have to be sorted right like I don't

1020
00:51:03,590 --> 00:51:08,360
really care how they're sorted in some

1021
00:51:05,809 --> 00:51:10,279
sense I don't think well that's not true

1022
00:51:08,360 --> 00:51:12,050
if it's a total sort ordering I guess I

1023
00:51:10,280 --> 00:51:14,510
do sort of care so they're not

1024
00:51:12,050 --> 00:51:17,710
overlapping I guess I have to pick the

1025
00:51:14,510 --> 00:51:19,970
closest point in common that they have I

1026
00:51:17,710 --> 00:51:23,210
don't know exactly how to do that but

1027
00:51:19,969 --> 00:51:25,579
anyway I've think about that

1028
00:51:23,210 --> 00:51:26,809
whereas if I have two objects and I need

1029
00:51:25,579 --> 00:51:28,909
to know how they're drawn relative to

1030
00:51:26,809 --> 00:51:30,949
each other if they don't overlap then

1031
00:51:28,909 --> 00:51:32,719
there is no rule for how they draw

1032
00:51:30,949 --> 00:51:34,189
related to each other but that would

1033
00:51:32,719 --> 00:51:35,389
cause potentially problems I think

1034
00:51:34,190 --> 00:51:37,789
because I don't think you could pick

1035
00:51:35,389 --> 00:51:41,569
arbitrarily because there may be another

1036
00:51:37,789 --> 00:51:43,969
object that overlaps both of them that

1037
00:51:41,570 --> 00:51:45,500
would care how you sorted them because

1038
00:51:43,969 --> 00:51:47,389
it's going to go in front of our behind

1039
00:51:45,500 --> 00:51:49,130
one of them and then if you picked the

1040
00:51:47,389 --> 00:51:50,989
wrong way for the other one it doesn't

1041
00:51:49,130 --> 00:51:57,559
have the opportunity to get sorted in

1042
00:51:50,989 --> 00:52:00,368
there so that's tricky right that's

1043
00:51:57,559 --> 00:52:00,369
that's kind of nasty

1044
00:52:09,768 --> 00:52:15,419
so I don't know that might that might

1045
00:52:11,998 --> 00:52:17,189
also be a deal killer but if we take a

1046
00:52:15,420 --> 00:52:21,180
look here and I say well alright I've

1047
00:52:17,190 --> 00:52:22,469
got you know in in the the closest point

1048
00:52:21,179 --> 00:52:24,509
they have in common which would either

1049
00:52:22,469 --> 00:52:26,429
be where they overlap or if they're you

1050
00:52:24,509 --> 00:52:30,900
know disjoint then the point in between

1051
00:52:26,429 --> 00:52:36,328
the their two closest extents right if

1052
00:52:30,900 --> 00:52:39,838
I'm to look at that and I see on that

1053
00:52:36,329 --> 00:52:44,430
one where are they z wise each of them

1054
00:52:39,838 --> 00:52:49,078
so at this point you know we've got here

1055
00:52:44,429 --> 00:52:55,198
and here that would tell me who sorts

1056
00:52:49,079 --> 00:53:01,499
where right I mean that's what that

1057
00:52:55,199 --> 00:53:03,838
tells me and for that matter I guess

1058
00:53:01,498 --> 00:53:05,669
also now that I think about it too you

1059
00:53:03,838 --> 00:53:10,759
could think of these as sort of forming

1060
00:53:05,670 --> 00:53:10,759
a space partition so I guess really

1061
00:53:16,909 --> 00:53:20,259
I wonder

1062
00:53:27,789 --> 00:53:33,099
if you actually had everything

1063
00:53:29,710 --> 00:53:35,769
categorized as these planes could you

1064
00:53:33,099 --> 00:53:43,239
just actually use the planes and test

1065
00:53:35,769 --> 00:53:44,949
the planes themselves in fact that's

1066
00:53:43,239 --> 00:53:49,059
obviously true isn't it

1067
00:53:44,949 --> 00:53:51,879
I mean figure this if I've gotten if

1068
00:53:49,059 --> 00:53:59,049
I've got any given plane and I look to

1069
00:53:51,880 --> 00:54:04,090
see what side an entity is what which

1070
00:53:59,050 --> 00:54:08,019
side of a plane it's on if it's on the

1071
00:54:04,090 --> 00:54:09,670
same side as the viewer then it's closer

1072
00:54:08,019 --> 00:54:12,820
to the viewer right it's it should be

1073
00:54:09,670 --> 00:54:14,710
drawn first so the only case that I end

1074
00:54:12,820 --> 00:54:17,769
up having to worry about is if it if

1075
00:54:14,710 --> 00:54:20,769
it's actually interpenetrating right so

1076
00:54:17,769 --> 00:54:24,159
if part of its on one side and part of

1077
00:54:20,769 --> 00:54:26,769
its on the other side and if that's

1078
00:54:24,159 --> 00:54:27,909
actually the case then I guess you would

1079
00:54:26,769 --> 00:54:37,960
just have to know

1080
00:54:27,909 --> 00:54:41,519
well I'm trying thinking what the tight

1081
00:54:37,960 --> 00:54:41,519
with what is the tiebreaking rule there

1082
00:54:44,010 --> 00:54:47,860
in the case where they actually

1083
00:54:45,900 --> 00:54:49,809
interpenetrate there is no way to draw

1084
00:54:47,860 --> 00:54:51,910
them correctly so that's not really the

1085
00:54:49,809 --> 00:54:53,320
concern the concern is more like where

1086
00:54:51,909 --> 00:54:55,449
they don't interpenetrate so let's say

1087
00:54:53,320 --> 00:54:58,330
you have this case and in this case I

1088
00:54:55,449 --> 00:55:01,059
should be drawn first because I'm closer

1089
00:54:58,329 --> 00:55:03,340
to the viewer here so when they don't

1090
00:55:01,059 --> 00:55:05,049
intersect I guess maybe you would just

1091
00:55:03,340 --> 00:55:09,570
say I mean I'm sorry when they do

1092
00:55:05,050 --> 00:55:09,570
intersect but they don't actually

1093
00:55:09,690 --> 00:55:16,110
overlap because of their extents but

1094
00:55:12,340 --> 00:55:19,530
when there were their planes you know

1095
00:55:16,110 --> 00:55:24,370
where this plane would intersect this

1096
00:55:19,530 --> 00:55:26,560
other object then how would I know which

1097
00:55:24,369 --> 00:55:29,440
one so I've got two cases like one case

1098
00:55:26,559 --> 00:55:31,630
is here one case is there and the I

1099
00:55:29,440 --> 00:55:33,820
guess in that case where where you don't

1100
00:55:31,630 --> 00:55:36,550
have it's not on clearly one side or the

1101
00:55:33,820 --> 00:55:37,559
other I guess it's you just go the other

1102
00:55:36,550 --> 00:55:40,560
way round

1103
00:55:37,559 --> 00:55:40,559
right

1104
00:55:43,289 --> 00:55:47,460
so you just test the other plane

1105
00:55:50,389 --> 00:55:55,659
I think that might work

1106
00:55:57,239 --> 00:56:02,579
I mean like I said it does require all

1107
00:56:00,690 --> 00:56:04,980
of the sprites to have a plane equation

1108
00:56:02,579 --> 00:56:08,329
and that plane equation I think for our

1109
00:56:04,980 --> 00:56:10,740
purposes can always be either the worlds

1110
00:56:08,329 --> 00:56:14,369
that the normal to the plane would

1111
00:56:10,739 --> 00:56:17,039
always be either the world z axis or the

1112
00:56:14,369 --> 00:56:21,420
world y axis so it's not like we ever

1113
00:56:17,039 --> 00:56:26,369
have to actually do any work there but

1114
00:56:21,420 --> 00:56:29,510
if we're willing to do that I think

1115
00:56:26,369 --> 00:56:29,510
that's the sorting rule

1116
00:56:36,119 --> 00:56:41,619
what do you guys think about that it's

1117
00:56:39,280 --> 00:56:42,280
about time for the the sinks stream to

1118
00:56:41,619 --> 00:56:43,809
end anyway

1119
00:56:42,280 --> 00:56:45,340
I did what I said I was going to do

1120
00:56:43,809 --> 00:56:49,150
which is try to figure it out I think

1121
00:56:45,340 --> 00:56:51,100
that's I think that's pretty solid

1122
00:56:49,150 --> 00:56:59,860
it would require every sprite to know

1123
00:56:51,099 --> 00:57:03,369
its bounds which it does and it would

1124
00:56:59,860 --> 00:57:12,400
need to know which plane it was which it

1125
00:57:03,369 --> 00:57:13,989
does so I think that would work and I

1126
00:57:12,400 --> 00:57:18,070
feel like you could use approximations

1127
00:57:13,989 --> 00:57:21,059
like you know if an object is thick you

1128
00:57:18,070 --> 00:57:24,130
know if an object looks like this

1129
00:57:21,059 --> 00:57:26,199
technically in the world I don't think

1130
00:57:24,130 --> 00:57:27,880
you need to represent like it a plane

1131
00:57:26,199 --> 00:57:30,489
here and a plane here I think you could

1132
00:57:27,880 --> 00:57:35,110
just use one or the other and it would

1133
00:57:30,489 --> 00:57:37,919
probably be okay I'm guessing but famous

1134
00:57:35,110 --> 00:57:37,920
last words obviously

1135
00:57:56,690 --> 00:58:06,289
I suppose it really would depend to a

1136
00:58:03,920 --> 00:58:10,269
certain degree on what sorts of objects

1137
00:58:06,289 --> 00:58:10,269
you tended to have like

1138
00:58:18,630 --> 00:58:21,798
yeah I don't know

1139
00:58:23,699 --> 00:58:35,219
I think that's the best guess that I can

1140
00:58:26,070 --> 00:58:37,559
come up with at the moment so let me see

1141
00:58:35,219 --> 00:58:40,139
what you guys think of that so far that

1142
00:58:37,559 --> 00:58:41,549
was my thought process on it some people

1143
00:58:40,139 --> 00:58:45,199
who watch the stream might have more

1144
00:58:41,550 --> 00:58:45,200
experience with 2d game hacks

1145
00:58:49,730 --> 00:58:53,630
let's go to Q&amp;A and see

1146
00:59:58,449 --> 01:00:02,509
SSS mcgrath if you're only concerned

1147
01:00:00,679 --> 01:00:04,730
about sprites that exist on more than

1148
01:00:02,510 --> 01:00:07,700
one cell why not slit the polygons on

1149
01:00:04,730 --> 01:00:13,309
cell boundaries there can't be that many

1150
01:00:07,699 --> 01:00:16,069
can't be that expensive well I don't

1151
01:00:13,309 --> 01:00:18,619
know it's not really necessarily the

1152
01:00:16,070 --> 01:00:23,960
expense that I was worried about but

1153
01:00:18,619 --> 01:00:27,079
it's more just like they're not really

1154
01:00:23,960 --> 01:00:28,608
polygons their upright fake cards so now

1155
01:00:27,079 --> 01:00:35,060
you're talking about like splitting the

1156
01:00:28,608 --> 01:00:39,139
card in based on the 2d the original 2d

1157
01:00:35,059 --> 01:00:40,699
and then redoing it I guess I mean I

1158
01:00:39,139 --> 01:00:50,598
guess that would work and then you sort

1159
01:00:40,699 --> 01:00:52,779
those separately I don't know that's a

1160
01:00:50,599 --> 01:00:52,780
good question

1161
01:01:06,280 --> 01:01:11,050
I mean I guess we could yeah we could

1162
01:01:09,280 --> 01:01:12,730
always split stuff but then again like

1163
01:01:11,050 --> 01:01:15,840
inside a cell you still have to sort

1164
01:01:12,730 --> 01:01:15,840
them somehow as well

1165
01:02:07,130 --> 01:02:15,410
looks like no Q colons I am assuming

1166
01:02:12,179 --> 01:02:15,409
everyone is watching you three

1167
01:02:27,230 --> 01:02:39,599
all right well I'm going to wind down

1168
01:02:30,599 --> 01:02:40,559
then let me go back here thank you

1169
01:02:39,599 --> 01:02:41,610
everyone for joining me for an episode

1170
01:02:40,559 --> 01:02:43,559
of hand made here it's my pleasure

1171
01:02:41,610 --> 01:02:45,090
coding with you as always if you would

1172
01:02:43,559 --> 01:02:46,920
like to follow along at home you can

1173
01:02:45,090 --> 01:02:48,329
always peer to the game on handmade hero

1174
01:02:46,920 --> 01:02:51,059
org and it comes to the source code so

1175
01:02:48,329 --> 01:02:53,190
you can play around with it and do your

1176
01:02:51,059 --> 01:02:54,599
own experimentation we also have a forum

1177
01:02:53,190 --> 01:02:55,829
site you go to ask questions a patreon

1178
01:02:54,599 --> 01:02:58,019
page and go to if you want support the

1179
01:02:55,829 --> 01:02:59,069
video series a schedule bot which treats

1180
01:02:58,019 --> 01:03:01,650
the schedule so you know when we're live

1181
01:02:59,070 --> 01:03:03,990
and the past episodes archive where you

1182
01:03:01,650 --> 01:03:06,389
can go to catch up on old episodes

1183
01:03:03,989 --> 01:03:08,909
that's it for today we will be back here

1184
01:03:06,389 --> 01:03:10,259
Wednesday for the next stream when I

1185
01:03:08,909 --> 01:03:12,000
think we will maybe we'll try the

1186
01:03:10,260 --> 01:03:15,870
sorting rule and see if we can make it

1187
01:03:12,000 --> 01:03:18,480
work for us that's it for today until

1188
01:03:15,869 --> 01:03:19,559
then have fun programming and I'll see

1189
01:03:18,480 --> 01:03:21,889
you guys on the Internet take your news

1190
01:03:19,559 --> 01:03:21,889
everyone

