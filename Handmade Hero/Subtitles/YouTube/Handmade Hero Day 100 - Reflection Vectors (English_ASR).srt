1
00:00:00,030 --> 00:00:05,129
start recording here we go ladies and

2
00:00:03,149 --> 00:00:07,200
gentlemen welcome to handmade Hero the

3
00:00:05,129 --> 00:00:10,769
show where we code a complete game live

4
00:00:07,200 --> 00:00:13,710
on twitch no engines no libraries just

5
00:00:10,769 --> 00:00:17,129
us and our cross-compiling kettlebell

6
00:00:13,710 --> 00:00:19,170
lifting selves it is time right now for

7
00:00:17,129 --> 00:00:21,028
us to get back to our lighting

8
00:00:19,170 --> 00:00:22,500
computations we have a bunch of work to

9
00:00:21,028 --> 00:00:23,850
do today so I'm gonna get right into it

10
00:00:22,500 --> 00:00:26,189
if you are trying to follow along at

11
00:00:23,850 --> 00:00:30,080
home please keep in mind today is Magic

12
00:00:26,189 --> 00:00:34,230
Day 100 that makes things complicated

13
00:00:30,079 --> 00:00:36,750
because at day 100 I am bifurcating the

14
00:00:34,229 --> 00:00:40,199
two zip files they say every hundred

15
00:00:36,750 --> 00:00:41,789
days I make a new zip file so that the

16
00:00:40,200 --> 00:00:43,620
zip doesn't go out of control so

17
00:00:41,789 --> 00:00:46,619
basically if you're trying to find a 99

18
00:00:43,619 --> 00:00:49,709
remember it's in the 0 to 99 zip not in

19
00:00:46,619 --> 00:00:51,628
the hundreds of 199 zip so that's that's

20
00:00:49,710 --> 00:00:53,579
a little bit weird there so you got to

21
00:00:51,628 --> 00:00:55,409
go unzip day 99 out of that out of the

22
00:00:53,579 --> 00:00:57,660
old source if if you want to follow

23
00:00:55,409 --> 00:01:00,898
along today everyone from now on will be

24
00:00:57,659 --> 00:01:06,769
in the in the hundred 199 until we get

25
00:01:00,899 --> 00:01:08,579
through the next hundred days but

26
00:01:06,769 --> 00:01:09,149
assuming that you got all that under

27
00:01:08,579 --> 00:01:11,670
control

28
00:01:09,150 --> 00:01:14,159
let's go ahead and get things started

29
00:01:11,670 --> 00:01:16,530
now where we were where we left off

30
00:01:14,159 --> 00:01:19,770
yesterday is we had sort of started to

31
00:01:16,530 --> 00:01:21,989
get our reflection stuff working and as

32
00:01:19,769 --> 00:01:24,750
you can see we actually did what we were

33
00:01:21,989 --> 00:01:26,969
trying to do which is get our reflection

34
00:01:24,750 --> 00:01:28,799
or environment maps showing up based on

35
00:01:26,969 --> 00:01:30,150
the normals but what we had not done yet

36
00:01:28,799 --> 00:01:31,860
and what I didn't want to start doing

37
00:01:30,150 --> 00:01:32,969
because we you know we had kind of

38
00:01:31,859 --> 00:01:34,799
gotten to a stopping point we only had

39
00:01:32,969 --> 00:01:36,319
five minutes left in the stream well I

40
00:01:34,799 --> 00:01:39,479
did not get chance to do was actually

41
00:01:36,319 --> 00:01:41,639
implement any kind of code that tries to

42
00:01:39,478 --> 00:01:43,560
compute a reflection vector and as a

43
00:01:41,640 --> 00:01:46,590
result their reflection intersection

44
00:01:43,560 --> 00:01:49,109
code not running since that doesn't run

45
00:01:46,590 --> 00:01:50,310
it means that we just get a flat version

46
00:01:49,109 --> 00:01:51,478
of this in here because we're not

47
00:01:50,310 --> 00:01:54,118
actually doing anything other than just

48
00:01:51,478 --> 00:01:56,039
verifying that we can look up into it so

49
00:01:54,118 --> 00:01:57,659
what I wanted to do today is just kind

50
00:01:56,040 --> 00:02:00,360
of go over how that reflection code

51
00:01:57,659 --> 00:02:04,140
works with you and then go ahead and try

52
00:02:00,359 --> 00:02:05,670
to implement that if we can for the rest

53
00:02:04,140 --> 00:02:07,200
of the stream so that's all we're really

54
00:02:05,670 --> 00:02:09,000
doing today and that's the majority of

55
00:02:07,200 --> 00:02:11,759
what we have left to do for our actual

56
00:02:09,000 --> 00:02:12,840
normal mapping code before we optimize

57
00:02:11,759 --> 00:02:13,929
it there's really not a whole lot else

58
00:02:12,840 --> 00:02:15,729
to do

59
00:02:13,930 --> 00:02:17,319
mostly the rest of the stuff in lighting

60
00:02:15,729 --> 00:02:19,090
has to do with how we actually compute

61
00:02:17,319 --> 00:02:22,419
the environment maps that were sampling

62
00:02:19,090 --> 00:02:24,400
into so let's go over to the blackboard

63
00:02:22,419 --> 00:02:27,519
for a second and just kind of go over

64
00:02:24,400 --> 00:02:29,680
quickly here on day 100 what we're

65
00:02:27,520 --> 00:02:31,450
trying to do okay so that you can

66
00:02:29,680 --> 00:02:34,030
understand the math that we're trying to

67
00:02:31,449 --> 00:02:35,469
simulate in here part of it is very

68
00:02:34,030 --> 00:02:36,759
straightforward and part of its a little

69
00:02:35,469 --> 00:02:38,050
less straightforward just because of

70
00:02:36,759 --> 00:02:39,459
sort of like I said there's a little bit

71
00:02:38,050 --> 00:02:41,230
of happiness that has to go on with 2d

72
00:02:39,460 --> 00:02:43,689
lighting so we can't just implement

73
00:02:41,229 --> 00:02:47,259
things directly but for the first parts

74
00:02:43,689 --> 00:02:49,030
is very direct and quite simple so if

75
00:02:47,259 --> 00:02:50,349
you remember I drew a bunch of diagram

76
00:02:49,030 --> 00:02:52,479
so we were talking about lighting and

77
00:02:50,349 --> 00:02:55,599
they all looked like this right they all

78
00:02:52,479 --> 00:02:57,609
had some surface right and they had an

79
00:02:55,599 --> 00:02:58,989
eye that was looking at them actually I

80
00:02:57,610 --> 00:03:00,730
think I typically drew it this way where

81
00:02:58,990 --> 00:03:02,020
there here was the eyeball right there's

82
00:03:00,729 --> 00:03:03,729
our little eyeball I don't know where

83
00:03:02,020 --> 00:03:06,790
the eyelashes go maybe they go there I

84
00:03:03,729 --> 00:03:10,049
guess right there's our eyeball and we

85
00:03:06,789 --> 00:03:12,699
also have our light source right and

86
00:03:10,050 --> 00:03:15,400
what I was saying was that well what

87
00:03:12,699 --> 00:03:18,339
happens is you know the light source and

88
00:03:15,400 --> 00:03:22,569
the eye they sort of form this this kind

89
00:03:18,340 --> 00:03:24,789
of this kind of Bounce here right and

90
00:03:22,569 --> 00:03:28,000
what I was what I was saying is that

91
00:03:24,789 --> 00:03:30,009
most surfaces right if they're highly

92
00:03:28,000 --> 00:03:31,870
reflective a highly reflective surface

93
00:03:30,009 --> 00:03:33,909
what you're going to see when you look

94
00:03:31,870 --> 00:03:35,620
at it the light most strongly reflects

95
00:03:33,909 --> 00:03:37,090
out in the direction that it would if it

96
00:03:35,620 --> 00:03:38,620
was literally like a ball that was

97
00:03:37,090 --> 00:03:40,659
bouncing off of it right it's a pure

98
00:03:38,620 --> 00:03:44,770
reflection so like this angle and this

99
00:03:40,659 --> 00:03:47,859
angle are the same angle okay and then

100
00:03:44,770 --> 00:03:49,150
what happens as you get into surfaces

101
00:03:47,860 --> 00:03:51,790
that are less and less diffused is

102
00:03:49,150 --> 00:03:53,590
actually you start seeing much more

103
00:03:51,789 --> 00:03:55,959
light so you start seeing light that's

104
00:03:53,590 --> 00:03:57,520
that's that much further off that angle

105
00:03:55,959 --> 00:03:59,229
right like so it starts to be collecting

106
00:03:57,520 --> 00:04:01,360
more of like a cone of light out here

107
00:03:59,229 --> 00:04:03,789
and then the backscatter still does tend

108
00:04:01,360 --> 00:04:05,500
to be less so you know as you get closer

109
00:04:03,789 --> 00:04:09,849
and Glosser you're talking about sort of

110
00:04:05,500 --> 00:04:12,340
widening that cone and so that's not by

111
00:04:09,849 --> 00:04:14,139
any means a physically based lighting

112
00:04:12,340 --> 00:04:15,580
model it's just an approximation to one

113
00:04:14,139 --> 00:04:19,180
a physically based lighting model again

114
00:04:15,580 --> 00:04:20,739
actually takes some kind of functions

115
00:04:19,180 --> 00:04:22,780
that are actual approximations to the

116
00:04:20,738 --> 00:04:23,889
real lighting transfer of the surface

117
00:04:22,779 --> 00:04:27,008
like we talked about in the lighting

118
00:04:23,889 --> 00:04:30,038
show but for most surfaces

119
00:04:27,009 --> 00:04:31,270
we can sort of approximate them in some

120
00:04:30,038 --> 00:04:32,860
way that's good enough for our 2d

121
00:04:31,269 --> 00:04:36,399
approximation by just sort of having

122
00:04:32,860 --> 00:04:38,348
that that sort of simple trade-off right

123
00:04:36,399 --> 00:04:40,810
by just saying okay we're just gonna say

124
00:04:38,348 --> 00:04:42,788
we either take just that direct

125
00:04:40,810 --> 00:04:45,098
reflection if we want or we start taking

126
00:04:42,788 --> 00:04:46,418
wider and wider versions and we talked

127
00:04:45,098 --> 00:04:48,699
about how we might do those wider

128
00:04:46,418 --> 00:04:50,198
versions by sampling out of texture maps

129
00:04:48,699 --> 00:04:53,050
that have been blurred right lighting

130
00:04:50,199 --> 00:04:54,788
lighting environment and bird learn so

131
00:04:53,050 --> 00:04:56,530
for all of the lighting that we want to

132
00:04:54,788 --> 00:04:58,418
do we're basically just going to

133
00:04:56,529 --> 00:05:00,098
concentrate on this very simple setup

134
00:04:58,418 --> 00:05:02,318
that we have here which is the straight

135
00:05:00,098 --> 00:05:04,509
reflection model right sort of this

136
00:05:02,319 --> 00:05:06,639
concept that wherever I'm looking I want

137
00:05:04,509 --> 00:05:09,639
to see lights that are directly you know

138
00:05:06,639 --> 00:05:11,769
that sort of directly come out from

139
00:05:09,639 --> 00:05:13,870
there right so I want to be able to

140
00:05:11,769 --> 00:05:14,918
compute this now this is exactly like

141
00:05:13,870 --> 00:05:17,709
what we did with collision detection

142
00:05:14,918 --> 00:05:20,019
right so if you if you remember when we

143
00:05:17,709 --> 00:05:23,129
did collision detection it's exactly the

144
00:05:20,019 --> 00:05:25,750
same kind of equation where we want to

145
00:05:23,129 --> 00:05:27,968
take a surface which has a normal which

146
00:05:25,750 --> 00:05:30,990
is here right we want to take a surface

147
00:05:27,968 --> 00:05:34,300
as a normal and we want to take a vector

148
00:05:30,990 --> 00:05:36,668
such as this vector to the eye and we

149
00:05:34,300 --> 00:05:39,490
want to produce a vector that's very

150
00:05:36,668 --> 00:05:41,258
similar to that vector only it goes like

151
00:05:39,490 --> 00:05:43,449
in the exact opposite direction or

152
00:05:41,259 --> 00:05:45,848
something right so basically you know

153
00:05:43,449 --> 00:05:48,639
it's got like the same Y component

154
00:05:45,848 --> 00:05:51,399
relative to the surface right but its X

155
00:05:48,639 --> 00:05:53,620
component is negated right again

156
00:05:51,399 --> 00:05:55,299
relative to the surface if this was the

157
00:05:53,620 --> 00:05:56,978
X and y axis this would be trivial you

158
00:05:55,300 --> 00:05:59,319
just negate the actually be done but of

159
00:05:56,978 --> 00:06:02,019
course it isn't and so we have to do a

160
00:05:59,319 --> 00:06:04,180
little bit more work to figure out what

161
00:06:02,019 --> 00:06:06,129
it actually is but it's the exact same

162
00:06:04,180 --> 00:06:07,689
math as collision detection so if you

163
00:06:06,129 --> 00:06:09,879
remember from that it should be very

164
00:06:07,689 --> 00:06:10,180
straight forward let's go ahead and do

165
00:06:09,879 --> 00:06:12,550
it

166
00:06:10,180 --> 00:06:13,930
supposing we have a vector from the

167
00:06:12,550 --> 00:06:17,918
point we're computing out to the eye

168
00:06:13,930 --> 00:06:19,538
here is the eye right so whatever that

169
00:06:17,918 --> 00:06:21,339
vector is let's say that's our I've

170
00:06:19,538 --> 00:06:22,959
Ector that's e right

171
00:06:21,339 --> 00:06:25,388
I apologies to Euler who likes to

172
00:06:22,959 --> 00:06:27,008
reserve that for his number so suppose

173
00:06:25,389 --> 00:06:29,769
we have a vector e that goes out to the

174
00:06:27,009 --> 00:06:31,419
eye right and we want to compute this

175
00:06:29,769 --> 00:06:33,430
vector over here which I gotta know

176
00:06:31,418 --> 00:06:37,060
we'll call it our son vector for our

177
00:06:33,430 --> 00:06:39,769
sampling vector s so off it goes out to

178
00:06:37,060 --> 00:06:42,769
there right so we want to compute

179
00:06:39,769 --> 00:06:44,750
from E right and what we know is we

180
00:06:42,769 --> 00:06:49,269
basically know that all we really need

181
00:06:44,750 --> 00:06:53,509
to do use name

182
00:06:49,269 --> 00:06:57,430
all we really need to do here is we need

183
00:06:53,509 --> 00:06:59,479
to be able to sort of produce this this

184
00:06:57,430 --> 00:07:01,699
negated version of the vector now

185
00:06:59,478 --> 00:07:03,529
remember this is sort of technically in

186
00:07:01,699 --> 00:07:05,780
full 3d if we want to conceptualize it

187
00:07:03,529 --> 00:07:07,489
that way right so really when we're

188
00:07:05,779 --> 00:07:09,288
looking at it like this right we're

189
00:07:07,490 --> 00:07:11,900
really looking at some arbitrary vector

190
00:07:09,288 --> 00:07:13,939
here that's like that and we want to

191
00:07:11,899 --> 00:07:16,189
produce the arbitrary one here and and

192
00:07:13,939 --> 00:07:19,098
it may have you know coordinates on both

193
00:07:16,189 --> 00:07:20,959
XY and Z right we're not so we're not

194
00:07:19,098 --> 00:07:22,610
restricting ourselves to the bounce in

195
00:07:20,959 --> 00:07:24,379
the plane but the bounce itself kind of

196
00:07:22,610 --> 00:07:26,180
always does happen in a plane right you

197
00:07:24,379 --> 00:07:28,250
can always pick a plane that contains

198
00:07:26,180 --> 00:07:29,720
like these three points right so it's

199
00:07:28,250 --> 00:07:31,610
it's about that's happening in a plane

200
00:07:29,720 --> 00:07:35,599
but we don't really know what the plane

201
00:07:31,610 --> 00:07:37,189
is okay so this is not necessarily the X

202
00:07:35,598 --> 00:07:38,449
the Y and the Z right this is just the

203
00:07:37,189 --> 00:07:40,279
normal and we don't really have any

204
00:07:38,449 --> 00:07:41,629
coordinates for the plane that we're

205
00:07:40,279 --> 00:07:43,638
bouncing off because it can be any plane

206
00:07:41,629 --> 00:07:47,180
anywhere in the world so all we have is

207
00:07:43,639 --> 00:07:49,968
the normal and the point right and we

208
00:07:47,180 --> 00:07:52,579
then have that eye vector and we want to

209
00:07:49,968 --> 00:07:55,430
produce our s vector so what we can do

210
00:07:52,579 --> 00:07:58,098
is if we just again negate that a vector

211
00:07:55,430 --> 00:07:59,300
right if we do gate that eave Ector this

212
00:07:58,098 --> 00:08:01,788
is how we did it with the collision

213
00:07:59,300 --> 00:08:04,430
detection right if we but if we have a

214
00:08:01,788 --> 00:08:06,199
vector that essentially points exactly

215
00:08:04,430 --> 00:08:10,519
the same direction as s everything we

216
00:08:06,199 --> 00:08:12,949
want about s is true only instead of

217
00:08:10,519 --> 00:08:14,990
going back out instead of bouncing out

218
00:08:12,949 --> 00:08:17,509
of the plane its penetrating into the

219
00:08:14,990 --> 00:08:19,519
plane going into the plane then all we

220
00:08:17,509 --> 00:08:21,919
have to do is figure out how to you know

221
00:08:19,519 --> 00:08:24,889
pick that back up again and this is that

222
00:08:21,918 --> 00:08:26,149
that normal dot product of thing that we

223
00:08:24,889 --> 00:08:28,009
use for collision detection it's the

224
00:08:26,149 --> 00:08:30,258
exact same thing that we do there right

225
00:08:28,009 --> 00:08:32,000
because what we end up with is we end up

226
00:08:30,259 --> 00:08:34,310
with if we if we come back to our 2d

227
00:08:32,000 --> 00:08:36,528
slice right if we take that eye and we

228
00:08:34,309 --> 00:08:38,389
just look at what the negation is to the

229
00:08:36,528 --> 00:08:42,528
eye right so we have this is negative e

230
00:08:38,389 --> 00:08:44,809
down here right we can see that all we

231
00:08:42,528 --> 00:08:47,179
really need to do is figure out what

232
00:08:44,809 --> 00:08:49,879
this vector is right what's that vector

233
00:08:47,179 --> 00:08:51,739
right there and add two of it in because

234
00:08:49,879 --> 00:08:53,799
if we add two of that vector in it will

235
00:08:51,740 --> 00:08:55,180
first bring us up to the plane where we

236
00:08:53,799 --> 00:08:56,799
bounced off of and then it will bring us

237
00:08:55,179 --> 00:08:59,469
up to the point that we actually want

238
00:08:56,799 --> 00:09:00,849
for our sampling vector right and what

239
00:08:59,470 --> 00:09:02,920
is this vector right

240
00:09:00,850 --> 00:09:06,209
well we know the length of this vector

241
00:09:02,919 --> 00:09:09,338
right it's just the it's just whatever

242
00:09:06,208 --> 00:09:11,379
he was right in fact we don't even have

243
00:09:09,339 --> 00:09:12,910
to think about negative e we know how

244
00:09:11,379 --> 00:09:16,360
long this vector is because that's just

245
00:09:12,909 --> 00:09:18,909
how ever long e was dotted to n right so

246
00:09:16,360 --> 00:09:23,139
if we have a transpose n if we have that

247
00:09:18,909 --> 00:09:25,929
that tells us how long this is right and

248
00:09:23,139 --> 00:09:28,269
we just want to add two of those along

249
00:09:25,929 --> 00:09:30,399
the N direction right so we just want

250
00:09:28,269 --> 00:09:32,889
two of those along the N direction

251
00:09:30,399 --> 00:09:36,820
that's all we really need to do to take

252
00:09:32,889 --> 00:09:39,689
our negative e write and produce that

253
00:09:36,820 --> 00:09:43,930
that result right so so if we have

254
00:09:39,690 --> 00:09:46,750
negative E Plus this vector that will

255
00:09:43,929 --> 00:09:48,458
produce that bounce that we want right

256
00:09:46,750 --> 00:09:50,320
and again this is a purely geometric I

257
00:09:48,458 --> 00:09:52,119
didn't do this in an algebraic way this

258
00:09:50,320 --> 00:09:54,040
is a purely geometric construction I

259
00:09:52,120 --> 00:09:55,690
just looked at the diagram and decided

260
00:09:54,039 --> 00:09:58,599
what I wanted to do and produce the

261
00:09:55,690 --> 00:09:59,829
equation for it there's probably other

262
00:09:58,600 --> 00:10:03,310
ways you could think about doing this

263
00:09:59,828 --> 00:10:05,019
where you you could sort of do this in a

264
00:10:03,309 --> 00:10:07,899
more algebraic way right you could

265
00:10:05,019 --> 00:10:12,220
imagine saying something like I want the

266
00:10:07,899 --> 00:10:15,730
result to be the same dot product on n

267
00:10:12,220 --> 00:10:22,360
as the original but I want it to have

268
00:10:15,730 --> 00:10:23,889
the dot product with itself B I don't

269
00:10:22,360 --> 00:10:27,190
think of how I would say that the dot

270
00:10:23,889 --> 00:10:29,980
product with itself would be negative 1

271
00:10:27,190 --> 00:10:32,079
or negative the length you know I I

272
00:10:29,980 --> 00:10:33,519
don't want to actually try to do it now

273
00:10:32,078 --> 00:10:34,629
because this is one of the things I'd

274
00:10:33,519 --> 00:10:35,500
have to kind of sit there and scratch my

275
00:10:34,629 --> 00:10:36,909
head for a while to figure out exactly

276
00:10:35,500 --> 00:10:40,299
the right way to phrase it

277
00:10:36,909 --> 00:10:42,189
mathematically to solve but you could do

278
00:10:40,299 --> 00:10:43,719
that right you could come up with some

279
00:10:42,190 --> 00:10:44,589
if you're an algebra centric person you

280
00:10:43,720 --> 00:10:46,449
should be able to look at this diagram

281
00:10:44,589 --> 00:10:48,760
and come up with some rules that you

282
00:10:46,448 --> 00:10:50,859
want this result to obey and then solve

283
00:10:48,759 --> 00:10:52,120
for it I tend to use geometry most of

284
00:10:50,860 --> 00:10:53,528
the time because it's faster for my

285
00:10:52,120 --> 00:10:54,639
brain I don't have to sit there

286
00:10:53,528 --> 00:10:56,740
scratching my head for a little while

287
00:10:54,639 --> 00:10:57,850
but some people work better with algebra

288
00:10:56,740 --> 00:11:00,009
and so I don't really want to discourage

289
00:10:57,850 --> 00:11:02,050
that on the screen stream I just I can't

290
00:11:00,009 --> 00:11:03,220
be I can't lead by example there because

291
00:11:02,049 --> 00:11:05,828
as soon as I have to downshift to

292
00:11:03,220 --> 00:11:07,450
algebraic solving I go much slower so

293
00:11:05,828 --> 00:11:10,299
anyway this is roughly what we wanted

294
00:11:07,450 --> 00:11:14,259
the question is just how do we actually

295
00:11:10,299 --> 00:11:17,019
set ourselves up to do this and so let's

296
00:11:14,259 --> 00:11:19,360
go look at the code where is my I didn't

297
00:11:17,019 --> 00:11:22,120
open Emacs it I did not open Emacs yet

298
00:11:19,360 --> 00:11:23,470
it would appear so I guess yeah

299
00:11:22,120 --> 00:11:25,509
I guess we just don't have an Emacs

300
00:11:23,470 --> 00:11:27,490
window open so let's open any Mac's

301
00:11:25,509 --> 00:11:30,939
window so we can go over there to our

302
00:11:27,490 --> 00:11:33,580
code here we go and when we have our

303
00:11:30,940 --> 00:11:35,470
draw a rectangle slowly code you

304
00:11:33,580 --> 00:11:37,600
remember where we have this stuff happen

305
00:11:35,470 --> 00:11:40,509
and we have a little to do here which is

306
00:11:37,600 --> 00:11:42,490
like actually compute a bounce based on

307
00:11:40,509 --> 00:11:44,319
the viewer direction so there's our

308
00:11:42,490 --> 00:11:46,299
there's our oh man I'm out of tea

309
00:11:44,320 --> 00:11:47,879
already and Romanelli like 15 minutes

310
00:11:46,299 --> 00:11:52,839
into the programming that's no good

311
00:11:47,879 --> 00:11:54,909
that's no good at all anyway hmm so if I

312
00:11:52,840 --> 00:11:57,070
want to replace this to do here what I

313
00:11:54,909 --> 00:11:59,019
need to do is put that stuff in then I

314
00:11:57,070 --> 00:12:01,240
just talked about what we're gonna need

315
00:11:59,019 --> 00:12:04,240
as per our diagram is we're gonna need

316
00:12:01,240 --> 00:12:05,740
the I've Ector that goes and we're gonna

317
00:12:04,240 --> 00:12:08,649
need the normal now the normal we have

318
00:12:05,740 --> 00:12:11,230
right because we have our normal map

319
00:12:08,649 --> 00:12:13,209
which is all we really need but we don't

320
00:12:11,230 --> 00:12:15,700
have that eye vector so we need to

321
00:12:13,210 --> 00:12:17,320
figure out a way to figure out what you

322
00:12:15,700 --> 00:12:19,509
know where our eye is kind of looking

323
00:12:17,320 --> 00:12:22,150
and this is actually particularly tricky

324
00:12:19,509 --> 00:12:26,319
for 2d games because we don't actually

325
00:12:22,149 --> 00:12:28,269
have a rigorous definition for it now I

326
00:12:26,320 --> 00:12:30,490
know this sounds a little bit strange

327
00:12:28,269 --> 00:12:32,259
but if you think about it the problem

328
00:12:30,490 --> 00:12:35,350
with 2d games is they don't typically

329
00:12:32,259 --> 00:12:36,730
end up being actually perspective so you

330
00:12:35,350 --> 00:12:38,980
know if you were to think about what

331
00:12:36,730 --> 00:12:40,810
would happened I guess I didn't quite

332
00:12:38,980 --> 00:12:42,970
finish what I needed to draw to tell you

333
00:12:40,809 --> 00:12:45,039
everything if you think about the screen

334
00:12:42,970 --> 00:12:46,840
as being like kind of this monitor

335
00:12:45,039 --> 00:12:49,209
sitting in front of you right and you

336
00:12:46,840 --> 00:12:51,670
think about you being back here looking

337
00:12:49,210 --> 00:12:53,740
at it right if we want to talk about

338
00:12:51,669 --> 00:12:55,449
sort of that midline so here's that

339
00:12:53,740 --> 00:12:59,080
here's the center point right and we

340
00:12:55,450 --> 00:13:00,550
talk about this midline you know any

341
00:12:59,080 --> 00:13:02,860
point that I'm looking at on the screen

342
00:13:00,549 --> 00:13:04,779
we do know a vector that would be sort

343
00:13:02,860 --> 00:13:07,930
of a perspective vector that would be

344
00:13:04,779 --> 00:13:10,659
how I'm looking at this point in space

345
00:13:07,929 --> 00:13:13,299
right but the thing that's kind of

346
00:13:10,659 --> 00:13:16,269
confusing is that our game isn't in

347
00:13:13,299 --> 00:13:18,939
perspective right our game does have

348
00:13:16,269 --> 00:13:20,929
like an orthographic feel to it the way

349
00:13:18,940 --> 00:13:23,600
we were drawing things where you know

350
00:13:20,929 --> 00:13:26,209
a tree looks the same on either side of

351
00:13:23,600 --> 00:13:28,100
the screen so a tree that's here looks

352
00:13:26,210 --> 00:13:30,440
the same as a tree that's over here

353
00:13:28,100 --> 00:13:32,089
which is not how perspective works how

354
00:13:30,440 --> 00:13:34,370
perspective works is you would see more

355
00:13:32,089 --> 00:13:35,960
of this side of the tree over here and

356
00:13:34,370 --> 00:13:38,209
you would see more of this side of the

357
00:13:35,960 --> 00:13:40,100
tree over here you can verify this to

358
00:13:38,208 --> 00:13:42,199
yourself really easily just by looking

359
00:13:40,100 --> 00:13:45,110
at your own monitor you can see the

360
00:13:42,200 --> 00:13:47,778
inside of the bezel on the left-hand

361
00:13:45,110 --> 00:13:49,190
side of the skirt of the thing right and

362
00:13:47,778 --> 00:13:51,259
the inside of the bezel on the

363
00:13:49,190 --> 00:13:54,350
right-hand side as well even those those

364
00:13:51,259 --> 00:13:57,889
are two opposite sides of that bezel

365
00:13:54,350 --> 00:14:00,528
shape right you know your your sort of

366
00:13:57,889 --> 00:14:02,149
your ability to perceive things is is

367
00:14:00,528 --> 00:14:04,309
kind of warped in that way by the

368
00:14:02,149 --> 00:14:05,899
perspective so you're not seeing the

369
00:14:04,309 --> 00:14:07,369
same sides of objects you're seeing

370
00:14:05,899 --> 00:14:09,289
different sides of them depending on

371
00:14:07,370 --> 00:14:10,669
where they are right and you know

372
00:14:09,289 --> 00:14:13,189
another sim exam will be hold up

373
00:14:10,669 --> 00:14:14,569
something in front of you and I'm here

374
00:14:13,190 --> 00:14:16,760
if I'm if I'm holding it on this side I

375
00:14:14,570 --> 00:14:18,440
can see this this part of it right and

376
00:14:16,759 --> 00:14:20,269
if I move it to this side that part is

377
00:14:18,440 --> 00:14:23,570
now occluded and I can see this part

378
00:14:20,269 --> 00:14:25,669
right but that's not what we see when we

379
00:14:23,570 --> 00:14:28,430
do most 2d games especially kinds with

380
00:14:25,669 --> 00:14:30,500
hand-drawn art right what we see is just

381
00:14:28,429 --> 00:14:32,208
that sprite is doesn't work as it moves

382
00:14:30,500 --> 00:14:35,179
across and it's kind of like this

383
00:14:32,208 --> 00:14:38,028
orthographic style projection that we

384
00:14:35,179 --> 00:14:41,870
use so in order to figure out what our

385
00:14:38,028 --> 00:14:44,049
I've Ector is it suggests at least to me

386
00:14:41,870 --> 00:14:47,089
that if we were going to stay

387
00:14:44,049 --> 00:14:49,789
orthographic then what we actually want

388
00:14:47,089 --> 00:14:51,380
to do is pretend always that the that

389
00:14:49,789 --> 00:14:54,259
the vector to the eye is pointing

390
00:14:51,379 --> 00:14:56,838
straight out of the screen right and so

391
00:14:54,259 --> 00:14:59,809
what that means is as if you were to

392
00:14:56,839 --> 00:15:02,089
move this if you're to scroll the screen

393
00:14:59,809 --> 00:15:04,819
left and right you wouldn't see

394
00:15:02,089 --> 00:15:06,740
reflections on objects change but if the

395
00:15:04,820 --> 00:15:08,750
object themselves moved left to right

396
00:15:06,740 --> 00:15:11,450
you would see reflections on the change

397
00:15:08,750 --> 00:15:12,980
does that make sense I hope it does and

398
00:15:11,450 --> 00:15:16,670
I think I want to do that because that

399
00:15:12,980 --> 00:15:18,829
keeps our visual grammar consistent it

400
00:15:16,669 --> 00:15:20,870
doesn't mix two different things

401
00:15:18,828 --> 00:15:22,639
together and I think that might be

402
00:15:20,870 --> 00:15:24,679
better for the overall look of the game

403
00:15:22,639 --> 00:15:27,799
because it feels a little weird use

404
00:15:24,679 --> 00:15:29,838
perspective reflections when the art is

405
00:15:27,799 --> 00:15:30,799
not itself perspective that just seems

406
00:15:29,839 --> 00:15:33,440
like a bad idea

407
00:15:30,799 --> 00:15:34,250
so what that means is we're going to go

408
00:15:33,440 --> 00:15:37,790
ahead and

409
00:15:34,250 --> 00:15:39,590
make the the z-axis right which is

410
00:15:37,789 --> 00:15:43,219
pointing straight on up out of the

411
00:15:39,590 --> 00:15:45,110
screen that is our eye right and so what

412
00:15:43,220 --> 00:15:47,629
that means is our Z you know our our

413
00:15:45,110 --> 00:15:49,159
I've Ector right he's essentially just

414
00:15:47,629 --> 00:15:52,580
pointing straight up it's pointing

415
00:15:49,159 --> 00:15:54,350
straight up back at us now that confers

416
00:15:52,580 --> 00:15:56,540
on us some optimization potential as

417
00:15:54,350 --> 00:15:58,250
well because if you think about that if

418
00:15:56,539 --> 00:16:00,199
we're going to do operations with that

419
00:15:58,250 --> 00:16:03,350
and we know that it's only got the Z

420
00:16:00,200 --> 00:16:04,250
involved that allows us to do some

421
00:16:03,350 --> 00:16:06,019
things that are much more

422
00:16:04,250 --> 00:16:07,549
straightforward right

423
00:16:06,019 --> 00:16:09,470
so we might want to think about doing

424
00:16:07,549 --> 00:16:11,240
that just you know a little

425
00:16:09,470 --> 00:16:12,529
quote-unquote premature optimizations

426
00:16:11,240 --> 00:16:14,060
here we could totally do that if we

427
00:16:12,529 --> 00:16:16,970
wanted to because if you think about

428
00:16:14,059 --> 00:16:20,569
what happens here this equation right

429
00:16:16,970 --> 00:16:22,370
negative E + 2 e transpose in and well e

430
00:16:20,570 --> 00:16:25,129
transpose anything is just going to be

431
00:16:22,370 --> 00:16:27,740
the z coordinate of that thing right I

432
00:16:25,129 --> 00:16:29,179
mean that's just a given because if I

433
00:16:27,740 --> 00:16:30,889
take the dot product right do you

434
00:16:29,179 --> 00:16:36,620
remember what the dot product is right

435
00:16:30,889 --> 00:16:45,129
so ii x ey ez right dotted with n x + y

436
00:16:36,620 --> 00:16:48,740
NZ right equals e^x NX + ey + y + e z NZ

437
00:16:45,129 --> 00:16:50,570
right that's what happens right so if

438
00:16:48,740 --> 00:16:52,430
i'm priy saying that these two are

439
00:16:50,570 --> 00:16:54,140
always going to be 0 because it's

440
00:16:52,429 --> 00:16:55,299
pointing straight out the what the i've

441
00:16:54,139 --> 00:16:58,549
Ector is right

442
00:16:55,299 --> 00:17:01,189
if those two are both 0 then i know and

443
00:16:58,549 --> 00:17:02,959
this is 1 then i already know what this

444
00:17:01,190 --> 00:17:05,209
is before i actually have to do any work

445
00:17:02,960 --> 00:17:07,759
to actually compute it right I know that

446
00:17:05,209 --> 00:17:10,068
the X goes away I know that the Y goes

447
00:17:07,759 --> 00:17:12,920
away and I knew that the EZ is actually

448
00:17:10,068 --> 00:17:17,088
1 right so the only thing we actually

449
00:17:12,920 --> 00:17:22,670
need is the NZ right so this equation is

450
00:17:17,088 --> 00:17:26,299
actually just negative e + 2 NZ x n

451
00:17:22,670 --> 00:17:29,060
right and furthermore what that means is

452
00:17:26,299 --> 00:17:31,700
the negative e we also know that that's

453
00:17:29,059 --> 00:17:35,869
just subtracting 1 from the Z so it's

454
00:17:31,700 --> 00:17:37,930
really just 2 n ZN right like this it's

455
00:17:35,869 --> 00:17:41,509
that vector whatever that vector is

456
00:17:37,930 --> 00:17:47,000
having one subtracted from it z right

457
00:17:41,509 --> 00:17:47,789
- this that's it that would be the

458
00:17:47,000 --> 00:17:49,829
entirety of can

459
00:17:47,789 --> 00:17:51,779
shooting this now if you notice there's

460
00:17:49,829 --> 00:17:55,349
something pretty darn interesting there

461
00:17:51,779 --> 00:17:58,319
which is that if we want to standardize

462
00:17:55,349 --> 00:17:59,789
on this completely what that means is if

463
00:17:58,319 --> 00:18:02,369
we wanted to we could actually get rid

464
00:17:59,789 --> 00:18:06,629
of all this math and just priests or

465
00:18:02,369 --> 00:18:08,339
this directly in our normal map right

466
00:18:06,630 --> 00:18:10,860
because since we know what all of this

467
00:18:08,339 --> 00:18:15,649
is we actually could just go ahead and

468
00:18:10,859 --> 00:18:19,229
make our normal map store to nzn right

469
00:18:15,650 --> 00:18:24,390
instead of storing an actual normal

470
00:18:19,230 --> 00:18:25,799
right so we have options there and it

471
00:18:24,390 --> 00:18:27,750
depends on what ends up being true

472
00:18:25,799 --> 00:18:30,659
because there's reasons why we might not

473
00:18:27,750 --> 00:18:32,970
want to do that there's because we can't

474
00:18:30,660 --> 00:18:35,970
use the squared the the square root

475
00:18:32,970 --> 00:18:37,200
trick to to store only two components

476
00:18:35,970 --> 00:18:38,850
potentially at that point you know

477
00:18:37,200 --> 00:18:40,170
there's there's other reasons why we

478
00:18:38,849 --> 00:18:43,139
might not want to do it but it's just

479
00:18:40,170 --> 00:18:44,850
worth noting that that's very simple and

480
00:18:43,140 --> 00:18:47,850
so if we take a look at what actually

481
00:18:44,849 --> 00:18:54,000
happens here I'm gonna go ahead and say

482
00:18:47,849 --> 00:18:59,459
here I the the I vector is always

483
00:18:54,000 --> 00:19:01,109
assumed to be you know zero zero one

484
00:18:59,460 --> 00:19:04,140
pointing straight up out of the screen

485
00:19:01,109 --> 00:19:06,750
right and so in order to compute that

486
00:19:04,140 --> 00:19:10,140
bounce what we need to figure out is we

487
00:19:06,750 --> 00:19:13,440
need to figure out using what our

488
00:19:10,140 --> 00:19:15,540
negative e to ends en is so to NZ n is

489
00:19:13,440 --> 00:19:18,420
pretty easy we have the normal right

490
00:19:15,539 --> 00:19:21,059
right there and so it's just going to be

491
00:19:18,420 --> 00:19:23,519
the normal Z two times the normal z

492
00:19:21,059 --> 00:19:26,369
times normal X Y Z that's that term

493
00:19:23,519 --> 00:19:27,990
right that we're adding in and then the

494
00:19:26,369 --> 00:19:31,199
vector that we're starting with again is

495
00:19:27,990 --> 00:19:32,279
it's just going to be 0 0 1 so we're

496
00:19:31,200 --> 00:19:34,980
just gonna subtract 1 from that Z

497
00:19:32,279 --> 00:19:38,910
component so this is our you know our

498
00:19:34,980 --> 00:19:41,009
our bounce direction like like so our

499
00:19:38,910 --> 00:19:46,320
bounce directions Z is going to be

500
00:19:41,009 --> 00:19:48,000
subtracting negative 1 from that I'll

501
00:19:46,319 --> 00:19:52,679
even put in here this is just the

502
00:19:48,000 --> 00:19:53,400
simplified version of negative E Plus 2

503
00:19:52,680 --> 00:19:57,370
oops

504
00:19:53,400 --> 00:20:06,310
I'm going to be plus 2 e transpose

505
00:19:57,369 --> 00:20:07,949
and and right the reflection and so

506
00:20:06,309 --> 00:20:09,940
we're gonna go ahead and do that and

507
00:20:07,950 --> 00:20:12,940
that looks about right

508
00:20:09,940 --> 00:20:17,910
so that computes that that other normal

509
00:20:12,940 --> 00:20:20,519
that we're using there right and so

510
00:20:17,910 --> 00:20:25,390
trying to think if there's anything else

511
00:20:20,519 --> 00:20:29,740
that has to happen there I don't I don't

512
00:20:25,390 --> 00:20:31,600
know if there is I think that's about it

513
00:20:29,740 --> 00:20:32,740
so anyway we'll take a look at that a

514
00:20:31,599 --> 00:20:35,230
little more closely later when we step

515
00:20:32,740 --> 00:20:37,539
into this but after that once we have

516
00:20:35,230 --> 00:20:42,759
that bounce direction that bounce

517
00:20:37,539 --> 00:20:45,940
direction I believe just needs to get

518
00:20:42,759 --> 00:20:48,549
past in here so so we got a couple

519
00:20:45,940 --> 00:20:52,660
things we need to do there first of all

520
00:20:48,549 --> 00:20:57,789
we need to say that this is actually

521
00:20:52,660 --> 00:21:00,040
that's direction right and I think

522
00:20:57,789 --> 00:21:02,649
that's we're not sampling from that at

523
00:21:00,039 --> 00:21:04,629
all yet so that's that's really all we

524
00:21:02,650 --> 00:21:06,550
have to do is pass it in here and then

525
00:21:04,630 --> 00:21:08,950
we have to go ahead and do the second

526
00:21:06,549 --> 00:21:12,369
part of our math so this is actually the

527
00:21:08,950 --> 00:21:14,170
this is the sample direction right and

528
00:21:12,369 --> 00:21:15,909
the screen space UV tells us where we

529
00:21:14,170 --> 00:21:18,460
were so now we have to do the second

530
00:21:15,910 --> 00:21:20,140
part which is this intersection math we

531
00:21:18,460 --> 00:21:23,740
can quickly compile this and see what

532
00:21:20,140 --> 00:21:26,830
happens although this it's probably now

533
00:21:23,740 --> 00:21:29,529
will allow illegal results so we may get

534
00:21:26,829 --> 00:21:32,769
an assertion in there if we actually do

535
00:21:29,529 --> 00:21:35,889
that but you know why not we'll just run

536
00:21:32,769 --> 00:21:41,019
it anyway worst that happens is it

537
00:21:35,890 --> 00:21:43,509
asserts let's see here Z there we go

538
00:21:41,019 --> 00:21:46,389
so there it is it actually did not

539
00:21:43,509 --> 00:21:48,430
assert it works okay and so you can kind

540
00:21:46,390 --> 00:21:50,259
of see that's you know it's starting to

541
00:21:48,430 --> 00:21:51,850
get some of that reflectivity in there

542
00:21:50,259 --> 00:21:53,200
but again we haven't actually done the

543
00:21:51,849 --> 00:21:56,349
part that actually does the sampling

544
00:21:53,200 --> 00:21:57,370
properly so we're not quite there yet so

545
00:21:56,349 --> 00:21:58,750
we're but you can sort of see it

546
00:21:57,369 --> 00:22:00,459
starting to round out a little bit which

547
00:21:58,750 --> 00:22:03,700
is nice that probably suggests we didn't

548
00:22:00,460 --> 00:22:05,410
mess up our math too terribly much but

549
00:22:03,700 --> 00:22:08,230
now we have to do the second part so

550
00:22:05,410 --> 00:22:09,730
let's talk about the second part and the

551
00:22:08,230 --> 00:22:11,430
second part is a little nasty because it

552
00:22:09,730 --> 00:22:16,079
involves a fudge factor

553
00:22:11,430 --> 00:22:20,549
as people are commonly fun fond of

554
00:22:16,079 --> 00:22:22,259
saying write a fudge factor the the

555
00:22:20,549 --> 00:22:26,000
thing that's problematic about fudge

556
00:22:22,259 --> 00:22:30,269
factors is that they sound good right

557
00:22:26,000 --> 00:22:31,200
they sound good because at least if

558
00:22:30,269 --> 00:22:32,759
you're not using the scatological

559
00:22:31,200 --> 00:22:33,930
determinant of fudge and you're actually

560
00:22:32,759 --> 00:22:36,210
talking about the stuff that they sell

561
00:22:33,930 --> 00:22:39,269
it in tourist towns for some reason they

562
00:22:36,210 --> 00:22:43,079
sell in all tourist towns because fudge

563
00:22:39,269 --> 00:22:44,309
is tasty but it's actually bad so but

564
00:22:43,079 --> 00:22:46,079
you actually probably want to think

565
00:22:44,309 --> 00:22:48,480
about the scatological fudge when you

566
00:22:46,079 --> 00:22:52,169
think about fudge factor not the like

567
00:22:48,480 --> 00:22:57,120
tourist fudge so think think scat fudge

568
00:22:52,170 --> 00:22:58,650
not tourists fudge right because fudge

569
00:22:57,119 --> 00:22:59,849
factors tend to be bad and the reason

570
00:22:58,650 --> 00:23:01,259
that they tend to be bad is because you

571
00:22:59,849 --> 00:23:03,240
have no idea what they should be set to

572
00:23:01,259 --> 00:23:05,759
and you don't really know much about

573
00:23:03,240 --> 00:23:07,200
their behavior a lot of times right when

574
00:23:05,759 --> 00:23:08,730
you're simulating something using real

575
00:23:07,200 --> 00:23:11,190
world stuff using real world physics

576
00:23:08,730 --> 00:23:12,660
using real world values you kind of know

577
00:23:11,190 --> 00:23:13,920
what they should be and so you can put

578
00:23:12,660 --> 00:23:15,180
in things that you know what they should

579
00:23:13,920 --> 00:23:18,150
be and if it doesn't work you know you

580
00:23:15,180 --> 00:23:20,039
have a bug but when you have a fudge

581
00:23:18,150 --> 00:23:21,750
factor in there you don't know maybe you

582
00:23:20,039 --> 00:23:23,970
just set the fudge factor wrong right

583
00:23:21,750 --> 00:23:26,309
and so it makes debugging a lot harder

584
00:23:23,970 --> 00:23:28,410
when you've got these sort of arbitrary

585
00:23:26,309 --> 00:23:30,419
constants in there that said do they

586
00:23:28,410 --> 00:23:34,080
happen yes do you have to be comfortable

587
00:23:30,420 --> 00:23:36,390
them yes even the most advanced physics

588
00:23:34,079 --> 00:23:38,519
papers often times will have constants

589
00:23:36,390 --> 00:23:40,890
pulled out of thin air in there I am NOT

590
00:23:38,519 --> 00:23:43,519
making this up you can go I was reading

591
00:23:40,890 --> 00:23:46,620
one the other day in fact about

592
00:23:43,519 --> 00:23:49,740
vorticity confinement in fluid dynamics

593
00:23:46,619 --> 00:23:52,169
and sure as the day is long there are

594
00:23:49,740 --> 00:23:54,089
constants that they just flat-out pulled

595
00:23:52,170 --> 00:23:57,779
out of nowhere and this is in like

596
00:23:54,089 --> 00:23:59,159
helicopter vortex simulation literature

597
00:23:57,779 --> 00:24:00,899
right and it's like they're just like

598
00:23:59,160 --> 00:24:04,259
full-on like I don't know here's a

599
00:24:00,900 --> 00:24:06,840
here's a value that we made up it seems

600
00:24:04,259 --> 00:24:08,940
to work and you're like alright great so

601
00:24:06,839 --> 00:24:11,159
yeah don't feel bad about using them

602
00:24:08,940 --> 00:24:12,480
because even the most hardcore math

603
00:24:11,160 --> 00:24:16,170
stuff still tends to use them

604
00:24:12,480 --> 00:24:18,059
unfortunately but do be aware that they

605
00:24:16,170 --> 00:24:19,410
do have these pitfalls so you do try to

606
00:24:18,059 --> 00:24:21,480
want to limit the amount of fudge

607
00:24:19,410 --> 00:24:23,220
factoring you have in your code if you

608
00:24:21,480 --> 00:24:25,079
can so there where is the fudge factor

609
00:24:23,220 --> 00:24:27,450
well here's the problem we

610
00:24:25,079 --> 00:24:29,099
got a screen and we've got a point on

611
00:24:27,450 --> 00:24:30,870
the screen and so if you think about

612
00:24:29,099 --> 00:24:32,219
what's happening now we're thinking

613
00:24:30,869 --> 00:24:34,649
about that screen as being sort of this

614
00:24:32,220 --> 00:24:37,650
flat plane in the world and then we've

615
00:24:34,650 --> 00:24:39,360
got some map up in the world or Spur

616
00:24:37,650 --> 00:24:41,580
haps below in the world depending on the

617
00:24:39,359 --> 00:24:45,509
circumstance and what we want to do is

618
00:24:41,579 --> 00:24:48,240
we want to sample into that map okay so

619
00:24:45,509 --> 00:24:50,879
we've got a direction and we want to

620
00:24:48,240 --> 00:24:53,250
know from this point if we walk in this

621
00:24:50,880 --> 00:24:56,070
direction along the direction is

622
00:24:53,250 --> 00:24:58,410
pointing we're on the upper map we will

623
00:24:56,069 --> 00:25:00,659
hit okay now this is a straightforward

624
00:24:58,410 --> 00:25:02,759
math thing to do and we will do it in a

625
00:25:00,660 --> 00:25:04,140
second but in fact we've already done it

626
00:25:02,759 --> 00:25:05,490
in collision detection collisions action

627
00:25:04,140 --> 00:25:08,160
keeps coming up right but you remember

628
00:25:05,490 --> 00:25:10,250
this we've done this Ray when does a ray

629
00:25:08,160 --> 00:25:13,980
intersect a plane we've done this before

630
00:25:10,250 --> 00:25:17,730
but the problem that we have here is we

631
00:25:13,980 --> 00:25:22,890
don't know how far this is right we have

632
00:25:17,730 --> 00:25:25,920
no idea how far this is because it's

633
00:25:22,890 --> 00:25:29,250
just kind of made-up lighting stuff so

634
00:25:25,920 --> 00:25:34,650
you know we can try to setting it to how

635
00:25:29,250 --> 00:25:38,220
far above the ground we want the sky to

636
00:25:34,650 --> 00:25:39,480
appear to be I don't really know but at

637
00:25:38,220 --> 00:25:41,789
some level we probably don't want that

638
00:25:39,480 --> 00:25:43,890
because then when we get to the edge of

639
00:25:41,789 --> 00:25:45,720
the map it would be a problem there's

640
00:25:43,890 --> 00:25:46,890
there's just a lot of fudging in here

641
00:25:45,720 --> 00:25:49,350
look we don't even really know how big

642
00:25:46,890 --> 00:25:50,910
we want this thing to be right we might

643
00:25:49,349 --> 00:25:52,439
want this thing to be larger than the

644
00:25:50,910 --> 00:25:54,390
world so that stuff that samples near

645
00:25:52,440 --> 00:25:57,240
the edge will still be able to hit it

646
00:25:54,390 --> 00:25:59,190
okay so there's just it's nasty so we've

647
00:25:57,240 --> 00:26:03,779
got some problems here but let's just

648
00:25:59,190 --> 00:26:05,130
assume let's assume that we will handle

649
00:26:03,779 --> 00:26:09,289
those fudge-packers somehow so what we

650
00:26:05,130 --> 00:26:13,140
really just need to know is given some

651
00:26:09,289 --> 00:26:15,000
definition of these things how can we

652
00:26:13,140 --> 00:26:16,830
compute this well let's start off with

653
00:26:15,000 --> 00:26:19,079
the most simple observation that we have

654
00:26:16,829 --> 00:26:21,990
here which is that if we assume we know

655
00:26:19,079 --> 00:26:24,659
how far we are traveling so we assume we

656
00:26:21,990 --> 00:26:29,059
know our Z distance right we'll call

657
00:26:24,660 --> 00:26:29,060
this this one Z and this would be right

658
00:26:29,869 --> 00:26:35,849
if we assume we know our dizzy distance

659
00:26:33,839 --> 00:26:37,769
then really all we need to do is figure

660
00:26:35,849 --> 00:26:39,379
out something that'll tell us how far we

661
00:26:37,769 --> 00:26:41,029
would be displaced

662
00:26:39,380 --> 00:26:42,260
right in the normal excellent because

663
00:26:41,029 --> 00:26:44,750
we've really got do you think about this

664
00:26:42,259 --> 00:26:46,730
normal right this normal has a few

665
00:26:44,750 --> 00:26:49,039
different components it's got two

666
00:26:46,730 --> 00:26:50,539
components in the plain right in fact

667
00:26:49,039 --> 00:26:52,519
you could think of it mapping down like

668
00:26:50,539 --> 00:26:55,220
this it's got chicken poets in the plane

669
00:26:52,519 --> 00:26:57,500
the X and the y in terms of this plane

670
00:26:55,220 --> 00:26:59,870
right and then it's got this other one

671
00:26:57,500 --> 00:27:02,150
that's the Z right that's its z-axis

672
00:26:59,869 --> 00:27:04,429
component so what we can think about is

673
00:27:02,150 --> 00:27:07,759
just in terms of its X&amp;Y

674
00:27:04,430 --> 00:27:10,279
right how far would they how far would

675
00:27:07,759 --> 00:27:12,410
it displace it us from this point if we

676
00:27:10,279 --> 00:27:15,200
you know traveled as far as it takes us

677
00:27:12,410 --> 00:27:17,600
in Z along this thing to get here right

678
00:27:15,200 --> 00:27:19,100
and that's a pretty easy thing to do

679
00:27:17,599 --> 00:27:20,449
because even without thinking about it

680
00:27:19,099 --> 00:27:22,429
much you can see we've already kind of

681
00:27:20,450 --> 00:27:25,610
constructed some similar triangles here

682
00:27:22,430 --> 00:27:28,400
right we have some length of this thing

683
00:27:25,609 --> 00:27:30,469
that is pointing up towards the thing we

684
00:27:28,400 --> 00:27:31,970
want to go to and we're saying we have

685
00:27:30,470 --> 00:27:34,190
some fudge factor which says how far

686
00:27:31,970 --> 00:27:43,579
away it is right we'll call that f4

687
00:27:34,190 --> 00:27:45,860
fudge right f is for fudge right we have

688
00:27:43,579 --> 00:27:48,199
some some F that says what it is all we

689
00:27:45,859 --> 00:27:50,269
need to know is how many of those how

690
00:27:48,200 --> 00:27:52,400
many of those Z components would it take

691
00:27:50,269 --> 00:27:55,190
to get there right so if we call that Z

692
00:27:52,400 --> 00:27:56,840
it's just F over Z right it's all we're

693
00:27:55,190 --> 00:27:58,789
doing we're just saying how many of

694
00:27:56,839 --> 00:28:01,849
those would it take to get up here that

695
00:27:58,789 --> 00:28:03,799
is the coefficient that we would need to

696
00:28:01,849 --> 00:28:05,949
figure out how far we would travel along

697
00:28:03,799 --> 00:28:07,849
the x and y of that normal map right now

698
00:28:05,950 --> 00:28:10,370
of course it's a little confusing

699
00:28:07,849 --> 00:28:12,769
because we have to first think about

700
00:28:10,369 --> 00:28:14,569
whether we're looking down or whether

701
00:28:12,769 --> 00:28:16,670
we're looking up because we had ones

702
00:28:14,569 --> 00:28:18,079
down here as well so we need to take all

703
00:28:16,670 --> 00:28:19,970
of that into account but this is the

704
00:28:18,079 --> 00:28:22,369
only quantity that we actually need to

705
00:28:19,970 --> 00:28:24,829
produce once we produce that we just

706
00:28:22,369 --> 00:28:26,419
multiply that by the components of the

707
00:28:24,829 --> 00:28:29,569
normal that are in the plane and that

708
00:28:26,420 --> 00:28:30,890
gets us where we would be sampling where

709
00:28:29,569 --> 00:28:32,659
what the displacement is from our

710
00:28:30,890 --> 00:28:40,190
location where we would be sampling

711
00:28:32,660 --> 00:28:43,700
right so yeah assuming screen aligned

712
00:28:40,190 --> 00:28:45,380
stuff which there's actually going to

713
00:28:43,700 --> 00:28:46,910
probably be a problem with and so we'll

714
00:28:45,380 --> 00:28:48,230
have to introduce some things to deal

715
00:28:46,910 --> 00:28:51,500
with it but assuming screen analyze

716
00:28:48,230 --> 00:28:52,640
stuff for now the reason I say ice cream

717
00:28:51,500 --> 00:28:54,769
assuming screen

718
00:28:52,640 --> 00:28:57,500
stuff is just like I said we may want

719
00:28:54,769 --> 00:28:59,029
this to be larger and so then the

720
00:28:57,500 --> 00:29:00,769
coordinates we're looking up into this

721
00:28:59,029 --> 00:29:02,149
will not be coincident with the

722
00:29:00,769 --> 00:29:04,700
coordinates for looking up with this

723
00:29:02,150 --> 00:29:07,730
there'll be a subset so there'd really

724
00:29:04,700 --> 00:29:10,220
be another fudge factor right there's

725
00:29:07,730 --> 00:29:13,670
this fudge factor and then there's like

726
00:29:10,220 --> 00:29:15,650
there's a fudge Z and a fudge X or

727
00:29:13,670 --> 00:29:17,269
something like that right which says how

728
00:29:15,650 --> 00:29:20,360
big this thing is and you really only

729
00:29:17,269 --> 00:29:21,829
need to store one of them you like to

730
00:29:20,359 --> 00:29:23,389
store there they're multiple they're

731
00:29:21,829 --> 00:29:26,299
then multiplied together or whatever

732
00:29:23,390 --> 00:29:28,940
right so it doesn't come it doesn't

733
00:29:26,299 --> 00:29:30,889
affect our performance at all that that

734
00:29:28,940 --> 00:29:33,490
would happen but it does add yet more of

735
00:29:30,890 --> 00:29:35,810
that sort of fuzziness that we have to

736
00:29:33,490 --> 00:29:37,579
be wary of so that's why I say this

737
00:29:35,809 --> 00:29:40,639
part's not going to be so clean and easy

738
00:29:37,579 --> 00:29:43,399
it's a little bit nastier but we'll do

739
00:29:40,640 --> 00:29:45,800
the best that we can given the

740
00:29:43,400 --> 00:29:48,170
circumstances so we passed that vouch

741
00:29:45,799 --> 00:29:49,549
direction in here and when we passed

742
00:29:48,170 --> 00:29:51,769
that bounce direction what I'd like to

743
00:29:49,549 --> 00:29:54,319
do is I'd like to set us up for success

744
00:29:51,769 --> 00:29:56,329
by assuming that the bounce direction

745
00:29:54,319 --> 00:29:57,740
always is going in the direction of the

746
00:29:56,329 --> 00:29:58,970
map that it's trying to sample from

747
00:29:57,740 --> 00:30:02,930
right and we know that all of our

748
00:29:58,970 --> 00:30:05,210
normals are pointing up at us and so

749
00:30:02,930 --> 00:30:07,250
what I'd like to do is say all right

750
00:30:05,210 --> 00:30:08,329
we've got this bounce direction and so

751
00:30:07,250 --> 00:30:10,490
now what we're going to do is since

752
00:30:08,329 --> 00:30:12,859
we're not using the normal anymore right

753
00:30:10,490 --> 00:30:16,370
it's our bounce direction that's going

754
00:30:12,859 --> 00:30:20,149
to take into account whatever it is that

755
00:30:16,369 --> 00:30:22,579
we're actually looking at here and I am

756
00:30:20,150 --> 00:30:25,340
trying to remember so oh right it's the

757
00:30:22,579 --> 00:30:26,179
Y it's the Y that tells us whether we're

758
00:30:25,339 --> 00:30:27,919
going down

759
00:30:26,180 --> 00:30:29,870
or whether we're going up which which

760
00:30:27,920 --> 00:30:33,350
one of those two that were we're

761
00:30:29,869 --> 00:30:36,709
sampling towards right and it's going to

762
00:30:33,349 --> 00:30:40,459
be our our z axis that ends up being the

763
00:30:36,710 --> 00:30:42,559
Y it seems like so I wonder if we should

764
00:30:40,460 --> 00:30:46,039
just pre store our normals a little more

765
00:30:42,559 --> 00:30:48,079
sensibly here that's that's kind of well

766
00:30:46,039 --> 00:30:51,609
I don't know we can't really because at

767
00:30:48,079 --> 00:30:51,609
some level we sort of have to

768
00:30:51,650 --> 00:30:55,640
yeah yeah all right let's think this

769
00:30:54,200 --> 00:30:57,230
through a little bit because we have

770
00:30:55,640 --> 00:30:58,970
another problem here which is that

771
00:30:57,230 --> 00:31:00,710
assuming that the normals are actually

772
00:30:58,970 --> 00:31:03,170
all in this space or they correctly in

773
00:31:00,710 --> 00:31:04,220
the space then this all works too as

774
00:31:03,170 --> 00:31:05,660
well I just want to make sure this is

775
00:31:04,220 --> 00:31:09,380
working correctly so if this is pointing

776
00:31:05,660 --> 00:31:11,600
out at me we did treat that as our Z Z 0

777
00:31:09,380 --> 00:31:13,940
0 1 in normal space is pointing back at

778
00:31:11,599 --> 00:31:15,049
us so I guess it should be fine all

779
00:31:13,940 --> 00:31:17,269
right I guess it should be fine

780
00:31:15,049 --> 00:31:19,069
so our TN map is actually going to be

781
00:31:17,269 --> 00:31:21,019
based on that bounce direction right not

782
00:31:19,069 --> 00:31:22,609
the normal because we're trying to use

783
00:31:21,019 --> 00:31:23,929
whatever direction we're sampling in now

784
00:31:22,609 --> 00:31:25,459
we're getting rid of that normal

785
00:31:23,929 --> 00:31:27,259
I suppose that's something we should

786
00:31:25,460 --> 00:31:29,058
have tried here as well you can see

787
00:31:27,259 --> 00:31:32,839
that's still you know it's it's getting

788
00:31:29,058 --> 00:31:35,509
closer but still not quite there yet so

789
00:31:32,839 --> 00:31:37,099
when we do that sampling we're gonna use

790
00:31:35,509 --> 00:31:38,690
that Y and then what we need to do is

791
00:31:37,099 --> 00:31:42,439
say all right if we're sampling from the

792
00:31:38,690 --> 00:31:45,289
bottom map right then our normal is

793
00:31:42,440 --> 00:31:49,370
pointing down in other words it's it's

794
00:31:45,289 --> 00:31:52,069
it's got a why that is is negative right

795
00:31:49,369 --> 00:31:57,279
whereas here it's got a Y that is

796
00:31:52,069 --> 00:32:01,490
positive okay and given those two things

797
00:31:57,279 --> 00:32:03,829
we don't want to have to deal with we

798
00:32:01,490 --> 00:32:06,829
don't want our bounce Direction to have

799
00:32:03,829 --> 00:32:08,480
to account for that I'm trying to think

800
00:32:06,829 --> 00:32:10,159
of how to explain this we want the

801
00:32:08,480 --> 00:32:12,860
sample environment map function to not

802
00:32:10,160 --> 00:32:15,110
have to care whether the normal was

803
00:32:12,859 --> 00:32:16,609
pointing negative Y or positive Y we

804
00:32:15,109 --> 00:32:18,709
want to assume that Y was always

805
00:32:16,609 --> 00:32:21,649
positive because this code right here

806
00:32:18,710 --> 00:32:23,690
has already handled whatever needed to

807
00:32:21,650 --> 00:32:26,150
happen in terms of picking a different

808
00:32:23,690 --> 00:32:28,130
map for which one it is so we want them

809
00:32:26,150 --> 00:32:29,750
all to look the same as if you're just

810
00:32:28,130 --> 00:32:30,770
looking up at the sky even though

811
00:32:29,750 --> 00:32:33,380
sometimes you're looking down at the

812
00:32:30,769 --> 00:32:35,869
ground so all we want to do is say oh ok

813
00:32:33,380 --> 00:32:38,179
if you were looking at that map let's go

814
00:32:35,869 --> 00:32:40,308
ahead and make the bounce direction Y

815
00:32:38,179 --> 00:32:41,900
let's make that equal to the negative so

816
00:32:40,308 --> 00:32:44,359
that we're always talking about an

817
00:32:41,900 --> 00:32:46,970
upwards pointing sample does that make

818
00:32:44,359 --> 00:32:49,359
sense and so here we go with that again

819
00:32:46,970 --> 00:32:52,640
nothing particularly odd there although

820
00:32:49,359 --> 00:32:53,869
again we've got plenty of issues to deal

821
00:32:52,640 --> 00:32:55,880
with but so we've got our bounce

822
00:32:53,869 --> 00:32:57,109
Direction Y and now that's negative that

823
00:32:55,880 --> 00:32:58,220
doesn't affect the magnitude of the

824
00:32:57,109 --> 00:33:00,859
bounce direction at all right it just

825
00:32:58,220 --> 00:33:01,880
changes which way it's pointing and so

826
00:33:00,859 --> 00:33:03,678
then we can go over to sample

827
00:33:01,880 --> 00:33:04,940
environment map and start to actually

828
00:33:03,679 --> 00:33:07,400
figure out what we want to do

829
00:33:04,940 --> 00:33:08,870
so again we've got that sample direction

830
00:33:07,400 --> 00:33:10,640
we're seeing is that our why is the

831
00:33:08,869 --> 00:33:12,559
thing that determines how far along we

832
00:33:10,640 --> 00:33:15,920
go that's just because of the way we've

833
00:33:12,559 --> 00:33:19,210
encoded these maps so we want to take

834
00:33:15,920 --> 00:33:23,000
that why that sample direction why and

835
00:33:19,210 --> 00:33:25,220
we want to assume that why can't be 0

836
00:33:23,000 --> 00:33:27,109
and the reason that we know why can't be

837
00:33:25,220 --> 00:33:29,900
0 is because we've already sort of

838
00:33:27,109 --> 00:33:32,269
nullified that out in here right we've

839
00:33:29,900 --> 00:33:33,950
said already that why can't point to the

840
00:33:32,269 --> 00:33:36,049
side because if it points to the side

841
00:33:33,950 --> 00:33:37,519
it's gonna have to go which only only

842
00:33:36,049 --> 00:33:40,250
this guy goes to the side and we're

843
00:33:37,519 --> 00:33:42,440
gonna have to do some some things with

844
00:33:40,250 --> 00:33:44,180
this to be sure this is in fact I can

845
00:33:42,440 --> 00:33:47,750
delete this because this is more of it

846
00:33:44,180 --> 00:33:52,580
to do how do we sample from the middle

847
00:33:47,750 --> 00:33:55,130
map and I don't know so anyway we've

848
00:33:52,579 --> 00:33:56,869
we've got that that why we can assert

849
00:33:55,130 --> 00:33:59,030
essentially that it's not know that it's

850
00:33:56,869 --> 00:34:01,609
not 0 we could we can assert that Y is

851
00:33:59,029 --> 00:34:04,430
greater than 0 right and we should never

852
00:34:01,609 --> 00:34:06,349
get that case and we don't right so

853
00:34:04,430 --> 00:34:08,960
that's good and then what we need to do

854
00:34:06,349 --> 00:34:11,900
is we need to compute that quotient that

855
00:34:08,960 --> 00:34:14,150
sort of coefficient so our coefficient

856
00:34:11,900 --> 00:34:17,090
is first we have our fudge factor here

857
00:34:14,150 --> 00:34:19,130
is our fudge factor f like we said I

858
00:34:17,090 --> 00:34:21,680
don't know how far away that should

859
00:34:19,130 --> 00:34:24,740
actually be you know let's say that it's

860
00:34:21,679 --> 00:34:26,509
that it's I don't know a meter away for

861
00:34:24,739 --> 00:34:28,759
now not probably a particularly good

862
00:34:26,510 --> 00:34:31,070
value but let's say it's a meter away we

863
00:34:28,760 --> 00:34:32,990
have our coefficient that we need to

864
00:34:31,070 --> 00:34:34,610
compute which is that sample direction

865
00:34:32,989 --> 00:34:37,549
why we're going to take the fudge factor

866
00:34:34,610 --> 00:34:40,340
and divide it by the sample Y and that

867
00:34:37,550 --> 00:34:45,530
will produce our offset for us right and

868
00:34:40,340 --> 00:34:48,620
our offset is going to be that

869
00:34:45,530 --> 00:34:50,510
coefficient times the vector that is the

870
00:34:48,619 --> 00:34:52,730
other components of this now again the X

871
00:34:50,510 --> 00:34:54,800
for our normal goes in the X direction

872
00:34:52,730 --> 00:34:57,710
and we were saying that the sort of the

873
00:34:54,800 --> 00:34:59,900
Z for our normals goes in the z

874
00:34:57,710 --> 00:35:01,630
direction if you will right that goes in

875
00:34:59,900 --> 00:35:04,430
the in the y direction if you will right

876
00:35:01,630 --> 00:35:06,230
again total hackage but that's just how

877
00:35:04,429 --> 00:35:08,719
we encoded them so that as things kind

878
00:35:06,230 --> 00:35:11,449
of twist properly we will you know we'll

879
00:35:08,719 --> 00:35:15,500
sort of pick up short of circular region

880
00:35:11,449 --> 00:35:17,460
around the ground and I guess the sample

881
00:35:15,500 --> 00:35:18,989
direction z

882
00:35:17,460 --> 00:35:21,929
when we go through our coordinate stuff

883
00:35:18,989 --> 00:35:25,469
I'm gonna put to do in here make sure we

884
00:35:21,929 --> 00:35:27,509
know what direction Z should go in why

885
00:35:25,469 --> 00:35:29,129
cuz we may want we've made that may need

886
00:35:27,510 --> 00:35:31,050
to be inverted as well depending on how

887
00:35:29,130 --> 00:35:32,610
we choose to encode these maps but since

888
00:35:31,050 --> 00:35:34,560
we haven't gone through and do it on our

889
00:35:32,610 --> 00:35:37,050
coordinate system past that's going to

890
00:35:34,559 --> 00:35:39,659
be a bit of an issue so once we have

891
00:35:37,050 --> 00:35:44,250
that offset that's going to give us the

892
00:35:39,659 --> 00:35:47,219
offset in meters right from whatever

893
00:35:44,250 --> 00:35:50,579
that point is that we that we're at and

894
00:35:47,219 --> 00:35:54,079
so that's when we then say okay from the

895
00:35:50,579 --> 00:35:57,179
location from our screen space UV right

896
00:35:54,079 --> 00:36:01,409
our screen space you via these T X's do

897
00:35:57,179 --> 00:36:07,710
we actually do bilinear sample LOD X Y

898
00:36:01,409 --> 00:36:09,839
are these t XC y these are in pixels so

899
00:36:07,710 --> 00:36:12,240
we actually have to do a little more

900
00:36:09,840 --> 00:36:15,300
work here right we need to first compute

901
00:36:12,239 --> 00:36:18,119
RP and then multiply out to the size of

902
00:36:15,300 --> 00:36:20,160
the map that we're actually sampling so

903
00:36:18,119 --> 00:36:24,089
it's going to be something you know

904
00:36:20,159 --> 00:36:26,039
along the lines of where is that code

905
00:36:24,090 --> 00:36:27,930
it's gonna be something along the lines

906
00:36:26,039 --> 00:36:30,599
of this code right here right where

907
00:36:27,929 --> 00:36:32,219
we're actually computing the you I'm

908
00:36:30,599 --> 00:36:35,279
sorry not that code this this code right

909
00:36:32,219 --> 00:36:39,449
here where we're computing out how far

910
00:36:35,280 --> 00:36:42,800
we go in U and V right in fact this is I

911
00:36:39,449 --> 00:36:45,000
guess exactly what we would want to do

912
00:36:42,800 --> 00:36:47,130
this is the code that we actually need

913
00:36:45,000 --> 00:36:51,119
here so what we need to do is we need to

914
00:36:47,130 --> 00:36:56,579
take our LOD we need to map that out

915
00:36:51,119 --> 00:36:58,139
like so and then we'll talk about how we

916
00:36:56,579 --> 00:36:59,369
compute this U and V in a second from

917
00:36:58,139 --> 00:37:03,659
the offset I just want to get this in

918
00:36:59,369 --> 00:37:05,670
here so we take that T X and T Y we want

919
00:37:03,659 --> 00:37:08,279
to blow that out to the size of the

920
00:37:05,670 --> 00:37:10,470
texture and we want to clamp it because

921
00:37:08,280 --> 00:37:13,080
again we could be sampling outside so T

922
00:37:10,469 --> 00:37:16,949
X is going to be equal to clamp 0 1 TX

923
00:37:13,079 --> 00:37:18,929
and so is so it's T Y right and now I'll

924
00:37:16,949 --> 00:37:20,939
just prevent us from sampling outside

925
00:37:18,929 --> 00:37:24,149
the texture map so really all we need to

926
00:37:20,940 --> 00:37:26,550
do now is figure out what that UV is so

927
00:37:24,150 --> 00:37:28,980
this will actually be our UV coordinate

928
00:37:26,550 --> 00:37:35,119
so if you'll just do it this way you be

929
00:37:28,980 --> 00:37:37,920
x ug y and that's gonna be our offset

930
00:37:35,119 --> 00:37:40,108
excuse me that's going to be our offset

931
00:37:37,920 --> 00:37:42,599
plus wherever we were in screen space

932
00:37:40,108 --> 00:37:46,289
within the screen space you'd be right

933
00:37:42,599 --> 00:37:47,608
but the offset again this in fact we can

934
00:37:46,289 --> 00:37:50,130
just do it exactly where we did it here

935
00:37:47,608 --> 00:37:51,389
but our C essentially has to have some

936
00:37:50,130 --> 00:37:54,000
scaling value because remember this is

937
00:37:51,389 --> 00:37:57,839
in meters and so we need to convert our

938
00:37:54,000 --> 00:38:00,329
meters to UVs and so there's something

939
00:37:57,840 --> 00:38:05,369
here that's like you know meters to UV

940
00:38:00,329 --> 00:38:08,369
right or you v's per meter kind of a

941
00:38:05,369 --> 00:38:10,079
thing right and UVs per meter whatever

942
00:38:08,369 --> 00:38:14,100
that is that actually needs to get

943
00:38:10,079 --> 00:38:16,519
multiplied in here as well right so that

944
00:38:14,099 --> 00:38:21,029
you can convert between those two spaces

945
00:38:16,519 --> 00:38:23,820
so if we do that whoa that's not good if

946
00:38:21,030 --> 00:38:26,310
we do that we're not quite we're not

947
00:38:23,820 --> 00:38:28,530
getting anything hold on a second

948
00:38:26,309 --> 00:38:31,019
I think our UV stir meter is probably

949
00:38:28,530 --> 00:38:33,720
much too high there right that it should

950
00:38:31,019 --> 00:38:35,789
probably be something more like like

951
00:38:33,719 --> 00:38:37,409
that but we'll have a step do this to

952
00:38:35,789 --> 00:38:39,029
figure out what we're doing wrong here

953
00:38:37,409 --> 00:38:43,769
because I suspect we're doing other

954
00:38:39,030 --> 00:38:45,119
things wrong than just that um I have to

955
00:38:43,769 --> 00:38:47,570
think about how many you v's per meter

956
00:38:45,119 --> 00:38:50,160
are there I guess it's something like

957
00:38:47,570 --> 00:38:52,500
because if that map was the whole screen

958
00:38:50,159 --> 00:38:56,190
yeah I don't know I love to think about

959
00:38:52,500 --> 00:38:57,420
that but anyway so this is actually a

960
00:38:56,190 --> 00:38:58,619
set of our fudge factor I should

961
00:38:57,420 --> 00:39:01,680
probably call this what actually is

962
00:38:58,619 --> 00:39:05,820
which is distance to map or like height

963
00:39:01,679 --> 00:39:09,079
of map off screen or whatever something

964
00:39:05,820 --> 00:39:09,080
like that height of map

965
00:39:10,829 --> 00:39:18,849
distance from map and Z let's just call

966
00:39:14,289 --> 00:39:20,409
it that this is from napkin Z all right

967
00:39:18,849 --> 00:39:22,960
and so I think we've got everything in

968
00:39:20,409 --> 00:39:28,299
here we just have to debug it we are

969
00:39:22,960 --> 00:39:30,730
producing oh that's that's probably most

970
00:39:28,300 --> 00:39:34,150
of the problem there as well we need to

971
00:39:30,730 --> 00:39:37,990
actually clamp these guys because I

972
00:39:34,150 --> 00:39:40,450
actually wanted to clamp the UVs not the

973
00:39:37,989 --> 00:39:44,709
results that would explain why that was

974
00:39:40,449 --> 00:39:46,599
happening all right and that's getting

975
00:39:44,710 --> 00:39:49,090
pretty close right you can see that

976
00:39:46,599 --> 00:39:51,639
we're now sort of getting roughly some

977
00:39:49,090 --> 00:39:54,400
reflection stuff in there I think it's a

978
00:39:51,639 --> 00:39:56,230
little premature to declare victory but

979
00:39:54,400 --> 00:39:58,630
you can sort of see where we're going

980
00:39:56,230 --> 00:40:00,670
with this right we're starting to get to

981
00:39:58,630 --> 00:40:03,130
the point where you can see an actual

982
00:40:00,670 --> 00:40:04,480
reflection in there I also I'm going to

983
00:40:03,130 --> 00:40:06,070
go ahead and introduce a little bit of

984
00:40:04,480 --> 00:40:08,500
motion in there too so we can kind of

985
00:40:06,070 --> 00:40:13,120
just see where we're at at the moment

986
00:40:08,500 --> 00:40:19,719
let's go ahead and and come in here to

987
00:40:13,119 --> 00:40:22,089
our to our call that actually calls

988
00:40:19,719 --> 00:40:25,689
coordinate system so we've got our disk

989
00:40:22,090 --> 00:40:28,329
in here I'm gonna add disk back in and

990
00:40:25,690 --> 00:40:29,769
we were computing disk somewhere and

991
00:40:28,329 --> 00:40:31,750
then aware of disk was actually getting

992
00:40:29,769 --> 00:40:34,659
completed I guess we actually aren't oh

993
00:40:31,750 --> 00:40:37,539
no we are there we go

994
00:40:34,659 --> 00:40:40,029
so you can kind of see we're starting to

995
00:40:37,539 --> 00:40:43,539
get where we want to be but we're not

996
00:40:40,030 --> 00:40:44,800
quite there yet right you know you can

997
00:40:43,539 --> 00:40:46,239
you can see that you're kind of getting

998
00:40:44,800 --> 00:40:48,940
a little bit of a rolling reflection

999
00:40:46,239 --> 00:40:50,589
here this guy looks like he's reflecting

1000
00:40:48,940 --> 00:40:54,700
kind of backwards so I think we've got

1001
00:40:50,590 --> 00:40:56,980
some bugs on on the sort of downside on

1002
00:40:54,699 --> 00:41:00,189
the on the underneath side maybe the way

1003
00:40:56,980 --> 00:41:01,420
I negated that Y was not actually legal

1004
00:41:00,190 --> 00:41:04,539
I'll have to think about whether that's

1005
00:41:01,420 --> 00:41:07,000
correct or not but we're getting you

1006
00:41:04,539 --> 00:41:08,619
know a little bit closer here right and

1007
00:41:07,000 --> 00:41:11,260
again this is very expensive I can also

1008
00:41:08,619 --> 00:41:12,940
for now turn off our maps we we are

1009
00:41:11,260 --> 00:41:14,230
completely unoptimized at the moment

1010
00:41:12,940 --> 00:41:16,900
which is a problem I guess I could also

1011
00:41:14,230 --> 00:41:20,199
do for purposes of this I could also

1012
00:41:16,900 --> 00:41:21,820
give us that nice compiler boost here

1013
00:41:20,199 --> 00:41:22,439
let's see

1014
00:41:21,820 --> 00:41:28,970
-

1015
00:41:22,440 --> 00:41:31,800
Oh Oh - mmm God you gotta love

1016
00:41:28,969 --> 00:41:34,289
optimizing the optimizing compiler huh

1017
00:41:31,800 --> 00:41:36,510
or maybe we should just say man it's

1018
00:41:34,289 --> 00:41:39,989
it's kind of crazy how bad the debug

1019
00:41:36,510 --> 00:41:42,329
build is but yeah um so you can kind of

1020
00:41:39,989 --> 00:41:43,919
see that light now that it's it's

1021
00:41:42,329 --> 00:41:45,329
animating a little more quickly you can

1022
00:41:43,920 --> 00:41:47,789
kind of see how that light is playing

1023
00:41:45,329 --> 00:41:49,650
off there but again I think that that

1024
00:41:47,789 --> 00:41:51,750
bottom reflection should be curving this

1025
00:41:49,650 --> 00:41:54,329
way and it's not so we've got definitely

1026
00:41:51,750 --> 00:41:58,079
a bug in how we were treating that that

1027
00:41:54,329 --> 00:42:00,710
flip so let's take a look at that we

1028
00:41:58,079 --> 00:42:03,480
also have you can see we're sampling

1029
00:42:00,710 --> 00:42:04,829
sort of right at that edge where the

1030
00:42:03,480 --> 00:42:08,010
normals

1031
00:42:04,829 --> 00:42:10,769
I think that's prompt that to be honest

1032
00:42:08,010 --> 00:42:12,599
that might just be because we made the

1033
00:42:10,769 --> 00:42:14,940
normals at the edge point straight back

1034
00:42:12,599 --> 00:42:16,650
I don't know if you remember that so

1035
00:42:14,940 --> 00:42:18,329
that may actually have more to do with

1036
00:42:16,650 --> 00:42:19,800
it that may not actually be a bug of

1037
00:42:18,329 --> 00:42:21,810
ours that may be just because we don't

1038
00:42:19,800 --> 00:42:22,619
we need to fix the normals so that we

1039
00:42:21,809 --> 00:42:24,588
don't have

1040
00:42:22,619 --> 00:42:27,720
when this where the sphere is not

1041
00:42:24,588 --> 00:42:33,088
actually there we're not we're not doing

1042
00:42:27,719 --> 00:42:35,068
the wrong thing so yeah I feel like that

1043
00:42:33,088 --> 00:42:39,719
that seems reasonable now I'm wondering

1044
00:42:35,068 --> 00:42:41,338
- I feel like one question I have is is

1045
00:42:39,719 --> 00:42:44,149
aren't these supposed to be pointing

1046
00:42:41,338 --> 00:42:47,099
directly back shouldn't we see some

1047
00:42:44,150 --> 00:42:50,970
checkerboard though in the area here I

1048
00:42:47,099 --> 00:42:56,430
wonder I wonder why we're not because

1049
00:42:50,969 --> 00:42:59,549
we're not that seems that seems a little

1050
00:42:56,429 --> 00:43:01,769
broken I feel like we've got I feel like

1051
00:42:59,550 --> 00:43:03,150
we've got a bug there potentially I'm a

1052
00:43:01,769 --> 00:43:07,818
little nervous about that and I'm not

1053
00:43:03,150 --> 00:43:12,619
sure not sure what to say about that I

1054
00:43:07,818 --> 00:43:12,619
think I think something's a little wonky

1055
00:43:12,710 --> 00:43:18,019
because if it just was all zero zero one

1056
00:43:16,050 --> 00:43:25,230
who is all pointing directly back

1057
00:43:18,019 --> 00:43:27,829
towards us Oh No right because directly

1058
00:43:25,230 --> 00:43:31,829
towards us is not up towards the sky

1059
00:43:27,829 --> 00:43:35,039
right right right right so if you think

1060
00:43:31,829 --> 00:43:36,120
about it I'm this is my first time ever

1061
00:43:35,039 --> 00:43:38,309
doing lighting

1062
00:43:36,119 --> 00:43:39,889
that's by the way so it's all stuff that

1063
00:43:38,309 --> 00:43:42,269
I have to think about for the first time

1064
00:43:39,889 --> 00:43:44,789
right so the way that we're encoding

1065
00:43:42,269 --> 00:43:48,269
things right pointing up and pointing

1066
00:43:44,789 --> 00:43:50,820
down actually Z straight back at you is

1067
00:43:48,269 --> 00:43:53,280
in that special sampling plane because

1068
00:43:50,820 --> 00:43:55,500
it's not pointing towards the sky right

1069
00:43:53,280 --> 00:43:57,540
it's pointing in that in that other

1070
00:43:55,500 --> 00:43:59,159
plane so really what we should have done

1071
00:43:57,539 --> 00:44:01,469
if we wanted straight up pointing

1072
00:43:59,159 --> 00:44:03,649
vectors is we should have made those

1073
00:44:01,469 --> 00:44:07,829
point those straight up pointing vectors

1074
00:44:03,650 --> 00:44:14,610
instead of being 0 0 1 they actually

1075
00:44:07,829 --> 00:44:18,809
should have been 0 1 0 right so so back

1076
00:44:14,610 --> 00:44:21,809
here if we were to go into the thing

1077
00:44:18,809 --> 00:44:23,130
that actually makes that normal map let

1078
00:44:21,809 --> 00:44:25,139
me down can't actually see my mini

1079
00:44:23,130 --> 00:44:27,780
buffer if we were to go into thing that

1080
00:44:25,139 --> 00:44:30,420
that makes the sphere what was that

1081
00:44:27,780 --> 00:44:33,930
normal Maps fear makes fear normal map

1082
00:44:30,420 --> 00:44:36,389
makes there we go so it makes for a

1083
00:44:33,929 --> 00:44:37,889
normal map what we had is we were sort

1084
00:44:36,389 --> 00:44:39,420
of doing something I believe where we

1085
00:44:37,889 --> 00:44:42,719
would just yeah this would be our

1086
00:44:39,420 --> 00:44:44,430
default normal I think that is actually

1087
00:44:42,719 --> 00:44:46,319
probably what we want as our default

1088
00:44:44,429 --> 00:44:48,809
normal which would point straight up at

1089
00:44:46,320 --> 00:44:51,390
the sky that would make a little bit

1090
00:44:48,809 --> 00:44:53,190
more sense in terms of being able to

1091
00:44:51,389 --> 00:44:55,319
look at what's going on so I'm gonna go

1092
00:44:53,190 --> 00:44:57,900
ahead and and and try that and then

1093
00:44:55,320 --> 00:45:01,140
restart so it'll regenerate our texture

1094
00:44:57,900 --> 00:45:04,170
maps and see if that does anything

1095
00:45:01,139 --> 00:45:05,849
well I still it's not so it's still not

1096
00:45:04,170 --> 00:45:10,680
showing me what I think it should show

1097
00:45:05,849 --> 00:45:12,210
me I feel like it should show me a it

1098
00:45:10,679 --> 00:45:13,949
should show me the checkerboard here

1099
00:45:12,210 --> 00:45:16,349
still getting reflected a little bit

1100
00:45:13,949 --> 00:45:19,230
right because this is basically like a

1101
00:45:16,349 --> 00:45:22,019
mirror right with a bump in it and so I

1102
00:45:19,230 --> 00:45:27,389
kind of want to go see why we are having

1103
00:45:22,019 --> 00:45:32,519
that that that problem are we actually

1104
00:45:27,389 --> 00:45:35,940
using alpha from a sphere some like what

1105
00:45:32,519 --> 00:45:40,219
is actually how are we and and for that

1106
00:45:35,940 --> 00:45:45,250
matter why are we getting sort of

1107
00:45:40,219 --> 00:45:47,739
spherical shading on well I guess

1108
00:45:45,250 --> 00:45:49,389
yeah all right I'm a little confused

1109
00:45:47,739 --> 00:45:50,949
I'll be honest with you I don't really

1110
00:45:49,389 --> 00:45:53,469
know why so I'm gonna go ahead and

1111
00:45:50,949 --> 00:45:55,059
usually if you don't know why that's

1112
00:45:53,469 --> 00:45:56,429
probably a good indication that you

1113
00:45:55,059 --> 00:45:59,049
should be stepping into the bugger

1114
00:45:56,429 --> 00:46:01,089
because well you've got something to

1115
00:45:59,050 --> 00:46:01,599
learn and so let's go ahead and learn

1116
00:46:01,090 --> 00:46:05,710
something

1117
00:46:01,599 --> 00:46:07,180
we hope let's go into that that render

1118
00:46:05,710 --> 00:46:10,690
call it looks like we don't have it up

1119
00:46:07,179 --> 00:46:13,358
here draw a rectangle slowly let's go

1120
00:46:10,690 --> 00:46:16,300
ahead and run there and I just want to

1121
00:46:13,358 --> 00:46:18,009
see I want to understand a little bit

1122
00:46:16,300 --> 00:46:19,630
about what's going on here so when we

1123
00:46:18,010 --> 00:46:22,510
come in here and we sample this normal

1124
00:46:19,630 --> 00:46:25,450
map what I just want to see what's going

1125
00:46:22,510 --> 00:46:31,780
on so so let's see what our first normal

1126
00:46:25,449 --> 00:46:35,230
is and so that normal is basically

1127
00:46:31,780 --> 00:46:37,240
pointing right up at at the sky like we

1128
00:46:35,230 --> 00:46:38,650
thought so I feel like this should be

1129
00:46:37,239 --> 00:46:40,479
the first pixel to right like that

1130
00:46:38,650 --> 00:46:41,980
should be what it is so let's take a

1131
00:46:40,480 --> 00:46:45,039
look at what we compute for our bounce

1132
00:46:41,980 --> 00:46:47,769
direction all right let's see what our

1133
00:46:45,039 --> 00:47:01,769
bounce Direction is and so our bounce

1134
00:46:47,769 --> 00:47:01,769
Direction here is going to be okay

1135
00:47:07,699 --> 00:47:15,798
okay I this is very fascinating so it's

1136
00:47:12,889 --> 00:47:19,730
actually that's actually understandable

1137
00:47:15,798 --> 00:47:22,099
- so if it was pointing perfectly up we

1138
00:47:19,730 --> 00:47:24,980
would be looking exactly oblique to it

1139
00:47:22,099 --> 00:47:26,390
which means that our reflection to it we

1140
00:47:24,980 --> 00:47:27,798
would not it would really not reflect at

1141
00:47:26,389 --> 00:47:30,259
all be like holding a mirror sideways

1142
00:47:27,798 --> 00:47:33,380
and looking at it right so if we want to

1143
00:47:30,260 --> 00:47:38,450
reflect upwards we still need some

1144
00:47:33,380 --> 00:47:41,420
degree of tilt to the mirror right and

1145
00:47:38,449 --> 00:47:43,460
so yeah I guess I guess now that I think

1146
00:47:41,420 --> 00:47:45,260
about it that actually makes some sense

1147
00:47:43,460 --> 00:47:46,250
we should still step through some of

1148
00:47:45,260 --> 00:47:47,650
this because I have other stuff that I

1149
00:47:46,250 --> 00:47:49,730
want to look at but that actually makes

1150
00:47:47,650 --> 00:47:51,588
perfect sense and I think about it

1151
00:47:49,730 --> 00:47:55,068
there's really just me being kind of

1152
00:47:51,588 --> 00:47:58,130
blunt so what we actually want to do

1153
00:47:55,068 --> 00:48:02,298
yeah is we'd actually want to say okay

1154
00:47:58,130 --> 00:48:05,088
you know let that normal term be

1155
00:48:02,298 --> 00:48:07,099
something that's that's maybe half y

1156
00:48:05,088 --> 00:48:08,900
half Z or something like that right

1157
00:48:07,099 --> 00:48:10,730
that's sort of angled upwards so

1158
00:48:08,900 --> 00:48:14,660
something like this but it needs to be

1159
00:48:10,730 --> 00:48:16,548
normalized obviously and so what I want

1160
00:48:14,659 --> 00:48:19,368
to do is say I don't know can I do

1161
00:48:16,548 --> 00:48:21,940
squirt and here can I do the square root

1162
00:48:19,369 --> 00:48:25,608
I wanted to square root of one plus one

1163
00:48:21,940 --> 00:48:25,849
let me do that right okay and then can I

1164
00:48:25,608 --> 00:48:30,170
do

1165
00:48:25,849 --> 00:48:39,380
can I do one over square root of one

1166
00:48:30,170 --> 00:48:42,318
plus one over there it is so I just want

1167
00:48:39,380 --> 00:48:45,019
the normalized version of that I guess I

1168
00:48:42,318 --> 00:48:45,980
don't know what does that come out in

1169
00:48:45,019 --> 00:48:50,509
here yeah there it is

1170
00:48:45,980 --> 00:48:52,159
I just want that value right so there's

1171
00:48:50,510 --> 00:48:56,809
my normalized normal that's pointing

1172
00:48:52,159 --> 00:48:58,578
sort of half y half Z let me see if that

1173
00:48:56,809 --> 00:49:00,440
gives us more of what I was expecting

1174
00:48:58,579 --> 00:49:03,829
yeah that's that's more what I was

1175
00:49:00,440 --> 00:49:11,079
expecting right and so if I go ahead and

1176
00:49:03,829 --> 00:49:14,329
make make us go at o2 here that that is

1177
00:49:11,079 --> 00:49:19,240
the sphere right that is the reflective

1178
00:49:14,329 --> 00:49:21,890
sphere so yeah I'm

1179
00:49:19,239 --> 00:49:23,419
certain that our reflection code is

1180
00:49:21,889 --> 00:49:26,299
quite working correctly yet but we're

1181
00:49:23,420 --> 00:49:29,090
getting close right we're getting closer

1182
00:49:26,300 --> 00:49:29,660
to a working reflection and so that's a

1183
00:49:29,090 --> 00:49:31,910
good thing

1184
00:49:29,659 --> 00:49:33,619
but we have a ways to go before before

1185
00:49:31,909 --> 00:49:34,099
we're done we only have five minutes

1186
00:49:33,619 --> 00:49:37,069
left

1187
00:49:34,099 --> 00:49:41,329
I'm going to go ahead and inspect sort

1188
00:49:37,070 --> 00:49:43,550
of that blue code again we've got a you

1189
00:49:41,329 --> 00:49:45,289
know we we've got kind of a in fact I

1190
00:49:43,550 --> 00:49:47,360
can go ahead in there put this back down

1191
00:49:45,289 --> 00:49:49,130
here I just want to kind of take a look

1192
00:49:47,360 --> 00:49:51,130
at what's going on with those

1193
00:49:49,130 --> 00:49:54,170
reflections to see if I can't figure out

1194
00:49:51,130 --> 00:49:56,180
what we're doing wrong there otherwise

1195
00:49:54,170 --> 00:49:59,090
we'll make that the topic of tomorrow so

1196
00:49:56,179 --> 00:50:03,230
if we take a look here if we if we just

1197
00:49:59,090 --> 00:50:06,289
don't do the top map right the top maps

1198
00:50:03,230 --> 00:50:08,869
go on we just get the red so the top map

1199
00:50:06,289 --> 00:50:11,300
is the blue map the sky map is the one

1200
00:50:08,869 --> 00:50:14,449
that's wrong at the moment and the

1201
00:50:11,300 --> 00:50:20,360
question is why is it you know why is it

1202
00:50:14,449 --> 00:50:22,339
sampling oddly like that right and I

1203
00:50:20,360 --> 00:50:26,480
guess I don't know right I guess I'm not

1204
00:50:22,340 --> 00:50:29,390
sure why that actually is the case it's

1205
00:50:26,480 --> 00:50:32,389
almost like it wants you know us to do

1206
00:50:29,389 --> 00:50:35,150
that that bounce to it it wants us to do

1207
00:50:32,389 --> 00:50:37,429
some kind of negation and I'm not sure

1208
00:50:35,150 --> 00:50:39,019
why that would be so this is the one

1209
00:50:37,429 --> 00:50:41,899
we're passing through the bass direction

1210
00:50:39,019 --> 00:50:44,570
right and then we're going ahead and

1211
00:50:41,900 --> 00:50:50,210
computing where we're hitting on that

1212
00:50:44,570 --> 00:50:55,130
map yeah I don't know I'm probably gonna

1213
00:50:50,210 --> 00:50:56,329
have to step through this I think yeah I

1214
00:50:55,130 --> 00:50:57,710
think I'm gonna save that for tomorrow

1215
00:50:56,329 --> 00:51:00,079
because I'm gonna want to step to this

1216
00:50:57,710 --> 00:51:02,869
fairly meticulously because since we're

1217
00:51:00,079 --> 00:51:06,259
also doing that solve on the other side

1218
00:51:02,869 --> 00:51:09,679
I feel like it's probably one of those

1219
00:51:06,260 --> 00:51:13,520
things where yeah where it's gonna in

1220
00:51:09,679 --> 00:51:16,759
fact I wonder if in general the bounce

1221
00:51:13,519 --> 00:51:19,039
is wrong and really you know what you'd

1222
00:51:16,760 --> 00:51:21,820
want to do here is it's actually this

1223
00:51:19,039 --> 00:51:24,409
negation or something like that where

1224
00:51:21,820 --> 00:51:26,900
it's it's actually supposed to be

1225
00:51:24,409 --> 00:51:28,549
negated the whole way so I want to think

1226
00:51:26,900 --> 00:51:30,530
through this a little bit more I feel

1227
00:51:28,550 --> 00:51:32,239
like we got its feel like it's just not

1228
00:51:30,530 --> 00:51:34,309
rigged enough rigorous enough

1229
00:51:32,239 --> 00:51:36,858
the moment and so I'm gonna say tomorrow

1230
00:51:34,309 --> 00:51:39,919
is going to be stepping through this and

1231
00:51:36,858 --> 00:51:42,259
making sure we think about exactly how

1232
00:51:39,918 --> 00:51:43,998
everything goes before we call that

1233
00:51:42,259 --> 00:51:46,579
before we call that good but we're very

1234
00:51:43,998 --> 00:51:53,468
close so that's good so I'm gonna go

1235
00:51:46,579 --> 00:51:56,689
ahead and go to the Q&amp;A right like so

1236
00:51:53,469 --> 00:52:01,099
and yeah please try to keep your

1237
00:51:56,688 --> 00:52:03,498
questions to be ones that that are about

1238
00:52:01,099 --> 00:52:05,439
we did on today's stream so that we can

1239
00:52:03,498 --> 00:52:07,759
keep things on topic as much as possible

1240
00:52:05,438 --> 00:52:09,558
if you want to ask off-topic questions

1241
00:52:07,759 --> 00:52:11,628
please come during one of the pre

1242
00:52:09,559 --> 00:52:13,939
streams so show up maybe 15 minutes

1243
00:52:11,628 --> 00:52:14,778
early tomorrow show up at 4:45 tomorrow

1244
00:52:13,938 --> 00:52:19,458
and that's when I

1245
00:52:14,778 --> 00:52:21,639
I typically Ansel answer off-topic

1246
00:52:19,458 --> 00:52:21,638
questions

1247
00:52:32,460 --> 00:52:35,460
yeah

1248
00:52:50,289 --> 00:52:55,279
you could try creating a normal map with

1249
00:52:53,059 --> 00:52:59,059
a more predictable reflection other than

1250
00:52:55,280 --> 00:53:00,350
a sphere is what like what I'm trying to

1251
00:52:59,059 --> 00:53:03,940
think of what would have the most

1252
00:53:00,349 --> 00:53:06,889
predictable reflection I guess maybe a

1253
00:53:03,940 --> 00:53:08,269
waffling surface like a like something

1254
00:53:06,889 --> 00:53:09,980
that was like up and then down and then

1255
00:53:08,269 --> 00:53:12,500
up and then down or something like that

1256
00:53:09,980 --> 00:53:15,440
I don't know I'm not sure what is a very

1257
00:53:12,500 --> 00:53:18,800
um what is the more predictable

1258
00:53:15,440 --> 00:53:20,240
reflectable surface spheres are usually

1259
00:53:18,800 --> 00:53:22,940
pretty good for debugging lighting stuff

1260
00:53:20,239 --> 00:53:26,989
because they show you the full yeah the

1261
00:53:22,940 --> 00:53:28,700
full set of course I just realized why

1262
00:53:26,989 --> 00:53:31,879
we get the attenuation here that's

1263
00:53:28,699 --> 00:53:33,559
because of the end map probably the end

1264
00:53:31,880 --> 00:53:35,599
map blending coefficients probably

1265
00:53:33,559 --> 00:53:38,179
helping there maybe although that's

1266
00:53:35,599 --> 00:53:40,190
pointing up so now that shouldn't be

1267
00:53:38,179 --> 00:53:43,609
true I don't know I got to think about

1268
00:53:40,190 --> 00:53:45,710
it some more it's awfully confusing hmm

1269
00:53:43,610 --> 00:53:48,970
we got bugs let's put it that way

1270
00:53:45,710 --> 00:53:48,970
tomorrow we'll find them

1271
00:53:53,829 --> 00:53:58,809
is the y-axis correctly set in the

1272
00:53:56,708 --> 00:54:01,598
normal map well it depends what you mean

1273
00:53:58,809 --> 00:54:04,150
by correctly so right now we it's

1274
00:54:01,599 --> 00:54:05,859
actually going sort of flipped meaning

1275
00:54:04,150 --> 00:54:07,479
the top of the sphere is actually the

1276
00:54:05,858 --> 00:54:09,548
bottom and the bottom is the top and the

1277
00:54:07,478 --> 00:54:12,129
reason for that is because we decided we

1278
00:54:09,548 --> 00:54:13,989
probably were going to flip things in

1279
00:54:12,130 --> 00:54:16,180
the coordinate system soon so we didn't

1280
00:54:13,989 --> 00:54:19,778
want to change it but so technically

1281
00:54:16,179 --> 00:54:21,159
this is actually backwards from what you

1282
00:54:19,778 --> 00:54:24,548
would do if we were going to keep this

1283
00:54:21,159 --> 00:54:30,190
coordinate system but that shouldn't

1284
00:54:24,548 --> 00:54:32,528
really change how the sphere reflects

1285
00:54:30,190 --> 00:54:35,469
other than in flipping it right I mean

1286
00:54:32,528 --> 00:54:37,268
it shouldn't all it should do like all

1287
00:54:35,469 --> 00:54:38,708
that's doing is that's what that's why

1288
00:54:37,268 --> 00:54:40,298
the blue is on the bottom of the Reds on

1289
00:54:38,708 --> 00:54:45,179
the top is all I think that should be

1290
00:54:40,298 --> 00:54:45,179
doing unless I'm mistaken

1291
00:54:58,130 --> 00:55:01,849
a pyramid was suggested by a couple

1292
00:55:00,079 --> 00:55:05,450
people yeah we could build a pyramid a

1293
00:55:01,849 --> 00:55:07,039
pyramid wouldn't be too hard I could

1294
00:55:05,449 --> 00:55:19,538
make a thing that's like make pyramid

1295
00:55:07,039 --> 00:55:27,230
normal map right make pyramid pyramid

1296
00:55:19,539 --> 00:55:28,759
make is that right I don't know a spell

1297
00:55:27,230 --> 00:55:31,909
pyramid let's say that's right

1298
00:55:28,759 --> 00:55:34,039
so make pyramid normal map that comes in

1299
00:55:31,909 --> 00:55:35,750
and that'll just be that's pretty

1300
00:55:34,039 --> 00:55:38,778
straightforward I guess right that's

1301
00:55:35,750 --> 00:55:41,719
just gonna pick which of the the things

1302
00:55:38,778 --> 00:55:46,639
gets are zero point seven seven seven

1303
00:55:41,719 --> 00:55:48,949
right so a pyramid I guess we could do a

1304
00:55:46,639 --> 00:55:52,818
diamond shape as well but a pyramid

1305
00:55:48,949 --> 00:56:01,669
shape would basically be if if X is

1306
00:55:52,818 --> 00:56:03,739
greater than Y Jimmy so if I want to if

1307
00:56:01,670 --> 00:56:05,599
I want to figure out a pyramid shape

1308
00:56:03,739 --> 00:56:07,219
let's see here should be pretty

1309
00:56:05,599 --> 00:56:09,170
straightforward so if I want to figure

1310
00:56:07,219 --> 00:56:14,989
out a pyramid shape that looks like this

1311
00:56:09,170 --> 00:56:26,630
I guess right then this is this line is

1312
00:56:14,989 --> 00:56:28,969
x equals y right and this line here is

1313
00:56:26,630 --> 00:56:31,818
is like one I'm going to say that

1314
00:56:28,969 --> 00:56:37,848
they're between 0 &amp; 1 but this is like 1

1315
00:56:31,818 --> 00:56:39,288
minus x equals y right so I guess I

1316
00:56:37,849 --> 00:56:42,200
could just do this by classifying which

1317
00:56:39,289 --> 00:56:48,579
side of these you're on if you are like

1318
00:56:42,199 --> 00:56:53,899
if you're on right if X is less than Y

1319
00:56:48,579 --> 00:56:56,900
then you're either here or here right so

1320
00:56:53,900 --> 00:56:58,369
if X is less than Y then this you know

1321
00:56:56,900 --> 00:57:00,108
we just use this to determine which one

1322
00:56:58,369 --> 00:57:02,210
of these two you are yeah okay so that's

1323
00:57:00,108 --> 00:57:04,480
that's pretty straightforward I could

1324
00:57:02,210 --> 00:57:08,740
totally do that

1325
00:57:04,480 --> 00:57:08,740
so all we would do here is we'd say

1326
00:57:10,088 --> 00:57:17,139
if the X is less than the Y right then

1327
00:57:15,068 --> 00:57:19,449
we are in those two quadrants otherwise

1328
00:57:17,139 --> 00:57:23,288
we're not and then then we would say

1329
00:57:19,449 --> 00:57:25,838
over here we'd we do if the if the

1330
00:57:23,289 --> 00:57:28,089
inverse I think is there's a better way

1331
00:57:25,838 --> 00:57:33,518
to phrase that than the 1 minus X equals

1332
00:57:28,088 --> 00:57:41,679
y I don't think so I'm just going to do

1333
00:57:33,518 --> 00:57:47,288
it that way so we'll just say the call

1334
00:57:41,679 --> 00:57:55,858
this in X so we'll call this that I

1335
00:57:47,289 --> 00:57:55,859
guess 1 minus X so in X is less than Y

1336
00:57:56,338 --> 00:58:04,328
that seem right to everyone all right

1337
00:58:02,099 --> 00:58:05,670
and so at the moment like I said our

1338
00:58:04,329 --> 00:58:07,239
coordinate system is kind of backwards

1339
00:58:05,670 --> 00:58:12,730
but oh well

1340
00:58:07,239 --> 00:58:15,039
we'll still do it as if it wasn't so

1341
00:58:12,730 --> 00:58:17,559
really if we think about it it's

1342
00:58:15,039 --> 00:58:23,700
actually this way that's the x equals y

1343
00:58:17,559 --> 00:58:29,739
line and this is the index equals y line

1344
00:58:23,699 --> 00:58:32,169
right okay and so if we are if X is less

1345
00:58:29,739 --> 00:58:39,329
than Y then we're here or here depending

1346
00:58:32,170 --> 00:58:39,329
on whether in X is less than Y so hmm

1347
00:58:39,880 --> 00:58:48,009
so this guy would be pointing in I guess

1348
00:58:44,768 --> 00:58:51,338
the it would be all of these guys have Z

1349
00:58:48,009 --> 00:58:54,278
equals the point 7 whatever right but

1350
00:58:51,338 --> 00:58:57,369
this would be an X pointing in negative

1351
00:58:54,278 --> 00:58:58,989
x this would be pointing in why this

1352
00:58:57,369 --> 00:59:03,519
would be pointing in negative Y and this

1353
00:58:58,989 --> 00:59:06,730
would be pointing in X right seems

1354
00:59:03,518 --> 00:59:09,758
pretty straightforward so I'll go ahead

1355
00:59:06,730 --> 00:59:12,429
and set that so we don't actually need

1356
00:59:09,759 --> 00:59:14,190
an X or an Y here we don't need root

1357
00:59:12,429 --> 00:59:18,788
term or any of these things we just need

1358
00:59:14,190 --> 00:59:20,230
normal like so and we have our real

1359
00:59:18,789 --> 00:59:27,490
seven

1360
00:59:20,230 --> 00:59:28,570
this value there we go and I guess we'll

1361
00:59:27,489 --> 00:59:30,309
initialize that so the compiler doesn't

1362
00:59:28,570 --> 00:59:34,680
complain just in case it we're going to

1363
00:59:30,309 --> 00:59:39,340
complain mm-hmm and we'll clear that out

1364
00:59:34,679 --> 00:59:46,149
so if we're in X less than Y so we're on

1365
00:59:39,340 --> 00:59:48,910
that side and then we're so we're X less

1366
00:59:46,150 --> 00:59:52,240
than Y so on this side and then our

1367
00:59:48,909 --> 00:59:55,480
index is also less than Y then we are in

1368
00:59:52,239 --> 00:59:58,509
here so we would have normal and I guess

1369
00:59:55,480 --> 01:00:01,329
we could also say that 0 0 7 we can just

1370
00:59:58,510 --> 01:00:04,990
save the normal x equals negative 7

1371
01:00:01,329 --> 01:00:07,079
right otherwise the normal dot y equals

1372
01:00:04,989 --> 01:00:13,839
7 because it's that upwards pointing one

1373
01:00:07,079 --> 01:00:17,108
here if we're on this side of the of the

1374
01:00:13,840 --> 01:00:18,690
x equals y line then if index is less

1375
01:00:17,108 --> 01:00:24,009
than Y it's going to be the negative Y

1376
01:00:18,690 --> 01:00:26,980
right so it's that one otherwise it's

1377
01:00:24,010 --> 01:00:33,090
the positive x so that seemed right to

1378
01:00:26,980 --> 01:00:37,500
people I'm not sure let's give it a shot

1379
01:00:33,090 --> 01:00:46,108
no but we'll have to call it makes ear

1380
01:00:37,500 --> 01:00:46,108
normal Matt will call make pyramid

1381
01:00:48,400 --> 01:00:57,579
so there's pyramid I don't know if that

1382
01:00:55,210 --> 01:01:00,940
tells us anything it tells us that the

1383
01:00:57,579 --> 01:01:05,130
to Y ones are totally not reflecting but

1384
01:01:00,940 --> 01:01:07,358
that maybe just because they're pointing

1385
01:01:05,130 --> 01:01:11,740
not towards anything I don't know have

1386
01:01:07,358 --> 01:01:13,150
to think about that girl Linda bloom so

1387
01:01:11,739 --> 01:01:15,818
it would need to be flipped on both

1388
01:01:13,150 --> 01:01:18,599
directions not sure what you're talking

1389
01:01:15,818 --> 01:01:18,599
about Carl and Oh

1390
01:01:26,070 --> 01:01:30,720
I think the lower reflection also needs

1391
01:01:28,800 --> 01:01:33,900
to flip the why there because it's the

1392
01:01:30,719 --> 01:01:36,539
incoming vector I don't think that's

1393
01:01:33,900 --> 01:01:38,820
quite true I mean it may be true that we

1394
01:01:36,539 --> 01:01:40,170
need to flip it but it's not true that

1395
01:01:38,820 --> 01:01:42,180
it's the incoming vector because we

1396
01:01:40,170 --> 01:01:46,139
already counted for that when we did the

1397
01:01:42,179 --> 01:01:48,629
computation right we already did this

1398
01:01:46,139 --> 01:01:50,730
and that accounts for the fact that it's

1399
01:01:48,630 --> 01:01:53,940
the incoming vector right because this

1400
01:01:50,730 --> 01:01:56,880
was solving negative e plus 2 e

1401
01:01:53,940 --> 01:01:58,829
transpose MN right and so we already

1402
01:01:56,880 --> 01:02:08,550
counted for the negative E or at least

1403
01:01:58,829 --> 01:02:10,319
we tried to you said you might have to

1404
01:02:08,550 --> 01:02:11,910
make the sky texture larger than the

1405
01:02:10,320 --> 01:02:13,890
ground so it wouldn't miss it could you

1406
01:02:11,909 --> 01:02:16,859
instead sample from adjacent sky maps

1407
01:02:13,889 --> 01:02:19,109
assuming they're not occluded but

1408
01:02:16,860 --> 01:02:20,130
there's no such thing as a jacent sky

1409
01:02:19,110 --> 01:02:21,450
map because remember this this is

1410
01:02:20,130 --> 01:02:24,599
something that we're producing in the

1411
01:02:21,449 --> 01:02:26,460
game so there is no adjacent sky map so

1412
01:02:24,599 --> 01:02:29,279
we want to just produce one lighting

1413
01:02:26,460 --> 01:02:34,320
thing that covers as far as we want to

1414
01:02:29,280 --> 01:02:35,970
sample basically and so that's the

1415
01:02:34,320 --> 01:02:37,740
because because remember sorry it's not

1416
01:02:35,969 --> 01:02:40,379
Vanessa Lee the sky it's like the roof

1417
01:02:37,739 --> 01:02:42,239
if you're indoors or whatever and so we

1418
01:02:40,380 --> 01:02:46,619
need we want it to kind of be dynamic

1419
01:02:42,239 --> 01:02:49,129
and that's that's really why we have to

1420
01:02:46,619 --> 01:02:49,130
think about that

1421
01:03:01,690 --> 01:03:06,409
grumpy giant says the edge attenuation

1422
01:03:04,489 --> 01:03:09,049
is correct given that a reflected vector

1423
01:03:06,409 --> 01:03:11,899
right on the edge will have a smaller

1424
01:03:09,050 --> 01:03:15,380
y-value than one's reflected from nearer

1425
01:03:11,900 --> 01:03:16,639
the center is that true I don't feel

1426
01:03:15,380 --> 01:03:21,019
like that's true shouldn't they have a

1427
01:03:16,639 --> 01:03:23,568
larger y-value I guess

1428
01:03:21,019 --> 01:03:26,750
well no you're right because as the

1429
01:03:23,568 --> 01:03:27,318
plane goes there I will yeah yeah that's

1430
01:03:26,750 --> 01:03:29,480
true

1431
01:03:27,318 --> 01:03:30,710
that's a good point so he he totally

1432
01:03:29,480 --> 01:03:32,300
brought up a good point for the

1433
01:03:30,710 --> 01:03:34,519
attenuation the edge attenuation is

1434
01:03:32,300 --> 01:03:36,410
correct because it's not the normal that

1435
01:03:34,519 --> 01:03:39,170
we're using the normals what we're

1436
01:03:36,409 --> 01:03:42,348
reflecting off of and so as it becomes

1437
01:03:39,170 --> 01:03:44,659
more oblique to us right like basically

1438
01:03:42,349 --> 01:03:48,710
you know as we're talking about

1439
01:03:44,659 --> 01:03:50,808
something that's pointing fairly fairly

1440
01:03:48,710 --> 01:03:57,079
head-on to something that's pointing

1441
01:03:50,809 --> 01:03:59,480
less and less head-on right once it's

1442
01:03:57,079 --> 01:04:01,970
it's going this way if you know our I've

1443
01:03:59,480 --> 01:04:04,219
Ector will not have much of a y

1444
01:04:01,969 --> 01:04:06,618
component if the normal is pointing in Y

1445
01:04:04,219 --> 01:04:09,578
so actually the Y component will be

1446
01:04:06,619 --> 01:04:12,920
highest right in that sort of sweet spot

1447
01:04:09,579 --> 01:04:16,010
where it's actually getting some Y but

1448
01:04:12,920 --> 01:04:17,358
it's not having it yeah it's not having

1449
01:04:16,010 --> 01:04:20,000
it kicked back so we want the thing that

1450
01:04:17,358 --> 01:04:21,558
transfers the maximum amount of Y and

1451
01:04:20,000 --> 01:04:24,400
that's somewhere like I don't know 45

1452
01:04:21,559 --> 01:04:24,400
degrees or something

1453
01:04:35,230 --> 01:04:40,070
kronole dragon would it be possible to

1454
01:04:37,460 --> 01:04:42,320
rotate the incoming sampling from the

1455
01:04:40,070 --> 01:04:46,640
environment map so that it looks like

1456
01:04:42,320 --> 01:04:49,550
the sphere is spinning yeah I mean

1457
01:04:46,639 --> 01:04:51,379
that's just adding an offset to the

1458
01:04:49,550 --> 01:04:53,330
environment map right

1459
01:04:51,380 --> 01:04:58,599
you don't only have to rotate it you

1460
01:04:53,329 --> 01:05:00,920
could just move it but the problem is

1461
01:04:58,599 --> 01:05:03,980
that's not a reflection anymore because

1462
01:05:00,920 --> 01:05:06,200
a spinning reflective sphere just looks

1463
01:05:03,980 --> 01:05:09,889
like a stationary reflective sphere

1464
01:05:06,199 --> 01:05:18,139
right so be careful what your risk for

1465
01:05:09,889 --> 01:05:20,420
there right because it's not blue

1466
01:05:18,139 --> 01:05:23,529
revenge oh cylinders might be useful

1467
01:05:20,420 --> 01:05:28,280
you're correct I think cylinders

1468
01:05:23,530 --> 01:05:29,660
cylinders should be better yeah that's a

1469
01:05:28,280 --> 01:05:32,630
very good point actually

1470
01:05:29,659 --> 01:05:34,039
that's a very very good point and as for

1471
01:05:32,630 --> 01:05:35,420
why we're getting this reduction I don't

1472
01:05:34,039 --> 01:05:37,579
know this will be what we'll have to

1473
01:05:35,420 --> 01:05:39,380
debug tomorrow but adding cylinders is a

1474
01:05:37,579 --> 01:05:42,759
very good point I feel like cylinders

1475
01:05:39,380 --> 01:05:42,760
would be very instructive as well

1476
01:05:43,510 --> 01:05:53,510
yeah what's where is our oops here

1477
01:05:50,929 --> 01:05:57,469
I don't know Matt I'm gonna do make

1478
01:05:53,510 --> 01:05:59,900
cylinder normal Matt make cylinder and

1479
01:05:57,469 --> 01:06:03,409
we'll do this like make an X big

1480
01:05:59,900 --> 01:06:05,510
cylinder a normal map X or something

1481
01:06:03,409 --> 01:06:12,348
like that and this would just be one

1482
01:06:05,510 --> 01:06:17,660
where you know excuse me it's never it's

1483
01:06:12,349 --> 01:06:21,170
it's always just the the X right like so

1484
01:06:17,659 --> 01:06:22,909
and so you know the root term is always

1485
01:06:21,170 --> 01:06:25,750
going to be greater than zero and so you

1486
01:06:22,909 --> 01:06:25,750
can always do this

1487
01:06:30,320 --> 01:06:37,820
in fact what we could do you know we

1488
01:06:32,929 --> 01:06:40,159
could do we could actually make sphere

1489
01:06:37,820 --> 01:06:45,350
normalmap could actually make cylinders

1490
01:06:40,159 --> 01:06:48,170
by passing in like a CX and a cy which

1491
01:06:45,349 --> 01:06:51,199
basically multiply what the NX values

1492
01:06:48,170 --> 01:06:54,170
are and then Y values are so something

1493
01:06:51,199 --> 01:06:54,679
like this does this make sense what I'm

1494
01:06:54,170 --> 01:06:58,700
doing here

1495
01:06:54,679 --> 01:07:02,059
where we can sort of turn off the X or

1496
01:06:58,699 --> 01:07:05,000
the Y to make a cylinder by not actually

1497
01:07:02,059 --> 01:07:10,639
considering those two and so if we do it

1498
01:07:05,000 --> 01:07:12,860
you know straight up make your made

1499
01:07:10,639 --> 01:07:14,589
normal map so if we do it straight up

1500
01:07:12,860 --> 01:07:23,720
and just do sphere normal map this way

1501
01:07:14,590 --> 01:07:26,329
right if I rerun the game that's our

1502
01:07:23,719 --> 01:07:29,209
sphere right but if we then go in and

1503
01:07:26,329 --> 01:07:35,269
say oh yeah you know don't just make it

1504
01:07:29,210 --> 01:07:37,190
be an X only for something right so that

1505
01:07:35,269 --> 01:07:40,280
will knock out the Y component eyerly I

1506
01:07:37,190 --> 01:07:42,349
think that would give us a cylinder or I

1507
01:07:40,280 --> 01:07:45,290
could be very wrong about that I feel

1508
01:07:42,349 --> 01:07:46,759
like it should let me double check but

1509
01:07:45,289 --> 01:07:49,460
that's just not whatever the bug is that

1510
01:07:46,760 --> 01:07:54,280
we had that wasn't causing sides to draw

1511
01:07:49,460 --> 01:07:57,369
properly yeah there we go

1512
01:07:54,280 --> 01:08:02,930
so there's a there's a cylinder right

1513
01:07:57,369 --> 01:08:04,489
it's a cylinder rolling this way so yeah

1514
01:08:02,929 --> 01:08:06,529
so I think probably what that means is

1515
01:08:04,489 --> 01:08:08,000
my pyramid generating code was wrong

1516
01:08:06,530 --> 01:08:11,510
we should probably draw it but again

1517
01:08:08,000 --> 01:08:14,599
that's something we can do tomorrow so

1518
01:08:11,510 --> 01:08:15,950
yeah I don't know that looks pretty good

1519
01:08:14,599 --> 01:08:18,109
that looks better than our sphere will

1520
01:08:15,949 --> 01:08:19,279
happen we'll have to again we'll have to

1521
01:08:18,109 --> 01:08:20,809
tackle this tomorrow it's really

1522
01:08:19,279 --> 01:08:21,679
something we need to start stepping

1523
01:08:20,810 --> 01:08:23,950
through it figure out what we're doing

1524
01:08:21,680 --> 01:08:23,950
wrong

1525
01:08:25,939 --> 01:08:34,750
and Gaston 5 at the moment we are

1526
01:08:30,909 --> 01:08:38,029
right-handed but we're upper left corner

1527
01:08:34,750 --> 01:08:41,539
in terms of our screen space which we

1528
01:08:38,029 --> 01:08:43,369
are having the to do lists to change its

1529
01:08:41,539 --> 01:08:44,689
it's kind of lingering but we kind of

1530
01:08:43,369 --> 01:08:48,640
wanted to finish doing our normal map

1531
01:08:44,689 --> 01:08:48,639
stuff first that makes sense

1532
01:08:54,679 --> 01:09:00,859
would inverted versions of normal math

1533
01:08:56,719 --> 01:09:05,179
fusil I inverted sphere for debugging

1534
01:09:00,859 --> 01:09:08,170
possibly not but for gameplay sure like

1535
01:09:05,179 --> 01:09:08,170
when we actually have them

1536
01:09:19,300 --> 01:09:41,329
abner Cumbre that's disturbing the what

1537
01:09:28,039 --> 01:09:44,269
is disturbing about it so one thing I

1538
01:09:41,329 --> 01:09:49,090
also don't think we're doing right now

1539
01:09:44,270 --> 01:09:52,220
is actually we're actually also not

1540
01:09:49,090 --> 01:09:54,670
transforming the normals so that's

1541
01:09:52,220 --> 01:10:01,869
another thing we have to do tomorrow

1542
01:09:54,670 --> 01:10:07,909
like so for example right if you look at

1543
01:10:01,869 --> 01:10:10,640
this let's see this is this one's much

1544
01:10:07,909 --> 01:10:12,199
easier certainly but it's something that

1545
01:10:10,640 --> 01:10:14,930
we'll have to to think about a little

1546
01:10:12,199 --> 01:10:17,000
bit so if you take a look at what

1547
01:10:14,930 --> 01:10:23,300
happens in here if I actually was to

1548
01:10:17,000 --> 01:10:31,300
start letting this thing rotate right

1549
01:10:23,300 --> 01:10:31,300
I said letting this the right angles

1550
01:10:33,850 --> 01:10:41,539
why is this not rotating I thought I

1551
01:10:38,210 --> 01:10:46,340
told you to rotate I don't know why you

1552
01:10:41,539 --> 01:11:03,189
aren't rotating angle is going up as it

1553
01:10:46,340 --> 01:11:10,270
should and so you can see that this is

1554
01:11:03,189 --> 01:11:12,319
not correct right it it's not actually

1555
01:11:10,270 --> 01:11:13,940
transforming those normals to point in

1556
01:11:12,319 --> 01:11:15,170
different directions it's leaving the

1557
01:11:13,939 --> 01:11:18,349
normals pointing in the same direction

1558
01:11:15,170 --> 01:11:20,420
they were pointing and so then another

1559
01:11:18,350 --> 01:11:22,969
thing that we will have to do tomorrow

1560
01:11:20,420 --> 01:11:28,670
is make sure that we actually handled

1561
01:11:22,969 --> 01:11:30,350
that properly right so yeah so I should

1562
01:11:28,670 --> 01:11:43,600
put a note in there or while we're doing

1563
01:11:30,350 --> 01:11:43,600
it tomorrow so after normal to do KC

1564
01:11:46,448 --> 01:11:56,519
rotate normals base

1565
01:11:51,289 --> 01:12:03,060
axis so that is definitely something we

1566
01:11:56,520 --> 01:12:09,200
will have to handle see any other

1567
01:12:03,060 --> 01:12:09,200
questions any other questions questions

1568
01:12:25,988 --> 01:12:33,069
looks like there are no more questions

1569
01:12:28,738 --> 01:12:36,789
that's a wrap says Abner Cumbre that's a

1570
01:12:33,069 --> 01:12:39,880
wrap all right well if Abner says it's a

1571
01:12:36,789 --> 01:12:42,460
rap it's a rap people we are in good

1572
01:12:39,880 --> 01:12:44,260
shape here I think we probably were

1573
01:12:42,460 --> 01:12:47,679
getting real close I think we probably

1574
01:12:44,260 --> 01:12:50,590
need about one more day probably to kind

1575
01:12:47,679 --> 01:12:51,908
of go through here and and shore up all

1576
01:12:50,590 --> 01:12:54,670
of our normal map stuff and then we can

1577
01:12:51,908 --> 01:12:57,789
move on to figuring out how we're going

1578
01:12:54,670 --> 01:13:00,250
to what we're gonna do for this middle

1579
01:12:57,789 --> 01:13:01,869
map which is really the that's the

1580
01:13:00,250 --> 01:13:04,000
tricky guy so we'll have to see how

1581
01:13:01,869 --> 01:13:05,619
that's gonna go and I have no idea I

1582
01:13:04,000 --> 01:13:07,390
really don't know

1583
01:13:05,619 --> 01:13:10,809
hopefully we'll figure something clever

1584
01:13:07,390 --> 01:13:12,880
out but you know maybe we won't maybe we

1585
01:13:10,810 --> 01:13:14,500
won't be as clever as we want to be

1586
01:13:12,880 --> 01:13:17,199
either way we will certainly give it a

1587
01:13:14,500 --> 01:13:18,609
shot I hope you will join me tomorrow as

1588
01:13:17,198 --> 01:13:19,839
we finish up the normal map stuff since

1589
01:13:18,609 --> 01:13:22,960
that's something we at least know works

1590
01:13:19,840 --> 01:13:24,670
well no mystery there just us doing some

1591
01:13:22,960 --> 01:13:26,590
debugging so I hope you'll join me

1592
01:13:24,670 --> 01:13:29,560
tomorrow 5:00 p.m. Pacific Standard Time

1593
01:13:26,590 --> 01:13:31,690
again right here on Twitch where we'll

1594
01:13:29,560 --> 01:13:33,370
finish up our normal mapping code so we

1595
01:13:31,689 --> 01:13:34,569
can move on to trying to figure out what

1596
01:13:33,369 --> 01:13:36,460
in the world we're gonna do with that

1597
01:13:34,569 --> 01:13:39,340
middle map that ought to be interesting

1598
01:13:36,460 --> 01:13:40,719
so we'll we'll see but thank you very

1599
01:13:39,340 --> 01:13:42,310
much for joining me to pleasure coding

1600
01:13:40,719 --> 01:13:43,510
with you as always if you would like to

1601
01:13:42,310 --> 01:13:44,800
follow along with the source code you

1602
01:13:43,510 --> 01:13:47,469
can always peer out of the game on

1603
01:13:44,800 --> 01:13:48,969
handmade hero org you just use this

1604
01:13:47,469 --> 01:13:50,439
little pre-order button and you will get

1605
01:13:48,969 --> 01:13:52,750
a link where you can download the source

1606
01:13:50,439 --> 01:13:53,738
code if you would like to just support

1607
01:13:52,750 --> 01:13:55,210
the video series you can always

1608
01:13:53,738 --> 01:13:57,609
subscribe to our patreon page it's very

1609
01:13:55,210 --> 01:14:00,069
much appreciated we also have a forums

1610
01:13:57,609 --> 01:14:02,289
where you can ask questions and you can

1611
01:14:00,069 --> 01:14:04,779
look at community ports to Linux and Mac

1612
01:14:02,289 --> 01:14:06,340
and you can also use the anti 8 episode

1613
01:14:04,779 --> 01:14:08,079
guide to catch up with past episodes if

1614
01:14:06,340 --> 01:14:09,219
you've missed episodes or if you're just

1615
01:14:08,079 --> 01:14:11,019
starting out it's a great place to go

1616
01:14:09,219 --> 01:14:12,189
and finally we have a tweet bot that

1617
01:14:11,020 --> 01:14:13,449
will tweet the schedule at you if you're

1618
01:14:12,189 --> 01:14:15,039
trying to catch the live stream and want

1619
01:14:13,448 --> 01:14:17,919
to know when it's going to be that's the

1620
01:14:15,039 --> 01:14:20,408
best way to do it again I hope see

1621
01:14:17,920 --> 01:14:21,940
everyone back here at 5 p.m. tomorrow I

1622
01:14:20,408 --> 01:14:24,039
think we should be able to wrap up

1623
01:14:21,939 --> 01:14:25,479
normal mapping which will feel good and

1624
01:14:24,039 --> 01:14:26,800
then we can go ahead and start working

1625
01:14:25,479 --> 01:14:28,329
on that lighting puzzle which is gonna

1626
01:14:26,800 --> 01:14:29,650
be it's gonna take some ingenuity it's

1627
01:14:28,329 --> 01:14:31,420
gonna take some ingenuity so hopefully

1628
01:14:29,649 --> 01:14:33,069
we'll figure something good at all right

1629
01:14:31,420 --> 01:14:35,889
thanks for joining me and have a

1630
01:14:33,069 --> 01:14:39,719
wonderful Wednesday tomorrow

1631
01:14:35,889 --> 01:14:39,719
yeah I will see you guys on the Internet

