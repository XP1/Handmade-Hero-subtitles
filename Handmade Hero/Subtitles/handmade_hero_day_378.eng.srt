1
00:00:03,300 --> 00:00:05,200
Hello everyone and welcome to handmade hero.

2
00:00:05,200 --> 00:00:08,000
The show where we could a complete game live on stream.

3
00:00:08,500 --> 00:00:14,800
We are mucking with our camera code and yesterday we cleaned up a

4
00:00:14,800 --> 00:00:17,600
bunch of stuff that I wanted to clean up with camera code, which is

5
00:00:17,600 --> 00:00:18,300
good.

6
00:00:18,900 --> 00:00:23,100
So now I think it's going to be a lot more useful and a lot easier to

7
00:00:23,100 --> 00:00:28,900
work with, but we didn't really get a chance to do some Advance some

8
00:00:28,900 --> 00:00:30,100
more interesting stuff with it.

9
00:00:30,400 --> 00:00:32,299
So today, I think basically what we want to do is

10
00:00:32,500 --> 00:00:37,900
Just get the camera code into well, add basically to the camera code

11
00:00:38,100 --> 00:00:40,200
that we had from yesterday to make it.

12
00:00:40,200 --> 00:00:42,500
Do a bunch of things that we wanted to do for real.

13
00:00:42,500 --> 00:00:46,700
So for example we want to be able to walk from room to room and have

14
00:00:46,700 --> 00:00:51,300
it look nice and we want to be able to potentially scroll inside of

15
00:00:51,300 --> 00:00:53,200
rooms if they're big rooms.

16
00:00:53,200 --> 00:00:58,500
I don't really love that idea necessarily but you know, I want it the

17
00:00:58,500 --> 00:01:02,100
capability to exist at least so that if we do want something like

18
00:01:02,100 --> 00:01:02,300
that.

19
00:01:02,400 --> 00:01:03,100
It will work.

20
00:01:04,800 --> 00:01:10,200
And similarly, we want to be able to do things like have the camera

21
00:01:11,200 --> 00:01:14,700
potentially line up in certain circumstances with where the player is.

22
00:01:15,500 --> 00:01:18,300
If we want to stuff like making going downstairs, work a little bit

23
00:01:18,300 --> 00:01:20,400
nicer or other stuff like that.

24
00:01:20,800 --> 00:01:22,400
So that's the main goal for today.

25
00:01:22,400 --> 00:01:27,600
I just want to basically start adding some real camera code to the

26
00:01:27,600 --> 00:01:30,900
camera system where it's actually going to think about what it should

27
00:01:30,900 --> 00:01:33,900
be looking at and how it should.

28
00:01:34,100 --> 00:01:36,300
Looking at it and that's really about it.

29
00:01:39,500 --> 00:01:43,000
I'm sure it will take at least today to make that work.

30
00:01:44,000 --> 00:01:46,100
So today is today, 378.

31
00:01:46,100 --> 00:01:48,200
So you want day, 377 source, code.

32
00:01:48,900 --> 00:01:53,000
If you we open up the project and just do a quick check of where the

33
00:01:53,000 --> 00:01:57,000
camera is, at the moment, you can see actually that it's working

34
00:01:58,100 --> 00:02:01,300
pretty nicely at the moment in terms of just being able to do the

35
00:02:01,300 --> 00:02:04,700
basic stuff, we wanted it to do but it doesn't do any interpolation or

36
00:02:04,700 --> 00:02:08,699
anything so we're not we're not really at a usable game camera yet so

37
00:02:08,699 --> 00:02:09,100
you can see for

38
00:02:09,300 --> 00:02:12,100
Example, I've got this camera volume and if I start going down the

39
00:02:12,100 --> 00:02:15,000
stairs, you can see it switched to a different perspective there but

40
00:02:15,100 --> 00:02:20,400
it's just jerking around to, you know, whatever random place it is

41
00:02:20,400 --> 00:02:22,800
told to be at any given time, that's all it does.

42
00:02:23,100 --> 00:02:27,000
And similarly it doesn't you know, if this room is large and the view

43
00:02:27,000 --> 00:02:33,200
it doesn't track the hero or anything like that and you know, we don't

44
00:02:33,200 --> 00:02:34,500
have going from room to room or anything.

45
00:02:34,500 --> 00:02:37,700
So although we got the chemical into a nice place in terms of being

46
00:02:37,700 --> 00:02:39,100
easy to specify what's supposed to happen.

47
00:02:39,200 --> 00:02:42,200
In now and it's not so weird with the room apron and all that other

48
00:02:42,200 --> 00:02:45,900
sorts of stuff in terms of like movement of the camera.

49
00:02:47,100 --> 00:02:51,200
We still have to figure out some good ways to put in the logic and

50
00:02:51,200 --> 00:02:52,000
interpolation here.

51
00:02:52,000 --> 00:02:57,900
That will make it nice and easy to use for and make the like visual

52
00:02:57,900 --> 00:02:58,200
effect.

53
00:02:58,200 --> 00:02:58,700
Nice.

54
00:03:00,000 --> 00:03:03,800
We can start off with a pretty simple scenario actually, which is that

55
00:03:03,800 --> 00:03:08,100
if the hero wants to go down the stairs, we already did a kind of a

56
00:03:08,100 --> 00:03:11,700
little cheesy version of that where it just like centers around the

57
00:03:11,700 --> 00:03:16,100
hero when the heroes going down it and then comes back when it's not

58
00:03:16,600 --> 00:03:18,600
we can do much better than this obviously.

59
00:03:18,800 --> 00:03:21,600
So what we would like to do is something where, you know, as the hero

60
00:03:21,600 --> 00:03:22,300
comes here.

61
00:03:22,500 --> 00:03:25,500
If the hero starts to go down the stairs, we would like the camera to

62
00:03:25,500 --> 00:03:28,500
interpolate over to the stairs while he's on the stairs.

63
00:03:28,700 --> 00:03:29,800
And then when he comes off,

64
00:03:30,000 --> 00:03:36,500
Off the stairs, for example, he could it could sort of slowly recenter

65
00:03:36,500 --> 00:03:38,300
to wherever that is going to be.

66
00:03:39,200 --> 00:03:41,600
So maybe that's the center of the room or, you know, whatever it's

67
00:03:41,600 --> 00:03:42,000
going to be.

68
00:03:42,300 --> 00:03:43,700
So I think that would be nice.

69
00:03:45,100 --> 00:03:50,600
That would probably be the best thing to do here and I feel like

70
00:03:50,600 --> 00:03:52,000
there's a couple different ways.

71
00:03:52,000 --> 00:03:55,200
We probably want to make that work one is we have to have the

72
00:03:55,200 --> 00:03:59,100
interpolation code in the other is we probably need to make more of a

73
00:03:59,300 --> 00:04:03,600
structure here that says, where the stairs are versus, where the start

74
00:04:03,600 --> 00:04:07,200
of going down, the stairs are, so we probably want more camera,

75
00:04:07,200 --> 00:04:08,600
control volumes as well.

76
00:04:09,100 --> 00:04:12,100
Just to give the camera a little more information about what we would

77
00:04:12,100 --> 00:04:13,200
like to have happen there.

78
00:04:15,800 --> 00:04:18,600
another thing that might be interesting is like if the player lingers

79
00:04:18,600 --> 00:04:19,700
in an area for a while,

80
00:04:22,000 --> 00:04:25,900
it might be interesting to have the ability to do camera things

81
00:04:25,900 --> 00:04:29,900
they're using.

82
00:04:30,500 --> 00:04:31,500
So like for example,

83
00:04:33,600 --> 00:04:36,300
In this case, maybe if the, if the player comes over here and wants to

84
00:04:36,300 --> 00:04:39,800
look over this Edge, you know, the camera could could kind of come in

85
00:04:39,800 --> 00:04:42,800
there and and look over the edge or something like that.

86
00:04:43,800 --> 00:04:47,000
So there's a bunch of stuff we can do and I guess all I'm saying is

87
00:04:47,000 --> 00:04:51,100
let's go ahead and do it and let's use those things as reasons to

88
00:04:51,100 --> 00:04:52,300
exercise the camera code.

89
00:04:52,300 --> 00:04:54,900
So we know that we've got it into a position where it's going to be

90
00:04:54,900 --> 00:04:56,800
able to do the things that we're going to want to do.

91
00:04:57,000 --> 00:05:01,500
Because we're going to constantly have desires for the camera where we

92
00:05:01,500 --> 00:05:03,300
want it to do specific things as

93
00:05:03,900 --> 00:05:07,000
Get through the game design of the game and we're like, oh, you know,

94
00:05:07,000 --> 00:05:08,600
it'd be nice if the camera will zoom in on this.

95
00:05:08,600 --> 00:05:11,300
It when I said the camera would follow this, you know, Bubba blah.

96
00:05:11,500 --> 00:05:12,800
And we don't want to make it.

97
00:05:12,800 --> 00:05:14,800
We don't want to have it be this huge headache.

98
00:05:14,800 --> 00:05:15,900
Every time we wanted,

99
00:05:17,900 --> 00:05:18,400
Muck with it.

100
00:05:18,400 --> 00:05:22,600
So we want the camera to be a lot more facile and be able to do a lot

101
00:05:22,600 --> 00:05:27,200
of these things easily by adding code to it in a nice simple fashion.

102
00:05:28,300 --> 00:05:30,900
So let's start with AB really simple.

103
00:05:32,000 --> 00:05:35,200
Maybe we'll put a simple proportional derivative controller on it.

104
00:05:35,900 --> 00:05:37,000
I talked about Springs.

105
00:05:37,000 --> 00:05:38,900
We've written Springs couple times before.

106
00:05:39,000 --> 00:05:41,500
Maybe we'll just do something really simple there to get it to get it

107
00:05:41,500 --> 00:05:45,600
going and that way we have an interpolator and we would know that we

108
00:05:45,600 --> 00:05:46,900
always have the ability.

109
00:05:47,700 --> 00:05:52,700
Or the interpolator to be replaced by something better later on if we

110
00:05:52,700 --> 00:05:55,900
need it to be but we still have one in there so we can get

111
00:05:55,900 --> 00:05:59,000
interpolation working in a relatively consistent fashion.

112
00:05:59,300 --> 00:05:59,800
So if I go

113
00:06:00,000 --> 00:06:00,600
/.

114
00:06:00,600 --> 00:06:02,000
I believe this is in the same region.

115
00:06:03,900 --> 00:06:04,700
Kind of have this.

116
00:06:06,700 --> 00:06:07,100
Oops.

117
00:06:11,700 --> 00:06:14,500
Interesting and World change.

118
00:06:14,500 --> 00:06:15,300
Can't we just have in here?

119
00:06:15,300 --> 00:06:16,400
We don't need that anymore.

120
00:06:17,800 --> 00:06:22,000
So here's update camera for entity movement, and you can see here,

121
00:06:22,000 --> 00:06:23,000
what we used to do.

122
00:06:23,000 --> 00:06:25,800
And the reason that we used to have smooth transitions from room to

123
00:06:25,800 --> 00:06:28,200
room was because we actually just put the code for interpolating room

124
00:06:28,200 --> 00:06:30,300
to room, right in here, where we would just go.

125
00:06:30,300 --> 00:06:31,100
Look, where are you?

126
00:06:31,100 --> 00:06:33,500
Let's interpolate, what I'd rather do?

127
00:06:33,500 --> 00:06:37,100
Here again is sort of have the notion of a target for the camera.

128
00:06:37,100 --> 00:06:41,400
And what I want to do is I want to pass in a DT as well.

129
00:06:41,400 --> 00:06:44,400
So this is basically part of the simulation step, right?

130
00:06:44,400 --> 00:06:46,800
So I want to do is have a DT here.

131
00:06:46,800 --> 00:06:47,700
So,

132
00:06:47,800 --> 00:06:50,100
And rough day in the camera friend to movement that we have a certain

133
00:06:50,100 --> 00:06:50,600
amount of time.

134
00:06:50,600 --> 00:06:51,500
We won't update it for.

135
00:06:52,100 --> 00:06:54,800
So, like here, for example, what we do Target P, basically what

136
00:06:54,800 --> 00:06:58,800
happens is we then slap Target P directly into where the camera is,

137
00:06:59,000 --> 00:06:59,400
right?

138
00:06:59,400 --> 00:07:02,300
And we just set the offset directly we set these things directly.

139
00:07:03,400 --> 00:07:08,600
What I want to do instead is I want to have those be explicitly, sort

140
00:07:08,600 --> 00:07:11,800
of targets that the camera is trying to hit.

141
00:07:11,900 --> 00:07:16,600
And then I want the camera to gradually get to them and this is like a

142
00:07:16,600 --> 00:07:17,600
very common thing, right?

143
00:07:17,700 --> 00:07:22,000
It in in sort of games, you often times want to say, like okay, I did

144
00:07:22,000 --> 00:07:23,200
a bunch of reasoning.

145
00:07:23,500 --> 00:07:25,300
Maybe it was really simplistic ifs.

146
00:07:25,300 --> 00:07:27,500
Maybe it was a complicated, a, I don't know.

147
00:07:27,700 --> 00:07:31,300
But then I came up with some Target that I want this thing to go to

148
00:07:31,600 --> 00:07:34,400
and then I don't want it to just snap there, right?

149
00:07:34,400 --> 00:07:36,900
Because it's supposed to be like a thing in the real world.

150
00:07:36,900 --> 00:07:39,800
And so then typically you have some kind of a low lower level

151
00:07:39,800 --> 00:07:43,200
controller there, which could be very sophisticated in its own, right?

152
00:07:43,200 --> 00:07:46,800
Depending on how complex you want the motion to be, or how complex the

153
00:07:46,800 --> 00:07:47,600
activity has to be.

154
00:07:48,000 --> 00:07:51,600
But still basically the same idea that you made a high-level decision

155
00:07:51,800 --> 00:07:53,700
in this case, where the camera supposed to be.

156
00:07:53,800 --> 00:07:57,900
But then you want to go ahead and put something, um, into the lower

157
00:07:57,900 --> 00:07:58,300
level of that.

158
00:07:58,300 --> 00:08:01,800
That's like, don't just immediately have that happen.

159
00:08:02,100 --> 00:08:05,800
Have it happen gradually over time because that's the more consistent

160
00:08:05,900 --> 00:08:09,400
thing that a player would expect to see or that makes the graphics

161
00:08:09,900 --> 00:08:11,400
more pleasant to view whatever.

162
00:08:12,600 --> 00:08:14,200
So if we take a look here,

163
00:08:15,500 --> 00:08:21,700
If I make sort of a Target offset Z and a world position Target P.

164
00:08:22,600 --> 00:08:28,000
Like so then what I can do is say well okay, you know in cure what

165
00:08:28,000 --> 00:08:33,000
I've got is instead of setting the the camera p and the offsets, the

166
00:08:34,000 --> 00:08:37,000
to be things that are going to immediately take effect.

167
00:08:37,100 --> 00:08:40,600
What I'd rather do is set the target position, right?

168
00:08:41,100 --> 00:08:42,500
And the target offset, see

169
00:08:44,100 --> 00:08:47,600
Now, what's interesting about this is, if you look at how this is

170
00:08:47,600 --> 00:08:52,800
going, I really don't need to map these in like that because since

171
00:08:52,800 --> 00:08:59,300
they're set repeatedly, I could just leave them in their own space,

172
00:08:59,500 --> 00:08:59,800
but what?

173
00:09:00,100 --> 00:09:03,200
I kind of want them to be in this.

174
00:09:03,300 --> 00:09:06,500
I kind of want them to be in this permanent structure in case, I don't

175
00:09:06,500 --> 00:09:08,200
want to set them every time.

176
00:09:08,400 --> 00:09:12,000
Like I might eventually set a timer on here that says Don't reset the

177
00:09:12,000 --> 00:09:16,400
target for n frames or something after it's been set, I could do other

178
00:09:16,400 --> 00:09:16,900
things there.

179
00:09:16,900 --> 00:09:17,900
I don't know what they are.

180
00:09:18,100 --> 00:09:21,800
So even though I don't really need to store this at the moment, I'm

181
00:09:21,800 --> 00:09:23,100
going to store it anyway.

182
00:09:25,100 --> 00:09:25,500
Okay.

183
00:09:25,900 --> 00:09:28,900
So now what I want to do is what you'll notice is.

184
00:09:28,900 --> 00:09:34,000
If I set these targets, then what's going to happen in general, is if

185
00:09:34,000 --> 00:09:43,600
we look, I gotta pass the DT here, obviously do.

186
00:09:46,700 --> 00:09:49,100
Can I pull that out into DT?

187
00:09:57,800 --> 00:09:58,300
Okay.

188
00:10:03,000 --> 00:10:03,500
All right.

189
00:10:05,900 --> 00:10:08,600
So if I pull that out, now what's going to happen is we're going to

190
00:10:08,600 --> 00:10:10,500
get no camera movement at all, right.

191
00:10:10,600 --> 00:10:13,100
The camera just going to stay where it was created and not do

192
00:10:13,100 --> 00:10:13,600
anything.

193
00:10:14,200 --> 00:10:14,600
Why?

194
00:10:14,600 --> 00:10:19,100
Because now, all we're doing is, we're just going and specifying in

195
00:10:19,100 --> 00:10:23,400
the Target p and Target offset Z where we would like the camera to be,

196
00:10:23,400 --> 00:10:26,900
but we not have any way of actually moving the camera from one to the

197
00:10:26,900 --> 00:10:27,300
other.

198
00:10:27,700 --> 00:10:30,700
So the next step we have to do is we have to actually make some code

199
00:10:30,800 --> 00:10:34,000
that will attempt to drive the camera from its current location

200
00:10:34,000 --> 00:10:35,400
wherever that is towards

201
00:10:35,500 --> 00:10:36,600
The Target location.

202
00:10:37,000 --> 00:10:41,000
So, in order to do that, what I want to do here is I want to map those

203
00:10:41,700 --> 00:10:48,300
both as if they were sort of around the Simulation Center, right?

204
00:10:48,300 --> 00:10:53,200
I want to basically create two positions and then I'll repack the

205
00:10:53,200 --> 00:10:57,700
cameras information afterwards, right?

206
00:10:58,000 --> 00:11:00,900
So what I want to do is say, all right, there's a, there's a camera.

207
00:11:03,100 --> 00:11:06,500
P and a camera Target P or N?

208
00:11:06,500 --> 00:11:08,400
I guess in this case, since we're only working with the camera, I

209
00:11:08,400 --> 00:11:10,700
could just say a p and a Target P.

210
00:11:11,200 --> 00:11:15,300
I know that, basically, all I need to do to get those in to a local

211
00:11:15,300 --> 00:11:19,100
space is for example, use the Simulation Center which I store.

212
00:11:19,900 --> 00:11:23,400
So what I can do is say, all right, take the camera, Simulation Center

213
00:11:24,100 --> 00:11:29,500
and find out where the camera location is relative to that.

214
00:11:29,600 --> 00:11:32,200
Find out where the target p is relative to that.

215
00:11:32,300 --> 00:11:32,600
Like so,

216
00:11:33,400 --> 00:11:38,900
And now, I have two local frame versions of where the camera is, and

217
00:11:38,900 --> 00:11:40,700
where the camera wants to be.

218
00:11:41,200 --> 00:11:44,800
Now, what I can do is I can move the camera, you know, in that

219
00:11:44,800 --> 00:11:49,400
direction and you know, do that in a consistent rate over time.

220
00:11:49,600 --> 00:11:53,300
Now, let's start with a really, really basic version of that one,

221
00:11:53,300 --> 00:11:57,500
that's not particularly complicated or interesting, but that just gets

222
00:11:57,500 --> 00:11:59,700
the job done so we can see that it's working at all.

223
00:12:00,100 --> 00:12:03,500
So, what I want to do is I want to figure out what the Delta p is.

224
00:12:03,600 --> 00:12:06,200
So I want to figure out where I would have to go.

225
00:12:06,400 --> 00:12:08,500
That's that a very simple equation.

226
00:12:08,500 --> 00:12:08,700
Right?

227
00:12:08,700 --> 00:12:12,700
I'm just going to say, if I wanted to go from P to Target p, i just

228
00:12:12,700 --> 00:12:15,800
subtract B from Target p and that's a vector going from P to Target

229
00:12:15,800 --> 00:12:16,200
be.

230
00:12:16,500 --> 00:12:18,700
That's my Delta B by Delta p.

231
00:12:20,000 --> 00:12:23,100
Then what I want to do is if I wanted to just go there if I want to

232
00:12:23,100 --> 00:12:24,600
set directly to it, right?

233
00:12:24,800 --> 00:12:27,000
And we can even run this first just to make sure it's working.

234
00:12:27,300 --> 00:12:30,900
I could just add that in and that's the same as setting it right?

235
00:12:30,900 --> 00:12:34,000
Because I've just added the difference, says the same as setting it.

236
00:12:34,000 --> 00:12:35,500
So in order to test it, we could do that.

237
00:12:35,500 --> 00:12:38,800
And then I could then I know that I can Muck with that equation and

238
00:12:38,800 --> 00:12:41,600
add less of it over time and be in a good situation.

239
00:12:41,600 --> 00:12:44,900
All right, so let's say I did that, then I would just do map into

240
00:12:44,900 --> 00:12:45,700
chunks face.

241
00:12:45,900 --> 00:12:49,400
I would just do the Simulation Center but here, right.

242
00:12:50,500 --> 00:12:55,100
With the p like so and off, we would go right.

243
00:12:56,000 --> 00:12:58,700
All right, so that would map it back in.

244
00:12:58,700 --> 00:13:04,100
Now I also need that Target offset see or rather the offsets D to be

245
00:13:04,100 --> 00:13:05,900
set somehow.

246
00:13:07,600 --> 00:13:12,900
And I know I have an offset, see in the camera struct and a Target

247
00:13:12,900 --> 00:13:15,300
offset, see in the cameras direct.

248
00:13:15,300 --> 00:13:19,600
So I can load those two in like so and I can do the exact same thing

249
00:13:19,600 --> 00:13:20,000
here.

250
00:13:20,100 --> 00:13:25,200
So if I want to mess with the target, see, I can just say Delta, I'm

251
00:13:25,200 --> 00:13:25,700
sorry offset.

252
00:13:25,700 --> 00:13:30,800
See, I can say Delta offset, C equals Target offsets, the - offset see

253
00:13:31,300 --> 00:13:33,600
and then I can add those as well.

254
00:13:33,600 --> 00:13:35,000
So I can say offsets the

255
00:13:36,700 --> 00:13:37,300
Plus it goes.

256
00:13:37,300 --> 00:13:39,200
Delta offsets it, right?

257
00:13:39,400 --> 00:13:42,400
So now we are in a situation where I'm just, I'm taking the difference

258
00:13:42,400 --> 00:13:42,700
in them.

259
00:13:42,700 --> 00:13:44,300
I'm adding it in and then I'm setting it.

260
00:13:44,300 --> 00:13:48,900
So this should be the same code as before essentially.

261
00:13:49,100 --> 00:13:49,300
Right.

262
00:13:49,300 --> 00:13:52,000
This should, this should give us essentially just cold setting, the

263
00:13:52,000 --> 00:13:55,200
position because all we're doing, is adding the whole difference

264
00:13:55,900 --> 00:13:56,600
together.

265
00:13:57,300 --> 00:13:58,100
What is the problem?

266
00:13:58,100 --> 00:13:58,600
You're, oh, yeah.

267
00:14:01,800 --> 00:14:03,000
Gotta pass those by pointer.

268
00:14:05,000 --> 00:14:08,800
And so now if I run it, I should in theory, get what we had before,

269
00:14:09,000 --> 00:14:12,200
which is that when we go somewhere, and it's supposed to change, it,

270
00:14:12,200 --> 00:14:14,200
just straight up changes, right?

271
00:14:17,200 --> 00:14:18,100
Just like before.

272
00:14:19,100 --> 00:14:19,500
Okay.

273
00:14:19,800 --> 00:14:22,700
So now suppose we want to make that change more gradually.

274
00:14:22,700 --> 00:14:26,000
Well you know that like obviously if I want to do something totally

275
00:14:26,000 --> 00:14:31,600
random, I could just say well you know whatever the time step is or

276
00:14:31,600 --> 00:14:35,600
something you know multiply the time step by it or something like

277
00:14:35,600 --> 00:14:36,300
this, right?

278
00:14:36,600 --> 00:14:40,900
And now we would be adding a fraction of whatever the motion is were

279
00:14:40,900 --> 00:14:41,800
supposed to do.

280
00:14:43,500 --> 00:14:45,600
We're only adding a fraction of it, right?

281
00:14:45,800 --> 00:14:46,500
So now when we come

282
00:14:46,600 --> 00:14:47,500
Come through here.

283
00:14:47,500 --> 00:14:50,300
If I'm going to go down the stairs you can see that it kind of slowly

284
00:14:50,300 --> 00:14:54,400
interpolates at any given time to where we're supposed to go.

285
00:14:54,700 --> 00:14:59,800
In all I'm doing there is saying okay let's just take a portion of

286
00:15:00,000 --> 00:15:01,900
Our, I think we're supposed to go.

287
00:15:03,100 --> 00:15:04,800
And add that in, right?

288
00:15:05,100 --> 00:15:10,900
So if you look at what's going on with that, then the idea here is

289
00:15:11,000 --> 00:15:17,800
that if setting it directly, if setting, Delta P directly or rather,

290
00:15:17,800 --> 00:15:21,800
if adding all of Delta P directly, just moves me instantaneously from

291
00:15:21,800 --> 00:15:24,500
the point to the new point because that's the entire Gap.

292
00:15:24,700 --> 00:15:28,000
Then all I have to do is just create some kind of a rate at which I

293
00:15:28,000 --> 00:15:31,200
could go there and I will get smooth interpolation right now.

294
00:15:31,200 --> 00:15:32,700
The reason that multiplying by tea,

295
00:15:32,900 --> 00:15:36,900
DT works is because this is basically a simplification of a more

296
00:15:36,900 --> 00:15:41,700
complex equation that, you know, just happens to fall out.

297
00:15:42,100 --> 00:15:43,000
What do I mean by this?

298
00:15:43,000 --> 00:15:43,500
Well,

299
00:15:50,100 --> 00:15:53,900
if you think about what's going on here, if you imagine, we've got

300
00:15:54,100 --> 00:15:58,400
again, these points here, here is the target P.

301
00:15:59,300 --> 00:16:00,300
Maybe I'll call this.

302
00:16:01,600 --> 00:16:06,800
P Target and I'll call this P camera.

303
00:16:07,800 --> 00:16:10,500
If we want to figure out the Delta between these two, right?

304
00:16:10,600 --> 00:16:13,700
Obviously we know what the Delta is, the Delta p.

305
00:16:13,700 --> 00:16:16,600
And this case, like I said, is p.t.

306
00:16:16,700 --> 00:16:17,800
minus PC.

307
00:16:17,900 --> 00:16:20,000
That's this Vector here, right?

308
00:16:20,000 --> 00:16:22,800
And that's just the difference between the two.

309
00:16:23,400 --> 00:16:29,600
So we know that if we were going to add PC, Plus Delta p,

310
00:16:30,700 --> 00:16:32,400
We would get PT.

311
00:16:32,600 --> 00:16:33,600
You know, why do we know that?

312
00:16:33,600 --> 00:16:35,000
Well, that's just this equation, right?

313
00:16:35,000 --> 00:16:41,600
That's just if I took this equation and I add PC to this side, I get

314
00:16:41,600 --> 00:16:42,400
this right.

315
00:16:42,400 --> 00:16:44,600
So, it's literally just the equation of this Vector.

316
00:16:45,300 --> 00:16:50,100
So if I want to move along a vector, right?

317
00:16:53,200 --> 00:16:56,800
If I want to move along a vector, we already know what the equations

318
00:16:56,800 --> 00:16:59,500
of motion are four points in space, right?

319
00:16:59,700 --> 00:17:00,800
We've done this before.

320
00:17:00,900 --> 00:17:07,099
We know that the equation for a position at time, T is equal to 1/2,

321
00:17:07,200 --> 00:17:11,599
write the acceleration times, the x squared plus, the velocity times

322
00:17:11,599 --> 00:17:13,200
the time, right?

323
00:17:13,200 --> 00:17:17,300
Plus some constant, which is the location it was at before and that

324
00:17:17,300 --> 00:17:21,800
constant is, you know, P0 write the P at time 0, right.

325
00:17:21,900 --> 00:17:22,900
So we know this equation,

326
00:17:23,099 --> 00:17:28,600
In and what you can see, when you look at this equation, is that this

327
00:17:28,700 --> 00:17:32,200
acceleration and this velocity right?

328
00:17:32,900 --> 00:17:37,100
You could imagine those two as being vectors that are pointing in the

329
00:17:37,100 --> 00:17:38,500
same direction as this Vector.

330
00:17:38,500 --> 00:17:41,600
Like let's say they were both Delta P, right?

331
00:17:41,900 --> 00:17:44,000
Well, if they were both Delta p

332
00:17:45,800 --> 00:17:49,600
And well I should be more specific so if they're both pointing in this

333
00:17:49,600 --> 00:17:53,300
direction, so I'm accelerating potentially in that direction or not,

334
00:17:53,300 --> 00:17:56,600
you know, either way or I have velocity in that direction or not.

335
00:17:56,700 --> 00:17:59,800
Either way, then what this, what is this equation and up?

336
00:18:00,000 --> 00:18:03,300
Like right, will it ends up looking like 1/2?

337
00:18:03,800 --> 00:18:08,900
Delta P times, whatever the scalar acceleration is, right.

338
00:18:08,900 --> 00:18:11,400
So you have to imagine this in fact we could write this as like a

339
00:18:11,400 --> 00:18:15,000
capital A as a vector or something in a capital V and we would just

340
00:18:15,000 --> 00:18:17,500
imagine a, is the length, right?

341
00:18:17,500 --> 00:18:21,400
So the length of the, the acceleration is a, and the length of the

342
00:18:21,400 --> 00:18:25,000
Velocity is V if we want to write it that way, right?

343
00:18:25,200 --> 00:18:29,300
We'd have 1/2, we know this is the, the Direction coming out.

344
00:18:30,000 --> 00:18:32,100
And it's got some length, whatever that length is.

345
00:18:32,300 --> 00:18:36,400
We then know that some, you know, we've got some magnitude here.

346
00:18:37,400 --> 00:18:40,500
Another way I could do this is we could pretend this was unit length,

347
00:18:40,900 --> 00:18:41,200
right?

348
00:18:41,200 --> 00:18:44,400
If we wanted to in fact, I'll go ahead and do that for you.

349
00:18:44,600 --> 00:18:46,600
So, Delta P, right?

350
00:18:46,600 --> 00:18:48,900
Is equal to some length.

351
00:18:48,900 --> 00:18:54,100
Whatever that link magnitude is times itself over its length.

352
00:18:54,500 --> 00:18:54,900
Oops.

353
00:18:57,200 --> 00:18:57,700
Right.

354
00:18:57,700 --> 00:19:01,100
So in other words, if I was to normalize this Vector, if I was to make

355
00:19:01,100 --> 00:19:04,900
it this long, that would be Delta p over

356
00:19:06,600 --> 00:19:08,400
The length of Delta P, right?

357
00:19:09,000 --> 00:19:10,100
And so whatever.

358
00:19:10,100 --> 00:19:13,300
The actual Delta is, is just some scalar times.

359
00:19:13,300 --> 00:19:17,200
That it's some magnitude here times the normalized version of my

360
00:19:17,200 --> 00:19:18,300
Vector, right?

361
00:19:19,600 --> 00:19:23,100
So really, you know, this is not quite the proper way to write it.

362
00:19:23,100 --> 00:19:25,300
You would have to say something more like

363
00:19:29,300 --> 00:19:38,300
Okay, so 1/2 Lambda Delta, p over the length of Delta P, right times.

364
00:19:38,300 --> 00:19:40,500
The acceleration Plus

365
00:19:43,000 --> 00:19:44,900
For the velocity term, same thing.

366
00:19:44,900 --> 00:19:47,500
It's going to be this normalized Vector.

367
00:19:47,500 --> 00:19:52,900
Oops, I'm behind my own head times Delta P right times, whatever the

368
00:19:52,900 --> 00:19:56,000
length of the Velocity is, plus the original

369
00:19:57,400 --> 00:20:01,500
Okay, so that's what we've we would get now, if you look at what

370
00:20:01,500 --> 00:20:04,500
happens when you group these terms, you get something pretty obvious

371
00:20:04,500 --> 00:20:05,400
here, right?

372
00:20:05,400 --> 00:20:07,800
If I group these terms together, they've got this in common.

373
00:20:09,900 --> 00:20:14,300
And so what you would end up with is, you would say well, okay, you

374
00:20:14,300 --> 00:20:20,400
know this this 1/2 a here I can pull out the

375
00:20:21,900 --> 00:20:25,200
The common term, which is this term, right?

376
00:20:25,200 --> 00:20:25,500
Oops.

377
00:20:27,900 --> 00:20:31,500
And then parentheses this, I'd get 1/2 a + V.

378
00:20:32,600 --> 00:20:33,500
Plus p 0.

379
00:20:36,000 --> 00:20:36,400
Right.

380
00:20:37,900 --> 00:20:43,600
Well, what you'll notice about this is that all of this, this whole

381
00:20:43,600 --> 00:20:47,800
thing is just a scalar value, right?

382
00:20:47,900 --> 00:20:49,800
It's just a scalar value.

383
00:20:49,900 --> 00:20:51,400
Oh, and I forgot my teas.

384
00:20:52,600 --> 00:20:53,200
How did I forget?

385
00:20:53,200 --> 00:20:53,900
My teas.

386
00:20:55,000 --> 00:20:55,800
T squared.

387
00:20:57,100 --> 00:20:57,500
T.

388
00:20:57,800 --> 00:20:58,200
Here we go.

389
00:20:58,900 --> 00:20:59,800
I can't believe I dropped.

390
00:21:00,000 --> 00:21:02,600
T, my time, I've dropped my timeout of the equation.

391
00:21:02,600 --> 00:21:03,600
How could I do that?

392
00:21:04,100 --> 00:21:05,400
And it's easy to keep up back in.

393
00:21:05,400 --> 00:21:08,200
There's a tea here to there, right?

394
00:21:08,800 --> 00:21:12,800
All of this is just one giant scalar, right?

395
00:21:12,800 --> 00:21:16,300
And it's proportional to the time step, which you can see here, and

396
00:21:16,300 --> 00:21:18,700
it's proportional to the square of the time, step in the acceleration.

397
00:21:19,300 --> 00:21:24,400
Now, what you'll notice is we don't have any acceleration on this on

398
00:21:24,400 --> 00:21:25,100
this camera.

399
00:21:25,300 --> 00:21:28,300
The camera is a resolved rate, basically, right?

400
00:21:28,600 --> 00:21:29,800
And what happens here,

401
00:21:30,000 --> 00:21:35,900
Here is it's got a constant velocity that turns on and that velocity

402
00:21:35,900 --> 00:21:41,500
is based on how far away the the thing is, if it's far if it gets

403
00:21:41,500 --> 00:21:44,500
close, it moves less as it gets further away.

404
00:21:44,500 --> 00:21:46,700
If it's further away, it moves more quickly, right?

405
00:21:47,300 --> 00:21:49,500
So we don't really have an acceleration here.

406
00:21:49,800 --> 00:21:54,100
We've just got a term, you know, we're not doing any kind of measured

407
00:21:54,100 --> 00:21:56,400
acceleration all we've really got.

408
00:21:59,400 --> 00:22:01,000
Is something that looks like this.

409
00:22:04,200 --> 00:22:09,000
But instead of actually letting these two things cancel each other out

410
00:22:09,000 --> 00:22:12,500
and having an actual velocity, we're actually pretending that our

411
00:22:12,500 --> 00:22:17,400
velocity is encoded in the length of P, right?

412
00:22:17,400 --> 00:22:22,300
So what we're basically saying is, oh, okay, so this whole part of the

413
00:22:22,300 --> 00:22:26,800
equation, we're just going to ignore and say that we're going to set

414
00:22:26,800 --> 00:22:28,700
these two cancel each other out.

415
00:22:28,700 --> 00:22:32,000
So basically that

416
00:22:33,000 --> 00:22:38,100
Equals this so that these terms all go away, our acceleration is 0 and

417
00:22:38,100 --> 00:22:42,100
for whatever reason, we're going to say that our velocity we could

418
00:22:42,100 --> 00:22:45,700
solve for the velocity, the velocity that we're going to go at right

419
00:22:46,000 --> 00:22:52,100
is going to be however, long our Vector is over its own length, right?

420
00:22:52,800 --> 00:22:57,900
So yeah, it's basically going to we're just going to set our velocity

421
00:22:57,900 --> 00:23:02,100
equal to whatever it needs to be to make that ineffectual, if that

422
00:23:02,100 --> 00:23:02,600
makes sense.

423
00:23:04,800 --> 00:23:05,100
Yeah.

424
00:23:05,500 --> 00:23:09,000
So anyway, not particularly interesting here but

425
00:23:11,000 --> 00:23:12,100
Oh no.

426
00:23:12,900 --> 00:23:14,200
Well it's having a bad math morning.

427
00:23:15,000 --> 00:23:15,800
I take that back.

428
00:23:16,000 --> 00:23:17,000
This should look like this.

429
00:23:19,800 --> 00:23:22,500
We don't want to add the lengths back in.

430
00:23:27,800 --> 00:23:28,900
Explain that one more time.

431
00:23:29,100 --> 00:23:32,100
So I did a pretty bad job that time I did.

432
00:23:32,100 --> 00:23:34,800
The work here saying, okay, this is what Delta p is.

433
00:23:35,100 --> 00:23:38,200
But what we want is only the directional portion, right?

434
00:23:38,200 --> 00:23:40,700
We don't actually want that part involved here.

435
00:23:40,700 --> 00:23:43,400
When we're trying to make the length, be something else.

436
00:23:43,400 --> 00:23:46,400
We're trying to make it be in this direction but with this

437
00:23:46,400 --> 00:23:49,300
acceleration in this direction but with this velocity.

438
00:23:49,800 --> 00:23:51,000
So that was a very poor explanation.

439
00:23:51,000 --> 00:23:52,100
I apologize for that.

440
00:23:54,000 --> 00:23:55,000
Bit of a slow morning.

441
00:23:56,300 --> 00:23:57,300
I blame it on Jesus.

442
00:23:57,300 --> 00:23:59,500
It's his Rising day-to-day or whatever.

443
00:24:00,000 --> 00:24:00,200
Right.

444
00:24:00,200 --> 00:24:03,700
So here you go in this case, right?

445
00:24:03,700 --> 00:24:06,400
Again, same, everything I said though, still applies, we've got

446
00:24:06,400 --> 00:24:10,900
basically the direction times the time and you know you can think of

447
00:24:10,900 --> 00:24:12,000
this either way you want.

448
00:24:12,000 --> 00:24:15,300
It's the direction times one half ay t squared plus v t or you can

449
00:24:15,300 --> 00:24:19,700
pull the teeth out either way but we don't have an acceleration in

450
00:24:19,700 --> 00:24:22,900
this case because we're not encoding any of that we just have

451
00:24:22,900 --> 00:24:24,300
instantaneous velocity there.

452
00:24:24,300 --> 00:24:26,700
As far as our current model is concerned.

453
00:24:26,900 --> 00:24:29,900
And what you can see here is again if we take a look at what that

454
00:24:30,000 --> 00:24:35,100
That ends up being, it's the direction times the velocity times the

455
00:24:35,100 --> 00:24:36,000
time step and perhaps.

456
00:24:36,300 --> 00:24:38,800
Let me just since I made such a mess of it, there, let me write it one

457
00:24:38,800 --> 00:24:41,500
more time for you, so you can see it a little bit more clearly, right?

458
00:24:41,500 --> 00:24:42,600
We have 1/2.

459
00:24:44,900 --> 00:24:52,500
A t squared plus v, t plus 30 is our equation.

460
00:24:53,800 --> 00:24:56,900
For this point, the point of the camera overtime, right?

461
00:24:58,700 --> 00:25:01,300
And what we want to do here is say, well, okay, we know that the

462
00:25:01,300 --> 00:25:04,700
direction is always going to be this direction, right?

463
00:25:05,100 --> 00:25:07,800
We're just saying that we're basically to turn this into a scalar

464
00:25:07,800 --> 00:25:11,200
equation, because that's the direction, always, write, whatever that

465
00:25:11,200 --> 00:25:14,600
direction happens to be, that's going to be where we're going.

466
00:25:14,900 --> 00:25:18,400
So that means now, instead of vectors for acceleration and velocity,

467
00:25:18,500 --> 00:25:19,400
we just have scalars.

468
00:25:19,400 --> 00:25:24,100
And we're going to say it's going to be 1/2, Delta p over the length

469
00:25:24,100 --> 00:25:25,900
of Delta P, right?

470
00:25:25,900 --> 00:25:27,800
Times the acceleration magnitude

471
00:25:28,000 --> 00:25:33,000
Times x squared plus the velocity term which again is in the same

472
00:25:33,000 --> 00:25:33,700
direction.

473
00:25:36,600 --> 00:25:38,200
Times the velocity times time.

474
00:25:38,500 --> 00:25:40,600
Plus our starting position wherever that is.

475
00:25:41,400 --> 00:25:43,300
So now our equation right?

476
00:25:43,300 --> 00:25:47,000
Simplifies out again exactly the way I did it before we just pull that

477
00:25:47,000 --> 00:25:51,000
part out and we would say, well, first of all, we can do a little

478
00:25:51,000 --> 00:25:51,300
simpler.

479
00:25:51,300 --> 00:25:55,000
This time we don't have an acceleration, we're not modeling it right.

480
00:25:55,000 --> 00:25:57,800
As I'm trying to explain what we just did with the DT.

481
00:25:57,900 --> 00:26:00,400
We're not modeling acceleration so that goes away.

482
00:26:00,800 --> 00:26:04,100
So all we're left with is this equation?

483
00:26:08,400 --> 00:26:09,000
Right.

484
00:26:09,400 --> 00:26:13,600
And so what were effectively doing if we just solve for what we did,

485
00:26:13,700 --> 00:26:14,300
right?

486
00:26:14,400 --> 00:26:16,200
We did this.

487
00:26:22,900 --> 00:26:23,200
Oops.

488
00:26:25,300 --> 00:26:25,500
Right.

489
00:26:25,500 --> 00:26:26,700
That's what I typed in.

490
00:26:27,300 --> 00:26:30,400
And so the question is where what is that actually end up doing well?

491
00:26:30,400 --> 00:26:33,000
You can see right here, the p 0 term is the same.

492
00:26:33,400 --> 00:26:36,600
Write the Delta p over.

493
00:26:38,000 --> 00:26:39,700
Well I should say the t is the same.

494
00:26:39,800 --> 00:26:42,500
Write the Delta p over length of p.

495
00:26:42,500 --> 00:26:46,900
V term is replaced by just a Delta P term, right?

496
00:26:47,100 --> 00:26:52,000
So then the question come becomes if Delta p over the length of Delta

497
00:26:52,000 --> 00:26:55,000
P times V is just being

498
00:26:55,100 --> 00:26:56,400
Scented by Delta P.

499
00:26:56,600 --> 00:26:57,400
What does that mean?

500
00:26:57,400 --> 00:26:58,600
That V equals?

501
00:26:58,800 --> 00:26:59,400
Right?

502
00:26:59,500 --> 00:26:59,700
Well,

503
00:27:00,000 --> 00:27:03,000
Can see, in this case like so what's the velocity of our camera,

504
00:27:03,000 --> 00:27:03,500
right?

505
00:27:04,200 --> 00:27:07,100
And what you can see in this case is the Delta PS, dropped their on

506
00:27:07,100 --> 00:27:07,600
both sides.

507
00:27:07,600 --> 00:27:10,900
So you divide both sides by Delta p, and you just get equals one and

508
00:27:10,900 --> 00:27:14,100
you multiply this over their side and you get V equals length of Delta

509
00:27:14,100 --> 00:27:14,500
P.

510
00:27:14,700 --> 00:27:19,000
So what we have done is written a resolved rate equation, where the

511
00:27:19,000 --> 00:27:23,300
velocity is, always equal to the distance of to the Target, right?

512
00:27:23,500 --> 00:27:24,500
That's the velocity.

513
00:27:24,600 --> 00:27:28,300
So the instantaneous velocity of our camera at any time, is just

514
00:27:28,300 --> 00:27:29,800
always equal to the distance.

515
00:27:30,000 --> 00:27:33,000
Away from the Target now is that a particularly good velocity to use?

516
00:27:33,000 --> 00:27:36,700
No, I just wanted to explain why that was working there.

517
00:27:37,500 --> 00:27:40,500
But so you can kind of see that's a that already gives us an

518
00:27:40,500 --> 00:27:43,000
interpolating camera which is good, right?

519
00:27:43,300 --> 00:27:46,100
We now know that our stuff is working properly, it's just not a

520
00:27:46,100 --> 00:27:48,300
particularly Pleasant interpolating camera.

521
00:27:48,800 --> 00:27:52,100
It doesn't really do exactly what we want in terms of like Behavior or

522
00:27:52,100 --> 00:27:55,000
anything like that, but it's a good start because now we can start of

523
00:27:55,300 --> 00:27:56,500
work with that equation more.

524
00:27:57,500 --> 00:27:59,900
now, here's the thing, like I said,

525
00:28:02,000 --> 00:28:02,300
In here.

526
00:28:02,300 --> 00:28:06,600
We've got kind of a situation where, in fact, let's maybe break this

527
00:28:06,600 --> 00:28:09,700
down a little bit, let's not do the stairwell first, because it's kind

528
00:28:09,700 --> 00:28:10,600
of a two-part thing.

529
00:28:10,800 --> 00:28:12,300
Let's do something first.

530
00:28:12,300 --> 00:28:15,700
We're we're just if we're sitting here, looking over the Press apiece,

531
00:28:15,900 --> 00:28:19,400
or press a piss, however, you want to do that, let's say if you come

532
00:28:19,400 --> 00:28:23,800
look over the precipice and you just wait there, it'll kind of move

533
00:28:23,800 --> 00:28:27,800
over and show it to you and then if you start moving, it will stop

534
00:28:28,200 --> 00:28:28,700
right.

535
00:28:28,700 --> 00:28:30,200
It'll go back to the center.

536
00:28:30,600 --> 00:28:31,700
Let's do something like that.

537
00:28:33,500 --> 00:28:37,200
So what I want to do is inside the entity, I'm going to stop making

538
00:28:37,200 --> 00:28:40,000
this a flag and I'm going to make it an actual camera Behavior thing.

539
00:28:41,000 --> 00:28:44,500
So instead of controls camera that's going to go away, and what we're

540
00:28:44,500 --> 00:28:49,300
going to do here is we're just going to have a enum called camera

541
00:28:49,400 --> 00:28:55,400
behavior, and I'm going to have a thing here, which is like cameras.

542
00:29:00,900 --> 00:29:01,200
I don't know.

543
00:29:01,200 --> 00:29:02,300
Inspect

544
00:29:08,000 --> 00:29:08,800
Something like that.

545
00:29:09,700 --> 00:29:13,700
And then I'm going to put one of these camera behaviors in here, so

546
00:29:14,200 --> 00:29:16,700
we'll just go ahead and throw that in like so,

547
00:29:19,000 --> 00:29:21,600
Although actually I guess I think that this is like a real thing.

548
00:29:21,600 --> 00:29:25,200
So I guess it's supposed to go up in the part that we actually want to

549
00:29:25,200 --> 00:29:27,200
stuff to have like this.

550
00:29:29,200 --> 00:29:30,700
I also suppose this can go away, huh?

551
00:29:35,600 --> 00:29:36,100
All right.

552
00:29:39,800 --> 00:29:40,300
There we go.

553
00:29:41,900 --> 00:29:46,000
So now in here, what I want to do is say if test entity camera

554
00:29:46,000 --> 00:29:46,700
Behavior,

555
00:29:49,300 --> 00:29:53,800
Is not, you know is nonzero and it overlaps, then we're going to do

556
00:29:53,800 --> 00:29:55,500
something, right.

557
00:29:56,500 --> 00:29:59,800
That's really all we need to know at the moment and let me go

558
00:30:00,000 --> 00:30:01,900
And set that here properly.

559
00:30:07,200 --> 00:30:08,600
And this is going to be.

560
00:30:09,000 --> 00:30:13,500
I guess this will leave us inspect for now but in we're going to want

561
00:30:13,500 --> 00:30:16,200
to do a custom one like I said, for that stairwell Behavior.

562
00:30:16,200 --> 00:30:18,300
So we'll write a different one in a second.

563
00:30:20,700 --> 00:30:21,500
Here we go.

564
00:30:25,900 --> 00:30:31,200
Okay, so now we should still get the same behavior, right?

565
00:30:31,200 --> 00:30:32,200
Like we were before.

566
00:30:33,300 --> 00:30:33,800
Yep.

567
00:30:35,000 --> 00:30:37,500
And so now, what I want to do is I want to come back here and say

568
00:30:37,500 --> 00:30:44,100
well, okay, in addition to this camera volume that we're doing here,

569
00:30:44,300 --> 00:30:46,100
I'm going to do a second camera volume.

570
00:30:46,700 --> 00:30:53,700
And I want this camera volume to be where this whole, the left hole is

571
00:30:54,000 --> 00:30:54,500
right.

572
00:30:54,600 --> 00:31:00,200
So, I want the left hole between negative 5 and negative 3, that's

573
00:31:00,200 --> 00:31:01,300
where I want that to be.

574
00:31:01,700 --> 00:31:02,900
And so, we'll just say,

575
00:31:03,100 --> 00:31:06,200
He had notes hole.

576
00:31:10,800 --> 00:31:11,500
Stairs.

577
00:31:15,100 --> 00:31:15,600
Like so.

578
00:31:16,200 --> 00:31:19,900
So in here, if we said, okay, begin ground identity is Cameron's fact,

579
00:31:19,900 --> 00:31:23,900
we know that the X Dimension here is actually two tiles on either

580
00:31:23,900 --> 00:31:24,900
side, right?

581
00:31:25,500 --> 00:31:29,900
Because it's negative 5 to negative.

582
00:31:30,700 --> 00:31:32,600
That's that was bigger than that.

583
00:31:33,800 --> 00:31:36,000
I guess it's - oh it's less than equal to so it's five.

584
00:31:36,000 --> 00:31:41,900
Four three it's only three wide so I guess it's actually one point

585
00:31:41,900 --> 00:31:44,200
five tiles in either direction.

586
00:31:45,900 --> 00:31:52,400
I guess the why dim will only be one tile wide and then we do rectum

587
00:31:52,400 --> 00:31:53,400
in Max here.

588
00:31:54,200 --> 00:31:58,000
I guess what I want to do here is say okay.

589
00:31:59,800 --> 00:32:03,300
This is not, this is not quite what we want, we don't really want to

590
00:32:03,300 --> 00:32:03,700
recommend.

591
00:32:03,700 --> 00:32:04,900
We want Rec Center gym.

592
00:32:05,500 --> 00:32:09,000
So in this case, what I want to do is say, Okay, so the dimension is

593
00:32:09,000 --> 00:32:12,700
going to be and I guess the dimension that we don't give it half.

594
00:32:12,700 --> 00:32:15,900
So, in this case, it's just one in three, right?

595
00:32:16,000 --> 00:32:17,300
So it's X then y dim.

596
00:32:17,300 --> 00:32:23,000
And then this is a pretty reasonable dimension for the height as well.

597
00:32:23,800 --> 00:32:26,900
So, what I'm going to do here is say, alright now, we need to place

598
00:32:26,900 --> 00:32:27,600
this thing.

599
00:32:29,600 --> 00:32:30,500
Is somewhere.

600
00:32:31,300 --> 00:32:33,900
And what we want to do is we're going to center it.

601
00:32:34,200 --> 00:32:39,800
I guess in terms of its placement we would need this is a little dicey

602
00:32:39,800 --> 00:32:45,300
because in this case we need the placement to be offset by half a

603
00:32:45,300 --> 00:32:45,600
meter.

604
00:32:45,600 --> 00:32:45,700
Right?

605
00:32:45,700 --> 00:32:50,400
Because in the middle of a 3 sort of thing but I guess that's okay.

606
00:32:50,400 --> 00:32:51,900
In fact, I guess what we could do.

607
00:32:53,600 --> 00:32:57,900
Is I guess, in this case, what I could do is still use the min max and

608
00:32:58,000 --> 00:32:59,100
Center it sideways.

609
00:32:59,100 --> 00:32:59,800
So I don't have to

610
00:33:00,000 --> 00:33:01,000
An offset to this.

611
00:33:01,500 --> 00:33:05,600
So anyway, if I want to do that to be centered around negative 4 as an

612
00:33:05,600 --> 00:33:06,200
offset,

613
00:33:08,400 --> 00:33:13,900
And it would be centered around I guess for why it would be at Y 2,

614
00:33:14,500 --> 00:33:15,100
right?

615
00:33:15,200 --> 00:33:20,100
Because it's going to be just below where the hole is and so if I did

616
00:33:20,100 --> 00:33:26,600
a recommend Max in this case yeah I want to do a - wide and wide them

617
00:33:26,600 --> 00:33:32,200
there and in the case of the X dim it's a little bit more specific.

618
00:33:32,600 --> 00:33:34,400
So I want to do that a little bit more carefully.

619
00:33:34,400 --> 00:33:36,100
This one's just going to be at zero.

620
00:33:37,800 --> 00:33:40,700
And then typical floor height so that part's all fine.

621
00:33:40,800 --> 00:33:43,000
So it's really just the X dim that I care about.

622
00:33:43,100 --> 00:33:48,300
So in the X damned, if we're centered at negative 4 and we want - 50,

623
00:33:48,300 --> 00:33:50,900
I guess this this just does work, doesn't it?

624
00:33:51,200 --> 00:33:54,300
Because if we're centered on that and I do

625
00:33:55,700 --> 00:33:55,900
Hat.

626
00:33:55,900 --> 00:33:58,700
Yeah I think that actually does work if this is centered on the tile

627
00:33:59,000 --> 00:33:59,900
so that's actually fine.

628
00:33:59,900 --> 00:34:00,600
I think about it.

629
00:34:03,100 --> 00:34:08,000
Hopefully that will give me a camera at the whole.

630
00:34:08,000 --> 00:34:09,500
Oh I'm on the wrong side of it though.

631
00:34:13,800 --> 00:34:17,000
So I really want - one here, forgot that y goes up.

632
00:34:19,199 --> 00:34:20,800
Old CRT mentality.

633
00:34:23,500 --> 00:34:24,300
So there we go.

634
00:34:24,300 --> 00:34:29,800
And so if I come over here and I do the sort of weird head jerk and

635
00:34:29,800 --> 00:34:35,100
here you can see that, it does what I expected to do and it's also see

636
00:34:35,100 --> 00:34:35,500
here.

637
00:34:37,800 --> 00:34:40,600
At that's also the right height, which is basically most of the area

638
00:34:40,600 --> 00:34:40,900
here.

639
00:34:41,199 --> 00:34:44,100
Maybe I should tone that height down a little bit, maybe it couldn't

640
00:34:44,100 --> 00:34:45,300
shouldn't be quite so much.

641
00:34:46,400 --> 00:34:47,900
That's a reasonable camera region.

642
00:34:48,800 --> 00:34:52,699
So what I want to do now is I want to actually make some code for that

643
00:34:52,699 --> 00:34:55,000
inspection area.

644
00:34:55,500 --> 00:35:00,100
And so, what I'm going to do here is just say these entities, I

645
00:35:00,100 --> 00:35:03,600
believe if I'm not mistaken, they always have IDs.

646
00:35:03,900 --> 00:35:07,900
So, what I can do is I can basically track inside the camera.

647
00:35:08,400 --> 00:35:12,400
If you're inside, one of these special camera things, I can basically

648
00:35:12,400 --> 00:35:13,800
track that information.

649
00:35:14,200 --> 00:35:18,500
So what I can say is like, you know, entity ID,

650
00:35:20,100 --> 00:35:25,000
In special or something like this, and I can do T in special.

651
00:35:27,300 --> 00:35:30,000
So what I can do here is I can say, all right, we have a special

652
00:35:30,000 --> 00:35:30,600
camera.

653
00:35:31,700 --> 00:35:34,500
I'm not going to do this part at the moment.

654
00:35:34,500 --> 00:35:34,900
I'm going to

655
00:35:36,800 --> 00:35:37,700
get this out of here.

656
00:35:40,200 --> 00:35:43,300
So at the moment, I'm just going to that was the code for doing the

657
00:35:43,300 --> 00:35:43,500
only.

658
00:35:43,500 --> 00:35:46,600
If you're going up for the stairwell, will put that in when we do the

659
00:35:46,600 --> 00:35:47,400
full stare stuff.

660
00:35:48,200 --> 00:35:51,200
So what we do is say, okay, the special camera is equal to whatever

661
00:35:51,200 --> 00:35:55,100
the test entity is that we overlapped.

662
00:35:55,100 --> 00:35:57,500
And then, when we come down here, what I'm going to say is, all right,

663
00:35:57,500 --> 00:35:59,800
if there was a special camera found in that path,

664
00:36:01,200 --> 00:36:04,200
Then what I'm going to do is I'm going to compare its ID to the ID

665
00:36:04,200 --> 00:36:05,500
we're currently tracking.

666
00:36:05,600 --> 00:36:09,700
So I'm going to say all right the camera was tracking a special ID if

667
00:36:09,700 --> 00:36:13,100
that is the same as the one from the camera.

668
00:36:13,100 --> 00:36:16,300
And I think we have a like are equal for those.

669
00:36:16,900 --> 00:36:18,200
I don't really know.

670
00:36:29,100 --> 00:36:29,600
Do we?

671
00:36:31,100 --> 00:36:32,300
Yeah, there it is is equal.

672
00:36:33,300 --> 00:36:35,000
So we have a is equal.

673
00:36:36,600 --> 00:36:42,200
So if these two are equal the in special and the ID, then I know that

674
00:36:42,200 --> 00:36:47,200
we are in the same camera as we were last time because we're going to

675
00:36:47,200 --> 00:36:48,300
set that, right?

676
00:36:49,000 --> 00:36:52,100
We're going to say, you know, we're going to remember

677
00:36:54,500 --> 00:36:55,000
Right.

678
00:36:55,400 --> 00:36:57,300
And we're furthermore, we're going to clear it.

679
00:37:00,800 --> 00:37:04,900
Anytime we don't find ourselves in a special camera.

680
00:37:06,400 --> 00:37:08,000
I don't know if we have a way to do that.

681
00:37:14,000 --> 00:37:14,700
I think we do.

682
00:37:23,300 --> 00:37:24,000
But we do now.

683
00:37:25,100 --> 00:37:25,700
So anyway.

684
00:37:27,800 --> 00:37:29,900
What we're going to do here is I'm going to say, all right, every

685
00:37:29,900 --> 00:37:31,500
frame we're going to track.

686
00:37:31,500 --> 00:37:32,000
What?

687
00:37:32,100 --> 00:37:32,500
What?

688
00:37:32,500 --> 00:37:36,100
Which of these volumes if there's a special camera, which one you're

689
00:37:36,100 --> 00:37:36,500
in.

690
00:37:36,800 --> 00:37:40,200
And we're going to use that as a piece of important piece of

691
00:37:40,200 --> 00:37:41,300
information, right?

692
00:37:41,600 --> 00:37:43,900
We're going to check to see On Any Given frame.

693
00:37:44,000 --> 00:37:47,000
Are they the same if they're not right?

694
00:37:47,100 --> 00:37:50,800
So, if this is a new one, well, I guess we could do it this way.

695
00:37:53,300 --> 00:37:59,000
So if they're not the same so we're in a different one as last time.

696
00:37:59,300 --> 00:38:03,800
Then what we want to do is clear, the amount of time that the counter

697
00:38:03,900 --> 00:38:04,600
that's going to count.

698
00:38:04,600 --> 00:38:07,900
How much time we spent in particular one, we're going to clear that

699
00:38:08,000 --> 00:38:11,700
otherwise we're going to add the Delta time to it, right?

700
00:38:13,400 --> 00:38:16,300
So basically, we're just keeping an accumulator of how long you've

701
00:38:16,300 --> 00:38:18,300
been in a inside a specific camera.

702
00:38:19,300 --> 00:38:23,200
If you've been in an inside a camera long enough, let's say, then

703
00:38:23,200 --> 00:38:28,200
we're going to actually use that special camera as an alternate

704
00:38:28,200 --> 00:38:29,000
Target.

705
00:38:29,000 --> 00:38:30,100
Otherwise not.

706
00:38:30,900 --> 00:38:31,300
Okay.

707
00:38:31,700 --> 00:38:35,800
So in this case, what we want to do is say, well, okay, if the T in

708
00:38:35,800 --> 00:38:39,300
special is over a certain value, then we'll use it.

709
00:38:39,300 --> 00:38:43,100
So we could do, you know, if, for example, special camera and

710
00:38:43,600 --> 00:38:44,200
Camera.

711
00:38:46,900 --> 00:38:47,900
Tien special.

712
00:38:51,000 --> 00:38:55,100
Is greater than one second, or something like this, right?

713
00:39:02,500 --> 00:39:05,900
And this isn't quite what we want yet, but it's getting closer.

714
00:39:05,900 --> 00:39:09,500
So, for example, now if I came over here and stood in here, you can

715
00:39:09,500 --> 00:39:12,200
see after a little bit, it will come over.

716
00:39:12,300 --> 00:39:14,800
And if I hop back outside, then it won't.

717
00:39:14,900 --> 00:39:16,400
And we can make that a little bit longer.

718
00:39:16,400 --> 00:39:18,500
Even, you know, it could be 5 Seconds.

719
00:39:23,600 --> 00:39:27,300
So here I come over here, I stand by The Edge and then it goes like

720
00:39:27,300 --> 00:39:32,600
okay 1 2 3 4 5 and then it comes over right just so you can exaggerate

721
00:39:32,600 --> 00:39:33,000
the effect.

722
00:39:33,000 --> 00:39:36,600
I don't think you'd actually want it to be set to that high, but

723
00:39:36,600 --> 00:39:38,500
that's the idea, right?

724
00:39:39,200 --> 00:39:43,200
And then if you leave this area, it will go back to viewing the room.

725
00:39:43,200 --> 00:39:44,800
As you would normally view it.

726
00:39:45,200 --> 00:39:48,900
And again, you can come back in here and wait for a little bit and it

727
00:39:48,900 --> 00:39:51,400
will go view that location.

728
00:39:52,200 --> 00:39:57,900
Right now, furthermore that could control the zoom as well if we

729
00:39:57,900 --> 00:39:58,300
wanted to.

730
00:39:58,300 --> 00:40:03,500
So, for example, inside this, the entities if we had

731
00:40:11,200 --> 00:40:17,700
Let's say The Entity had been here, a camera offset Z.

732
00:40:19,500 --> 00:40:24,600
And so if that was the case, then in here, you know, we set the target

733
00:40:25,200 --> 00:40:26,700
Z like this.

734
00:40:27,000 --> 00:40:32,200
What we could do instead is say all right the target offset C equals 8

735
00:40:32,200 --> 00:40:35,000
.0 otherwise the target offsets.

736
00:40:35,000 --> 00:40:39,300
The in the case of the special is going to be the camera offset, see

737
00:40:40,200 --> 00:40:41,900
like that.

738
00:40:44,600 --> 00:40:46,200
And then we would have that information.

739
00:40:46,500 --> 00:40:52,100
So what we want to do is in this case, say well, okay the Target off

740
00:40:52,100 --> 00:40:57,000
set C is going to be either coming from our expected, offsets the or

741
00:40:57,000 --> 00:41:00,100
it's going to come from whatever this entity is and so that would

742
00:41:00,100 --> 00:41:03,000
allow us to zoom in as well, right?

743
00:41:03,000 --> 00:41:10,200
So what we can do here is in the world where we create this thing set

744
00:41:10,200 --> 00:41:11,000
that as a behavior.

745
00:41:11,200 --> 00:41:14,300
Furthermore, what we could do in this case is we could say

746
00:41:14,400 --> 00:41:18,500
All, you know, maybe behavior is actually has a couple different

747
00:41:18,500 --> 00:41:19,500
components to it.

748
00:41:19,700 --> 00:41:20,000
You know.

749
00:41:20,000 --> 00:41:23,100
Maybe the behavior is actually more of a Flags field.

750
00:41:24,000 --> 00:41:27,100
So, you know, the camera Behavior has it inspect, it has a zoom

751
00:41:32,000 --> 00:41:32,500
Right.

752
00:41:33,200 --> 00:41:34,200
So maybe what happens.

753
00:41:34,200 --> 00:41:37,600
Here is more like if camera

754
00:41:39,000 --> 00:41:39,800
Behavior.

755
00:41:41,100 --> 00:41:41,500
Sorry.

756
00:41:52,200 --> 00:41:56,000
We set it in otherwise we don't right?

757
00:41:56,400 --> 00:41:59,800
So then in here we would say it since this is that's

758
00:42:00,000 --> 00:42:01,200
Hole cameras.

759
00:42:02,600 --> 00:42:03,400
Listen here.

760
00:42:05,000 --> 00:42:08,700
So that's an inspect and it does affect the zoom Etc.

761
00:42:09,700 --> 00:42:12,400
So something like this, right?

762
00:42:12,900 --> 00:42:14,200
And let's go ahead and

763
00:42:16,600 --> 00:42:17,100
we're set up.

764
00:42:17,100 --> 00:42:17,600
There we go.

765
00:42:23,200 --> 00:42:27,100
So now when we come over here after 5 Seconds, elapsed is, we should

766
00:42:27,600 --> 00:42:28,200
zoom in.

767
00:42:28,200 --> 00:42:31,900
Now granted we set the zoom to 0 which is not a particularly good zoom

768
00:42:32,400 --> 00:42:34,500
so we should probably set that to something else.

769
00:42:42,000 --> 00:42:45,400
Maybe that, and maybe that special.

770
00:42:47,000 --> 00:42:48,700
Let's set that something more reasonable.

771
00:43:00,200 --> 00:43:04,200
So now after 2 seconds it will zoom in still seems to be zooming in

772
00:43:04,200 --> 00:43:06,300
quite a bit more than I would have expected.

773
00:43:11,800 --> 00:43:12,800
Did I that see?

774
00:43:12,800 --> 00:43:15,600
That still looks like it's is more set to 0.

775
00:43:15,800 --> 00:43:16,700
Did I miss something?

776
00:43:35,600 --> 00:43:38,900
Well, so if it's eight, it should not zoom in at all.

777
00:43:40,500 --> 00:43:41,200
So I'd be interested.

778
00:43:41,200 --> 00:43:43,100
Let me see what happens here.

779
00:43:44,500 --> 00:43:46,600
Maybe three is not high enough up.

780
00:43:50,700 --> 00:43:50,900
Snow.

781
00:43:50,900 --> 00:43:55,400
So we have definitely have a weird situation going on there, right?

782
00:43:55,900 --> 00:43:58,200
It should not be zooming in nearly that much.

783
00:43:58,900 --> 00:44:01,600
It's as if the camera off set, C is set to 0.

784
00:44:03,400 --> 00:44:05,000
Like completely set to 0.

785
00:44:08,500 --> 00:44:08,800
Yeah.

786
00:44:10,300 --> 00:44:12,400
How about I actually get it off the camera?

787
00:44:13,600 --> 00:44:16,900
I was actually getting it off of the hero, which doesn't make any

788
00:44:16,900 --> 00:44:21,900
sense, because unsurprisingly, the hero doesn't have that set given

789
00:44:21,900 --> 00:44:24,900
that the hero is not a camera volume, alright?

790
00:44:25,400 --> 00:44:27,900
So in this case, we can zoom in, right?

791
00:44:28,400 --> 00:44:32,900
And if we wanted to we could even have more of an offset.

792
00:44:33,300 --> 00:44:35,100
In this case, we could make it.

793
00:44:35,100 --> 00:44:40,300
So that for example if we wanted to really have a very specific

794
00:44:41,800 --> 00:44:45,900
Way in which this was working, we could make it so that this offset is

795
00:44:45,900 --> 00:44:50,600
a full offset so that it can specify all, you know, exactly how it

796
00:44:50,600 --> 00:44:51,500
wants to be placed.

797
00:44:51,600 --> 00:44:55,000
So for example we could say well the offsets going to be you know

798
00:44:55,000 --> 00:44:59,800
nothing in X but in why we do want to go

799
00:45:00,100 --> 00:45:02,900
You know, two units up for something like this.

800
00:45:02,900 --> 00:45:08,100
So you're looking more down at the whole in particular, something like

801
00:45:08,100 --> 00:45:08,400
this.

802
00:45:08,700 --> 00:45:12,600
So in that case you end up with a thing where it's like, all right,

803
00:45:13,000 --> 00:45:14,200
you're going to get a Target offset?

804
00:45:14,200 --> 00:45:15,700
See, it's going to come from here.

805
00:45:15,900 --> 00:45:18,600
You're also going to modify the target.

806
00:45:18,800 --> 00:45:19,900
The target P.

807
00:45:20,500 --> 00:45:25,300
Its XY is going to get offset by whatever the X Y is in here, oops.

808
00:45:29,700 --> 00:45:34,500
And now you can slide the camera around as well by saying here's where

809
00:45:34,500 --> 00:45:37,500
the target should end up relative to wear this.

810
00:45:38,700 --> 00:45:41,400
You know the here is that time, right?

811
00:45:42,000 --> 00:45:45,500
So now if you want to write, you can kind of do this thing where the

812
00:45:45,800 --> 00:45:50,000
camera will zoom in when the hero is, is kind of over the whole, so

813
00:45:50,000 --> 00:45:51,200
you can see down.

814
00:45:51,800 --> 00:45:58,500
It does occur to me that our fog are layer picking is not picking far

815
00:45:58,500 --> 00:45:59,200
enough down.

816
00:45:59,400 --> 00:46:03,700
The moment because of the change we made in how hot big floors are.

817
00:46:04,200 --> 00:46:06,000
But now that's kind of fun, right?

818
00:46:06,000 --> 00:46:07,000
Where you can sort of.

819
00:46:07,000 --> 00:46:11,800
If you happen to be looking down over there, you can can see what's in

820
00:46:11,800 --> 00:46:13,800
there, and that's kind of fun, right?

821
00:46:14,100 --> 00:46:15,800
Don't know if that will actually work for gameplay.

822
00:46:15,800 --> 00:46:18,300
It might be too difficult.

823
00:46:18,300 --> 00:46:19,300
Maybe you do it only.

824
00:46:19,300 --> 00:46:22,100
If all the monsters are dead or something like that, so it's, you

825
00:46:22,100 --> 00:46:25,200
know, it's not going to be a problem, but it's kind of fun, right?

826
00:46:25,200 --> 00:46:26,500
I mean, that's just kind of a nice.

827
00:46:27,000 --> 00:46:29,200
It's just interesting, it's games.

828
00:46:29,400 --> 00:46:31,900
Seems, you know, a lot of times are about having lots of little

829
00:46:31,900 --> 00:46:33,000
interesting things you can do.

830
00:46:33,000 --> 00:46:34,900
And so again, this is just a nice thing.

831
00:46:34,900 --> 00:46:38,700
Once you have a 3D camera and everything is 3D ish, you know it's just

832
00:46:38,700 --> 00:46:41,700
kind of nice to be able to play with it in that way.

833
00:46:43,200 --> 00:46:44,600
Yeah so that's pretty great.

834
00:46:44,700 --> 00:46:45,600
I'm into that.

835
00:46:45,600 --> 00:46:47,700
I mean to that as a feature I like it.

836
00:46:47,700 --> 00:46:49,100
I think it takes too long to kick in

837
00:46:51,900 --> 00:46:52,500
There you go.

838
00:46:53,300 --> 00:46:54,300
Alright, so

839
00:46:58,800 --> 00:47:02,600
what we could do to is make it, so you have to actually stop there at

840
00:47:02,600 --> 00:47:03,100
the moment.

841
00:47:03,100 --> 00:47:06,700
It's just however long you're in this thing, but maybe what that

842
00:47:06,700 --> 00:47:09,700
should do is, it should have to have a trigger in terms of your

843
00:47:09,700 --> 00:47:13,300
velocity and that velocity has to be 0, right?

844
00:47:13,800 --> 00:47:19,400
So we can do that too, we can do like, you know, velocity measure

845
00:47:19,400 --> 00:47:23,500
something like this and maybe inspect just knows that the velocity

846
00:47:23,500 --> 00:47:24,200
measures that.

847
00:47:24,200 --> 00:47:25,100
So, you know,

848
00:47:26,800 --> 00:47:30,900
In this case, we would say camera Behavior inside here.

849
00:47:30,900 --> 00:47:37,300
If it overlaps, we would say, well, okay, if the camera behavior is an

850
00:47:37,300 --> 00:47:38,600
inspection Behavior.

851
00:47:39,800 --> 00:47:45,000
Then we've got some other sort of modifications that we're going to

852
00:47:45,000 --> 00:47:45,700
have to do.

853
00:47:46,000 --> 00:47:49,800
So, if the camera havior is camera inspect, which is the only kind of

854
00:47:49,800 --> 00:47:54,800
when, we know at the moment, then what we need to do is we could even

855
00:47:54,800 --> 00:47:55,600
set this by default.

856
00:47:56,000 --> 00:47:57,000
Then do it in here.

857
00:47:57,700 --> 00:47:59,800
What we could say is if the entity

858
00:48:01,800 --> 00:48:02,600
DP.

859
00:48:06,400 --> 00:48:07,000
There's nothing.

860
00:48:09,700 --> 00:48:11,300
or should I say is greater than

861
00:48:12,500 --> 00:48:15,100
Anything done a special camera is 0.

862
00:48:22,900 --> 00:48:27,100
So, in theory, now if I like going through here and I'm like, playing

863
00:48:27,100 --> 00:48:31,000
and doing stuff and like fighting people, or whoever knows what it

864
00:48:31,000 --> 00:48:34,100
won't do it, but if I stop in theory, we should go in there.

865
00:48:34,100 --> 00:48:36,300
Of course we don't, I wonder if that's because the velocity never

866
00:48:36,300 --> 00:48:37,100
quite goes to 0.

867
00:48:37,100 --> 00:48:38,600
We may need a little bit arms there.

868
00:48:38,600 --> 00:48:39,900
Let's say something like that.

869
00:48:48,600 --> 00:48:49,200
So again.

870
00:48:52,200 --> 00:48:52,700
There we go.

871
00:49:05,700 --> 00:49:06,800
so, I think

872
00:49:11,800 --> 00:49:12,300
To me.

873
00:49:13,000 --> 00:49:14,500
That's roughly what I'm looking for.

874
00:49:21,100 --> 00:49:24,300
and so now we just kind of need some more stuff in here that's like,

875
00:49:26,700 --> 00:49:29,900
you know, ways ways of handling the stairwell specifically.

876
00:49:30,800 --> 00:49:33,300
So the stairwell right now has been changed so that the stairwell

877
00:49:33,300 --> 00:49:38,400
actually will do exactly the same thing as the inspect does.

878
00:49:38,400 --> 00:49:42,400
So if I'm in the stairwell and moving, it won't do anything, which is

879
00:49:42,400 --> 00:49:43,400
not what we want.

880
00:49:43,700 --> 00:49:47,400
And if I'm in the stairwell and just waiting there, it'll kind of come

881
00:49:47,400 --> 00:49:48,200
over, right?

882
00:49:49,500 --> 00:49:50,400
But that's not what we want.

883
00:49:50,400 --> 00:49:54,600
What we want to do is say, well, okay, if the player is moving down

884
00:49:54,600 --> 00:49:59,600
the stairwell, then we want, even if they're on the top square, we

885
00:49:59,600 --> 00:50:04,600
probably want to focus in once they get on the actual stairwell.

886
00:50:04,600 --> 00:50:08,500
Then we never want to do anything other than being stairwell, Focus,

887
00:50:08,800 --> 00:50:09,300
right?

888
00:50:09,400 --> 00:50:11,800
So, we want to force you to stairwell Focus.

889
00:50:15,600 --> 00:50:19,700
Once you get once you get to that point and then only once, you're

890
00:50:19,700 --> 00:50:23,400
actually out of the stairwell, Focus region, do we want the camera to

891
00:50:23,400 --> 00:50:25,600
return to what it's doing?

892
00:50:26,800 --> 00:50:28,900
So what I want to do here is say, like, okay,

893
00:50:31,000 --> 00:50:34,100
in the stairs cam, I want to basically

894
00:50:40,300 --> 00:50:41,500
All right, much better.

895
00:50:45,800 --> 00:50:46,600
So no one had better.

896
00:50:46,600 --> 00:50:49,300
Use those terms now because those are like, fully trademarked

897
00:50:56,200 --> 00:50:59,800
All right, so in here, we basically have begin ground entities.

898
00:51:00,600 --> 00:51:01,900
For the for the stairs.

899
00:51:02,300 --> 00:51:02,800
Exactly.

900
00:51:02,800 --> 00:51:05,300
Like we do for the whole where there's just one, but for the stairs, I

901
00:51:05,300 --> 00:51:08,500
think we probably want to different ones because if you're on the

902
00:51:08,500 --> 00:51:11,200
actual stairs, we always want to be in Starck at mode.

903
00:51:11,300 --> 00:51:14,400
There shouldn't be any way to get out of it but if you're just passing

904
00:51:14,400 --> 00:51:19,000
by the top, right then we don't really want to be in stairs cam mode

905
00:51:19,000 --> 00:51:20,700
so we probably want to create two of these.

906
00:51:22,000 --> 00:51:23,100
I guess what I would say.

907
00:51:23,800 --> 00:51:30,800
So what we want here is we want to do like, you know, second one of

908
00:51:30,800 --> 00:51:31,300
these.

909
00:51:35,000 --> 00:51:37,800
I end, we'll figure out what they're supposed to be in a second.

910
00:51:43,000 --> 00:51:48,300
All right, so for starters, let's just do the main stair area and this

911
00:51:48,300 --> 00:51:51,900
could be just a force.

912
00:51:53,300 --> 00:51:54,900
Two player or something like this.

913
00:51:57,000 --> 00:52:01,900
This is basically like if you're in here or like you know if you're in

914
00:52:01,900 --> 00:52:06,300
here you're just going to view the player like immediately something

915
00:52:06,300 --> 00:52:06,800
like that.

916
00:52:09,500 --> 00:52:14,100
If you're here, I guess in this case, we also would do view player but

917
00:52:14,100 --> 00:52:19,000
the difference in this case is just going to be that we would add a

918
00:52:19,000 --> 00:52:21,300
the velocity constraint, right?

919
00:52:22,300 --> 00:52:27,200
So in this case, we might have to add an or here to like choose

920
00:52:27,200 --> 00:52:29,600
whether the velocity is happening or not.

921
00:52:30,400 --> 00:52:33,800
So, all right, so we have begun an entity camera, babe, your view

922
00:52:33,800 --> 00:52:35,900
player in.

923
00:52:37,100 --> 00:52:38,700
And all we need to do is adjust

924
00:52:38,800 --> 00:52:39,800
These Dimensions.

925
00:52:40,300 --> 00:52:43,200
So, in this case we've got a

926
00:52:45,500 --> 00:52:48,100
I guess what we want here is to say.

927
00:52:49,100 --> 00:52:52,300
Let me give me one second here because I don't really remember exactly

928
00:52:52,300 --> 00:52:53,700
what the layout of this looks like.

929
00:53:08,600 --> 00:53:11,000
So if we come back here as well, look at this.

930
00:53:11,000 --> 00:53:12,800
So we've got four

931
00:53:15,400 --> 00:53:18,800
And I guess that one is shallow enough that maybe you should have to

932
00:53:18,800 --> 00:53:21,000
be going the right direction to, I don't know.

933
00:53:21,300 --> 00:53:25,800
So maybe we cover these two with the directional one and these three

934
00:53:25,900 --> 00:53:26,300
with

935
00:53:28,600 --> 00:53:31,400
With the other we were and, you know, it might be that we want.

936
00:53:32,800 --> 00:53:34,400
It to bi-directional.

937
00:53:41,400 --> 00:53:43,600
First of all, we got to make those go lower it out.

938
00:53:43,900 --> 00:53:46,400
All right, hold on a second so we got to make this a little bit

939
00:53:46,400 --> 00:53:47,100
different here.

940
00:53:48,300 --> 00:53:52,300
So let's let's start by getting these stairs to be the way stairs are

941
00:53:52,300 --> 00:53:54,200
and also the stairs probably to be longer.

942
00:53:54,700 --> 00:53:55,700
Now that I'm thinking about it.

943
00:53:55,700 --> 00:53:59,100
I mean, if you look at that, we probably need the stairs to have more

944
00:53:59,100 --> 00:53:59,800
steps to them.

945
00:54:00,000 --> 00:54:03,000
Because there we don't want to be too steep.

946
00:54:03,300 --> 00:54:05,200
So I feel like that's got to be.

947
00:54:05,900 --> 00:54:06,200
Yeah.

948
00:54:10,100 --> 00:54:18,100
So all right, so what we want here is we probably want to take this

949
00:54:18,100 --> 00:54:22,000
off set Z and we probably want to first of all set it to be consistent

950
00:54:22,000 --> 00:54:22,400
before.

951
00:54:22,400 --> 00:54:27,500
It was actually picking up the noise values here and so we probably

952
00:54:27,500 --> 00:54:31,400
want to do is actually stop that and just have it be non noisy.

953
00:54:31,400 --> 00:54:34,700
So the stairs are even going all the way down.

954
00:54:40,300 --> 00:54:42,400
That was not what I wanted.

955
00:54:48,600 --> 00:54:49,900
Should that not have done?

956
00:54:49,900 --> 00:54:50,100
What?

957
00:54:50,100 --> 00:54:53,200
I just what should that not have reproduced, but I had there.

958
00:54:55,600 --> 00:55:01,700
Correct me if I'm wrong, I'm taking 0.5 plus a random unilateral.

959
00:55:01,700 --> 00:55:06,900
So the minimum, this could be is 0.5 and I'm subtracting this from it.

960
00:55:08,700 --> 00:55:09,200
Right.

961
00:55:09,900 --> 00:55:11,400
So shouldn't that

962
00:55:20,700 --> 00:55:21,800
I guess I don't understand why that?

963
00:55:21,900 --> 00:55:23,700
Why that modified anything at all?

964
00:55:29,300 --> 00:55:30,700
Here's my current version.

965
00:55:47,500 --> 00:55:49,500
All right, that is the complete puzzle to me.

966
00:55:50,200 --> 00:55:53,900
I have to admit, I do not understand why that did that.

967
00:56:04,000 --> 00:56:09,400
Because the offset Z here was already going to be 0.5 up.

968
00:56:09,700 --> 00:56:13,500
And now I'm over writing it with essentially that same amount minus

969
00:56:13,500 --> 00:56:15,500
this, that should have been the same, right?

970
00:56:15,500 --> 00:56:19,600
I mean, maybe I'm missing something but I don't understand why that

971
00:56:19,600 --> 00:56:21,200
would actually be different.

972
00:56:22,100 --> 00:56:25,000
I want to know what's going on here.

973
00:56:39,800 --> 00:56:43,100
So this should produce the correct thing will correct but it should

974
00:56:43,100 --> 00:56:44,400
produce the old thing.

975
00:56:46,400 --> 00:56:46,900
Right.

976
00:56:47,600 --> 00:56:51,900
So now I want to set a breakpoint there and I want to see do that

977
00:56:53,200 --> 00:56:55,100
because I want to know what's going on there.

978
00:56:59,000 --> 00:56:59,800
Oh, and I'm going to

979
00:57:00,000 --> 00:57:00,500
Excited.

980
00:57:03,000 --> 00:57:04,900
Release mode build so I can do about that code.

981
00:57:15,200 --> 00:57:21,400
Alright, so in this case test Z is 0.5 which is exactly what we would

982
00:57:21,400 --> 00:57:22,300
expect it to be.

983
00:57:24,400 --> 00:57:27,500
Let me see what key got off set.

984
00:57:30,500 --> 00:57:32,100
Ah, you know what?

985
00:57:32,500 --> 00:57:37,700
No, it's because this world position P has an offset in it already.

986
00:57:38,700 --> 00:57:40,100
That's that's why.

987
00:57:41,200 --> 00:57:43,900
Never mind, never mind.

988
00:57:44,500 --> 00:57:46,700
This is not zero up here.

989
00:57:46,700 --> 00:57:51,400
It could be some arbitrary value, so not not quite the case.

990
00:57:51,700 --> 00:57:58,400
Alright, so in terms of the noise here, I guess what I need to do is

991
00:57:58,400 --> 00:58:00,400
I'm going to need to put the noise in here.

992
00:58:03,000 --> 00:58:05,100
If I want to turn it off for the stairs.

993
00:58:27,500 --> 00:58:29,600
so hopefully now we have even stairwell

994
00:58:35,000 --> 00:58:38,500
And now, the problem is just it needs to go down a little bit more,

995
00:58:38,600 --> 00:58:39,200
right?

996
00:58:39,600 --> 00:58:42,000
So it needs to be, maybe more like that.

997
00:58:43,400 --> 00:58:46,400
Or there need to be more steps, one of the other.

998
00:58:49,200 --> 00:58:49,800
All right.

999
00:58:54,600 --> 00:58:58,300
So yeah, I feel like there's maybe should be just more steps.

1000
00:58:59,500 --> 00:59:00,400
Going down.

1001
00:59:01,700 --> 00:59:05,900
Like, the stairwell should be a little bit longer, you know, like

1002
00:59:05,900 --> 00:59:07,400
maybe at least one more.

1003
00:59:08,900 --> 00:59:14,400
So like maybe the offset y from negative 2 to 2 actually goes you know

1004
00:59:14,400 --> 00:59:16,600
from negative 3 to 2 or something like this.

1005
00:59:44,200 --> 00:59:47,600
And that one there is like too high up.

1006
00:59:47,600 --> 00:59:50,800
So because this is going to have to be plus three now.

1007
00:59:52,800 --> 00:59:53,400
There we go.

1008
00:59:58,000 --> 00:59:59,800
So now the stairwell starts there.

1009
01:00:00,900 --> 01:00:01,800
I'm goes down.

1010
01:00:03,000 --> 01:00:07,200
If I take a look under here, you can see that's a little bit smoother,

1011
01:00:07,200 --> 01:00:07,700
right?

1012
01:00:12,800 --> 01:00:13,600
So alright.

1013
01:00:20,400 --> 01:00:20,800
Yeah.

1014
01:00:43,100 --> 01:00:46,800
All right, so I don't really know whether that's still too steep.

1015
01:00:46,800 --> 01:00:51,400
I mean we could make it a little bit less steep still, we could make

1016
01:00:51,400 --> 01:00:51,700
it

1017
01:00:54,600 --> 01:00:56,100
be more like that.

1018
01:01:01,700 --> 01:01:04,200
And now we've got just a big old stairwell.

1019
01:01:10,000 --> 01:01:11,300
Can see it go down there.

1020
01:01:20,400 --> 01:01:22,300
Maybe this needs to be a little bit less too.

1021
01:01:26,000 --> 01:01:29,000
All right, so I think now I've got a stairwell that's a little bit

1022
01:01:29,000 --> 01:01:29,900
more sensible.

1023
01:01:29,900 --> 01:01:30,700
Perhaps,

1024
01:01:32,500 --> 01:01:36,500
Right, in terms of of gradual in this of steps.

1025
01:01:38,600 --> 01:01:41,300
And so now we just need to make it so that when the hero comes over on

1026
01:01:41,300 --> 01:01:45,500
there again, we don't get that that clipping artifact, by moving the

1027
01:01:45,500 --> 01:01:47,100
camera into a good position for it.

1028
01:01:49,000 --> 01:01:50,600
Which I think should be relatively easy.

1029
01:01:52,400 --> 01:01:56,300
And maybe, you know, maybe the stairwells could one.

1030
01:01:56,300 --> 01:01:59,700
Another thing we could do is make the stairwells be too wide.

1031
01:02:00,300 --> 01:02:03,300
You know, the other thing I haven't really thought about this, but we

1032
01:02:03,300 --> 01:02:05,600
could do something like this.

1033
01:02:13,000 --> 01:02:16,600
Would be another way of treating it.

1034
01:02:16,900 --> 01:02:20,100
So if you had a larger stairwells, right?

1035
01:02:20,300 --> 01:02:24,300
And you made it so that the hero was centered on those steps which we

1036
01:02:24,300 --> 01:02:29,100
could easily do then there'd be a lot more clearance to when going

1037
01:02:29,100 --> 01:02:33,300
down the stairs, which might be all we really need and that could be a

1038
01:02:33,300 --> 01:02:35,200
more compelling way to deal with it as well.

1039
01:02:35,500 --> 01:02:37,600
So maybe that's a good idea.

1040
01:02:45,200 --> 01:02:47,900
And so really what we would do there is we create the stairs and sort

1041
01:02:47,900 --> 01:02:49,700
of a slightly separate pass.

1042
01:02:50,000 --> 01:02:53,300
So really, what we would say is, you know, something like, okay.

1043
01:03:19,400 --> 01:03:23,000
so we'd say something like okay, the left hole right whole situation,

1044
01:03:23,000 --> 01:03:29,800
these are both Knockouts and then if you make it through the end up

1045
01:03:29,800 --> 01:03:30,400
with this

1046
01:03:32,300 --> 01:03:36,300
And so now there's just like nothing in either of those two places.

1047
01:03:37,100 --> 01:03:42,100
So maybe now you say, okay, you know the stairwell is narrower, it's

1048
01:03:42,100 --> 01:03:43,300
back the way it was.

1049
01:03:45,800 --> 01:03:50,500
So now it's just a hole there in the floor and the hole is, is a

1050
01:03:50,500 --> 01:03:51,600
narrower hole.

1051
01:03:51,700 --> 01:03:54,100
That's still seems a little large, doesn't it?

1052
01:04:11,600 --> 01:04:13,300
So why is that for?

1053
01:04:13,700 --> 01:04:20,100
Because in theory, that's negative 1, 0 & 1 & 2, so that's four wide.

1054
01:04:20,300 --> 01:04:20,700
Okay.

1055
01:04:21,000 --> 01:04:27,700
Yeah, so if now, if I wanted to, I could go ahead and make instead of

1056
01:04:27,900 --> 01:04:30,700
like in this circumstance, where we're making these specific size

1057
01:04:30,700 --> 01:04:33,100
ground tiles, I could make some stair tiles.

1058
01:04:33,100 --> 01:04:34,900
That are different, right?

1059
01:04:35,100 --> 01:04:40,200
So what I would do there is I can just say, okay, we take the offset,

1060
01:04:40,200 --> 01:04:40,700
why

1061
01:04:42,900 --> 01:04:45,600
And I'm going to go ahead and make some stair tiles.

1062
01:04:47,500 --> 01:04:49,200
Exactly, the way we were making them.

1063
01:04:55,900 --> 01:05:02,400
before, but this time, we're just going to hard-code the offset X

1064
01:05:07,000 --> 01:05:08,600
And we have to do a little bit of offsetting here.

1065
01:05:08,600 --> 01:05:12,700
You'll see this in a second but we can take care of that a minute.

1066
01:05:12,700 --> 01:05:15,700
So, whatever the offset X is, what should it be here?

1067
01:05:15,700 --> 01:05:17,300
It's between three and four.

1068
01:05:17,500 --> 01:05:20,400
So it's like, 3.5, right?

1069
01:05:23,000 --> 01:05:26,600
So anyway we're going to have a thing where we say, all right, we want

1070
01:05:26,600 --> 01:05:29,000
you know, offset x 2 B 3.

1071
01:05:29,200 --> 01:05:34,900
So it does that offset X of 3 but then we want to do like an offset of

1072
01:05:35,300 --> 01:05:40,100
P where we're going to add half a tile, right?

1073
01:05:40,300 --> 01:05:41,600
In fact, I don't even know.

1074
01:05:50,600 --> 01:05:51,200
What is this function?

1075
01:05:51,200 --> 01:05:52,200
Actually do see there.

1076
01:05:52,200 --> 01:05:54,000
It's got an additional offset right here.

1077
01:05:54,200 --> 01:05:58,000
So what I can do is say all right, in addition to that, I want you to

1078
01:05:58,000 --> 01:05:59,100
do half a tile.

1079
01:06:07,400 --> 01:06:11,300
it's to put it in the center of the stairwell, basically, and then I

1080
01:06:11,300 --> 01:06:13,000
know that we're just going to create

1081
01:06:26,400 --> 01:06:27,500
one of these deer pieces.

1082
01:06:33,100 --> 01:06:37,600
All right, so in theory now we will create an actual stairwell in

1083
01:06:37,600 --> 01:06:41,500
there and you can see it.

1084
01:06:41,500 --> 01:06:44,400
Well actually let me just go ahead and flip to the debug view so you

1085
01:06:44,400 --> 01:06:45,100
can see it.

1086
01:06:45,700 --> 01:06:49,000
You can see that there's the stairwell there.

1087
01:06:50,200 --> 01:06:51,300
and actually,

1088
01:06:54,000 --> 01:06:55,000
Creating way too many.

1089
01:06:55,000 --> 01:06:56,800
So I don't really want it to be radius.

1090
01:06:56,800 --> 01:06:57,200
Why?

1091
01:06:57,200 --> 01:06:59,600
I just wanted to be between negative 1 & 2.

1092
01:07:04,800 --> 01:07:05,300
Right.

1093
01:07:06,100 --> 01:07:10,500
And so, now, what we want to do is we want to make these also be

1094
01:07:10,500 --> 01:07:11,600
wider, right?

1095
01:07:11,600 --> 01:07:14,000
We just want the stairs to be whiter, potentially.

1096
01:07:16,800 --> 01:07:22,400
They don't really have to be necessarily whiter but they can be right

1097
01:07:23,200 --> 01:07:26,200
and so if I don't guess, I think the other problem is I guess I don't

1098
01:07:26,200 --> 01:07:31,700
know exactly how to get down to one of them but yeah.

1099
01:07:33,700 --> 01:07:36,800
So basically what we've got here is those stairs are kind of in the

1100
01:07:36,800 --> 01:07:44,800
middle right there like they're in between the two and we probably

1101
01:07:44,800 --> 01:07:49,400
need them to be spaced out a little more than they are right now and

1102
01:07:49,400 --> 01:07:52,000
start a little higher.

1103
01:08:17,700 --> 01:08:21,300
So I don't know, that's another option for stairwells and then, you

1104
01:08:21,300 --> 01:08:22,899
know, the hero is pretty safely.

1105
01:08:23,000 --> 01:08:26,399
Even if we don't adjust the camera the hero wouldn't clip through,

1106
01:08:27,000 --> 01:08:27,600
right?

1107
01:08:31,500 --> 01:08:32,600
I don't know how I feel about that.

1108
01:08:32,600 --> 01:08:34,700
It's an interesting idea hadn't thought of it.

1109
01:08:39,800 --> 01:08:43,000
It's just a little weird that that join point to.

1110
01:08:44,700 --> 01:08:46,300
We're getting kind of a loop here.

1111
01:08:46,899 --> 01:08:47,200
Yeah.

1112
01:08:50,399 --> 01:08:53,200
I don't know how that would feel, right?

1113
01:08:53,200 --> 01:08:55,100
It's gonna always create a thing here.

1114
01:08:55,100 --> 01:08:59,800
Where you're on between these two I guess, no matter which one

1115
01:09:00,000 --> 01:09:05,100
Are you go, you hop, you're going to hop kind of down to that middle

1116
01:09:05,100 --> 01:09:06,600
square and maybe that's fine.

1117
01:09:12,700 --> 01:09:14,399
I don't know graphically speaking.

1118
01:09:14,399 --> 01:09:15,800
We can also make it wider.

1119
01:09:19,300 --> 01:09:24,200
You know, we can we can double out how wide they are so that they feel

1120
01:09:24,200 --> 01:09:27,500
like a double like there that the width of both of them like so,

1121
01:09:28,100 --> 01:09:28,600
right.

1122
01:09:29,399 --> 01:09:35,600
And then the hero hops down like so on the large stairs, I suppose

1123
01:09:35,600 --> 01:09:36,800
that's also an option.

1124
01:09:43,500 --> 01:09:47,100
course, I guess, since we don't allow you to have different

1125
01:09:48,300 --> 01:09:54,500
Since we currently only pass down an X and a dimension for the Square

1126
01:09:54,500 --> 01:10:00,700
Tile and we don't we don't allow to be wide and not yeah.

1127
01:10:00,700 --> 01:10:07,500
We we currently don't actually draw those as having different width

1128
01:10:07,500 --> 01:10:08,100
and height.

1129
01:10:08,100 --> 01:10:10,000
They only have different depth basically.

1130
01:10:10,300 --> 01:10:14,100
So we would have to add that if we actually want to just wide stairs.

1131
01:10:14,900 --> 01:10:15,500
So I don't know.

1132
01:10:15,500 --> 01:10:16,800
I don't know how I feel about that.

1133
01:10:17,000 --> 01:10:18,000
I'll leave it in for now.

1134
01:10:18,100 --> 01:10:21,300
It's just an interesting thing to do when we actually go to do World

1135
01:10:21,300 --> 01:10:21,800
stuff.

1136
01:10:21,900 --> 01:10:24,400
Obviously, we'll have some stronger opinions about these sorts of

1137
01:10:24,400 --> 01:10:24,800
things.

1138
01:10:26,900 --> 01:10:30,200
When we're starting to build the actual world, but let's just go ahead

1139
01:10:30,200 --> 01:10:32,600
and do the camera stuff for now, since that's the more interesting

1140
01:10:32,600 --> 01:10:33,300
part of this.

1141
01:10:34,100 --> 01:10:36,100
So, here we are in our stairs cam.

1142
01:10:36,100 --> 01:10:39,100
What we need now is the thing on the stairs and the thing at the top

1143
01:10:39,100 --> 01:10:40,600
of the stairs, presumably.

1144
01:10:42,100 --> 01:10:45,400
So if we want to do that, we could basically say like, okay, we've got

1145
01:10:45,400 --> 01:10:46,600
the stairs part.

1146
01:10:47,400 --> 01:10:50,000
The stairs part is going to be centered around.

1147
01:10:51,700 --> 01:10:56,800
I guess centered around one for the radius part and it's going to be

1148
01:10:56,800 --> 01:10:59,100
one tile in either direction.

1149
01:10:59,700 --> 01:11:03,400
The X dim in this case could be half a tile because now we're sort of

1150
01:11:03,400 --> 01:11:04,100
centered.

1151
01:11:06,300 --> 01:11:07,700
And the location here.

1152
01:11:09,500 --> 01:11:14,600
Is actually going to be offset slightly, right by whatever that stair

1153
01:11:14,600 --> 01:11:15,300
p is.

1154
01:11:16,000 --> 01:11:18,400
And what I can do here, if I want to use?

1155
01:11:18,400 --> 01:11:20,700
I can also do something like say,

1156
01:11:27,600 --> 01:11:29,900
I can I can use this exact.

1157
01:11:34,600 --> 01:11:38,000
This exact set of things here to store the.

1158
01:11:38,000 --> 01:11:43,300
So if I want to, I can say, oh, the stair P, so I don't have to look

1159
01:11:43,300 --> 01:11:43,700
them up.

1160
01:11:43,700 --> 01:11:51,300
Again, I got to say the stair position stuff is going to be, you know,

1161
01:11:51,300 --> 01:11:54,700
an array of what is it - 10?

1162
01:11:54,700 --> 01:11:59,000
And so, four of these guys, and I can just say, stare pee,

1163
01:12:01,100 --> 01:12:01,500
Offset.

1164
01:12:01,500 --> 01:12:02,100
Why?

1165
01:12:04,600 --> 01:12:07,200
Let's be so I can record those as well.

1166
01:12:07,200 --> 01:12:11,000
And then that way when I'm creating these here, I can pull that out.

1167
01:12:18,600 --> 01:12:19,000
Oops.

1168
01:12:20,500 --> 01:12:23,800
So the stair placement, in this case, I guess I just want the second

1169
01:12:23,800 --> 01:12:26,700
one, third one, I guess in.

1170
01:12:28,000 --> 01:12:32,200
And yeah, that's roughly correct, I think.

1171
01:12:39,500 --> 01:12:42,100
So that why is that so tall?

1172
01:12:44,400 --> 01:12:45,000
That turn.

1173
01:12:45,000 --> 01:12:48,200
First of all, start by turning this off.

1174
01:12:56,400 --> 01:13:02,100
And so I don't understand why that's quite the way it is, but I guess

1175
01:13:02,100 --> 01:13:03,100
it makes some sense.

1176
01:13:03,100 --> 01:13:03,800
Hold on a second.

1177
01:13:03,800 --> 01:13:04,200
Let me

1178
01:13:07,600 --> 01:13:11,800
So you can see that it's being created, like, I guess it's right about

1179
01:13:11,800 --> 01:13:12,400
there.

1180
01:13:17,400 --> 01:13:23,000
But I'm not quite sure that's why it's because we don't actually, if

1181
01:13:23,000 --> 01:13:27,000
we're actually going to put it at that height, then we don't want it

1182
01:13:27,000 --> 01:13:29,700
to extend down, nearly that far.

1183
01:13:34,300 --> 01:13:35,300
Let's try that one more time.

1184
01:13:42,500 --> 01:13:49,000
all right, so again a little strange because I'm not sure what the ABS

1185
01:13:49,000 --> 01:13:50,700
tells e and this case is

1186
01:14:02,800 --> 01:14:06,100
I guess we're getting the ABS tiles e of this floor, and then we're

1187
01:14:06,100 --> 01:14:07,400
going up from there.

1188
01:14:07,600 --> 01:14:09,500
So, we really want to do.

1189
01:14:11,600 --> 01:14:12,700
For a given stairwell.

1190
01:14:12,700 --> 01:14:14,800
Is it wants to be much lower than that.

1191
01:14:15,000 --> 01:14:18,800
So I guess what we really want to do is for that part of it, since the

1192
01:14:18,800 --> 01:14:22,700
stair is going downward, what we really want to do is say well, we

1193
01:14:22,700 --> 01:14:28,200
probably want to end actually pretty pretty low.

1194
01:14:29,900 --> 01:14:33,900
Write this, this hit region, generally speaking.

1195
01:14:35,700 --> 01:14:36,800
Why did that not do what?

1196
01:14:36,800 --> 01:14:37,800
I thought it was going to do.

1197
01:14:38,500 --> 01:14:40,100
Oh, because I'm editing the wrong one.

1198
01:14:40,900 --> 01:14:41,400
That's why

1199
01:14:59,600 --> 01:14:59,800
Sir.

1200
01:15:00,100 --> 01:15:04,000
I think we want this to end pretty close.

1201
01:15:07,100 --> 01:15:10,600
To the floor level of the floor above, right?

1202
01:15:10,600 --> 01:15:13,500
Because that looks like more of the region that the player would be

1203
01:15:13,500 --> 01:15:13,700
in.

1204
01:15:13,700 --> 01:15:17,300
It probably needs to be a little higher than that, and then it should

1205
01:15:17,300 --> 01:15:18,900
probably be up a little bit more.

1206
01:15:18,900 --> 01:15:23,400
So we probably want something more like this.

1207
01:15:31,900 --> 01:15:34,300
That looks like about the right region.

1208
01:15:45,700 --> 01:15:48,200
Maybe it needs to be a little bigger.

1209
01:15:58,300 --> 01:16:00,100
So I think that's about, right.

1210
01:16:02,700 --> 01:16:06,400
And then, when I hop down here, I'm only in it if I'm actually on

1211
01:16:06,400 --> 01:16:07,300
these stairs.

1212
01:16:07,300 --> 01:16:07,500
Right.

1213
01:16:07,500 --> 01:16:09,400
And that's the actual stair region.

1214
01:16:09,800 --> 01:16:11,700
So really, this is the stairs camp.

1215
01:16:11,700 --> 01:16:12,700
This is the like,

1216
01:16:21,200 --> 01:16:22,700
Is like the top of the stairs.

1217
01:16:24,000 --> 01:16:27,300
So let's go ahead and add Boop's one more for the top of the stairs.

1218
01:16:30,800 --> 01:16:37,100
That one's going to be centered around, stare P0.

1219
01:16:41,000 --> 01:16:46,000
And in this case, I guess I want to

1220
01:16:52,100 --> 01:16:57,700
I guess I wanted to make it the whole size and

1221
01:17:02,100 --> 01:17:04,700
I don't know that it goes down particularly far.

1222
01:17:08,100 --> 01:17:10,100
I'm not really sure what we want for this.

1223
01:17:17,400 --> 01:17:22,100
So, okay, that's a little too large, but other than that, that's

1224
01:17:22,100 --> 01:17:23,300
actually pretty good.

1225
01:17:27,400 --> 01:17:28,400
Turn it back a little.

1226
01:17:36,400 --> 01:17:39,100
So that seems pretty reasonable right?

1227
01:17:39,100 --> 01:17:40,100
Like, that's

1228
01:17:42,100 --> 01:17:48,300
That's I think about right there and, you know, we can sort of tune,

1229
01:17:48,300 --> 01:17:49,900
those a little bit more as we go.

1230
01:17:50,200 --> 01:17:54,200
But now, we just need to actually have some logic in here.

1231
01:17:54,800 --> 01:17:55,900
Let's just double check that.

1232
01:17:55,900 --> 01:17:57,100
I didn't mess up this guy.

1233
01:17:57,100 --> 01:17:59,400
I think this, this one's still correct, right?

1234
01:18:09,800 --> 01:18:13,100
And now I just need this one to be like if I'm needs to kind of get

1235
01:18:13,100 --> 01:18:16,600
over there, right away if I'm if I'm going toward the stairs, right?

1236
01:18:16,600 --> 01:18:21,400
If I'm coming up this way and then it needs to not if I'm doing

1237
01:18:21,400 --> 01:18:22,200
anything else.

1238
01:18:22,600 --> 01:18:28,700
All right, so let's upgrade the camera Behavior here to handle all

1239
01:18:28,700 --> 01:18:29,400
that stuff.

1240
01:18:29,700 --> 01:18:29,900
Right?

1241
01:18:29,900 --> 01:18:34,100
Because now we need some better behavioral code, because we've got

1242
01:18:34,100 --> 01:18:36,000
kind of a lot of different things that could be happening.

1243
01:18:36,200 --> 01:18:38,800
We're going to have to make this be a little bit.

1244
01:18:39,400 --> 01:18:41,100
More specific, right?

1245
01:18:42,300 --> 01:18:46,000
So essentially what we've got here is we need to determine a couple

1246
01:18:46,000 --> 01:18:49,200
different things we need to determine whether a particular camera.

1247
01:18:49,200 --> 01:18:51,200
Entity is controlling or not.

1248
01:18:53,300 --> 01:18:57,500
And so, what we want to do here is probably not set the special camera

1249
01:18:57,500 --> 01:19:02,700
because if anyone if any of the peoples who are overlapping if any

1250
01:19:02,700 --> 01:19:06,100
overlapping camera region, it would have tested positive.

1251
01:19:06,100 --> 01:19:08,300
We probably want to use it right?

1252
01:19:08,700 --> 01:19:09,100
So what

1253
01:19:09,200 --> 01:19:12,500
White here is probably something more like this.

1254
01:19:15,900 --> 01:19:21,100
Where we say like, okay, if you know, if you're conforming to the

1255
01:19:21,100 --> 01:19:23,500
velocity constraints, then off you go.

1256
01:19:24,500 --> 01:19:27,500
So how would we encode some velocity constraints here?

1257
01:19:27,500 --> 01:19:30,700
I'm assuming what we want to do is say something like, well, okay,

1258
01:19:30,900 --> 01:19:33,100
let's say that there is a

1259
01:19:34,800 --> 01:19:38,700
Like a DOT product here, where we say like velocity measure.

1260
01:19:40,800 --> 01:19:44,200
And we do a velocity measure of the test sanity.

1261
01:19:58,700 --> 01:20:03,600
We'll take the entities like the players motion vector.

1262
01:20:03,600 --> 01:20:07,300
And we'll say, okay, whatever there's going to be some thing will

1263
01:20:07,300 --> 01:20:11,300
inner product with here, that's going to measure this thing and then

1264
01:20:11,400 --> 01:20:16,100
we'll do that first and then we'll take the length of that, right?

1265
01:20:16,100 --> 01:20:19,200
So we'll say whatever the absolute value is.

1266
01:20:22,700 --> 01:20:25,100
Of that velocity measure.

1267
01:20:26,400 --> 01:20:29,500
That's what we use right now.

1268
01:20:29,500 --> 01:20:33,300
I guess that's not quite what we want.

1269
01:20:33,300 --> 01:20:38,100
I guess we more want instead of a DOT product, we want more of a a

1270
01:20:38,100 --> 01:20:41,200
coefficient I think we still want the length to be in here.

1271
01:20:43,600 --> 01:20:46,100
So they can be really want more of a hadamard product here.

1272
01:20:49,800 --> 01:20:53,400
So basically you can multiply the X, the y, or the Z velocity is buy

1273
01:20:53,400 --> 01:20:57,800
something, and then get out what you're then going to look at.

1274
01:20:58,800 --> 01:20:59,400
Right.

1275
01:21:00,000 --> 01:21:05,100
That's probably more what we want and so we'll leave it at that for

1276
01:21:05,100 --> 01:21:05,500
now.

1277
01:21:09,500 --> 01:21:12,400
And so, then, what we need is some kind of an interval, right?

1278
01:21:12,400 --> 01:21:15,700
We need some way of saying, well, you know, if the velocity at that

1279
01:21:15,700 --> 01:21:17,700
point is a certain amount.

1280
01:21:17,700 --> 01:21:19,600
Then that's what we want.

1281
01:21:19,600 --> 01:21:23,200
Now, I guess, in this case, we could also just, if we know that the

1282
01:21:23,200 --> 01:21:25,800
velocities that we're going to be checking, or always in the primary

1283
01:21:25,800 --> 01:21:30,000
directions, we could just bound them explicitly, right?

1284
01:21:30,000 --> 01:21:31,500
We could do something like

1285
01:21:57,500 --> 01:22:01,900
This sort of thing if that makes sense.

1286
01:22:08,700 --> 01:22:10,000
And furthermore, we don't really have to do that.

1287
01:22:10,000 --> 01:22:11,900
We could just do with point in rectangle.

1288
01:22:14,400 --> 01:22:14,800
Right?

1289
01:22:14,900 --> 01:22:18,100
We could say if the velocity point is within the camera wreck is is

1290
01:22:18,100 --> 01:22:23,300
within the cameras controlling entities velocity rectangle because we

1291
01:22:23,300 --> 01:22:26,400
can use you know we can have rectangles in velocity space just like

1292
01:22:26,400 --> 01:22:27,000
everything else.

1293
01:22:27,200 --> 01:22:33,500
So if it's within could say there's a velocity requirement if it's in

1294
01:22:33,500 --> 01:22:33,900
there.

1295
01:22:35,400 --> 01:22:39,500
Then off you go furthermore we could say whether there is a relative

1296
01:22:39,500 --> 01:22:43,500
velocity requirement or not, could be a thing.

1297
01:22:43,700 --> 01:22:50,200
So what we could say is all right, if it overlaps, you know and

1298
01:23:05,200 --> 01:23:07,600
So we test for overlap first because everyone has that.

1299
01:23:07,700 --> 01:23:11,400
Then we see whether or not you've got velocity constraint,

1300
01:23:22,000 --> 01:23:25,300
And I guess the thing is we've got two kinds of velocity constraints.

1301
01:23:25,300 --> 01:23:26,000
We've got

1302
01:23:28,900 --> 01:23:32,600
You must be greater than a certain amount or you must be less than a

1303
01:23:32,600 --> 01:23:34,300
certain amount, right?

1304
01:23:35,200 --> 01:23:36,300
And it's a little bit hard.

1305
01:23:36,300 --> 01:23:37,700
So we're creating a rectangle.

1306
01:23:37,700 --> 01:23:40,100
I guess we can just put that rectangle anywhere we want so we could

1307
01:23:40,100 --> 01:23:43,400
make it, I guess, I guess you could probably do most of the things

1308
01:23:43,400 --> 01:23:44,700
you'd want to do with a rectangle.

1309
01:23:45,400 --> 01:23:47,800
The thing is, you can't really invert a rectangle very easily.

1310
01:23:47,800 --> 01:23:52,000
So if you wanted to say, the player just has to be moving a certain

1311
01:23:52,400 --> 01:23:54,700
amount that's harder.

1312
01:23:55,500 --> 01:23:56,000
Right?

1313
01:23:56,500 --> 01:23:57,000
So I don't know.

1314
01:23:57,000 --> 01:23:58,700
Maybe this isn't the best way to do it.

1315
01:23:58,800 --> 01:23:59,800
I'm just trying to think of what

1316
01:24:00,100 --> 01:24:04,200
Good ways to do it are because like in one case we want it to say, if

1317
01:24:04,200 --> 01:24:07,200
you're not moving another case, we want to say, if you're moving in a

1318
01:24:07,200 --> 01:24:09,900
particular direction, I'm just trying to think of like, what's the

1319
01:24:09,900 --> 01:24:12,300
easiest way to provide some easy controls.

1320
01:24:12,400 --> 01:24:15,900
So that when you're creating entities, you can just throw in some

1321
01:24:17,400 --> 01:24:19,800
Information, and not have to add a new camera Behavior.

1322
01:24:19,800 --> 01:24:22,900
Every time you have a different thing,

1323
01:24:24,100 --> 01:24:24,800
it's hard to say.

1324
01:24:33,200 --> 01:24:35,300
I'm not not sure about that one.

1325
01:24:52,200 --> 01:24:56,000
My gut says, most of the time we're going to care about.

1326
01:24:57,700 --> 01:24:59,800
A particular direction of motion.

1327
01:25:02,500 --> 01:25:04,000
Or no motion doll.

1328
01:25:09,500 --> 01:25:10,100
Right.

1329
01:25:11,500 --> 01:25:13,900
Are we care whether you're going towards something?

1330
01:25:16,500 --> 01:25:19,200
Or whether you're stationary or whether you're moving.

1331
01:25:19,200 --> 01:25:23,100
So there's like is my speed greater than this is my speed less than

1332
01:25:23,100 --> 01:25:23,600
this.

1333
01:25:24,200 --> 01:25:27,100
And then also am I going in a particular direction?

1334
01:25:42,700 --> 01:25:45,000
All right, I think that's what we want.

1335
01:25:47,700 --> 01:25:52,300
So I think baby of a rectangle is not such a good idea, shouldn't he?

1336
01:25:53,500 --> 01:25:57,200
So I do think we want the other kind so if we want velocity

1337
01:25:57,200 --> 01:26:02,000
constrained then we want to again like I said do a test here but that

1338
01:26:02,000 --> 01:26:03,900
test probably shouldn't be is in rectangle.

1339
01:26:04,200 --> 01:26:10,100
It should probably be something like you know and isn't range.

1340
01:26:11,600 --> 01:26:18,000
And then we would have test entity Min camera Min velocity.

1341
01:26:20,500 --> 01:26:24,700
Whatever the thing is, we're going to use tests entity camera, Max

1342
01:26:24,700 --> 01:26:25,500
velocity.

1343
01:26:26,100 --> 01:26:28,500
So it specified the like Min and Max velocity.

1344
01:26:28,700 --> 01:26:37,000
And then in here we would need some way of figuring out.

1345
01:26:38,800 --> 01:26:44,000
what the velocity is along a particular vector and the problem here is

1346
01:26:44,000 --> 01:26:46,200
like, Well, we'd like to be able to do something where we just said

1347
01:26:46,200 --> 01:26:46,700
well,

1348
01:26:48,800 --> 01:26:51,900
It's the length squared of, you know.

1349
01:26:52,500 --> 01:26:53,300
And we can

1350
01:26:58,000 --> 01:26:59,100
Sweaty as well.

1351
01:27:00,000 --> 01:27:01,100
Keep it on the same space.

1352
01:27:12,000 --> 01:27:18,400
We know that the entity in the case of we just wanted to do the the

1353
01:27:18,700 --> 01:27:21,700
speed by itself in whatever Direction The Entity was going.

1354
01:27:21,700 --> 01:27:24,800
We could take the length squared of its velocity and be done.

1355
01:27:25,000 --> 01:27:29,300
Then this equation works just fine and we could figure out whether or

1356
01:27:29,300 --> 01:27:30,200
not it conformed.

1357
01:27:30,500 --> 01:27:33,200
The problem is if we want to know if it's in a particular direction,

1358
01:27:33,200 --> 01:27:36,700
then what we have to do here is say we want to take the inner product

1359
01:27:37,100 --> 01:27:39,600
of the entity with some kind of

1360
01:27:42,100 --> 01:27:44,200
Velocity direction, right?

1361
01:27:44,800 --> 01:27:49,300
And the problem there is that we want that.

1362
01:27:49,300 --> 01:27:53,400
Like, once we do that, we have lost the ability to ask the question

1363
01:27:53,400 --> 01:27:58,600
about how fast the entity is going in any particular direction, right?

1364
01:27:58,700 --> 01:28:02,000
Because now it's going to collapse.

1365
01:28:03,500 --> 01:28:09,900
That down to a scalar and we can't take, we won't have any ability any

1366
01:28:09,900 --> 01:28:17,000
longer to ask a question about that about arbitrary motion.

1367
01:28:18,500 --> 01:28:18,900
I,

1368
01:28:22,900 --> 01:28:25,200
So we pretty much need to things here.

1369
01:28:25,200 --> 01:28:29,000
I mean we could do something absurd, the could do something like this.

1370
01:28:54,300 --> 01:28:58,000
So that's basically allows the person to construct an equation.

1371
01:28:59,400 --> 01:29:04,200
Where they basically have one term, that is the length of the Velocity

1372
01:29:04,200 --> 01:29:06,000
Vector of the player.

1373
01:29:06,000 --> 01:29:12,000
At the time, they have another term that is the length of a lot of the

1374
01:29:12,000 --> 01:29:16,100
Velocity Vector of the player along a particular axis that they

1375
01:29:16,100 --> 01:29:18,500
specify, right?

1376
01:29:20,300 --> 01:29:27,500
And then they are able to set these coefficients to see which ones

1377
01:29:27,500 --> 01:29:28,000
they want.

1378
01:29:28,000 --> 01:29:28,900
So if they only

1379
01:29:29,200 --> 01:29:33,900
An equation based on this one, they set a 2, 1 and B, 2 0, and vice

1380
01:29:33,900 --> 01:29:40,000
versa, they could also have both of them involved somehow, which I'm

1381
01:29:40,000 --> 01:29:41,800
not sure why you would want that.

1382
01:29:41,800 --> 01:29:44,000
But you could have that.

1383
01:29:47,900 --> 01:29:50,800
Furthermore, you could clamp the inner which would allow you to do

1384
01:29:50,800 --> 01:29:54,800
that a little bit better if you really wanted to, I don't know.

1385
01:29:55,100 --> 01:29:57,500
So you could do something like this where they can actually pick the

1386
01:29:57,500 --> 01:29:59,700
merits and what we could do.

1387
01:29:59,700 --> 01:29:59,800
All sorts.

1388
01:30:00,000 --> 01:30:01,900
Roses have have flags at do that.

1389
01:30:01,900 --> 01:30:03,700
So maybe that's the right way to do it.

1390
01:30:04,100 --> 01:30:06,500
Maybe we say, okay, if the camera velocity

1391
01:30:09,100 --> 01:30:12,700
like General, velocity constraint, something like that.

1392
01:30:13,800 --> 01:30:18,300
Then what we do is say well that's just just that's just this

1393
01:30:26,700 --> 01:30:27,300
Right.

1394
01:30:27,400 --> 01:30:28,100
So

1395
01:30:33,500 --> 01:30:35,700
and I guess the other thing I could do is make this a little cleaner

1396
01:30:35,700 --> 01:30:37,500
to read by doing something like

1397
01:30:52,000 --> 01:30:55,700
So we start out by saying well it passes, if it overlaps and then we

1398
01:30:55,700 --> 01:30:57,400
have to start doing our constraints.

1399
01:30:57,400 --> 01:31:03,600
So then we would say well if there is a velocity constraint on this

1400
01:31:03,600 --> 01:31:06,500
thing, then we do this.

1401
01:31:10,200 --> 01:31:13,800
And we can just freeze it in the, in the in the pasta goes pass.

1402
01:31:13,800 --> 01:31:19,200
And so if any previous pass had not succeeded, then this one won't

1403
01:31:19,200 --> 01:31:21,000
succeed, either, right?

1404
01:31:21,600 --> 01:31:22,800
So then we can just say, okay?

1405
01:31:22,800 --> 01:31:25,200
That's if we have a general velocity constraint,

1406
01:31:29,200 --> 01:31:31,400
if we have a directional velocity constraint,

1407
01:31:37,100 --> 01:31:38,700
then we use the other kind.

1408
01:31:44,700 --> 01:31:45,400
Like so.

1409
01:32:03,800 --> 01:32:09,300
And then that's a little bit more understandable right in this case.

1410
01:32:09,300 --> 01:32:13,600
Now the entities have to have those so they've got they've got to have

1411
01:32:13,600 --> 01:32:22,300
camera velocity direction and Camera in velocity.

1412
01:32:24,200 --> 01:32:26,200
Camera Max velocity.

1413
01:32:27,200 --> 01:32:29,800
And we need those.

1414
01:32:32,100 --> 01:32:32,500
General.

1415
01:32:32,500 --> 01:32:33,900
Velocity constraint.

1416
01:32:36,300 --> 01:32:36,700
Directional.

1417
01:32:36,700 --> 01:32:37,900
Velocity constraint.

1418
01:32:39,200 --> 01:32:40,800
I need to be in there.

1419
01:32:41,900 --> 01:32:44,300
I think that's more or less it right.

1420
01:32:45,300 --> 01:32:46,800
We don't have an it is in range.

1421
01:32:46,800 --> 01:32:50,100
Call I don't think yet so I'll just add one here.

1422
01:32:53,900 --> 01:32:57,600
Well, is in ranges, is just a way of saying, there's a Min, there's a

1423
01:32:57,600 --> 01:32:58,300
value.

1424
01:32:58,900 --> 01:32:59,800
There's a Max

1425
01:33:00,800 --> 01:33:02,100
and I just want to say,

1426
01:33:04,700 --> 01:33:08,400
Result, equals min.

1427
01:33:10,800 --> 01:33:12,400
It's less than or equal to the value.

1428
01:33:12,800 --> 01:33:13,500
And

1429
01:33:14,600 --> 01:33:18,300
Max value is less than equal to Max.

1430
01:33:21,600 --> 01:33:24,700
It's really just a interval inclusion, right?

1431
01:33:24,700 --> 01:33:26,800
Like it's a one-dimensional rectangle.

1432
01:33:27,500 --> 01:33:29,900
Is this point inside these two bounds?

1433
01:33:31,100 --> 01:33:31,500
All right.

1434
01:33:31,500 --> 01:33:34,600
So now we haven't actually used any of this stuff yet.

1435
01:33:34,900 --> 01:33:37,200
So in theory, when we hop in here and nothing difference, going to

1436
01:33:37,200 --> 01:33:40,900
happen, same exact thing, but now what we should be able to do is

1437
01:33:40,900 --> 01:33:43,100
inside World mode is actually use those.

1438
01:33:43,800 --> 01:33:48,600
So now when we have like the top and the stairs here, the stairs is

1439
01:33:48,600 --> 01:33:53,800
going to be view player and we kind of want like I said we want to.

1440
01:33:54,100 --> 01:33:55,000
I don't know if

1441
01:33:56,700 --> 01:34:00,300
I'm not sure how we should phrase this, but we've got view player and

1442
01:34:00,300 --> 01:34:03,100
inspect inspect is going to.

1443
01:34:03,100 --> 01:34:06,200
I think what we want to do here is have you player and inspect be

1444
01:34:06,400 --> 01:34:11,000
different in terms of how they're actually handled in the part at the

1445
01:34:11,000 --> 01:34:11,600
bottom?

1446
01:34:13,400 --> 01:34:18,500
So for example in here where we have special camera, camera Behavior

1447
01:34:18,500 --> 01:34:19,500
equals Zoom.

1448
01:34:19,800 --> 01:34:24,100
We also want camera behavior and view player.

1449
01:34:24,100 --> 01:34:25,800
We want these to be

1450
01:34:28,000 --> 01:34:28,800
Distinct.

1451
01:34:38,600 --> 01:34:42,500
So, what I want to do here is say well, okay, in the case where I've

1452
01:34:42,500 --> 01:34:47,500
got the camera inspect flag, I really want to take the camera itself

1453
01:34:47,800 --> 01:34:51,800
and I want you to look at the camp, where the camera is specified to

1454
01:34:51,800 --> 01:34:56,800
be not the camera, so that the controlling box, right?

1455
01:34:56,800 --> 01:34:58,900
The box of control the camera, I want to look there.

1456
01:34:59,300 --> 01:35:02,300
But if I'm doing the player, then I want to use the players actual

1457
01:35:02,500 --> 01:35:03,000
position.

1458
01:35:03,300 --> 01:35:05,900
And then when we're applying the offset here,

1459
01:35:10,200 --> 01:35:12,200
That's a thing that can happen separately.

1460
01:35:12,200 --> 01:35:15,000
So if either of them can have that in it, right?

1461
01:35:15,000 --> 01:35:19,300
And that's just a separate flag that you can control with with no

1462
01:35:19,300 --> 01:35:23,000
other concerns there.

1463
01:35:25,700 --> 01:35:31,200
So now you know, when we come over here and you're inside here, when

1464
01:35:31,200 --> 01:35:34,900
you're moving around, it should it shouldn't follow you, right?

1465
01:35:34,900 --> 01:35:36,000
It shouldn't go left to right.

1466
01:35:36,000 --> 01:35:38,800
It should just stay there and then come out.

1467
01:35:40,000 --> 01:35:44,800
And when I'm over here though, this one should follow me.

1468
01:35:45,000 --> 01:35:48,400
So when I come in here, now you can see it actually moves left to

1469
01:35:48,400 --> 01:35:49,300
right with me.

1470
01:35:49,600 --> 01:35:51,900
So there's a difference, I wanted there to be a difference between

1471
01:35:51,900 --> 01:35:54,900
viewing, the player and viewing area.

1472
01:35:55,000 --> 01:35:58,900
And those should be like, actually sort of separate ideas, right?

1473
01:35:59,600 --> 01:35:59,700
If

1474
01:36:00,000 --> 01:36:00,500
Sense.

1475
01:36:02,200 --> 01:36:06,300
Okay, so we got that under control and then the other thing I want to

1476
01:36:06,300 --> 01:36:10,400
do now is I want to actually clean up this timing bit because again

1477
01:36:10,400 --> 01:36:14,200
the timing part is going to be specific as well.

1478
01:36:15,100 --> 01:36:20,000
So in this case, we can probably put anything here that's like oh hey.

1479
01:36:27,300 --> 01:36:31,100
In addition to a minute, Max velocity, let's have a camera meantime or

1480
01:36:31,100 --> 01:36:32,100
something like that.

1481
01:36:32,600 --> 01:36:36,400
And so it's going to be in here where we do that sort of special

1482
01:36:36,400 --> 01:36:43,900
camera if you're if you're greater than or equal to a certain

1483
01:36:43,900 --> 01:36:48,500
accumulator this accumulator will always happen, that will be camera.

1484
01:36:48,500 --> 01:36:50,400
T and special is greater than

1485
01:36:53,000 --> 01:36:55,900
Special camera Cameron in time.

1486
01:36:57,400 --> 01:37:02,800
And that way when we're creating these for the whole cam, we know that

1487
01:37:02,800 --> 01:37:07,900
we want the camera to have a minimum time that's not zero.

1488
01:37:08,000 --> 01:37:11,800
You know, we want that minimum time to be one s or whatever it is but

1489
01:37:11,800 --> 01:37:14,800
for the stairs, we don't really want there to be a minimum time.

1490
01:37:17,100 --> 01:37:20,500
So for the stairs that should happen, as soon as I'm in there, right?

1491
01:37:20,700 --> 01:37:24,500
And as soon as I'm out, it just an in, it does it?

1492
01:37:24,600 --> 01:37:27,200
But for this one, it should wait, right?

1493
01:37:27,900 --> 01:37:28,600
And not do it.

1494
01:37:28,600 --> 01:37:31,400
And furthermore, while I'm moving, I don't want to do it.

1495
01:37:31,500 --> 01:37:35,400
So now I have to start using those velocity constraints because those

1496
01:37:35,400 --> 01:37:36,400
have gone away now.

1497
01:37:36,900 --> 01:37:40,200
So, what I want to do is I want to put a general velocity constraint

1498
01:37:40,200 --> 01:37:40,800
on this one.

1499
01:37:40,800 --> 01:37:46,400
I want to say, okay, for this particular camera, I'm going to have a

1500
01:37:46,600 --> 01:37:50,400
Of the last 3, constraint, where the Min velocity can be as low as you

1501
01:37:50,400 --> 01:37:51,100
want.

1502
01:37:51,600 --> 01:37:55,600
But the max velocity can't be very high, right?

1503
01:37:56,700 --> 01:38:00,300
And then on these, for example, on the stairs, I just want it to

1504
01:38:00,300 --> 01:38:03,500
always, if you're on the stairs, you view the player like period.

1505
01:38:03,500 --> 01:38:08,100
I don't really want anything to interfere with that, but in this case,

1506
01:38:08,700 --> 01:38:12,500
I do want a camera direction of velocity constraint.

1507
01:38:15,500 --> 01:38:20,700
Where I would say, okay, there's a camera velocity direction of moving

1508
01:38:20,800 --> 01:38:28,400
in, why down the stairwell I want the Min velocity to be 0 and I want

1509
01:38:28,400 --> 01:38:31,500
the I'm sorry.

1510
01:38:31,700 --> 01:38:35,600
I want the minimum velocity to be like something in that direction and

1511
01:38:35,600 --> 01:38:38,200
the max velocity can be whatever you want.

1512
01:38:42,100 --> 01:38:43,600
Is it like maximum or something?

1513
01:38:53,200 --> 01:38:56,000
Where the max where are minimum and maximum values?

1514
01:39:13,300 --> 01:39:14,300
Still a little quick.

1515
01:39:18,000 --> 01:39:18,300
Whoops.

1516
01:39:20,600 --> 01:39:24,400
Just do a little quick update of these names to the new shorter names

1517
01:39:24,400 --> 01:39:27,800
which are nicer and they have nice syntax highlighting and for coder,

1518
01:39:27,800 --> 01:39:28,500
which is good.

1519
01:39:47,300 --> 01:39:47,600
Okay.

1520
01:40:00,200 --> 01:40:01,200
Where's the other one?

1521
01:40:01,200 --> 01:40:01,800
Third is

1522
01:40:05,700 --> 01:40:06,500
All right.

1523
01:40:07,300 --> 01:40:16,200
So now in theory anyway, when I come over to this thing, I should have

1524
01:40:16,200 --> 01:40:18,000
to have some velocity in that direction.

1525
01:40:18,000 --> 01:40:20,000
Before the camera moves in theory,

1526
01:40:23,600 --> 01:40:25,400
However, that theory appears to be wrong.

1527
01:40:33,300 --> 01:40:38,600
It seems like as long as I have any y velocity that that worked.

1528
01:40:41,900 --> 01:40:43,200
Which is not.

1529
01:40:44,900 --> 01:40:46,100
What I wanted at all.

1530
01:40:51,000 --> 01:40:53,500
Let's double check that camera velocity constraint.

1531
01:40:53,700 --> 01:40:56,500
They've got some buggy buggy booze in there.

1532
01:40:59,200 --> 01:40:59,800
See.

1533
01:41:03,400 --> 01:41:04,900
So, here's the directional.

1534
01:41:06,500 --> 01:41:07,400
Velocity.

1535
01:41:10,400 --> 01:41:11,100
Oh well.

1536
01:41:11,100 --> 01:41:18,000
Okay, so for starters, this is not correct now because

1537
01:41:19,300 --> 01:41:19,900
Yes.

1538
01:41:19,900 --> 01:41:23,100
Oh this inner product will not give you a square.

1539
01:41:23,700 --> 01:41:29,900
It'll actually just give you the the actual length along that vector.

1540
01:41:32,800 --> 01:41:35,300
So that shouldn't have been squaring it.

1541
01:41:35,600 --> 01:41:39,500
I don't know, F32 Max is probably a problem for squaring, not sure

1542
01:41:39,500 --> 01:41:39,800
what happens.

1543
01:41:39,800 --> 01:41:41,600
If you square the maximum value.

1544
01:41:42,300 --> 01:41:48,900
That could be a problem but and I guess also in here we would have

1545
01:41:48,900 --> 01:41:52,900
that same problem if someone used one of them ends with the Max's for

1546
01:41:52,900 --> 01:41:53,400
length squared.

1547
01:41:53,400 --> 01:41:57,500
So what I could do is say well alright let's just we'll do the actual

1548
01:41:57,500 --> 01:41:59,500
square root there, it's not that expensive anymore.

1549
01:42:03,800 --> 01:42:04,800
And leave it like that.

1550
01:42:06,400 --> 01:42:09,600
However, I don't know that that was really the bug.

1551
01:42:10,000 --> 01:42:13,200
So we're going to have to take a closer look at what's going on there,

1552
01:42:13,200 --> 01:42:13,700
but

1553
01:42:17,800 --> 01:42:18,800
maybe that was the bug.

1554
01:42:20,800 --> 01:42:22,100
So now it seems like it's working.

1555
01:42:30,000 --> 01:42:34,600
There's a little bit of a weird there shouldn't be any hard edges here

1556
01:42:34,600 --> 01:42:36,400
but it felt like there was one there.

1557
01:42:37,500 --> 01:42:41,800
The jerking back and forth of is natural because we're not modeling

1558
01:42:41,800 --> 01:42:46,000
acceleration yet but they're felt like there was actually a snap and I

1559
01:42:46,000 --> 01:42:49,500
don't feel like there should never be a snap at the moment because I

1560
01:42:49,500 --> 01:42:52,400
don't think we let there be any snapping.

1561
01:42:52,400 --> 01:42:55,000
Do we like there was definitely a snap there.

1562
01:42:59,300 --> 01:43:01,600
Right, you saw that.

1563
01:43:09,200 --> 01:43:12,400
So I feel like we still have a bit of a weird thing going on there.

1564
01:43:12,700 --> 01:43:15,400
I do wonder if that's the simulation region thing.

1565
01:43:22,000 --> 01:43:25,000
Because this should never really be doing any snapping.

1566
01:43:27,800 --> 01:43:33,400
It's only ever going to move by a small amount towards the Target in

1567
01:43:33,400 --> 01:43:38,500
any real case, unless these blue up somehow, maybe if these got set to

1568
01:43:38,500 --> 01:43:39,900
some really weird values.

1569
01:43:42,500 --> 01:43:43,100
But

1570
01:43:55,200 --> 01:43:58,200
But there should not have been that snapping, so that concerns me a

1571
01:43:58,200 --> 01:43:58,500
little.

1572
01:43:58,500 --> 01:44:02,900
I don't know if we have time to debug that right now, but that

1573
01:44:02,900 --> 01:44:04,500
shouldn't really be the case.

1574
01:44:04,500 --> 01:44:06,300
If something weird was happening there,

1575
01:44:14,200 --> 01:44:15,500
So that's also a problem.

1576
01:44:15,500 --> 01:44:22,200
Is the restoration, we almost need to look at the heroes push

1577
01:44:22,200 --> 01:44:27,800
direction because the what else so happens here is if I go downward

1578
01:44:28,100 --> 01:44:31,600
and then snap back, that counts is forward velocity.

1579
01:44:34,300 --> 01:44:40,400
On the hero, which we don't actually want to count for the stairs.

1580
01:44:42,300 --> 01:44:46,700
But anyway, what I'm working certain about the moment is that weird,

1581
01:44:46,700 --> 01:44:47,800
snapping Behavior.

1582
01:44:53,700 --> 01:44:55,700
And I do not know what that would be from.

1583
01:44:56,400 --> 01:44:59,600
Like I said, I can understand why if you're in overlapping.

1584
01:45:00,000 --> 01:45:04,800
Is you could get Jitter with the velocity because we're cold setting

1585
01:45:04,800 --> 01:45:10,000
that right now, but that snap seems excessive, it seems like we're

1586
01:45:10,100 --> 01:45:16,900
actually changing the position discontinuously not not through this.

1587
01:45:32,400 --> 01:45:34,500
So let me take a look at this here.

1588
01:45:40,700 --> 01:45:44,800
so, when we coming through here, you can see as we're doing this,

1589
01:45:44,800 --> 01:45:45,600
we've got

1590
01:45:51,100 --> 01:45:54,200
We're looking at all of these in World space.

1591
01:45:54,700 --> 01:45:55,100
I'm sorry.

1592
01:45:55,100 --> 01:45:56,900
In simulation space.

1593
01:45:57,900 --> 01:45:58,500
Right.

1594
01:45:59,100 --> 01:46:01,400
So all of this code is all in.

1595
01:46:05,500 --> 01:46:10,100
It's all in the space of the of the current region, all of this stuff.

1596
01:46:12,200 --> 01:46:18,500
And we set the Simulation Center based on that we set the target based

1597
01:46:18,500 --> 01:46:19,200
on that.

1598
01:46:22,100 --> 01:46:27,000
But this right here is

1599
01:46:28,900 --> 01:46:30,200
Is not really right?

1600
01:46:30,200 --> 01:46:30,800
Is it?

1601
01:46:31,100 --> 01:46:33,300
Because the cameras position?

1602
01:46:39,200 --> 01:46:41,700
Well, I guess it's okay because the cameras position has never really

1603
01:46:41,700 --> 01:46:42,900
been considered yet.

1604
01:46:43,000 --> 01:46:44,900
This new camera p is not a thing.

1605
01:46:46,500 --> 01:46:49,800
Right, that's just not involved at all.

1606
01:46:51,500 --> 01:46:56,000
So really, this is the first time we look at the camera position and

1607
01:46:58,200 --> 01:47:00,900
We should be able to unpack those relative to whatever we want.

1608
01:47:00,900 --> 01:47:03,400
We can certainly compact the Miller to the Simulation Center.

1609
01:47:03,400 --> 01:47:04,700
I don't see why we couldn't.

1610
01:47:07,600 --> 01:47:11,300
and then when we map the P back, it should just work that that does

1611
01:47:11,300 --> 01:47:11,800
seem

1612
01:47:21,000 --> 01:47:23,000
That does seem like totally reasonable thing.

1613
01:47:26,500 --> 01:47:27,600
Hmm.

1614
01:47:37,100 --> 01:47:37,900
I don't know.

1615
01:48:13,200 --> 01:48:18,100
it's it happened specifically when the Simulation Center changes so

1616
01:48:18,100 --> 01:48:21,300
that does give us a pretty good clue because you can see right here

1617
01:48:21,300 --> 01:48:22,500
that this little this

1618
01:48:24,300 --> 01:48:27,900
Yellow box anytime that discontinuous, jump happens.

1619
01:48:28,200 --> 01:48:30,400
That's what's going on, right?

1620
01:48:30,400 --> 01:48:31,700
You can see that happening.

1621
01:48:33,600 --> 01:48:39,300
So, I wonder if changing the Simulation Center definitely is part of

1622
01:48:39,300 --> 01:48:39,900
the problem.

1623
01:48:40,000 --> 01:48:43,400
I wonder if there's something happening outside, the camera code.

1624
01:48:43,400 --> 01:48:47,500
I don't remember how we're really doing anything outside with the

1625
01:48:47,500 --> 01:48:48,100
camera.

1626
01:48:50,600 --> 01:48:52,500
That would cause that jerkiness to happen.

1627
01:48:54,100 --> 01:48:59,000
Here is how we determine that Delta P when we do the simulate.

1628
01:49:02,300 --> 01:49:05,300
So it looks like what we're doing here is we're saying, alright, we're

1629
01:49:05,300 --> 01:49:06,900
going to simulate the world forward.

1630
01:49:09,300 --> 01:49:12,300
For some reason, we update the camera down here.

1631
01:49:13,700 --> 01:49:15,300
Which doesn't really make any sense.

1632
01:49:19,900 --> 01:49:22,600
That means it's going to be a frame behind, right?

1633
01:49:22,600 --> 01:49:26,500
Which is a little weird, so you would think you would do a begin Sim

1634
01:49:26,500 --> 01:49:27,900
then update the camera.

1635
01:49:27,900 --> 01:49:28,300
Like

1636
01:49:31,200 --> 01:49:32,700
Simulate update the camera.

1637
01:49:33,900 --> 01:49:38,200
And then set the camera like viewing right here.

1638
01:49:38,200 --> 01:49:42,700
I feel like this is kind of all a little bit tangled up to completely

1639
01:49:42,700 --> 01:49:43,200
honest.

1640
01:49:43,700 --> 01:49:45,700
Then we get the frame to frame camera, Delta

1641
01:49:48,200 --> 01:49:49,400
we would know what that was.

1642
01:49:49,500 --> 01:49:50,100
It would be.

1643
01:49:50,100 --> 01:49:51,200
You would just take it around here.

1644
01:49:51,200 --> 01:49:53,000
You wouldn't have to save it from frame to frame.

1645
01:49:53,500 --> 01:49:54,900
You just know what it was.

1646
01:49:58,500 --> 01:49:59,400
Directly there.

1647
01:50:04,900 --> 01:50:06,900
And I feel like that's a standard way to do stuff.

1648
01:50:08,300 --> 01:50:12,400
You know, if I look back here at when we're doing this, I don't I

1649
01:50:12,400 --> 01:50:15,700
don't really see any particular reason why this stuff can't be done

1650
01:50:16,900 --> 01:50:18,000
inside here.

1651
01:50:19,600 --> 01:50:20,100
Right.

1652
01:50:21,500 --> 01:50:27,000
Inside that cimmeria look like there's no and the Sim bounds like we

1653
01:50:27,000 --> 01:50:29,200
don't really want the same boundary based on the camera anymore.

1654
01:50:29,200 --> 01:50:31,900
So I feel like that was why that was happening before.

1655
01:50:35,500 --> 01:50:38,600
So I kind of feel like I want to untangle that a little bit as well

1656
01:50:38,600 --> 01:50:41,300
because I feel like that could easily be causing problems as well.

1657
01:50:41,300 --> 01:50:46,000
That it's also going to make the camera lag which is not great, right?

1658
01:50:49,500 --> 01:50:53,600
So I do think yeah we would want to do something like okay, you know

1659
01:50:53,600 --> 01:50:56,500
you want to simulate the world's here.

1660
01:50:57,300 --> 01:50:59,800
You want to update the camera?

1661
01:51:00,000 --> 01:51:04,300
Are you don't need to store this.

1662
01:51:04,400 --> 01:51:09,100
I don't think for any particular reason, I think you would just say

1663
01:51:09,500 --> 01:51:10,200
well

1664
01:51:15,000 --> 01:51:18,700
We can snap the location of the world's camera pee.

1665
01:51:21,300 --> 01:51:22,900
Before we do the update.

1666
01:51:27,600 --> 01:51:29,900
And then get the new one because that's in World space.

1667
01:51:29,900 --> 01:51:32,800
So it's always going to be the right amount.

1668
01:51:39,000 --> 01:51:42,200
And that's how much the particles would have to move.

1669
01:51:46,800 --> 01:51:47,300
Right.

1670
01:52:03,800 --> 01:52:05,700
So don't really know if this is a good time of doing this.

1671
01:52:05,700 --> 01:52:10,200
We don't have very much time left but you know what you going to do.

1672
01:52:10,800 --> 01:52:14,000
So if I did do that in here, you can see that we would do the update

1673
01:52:14,000 --> 01:52:14,200
here.

1674
01:52:14,200 --> 01:52:16,000
Then we do the update.

1675
01:52:16,400 --> 01:52:17,600
This is not right yet.

1676
01:52:17,600 --> 01:52:21,000
Because now we actually need to this as well.

1677
01:52:22,500 --> 01:52:23,500
We need to

1678
01:52:26,000 --> 01:52:28,000
Have the camera.

1679
01:52:28,600 --> 01:52:30,300
We have to have the camera Matrix stuff like that.

1680
01:52:30,300 --> 01:52:32,300
Get built after we actually do this.

1681
01:52:35,900 --> 01:52:40,300
Because now this is going to be wrong but at least that's in a senior

1682
01:52:40,300 --> 01:52:40,900
place.

1683
01:52:46,200 --> 01:52:47,400
Go ahead and hop down here.

1684
01:52:52,600 --> 01:52:54,800
See that shirk is still there.

1685
01:53:00,300 --> 01:53:06,200
Very interesting and yeah, so what I would need to do here is I need

1686
01:53:06,200 --> 01:53:07,900
to pull down this code.

1687
01:53:07,900 --> 01:53:09,800
That's actually setting the camera stuff up.

1688
01:53:12,000 --> 01:53:14,900
All of this stuff is fine because this is just default parameter

1689
01:53:14,900 --> 01:53:15,400
things.

1690
01:53:16,600 --> 01:53:19,600
I don't know about this part here.

1691
01:53:21,300 --> 01:53:24,900
again, we probably want to make this stuff a little bit cleaner, so

1692
01:53:27,000 --> 01:53:29,900
There's just a ton of camera stuff happening in here which is just

1693
01:53:29,900 --> 01:53:31,300
mostly for the debug stuff.

1694
01:53:31,500 --> 01:53:35,100
But then this is the thing that actually does the camera transform

1695
01:53:35,100 --> 01:53:35,800
creation.

1696
01:53:36,400 --> 01:53:38,800
This stuff here, and

1697
01:53:40,500 --> 01:53:43,900
The sun project is just some test codes.

1698
01:53:43,900 --> 01:53:45,700
We don't really need that in the moment.

1699
01:53:46,600 --> 01:53:47,700
So let's see.

1700
01:53:52,700 --> 01:53:55,700
The Sim bounds are just literally doing that.

1701
01:53:56,400 --> 01:53:59,900
So, we should be able to basically take all of this code and actually

1702
01:54:00,000 --> 01:54:02,300
We do it later, right?

1703
01:54:02,400 --> 01:54:03,600
We should be able to do that.

1704
01:54:03,600 --> 01:54:05,100
After we update the camera.

1705
01:54:16,400 --> 01:54:18,600
However, I don't actually know.

1706
01:54:22,500 --> 01:54:24,900
When we call simulate, I'm guessing that we're all.

1707
01:54:24,900 --> 01:54:29,700
So we have to have set the camera by that time.

1708
01:54:33,400 --> 01:54:36,600
Because otherwise I guess that's the best thing that'll get us.

1709
01:54:37,400 --> 01:54:41,200
That's actually going to do the rendering so we would rather set the

1710
01:54:41,200 --> 01:54:44,100
camera after we update, right?

1711
01:54:44,100 --> 01:54:47,800
Where the cause otherwise we're always a frame behind on the camera.

1712
01:54:48,300 --> 01:54:52,300
Now, go ahead and undo that because I won't have time to really do it

1713
01:54:54,200 --> 01:54:57,200
today, but I think that's worth disentangling, right?

1714
01:54:57,300 --> 01:55:01,000
Because I feel like we want to make sure that in simulate

1715
01:55:02,500 --> 01:55:07,100
In here update and render entities.

1716
01:55:11,800 --> 01:55:15,400
I feel like what we want to do there is we want to be able to do the

1717
01:55:15,400 --> 01:55:17,000
camera setting the camera.

1718
01:55:17,000 --> 01:55:23,900
After we've updated the entities basically we want to move them all

1719
01:55:24,700 --> 01:55:28,200
and then set the camera and we can still do that in a single pass.

1720
01:55:28,200 --> 01:55:33,200
If we want to write like we can still write out all the positions of

1721
01:55:33,200 --> 01:55:35,200
where we're going to draw the entities and just not have set the

1722
01:55:35,200 --> 01:55:37,300
camera transform yet, right?

1723
01:55:37,300 --> 01:55:39,800
I mean, that's still totally possible.

1724
01:55:40,800 --> 01:55:45,400
So I don't really know how we want to do that, but I feel like we will

1725
01:55:45,400 --> 01:55:46,300
want to do that.

1726
01:55:54,900 --> 01:55:56,100
Again, that's just my guess.

1727
01:55:57,000 --> 01:55:59,600
So I'm going to go ahead and put it to do in here and we'll look at it

1728
01:55:59,600 --> 01:56:00,300
next week.

1729
01:56:04,400 --> 01:56:06,900
So, inside here, where we are.

1730
01:56:13,200 --> 01:56:18,100
what I would like to do is say like okay yeah, you know, could we sort

1731
01:56:18,100 --> 01:56:18,500
of

1732
01:56:37,200 --> 01:56:39,600
And I feel like what we would want to do with that, right?

1733
01:56:39,600 --> 01:56:43,300
Is we'd want to say okay we're going to, we're going to go ahead and

1734
01:56:43,300 --> 01:56:44,700
start our quads.

1735
01:56:44,700 --> 01:56:50,200
Will push all the entity quads out in the you know, will basically

1736
01:56:50,200 --> 01:56:54,800
output all of our vertex buffer data but we just won't set the camera

1737
01:56:54,800 --> 01:56:57,200
transforms on the Viet, right?

1738
01:56:57,400 --> 01:56:59,800
And we'll want to set the camera transforms after we've already.

1739
01:57:00,000 --> 01:57:00,800
All that simulation.

1740
01:57:00,800 --> 01:57:03,500
And now we know where the camera should be will set it then.

1741
01:57:05,100 --> 01:57:06,700
I feel like that's what we actually want to do.

1742
01:57:06,700 --> 01:57:09,700
Now that doesn't even do it, the bug we were seeing necessarily it

1743
01:57:09,700 --> 01:57:11,500
just something that I think we would want to fix.

1744
01:57:12,000 --> 01:57:16,500
And so we'll fix that or at least we'll try to fix that next week.

1745
01:57:52,600 --> 01:57:57,000
I suffered V there seems to be a second problem with Starck, M1 versus

1746
01:57:57,000 --> 01:57:58,600
stare cam 2 IU.

1747
01:57:58,600 --> 01:58:02,400
You need to be moving even though you're on the first are so the

1748
01:58:02,400 --> 01:58:06,100
Collision areas are out a bit

1749
01:58:16,700 --> 01:58:20,200
I'm not sure I quite understand what you're referring to yet.

1750
01:58:21,100 --> 01:58:23,100
We haven't really gotten to the point where it's there.

1751
01:58:23,100 --> 01:58:24,700
Came one answer came to or done.

1752
01:58:24,800 --> 01:58:28,000
So there's a couple weird things about them, but I'm not sure what you

1753
01:58:28,000 --> 01:58:28,700
mean by.

1754
01:58:30,200 --> 01:58:33,500
The Collision areas are out a bit.

1755
01:58:38,700 --> 01:58:43,300
Brooke tag are the trees below smaller than the trees up top.

1756
01:58:49,600 --> 01:58:53,300
They should be because of the angle, right?

1757
01:58:55,000 --> 01:58:55,400
Yeah.

1758
01:58:55,400 --> 01:58:59,700
So these are a little steeper angle wise if that makes sense, although

1759
01:58:59,900 --> 01:59:04,000
it's hard to tell which one's taller really, but the reason is,

1760
01:59:04,000 --> 01:59:08,700
because these are pointing more directly up at us if that makes sense.

1761
01:59:09,000 --> 01:59:14,300
And the reason for that is we allowed there to be the, we allowed the

1762
01:59:14,300 --> 01:59:16,200
trees to be tilted in perspective.

1763
01:59:16,500 --> 01:59:19,200
So we don't have to, and

1764
01:59:19,300 --> 01:59:21,500
Know which one we should go with in the end.

1765
01:59:22,800 --> 01:59:28,400
But if you look at when we did our push quad, basically, what we did

1766
01:59:28,400 --> 01:59:32,900
is we allowed the z-axis to actually have some three dimensionality to

1767
01:59:32,900 --> 01:59:33,300
it.

1768
01:59:33,600 --> 01:59:38,900
So that's the completely orthographic tree where the tree is just

1769
01:59:38,900 --> 01:59:41,900
slapped on directly and then they're the same size on both of them,

1770
01:59:42,500 --> 01:59:46,100
but if I get rid of that, you can see that they're tilted and that

1771
01:59:46,100 --> 01:59:49,000
gives them a little bit of a perspective to them, right?

1772
01:59:49,600 --> 01:59:55,100
and so like as I go, you know, over to other places, you can see as

1773
01:59:55,100 --> 01:59:59,800
the camera moves, you know, the trees kind of shift a little if I

1774
02:00:00,000 --> 02:00:05,900
Make it so that I it's the camera was always focused on me directly.

1775
02:00:12,900 --> 02:00:14,600
which would basically be

1776
02:00:23,900 --> 02:00:24,500
This.

1777
02:00:25,200 --> 02:00:28,900
So now you can kind of see like if I'm walking along to see how

1778
02:00:28,900 --> 02:00:35,900
there's a perspective shift in the trees as we go, you can kind of see

1779
02:00:35,900 --> 02:00:37,000
how that that works.

1780
02:00:37,300 --> 02:00:38,600
That is what you're seeing there.

1781
02:00:38,600 --> 02:00:44,400
So you know, it's certainly a matter of preference which of these we

1782
02:00:44,400 --> 02:00:49,400
should go with again, if I was to turn that off in the render group

1783
02:00:49,400 --> 02:00:53,500
and just say no, then when you can see is kind of as I am

1784
02:00:53,700 --> 02:00:58,300
Walking around here, the trees, while they their positions relative,

1785
02:00:58,300 --> 02:01:02,700
to each other shift, based on how high up the block.

1786
02:01:02,700 --> 02:01:08,400
Is that they're on, they themselves will never shift their just strict

1787
02:01:08,400 --> 02:01:09,600
Sprite stamps.

1788
02:01:10,300 --> 02:01:12,700
Personally, I think I do

1789
02:01:14,800 --> 02:01:17,500
Prefer them shifted.

1790
02:01:19,600 --> 02:01:22,800
I don't know, it just that that extra tilt, add something.

1791
02:01:24,400 --> 02:01:25,600
For me visually.

1792
02:01:26,000 --> 02:01:29,600
So I kind of prefer it, I think, I don't know.

1793
02:01:29,600 --> 02:01:35,200
We'll see what happens but that's what's going on there.

1794
02:01:36,700 --> 02:01:39,900
But why not are you going to experiment zooming by changing the fov

1795
02:01:39,900 --> 02:01:41,300
rather than changing the distance?

1796
02:01:42,000 --> 02:01:43,300
No, probably not.

1797
02:01:43,300 --> 02:01:50,900
I am not like, I don't know that the fov really wants to change their.

1798
02:01:50,900 --> 02:01:53,300
We don't really want to compress the field of view for any particular

1799
02:01:53,300 --> 02:01:53,800
reason.

1800
02:01:54,300 --> 02:01:58,200
Like we're not going for a disorienting camera effect or anything, so

1801
02:02:10,000 --> 02:02:13,100
Why use velocity and not for instance, acceleration as a constraint

1802
02:02:13,100 --> 02:02:16,600
parameter, no particular reason we may we may want to use

1803
02:02:16,600 --> 02:02:17,800
acceleration, I don't know.

1804
02:02:17,800 --> 02:02:22,000
I'm just adding some stuff to the camera and it seemed like velocity

1805
02:02:22,000 --> 02:02:24,500
was the natural thing in this this particular point.

1806
02:02:24,800 --> 02:02:28,700
But we got a ways to go before, we're like having a nice camera.

1807
02:02:28,700 --> 02:02:32,300
So, you know, maybe we will use acceleration for things.

1808
02:02:42,900 --> 02:02:46,500
Why are the health bars flickering seems to be most notable because

1809
02:02:46,500 --> 02:02:48,000
that's just Z fighting right now.

1810
02:02:48,000 --> 02:02:54,000
We the health bars are kind of, we have not really done anything with

1811
02:02:54,000 --> 02:02:54,400
the health bars.

1812
02:02:54,500 --> 02:02:57,000
I don't even know why we're still drawing them because they're not

1813
02:02:57,000 --> 02:02:59,900
actually there for any particular purpose, but they happen to be

1814
02:03:00,000 --> 02:03:02,600
Right on the ground plane, which is, you know?

1815
02:03:02,600 --> 02:03:05,600
So you end up with with two things that are at the same Z and the

1816
02:03:05,600 --> 02:03:10,000
z-buffer can't resolve to things that are slightly off like that.

1817
02:03:10,300 --> 02:03:14,300
So what we want to do if you want to fix that, for some reason which

1818
02:03:14,300 --> 02:03:17,900
like I said, is not really important at this part point.

1819
02:03:19,300 --> 02:03:22,700
But if you take a look at the draw hip points thing here, when we're

1820
02:03:22,700 --> 02:03:26,100
doing this, I all you would need to do is make sure that they had some

1821
02:03:26,100 --> 02:03:27,900
Z to lift them up off the ground.

1822
02:03:28,100 --> 02:03:29,800
It's probably all you would really need to do.

1823
02:03:30,000 --> 02:03:35,400
Oh, so I don't know like a probably that would be sufficient.

1824
02:03:38,400 --> 02:03:38,900
Right?

1825
02:03:41,000 --> 02:03:43,100
So that's that's all that.

1826
02:03:43,100 --> 02:03:45,600
That's just the very traditional Z.

1827
02:03:45,600 --> 02:03:48,100
Fighting the same kind that you would.

1828
02:03:50,200 --> 02:03:51,200
See anywhere.

1829
02:03:51,700 --> 02:03:52,900
That's that's all that is.

1830
02:04:19,400 --> 02:04:21,600
Radovic or radovcich.

1831
02:04:21,600 --> 02:04:23,500
I don't know how you pronounce that off topic.

1832
02:04:23,500 --> 02:04:28,900
Is it normal for a trivial code change to lead to a 250 MB difference.

1833
02:04:28,900 --> 02:04:34,600
File is this an optimization mips architecture weirdness?

1834
02:04:36,600 --> 02:04:38,900
I guess I'm going to have to stop you right there.

1835
02:04:38,900 --> 02:04:44,400
And ask, are you saying that your executable is a quarter of a

1836
02:04:44,400 --> 02:04:45,900
gigabyte large?

1837
02:04:51,100 --> 02:04:53,700
And not just that it's a quarter of a gigabyte large.

1838
02:04:54,000 --> 02:04:57,500
But that it's actually a quarter of a gigabyte different in size than

1839
02:04:57,500 --> 02:05:00,300
it was previously, who knows how a big it actually is but at least a

1840
02:05:00,300 --> 02:05:01,300
quarter of a gigabyte.

1841
02:05:02,500 --> 02:05:09,200
Is that actual actually, what you were asking that sounds terrifying?

1842
02:05:18,300 --> 02:05:21,000
Brooke tag asked, what do you want to fit in the camera view, the

1843
02:05:21,000 --> 02:05:22,500
whole room or some amount of tiles?

1844
02:05:22,500 --> 02:05:24,300
So, camera movement per room is needed.

1845
02:05:24,900 --> 02:05:27,400
Again, I don't care yet.

1846
02:05:27,400 --> 02:05:31,500
I, I don't have any particular Desires in that area.

1847
02:05:31,800 --> 02:05:33,700
I just want to make sure

1848
02:05:39,800 --> 02:05:43,400
I just want to make sure that we support whatever we want.

1849
02:05:43,500 --> 02:05:46,700
So it should be easy to make the camera code do either is I guess what

1850
02:05:46,700 --> 02:05:47,300
I would say,

1851
02:05:53,800 --> 02:05:56,600
In the push bitmap function of the handmade render group.

1852
02:05:56,600 --> 02:05:58,800
You have a shadowed V4 parameter color.

1853
02:05:58,800 --> 02:05:59,800
That is masked by the youth.

1854
02:06:00,000 --> 02:06:05,100
You color compiles as a warning, which is an error in vs 2015.

1855
02:06:05,300 --> 02:06:05,600
Yeah.

1856
02:06:05,600 --> 02:06:11,300
If you want me to get rid of that for you, I can what function you

1857
02:06:11,300 --> 02:06:12,300
talking about.

1858
02:06:13,100 --> 02:06:14,600
Push bitmap

1859
02:06:31,900 --> 02:06:33,100
so, you're talking about this,

1860
02:06:38,500 --> 02:06:41,100
Well, yeah, but that's inside a new scope.

1861
02:06:41,100 --> 02:06:42,800
Why is it complaining about that?

1862
02:06:42,800 --> 02:06:43,900
That's not an error.

1863
02:06:47,100 --> 02:06:51,200
That's that's just anytime you open a scope.

1864
02:06:51,200 --> 02:06:54,300
You're allowed to override variables, that's just kind of dumb.

1865
02:06:57,500 --> 02:07:01,100
I mean, I'll change that, but I don't, I would just turn off that

1866
02:07:01,100 --> 02:07:05,800
warning because that's not a, I'm not super into that.

1867
02:07:09,100 --> 02:07:11,300
But here, if it helps.

1868
02:07:16,800 --> 02:07:18,400
That should get rid of that for you.

1869
02:07:21,000 --> 02:07:26,300
The other thing there was another thing that I remember recently that

1870
02:07:26,300 --> 02:07:28,800
we could take care of if we're doing that right now.

1871
02:07:40,300 --> 02:07:42,700
When building the platform, where you see, complains about the use of

1872
02:07:42,700 --> 02:07:43,800
push set up in handy, right?

1873
02:07:43,800 --> 02:07:47,800
- eh, push it up, is to find anywhere to CBP, but not included in the

1874
02:07:47,800 --> 02:07:48,800
platform layer.

1875
02:07:49,800 --> 02:07:56,600
And so what we need to do there is go, I think it's the problem is,

1876
02:07:56,600 --> 02:07:57,900
it's up here, right?

1877
02:07:59,300 --> 02:08:03,500
Yeah, this is transient cliprect that's doing that push setup.

1878
02:08:04,400 --> 02:08:06,800
So I suspect what we should probably do.

1879
02:08:07,100 --> 02:08:10,000
I don't know if we can do this or not, but let's

1880
02:08:10,900 --> 02:08:11,800
Try it.

1881
02:08:11,800 --> 02:08:17,700
Anyway, if I move this down here, what happens, okay, so I'm going to

1882
02:08:17,700 --> 02:08:22,500
move that into here and hopefully that solves the problem.

1883
02:08:26,300 --> 02:08:30,100
I moved push setups.

1884
02:08:31,400 --> 02:08:34,800
Usage into under group.

1885
02:08:51,000 --> 02:08:55,100
Hopefully, that will fix Kim's issue there.

1886
02:09:01,800 --> 02:09:03,000
She also might today.

1887
02:09:07,700 --> 02:09:08,200
All right.

1888
02:09:19,500 --> 02:09:21,700
Team R&B does the profiler still work?

1889
02:09:21,700 --> 02:09:23,600
If not what is a quick overview of the work?

1890
02:09:23,600 --> 02:09:25,000
That is needed to get it working again.

1891
02:09:25,000 --> 02:09:28,800
And was it purely a display issue that we could not see it?

1892
02:09:29,900 --> 02:09:31,400
Yes, that is.

1893
02:09:32,400 --> 02:09:34,200
That is correct.

1894
02:09:34,200 --> 02:09:35,100
So,

1895
02:09:38,500 --> 02:09:42,400
if you take a look at

1896
02:09:43,500 --> 02:09:44,700
It is display.

1897
02:09:46,100 --> 02:09:47,900
If you take a look at the profile here.

1898
02:09:48,100 --> 02:09:50,100
What's happening is this?

1899
02:09:50,200 --> 02:09:55,100
We we don't really use cliprect very often they're mostly used here.

1900
02:09:56,300 --> 02:09:59,700
But what you can sort of see, is we have a bunch of like you can even

1901
02:09:59,700 --> 02:10:02,500
see the profiler is popping up a tooltip here, right?

1902
02:10:03,400 --> 02:10:08,300
But basically, what we have is for one of two possible reasons.

1903
02:10:08,600 --> 02:10:13,200
Either a we are because we are drawing this background.

1904
02:10:13,300 --> 02:10:18,800
And in the wrong order, the Z buffer is preventing the actual text

1905
02:10:18,800 --> 02:10:20,700
from showing up, right?

1906
02:10:21,100 --> 02:10:21,500
Is thing.

1907
02:10:21,500 --> 02:10:27,300
One thing too, is if the cliprect setting is wrong, then we would have

1908
02:10:27,300 --> 02:10:28,000
that as well.

1909
02:10:28,300 --> 02:10:32,200
And in fact, that looks, you can see that looks like a cliprect

1910
02:10:32,200 --> 02:10:35,800
problem there because hey, that's that's, um,

1911
02:10:37,800 --> 02:10:39,800
That's some profile data right there as well.

1912
02:10:40,100 --> 02:10:44,400
So I believe the problem at the moment is just that when we're doing

1913
02:10:44,400 --> 02:10:49,200
our clip rectangles for whatever reason our clip rectangles when we

1914
02:10:49,200 --> 02:10:52,500
updated the renderer to the 3D renderer we are no longer processing

1915
02:10:52,500 --> 02:10:55,000
clip, rectangles properly.

1916
02:10:55,900 --> 02:10:59,400
So we need to handle those, right?

1917
02:11:00,600 --> 02:11:03,500
And there's two places if we wanted to fix them.

1918
02:11:03,500 --> 02:11:06,100
I'm not gonna fix them now, but there's two places that we have to

1919
02:11:06,100 --> 02:11:07,400
make sure we get bright.

1920
02:11:08,100 --> 02:11:12,900
So one of them is like you can see in the debug assume, it's in the

1921
02:11:12,900 --> 02:11:15,400
debug you I let me look and see where we're setting it.

1922
02:11:23,100 --> 02:11:25,100
So there's one of them.

1923
02:11:33,000 --> 02:11:36,100
So here's like some of that profiling stuff, right?

1924
02:11:36,100 --> 02:11:41,700
And you've got the clip rect here and it's doing this call with the

1925
02:11:41,700 --> 02:11:45,300
backing transform bounds blah blah blah, right.

1926
02:11:45,800 --> 02:11:49,000
So when we do that Gap, get cliprect call.

1927
02:11:49,900 --> 02:11:52,600
That is something that needs to be done correctly.

1928
02:11:52,600 --> 02:11:53,200
So you can see.

1929
02:11:53,200 --> 02:11:58,000
And here we have again, cliprect call, that's doing whatever it's

1930
02:11:58,000 --> 02:11:59,900
doing here, it's then producing.

1931
02:12:00,000 --> 02:12:02,200
Result that has to be used as a clip.

1932
02:12:02,200 --> 02:12:06,600
Rect, the problem with this probably at this point, is it probably

1933
02:12:06,600 --> 02:12:09,000
needs to get fed through the actual transform.

1934
02:12:09,800 --> 02:12:10,400
Right.

1935
02:12:10,800 --> 02:12:13,500
We now have that camera transform from set up.

1936
02:12:13,500 --> 02:12:15,700
None of this stuff is going through it, right?

1937
02:12:18,800 --> 02:12:20,400
So I think that's probably most of it.

1938
02:12:25,500 --> 02:12:27,900
You know, just looking at this here.

1939
02:12:36,900 --> 02:12:40,900
Yeah, so my guess is right inside the render group, we've got the

1940
02:12:40,900 --> 02:12:44,600
render transform, I would probably want and also last setup.

1941
02:12:47,900 --> 02:12:52,100
So probably what we want to do is is actually use that last set up.

1942
02:12:52,100 --> 02:12:56,900
This thing here probably want to do is use the projection Matrix and

1943
02:12:56,900 --> 02:12:58,800
actually do it.

1944
02:12:59,300 --> 02:13:03,000
So you probably want the offset and the dimension, right?

1945
02:13:04,800 --> 02:13:06,500
I don't know what space.

1946
02:13:06,500 --> 02:13:08,900
The dimension is getting passed down by.

1947
02:13:10,600 --> 02:13:13,800
That's a good question and we should figure out how we're doing that.

1948
02:13:14,000 --> 02:13:16,900
So here we're doing bounds the bounds.

1949
02:13:17,200 --> 02:13:17,500
So the

1950
02:13:17,600 --> 02:13:25,000
Boundary that it's using is actually going to be in World space.

1951
02:13:25,000 --> 02:13:28,500
It looks like it's an XY boundary.

1952
02:13:29,200 --> 02:13:33,100
So presumably what you want to do there say like okay, you know, the

1953
02:13:33,200 --> 02:13:39,100
Min corner is the offset, the max corner is the offset plus the dim

1954
02:13:44,100 --> 02:13:47,300
And then presumably you want to transfer these to, right?

1955
02:13:47,800 --> 02:13:53,100
So you want to do something like group last set up Raj times.

1956
02:13:57,100 --> 02:13:58,800
So, you want to like push?

1957
02:14:01,500 --> 02:14:04,500
The corners of this new clip rectangle through.

1958
02:14:05,500 --> 02:14:06,900
We also have an object transform.

1959
02:14:06,900 --> 02:14:10,000
So if I remember correctly, the up transformed just has all that has

1960
02:14:10,000 --> 02:14:11,600
an is an offset now.

1961
02:14:12,500 --> 02:14:14,300
So you'd want to do like offset pee.

1962
02:14:19,500 --> 02:14:22,800
And then I think you'd have everything you need because once those go

1963
02:14:22,800 --> 02:14:29,500
through the projection Matrix now they're in clip space properly.

1964
02:14:29,700 --> 02:14:33,900
So all you would need to do is do a min max

1965
02:14:48,800 --> 02:14:49,600
And you'd be done.

1966
02:14:49,600 --> 02:14:52,900
The problem is you need to adjust for the window bounds here because

1967
02:14:53,600 --> 02:14:56,200
this again once this comes out of here it's going to be in the

1968
02:14:56,200 --> 02:14:59,900
negative one to one space and so you need to do

1969
02:15:00,100 --> 02:15:04,900
The divide the perspective, divide and then you need to do what, you

1970
02:15:04,900 --> 02:15:05,000
know.

1971
02:15:05,000 --> 02:15:06,000
Again, we could do.

1972
02:15:18,300 --> 02:15:21,900
But then you need to actually adjust it out to the window rectangle.

1973
02:15:21,900 --> 02:15:26,400
And so we probably want to actually we probably want a utility

1974
02:15:26,400 --> 02:15:30,600
function for this as well but you know that's that's actually known it

1975
02:15:30,600 --> 02:15:32,300
since it's screened in here.

1976
02:15:33,100 --> 02:15:35,400
So we want to like produce.

1977
02:15:36,300 --> 02:15:41,900
We want to put these into two screen spaces so you know probably we

1978
02:15:41,900 --> 02:15:44,800
want something like this where we just be able to say, you know,

1979
02:15:47,100 --> 02:15:49,200
Cat screen point.

1980
02:15:54,300 --> 02:15:58,200
something like that where you'd be able to just pass one of these in

1981
02:15:58,200 --> 02:15:59,800
and say, like okay, you know,

1982
02:16:08,500 --> 02:16:10,100
Here's the world pee.

1983
02:16:14,200 --> 02:16:15,300
We transform it.

1984
02:16:18,100 --> 02:16:23,400
And you know do the synthetic divided we then say all right now we

1985
02:16:23,400 --> 02:16:27,100
have to transform it to a screen space so we're going to take the the

1986
02:16:27,100 --> 02:16:31,900
PX and that's going from negative 1 to 1.

1987
02:16:32,100 --> 02:16:34,900
We need to go from 0 to 1 basically, right.

1988
02:16:34,900 --> 02:16:41,400
So we need to do like one point 0 plus and we need to do half of it

1989
02:16:41,400 --> 02:16:45,100
right because we want the negative one to one map 2021.

1990
02:16:45,400 --> 02:16:47,500
We want to add that to the screen dimension

1991
02:16:48,299 --> 02:16:50,400
Or rather, we want to multiply that by the screen dimension.

1992
02:16:50,799 --> 02:16:53,200
We also have the problem of wanting to be

1993
02:16:54,900 --> 02:16:58,400
Centered, it's going negative 1 to 1 which is 0 to 1.

1994
02:17:00,000 --> 02:17:01,200
I think that's it, right?

1995
02:17:01,299 --> 02:17:04,200
So, it's, it should just be the screen dimension.

1996
02:17:04,200 --> 02:17:06,600
X x.

1997
02:17:07,299 --> 02:17:08,700
Yeah, I mean, what you're looking at here,

1998
02:17:13,400 --> 02:17:14,000
I think.

1999
02:17:26,900 --> 02:17:32,600
don't quote me on that because it's probably all wrong, but when you,

2000
02:17:33,500 --> 02:17:38,200
after you've got that with, any can just do get screen, Point group

2001
02:17:38,200 --> 02:17:42,900
table, transform offset and the max corner is

2002
02:17:44,100 --> 02:17:46,000
Group transform.

2003
02:17:49,200 --> 02:17:51,799
I'll set plus GM 0.

2004
02:17:51,799 --> 02:17:52,500
0 0.

2005
02:17:57,400 --> 02:17:59,799
So, something like this is what you're looking for.

2006
02:18:00,500 --> 02:18:03,200
And let me see here.

2007
02:18:03,200 --> 02:18:04,400
Offset P must have caught.

2008
02:18:04,400 --> 02:18:05,600
Yes, that's true.

2009
02:18:08,600 --> 02:18:10,900
And this is a transform.

2010
02:18:16,000 --> 02:18:16,900
No.

2011
02:18:19,500 --> 02:18:21,500
How to do the 4 by 4 here.

2012
02:18:24,200 --> 02:18:24,700
Poop.

2013
02:18:34,799 --> 02:18:37,400
Although actually do I even need to call transform, does it just do

2014
02:18:37,400 --> 02:18:37,600
it?

2015
02:18:37,600 --> 02:18:39,799
If I put in a for element one?

2016
02:18:39,799 --> 02:18:40,900
They're probably does.

2017
02:18:41,700 --> 02:18:43,000
That's probably how I wrote it right.

2018
02:18:43,100 --> 02:18:43,299
Yeah.

2019
02:18:45,200 --> 02:18:46,500
Scream dim is Undeclared.

2020
02:18:46,500 --> 02:18:50,700
That's okay, I just got access it off of the group so that should do

2021
02:18:50,700 --> 02:18:52,200
the transfer and map it to the screen.

2022
02:18:59,900 --> 02:19:01,799
And these need to be rounded after that.

2023
02:19:08,799 --> 02:19:11,200
To force them to integer coordinates.

2024
02:19:11,799 --> 02:19:14,500
So that's not going to work because I mean, I just slammed a bunch of

2025
02:19:14,500 --> 02:19:18,200
stuff in there and it's going to be wrong but that's roughly what

2026
02:19:18,200 --> 02:19:19,000
you're looking at.

2027
02:19:19,000 --> 02:19:23,299
So now you got to go to bug that path and and get that, you know, you

2028
02:19:23,299 --> 02:19:26,400
can see it's getting closer to working, right?

2029
02:19:27,000 --> 02:19:31,700
But it's not quite there and so you just got to look.

2030
02:19:31,900 --> 02:19:32,299
Yeah.

2031
02:19:32,400 --> 02:19:34,600
And see what's, what's up here?

2032
02:19:35,400 --> 02:19:37,600
But that's should be what you need to do.

2033
02:19:37,600 --> 02:19:39,100
You do the transform?

2034
02:19:46,900 --> 02:19:48,500
Do the synthetic divide?

2035
02:19:50,900 --> 02:19:53,100
Then you're in - 121 space.

2036
02:19:55,100 --> 02:19:56,200
Did I meant that correctly?

2037
02:19:57,700 --> 02:19:58,600
Let's see if I did.

2038
02:20:03,800 --> 02:20:07,700
So I have a equation here, right?

2039
02:20:07,700 --> 02:20:17,300
Where I am going to pass in and f of x and I want f of x.

2040
02:20:18,700 --> 02:20:19,600
To equal something.

2041
02:20:19,600 --> 02:20:21,100
We don't see with that is quite yet.

2042
02:20:21,300 --> 02:20:26,600
I need f of negative 1 to equal 0.

2043
02:20:27,000 --> 02:20:34,100
I need F of 1 to equal the height of the screen or the width of the

2044
02:20:34,100 --> 02:20:35,700
screen W.

2045
02:20:39,000 --> 02:20:44,300
And so I want this equation to look, you know, it's just going to be

2046
02:20:44,300 --> 02:20:47,500
some kind of linear equations so I want it to be like an ax.

2047
02:20:48,400 --> 02:20:50,000
Plus be right.

2048
02:20:51,200 --> 02:20:53,000
So substituting in there.

2049
02:20:53,000 --> 02:20:59,800
I have ax plus b, if f of negative 1,

2050
02:21:01,700 --> 02:21:03,200
Is the equals 0.

2051
02:21:03,500 --> 02:21:13,600
That means I also equal a or negative a plus B has to equal 0 and F of

2052
02:21:13,600 --> 02:21:15,600
1 means that

2053
02:21:19,700 --> 02:21:21,600
A plus B has to equal W.

2054
02:21:22,300 --> 02:21:28,400
So in this case, I could say, for example, if I just solve this guy

2055
02:21:28,400 --> 02:21:35,000
here, what I end up getting is a has to equal be right?

2056
02:21:35,000 --> 02:21:37,100
That what that looks like, that's what that looks like to me.

2057
02:21:38,300 --> 02:21:42,800
And in this case if I can sub that in then I basically know that W has

2058
02:21:42,800 --> 02:21:47,600
to equal to a right or a

2059
02:21:47,800 --> 02:21:50,300
Balls with over 2.

2060
02:21:53,300 --> 02:21:54,200
So it looks like anyway.

2061
02:21:55,100 --> 02:21:58,400
So what the equation would be that does that mapping is just going to

2062
02:21:58,400 --> 02:22:03,300
be with over 2x plus with over to, right?

2063
02:22:05,600 --> 02:22:08,200
And that does look like it works because it's zero.

2064
02:22:08,200 --> 02:22:11,000
It you just get the middle of the screen which is that I want negative

2065
02:22:11,000 --> 02:22:11,400
1.

2066
02:22:11,400 --> 02:22:13,400
I get zero at positive when I get, right?

2067
02:22:13,400 --> 02:22:15,100
So that's, it's all right.

2068
02:22:18,000 --> 02:22:20,400
So, let's see if that's what I actually got here or what I was

2069
02:22:20,400 --> 02:22:21,100
actually doing.

2070
02:22:21,100 --> 02:22:22,600
There's the with over 2.

2071
02:22:29,300 --> 02:22:33,700
And so if I wanted to pull this out, I would just get with over 2x

2072
02:22:34,400 --> 02:22:35,300
plus 1.

2073
02:22:37,600 --> 02:22:39,400
And hey, that's exactly what I get, right.

2074
02:22:39,400 --> 02:22:40,900
If I just rearrange these terms,

2075
02:22:46,300 --> 02:22:48,900
So, I'm pretty sure that mapping is correct.

2076
02:22:52,000 --> 02:22:53,200
That all looks good to me.

2077
02:22:53,500 --> 02:22:56,300
So, yeah, there's something more subtle wrong here.

2078
02:22:56,300 --> 02:22:58,900
Like I said, I don't know that I super have time to debug it today

2079
02:22:59,800 --> 02:23:02,200
because I wasn't that wasn't one of the main things.

2080
02:23:02,200 --> 02:23:03,100
We're going to do an episode.

2081
02:23:03,700 --> 02:23:07,700
But we do we, you know, once you get a reasonable thing, working here

2082
02:23:07,700 --> 02:23:08,900
forgets, Greenpoint,

2083
02:23:11,700 --> 02:23:12,800
You should be good to go.

2084
02:23:13,300 --> 02:23:13,800
I

2085
02:23:16,700 --> 02:23:19,300
guess I don't know what they're doing in terms of Z coordinates that

2086
02:23:19,300 --> 02:23:20,100
they're passing in there.

2087
02:23:20,100 --> 02:23:22,000
Hopefully they're passing in reasons because but it's worth the

2088
02:23:22,000 --> 02:23:23,200
graphic, so it shouldn't matter.

2089
02:23:33,300 --> 02:23:34,700
Yeah, so I think that's all reasonable.

2090
02:23:34,800 --> 02:23:40,000
The other question that you have to look at two after you can, if you

2091
02:23:40,000 --> 02:23:43,300
can verify it, it's pretty easy to test get screen point because you

2092
02:23:43,300 --> 02:23:45,000
should be able to just

2093
02:23:46,800 --> 02:23:49,300
look at what some scream points end up being equal to

2094
02:23:50,900 --> 02:23:54,100
like moving asking about the corners was going to say, is the other

2095
02:23:54,100 --> 02:23:56,800
thing you have to do is the clip.

2096
02:23:56,800 --> 02:23:58,900
Rex are done with the GL scissor call.

2097
02:24:00,000 --> 02:24:04,800
and so, the GL scissor call is going to

2098
02:24:05,800 --> 02:24:07,300
You don't care about this.

2099
02:24:07,300 --> 02:24:12,500
This is the one care about the GL scissor call is going to be

2100
02:24:12,600 --> 02:24:13,400
interpreted.

2101
02:24:13,400 --> 02:24:15,800
I want to say relative to the viewport

2102
02:24:21,300 --> 02:24:23,000
Or rather that the viewport.

2103
02:24:25,300 --> 02:24:25,700
Yeah.

2104
02:24:26,200 --> 02:24:30,700
The the scissor and the viewport interact in a weird way as well and

2105
02:24:30,700 --> 02:24:33,800
so you'd have to double-check that that's

2106
02:24:38,900 --> 02:24:40,800
but that's getting set in a reasonable way to

2107
02:24:50,800 --> 02:24:52,700
But I think that should be fine.

2108
02:25:04,400 --> 02:25:10,000
I'm not sure where clip scalex and clip scale.

2109
02:25:10,000 --> 02:25:14,900
Why are coming from here?

2110
02:25:14,900 --> 02:25:16,300
I don't know what this is for.

2111
02:25:17,900 --> 02:25:19,700
The width of the drawer region.

2112
02:25:20,900 --> 02:25:23,900
Versus the width that the thing is supposed to be.

2113
02:25:28,700 --> 02:25:31,700
So that looks like, we're just accommodating for the fact that we

2114
02:25:31,700 --> 02:25:33,200
might be drawing.

2115
02:25:42,900 --> 02:25:45,100
I don't know why that's there.

2116
02:25:59,800 --> 02:26:04,300
I understand why this is here because this is in the case where again

2117
02:26:04,300 --> 02:26:09,300
we have, yeah, that rennet are zero, we're not doing this anymore.

2118
02:26:10,700 --> 02:26:15,800
Either because we're you know, we have a multi sample buffer so that's

2119
02:26:16,100 --> 02:26:17,700
doubly not relevant.

2120
02:26:18,900 --> 02:26:23,100
So I do wonder about this stuff because we'd had this in their before

2121
02:26:24,000 --> 02:26:26,000
for dealing with clipping rectangles.

2122
02:26:28,400 --> 02:26:31,500
When we weren't drawing to particular size, frame buffer, but that's

2123
02:26:31,500 --> 02:26:33,000
not what we're doing anymore.

2124
02:26:33,500 --> 02:26:35,900
So I feel like those are not relevant super relevant.

2125
02:26:35,900 --> 02:26:41,700
They don't have anything to do with this probably but we just we just

2126
02:26:41,700 --> 02:26:42,200
see

2127
02:26:51,700 --> 02:26:53,300
We have some interesting stuff to look at there.

2128
02:26:53,300 --> 02:26:55,900
We should look at this because that's we should look at both of these.

2129
02:26:55,900 --> 02:26:57,100
Because we also have this

2130
02:27:00,800 --> 02:27:02,300
Is there anything like it leaves?

2131
02:27:05,700 --> 02:27:08,100
Previous copy getting listed on there, I guess.

2132
02:27:10,400 --> 02:27:11,600
That never gets cleared.

2133
02:27:14,400 --> 02:27:15,700
She should also take a look at that.

2134
02:27:20,100 --> 02:27:23,300
But again, it doesn't look like we need those cliprect.

2135
02:27:25,600 --> 02:27:28,100
It doesn't look like this is relevant anymore because since we have to

2136
02:27:28,100 --> 02:27:30,000
render to an off-screen Target now.

2137
02:27:48,600 --> 02:27:49,800
We should probably get rid of this.

2138
02:28:09,300 --> 02:28:13,900
So yeah, I think again, like I said, Timur and be, that's really what

2139
02:28:13,900 --> 02:28:14,700
you need to debug.

2140
02:28:14,700 --> 02:28:19,000
If you want the profiler back, the other thing you can do is turn off

2141
02:28:19,000 --> 02:28:19,300
the clip.

2142
02:28:19,300 --> 02:28:21,600
Rect for, in short order, right?

2143
02:28:21,600 --> 02:28:27,200
So like if you really just want it there and you don't want to have to

2144
02:28:27,400 --> 02:28:31,700
debug the new render stuff for the clipping code.

2145
02:28:32,000 --> 02:28:37,200
What you can do is, you know, I pretty sure that nobody really uses.

2146
02:28:37,300 --> 02:28:40,100
Transient cliprect except that a bug system.

2147
02:28:40,500 --> 02:28:44,700
So what you can do is just not do it, right?

2148
02:28:44,700 --> 02:28:45,800
You could just say

2149
02:28:51,800 --> 02:28:52,000
Oops.

2150
02:28:56,800 --> 02:29:03,600
Like so and then I the clipping is off and so then, you know, you can

2151
02:29:03,600 --> 02:29:06,800
get the print out, just fine.

2152
02:29:07,400 --> 02:29:14,000
But it's it's going to, you know, it overflows by why, it doesn't clip

2153
02:29:14,000 --> 02:29:17,000
clean to that location.

2154
02:29:18,500 --> 02:29:18,900
But yeah.

2155
02:29:20,100 --> 02:29:24,200
So, that's what you got to do, if you want that working properly

2156
02:29:24,200 --> 02:29:24,500
again.

2157
02:29:25,200 --> 02:29:28,700
You probably would also want to go fix the text rendering order, so

2158
02:29:28,700 --> 02:29:32,900
that it's easier to read and stuff like that, but that's about it.

2159
02:29:41,200 --> 02:29:43,800
Can you click threads on the profile window?

2160
02:29:44,500 --> 02:29:47,600
You mean with with the clipping disabled or

2161
02:30:10,700 --> 02:30:11,100
Oops.

2162
02:30:26,900 --> 02:30:27,400
Is this this?

2163
02:30:27,400 --> 02:30:28,400
What we're talking about?

2164
02:31:03,900 --> 02:31:05,400
Um, so yeah.

2165
02:31:06,800 --> 02:31:07,300
So that's it.

2166
02:31:07,300 --> 02:31:09,300
It's just fixing this clipping rectangle, that's it.

2167
02:31:10,400 --> 02:31:13,600
All right, I am going to sign off now.

2168
02:31:15,800 --> 02:31:16,900
And the mouse over text.

2169
02:31:17,400 --> 02:31:21,500
Again, I it works just fine except for the fact that the text draw

2170
02:31:21,500 --> 02:31:22,800
order is backwards.

2171
02:31:23,100 --> 02:31:24,400
I think a lot of the zebras are.

2172
02:31:24,400 --> 02:31:31,600
So I think it's underneath, when you Mouse over, I'm pretty sure

2173
02:31:31,600 --> 02:31:32,600
you're always getting

2174
02:31:34,500 --> 02:31:40,300
You be pretty sure you're always getting the situation where you draw

2175
02:31:40,300 --> 02:31:42,500
them, hover text first, and then back.

2176
02:31:42,500 --> 02:31:47,000
So all that stuff had to be cleaned up if for the 3D render in the

2177
02:31:47,000 --> 02:31:47,500
future.

2178
02:31:50,600 --> 02:31:51,100
All right.

2179
02:31:56,000 --> 02:31:57,300
Okay.

2180
02:32:01,700 --> 02:32:03,800
Thank you everyone for joining me, for those sort of handmade here at

2181
02:32:03,800 --> 02:32:04,800
sort of pleasure coding with you.

2182
02:32:04,800 --> 02:32:08,600
As always, if you would like to follow along at home, you can always

2183
02:32:08,600 --> 02:32:11,800
order the source code or rather, you can pre-order the game which

2184
02:32:11,800 --> 02:32:16,300
comes to the source code on handmade hero dot org and play around with

2185
02:32:16,300 --> 02:32:16,700
it yourself.

2186
02:32:16,700 --> 02:32:20,500
We also have a forum site and go to if you want to ask questions to

2187
02:32:20,500 --> 02:32:23,500
patreon page, from us about the video series, the schedule bot that

2188
02:32:23,500 --> 02:32:27,100
lets, you know, we're going to be live and episode guide that you can

2189
02:32:27,100 --> 02:32:27,700
go to.

2190
02:32:29,000 --> 02:32:32,800
if you would like to catch up on old episodes,

2191
02:32:35,300 --> 02:32:36,100
that's it for this week.

2192
02:32:36,100 --> 02:32:37,200
I'll be back next weekend.

2193
02:32:38,600 --> 02:32:41,300
Where we can do some more camera code and get that working a little

2194
02:32:41,300 --> 02:32:46,400
more cleanly and maybe add a couple more things like room room to room

2195
02:32:46,400 --> 02:32:50,000
movement and zooming to the right level for various rooms or other

2196
02:32:50,000 --> 02:32:51,200
things like that we might want to do.

2197
02:32:52,300 --> 02:32:54,900
And again that's just to get us in a place where we're comfortable

2198
02:32:54,900 --> 02:32:57,600
that the camera is performing reasonably doesn't have to be perfect

2199
02:32:57,600 --> 02:33:00,900
shipping quality camera but it has to be relatively close so we know

2200
02:33:00,900 --> 02:33:01,500
that that's going.

2201
02:33:01,500 --> 02:33:04,200
Okay, that's about it.

2202
02:33:04,400 --> 02:33:07,800
Hope you all have a good week of programming and I'll see you on the

2203
02:33:07,800 --> 02:33:08,000
internet.

2204
02:33:08,200 --> 02:33:09,000
Take it easy, everybody.

